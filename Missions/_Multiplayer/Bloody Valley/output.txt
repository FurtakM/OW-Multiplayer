// export def_tree_function ; export is_depot , number_of_breastworks , number_of_people , skill_level , starting_crates , starting_resources , shipments_density , morale_decreasing_time , respawning_time_min , respawning_time_max , siberite_bomb_Delay , amount_of_apemen , tree_function , def_win_rules ; export Side_Teams , Teams , Side_Comps ; export Side_Positions , Side_Nations , Team_Game ; export depot_def , breastworks_def , start_def , battle_flags_id ; export normal_oil_deposits_locations , extra_oil_deposits_locations , normal_sib_deposits_locations ; export heroes ; var commander ; var global_units , global_defined , soldiers_created ; var neng , nsci , nmech , nsol ; function mp_sides_comps ; var c , i ; begin
   0: LD_INT 0
   2: PPUSH
   3: PPUSH
   4: PPUSH
// c = [ ] ;
   5: LD_ADDR_VAR 0 2
   9: PUSH
  10: EMPTY
  11: ST_TO_ADDR
// for i = 1 to 8 do
  12: LD_ADDR_VAR 0 3
  16: PUSH
  17: DOUBLE
  18: LD_INT 1
  20: DEC
  21: ST_TO_ADDR
  22: LD_INT 8
  24: PUSH
  25: FOR_TO
  26: IFFALSE 51
// c = c ^ Multiplayer_GetPlayerIsComp ( i ) ;
  28: LD_ADDR_VAR 0 2
  32: PUSH
  33: LD_VAR 0 2
  37: PUSH
  38: LD_VAR 0 3
  42: PPUSH
  43: CALL_OW 532
  47: ADD
  48: ST_TO_ADDR
  49: GO 25
  51: POP
  52: POP
// result = c ;
  53: LD_ADDR_VAR 0 1
  57: PUSH
  58: LD_VAR 0 2
  62: ST_TO_ADDR
// end ;
  63: LD_VAR 0 1
  67: RET
// function read_multiplayer_and_game_parameters ; var i , tech_level ; begin
  68: LD_INT 0
  70: PPUSH
  71: PPUSH
  72: PPUSH
// if Multiplayer then
  73: LD_OWVAR 4
  77: IFFALSE 141
// begin Your_Side := mp_player_side ;
  79: LD_ADDR_OWVAR 2
  83: PUSH
  84: LD_OWVAR 7
  88: ST_TO_ADDR
// Side_Positions := mp_sides_positions ;
  89: LD_ADDR_EXP 19
  93: PUSH
  94: LD_OWVAR 17
  98: ST_TO_ADDR
// Side_Teams := mp_sides_teams ;
  99: LD_ADDR_EXP 16
 103: PUSH
 104: LD_OWVAR 15
 108: ST_TO_ADDR
// Side_Nations := mp_sides_nations ;
 109: LD_ADDR_EXP 20
 113: PUSH
 114: LD_OWVAR 16
 118: ST_TO_ADDR
// Side_Comps = mp_sides_comps ;
 119: LD_ADDR_EXP 18
 123: PUSH
 124: CALL 0 0 0
 128: ST_TO_ADDR
// Teams := mp_teams ;
 129: LD_ADDR_EXP 17
 133: PUSH
 134: LD_OWVAR 12
 138: ST_TO_ADDR
// end else
 139: GO 334
// begin Your_Side := 1 ;
 141: LD_ADDR_OWVAR 2
 145: PUSH
 146: LD_INT 1
 148: ST_TO_ADDR
// Side_Positions := [ 1 , 2 , 3 , 4 , 0 , 0 , 0 , 0 ] ;
 149: LD_ADDR_EXP 19
 153: PUSH
 154: LD_INT 1
 156: PUSH
 157: LD_INT 2
 159: PUSH
 160: LD_INT 3
 162: PUSH
 163: LD_INT 4
 165: PUSH
 166: LD_INT 0
 168: PUSH
 169: LD_INT 0
 171: PUSH
 172: LD_INT 0
 174: PUSH
 175: LD_INT 0
 177: PUSH
 178: EMPTY
 179: LIST
 180: LIST
 181: LIST
 182: LIST
 183: LIST
 184: LIST
 185: LIST
 186: LIST
 187: ST_TO_ADDR
// Side_Teams := [ 1 , 1 , 2 , 2 , 0 , 0 , 0 , 0 ] ;
 188: LD_ADDR_EXP 16
 192: PUSH
 193: LD_INT 1
 195: PUSH
 196: LD_INT 1
 198: PUSH
 199: LD_INT 2
 201: PUSH
 202: LD_INT 2
 204: PUSH
 205: LD_INT 0
 207: PUSH
 208: LD_INT 0
 210: PUSH
 211: LD_INT 0
 213: PUSH
 214: LD_INT 0
 216: PUSH
 217: EMPTY
 218: LIST
 219: LIST
 220: LIST
 221: LIST
 222: LIST
 223: LIST
 224: LIST
 225: LIST
 226: ST_TO_ADDR
// Side_Nations := [ 1 , 2 , 3 , 1 , 0 , 0 , 0 , 0 ] ;
 227: LD_ADDR_EXP 20
 231: PUSH
 232: LD_INT 1
 234: PUSH
 235: LD_INT 2
 237: PUSH
 238: LD_INT 3
 240: PUSH
 241: LD_INT 1
 243: PUSH
 244: LD_INT 0
 246: PUSH
 247: LD_INT 0
 249: PUSH
 250: LD_INT 0
 252: PUSH
 253: LD_INT 0
 255: PUSH
 256: EMPTY
 257: LIST
 258: LIST
 259: LIST
 260: LIST
 261: LIST
 262: LIST
 263: LIST
 264: LIST
 265: ST_TO_ADDR
// Side_Comps = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
 266: LD_ADDR_EXP 18
 270: PUSH
 271: LD_INT 0
 273: PUSH
 274: LD_INT 0
 276: PUSH
 277: LD_INT 0
 279: PUSH
 280: LD_INT 0
 282: PUSH
 283: LD_INT 0
 285: PUSH
 286: LD_INT 0
 288: PUSH
 289: LD_INT 0
 291: PUSH
 292: LD_INT 0
 294: PUSH
 295: EMPTY
 296: LIST
 297: LIST
 298: LIST
 299: LIST
 300: LIST
 301: LIST
 302: LIST
 303: LIST
 304: ST_TO_ADDR
// Teams := [ [ 1 , 2 ] , [ 3 , 4 ] ] ;
 305: LD_ADDR_EXP 17
 309: PUSH
 310: LD_INT 1
 312: PUSH
 313: LD_INT 2
 315: PUSH
 316: EMPTY
 317: LIST
 318: LIST
 319: PUSH
 320: LD_INT 3
 322: PUSH
 323: LD_INT 4
 325: PUSH
 326: EMPTY
 327: LIST
 328: LIST
 329: PUSH
 330: EMPTY
 331: LIST
 332: LIST
 333: ST_TO_ADDR
// end ; Team_Game := ( Side_Teams diff [ 0 ] ) > 1 ;
 334: LD_ADDR_EXP 21
 338: PUSH
 339: LD_EXP 16
 343: PUSH
 344: LD_INT 0
 346: PUSH
 347: EMPTY
 348: LIST
 349: DIFF
 350: PUSH
 351: LD_INT 1
 353: GREATER
 354: ST_TO_ADDR
// if Multiplayer then
 355: LD_OWVAR 4
 359: IFFALSE 566
// begin def_base_level := GetMultiplayerSetting ( 0 ) ;
 361: LD_ADDR_EXP 39
 365: PUSH
 366: LD_INT 0
 368: PPUSH
 369: CALL_OW 426
 373: ST_TO_ADDR
// def_amount_of_people := GetMultiplayerSetting ( 1 ) ;
 374: LD_ADDR_EXP 40
 378: PUSH
 379: LD_INT 1
 381: PPUSH
 382: CALL_OW 426
 386: ST_TO_ADDR
// def_skill_level := GetMultiplayerSetting ( 2 ) ;
 387: LD_ADDR_EXP 41
 391: PUSH
 392: LD_INT 2
 394: PPUSH
 395: CALL_OW 426
 399: ST_TO_ADDR
// def_starting_resources := GetMultiplayerSetting ( 3 ) ;
 400: LD_ADDR_EXP 42
 404: PUSH
 405: LD_INT 3
 407: PPUSH
 408: CALL_OW 426
 412: ST_TO_ADDR
// def_shipments_density := GetMultiplayerSetting ( 4 ) ;
 413: LD_ADDR_EXP 43
 417: PUSH
 418: LD_INT 4
 420: PPUSH
 421: CALL_OW 426
 425: ST_TO_ADDR
// def_extra_oil_deposits := GetMultiplayerSetting ( 5 ) ;
 426: LD_ADDR_EXP 44
 430: PUSH
 431: LD_INT 5
 433: PPUSH
 434: CALL_OW 426
 438: ST_TO_ADDR
// def_shared_vision := GetMultiplayerSetting ( 10 ) ;
 439: LD_ADDR_EXP 46
 443: PUSH
 444: LD_INT 10
 446: PPUSH
 447: CALL_OW 426
 451: ST_TO_ADDR
// def_morale_flags := GetMultiplayerSetting ( 11 ) ;
 452: LD_ADDR_EXP 47
 456: PUSH
 457: LD_INT 11
 459: PPUSH
 460: CALL_OW 426
 464: ST_TO_ADDR
// def_siberite_detection := GetMultiplayerSetting ( 12 ) ;
 465: LD_ADDR_EXP 48
 469: PUSH
 470: LD_INT 12
 472: PPUSH
 473: CALL_OW 426
 477: ST_TO_ADDR
// def_amount_of_apemen := GetMultiplayerSetting ( 13 ) ;
 478: LD_ADDR_EXP 50
 482: PUSH
 483: LD_INT 13
 485: PPUSH
 486: CALL_OW 426
 490: ST_TO_ADDR
// def_people_respawning := GetMultiplayerSetting ( 14 ) ;
 491: LD_ADDR_EXP 49
 495: PUSH
 496: LD_INT 14
 498: PPUSH
 499: CALL_OW 426
 503: ST_TO_ADDR
// def_tree_function := GetMultiplayerSetting ( 15 ) ;
 504: LD_ADDR_EXP 1
 508: PUSH
 509: LD_INT 15
 511: PPUSH
 512: CALL_OW 426
 516: ST_TO_ADDR
// def_siberite_bomb := GetMultiplayerSetting ( 17 ) ;
 517: LD_ADDR_EXP 51
 521: PUSH
 522: LD_INT 17
 524: PPUSH
 525: CALL_OW 426
 529: ST_TO_ADDR
// def_builduptime := GetMultiplayerSetting ( 20 ) ;
 530: LD_ADDR_EXP 52
 534: PUSH
 535: LD_INT 20
 537: PPUSH
 538: CALL_OW 426
 542: ST_TO_ADDR
// tech_level = GetMultiplayerSetting ( 22 ) ;
 543: LD_ADDR_VAR 0 3
 547: PUSH
 548: LD_INT 22
 550: PPUSH
 551: CALL_OW 426
 555: ST_TO_ADDR
// def_win_rules = 0 ;
 556: LD_ADDR_EXP 15
 560: PUSH
 561: LD_INT 0
 563: ST_TO_ADDR
// end else
 564: GO 698
// begin Randomize ;
 566: CALL_OW 10
// def_base_level := 2 ;
 570: LD_ADDR_EXP 39
 574: PUSH
 575: LD_INT 2
 577: ST_TO_ADDR
// def_amount_of_people := 1 ;
 578: LD_ADDR_EXP 40
 582: PUSH
 583: LD_INT 1
 585: ST_TO_ADDR
// def_skill_level := 1 ;
 586: LD_ADDR_EXP 41
 590: PUSH
 591: LD_INT 1
 593: ST_TO_ADDR
// def_starting_resources := 2 ;
 594: LD_ADDR_EXP 42
 598: PUSH
 599: LD_INT 2
 601: ST_TO_ADDR
// def_shipments_density := 50 ;
 602: LD_ADDR_EXP 43
 606: PUSH
 607: LD_INT 50
 609: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
 610: LD_ADDR_EXP 44
 614: PUSH
 615: LD_INT 0
 617: ST_TO_ADDR
// def_shared_vision := 1 ;
 618: LD_ADDR_EXP 46
 622: PUSH
 623: LD_INT 1
 625: ST_TO_ADDR
// def_morale_flags := 1 ;
 626: LD_ADDR_EXP 47
 630: PUSH
 631: LD_INT 1
 633: ST_TO_ADDR
// def_siberite_detection := 1 ;
 634: LD_ADDR_EXP 48
 638: PUSH
 639: LD_INT 1
 641: ST_TO_ADDR
// def_amount_of_apemen := 3 ;
 642: LD_ADDR_EXP 50
 646: PUSH
 647: LD_INT 3
 649: ST_TO_ADDR
// def_people_respawning := 2 ;
 650: LD_ADDR_EXP 49
 654: PUSH
 655: LD_INT 2
 657: ST_TO_ADDR
// def_tree_function := 7 ;
 658: LD_ADDR_EXP 1
 662: PUSH
 663: LD_INT 7
 665: ST_TO_ADDR
// def_siberite_bomb := 2 ;
 666: LD_ADDR_EXP 51
 670: PUSH
 671: LD_INT 2
 673: ST_TO_ADDR
// def_builduptime := 1 ;
 674: LD_ADDR_EXP 52
 678: PUSH
 679: LD_INT 1
 681: ST_TO_ADDR
// tech_level = 4 ;
 682: LD_ADDR_VAR 0 3
 686: PUSH
 687: LD_INT 4
 689: ST_TO_ADDR
// def_win_rules = 0 ;
 690: LD_ADDR_EXP 15
 694: PUSH
 695: LD_INT 0
 697: ST_TO_ADDR
// end ; if def_tree_function = 7 then
 698: LD_EXP 1
 702: PUSH
 703: LD_INT 7
 705: EQUAL
 706: IFFALSE 724
// def_tree_function := Rand ( 1 , 5 ) ;
 708: LD_ADDR_EXP 1
 712: PUSH
 713: LD_INT 1
 715: PPUSH
 716: LD_INT 5
 718: PPUSH
 719: CALL_OW 12
 723: ST_TO_ADDR
// InitGameRules ;
 724: CALL 7500 0 0
// if def_game_rules = 0 then
 728: LD_EXP 38
 732: PUSH
 733: LD_INT 0
 735: EQUAL
 736: IFFALSE 763
// begin if isSGUI then
 738: LD_OWVAR 83
 742: IFFALSE 750
// setMpTechs ( ) else
 744: CALL 11615 0 0
 748: GO 763
// begin SetMpTechLevel ( tech_level + 1 ) ;
 750: LD_VAR 0 3
 754: PUSH
 755: LD_INT 1
 757: PLUS
 758: PPUSH
 759: CALL 11762 0 1
// end ; end ; is_depot := [ 0 , 1 , 1 , 1 ] [ def_base_level + 1 ] ;
 763: LD_ADDR_EXP 2
 767: PUSH
 768: LD_INT 0
 770: PUSH
 771: LD_INT 1
 773: PUSH
 774: LD_INT 1
 776: PUSH
 777: LD_INT 1
 779: PUSH
 780: EMPTY
 781: LIST
 782: LIST
 783: LIST
 784: LIST
 785: PUSH
 786: LD_EXP 39
 790: PUSH
 791: LD_INT 1
 793: PLUS
 794: ARRAY
 795: ST_TO_ADDR
// number_of_breastworks := [ 0 , 0 , 2 , 3 ] [ def_base_level + 1 ] ;
 796: LD_ADDR_EXP 3
 800: PUSH
 801: LD_INT 0
 803: PUSH
 804: LD_INT 0
 806: PUSH
 807: LD_INT 2
 809: PUSH
 810: LD_INT 3
 812: PUSH
 813: EMPTY
 814: LIST
 815: LIST
 816: LIST
 817: LIST
 818: PUSH
 819: LD_EXP 39
 823: PUSH
 824: LD_INT 1
 826: PLUS
 827: ARRAY
 828: ST_TO_ADDR
// skill_level := [ 2 , 3 , 4 , 5 ] [ def_skill_level + 1 ] ;
 829: LD_ADDR_EXP 5
 833: PUSH
 834: LD_INT 2
 836: PUSH
 837: LD_INT 3
 839: PUSH
 840: LD_INT 4
 842: PUSH
 843: LD_INT 5
 845: PUSH
 846: EMPTY
 847: LIST
 848: LIST
 849: LIST
 850: LIST
 851: PUSH
 852: LD_EXP 41
 856: PUSH
 857: LD_INT 1
 859: PLUS
 860: ARRAY
 861: ST_TO_ADDR
// starting_resources := [ [ 0 , 0 , 0 ] , [ 30 , 0 , 0 ] , [ 50 , 20 , 0 ] , [ 80 , 40 , 20 ] ] [ def_starting_resources + 1 ] ;
 862: LD_ADDR_EXP 7
 866: PUSH
 867: LD_INT 0
 869: PUSH
 870: LD_INT 0
 872: PUSH
 873: LD_INT 0
 875: PUSH
 876: EMPTY
 877: LIST
 878: LIST
 879: LIST
 880: PUSH
 881: LD_INT 30
 883: PUSH
 884: LD_INT 0
 886: PUSH
 887: LD_INT 0
 889: PUSH
 890: EMPTY
 891: LIST
 892: LIST
 893: LIST
 894: PUSH
 895: LD_INT 50
 897: PUSH
 898: LD_INT 20
 900: PUSH
 901: LD_INT 0
 903: PUSH
 904: EMPTY
 905: LIST
 906: LIST
 907: LIST
 908: PUSH
 909: LD_INT 80
 911: PUSH
 912: LD_INT 40
 914: PUSH
 915: LD_INT 20
 917: PUSH
 918: EMPTY
 919: LIST
 920: LIST
 921: LIST
 922: PUSH
 923: EMPTY
 924: LIST
 925: LIST
 926: LIST
 927: LIST
 928: PUSH
 929: LD_EXP 42
 933: PUSH
 934: LD_INT 1
 936: PLUS
 937: ARRAY
 938: ST_TO_ADDR
// starting_crates := [ [ 10 ] , [ 7 , 14 ] , [ 6 , 12 , 18 ] , [ 5 , 10 , 15 , 20 ] ] [ def_starting_resources + 1 ] ;
 939: LD_ADDR_EXP 6
 943: PUSH
 944: LD_INT 10
 946: PUSH
 947: EMPTY
 948: LIST
 949: PUSH
 950: LD_INT 7
 952: PUSH
 953: LD_INT 14
 955: PUSH
 956: EMPTY
 957: LIST
 958: LIST
 959: PUSH
 960: LD_INT 6
 962: PUSH
 963: LD_INT 12
 965: PUSH
 966: LD_INT 18
 968: PUSH
 969: EMPTY
 970: LIST
 971: LIST
 972: LIST
 973: PUSH
 974: LD_INT 5
 976: PUSH
 977: LD_INT 10
 979: PUSH
 980: LD_INT 15
 982: PUSH
 983: LD_INT 20
 985: PUSH
 986: EMPTY
 987: LIST
 988: LIST
 989: LIST
 990: LIST
 991: PUSH
 992: EMPTY
 993: LIST
 994: LIST
 995: LIST
 996: LIST
 997: PUSH
 998: LD_EXP 42
1002: PUSH
1003: LD_INT 1
1005: PLUS
1006: ARRAY
1007: ST_TO_ADDR
// number_of_people := def_amount_of_people + 4 ;
1008: LD_ADDR_EXP 4
1012: PUSH
1013: LD_EXP 40
1017: PUSH
1018: LD_INT 4
1020: PLUS
1021: ST_TO_ADDR
// shipments_density := 150 - ( def_shipments_density + 1 ) ;
1022: LD_ADDR_EXP 8
1026: PUSH
1027: LD_INT 150
1029: PUSH
1030: LD_EXP 43
1034: PUSH
1035: LD_INT 1
1037: PLUS
1038: MINUS
1039: ST_TO_ADDR
// amount_of_apemen := [ 0 , 1 , 2 , 3 ] [ def_amount_of_apemen + 1 ] ;
1040: LD_ADDR_EXP 13
1044: PUSH
1045: LD_INT 0
1047: PUSH
1048: LD_INT 1
1050: PUSH
1051: LD_INT 2
1053: PUSH
1054: LD_INT 3
1056: PUSH
1057: EMPTY
1058: LIST
1059: LIST
1060: LIST
1061: LIST
1062: PUSH
1063: LD_EXP 50
1067: PUSH
1068: LD_INT 1
1070: PLUS
1071: ARRAY
1072: ST_TO_ADDR
// respawning_time_min := [ 0 0$0 , 4 4$00 , 0 0$50 ] [ def_people_respawning + 1 ] ;
1073: LD_ADDR_EXP 10
1077: PUSH
1078: LD_INT 0
1080: PUSH
1081: LD_INT 8400
1083: PUSH
1084: LD_INT 1750
1086: PUSH
1087: EMPTY
1088: LIST
1089: LIST
1090: LIST
1091: PUSH
1092: LD_EXP 49
1096: PUSH
1097: LD_INT 1
1099: PLUS
1100: ARRAY
1101: ST_TO_ADDR
// respawning_time_max := [ 0 0$0 , 10 10$00 , 2 2$00 ] [ def_people_respawning + 1 ] ;
1102: LD_ADDR_EXP 11
1106: PUSH
1107: LD_INT 0
1109: PUSH
1110: LD_INT 21000
1112: PUSH
1113: LD_INT 4200
1115: PUSH
1116: EMPTY
1117: LIST
1118: LIST
1119: LIST
1120: PUSH
1121: LD_EXP 49
1125: PUSH
1126: LD_INT 1
1128: PLUS
1129: ARRAY
1130: ST_TO_ADDR
// morale_decreasing_time := [ - 1 , 0 0$10 , 0 0$20 , 0 0$40 , 0 0$0 ] [ def_morale_flags + 1 ] ;
1131: LD_ADDR_EXP 9
1135: PUSH
1136: LD_INT 1
1138: NEG
1139: PUSH
1140: LD_INT 350
1142: PUSH
1143: LD_INT 700
1145: PUSH
1146: LD_INT 1400
1148: PUSH
1149: LD_INT 0
1151: PUSH
1152: EMPTY
1153: LIST
1154: LIST
1155: LIST
1156: LIST
1157: LIST
1158: PUSH
1159: LD_EXP 47
1163: PUSH
1164: LD_INT 1
1166: PLUS
1167: ARRAY
1168: ST_TO_ADDR
// battle_flags_id := [ ] ;
1169: LD_ADDR_EXP 25
1173: PUSH
1174: EMPTY
1175: ST_TO_ADDR
// tree_function := [ [ 0 , 0 , 0 , 0 , 0 ] , [ 2 , 0 , 0 , 0 , 0 ] , [ 0 , 4 , 0 , 0 , 0 ] , [ 0 , 0 , 2 , 0 , 0 ] , [ 0 , 0 , 0 , 3 , 0 ] , [ 1 , 2 , 1 , 2 , 2 ] , [ 0 , 0 , 0 , 0 , 3 ] ] [ def_tree_function + 1 ] ;
1176: LD_ADDR_EXP 14
1180: PUSH
1181: LD_INT 0
1183: PUSH
1184: LD_INT 0
1186: PUSH
1187: LD_INT 0
1189: PUSH
1190: LD_INT 0
1192: PUSH
1193: LD_INT 0
1195: PUSH
1196: EMPTY
1197: LIST
1198: LIST
1199: LIST
1200: LIST
1201: LIST
1202: PUSH
1203: LD_INT 2
1205: PUSH
1206: LD_INT 0
1208: PUSH
1209: LD_INT 0
1211: PUSH
1212: LD_INT 0
1214: PUSH
1215: LD_INT 0
1217: PUSH
1218: EMPTY
1219: LIST
1220: LIST
1221: LIST
1222: LIST
1223: LIST
1224: PUSH
1225: LD_INT 0
1227: PUSH
1228: LD_INT 4
1230: PUSH
1231: LD_INT 0
1233: PUSH
1234: LD_INT 0
1236: PUSH
1237: LD_INT 0
1239: PUSH
1240: EMPTY
1241: LIST
1242: LIST
1243: LIST
1244: LIST
1245: LIST
1246: PUSH
1247: LD_INT 0
1249: PUSH
1250: LD_INT 0
1252: PUSH
1253: LD_INT 2
1255: PUSH
1256: LD_INT 0
1258: PUSH
1259: LD_INT 0
1261: PUSH
1262: EMPTY
1263: LIST
1264: LIST
1265: LIST
1266: LIST
1267: LIST
1268: PUSH
1269: LD_INT 0
1271: PUSH
1272: LD_INT 0
1274: PUSH
1275: LD_INT 0
1277: PUSH
1278: LD_INT 3
1280: PUSH
1281: LD_INT 0
1283: PUSH
1284: EMPTY
1285: LIST
1286: LIST
1287: LIST
1288: LIST
1289: LIST
1290: PUSH
1291: LD_INT 1
1293: PUSH
1294: LD_INT 2
1296: PUSH
1297: LD_INT 1
1299: PUSH
1300: LD_INT 2
1302: PUSH
1303: LD_INT 2
1305: PUSH
1306: EMPTY
1307: LIST
1308: LIST
1309: LIST
1310: LIST
1311: LIST
1312: PUSH
1313: LD_INT 0
1315: PUSH
1316: LD_INT 0
1318: PUSH
1319: LD_INT 0
1321: PUSH
1322: LD_INT 0
1324: PUSH
1325: LD_INT 3
1327: PUSH
1328: EMPTY
1329: LIST
1330: LIST
1331: LIST
1332: LIST
1333: LIST
1334: PUSH
1335: EMPTY
1336: LIST
1337: LIST
1338: LIST
1339: LIST
1340: LIST
1341: LIST
1342: LIST
1343: PUSH
1344: LD_EXP 1
1348: PUSH
1349: LD_INT 1
1351: PLUS
1352: ARRAY
1353: ST_TO_ADDR
// if def_siberite_bomb = 0 then
1354: LD_EXP 51
1358: PUSH
1359: LD_INT 0
1361: EQUAL
1362: IFFALSE 1374
// siberite_bomb_Delay = 0 else
1364: LD_ADDR_EXP 12
1368: PUSH
1369: LD_INT 0
1371: ST_TO_ADDR
1372: GO 1396
// siberite_bomb_Delay = ( def_siberite_bomb - 1 ) * 10 10$0 + 1 ;
1374: LD_ADDR_EXP 12
1378: PUSH
1379: LD_EXP 51
1383: PUSH
1384: LD_INT 1
1386: MINUS
1387: PUSH
1388: LD_INT 21000
1390: MUL
1391: PUSH
1392: LD_INT 1
1394: PLUS
1395: ST_TO_ADDR
// end ;
1396: LD_VAR 0 1
1400: RET
// function prepare_map_coordinates ; var side , dep , br1 , br2 , br3 , un , i , j ; begin
1401: LD_INT 0
1403: PPUSH
1404: PPUSH
1405: PPUSH
1406: PPUSH
1407: PPUSH
1408: PPUSH
1409: PPUSH
1410: PPUSH
1411: PPUSH
// depot_def = [ ] ;
1412: LD_ADDR_EXP 22
1416: PUSH
1417: EMPTY
1418: ST_TO_ADDR
// breastworks_def = [ ] ;
1419: LD_ADDR_EXP 23
1423: PUSH
1424: EMPTY
1425: ST_TO_ADDR
// for side := 1 to 4 do
1426: LD_ADDR_VAR 0 2
1430: PUSH
1431: DOUBLE
1432: LD_INT 1
1434: DEC
1435: ST_TO_ADDR
1436: LD_INT 4
1438: PUSH
1439: FOR_TO
1440: IFFALSE 1795
// begin dep := side * 4 - 3 ;
1442: LD_ADDR_VAR 0 3
1446: PUSH
1447: LD_VAR 0 2
1451: PUSH
1452: LD_INT 4
1454: MUL
1455: PUSH
1456: LD_INT 3
1458: MINUS
1459: ST_TO_ADDR
// br1 := side * 4 - 2 ;
1460: LD_ADDR_VAR 0 4
1464: PUSH
1465: LD_VAR 0 2
1469: PUSH
1470: LD_INT 4
1472: MUL
1473: PUSH
1474: LD_INT 2
1476: MINUS
1477: ST_TO_ADDR
// br2 := side * 4 - 1 ;
1478: LD_ADDR_VAR 0 5
1482: PUSH
1483: LD_VAR 0 2
1487: PUSH
1488: LD_INT 4
1490: MUL
1491: PUSH
1492: LD_INT 1
1494: MINUS
1495: ST_TO_ADDR
// br3 := side * 4 ;
1496: LD_ADDR_VAR 0 6
1500: PUSH
1501: LD_VAR 0 2
1505: PUSH
1506: LD_INT 4
1508: MUL
1509: ST_TO_ADDR
// depot_def := depot_def ^ [ [ GetX ( dep ) , GetY ( dep ) , GetDir ( dep ) ] ] ;
1510: LD_ADDR_EXP 22
1514: PUSH
1515: LD_EXP 22
1519: PUSH
1520: LD_VAR 0 3
1524: PPUSH
1525: CALL_OW 250
1529: PUSH
1530: LD_VAR 0 3
1534: PPUSH
1535: CALL_OW 251
1539: PUSH
1540: LD_VAR 0 3
1544: PPUSH
1545: CALL_OW 254
1549: PUSH
1550: EMPTY
1551: LIST
1552: LIST
1553: LIST
1554: PUSH
1555: EMPTY
1556: LIST
1557: ADD
1558: ST_TO_ADDR
// start_def := start_def ^ [ [ ShiftX ( GetX ( Dep ) , GetDir ( Dep ) , 6 ) , ShiftY ( GetY ( Dep ) , GetDir ( Dep ) , 6 ) ] ] ;
1559: LD_ADDR_EXP 24
1563: PUSH
1564: LD_EXP 24
1568: PUSH
1569: LD_VAR 0 3
1573: PPUSH
1574: CALL_OW 250
1578: PPUSH
1579: LD_VAR 0 3
1583: PPUSH
1584: CALL_OW 254
1588: PPUSH
1589: LD_INT 6
1591: PPUSH
1592: CALL_OW 272
1596: PUSH
1597: LD_VAR 0 3
1601: PPUSH
1602: CALL_OW 251
1606: PPUSH
1607: LD_VAR 0 3
1611: PPUSH
1612: CALL_OW 254
1616: PPUSH
1617: LD_INT 6
1619: PPUSH
1620: CALL_OW 273
1624: PUSH
1625: EMPTY
1626: LIST
1627: LIST
1628: PUSH
1629: EMPTY
1630: LIST
1631: ADD
1632: ST_TO_ADDR
// breastworks_def := breastworks_def ^ [ [ [ GetX ( br1 ) , GetY ( br1 ) , GetDir ( br1 ) ] , [ GetX ( br2 ) , GetY ( br2 ) , GetDir ( br2 ) ] , [ GetX ( br3 ) , GetY ( br3 ) , GetDir ( br3 ) ] ] ] ;
1633: LD_ADDR_EXP 23
1637: PUSH
1638: LD_EXP 23
1642: PUSH
1643: LD_VAR 0 4
1647: PPUSH
1648: CALL_OW 250
1652: PUSH
1653: LD_VAR 0 4
1657: PPUSH
1658: CALL_OW 251
1662: PUSH
1663: LD_VAR 0 4
1667: PPUSH
1668: CALL_OW 254
1672: PUSH
1673: EMPTY
1674: LIST
1675: LIST
1676: LIST
1677: PUSH
1678: LD_VAR 0 5
1682: PPUSH
1683: CALL_OW 250
1687: PUSH
1688: LD_VAR 0 5
1692: PPUSH
1693: CALL_OW 251
1697: PUSH
1698: LD_VAR 0 5
1702: PPUSH
1703: CALL_OW 254
1707: PUSH
1708: EMPTY
1709: LIST
1710: LIST
1711: LIST
1712: PUSH
1713: LD_VAR 0 6
1717: PPUSH
1718: CALL_OW 250
1722: PUSH
1723: LD_VAR 0 6
1727: PPUSH
1728: CALL_OW 251
1732: PUSH
1733: LD_VAR 0 6
1737: PPUSH
1738: CALL_OW 254
1742: PUSH
1743: EMPTY
1744: LIST
1745: LIST
1746: LIST
1747: PUSH
1748: EMPTY
1749: LIST
1750: LIST
1751: LIST
1752: PUSH
1753: EMPTY
1754: LIST
1755: ADD
1756: ST_TO_ADDR
// DestroyUnit ( dep ) ;
1757: LD_VAR 0 3
1761: PPUSH
1762: CALL_OW 65
// DestroyUnit ( br1 ) ;
1766: LD_VAR 0 4
1770: PPUSH
1771: CALL_OW 65
// DestroyUnit ( br2 ) ;
1775: LD_VAR 0 5
1779: PPUSH
1780: CALL_OW 65
// DestroyUnit ( br3 ) ;
1784: LD_VAR 0 6
1788: PPUSH
1789: CALL_OW 65
// end ;
1793: GO 1439
1795: POP
1796: POP
// normal_oil_deposits_locations := [ [ 28 , 15 ] , [ 102 , 17 ] , [ 50 , 84 ] , [ 143 , 111 ] ] ;
1797: LD_ADDR_EXP 26
1801: PUSH
1802: LD_INT 28
1804: PUSH
1805: LD_INT 15
1807: PUSH
1808: EMPTY
1809: LIST
1810: LIST
1811: PUSH
1812: LD_INT 102
1814: PUSH
1815: LD_INT 17
1817: PUSH
1818: EMPTY
1819: LIST
1820: LIST
1821: PUSH
1822: LD_INT 50
1824: PUSH
1825: LD_INT 84
1827: PUSH
1828: EMPTY
1829: LIST
1830: LIST
1831: PUSH
1832: LD_INT 143
1834: PUSH
1835: LD_INT 111
1837: PUSH
1838: EMPTY
1839: LIST
1840: LIST
1841: PUSH
1842: EMPTY
1843: LIST
1844: LIST
1845: LIST
1846: LIST
1847: ST_TO_ADDR
// extra_oil_deposits_locations := [ [ [ 28 , 15 ] , [ 52 , 44 ] ] , [ [ 102 , 17 ] , [ 84 , 37 ] ] , [ [ 50 , 84 ] , [ 74 , 81 ] ] , [ [ 143 , 111 ] , [ 106 , 77 ] ] , ] ;
1848: LD_ADDR_EXP 27
1852: PUSH
1853: LD_INT 28
1855: PUSH
1856: LD_INT 15
1858: PUSH
1859: EMPTY
1860: LIST
1861: LIST
1862: PUSH
1863: LD_INT 52
1865: PUSH
1866: LD_INT 44
1868: PUSH
1869: EMPTY
1870: LIST
1871: LIST
1872: PUSH
1873: EMPTY
1874: LIST
1875: LIST
1876: PUSH
1877: LD_INT 102
1879: PUSH
1880: LD_INT 17
1882: PUSH
1883: EMPTY
1884: LIST
1885: LIST
1886: PUSH
1887: LD_INT 84
1889: PUSH
1890: LD_INT 37
1892: PUSH
1893: EMPTY
1894: LIST
1895: LIST
1896: PUSH
1897: EMPTY
1898: LIST
1899: LIST
1900: PUSH
1901: LD_INT 50
1903: PUSH
1904: LD_INT 84
1906: PUSH
1907: EMPTY
1908: LIST
1909: LIST
1910: PUSH
1911: LD_INT 74
1913: PUSH
1914: LD_INT 81
1916: PUSH
1917: EMPTY
1918: LIST
1919: LIST
1920: PUSH
1921: EMPTY
1922: LIST
1923: LIST
1924: PUSH
1925: LD_INT 143
1927: PUSH
1928: LD_INT 111
1930: PUSH
1931: EMPTY
1932: LIST
1933: LIST
1934: PUSH
1935: LD_INT 106
1937: PUSH
1938: LD_INT 77
1940: PUSH
1941: EMPTY
1942: LIST
1943: LIST
1944: PUSH
1945: EMPTY
1946: LIST
1947: LIST
1948: PUSH
1949: EMPTY
1950: LIST
1951: LIST
1952: LIST
1953: LIST
1954: ST_TO_ADDR
// normal_sib_deposits_locations := [ [ 45 , 25 ] , [ 75 , 22 ] , [ 87 , 105 ] , [ 117 , 99 ] ] ;
1955: LD_ADDR_EXP 28
1959: PUSH
1960: LD_INT 45
1962: PUSH
1963: LD_INT 25
1965: PUSH
1966: EMPTY
1967: LIST
1968: LIST
1969: PUSH
1970: LD_INT 75
1972: PUSH
1973: LD_INT 22
1975: PUSH
1976: EMPTY
1977: LIST
1978: LIST
1979: PUSH
1980: LD_INT 87
1982: PUSH
1983: LD_INT 105
1985: PUSH
1986: EMPTY
1987: LIST
1988: LIST
1989: PUSH
1990: LD_INT 117
1992: PUSH
1993: LD_INT 99
1995: PUSH
1996: EMPTY
1997: LIST
1998: LIST
1999: PUSH
2000: EMPTY
2001: LIST
2002: LIST
2003: LIST
2004: LIST
2005: ST_TO_ADDR
// for i = 1 to Side_Positions do
2006: LD_ADDR_VAR 0 8
2010: PUSH
2011: DOUBLE
2012: LD_INT 1
2014: DEC
2015: ST_TO_ADDR
2016: LD_EXP 19
2020: PUSH
2021: FOR_TO
2022: IFFALSE 2201
// begin if not Side_Positions [ i ] then
2024: LD_EXP 19
2028: PUSH
2029: LD_VAR 0 8
2033: ARRAY
2034: NOT
2035: IFFALSE 2039
// continue ;
2037: GO 2021
// CreateDepositXY ( normal_sib_deposits_locations [ Side_Positions [ i ] ] [ 1 ] , normal_sib_deposits_locations [ Side_Positions [ i ] ] [ 2 ] , mat_siberit ) ;
2039: LD_EXP 28
2043: PUSH
2044: LD_EXP 19
2048: PUSH
2049: LD_VAR 0 8
2053: ARRAY
2054: ARRAY
2055: PUSH
2056: LD_INT 1
2058: ARRAY
2059: PPUSH
2060: LD_EXP 28
2064: PUSH
2065: LD_EXP 19
2069: PUSH
2070: LD_VAR 0 8
2074: ARRAY
2075: ARRAY
2076: PUSH
2077: LD_INT 2
2079: ARRAY
2080: PPUSH
2081: LD_INT 3
2083: PPUSH
2084: CALL_OW 62
// if def_extra_oil_deposits then
2088: LD_EXP 44
2092: IFFALSE 2150
// for j in extra_oil_deposits_locations [ Side_Positions [ i ] ] do
2094: LD_ADDR_VAR 0 9
2098: PUSH
2099: LD_EXP 27
2103: PUSH
2104: LD_EXP 19
2108: PUSH
2109: LD_VAR 0 8
2113: ARRAY
2114: ARRAY
2115: PUSH
2116: FOR_IN
2117: IFFALSE 2146
// CreateDepositXY ( j [ 1 ] , j [ 2 ] , mat_oil ) else
2119: LD_VAR 0 9
2123: PUSH
2124: LD_INT 1
2126: ARRAY
2127: PPUSH
2128: LD_VAR 0 9
2132: PUSH
2133: LD_INT 2
2135: ARRAY
2136: PPUSH
2137: LD_INT 2
2139: PPUSH
2140: CALL_OW 62
2144: GO 2116
2146: POP
2147: POP
2148: GO 2199
// CreateDepositXY ( normal_oil_deposits_locations [ Side_Positions [ i ] ] [ 1 ] , normal_oil_deposits_locations [ Side_Positions [ i ] ] [ 2 ] , mat_oil ) ;
2150: LD_EXP 26
2154: PUSH
2155: LD_EXP 19
2159: PUSH
2160: LD_VAR 0 8
2164: ARRAY
2165: ARRAY
2166: PUSH
2167: LD_INT 1
2169: ARRAY
2170: PPUSH
2171: LD_EXP 26
2175: PUSH
2176: LD_EXP 19
2180: PUSH
2181: LD_VAR 0 8
2185: ARRAY
2186: ARRAY
2187: PUSH
2188: LD_INT 2
2190: ARRAY
2191: PPUSH
2192: LD_INT 2
2194: PPUSH
2195: CALL_OW 62
// end ;
2199: GO 2021
2201: POP
2202: POP
// end ;
2203: LD_VAR 0 1
2207: RET
// function set_shared_visions_and_alliances ; var i , j ; begin
2208: LD_INT 0
2210: PPUSH
2211: PPUSH
2212: PPUSH
// if not Team_Game then
2213: LD_EXP 21
2217: NOT
2218: IFFALSE 2316
// begin for i = 1 to 8 do
2220: LD_ADDR_VAR 0 2
2224: PUSH
2225: DOUBLE
2226: LD_INT 1
2228: DEC
2229: ST_TO_ADDR
2230: LD_INT 8
2232: PUSH
2233: FOR_TO
2234: IFFALSE 2312
// for j = 1 to 8 do
2236: LD_ADDR_VAR 0 3
2240: PUSH
2241: DOUBLE
2242: LD_INT 1
2244: DEC
2245: ST_TO_ADDR
2246: LD_INT 8
2248: PUSH
2249: FOR_TO
2250: IFFALSE 2308
// if i <> j then
2252: LD_VAR 0 2
2256: PUSH
2257: LD_VAR 0 3
2261: NONEQUAL
2262: IFFALSE 2286
// SetAttitude ( i , j , att_neutral , true ) else
2264: LD_VAR 0 2
2268: PPUSH
2269: LD_VAR 0 3
2273: PPUSH
2274: LD_INT 0
2276: PPUSH
2277: LD_INT 1
2279: PPUSH
2280: CALL_OW 80
2284: GO 2306
// SetAttitude ( i , j , att_friend , true ) ;
2286: LD_VAR 0 2
2290: PPUSH
2291: LD_VAR 0 3
2295: PPUSH
2296: LD_INT 1
2298: PPUSH
2299: LD_INT 1
2301: PPUSH
2302: CALL_OW 80
2306: GO 2249
2308: POP
2309: POP
2310: GO 2233
2312: POP
2313: POP
// end else
2314: GO 2491
// begin if def_shared_vision then
2316: LD_EXP 46
2320: IFFALSE 2385
// begin for i in Teams do
2322: LD_ADDR_VAR 0 2
2326: PUSH
2327: LD_EXP 17
2331: PUSH
2332: FOR_IN
2333: IFFALSE 2383
// for j = 2 to i do
2335: LD_ADDR_VAR 0 3
2339: PUSH
2340: DOUBLE
2341: LD_INT 2
2343: DEC
2344: ST_TO_ADDR
2345: LD_VAR 0 2
2349: PUSH
2350: FOR_TO
2351: IFFALSE 2379
// ChangeSideFog ( i [ j ] , i [ 1 ] ) ;
2353: LD_VAR 0 2
2357: PUSH
2358: LD_VAR 0 3
2362: ARRAY
2363: PPUSH
2364: LD_VAR 0 2
2368: PUSH
2369: LD_INT 1
2371: ARRAY
2372: PPUSH
2373: CALL_OW 343
2377: GO 2350
2379: POP
2380: POP
2381: GO 2332
2383: POP
2384: POP
// end ; for i = 1 to 8 do
2385: LD_ADDR_VAR 0 2
2389: PUSH
2390: DOUBLE
2391: LD_INT 1
2393: DEC
2394: ST_TO_ADDR
2395: LD_INT 8
2397: PUSH
2398: FOR_TO
2399: IFFALSE 2489
// for j = 1 to 8 do
2401: LD_ADDR_VAR 0 3
2405: PUSH
2406: DOUBLE
2407: LD_INT 1
2409: DEC
2410: ST_TO_ADDR
2411: LD_INT 8
2413: PUSH
2414: FOR_TO
2415: IFFALSE 2485
// if Side_Teams [ i ] = Side_Teams [ j ] then
2417: LD_EXP 16
2421: PUSH
2422: LD_VAR 0 2
2426: ARRAY
2427: PUSH
2428: LD_EXP 16
2432: PUSH
2433: LD_VAR 0 3
2437: ARRAY
2438: EQUAL
2439: IFFALSE 2463
// SetAttitude ( i , j , att_friend , true ) else
2441: LD_VAR 0 2
2445: PPUSH
2446: LD_VAR 0 3
2450: PPUSH
2451: LD_INT 1
2453: PPUSH
2454: LD_INT 1
2456: PPUSH
2457: CALL_OW 80
2461: GO 2483
// SetAttitude ( i , j , att_enemy , true ) ;
2463: LD_VAR 0 2
2467: PPUSH
2468: LD_VAR 0 3
2472: PPUSH
2473: LD_INT 2
2475: PPUSH
2476: LD_INT 1
2478: PPUSH
2479: CALL_OW 80
2483: GO 2414
2485: POP
2486: POP
2487: GO 2398
2489: POP
2490: POP
// end ; end ;
2491: LD_VAR 0 1
2495: RET
// function prepare_people ( count , cl , x , y , r , building ) ; var i , j , un ; begin
2496: LD_INT 0
2498: PPUSH
2499: PPUSH
2500: PPUSH
2501: PPUSH
// result := [ ] ;
2502: LD_ADDR_VAR 0 7
2506: PUSH
2507: EMPTY
2508: ST_TO_ADDR
// for i := 1 to count do
2509: LD_ADDR_VAR 0 8
2513: PUSH
2514: DOUBLE
2515: LD_INT 1
2517: DEC
2518: ST_TO_ADDR
2519: LD_VAR 0 1
2523: PUSH
2524: FOR_TO
2525: IFFALSE 2943
// begin uc_direction := Rand ( 0 , 5 ) ;
2527: LD_ADDR_OWVAR 24
2531: PUSH
2532: LD_INT 0
2534: PPUSH
2535: LD_INT 5
2537: PPUSH
2538: CALL_OW 12
2542: ST_TO_ADDR
// if commander then
2543: LD_LOC 1
2547: IFFALSE 2656
// begin hc_name := mp_sides_players_names [ uc_side ] ;
2549: LD_ADDR_OWVAR 26
2553: PUSH
2554: LD_OWVAR 19
2558: PUSH
2559: LD_OWVAR 20
2563: ARRAY
2564: ST_TO_ADDR
// PrepareHuman ( Rand ( 1 , 2 ) , cl , skill_level + 2 ) ;
2565: LD_INT 1
2567: PPUSH
2568: LD_INT 2
2570: PPUSH
2571: CALL_OW 12
2575: PPUSH
2576: LD_VAR 0 2
2580: PPUSH
2581: LD_EXP 5
2585: PUSH
2586: LD_INT 2
2588: PLUS
2589: PPUSH
2590: CALL_OW 380
// hc_importance := 105 ;
2594: LD_ADDR_OWVAR 32
2598: PUSH
2599: LD_INT 105
2601: ST_TO_ADDR
// commander := false ;
2602: LD_ADDR_LOC 1
2606: PUSH
2607: LD_INT 0
2609: ST_TO_ADDR
// if Multiplayer then
2610: LD_OWVAR 4
2614: IFFALSE 2654
// begin hc_gallery := MULTIAVATARS ;
2616: LD_ADDR_OWVAR 33
2620: PUSH
2621: LD_STRING MULTIAVATARS
2623: ST_TO_ADDR
// hc_face_number := Multiplayer_GetPlayerSideNum ( uc_side ) ;
2624: LD_ADDR_OWVAR 34
2628: PUSH
2629: LD_OWVAR 20
2633: PPUSH
2634: CALL_OW 525
2638: ST_TO_ADDR
// hc_sex := Multiplayer_GetPlayerSex ( uc_side ) ;
2639: LD_ADDR_OWVAR 27
2643: PUSH
2644: LD_OWVAR 20
2648: PPUSH
2649: CALL_OW 526
2653: ST_TO_ADDR
// end ; end else
2654: GO 2719
// begin hc_name :=  ;
2656: LD_ADDR_OWVAR 26
2660: PUSH
2661: LD_STRING 
2663: ST_TO_ADDR
// PrepareHuman ( rand ( 1 , 2 ) , cl , skill_level ) ;
2664: LD_INT 1
2666: PPUSH
2667: LD_INT 2
2669: PPUSH
2670: CALL_OW 12
2674: PPUSH
2675: LD_VAR 0 2
2679: PPUSH
2680: LD_EXP 5
2684: PPUSH
2685: CALL_OW 380
// hc_importance := 0 ;
2689: LD_ADDR_OWVAR 32
2693: PUSH
2694: LD_INT 0
2696: ST_TO_ADDR
// if Multiplayer then
2697: LD_OWVAR 4
2701: IFFALSE 2719
// begin hc_gallery :=  ;
2703: LD_ADDR_OWVAR 33
2707: PUSH
2708: LD_STRING 
2710: ST_TO_ADDR
// hc_face_number := 0 ;
2711: LD_ADDR_OWVAR 34
2715: PUSH
2716: LD_INT 0
2718: ST_TO_ADDR
// end ; end ; un := CreateHuman ;
2719: LD_ADDR_VAR 0 10
2723: PUSH
2724: CALL_OW 44
2728: ST_TO_ADDR
// if global_defined then
2729: LD_LOC 3
2733: IFFALSE 2873
// begin if ( cl = class_soldier ) then
2735: LD_VAR 0 2
2739: PUSH
2740: LD_INT 1
2742: EQUAL
2743: IFFALSE 2763
// j := i + soldiers_created else
2745: LD_ADDR_VAR 0 9
2749: PUSH
2750: LD_VAR 0 8
2754: PUSH
2755: LD_LOC 4
2759: PLUS
2760: ST_TO_ADDR
2761: GO 2773
// j := i ;
2763: LD_ADDR_VAR 0 9
2767: PUSH
2768: LD_VAR 0 8
2772: ST_TO_ADDR
// CopySkills ( global_units [ cl ] [ j ] , un ) ;
2773: LD_LOC 2
2777: PUSH
2778: LD_VAR 0 2
2782: ARRAY
2783: PUSH
2784: LD_VAR 0 9
2788: ARRAY
2789: PPUSH
2790: LD_VAR 0 10
2794: PPUSH
2795: CALL_OW 510
// SetAttr ( un , attr_speed , GetAttr ( global_units [ cl ] [ j ] , attr_speed ) ) ;
2799: LD_VAR 0 10
2803: PPUSH
2804: LD_INT 2
2806: PPUSH
2807: LD_LOC 2
2811: PUSH
2812: LD_VAR 0 2
2816: ARRAY
2817: PUSH
2818: LD_VAR 0 9
2822: ARRAY
2823: PPUSH
2824: LD_INT 2
2826: PPUSH
2827: CALL_OW 260
2831: PPUSH
2832: CALL_OW 239
// SetAttr ( un , attr_stamina , GetAttr ( global_units [ cl ] [ j ] , attr_stamina ) ) ;
2836: LD_VAR 0 10
2840: PPUSH
2841: LD_INT 1
2843: PPUSH
2844: LD_LOC 2
2848: PUSH
2849: LD_VAR 0 2
2853: ARRAY
2854: PUSH
2855: LD_VAR 0 9
2859: ARRAY
2860: PPUSH
2861: LD_INT 1
2863: PPUSH
2864: CALL_OW 260
2868: PPUSH
2869: CALL_OW 239
// end ; if building then
2873: LD_VAR 0 6
2877: IFFALSE 2895
// PlaceHumanInUnit ( un , building ) else
2879: LD_VAR 0 10
2883: PPUSH
2884: LD_VAR 0 6
2888: PPUSH
2889: CALL_OW 52
2893: GO 2922
// PlaceUnitXYR ( un , x , y , r , false ) ;
2895: LD_VAR 0 10
2899: PPUSH
2900: LD_VAR 0 3
2904: PPUSH
2905: LD_VAR 0 4
2909: PPUSH
2910: LD_VAR 0 5
2914: PPUSH
2915: LD_INT 0
2917: PPUSH
2918: CALL_OW 50
// result := result ^ [ un ] ;
2922: LD_ADDR_VAR 0 7
2926: PUSH
2927: LD_VAR 0 7
2931: PUSH
2932: LD_VAR 0 10
2936: PUSH
2937: EMPTY
2938: LIST
2939: ADD
2940: ST_TO_ADDR
// end ;
2941: GO 2524
2943: POP
2944: POP
// if not global_defined then
2945: LD_LOC 3
2949: NOT
2950: IFFALSE 3028
// if ( global_units >= cl ) then
2952: LD_LOC 2
2956: PUSH
2957: LD_VAR 0 2
2961: GREATEREQUAL
2962: IFFALSE 3003
// global_units := Replace ( global_units , cl , global_units [ cl ] ^ result ) else
2964: LD_ADDR_LOC 2
2968: PUSH
2969: LD_LOC 2
2973: PPUSH
2974: LD_VAR 0 2
2978: PPUSH
2979: LD_LOC 2
2983: PUSH
2984: LD_VAR 0 2
2988: ARRAY
2989: PUSH
2990: LD_VAR 0 7
2994: ADD
2995: PPUSH
2996: CALL_OW 1
3000: ST_TO_ADDR
3001: GO 3028
// global_units := Replace ( global_units , cl , result ) ;
3003: LD_ADDR_LOC 2
3007: PUSH
3008: LD_LOC 2
3012: PPUSH
3013: LD_VAR 0 2
3017: PPUSH
3018: LD_VAR 0 7
3022: PPUSH
3023: CALL_OW 1
3027: ST_TO_ADDR
// if commander then
3028: LD_LOC 1
3032: IFFALSE 3079
// begin heroes = replace ( heroes , uc_side , heroes [ uc_side ] ^ un ) ;
3034: LD_ADDR_EXP 29
3038: PUSH
3039: LD_EXP 29
3043: PPUSH
3044: LD_OWVAR 20
3048: PPUSH
3049: LD_EXP 29
3053: PUSH
3054: LD_OWVAR 20
3058: ARRAY
3059: PUSH
3060: LD_VAR 0 10
3064: ADD
3065: PPUSH
3066: CALL_OW 1
3070: ST_TO_ADDR
// commander := false ;
3071: LD_ADDR_LOC 1
3075: PUSH
3076: LD_INT 0
3078: ST_TO_ADDR
// end ; end ;
3079: LD_VAR 0 7
3083: RET
// function prepare_side ( side ) ; var pos , x , y , dir , i , r , br , dep ; begin
3084: LD_INT 0
3086: PPUSH
3087: PPUSH
3088: PPUSH
3089: PPUSH
3090: PPUSH
3091: PPUSH
3092: PPUSH
3093: PPUSH
3094: PPUSH
// if side in [ 0 , 9 ] then
3095: LD_VAR 0 1
3099: PUSH
3100: LD_INT 0
3102: PUSH
3103: LD_INT 9
3105: PUSH
3106: EMPTY
3107: LIST
3108: LIST
3109: IN
3110: IFFALSE 3114
// exit ;
3112: GO 4164
// pos := Side_Positions [ side ] ;
3114: LD_ADDR_VAR 0 3
3118: PUSH
3119: LD_EXP 19
3123: PUSH
3124: LD_VAR 0 1
3128: ARRAY
3129: ST_TO_ADDR
// uc_nation := Side_Nations [ side ] ;
3130: LD_ADDR_OWVAR 21
3134: PUSH
3135: LD_EXP 20
3139: PUSH
3140: LD_VAR 0 1
3144: ARRAY
3145: ST_TO_ADDR
// uc_side := side ;
3146: LD_ADDR_OWVAR 20
3150: PUSH
3151: LD_VAR 0 1
3155: ST_TO_ADDR
// x := depot_def [ pos ] [ 1 ] ;
3156: LD_ADDR_VAR 0 4
3160: PUSH
3161: LD_EXP 22
3165: PUSH
3166: LD_VAR 0 3
3170: ARRAY
3171: PUSH
3172: LD_INT 1
3174: ARRAY
3175: ST_TO_ADDR
// y := depot_def [ pos ] [ 2 ] ;
3176: LD_ADDR_VAR 0 5
3180: PUSH
3181: LD_EXP 22
3185: PUSH
3186: LD_VAR 0 3
3190: ARRAY
3191: PUSH
3192: LD_INT 2
3194: ARRAY
3195: ST_TO_ADDR
// dir := depot_def [ pos ] [ 3 ] ;
3196: LD_ADDR_VAR 0 6
3200: PUSH
3201: LD_EXP 22
3205: PUSH
3206: LD_VAR 0 3
3210: ARRAY
3211: PUSH
3212: LD_INT 3
3214: ARRAY
3215: ST_TO_ADDR
// if is_depot then
3216: LD_EXP 2
3220: IFFALSE 3353
// begin bc_type = b_depot ;
3222: LD_ADDR_OWVAR 42
3226: PUSH
3227: LD_INT 0
3229: ST_TO_ADDR
// dep := CreateAndPlaceBuildingXYD ( x , y , dir ) ;
3230: LD_ADDR_VAR 0 10
3234: PUSH
3235: LD_VAR 0 4
3239: PPUSH
3240: LD_VAR 0 5
3244: PPUSH
3245: LD_VAR 0 6
3249: PPUSH
3250: CALL_OW 47
3254: ST_TO_ADDR
// SetBName ( dep , @ & side ) ;
3255: LD_VAR 0 10
3259: PPUSH
3260: LD_STRING @
3262: PUSH
3263: LD_VAR 0 1
3267: STR
3268: PPUSH
3269: CALL_OW 500
// SetResourceType ( GetBase ( dep ) , mat_cans , starting_resources [ mat_cans ] ) ;
3273: LD_VAR 0 10
3277: PPUSH
3278: CALL_OW 274
3282: PPUSH
3283: LD_INT 1
3285: PPUSH
3286: LD_EXP 7
3290: PUSH
3291: LD_INT 1
3293: ARRAY
3294: PPUSH
3295: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_oil , starting_resources [ mat_oil ] ) ;
3299: LD_VAR 0 10
3303: PPUSH
3304: CALL_OW 274
3308: PPUSH
3309: LD_INT 2
3311: PPUSH
3312: LD_EXP 7
3316: PUSH
3317: LD_INT 2
3319: ARRAY
3320: PPUSH
3321: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_siberit , starting_resources [ mat_siberit ] ) ;
3325: LD_VAR 0 10
3329: PPUSH
3330: CALL_OW 274
3334: PPUSH
3335: LD_INT 3
3337: PPUSH
3338: LD_EXP 7
3342: PUSH
3343: LD_INT 3
3345: ARRAY
3346: PPUSH
3347: CALL_OW 277
// end else
3351: GO 3497
// begin for i := 1 to 3 do
3353: LD_ADDR_VAR 0 7
3357: PUSH
3358: DOUBLE
3359: LD_INT 1
3361: DEC
3362: ST_TO_ADDR
3363: LD_INT 3
3365: PUSH
3366: FOR_TO
3367: IFFALSE 3495
// begin r := starting_resources [ i ] ;
3369: LD_ADDR_VAR 0 8
3373: PUSH
3374: LD_EXP 7
3378: PUSH
3379: LD_VAR 0 7
3383: ARRAY
3384: ST_TO_ADDR
// while r >= 10 do
3385: LD_VAR 0 8
3389: PUSH
3390: LD_INT 10
3392: GREATEREQUAL
3393: IFFALSE 3493
// if r > 50 then
3395: LD_VAR 0 8
3399: PUSH
3400: LD_INT 50
3402: GREATER
3403: IFFALSE 3449
// begin CreateResourcesXYR ( i , 5 , x , y , 4 , false ) ;
3405: LD_VAR 0 7
3409: PPUSH
3410: LD_INT 5
3412: PPUSH
3413: LD_VAR 0 4
3417: PPUSH
3418: LD_VAR 0 5
3422: PPUSH
3423: LD_INT 4
3425: PPUSH
3426: LD_INT 0
3428: PPUSH
3429: CALL_OW 60
// r := r - 50 ;
3433: LD_ADDR_VAR 0 8
3437: PUSH
3438: LD_VAR 0 8
3442: PUSH
3443: LD_INT 50
3445: MINUS
3446: ST_TO_ADDR
// end else
3447: GO 3491
// begin CreateResourcesXYR ( i , r div 10 , x , y , 4 , false ) ;
3449: LD_VAR 0 7
3453: PPUSH
3454: LD_VAR 0 8
3458: PUSH
3459: LD_INT 10
3461: DIV
3462: PPUSH
3463: LD_VAR 0 4
3467: PPUSH
3468: LD_VAR 0 5
3472: PPUSH
3473: LD_INT 4
3475: PPUSH
3476: LD_INT 0
3478: PPUSH
3479: CALL_OW 60
// r := 0 ;
3483: LD_ADDR_VAR 0 8
3487: PUSH
3488: LD_INT 0
3490: ST_TO_ADDR
// end ;
3491: GO 3385
// end ;
3493: GO 3366
3495: POP
3496: POP
// end ; for r in starting_crates do
3497: LD_ADDR_VAR 0 8
3501: PUSH
3502: LD_EXP 6
3506: PUSH
3507: FOR_IN
3508: IFFALSE 3540
// CreateResourcesXYR ( mat_cans , 5 , x , y , r , false ) ;
3510: LD_INT 1
3512: PPUSH
3513: LD_INT 5
3515: PPUSH
3516: LD_VAR 0 4
3520: PPUSH
3521: LD_VAR 0 5
3525: PPUSH
3526: LD_VAR 0 8
3530: PPUSH
3531: LD_INT 0
3533: PPUSH
3534: CALL_OW 60
3538: GO 3507
3540: POP
3541: POP
// if def_morale_flags then
3542: LD_EXP 47
3546: IFFALSE 3685
// begin x := start_def [ pos ] [ 1 ] ;
3548: LD_ADDR_VAR 0 4
3552: PUSH
3553: LD_EXP 24
3557: PUSH
3558: LD_VAR 0 3
3562: ARRAY
3563: PUSH
3564: LD_INT 1
3566: ARRAY
3567: ST_TO_ADDR
// y := start_def [ pos ] [ 2 ] ;
3568: LD_ADDR_VAR 0 5
3572: PUSH
3573: LD_EXP 24
3577: PUSH
3578: LD_VAR 0 3
3582: ARRAY
3583: PUSH
3584: LD_INT 2
3586: ARRAY
3587: ST_TO_ADDR
// PlaceEnvironment ( x , y , 12 , 2 ) ;
3588: LD_VAR 0 4
3592: PPUSH
3593: LD_VAR 0 5
3597: PPUSH
3598: LD_INT 12
3600: PPUSH
3601: LD_INT 2
3603: PPUSH
3604: CALL_OW 349
// battle_flags_id := battle_flags_id ^ SetBattleFlag ( side , x , y , [ [ bfo_defend_bonus_human , 100 ] , [ bfo_defend_bonus_vehicle , 50 ] , [ bfo_defend_bonus_building , 20 ] , [ bfo_height , 100 ] ] ) ;
3608: LD_ADDR_EXP 25
3612: PUSH
3613: LD_EXP 25
3617: PUSH
3618: LD_VAR 0 1
3622: PPUSH
3623: LD_VAR 0 4
3627: PPUSH
3628: LD_VAR 0 5
3632: PPUSH
3633: LD_INT 1
3635: PUSH
3636: LD_INT 100
3638: PUSH
3639: EMPTY
3640: LIST
3641: LIST
3642: PUSH
3643: LD_INT 2
3645: PUSH
3646: LD_INT 50
3648: PUSH
3649: EMPTY
3650: LIST
3651: LIST
3652: PUSH
3653: LD_INT 3
3655: PUSH
3656: LD_INT 20
3658: PUSH
3659: EMPTY
3660: LIST
3661: LIST
3662: PUSH
3663: LD_INT 20
3665: PUSH
3666: LD_INT 100
3668: PUSH
3669: EMPTY
3670: LIST
3671: LIST
3672: PUSH
3673: EMPTY
3674: LIST
3675: LIST
3676: LIST
3677: LIST
3678: PPUSH
3679: CALL_OW 418
3683: ADD
3684: ST_TO_ADDR
// end ; commander := true ;
3685: LD_ADDR_LOC 1
3689: PUSH
3690: LD_INT 1
3692: ST_TO_ADDR
// soldiers_created := 0 ;
3693: LD_ADDR_LOC 4
3697: PUSH
3698: LD_INT 0
3700: ST_TO_ADDR
// for i := 1 to number_of_breastworks do
3701: LD_ADDR_VAR 0 7
3705: PUSH
3706: DOUBLE
3707: LD_INT 1
3709: DEC
3710: ST_TO_ADDR
3711: LD_EXP 3
3715: PUSH
3716: FOR_TO
3717: IFFALSE 3870
// begin x := breastworks_def [ pos ] [ i ] [ 1 ] ;
3719: LD_ADDR_VAR 0 4
3723: PUSH
3724: LD_EXP 23
3728: PUSH
3729: LD_VAR 0 3
3733: ARRAY
3734: PUSH
3735: LD_VAR 0 7
3739: ARRAY
3740: PUSH
3741: LD_INT 1
3743: ARRAY
3744: ST_TO_ADDR
// y := breastworks_def [ pos ] [ i ] [ 2 ] ;
3745: LD_ADDR_VAR 0 5
3749: PUSH
3750: LD_EXP 23
3754: PUSH
3755: LD_VAR 0 3
3759: ARRAY
3760: PUSH
3761: LD_VAR 0 7
3765: ARRAY
3766: PUSH
3767: LD_INT 2
3769: ARRAY
3770: ST_TO_ADDR
// dir := breastworks_def [ pos ] [ i ] [ 3 ] ;
3771: LD_ADDR_VAR 0 6
3775: PUSH
3776: LD_EXP 23
3780: PUSH
3781: LD_VAR 0 3
3785: ARRAY
3786: PUSH
3787: LD_VAR 0 7
3791: ARRAY
3792: PUSH
3793: LD_INT 3
3795: ARRAY
3796: ST_TO_ADDR
// bc_type := b_breastwork ;
3797: LD_ADDR_OWVAR 42
3801: PUSH
3802: LD_INT 31
3804: ST_TO_ADDR
// br := CreateAndPlaceBuildingXYD ( x , y , dir ) ;
3805: LD_ADDR_VAR 0 9
3809: PUSH
3810: LD_VAR 0 4
3814: PPUSH
3815: LD_VAR 0 5
3819: PPUSH
3820: LD_VAR 0 6
3824: PPUSH
3825: CALL_OW 47
3829: ST_TO_ADDR
// prepare_people ( 1 , class_soldier , 0 , 0 , 0 , br ) ;
3830: LD_INT 1
3832: PPUSH
3833: LD_INT 1
3835: PPUSH
3836: LD_INT 0
3838: PPUSH
3839: LD_INT 0
3841: PPUSH
3842: LD_INT 0
3844: PPUSH
3845: LD_VAR 0 9
3849: PPUSH
3850: CALL 2496 0 6
// soldiers_created := soldiers_created + 1 ;
3854: LD_ADDR_LOC 4
3858: PUSH
3859: LD_LOC 4
3863: PUSH
3864: LD_INT 1
3866: PLUS
3867: ST_TO_ADDR
// end ;
3868: GO 3716
3870: POP
3871: POP
// x := start_def [ pos ] [ 1 ] ;
3872: LD_ADDR_VAR 0 4
3876: PUSH
3877: LD_EXP 24
3881: PUSH
3882: LD_VAR 0 3
3886: ARRAY
3887: PUSH
3888: LD_INT 1
3890: ARRAY
3891: ST_TO_ADDR
// y := start_def [ pos ] [ 2 ] ;
3892: LD_ADDR_VAR 0 5
3896: PUSH
3897: LD_EXP 24
3901: PUSH
3902: LD_VAR 0 3
3906: ARRAY
3907: PUSH
3908: LD_INT 2
3910: ARRAY
3911: ST_TO_ADDR
// prepare_people ( nsol - number_of_breastworks , class_soldier , x , y , 5 , 0 ) ;
3912: LD_LOC 8
3916: PUSH
3917: LD_EXP 3
3921: MINUS
3922: PPUSH
3923: LD_INT 1
3925: PPUSH
3926: LD_VAR 0 4
3930: PPUSH
3931: LD_VAR 0 5
3935: PPUSH
3936: LD_INT 5
3938: PPUSH
3939: LD_INT 0
3941: PPUSH
3942: CALL 2496 0 6
// prepare_people ( neng , class_engineer , x , y , 5 , 0 ) ;
3946: LD_LOC 5
3950: PPUSH
3951: LD_INT 2
3953: PPUSH
3954: LD_VAR 0 4
3958: PPUSH
3959: LD_VAR 0 5
3963: PPUSH
3964: LD_INT 5
3966: PPUSH
3967: LD_INT 0
3969: PPUSH
3970: CALL 2496 0 6
// prepare_people ( nmech , class_mechanic , x , y , 5 , 0 ) ;
3974: LD_LOC 7
3978: PPUSH
3979: LD_INT 3
3981: PPUSH
3982: LD_VAR 0 4
3986: PPUSH
3987: LD_VAR 0 5
3991: PPUSH
3992: LD_INT 5
3994: PPUSH
3995: LD_INT 0
3997: PPUSH
3998: CALL 2496 0 6
// prepare_people ( nsci , class_scientistic , x , y , 5 , 0 ) ;
4002: LD_LOC 6
4006: PPUSH
4007: LD_INT 4
4009: PPUSH
4010: LD_VAR 0 4
4014: PPUSH
4015: LD_VAR 0 5
4019: PPUSH
4020: LD_INT 5
4022: PPUSH
4023: LD_INT 0
4025: PPUSH
4026: CALL 2496 0 6
// if def_siberite_detection and GetTech ( tech_sibdet , side ) = state_enabled then
4030: LD_EXP 48
4034: PUSH
4035: LD_INT 20
4037: PPUSH
4038: LD_VAR 0 1
4042: PPUSH
4043: CALL_OW 321
4047: PUSH
4048: LD_INT 1
4050: EQUAL
4051: AND
4052: IFFALSE 4069
// SetTech ( tech_SibDet , side , state_researched ) ;
4054: LD_INT 20
4056: PPUSH
4057: LD_VAR 0 1
4061: PPUSH
4062: LD_INT 2
4064: PPUSH
4065: CALL_OW 322
// if def_siberite_bomb = 1 then
4069: LD_EXP 51
4073: PUSH
4074: LD_INT 1
4076: EQUAL
4077: IFFALSE 4111
// begin SetTech ( tech_SibFiss , side , state_enabled ) ;
4079: LD_INT 25
4081: PPUSH
4082: LD_VAR 0 1
4086: PPUSH
4087: LD_INT 1
4089: PPUSH
4090: CALL_OW 322
// SetTech ( 73 , side , state_enabled ) ;
4094: LD_INT 73
4096: PPUSH
4097: LD_VAR 0 1
4101: PPUSH
4102: LD_INT 1
4104: PPUSH
4105: CALL_OW 322
// end else
4109: GO 4141
// begin SetTech ( tech_SibFiss , side , state_disabled ) ;
4111: LD_INT 25
4113: PPUSH
4114: LD_VAR 0 1
4118: PPUSH
4119: LD_INT 0
4121: PPUSH
4122: CALL_OW 322
// SetTech ( 73 , side , state_disabled ) ;
4126: LD_INT 73
4128: PPUSH
4129: LD_VAR 0 1
4133: PPUSH
4134: LD_INT 0
4136: PPUSH
4137: CALL_OW 322
// end ; SetTech ( tech_artifact , side , state_disabled ) ;
4141: LD_INT 24
4143: PPUSH
4144: LD_VAR 0 1
4148: PPUSH
4149: LD_INT 0
4151: PPUSH
4152: CALL_OW 322
// global_defined := true ;
4156: LD_ADDR_LOC 3
4160: PUSH
4161: LD_INT 1
4163: ST_TO_ADDR
// end ;
4164: LD_VAR 0 2
4168: RET
// every 0 0$1 do
4169: GO 4171
4171: DISABLE
// if ( def_siberite_bomb > 1 ) then
4172: LD_EXP 51
4176: PUSH
4177: LD_INT 1
4179: GREATER
4180: IFFALSE 4195
// begin wait ( siberite_bomb_Delay ) ;
4182: LD_EXP 12
4186: PPUSH
4187: CALL_OW 67
// EnableSibFiss ;
4191: CALL 4196 0 0
// end ;
4195: END
// function EnableSibFiss ; var i ; begin
4196: LD_INT 0
4198: PPUSH
4199: PPUSH
// for i := 1 to 8 do
4200: LD_ADDR_VAR 0 2
4204: PUSH
4205: DOUBLE
4206: LD_INT 1
4208: DEC
4209: ST_TO_ADDR
4210: LD_INT 8
4212: PUSH
4213: FOR_TO
4214: IFFALSE 4260
// if Side_Positions [ i ] then
4216: LD_EXP 19
4220: PUSH
4221: LD_VAR 0 2
4225: ARRAY
4226: IFFALSE 4258
// begin SetTech ( tech_SibFiss , i , state_enabled ) ;
4228: LD_INT 25
4230: PPUSH
4231: LD_VAR 0 2
4235: PPUSH
4236: LD_INT 1
4238: PPUSH
4239: CALL_OW 322
// SetTech ( 73 , i , state_enabled ) ;
4243: LD_INT 73
4245: PPUSH
4246: LD_VAR 0 2
4250: PPUSH
4251: LD_INT 1
4253: PPUSH
4254: CALL_OW 322
// end ;
4258: GO 4213
4260: POP
4261: POP
// end ;
4262: LD_VAR 0 1
4266: RET
// function prepare_sides ; var i ; begin
4267: LD_INT 0
4269: PPUSH
4270: PPUSH
// global_units := [ ] ;
4271: LD_ADDR_LOC 2
4275: PUSH
4276: EMPTY
4277: ST_TO_ADDR
// global_defined := false ;
4278: LD_ADDR_LOC 3
4282: PUSH
4283: LD_INT 0
4285: ST_TO_ADDR
// CountClassMembers ;
4286: CALL 4336 0 0
// for i := 1 to 8 do
4290: LD_ADDR_VAR 0 2
4294: PUSH
4295: DOUBLE
4296: LD_INT 1
4298: DEC
4299: ST_TO_ADDR
4300: LD_INT 8
4302: PUSH
4303: FOR_TO
4304: IFFALSE 4329
// if Side_Positions [ i ] then
4306: LD_EXP 19
4310: PUSH
4311: LD_VAR 0 2
4315: ARRAY
4316: IFFALSE 4327
// prepare_side ( i ) ;
4318: LD_VAR 0 2
4322: PPUSH
4323: CALL 3084 0 1
4327: GO 4303
4329: POP
4330: POP
// end ;
4331: LD_VAR 0 1
4335: RET
// function CountClassMembers ; var Mode ; begin
4336: LD_INT 0
4338: PPUSH
4339: PPUSH
// if No_Mechs then
4340: LD_EXP 53
4344: IFFALSE 4356
// Mode := 2 else
4346: LD_ADDR_VAR 0 2
4350: PUSH
4351: LD_INT 2
4353: ST_TO_ADDR
4354: GO 4364
// Mode := 1 ;
4356: LD_ADDR_VAR 0 2
4360: PUSH
4361: LD_INT 1
4363: ST_TO_ADDR
// neng := number_of_people ;
4364: LD_ADDR_LOC 5
4368: PUSH
4369: LD_EXP 4
4373: ST_TO_ADDR
// nsol := neng div [ 4 , 3 ] [ Mode ] ;
4374: LD_ADDR_LOC 8
4378: PUSH
4379: LD_LOC 5
4383: PUSH
4384: LD_INT 4
4386: PUSH
4387: LD_INT 3
4389: PUSH
4390: EMPTY
4391: LIST
4392: LIST
4393: PUSH
4394: LD_VAR 0 2
4398: ARRAY
4399: DIV
4400: ST_TO_ADDR
// if ( nsol < number_of_breastworks ) then
4401: LD_LOC 8
4405: PUSH
4406: LD_EXP 3
4410: LESS
4411: IFFALSE 4423
// nsol := number_of_breastworks ;
4413: LD_ADDR_LOC 8
4417: PUSH
4418: LD_EXP 3
4422: ST_TO_ADDR
// neng := neng - nsol ;
4423: LD_ADDR_LOC 5
4427: PUSH
4428: LD_LOC 5
4432: PUSH
4433: LD_LOC 8
4437: MINUS
4438: ST_TO_ADDR
// nsci := neng div [ 3 , 2 ] [ Mode ] ;
4439: LD_ADDR_LOC 6
4443: PUSH
4444: LD_LOC 5
4448: PUSH
4449: LD_INT 3
4451: PUSH
4452: LD_INT 2
4454: PUSH
4455: EMPTY
4456: LIST
4457: LIST
4458: PUSH
4459: LD_VAR 0 2
4463: ARRAY
4464: DIV
4465: ST_TO_ADDR
// if ( nsci < 1 ) then
4466: LD_LOC 6
4470: PUSH
4471: LD_INT 1
4473: LESS
4474: IFFALSE 4484
// nsci := 1 ;
4476: LD_ADDR_LOC 6
4480: PUSH
4481: LD_INT 1
4483: ST_TO_ADDR
// neng := neng - nsci ;
4484: LD_ADDR_LOC 5
4488: PUSH
4489: LD_LOC 5
4493: PUSH
4494: LD_LOC 6
4498: MINUS
4499: ST_TO_ADDR
// nmech := [ neng div 2 , 0 ] [ Mode ] ;
4500: LD_ADDR_LOC 7
4504: PUSH
4505: LD_LOC 5
4509: PUSH
4510: LD_INT 2
4512: DIV
4513: PUSH
4514: LD_INT 0
4516: PUSH
4517: EMPTY
4518: LIST
4519: LIST
4520: PUSH
4521: LD_VAR 0 2
4525: ARRAY
4526: ST_TO_ADDR
// neng := neng - nmech ;
4527: LD_ADDR_LOC 5
4531: PUSH
4532: LD_LOC 5
4536: PUSH
4537: LD_LOC 7
4541: MINUS
4542: ST_TO_ADDR
// if ( neng < 1 ) then
4543: LD_LOC 5
4547: PUSH
4548: LD_INT 1
4550: LESS
4551: IFFALSE 4561
// neng := 1 ;
4553: LD_ADDR_LOC 5
4557: PUSH
4558: LD_INT 1
4560: ST_TO_ADDR
// end ;
4561: LD_VAR 0 1
4565: RET
// starting begin disable ( 98 ) ;
4566: LD_INT 98
4568: DISABLE_MARKED
// disable ( 99 ) ;
4569: LD_INT 99
4571: DISABLE_MARKED
// disable ( 400 ) ;
4572: LD_INT 400
4574: DISABLE_MARKED
// disable ( 401 ) ;
4575: LD_INT 401
4577: DISABLE_MARKED
// disable ( 600 ) ;
4578: LD_INT 600
4580: DISABLE_MARKED
// mp_selectmsg := true ;
4581: LD_ADDR_OWVAR 13
4585: PUSH
4586: LD_INT 1
4588: ST_TO_ADDR
// read_multiplayer_and_game_parameters ;
4589: CALL 68 0 0
// prepare_map_coordinates ;
4593: CALL 1401 0 0
// set_shared_visions_and_alliances ;
4597: CALL 2208 0 0
// ResetFog ;
4601: CALL_OW 335
// ClearAllFogForSide ( your_side ) ;
4605: LD_OWVAR 2
4609: PPUSH
4610: CALL_OW 520
// prepare_sides ;
4614: CALL 4267 0 0
// init_respawning ;
4618: CALL 17634 0 0
// Init_Win_Condition ;
4622: CALL 15784 0 0
// InitLimits ;
4626: CALL 9632 0 0
// ShowTimer ;
4630: CALL 10569 0 0
// music_nat := Side_Nations [ your_side ] ;
4634: LD_ADDR_OWVAR 71
4638: PUSH
4639: LD_EXP 20
4643: PUSH
4644: LD_OWVAR 2
4648: ARRAY
4649: ST_TO_ADDR
// if IAmSpec then
4650: CALL_OW 531
4654: IFFALSE 4678
// begin fogoff ( true ) ;
4656: LD_INT 1
4658: PPUSH
4659: CALL_OW 344
// CenterNowOnXY ( 79 , 59 ) ;
4663: LD_INT 79
4665: PPUSH
4666: LD_INT 59
4668: PPUSH
4669: CALL_OW 86
// enable ( 400 ) ;
4673: LD_INT 400
4675: ENABLE_MARKED
// end else
4676: GO 4724
// begin CenterNowOnXY ( start_def [ Side_Positions [ your_side ] ] [ 1 ] , start_def [ Side_Positions [ your_side ] ] [ 2 ] ) ;
4678: LD_EXP 24
4682: PUSH
4683: LD_EXP 19
4687: PUSH
4688: LD_OWVAR 2
4692: ARRAY
4693: ARRAY
4694: PUSH
4695: LD_INT 1
4697: ARRAY
4698: PPUSH
4699: LD_EXP 24
4703: PUSH
4704: LD_EXP 19
4708: PUSH
4709: LD_OWVAR 2
4713: ARRAY
4714: ARRAY
4715: PUSH
4716: LD_INT 2
4718: ARRAY
4719: PPUSH
4720: CALL_OW 86
// end ; AnimateTrees ( true ) ;
4724: LD_INT 1
4726: PPUSH
4727: CALL_OW 573
// InitApeman ;
4731: CALL 4954 0 0
// BuildUpAreas := [ BuildUp1 , BuildUp2 , BuildUp3 , BuildUp4 ] ;
4735: LD_ADDR_EXP 56
4739: PUSH
4740: LD_INT 8
4742: PUSH
4743: LD_INT 11
4745: PUSH
4746: LD_INT 9
4748: PUSH
4749: LD_INT 10
4751: PUSH
4752: EMPTY
4753: LIST
4754: LIST
4755: LIST
4756: LIST
4757: ST_TO_ADDR
// BeginBuildUp ;
4758: CALL 10778 0 0
// end ; end_of_file
4762: END
// every 20 20$00 trigger apemanNumber do
4763: LD_EXP 30
4767: IFFALSE 4800
4769: GO 4771
4771: DISABLE
// begin enable ;
4772: ENABLE
// if apeLevel >= 8 then
4773: LD_EXP 35
4777: PUSH
4778: LD_INT 8
4780: GREATEREQUAL
4781: IFFALSE 4786
// disable else
4783: DISABLE
4784: GO 4800
// apeLevel := apeLevel + 1 ;
4786: LD_ADDR_EXP 35
4790: PUSH
4791: LD_EXP 35
4795: PUSH
4796: LD_INT 1
4798: PLUS
4799: ST_TO_ADDR
// end ;
4800: END
// every 2 2$30 trigger apemanNumber < apemanLimit do var i , ape , pos , j ;
4801: LD_EXP 30
4805: PUSH
4806: LD_EXP 31
4810: LESS
4811: IFFALSE 4951
4813: GO 4815
4815: DISABLE
4816: LD_INT 0
4818: PPUSH
4819: PPUSH
4820: PPUSH
4821: PPUSH
// begin enable ;
4822: ENABLE
// for i := 1 to apemanPos do
4823: LD_ADDR_VAR 0 1
4827: PUSH
4828: DOUBLE
4829: LD_INT 1
4831: DEC
4832: ST_TO_ADDR
4833: LD_EXP 33
4837: PUSH
4838: FOR_TO
4839: IFFALSE 4949
// begin if apemanPlayerCount [ i ] then
4841: LD_EXP 34
4845: PUSH
4846: LD_VAR 0 1
4850: ARRAY
4851: IFFALSE 4947
// begin if apemanPlayerCount [ i ] > apemanPos [ i ] then
4853: LD_EXP 34
4857: PUSH
4858: LD_VAR 0 1
4862: ARRAY
4863: PUSH
4864: LD_EXP 33
4868: PUSH
4869: LD_VAR 0 1
4873: ARRAY
4874: GREATER
4875: IFFALSE 4947
// begin ape := PrepareApeman ;
4877: LD_ADDR_VAR 0 2
4881: PUSH
4882: CALL 5454 0 0
4886: ST_TO_ADDR
// PlaceUnitArea ( ape , apeAreas [ i ] , false ) ;
4887: LD_VAR 0 2
4891: PPUSH
4892: LD_EXP 36
4896: PUSH
4897: LD_VAR 0 1
4901: ARRAY
4902: PPUSH
4903: LD_INT 0
4905: PPUSH
4906: CALL_OW 49
// apemanPos := Replace ( apemanPos , i , apemanPos [ i ] union ape ) ;
4910: LD_ADDR_EXP 33
4914: PUSH
4915: LD_EXP 33
4919: PPUSH
4920: LD_VAR 0 1
4924: PPUSH
4925: LD_EXP 33
4929: PUSH
4930: LD_VAR 0 1
4934: ARRAY
4935: PUSH
4936: LD_VAR 0 2
4940: UNION
4941: PPUSH
4942: CALL_OW 1
4946: ST_TO_ADDR
// end ; end ; end ;
4947: GO 4838
4949: POP
4950: POP
// end ;
4951: PPOPN 4
4953: END
// export apemanNumber , apemanLimit , apemanPerPlayer , apemanPos , apemanPlayerCount , apeLevel , apeAreas ; export function InitApeman ; var i , playersAmount , j , ape , pos , _apeAreas ; begin
4954: LD_INT 0
4956: PPUSH
4957: PPUSH
4958: PPUSH
4959: PPUSH
4960: PPUSH
4961: PPUSH
4962: PPUSH
// playersAmount := 0 ;
4963: LD_ADDR_VAR 0 3
4967: PUSH
4968: LD_INT 0
4970: ST_TO_ADDR
// _apeAreas := [ Base1ApeArea , Base2ApeArea , Base3ApeArea , Base4ApeArea , ] ;
4971: LD_ADDR_VAR 0 7
4975: PUSH
4976: LD_INT 13
4978: PUSH
4979: LD_INT 14
4981: PUSH
4982: LD_INT 15
4984: PUSH
4985: LD_INT 16
4987: PUSH
4988: EMPTY
4989: LIST
4990: LIST
4991: LIST
4992: LIST
4993: ST_TO_ADDR
// apeAreas := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
4994: LD_ADDR_EXP 36
4998: PUSH
4999: LD_INT 0
5001: PUSH
5002: LD_INT 0
5004: PUSH
5005: LD_INT 0
5007: PUSH
5008: LD_INT 0
5010: PUSH
5011: LD_INT 0
5013: PUSH
5014: LD_INT 0
5016: PUSH
5017: LD_INT 0
5019: PUSH
5020: LD_INT 0
5022: PUSH
5023: EMPTY
5024: LIST
5025: LIST
5026: LIST
5027: LIST
5028: LIST
5029: LIST
5030: LIST
5031: LIST
5032: ST_TO_ADDR
// for j = 1 to Side_Positions do
5033: LD_ADDR_VAR 0 4
5037: PUSH
5038: DOUBLE
5039: LD_INT 1
5041: DEC
5042: ST_TO_ADDR
5043: LD_EXP 19
5047: PUSH
5048: FOR_TO
5049: IFFALSE 5116
// if Side_Positions [ j ] then
5051: LD_EXP 19
5055: PUSH
5056: LD_VAR 0 4
5060: ARRAY
5061: IFFALSE 5114
// begin playersAmount := playersAmount + 1 ;
5063: LD_ADDR_VAR 0 3
5067: PUSH
5068: LD_VAR 0 3
5072: PUSH
5073: LD_INT 1
5075: PLUS
5076: ST_TO_ADDR
// apeAreas := Replace ( apeAreas , j , _apeAreas [ Side_Positions [ j ] ] ) ;
5077: LD_ADDR_EXP 36
5081: PUSH
5082: LD_EXP 36
5086: PPUSH
5087: LD_VAR 0 4
5091: PPUSH
5092: LD_VAR 0 7
5096: PUSH
5097: LD_EXP 19
5101: PUSH
5102: LD_VAR 0 4
5106: ARRAY
5107: ARRAY
5108: PPUSH
5109: CALL_OW 1
5113: ST_TO_ADDR
// end ;
5114: GO 5048
5116: POP
5117: POP
// apemanPerPlayer := 3 * amount_of_apemen ;
5118: LD_ADDR_EXP 32
5122: PUSH
5123: LD_INT 3
5125: PUSH
5126: LD_EXP 13
5130: MUL
5131: ST_TO_ADDR
// apemanNumber := playersAmount * apemanPerPlayer ;
5132: LD_ADDR_EXP 30
5136: PUSH
5137: LD_VAR 0 3
5141: PUSH
5142: LD_EXP 32
5146: MUL
5147: ST_TO_ADDR
// apemanLimit := apemanNumber ;
5148: LD_ADDR_EXP 31
5152: PUSH
5153: LD_EXP 30
5157: ST_TO_ADDR
// apemanPos := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
5158: LD_ADDR_EXP 33
5162: PUSH
5163: LD_INT 0
5165: PUSH
5166: LD_INT 0
5168: PUSH
5169: LD_INT 0
5171: PUSH
5172: LD_INT 0
5174: PUSH
5175: LD_INT 0
5177: PUSH
5178: LD_INT 0
5180: PUSH
5181: LD_INT 0
5183: PUSH
5184: LD_INT 0
5186: PUSH
5187: EMPTY
5188: LIST
5189: LIST
5190: LIST
5191: LIST
5192: LIST
5193: LIST
5194: LIST
5195: LIST
5196: ST_TO_ADDR
// apemanPlayerCount := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
5197: LD_ADDR_EXP 34
5201: PUSH
5202: LD_INT 0
5204: PUSH
5205: LD_INT 0
5207: PUSH
5208: LD_INT 0
5210: PUSH
5211: LD_INT 0
5213: PUSH
5214: LD_INT 0
5216: PUSH
5217: LD_INT 0
5219: PUSH
5220: LD_INT 0
5222: PUSH
5223: LD_INT 0
5225: PUSH
5226: EMPTY
5227: LIST
5228: LIST
5229: LIST
5230: LIST
5231: LIST
5232: LIST
5233: LIST
5234: LIST
5235: ST_TO_ADDR
// apeLevel := 1 ;
5236: LD_ADDR_EXP 35
5240: PUSH
5241: LD_INT 1
5243: ST_TO_ADDR
// if not apemanNumber then
5244: LD_EXP 30
5248: NOT
5249: IFFALSE 5253
// exit ;
5251: GO 5449
// for i := 1 to apemanPerPlayer do
5253: LD_ADDR_VAR 0 2
5257: PUSH
5258: DOUBLE
5259: LD_INT 1
5261: DEC
5262: ST_TO_ADDR
5263: LD_EXP 32
5267: PUSH
5268: FOR_TO
5269: IFFALSE 5447
// begin for j := 1 to Side_Positions do
5271: LD_ADDR_VAR 0 4
5275: PUSH
5276: DOUBLE
5277: LD_INT 1
5279: DEC
5280: ST_TO_ADDR
5281: LD_EXP 19
5285: PUSH
5286: FOR_TO
5287: IFFALSE 5443
// if Side_Positions [ j ] then
5289: LD_EXP 19
5293: PUSH
5294: LD_VAR 0 4
5298: ARRAY
5299: IFFALSE 5441
// begin pos := Side_Positions [ j ] ;
5301: LD_ADDR_VAR 0 6
5305: PUSH
5306: LD_EXP 19
5310: PUSH
5311: LD_VAR 0 4
5315: ARRAY
5316: ST_TO_ADDR
// apemanPlayerCount := Replace ( apemanPlayerCount , j , apemanPlayerCount [ j ] + 1 ) ;
5317: LD_ADDR_EXP 34
5321: PUSH
5322: LD_EXP 34
5326: PPUSH
5327: LD_VAR 0 4
5331: PPUSH
5332: LD_EXP 34
5336: PUSH
5337: LD_VAR 0 4
5341: ARRAY
5342: PUSH
5343: LD_INT 1
5345: PLUS
5346: PPUSH
5347: CALL_OW 1
5351: ST_TO_ADDR
// ape := PrepareApeman ;
5352: LD_ADDR_VAR 0 5
5356: PUSH
5357: CALL 5454 0 0
5361: ST_TO_ADDR
// apemanPos := Replace ( apemanPos , j , Replace ( apemanPos [ j ] , apemanPos [ j ] + 1 , ape ) ) ;
5362: LD_ADDR_EXP 33
5366: PUSH
5367: LD_EXP 33
5371: PPUSH
5372: LD_VAR 0 4
5376: PPUSH
5377: LD_EXP 33
5381: PUSH
5382: LD_VAR 0 4
5386: ARRAY
5387: PPUSH
5388: LD_EXP 33
5392: PUSH
5393: LD_VAR 0 4
5397: ARRAY
5398: PUSH
5399: LD_INT 1
5401: PLUS
5402: PPUSH
5403: LD_VAR 0 5
5407: PPUSH
5408: CALL_OW 1
5412: PPUSH
5413: CALL_OW 1
5417: ST_TO_ADDR
// PlaceUnitArea ( ape , apeAreas [ j ] , false ) ;
5418: LD_VAR 0 5
5422: PPUSH
5423: LD_EXP 36
5427: PUSH
5428: LD_VAR 0 4
5432: ARRAY
5433: PPUSH
5434: LD_INT 0
5436: PPUSH
5437: CALL_OW 49
// end ;
5441: GO 5286
5443: POP
5444: POP
// end ;
5445: GO 5268
5447: POP
5448: POP
// end ;
5449: LD_VAR 0 1
5453: RET
// export function PrepareApeman ; var bonus ; begin
5454: LD_INT 0
5456: PPUSH
5457: PPUSH
// uc_side := 0 ;
5458: LD_ADDR_OWVAR 20
5462: PUSH
5463: LD_INT 0
5465: ST_TO_ADDR
// uc_nation := 0 ;
5466: LD_ADDR_OWVAR 21
5470: PUSH
5471: LD_INT 0
5473: ST_TO_ADDR
// InitHc ;
5474: CALL_OW 19
// bonus := [ - 1 , 0 , 1 ] [ tick mod 3 + 1 ] ;
5478: LD_ADDR_VAR 0 2
5482: PUSH
5483: LD_INT 1
5485: NEG
5486: PUSH
5487: LD_INT 0
5489: PUSH
5490: LD_INT 1
5492: PUSH
5493: EMPTY
5494: LIST
5495: LIST
5496: LIST
5497: PUSH
5498: LD_OWVAR 1
5502: PUSH
5503: LD_INT 3
5505: MOD
5506: PUSH
5507: LD_INT 1
5509: PLUS
5510: ARRAY
5511: ST_TO_ADDR
// hc_class := class_apeman ;
5512: LD_ADDR_OWVAR 28
5516: PUSH
5517: LD_INT 12
5519: ST_TO_ADDR
// hc_gallery :=  ;
5520: LD_ADDR_OWVAR 33
5524: PUSH
5525: LD_STRING 
5527: ST_TO_ADDR
// hc_name :=  ;
5528: LD_ADDR_OWVAR 26
5532: PUSH
5533: LD_STRING 
5535: ST_TO_ADDR
// hc_skills := [ apeLevel + bonus , apeLevel + bonus , apeLevel + bonus , apeLevel + bonus ] ;
5536: LD_ADDR_OWVAR 31
5540: PUSH
5541: LD_EXP 35
5545: PUSH
5546: LD_VAR 0 2
5550: PLUS
5551: PUSH
5552: LD_EXP 35
5556: PUSH
5557: LD_VAR 0 2
5561: PLUS
5562: PUSH
5563: LD_EXP 35
5567: PUSH
5568: LD_VAR 0 2
5572: PLUS
5573: PUSH
5574: LD_EXP 35
5578: PUSH
5579: LD_VAR 0 2
5583: PLUS
5584: PUSH
5585: EMPTY
5586: LIST
5587: LIST
5588: LIST
5589: LIST
5590: ST_TO_ADDR
// hc_agressivity := 10 * bonus ;
5591: LD_ADDR_OWVAR 35
5595: PUSH
5596: LD_INT 10
5598: PUSH
5599: LD_VAR 0 2
5603: MUL
5604: ST_TO_ADDR
// hc_attr := [ 12 , 10 ] ;
5605: LD_ADDR_OWVAR 29
5609: PUSH
5610: LD_INT 12
5612: PUSH
5613: LD_INT 10
5615: PUSH
5616: EMPTY
5617: LIST
5618: LIST
5619: ST_TO_ADDR
// result := CreateHuman ;
5620: LD_ADDR_VAR 0 1
5624: PUSH
5625: CALL_OW 44
5629: ST_TO_ADDR
// end ;
5630: LD_VAR 0 1
5634: RET
// export function ApeKilled ( ape ) ; var side , i ; begin
5635: LD_INT 0
5637: PPUSH
5638: PPUSH
5639: PPUSH
// if not ape then
5640: LD_VAR 0 1
5644: NOT
5645: IFFALSE 5649
// exit ;
5647: GO 5774
// side := GetSide ( ape ) ;
5649: LD_ADDR_VAR 0 3
5653: PUSH
5654: LD_VAR 0 1
5658: PPUSH
5659: CALL_OW 255
5663: ST_TO_ADDR
// if not side then
5664: LD_VAR 0 3
5668: NOT
5669: IFFALSE 5723
// begin for i = 1 to apemanPos do
5671: LD_ADDR_VAR 0 4
5675: PUSH
5676: DOUBLE
5677: LD_INT 1
5679: DEC
5680: ST_TO_ADDR
5681: LD_EXP 33
5685: PUSH
5686: FOR_TO
5687: IFFALSE 5721
// if ape in apemanPos [ i ] then
5689: LD_VAR 0 1
5693: PUSH
5694: LD_EXP 33
5698: PUSH
5699: LD_VAR 0 4
5703: ARRAY
5704: IN
5705: IFFALSE 5719
// begin side := i ;
5707: LD_ADDR_VAR 0 3
5711: PUSH
5712: LD_VAR 0 4
5716: ST_TO_ADDR
// break ;
5717: GO 5721
// end ;
5719: GO 5686
5721: POP
5722: POP
// end ; apemanPos := Replace ( apemanPos , side , apemanPos [ side ] diff ape ) ;
5723: LD_ADDR_EXP 33
5727: PUSH
5728: LD_EXP 33
5732: PPUSH
5733: LD_VAR 0 3
5737: PPUSH
5738: LD_EXP 33
5742: PUSH
5743: LD_VAR 0 3
5747: ARRAY
5748: PUSH
5749: LD_VAR 0 1
5753: DIFF
5754: PPUSH
5755: CALL_OW 1
5759: ST_TO_ADDR
// apemanNumber := apemanNumber - 1 ;
5760: LD_ADDR_EXP 30
5764: PUSH
5765: LD_EXP 30
5769: PUSH
5770: LD_INT 1
5772: MINUS
5773: ST_TO_ADDR
// end ; end_of_file
5774: LD_VAR 0 2
5778: RET
// every 1 1$0 + 0 0$0.3 do
5779: GO 5781
5781: DISABLE
// begin CreateCratesAnywhere ( Rand ( 4 , 5 ) , true ) ;
5782: LD_INT 4
5784: PPUSH
5785: LD_INT 5
5787: PPUSH
5788: CALL_OW 12
5792: PPUSH
5793: LD_INT 1
5795: PPUSH
5796: CALL_OW 57
// enable ;
5800: ENABLE
// end ;
5801: END
// every 0 0$1 + 0 0$0.6 do var i , amount ;
5802: GO 5804
5804: DISABLE
5805: LD_INT 0
5807: PPUSH
5808: PPUSH
// begin case tick of 1 .. 1 1$0 :
5809: LD_OWVAR 1
5813: PUSH
5814: LD_INT 1
5816: DOUBLE
5817: GREATEREQUAL
5818: IFFALSE 5826
5820: LD_INT 2100
5822: DOUBLE
5823: LESSEQUAL
5824: IFTRUE 5828
5826: GO 5856
5828: POP
// Wait ( shipments_density / 100 * Rand ( 0 0$10 , 0 0$30 ) ) ; 1 1$0 + 1 .. 5 5$0 :
5829: LD_EXP 8
5833: PUSH
5834: LD_INT 100
5836: DIVREAL
5837: PUSH
5838: LD_INT 350
5840: PPUSH
5841: LD_INT 1050
5843: PPUSH
5844: CALL_OW 12
5848: MUL
5849: PPUSH
5850: CALL_OW 67
5854: GO 6158
5856: LD_INT 2100
5858: PUSH
5859: LD_INT 1
5861: PLUS
5862: DOUBLE
5863: GREATEREQUAL
5864: IFFALSE 5872
5866: LD_INT 10500
5868: DOUBLE
5869: LESSEQUAL
5870: IFTRUE 5874
5872: GO 5902
5874: POP
// Wait ( shipments_density / 100 * Rand ( 0 0$30 , 0 0$45 ) ) ; 5 5$0 + 1 .. 10 10$0 :
5875: LD_EXP 8
5879: PUSH
5880: LD_INT 100
5882: DIVREAL
5883: PUSH
5884: LD_INT 1050
5886: PPUSH
5887: LD_INT 1575
5889: PPUSH
5890: CALL_OW 12
5894: MUL
5895: PPUSH
5896: CALL_OW 67
5900: GO 6158
5902: LD_INT 10500
5904: PUSH
5905: LD_INT 1
5907: PLUS
5908: DOUBLE
5909: GREATEREQUAL
5910: IFFALSE 5918
5912: LD_INT 21000
5914: DOUBLE
5915: LESSEQUAL
5916: IFTRUE 5920
5918: GO 5948
5920: POP
// Wait ( shipments_density / 100 * Rand ( 0 0$45 , 1 1$0 ) ) ; 10 10$0 + 1 .. 20 20$0 :
5921: LD_EXP 8
5925: PUSH
5926: LD_INT 100
5928: DIVREAL
5929: PUSH
5930: LD_INT 1575
5932: PPUSH
5933: LD_INT 2100
5935: PPUSH
5936: CALL_OW 12
5940: MUL
5941: PPUSH
5942: CALL_OW 67
5946: GO 6158
5948: LD_INT 21000
5950: PUSH
5951: LD_INT 1
5953: PLUS
5954: DOUBLE
5955: GREATEREQUAL
5956: IFFALSE 5964
5958: LD_INT 42000
5960: DOUBLE
5961: LESSEQUAL
5962: IFTRUE 5966
5964: GO 5994
5966: POP
// Wait ( shipments_density / 100 * Rand ( 1 1$0 , 1 1$15 ) ) ; 20 20$0 + 1 .. 30 30$0 :
5967: LD_EXP 8
5971: PUSH
5972: LD_INT 100
5974: DIVREAL
5975: PUSH
5976: LD_INT 2100
5978: PPUSH
5979: LD_INT 2625
5981: PPUSH
5982: CALL_OW 12
5986: MUL
5987: PPUSH
5988: CALL_OW 67
5992: GO 6158
5994: LD_INT 42000
5996: PUSH
5997: LD_INT 1
5999: PLUS
6000: DOUBLE
6001: GREATEREQUAL
6002: IFFALSE 6010
6004: LD_INT 63000
6006: DOUBLE
6007: LESSEQUAL
6008: IFTRUE 6012
6010: GO 6040
6012: POP
// Wait ( shipments_density / 100 * Rand ( 1 1$15 , 1 1$30 ) ) ; 30 30$0 + 1 .. 50 50$0 :
6013: LD_EXP 8
6017: PUSH
6018: LD_INT 100
6020: DIVREAL
6021: PUSH
6022: LD_INT 2625
6024: PPUSH
6025: LD_INT 3150
6027: PPUSH
6028: CALL_OW 12
6032: MUL
6033: PPUSH
6034: CALL_OW 67
6038: GO 6158
6040: LD_INT 63000
6042: PUSH
6043: LD_INT 1
6045: PLUS
6046: DOUBLE
6047: GREATEREQUAL
6048: IFFALSE 6056
6050: LD_INT 105000
6052: DOUBLE
6053: LESSEQUAL
6054: IFTRUE 6058
6056: GO 6086
6058: POP
// Wait ( shipments_density / 100 * Rand ( 1 1$30 , 1 1$45 ) ) ; 50 50$0 + 1 .. 300 300$0 :
6059: LD_EXP 8
6063: PUSH
6064: LD_INT 100
6066: DIVREAL
6067: PUSH
6068: LD_INT 3150
6070: PPUSH
6071: LD_INT 3675
6073: PPUSH
6074: CALL_OW 12
6078: MUL
6079: PPUSH
6080: CALL_OW 67
6084: GO 6158
6086: LD_INT 105000
6088: PUSH
6089: LD_INT 1
6091: PLUS
6092: DOUBLE
6093: GREATEREQUAL
6094: IFFALSE 6102
6096: LD_INT 630000
6098: DOUBLE
6099: LESSEQUAL
6100: IFTRUE 6104
6102: GO 6132
6104: POP
// Wait ( shipments_density / 100 * Rand ( 1 1$45 , 2 2$0 ) ) ; else
6105: LD_EXP 8
6109: PUSH
6110: LD_INT 100
6112: DIVREAL
6113: PUSH
6114: LD_INT 3675
6116: PPUSH
6117: LD_INT 4200
6119: PPUSH
6120: CALL_OW 12
6124: MUL
6125: PPUSH
6126: CALL_OW 67
6130: GO 6158
6132: POP
// Wait ( shipments_density / 100 * Rand ( 2 2$0 , 2 2$30 ) ) ; end ;
6133: LD_EXP 8
6137: PUSH
6138: LD_INT 100
6140: DIVREAL
6141: PUSH
6142: LD_INT 4200
6144: PPUSH
6145: LD_INT 5250
6147: PPUSH
6148: CALL_OW 12
6152: MUL
6153: PPUSH
6154: CALL_OW 67
// amount := Rand ( 3 , 5 ) ;
6158: LD_ADDR_VAR 0 2
6162: PUSH
6163: LD_INT 3
6165: PPUSH
6166: LD_INT 5
6168: PPUSH
6169: CALL_OW 12
6173: ST_TO_ADDR
// for i in ( Side_Positions diff [ 0 ] ) do
6174: LD_ADDR_VAR 0 1
6178: PUSH
6179: LD_EXP 19
6183: PUSH
6184: LD_INT 0
6186: PUSH
6187: EMPTY
6188: LIST
6189: DIFF
6190: PUSH
6191: FOR_IN
6192: IFFALSE 6232
// CreateCratesArea ( amount , [ BuildUp1 , BuildUp2 , BuildUp3 , BuildUp4 ] [ i ] , true ) ;
6194: LD_VAR 0 2
6198: PPUSH
6199: LD_INT 8
6201: PUSH
6202: LD_INT 11
6204: PUSH
6205: LD_INT 9
6207: PUSH
6208: LD_INT 10
6210: PUSH
6211: EMPTY
6212: LIST
6213: LIST
6214: LIST
6215: LIST
6216: PUSH
6217: LD_VAR 0 1
6221: ARRAY
6222: PPUSH
6223: LD_INT 1
6225: PPUSH
6226: CALL_OW 55
6230: GO 6191
6232: POP
6233: POP
// enable ;
6234: ENABLE
// end ; end_of_file
6235: PPOPN 2
6237: END
// var activated ; var hadziove ; every 0 0$1 do
6238: GO 6240
6240: DISABLE
// begin wait ( Rand ( 3 3$0 , 10 10$0 ) ) ;
6241: LD_INT 6300
6243: PPUSH
6244: LD_INT 21000
6246: PPUSH
6247: CALL_OW 12
6251: PPUSH
6252: CALL_OW 67
// SetAreaMapShow ( Tree , 1 ) ;
6256: LD_INT 3
6258: PPUSH
6259: LD_INT 1
6261: PPUSH
6262: CALL_OW 424
// activated := true ;
6266: LD_ADDR_LOC 9
6270: PUSH
6271: LD_INT 1
6273: ST_TO_ADDR
// end ;
6274: END
// every 0 0$1 trigger activated do var i , un ;
6275: LD_LOC 9
6279: IFFALSE 6524
6281: GO 6283
6283: DISABLE
6284: LD_INT 0
6286: PPUSH
6287: PPUSH
// begin if not def_tree_function then
6288: LD_EXP 1
6292: NOT
6293: IFFALSE 6297
// exit ;
6295: GO 6524
// ExtraStrings := [ #MultiSmall-Tree & def_tree_function ] ;
6297: LD_ADDR_EXP 54
6301: PUSH
6302: LD_STRING #MultiSmall-Tree
6304: PUSH
6305: LD_EXP 1
6309: STR
6310: PUSH
6311: EMPTY
6312: LIST
6313: ST_TO_ADDR
// for un in FilterUnitsInArea ( Tree , [ f_type , unit_human ] ) diff hadziove do
6314: LD_ADDR_VAR 0 2
6318: PUSH
6319: LD_INT 3
6321: PPUSH
6322: LD_INT 21
6324: PUSH
6325: LD_INT 1
6327: PUSH
6328: EMPTY
6329: LIST
6330: LIST
6331: PPUSH
6332: CALL_OW 70
6336: PUSH
6337: LD_LOC 10
6341: DIFF
6342: PUSH
6343: FOR_IN
6344: IFFALSE 6505
// begin if GetClass ( un ) in [ class_soldier , class_engineer , class_mechanic , class_scientistic , class_sniper , class_bazooker , class_mortar ] then
6346: LD_VAR 0 2
6350: PPUSH
6351: CALL_OW 257
6355: PUSH
6356: LD_INT 1
6358: PUSH
6359: LD_INT 2
6361: PUSH
6362: LD_INT 3
6364: PUSH
6365: LD_INT 4
6367: PUSH
6368: LD_INT 5
6370: PUSH
6371: LD_INT 9
6373: PUSH
6374: LD_INT 8
6376: PUSH
6377: EMPTY
6378: LIST
6379: LIST
6380: LIST
6381: LIST
6382: LIST
6383: LIST
6384: LIST
6385: IN
6386: IFFALSE 6435
// for i := 1 to 4 do
6388: LD_ADDR_VAR 0 1
6392: PUSH
6393: DOUBLE
6394: LD_INT 1
6396: DEC
6397: ST_TO_ADDR
6398: LD_INT 4
6400: PUSH
6401: FOR_TO
6402: IFFALSE 6431
// GiveSkillBonus ( un , i , tree_function [ i ] ) else
6404: LD_VAR 0 2
6408: PPUSH
6409: LD_VAR 0 1
6413: PPUSH
6414: LD_EXP 14
6418: PUSH
6419: LD_VAR 0 1
6423: ARRAY
6424: PPUSH
6425: CALL_OW 238
6429: GO 6401
6431: POP
6432: POP
6433: GO 6503
// if un in [ class_apeman , class_apeman_engineer , class_apeman_kamikaze , class_apeman_soldier ] then
6435: LD_VAR 0 2
6439: PUSH
6440: LD_INT 12
6442: PUSH
6443: LD_INT 16
6445: PUSH
6446: LD_INT 17
6448: PUSH
6449: LD_INT 15
6451: PUSH
6452: EMPTY
6453: LIST
6454: LIST
6455: LIST
6456: LIST
6457: IN
6458: IFFALSE 6503
// for i := 1 to 4 do
6460: LD_ADDR_VAR 0 1
6464: PUSH
6465: DOUBLE
6466: LD_INT 1
6468: DEC
6469: ST_TO_ADDR
6470: LD_INT 4
6472: PUSH
6473: FOR_TO
6474: IFFALSE 6501
// GiveSkillBonus ( un , i , tree_function [ 5 ] ) ;
6476: LD_VAR 0 2
6480: PPUSH
6481: LD_VAR 0 1
6485: PPUSH
6486: LD_EXP 14
6490: PUSH
6491: LD_INT 5
6493: ARRAY
6494: PPUSH
6495: CALL_OW 238
6499: GO 6473
6501: POP
6502: POP
// end ;
6503: GO 6343
6505: POP
6506: POP
// hadziove := hadziove ^ un ;
6507: LD_ADDR_LOC 10
6511: PUSH
6512: LD_LOC 10
6516: PUSH
6517: LD_VAR 0 2
6521: ADD
6522: ST_TO_ADDR
// enable ;
6523: ENABLE
// end ; end_of_file
6524: PPOPN 2
6526: END
// on BuildingStarted ( b , u ) do begin if GetBType ( b ) in [ b_depot , b_warehouse ] then
6527: LD_VAR 0 1
6531: PPUSH
6532: CALL_OW 266
6536: PUSH
6537: LD_INT 0
6539: PUSH
6540: LD_INT 1
6542: PUSH
6543: EMPTY
6544: LIST
6545: LIST
6546: IN
6547: IFFALSE 6572
// SetBName ( b , @ & GetSide ( b ) ) ;
6549: LD_VAR 0 1
6553: PPUSH
6554: LD_STRING @
6556: PUSH
6557: LD_VAR 0 1
6561: PPUSH
6562: CALL_OW 255
6566: STR
6567: PPUSH
6568: CALL_OW 500
// if def_game_rules then
6572: LD_EXP 38
6576: IFFALSE 6613
// ExecuteLimits ( b , GetBType ( b ) , GetSide ( b ) , 0 , 1 ) ;
6578: LD_VAR 0 1
6582: PPUSH
6583: LD_VAR 0 1
6587: PPUSH
6588: CALL_OW 266
6592: PPUSH
6593: LD_VAR 0 1
6597: PPUSH
6598: CALL_OW 255
6602: PPUSH
6603: LD_INT 0
6605: PPUSH
6606: LD_INT 1
6608: PPUSH
6609: CALL 10033 0 5
// end ;
6613: PPOPN 2
6615: END
// on BuildingCaptured ( b , o , e ) do begin if GetBType ( b ) in [ b_depot , b_warehouse ] then
6616: LD_VAR 0 1
6620: PPUSH
6621: CALL_OW 266
6625: PUSH
6626: LD_INT 0
6628: PUSH
6629: LD_INT 1
6631: PUSH
6632: EMPTY
6633: LIST
6634: LIST
6635: IN
6636: IFFALSE 6661
// SetBName ( b , @ & GetSide ( b ) ) ;
6638: LD_VAR 0 1
6642: PPUSH
6643: LD_STRING @
6645: PUSH
6646: LD_VAR 0 1
6650: PPUSH
6651: CALL_OW 255
6655: STR
6656: PPUSH
6657: CALL_OW 500
// if def_game_rules then
6661: LD_EXP 38
6665: IFFALSE 6704
// ExecuteLimits ( b , GetBType ( b ) , GetSide ( b ) , o , 1 ) ;
6667: LD_VAR 0 1
6671: PPUSH
6672: LD_VAR 0 1
6676: PPUSH
6677: CALL_OW 266
6681: PPUSH
6682: LD_VAR 0 1
6686: PPUSH
6687: CALL_OW 255
6691: PPUSH
6692: LD_VAR 0 2
6696: PPUSH
6697: LD_INT 1
6699: PPUSH
6700: CALL 10033 0 5
// end ;
6704: PPOPN 3
6706: END
// on VehicleConstructed ( veh , fac ) do var side ;
6707: LD_INT 0
6709: PPUSH
// begin if GetControl ( veh ) = control_apeman then
6710: LD_VAR 0 1
6714: PPUSH
6715: CALL_OW 263
6719: PUSH
6720: LD_INT 5
6722: EQUAL
6723: IFFALSE 6865
// begin side := GetSide ( veh ) ;
6725: LD_ADDR_VAR 0 3
6729: PUSH
6730: LD_VAR 0 1
6734: PPUSH
6735: CALL_OW 255
6739: ST_TO_ADDR
// apemanPos := Replace ( apemanPos , side , UnitFilter ( apemanPos [ side ] , [ f_placed ] ) union FilterAllUnits ( [ [ f_side , side ] , [ f_or , [ f_control , control_apeman ] , [ f_class , class_apeman ] , [ f_class , class_apeman_soldier ] , [ f_class , class_apeman_engineer ] , [ f_class , class_apeman_kamikaze ] ] ] ) ) ;
6740: LD_ADDR_EXP 33
6744: PUSH
6745: LD_EXP 33
6749: PPUSH
6750: LD_VAR 0 3
6754: PPUSH
6755: LD_EXP 33
6759: PUSH
6760: LD_VAR 0 3
6764: ARRAY
6765: PPUSH
6766: LD_INT 52
6768: PUSH
6769: EMPTY
6770: LIST
6771: PPUSH
6772: CALL_OW 72
6776: PUSH
6777: LD_INT 22
6779: PUSH
6780: LD_VAR 0 3
6784: PUSH
6785: EMPTY
6786: LIST
6787: LIST
6788: PUSH
6789: LD_INT 2
6791: PUSH
6792: LD_INT 33
6794: PUSH
6795: LD_INT 5
6797: PUSH
6798: EMPTY
6799: LIST
6800: LIST
6801: PUSH
6802: LD_INT 25
6804: PUSH
6805: LD_INT 12
6807: PUSH
6808: EMPTY
6809: LIST
6810: LIST
6811: PUSH
6812: LD_INT 25
6814: PUSH
6815: LD_INT 15
6817: PUSH
6818: EMPTY
6819: LIST
6820: LIST
6821: PUSH
6822: LD_INT 25
6824: PUSH
6825: LD_INT 16
6827: PUSH
6828: EMPTY
6829: LIST
6830: LIST
6831: PUSH
6832: LD_INT 25
6834: PUSH
6835: LD_INT 17
6837: PUSH
6838: EMPTY
6839: LIST
6840: LIST
6841: PUSH
6842: EMPTY
6843: LIST
6844: LIST
6845: LIST
6846: LIST
6847: LIST
6848: LIST
6849: PUSH
6850: EMPTY
6851: LIST
6852: LIST
6853: PPUSH
6854: CALL_OW 69
6858: UNION
6859: PPUSH
6860: CALL_OW 1
6864: ST_TO_ADDR
// end ; end ;
6865: PPOPN 3
6867: END
// on UnitDestroyed ( j ) do var x , y , pos , dir ;
6868: LD_INT 0
6870: PPUSH
6871: PPUSH
6872: PPUSH
6873: PPUSH
// begin if GetClass ( j ) in [ class_apeman , class_apeman_soldier , class_apeman_kamikaze , class_apeman_engineer ] or GetControl ( j ) = control_apeman then
6874: LD_VAR 0 1
6878: PPUSH
6879: CALL_OW 257
6883: PUSH
6884: LD_INT 12
6886: PUSH
6887: LD_INT 15
6889: PUSH
6890: LD_INT 17
6892: PUSH
6893: LD_INT 16
6895: PUSH
6896: EMPTY
6897: LIST
6898: LIST
6899: LIST
6900: LIST
6901: IN
6902: PUSH
6903: LD_VAR 0 1
6907: PPUSH
6908: CALL_OW 263
6912: PUSH
6913: LD_INT 5
6915: EQUAL
6916: OR
6917: IFFALSE 6928
// ApeKilled ( j ) ;
6919: LD_VAR 0 1
6923: PPUSH
6924: CALL 5635 0 1
// if GetBType ( j ) in [ b_depot , b_warehouse ] then
6928: LD_VAR 0 1
6932: PPUSH
6933: CALL_OW 266
6937: PUSH
6938: LD_INT 0
6940: PUSH
6941: LD_INT 1
6943: PUSH
6944: EMPTY
6945: LIST
6946: LIST
6947: IN
6948: IFFALSE 7030
// begin pos := Side_Positions [ GetSide ( j ) ] ;
6950: LD_ADDR_VAR 0 4
6954: PUSH
6955: LD_EXP 19
6959: PUSH
6960: LD_VAR 0 1
6964: PPUSH
6965: CALL_OW 255
6969: ARRAY
6970: ST_TO_ADDR
// x := start_def [ pos ] [ 1 ] ;
6971: LD_ADDR_VAR 0 2
6975: PUSH
6976: LD_EXP 24
6980: PUSH
6981: LD_VAR 0 4
6985: ARRAY
6986: PUSH
6987: LD_INT 1
6989: ARRAY
6990: ST_TO_ADDR
// y := start_def [ pos ] [ 2 ] ;
6991: LD_ADDR_VAR 0 3
6995: PUSH
6996: LD_EXP 24
7000: PUSH
7001: LD_VAR 0 4
7005: ARRAY
7006: PUSH
7007: LD_INT 2
7009: ARRAY
7010: ST_TO_ADDR
// KillBattleFlag ( FindBattleFlag ( x , y ) ) ;
7011: LD_VAR 0 2
7015: PPUSH
7016: LD_VAR 0 3
7020: PPUSH
7021: CALL_OW 420
7025: PPUSH
7026: CALL_OW 419
// end ; if def_game_rules then
7030: LD_EXP 38
7034: IFFALSE 7133
// if ( GetType ( j ) = 3 ) then
7036: LD_VAR 0 1
7040: PPUSH
7041: CALL_OW 247
7045: PUSH
7046: LD_INT 3
7048: EQUAL
7049: IFFALSE 7089
// ExecuteLimits ( j , GetBType ( j ) , GetSide ( j ) , 0 , - 1 ) else
7051: LD_VAR 0 1
7055: PPUSH
7056: LD_VAR 0 1
7060: PPUSH
7061: CALL_OW 266
7065: PPUSH
7066: LD_VAR 0 1
7070: PPUSH
7071: CALL_OW 255
7075: PPUSH
7076: LD_INT 0
7078: PPUSH
7079: LD_INT 1
7081: NEG
7082: PPUSH
7083: CALL 10033 0 5
7087: GO 7133
// if ( GetChassis ( j ) = 25 ) then
7089: LD_VAR 0 1
7093: PPUSH
7094: CALL_OW 265
7098: PUSH
7099: LD_INT 25
7101: EQUAL
7102: IFFALSE 7133
// ExecuteLimits ( j , b_behemoth , GetSide ( j ) , 0 , - 1 ) ;
7104: LD_VAR 0 1
7108: PPUSH
7109: LD_INT 37
7111: PPUSH
7112: LD_VAR 0 1
7116: PPUSH
7117: CALL_OW 255
7121: PPUSH
7122: LD_INT 0
7124: PPUSH
7125: LD_INT 1
7127: NEG
7128: PPUSH
7129: CALL 10033 0 5
// end ;
7133: PPOPN 5
7135: END
// on VehicleCaptured ( j , i1 , o , i2 ) do begin if def_game_rules and ( GetChassis ( j ) = 25 ) then
7136: LD_EXP 38
7140: PUSH
7141: LD_VAR 0 1
7145: PPUSH
7146: CALL_OW 265
7150: PUSH
7151: LD_INT 25
7153: EQUAL
7154: AND
7155: IFFALSE 7187
// ExecuteLimits ( j , b_behemoth , GetSide ( j ) , o , 1 ) ;
7157: LD_VAR 0 1
7161: PPUSH
7162: LD_INT 37
7164: PPUSH
7165: LD_VAR 0 1
7169: PPUSH
7170: CALL_OW 255
7174: PPUSH
7175: LD_VAR 0 3
7179: PPUSH
7180: LD_INT 1
7182: PPUSH
7183: CALL 10033 0 5
// end ;
7187: PPOPN 4
7189: END
// on siberiterocketexploded ( un , x , y ) do SA_OnSiberiteRocketExploded ( un , x , y , Your_Side ) ; end_of_file
7190: LD_VAR 0 1
7194: PPUSH
7195: LD_VAR 0 2
7199: PPUSH
7200: LD_VAR 0 3
7204: PPUSH
7205: LD_OWVAR 2
7209: PPUSH
7210: CALL 11376 0 4
7214: PPOPN 3
7216: END
// var strength , lastxwin , lastywin , lastxlost , lastylost ; function Update_Flags ; var un ; begin
7217: LD_INT 0
7219: PPUSH
7220: PPUSH
// for un in battle_flags_id do
7221: LD_ADDR_VAR 0 2
7225: PUSH
7226: LD_EXP 25
7230: PUSH
7231: FOR_IN
7232: IFFALSE 7307
// ChangeBattleFlagOptions ( un , [ [ bfo_defend_bonus_human , strength ] , [ bfo_defend_bonus_vehicle , strength div 2 ] , [ bfo_defend_bonus_building , strength div 5 ] , [ bfo_height , strength ] ] ) ;
7234: LD_VAR 0 2
7238: PPUSH
7239: LD_INT 1
7241: PUSH
7242: LD_LOC 11
7246: PUSH
7247: EMPTY
7248: LIST
7249: LIST
7250: PUSH
7251: LD_INT 2
7253: PUSH
7254: LD_LOC 11
7258: PUSH
7259: LD_INT 2
7261: DIV
7262: PUSH
7263: EMPTY
7264: LIST
7265: LIST
7266: PUSH
7267: LD_INT 3
7269: PUSH
7270: LD_LOC 11
7274: PUSH
7275: LD_INT 5
7277: DIV
7278: PUSH
7279: EMPTY
7280: LIST
7281: LIST
7282: PUSH
7283: LD_INT 20
7285: PUSH
7286: LD_LOC 11
7290: PUSH
7291: EMPTY
7292: LIST
7293: LIST
7294: PUSH
7295: EMPTY
7296: LIST
7297: LIST
7298: LIST
7299: LIST
7300: PPUSH
7301: CALL_OW 423
7305: GO 7231
7307: POP
7308: POP
// end ;
7309: LD_VAR 0 1
7313: RET
// every 0 0$0.1 do var un ;
7314: GO 7316
7316: DISABLE
7317: LD_INT 0
7319: PPUSH
// begin if not def_morale_flags then
7320: LD_EXP 47
7324: NOT
7325: IFFALSE 7329
// exit ;
7327: GO 7406
// if not morale_decreasing_time then
7329: LD_EXP 9
7333: NOT
7334: IFFALSE 7338
// exit ;
7336: GO 7406
// strength = 100 ;
7338: LD_ADDR_LOC 11
7342: PUSH
7343: LD_INT 100
7345: ST_TO_ADDR
// repeat wait ( morale_decreasing_time ) ;
7346: LD_EXP 9
7350: PPUSH
7351: CALL_OW 67
// strength := strength - 1 ;
7355: LD_ADDR_LOC 11
7359: PUSH
7360: LD_LOC 11
7364: PUSH
7365: LD_INT 1
7367: MINUS
7368: ST_TO_ADDR
// Update_Flags ;
7369: CALL 7217 0 0
// until not strength ;
7373: LD_LOC 11
7377: NOT
7378: IFFALSE 7346
// for un in battle_flags_id do
7380: LD_ADDR_VAR 0 1
7384: PUSH
7385: LD_EXP 25
7389: PUSH
7390: FOR_IN
7391: IFFALSE 7404
// KillBattleFlag ( un ) ;
7393: LD_VAR 0 1
7397: PPUSH
7398: CALL_OW 419
7402: GO 7390
7404: POP
7405: POP
// end ; end_of_file
7406: PPOPN 1
7408: END
// export Game_Type , def_game_rules ; export def_base_level , def_amount_of_people , def_skill_level , def_starting_resources , def_shipments_density , def_extra_oil_deposits , def_extra_sib_deposits , def_shared_vision , def_morale_flags , def_siberite_detection , def_people_respawning , def_amount_of_apemen , def_siberite_bomb , def_builduptime ; export No_Mechs ; var Restricted_Builds , Restricted_Builds_Amount ; var Banned_Weapons , Banned_Chassis , Banned_Controls , Banned_Engines ; var Already_Built ; var Limits_Info , Cheaters ; export function LimitsStrings ; var i ; begin
7409: LD_INT 0
7411: PPUSH
7412: PPUSH
// if ( not IAmSpec ) then
7413: CALL_OW 531
7417: NOT
7418: IFFALSE 7434
// Result := Limits_Info ^  ;
7420: LD_ADDR_VAR 0 1
7424: PUSH
7425: LD_LOC 23
7429: PUSH
7430: LD_STRING 
7432: ADD
7433: ST_TO_ADDR
// for i := 1 to 8 do
7434: LD_ADDR_VAR 0 2
7438: PUSH
7439: DOUBLE
7440: LD_INT 1
7442: DEC
7443: ST_TO_ADDR
7444: LD_INT 8
7446: PUSH
7447: FOR_TO
7448: IFFALSE 7493
// if Cheaters [ i ] then
7450: LD_LOC 24
7454: PUSH
7455: LD_VAR 0 2
7459: ARRAY
7460: IFFALSE 7491
// Result := Result ^ [ #Cheater , i , i ] ;
7462: LD_ADDR_VAR 0 1
7466: PUSH
7467: LD_VAR 0 1
7471: PUSH
7472: LD_STRING #Cheater
7474: PUSH
7475: LD_VAR 0 2
7479: PUSH
7480: LD_VAR 0 2
7484: PUSH
7485: EMPTY
7486: LIST
7487: LIST
7488: LIST
7489: ADD
7490: ST_TO_ADDR
7491: GO 7447
7493: POP
7494: POP
// end ;
7495: LD_VAR 0 1
7499: RET
// export function InitGameRules ; var Unavailable_Techs , Unavailable_Builds ; var i , j ; begin
7500: LD_INT 0
7502: PPUSH
7503: PPUSH
7504: PPUSH
7505: PPUSH
7506: PPUSH
// case Game_Type of 10 :
7507: LD_EXP 37
7511: PUSH
7512: LD_INT 10
7514: DOUBLE
7515: EQUAL
7516: IFTRUE 7520
7518: GO 7531
7520: POP
// def_game_rules := 1 ; 11 :
7521: LD_ADDR_EXP 38
7525: PUSH
7526: LD_INT 1
7528: ST_TO_ADDR
7529: GO 7551
7531: LD_INT 11
7533: DOUBLE
7534: EQUAL
7535: IFTRUE 7539
7537: GO 7550
7539: POP
// def_game_rules := 3 ; end ;
7540: LD_ADDR_EXP 38
7544: PUSH
7545: LD_INT 3
7547: ST_TO_ADDR
7548: GO 7551
7550: POP
// case def_game_rules of 0 :
7551: LD_EXP 38
7555: PUSH
7556: LD_INT 0
7558: DOUBLE
7559: EQUAL
7560: IFTRUE 7564
7562: GO 7569
7564: POP
// exit ; 1 :
7565: GO 9627
7567: GO 9527
7569: LD_INT 1
7571: DOUBLE
7572: EQUAL
7573: IFTRUE 7577
7575: GO 7793
7577: POP
// begin def_base_level := 2 ;
7578: LD_ADDR_EXP 39
7582: PUSH
7583: LD_INT 2
7585: ST_TO_ADDR
// def_amount_of_people := 2 ;
7586: LD_ADDR_EXP 40
7590: PUSH
7591: LD_INT 2
7593: ST_TO_ADDR
// def_skill_level := 1 ;
7594: LD_ADDR_EXP 41
7598: PUSH
7599: LD_INT 1
7601: ST_TO_ADDR
// def_starting_resources := 2 ;
7602: LD_ADDR_EXP 42
7606: PUSH
7607: LD_INT 2
7609: ST_TO_ADDR
// def_shipments_density := 1 ;
7610: LD_ADDR_EXP 43
7614: PUSH
7615: LD_INT 1
7617: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
7618: LD_ADDR_EXP 44
7622: PUSH
7623: LD_INT 0
7625: ST_TO_ADDR
// def_extra_sib_deposits := 1 ;
7626: LD_ADDR_EXP 45
7630: PUSH
7631: LD_INT 1
7633: ST_TO_ADDR
// def_shared_vision := 1 ;
7634: LD_ADDR_EXP 46
7638: PUSH
7639: LD_INT 1
7641: ST_TO_ADDR
// def_morale_flags := 3 ;
7642: LD_ADDR_EXP 47
7646: PUSH
7647: LD_INT 3
7649: ST_TO_ADDR
// def_siberite_detection := 1 ;
7650: LD_ADDR_EXP 48
7654: PUSH
7655: LD_INT 1
7657: ST_TO_ADDR
// def_people_respawning := 1 ;
7658: LD_ADDR_EXP 49
7662: PUSH
7663: LD_INT 1
7665: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
7666: LD_ADDR_EXP 50
7670: PUSH
7671: LD_INT 1
7673: ST_TO_ADDR
// def_siberite_bomb := 0 ;
7674: LD_ADDR_EXP 51
7678: PUSH
7679: LD_INT 0
7681: ST_TO_ADDR
// def_builduptime := 2 ;
7682: LD_ADDR_EXP 52
7686: PUSH
7687: LD_INT 2
7689: ST_TO_ADDR
// Unavailable_Techs := [ ] ;
7690: LD_ADDR_VAR 0 2
7694: PUSH
7695: EMPTY
7696: ST_TO_ADDR
// Unavailable_Builds := [ ] ;
7697: LD_ADDR_VAR 0 3
7701: PUSH
7702: EMPTY
7703: ST_TO_ADDR
// Banned_Weapons := [ ] ;
7704: LD_ADDR_LOC 18
7708: PUSH
7709: EMPTY
7710: ST_TO_ADDR
// Banned_Chassis := [ ] ;
7711: LD_ADDR_LOC 19
7715: PUSH
7716: EMPTY
7717: ST_TO_ADDR
// Banned_Controls := [ ] ;
7718: LD_ADDR_LOC 20
7722: PUSH
7723: EMPTY
7724: ST_TO_ADDR
// Banned_Engines := [ ] ;
7725: LD_ADDR_LOC 21
7729: PUSH
7730: EMPTY
7731: ST_TO_ADDR
// Restricted_Builds := [ [ b_Behemoth ] , [ b_Armoury , b_Barracks ] , [ b_Breastwork , b_Bunker , b_Turret ] ] ;
7732: LD_ADDR_LOC 16
7736: PUSH
7737: LD_INT 37
7739: PUSH
7740: EMPTY
7741: LIST
7742: PUSH
7743: LD_INT 4
7745: PUSH
7746: LD_INT 5
7748: PUSH
7749: EMPTY
7750: LIST
7751: LIST
7752: PUSH
7753: LD_INT 31
7755: PUSH
7756: LD_INT 32
7758: PUSH
7759: LD_INT 33
7761: PUSH
7762: EMPTY
7763: LIST
7764: LIST
7765: LIST
7766: PUSH
7767: EMPTY
7768: LIST
7769: LIST
7770: LIST
7771: ST_TO_ADDR
// Restricted_Builds_Amount := [ 2 , 2 , 4 ] ;
7772: LD_ADDR_LOC 17
7776: PUSH
7777: LD_INT 2
7779: PUSH
7780: LD_INT 2
7782: PUSH
7783: LD_INT 4
7785: PUSH
7786: EMPTY
7787: LIST
7788: LIST
7789: LIST
7790: ST_TO_ADDR
// end ; 2 :
7791: GO 9527
7793: LD_INT 2
7795: DOUBLE
7796: EQUAL
7797: IFTRUE 7801
7799: GO 8010
7801: POP
// begin def_base_level := 1 ;
7802: LD_ADDR_EXP 39
7806: PUSH
7807: LD_INT 1
7809: ST_TO_ADDR
// def_amount_of_people := 2 ;
7810: LD_ADDR_EXP 40
7814: PUSH
7815: LD_INT 2
7817: ST_TO_ADDR
// def_skill_level := 3 ;
7818: LD_ADDR_EXP 41
7822: PUSH
7823: LD_INT 3
7825: ST_TO_ADDR
// def_starting_resources := 3 ;
7826: LD_ADDR_EXP 42
7830: PUSH
7831: LD_INT 3
7833: ST_TO_ADDR
// def_shipments_density := 2 ;
7834: LD_ADDR_EXP 43
7838: PUSH
7839: LD_INT 2
7841: ST_TO_ADDR
// def_extra_oil_deposits := 1 ;
7842: LD_ADDR_EXP 44
7846: PUSH
7847: LD_INT 1
7849: ST_TO_ADDR
// def_extra_sib_deposits := 2 ;
7850: LD_ADDR_EXP 45
7854: PUSH
7855: LD_INT 2
7857: ST_TO_ADDR
// def_shared_vision := 1 ;
7858: LD_ADDR_EXP 46
7862: PUSH
7863: LD_INT 1
7865: ST_TO_ADDR
// def_morale_flags := 0 ;
7866: LD_ADDR_EXP 47
7870: PUSH
7871: LD_INT 0
7873: ST_TO_ADDR
// def_siberite_detection := 1 ;
7874: LD_ADDR_EXP 48
7878: PUSH
7879: LD_INT 1
7881: ST_TO_ADDR
// def_people_respawning := 0 ;
7882: LD_ADDR_EXP 49
7886: PUSH
7887: LD_INT 0
7889: ST_TO_ADDR
// def_amount_of_apemen := 0 ;
7890: LD_ADDR_EXP 50
7894: PUSH
7895: LD_INT 0
7897: ST_TO_ADDR
// def_siberite_bomb := 0 ;
7898: LD_ADDR_EXP 51
7902: PUSH
7903: LD_INT 0
7905: ST_TO_ADDR
// def_builduptime := 2 ;
7906: LD_ADDR_EXP 52
7910: PUSH
7911: LD_INT 2
7913: ST_TO_ADDR
// Unavailable_Techs := [ tech_ApeLang ] ;
7914: LD_ADDR_VAR 0 2
7918: PUSH
7919: LD_INT 1
7921: PUSH
7922: EMPTY
7923: LIST
7924: ST_TO_ADDR
// Unavailable_Builds := [ ] ;
7925: LD_ADDR_VAR 0 3
7929: PUSH
7930: EMPTY
7931: ST_TO_ADDR
// Banned_Weapons := [ ] ;
7932: LD_ADDR_LOC 18
7936: PUSH
7937: EMPTY
7938: ST_TO_ADDR
// Banned_Chassis := [ ] ;
7939: LD_ADDR_LOC 19
7943: PUSH
7944: EMPTY
7945: ST_TO_ADDR
// Banned_Controls := [ ] ;
7946: LD_ADDR_LOC 20
7950: PUSH
7951: EMPTY
7952: ST_TO_ADDR
// Banned_Engines := [ ] ;
7953: LD_ADDR_LOC 21
7957: PUSH
7958: EMPTY
7959: ST_TO_ADDR
// Restricted_Builds := [ [ b_Armoury , b_Barracks ] , [ b_Breastwork , b_Bunker , b_Turret ] ] ;
7960: LD_ADDR_LOC 16
7964: PUSH
7965: LD_INT 4
7967: PUSH
7968: LD_INT 5
7970: PUSH
7971: EMPTY
7972: LIST
7973: LIST
7974: PUSH
7975: LD_INT 31
7977: PUSH
7978: LD_INT 32
7980: PUSH
7981: LD_INT 33
7983: PUSH
7984: EMPTY
7985: LIST
7986: LIST
7987: LIST
7988: PUSH
7989: EMPTY
7990: LIST
7991: LIST
7992: ST_TO_ADDR
// Restricted_Builds_Amount := [ 1 , 2 ] ;
7993: LD_ADDR_LOC 17
7997: PUSH
7998: LD_INT 1
8000: PUSH
8001: LD_INT 2
8003: PUSH
8004: EMPTY
8005: LIST
8006: LIST
8007: ST_TO_ADDR
// end ; 3 :
8008: GO 9527
8010: LD_INT 3
8012: DOUBLE
8013: EQUAL
8014: IFTRUE 8018
8016: GO 8261
8018: POP
// begin def_base_level := 1 ;
8019: LD_ADDR_EXP 39
8023: PUSH
8024: LD_INT 1
8026: ST_TO_ADDR
// def_amount_of_people := 2 ;
8027: LD_ADDR_EXP 40
8031: PUSH
8032: LD_INT 2
8034: ST_TO_ADDR
// def_skill_level := 3 ;
8035: LD_ADDR_EXP 41
8039: PUSH
8040: LD_INT 3
8042: ST_TO_ADDR
// def_starting_resources := 3 ;
8043: LD_ADDR_EXP 42
8047: PUSH
8048: LD_INT 3
8050: ST_TO_ADDR
// def_shipments_density := 1 ;
8051: LD_ADDR_EXP 43
8055: PUSH
8056: LD_INT 1
8058: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
8059: LD_ADDR_EXP 44
8063: PUSH
8064: LD_INT 0
8066: ST_TO_ADDR
// def_extra_sib_deposits := 1 ;
8067: LD_ADDR_EXP 45
8071: PUSH
8072: LD_INT 1
8074: ST_TO_ADDR
// def_shared_vision := 1 ;
8075: LD_ADDR_EXP 46
8079: PUSH
8080: LD_INT 1
8082: ST_TO_ADDR
// def_morale_flags := 0 ;
8083: LD_ADDR_EXP 47
8087: PUSH
8088: LD_INT 0
8090: ST_TO_ADDR
// def_siberite_detection := 1 ;
8091: LD_ADDR_EXP 48
8095: PUSH
8096: LD_INT 1
8098: ST_TO_ADDR
// def_people_respawning := 0 ;
8099: LD_ADDR_EXP 49
8103: PUSH
8104: LD_INT 0
8106: ST_TO_ADDR
// def_amount_of_apemen := 2 ;
8107: LD_ADDR_EXP 50
8111: PUSH
8112: LD_INT 2
8114: ST_TO_ADDR
// def_siberite_bomb := 0 ;
8115: LD_ADDR_EXP 51
8119: PUSH
8120: LD_INT 0
8122: ST_TO_ADDR
// def_builduptime := 1 ;
8123: LD_ADDR_EXP 52
8127: PUSH
8128: LD_INT 1
8130: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth ] ;
8131: LD_ADDR_VAR 0 2
8135: PUSH
8136: LD_INT 23
8138: PUSH
8139: EMPTY
8140: LIST
8141: ST_TO_ADDR
// Unavailable_Builds := [ b_Workshop , b_Behemoth , b_Bunker , b_Turret , b_Control_Tower , b_ext_track , b_ext_stitch , b_ext_siberium , b_ext_rocket , b_ext_radio , b_ext_radar , b_ext_noncombat , b_ext_laser , b_ext_gun , b_ext_computer ] ;
8142: LD_ADDR_VAR 0 3
8146: PUSH
8147: LD_INT 2
8149: PUSH
8150: LD_INT 37
8152: PUSH
8153: LD_INT 32
8155: PUSH
8156: LD_INT 33
8158: PUSH
8159: LD_INT 36
8161: PUSH
8162: LD_INT 16
8164: PUSH
8165: LD_INT 23
8167: PUSH
8168: LD_INT 21
8170: PUSH
8171: LD_INT 18
8173: PUSH
8174: LD_INT 22
8176: PUSH
8177: LD_INT 20
8179: PUSH
8180: LD_INT 19
8182: PUSH
8183: LD_INT 25
8185: PUSH
8186: LD_INT 17
8188: PUSH
8189: LD_INT 24
8191: PUSH
8192: EMPTY
8193: LIST
8194: LIST
8195: LIST
8196: LIST
8197: LIST
8198: LIST
8199: LIST
8200: LIST
8201: LIST
8202: LIST
8203: LIST
8204: LIST
8205: LIST
8206: LIST
8207: LIST
8208: ST_TO_ADDR
// Banned_Weapons := [ ] ;
8209: LD_ADDR_LOC 18
8213: PUSH
8214: EMPTY
8215: ST_TO_ADDR
// Banned_Chassis := [ ] ;
8216: LD_ADDR_LOC 19
8220: PUSH
8221: EMPTY
8222: ST_TO_ADDR
// Banned_Controls := [ ] ;
8223: LD_ADDR_LOC 20
8227: PUSH
8228: EMPTY
8229: ST_TO_ADDR
// Banned_Engines := [ ] ;
8230: LD_ADDR_LOC 21
8234: PUSH
8235: EMPTY
8236: ST_TO_ADDR
// Restricted_Builds := [ ] ;
8237: LD_ADDR_LOC 16
8241: PUSH
8242: EMPTY
8243: ST_TO_ADDR
// Restricted_Builds_Amount := [ ] ;
8244: LD_ADDR_LOC 17
8248: PUSH
8249: EMPTY
8250: ST_TO_ADDR
// No_Mechs := true ;
8251: LD_ADDR_EXP 53
8255: PUSH
8256: LD_INT 1
8258: ST_TO_ADDR
// end ; 4 :
8259: GO 9527
8261: LD_INT 4
8263: DOUBLE
8264: EQUAL
8265: IFTRUE 8269
8267: GO 8444
8269: POP
// begin def_base_level := 1 ;
8270: LD_ADDR_EXP 39
8274: PUSH
8275: LD_INT 1
8277: ST_TO_ADDR
// def_amount_of_people := 2 ;
8278: LD_ADDR_EXP 40
8282: PUSH
8283: LD_INT 2
8285: ST_TO_ADDR
// def_skill_level := 3 ;
8286: LD_ADDR_EXP 41
8290: PUSH
8291: LD_INT 3
8293: ST_TO_ADDR
// def_starting_resources := 3 ;
8294: LD_ADDR_EXP 42
8298: PUSH
8299: LD_INT 3
8301: ST_TO_ADDR
// def_shipments_density := 2 ;
8302: LD_ADDR_EXP 43
8306: PUSH
8307: LD_INT 2
8309: ST_TO_ADDR
// def_extra_oil_deposits := 1 ;
8310: LD_ADDR_EXP 44
8314: PUSH
8315: LD_INT 1
8317: ST_TO_ADDR
// def_extra_sib_deposits := 2 ;
8318: LD_ADDR_EXP 45
8322: PUSH
8323: LD_INT 2
8325: ST_TO_ADDR
// def_shared_vision := 1 ;
8326: LD_ADDR_EXP 46
8330: PUSH
8331: LD_INT 1
8333: ST_TO_ADDR
// def_morale_flags := 0 ;
8334: LD_ADDR_EXP 47
8338: PUSH
8339: LD_INT 0
8341: ST_TO_ADDR
// def_siberite_detection := 1 ;
8342: LD_ADDR_EXP 48
8346: PUSH
8347: LD_INT 1
8349: ST_TO_ADDR
// def_people_respawning := 0 ;
8350: LD_ADDR_EXP 49
8354: PUSH
8355: LD_INT 0
8357: ST_TO_ADDR
// def_amount_of_apemen := 0 ;
8358: LD_ADDR_EXP 50
8362: PUSH
8363: LD_INT 0
8365: ST_TO_ADDR
// def_siberite_bomb := 1 ;
8366: LD_ADDR_EXP 51
8370: PUSH
8371: LD_INT 1
8373: ST_TO_ADDR
// def_builduptime := 3 ;
8374: LD_ADDR_EXP 52
8378: PUSH
8379: LD_INT 3
8381: ST_TO_ADDR
// Unavailable_Techs := [ tech_ApeLang ] ;
8382: LD_ADDR_VAR 0 2
8386: PUSH
8387: LD_INT 1
8389: PUSH
8390: EMPTY
8391: LIST
8392: ST_TO_ADDR
// Unavailable_Builds := [ ] ;
8393: LD_ADDR_VAR 0 3
8397: PUSH
8398: EMPTY
8399: ST_TO_ADDR
// Banned_Weapons := [ ] ;
8400: LD_ADDR_LOC 18
8404: PUSH
8405: EMPTY
8406: ST_TO_ADDR
// Banned_Chassis := [ ] ;
8407: LD_ADDR_LOC 19
8411: PUSH
8412: EMPTY
8413: ST_TO_ADDR
// Banned_Controls := [ ] ;
8414: LD_ADDR_LOC 20
8418: PUSH
8419: EMPTY
8420: ST_TO_ADDR
// Banned_Engines := [ ] ;
8421: LD_ADDR_LOC 21
8425: PUSH
8426: EMPTY
8427: ST_TO_ADDR
// Restricted_Builds := [ ] ;
8428: LD_ADDR_LOC 16
8432: PUSH
8433: EMPTY
8434: ST_TO_ADDR
// Restricted_Builds_Amount := [ ] ;
8435: LD_ADDR_LOC 17
8439: PUSH
8440: EMPTY
8441: ST_TO_ADDR
// end ; 5 :
8442: GO 9527
8444: LD_INT 5
8446: DOUBLE
8447: EQUAL
8448: IFTRUE 8452
8450: GO 8701
8452: POP
// begin def_base_level := 0 ;
8453: LD_ADDR_EXP 39
8457: PUSH
8458: LD_INT 0
8460: ST_TO_ADDR
// def_amount_of_people := 0 ;
8461: LD_ADDR_EXP 40
8465: PUSH
8466: LD_INT 0
8468: ST_TO_ADDR
// def_skill_level := 0 ;
8469: LD_ADDR_EXP 41
8473: PUSH
8474: LD_INT 0
8476: ST_TO_ADDR
// def_starting_resources := 0 ;
8477: LD_ADDR_EXP 42
8481: PUSH
8482: LD_INT 0
8484: ST_TO_ADDR
// def_shipments_density := 0 ;
8485: LD_ADDR_EXP 43
8489: PUSH
8490: LD_INT 0
8492: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
8493: LD_ADDR_EXP 44
8497: PUSH
8498: LD_INT 0
8500: ST_TO_ADDR
// def_extra_sib_deposits := 0 ;
8501: LD_ADDR_EXP 45
8505: PUSH
8506: LD_INT 0
8508: ST_TO_ADDR
// def_shared_vision := 1 ;
8509: LD_ADDR_EXP 46
8513: PUSH
8514: LD_INT 1
8516: ST_TO_ADDR
// def_morale_flags := 0 ;
8517: LD_ADDR_EXP 47
8521: PUSH
8522: LD_INT 0
8524: ST_TO_ADDR
// def_siberite_detection := 0 ;
8525: LD_ADDR_EXP 48
8529: PUSH
8530: LD_INT 0
8532: ST_TO_ADDR
// def_people_respawning := 1 ;
8533: LD_ADDR_EXP 49
8537: PUSH
8538: LD_INT 1
8540: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
8541: LD_ADDR_EXP 50
8545: PUSH
8546: LD_INT 1
8548: ST_TO_ADDR
// def_siberite_bomb := 0 ;
8549: LD_ADDR_EXP 51
8553: PUSH
8554: LD_INT 0
8556: ST_TO_ADDR
// def_builduptime := 0 ;
8557: LD_ADDR_EXP 52
8561: PUSH
8562: LD_INT 0
8564: ST_TO_ADDR
// Unavailable_Techs := [ tech_Laser , tech_ApeNeural ] ;
8565: LD_ADDR_VAR 0 2
8569: PUSH
8570: LD_INT 10
8572: PUSH
8573: LD_INT 3
8575: PUSH
8576: EMPTY
8577: LIST
8578: LIST
8579: ST_TO_ADDR
// Unavailable_Builds := [ b_Lab_Computer , b_Lab_Siberium , b_Lab_Spacetime , b_Lab_Biological , b_Barracks , b_ext_Computer , b_ext_Siberium , b_Turret , b_Control_Tower ] ;
8580: LD_ADDR_VAR 0 3
8584: PUSH
8585: LD_INT 12
8587: PUSH
8588: LD_INT 11
8590: PUSH
8591: LD_INT 14
8593: PUSH
8594: LD_INT 13
8596: PUSH
8597: LD_INT 5
8599: PUSH
8600: LD_INT 24
8602: PUSH
8603: LD_INT 21
8605: PUSH
8606: LD_INT 33
8608: PUSH
8609: LD_INT 36
8611: PUSH
8612: EMPTY
8613: LIST
8614: LIST
8615: LIST
8616: LIST
8617: LIST
8618: LIST
8619: LIST
8620: LIST
8621: LIST
8622: ST_TO_ADDR
// Banned_Weapons := [ ar_Control_Tower ] ;
8623: LD_ADDR_LOC 18
8627: PUSH
8628: LD_INT 31
8630: PUSH
8631: EMPTY
8632: LIST
8633: ST_TO_ADDR
// Banned_Chassis := [ ] ;
8634: LD_ADDR_LOC 19
8638: PUSH
8639: EMPTY
8640: ST_TO_ADDR
// Banned_Controls := [ control_Remote ] ;
8641: LD_ADDR_LOC 20
8645: PUSH
8646: LD_INT 2
8648: PUSH
8649: EMPTY
8650: LIST
8651: ST_TO_ADDR
// Banned_Engines := [ ] ;
8652: LD_ADDR_LOC 21
8656: PUSH
8657: EMPTY
8658: ST_TO_ADDR
// Restricted_Builds := [ [ b_Armoury ] , [ b_Breastwork , b_Bunker ] ] ;
8659: LD_ADDR_LOC 16
8663: PUSH
8664: LD_INT 4
8666: PUSH
8667: EMPTY
8668: LIST
8669: PUSH
8670: LD_INT 31
8672: PUSH
8673: LD_INT 32
8675: PUSH
8676: EMPTY
8677: LIST
8678: LIST
8679: PUSH
8680: EMPTY
8681: LIST
8682: LIST
8683: ST_TO_ADDR
// Restricted_Builds_Amount := [ 1 , 1 ] ;
8684: LD_ADDR_LOC 17
8688: PUSH
8689: LD_INT 1
8691: PUSH
8692: LD_INT 1
8694: PUSH
8695: EMPTY
8696: LIST
8697: LIST
8698: ST_TO_ADDR
// end ; 6 :
8699: GO 9527
8701: LD_INT 6
8703: DOUBLE
8704: EQUAL
8705: IFTRUE 8709
8707: GO 8912
8709: POP
// begin def_base_level := 1 ;
8710: LD_ADDR_EXP 39
8714: PUSH
8715: LD_INT 1
8717: ST_TO_ADDR
// def_amount_of_people := 2 ;
8718: LD_ADDR_EXP 40
8722: PUSH
8723: LD_INT 2
8725: ST_TO_ADDR
// def_skill_level := 3 ;
8726: LD_ADDR_EXP 41
8730: PUSH
8731: LD_INT 3
8733: ST_TO_ADDR
// def_starting_resources := 3 ;
8734: LD_ADDR_EXP 42
8738: PUSH
8739: LD_INT 3
8741: ST_TO_ADDR
// def_shipments_density := 1 ;
8742: LD_ADDR_EXP 43
8746: PUSH
8747: LD_INT 1
8749: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
8750: LD_ADDR_EXP 44
8754: PUSH
8755: LD_INT 0
8757: ST_TO_ADDR
// def_extra_sib_deposits := 1 ;
8758: LD_ADDR_EXP 45
8762: PUSH
8763: LD_INT 1
8765: ST_TO_ADDR
// def_shared_vision := 1 ;
8766: LD_ADDR_EXP 46
8770: PUSH
8771: LD_INT 1
8773: ST_TO_ADDR
// def_morale_flags := 0 ;
8774: LD_ADDR_EXP 47
8778: PUSH
8779: LD_INT 0
8781: ST_TO_ADDR
// def_siberite_detection := 1 ;
8782: LD_ADDR_EXP 48
8786: PUSH
8787: LD_INT 1
8789: ST_TO_ADDR
// def_people_respawning := 2 ;
8790: LD_ADDR_EXP 49
8794: PUSH
8795: LD_INT 2
8797: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
8798: LD_ADDR_EXP 50
8802: PUSH
8803: LD_INT 1
8805: ST_TO_ADDR
// def_siberite_bomb := 0 ;
8806: LD_ADDR_EXP 51
8810: PUSH
8811: LD_INT 0
8813: ST_TO_ADDR
// def_builduptime := 1 ;
8814: LD_ADDR_EXP 52
8818: PUSH
8819: LD_INT 1
8821: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth ] ;
8822: LD_ADDR_VAR 0 2
8826: PUSH
8827: LD_INT 23
8829: PUSH
8830: EMPTY
8831: LIST
8832: ST_TO_ADDR
// Unavailable_Builds := [ b_Workshop , b_Behemoth , b_Breastwork , b_Bunker , b_Turret ] ;
8833: LD_ADDR_VAR 0 3
8837: PUSH
8838: LD_INT 2
8840: PUSH
8841: LD_INT 37
8843: PUSH
8844: LD_INT 31
8846: PUSH
8847: LD_INT 32
8849: PUSH
8850: LD_INT 33
8852: PUSH
8853: EMPTY
8854: LIST
8855: LIST
8856: LIST
8857: LIST
8858: LIST
8859: ST_TO_ADDR
// Banned_Weapons := [ ] ;
8860: LD_ADDR_LOC 18
8864: PUSH
8865: EMPTY
8866: ST_TO_ADDR
// Banned_Chassis := [ ] ;
8867: LD_ADDR_LOC 19
8871: PUSH
8872: EMPTY
8873: ST_TO_ADDR
// Banned_Controls := [ ] ;
8874: LD_ADDR_LOC 20
8878: PUSH
8879: EMPTY
8880: ST_TO_ADDR
// Banned_Engines := [ ] ;
8881: LD_ADDR_LOC 21
8885: PUSH
8886: EMPTY
8887: ST_TO_ADDR
// Restricted_Builds := [ ] ;
8888: LD_ADDR_LOC 16
8892: PUSH
8893: EMPTY
8894: ST_TO_ADDR
// Restricted_Builds_Amount := [ ] ;
8895: LD_ADDR_LOC 17
8899: PUSH
8900: EMPTY
8901: ST_TO_ADDR
// No_Mechs := true ;
8902: LD_ADDR_EXP 53
8906: PUSH
8907: LD_INT 1
8909: ST_TO_ADDR
// end ; 7 :
8910: GO 9527
8912: LD_INT 7
8914: DOUBLE
8915: EQUAL
8916: IFTRUE 8920
8918: GO 9118
8920: POP
// begin def_base_level := 1 ;
8921: LD_ADDR_EXP 39
8925: PUSH
8926: LD_INT 1
8928: ST_TO_ADDR
// def_amount_of_people := 2 ;
8929: LD_ADDR_EXP 40
8933: PUSH
8934: LD_INT 2
8936: ST_TO_ADDR
// def_skill_level := 3 ;
8937: LD_ADDR_EXP 41
8941: PUSH
8942: LD_INT 3
8944: ST_TO_ADDR
// def_starting_resources := 3 ;
8945: LD_ADDR_EXP 42
8949: PUSH
8950: LD_INT 3
8952: ST_TO_ADDR
// def_shipments_density := 1 ;
8953: LD_ADDR_EXP 43
8957: PUSH
8958: LD_INT 1
8960: ST_TO_ADDR
// def_extra_oil_deposits := 1 ;
8961: LD_ADDR_EXP 44
8965: PUSH
8966: LD_INT 1
8968: ST_TO_ADDR
// def_extra_sib_deposits := 2 ;
8969: LD_ADDR_EXP 45
8973: PUSH
8974: LD_INT 2
8976: ST_TO_ADDR
// def_shared_vision := 1 ;
8977: LD_ADDR_EXP 46
8981: PUSH
8982: LD_INT 1
8984: ST_TO_ADDR
// def_morale_flags := 0 ;
8985: LD_ADDR_EXP 47
8989: PUSH
8990: LD_INT 0
8992: ST_TO_ADDR
// def_siberite_detection := 1 ;
8993: LD_ADDR_EXP 48
8997: PUSH
8998: LD_INT 1
9000: ST_TO_ADDR
// def_people_respawning := 0 ;
9001: LD_ADDR_EXP 49
9005: PUSH
9006: LD_INT 0
9008: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
9009: LD_ADDR_EXP 50
9013: PUSH
9014: LD_INT 1
9016: ST_TO_ADDR
// def_siberite_bomb := 0 ;
9017: LD_ADDR_EXP 51
9021: PUSH
9022: LD_INT 0
9024: ST_TO_ADDR
// def_builduptime := 3 ;
9025: LD_ADDR_EXP 52
9029: PUSH
9030: LD_INT 3
9032: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth ] ;
9033: LD_ADDR_VAR 0 2
9037: PUSH
9038: LD_INT 23
9040: PUSH
9041: EMPTY
9042: LIST
9043: ST_TO_ADDR
// Unavailable_Builds := [ b_Behemoth ] ;
9044: LD_ADDR_VAR 0 3
9048: PUSH
9049: LD_INT 37
9051: PUSH
9052: EMPTY
9053: LIST
9054: ST_TO_ADDR
// Banned_Weapons := [ ] ;
9055: LD_ADDR_LOC 18
9059: PUSH
9060: EMPTY
9061: ST_TO_ADDR
// Banned_Chassis := [ ] ;
9062: LD_ADDR_LOC 19
9066: PUSH
9067: EMPTY
9068: ST_TO_ADDR
// Banned_Controls := [ ] ;
9069: LD_ADDR_LOC 20
9073: PUSH
9074: EMPTY
9075: ST_TO_ADDR
// Banned_Engines := [ ] ;
9076: LD_ADDR_LOC 21
9080: PUSH
9081: EMPTY
9082: ST_TO_ADDR
// Restricted_Builds := [ [ b_Breastwork , b_Bunker , b_Turret ] ] ;
9083: LD_ADDR_LOC 16
9087: PUSH
9088: LD_INT 31
9090: PUSH
9091: LD_INT 32
9093: PUSH
9094: LD_INT 33
9096: PUSH
9097: EMPTY
9098: LIST
9099: LIST
9100: LIST
9101: PUSH
9102: EMPTY
9103: LIST
9104: ST_TO_ADDR
// Restricted_Builds_Amount := [ 10 ] ;
9105: LD_ADDR_LOC 17
9109: PUSH
9110: LD_INT 10
9112: PUSH
9113: EMPTY
9114: LIST
9115: ST_TO_ADDR
// end ; 8 :
9116: GO 9527
9118: LD_INT 8
9120: DOUBLE
9121: EQUAL
9122: IFTRUE 9126
9124: GO 9526
9126: POP
// begin def_base_level := 0 ;
9127: LD_ADDR_EXP 39
9131: PUSH
9132: LD_INT 0
9134: ST_TO_ADDR
// def_amount_of_people := Rand ( 0 , 1 ) ;
9135: LD_ADDR_EXP 40
9139: PUSH
9140: LD_INT 0
9142: PPUSH
9143: LD_INT 1
9145: PPUSH
9146: CALL_OW 12
9150: ST_TO_ADDR
// def_skill_level := 0 ;
9151: LD_ADDR_EXP 41
9155: PUSH
9156: LD_INT 0
9158: ST_TO_ADDR
// def_starting_resources := 2 ;
9159: LD_ADDR_EXP 42
9163: PUSH
9164: LD_INT 2
9166: ST_TO_ADDR
// def_shipments_density := 1 ;
9167: LD_ADDR_EXP 43
9171: PUSH
9172: LD_INT 1
9174: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
9175: LD_ADDR_EXP 44
9179: PUSH
9180: LD_INT 0
9182: ST_TO_ADDR
// def_extra_sib_deposits := 0 ;
9183: LD_ADDR_EXP 45
9187: PUSH
9188: LD_INT 0
9190: ST_TO_ADDR
// def_shared_vision := 1 ;
9191: LD_ADDR_EXP 46
9195: PUSH
9196: LD_INT 1
9198: ST_TO_ADDR
// def_morale_flags := Rand ( 0 , 2 ) ;
9199: LD_ADDR_EXP 47
9203: PUSH
9204: LD_INT 0
9206: PPUSH
9207: LD_INT 2
9209: PPUSH
9210: CALL_OW 12
9214: ST_TO_ADDR
// def_siberite_detection := 0 ;
9215: LD_ADDR_EXP 48
9219: PUSH
9220: LD_INT 0
9222: ST_TO_ADDR
// def_people_respawning := 0 ;
9223: LD_ADDR_EXP 49
9227: PUSH
9228: LD_INT 0
9230: ST_TO_ADDR
// def_amount_of_apemen := 2 ;
9231: LD_ADDR_EXP 50
9235: PUSH
9236: LD_INT 2
9238: ST_TO_ADDR
// def_siberite_bomb := 0 ;
9239: LD_ADDR_EXP 51
9243: PUSH
9244: LD_INT 0
9246: ST_TO_ADDR
// def_builduptime := 0 ;
9247: LD_ADDR_EXP 52
9251: PUSH
9252: LD_INT 0
9254: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth , tech_SibDet , tech_Rocket , tech_OilEng , tech_OilPow , tech_Gun , tech_AdvRocket , tech_AdvMet , tech_Mortar , tech_Bazooka , tech_HidCam , tech_PartInvis ] ;
9255: LD_ADDR_VAR 0 2
9259: PUSH
9260: LD_INT 23
9262: PUSH
9263: LD_INT 20
9265: PUSH
9266: LD_INT 40
9268: PUSH
9269: LD_INT 47
9271: PUSH
9272: LD_INT 46
9274: PUSH
9275: LD_INT 39
9277: PUSH
9278: LD_INT 71
9280: PUSH
9281: LD_INT 34
9283: PUSH
9284: LD_INT 41
9286: PUSH
9287: LD_INT 44
9289: PUSH
9290: LD_INT 17
9292: PUSH
9293: LD_INT 16
9295: PUSH
9296: EMPTY
9297: LIST
9298: LIST
9299: LIST
9300: LIST
9301: LIST
9302: LIST
9303: LIST
9304: LIST
9305: LIST
9306: LIST
9307: LIST
9308: LIST
9309: ST_TO_ADDR
// Unavailable_Builds := [ b_Behemoth , b_Barracks , b_Lab_Biological , b_Teleport , b_Lab_Computer , b_Lab_Opto , b_Lab_Siberium , b_Lab_Spacetime , b_Oil_Mine , b_Siberite_Mine , b_Siberite_Power , b_Ext_Computer , b_Ext_Laser , b_Ext_Radar , b_Ext_Siberium , b_Ext_Radio , b_Control_Tower ] ;
9310: LD_ADDR_VAR 0 3
9314: PUSH
9315: LD_INT 37
9317: PUSH
9318: LD_INT 5
9320: PUSH
9321: LD_INT 13
9323: PUSH
9324: LD_INT 34
9326: PUSH
9327: LD_INT 12
9329: PUSH
9330: LD_INT 15
9332: PUSH
9333: LD_INT 11
9335: PUSH
9336: LD_INT 14
9338: PUSH
9339: LD_INT 29
9341: PUSH
9342: LD_INT 30
9344: PUSH
9345: LD_INT 28
9347: PUSH
9348: LD_INT 24
9350: PUSH
9351: LD_INT 25
9353: PUSH
9354: LD_INT 20
9356: PUSH
9357: LD_INT 21
9359: PUSH
9360: LD_INT 22
9362: PUSH
9363: LD_INT 36
9365: PUSH
9366: EMPTY
9367: LIST
9368: LIST
9369: LIST
9370: LIST
9371: LIST
9372: LIST
9373: LIST
9374: LIST
9375: LIST
9376: LIST
9377: LIST
9378: LIST
9379: LIST
9380: LIST
9381: LIST
9382: LIST
9383: LIST
9384: ST_TO_ADDR
// Banned_Weapons := [ ] ;
9385: LD_ADDR_LOC 18
9389: PUSH
9390: EMPTY
9391: ST_TO_ADDR
// Banned_Chassis := [ ar_half_tracked ] ;
9392: LD_ADDR_LOC 19
9396: PUSH
9397: LD_INT 14
9399: PUSH
9400: EMPTY
9401: LIST
9402: ST_TO_ADDR
// Banned_Controls := [ ] ;
9403: LD_ADDR_LOC 20
9407: PUSH
9408: EMPTY
9409: ST_TO_ADDR
// Banned_Engines := [ ] ;
9410: LD_ADDR_LOC 21
9414: PUSH
9415: EMPTY
9416: ST_TO_ADDR
// Restricted_Builds := [ [ b_Breastwork , b_Bunker ] , [ b_Armoury ] ] ;
9417: LD_ADDR_LOC 16
9421: PUSH
9422: LD_INT 31
9424: PUSH
9425: LD_INT 32
9427: PUSH
9428: EMPTY
9429: LIST
9430: LIST
9431: PUSH
9432: LD_INT 4
9434: PUSH
9435: EMPTY
9436: LIST
9437: PUSH
9438: EMPTY
9439: LIST
9440: LIST
9441: ST_TO_ADDR
// Restricted_Builds_Amount := [ 2 , 1 ] ;
9442: LD_ADDR_LOC 17
9446: PUSH
9447: LD_INT 2
9449: PUSH
9450: LD_INT 1
9452: PUSH
9453: EMPTY
9454: LIST
9455: LIST
9456: ST_TO_ADDR
// for i := 1 to 8 do
9457: LD_ADDR_VAR 0 4
9461: PUSH
9462: DOUBLE
9463: LD_INT 1
9465: DEC
9466: ST_TO_ADDR
9467: LD_INT 8
9469: PUSH
9470: FOR_TO
9471: IFFALSE 9522
// if ( Side_Nations [ i ] = 3 ) then
9473: LD_EXP 20
9477: PUSH
9478: LD_VAR 0 4
9482: ARRAY
9483: PUSH
9484: LD_INT 3
9486: EQUAL
9487: IFFALSE 9520
// Side_Nations := Replace ( Side_Nations , i , Rand ( 1 , 2 ) ) ;
9489: LD_ADDR_EXP 20
9493: PUSH
9494: LD_EXP 20
9498: PPUSH
9499: LD_VAR 0 4
9503: PPUSH
9504: LD_INT 1
9506: PPUSH
9507: LD_INT 2
9509: PPUSH
9510: CALL_OW 12
9514: PPUSH
9515: CALL_OW 1
9519: ST_TO_ADDR
9520: GO 9470
9522: POP
9523: POP
// end ; end ;
9524: GO 9527
9526: POP
// for i := 1 to 8 do
9527: LD_ADDR_VAR 0 4
9531: PUSH
9532: DOUBLE
9533: LD_INT 1
9535: DEC
9536: ST_TO_ADDR
9537: LD_INT 8
9539: PUSH
9540: FOR_TO
9541: IFFALSE 9625
// if Side_Positions [ i ] then
9543: LD_EXP 19
9547: PUSH
9548: LD_VAR 0 4
9552: ARRAY
9553: IFFALSE 9623
// begin for j in Unavailable_Techs do
9555: LD_ADDR_VAR 0 5
9559: PUSH
9560: LD_VAR 0 2
9564: PUSH
9565: FOR_IN
9566: IFFALSE 9587
// SetTech ( j , i , 0 ) ;
9568: LD_VAR 0 5
9572: PPUSH
9573: LD_VAR 0 4
9577: PPUSH
9578: LD_INT 0
9580: PPUSH
9581: CALL_OW 322
9585: GO 9565
9587: POP
9588: POP
// for j in Unavailable_Builds do
9589: LD_ADDR_VAR 0 5
9593: PUSH
9594: LD_VAR 0 3
9598: PUSH
9599: FOR_IN
9600: IFFALSE 9621
// SetRestrict ( j , i , 0 ) ;
9602: LD_VAR 0 5
9606: PPUSH
9607: LD_VAR 0 4
9611: PPUSH
9612: LD_INT 0
9614: PPUSH
9615: CALL_OW 324
9619: GO 9599
9621: POP
9622: POP
// end ;
9623: GO 9540
9625: POP
9626: POP
// end ;
9627: LD_VAR 0 1
9631: RET
// export function InitLimits ; var i , j , k , amount , btype , list ; begin
9632: LD_INT 0
9634: PPUSH
9635: PPUSH
9636: PPUSH
9637: PPUSH
9638: PPUSH
9639: PPUSH
9640: PPUSH
// for i := 1 to Restricted_Builds do
9641: LD_ADDR_VAR 0 2
9645: PUSH
9646: DOUBLE
9647: LD_INT 1
9649: DEC
9650: ST_TO_ADDR
9651: LD_LOC 16
9655: PUSH
9656: FOR_TO
9657: IFFALSE 9967
// begin case Restricted_Builds [ i ] [ 1 ] of b_Breastwork , b_Bunker , b_Turret :
9659: LD_LOC 16
9663: PUSH
9664: LD_VAR 0 2
9668: ARRAY
9669: PUSH
9670: LD_INT 1
9672: ARRAY
9673: PUSH
9674: LD_INT 31
9676: DOUBLE
9677: EQUAL
9678: IFTRUE 9694
9680: LD_INT 32
9682: DOUBLE
9683: EQUAL
9684: IFTRUE 9694
9686: LD_INT 33
9688: DOUBLE
9689: EQUAL
9690: IFTRUE 9694
9692: GO 9705
9694: POP
// btype := #Turrets ; b_Armoury , b_Barracks :
9695: LD_ADDR_VAR 0 6
9699: PUSH
9700: LD_STRING #Turrets
9702: ST_TO_ADDR
9703: GO 9750
9705: LD_INT 4
9707: DOUBLE
9708: EQUAL
9709: IFTRUE 9719
9711: LD_INT 5
9713: DOUBLE
9714: EQUAL
9715: IFTRUE 9719
9717: GO 9730
9719: POP
// btype := #Armouries ; b_Behemoth :
9720: LD_ADDR_VAR 0 6
9724: PUSH
9725: LD_STRING #Armouries
9727: ST_TO_ADDR
9728: GO 9750
9730: LD_INT 37
9732: DOUBLE
9733: EQUAL
9734: IFTRUE 9738
9736: GO 9749
9738: POP
// btype := #Behemoths ; end ;
9739: LD_ADDR_VAR 0 6
9743: PUSH
9744: LD_STRING #Behemoths
9746: ST_TO_ADDR
9747: GO 9750
9749: POP
// list := [ ] ;
9750: LD_ADDR_VAR 0 7
9754: PUSH
9755: EMPTY
9756: ST_TO_ADDR
// for j := 1 to 8 do
9757: LD_ADDR_VAR 0 3
9761: PUSH
9762: DOUBLE
9763: LD_INT 1
9765: DEC
9766: ST_TO_ADDR
9767: LD_INT 8
9769: PUSH
9770: FOR_TO
9771: IFFALSE 9864
// if Side_Positions [ j ] then
9773: LD_EXP 19
9777: PUSH
9778: LD_VAR 0 3
9782: ARRAY
9783: IFFALSE 9862
// begin amount := 0 ;
9785: LD_ADDR_VAR 0 5
9789: PUSH
9790: LD_INT 0
9792: ST_TO_ADDR
// for k in Restricted_Builds [ i ] do
9793: LD_ADDR_VAR 0 4
9797: PUSH
9798: LD_LOC 16
9802: PUSH
9803: LD_VAR 0 2
9807: ARRAY
9808: PUSH
9809: FOR_IN
9810: IFFALSE 9858
// amount := amount + FilterAllUnits ( [ [ f_side , j ] , [ f_btype , k ] ] ) ;
9812: LD_ADDR_VAR 0 5
9816: PUSH
9817: LD_VAR 0 5
9821: PUSH
9822: LD_INT 22
9824: PUSH
9825: LD_VAR 0 3
9829: PUSH
9830: EMPTY
9831: LIST
9832: LIST
9833: PUSH
9834: LD_INT 30
9836: PUSH
9837: LD_VAR 0 4
9841: PUSH
9842: EMPTY
9843: LIST
9844: LIST
9845: PUSH
9846: EMPTY
9847: LIST
9848: LIST
9849: PPUSH
9850: CALL_OW 69
9854: PLUS
9855: ST_TO_ADDR
9856: GO 9809
9858: POP
9859: POP
// break ;
9860: GO 9864
// end ;
9862: GO 9770
9864: POP
9865: POP
// list := [ ] ;
9866: LD_ADDR_VAR 0 7
9870: PUSH
9871: EMPTY
9872: ST_TO_ADDR
// for j := 1 to 8 do
9873: LD_ADDR_VAR 0 3
9877: PUSH
9878: DOUBLE
9879: LD_INT 1
9881: DEC
9882: ST_TO_ADDR
9883: LD_INT 8
9885: PUSH
9886: FOR_TO
9887: IFFALSE 9907
// list := list ^ amount ;
9889: LD_ADDR_VAR 0 7
9893: PUSH
9894: LD_VAR 0 7
9898: PUSH
9899: LD_VAR 0 5
9903: ADD
9904: ST_TO_ADDR
9905: GO 9886
9907: POP
9908: POP
// Already_Built := Already_Built ^ [ list ] ;
9909: LD_ADDR_LOC 22
9913: PUSH
9914: LD_LOC 22
9918: PUSH
9919: LD_VAR 0 7
9923: PUSH
9924: EMPTY
9925: LIST
9926: ADD
9927: ST_TO_ADDR
// Limits_Info := Limits_Info ^ [ btype , amount , Restricted_Builds_Amount [ i ] ] ;
9928: LD_ADDR_LOC 23
9932: PUSH
9933: LD_LOC 23
9937: PUSH
9938: LD_VAR 0 6
9942: PUSH
9943: LD_VAR 0 5
9947: PUSH
9948: LD_LOC 17
9952: PUSH
9953: LD_VAR 0 2
9957: ARRAY
9958: PUSH
9959: EMPTY
9960: LIST
9961: LIST
9962: LIST
9963: ADD
9964: ST_TO_ADDR
// end ;
9965: GO 9656
9967: POP
9968: POP
// Cheaters := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
9969: LD_ADDR_LOC 24
9973: PUSH
9974: LD_INT 0
9976: PUSH
9977: LD_INT 0
9979: PUSH
9980: LD_INT 0
9982: PUSH
9983: LD_INT 0
9985: PUSH
9986: LD_INT 0
9988: PUSH
9989: LD_INT 0
9991: PUSH
9992: LD_INT 0
9994: PUSH
9995: LD_INT 0
9997: PUSH
9998: EMPTY
9999: LIST
10000: LIST
10001: LIST
10002: LIST
10003: LIST
10004: LIST
10005: LIST
10006: LIST
10007: ST_TO_ADDR
// if Limits_Info then
10008: LD_LOC 23
10012: IFFALSE 10028
// Limits_Info := #Limits ^ Limits_Info ;
10014: LD_ADDR_LOC 23
10018: PUSH
10019: LD_STRING #Limits
10021: PUSH
10022: LD_LOC 23
10026: ADD
10027: ST_TO_ADDR
// end ;
10028: LD_VAR 0 1
10032: RET
// export function ExecuteLimits ( un , BType , side , old_side , count ) ; var i , j , Is_Cheater ; begin
10033: LD_INT 0
10035: PPUSH
10036: PPUSH
10037: PPUSH
10038: PPUSH
// for i := 1 to Restricted_Builds do
10039: LD_ADDR_VAR 0 7
10043: PUSH
10044: DOUBLE
10045: LD_INT 1
10047: DEC
10048: ST_TO_ADDR
10049: LD_LOC 16
10053: PUSH
10054: FOR_TO
10055: IFFALSE 10478
// if BType in Restricted_Builds [ i ] then
10057: LD_VAR 0 2
10061: PUSH
10062: LD_LOC 16
10066: PUSH
10067: LD_VAR 0 7
10071: ARRAY
10072: IN
10073: IFFALSE 10476
// begin if old_side then
10075: LD_VAR 0 4
10079: IFFALSE 10205
// if Already_Built [ i ] [ side ] + count > Restricted_Builds_Amount [ i ] then
10081: LD_LOC 22
10085: PUSH
10086: LD_VAR 0 7
10090: ARRAY
10091: PUSH
10092: LD_VAR 0 3
10096: ARRAY
10097: PUSH
10098: LD_VAR 0 5
10102: PLUS
10103: PUSH
10104: LD_LOC 17
10108: PUSH
10109: LD_VAR 0 7
10113: ARRAY
10114: GREATER
10115: IFFALSE 10141
// begin SetSide ( un , old_side ) ;
10117: LD_VAR 0 1
10121: PPUSH
10122: LD_VAR 0 4
10126: PPUSH
10127: CALL_OW 235
// count := 0 ;
10131: LD_ADDR_VAR 0 5
10135: PUSH
10136: LD_INT 0
10138: ST_TO_ADDR
// end else
10139: GO 10205
// Already_Built := Replace ( Already_Built , i , Replace ( Already_Built [ i ] , old_side , Already_Built [ i ] [ old_side ] - count ) ) ;
10141: LD_ADDR_LOC 22
10145: PUSH
10146: LD_LOC 22
10150: PPUSH
10151: LD_VAR 0 7
10155: PPUSH
10156: LD_LOC 22
10160: PUSH
10161: LD_VAR 0 7
10165: ARRAY
10166: PPUSH
10167: LD_VAR 0 4
10171: PPUSH
10172: LD_LOC 22
10176: PUSH
10177: LD_VAR 0 7
10181: ARRAY
10182: PUSH
10183: LD_VAR 0 4
10187: ARRAY
10188: PUSH
10189: LD_VAR 0 5
10193: MINUS
10194: PPUSH
10195: CALL_OW 1
10199: PPUSH
10200: CALL_OW 1
10204: ST_TO_ADDR
// Already_Built := Replace ( Already_Built , i , Replace ( Already_Built [ i ] , side , Already_Built [ i ] [ side ] + count ) ) ;
10205: LD_ADDR_LOC 22
10209: PUSH
10210: LD_LOC 22
10214: PPUSH
10215: LD_VAR 0 7
10219: PPUSH
10220: LD_LOC 22
10224: PUSH
10225: LD_VAR 0 7
10229: ARRAY
10230: PPUSH
10231: LD_VAR 0 3
10235: PPUSH
10236: LD_LOC 22
10240: PUSH
10241: LD_VAR 0 7
10245: ARRAY
10246: PUSH
10247: LD_VAR 0 3
10251: ARRAY
10252: PUSH
10253: LD_VAR 0 5
10257: PLUS
10258: PPUSH
10259: CALL_OW 1
10263: PPUSH
10264: CALL_OW 1
10268: ST_TO_ADDR
// if count <> 0 and ( side = your_side ) then
10269: LD_VAR 0 5
10273: PUSH
10274: LD_INT 0
10276: NONEQUAL
10277: PUSH
10278: LD_VAR 0 3
10282: PUSH
10283: LD_OWVAR 2
10287: EQUAL
10288: AND
10289: IFFALSE 10332
// Limits_Info := Replace ( Limits_Info , 3 * i , Already_Built [ i ] [ side ] ) ;
10291: LD_ADDR_LOC 23
10295: PUSH
10296: LD_LOC 23
10300: PPUSH
10301: LD_INT 3
10303: PUSH
10304: LD_VAR 0 7
10308: MUL
10309: PPUSH
10310: LD_LOC 22
10314: PUSH
10315: LD_VAR 0 7
10319: ARRAY
10320: PUSH
10321: LD_VAR 0 3
10325: ARRAY
10326: PPUSH
10327: CALL_OW 1
10331: ST_TO_ADDR
// if Already_Built [ i ] [ side ] > Restricted_Builds_Amount [ i ] then
10332: LD_LOC 22
10336: PUSH
10337: LD_VAR 0 7
10341: ARRAY
10342: PUSH
10343: LD_VAR 0 3
10347: ARRAY
10348: PUSH
10349: LD_LOC 17
10353: PUSH
10354: LD_VAR 0 7
10358: ARRAY
10359: GREATER
10360: IFFALSE 10387
// begin Cheaters := Replace ( Cheaters , side , 1 ) ;
10362: LD_ADDR_LOC 24
10366: PUSH
10367: LD_LOC 24
10371: PPUSH
10372: LD_VAR 0 3
10376: PPUSH
10377: LD_INT 1
10379: PPUSH
10380: CALL_OW 1
10384: ST_TO_ADDR
// end else
10385: GO 10474
// begin for j := 1 to Restricted_Builds do
10387: LD_ADDR_VAR 0 8
10391: PUSH
10392: DOUBLE
10393: LD_INT 1
10395: DEC
10396: ST_TO_ADDR
10397: LD_LOC 16
10401: PUSH
10402: FOR_TO
10403: IFFALSE 10447
// if Already_Built [ j ] [ side ] > Restricted_Builds_Amount [ j ] then
10405: LD_LOC 22
10409: PUSH
10410: LD_VAR 0 8
10414: ARRAY
10415: PUSH
10416: LD_VAR 0 3
10420: ARRAY
10421: PUSH
10422: LD_LOC 17
10426: PUSH
10427: LD_VAR 0 8
10431: ARRAY
10432: GREATER
10433: IFFALSE 10445
// begin Is_Cheater := true ;
10435: LD_ADDR_VAR 0 9
10439: PUSH
10440: LD_INT 1
10442: ST_TO_ADDR
// break ;
10443: GO 10447
// end ;
10445: GO 10402
10447: POP
10448: POP
// Cheaters := Replace ( Cheaters , side , Is_Cheater ) ;
10449: LD_ADDR_LOC 24
10453: PUSH
10454: LD_LOC 24
10458: PPUSH
10459: LD_VAR 0 3
10463: PPUSH
10464: LD_VAR 0 9
10468: PPUSH
10469: CALL_OW 1
10473: ST_TO_ADDR
// end ; break ;
10474: GO 10478
// end ;
10476: GO 10054
10478: POP
10479: POP
// end ;
10480: LD_VAR 0 6
10484: RET
// on VehicleConstructionStarted ( factory , chassis , engine , control , weapon ) do begin if ( weapon in Banned_Weapons ) or ( chassis in Banned_Chassis ) or ( control in Banned_Controls ) or ( engine in Banned_Engines ) then
10485: LD_VAR 0 5
10489: PUSH
10490: LD_LOC 18
10494: IN
10495: PUSH
10496: LD_VAR 0 2
10500: PUSH
10501: LD_LOC 19
10505: IN
10506: OR
10507: PUSH
10508: LD_VAR 0 4
10512: PUSH
10513: LD_LOC 20
10517: IN
10518: OR
10519: PUSH
10520: LD_VAR 0 3
10524: PUSH
10525: LD_LOC 21
10529: IN
10530: OR
10531: IFFALSE 10542
// ComCancel ( factory ) ;
10533: LD_VAR 0 1
10537: PPUSH
10538: CALL_OW 127
// end ;
10542: PPOPN 5
10544: END
// on WeaponPlaced ( building , weapon ) do begin if ( weapon in Banned_Weapons ) then
10545: LD_VAR 0 2
10549: PUSH
10550: LD_LOC 18
10554: IN
10555: IFFALSE 10566
// ComCancel ( building ) ;
10557: LD_VAR 0 1
10561: PPUSH
10562: CALL_OW 127
// end ; end_of_file
10566: PPOPN 2
10568: END
// export ExtraStrings ; export WaitServerStrings ; export function ShowTimer ; var AllStrings ; begin
10569: LD_INT 0
10571: PPUSH
10572: PPUSH
// AllStrings := [ #Multi1x1-Time , tick ] ;
10573: LD_ADDR_VAR 0 2
10577: PUSH
10578: LD_STRING #Multi1x1-Time
10580: PUSH
10581: LD_OWVAR 1
10585: PUSH
10586: EMPTY
10587: LIST
10588: LIST
10589: ST_TO_ADDR
// if WaitServerStrings then
10590: LD_EXP 55
10594: IFFALSE 10612
// AllStrings = AllStrings ^ WaitServerStrings ;
10596: LD_ADDR_VAR 0 2
10600: PUSH
10601: LD_VAR 0 2
10605: PUSH
10606: LD_EXP 55
10610: ADD
10611: ST_TO_ADDR
// if 0 <= siberite_bomb_Delay - tick then
10612: LD_INT 0
10614: PUSH
10615: LD_EXP 12
10619: PUSH
10620: LD_OWVAR 1
10624: MINUS
10625: LESSEQUAL
10626: IFFALSE 10657
// AllStrings := AllStrings ^ [ #allowedsibbomb , siberite_bomb_Delay - tick ] ;
10628: LD_ADDR_VAR 0 2
10632: PUSH
10633: LD_VAR 0 2
10637: PUSH
10638: LD_STRING #allowedsibbomb
10640: PUSH
10641: LD_EXP 12
10645: PUSH
10646: LD_OWVAR 1
10650: MINUS
10651: PUSH
10652: EMPTY
10653: LIST
10654: LIST
10655: ADD
10656: ST_TO_ADDR
// if 0 <= buildUpTime_Delay - tick then
10657: LD_INT 0
10659: PUSH
10660: LD_EXP 58
10664: PUSH
10665: LD_OWVAR 1
10669: MINUS
10670: LESSEQUAL
10671: IFFALSE 10702
// AllStrings := AllStrings ^ [ #builduptime , buildUpTime_Delay - tick ] ;
10673: LD_ADDR_VAR 0 2
10677: PUSH
10678: LD_VAR 0 2
10682: PUSH
10683: LD_STRING #builduptime
10685: PUSH
10686: LD_EXP 58
10690: PUSH
10691: LD_OWVAR 1
10695: MINUS
10696: PUSH
10697: EMPTY
10698: LIST
10699: LIST
10700: ADD
10701: ST_TO_ADDR
// if ( ExtraStrings ) then
10702: LD_EXP 54
10706: IFFALSE 10728
// AllStrings := AllStrings ^  ^ ExtraStrings ;
10708: LD_ADDR_VAR 0 2
10712: PUSH
10713: LD_VAR 0 2
10717: PUSH
10718: LD_STRING 
10720: ADD
10721: PUSH
10722: LD_EXP 54
10726: ADD
10727: ST_TO_ADDR
// if ( LimitsStrings ) then
10728: CALL 7409 0 0
10732: IFFALSE 10754
// AllStrings := AllStrings ^  ^ LimitsStrings ;
10734: LD_ADDR_VAR 0 2
10738: PUSH
10739: LD_VAR 0 2
10743: PUSH
10744: LD_STRING 
10746: ADD
10747: PUSH
10748: CALL 7409 0 0
10752: ADD
10753: ST_TO_ADDR
// Display_Strings := AllStrings ;
10754: LD_ADDR_OWVAR 47
10758: PUSH
10759: LD_VAR 0 2
10763: ST_TO_ADDR
// end ;
10764: LD_VAR 0 1
10768: RET
// every 0 0$1 do
10769: GO 10771
10771: DISABLE
// begin ShowTimer ;
10772: CALL 10569 0 0
// enable ;
10776: ENABLE
// end ; end_of_file
10777: END
// export BuildUpAreas ; export BuildUpTimeActive ; export BuildUpTime_Delay ; export function BeginBuildUp ; var i , j ; begin
10778: LD_INT 0
10780: PPUSH
10781: PPUSH
10782: PPUSH
// BuildUpTime_Delay = 0 ;
10783: LD_ADDR_EXP 58
10787: PUSH
10788: LD_INT 0
10790: ST_TO_ADDR
// if not def_builduptime then
10791: LD_EXP 52
10795: NOT
10796: IFFALSE 10800
// exit ;
10798: GO 10983
// BuildUpTime_Delay := 4 4$00 + 1 1$00 * def_builduptime ;
10800: LD_ADDR_EXP 58
10804: PUSH
10805: LD_INT 8400
10807: PUSH
10808: LD_INT 2100
10810: PUSH
10811: LD_EXP 52
10815: MUL
10816: PLUS
10817: ST_TO_ADDR
// BuildUpTimeActive := true ;
10818: LD_ADDR_EXP 57
10822: PUSH
10823: LD_INT 1
10825: ST_TO_ADDR
// for i := 1 to 8 do
10826: LD_ADDR_VAR 0 2
10830: PUSH
10831: DOUBLE
10832: LD_INT 1
10834: DEC
10835: ST_TO_ADDR
10836: LD_INT 8
10838: PUSH
10839: FOR_TO
10840: IFFALSE 10981
// if Side_Positions [ i ] then
10842: LD_EXP 19
10846: PUSH
10847: LD_VAR 0 2
10851: ARRAY
10852: IFFALSE 10979
// begin SetAreaMapShow ( BuildUpAreas [ Side_Positions [ i ] ] , 5 ) ;
10854: LD_EXP 56
10858: PUSH
10859: LD_EXP 19
10863: PUSH
10864: LD_VAR 0 2
10868: ARRAY
10869: ARRAY
10870: PPUSH
10871: LD_INT 5
10873: PPUSH
10874: CALL_OW 424
// for j := 1 to 8 do
10878: LD_ADDR_VAR 0 3
10882: PUSH
10883: DOUBLE
10884: LD_INT 1
10886: DEC
10887: ST_TO_ADDR
10888: LD_INT 8
10890: PUSH
10891: FOR_TO
10892: IFFALSE 10977
// if Side_Positions [ j ] and ( ( Side_Teams [ i ] <> Side_Teams [ j ] ) or ( not Team_Game ) and ( i <> j ) ) then
10894: LD_EXP 19
10898: PUSH
10899: LD_VAR 0 3
10903: ARRAY
10904: PUSH
10905: LD_EXP 16
10909: PUSH
10910: LD_VAR 0 2
10914: ARRAY
10915: PUSH
10916: LD_EXP 16
10920: PUSH
10921: LD_VAR 0 3
10925: ARRAY
10926: NONEQUAL
10927: PUSH
10928: LD_EXP 21
10932: NOT
10933: PUSH
10934: LD_VAR 0 2
10938: PUSH
10939: LD_VAR 0 3
10943: NONEQUAL
10944: AND
10945: OR
10946: AND
10947: IFFALSE 10975
// HideArea ( j , BuildUpAreas [ Side_Positions [ i ] ] ) ;
10949: LD_VAR 0 3
10953: PPUSH
10954: LD_EXP 56
10958: PUSH
10959: LD_EXP 19
10963: PUSH
10964: LD_VAR 0 2
10968: ARRAY
10969: ARRAY
10970: PPUSH
10971: CALL_OW 333
10975: GO 10891
10977: POP
10978: POP
// end ;
10979: GO 10839
10981: POP
10982: POP
// end ;
10983: LD_VAR 0 1
10987: RET
// export function EndBuildUp ; var i , j ; begin
10988: LD_INT 0
10990: PPUSH
10991: PPUSH
10992: PPUSH
// BuildUpTimeActive := false ;
10993: LD_ADDR_EXP 57
10997: PUSH
10998: LD_INT 0
11000: ST_TO_ADDR
// for i := 1 to 8 do
11001: LD_ADDR_VAR 0 2
11005: PUSH
11006: DOUBLE
11007: LD_INT 1
11009: DEC
11010: ST_TO_ADDR
11011: LD_INT 8
11013: PUSH
11014: FOR_TO
11015: IFFALSE 11156
// if Side_Positions [ i ] then
11017: LD_EXP 19
11021: PUSH
11022: LD_VAR 0 2
11026: ARRAY
11027: IFFALSE 11154
// begin SetAreaMapShow ( BuildUpAreas [ Side_Positions [ i ] ] , 0 ) ;
11029: LD_EXP 56
11033: PUSH
11034: LD_EXP 19
11038: PUSH
11039: LD_VAR 0 2
11043: ARRAY
11044: ARRAY
11045: PPUSH
11046: LD_INT 0
11048: PPUSH
11049: CALL_OW 424
// for j := 1 to 8 do
11053: LD_ADDR_VAR 0 3
11057: PUSH
11058: DOUBLE
11059: LD_INT 1
11061: DEC
11062: ST_TO_ADDR
11063: LD_INT 8
11065: PUSH
11066: FOR_TO
11067: IFFALSE 11152
// if Side_Positions [ j ] and ( ( Side_Teams [ i ] <> Side_Teams [ j ] ) or ( not Team_Game ) and ( i <> j ) ) then
11069: LD_EXP 19
11073: PUSH
11074: LD_VAR 0 3
11078: ARRAY
11079: PUSH
11080: LD_EXP 16
11084: PUSH
11085: LD_VAR 0 2
11089: ARRAY
11090: PUSH
11091: LD_EXP 16
11095: PUSH
11096: LD_VAR 0 3
11100: ARRAY
11101: NONEQUAL
11102: PUSH
11103: LD_EXP 21
11107: NOT
11108: PUSH
11109: LD_VAR 0 2
11113: PUSH
11114: LD_VAR 0 3
11118: NONEQUAL
11119: AND
11120: OR
11121: AND
11122: IFFALSE 11150
// ShowArea ( j , BuildUpAreas [ Side_Positions [ i ] ] ) ;
11124: LD_VAR 0 3
11128: PPUSH
11129: LD_EXP 56
11133: PUSH
11134: LD_EXP 19
11138: PUSH
11139: LD_VAR 0 2
11143: ARRAY
11144: ARRAY
11145: PPUSH
11146: CALL_OW 334
11150: GO 11066
11152: POP
11153: POP
// end ;
11154: GO 11014
11156: POP
11157: POP
// end ;
11158: LD_VAR 0 1
11162: RET
// every 5 trigger BuildUpTimeActive do var i , un ;
11163: LD_EXP 57
11167: IFFALSE 11342
11169: GO 11171
11171: DISABLE
11172: LD_INT 0
11174: PPUSH
11175: PPUSH
// begin for i := 1 to 8 do
11176: LD_ADDR_VAR 0 1
11180: PUSH
11181: DOUBLE
11182: LD_INT 1
11184: DEC
11185: ST_TO_ADDR
11186: LD_INT 8
11188: PUSH
11189: FOR_TO
11190: IFFALSE 11339
// if Side_Positions [ i ] then
11192: LD_EXP 19
11196: PUSH
11197: LD_VAR 0 1
11201: ARRAY
11202: IFFALSE 11337
// for un in FilterUnitsInArea ( BuildUpAreas [ Side_Positions [ i ] ] , [ [ f_or , [ f_type , unit_human ] , [ f_type , unit_vehicle ] ] , [ f_side , Your_Side ] ] ) do
11204: LD_ADDR_VAR 0 2
11208: PUSH
11209: LD_EXP 56
11213: PUSH
11214: LD_EXP 19
11218: PUSH
11219: LD_VAR 0 1
11223: ARRAY
11224: ARRAY
11225: PPUSH
11226: LD_INT 2
11228: PUSH
11229: LD_INT 21
11231: PUSH
11232: LD_INT 1
11234: PUSH
11235: EMPTY
11236: LIST
11237: LIST
11238: PUSH
11239: LD_INT 21
11241: PUSH
11242: LD_INT 2
11244: PUSH
11245: EMPTY
11246: LIST
11247: LIST
11248: PUSH
11249: EMPTY
11250: LIST
11251: LIST
11252: LIST
11253: PUSH
11254: LD_INT 22
11256: PUSH
11257: LD_OWVAR 2
11261: PUSH
11262: EMPTY
11263: LIST
11264: LIST
11265: PUSH
11266: EMPTY
11267: LIST
11268: LIST
11269: PPUSH
11270: CALL_OW 70
11274: PUSH
11275: FOR_IN
11276: IFFALSE 11335
// if ( ( Side_Teams [ i ] <> Side_Teams [ Your_Side ] ) or ( not Team_Game ) and ( i <> Your_Side ) ) then
11278: LD_EXP 16
11282: PUSH
11283: LD_VAR 0 1
11287: ARRAY
11288: PUSH
11289: LD_EXP 16
11293: PUSH
11294: LD_OWVAR 2
11298: ARRAY
11299: NONEQUAL
11300: PUSH
11301: LD_EXP 21
11305: NOT
11306: PUSH
11307: LD_VAR 0 1
11311: PUSH
11312: LD_OWVAR 2
11316: NONEQUAL
11317: AND
11318: OR
11319: IFFALSE 11333
// ComMoveToArea ( un , BuildUpEscape ) ;
11321: LD_VAR 0 2
11325: PPUSH
11326: LD_INT 12
11328: PPUSH
11329: CALL_OW 113
11333: GO 11275
11335: POP
11336: POP
11337: GO 11189
11339: POP
11340: POP
// enable ;
11341: ENABLE
// end ;
11342: PPOPN 2
11344: END
// every 0 0$1 trigger def_builduptime do
11345: LD_EXP 52
11349: IFFALSE 11375
11351: GO 11353
11353: DISABLE
// begin wait ( 4 4$00 + ( def_builduptime * 1 1$00 ) ) ;
11354: LD_INT 8400
11356: PUSH
11357: LD_EXP 52
11361: PUSH
11362: LD_INT 2100
11364: MUL
11365: PLUS
11366: PPUSH
11367: CALL_OW 67
// EndBuildUp ;
11371: CALL 10988 0 0
// end ; end_of_file
11375: END
// export function SA_OnSiberiteRocketExploded ( siberite_rocket_vehicle , target_x , target_y , requestSide ) ; begin
11376: LD_INT 0
11378: PPUSH
// if GetSide ( siberite_rocket_vehicle ) = requestSide then
11379: LD_VAR 0 1
11383: PPUSH
11384: CALL_OW 255
11388: PUSH
11389: LD_VAR 0 4
11393: EQUAL
11394: IFFALSE 11413
// begin SetAchievement ( ACH_RAD ) ;
11396: LD_STRING ACH_RAD
11398: PPUSH
11399: CALL_OW 543
// SetAchievementEx ( ACH_NL , 1 ) ;
11403: LD_STRING ACH_NL
11405: PPUSH
11406: LD_INT 1
11408: PPUSH
11409: CALL_OW 564
// end end ;
11413: LD_VAR 0 5
11417: RET
// export function SA_Win ( side ) ; begin
11418: LD_INT 0
11420: PPUSH
// case side of 1 :
11421: LD_VAR 0 1
11425: PUSH
11426: LD_INT 1
11428: DOUBLE
11429: EQUAL
11430: IFTRUE 11434
11432: GO 11447
11434: POP
// SetAchievementEx ( ACH_AH , 1 ) ; 2 :
11435: LD_STRING ACH_AH
11437: PPUSH
11438: LD_INT 1
11440: PPUSH
11441: CALL_OW 564
11445: GO 11610
11447: LD_INT 2
11449: DOUBLE
11450: EQUAL
11451: IFTRUE 11455
11453: GO 11468
11455: POP
// SetAchievementEx ( ACH_E , 1 ) ; 3 :
11456: LD_STRING ACH_E
11458: PPUSH
11459: LD_INT 1
11461: PPUSH
11462: CALL_OW 564
11466: GO 11610
11468: LD_INT 3
11470: DOUBLE
11471: EQUAL
11472: IFTRUE 11476
11474: GO 11489
11476: POP
// SetAchievementEx ( ACH_OOL , 1 ) ; [ 1 , 2 ] :
11477: LD_STRING ACH_OOL
11479: PPUSH
11480: LD_INT 1
11482: PPUSH
11483: CALL_OW 564
11487: GO 11610
11489: LD_INT 1
11491: PUSH
11492: LD_INT 2
11494: PUSH
11495: EMPTY
11496: LIST
11497: LIST
11498: DOUBLE
11499: EQUAL
11500: IFTRUE 11504
11502: GO 11529
11504: POP
// begin SetAchievementEx ( ACH_AH , 0.5 ) ;
11505: LD_STRING ACH_AH
11507: PPUSH
11508: LD_REAL  5.00000000000000E-0001
11511: PPUSH
11512: CALL_OW 564
// SetAchievementEx ( ACH_E , 0.5 ) ;
11516: LD_STRING ACH_E
11518: PPUSH
11519: LD_REAL  5.00000000000000E-0001
11522: PPUSH
11523: CALL_OW 564
// end ; [ 2 , 3 ] :
11527: GO 11610
11529: LD_INT 2
11531: PUSH
11532: LD_INT 3
11534: PUSH
11535: EMPTY
11536: LIST
11537: LIST
11538: DOUBLE
11539: EQUAL
11540: IFTRUE 11544
11542: GO 11569
11544: POP
// begin SetAchievementEx ( ACH_OOL , 0.5 ) ;
11545: LD_STRING ACH_OOL
11547: PPUSH
11548: LD_REAL  5.00000000000000E-0001
11551: PPUSH
11552: CALL_OW 564
// SetAchievementEx ( ACH_E , 0.5 ) ;
11556: LD_STRING ACH_E
11558: PPUSH
11559: LD_REAL  5.00000000000000E-0001
11562: PPUSH
11563: CALL_OW 564
// end ; [ 3 , 1 ] :
11567: GO 11610
11569: LD_INT 3
11571: PUSH
11572: LD_INT 1
11574: PUSH
11575: EMPTY
11576: LIST
11577: LIST
11578: DOUBLE
11579: EQUAL
11580: IFTRUE 11584
11582: GO 11609
11584: POP
// begin SetAchievementEx ( ACH_AH , 0.5 ) ;
11585: LD_STRING ACH_AH
11587: PPUSH
11588: LD_REAL  5.00000000000000E-0001
11591: PPUSH
11592: CALL_OW 564
// SetAchievementEx ( ACH_OOL , 0.5 ) ;
11596: LD_STRING ACH_OOL
11598: PPUSH
11599: LD_REAL  5.00000000000000E-0001
11602: PPUSH
11603: CALL_OW 564
// end ; end ;
11607: GO 11610
11609: POP
// end ; end_of_file
11610: LD_VAR 0 2
11614: RET
// export function SetMpTechs ( ) ; var side , i ; begin
11615: LD_INT 0
11617: PPUSH
11618: PPUSH
11619: PPUSH
// for side = 1 to 8 do
11620: LD_ADDR_VAR 0 2
11624: PUSH
11625: DOUBLE
11626: LD_INT 1
11628: DEC
11629: ST_TO_ADDR
11630: LD_INT 8
11632: PUSH
11633: FOR_TO
11634: IFFALSE 11755
// begin for i = 1 to 72 do
11636: LD_ADDR_VAR 0 3
11640: PUSH
11641: DOUBLE
11642: LD_INT 1
11644: DEC
11645: ST_TO_ADDR
11646: LD_INT 72
11648: PUSH
11649: FOR_TO
11650: IFFALSE 11681
// SetTech ( i , side , GetRestrictions ( false , i ) ) ;
11652: LD_VAR 0 3
11656: PPUSH
11657: LD_VAR 0 2
11661: PPUSH
11662: LD_INT 0
11664: PPUSH
11665: LD_VAR 0 3
11669: PPUSH
11670: CALL_OW 565
11674: PPUSH
11675: CALL_OW 322
11679: GO 11649
11681: POP
11682: POP
// SetTech ( 73 , side , GetRestrictions ( false , 25 ) ) ;
11683: LD_INT 73
11685: PPUSH
11686: LD_VAR 0 2
11690: PPUSH
11691: LD_INT 0
11693: PPUSH
11694: LD_INT 25
11696: PPUSH
11697: CALL_OW 565
11701: PPUSH
11702: CALL_OW 322
// for i = 0 to 40 do
11706: LD_ADDR_VAR 0 3
11710: PUSH
11711: DOUBLE
11712: LD_INT 0
11714: DEC
11715: ST_TO_ADDR
11716: LD_INT 40
11718: PUSH
11719: FOR_TO
11720: IFFALSE 11751
// SetRestrict ( i , side , GetRestrictions ( true , i ) ) ;
11722: LD_VAR 0 3
11726: PPUSH
11727: LD_VAR 0 2
11731: PPUSH
11732: LD_INT 1
11734: PPUSH
11735: LD_VAR 0 3
11739: PPUSH
11740: CALL_OW 565
11744: PPUSH
11745: CALL_OW 324
11749: GO 11719
11751: POP
11752: POP
// end ;
11753: GO 11633
11755: POP
11756: POP
// end ;
11757: LD_VAR 0 1
11761: RET
// export function SetMpTechLevel ( level ) ; var side , i ; begin
11762: LD_INT 0
11764: PPUSH
11765: PPUSH
11766: PPUSH
// for side = 1 to 8 do
11767: LD_ADDR_VAR 0 3
11771: PUSH
11772: DOUBLE
11773: LD_INT 1
11775: DEC
11776: ST_TO_ADDR
11777: LD_INT 8
11779: PUSH
11780: FOR_TO
11781: IFFALSE 15777
// begin for i = 1 to 73 do
11783: LD_ADDR_VAR 0 4
11787: PUSH
11788: DOUBLE
11789: LD_INT 1
11791: DEC
11792: ST_TO_ADDR
11793: LD_INT 73
11795: PUSH
11796: FOR_TO
11797: IFFALSE 11818
// SetTech ( i , side , state_disabled ) ;
11799: LD_VAR 0 4
11803: PPUSH
11804: LD_VAR 0 3
11808: PPUSH
11809: LD_INT 0
11811: PPUSH
11812: CALL_OW 322
11816: GO 11796
11818: POP
11819: POP
// for i = 0 to 40 do
11820: LD_ADDR_VAR 0 4
11824: PUSH
11825: DOUBLE
11826: LD_INT 0
11828: DEC
11829: ST_TO_ADDR
11830: LD_INT 40
11832: PUSH
11833: FOR_TO
11834: IFFALSE 11855
// SetRestrict ( i , side , false ) ;
11836: LD_VAR 0 4
11840: PPUSH
11841: LD_VAR 0 3
11845: PPUSH
11846: LD_INT 0
11848: PPUSH
11849: CALL_OW 324
11853: GO 11833
11855: POP
11856: POP
// case level of 1 :
11857: LD_VAR 0 1
11861: PUSH
11862: LD_INT 1
11864: DOUBLE
11865: EQUAL
11866: IFTRUE 11870
11868: GO 12023
11870: POP
// begin SetTech ( tech_solpow , side , state_enabled ) ;
11871: LD_INT 35
11873: PPUSH
11874: LD_VAR 0 3
11878: PPUSH
11879: LD_INT 1
11881: PPUSH
11882: CALL_OW 322
// SetTech ( tech_soleng , side , state_enabled ) ;
11886: LD_INT 45
11888: PPUSH
11889: LD_VAR 0 3
11893: PPUSH
11894: LD_INT 1
11896: PPUSH
11897: CALL_OW 322
// SetTech ( tech_oilpow , side , state_enabled ) ;
11901: LD_INT 46
11903: PPUSH
11904: LD_VAR 0 3
11908: PPUSH
11909: LD_INT 1
11911: PPUSH
11912: CALL_OW 322
// SetTech ( tech_oileng , side , state_enabled ) ;
11916: LD_INT 47
11918: PPUSH
11919: LD_VAR 0 3
11923: PPUSH
11924: LD_INT 1
11926: PPUSH
11927: CALL_OW 322
// SetRestrict ( b_depot , side , true ) ;
11931: LD_INT 0
11933: PPUSH
11934: LD_VAR 0 3
11938: PPUSH
11939: LD_INT 1
11941: PPUSH
11942: CALL_OW 324
// SetRestrict ( b_workshop , side , true ) ;
11946: LD_INT 2
11948: PPUSH
11949: LD_VAR 0 3
11953: PPUSH
11954: LD_INT 1
11956: PPUSH
11957: CALL_OW 324
// SetRestrict ( b_armoury , side , true ) ;
11961: LD_INT 4
11963: PPUSH
11964: LD_VAR 0 3
11968: PPUSH
11969: LD_INT 1
11971: PPUSH
11972: CALL_OW 324
// SetRestrict ( b_lab , side , true ) ;
11976: LD_INT 6
11978: PPUSH
11979: LD_VAR 0 3
11983: PPUSH
11984: LD_INT 1
11986: PPUSH
11987: CALL_OW 324
// SetRestrict ( b_oil_mine , side , true ) ;
11991: LD_INT 29
11993: PPUSH
11994: LD_VAR 0 3
11998: PPUSH
11999: LD_INT 1
12001: PPUSH
12002: CALL_OW 324
// SetRestrict ( b_breastwork , side , true ) ;
12006: LD_INT 31
12008: PPUSH
12009: LD_VAR 0 3
12013: PPUSH
12014: LD_INT 1
12016: PPUSH
12017: CALL_OW 324
// end ; 2 :
12021: GO 15775
12023: LD_INT 2
12025: DOUBLE
12026: EQUAL
12027: IFTRUE 12031
12029: GO 12229
12031: POP
// begin SetTech ( tech_solpow , side , state_enabled ) ;
12032: LD_INT 35
12034: PPUSH
12035: LD_VAR 0 3
12039: PPUSH
12040: LD_INT 1
12042: PPUSH
12043: CALL_OW 322
// SetTech ( tech_soleng , side , state_enabled ) ;
12047: LD_INT 45
12049: PPUSH
12050: LD_VAR 0 3
12054: PPUSH
12055: LD_INT 1
12057: PPUSH
12058: CALL_OW 322
// SetTech ( tech_oilpow , side , state_enabled ) ;
12062: LD_INT 46
12064: PPUSH
12065: LD_VAR 0 3
12069: PPUSH
12070: LD_INT 1
12072: PPUSH
12073: CALL_OW 322
// SetTech ( tech_oileng , side , state_enabled ) ;
12077: LD_INT 47
12079: PPUSH
12080: LD_VAR 0 3
12084: PPUSH
12085: LD_INT 1
12087: PPUSH
12088: CALL_OW 322
// SetTech ( tech_apelang , side , state_enabled ) ;
12092: LD_INT 1
12094: PPUSH
12095: LD_VAR 0 3
12099: PPUSH
12100: LD_INT 1
12102: PPUSH
12103: CALL_OW 322
// SetTech ( tech_apepsych , side , state_enabled ) ;
12107: LD_INT 2
12109: PPUSH
12110: LD_VAR 0 3
12114: PPUSH
12115: LD_INT 1
12117: PPUSH
12118: CALL_OW 322
// SetTech ( tech_apeagres , side , state_enabled ) ;
12122: LD_INT 11
12124: PPUSH
12125: LD_VAR 0 3
12129: PPUSH
12130: LD_INT 1
12132: PPUSH
12133: CALL_OW 322
// SetRestrict ( b_depot , side , true ) ;
12137: LD_INT 0
12139: PPUSH
12140: LD_VAR 0 3
12144: PPUSH
12145: LD_INT 1
12147: PPUSH
12148: CALL_OW 324
// SetRestrict ( b_workshop , side , true ) ;
12152: LD_INT 2
12154: PPUSH
12155: LD_VAR 0 3
12159: PPUSH
12160: LD_INT 1
12162: PPUSH
12163: CALL_OW 324
// SetRestrict ( b_armoury , side , true ) ;
12167: LD_INT 4
12169: PPUSH
12170: LD_VAR 0 3
12174: PPUSH
12175: LD_INT 1
12177: PPUSH
12178: CALL_OW 324
// SetRestrict ( b_lab , side , true ) ;
12182: LD_INT 6
12184: PPUSH
12185: LD_VAR 0 3
12189: PPUSH
12190: LD_INT 1
12192: PPUSH
12193: CALL_OW 324
// SetRestrict ( b_oil_mine , side , true ) ;
12197: LD_INT 29
12199: PPUSH
12200: LD_VAR 0 3
12204: PPUSH
12205: LD_INT 1
12207: PPUSH
12208: CALL_OW 324
// SetRestrict ( b_breastwork , side , true ) ;
12212: LD_INT 31
12214: PPUSH
12215: LD_VAR 0 3
12219: PPUSH
12220: LD_INT 1
12222: PPUSH
12223: CALL_OW 324
// end ; 3 :
12227: GO 15775
12229: LD_INT 3
12231: DOUBLE
12232: EQUAL
12233: IFTRUE 12237
12235: GO 12690
12237: POP
// begin SetTech ( tech_solpow , side , state_enabled ) ;
12238: LD_INT 35
12240: PPUSH
12241: LD_VAR 0 3
12245: PPUSH
12246: LD_INT 1
12248: PPUSH
12249: CALL_OW 322
// SetTech ( tech_soleng , side , state_enabled ) ;
12253: LD_INT 45
12255: PPUSH
12256: LD_VAR 0 3
12260: PPUSH
12261: LD_INT 1
12263: PPUSH
12264: CALL_OW 322
// SetTech ( tech_oilpow , side , state_enabled ) ;
12268: LD_INT 46
12270: PPUSH
12271: LD_VAR 0 3
12275: PPUSH
12276: LD_INT 1
12278: PPUSH
12279: CALL_OW 322
// SetTech ( tech_oileng , side , state_enabled ) ;
12283: LD_INT 47
12285: PPUSH
12286: LD_VAR 0 3
12290: PPUSH
12291: LD_INT 1
12293: PPUSH
12294: CALL_OW 322
// SetTech ( tech_apelang , side , state_enabled ) ;
12298: LD_INT 1
12300: PPUSH
12301: LD_VAR 0 3
12305: PPUSH
12306: LD_INT 1
12308: PPUSH
12309: CALL_OW 322
// SetTech ( tech_apepsych , side , state_enabled ) ;
12313: LD_INT 2
12315: PPUSH
12316: LD_VAR 0 3
12320: PPUSH
12321: LD_INT 1
12323: PPUSH
12324: CALL_OW 322
// SetTech ( tech_apeagres , side , state_enabled ) ;
12328: LD_INT 11
12330: PPUSH
12331: LD_VAR 0 3
12335: PPUSH
12336: LD_INT 1
12338: PPUSH
12339: CALL_OW 322
// SetTech ( tech_tech1 , side , state_enabled ) ;
12343: LD_INT 48
12345: PPUSH
12346: LD_VAR 0 3
12350: PPUSH
12351: LD_INT 1
12353: PPUSH
12354: CALL_OW 322
// SetTech ( tech_gatling , side , state_enabled ) ;
12358: LD_INT 69
12360: PPUSH
12361: LD_VAR 0 3
12365: PPUSH
12366: LD_INT 1
12368: PPUSH
12369: CALL_OW 322
// SetTech ( tech_gun , side , state_enabled ) ;
12373: LD_INT 39
12375: PPUSH
12376: LD_VAR 0 3
12380: PPUSH
12381: LD_INT 1
12383: PPUSH
12384: CALL_OW 322
// SetTech ( tech_selfdest , side , state_enabled ) ;
12388: LD_INT 43
12390: PPUSH
12391: LD_VAR 0 3
12395: PPUSH
12396: LD_INT 1
12398: PPUSH
12399: CALL_OW 322
// SetTech ( tech_weap1 , side , state_enabled ) ;
12403: LD_INT 51
12405: PPUSH
12406: LD_VAR 0 3
12410: PPUSH
12411: LD_INT 1
12413: PPUSH
12414: CALL_OW 322
// SetTech ( tech_radar , side , state_enabled ) ;
12418: LD_INT 6
12420: PPUSH
12421: LD_VAR 0 3
12425: PPUSH
12426: LD_INT 1
12428: PPUSH
12429: CALL_OW 322
// SetRestrict ( b_depot , side , true ) ;
12433: LD_INT 0
12435: PPUSH
12436: LD_VAR 0 3
12440: PPUSH
12441: LD_INT 1
12443: PPUSH
12444: CALL_OW 324
// SetRestrict ( b_workshop , side , true ) ;
12448: LD_INT 2
12450: PPUSH
12451: LD_VAR 0 3
12455: PPUSH
12456: LD_INT 1
12458: PPUSH
12459: CALL_OW 324
// SetRestrict ( b_factory , side , true ) ;
12463: LD_INT 3
12465: PPUSH
12466: LD_VAR 0 3
12470: PPUSH
12471: LD_INT 1
12473: PPUSH
12474: CALL_OW 324
// SetRestrict ( b_armoury , side , true ) ;
12478: LD_INT 4
12480: PPUSH
12481: LD_VAR 0 3
12485: PPUSH
12486: LD_INT 1
12488: PPUSH
12489: CALL_OW 324
// SetRestrict ( b_lab , side , true ) ;
12493: LD_INT 6
12495: PPUSH
12496: LD_VAR 0 3
12500: PPUSH
12501: LD_INT 1
12503: PPUSH
12504: CALL_OW 324
// SetRestrict ( b_lab_half , side , true ) ;
12508: LD_INT 7
12510: PPUSH
12511: LD_VAR 0 3
12515: PPUSH
12516: LD_INT 1
12518: PPUSH
12519: CALL_OW 324
// SetRestrict ( b_lab_full , side , true ) ;
12523: LD_INT 8
12525: PPUSH
12526: LD_VAR 0 3
12530: PPUSH
12531: LD_INT 1
12533: PPUSH
12534: CALL_OW 324
// SetRestrict ( b_lab_weapon , side , true ) ;
12538: LD_INT 10
12540: PPUSH
12541: LD_VAR 0 3
12545: PPUSH
12546: LD_INT 1
12548: PPUSH
12549: CALL_OW 324
// SetRestrict ( b_lab_opto , side , true ) ;
12553: LD_INT 15
12555: PPUSH
12556: LD_VAR 0 3
12560: PPUSH
12561: LD_INT 1
12563: PPUSH
12564: CALL_OW 324
// SetRestrict ( b_ext_track , side , true ) ;
12568: LD_INT 16
12570: PPUSH
12571: LD_VAR 0 3
12575: PPUSH
12576: LD_INT 1
12578: PPUSH
12579: CALL_OW 324
// SetRestrict ( b_ext_gun , side , true ) ;
12583: LD_INT 17
12585: PPUSH
12586: LD_VAR 0 3
12590: PPUSH
12591: LD_INT 1
12593: PPUSH
12594: CALL_OW 324
// SetRestrict ( b_ext_radar , side , true ) ;
12598: LD_INT 20
12600: PPUSH
12601: LD_VAR 0 3
12605: PPUSH
12606: LD_INT 1
12608: PPUSH
12609: CALL_OW 324
// SetRestrict ( b_oil_power , side , true ) ;
12613: LD_INT 26
12615: PPUSH
12616: LD_VAR 0 3
12620: PPUSH
12621: LD_INT 1
12623: PPUSH
12624: CALL_OW 324
// SetRestrict ( b_solar_power , side , true ) ;
12628: LD_INT 27
12630: PPUSH
12631: LD_VAR 0 3
12635: PPUSH
12636: LD_INT 1
12638: PPUSH
12639: CALL_OW 324
// SetRestrict ( b_oil_mine , side , true ) ;
12643: LD_INT 29
12645: PPUSH
12646: LD_VAR 0 3
12650: PPUSH
12651: LD_INT 1
12653: PPUSH
12654: CALL_OW 324
// SetRestrict ( b_breastwork , side , true ) ;
12658: LD_INT 31
12660: PPUSH
12661: LD_VAR 0 3
12665: PPUSH
12666: LD_INT 1
12668: PPUSH
12669: CALL_OW 324
// SetRestrict ( b_bunker , side , true ) ;
12673: LD_INT 32
12675: PPUSH
12676: LD_VAR 0 3
12680: PPUSH
12681: LD_INT 1
12683: PPUSH
12684: CALL_OW 324
// end ; 4 :
12688: GO 15775
12690: LD_INT 4
12692: DOUBLE
12693: EQUAL
12694: IFTRUE 12698
12696: GO 13646
12698: POP
// begin SetTech ( tech_solpow , side , state_enabled ) ;
12699: LD_INT 35
12701: PPUSH
12702: LD_VAR 0 3
12706: PPUSH
12707: LD_INT 1
12709: PPUSH
12710: CALL_OW 322
// SetTech ( tech_soleng , side , state_enabled ) ;
12714: LD_INT 45
12716: PPUSH
12717: LD_VAR 0 3
12721: PPUSH
12722: LD_INT 1
12724: PPUSH
12725: CALL_OW 322
// SetTech ( tech_oilpow , side , state_enabled ) ;
12729: LD_INT 46
12731: PPUSH
12732: LD_VAR 0 3
12736: PPUSH
12737: LD_INT 1
12739: PPUSH
12740: CALL_OW 322
// SetTech ( tech_oileng , side , state_enabled ) ;
12744: LD_INT 47
12746: PPUSH
12747: LD_VAR 0 3
12751: PPUSH
12752: LD_INT 1
12754: PPUSH
12755: CALL_OW 322
// SetTech ( tech_apelang , side , state_enabled ) ;
12759: LD_INT 1
12761: PPUSH
12762: LD_VAR 0 3
12766: PPUSH
12767: LD_INT 1
12769: PPUSH
12770: CALL_OW 322
// SetTech ( tech_apepsych , side , state_enabled ) ;
12774: LD_INT 2
12776: PPUSH
12777: LD_VAR 0 3
12781: PPUSH
12782: LD_INT 1
12784: PPUSH
12785: CALL_OW 322
// SetTech ( tech_apeagres , side , state_enabled ) ;
12789: LD_INT 11
12791: PPUSH
12792: LD_VAR 0 3
12796: PPUSH
12797: LD_INT 1
12799: PPUSH
12800: CALL_OW 322
// SetTech ( tech_sibdet , side , state_enabled ) ;
12804: LD_INT 20
12806: PPUSH
12807: LD_VAR 0 3
12811: PPUSH
12812: LD_INT 1
12814: PPUSH
12815: CALL_OW 322
// SetTech ( tech_tech1 , side , state_enabled ) ;
12819: LD_INT 48
12821: PPUSH
12822: LD_VAR 0 3
12826: PPUSH
12827: LD_INT 1
12829: PPUSH
12830: CALL_OW 322
// SetTech ( tech_tech2 , side , state_enabled ) ;
12834: LD_INT 49
12836: PPUSH
12837: LD_VAR 0 3
12841: PPUSH
12842: LD_INT 1
12844: PPUSH
12845: CALL_OW 322
// SetTech ( tech_gatling , side , state_enabled ) ;
12849: LD_INT 69
12851: PPUSH
12852: LD_VAR 0 3
12856: PPUSH
12857: LD_INT 1
12859: PPUSH
12860: CALL_OW 322
// SetTech ( tech_gun , side , state_enabled ) ;
12864: LD_INT 39
12866: PPUSH
12867: LD_VAR 0 3
12871: PPUSH
12872: LD_INT 1
12874: PPUSH
12875: CALL_OW 322
// SetTech ( tech_advmet , side , state_enabled ) ;
12879: LD_INT 34
12881: PPUSH
12882: LD_VAR 0 3
12886: PPUSH
12887: LD_INT 1
12889: PPUSH
12890: CALL_OW 322
// SetTech ( tech_explos , side , state_enabled ) ;
12894: LD_INT 42
12896: PPUSH
12897: LD_VAR 0 3
12901: PPUSH
12902: LD_INT 1
12904: PPUSH
12905: CALL_OW 322
// SetTech ( tech_bazooka , side , state_enabled ) ;
12909: LD_INT 44
12911: PPUSH
12912: LD_VAR 0 3
12916: PPUSH
12917: LD_INT 1
12919: PPUSH
12920: CALL_OW 322
// SetTech ( tech_mortar , side , state_enabled ) ;
12924: LD_INT 41
12926: PPUSH
12927: LD_VAR 0 3
12931: PPUSH
12932: LD_INT 1
12934: PPUSH
12935: CALL_OW 322
// SetTech ( tech_selfdest , side , state_enabled ) ;
12939: LD_INT 43
12941: PPUSH
12942: LD_VAR 0 3
12946: PPUSH
12947: LD_INT 1
12949: PPUSH
12950: CALL_OW 322
// SetTech ( tech_flame , side , state_enabled ) ;
12954: LD_INT 70
12956: PPUSH
12957: LD_VAR 0 3
12961: PPUSH
12962: LD_INT 1
12964: PPUSH
12965: CALL_OW 322
// SetTech ( tech_weap1 , side , state_enabled ) ;
12969: LD_INT 51
12971: PPUSH
12972: LD_VAR 0 3
12976: PPUSH
12977: LD_INT 1
12979: PPUSH
12980: CALL_OW 322
// SetTech ( tech_weap2 , side , state_enabled ) ;
12984: LD_INT 52
12986: PPUSH
12987: LD_VAR 0 3
12991: PPUSH
12992: LD_INT 1
12994: PPUSH
12995: CALL_OW 322
// SetTech ( tech_radar , side , state_enabled ) ;
12999: LD_INT 6
13001: PPUSH
13002: LD_VAR 0 3
13006: PPUSH
13007: LD_INT 1
13009: PPUSH
13010: CALL_OW 322
// SetTech ( tech_remcont , side , state_enabled ) ;
13014: LD_INT 15
13016: PPUSH
13017: LD_VAR 0 3
13021: PPUSH
13022: LD_INT 1
13024: PPUSH
13025: CALL_OW 322
// SetTech ( tech_matdet , side , state_enabled ) ;
13029: LD_INT 7
13031: PPUSH
13032: LD_VAR 0 3
13036: PPUSH
13037: LD_INT 1
13039: PPUSH
13040: CALL_OW 322
// SetTech ( tech_lassight , side , state_enabled ) ;
13044: LD_INT 12
13046: PPUSH
13047: LD_VAR 0 3
13051: PPUSH
13052: LD_INT 1
13054: PPUSH
13055: CALL_OW 322
// SetTech ( tech_remcharge , side , state_enabled ) ;
13059: LD_INT 18
13061: PPUSH
13062: LD_VAR 0 3
13066: PPUSH
13067: LD_INT 1
13069: PPUSH
13070: CALL_OW 322
// SetTech ( tech_opto1 , side , state_enabled ) ;
13074: LD_INT 60
13076: PPUSH
13077: LD_VAR 0 3
13081: PPUSH
13082: LD_INT 1
13084: PPUSH
13085: CALL_OW 322
// SetTech ( tech_matpred , side , state_enabled ) ;
13089: LD_INT 9
13091: PPUSH
13092: LD_VAR 0 3
13096: PPUSH
13097: LD_INT 1
13099: PPUSH
13100: CALL_OW 322
// SetTech ( tech_taufield , side , state_enabled ) ;
13104: LD_INT 30
13106: PPUSH
13107: LD_VAR 0 3
13111: PPUSH
13112: LD_INT 1
13114: PPUSH
13115: CALL_OW 322
// SetTech ( tech_limteleport , side , state_enabled ) ;
13119: LD_INT 37
13121: PPUSH
13122: LD_VAR 0 3
13126: PPUSH
13127: LD_INT 1
13129: PPUSH
13130: CALL_OW 322
// SetTech ( tech_stimdrugs , side , state_enabled ) ;
13134: LD_INT 5
13136: PPUSH
13137: LD_VAR 0 3
13141: PPUSH
13142: LD_INT 1
13144: PPUSH
13145: CALL_OW 322
// SetTech ( tech_bio1 , side , state_enabled ) ;
13149: LD_INT 66
13151: PPUSH
13152: LD_VAR 0 3
13156: PPUSH
13157: LD_INT 1
13159: PPUSH
13160: CALL_OW 322
// SetTech ( tech_sibpow , side , state_enabled ) ;
13164: LD_INT 21
13166: PPUSH
13167: LD_VAR 0 3
13171: PPUSH
13172: LD_INT 1
13174: PPUSH
13175: CALL_OW 322
// SetTech ( tech_sibeng , side , state_enabled ) ;
13179: LD_INT 22
13181: PPUSH
13182: LD_VAR 0 3
13186: PPUSH
13187: LD_INT 1
13189: PPUSH
13190: CALL_OW 322
// SetTech ( tech_sib1 , side , state_enabled ) ;
13194: LD_INT 54
13196: PPUSH
13197: LD_VAR 0 3
13201: PPUSH
13202: LD_INT 1
13204: PPUSH
13205: CALL_OW 322
// SetRestrict ( b_depot , side , true ) ;
13209: LD_INT 0
13211: PPUSH
13212: LD_VAR 0 3
13216: PPUSH
13217: LD_INT 1
13219: PPUSH
13220: CALL_OW 324
// SetRestrict ( b_warehouse , side , true ) ;
13224: LD_INT 1
13226: PPUSH
13227: LD_VAR 0 3
13231: PPUSH
13232: LD_INT 1
13234: PPUSH
13235: CALL_OW 324
// SetRestrict ( b_workshop , side , true ) ;
13239: LD_INT 2
13241: PPUSH
13242: LD_VAR 0 3
13246: PPUSH
13247: LD_INT 1
13249: PPUSH
13250: CALL_OW 324
// SetRestrict ( b_factory , side , true ) ;
13254: LD_INT 3
13256: PPUSH
13257: LD_VAR 0 3
13261: PPUSH
13262: LD_INT 1
13264: PPUSH
13265: CALL_OW 324
// SetRestrict ( b_armoury , side , true ) ;
13269: LD_INT 4
13271: PPUSH
13272: LD_VAR 0 3
13276: PPUSH
13277: LD_INT 1
13279: PPUSH
13280: CALL_OW 324
// SetRestrict ( b_barracks , side , true ) ;
13284: LD_INT 5
13286: PPUSH
13287: LD_VAR 0 3
13291: PPUSH
13292: LD_INT 1
13294: PPUSH
13295: CALL_OW 324
// SetRestrict ( b_lab , side , true ) ;
13299: LD_INT 6
13301: PPUSH
13302: LD_VAR 0 3
13306: PPUSH
13307: LD_INT 1
13309: PPUSH
13310: CALL_OW 324
// SetRestrict ( b_lab_half , side , true ) ;
13314: LD_INT 7
13316: PPUSH
13317: LD_VAR 0 3
13321: PPUSH
13322: LD_INT 1
13324: PPUSH
13325: CALL_OW 324
// SetRestrict ( b_lab_full , side , true ) ;
13329: LD_INT 8
13331: PPUSH
13332: LD_VAR 0 3
13336: PPUSH
13337: LD_INT 1
13339: PPUSH
13340: CALL_OW 324
// SetRestrict ( b_lab_weapon , side , true ) ;
13344: LD_INT 10
13346: PPUSH
13347: LD_VAR 0 3
13351: PPUSH
13352: LD_INT 1
13354: PPUSH
13355: CALL_OW 324
// SetRestrict ( b_lab_siberium , side , true ) ;
13359: LD_INT 11
13361: PPUSH
13362: LD_VAR 0 3
13366: PPUSH
13367: LD_INT 1
13369: PPUSH
13370: CALL_OW 324
// SetRestrict ( b_lab_computer , side , true ) ;
13374: LD_INT 12
13376: PPUSH
13377: LD_VAR 0 3
13381: PPUSH
13382: LD_INT 1
13384: PPUSH
13385: CALL_OW 324
// SetRestrict ( b_lab_biological , side , true ) ;
13389: LD_INT 13
13391: PPUSH
13392: LD_VAR 0 3
13396: PPUSH
13397: LD_INT 1
13399: PPUSH
13400: CALL_OW 324
// SetRestrict ( b_lab_spacetime , side , true ) ;
13404: LD_INT 14
13406: PPUSH
13407: LD_VAR 0 3
13411: PPUSH
13412: LD_INT 1
13414: PPUSH
13415: CALL_OW 324
// SetRestrict ( b_lab_opto , side , true ) ;
13419: LD_INT 15
13421: PPUSH
13422: LD_VAR 0 3
13426: PPUSH
13427: LD_INT 1
13429: PPUSH
13430: CALL_OW 324
// SetRestrict ( b_ext_track , side , true ) ;
13434: LD_INT 16
13436: PPUSH
13437: LD_VAR 0 3
13441: PPUSH
13442: LD_INT 1
13444: PPUSH
13445: CALL_OW 324
// SetRestrict ( b_ext_gun , side , true ) ;
13449: LD_INT 17
13451: PPUSH
13452: LD_VAR 0 3
13456: PPUSH
13457: LD_INT 1
13459: PPUSH
13460: CALL_OW 324
// SetRestrict ( b_ext_noncombat , side , true ) ;
13464: LD_INT 19
13466: PPUSH
13467: LD_VAR 0 3
13471: PPUSH
13472: LD_INT 1
13474: PPUSH
13475: CALL_OW 324
// SetRestrict ( b_ext_radar , side , true ) ;
13479: LD_INT 20
13481: PPUSH
13482: LD_VAR 0 3
13486: PPUSH
13487: LD_INT 1
13489: PPUSH
13490: CALL_OW 324
// SetRestrict ( b_ext_siberium , side , true ) ;
13494: LD_INT 21
13496: PPUSH
13497: LD_VAR 0 3
13501: PPUSH
13502: LD_INT 1
13504: PPUSH
13505: CALL_OW 324
// SetRestrict ( b_ext_stitch , side , true ) ;
13509: LD_INT 23
13511: PPUSH
13512: LD_VAR 0 3
13516: PPUSH
13517: LD_INT 1
13519: PPUSH
13520: CALL_OW 324
// SetRestrict ( b_oil_power , side , true ) ;
13524: LD_INT 26
13526: PPUSH
13527: LD_VAR 0 3
13531: PPUSH
13532: LD_INT 1
13534: PPUSH
13535: CALL_OW 324
// SetRestrict ( b_solar_power , side , true ) ;
13539: LD_INT 27
13541: PPUSH
13542: LD_VAR 0 3
13546: PPUSH
13547: LD_INT 1
13549: PPUSH
13550: CALL_OW 324
// SetRestrict ( b_siberite_power , side , true ) ;
13554: LD_INT 28
13556: PPUSH
13557: LD_VAR 0 3
13561: PPUSH
13562: LD_INT 1
13564: PPUSH
13565: CALL_OW 324
// SetRestrict ( b_oil_mine , side , true ) ;
13569: LD_INT 29
13571: PPUSH
13572: LD_VAR 0 3
13576: PPUSH
13577: LD_INT 1
13579: PPUSH
13580: CALL_OW 324
// SetRestrict ( b_siberite_mine , side , true ) ;
13584: LD_INT 30
13586: PPUSH
13587: LD_VAR 0 3
13591: PPUSH
13592: LD_INT 1
13594: PPUSH
13595: CALL_OW 324
// SetRestrict ( b_breastwork , side , true ) ;
13599: LD_INT 31
13601: PPUSH
13602: LD_VAR 0 3
13606: PPUSH
13607: LD_INT 1
13609: PPUSH
13610: CALL_OW 324
// SetRestrict ( b_bunker , side , true ) ;
13614: LD_INT 32
13616: PPUSH
13617: LD_VAR 0 3
13621: PPUSH
13622: LD_INT 1
13624: PPUSH
13625: CALL_OW 324
// SetRestrict ( b_control_tower , side , true ) ;
13629: LD_INT 36
13631: PPUSH
13632: LD_VAR 0 3
13636: PPUSH
13637: LD_INT 1
13639: PPUSH
13640: CALL_OW 324
// end ; 5 :
13644: GO 15775
13646: LD_INT 5
13648: DOUBLE
13649: EQUAL
13650: IFTRUE 13654
13652: GO 14767
13654: POP
// begin SetTech ( tech_solpow , side , state_enabled ) ;
13655: LD_INT 35
13657: PPUSH
13658: LD_VAR 0 3
13662: PPUSH
13663: LD_INT 1
13665: PPUSH
13666: CALL_OW 322
// SetTech ( tech_soleng , side , state_enabled ) ;
13670: LD_INT 45
13672: PPUSH
13673: LD_VAR 0 3
13677: PPUSH
13678: LD_INT 1
13680: PPUSH
13681: CALL_OW 322
// SetTech ( tech_oilpow , side , state_enabled ) ;
13685: LD_INT 46
13687: PPUSH
13688: LD_VAR 0 3
13692: PPUSH
13693: LD_INT 1
13695: PPUSH
13696: CALL_OW 322
// SetTech ( tech_oileng , side , state_enabled ) ;
13700: LD_INT 47
13702: PPUSH
13703: LD_VAR 0 3
13707: PPUSH
13708: LD_INT 1
13710: PPUSH
13711: CALL_OW 322
// SetTech ( tech_apelang , side , state_enabled ) ;
13715: LD_INT 1
13717: PPUSH
13718: LD_VAR 0 3
13722: PPUSH
13723: LD_INT 1
13725: PPUSH
13726: CALL_OW 322
// SetTech ( tech_apepsych , side , state_enabled ) ;
13730: LD_INT 2
13732: PPUSH
13733: LD_VAR 0 3
13737: PPUSH
13738: LD_INT 1
13740: PPUSH
13741: CALL_OW 322
// SetTech ( tech_apeagres , side , state_enabled ) ;
13745: LD_INT 11
13747: PPUSH
13748: LD_VAR 0 3
13752: PPUSH
13753: LD_INT 1
13755: PPUSH
13756: CALL_OW 322
// SetTech ( tech_sibdet , side , state_enabled ) ;
13760: LD_INT 20
13762: PPUSH
13763: LD_VAR 0 3
13767: PPUSH
13768: LD_INT 1
13770: PPUSH
13771: CALL_OW 322
// SetTech ( tech_tech1 , side , state_enabled ) ;
13775: LD_INT 48
13777: PPUSH
13778: LD_VAR 0 3
13782: PPUSH
13783: LD_INT 1
13785: PPUSH
13786: CALL_OW 322
// SetTech ( tech_tech2 , side , state_enabled ) ;
13790: LD_INT 49
13792: PPUSH
13793: LD_VAR 0 3
13797: PPUSH
13798: LD_INT 1
13800: PPUSH
13801: CALL_OW 322
// SetTech ( tech_gatling , side , state_enabled ) ;
13805: LD_INT 69
13807: PPUSH
13808: LD_VAR 0 3
13812: PPUSH
13813: LD_INT 1
13815: PPUSH
13816: CALL_OW 322
// SetTech ( tech_gun , side , state_enabled ) ;
13820: LD_INT 39
13822: PPUSH
13823: LD_VAR 0 3
13827: PPUSH
13828: LD_INT 1
13830: PPUSH
13831: CALL_OW 322
// SetTech ( tech_advmet , side , state_enabled ) ;
13835: LD_INT 34
13837: PPUSH
13838: LD_VAR 0 3
13842: PPUSH
13843: LD_INT 1
13845: PPUSH
13846: CALL_OW 322
// SetTech ( tech_explos , side , state_enabled ) ;
13850: LD_INT 42
13852: PPUSH
13853: LD_VAR 0 3
13857: PPUSH
13858: LD_INT 1
13860: PPUSH
13861: CALL_OW 322
// SetTech ( tech_bazooka , side , state_enabled ) ;
13865: LD_INT 44
13867: PPUSH
13868: LD_VAR 0 3
13872: PPUSH
13873: LD_INT 1
13875: PPUSH
13876: CALL_OW 322
// SetTech ( tech_mortar , side , state_enabled ) ;
13880: LD_INT 41
13882: PPUSH
13883: LD_VAR 0 3
13887: PPUSH
13888: LD_INT 1
13890: PPUSH
13891: CALL_OW 322
// SetTech ( tech_rocket , side , state_enabled ) ;
13895: LD_INT 40
13897: PPUSH
13898: LD_VAR 0 3
13902: PPUSH
13903: LD_INT 1
13905: PPUSH
13906: CALL_OW 322
// SetTech ( tech_selfdest , side , state_enabled ) ;
13910: LD_INT 43
13912: PPUSH
13913: LD_VAR 0 3
13917: PPUSH
13918: LD_INT 1
13920: PPUSH
13921: CALL_OW 322
// SetTech ( tech_flame , side , state_enabled ) ;
13925: LD_INT 70
13927: PPUSH
13928: LD_VAR 0 3
13932: PPUSH
13933: LD_INT 1
13935: PPUSH
13936: CALL_OW 322
// SetTech ( tech_weap1 , side , state_enabled ) ;
13940: LD_INT 51
13942: PPUSH
13943: LD_VAR 0 3
13947: PPUSH
13948: LD_INT 1
13950: PPUSH
13951: CALL_OW 322
// SetTech ( tech_weap2 , side , state_enabled ) ;
13955: LD_INT 52
13957: PPUSH
13958: LD_VAR 0 3
13962: PPUSH
13963: LD_INT 1
13965: PPUSH
13966: CALL_OW 322
// SetTech ( tech_radar , side , state_enabled ) ;
13970: LD_INT 6
13972: PPUSH
13973: LD_VAR 0 3
13977: PPUSH
13978: LD_INT 1
13980: PPUSH
13981: CALL_OW 322
// SetTech ( tech_remcont , side , state_enabled ) ;
13985: LD_INT 15
13987: PPUSH
13988: LD_VAR 0 3
13992: PPUSH
13993: LD_INT 1
13995: PPUSH
13996: CALL_OW 322
// SetTech ( tech_matdet , side , state_enabled ) ;
14000: LD_INT 7
14002: PPUSH
14003: LD_VAR 0 3
14007: PPUSH
14008: LD_INT 1
14010: PPUSH
14011: CALL_OW 322
// SetTech ( tech_lassight , side , state_enabled ) ;
14015: LD_INT 12
14017: PPUSH
14018: LD_VAR 0 3
14022: PPUSH
14023: LD_INT 1
14025: PPUSH
14026: CALL_OW 322
// SetTech ( tech_hidcam , side , state_enabled ) ;
14030: LD_INT 17
14032: PPUSH
14033: LD_VAR 0 3
14037: PPUSH
14038: LD_INT 1
14040: PPUSH
14041: CALL_OW 322
// SetTech ( tech_remcharge , side , state_enabled ) ;
14045: LD_INT 18
14047: PPUSH
14048: LD_VAR 0 3
14052: PPUSH
14053: LD_INT 1
14055: PPUSH
14056: CALL_OW 322
// SetTech ( tech_opto1 , side , state_enabled ) ;
14060: LD_INT 60
14062: PPUSH
14063: LD_VAR 0 3
14067: PPUSH
14068: LD_INT 1
14070: PPUSH
14071: CALL_OW 322
// SetTech ( tech_ai , side , state_enabled ) ;
14075: LD_INT 32
14077: PPUSH
14078: LD_VAR 0 3
14082: PPUSH
14083: LD_INT 1
14085: PPUSH
14086: CALL_OW 322
// SetTech ( tech_matpred , side , state_enabled ) ;
14090: LD_INT 9
14092: PPUSH
14093: LD_VAR 0 3
14097: PPUSH
14098: LD_INT 1
14100: PPUSH
14101: CALL_OW 322
// SetTech ( tech_comp1 , side , state_enabled ) ;
14105: LD_INT 57
14107: PPUSH
14108: LD_VAR 0 3
14112: PPUSH
14113: LD_INT 1
14115: PPUSH
14116: CALL_OW 322
// SetTech ( tech_taufield , side , state_enabled ) ;
14120: LD_INT 30
14122: PPUSH
14123: LD_VAR 0 3
14127: PPUSH
14128: LD_INT 1
14130: PPUSH
14131: CALL_OW 322
// SetTech ( tech_limteleport , side , state_enabled ) ;
14135: LD_INT 37
14137: PPUSH
14138: LD_VAR 0 3
14142: PPUSH
14143: LD_INT 1
14145: PPUSH
14146: CALL_OW 322
// SetTech ( tech_st1 , side , state_enabled ) ;
14150: LD_INT 63
14152: PPUSH
14153: LD_VAR 0 3
14157: PPUSH
14158: LD_INT 1
14160: PPUSH
14161: CALL_OW 322
// SetTech ( tech_apeneural , side , state_enabled ) ;
14165: LD_INT 3
14167: PPUSH
14168: LD_VAR 0 3
14172: PPUSH
14173: LD_INT 1
14175: PPUSH
14176: CALL_OW 322
// SetTech ( tech_apebrain , side , state_enabled ) ;
14180: LD_INT 4
14182: PPUSH
14183: LD_VAR 0 3
14187: PPUSH
14188: LD_INT 1
14190: PPUSH
14191: CALL_OW 322
// SetTech ( tech_stimdrugs , side , state_enabled ) ;
14195: LD_INT 5
14197: PPUSH
14198: LD_VAR 0 3
14202: PPUSH
14203: LD_INT 1
14205: PPUSH
14206: CALL_OW 322
// SetTech ( tech_bio1 , side , state_enabled ) ;
14210: LD_INT 66
14212: PPUSH
14213: LD_VAR 0 3
14217: PPUSH
14218: LD_INT 1
14220: PPUSH
14221: CALL_OW 322
// SetTech ( tech_sibpow , side , state_enabled ) ;
14225: LD_INT 21
14227: PPUSH
14228: LD_VAR 0 3
14232: PPUSH
14233: LD_INT 1
14235: PPUSH
14236: CALL_OW 322
// SetTech ( tech_sibeng , side , state_enabled ) ;
14240: LD_INT 22
14242: PPUSH
14243: LD_VAR 0 3
14247: PPUSH
14248: LD_INT 1
14250: PPUSH
14251: CALL_OW 322
// SetTech ( tech_sibloc , side , state_enabled ) ;
14255: LD_INT 19
14257: PPUSH
14258: LD_VAR 0 3
14262: PPUSH
14263: LD_INT 1
14265: PPUSH
14266: CALL_OW 322
// SetTech ( tech_sib1 , side , state_enabled ) ;
14270: LD_INT 54
14272: PPUSH
14273: LD_VAR 0 3
14277: PPUSH
14278: LD_INT 1
14280: PPUSH
14281: CALL_OW 322
// SetTech ( tech_sib2 , side , state_enabled ) ;
14285: LD_INT 55
14287: PPUSH
14288: LD_VAR 0 3
14292: PPUSH
14293: LD_INT 1
14295: PPUSH
14296: CALL_OW 322
// SetRestrict ( b_depot , side , true ) ;
14300: LD_INT 0
14302: PPUSH
14303: LD_VAR 0 3
14307: PPUSH
14308: LD_INT 1
14310: PPUSH
14311: CALL_OW 324
// SetRestrict ( b_warehouse , side , true ) ;
14315: LD_INT 1
14317: PPUSH
14318: LD_VAR 0 3
14322: PPUSH
14323: LD_INT 1
14325: PPUSH
14326: CALL_OW 324
// SetRestrict ( b_workshop , side , true ) ;
14330: LD_INT 2
14332: PPUSH
14333: LD_VAR 0 3
14337: PPUSH
14338: LD_INT 1
14340: PPUSH
14341: CALL_OW 324
// SetRestrict ( b_factory , side , true ) ;
14345: LD_INT 3
14347: PPUSH
14348: LD_VAR 0 3
14352: PPUSH
14353: LD_INT 1
14355: PPUSH
14356: CALL_OW 324
// SetRestrict ( b_armoury , side , true ) ;
14360: LD_INT 4
14362: PPUSH
14363: LD_VAR 0 3
14367: PPUSH
14368: LD_INT 1
14370: PPUSH
14371: CALL_OW 324
// SetRestrict ( b_barracks , side , true ) ;
14375: LD_INT 5
14377: PPUSH
14378: LD_VAR 0 3
14382: PPUSH
14383: LD_INT 1
14385: PPUSH
14386: CALL_OW 324
// SetRestrict ( b_lab , side , true ) ;
14390: LD_INT 6
14392: PPUSH
14393: LD_VAR 0 3
14397: PPUSH
14398: LD_INT 1
14400: PPUSH
14401: CALL_OW 324
// SetRestrict ( b_lab_half , side , true ) ;
14405: LD_INT 7
14407: PPUSH
14408: LD_VAR 0 3
14412: PPUSH
14413: LD_INT 1
14415: PPUSH
14416: CALL_OW 324
// SetRestrict ( b_lab_full , side , true ) ;
14420: LD_INT 8
14422: PPUSH
14423: LD_VAR 0 3
14427: PPUSH
14428: LD_INT 1
14430: PPUSH
14431: CALL_OW 324
// SetRestrict ( b_lab_weapon , side , true ) ;
14435: LD_INT 10
14437: PPUSH
14438: LD_VAR 0 3
14442: PPUSH
14443: LD_INT 1
14445: PPUSH
14446: CALL_OW 324
// SetRestrict ( b_lab_siberium , side , true ) ;
14450: LD_INT 11
14452: PPUSH
14453: LD_VAR 0 3
14457: PPUSH
14458: LD_INT 1
14460: PPUSH
14461: CALL_OW 324
// SetRestrict ( b_lab_computer , side , true ) ;
14465: LD_INT 12
14467: PPUSH
14468: LD_VAR 0 3
14472: PPUSH
14473: LD_INT 1
14475: PPUSH
14476: CALL_OW 324
// SetRestrict ( b_lab_biological , side , true ) ;
14480: LD_INT 13
14482: PPUSH
14483: LD_VAR 0 3
14487: PPUSH
14488: LD_INT 1
14490: PPUSH
14491: CALL_OW 324
// SetRestrict ( b_lab_spacetime , side , true ) ;
14495: LD_INT 14
14497: PPUSH
14498: LD_VAR 0 3
14502: PPUSH
14503: LD_INT 1
14505: PPUSH
14506: CALL_OW 324
// SetRestrict ( b_lab_opto , side , true ) ;
14510: LD_INT 15
14512: PPUSH
14513: LD_VAR 0 3
14517: PPUSH
14518: LD_INT 1
14520: PPUSH
14521: CALL_OW 324
// SetRestrict ( b_ext_track , side , true ) ;
14525: LD_INT 16
14527: PPUSH
14528: LD_VAR 0 3
14532: PPUSH
14533: LD_INT 1
14535: PPUSH
14536: CALL_OW 324
// SetRestrict ( b_ext_gun , side , true ) ;
14540: LD_INT 17
14542: PPUSH
14543: LD_VAR 0 3
14547: PPUSH
14548: LD_INT 1
14550: PPUSH
14551: CALL_OW 324
// SetRestrict ( b_ext_rocket , side , true ) ;
14555: LD_INT 18
14557: PPUSH
14558: LD_VAR 0 3
14562: PPUSH
14563: LD_INT 1
14565: PPUSH
14566: CALL_OW 324
// SetRestrict ( b_ext_noncombat , side , true ) ;
14570: LD_INT 19
14572: PPUSH
14573: LD_VAR 0 3
14577: PPUSH
14578: LD_INT 1
14580: PPUSH
14581: CALL_OW 324
// SetRestrict ( b_ext_radar , side , true ) ;
14585: LD_INT 20
14587: PPUSH
14588: LD_VAR 0 3
14592: PPUSH
14593: LD_INT 1
14595: PPUSH
14596: CALL_OW 324
// SetRestrict ( b_ext_siberium , side , true ) ;
14600: LD_INT 21
14602: PPUSH
14603: LD_VAR 0 3
14607: PPUSH
14608: LD_INT 1
14610: PPUSH
14611: CALL_OW 324
// SetRestrict ( b_ext_stitch , side , true ) ;
14615: LD_INT 23
14617: PPUSH
14618: LD_VAR 0 3
14622: PPUSH
14623: LD_INT 1
14625: PPUSH
14626: CALL_OW 324
// SetRestrict ( b_oil_power , side , true ) ;
14630: LD_INT 26
14632: PPUSH
14633: LD_VAR 0 3
14637: PPUSH
14638: LD_INT 1
14640: PPUSH
14641: CALL_OW 324
// SetRestrict ( b_solar_power , side , true ) ;
14645: LD_INT 27
14647: PPUSH
14648: LD_VAR 0 3
14652: PPUSH
14653: LD_INT 1
14655: PPUSH
14656: CALL_OW 324
// SetRestrict ( b_siberite_power , side , true ) ;
14660: LD_INT 28
14662: PPUSH
14663: LD_VAR 0 3
14667: PPUSH
14668: LD_INT 1
14670: PPUSH
14671: CALL_OW 324
// SetRestrict ( b_oil_mine , side , true ) ;
14675: LD_INT 29
14677: PPUSH
14678: LD_VAR 0 3
14682: PPUSH
14683: LD_INT 1
14685: PPUSH
14686: CALL_OW 324
// SetRestrict ( b_siberite_mine , side , true ) ;
14690: LD_INT 30
14692: PPUSH
14693: LD_VAR 0 3
14697: PPUSH
14698: LD_INT 1
14700: PPUSH
14701: CALL_OW 324
// SetRestrict ( b_breastwork , side , true ) ;
14705: LD_INT 31
14707: PPUSH
14708: LD_VAR 0 3
14712: PPUSH
14713: LD_INT 1
14715: PPUSH
14716: CALL_OW 324
// SetRestrict ( b_bunker , side , true ) ;
14720: LD_INT 32
14722: PPUSH
14723: LD_VAR 0 3
14727: PPUSH
14728: LD_INT 1
14730: PPUSH
14731: CALL_OW 324
// SetRestrict ( b_turret , side , true ) ;
14735: LD_INT 33
14737: PPUSH
14738: LD_VAR 0 3
14742: PPUSH
14743: LD_INT 1
14745: PPUSH
14746: CALL_OW 324
// SetRestrict ( b_control_tower , side , true ) ;
14750: LD_INT 36
14752: PPUSH
14753: LD_VAR 0 3
14757: PPUSH
14758: LD_INT 1
14760: PPUSH
14761: CALL_OW 324
// end ; 6 :
14765: GO 15775
14767: LD_INT 6
14769: DOUBLE
14770: EQUAL
14771: IFTRUE 14775
14773: GO 15700
14775: POP
// begin SetTech ( tech_solpow , side , state_enabled ) ;
14776: LD_INT 35
14778: PPUSH
14779: LD_VAR 0 3
14783: PPUSH
14784: LD_INT 1
14786: PPUSH
14787: CALL_OW 322
// SetTech ( tech_soleng , side , state_enabled ) ;
14791: LD_INT 45
14793: PPUSH
14794: LD_VAR 0 3
14798: PPUSH
14799: LD_INT 1
14801: PPUSH
14802: CALL_OW 322
// SetTech ( tech_oilpow , side , state_enabled ) ;
14806: LD_INT 46
14808: PPUSH
14809: LD_VAR 0 3
14813: PPUSH
14814: LD_INT 1
14816: PPUSH
14817: CALL_OW 322
// SetTech ( tech_oileng , side , state_enabled ) ;
14821: LD_INT 47
14823: PPUSH
14824: LD_VAR 0 3
14828: PPUSH
14829: LD_INT 1
14831: PPUSH
14832: CALL_OW 322
// SetTech ( tech_apelang , side , state_enabled ) ;
14836: LD_INT 1
14838: PPUSH
14839: LD_VAR 0 3
14843: PPUSH
14844: LD_INT 1
14846: PPUSH
14847: CALL_OW 322
// SetTech ( tech_apepsych , side , state_enabled ) ;
14851: LD_INT 2
14853: PPUSH
14854: LD_VAR 0 3
14858: PPUSH
14859: LD_INT 1
14861: PPUSH
14862: CALL_OW 322
// SetTech ( tech_apeagres , side , state_enabled ) ;
14866: LD_INT 11
14868: PPUSH
14869: LD_VAR 0 3
14873: PPUSH
14874: LD_INT 1
14876: PPUSH
14877: CALL_OW 322
// SetTech ( tech_sibdet , side , state_enabled ) ;
14881: LD_INT 20
14883: PPUSH
14884: LD_VAR 0 3
14888: PPUSH
14889: LD_INT 1
14891: PPUSH
14892: CALL_OW 322
// SetTech ( tech_tech1 , side , state_enabled ) ;
14896: LD_INT 48
14898: PPUSH
14899: LD_VAR 0 3
14903: PPUSH
14904: LD_INT 1
14906: PPUSH
14907: CALL_OW 322
// SetTech ( tech_tech2 , side , state_enabled ) ;
14911: LD_INT 49
14913: PPUSH
14914: LD_VAR 0 3
14918: PPUSH
14919: LD_INT 1
14921: PPUSH
14922: CALL_OW 322
// SetTech ( tech_tech3 , side , state_enabled ) ;
14926: LD_INT 50
14928: PPUSH
14929: LD_VAR 0 3
14933: PPUSH
14934: LD_INT 1
14936: PPUSH
14937: CALL_OW 322
// SetTech ( tech_gatling , side , state_enabled ) ;
14941: LD_INT 69
14943: PPUSH
14944: LD_VAR 0 3
14948: PPUSH
14949: LD_INT 1
14951: PPUSH
14952: CALL_OW 322
// SetTech ( tech_gun , side , state_enabled ) ;
14956: LD_INT 39
14958: PPUSH
14959: LD_VAR 0 3
14963: PPUSH
14964: LD_INT 1
14966: PPUSH
14967: CALL_OW 322
// SetTech ( tech_advmet , side , state_enabled ) ;
14971: LD_INT 34
14973: PPUSH
14974: LD_VAR 0 3
14978: PPUSH
14979: LD_INT 1
14981: PPUSH
14982: CALL_OW 322
// SetTech ( tech_explos , side , state_enabled ) ;
14986: LD_INT 42
14988: PPUSH
14989: LD_VAR 0 3
14993: PPUSH
14994: LD_INT 1
14996: PPUSH
14997: CALL_OW 322
// SetTech ( tech_bazooka , side , state_enabled ) ;
15001: LD_INT 44
15003: PPUSH
15004: LD_VAR 0 3
15008: PPUSH
15009: LD_INT 1
15011: PPUSH
15012: CALL_OW 322
// SetTech ( tech_mortar , side , state_enabled ) ;
15016: LD_INT 41
15018: PPUSH
15019: LD_VAR 0 3
15023: PPUSH
15024: LD_INT 1
15026: PPUSH
15027: CALL_OW 322
// SetTech ( tech_soporific , side , state_enabled ) ;
15031: LD_INT 13
15033: PPUSH
15034: LD_VAR 0 3
15038: PPUSH
15039: LD_INT 1
15041: PPUSH
15042: CALL_OW 322
// SetTech ( tech_rocket , side , state_enabled ) ;
15046: LD_INT 40
15048: PPUSH
15049: LD_VAR 0 3
15053: PPUSH
15054: LD_INT 1
15056: PPUSH
15057: CALL_OW 322
// SetTech ( tech_selfdest , side , state_enabled ) ;
15061: LD_INT 43
15063: PPUSH
15064: LD_VAR 0 3
15068: PPUSH
15069: LD_INT 1
15071: PPUSH
15072: CALL_OW 322
// SetTech ( tech_flame , side , state_enabled ) ;
15076: LD_INT 70
15078: PPUSH
15079: LD_VAR 0 3
15083: PPUSH
15084: LD_INT 1
15086: PPUSH
15087: CALL_OW 322
// SetTech ( tech_behemoth , side , state_enabled ) ;
15091: LD_INT 23
15093: PPUSH
15094: LD_VAR 0 3
15098: PPUSH
15099: LD_INT 1
15101: PPUSH
15102: CALL_OW 322
// SetTech ( tech_weap1 , side , state_enabled ) ;
15106: LD_INT 51
15108: PPUSH
15109: LD_VAR 0 3
15113: PPUSH
15114: LD_INT 1
15116: PPUSH
15117: CALL_OW 322
// SetTech ( tech_weap2 , side , state_enabled ) ;
15121: LD_INT 52
15123: PPUSH
15124: LD_VAR 0 3
15128: PPUSH
15129: LD_INT 1
15131: PPUSH
15132: CALL_OW 322
// SetTech ( tech_radar , side , state_enabled ) ;
15136: LD_INT 6
15138: PPUSH
15139: LD_VAR 0 3
15143: PPUSH
15144: LD_INT 1
15146: PPUSH
15147: CALL_OW 322
// SetTech ( tech_remcont , side , state_enabled ) ;
15151: LD_INT 15
15153: PPUSH
15154: LD_VAR 0 3
15158: PPUSH
15159: LD_INT 1
15161: PPUSH
15162: CALL_OW 322
// SetTech ( tech_matdet , side , state_enabled ) ;
15166: LD_INT 7
15168: PPUSH
15169: LD_VAR 0 3
15173: PPUSH
15174: LD_INT 1
15176: PPUSH
15177: CALL_OW 322
// SetTech ( tech_lassight , side , state_enabled ) ;
15181: LD_INT 12
15183: PPUSH
15184: LD_VAR 0 3
15188: PPUSH
15189: LD_INT 1
15191: PPUSH
15192: CALL_OW 322
// SetTech ( tech_laser , side , state_enabled ) ;
15196: LD_INT 10
15198: PPUSH
15199: LD_VAR 0 3
15203: PPUSH
15204: LD_INT 1
15206: PPUSH
15207: CALL_OW 322
// SetTech ( tech_hidcam , side , state_enabled ) ;
15211: LD_INT 17
15213: PPUSH
15214: LD_VAR 0 3
15218: PPUSH
15219: LD_INT 1
15221: PPUSH
15222: CALL_OW 322
// SetTech ( tech_remcharge , side , state_enabled ) ;
15226: LD_INT 18
15228: PPUSH
15229: LD_VAR 0 3
15233: PPUSH
15234: LD_INT 1
15236: PPUSH
15237: CALL_OW 322
// SetTech ( tech_opto1 , side , state_enabled ) ;
15241: LD_INT 60
15243: PPUSH
15244: LD_VAR 0 3
15248: PPUSH
15249: LD_INT 1
15251: PPUSH
15252: CALL_OW 322
// SetTech ( tech_opto2 , side , state_enabled ) ;
15256: LD_INT 61
15258: PPUSH
15259: LD_VAR 0 3
15263: PPUSH
15264: LD_INT 1
15266: PPUSH
15267: CALL_OW 322
// SetTech ( tech_ai , side , state_enabled ) ;
15271: LD_INT 32
15273: PPUSH
15274: LD_VAR 0 3
15278: PPUSH
15279: LD_INT 1
15281: PPUSH
15282: CALL_OW 322
// SetTech ( tech_advai , side , state_enabled ) ;
15286: LD_INT 27
15288: PPUSH
15289: LD_VAR 0 3
15293: PPUSH
15294: LD_INT 1
15296: PPUSH
15297: CALL_OW 322
// SetTech ( tech_advchassis , side , state_enabled ) ;
15301: LD_INT 36
15303: PPUSH
15304: LD_VAR 0 3
15308: PPUSH
15309: LD_INT 1
15311: PPUSH
15312: CALL_OW 322
// SetTech ( tech_virus , side , state_enabled ) ;
15316: LD_INT 33
15318: PPUSH
15319: LD_VAR 0 3
15323: PPUSH
15324: LD_INT 1
15326: PPUSH
15327: CALL_OW 322
// SetTech ( tech_matpred , side , state_enabled ) ;
15331: LD_INT 9
15333: PPUSH
15334: LD_VAR 0 3
15338: PPUSH
15339: LD_INT 1
15341: PPUSH
15342: CALL_OW 322
// SetTech ( tech_targteleport , side , state_enabled ) ;
15346: LD_INT 38
15348: PPUSH
15349: LD_VAR 0 3
15353: PPUSH
15354: LD_INT 1
15356: PPUSH
15357: CALL_OW 322
// SetTech ( tech_comp1 , side , state_enabled ) ;
15361: LD_INT 57
15363: PPUSH
15364: LD_VAR 0 3
15368: PPUSH
15369: LD_INT 1
15371: PPUSH
15372: CALL_OW 322
// SetTech ( tech_comp2 , side , state_enabled ) ;
15376: LD_INT 58
15378: PPUSH
15379: LD_VAR 0 3
15383: PPUSH
15384: LD_INT 1
15386: PPUSH
15387: CALL_OW 322
// SetTech ( tech_taurad , side , state_enabled ) ;
15391: LD_INT 28
15393: PPUSH
15394: LD_VAR 0 3
15398: PPUSH
15399: LD_INT 1
15401: PPUSH
15402: CALL_OW 322
// SetTech ( tech_spacanom , side , state_enabled ) ;
15406: LD_INT 29
15408: PPUSH
15409: LD_VAR 0 3
15413: PPUSH
15414: LD_INT 1
15416: PPUSH
15417: CALL_OW 322
// SetTech ( tech_taufield , side , state_enabled ) ;
15421: LD_INT 30
15423: PPUSH
15424: LD_VAR 0 3
15428: PPUSH
15429: LD_INT 1
15431: PPUSH
15432: CALL_OW 322
// SetTech ( tech_limteleport , side , state_enabled ) ;
15436: LD_INT 37
15438: PPUSH
15439: LD_VAR 0 3
15443: PPUSH
15444: LD_INT 1
15446: PPUSH
15447: CALL_OW 322
// SetTech ( tech_st1 , side , state_enabled ) ;
15451: LD_INT 63
15453: PPUSH
15454: LD_VAR 0 3
15458: PPUSH
15459: LD_INT 1
15461: PPUSH
15462: CALL_OW 322
// SetTech ( tech_st2 , side , state_enabled ) ;
15466: LD_INT 64
15468: PPUSH
15469: LD_VAR 0 3
15473: PPUSH
15474: LD_INT 1
15476: PPUSH
15477: CALL_OW 322
// SetTech ( tech_apeneural , side , state_enabled ) ;
15481: LD_INT 3
15483: PPUSH
15484: LD_VAR 0 3
15488: PPUSH
15489: LD_INT 1
15491: PPUSH
15492: CALL_OW 322
// SetTech ( tech_apebrain , side , state_enabled ) ;
15496: LD_INT 4
15498: PPUSH
15499: LD_VAR 0 3
15503: PPUSH
15504: LD_INT 1
15506: PPUSH
15507: CALL_OW 322
// SetTech ( tech_stimdrugs , side , state_enabled ) ;
15511: LD_INT 5
15513: PPUSH
15514: LD_VAR 0 3
15518: PPUSH
15519: LD_INT 1
15521: PPUSH
15522: CALL_OW 322
// SetTech ( tech_biodet , side , state_enabled ) ;
15526: LD_INT 8
15528: PPUSH
15529: LD_VAR 0 3
15533: PPUSH
15534: LD_INT 1
15536: PPUSH
15537: CALL_OW 322
// SetTech ( tech_bio1 , side , state_enabled ) ;
15541: LD_INT 66
15543: PPUSH
15544: LD_VAR 0 3
15548: PPUSH
15549: LD_INT 1
15551: PPUSH
15552: CALL_OW 322
// SetTech ( tech_bio2 , side , state_enabled ) ;
15556: LD_INT 67
15558: PPUSH
15559: LD_VAR 0 3
15563: PPUSH
15564: LD_INT 1
15566: PPUSH
15567: CALL_OW 322
// SetTech ( tech_sibpow , side , state_enabled ) ;
15571: LD_INT 21
15573: PPUSH
15574: LD_VAR 0 3
15578: PPUSH
15579: LD_INT 1
15581: PPUSH
15582: CALL_OW 322
// SetTech ( tech_sibeng , side , state_enabled ) ;
15586: LD_INT 22
15588: PPUSH
15589: LD_VAR 0 3
15593: PPUSH
15594: LD_INT 1
15596: PPUSH
15597: CALL_OW 322
// SetTech ( tech_sibloc , side , state_enabled ) ;
15601: LD_INT 19
15603: PPUSH
15604: LD_VAR 0 3
15608: PPUSH
15609: LD_INT 1
15611: PPUSH
15612: CALL_OW 322
// SetTech ( tech_sibcontam , side , state_enabled ) ;
15616: LD_INT 26
15618: PPUSH
15619: LD_VAR 0 3
15623: PPUSH
15624: LD_INT 1
15626: PPUSH
15627: CALL_OW 322
// SetTech ( tech_sib1 , side , state_enabled ) ;
15631: LD_INT 54
15633: PPUSH
15634: LD_VAR 0 3
15638: PPUSH
15639: LD_INT 1
15641: PPUSH
15642: CALL_OW 322
// SetTech ( tech_sib2 , side , state_enabled ) ;
15646: LD_INT 55
15648: PPUSH
15649: LD_VAR 0 3
15653: PPUSH
15654: LD_INT 1
15656: PPUSH
15657: CALL_OW 322
// for i = 0 to 39 do
15661: LD_ADDR_VAR 0 4
15665: PUSH
15666: DOUBLE
15667: LD_INT 0
15669: DEC
15670: ST_TO_ADDR
15671: LD_INT 39
15673: PUSH
15674: FOR_TO
15675: IFFALSE 15696
// SetRestrict ( i , side , true ) ;
15677: LD_VAR 0 4
15681: PPUSH
15682: LD_VAR 0 3
15686: PPUSH
15687: LD_INT 1
15689: PPUSH
15690: CALL_OW 324
15694: GO 15674
15696: POP
15697: POP
// end ; else
15698: GO 15775
15700: POP
// begin for i = 1 to 73 do
15701: LD_ADDR_VAR 0 4
15705: PUSH
15706: DOUBLE
15707: LD_INT 1
15709: DEC
15710: ST_TO_ADDR
15711: LD_INT 73
15713: PUSH
15714: FOR_TO
15715: IFFALSE 15736
// SetTech ( i , side , state_enabled ) ;
15717: LD_VAR 0 4
15721: PPUSH
15722: LD_VAR 0 3
15726: PPUSH
15727: LD_INT 1
15729: PPUSH
15730: CALL_OW 322
15734: GO 15714
15736: POP
15737: POP
// for i = 0 to 39 do
15738: LD_ADDR_VAR 0 4
15742: PUSH
15743: DOUBLE
15744: LD_INT 0
15746: DEC
15747: ST_TO_ADDR
15748: LD_INT 39
15750: PUSH
15751: FOR_TO
15752: IFFALSE 15773
// SetRestrict ( i , side , true ) ;
15754: LD_VAR 0 4
15758: PPUSH
15759: LD_VAR 0 3
15763: PPUSH
15764: LD_INT 1
15766: PPUSH
15767: CALL_OW 324
15771: GO 15751
15773: POP
15774: POP
// end ; end ; end ;
15775: GO 11780
15777: POP
15778: POP
// end ; end_of_file
15779: LD_VAR 0 2
15783: RET
// var defeated , GameEnded , unfoged , defeated_specs ; export function Init_Win_Condition ; var i ; begin
15784: LD_INT 0
15786: PPUSH
15787: PPUSH
// enable ( 98 ) ;
15788: LD_INT 98
15790: ENABLE_MARKED
// GameEnded = false ;
15791: LD_ADDR_LOC 26
15795: PUSH
15796: LD_INT 0
15798: ST_TO_ADDR
// defeated = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
15799: LD_ADDR_LOC 25
15803: PUSH
15804: LD_INT 0
15806: PUSH
15807: LD_INT 0
15809: PUSH
15810: LD_INT 0
15812: PUSH
15813: LD_INT 0
15815: PUSH
15816: LD_INT 0
15818: PUSH
15819: LD_INT 0
15821: PUSH
15822: LD_INT 0
15824: PUSH
15825: LD_INT 0
15827: PUSH
15828: EMPTY
15829: LIST
15830: LIST
15831: LIST
15832: LIST
15833: LIST
15834: LIST
15835: LIST
15836: LIST
15837: ST_TO_ADDR
// unfoged = false ;
15838: LD_ADDR_LOC 27
15842: PUSH
15843: LD_INT 0
15845: ST_TO_ADDR
// defeated_specs := [ ] ;
15846: LD_ADDR_LOC 28
15850: PUSH
15851: EMPTY
15852: ST_TO_ADDR
// for i = 1 to side_positions do
15853: LD_ADDR_VAR 0 2
15857: PUSH
15858: DOUBLE
15859: LD_INT 1
15861: DEC
15862: ST_TO_ADDR
15863: LD_EXP 19
15867: PUSH
15868: FOR_TO
15869: IFFALSE 15909
// if not side_positions [ i ] then
15871: LD_EXP 19
15875: PUSH
15876: LD_VAR 0 2
15880: ARRAY
15881: NOT
15882: IFFALSE 15907
// defeated = replace ( defeated , i , true ) ;
15884: LD_ADDR_LOC 25
15888: PUSH
15889: LD_LOC 25
15893: PPUSH
15894: LD_VAR 0 2
15898: PPUSH
15899: LD_INT 1
15901: PPUSH
15902: CALL_OW 1
15906: ST_TO_ADDR
15907: GO 15868
15909: POP
15910: POP
// end ;
15911: LD_VAR 0 1
15915: RET
// function CanWinLoose ; begin
15916: LD_INT 0
15918: PPUSH
// Result := true ;
15919: LD_ADDR_VAR 0 1
15923: PUSH
15924: LD_INT 1
15926: ST_TO_ADDR
// if IAmServer and PlayerCount > 0 then
15927: CALL_OW 518
15931: PUSH
15932: CALL_OW 519
15936: PUSH
15937: LD_INT 0
15939: GREATER
15940: AND
15941: IFFALSE 15951
// Result := false ;
15943: LD_ADDR_VAR 0 1
15947: PUSH
15948: LD_INT 0
15950: ST_TO_ADDR
// if IAmSpec and PlayerCount > 1 then
15951: CALL_OW 531
15955: PUSH
15956: CALL_OW 519
15960: PUSH
15961: LD_INT 1
15963: GREATER
15964: AND
15965: IFFALSE 15975
// Result := false ;
15967: LD_ADDR_VAR 0 1
15971: PUSH
15972: LD_INT 0
15974: ST_TO_ADDR
// end ;
15975: LD_VAR 0 1
15979: RET
// export function HasPower ( i ) ; var k , h ; begin
15980: LD_INT 0
15982: PPUSH
15983: PPUSH
15984: PPUSH
// if not MultiplayerSideAlive ( i ) and not Side_Comps [ i ] and MultiPlayer then
15985: LD_VAR 0 1
15989: PPUSH
15990: CALL_OW 108
15994: NOT
15995: PUSH
15996: LD_EXP 18
16000: PUSH
16001: LD_VAR 0 1
16005: ARRAY
16006: NOT
16007: AND
16008: PUSH
16009: LD_OWVAR 4
16013: AND
16014: IFFALSE 16026
// begin result = false ;
16016: LD_ADDR_VAR 0 2
16020: PUSH
16021: LD_INT 0
16023: ST_TO_ADDR
// end else
16024: GO 16321
// case def_win_rules of 0 :
16026: LD_EXP 15
16030: PUSH
16031: LD_INT 0
16033: DOUBLE
16034: EQUAL
16035: IFTRUE 16039
16037: GO 16202
16039: POP
// if def_people_respawning then
16040: LD_EXP 49
16044: IFFALSE 16135
// Result := FilterAllUnits ( [ [ f_side , i ] , [ f_or , [ f_type , unit_human ] , [ f_control , control_computer ] , [ f_control , control_apeman ] , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) else
16046: LD_ADDR_VAR 0 2
16050: PUSH
16051: LD_INT 22
16053: PUSH
16054: LD_VAR 0 1
16058: PUSH
16059: EMPTY
16060: LIST
16061: LIST
16062: PUSH
16063: LD_INT 2
16065: PUSH
16066: LD_INT 21
16068: PUSH
16069: LD_INT 1
16071: PUSH
16072: EMPTY
16073: LIST
16074: LIST
16075: PUSH
16076: LD_INT 33
16078: PUSH
16079: LD_INT 3
16081: PUSH
16082: EMPTY
16083: LIST
16084: LIST
16085: PUSH
16086: LD_INT 33
16088: PUSH
16089: LD_INT 5
16091: PUSH
16092: EMPTY
16093: LIST
16094: LIST
16095: PUSH
16096: LD_INT 30
16098: PUSH
16099: LD_INT 0
16101: PUSH
16102: EMPTY
16103: LIST
16104: LIST
16105: PUSH
16106: LD_INT 30
16108: PUSH
16109: LD_INT 1
16111: PUSH
16112: EMPTY
16113: LIST
16114: LIST
16115: PUSH
16116: EMPTY
16117: LIST
16118: LIST
16119: LIST
16120: LIST
16121: LIST
16122: LIST
16123: PUSH
16124: EMPTY
16125: LIST
16126: LIST
16127: PPUSH
16128: CALL_OW 69
16132: ST_TO_ADDR
16133: GO 16200
// Result := FilterAllUnits ( [ [ f_side , i ] , [ f_or , [ f_type , unit_human ] , [ f_control , control_computer ] , [ f_control , control_apeman ] ] ] ) ; 1 :
16135: LD_ADDR_VAR 0 2
16139: PUSH
16140: LD_INT 22
16142: PUSH
16143: LD_VAR 0 1
16147: PUSH
16148: EMPTY
16149: LIST
16150: LIST
16151: PUSH
16152: LD_INT 2
16154: PUSH
16155: LD_INT 21
16157: PUSH
16158: LD_INT 1
16160: PUSH
16161: EMPTY
16162: LIST
16163: LIST
16164: PUSH
16165: LD_INT 33
16167: PUSH
16168: LD_INT 3
16170: PUSH
16171: EMPTY
16172: LIST
16173: LIST
16174: PUSH
16175: LD_INT 33
16177: PUSH
16178: LD_INT 5
16180: PUSH
16181: EMPTY
16182: LIST
16183: LIST
16184: PUSH
16185: EMPTY
16186: LIST
16187: LIST
16188: LIST
16189: LIST
16190: PUSH
16191: EMPTY
16192: LIST
16193: LIST
16194: PPUSH
16195: CALL_OW 69
16199: ST_TO_ADDR
16200: GO 16321
16202: LD_INT 1
16204: DOUBLE
16205: EQUAL
16206: IFTRUE 16210
16208: GO 16249
16210: POP
// Result = FilterAllUnits ( [ [ f_side , i ] , [ f_type , unit_human ] ] ) ; 2 :
16211: LD_ADDR_VAR 0 2
16215: PUSH
16216: LD_INT 22
16218: PUSH
16219: LD_VAR 0 1
16223: PUSH
16224: EMPTY
16225: LIST
16226: LIST
16227: PUSH
16228: LD_INT 21
16230: PUSH
16231: LD_INT 1
16233: PUSH
16234: EMPTY
16235: LIST
16236: LIST
16237: PUSH
16238: EMPTY
16239: LIST
16240: LIST
16241: PPUSH
16242: CALL_OW 69
16246: ST_TO_ADDR
16247: GO 16321
16249: LD_INT 2
16251: DOUBLE
16252: EQUAL
16253: IFTRUE 16257
16255: GO 16320
16257: POP
// begin h = false ;
16258: LD_ADDR_VAR 0 4
16262: PUSH
16263: LD_INT 0
16265: ST_TO_ADDR
// for k in heroes [ i ] do
16266: LD_ADDR_VAR 0 3
16270: PUSH
16271: LD_EXP 29
16275: PUSH
16276: LD_VAR 0 1
16280: ARRAY
16281: PUSH
16282: FOR_IN
16283: IFFALSE 16306
// if IsLive ( k ) then
16285: LD_VAR 0 3
16289: PPUSH
16290: CALL_OW 300
16294: IFFALSE 16304
// h = true ;
16296: LD_ADDR_VAR 0 4
16300: PUSH
16301: LD_INT 1
16303: ST_TO_ADDR
16304: GO 16282
16306: POP
16307: POP
// Result := h ;
16308: LD_ADDR_VAR 0 2
16312: PUSH
16313: LD_VAR 0 4
16317: ST_TO_ADDR
// end ; end ;
16318: GO 16321
16320: POP
// end ;
16321: LD_VAR 0 2
16325: RET
// function AlliedSides ( i , j ) ; begin
16326: LD_INT 0
16328: PPUSH
// Result := false ;
16329: LD_ADDR_VAR 0 3
16333: PUSH
16334: LD_INT 0
16336: ST_TO_ADDR
// if ( GetAttitude ( i , j ) = att_friend ) and ( GetAttitude ( j , i ) = att_friend ) and GetAlliedVictory ( i ) and GetAlliedVictory ( j ) then
16337: LD_VAR 0 1
16341: PPUSH
16342: LD_VAR 0 2
16346: PPUSH
16347: CALL_OW 81
16351: PUSH
16352: LD_INT 1
16354: EQUAL
16355: PUSH
16356: LD_VAR 0 2
16360: PPUSH
16361: LD_VAR 0 1
16365: PPUSH
16366: CALL_OW 81
16370: PUSH
16371: LD_INT 1
16373: EQUAL
16374: AND
16375: PUSH
16376: LD_VAR 0 1
16380: PPUSH
16381: CALL_OW 83
16385: AND
16386: PUSH
16387: LD_VAR 0 2
16391: PPUSH
16392: CALL_OW 83
16396: AND
16397: IFFALSE 16407
// Result := true ;
16399: LD_ADDR_VAR 0 3
16403: PUSH
16404: LD_INT 1
16406: ST_TO_ADDR
// end ;
16407: LD_VAR 0 3
16411: RET
// every 100 trigger CanWinLoose and not GameEnded marked 400 do
16412: CALL 15916 0 0
16416: PUSH
16417: LD_LOC 26
16421: NOT
16422: AND
16423: IFFALSE 16439
16425: GO 16427
16427: DISABLE
// WaitServerStrings = [ #Player-Ended ] ;
16428: LD_ADDR_EXP 55
16432: PUSH
16433: LD_STRING #Player-Ended
16435: PUSH
16436: EMPTY
16437: LIST
16438: ST_TO_ADDR
16439: END
// every 100 trigger CanWinLoose and GameEnded marked 400 do
16440: CALL 15916 0 0
16444: PUSH
16445: LD_LOC 26
16449: AND
16450: IFFALSE 16459
16452: GO 16454
16454: DISABLE
// YouLostInMultiplayer ;
16455: CALL_OW 107
16459: END
// every 100 trigger not CanWinLoose and not IAmSpec marked 400 do
16460: CALL 15916 0 0
16464: NOT
16465: PUSH
16466: CALL_OW 531
16470: NOT
16471: AND
16472: IFFALSE 16488
16474: GO 16476
16476: DISABLE
// WaitServerStrings = [ #server-wait ] ;
16477: LD_ADDR_EXP 55
16481: PUSH
16482: LD_STRING #server-wait
16484: PUSH
16485: EMPTY
16486: LIST
16487: ST_TO_ADDR
16488: END
// every 100 trigger IAmSpec do
16489: CALL_OW 531
16493: IFFALSE 16509
16495: GO 16497
16497: DISABLE
// WaitServerStrings = [ #Player-IAmSpec ] ;
16498: LD_ADDR_EXP 55
16502: PUSH
16503: LD_STRING #Player-IAmSpec
16505: PUSH
16506: EMPTY
16507: LIST
16508: ST_TO_ADDR
16509: END
// every 100 trigger GameEnded and IAmSpec do
16510: LD_LOC 26
16514: PUSH
16515: CALL_OW 531
16519: AND
16520: IFFALSE 16529
16522: GO 16524
16524: DISABLE
// YouLostInMultiplayer ;
16525: CALL_OW 107
16529: END
// every 100 trigger CanWinLoose and not GameEnded marked 401 do
16530: CALL 15916 0 0
16534: PUSH
16535: LD_LOC 26
16539: NOT
16540: AND
16541: IFFALSE 16557
16543: GO 16545
16545: DISABLE
// WaitServerStrings = [ $player-win ] ;
16546: LD_ADDR_EXP 55
16550: PUSH
16551: LD_STRING $player-win
16553: PUSH
16554: EMPTY
16555: LIST
16556: ST_TO_ADDR
16557: END
// every 100 trigger CanWinLoose and GameEnded marked 401 do
16558: CALL 15916 0 0
16562: PUSH
16563: LD_LOC 26
16567: AND
16568: IFFALSE 16592
16570: GO 16572
16572: DISABLE
// begin SA_Win ( Side_Nations [ mp_player_side ] ) ;
16573: LD_EXP 20
16577: PUSH
16578: LD_OWVAR 7
16582: ARRAY
16583: PPUSH
16584: CALL 11418 0 1
// YouWinInMultiplayer ;
16588: CALL_OW 106
// end ;
16592: END
// every 100 trigger isEditor marked 401 do
16593: LD_OWVAR 84
16597: IFFALSE 16613
16599: GO 16601
16601: DISABLE
// Debug_Strings = [ You won ] ;
16602: LD_ADDR_OWVAR 48
16606: PUSH
16607: LD_STRING You won
16609: PUSH
16610: EMPTY
16611: LIST
16612: ST_TO_ADDR
16613: END
// every 100 trigger isEditor marked 400 do
16614: LD_OWVAR 84
16618: IFFALSE 16634
16620: GO 16622
16622: DISABLE
// Debug_Strings = [ You loss ] ;
16623: LD_ADDR_OWVAR 48
16627: PUSH
16628: LD_STRING You loss
16630: PUSH
16631: EMPTY
16632: LIST
16633: ST_TO_ADDR
16634: END
// every 100 marked 98 do var i , un ;
16635: GO 16637
16637: DISABLE
16638: LD_INT 0
16640: PPUSH
16641: PPUSH
// begin for i = 1 to side_positions do
16642: LD_ADDR_VAR 0 1
16646: PUSH
16647: DOUBLE
16648: LD_INT 1
16650: DEC
16651: ST_TO_ADDR
16652: LD_EXP 19
16656: PUSH
16657: FOR_TO
16658: IFFALSE 16745
// begin if side_positions [ i ] then
16660: LD_EXP 19
16664: PUSH
16665: LD_VAR 0 1
16669: ARRAY
16670: IFFALSE 16743
// if not HasPower ( i ) and not defeated [ i ] then
16672: LD_VAR 0 1
16676: PPUSH
16677: CALL 15980 0 1
16681: NOT
16682: PUSH
16683: LD_LOC 25
16687: PUSH
16688: LD_VAR 0 1
16692: ARRAY
16693: NOT
16694: AND
16695: IFFALSE 16743
// begin defeated = replace ( defeated , i , true ) ;
16697: LD_ADDR_LOC 25
16701: PUSH
16702: LD_LOC 25
16706: PPUSH
16707: LD_VAR 0 1
16711: PPUSH
16712: LD_INT 1
16714: PPUSH
16715: CALL_OW 1
16719: ST_TO_ADDR
// if i = mp_player_side then
16720: LD_VAR 0 1
16724: PUSH
16725: LD_OWVAR 7
16729: EQUAL
16730: IFFALSE 16743
// begin Multiplayer_Loose_Message ;
16732: CALL_OW 521
// SetPlayerSpectator ( ) ;
16736: CALL_OW 572
// enable ( 400 ) ;
16740: LD_INT 400
16742: ENABLE_MARKED
// end ; end ; end ;
16743: GO 16657
16745: POP
16746: POP
// DidGameEnd ;
16747: CALL 16762 0 0
// if not GameEnded then
16751: LD_LOC 26
16755: NOT
16756: IFFALSE 16759
// enable ;
16758: ENABLE
// end ;
16759: PPOPN 2
16761: END
// function DidGameEnd ; var i , k , enemy ; begin
16762: LD_INT 0
16764: PPUSH
16765: PPUSH
16766: PPUSH
16767: PPUSH
// enemy = [ ] ;
16768: LD_ADDR_VAR 0 4
16772: PUSH
16773: EMPTY
16774: ST_TO_ADDR
// for i = 1 to side_positions do
16775: LD_ADDR_VAR 0 2
16779: PUSH
16780: DOUBLE
16781: LD_INT 1
16783: DEC
16784: ST_TO_ADDR
16785: LD_EXP 19
16789: PUSH
16790: FOR_TO
16791: IFFALSE 16885
// if not defeated [ i ] then
16793: LD_LOC 25
16797: PUSH
16798: LD_VAR 0 2
16802: ARRAY
16803: NOT
16804: IFFALSE 16883
// for k = 1 to side_positions do
16806: LD_ADDR_VAR 0 3
16810: PUSH
16811: DOUBLE
16812: LD_INT 1
16814: DEC
16815: ST_TO_ADDR
16816: LD_EXP 19
16820: PUSH
16821: FOR_TO
16822: IFFALSE 16881
// if not defeated [ k ] then
16824: LD_LOC 25
16828: PUSH
16829: LD_VAR 0 3
16833: ARRAY
16834: NOT
16835: IFFALSE 16879
// if not AlliedSides ( i , k ) then
16837: LD_VAR 0 2
16841: PPUSH
16842: LD_VAR 0 3
16846: PPUSH
16847: CALL 16326 0 2
16851: NOT
16852: IFFALSE 16879
// enemy = enemy ^ [ i , k ] ;
16854: LD_ADDR_VAR 0 4
16858: PUSH
16859: LD_VAR 0 4
16863: PUSH
16864: LD_VAR 0 2
16868: PUSH
16869: LD_VAR 0 3
16873: PUSH
16874: EMPTY
16875: LIST
16876: LIST
16877: ADD
16878: ST_TO_ADDR
16879: GO 16821
16881: POP
16882: POP
16883: GO 16790
16885: POP
16886: POP
// if not enemy then
16887: LD_VAR 0 4
16891: NOT
16892: IFFALSE 16918
// begin GameEnded = true ;
16894: LD_ADDR_LOC 26
16898: PUSH
16899: LD_INT 1
16901: ST_TO_ADDR
// if not defeated [ mp_player_side ] then
16902: LD_LOC 25
16906: PUSH
16907: LD_OWVAR 7
16911: ARRAY
16912: NOT
16913: IFFALSE 16918
// enable ( 401 ) ;
16915: LD_INT 401
16917: ENABLE_MARKED
// end ; end ;
16918: LD_VAR 0 1
16922: RET
// function unfog ; var k , friends ; begin
16923: LD_INT 0
16925: PPUSH
16926: PPUSH
16927: PPUSH
// for k = 1 to side_positions do
16928: LD_ADDR_VAR 0 2
16932: PUSH
16933: DOUBLE
16934: LD_INT 1
16936: DEC
16937: ST_TO_ADDR
16938: LD_EXP 19
16942: PUSH
16943: FOR_TO
16944: IFFALSE 17000
// if not defeated [ k ] then
16946: LD_LOC 25
16950: PUSH
16951: LD_VAR 0 2
16955: ARRAY
16956: NOT
16957: IFFALSE 16998
// if GetAttitude ( mp_player_side , k ) in [ att_friend ] then
16959: LD_OWVAR 7
16963: PPUSH
16964: LD_VAR 0 2
16968: PPUSH
16969: CALL_OW 81
16973: PUSH
16974: LD_INT 1
16976: PUSH
16977: EMPTY
16978: LIST
16979: IN
16980: IFFALSE 16998
// friends = friends ^ k ;
16982: LD_ADDR_VAR 0 3
16986: PUSH
16987: LD_VAR 0 3
16991: PUSH
16992: LD_VAR 0 2
16996: ADD
16997: ST_TO_ADDR
16998: GO 16943
17000: POP
17001: POP
// if not friends then
17002: LD_VAR 0 3
17006: NOT
17007: IFFALSE 17021
// begin SetPlayerSpectator ( ) ;
17009: CALL_OW 572
// unfoged = true ;
17013: LD_ADDR_LOC 27
17017: PUSH
17018: LD_INT 1
17020: ST_TO_ADDR
// end ; end ;
17021: LD_VAR 0 1
17025: RET
// export function MakeGameEnd ; begin
17026: LD_INT 0
17028: PPUSH
// SetPlayerSpectator ( ) ;
17029: CALL_OW 572
// unfoged = true ;
17033: LD_ADDR_LOC 27
17037: PUSH
17038: LD_INT 1
17040: ST_TO_ADDR
// wait ( 0 0$5 ) ;
17041: LD_INT 175
17043: PPUSH
17044: CALL_OW 67
// GameEnded = true ;
17048: LD_ADDR_LOC 26
17052: PUSH
17053: LD_INT 1
17055: ST_TO_ADDR
// end ;
17056: LD_VAR 0 1
17060: RET
// export function GetGameEnded ; begin
17061: LD_INT 0
17063: PPUSH
// result = GameEnded ;
17064: LD_ADDR_VAR 0 1
17068: PUSH
17069: LD_LOC 26
17073: ST_TO_ADDR
// end ; end_of_file
17074: LD_VAR 0 1
17078: RET
// export function UpdateSpectatorBar ; var i , j , crates , oil , sib , people , base , bases ; begin
17079: LD_INT 0
17081: PPUSH
17082: PPUSH
17083: PPUSH
17084: PPUSH
17085: PPUSH
17086: PPUSH
17087: PPUSH
17088: PPUSH
17089: PPUSH
// for i := 1 to 8 do
17090: LD_ADDR_VAR 0 2
17094: PUSH
17095: DOUBLE
17096: LD_INT 1
17098: DEC
17099: ST_TO_ADDR
17100: LD_INT 8
17102: PUSH
17103: FOR_TO
17104: IFFALSE 17488
// begin if Side_Positions [ i ] then
17106: LD_EXP 19
17110: PUSH
17111: LD_VAR 0 2
17115: ARRAY
17116: IFFALSE 17486
// begin people := FilterAllUnits ( [ [ f_side , i ] , [ f_type , unit_human ] ] ) + 0 ;
17118: LD_ADDR_VAR 0 7
17122: PUSH
17123: LD_INT 22
17125: PUSH
17126: LD_VAR 0 2
17130: PUSH
17131: EMPTY
17132: LIST
17133: LIST
17134: PUSH
17135: LD_INT 21
17137: PUSH
17138: LD_INT 1
17140: PUSH
17141: EMPTY
17142: LIST
17143: LIST
17144: PUSH
17145: EMPTY
17146: LIST
17147: LIST
17148: PPUSH
17149: CALL_OW 69
17153: PUSH
17154: LD_INT 0
17156: PLUS
17157: ST_TO_ADDR
// bases := FilterAllUnits ( [ [ f_side , i ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) ;
17158: LD_ADDR_VAR 0 9
17162: PUSH
17163: LD_INT 22
17165: PUSH
17166: LD_VAR 0 2
17170: PUSH
17171: EMPTY
17172: LIST
17173: LIST
17174: PUSH
17175: LD_INT 2
17177: PUSH
17178: LD_INT 30
17180: PUSH
17181: LD_INT 0
17183: PUSH
17184: EMPTY
17185: LIST
17186: LIST
17187: PUSH
17188: LD_INT 30
17190: PUSH
17191: LD_INT 1
17193: PUSH
17194: EMPTY
17195: LIST
17196: LIST
17197: PUSH
17198: EMPTY
17199: LIST
17200: LIST
17201: LIST
17202: PUSH
17203: EMPTY
17204: LIST
17205: LIST
17206: PPUSH
17207: CALL_OW 69
17211: ST_TO_ADDR
// crates := 0 ;
17212: LD_ADDR_VAR 0 4
17216: PUSH
17217: LD_INT 0
17219: ST_TO_ADDR
// oil := 0 ;
17220: LD_ADDR_VAR 0 5
17224: PUSH
17225: LD_INT 0
17227: ST_TO_ADDR
// sib := 0 ;
17228: LD_ADDR_VAR 0 6
17232: PUSH
17233: LD_INT 0
17235: ST_TO_ADDR
// if bases then
17236: LD_VAR 0 9
17240: IFFALSE 17346
// begin for j in bases do
17242: LD_ADDR_VAR 0 3
17246: PUSH
17247: LD_VAR 0 9
17251: PUSH
17252: FOR_IN
17253: IFFALSE 17344
// begin base := GetBase ( j ) ;
17255: LD_ADDR_VAR 0 8
17259: PUSH
17260: LD_VAR 0 3
17264: PPUSH
17265: CALL_OW 274
17269: ST_TO_ADDR
// crates := crates + GetResourceType ( base , mat_cans ) ;
17270: LD_ADDR_VAR 0 4
17274: PUSH
17275: LD_VAR 0 4
17279: PUSH
17280: LD_VAR 0 8
17284: PPUSH
17285: LD_INT 1
17287: PPUSH
17288: CALL_OW 275
17292: PLUS
17293: ST_TO_ADDR
// oil := oil + GetResourceType ( base , mat_oil ) ;
17294: LD_ADDR_VAR 0 5
17298: PUSH
17299: LD_VAR 0 5
17303: PUSH
17304: LD_VAR 0 8
17308: PPUSH
17309: LD_INT 2
17311: PPUSH
17312: CALL_OW 275
17316: PLUS
17317: ST_TO_ADDR
// sib := sib + GetResourceType ( base , mat_siberit ) ;
17318: LD_ADDR_VAR 0 6
17322: PUSH
17323: LD_VAR 0 6
17327: PUSH
17328: LD_VAR 0 8
17332: PPUSH
17333: LD_INT 3
17335: PPUSH
17336: CALL_OW 275
17340: PLUS
17341: ST_TO_ADDR
// end ;
17342: GO 17252
17344: POP
17345: POP
// end ; ToLua ( setSpecText( & i & , & 2 & , & crates & ) ) ;
17346: LD_STRING setSpecText(
17348: PUSH
17349: LD_VAR 0 2
17353: STR
17354: PUSH
17355: LD_STRING ,
17357: STR
17358: PUSH
17359: LD_INT 2
17361: STR
17362: PUSH
17363: LD_STRING ,
17365: STR
17366: PUSH
17367: LD_VAR 0 4
17371: STR
17372: PUSH
17373: LD_STRING )
17375: STR
17376: PPUSH
17377: CALL_OW 559
// ToLua ( setSpecText( & i & , & 3 & , & oil & ) ) ;
17381: LD_STRING setSpecText(
17383: PUSH
17384: LD_VAR 0 2
17388: STR
17389: PUSH
17390: LD_STRING ,
17392: STR
17393: PUSH
17394: LD_INT 3
17396: STR
17397: PUSH
17398: LD_STRING ,
17400: STR
17401: PUSH
17402: LD_VAR 0 5
17406: STR
17407: PUSH
17408: LD_STRING )
17410: STR
17411: PPUSH
17412: CALL_OW 559
// ToLua ( setSpecText( & i & , & 4 & , & sib & ) ) ;
17416: LD_STRING setSpecText(
17418: PUSH
17419: LD_VAR 0 2
17423: STR
17424: PUSH
17425: LD_STRING ,
17427: STR
17428: PUSH
17429: LD_INT 4
17431: STR
17432: PUSH
17433: LD_STRING ,
17435: STR
17436: PUSH
17437: LD_VAR 0 6
17441: STR
17442: PUSH
17443: LD_STRING )
17445: STR
17446: PPUSH
17447: CALL_OW 559
// ToLua ( setSpecText( & i & , & 5 & , & people & ) ) ;
17451: LD_STRING setSpecText(
17453: PUSH
17454: LD_VAR 0 2
17458: STR
17459: PUSH
17460: LD_STRING ,
17462: STR
17463: PUSH
17464: LD_INT 5
17466: STR
17467: PUSH
17468: LD_STRING ,
17470: STR
17471: PUSH
17472: LD_VAR 0 7
17476: STR
17477: PUSH
17478: LD_STRING )
17480: STR
17481: PPUSH
17482: CALL_OW 559
// end ; end ;
17486: GO 17103
17488: POP
17489: POP
// end ;
17490: LD_VAR 0 1
17494: RET
// every 0 0$1 do
17495: GO 17497
17497: DISABLE
// begin ToLua ( setSpecLogoNumber( & 2 & , & 1 & ) ) ;
17498: LD_STRING setSpecLogoNumber(
17500: PUSH
17501: LD_INT 2
17503: STR
17504: PUSH
17505: LD_STRING ,
17507: STR
17508: PUSH
17509: LD_INT 1
17511: STR
17512: PUSH
17513: LD_STRING )
17515: STR
17516: PPUSH
17517: CALL_OW 559
// ToLua ( setSpecLogoNumber( & 3 & , & 2 & ) ) ;
17521: LD_STRING setSpecLogoNumber(
17523: PUSH
17524: LD_INT 3
17526: STR
17527: PUSH
17528: LD_STRING ,
17530: STR
17531: PUSH
17532: LD_INT 2
17534: STR
17535: PUSH
17536: LD_STRING )
17538: STR
17539: PPUSH
17540: CALL_OW 559
// ToLua ( setSpecLogoNumber( & 4 & , & 3 & ) ) ;
17544: LD_STRING setSpecLogoNumber(
17546: PUSH
17547: LD_INT 4
17549: STR
17550: PUSH
17551: LD_STRING ,
17553: STR
17554: PUSH
17555: LD_INT 3
17557: STR
17558: PUSH
17559: LD_STRING )
17561: STR
17562: PPUSH
17563: CALL_OW 559
// ToLua ( setSpecLogoNumber( & 5 & , & 4 & ) ) ;
17567: LD_STRING setSpecLogoNumber(
17569: PUSH
17570: LD_INT 5
17572: STR
17573: PUSH
17574: LD_STRING ,
17576: STR
17577: PUSH
17578: LD_INT 4
17580: STR
17581: PUSH
17582: LD_STRING )
17584: STR
17585: PPUSH
17586: CALL_OW 559
// end ;
17590: END
// every 20 + 0 0$5 trigger FilterAllUnits ( [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ) do
17591: LD_INT 2
17593: PUSH
17594: LD_INT 30
17596: PUSH
17597: LD_INT 0
17599: PUSH
17600: EMPTY
17601: LIST
17602: LIST
17603: PUSH
17604: LD_INT 30
17606: PUSH
17607: LD_INT 1
17609: PUSH
17610: EMPTY
17611: LIST
17612: LIST
17613: PUSH
17614: EMPTY
17615: LIST
17616: LIST
17617: LIST
17618: PPUSH
17619: CALL_OW 69
17623: IFFALSE 17633
17625: GO 17627
17627: DISABLE
// begin enable ;
17628: ENABLE
// UpdateSpectatorBar ;
17629: CALL 17079 0 0
// end ; end_of_file
17633: END
// var respawn , inqueue ; export function init_respawning ; begin
17634: LD_INT 0
17636: PPUSH
// respawn := Rand ( 1 , 8 ) ;
17637: LD_ADDR_LOC 29
17641: PUSH
17642: LD_INT 1
17644: PPUSH
17645: LD_INT 8
17647: PPUSH
17648: CALL_OW 12
17652: ST_TO_ADDR
// inqueue := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
17653: LD_ADDR_LOC 30
17657: PUSH
17658: LD_INT 0
17660: PUSH
17661: LD_INT 0
17663: PUSH
17664: LD_INT 0
17666: PUSH
17667: LD_INT 0
17669: PUSH
17670: LD_INT 0
17672: PUSH
17673: LD_INT 0
17675: PUSH
17676: LD_INT 0
17678: PUSH
17679: LD_INT 0
17681: PUSH
17682: EMPTY
17683: LIST
17684: LIST
17685: LIST
17686: LIST
17687: LIST
17688: LIST
17689: LIST
17690: LIST
17691: ST_TO_ADDR
// end ;
17692: LD_VAR 0 1
17696: RET
// every 0 0$1 + 0 0$0.5 do var n , dep , aktresp ;
17697: GO 17699
17699: DISABLE
17700: LD_INT 0
17702: PPUSH
17703: PPUSH
17704: PPUSH
// begin if respawning_time_max = 0 then
17705: LD_EXP 11
17709: PUSH
17710: LD_INT 0
17712: EQUAL
17713: IFFALSE 17717
// exit ;
17715: GO 18125
// if respawn = 8 then
17717: LD_LOC 29
17721: PUSH
17722: LD_INT 8
17724: EQUAL
17725: IFFALSE 17737
// respawn := 1 else
17727: LD_ADDR_LOC 29
17731: PUSH
17732: LD_INT 1
17734: ST_TO_ADDR
17735: GO 17751
// respawn := respawn + 1 ;
17737: LD_ADDR_LOC 29
17741: PUSH
17742: LD_LOC 29
17746: PUSH
17747: LD_INT 1
17749: PLUS
17750: ST_TO_ADDR
// if Side_Positions [ respawn ] and not inqueue [ respawn ] then
17751: LD_EXP 19
17755: PUSH
17756: LD_LOC 29
17760: ARRAY
17761: PUSH
17762: LD_LOC 30
17766: PUSH
17767: LD_LOC 29
17771: ARRAY
17772: NOT
17773: AND
17774: IFFALSE 18124
// begin n := FilterAllUnits ( [ [ f_type , unit_human ] , [ f_side , respawn ] , f_not , [ f_nation , nation_nature ] ] ) ;
17776: LD_ADDR_VAR 0 1
17780: PUSH
17781: LD_INT 21
17783: PUSH
17784: LD_INT 1
17786: PUSH
17787: EMPTY
17788: LIST
17789: LIST
17790: PUSH
17791: LD_INT 22
17793: PUSH
17794: LD_LOC 29
17798: PUSH
17799: EMPTY
17800: LIST
17801: LIST
17802: PUSH
17803: LD_INT 3
17805: PUSH
17806: LD_INT 23
17808: PUSH
17809: LD_INT 0
17811: PUSH
17812: EMPTY
17813: LIST
17814: LIST
17815: PUSH
17816: EMPTY
17817: LIST
17818: LIST
17819: LIST
17820: LIST
17821: PPUSH
17822: CALL_OW 69
17826: ST_TO_ADDR
// if n < number_of_people then
17827: LD_VAR 0 1
17831: PUSH
17832: LD_EXP 4
17836: LESS
17837: IFFALSE 18121
// begin aktresp := respawn ;
17839: LD_ADDR_VAR 0 3
17843: PUSH
17844: LD_LOC 29
17848: ST_TO_ADDR
// inqueue := Replace ( inqueue , aktresp , true ) ;
17849: LD_ADDR_LOC 30
17853: PUSH
17854: LD_LOC 30
17858: PPUSH
17859: LD_VAR 0 3
17863: PPUSH
17864: LD_INT 1
17866: PPUSH
17867: CALL_OW 1
17871: ST_TO_ADDR
// enable ;
17872: ENABLE
// wait ( rand ( respawning_time_min , respawning_time_max ) ) ;
17873: LD_EXP 10
17877: PPUSH
17878: LD_EXP 11
17882: PPUSH
17883: CALL_OW 12
17887: PPUSH
17888: CALL_OW 67
// inqueue := Replace ( inqueue , aktresp , false ) ;
17892: LD_ADDR_LOC 30
17896: PUSH
17897: LD_LOC 30
17901: PPUSH
17902: LD_VAR 0 3
17906: PPUSH
17907: LD_INT 0
17909: PPUSH
17910: CALL_OW 1
17914: ST_TO_ADDR
// dep = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_ok ] , [ f_side , aktresp ] ] ) ;
17915: LD_ADDR_VAR 0 2
17919: PUSH
17920: LD_INT 21
17922: PUSH
17923: LD_INT 3
17925: PUSH
17926: EMPTY
17927: LIST
17928: LIST
17929: PUSH
17930: LD_INT 2
17932: PUSH
17933: LD_INT 30
17935: PUSH
17936: LD_INT 0
17938: PUSH
17939: EMPTY
17940: LIST
17941: LIST
17942: PUSH
17943: LD_INT 30
17945: PUSH
17946: LD_INT 1
17948: PUSH
17949: EMPTY
17950: LIST
17951: LIST
17952: PUSH
17953: EMPTY
17954: LIST
17955: LIST
17956: LIST
17957: PUSH
17958: LD_INT 50
17960: PUSH
17961: EMPTY
17962: LIST
17963: PUSH
17964: LD_INT 22
17966: PUSH
17967: LD_VAR 0 3
17971: PUSH
17972: EMPTY
17973: LIST
17974: LIST
17975: PUSH
17976: EMPTY
17977: LIST
17978: LIST
17979: LIST
17980: LIST
17981: PPUSH
17982: CALL_OW 69
17986: ST_TO_ADDR
// if dep = 0 then
17987: LD_VAR 0 2
17991: PUSH
17992: LD_INT 0
17994: EQUAL
17995: IFFALSE 17999
// exit ;
17997: GO 18125
// hc_name :=  ;
17999: LD_ADDR_OWVAR 26
18003: PUSH
18004: LD_STRING 
18006: ST_TO_ADDR
// hc_importance := 0 ;
18007: LD_ADDR_OWVAR 32
18011: PUSH
18012: LD_INT 0
18014: ST_TO_ADDR
// PrepareHuman ( 0 , 0 , skill_level div 2 ) ;
18015: LD_INT 0
18017: PPUSH
18018: LD_INT 0
18020: PPUSH
18021: LD_EXP 5
18025: PUSH
18026: LD_INT 2
18028: DIV
18029: PPUSH
18030: CALL_OW 380
// uc_nation := Side_Nations [ aktresp ] ;
18034: LD_ADDR_OWVAR 21
18038: PUSH
18039: LD_EXP 20
18043: PUSH
18044: LD_VAR 0 3
18048: ARRAY
18049: ST_TO_ADDR
// uc_side := aktresp ;
18050: LD_ADDR_OWVAR 20
18054: PUSH
18055: LD_VAR 0 3
18059: ST_TO_ADDR
// dep := dep [ Rand ( 1 , dep ) ] ;
18060: LD_ADDR_VAR 0 2
18064: PUSH
18065: LD_VAR 0 2
18069: PUSH
18070: LD_INT 1
18072: PPUSH
18073: LD_VAR 0 2
18077: PPUSH
18078: CALL_OW 12
18082: ARRAY
18083: ST_TO_ADDR
// PlaceUnitXYR ( CreateHuman , GetX ( dep ) , GetY ( dep ) , 7 , true ) ;
18084: CALL_OW 44
18088: PPUSH
18089: LD_VAR 0 2
18093: PPUSH
18094: CALL_OW 250
18098: PPUSH
18099: LD_VAR 0 2
18103: PPUSH
18104: CALL_OW 251
18108: PPUSH
18109: LD_INT 7
18111: PPUSH
18112: LD_INT 1
18114: PPUSH
18115: CALL_OW 50
// end else
18119: GO 18122
// enable ;
18121: ENABLE
// end else
18122: GO 18125
// enable ;
18124: ENABLE
// end ;
18125: PPOPN 3
18127: END
