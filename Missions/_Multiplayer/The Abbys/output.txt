// export def_base_size , def_west_nations , def_east_nations ; export is_depot , number_of_breastworks , number_of_people , skill_level , starting_crates , starting_resources , shipments_density , morale_decreasing_time , amount_of_apemen , respawning_time_min , respawning_time_max , siberite_bomb_Delay ; export Side_Teams , Teams ; export Side_Positions , Side_Nations , Team_Game , Position_Nations ; export depot_def , breastworks_def , labs_def , factory_def , start_def , extra_oil_deposits_locations , extra_sib_deposits_locations , battle_flags_id ; var commander ; var global_units , global_defined , soldiers_created ; var neng , nsci , nmech , nsol ; function prepare_deposits ; var list , un , deposits ; begin
   0: LD_INT 0
   2: PPUSH
   3: PPUSH
   4: PPUSH
   5: PPUSH
// list := GetListOfResourcesInArea ( west_side ) ^ GetListOfResourcesInArea ( east_side ) ;
   6: LD_ADDR_VAR 0 2
  10: PUSH
  11: LD_INT 8
  13: PPUSH
  14: CALL_OW 442
  18: PUSH
  19: LD_INT 9
  21: PPUSH
  22: CALL_OW 442
  26: ADD
  27: ST_TO_ADDR
// for un = 1 to ( list div 3 ) do
  28: LD_ADDR_VAR 0 3
  32: PUSH
  33: DOUBLE
  34: LD_INT 1
  36: DEC
  37: ST_TO_ADDR
  38: LD_VAR 0 2
  42: PUSH
  43: LD_INT 3
  45: DIV
  46: PUSH
  47: FOR_TO
  48: IFFALSE 94
// RemoveDepositXY ( list [ un * 3 - 2 ] , list [ un * 3 - 1 ] ) ;
  50: LD_VAR 0 2
  54: PUSH
  55: LD_VAR 0 3
  59: PUSH
  60: LD_INT 3
  62: MUL
  63: PUSH
  64: LD_INT 2
  66: MINUS
  67: ARRAY
  68: PPUSH
  69: LD_VAR 0 2
  73: PUSH
  74: LD_VAR 0 3
  78: PUSH
  79: LD_INT 3
  81: MUL
  82: PUSH
  83: LD_INT 1
  85: MINUS
  86: ARRAY
  87: PPUSH
  88: CALL_OW 63
  92: GO 47
  94: POP
  95: POP
// deposits := [ [ 40 , 49 , mat_oil ] , [ 40 , 68 , mat_oil ] , [ 9 , 3 , mat_siberit ] , [ 61 , 116 , mat_siberit ] , [ 177 , 46 , mat_oil ] , [ 185 , 71 , mat_oil ] , [ 157 , 3 , mat_siberit ] , [ 213 , 116 , mat_siberit ] ] ;
  96: LD_ADDR_VAR 0 4
 100: PUSH
 101: LD_INT 40
 103: PUSH
 104: LD_INT 49
 106: PUSH
 107: LD_INT 2
 109: PUSH
 110: EMPTY
 111: LIST
 112: LIST
 113: LIST
 114: PUSH
 115: LD_INT 40
 117: PUSH
 118: LD_INT 68
 120: PUSH
 121: LD_INT 2
 123: PUSH
 124: EMPTY
 125: LIST
 126: LIST
 127: LIST
 128: PUSH
 129: LD_INT 9
 131: PUSH
 132: LD_INT 3
 134: PUSH
 135: LD_INT 3
 137: PUSH
 138: EMPTY
 139: LIST
 140: LIST
 141: LIST
 142: PUSH
 143: LD_INT 61
 145: PUSH
 146: LD_INT 116
 148: PUSH
 149: LD_INT 3
 151: PUSH
 152: EMPTY
 153: LIST
 154: LIST
 155: LIST
 156: PUSH
 157: LD_INT 177
 159: PUSH
 160: LD_INT 46
 162: PUSH
 163: LD_INT 2
 165: PUSH
 166: EMPTY
 167: LIST
 168: LIST
 169: LIST
 170: PUSH
 171: LD_INT 185
 173: PUSH
 174: LD_INT 71
 176: PUSH
 177: LD_INT 2
 179: PUSH
 180: EMPTY
 181: LIST
 182: LIST
 183: LIST
 184: PUSH
 185: LD_INT 157
 187: PUSH
 188: LD_INT 3
 190: PUSH
 191: LD_INT 3
 193: PUSH
 194: EMPTY
 195: LIST
 196: LIST
 197: LIST
 198: PUSH
 199: LD_INT 213
 201: PUSH
 202: LD_INT 116
 204: PUSH
 205: LD_INT 3
 207: PUSH
 208: EMPTY
 209: LIST
 210: LIST
 211: LIST
 212: PUSH
 213: EMPTY
 214: LIST
 215: LIST
 216: LIST
 217: LIST
 218: LIST
 219: LIST
 220: LIST
 221: LIST
 222: ST_TO_ADDR
// for un in deposits do
 223: LD_ADDR_VAR 0 3
 227: PUSH
 228: LD_VAR 0 4
 232: PUSH
 233: FOR_IN
 234: IFFALSE 269
// CreateDepositXY ( un [ 1 ] , un [ 2 ] , un [ 3 ] ) ;
 236: LD_VAR 0 3
 240: PUSH
 241: LD_INT 1
 243: ARRAY
 244: PPUSH
 245: LD_VAR 0 3
 249: PUSH
 250: LD_INT 2
 252: ARRAY
 253: PPUSH
 254: LD_VAR 0 3
 258: PUSH
 259: LD_INT 3
 261: ARRAY
 262: PPUSH
 263: CALL_OW 62
 267: GO 233
 269: POP
 270: POP
// end ;
 271: LD_VAR 0 1
 275: RET
// function init_map ; var i ; begin
 276: LD_INT 0
 278: PPUSH
 279: PPUSH
// prepare_deposits ;
 280: CALL 0 0 0
// extra_oil_deposits_locations := [ [ 29 , 3 ] , [ 82 , 115 ] , [ 134 , 3 ] , [ 192 , 116 ] ] ;
 284: LD_ADDR_EXP 27
 288: PUSH
 289: LD_INT 29
 291: PUSH
 292: LD_INT 3
 294: PUSH
 295: EMPTY
 296: LIST
 297: LIST
 298: PUSH
 299: LD_INT 82
 301: PUSH
 302: LD_INT 115
 304: PUSH
 305: EMPTY
 306: LIST
 307: LIST
 308: PUSH
 309: LD_INT 134
 311: PUSH
 312: LD_INT 3
 314: PUSH
 315: EMPTY
 316: LIST
 317: LIST
 318: PUSH
 319: LD_INT 192
 321: PUSH
 322: LD_INT 116
 324: PUSH
 325: EMPTY
 326: LIST
 327: LIST
 328: PUSH
 329: EMPTY
 330: LIST
 331: LIST
 332: LIST
 333: LIST
 334: ST_TO_ADDR
// extra_sib_deposits_locations := [ [ 62 , 60 ] , [ 157 , 60 ] ] ;
 335: LD_ADDR_EXP 28
 339: PUSH
 340: LD_INT 62
 342: PUSH
 343: LD_INT 60
 345: PUSH
 346: EMPTY
 347: LIST
 348: LIST
 349: PUSH
 350: LD_INT 157
 352: PUSH
 353: LD_INT 60
 355: PUSH
 356: EMPTY
 357: LIST
 358: LIST
 359: PUSH
 360: EMPTY
 361: LIST
 362: LIST
 363: ST_TO_ADDR
// depot_def := [ [ 35 , 34 , 0 ] , [ 56 , 86 , 2 ] , [ 158 , 34 , 5 ] , [ 185 , 86 , 3 ] ] ;
 364: LD_ADDR_EXP 22
 368: PUSH
 369: LD_INT 35
 371: PUSH
 372: LD_INT 34
 374: PUSH
 375: LD_INT 0
 377: PUSH
 378: EMPTY
 379: LIST
 380: LIST
 381: LIST
 382: PUSH
 383: LD_INT 56
 385: PUSH
 386: LD_INT 86
 388: PUSH
 389: LD_INT 2
 391: PUSH
 392: EMPTY
 393: LIST
 394: LIST
 395: LIST
 396: PUSH
 397: LD_INT 158
 399: PUSH
 400: LD_INT 34
 402: PUSH
 403: LD_INT 5
 405: PUSH
 406: EMPTY
 407: LIST
 408: LIST
 409: LIST
 410: PUSH
 411: LD_INT 185
 413: PUSH
 414: LD_INT 86
 416: PUSH
 417: LD_INT 3
 419: PUSH
 420: EMPTY
 421: LIST
 422: LIST
 423: LIST
 424: PUSH
 425: EMPTY
 426: LIST
 427: LIST
 428: LIST
 429: LIST
 430: ST_TO_ADDR
// labs_def := [ [ 19 , 28 , 1 ] , [ 49 , 92 , 1 ] , [ 166 , 23 , 4 ] , [ 205 , 97 , 4 ] ] ;
 431: LD_ADDR_EXP 24
 435: PUSH
 436: LD_INT 19
 438: PUSH
 439: LD_INT 28
 441: PUSH
 442: LD_INT 1
 444: PUSH
 445: EMPTY
 446: LIST
 447: LIST
 448: LIST
 449: PUSH
 450: LD_INT 49
 452: PUSH
 453: LD_INT 92
 455: PUSH
 456: LD_INT 1
 458: PUSH
 459: EMPTY
 460: LIST
 461: LIST
 462: LIST
 463: PUSH
 464: LD_INT 166
 466: PUSH
 467: LD_INT 23
 469: PUSH
 470: LD_INT 4
 472: PUSH
 473: EMPTY
 474: LIST
 475: LIST
 476: LIST
 477: PUSH
 478: LD_INT 205
 480: PUSH
 481: LD_INT 97
 483: PUSH
 484: LD_INT 4
 486: PUSH
 487: EMPTY
 488: LIST
 489: LIST
 490: LIST
 491: PUSH
 492: EMPTY
 493: LIST
 494: LIST
 495: LIST
 496: LIST
 497: ST_TO_ADDR
// factory_def := [ [ 26 , 16 , 2 ] , [ 64 , 103 , 0 ] , [ 154 , 18 , 3 ] , [ 190 , 103 , 5 ] ] ;
 498: LD_ADDR_EXP 25
 502: PUSH
 503: LD_INT 26
 505: PUSH
 506: LD_INT 16
 508: PUSH
 509: LD_INT 2
 511: PUSH
 512: EMPTY
 513: LIST
 514: LIST
 515: LIST
 516: PUSH
 517: LD_INT 64
 519: PUSH
 520: LD_INT 103
 522: PUSH
 523: LD_INT 0
 525: PUSH
 526: EMPTY
 527: LIST
 528: LIST
 529: LIST
 530: PUSH
 531: LD_INT 154
 533: PUSH
 534: LD_INT 18
 536: PUSH
 537: LD_INT 3
 539: PUSH
 540: EMPTY
 541: LIST
 542: LIST
 543: LIST
 544: PUSH
 545: LD_INT 190
 547: PUSH
 548: LD_INT 103
 550: PUSH
 551: LD_INT 5
 553: PUSH
 554: EMPTY
 555: LIST
 556: LIST
 557: LIST
 558: PUSH
 559: EMPTY
 560: LIST
 561: LIST
 562: LIST
 563: LIST
 564: ST_TO_ADDR
// start_def := [ [ 35 , 26 ] , [ 65 , 94 ] , [ 150 , 26 ] , [ 185 , 94 ] ] ;
 565: LD_ADDR_EXP 26
 569: PUSH
 570: LD_INT 35
 572: PUSH
 573: LD_INT 26
 575: PUSH
 576: EMPTY
 577: LIST
 578: LIST
 579: PUSH
 580: LD_INT 65
 582: PUSH
 583: LD_INT 94
 585: PUSH
 586: EMPTY
 587: LIST
 588: LIST
 589: PUSH
 590: LD_INT 150
 592: PUSH
 593: LD_INT 26
 595: PUSH
 596: EMPTY
 597: LIST
 598: LIST
 599: PUSH
 600: LD_INT 185
 602: PUSH
 603: LD_INT 94
 605: PUSH
 606: EMPTY
 607: LIST
 608: LIST
 609: PUSH
 610: EMPTY
 611: LIST
 612: LIST
 613: LIST
 614: LIST
 615: ST_TO_ADDR
// breastworks_def := [ [ [ 44 , 18 , 4 ] , [ 47 , 51 , 5 ] , [ 35 , 8 , 4 ] , [ 50 , 38 , 5 ] ] , [ [ 81 , 97 , 4 ] , [ 54 , 71 , 3 ] , [ 81 , 110 , 5 ] , [ 66 , 82 , 3 ] ] , [ [ 136 , 20 , 1 ] , [ 164 , 48 , 1 ] , [ 130 , 8 , 1 ] , [ 147 , 37 , 0 ] ] , [ [ 181 , 103 , 1 ] , [ 178 , 72 , 1 ] , [ 186 , 112 , 1 ] , [ 172 , 82 , 2 ] ] ] ;
 616: LD_ADDR_EXP 23
 620: PUSH
 621: LD_INT 44
 623: PUSH
 624: LD_INT 18
 626: PUSH
 627: LD_INT 4
 629: PUSH
 630: EMPTY
 631: LIST
 632: LIST
 633: LIST
 634: PUSH
 635: LD_INT 47
 637: PUSH
 638: LD_INT 51
 640: PUSH
 641: LD_INT 5
 643: PUSH
 644: EMPTY
 645: LIST
 646: LIST
 647: LIST
 648: PUSH
 649: LD_INT 35
 651: PUSH
 652: LD_INT 8
 654: PUSH
 655: LD_INT 4
 657: PUSH
 658: EMPTY
 659: LIST
 660: LIST
 661: LIST
 662: PUSH
 663: LD_INT 50
 665: PUSH
 666: LD_INT 38
 668: PUSH
 669: LD_INT 5
 671: PUSH
 672: EMPTY
 673: LIST
 674: LIST
 675: LIST
 676: PUSH
 677: EMPTY
 678: LIST
 679: LIST
 680: LIST
 681: LIST
 682: PUSH
 683: LD_INT 81
 685: PUSH
 686: LD_INT 97
 688: PUSH
 689: LD_INT 4
 691: PUSH
 692: EMPTY
 693: LIST
 694: LIST
 695: LIST
 696: PUSH
 697: LD_INT 54
 699: PUSH
 700: LD_INT 71
 702: PUSH
 703: LD_INT 3
 705: PUSH
 706: EMPTY
 707: LIST
 708: LIST
 709: LIST
 710: PUSH
 711: LD_INT 81
 713: PUSH
 714: LD_INT 110
 716: PUSH
 717: LD_INT 5
 719: PUSH
 720: EMPTY
 721: LIST
 722: LIST
 723: LIST
 724: PUSH
 725: LD_INT 66
 727: PUSH
 728: LD_INT 82
 730: PUSH
 731: LD_INT 3
 733: PUSH
 734: EMPTY
 735: LIST
 736: LIST
 737: LIST
 738: PUSH
 739: EMPTY
 740: LIST
 741: LIST
 742: LIST
 743: LIST
 744: PUSH
 745: LD_INT 136
 747: PUSH
 748: LD_INT 20
 750: PUSH
 751: LD_INT 1
 753: PUSH
 754: EMPTY
 755: LIST
 756: LIST
 757: LIST
 758: PUSH
 759: LD_INT 164
 761: PUSH
 762: LD_INT 48
 764: PUSH
 765: LD_INT 1
 767: PUSH
 768: EMPTY
 769: LIST
 770: LIST
 771: LIST
 772: PUSH
 773: LD_INT 130
 775: PUSH
 776: LD_INT 8
 778: PUSH
 779: LD_INT 1
 781: PUSH
 782: EMPTY
 783: LIST
 784: LIST
 785: LIST
 786: PUSH
 787: LD_INT 147
 789: PUSH
 790: LD_INT 37
 792: PUSH
 793: LD_INT 0
 795: PUSH
 796: EMPTY
 797: LIST
 798: LIST
 799: LIST
 800: PUSH
 801: EMPTY
 802: LIST
 803: LIST
 804: LIST
 805: LIST
 806: PUSH
 807: LD_INT 181
 809: PUSH
 810: LD_INT 103
 812: PUSH
 813: LD_INT 1
 815: PUSH
 816: EMPTY
 817: LIST
 818: LIST
 819: LIST
 820: PUSH
 821: LD_INT 178
 823: PUSH
 824: LD_INT 72
 826: PUSH
 827: LD_INT 1
 829: PUSH
 830: EMPTY
 831: LIST
 832: LIST
 833: LIST
 834: PUSH
 835: LD_INT 186
 837: PUSH
 838: LD_INT 112
 840: PUSH
 841: LD_INT 1
 843: PUSH
 844: EMPTY
 845: LIST
 846: LIST
 847: LIST
 848: PUSH
 849: LD_INT 172
 851: PUSH
 852: LD_INT 82
 854: PUSH
 855: LD_INT 2
 857: PUSH
 858: EMPTY
 859: LIST
 860: LIST
 861: LIST
 862: PUSH
 863: EMPTY
 864: LIST
 865: LIST
 866: LIST
 867: LIST
 868: PUSH
 869: EMPTY
 870: LIST
 871: LIST
 872: LIST
 873: LIST
 874: ST_TO_ADDR
// if def_extra_oil_deposits then
 875: LD_EXP 63
 879: IFFALSE 923
// for i in extra_oil_deposits_locations do
 881: LD_ADDR_VAR 0 2
 885: PUSH
 886: LD_EXP 27
 890: PUSH
 891: FOR_IN
 892: IFFALSE 921
// CreateDepositXY ( i [ 1 ] , i [ 2 ] , mat_oil ) ;
 894: LD_VAR 0 2
 898: PUSH
 899: LD_INT 1
 901: ARRAY
 902: PPUSH
 903: LD_VAR 0 2
 907: PUSH
 908: LD_INT 2
 910: ARRAY
 911: PPUSH
 912: LD_INT 2
 914: PPUSH
 915: CALL_OW 62
 919: GO 891
 921: POP
 922: POP
// if def_extra_sib_deposits then
 923: LD_EXP 64
 927: IFFALSE 971
// for i in extra_sib_deposits_locations do
 929: LD_ADDR_VAR 0 2
 933: PUSH
 934: LD_EXP 28
 938: PUSH
 939: FOR_IN
 940: IFFALSE 969
// CreateDepositXY ( i [ 1 ] , i [ 2 ] , mat_siberit ) ;
 942: LD_VAR 0 2
 946: PUSH
 947: LD_INT 1
 949: ARRAY
 950: PPUSH
 951: LD_VAR 0 2
 955: PUSH
 956: LD_INT 2
 958: ARRAY
 959: PPUSH
 960: LD_INT 3
 962: PPUSH
 963: CALL_OW 62
 967: GO 939
 969: POP
 970: POP
// end ;
 971: LD_VAR 0 1
 975: RET
// function read_multiplayer_and_game_parameters ; var side , dep , br1 , br2 , br3 , un , i , tech_level ; begin
 976: LD_INT 0
 978: PPUSH
 979: PPUSH
 980: PPUSH
 981: PPUSH
 982: PPUSH
 983: PPUSH
 984: PPUSH
 985: PPUSH
 986: PPUSH
// if Multiplayer then
 987: LD_OWVAR 4
 991: IFFALSE 1055
// begin Game_Type = mp_game_type ;
 993: LD_ADDR_EXP 56
 997: PUSH
 998: LD_OWVAR 6
1002: ST_TO_ADDR
// Your_Side := mp_player_side ;
1003: LD_ADDR_OWVAR 2
1007: PUSH
1008: LD_OWVAR 7
1012: ST_TO_ADDR
// Side_Positions = mp_sides_positions ;
1013: LD_ADDR_EXP 18
1017: PUSH
1018: LD_OWVAR 17
1022: ST_TO_ADDR
// Side_Teams = mp_sides_teams ;
1023: LD_ADDR_EXP 16
1027: PUSH
1028: LD_OWVAR 15
1032: ST_TO_ADDR
// Side_Nations = mp_sides_nations ;
1033: LD_ADDR_EXP 19
1037: PUSH
1038: LD_OWVAR 16
1042: ST_TO_ADDR
// Teams = mp_teams ;
1043: LD_ADDR_EXP 17
1047: PUSH
1048: LD_OWVAR 12
1052: ST_TO_ADDR
// end else
1053: GO 1217
// begin Game_Type = 4 ;
1055: LD_ADDR_EXP 56
1059: PUSH
1060: LD_INT 4
1062: ST_TO_ADDR
// Your_Side = 1 ;
1063: LD_ADDR_OWVAR 2
1067: PUSH
1068: LD_INT 1
1070: ST_TO_ADDR
// Side_Positions = [ 1 , 2 , 3 , 4 , 0 , 0 , 0 , 0 ] ;
1071: LD_ADDR_EXP 18
1075: PUSH
1076: LD_INT 1
1078: PUSH
1079: LD_INT 2
1081: PUSH
1082: LD_INT 3
1084: PUSH
1085: LD_INT 4
1087: PUSH
1088: LD_INT 0
1090: PUSH
1091: LD_INT 0
1093: PUSH
1094: LD_INT 0
1096: PUSH
1097: LD_INT 0
1099: PUSH
1100: EMPTY
1101: LIST
1102: LIST
1103: LIST
1104: LIST
1105: LIST
1106: LIST
1107: LIST
1108: LIST
1109: ST_TO_ADDR
// Side_Teams = [ 1 , 1 , 2 , 2 , 0 , 0 , 0 , 0 ] ;
1110: LD_ADDR_EXP 16
1114: PUSH
1115: LD_INT 1
1117: PUSH
1118: LD_INT 1
1120: PUSH
1121: LD_INT 2
1123: PUSH
1124: LD_INT 2
1126: PUSH
1127: LD_INT 0
1129: PUSH
1130: LD_INT 0
1132: PUSH
1133: LD_INT 0
1135: PUSH
1136: LD_INT 0
1138: PUSH
1139: EMPTY
1140: LIST
1141: LIST
1142: LIST
1143: LIST
1144: LIST
1145: LIST
1146: LIST
1147: LIST
1148: ST_TO_ADDR
// Side_Nations = [ 3 , 2 , 1 , 2 , 0 , 0 , 0 , 0 ] ;
1149: LD_ADDR_EXP 19
1153: PUSH
1154: LD_INT 3
1156: PUSH
1157: LD_INT 2
1159: PUSH
1160: LD_INT 1
1162: PUSH
1163: LD_INT 2
1165: PUSH
1166: LD_INT 0
1168: PUSH
1169: LD_INT 0
1171: PUSH
1172: LD_INT 0
1174: PUSH
1175: LD_INT 0
1177: PUSH
1178: EMPTY
1179: LIST
1180: LIST
1181: LIST
1182: LIST
1183: LIST
1184: LIST
1185: LIST
1186: LIST
1187: ST_TO_ADDR
// Teams = [ [ 1 , 2 ] , [ 3 , 4 ] ] ;
1188: LD_ADDR_EXP 17
1192: PUSH
1193: LD_INT 1
1195: PUSH
1196: LD_INT 2
1198: PUSH
1199: EMPTY
1200: LIST
1201: LIST
1202: PUSH
1203: LD_INT 3
1205: PUSH
1206: LD_INT 4
1208: PUSH
1209: EMPTY
1210: LIST
1211: LIST
1212: PUSH
1213: EMPTY
1214: LIST
1215: LIST
1216: ST_TO_ADDR
// end ; if Multiplayer then
1217: LD_OWVAR 4
1221: IFFALSE 1446
// begin def_base_level = GetMultiplayerSetting ( 0 ) ;
1223: LD_ADDR_EXP 58
1227: PUSH
1228: LD_INT 0
1230: PPUSH
1231: CALL_OW 426
1235: ST_TO_ADDR
// def_amount_of_people = GetMultiplayerSetting ( 1 ) ;
1236: LD_ADDR_EXP 59
1240: PUSH
1241: LD_INT 1
1243: PPUSH
1244: CALL_OW 426
1248: ST_TO_ADDR
// def_skill_level = GetMultiplayerSetting ( 2 ) ;
1249: LD_ADDR_EXP 60
1253: PUSH
1254: LD_INT 2
1256: PPUSH
1257: CALL_OW 426
1261: ST_TO_ADDR
// def_starting_resources = GetMultiplayerSetting ( 3 ) ;
1262: LD_ADDR_EXP 61
1266: PUSH
1267: LD_INT 3
1269: PPUSH
1270: CALL_OW 426
1274: ST_TO_ADDR
// def_shipments_density = GetMultiplayerSetting ( 4 ) ;
1275: LD_ADDR_EXP 62
1279: PUSH
1280: LD_INT 4
1282: PPUSH
1283: CALL_OW 426
1287: ST_TO_ADDR
// def_extra_oil_deposits = GetMultiplayerSetting ( 5 ) ;
1288: LD_ADDR_EXP 63
1292: PUSH
1293: LD_INT 5
1295: PPUSH
1296: CALL_OW 426
1300: ST_TO_ADDR
// def_extra_sib_deposits = GetMultiplayerSetting ( 6 ) ;
1301: LD_ADDR_EXP 64
1305: PUSH
1306: LD_INT 6
1308: PPUSH
1309: CALL_OW 426
1313: ST_TO_ADDR
// def_base_size = GetMultiplayerSetting ( 7 ) ;
1314: LD_ADDR_EXP 1
1318: PUSH
1319: LD_INT 7
1321: PPUSH
1322: CALL_OW 426
1326: ST_TO_ADDR
// def_shared_vision = GetMultiplayerSetting ( 10 ) ;
1327: LD_ADDR_EXP 65
1331: PUSH
1332: LD_INT 10
1334: PPUSH
1335: CALL_OW 426
1339: ST_TO_ADDR
// def_morale_flags = GetMultiplayerSetting ( 11 ) ;
1340: LD_ADDR_EXP 66
1344: PUSH
1345: LD_INT 11
1347: PPUSH
1348: CALL_OW 426
1352: ST_TO_ADDR
// def_siberite_detection = GetMultiplayerSetting ( 12 ) ;
1353: LD_ADDR_EXP 67
1357: PUSH
1358: LD_INT 12
1360: PPUSH
1361: CALL_OW 426
1365: ST_TO_ADDR
// def_amount_of_apemen = GetMultiplayerSetting ( 13 ) ;
1366: LD_ADDR_EXP 69
1370: PUSH
1371: LD_INT 13
1373: PPUSH
1374: CALL_OW 426
1378: ST_TO_ADDR
// def_people_respawning = GetMultiplayerSetting ( 14 ) ;
1379: LD_ADDR_EXP 68
1383: PUSH
1384: LD_INT 14
1386: PPUSH
1387: CALL_OW 426
1391: ST_TO_ADDR
// def_siberite_bomb = GetMultiplayerSetting ( 15 ) ;
1392: LD_ADDR_EXP 70
1396: PUSH
1397: LD_INT 15
1399: PPUSH
1400: CALL_OW 426
1404: ST_TO_ADDR
// def_west_nations = GetMultiplayerSetting ( 21 ) ;
1405: LD_ADDR_EXP 2
1409: PUSH
1410: LD_INT 21
1412: PPUSH
1413: CALL_OW 426
1417: ST_TO_ADDR
// def_east_nations = GetMultiplayerSetting ( 22 ) ;
1418: LD_ADDR_EXP 3
1422: PUSH
1423: LD_INT 22
1425: PPUSH
1426: CALL_OW 426
1430: ST_TO_ADDR
// tech_level = GetMultiplayerSetting ( 23 ) ;
1431: LD_ADDR_VAR 0 9
1435: PUSH
1436: LD_INT 23
1438: PPUSH
1439: CALL_OW 426
1443: ST_TO_ADDR
// end else
1444: GO 1586
// begin randomize ;
1446: CALL_OW 10
// def_base_level = 3 ;
1450: LD_ADDR_EXP 58
1454: PUSH
1455: LD_INT 3
1457: ST_TO_ADDR
// def_amount_of_people = 1 ;
1458: LD_ADDR_EXP 59
1462: PUSH
1463: LD_INT 1
1465: ST_TO_ADDR
// def_skill_level = 1 ;
1466: LD_ADDR_EXP 60
1470: PUSH
1471: LD_INT 1
1473: ST_TO_ADDR
// def_starting_resources = 2 ;
1474: LD_ADDR_EXP 61
1478: PUSH
1479: LD_INT 2
1481: ST_TO_ADDR
// def_shipments_density = 1 ;
1482: LD_ADDR_EXP 62
1486: PUSH
1487: LD_INT 1
1489: ST_TO_ADDR
// def_extra_oil_deposits = 1 ;
1490: LD_ADDR_EXP 63
1494: PUSH
1495: LD_INT 1
1497: ST_TO_ADDR
// def_extra_sib_deposits = 1 ;
1498: LD_ADDR_EXP 64
1502: PUSH
1503: LD_INT 1
1505: ST_TO_ADDR
// def_base_size = 2 ;
1506: LD_ADDR_EXP 1
1510: PUSH
1511: LD_INT 2
1513: ST_TO_ADDR
// def_shared_vision = 1 ;
1514: LD_ADDR_EXP 65
1518: PUSH
1519: LD_INT 1
1521: ST_TO_ADDR
// def_morale_flags = 1 ;
1522: LD_ADDR_EXP 66
1526: PUSH
1527: LD_INT 1
1529: ST_TO_ADDR
// def_siberite_detection = 1 ;
1530: LD_ADDR_EXP 67
1534: PUSH
1535: LD_INT 1
1537: ST_TO_ADDR
// def_amount_of_apemen = 3 ;
1538: LD_ADDR_EXP 69
1542: PUSH
1543: LD_INT 3
1545: ST_TO_ADDR
// def_people_respawning = 2 ;
1546: LD_ADDR_EXP 68
1550: PUSH
1551: LD_INT 2
1553: ST_TO_ADDR
// def_siberite_bomb = 0 ;
1554: LD_ADDR_EXP 70
1558: PUSH
1559: LD_INT 0
1561: ST_TO_ADDR
// def_west_nations = 0 ;
1562: LD_ADDR_EXP 2
1566: PUSH
1567: LD_INT 0
1569: ST_TO_ADDR
// def_east_nations = 2 ;
1570: LD_ADDR_EXP 3
1574: PUSH
1575: LD_INT 2
1577: ST_TO_ADDR
// tech_level = 4 ;
1578: LD_ADDR_VAR 0 9
1582: PUSH
1583: LD_INT 4
1585: ST_TO_ADDR
// end ; InitGameRules ;
1586: CALL 15925 0 0
// if def_game_rules = 0 then
1590: LD_EXP 57
1594: PUSH
1595: LD_INT 0
1597: EQUAL
1598: IFFALSE 1625
// begin if isSGUI then
1600: LD_OWVAR 83
1604: IFFALSE 1612
// setMpTechs ( ) else
1606: CALL 19375 0 0
1610: GO 1625
// begin SetMpTechLevel ( tech_level + 1 ) ;
1612: LD_VAR 0 9
1616: PUSH
1617: LD_INT 1
1619: PLUS
1620: PPUSH
1621: CALL 19522 0 1
// end ; end ; if not def_base_level then
1625: LD_EXP 58
1629: NOT
1630: IFFALSE 1640
// def_base_size := 0 ;
1632: LD_ADDR_EXP 1
1636: PUSH
1637: LD_INT 0
1639: ST_TO_ADDR
// is_depot = [ 0 , 1 , 1 , 1 ] [ def_base_level + 1 ] ;
1640: LD_ADDR_EXP 4
1644: PUSH
1645: LD_INT 0
1647: PUSH
1648: LD_INT 1
1650: PUSH
1651: LD_INT 1
1653: PUSH
1654: LD_INT 1
1656: PUSH
1657: EMPTY
1658: LIST
1659: LIST
1660: LIST
1661: LIST
1662: PUSH
1663: LD_EXP 58
1667: PUSH
1668: LD_INT 1
1670: PLUS
1671: ARRAY
1672: ST_TO_ADDR
// number_of_breastworks = [ 0 , 0 , 2 , 4 ] [ def_base_level + 1 ] ;
1673: LD_ADDR_EXP 5
1677: PUSH
1678: LD_INT 0
1680: PUSH
1681: LD_INT 0
1683: PUSH
1684: LD_INT 2
1686: PUSH
1687: LD_INT 4
1689: PUSH
1690: EMPTY
1691: LIST
1692: LIST
1693: LIST
1694: LIST
1695: PUSH
1696: LD_EXP 58
1700: PUSH
1701: LD_INT 1
1703: PLUS
1704: ARRAY
1705: ST_TO_ADDR
// if Game_Type <> 4 then
1706: LD_EXP 56
1710: PUSH
1711: LD_INT 4
1713: NONEQUAL
1714: IFFALSE 1751
// number_of_people = [ 5 , 7 , 9 , 11 ] [ def_amount_of_people + 1 ] else
1716: LD_ADDR_EXP 6
1720: PUSH
1721: LD_INT 5
1723: PUSH
1724: LD_INT 7
1726: PUSH
1727: LD_INT 9
1729: PUSH
1730: LD_INT 11
1732: PUSH
1733: EMPTY
1734: LIST
1735: LIST
1736: LIST
1737: LIST
1738: PUSH
1739: LD_EXP 59
1743: PUSH
1744: LD_INT 1
1746: PLUS
1747: ARRAY
1748: ST_TO_ADDR
1749: GO 1784
// number_of_people = [ 9 , 12 , 15 , 24 ] [ def_amount_of_people + 1 ] ;
1751: LD_ADDR_EXP 6
1755: PUSH
1756: LD_INT 9
1758: PUSH
1759: LD_INT 12
1761: PUSH
1762: LD_INT 15
1764: PUSH
1765: LD_INT 24
1767: PUSH
1768: EMPTY
1769: LIST
1770: LIST
1771: LIST
1772: LIST
1773: PUSH
1774: LD_EXP 59
1778: PUSH
1779: LD_INT 1
1781: PLUS
1782: ARRAY
1783: ST_TO_ADDR
// skill_level = [ 2 , 3 , 4 , 5 ] [ def_skill_level + 1 ] ;
1784: LD_ADDR_EXP 7
1788: PUSH
1789: LD_INT 2
1791: PUSH
1792: LD_INT 3
1794: PUSH
1795: LD_INT 4
1797: PUSH
1798: LD_INT 5
1800: PUSH
1801: EMPTY
1802: LIST
1803: LIST
1804: LIST
1805: LIST
1806: PUSH
1807: LD_EXP 60
1811: PUSH
1812: LD_INT 1
1814: PLUS
1815: ARRAY
1816: ST_TO_ADDR
// starting_resources = [ [ 0 , 0 , 0 ] , [ 30 , 0 , 0 ] , [ 50 , 20 , 0 ] , [ 80 , 40 , 20 ] ] [ def_starting_resources + 1 ] ;
1817: LD_ADDR_EXP 9
1821: PUSH
1822: LD_INT 0
1824: PUSH
1825: LD_INT 0
1827: PUSH
1828: LD_INT 0
1830: PUSH
1831: EMPTY
1832: LIST
1833: LIST
1834: LIST
1835: PUSH
1836: LD_INT 30
1838: PUSH
1839: LD_INT 0
1841: PUSH
1842: LD_INT 0
1844: PUSH
1845: EMPTY
1846: LIST
1847: LIST
1848: LIST
1849: PUSH
1850: LD_INT 50
1852: PUSH
1853: LD_INT 20
1855: PUSH
1856: LD_INT 0
1858: PUSH
1859: EMPTY
1860: LIST
1861: LIST
1862: LIST
1863: PUSH
1864: LD_INT 80
1866: PUSH
1867: LD_INT 40
1869: PUSH
1870: LD_INT 20
1872: PUSH
1873: EMPTY
1874: LIST
1875: LIST
1876: LIST
1877: PUSH
1878: EMPTY
1879: LIST
1880: LIST
1881: LIST
1882: LIST
1883: PUSH
1884: LD_EXP 61
1888: PUSH
1889: LD_INT 1
1891: PLUS
1892: ARRAY
1893: ST_TO_ADDR
// starting_crates = [ [ 10 ] , [ 7 , 14 ] , [ 6 , 12 , 18 ] , [ 5 , 10 , 15 , 20 ] ] [ def_starting_resources + 1 ] ;
1894: LD_ADDR_EXP 8
1898: PUSH
1899: LD_INT 10
1901: PUSH
1902: EMPTY
1903: LIST
1904: PUSH
1905: LD_INT 7
1907: PUSH
1908: LD_INT 14
1910: PUSH
1911: EMPTY
1912: LIST
1913: LIST
1914: PUSH
1915: LD_INT 6
1917: PUSH
1918: LD_INT 12
1920: PUSH
1921: LD_INT 18
1923: PUSH
1924: EMPTY
1925: LIST
1926: LIST
1927: LIST
1928: PUSH
1929: LD_INT 5
1931: PUSH
1932: LD_INT 10
1934: PUSH
1935: LD_INT 15
1937: PUSH
1938: LD_INT 20
1940: PUSH
1941: EMPTY
1942: LIST
1943: LIST
1944: LIST
1945: LIST
1946: PUSH
1947: EMPTY
1948: LIST
1949: LIST
1950: LIST
1951: LIST
1952: PUSH
1953: LD_EXP 61
1957: PUSH
1958: LD_INT 1
1960: PLUS
1961: ARRAY
1962: ST_TO_ADDR
// shipments_density = [ 18 , 25 , 35 ] [ def_shipments_density + 1 ] ;
1963: LD_ADDR_EXP 10
1967: PUSH
1968: LD_INT 18
1970: PUSH
1971: LD_INT 25
1973: PUSH
1974: LD_INT 35
1976: PUSH
1977: EMPTY
1978: LIST
1979: LIST
1980: LIST
1981: PUSH
1982: LD_EXP 62
1986: PUSH
1987: LD_INT 1
1989: PLUS
1990: ARRAY
1991: ST_TO_ADDR
// amount_of_apemen := [ 0 , 2 , 4 , 6 ] [ def_amount_of_apemen + 1 ] ;
1992: LD_ADDR_EXP 12
1996: PUSH
1997: LD_INT 0
1999: PUSH
2000: LD_INT 2
2002: PUSH
2003: LD_INT 4
2005: PUSH
2006: LD_INT 6
2008: PUSH
2009: EMPTY
2010: LIST
2011: LIST
2012: LIST
2013: LIST
2014: PUSH
2015: LD_EXP 69
2019: PUSH
2020: LD_INT 1
2022: PLUS
2023: ARRAY
2024: ST_TO_ADDR
// respawning_time_min = [ 0 0$0 , 4 4$00 , 0 0$50 ] [ def_people_respawning + 1 ] ;
2025: LD_ADDR_EXP 13
2029: PUSH
2030: LD_INT 0
2032: PUSH
2033: LD_INT 8400
2035: PUSH
2036: LD_INT 1750
2038: PUSH
2039: EMPTY
2040: LIST
2041: LIST
2042: LIST
2043: PUSH
2044: LD_EXP 68
2048: PUSH
2049: LD_INT 1
2051: PLUS
2052: ARRAY
2053: ST_TO_ADDR
// respawning_time_max = [ 0 0$0 , 10 10$00 , 2 2$00 ] [ def_people_respawning + 1 ] ;
2054: LD_ADDR_EXP 14
2058: PUSH
2059: LD_INT 0
2061: PUSH
2062: LD_INT 21000
2064: PUSH
2065: LD_INT 4200
2067: PUSH
2068: EMPTY
2069: LIST
2070: LIST
2071: LIST
2072: PUSH
2073: LD_EXP 68
2077: PUSH
2078: LD_INT 1
2080: PLUS
2081: ARRAY
2082: ST_TO_ADDR
// siberite_bomb_Delay := [ 0 , 1 , 30 30$00 , 60 60$00 , 90 90$00 , 120 120$00 ] [ def_siberite_bomb + 1 ] ;
2083: LD_ADDR_EXP 15
2087: PUSH
2088: LD_INT 0
2090: PUSH
2091: LD_INT 1
2093: PUSH
2094: LD_INT 63000
2096: PUSH
2097: LD_INT 126000
2099: PUSH
2100: LD_INT 189000
2102: PUSH
2103: LD_INT 252000
2105: PUSH
2106: EMPTY
2107: LIST
2108: LIST
2109: LIST
2110: LIST
2111: LIST
2112: LIST
2113: PUSH
2114: LD_EXP 70
2118: PUSH
2119: LD_INT 1
2121: PLUS
2122: ARRAY
2123: ST_TO_ADDR
// morale_decreasing_time = [ - 1 , 0 0$10 , 0 0$20 , 0 0$40 , 0 0$0 ] [ def_morale_flags + 1 ] ;
2124: LD_ADDR_EXP 11
2128: PUSH
2129: LD_INT 1
2131: NEG
2132: PUSH
2133: LD_INT 350
2135: PUSH
2136: LD_INT 700
2138: PUSH
2139: LD_INT 1400
2141: PUSH
2142: LD_INT 0
2144: PUSH
2145: EMPTY
2146: LIST
2147: LIST
2148: LIST
2149: LIST
2150: LIST
2151: PUSH
2152: LD_EXP 66
2156: PUSH
2157: LD_INT 1
2159: PLUS
2160: ARRAY
2161: ST_TO_ADDR
// battle_flags_id = [ ] ;
2162: LD_ADDR_EXP 29
2166: PUSH
2167: EMPTY
2168: ST_TO_ADDR
// if not def_builduptime then
2169: LD_EXP 71
2173: NOT
2174: IFFALSE 2179
// disable ( 600 ) ;
2176: LD_INT 600
2178: DISABLE_MARKED
// end ;
2179: LD_VAR 0 1
2183: RET
// function set_shared_visions_and_alliances ; var i , j ; begin
2184: LD_INT 0
2186: PPUSH
2187: PPUSH
2188: PPUSH
// Team_Game := ( Side_Teams diff [ 0 ] ) > 1 ;
2189: LD_ADDR_EXP 20
2193: PUSH
2194: LD_EXP 16
2198: PUSH
2199: LD_INT 0
2201: PUSH
2202: EMPTY
2203: LIST
2204: DIFF
2205: PUSH
2206: LD_INT 1
2208: GREATER
2209: ST_TO_ADDR
// if not Team_Game then
2210: LD_EXP 20
2214: NOT
2215: IFFALSE 2313
// begin for i = 1 to 8 do
2217: LD_ADDR_VAR 0 2
2221: PUSH
2222: DOUBLE
2223: LD_INT 1
2225: DEC
2226: ST_TO_ADDR
2227: LD_INT 8
2229: PUSH
2230: FOR_TO
2231: IFFALSE 2309
// for j = 1 to 8 do
2233: LD_ADDR_VAR 0 3
2237: PUSH
2238: DOUBLE
2239: LD_INT 1
2241: DEC
2242: ST_TO_ADDR
2243: LD_INT 8
2245: PUSH
2246: FOR_TO
2247: IFFALSE 2305
// if i <> j then
2249: LD_VAR 0 2
2253: PUSH
2254: LD_VAR 0 3
2258: NONEQUAL
2259: IFFALSE 2283
// SetAttitude ( i , j , att_neutral , true ) else
2261: LD_VAR 0 2
2265: PPUSH
2266: LD_VAR 0 3
2270: PPUSH
2271: LD_INT 0
2273: PPUSH
2274: LD_INT 1
2276: PPUSH
2277: CALL_OW 80
2281: GO 2303
// SetAttitude ( i , j , att_friend , true ) ;
2283: LD_VAR 0 2
2287: PPUSH
2288: LD_VAR 0 3
2292: PPUSH
2293: LD_INT 1
2295: PPUSH
2296: LD_INT 1
2298: PPUSH
2299: CALL_OW 80
2303: GO 2246
2305: POP
2306: POP
2307: GO 2230
2309: POP
2310: POP
// end else
2311: GO 2488
// begin if def_shared_vision then
2313: LD_EXP 65
2317: IFFALSE 2382
// begin for i in Teams do
2319: LD_ADDR_VAR 0 2
2323: PUSH
2324: LD_EXP 17
2328: PUSH
2329: FOR_IN
2330: IFFALSE 2380
// for j = 2 to i do
2332: LD_ADDR_VAR 0 3
2336: PUSH
2337: DOUBLE
2338: LD_INT 2
2340: DEC
2341: ST_TO_ADDR
2342: LD_VAR 0 2
2346: PUSH
2347: FOR_TO
2348: IFFALSE 2376
// ChangeSideFog ( i [ j ] , i [ 1 ] ) ;
2350: LD_VAR 0 2
2354: PUSH
2355: LD_VAR 0 3
2359: ARRAY
2360: PPUSH
2361: LD_VAR 0 2
2365: PUSH
2366: LD_INT 1
2368: ARRAY
2369: PPUSH
2370: CALL_OW 343
2374: GO 2347
2376: POP
2377: POP
2378: GO 2329
2380: POP
2381: POP
// end ; for i = 1 to 8 do
2382: LD_ADDR_VAR 0 2
2386: PUSH
2387: DOUBLE
2388: LD_INT 1
2390: DEC
2391: ST_TO_ADDR
2392: LD_INT 8
2394: PUSH
2395: FOR_TO
2396: IFFALSE 2486
// for j = 1 to 8 do
2398: LD_ADDR_VAR 0 3
2402: PUSH
2403: DOUBLE
2404: LD_INT 1
2406: DEC
2407: ST_TO_ADDR
2408: LD_INT 8
2410: PUSH
2411: FOR_TO
2412: IFFALSE 2482
// if Side_Teams [ i ] = Side_Teams [ j ] then
2414: LD_EXP 16
2418: PUSH
2419: LD_VAR 0 2
2423: ARRAY
2424: PUSH
2425: LD_EXP 16
2429: PUSH
2430: LD_VAR 0 3
2434: ARRAY
2435: EQUAL
2436: IFFALSE 2460
// SetAttitude ( i , j , att_friend , true ) else
2438: LD_VAR 0 2
2442: PPUSH
2443: LD_VAR 0 3
2447: PPUSH
2448: LD_INT 1
2450: PPUSH
2451: LD_INT 1
2453: PPUSH
2454: CALL_OW 80
2458: GO 2480
// SetAttitude ( i , j , att_enemy , true ) ;
2460: LD_VAR 0 2
2464: PPUSH
2465: LD_VAR 0 3
2469: PPUSH
2470: LD_INT 2
2472: PPUSH
2473: LD_INT 1
2475: PPUSH
2476: CALL_OW 80
2480: GO 2411
2482: POP
2483: POP
2484: GO 2395
2486: POP
2487: POP
// end ; end ;
2488: LD_VAR 0 1
2492: RET
// function prepare_people ( count , cl , x , y , r ) ; var i , j , un ; begin
2493: LD_INT 0
2495: PPUSH
2496: PPUSH
2497: PPUSH
2498: PPUSH
// result := [ ] ;
2499: LD_ADDR_VAR 0 6
2503: PUSH
2504: EMPTY
2505: ST_TO_ADDR
// for i := 1 to count do
2506: LD_ADDR_VAR 0 7
2510: PUSH
2511: DOUBLE
2512: LD_INT 1
2514: DEC
2515: ST_TO_ADDR
2516: LD_VAR 0 1
2520: PUSH
2521: FOR_TO
2522: IFFALSE 2918
// begin uc_direction := Rand ( 0 , 5 ) ;
2524: LD_ADDR_OWVAR 24
2528: PUSH
2529: LD_INT 0
2531: PPUSH
2532: LD_INT 5
2534: PPUSH
2535: CALL_OW 12
2539: ST_TO_ADDR
// if commander then
2540: LD_LOC 1
2544: IFFALSE 2653
// begin hc_name := mp_sides_players_names [ uc_side ] ;
2546: LD_ADDR_OWVAR 26
2550: PUSH
2551: LD_OWVAR 19
2555: PUSH
2556: LD_OWVAR 20
2560: ARRAY
2561: ST_TO_ADDR
// PrepareHuman ( Rand ( 1 , 2 ) , cl , skill_level + 2 ) ;
2562: LD_INT 1
2564: PPUSH
2565: LD_INT 2
2567: PPUSH
2568: CALL_OW 12
2572: PPUSH
2573: LD_VAR 0 2
2577: PPUSH
2578: LD_EXP 7
2582: PUSH
2583: LD_INT 2
2585: PLUS
2586: PPUSH
2587: CALL_OW 380
// hc_importance := 105 ;
2591: LD_ADDR_OWVAR 32
2595: PUSH
2596: LD_INT 105
2598: ST_TO_ADDR
// commander := false ;
2599: LD_ADDR_LOC 1
2603: PUSH
2604: LD_INT 0
2606: ST_TO_ADDR
// if Multiplayer then
2607: LD_OWVAR 4
2611: IFFALSE 2651
// begin hc_gallery := MULTIAVATARS ;
2613: LD_ADDR_OWVAR 33
2617: PUSH
2618: LD_STRING MULTIAVATARS
2620: ST_TO_ADDR
// hc_face_number := Multiplayer_GetPlayerSideNum ( uc_side ) ;
2621: LD_ADDR_OWVAR 34
2625: PUSH
2626: LD_OWVAR 20
2630: PPUSH
2631: CALL_OW 525
2635: ST_TO_ADDR
// hc_sex := Multiplayer_GetPlayerSex ( uc_side ) ;
2636: LD_ADDR_OWVAR 27
2640: PUSH
2641: LD_OWVAR 20
2645: PPUSH
2646: CALL_OW 526
2650: ST_TO_ADDR
// end ; end else
2651: GO 2716
// begin hc_name :=  ;
2653: LD_ADDR_OWVAR 26
2657: PUSH
2658: LD_STRING 
2660: ST_TO_ADDR
// PrepareHuman ( rand ( 1 , 2 ) , cl , skill_level ) ;
2661: LD_INT 1
2663: PPUSH
2664: LD_INT 2
2666: PPUSH
2667: CALL_OW 12
2671: PPUSH
2672: LD_VAR 0 2
2676: PPUSH
2677: LD_EXP 7
2681: PPUSH
2682: CALL_OW 380
// hc_importance := 0 ;
2686: LD_ADDR_OWVAR 32
2690: PUSH
2691: LD_INT 0
2693: ST_TO_ADDR
// if Multiplayer then
2694: LD_OWVAR 4
2698: IFFALSE 2716
// begin hc_gallery :=  ;
2700: LD_ADDR_OWVAR 33
2704: PUSH
2705: LD_STRING 
2707: ST_TO_ADDR
// hc_face_number := 0 ;
2708: LD_ADDR_OWVAR 34
2712: PUSH
2713: LD_INT 0
2715: ST_TO_ADDR
// end ; end ; un := CreateHuman ;
2716: LD_ADDR_VAR 0 9
2720: PUSH
2721: CALL_OW 44
2725: ST_TO_ADDR
// if global_defined then
2726: LD_LOC 3
2730: IFFALSE 2870
// begin if ( cl = class_soldier ) then
2732: LD_VAR 0 2
2736: PUSH
2737: LD_INT 1
2739: EQUAL
2740: IFFALSE 2760
// j := i + soldiers_created else
2742: LD_ADDR_VAR 0 8
2746: PUSH
2747: LD_VAR 0 7
2751: PUSH
2752: LD_LOC 4
2756: PLUS
2757: ST_TO_ADDR
2758: GO 2770
// j := i ;
2760: LD_ADDR_VAR 0 8
2764: PUSH
2765: LD_VAR 0 7
2769: ST_TO_ADDR
// CopySkills ( global_units [ cl ] [ j ] , un ) ;
2770: LD_LOC 2
2774: PUSH
2775: LD_VAR 0 2
2779: ARRAY
2780: PUSH
2781: LD_VAR 0 8
2785: ARRAY
2786: PPUSH
2787: LD_VAR 0 9
2791: PPUSH
2792: CALL_OW 510
// SetAttr ( un , attr_speed , GetAttr ( global_units [ cl ] [ j ] , attr_speed ) ) ;
2796: LD_VAR 0 9
2800: PPUSH
2801: LD_INT 2
2803: PPUSH
2804: LD_LOC 2
2808: PUSH
2809: LD_VAR 0 2
2813: ARRAY
2814: PUSH
2815: LD_VAR 0 8
2819: ARRAY
2820: PPUSH
2821: LD_INT 2
2823: PPUSH
2824: CALL_OW 260
2828: PPUSH
2829: CALL_OW 239
// SetAttr ( un , attr_stamina , GetAttr ( global_units [ cl ] [ j ] , attr_stamina ) ) ;
2833: LD_VAR 0 9
2837: PPUSH
2838: LD_INT 1
2840: PPUSH
2841: LD_LOC 2
2845: PUSH
2846: LD_VAR 0 2
2850: ARRAY
2851: PUSH
2852: LD_VAR 0 8
2856: ARRAY
2857: PPUSH
2858: LD_INT 1
2860: PPUSH
2861: CALL_OW 260
2865: PPUSH
2866: CALL_OW 239
// end ; PlaceUnitXYR ( un , x , y , r , false ) ;
2870: LD_VAR 0 9
2874: PPUSH
2875: LD_VAR 0 3
2879: PPUSH
2880: LD_VAR 0 4
2884: PPUSH
2885: LD_VAR 0 5
2889: PPUSH
2890: LD_INT 0
2892: PPUSH
2893: CALL_OW 50
// result := result ^ [ un ] ;
2897: LD_ADDR_VAR 0 6
2901: PUSH
2902: LD_VAR 0 6
2906: PUSH
2907: LD_VAR 0 9
2911: PUSH
2912: EMPTY
2913: LIST
2914: ADD
2915: ST_TO_ADDR
// end ;
2916: GO 2521
2918: POP
2919: POP
// if not global_defined then
2920: LD_LOC 3
2924: NOT
2925: IFFALSE 3003
// if ( global_units >= cl ) then
2927: LD_LOC 2
2931: PUSH
2932: LD_VAR 0 2
2936: GREATEREQUAL
2937: IFFALSE 2978
// global_units := Replace ( global_units , cl , global_units [ cl ] ^ result ) else
2939: LD_ADDR_LOC 2
2943: PUSH
2944: LD_LOC 2
2948: PPUSH
2949: LD_VAR 0 2
2953: PPUSH
2954: LD_LOC 2
2958: PUSH
2959: LD_VAR 0 2
2963: ARRAY
2964: PUSH
2965: LD_VAR 0 6
2969: ADD
2970: PPUSH
2971: CALL_OW 1
2975: ST_TO_ADDR
2976: GO 3003
// global_units := Replace ( global_units , cl , result ) ;
2978: LD_ADDR_LOC 2
2982: PUSH
2983: LD_LOC 2
2987: PPUSH
2988: LD_VAR 0 2
2992: PPUSH
2993: LD_VAR 0 6
2997: PPUSH
2998: CALL_OW 1
3002: ST_TO_ADDR
// end ;
3003: LD_VAR 0 6
3007: RET
// function prepare_side ( side , pos , nation ) ; var x , y , dir , i , r , sol , br , dep ; begin
3008: LD_INT 0
3010: PPUSH
3011: PPUSH
3012: PPUSH
3013: PPUSH
3014: PPUSH
3015: PPUSH
3016: PPUSH
3017: PPUSH
3018: PPUSH
// if side in [ 0 , 9 ] then
3019: LD_VAR 0 1
3023: PUSH
3024: LD_INT 0
3026: PUSH
3027: LD_INT 9
3029: PUSH
3030: EMPTY
3031: LIST
3032: LIST
3033: IN
3034: IFFALSE 3038
// exit ;
3036: GO 4293
// uc_nation := nation ;
3038: LD_ADDR_OWVAR 21
3042: PUSH
3043: LD_VAR 0 3
3047: ST_TO_ADDR
// uc_side := side ;
3048: LD_ADDR_OWVAR 20
3052: PUSH
3053: LD_VAR 0 1
3057: ST_TO_ADDR
// x := depot_def [ pos ] [ 1 ] ;
3058: LD_ADDR_VAR 0 5
3062: PUSH
3063: LD_EXP 22
3067: PUSH
3068: LD_VAR 0 2
3072: ARRAY
3073: PUSH
3074: LD_INT 1
3076: ARRAY
3077: ST_TO_ADDR
// y := depot_def [ pos ] [ 2 ] ;
3078: LD_ADDR_VAR 0 6
3082: PUSH
3083: LD_EXP 22
3087: PUSH
3088: LD_VAR 0 2
3092: ARRAY
3093: PUSH
3094: LD_INT 2
3096: ARRAY
3097: ST_TO_ADDR
// dir := depot_def [ pos ] [ 3 ] ;
3098: LD_ADDR_VAR 0 7
3102: PUSH
3103: LD_EXP 22
3107: PUSH
3108: LD_VAR 0 2
3112: ARRAY
3113: PUSH
3114: LD_INT 3
3116: ARRAY
3117: ST_TO_ADDR
// if is_depot then
3118: LD_EXP 4
3122: IFFALSE 3255
// begin bc_type = b_depot ;
3124: LD_ADDR_OWVAR 42
3128: PUSH
3129: LD_INT 0
3131: ST_TO_ADDR
// dep := CreateAndPlaceBuildingXYD ( x , y , dir ) ;
3132: LD_ADDR_VAR 0 12
3136: PUSH
3137: LD_VAR 0 5
3141: PPUSH
3142: LD_VAR 0 6
3146: PPUSH
3147: LD_VAR 0 7
3151: PPUSH
3152: CALL_OW 47
3156: ST_TO_ADDR
// SetBName ( dep , @ & side ) ;
3157: LD_VAR 0 12
3161: PPUSH
3162: LD_STRING @
3164: PUSH
3165: LD_VAR 0 1
3169: STR
3170: PPUSH
3171: CALL_OW 500
// SetResourceType ( GetBase ( dep ) , mat_cans , starting_resources [ mat_cans ] ) ;
3175: LD_VAR 0 12
3179: PPUSH
3180: CALL_OW 274
3184: PPUSH
3185: LD_INT 1
3187: PPUSH
3188: LD_EXP 9
3192: PUSH
3193: LD_INT 1
3195: ARRAY
3196: PPUSH
3197: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_oil , starting_resources [ mat_oil ] ) ;
3201: LD_VAR 0 12
3205: PPUSH
3206: CALL_OW 274
3210: PPUSH
3211: LD_INT 2
3213: PPUSH
3214: LD_EXP 9
3218: PUSH
3219: LD_INT 2
3221: ARRAY
3222: PPUSH
3223: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_siberit , starting_resources [ mat_siberit ] ) ;
3227: LD_VAR 0 12
3231: PPUSH
3232: CALL_OW 274
3236: PPUSH
3237: LD_INT 3
3239: PPUSH
3240: LD_EXP 9
3244: PUSH
3245: LD_INT 3
3247: ARRAY
3248: PPUSH
3249: CALL_OW 277
// end else
3253: GO 3399
// begin for i := 1 to 3 do
3255: LD_ADDR_VAR 0 8
3259: PUSH
3260: DOUBLE
3261: LD_INT 1
3263: DEC
3264: ST_TO_ADDR
3265: LD_INT 3
3267: PUSH
3268: FOR_TO
3269: IFFALSE 3397
// begin r := starting_resources [ i ] ;
3271: LD_ADDR_VAR 0 9
3275: PUSH
3276: LD_EXP 9
3280: PUSH
3281: LD_VAR 0 8
3285: ARRAY
3286: ST_TO_ADDR
// while r >= 10 do
3287: LD_VAR 0 9
3291: PUSH
3292: LD_INT 10
3294: GREATEREQUAL
3295: IFFALSE 3395
// if r > 50 then
3297: LD_VAR 0 9
3301: PUSH
3302: LD_INT 50
3304: GREATER
3305: IFFALSE 3351
// begin CreateResourcesXYR ( i , 5 , x , y , 4 , false ) ;
3307: LD_VAR 0 8
3311: PPUSH
3312: LD_INT 5
3314: PPUSH
3315: LD_VAR 0 5
3319: PPUSH
3320: LD_VAR 0 6
3324: PPUSH
3325: LD_INT 4
3327: PPUSH
3328: LD_INT 0
3330: PPUSH
3331: CALL_OW 60
// r := r - 50 ;
3335: LD_ADDR_VAR 0 9
3339: PUSH
3340: LD_VAR 0 9
3344: PUSH
3345: LD_INT 50
3347: MINUS
3348: ST_TO_ADDR
// end else
3349: GO 3393
// begin CreateResourcesXYR ( i , r div 10 , x , y , 4 , false ) ;
3351: LD_VAR 0 8
3355: PPUSH
3356: LD_VAR 0 9
3360: PUSH
3361: LD_INT 10
3363: DIV
3364: PPUSH
3365: LD_VAR 0 5
3369: PPUSH
3370: LD_VAR 0 6
3374: PPUSH
3375: LD_INT 4
3377: PPUSH
3378: LD_INT 0
3380: PPUSH
3381: CALL_OW 60
// r := 0 ;
3385: LD_ADDR_VAR 0 9
3389: PUSH
3390: LD_INT 0
3392: ST_TO_ADDR
// end ;
3393: GO 3287
// end ;
3395: GO 3268
3397: POP
3398: POP
// end ; if def_base_size > 0 then
3399: LD_EXP 1
3403: PUSH
3404: LD_INT 0
3406: GREATER
3407: IFFALSE 3482
// begin bc_kind1 := b_lab_basic ;
3409: LD_ADDR_OWVAR 44
3413: PUSH
3414: LD_INT 9
3416: ST_TO_ADDR
// bc_kind2 := b_lab_basic ;
3417: LD_ADDR_OWVAR 45
3421: PUSH
3422: LD_INT 9
3424: ST_TO_ADDR
// bc_type := b_lab ;
3425: LD_ADDR_OWVAR 42
3429: PUSH
3430: LD_INT 6
3432: ST_TO_ADDR
// CreateAndPlaceBuildingXYD ( labs_def [ pos ] [ 1 ] , labs_def [ pos ] [ 2 ] , labs_def [ pos ] [ 3 ] ) ;
3433: LD_EXP 24
3437: PUSH
3438: LD_VAR 0 2
3442: ARRAY
3443: PUSH
3444: LD_INT 1
3446: ARRAY
3447: PPUSH
3448: LD_EXP 24
3452: PUSH
3453: LD_VAR 0 2
3457: ARRAY
3458: PUSH
3459: LD_INT 2
3461: ARRAY
3462: PPUSH
3463: LD_EXP 24
3467: PUSH
3468: LD_VAR 0 2
3472: ARRAY
3473: PUSH
3474: LD_INT 3
3476: ARRAY
3477: PPUSH
3478: CALL_OW 47
// end ; if def_base_size > 1 then
3482: LD_EXP 1
3486: PUSH
3487: LD_INT 1
3489: GREATER
3490: IFFALSE 3549
// begin bc_type := b_workshop ;
3492: LD_ADDR_OWVAR 42
3496: PUSH
3497: LD_INT 2
3499: ST_TO_ADDR
// CreateAndPlaceBuildingXYD ( factory_def [ pos ] [ 1 ] , factory_def [ pos ] [ 2 ] , factory_def [ pos ] [ 3 ] ) ;
3500: LD_EXP 25
3504: PUSH
3505: LD_VAR 0 2
3509: ARRAY
3510: PUSH
3511: LD_INT 1
3513: ARRAY
3514: PPUSH
3515: LD_EXP 25
3519: PUSH
3520: LD_VAR 0 2
3524: ARRAY
3525: PUSH
3526: LD_INT 2
3528: ARRAY
3529: PPUSH
3530: LD_EXP 25
3534: PUSH
3535: LD_VAR 0 2
3539: ARRAY
3540: PUSH
3541: LD_INT 3
3543: ARRAY
3544: PPUSH
3545: CALL_OW 47
// end ; for r in starting_crates do
3549: LD_ADDR_VAR 0 9
3553: PUSH
3554: LD_EXP 8
3558: PUSH
3559: FOR_IN
3560: IFFALSE 3592
// CreateResourcesXYR ( mat_cans , 5 , x , y , r , false ) ;
3562: LD_INT 1
3564: PPUSH
3565: LD_INT 5
3567: PPUSH
3568: LD_VAR 0 5
3572: PPUSH
3573: LD_VAR 0 6
3577: PPUSH
3578: LD_VAR 0 9
3582: PPUSH
3583: LD_INT 0
3585: PPUSH
3586: CALL_OW 60
3590: GO 3559
3592: POP
3593: POP
// if def_morale_flags then
3594: LD_EXP 66
3598: IFFALSE 3737
// begin x := start_def [ pos ] [ 1 ] ;
3600: LD_ADDR_VAR 0 5
3604: PUSH
3605: LD_EXP 26
3609: PUSH
3610: LD_VAR 0 2
3614: ARRAY
3615: PUSH
3616: LD_INT 1
3618: ARRAY
3619: ST_TO_ADDR
// y := start_def [ pos ] [ 2 ] ;
3620: LD_ADDR_VAR 0 6
3624: PUSH
3625: LD_EXP 26
3629: PUSH
3630: LD_VAR 0 2
3634: ARRAY
3635: PUSH
3636: LD_INT 2
3638: ARRAY
3639: ST_TO_ADDR
// PlaceEnvironment ( x , y , 12 , 2 ) ;
3640: LD_VAR 0 5
3644: PPUSH
3645: LD_VAR 0 6
3649: PPUSH
3650: LD_INT 12
3652: PPUSH
3653: LD_INT 2
3655: PPUSH
3656: CALL_OW 349
// battle_flags_id := battle_flags_id ^ SetBattleFlag ( side , x , y , [ [ bfo_defend_bonus_human , 100 ] , [ bfo_defend_bonus_vehicle , 50 ] , [ bfo_defend_bonus_building , 20 ] , [ bfo_height , 100 ] ] ) ;
3660: LD_ADDR_EXP 29
3664: PUSH
3665: LD_EXP 29
3669: PUSH
3670: LD_VAR 0 1
3674: PPUSH
3675: LD_VAR 0 5
3679: PPUSH
3680: LD_VAR 0 6
3684: PPUSH
3685: LD_INT 1
3687: PUSH
3688: LD_INT 100
3690: PUSH
3691: EMPTY
3692: LIST
3693: LIST
3694: PUSH
3695: LD_INT 2
3697: PUSH
3698: LD_INT 50
3700: PUSH
3701: EMPTY
3702: LIST
3703: LIST
3704: PUSH
3705: LD_INT 3
3707: PUSH
3708: LD_INT 20
3710: PUSH
3711: EMPTY
3712: LIST
3713: LIST
3714: PUSH
3715: LD_INT 20
3717: PUSH
3718: LD_INT 100
3720: PUSH
3721: EMPTY
3722: LIST
3723: LIST
3724: PUSH
3725: EMPTY
3726: LIST
3727: LIST
3728: LIST
3729: LIST
3730: PPUSH
3731: CALL_OW 418
3735: ADD
3736: ST_TO_ADDR
// end ; commander := true ;
3737: LD_ADDR_LOC 1
3741: PUSH
3742: LD_INT 1
3744: ST_TO_ADDR
// soldiers_created := 0 ;
3745: LD_ADDR_LOC 4
3749: PUSH
3750: LD_INT 0
3752: ST_TO_ADDR
// for i := 1 to number_of_breastworks do
3753: LD_ADDR_VAR 0 8
3757: PUSH
3758: DOUBLE
3759: LD_INT 1
3761: DEC
3762: ST_TO_ADDR
3763: LD_EXP 5
3767: PUSH
3768: FOR_TO
3769: IFFALSE 4011
// begin x := breastworks_def [ pos ] [ i ] [ 1 ] ;
3771: LD_ADDR_VAR 0 5
3775: PUSH
3776: LD_EXP 23
3780: PUSH
3781: LD_VAR 0 2
3785: ARRAY
3786: PUSH
3787: LD_VAR 0 8
3791: ARRAY
3792: PUSH
3793: LD_INT 1
3795: ARRAY
3796: ST_TO_ADDR
// y := breastworks_def [ pos ] [ i ] [ 2 ] ;
3797: LD_ADDR_VAR 0 6
3801: PUSH
3802: LD_EXP 23
3806: PUSH
3807: LD_VAR 0 2
3811: ARRAY
3812: PUSH
3813: LD_VAR 0 8
3817: ARRAY
3818: PUSH
3819: LD_INT 2
3821: ARRAY
3822: ST_TO_ADDR
// dir := breastworks_def [ pos ] [ i ] [ 3 ] ;
3823: LD_ADDR_VAR 0 7
3827: PUSH
3828: LD_EXP 23
3832: PUSH
3833: LD_VAR 0 2
3837: ARRAY
3838: PUSH
3839: LD_VAR 0 8
3843: ARRAY
3844: PUSH
3845: LD_INT 3
3847: ARRAY
3848: ST_TO_ADDR
// if i < 4 then
3849: LD_VAR 0 8
3853: PUSH
3854: LD_INT 4
3856: LESS
3857: IFFALSE 3869
// bc_type := b_breastwork else
3859: LD_ADDR_OWVAR 42
3863: PUSH
3864: LD_INT 31
3866: ST_TO_ADDR
3867: GO 3877
// bc_type := b_armoury ;
3869: LD_ADDR_OWVAR 42
3873: PUSH
3874: LD_INT 4
3876: ST_TO_ADDR
// br := CreateAndPlaceBuildingXYD ( x , y , dir ) ;
3877: LD_ADDR_VAR 0 11
3881: PUSH
3882: LD_VAR 0 5
3886: PPUSH
3887: LD_VAR 0 6
3891: PPUSH
3892: LD_VAR 0 7
3896: PPUSH
3897: CALL_OW 47
3901: ST_TO_ADDR
// x := ShiftX ( x , dir , 2 ) ;
3902: LD_ADDR_VAR 0 5
3906: PUSH
3907: LD_VAR 0 5
3911: PPUSH
3912: LD_VAR 0 7
3916: PPUSH
3917: LD_INT 2
3919: PPUSH
3920: CALL_OW 272
3924: ST_TO_ADDR
// y := ShiftY ( y , dir , 2 ) ;
3925: LD_ADDR_VAR 0 6
3929: PUSH
3930: LD_VAR 0 6
3934: PPUSH
3935: LD_VAR 0 7
3939: PPUSH
3940: LD_INT 2
3942: PPUSH
3943: CALL_OW 273
3947: ST_TO_ADDR
// sol := prepare_people ( 1 , class_soldier , x , y , 0 ) [ 1 ] ;
3948: LD_ADDR_VAR 0 10
3952: PUSH
3953: LD_INT 1
3955: PPUSH
3956: LD_INT 1
3958: PPUSH
3959: LD_VAR 0 5
3963: PPUSH
3964: LD_VAR 0 6
3968: PPUSH
3969: LD_INT 0
3971: PPUSH
3972: CALL 2493 0 5
3976: PUSH
3977: LD_INT 1
3979: ARRAY
3980: ST_TO_ADDR
// soldiers_created := soldiers_created + 1 ;
3981: LD_ADDR_LOC 4
3985: PUSH
3986: LD_LOC 4
3990: PUSH
3991: LD_INT 1
3993: PLUS
3994: ST_TO_ADDR
// ComEnterUnit ( sol , br ) ;
3995: LD_VAR 0 10
3999: PPUSH
4000: LD_VAR 0 11
4004: PPUSH
4005: CALL_OW 120
// end ;
4009: GO 3768
4011: POP
4012: POP
// x := start_def [ pos ] [ 1 ] ;
4013: LD_ADDR_VAR 0 5
4017: PUSH
4018: LD_EXP 26
4022: PUSH
4023: LD_VAR 0 2
4027: ARRAY
4028: PUSH
4029: LD_INT 1
4031: ARRAY
4032: ST_TO_ADDR
// y := start_def [ pos ] [ 2 ] ;
4033: LD_ADDR_VAR 0 6
4037: PUSH
4038: LD_EXP 26
4042: PUSH
4043: LD_VAR 0 2
4047: ARRAY
4048: PUSH
4049: LD_INT 2
4051: ARRAY
4052: ST_TO_ADDR
// prepare_people ( nsol - number_of_breastworks , class_soldier , x , y , 5 ) ;
4053: LD_LOC 8
4057: PUSH
4058: LD_EXP 5
4062: MINUS
4063: PPUSH
4064: LD_INT 1
4066: PPUSH
4067: LD_VAR 0 5
4071: PPUSH
4072: LD_VAR 0 6
4076: PPUSH
4077: LD_INT 5
4079: PPUSH
4080: CALL 2493 0 5
// prepare_people ( neng , class_engineer , x , y , 5 ) ;
4084: LD_LOC 5
4088: PPUSH
4089: LD_INT 2
4091: PPUSH
4092: LD_VAR 0 5
4096: PPUSH
4097: LD_VAR 0 6
4101: PPUSH
4102: LD_INT 5
4104: PPUSH
4105: CALL 2493 0 5
// prepare_people ( nmech , class_mechanic , x , y , 5 ) ;
4109: LD_LOC 7
4113: PPUSH
4114: LD_INT 3
4116: PPUSH
4117: LD_VAR 0 5
4121: PPUSH
4122: LD_VAR 0 6
4126: PPUSH
4127: LD_INT 5
4129: PPUSH
4130: CALL 2493 0 5
// prepare_people ( nsci , class_scientistic , x , y , 5 ) ;
4134: LD_LOC 6
4138: PPUSH
4139: LD_INT 4
4141: PPUSH
4142: LD_VAR 0 5
4146: PPUSH
4147: LD_VAR 0 6
4151: PPUSH
4152: LD_INT 5
4154: PPUSH
4155: CALL 2493 0 5
// if def_siberite_detection and GetTech ( tech_sibdet , side ) = state_enabled then
4159: LD_EXP 67
4163: PUSH
4164: LD_INT 20
4166: PPUSH
4167: LD_VAR 0 1
4171: PPUSH
4172: CALL_OW 321
4176: PUSH
4177: LD_INT 1
4179: EQUAL
4180: AND
4181: IFFALSE 4198
// SetTech ( tech_SibDet , side , state_researched ) ;
4183: LD_INT 20
4185: PPUSH
4186: LD_VAR 0 1
4190: PPUSH
4191: LD_INT 2
4193: PPUSH
4194: CALL_OW 322
// if def_siberite_bomb = 1 then
4198: LD_EXP 70
4202: PUSH
4203: LD_INT 1
4205: EQUAL
4206: IFFALSE 4240
// begin SetTech ( tech_SibFiss , side , state_enabled ) ;
4208: LD_INT 25
4210: PPUSH
4211: LD_VAR 0 1
4215: PPUSH
4216: LD_INT 1
4218: PPUSH
4219: CALL_OW 322
// SetTech ( 73 , side , state_enabled ) ;
4223: LD_INT 73
4225: PPUSH
4226: LD_VAR 0 1
4230: PPUSH
4231: LD_INT 1
4233: PPUSH
4234: CALL_OW 322
// end else
4238: GO 4270
// begin SetTech ( tech_SibFiss , side , state_disabled ) ;
4240: LD_INT 25
4242: PPUSH
4243: LD_VAR 0 1
4247: PPUSH
4248: LD_INT 0
4250: PPUSH
4251: CALL_OW 322
// SetTech ( 73 , side , state_disabled ) ;
4255: LD_INT 73
4257: PPUSH
4258: LD_VAR 0 1
4262: PPUSH
4263: LD_INT 0
4265: PPUSH
4266: CALL_OW 322
// end ; SetTech ( tech_artifact , side , state_disabled ) ;
4270: LD_INT 24
4272: PPUSH
4273: LD_VAR 0 1
4277: PPUSH
4278: LD_INT 0
4280: PPUSH
4281: CALL_OW 322
// global_defined := true ;
4285: LD_ADDR_LOC 3
4289: PUSH
4290: LD_INT 1
4292: ST_TO_ADDR
// end ;
4293: LD_VAR 0 4
4297: RET
// every 0 0$1 do
4298: GO 4300
4300: DISABLE
// if ( def_siberite_bomb > 1 ) then
4301: LD_EXP 70
4305: PUSH
4306: LD_INT 1
4308: GREATER
4309: IFFALSE 4324
// begin wait ( siberite_bomb_Delay ) ;
4311: LD_EXP 15
4315: PPUSH
4316: CALL_OW 67
// EnableSibFiss ;
4320: CALL 4325 0 0
// end ;
4324: END
// function EnableSibFiss ; var i ; begin
4325: LD_INT 0
4327: PPUSH
4328: PPUSH
// for i := 1 to 8 do
4329: LD_ADDR_VAR 0 2
4333: PUSH
4334: DOUBLE
4335: LD_INT 1
4337: DEC
4338: ST_TO_ADDR
4339: LD_INT 8
4341: PUSH
4342: FOR_TO
4343: IFFALSE 4389
// if Side_Positions [ i ] then
4345: LD_EXP 18
4349: PUSH
4350: LD_VAR 0 2
4354: ARRAY
4355: IFFALSE 4387
// begin SetTech ( tech_SibFiss , i , state_enabled ) ;
4357: LD_INT 25
4359: PPUSH
4360: LD_VAR 0 2
4364: PPUSH
4365: LD_INT 1
4367: PPUSH
4368: CALL_OW 322
// SetTech ( 73 , i , state_enabled ) ;
4372: LD_INT 73
4374: PPUSH
4375: LD_VAR 0 2
4379: PPUSH
4380: LD_INT 1
4382: PPUSH
4383: CALL_OW 322
// end ;
4387: GO 4342
4389: POP
4390: POP
// end ;
4391: LD_VAR 0 1
4395: RET
// function prepare_sides ; var i , orig , pos ; begin
4396: LD_INT 0
4398: PPUSH
4399: PPUSH
4400: PPUSH
4401: PPUSH
// global_units := [ ] ;
4402: LD_ADDR_LOC 2
4406: PUSH
4407: EMPTY
4408: ST_TO_ADDR
// global_defined := false ;
4409: LD_ADDR_LOC 3
4413: PUSH
4414: LD_INT 0
4416: ST_TO_ADDR
// CountClassMembers ;
4417: CALL 4936 0 0
// for i := 1 to 8 do
4421: LD_ADDR_VAR 0 2
4425: PUSH
4426: DOUBLE
4427: LD_INT 1
4429: DEC
4430: ST_TO_ADDR
4431: LD_INT 8
4433: PUSH
4434: FOR_TO
4435: IFFALSE 4635
// if Side_Positions [ i ] then
4437: LD_EXP 18
4441: PUSH
4442: LD_VAR 0 2
4446: ARRAY
4447: IFFALSE 4633
// begin pos := Side_Positions [ i ] ;
4449: LD_ADDR_VAR 0 4
4453: PUSH
4454: LD_EXP 18
4458: PUSH
4459: LD_VAR 0 2
4463: ARRAY
4464: ST_TO_ADDR
// if Game_Type in [ 2 , 12 ] then
4465: LD_EXP 56
4469: PUSH
4470: LD_INT 2
4472: PUSH
4473: LD_INT 12
4475: PUSH
4476: EMPTY
4477: LIST
4478: LIST
4479: IN
4480: IFFALSE 4608
// begin if Game_Type = 12 then
4482: LD_EXP 56
4486: PUSH
4487: LD_INT 12
4489: EQUAL
4490: IFFALSE 4552
// begin prepare_side ( i , pos , Position_Nations [ pos ] ) ;
4492: LD_VAR 0 2
4496: PPUSH
4497: LD_VAR 0 4
4501: PPUSH
4502: LD_EXP 21
4506: PUSH
4507: LD_VAR 0 4
4511: ARRAY
4512: PPUSH
4513: CALL 3008 0 3
// prepare_side ( i , pos + 1 , Position_Nations [ pos + 1 ] ) end else
4517: LD_VAR 0 2
4521: PPUSH
4522: LD_VAR 0 4
4526: PUSH
4527: LD_INT 1
4529: PLUS
4530: PPUSH
4531: LD_EXP 21
4535: PUSH
4536: LD_VAR 0 4
4540: PUSH
4541: LD_INT 1
4543: PLUS
4544: ARRAY
4545: PPUSH
4546: CALL 3008 0 3
4550: GO 4606
// begin prepare_side ( i , pos , Side_Nations [ i ] ) ;
4552: LD_VAR 0 2
4556: PPUSH
4557: LD_VAR 0 4
4561: PPUSH
4562: LD_EXP 19
4566: PUSH
4567: LD_VAR 0 2
4571: ARRAY
4572: PPUSH
4573: CALL 3008 0 3
// prepare_side ( i , pos + 1 , Side_Nations [ i ] ) ;
4577: LD_VAR 0 2
4581: PPUSH
4582: LD_VAR 0 4
4586: PUSH
4587: LD_INT 1
4589: PLUS
4590: PPUSH
4591: LD_EXP 19
4595: PUSH
4596: LD_VAR 0 2
4600: ARRAY
4601: PPUSH
4602: CALL 3008 0 3
// end ; end else
4606: GO 4633
// prepare_side ( i , pos , Side_Nations [ i ] ) ;
4608: LD_VAR 0 2
4612: PPUSH
4613: LD_VAR 0 4
4617: PPUSH
4618: LD_EXP 19
4622: PUSH
4623: LD_VAR 0 2
4627: ARRAY
4628: PPUSH
4629: CALL 3008 0 3
// end ;
4633: GO 4434
4635: POP
4636: POP
// end ;
4637: LD_VAR 0 1
4641: RET
// function Modify_Nations ; var list , west , east , i ; begin
4642: LD_INT 0
4644: PPUSH
4645: PPUSH
4646: PPUSH
4647: PPUSH
4648: PPUSH
// list := [ ] ;
4649: LD_ADDR_VAR 0 2
4653: PUSH
4654: EMPTY
4655: ST_TO_ADDR
// for i = 1 to side_positions + 0 do
4656: LD_ADDR_VAR 0 5
4660: PUSH
4661: DOUBLE
4662: LD_INT 1
4664: DEC
4665: ST_TO_ADDR
4666: LD_EXP 18
4670: PUSH
4671: LD_INT 0
4673: PLUS
4674: PUSH
4675: FOR_TO
4676: IFFALSE 4894
// if side_positions [ i ] = 1 then
4678: LD_EXP 18
4682: PUSH
4683: LD_VAR 0 5
4687: ARRAY
4688: PUSH
4689: LD_INT 1
4691: EQUAL
4692: IFFALSE 4786
// case side_nations [ i ] of 1 :
4694: LD_EXP 19
4698: PUSH
4699: LD_VAR 0 5
4703: ARRAY
4704: PUSH
4705: LD_INT 1
4707: DOUBLE
4708: EQUAL
4709: IFTRUE 4713
4711: GO 4731
4713: POP
// west := [ 1 , 2 ] ; 2 :
4714: LD_ADDR_VAR 0 3
4718: PUSH
4719: LD_INT 1
4721: PUSH
4722: LD_INT 2
4724: PUSH
4725: EMPTY
4726: LIST
4727: LIST
4728: ST_TO_ADDR
4729: GO 4784
4731: LD_INT 2
4733: DOUBLE
4734: EQUAL
4735: IFTRUE 4739
4737: GO 4757
4739: POP
// west := [ 2 , 3 ] ; 3 :
4740: LD_ADDR_VAR 0 3
4744: PUSH
4745: LD_INT 2
4747: PUSH
4748: LD_INT 3
4750: PUSH
4751: EMPTY
4752: LIST
4753: LIST
4754: ST_TO_ADDR
4755: GO 4784
4757: LD_INT 3
4759: DOUBLE
4760: EQUAL
4761: IFTRUE 4765
4763: GO 4783
4765: POP
// west := [ 3 , 1 ] ; end else
4766: LD_ADDR_VAR 0 3
4770: PUSH
4771: LD_INT 3
4773: PUSH
4774: LD_INT 1
4776: PUSH
4777: EMPTY
4778: LIST
4779: LIST
4780: ST_TO_ADDR
4781: GO 4784
4783: POP
4784: GO 4892
// if side_positions [ i ] = 3 then
4786: LD_EXP 18
4790: PUSH
4791: LD_VAR 0 5
4795: ARRAY
4796: PUSH
4797: LD_INT 3
4799: EQUAL
4800: IFFALSE 4892
// case side_nations [ i ] of 1 :
4802: LD_EXP 19
4806: PUSH
4807: LD_VAR 0 5
4811: ARRAY
4812: PUSH
4813: LD_INT 1
4815: DOUBLE
4816: EQUAL
4817: IFTRUE 4821
4819: GO 4839
4821: POP
// east := [ 1 , 2 ] ; 2 :
4822: LD_ADDR_VAR 0 4
4826: PUSH
4827: LD_INT 1
4829: PUSH
4830: LD_INT 2
4832: PUSH
4833: EMPTY
4834: LIST
4835: LIST
4836: ST_TO_ADDR
4837: GO 4892
4839: LD_INT 2
4841: DOUBLE
4842: EQUAL
4843: IFTRUE 4847
4845: GO 4865
4847: POP
// east := [ 2 , 3 ] ; 3 :
4848: LD_ADDR_VAR 0 4
4852: PUSH
4853: LD_INT 2
4855: PUSH
4856: LD_INT 3
4858: PUSH
4859: EMPTY
4860: LIST
4861: LIST
4862: ST_TO_ADDR
4863: GO 4892
4865: LD_INT 3
4867: DOUBLE
4868: EQUAL
4869: IFTRUE 4873
4871: GO 4891
4873: POP
// east := [ 3 , 1 ] ; end ;
4874: LD_ADDR_VAR 0 4
4878: PUSH
4879: LD_INT 3
4881: PUSH
4882: LD_INT 1
4884: PUSH
4885: EMPTY
4886: LIST
4887: LIST
4888: ST_TO_ADDR
4889: GO 4892
4891: POP
4892: GO 4675
4894: POP
4895: POP
// Position_Nations := west ^ east ^ [ 0 , 0 , 0 , 0 ] ;
4896: LD_ADDR_EXP 21
4900: PUSH
4901: LD_VAR 0 3
4905: PUSH
4906: LD_VAR 0 4
4910: ADD
4911: PUSH
4912: LD_INT 0
4914: PUSH
4915: LD_INT 0
4917: PUSH
4918: LD_INT 0
4920: PUSH
4921: LD_INT 0
4923: PUSH
4924: EMPTY
4925: LIST
4926: LIST
4927: LIST
4928: LIST
4929: ADD
4930: ST_TO_ADDR
// end ;
4931: LD_VAR 0 1
4935: RET
// function CountClassMembers ; var Mode ; begin
4936: LD_INT 0
4938: PPUSH
4939: PPUSH
// if No_Mechs then
4940: LD_EXP 72
4944: IFFALSE 4956
// Mode := 2 else
4946: LD_ADDR_VAR 0 2
4950: PUSH
4951: LD_INT 2
4953: ST_TO_ADDR
4954: GO 4964
// Mode := 1 ;
4956: LD_ADDR_VAR 0 2
4960: PUSH
4961: LD_INT 1
4963: ST_TO_ADDR
// neng := number_of_people ;
4964: LD_ADDR_LOC 5
4968: PUSH
4969: LD_EXP 6
4973: ST_TO_ADDR
// nsol := neng div [ 4 , 3 ] [ Mode ] ;
4974: LD_ADDR_LOC 8
4978: PUSH
4979: LD_LOC 5
4983: PUSH
4984: LD_INT 4
4986: PUSH
4987: LD_INT 3
4989: PUSH
4990: EMPTY
4991: LIST
4992: LIST
4993: PUSH
4994: LD_VAR 0 2
4998: ARRAY
4999: DIV
5000: ST_TO_ADDR
// if ( nsol < number_of_breastworks ) then
5001: LD_LOC 8
5005: PUSH
5006: LD_EXP 5
5010: LESS
5011: IFFALSE 5023
// nsol := number_of_breastworks ;
5013: LD_ADDR_LOC 8
5017: PUSH
5018: LD_EXP 5
5022: ST_TO_ADDR
// neng := neng - nsol ;
5023: LD_ADDR_LOC 5
5027: PUSH
5028: LD_LOC 5
5032: PUSH
5033: LD_LOC 8
5037: MINUS
5038: ST_TO_ADDR
// nsci := neng div [ 3 , 2 ] [ Mode ] ;
5039: LD_ADDR_LOC 6
5043: PUSH
5044: LD_LOC 5
5048: PUSH
5049: LD_INT 3
5051: PUSH
5052: LD_INT 2
5054: PUSH
5055: EMPTY
5056: LIST
5057: LIST
5058: PUSH
5059: LD_VAR 0 2
5063: ARRAY
5064: DIV
5065: ST_TO_ADDR
// if ( nsci < 1 ) then
5066: LD_LOC 6
5070: PUSH
5071: LD_INT 1
5073: LESS
5074: IFFALSE 5084
// nsci := 1 ;
5076: LD_ADDR_LOC 6
5080: PUSH
5081: LD_INT 1
5083: ST_TO_ADDR
// neng := neng - nsci ;
5084: LD_ADDR_LOC 5
5088: PUSH
5089: LD_LOC 5
5093: PUSH
5094: LD_LOC 6
5098: MINUS
5099: ST_TO_ADDR
// nmech := [ neng div 2 , 0 ] [ Mode ] ;
5100: LD_ADDR_LOC 7
5104: PUSH
5105: LD_LOC 5
5109: PUSH
5110: LD_INT 2
5112: DIV
5113: PUSH
5114: LD_INT 0
5116: PUSH
5117: EMPTY
5118: LIST
5119: LIST
5120: PUSH
5121: LD_VAR 0 2
5125: ARRAY
5126: ST_TO_ADDR
// neng := neng - nmech ;
5127: LD_ADDR_LOC 5
5131: PUSH
5132: LD_LOC 5
5136: PUSH
5137: LD_LOC 7
5141: MINUS
5142: ST_TO_ADDR
// if ( neng < 1 ) then
5143: LD_LOC 5
5147: PUSH
5148: LD_INT 1
5150: LESS
5151: IFFALSE 5161
// neng := 1 ;
5153: LD_ADDR_LOC 5
5157: PUSH
5158: LD_INT 1
5160: ST_TO_ADDR
// end ;
5161: LD_VAR 0 1
5165: RET
// function Init_Win_Condition ; begin
5166: LD_INT 0
5168: PPUSH
// disable ( 98 ) ;
5169: LD_INT 98
5171: DISABLE_MARKED
// disable ( 99 ) ;
5172: LD_INT 99
5174: DISABLE_MARKED
// if Team_Game then
5175: LD_EXP 20
5179: IFFALSE 5186
// enable ( 98 ) else
5181: LD_INT 98
5183: ENABLE_MARKED
5184: GO 5189
// enable ( 99 ) ;
5186: LD_INT 99
5188: ENABLE_MARKED
// end ;
5189: LD_VAR 0 1
5193: RET
// starting begin DE_Triggers ;
5194: CALL 8664 0 0
// mp_selectmsg := true ;
5198: LD_ADDR_OWVAR 13
5202: PUSH
5203: LD_INT 1
5205: ST_TO_ADDR
// if ( game_type <> 1 ) and ( game_type <> 3 ) then
5206: LD_EXP 56
5210: PUSH
5211: LD_INT 1
5213: NONEQUAL
5214: PUSH
5215: LD_EXP 56
5219: PUSH
5220: LD_INT 3
5222: NONEQUAL
5223: AND
5224: IFFALSE 5230
// read_multiplayer_and_game_parameters ;
5226: CALL 976 0 0
// case Game_Type of 1 , 3 :
5230: LD_EXP 56
5234: PUSH
5235: LD_INT 1
5237: DOUBLE
5238: EQUAL
5239: IFTRUE 5249
5241: LD_INT 3
5243: DOUBLE
5244: EQUAL
5245: IFTRUE 5249
5247: GO 5261
5249: POP
// begin enable ( 19 ) ;
5250: LD_INT 19
5252: ENABLE_MARKED
// starting_ctf ;
5253: CALL 9303 0 0
// exit ;
5257: GO 5429
// end ; 12 :
5259: GO 5277
5261: LD_INT 12
5263: DOUBLE
5264: EQUAL
5265: IFTRUE 5269
5267: GO 5276
5269: POP
// Modify_Nations ; end ;
5270: CALL 4642 0 0
5274: GO 5277
5276: POP
// enable ( 55 ) ;
5277: LD_INT 55
5279: ENABLE_MARKED
// AnimateTrees ( true ) ;
5280: LD_INT 1
5282: PPUSH
5283: CALL_OW 573
// init_map ;
5287: CALL 276 0 0
// set_shared_visions_and_alliances ;
5291: CALL 2184 0 0
// prepare_sides ;
5295: CALL 4396 0 0
// InitLimits ;
5299: CALL 18057 0 0
// ShowTimer ;
5303: CALL 18994 0 0
// init_shipments ;
5307: CALL 5430 0 0
// init_respawn ;
5311: CALL 5934 0 0
// InitApeman ;
5315: CALL 7469 0 0
// music_nat := Side_Nations [ your_side ] ;
5319: LD_ADDR_OWVAR 71
5323: PUSH
5324: LD_EXP 19
5328: PUSH
5329: LD_OWVAR 2
5333: ARRAY
5334: ST_TO_ADDR
// if IAmSpec then
5335: CALL_OW 531
5339: IFFALSE 5375
// begin PlaceSeeing ( 0 , 0 , Your_Side , - 32767 ) ;
5341: LD_INT 0
5343: PPUSH
5344: LD_INT 0
5346: PPUSH
5347: LD_OWVAR 2
5351: PPUSH
5352: LD_INT 32767
5354: NEG
5355: PPUSH
5356: CALL_OW 330
// CenterNowOnXY ( 104 , 69 ) ;
5360: LD_INT 104
5362: PPUSH
5363: LD_INT 69
5365: PPUSH
5366: CALL_OW 86
// enable ( 400 ) ;
5370: LD_INT 400
5372: ENABLE_MARKED
// end else
5373: GO 5429
// begin ResetFog ;
5375: CALL_OW 335
// CenterNowOnXY ( start_def [ Side_Positions [ your_side ] ] [ 1 ] , start_def [ Side_Positions [ your_side ] ] [ 2 ] ) ;
5379: LD_EXP 26
5383: PUSH
5384: LD_EXP 18
5388: PUSH
5389: LD_OWVAR 2
5393: ARRAY
5394: ARRAY
5395: PUSH
5396: LD_INT 1
5398: ARRAY
5399: PPUSH
5400: LD_EXP 26
5404: PUSH
5405: LD_EXP 18
5409: PUSH
5410: LD_OWVAR 2
5414: ARRAY
5415: ARRAY
5416: PUSH
5417: LD_INT 2
5419: ARRAY
5420: PPUSH
5421: CALL_OW 86
// Init_Win_Condition ;
5425: CALL 5166 0 0
// end ; end ; end_of_file
5429: END
// var shipment , tictac ; export function init_shipments ; begin
5430: LD_INT 0
5432: PPUSH
// shipment := Rand ( 0 , 1 ) ;
5433: LD_ADDR_LOC 9
5437: PUSH
5438: LD_INT 0
5440: PPUSH
5441: LD_INT 1
5443: PPUSH
5444: CALL_OW 12
5448: ST_TO_ADDR
// tictac := 0 ;
5449: LD_ADDR_LOC 10
5453: PUSH
5454: LD_INT 0
5456: ST_TO_ADDR
// end ;
5457: LD_VAR 0 1
5461: RET
// every 0 0$5 + 0 0$1.1 marked 55 do var d ;
5462: GO 5464
5464: DISABLE
5465: LD_INT 0
5467: PPUSH
// begin case tick of 1 .. 1 1$0 :
5468: LD_OWVAR 1
5472: PUSH
5473: LD_INT 1
5475: DOUBLE
5476: GREATEREQUAL
5477: IFFALSE 5485
5479: LD_INT 2100
5481: DOUBLE
5482: LESSEQUAL
5483: IFTRUE 5487
5485: GO 5498
5487: POP
// d := 150 ; 1 1$0 + 1 .. 5 5$0 :
5488: LD_ADDR_VAR 0 1
5492: PUSH
5493: LD_INT 150
5495: ST_TO_ADDR
5496: GO 5681
5498: LD_INT 2100
5500: PUSH
5501: LD_INT 1
5503: PLUS
5504: DOUBLE
5505: GREATEREQUAL
5506: IFFALSE 5514
5508: LD_INT 10500
5510: DOUBLE
5511: LESSEQUAL
5512: IFTRUE 5516
5514: GO 5527
5516: POP
// d := 100 ; 5 5$0 + 1 .. 10 10$0 :
5517: LD_ADDR_VAR 0 1
5521: PUSH
5522: LD_INT 100
5524: ST_TO_ADDR
5525: GO 5681
5527: LD_INT 10500
5529: PUSH
5530: LD_INT 1
5532: PLUS
5533: DOUBLE
5534: GREATEREQUAL
5535: IFFALSE 5543
5537: LD_INT 21000
5539: DOUBLE
5540: LESSEQUAL
5541: IFTRUE 5545
5543: GO 5556
5545: POP
// d := 90 ; 10 10$0 + 1 .. 20 20$0 :
5546: LD_ADDR_VAR 0 1
5550: PUSH
5551: LD_INT 90
5553: ST_TO_ADDR
5554: GO 5681
5556: LD_INT 21000
5558: PUSH
5559: LD_INT 1
5561: PLUS
5562: DOUBLE
5563: GREATEREQUAL
5564: IFFALSE 5572
5566: LD_INT 42000
5568: DOUBLE
5569: LESSEQUAL
5570: IFTRUE 5574
5572: GO 5585
5574: POP
// d := 70 ; 20 20$0 + 1 .. 30 30$0 :
5575: LD_ADDR_VAR 0 1
5579: PUSH
5580: LD_INT 70
5582: ST_TO_ADDR
5583: GO 5681
5585: LD_INT 42000
5587: PUSH
5588: LD_INT 1
5590: PLUS
5591: DOUBLE
5592: GREATEREQUAL
5593: IFFALSE 5601
5595: LD_INT 63000
5597: DOUBLE
5598: LESSEQUAL
5599: IFTRUE 5603
5601: GO 5614
5603: POP
// d := 60 ; 30 30$0 + 1 .. 50 50$0 :
5604: LD_ADDR_VAR 0 1
5608: PUSH
5609: LD_INT 60
5611: ST_TO_ADDR
5612: GO 5681
5614: LD_INT 63000
5616: PUSH
5617: LD_INT 1
5619: PLUS
5620: DOUBLE
5621: GREATEREQUAL
5622: IFFALSE 5630
5624: LD_INT 105000
5626: DOUBLE
5627: LESSEQUAL
5628: IFTRUE 5632
5630: GO 5643
5632: POP
// d := 35 ; 50 50$0 + 1 .. 300 300$0 :
5633: LD_ADDR_VAR 0 1
5637: PUSH
5638: LD_INT 35
5640: ST_TO_ADDR
5641: GO 5681
5643: LD_INT 105000
5645: PUSH
5646: LD_INT 1
5648: PLUS
5649: DOUBLE
5650: GREATEREQUAL
5651: IFFALSE 5659
5653: LD_INT 630000
5655: DOUBLE
5656: LESSEQUAL
5657: IFTRUE 5661
5659: GO 5672
5661: POP
// d := 20 ; else
5662: LD_ADDR_VAR 0 1
5666: PUSH
5667: LD_INT 20
5669: ST_TO_ADDR
5670: GO 5681
5672: POP
// d := 0 ; end ;
5673: LD_ADDR_VAR 0 1
5677: PUSH
5678: LD_INT 0
5680: ST_TO_ADDR
// if rand ( 1 , 10000 ) <= d * shipments_density then
5681: LD_INT 1
5683: PPUSH
5684: LD_INT 10000
5686: PPUSH
5687: CALL_OW 12
5691: PUSH
5692: LD_VAR 0 1
5696: PUSH
5697: LD_EXP 10
5701: MUL
5702: LESSEQUAL
5703: IFFALSE 5757
// begin wait ( Rand ( 1 , 0 0$4 ) ) ;
5705: LD_INT 1
5707: PPUSH
5708: LD_INT 140
5710: PPUSH
5711: CALL_OW 12
5715: PPUSH
5716: CALL_OW 67
// shipment := ( shipment + 1 ) mod 2 ;
5720: LD_ADDR_LOC 9
5724: PUSH
5725: LD_LOC 9
5729: PUSH
5730: LD_INT 1
5732: PLUS
5733: PUSH
5734: LD_INT 2
5736: MOD
5737: ST_TO_ADDR
// CreateCratesArea ( 5 , west_side + shipment , true ) ;
5738: LD_INT 5
5740: PPUSH
5741: LD_INT 8
5743: PUSH
5744: LD_LOC 9
5748: PLUS
5749: PPUSH
5750: LD_INT 1
5752: PPUSH
5753: CALL_OW 55
// end ; enable ;
5757: ENABLE
// end ;
5758: PPOPN 1
5760: END
// every 0 0$10 trigger TICK > ( ( 2 2$0 * tictac ) + tictac * ( 1 1$30 - shipments_density * ( 0 0$2 ) ) ) marked 55 do var i , amount , is_in ;
5761: LD_OWVAR 1
5765: PUSH
5766: LD_INT 4200
5768: PUSH
5769: LD_LOC 10
5773: MUL
5774: PUSH
5775: LD_LOC 10
5779: PUSH
5780: LD_INT 3150
5782: PUSH
5783: LD_EXP 10
5787: PUSH
5788: LD_INT 70
5790: MUL
5791: MINUS
5792: MUL
5793: PLUS
5794: GREATER
5795: IFFALSE 5931
5797: GO 5799
5799: DISABLE
5800: LD_INT 0
5802: PPUSH
5803: PPUSH
5804: PPUSH
// begin tictac := tictac + 1 ;
5805: LD_ADDR_LOC 10
5809: PUSH
5810: LD_LOC 10
5814: PUSH
5815: LD_INT 1
5817: PLUS
5818: ST_TO_ADDR
// amount := Rand ( 3 , 5 ) ;
5819: LD_ADDR_VAR 0 2
5823: PUSH
5824: LD_INT 3
5826: PPUSH
5827: LD_INT 5
5829: PPUSH
5830: CALL_OW 12
5834: ST_TO_ADDR
// for i = 0 to 3 do
5835: LD_ADDR_VAR 0 1
5839: PUSH
5840: DOUBLE
5841: LD_INT 0
5843: DEC
5844: ST_TO_ADDR
5845: LD_INT 3
5847: PUSH
5848: FOR_TO
5849: IFFALSE 5928
// begin is_in := GetResourceArea ( west_side + i , mat_cans ) ;
5851: LD_ADDR_VAR 0 3
5855: PUSH
5856: LD_INT 8
5858: PUSH
5859: LD_VAR 0 1
5863: PLUS
5864: PPUSH
5865: LD_INT 1
5867: PPUSH
5868: CALL_OW 287
5872: ST_TO_ADDR
// if ( is_in < 500 ) or ( Rand ( 1 , 10 ) > ( is_in div 100 ) ) then
5873: LD_VAR 0 3
5877: PUSH
5878: LD_INT 500
5880: LESS
5881: PUSH
5882: LD_INT 1
5884: PPUSH
5885: LD_INT 10
5887: PPUSH
5888: CALL_OW 12
5892: PUSH
5893: LD_VAR 0 3
5897: PUSH
5898: LD_INT 100
5900: DIV
5901: GREATER
5902: OR
5903: IFFALSE 5926
// CreateCratesArea ( amount , nw + i , true ) ;
5905: LD_VAR 0 2
5909: PPUSH
5910: LD_INT 12
5912: PUSH
5913: LD_VAR 0 1
5917: PLUS
5918: PPUSH
5919: LD_INT 1
5921: PPUSH
5922: CALL_OW 55
// end ;
5926: GO 5848
5928: POP
5929: POP
// enable ;
5930: ENABLE
// end ; end_of_file
5931: PPOPN 3
5933: END
// var respawn_queue , nation_queue ; export function init_respawn ; begin
5934: LD_INT 0
5936: PPUSH
// if not def_people_respawning then
5937: LD_EXP 68
5941: NOT
5942: IFFALSE 5946
// exit ;
5944: GO 6049
// respawn_queue := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
5946: LD_ADDR_LOC 11
5950: PUSH
5951: LD_INT 0
5953: PUSH
5954: LD_INT 0
5956: PUSH
5957: LD_INT 0
5959: PUSH
5960: LD_INT 0
5962: PUSH
5963: LD_INT 0
5965: PUSH
5966: LD_INT 0
5968: PUSH
5969: LD_INT 0
5971: PUSH
5972: LD_INT 0
5974: PUSH
5975: EMPTY
5976: LIST
5977: LIST
5978: LIST
5979: LIST
5980: LIST
5981: LIST
5982: LIST
5983: LIST
5984: ST_TO_ADDR
// nation_queue := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
5985: LD_ADDR_LOC 12
5989: PUSH
5990: LD_INT 0
5992: PUSH
5993: LD_INT 0
5995: PUSH
5996: LD_INT 0
5998: PUSH
5999: LD_INT 0
6001: PUSH
6002: LD_INT 0
6004: PUSH
6005: LD_INT 0
6007: PUSH
6008: LD_INT 0
6010: PUSH
6011: LD_INT 0
6013: PUSH
6014: EMPTY
6015: LIST
6016: LIST
6017: LIST
6018: LIST
6019: LIST
6020: LIST
6021: LIST
6022: LIST
6023: ST_TO_ADDR
// if Game_Type in [ 2 , 12 ] then
6024: LD_EXP 56
6028: PUSH
6029: LD_INT 2
6031: PUSH
6032: LD_INT 12
6034: PUSH
6035: EMPTY
6036: LIST
6037: LIST
6038: IN
6039: IFFALSE 6046
// enable ( 41 ) else
6041: LD_INT 41
6043: ENABLE_MARKED
6044: GO 6049
// enable ( 40 ) ;
6046: LD_INT 40
6048: ENABLE_MARKED
// end ;
6049: LD_VAR 0 1
6053: RET
// every 0 0$10 marked 40 do var list , time , side ;
6054: GO 6056
6056: DISABLE
6057: LD_INT 0
6059: PPUSH
6060: PPUSH
6061: PPUSH
// begin for side = 1 to Side_Positions do
6062: LD_ADDR_VAR 0 3
6066: PUSH
6067: DOUBLE
6068: LD_INT 1
6070: DEC
6071: ST_TO_ADDR
6072: LD_EXP 18
6076: PUSH
6077: FOR_TO
6078: IFFALSE 6255
// if Side_Positions [ side ] then
6080: LD_EXP 18
6084: PUSH
6085: LD_VAR 0 3
6089: ARRAY
6090: IFFALSE 6253
// begin list := FilterAllUnits ( [ [ f_side , side ] , [ f_type , unit_human ] , f_not , [ f_nation , nation_nature ] ] ) ;
6092: LD_ADDR_VAR 0 1
6096: PUSH
6097: LD_INT 22
6099: PUSH
6100: LD_VAR 0 3
6104: PUSH
6105: EMPTY
6106: LIST
6107: LIST
6108: PUSH
6109: LD_INT 21
6111: PUSH
6112: LD_INT 1
6114: PUSH
6115: EMPTY
6116: LIST
6117: LIST
6118: PUSH
6119: LD_INT 3
6121: PUSH
6122: LD_INT 23
6124: PUSH
6125: LD_INT 0
6127: PUSH
6128: EMPTY
6129: LIST
6130: LIST
6131: PUSH
6132: EMPTY
6133: LIST
6134: LIST
6135: LIST
6136: LIST
6137: PPUSH
6138: CALL_OW 69
6142: ST_TO_ADDR
// if ( list < number_of_people ) and ( not respawn_queue [ side ] ) then
6143: LD_VAR 0 1
6147: PUSH
6148: LD_EXP 6
6152: LESS
6153: PUSH
6154: LD_LOC 11
6158: PUSH
6159: LD_VAR 0 3
6163: ARRAY
6164: NOT
6165: AND
6166: IFFALSE 6193
// respawn_queue := Replace ( respawn_queue , side , TICK ) ;
6168: LD_ADDR_LOC 11
6172: PUSH
6173: LD_LOC 11
6177: PPUSH
6178: LD_VAR 0 3
6182: PPUSH
6183: LD_OWVAR 1
6187: PPUSH
6188: CALL_OW 1
6192: ST_TO_ADDR
// time := TICK - respawn_queue [ side ] ;
6193: LD_ADDR_VAR 0 2
6197: PUSH
6198: LD_OWVAR 1
6202: PUSH
6203: LD_LOC 11
6207: PUSH
6208: LD_VAR 0 3
6212: ARRAY
6213: MINUS
6214: ST_TO_ADDR
// if ( respawn_queue [ side ] ) and ( time > respawning_time_min ) then
6215: LD_LOC 11
6219: PUSH
6220: LD_VAR 0 3
6224: ARRAY
6225: PUSH
6226: LD_VAR 0 2
6230: PUSH
6231: LD_EXP 13
6235: GREATER
6236: AND
6237: IFFALSE 6253
// respawn_character ( side , time ) ;
6239: LD_VAR 0 3
6243: PPUSH
6244: LD_VAR 0 2
6248: PPUSH
6249: CALL 6261 0 2
// end ;
6253: GO 6077
6255: POP
6256: POP
// enable ;
6257: ENABLE
// end ;
6258: PPOPN 3
6260: END
// function respawn_character ( side , time ) ; var dep ; begin
6261: LD_INT 0
6263: PPUSH
6264: PPUSH
// if Rand ( 0 , 1 ) and ( time < respawning_time_max ) then
6265: LD_INT 0
6267: PPUSH
6268: LD_INT 1
6270: PPUSH
6271: CALL_OW 12
6275: PUSH
6276: LD_VAR 0 2
6280: PUSH
6281: LD_EXP 14
6285: LESS
6286: AND
6287: IFFALSE 6291
// exit ;
6289: GO 6498
// dep := FilterAllUnits ( [ [ f_side , side ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_ok ] ] ) ;
6291: LD_ADDR_VAR 0 4
6295: PUSH
6296: LD_INT 22
6298: PUSH
6299: LD_VAR 0 1
6303: PUSH
6304: EMPTY
6305: LIST
6306: LIST
6307: PUSH
6308: LD_INT 2
6310: PUSH
6311: LD_INT 30
6313: PUSH
6314: LD_INT 0
6316: PUSH
6317: EMPTY
6318: LIST
6319: LIST
6320: PUSH
6321: LD_INT 30
6323: PUSH
6324: LD_INT 1
6326: PUSH
6327: EMPTY
6328: LIST
6329: LIST
6330: PUSH
6331: EMPTY
6332: LIST
6333: LIST
6334: LIST
6335: PUSH
6336: LD_INT 50
6338: PUSH
6339: EMPTY
6340: LIST
6341: PUSH
6342: EMPTY
6343: LIST
6344: LIST
6345: LIST
6346: PPUSH
6347: CALL_OW 69
6351: ST_TO_ADDR
// if not dep then
6352: LD_VAR 0 4
6356: NOT
6357: IFFALSE 6363
// exit else
6359: GO 6498
6361: GO 6387
// dep := dep [ Rand ( 1 , dep ) ] ;
6363: LD_ADDR_VAR 0 4
6367: PUSH
6368: LD_VAR 0 4
6372: PUSH
6373: LD_INT 1
6375: PPUSH
6376: LD_VAR 0 4
6380: PPUSH
6381: CALL_OW 12
6385: ARRAY
6386: ST_TO_ADDR
// uc_side := side ;
6387: LD_ADDR_OWVAR 20
6391: PUSH
6392: LD_VAR 0 1
6396: ST_TO_ADDR
// uc_nation := Side_Nations [ side ] ;
6397: LD_ADDR_OWVAR 21
6401: PUSH
6402: LD_EXP 19
6406: PUSH
6407: LD_VAR 0 1
6411: ARRAY
6412: ST_TO_ADDR
// PrepareHuman ( 0 , 0 , skill_level div 2 ) ;
6413: LD_INT 0
6415: PPUSH
6416: LD_INT 0
6418: PPUSH
6419: LD_EXP 7
6423: PUSH
6424: LD_INT 2
6426: DIV
6427: PPUSH
6428: CALL_OW 380
// hc_importance := 0 ;
6432: LD_ADDR_OWVAR 32
6436: PUSH
6437: LD_INT 0
6439: ST_TO_ADDR
// PlaceUnitXYR ( CreateHuman , GetX ( dep ) , GetY ( dep ) , 10 , true ) ;
6440: CALL_OW 44
6444: PPUSH
6445: LD_VAR 0 4
6449: PPUSH
6450: CALL_OW 250
6454: PPUSH
6455: LD_VAR 0 4
6459: PPUSH
6460: CALL_OW 251
6464: PPUSH
6465: LD_INT 10
6467: PPUSH
6468: LD_INT 1
6470: PPUSH
6471: CALL_OW 50
// respawn_queue := Replace ( respawn_queue , side , 0 ) ;
6475: LD_ADDR_LOC 11
6479: PUSH
6480: LD_LOC 11
6484: PPUSH
6485: LD_VAR 0 1
6489: PPUSH
6490: LD_INT 0
6492: PPUSH
6493: CALL_OW 1
6497: ST_TO_ADDR
// end ;
6498: LD_VAR 0 3
6502: RET
// every 0 0$10 marked 41 do var i , list , time , nation , side , limit ;
6503: GO 6505
6505: DISABLE
6506: LD_INT 0
6508: PPUSH
6509: PPUSH
6510: PPUSH
6511: PPUSH
6512: PPUSH
6513: PPUSH
// begin if Game_Type = 12 then
6514: LD_EXP 56
6518: PUSH
6519: LD_INT 12
6521: EQUAL
6522: IFFALSE 6536
// limit := number_of_people else
6524: LD_ADDR_VAR 0 6
6528: PUSH
6529: LD_EXP 6
6533: ST_TO_ADDR
6534: GO 6550
// limit := 2 * number_of_people ;
6536: LD_ADDR_VAR 0 6
6540: PUSH
6541: LD_INT 2
6543: PUSH
6544: LD_EXP 6
6548: MUL
6549: ST_TO_ADDR
// for i = 1 to 4 do
6550: LD_ADDR_VAR 0 1
6554: PUSH
6555: DOUBLE
6556: LD_INT 1
6558: DEC
6559: ST_TO_ADDR
6560: LD_INT 4
6562: PUSH
6563: FOR_TO
6564: IFFALSE 6856
// begin side := GetSidePositions ( [ 1 , 1 , 3 , 3 ] [ i ] ) ;
6566: LD_ADDR_VAR 0 5
6570: PUSH
6571: LD_INT 1
6573: PUSH
6574: LD_INT 1
6576: PUSH
6577: LD_INT 3
6579: PUSH
6580: LD_INT 3
6582: PUSH
6583: EMPTY
6584: LIST
6585: LIST
6586: LIST
6587: LIST
6588: PUSH
6589: LD_VAR 0 1
6593: ARRAY
6594: PPUSH
6595: CALL 7198 0 1
6599: ST_TO_ADDR
// if Game_Type = 12 then
6600: LD_EXP 56
6604: PUSH
6605: LD_INT 12
6607: EQUAL
6608: IFFALSE 6628
// nation := Position_Nations [ i ] else
6610: LD_ADDR_VAR 0 4
6614: PUSH
6615: LD_EXP 21
6619: PUSH
6620: LD_VAR 0 1
6624: ARRAY
6625: ST_TO_ADDR
6626: GO 6644
// nation := Side_Nations [ side ] ;
6628: LD_ADDR_VAR 0 4
6632: PUSH
6633: LD_EXP 19
6637: PUSH
6638: LD_VAR 0 5
6642: ARRAY
6643: ST_TO_ADDR
// list := FilterAllUnits ( [ [ f_side , side ] , [ f_nation , nation ] , [ f_type , unit_human ] , f_not , [ f_nation , nation_nature ] ] ) ;
6644: LD_ADDR_VAR 0 2
6648: PUSH
6649: LD_INT 22
6651: PUSH
6652: LD_VAR 0 5
6656: PUSH
6657: EMPTY
6658: LIST
6659: LIST
6660: PUSH
6661: LD_INT 23
6663: PUSH
6664: LD_VAR 0 4
6668: PUSH
6669: EMPTY
6670: LIST
6671: LIST
6672: PUSH
6673: LD_INT 21
6675: PUSH
6676: LD_INT 1
6678: PUSH
6679: EMPTY
6680: LIST
6681: LIST
6682: PUSH
6683: LD_INT 3
6685: PUSH
6686: LD_INT 23
6688: PUSH
6689: LD_INT 0
6691: PUSH
6692: EMPTY
6693: LIST
6694: LIST
6695: PUSH
6696: EMPTY
6697: LIST
6698: LIST
6699: LIST
6700: LIST
6701: LIST
6702: PPUSH
6703: CALL_OW 69
6707: ST_TO_ADDR
// if ( list < limit ) and ( not respawn_queue [ side ] ) then
6708: LD_VAR 0 2
6712: PUSH
6713: LD_VAR 0 6
6717: LESS
6718: PUSH
6719: LD_LOC 11
6723: PUSH
6724: LD_VAR 0 5
6728: ARRAY
6729: NOT
6730: AND
6731: IFFALSE 6783
// begin respawn_queue = Replace ( respawn_queue , side , TICK ) ;
6733: LD_ADDR_LOC 11
6737: PUSH
6738: LD_LOC 11
6742: PPUSH
6743: LD_VAR 0 5
6747: PPUSH
6748: LD_OWVAR 1
6752: PPUSH
6753: CALL_OW 1
6757: ST_TO_ADDR
// nation_queue = Replace ( nation_queue , side , nation ) ;
6758: LD_ADDR_LOC 12
6762: PUSH
6763: LD_LOC 12
6767: PPUSH
6768: LD_VAR 0 5
6772: PPUSH
6773: LD_VAR 0 4
6777: PPUSH
6778: CALL_OW 1
6782: ST_TO_ADDR
// end ; time := TICK - respawn_queue [ side ] ;
6783: LD_ADDR_VAR 0 3
6787: PUSH
6788: LD_OWVAR 1
6792: PUSH
6793: LD_LOC 11
6797: PUSH
6798: LD_VAR 0 5
6802: ARRAY
6803: MINUS
6804: ST_TO_ADDR
// if ( respawn_queue [ side ] ) and ( time > respawning_time_min ) then
6805: LD_LOC 11
6809: PUSH
6810: LD_VAR 0 5
6814: ARRAY
6815: PUSH
6816: LD_VAR 0 3
6820: PUSH
6821: LD_EXP 13
6825: GREATER
6826: AND
6827: IFFALSE 6854
// respawn_character_nation ( side , time , nation_queue [ side ] ) ;
6829: LD_VAR 0 5
6833: PPUSH
6834: LD_VAR 0 3
6838: PPUSH
6839: LD_LOC 12
6843: PUSH
6844: LD_VAR 0 5
6848: ARRAY
6849: PPUSH
6850: CALL 6862 0 3
// end ;
6854: GO 6563
6856: POP
6857: POP
// enable ;
6858: ENABLE
// end ;
6859: PPOPN 6
6861: END
// function respawn_character_nation ( side , time , nation ) ; var dep ; begin
6862: LD_INT 0
6864: PPUSH
6865: PPUSH
// if Rand ( 0 , 1 ) and ( time < respawning_time_max ) then
6866: LD_INT 0
6868: PPUSH
6869: LD_INT 1
6871: PPUSH
6872: CALL_OW 12
6876: PUSH
6877: LD_VAR 0 2
6881: PUSH
6882: LD_EXP 14
6886: LESS
6887: AND
6888: IFFALSE 6892
// exit ;
6890: GO 7193
// dep := FilterAllUnits ( [ [ f_side , side ] , [ f_nation , nation ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_ok ] ] ) ;
6892: LD_ADDR_VAR 0 5
6896: PUSH
6897: LD_INT 22
6899: PUSH
6900: LD_VAR 0 1
6904: PUSH
6905: EMPTY
6906: LIST
6907: LIST
6908: PUSH
6909: LD_INT 23
6911: PUSH
6912: LD_VAR 0 3
6916: PUSH
6917: EMPTY
6918: LIST
6919: LIST
6920: PUSH
6921: LD_INT 2
6923: PUSH
6924: LD_INT 30
6926: PUSH
6927: LD_INT 0
6929: PUSH
6930: EMPTY
6931: LIST
6932: LIST
6933: PUSH
6934: LD_INT 30
6936: PUSH
6937: LD_INT 1
6939: PUSH
6940: EMPTY
6941: LIST
6942: LIST
6943: PUSH
6944: EMPTY
6945: LIST
6946: LIST
6947: LIST
6948: PUSH
6949: LD_INT 50
6951: PUSH
6952: EMPTY
6953: LIST
6954: PUSH
6955: EMPTY
6956: LIST
6957: LIST
6958: LIST
6959: LIST
6960: PPUSH
6961: CALL_OW 69
6965: ST_TO_ADDR
// if not dep then
6966: LD_VAR 0 5
6970: NOT
6971: IFFALSE 7034
// dep := FilterAllUnits ( [ [ f_side , side ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_ok ] ] ) ;
6973: LD_ADDR_VAR 0 5
6977: PUSH
6978: LD_INT 22
6980: PUSH
6981: LD_VAR 0 1
6985: PUSH
6986: EMPTY
6987: LIST
6988: LIST
6989: PUSH
6990: LD_INT 2
6992: PUSH
6993: LD_INT 30
6995: PUSH
6996: LD_INT 0
6998: PUSH
6999: EMPTY
7000: LIST
7001: LIST
7002: PUSH
7003: LD_INT 30
7005: PUSH
7006: LD_INT 1
7008: PUSH
7009: EMPTY
7010: LIST
7011: LIST
7012: PUSH
7013: EMPTY
7014: LIST
7015: LIST
7016: LIST
7017: PUSH
7018: LD_INT 50
7020: PUSH
7021: EMPTY
7022: LIST
7023: PUSH
7024: EMPTY
7025: LIST
7026: LIST
7027: LIST
7028: PPUSH
7029: CALL_OW 69
7033: ST_TO_ADDR
// if not dep then
7034: LD_VAR 0 5
7038: NOT
7039: IFFALSE 7045
// exit else
7041: GO 7193
7043: GO 7069
// dep := dep [ Rand ( 1 , dep ) ] ;
7045: LD_ADDR_VAR 0 5
7049: PUSH
7050: LD_VAR 0 5
7054: PUSH
7055: LD_INT 1
7057: PPUSH
7058: LD_VAR 0 5
7062: PPUSH
7063: CALL_OW 12
7067: ARRAY
7068: ST_TO_ADDR
// uc_side := side ;
7069: LD_ADDR_OWVAR 20
7073: PUSH
7074: LD_VAR 0 1
7078: ST_TO_ADDR
// uc_nation := nation ;
7079: LD_ADDR_OWVAR 21
7083: PUSH
7084: LD_VAR 0 3
7088: ST_TO_ADDR
// PrepareHuman ( 0 , 0 , skill_level ) ;
7089: LD_INT 0
7091: PPUSH
7092: LD_INT 0
7094: PPUSH
7095: LD_EXP 7
7099: PPUSH
7100: CALL_OW 380
// hc_importance := 0 ;
7104: LD_ADDR_OWVAR 32
7108: PUSH
7109: LD_INT 0
7111: ST_TO_ADDR
// PlaceUnitXYR ( CreateHuman , GetX ( dep ) , GetY ( dep ) , 10 , true ) ;
7112: CALL_OW 44
7116: PPUSH
7117: LD_VAR 0 5
7121: PPUSH
7122: CALL_OW 250
7126: PPUSH
7127: LD_VAR 0 5
7131: PPUSH
7132: CALL_OW 251
7136: PPUSH
7137: LD_INT 10
7139: PPUSH
7140: LD_INT 1
7142: PPUSH
7143: CALL_OW 50
// respawn_queue := Replace ( respawn_queue , side , 0 ) ;
7147: LD_ADDR_LOC 11
7151: PUSH
7152: LD_LOC 11
7156: PPUSH
7157: LD_VAR 0 1
7161: PPUSH
7162: LD_INT 0
7164: PPUSH
7165: CALL_OW 1
7169: ST_TO_ADDR
// nation_queue := Replace ( nation_queue , side , 0 ) ;
7170: LD_ADDR_LOC 12
7174: PUSH
7175: LD_LOC 12
7179: PPUSH
7180: LD_VAR 0 1
7184: PPUSH
7185: LD_INT 0
7187: PPUSH
7188: CALL_OW 1
7192: ST_TO_ADDR
// end ;
7193: LD_VAR 0 4
7197: RET
// function GetSidePositions ( i ) ; var un , side ; begin
7198: LD_INT 0
7200: PPUSH
7201: PPUSH
7202: PPUSH
// side := false ;
7203: LD_ADDR_VAR 0 4
7207: PUSH
7208: LD_INT 0
7210: ST_TO_ADDR
// for un = 1 to Side_Positions do
7211: LD_ADDR_VAR 0 3
7215: PUSH
7216: DOUBLE
7217: LD_INT 1
7219: DEC
7220: ST_TO_ADDR
7221: LD_EXP 18
7225: PUSH
7226: FOR_TO
7227: IFFALSE 7261
// if Side_Positions [ un ] = i then
7229: LD_EXP 18
7233: PUSH
7234: LD_VAR 0 3
7238: ARRAY
7239: PUSH
7240: LD_VAR 0 1
7244: EQUAL
7245: IFFALSE 7259
// begin side := un ;
7247: LD_ADDR_VAR 0 4
7251: PUSH
7252: LD_VAR 0 3
7256: ST_TO_ADDR
// break ;
7257: GO 7261
// end ;
7259: GO 7226
7261: POP
7262: POP
// result := side ;
7263: LD_ADDR_VAR 0 2
7267: PUSH
7268: LD_VAR 0 4
7272: ST_TO_ADDR
// end ; end_of_file
7273: LD_VAR 0 2
7277: RET
// every 20 20$00 trigger apemanNumber do
7278: LD_EXP 30
7282: IFFALSE 7315
7284: GO 7286
7286: DISABLE
// begin enable ;
7287: ENABLE
// if apeLevel >= 8 then
7288: LD_EXP 35
7292: PUSH
7293: LD_INT 8
7295: GREATEREQUAL
7296: IFFALSE 7301
// disable else
7298: DISABLE
7299: GO 7315
// apeLevel := apeLevel + 1 ;
7301: LD_ADDR_EXP 35
7305: PUSH
7306: LD_EXP 35
7310: PUSH
7311: LD_INT 1
7313: PLUS
7314: ST_TO_ADDR
// end ;
7315: END
// every 2 2$30 trigger apemanNumber < apemanLimit do var i , ape , pos , j ;
7316: LD_EXP 30
7320: PUSH
7321: LD_EXP 31
7325: LESS
7326: IFFALSE 7466
7328: GO 7330
7330: DISABLE
7331: LD_INT 0
7333: PPUSH
7334: PPUSH
7335: PPUSH
7336: PPUSH
// begin enable ;
7337: ENABLE
// for i := 1 to apemanPos do
7338: LD_ADDR_VAR 0 1
7342: PUSH
7343: DOUBLE
7344: LD_INT 1
7346: DEC
7347: ST_TO_ADDR
7348: LD_EXP 33
7352: PUSH
7353: FOR_TO
7354: IFFALSE 7464
// begin if apemanPlayerCount [ i ] then
7356: LD_EXP 34
7360: PUSH
7361: LD_VAR 0 1
7365: ARRAY
7366: IFFALSE 7462
// begin if apemanPlayerCount [ i ] > apemanPos [ i ] then
7368: LD_EXP 34
7372: PUSH
7373: LD_VAR 0 1
7377: ARRAY
7378: PUSH
7379: LD_EXP 33
7383: PUSH
7384: LD_VAR 0 1
7388: ARRAY
7389: GREATER
7390: IFFALSE 7462
// begin ape := PrepareApeman ;
7392: LD_ADDR_VAR 0 2
7396: PUSH
7397: CALL 7961 0 0
7401: ST_TO_ADDR
// PlaceUnitArea ( ape , apeAreas [ i ] , false ) ;
7402: LD_VAR 0 2
7406: PPUSH
7407: LD_EXP 36
7411: PUSH
7412: LD_VAR 0 1
7416: ARRAY
7417: PPUSH
7418: LD_INT 0
7420: PPUSH
7421: CALL_OW 49
// apemanPos := Replace ( apemanPos , i , apemanPos [ i ] union ape ) ;
7425: LD_ADDR_EXP 33
7429: PUSH
7430: LD_EXP 33
7434: PPUSH
7435: LD_VAR 0 1
7439: PPUSH
7440: LD_EXP 33
7444: PUSH
7445: LD_VAR 0 1
7449: ARRAY
7450: PUSH
7451: LD_VAR 0 2
7455: UNION
7456: PPUSH
7457: CALL_OW 1
7461: ST_TO_ADDR
// end ; end ; end ;
7462: GO 7353
7464: POP
7465: POP
// end ;
7466: PPOPN 4
7468: END
// export apemanNumber , apemanLimit , apemanPerPlayer , apemanPos , apemanPlayerCount , apeLevel , apeAreas ; export function InitApeman ; var i , playersAmount , j , ape , pos , _apeAreas ; begin
7469: LD_INT 0
7471: PPUSH
7472: PPUSH
7473: PPUSH
7474: PPUSH
7475: PPUSH
7476: PPUSH
7477: PPUSH
// playersAmount := 0 ;
7478: LD_ADDR_VAR 0 3
7482: PUSH
7483: LD_INT 0
7485: ST_TO_ADDR
// _apeAreas := [ Base1ApeArea , Base2ApeArea , ] ;
7486: LD_ADDR_VAR 0 7
7490: PUSH
7491: LD_INT 18
7493: PUSH
7494: LD_INT 19
7496: PUSH
7497: EMPTY
7498: LIST
7499: LIST
7500: ST_TO_ADDR
// apeAreas := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
7501: LD_ADDR_EXP 36
7505: PUSH
7506: LD_INT 0
7508: PUSH
7509: LD_INT 0
7511: PUSH
7512: LD_INT 0
7514: PUSH
7515: LD_INT 0
7517: PUSH
7518: LD_INT 0
7520: PUSH
7521: LD_INT 0
7523: PUSH
7524: LD_INT 0
7526: PUSH
7527: LD_INT 0
7529: PUSH
7530: EMPTY
7531: LIST
7532: LIST
7533: LIST
7534: LIST
7535: LIST
7536: LIST
7537: LIST
7538: LIST
7539: ST_TO_ADDR
// for j = 1 to Side_Positions do
7540: LD_ADDR_VAR 0 4
7544: PUSH
7545: DOUBLE
7546: LD_INT 1
7548: DEC
7549: ST_TO_ADDR
7550: LD_EXP 18
7554: PUSH
7555: FOR_TO
7556: IFFALSE 7623
// if Side_Positions [ j ] then
7558: LD_EXP 18
7562: PUSH
7563: LD_VAR 0 4
7567: ARRAY
7568: IFFALSE 7621
// begin playersAmount := playersAmount + 1 ;
7570: LD_ADDR_VAR 0 3
7574: PUSH
7575: LD_VAR 0 3
7579: PUSH
7580: LD_INT 1
7582: PLUS
7583: ST_TO_ADDR
// apeAreas := Replace ( apeAreas , j , _apeAreas [ Side_Positions [ j ] ] ) ;
7584: LD_ADDR_EXP 36
7588: PUSH
7589: LD_EXP 36
7593: PPUSH
7594: LD_VAR 0 4
7598: PPUSH
7599: LD_VAR 0 7
7603: PUSH
7604: LD_EXP 18
7608: PUSH
7609: LD_VAR 0 4
7613: ARRAY
7614: ARRAY
7615: PPUSH
7616: CALL_OW 1
7620: ST_TO_ADDR
// end ;
7621: GO 7555
7623: POP
7624: POP
// apemanPerPlayer := 3 * amount_of_apemen ;
7625: LD_ADDR_EXP 32
7629: PUSH
7630: LD_INT 3
7632: PUSH
7633: LD_EXP 12
7637: MUL
7638: ST_TO_ADDR
// apemanNumber := playersAmount * apemanPerPlayer ;
7639: LD_ADDR_EXP 30
7643: PUSH
7644: LD_VAR 0 3
7648: PUSH
7649: LD_EXP 32
7653: MUL
7654: ST_TO_ADDR
// apemanLimit := apemanNumber ;
7655: LD_ADDR_EXP 31
7659: PUSH
7660: LD_EXP 30
7664: ST_TO_ADDR
// apemanPos := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
7665: LD_ADDR_EXP 33
7669: PUSH
7670: LD_INT 0
7672: PUSH
7673: LD_INT 0
7675: PUSH
7676: LD_INT 0
7678: PUSH
7679: LD_INT 0
7681: PUSH
7682: LD_INT 0
7684: PUSH
7685: LD_INT 0
7687: PUSH
7688: LD_INT 0
7690: PUSH
7691: LD_INT 0
7693: PUSH
7694: EMPTY
7695: LIST
7696: LIST
7697: LIST
7698: LIST
7699: LIST
7700: LIST
7701: LIST
7702: LIST
7703: ST_TO_ADDR
// apemanPlayerCount := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
7704: LD_ADDR_EXP 34
7708: PUSH
7709: LD_INT 0
7711: PUSH
7712: LD_INT 0
7714: PUSH
7715: LD_INT 0
7717: PUSH
7718: LD_INT 0
7720: PUSH
7721: LD_INT 0
7723: PUSH
7724: LD_INT 0
7726: PUSH
7727: LD_INT 0
7729: PUSH
7730: LD_INT 0
7732: PUSH
7733: EMPTY
7734: LIST
7735: LIST
7736: LIST
7737: LIST
7738: LIST
7739: LIST
7740: LIST
7741: LIST
7742: ST_TO_ADDR
// apeLevel := 1 ;
7743: LD_ADDR_EXP 35
7747: PUSH
7748: LD_INT 1
7750: ST_TO_ADDR
// if not apemanNumber then
7751: LD_EXP 30
7755: NOT
7756: IFFALSE 7760
// exit ;
7758: GO 7956
// for i := 1 to apemanPerPlayer do
7760: LD_ADDR_VAR 0 2
7764: PUSH
7765: DOUBLE
7766: LD_INT 1
7768: DEC
7769: ST_TO_ADDR
7770: LD_EXP 32
7774: PUSH
7775: FOR_TO
7776: IFFALSE 7954
// begin for j := 1 to Side_Positions do
7778: LD_ADDR_VAR 0 4
7782: PUSH
7783: DOUBLE
7784: LD_INT 1
7786: DEC
7787: ST_TO_ADDR
7788: LD_EXP 18
7792: PUSH
7793: FOR_TO
7794: IFFALSE 7950
// if Side_Positions [ j ] then
7796: LD_EXP 18
7800: PUSH
7801: LD_VAR 0 4
7805: ARRAY
7806: IFFALSE 7948
// begin pos := Side_Positions [ j ] ;
7808: LD_ADDR_VAR 0 6
7812: PUSH
7813: LD_EXP 18
7817: PUSH
7818: LD_VAR 0 4
7822: ARRAY
7823: ST_TO_ADDR
// apemanPlayerCount := Replace ( apemanPlayerCount , j , apemanPlayerCount [ j ] + 1 ) ;
7824: LD_ADDR_EXP 34
7828: PUSH
7829: LD_EXP 34
7833: PPUSH
7834: LD_VAR 0 4
7838: PPUSH
7839: LD_EXP 34
7843: PUSH
7844: LD_VAR 0 4
7848: ARRAY
7849: PUSH
7850: LD_INT 1
7852: PLUS
7853: PPUSH
7854: CALL_OW 1
7858: ST_TO_ADDR
// ape := PrepareApeman ;
7859: LD_ADDR_VAR 0 5
7863: PUSH
7864: CALL 7961 0 0
7868: ST_TO_ADDR
// apemanPos := Replace ( apemanPos , j , Replace ( apemanPos [ j ] , apemanPos [ j ] + 1 , ape ) ) ;
7869: LD_ADDR_EXP 33
7873: PUSH
7874: LD_EXP 33
7878: PPUSH
7879: LD_VAR 0 4
7883: PPUSH
7884: LD_EXP 33
7888: PUSH
7889: LD_VAR 0 4
7893: ARRAY
7894: PPUSH
7895: LD_EXP 33
7899: PUSH
7900: LD_VAR 0 4
7904: ARRAY
7905: PUSH
7906: LD_INT 1
7908: PLUS
7909: PPUSH
7910: LD_VAR 0 5
7914: PPUSH
7915: CALL_OW 1
7919: PPUSH
7920: CALL_OW 1
7924: ST_TO_ADDR
// PlaceUnitArea ( ape , apeAreas [ j ] , false ) ;
7925: LD_VAR 0 5
7929: PPUSH
7930: LD_EXP 36
7934: PUSH
7935: LD_VAR 0 4
7939: ARRAY
7940: PPUSH
7941: LD_INT 0
7943: PPUSH
7944: CALL_OW 49
// end ;
7948: GO 7793
7950: POP
7951: POP
// end ;
7952: GO 7775
7954: POP
7955: POP
// end ;
7956: LD_VAR 0 1
7960: RET
// export function PrepareApeman ; var bonus ; begin
7961: LD_INT 0
7963: PPUSH
7964: PPUSH
// uc_side := 0 ;
7965: LD_ADDR_OWVAR 20
7969: PUSH
7970: LD_INT 0
7972: ST_TO_ADDR
// uc_nation := 0 ;
7973: LD_ADDR_OWVAR 21
7977: PUSH
7978: LD_INT 0
7980: ST_TO_ADDR
// InitHc ;
7981: CALL_OW 19
// bonus := [ - 1 , 0 , 1 ] [ FilterAllUnits ( [ f_class , class_apeman ] ) mod 3 + 1 ] ;
7985: LD_ADDR_VAR 0 2
7989: PUSH
7990: LD_INT 1
7992: NEG
7993: PUSH
7994: LD_INT 0
7996: PUSH
7997: LD_INT 1
7999: PUSH
8000: EMPTY
8001: LIST
8002: LIST
8003: LIST
8004: PUSH
8005: LD_INT 25
8007: PUSH
8008: LD_INT 12
8010: PUSH
8011: EMPTY
8012: LIST
8013: LIST
8014: PPUSH
8015: CALL_OW 69
8019: PUSH
8020: LD_INT 3
8022: MOD
8023: PUSH
8024: LD_INT 1
8026: PLUS
8027: ARRAY
8028: ST_TO_ADDR
// hc_class := class_apeman ;
8029: LD_ADDR_OWVAR 28
8033: PUSH
8034: LD_INT 12
8036: ST_TO_ADDR
// hc_gallery :=  ;
8037: LD_ADDR_OWVAR 33
8041: PUSH
8042: LD_STRING 
8044: ST_TO_ADDR
// hc_name :=  ;
8045: LD_ADDR_OWVAR 26
8049: PUSH
8050: LD_STRING 
8052: ST_TO_ADDR
// hc_skills := [ apeLevel + bonus , apeLevel + bonus , apeLevel + bonus , apeLevel + bonus ] ;
8053: LD_ADDR_OWVAR 31
8057: PUSH
8058: LD_EXP 35
8062: PUSH
8063: LD_VAR 0 2
8067: PLUS
8068: PUSH
8069: LD_EXP 35
8073: PUSH
8074: LD_VAR 0 2
8078: PLUS
8079: PUSH
8080: LD_EXP 35
8084: PUSH
8085: LD_VAR 0 2
8089: PLUS
8090: PUSH
8091: LD_EXP 35
8095: PUSH
8096: LD_VAR 0 2
8100: PLUS
8101: PUSH
8102: EMPTY
8103: LIST
8104: LIST
8105: LIST
8106: LIST
8107: ST_TO_ADDR
// hc_agressivity := 10 * bonus ;
8108: LD_ADDR_OWVAR 35
8112: PUSH
8113: LD_INT 10
8115: PUSH
8116: LD_VAR 0 2
8120: MUL
8121: ST_TO_ADDR
// hc_attr := [ 12 , 12 ] ;
8122: LD_ADDR_OWVAR 29
8126: PUSH
8127: LD_INT 12
8129: PUSH
8130: LD_INT 12
8132: PUSH
8133: EMPTY
8134: LIST
8135: LIST
8136: ST_TO_ADDR
// result := CreateHuman ;
8137: LD_ADDR_VAR 0 1
8141: PUSH
8142: CALL_OW 44
8146: ST_TO_ADDR
// end ;
8147: LD_VAR 0 1
8151: RET
// export function ApeKilled ( ape ) ; var side , i ; begin
8152: LD_INT 0
8154: PPUSH
8155: PPUSH
8156: PPUSH
// if not ape then
8157: LD_VAR 0 1
8161: NOT
8162: IFFALSE 8166
// exit ;
8164: GO 8291
// side := GetSide ( ape ) ;
8166: LD_ADDR_VAR 0 3
8170: PUSH
8171: LD_VAR 0 1
8175: PPUSH
8176: CALL_OW 255
8180: ST_TO_ADDR
// if not side then
8181: LD_VAR 0 3
8185: NOT
8186: IFFALSE 8240
// begin for i = 1 to apemanPos do
8188: LD_ADDR_VAR 0 4
8192: PUSH
8193: DOUBLE
8194: LD_INT 1
8196: DEC
8197: ST_TO_ADDR
8198: LD_EXP 33
8202: PUSH
8203: FOR_TO
8204: IFFALSE 8238
// if ape in apemanPos [ i ] then
8206: LD_VAR 0 1
8210: PUSH
8211: LD_EXP 33
8215: PUSH
8216: LD_VAR 0 4
8220: ARRAY
8221: IN
8222: IFFALSE 8236
// begin side := i ;
8224: LD_ADDR_VAR 0 3
8228: PUSH
8229: LD_VAR 0 4
8233: ST_TO_ADDR
// break ;
8234: GO 8238
// end ;
8236: GO 8203
8238: POP
8239: POP
// end ; apemanPos := Replace ( apemanPos , side , apemanPos [ side ] diff ape ) ;
8240: LD_ADDR_EXP 33
8244: PUSH
8245: LD_EXP 33
8249: PPUSH
8250: LD_VAR 0 3
8254: PPUSH
8255: LD_EXP 33
8259: PUSH
8260: LD_VAR 0 3
8264: ARRAY
8265: PUSH
8266: LD_VAR 0 1
8270: DIFF
8271: PPUSH
8272: CALL_OW 1
8276: ST_TO_ADDR
// apemanNumber := apemanNumber - 1 ;
8277: LD_ADDR_EXP 30
8281: PUSH
8282: LD_EXP 30
8286: PUSH
8287: LD_INT 1
8289: MINUS
8290: ST_TO_ADDR
// end ; end_of_file
8291: LD_VAR 0 2
8295: RET
// on BuildingStarted ( b , u ) do begin if GetBType ( b ) in [ b_depot , b_warehouse ] then
8296: LD_VAR 0 1
8300: PPUSH
8301: CALL_OW 266
8305: PUSH
8306: LD_INT 0
8308: PUSH
8309: LD_INT 1
8311: PUSH
8312: EMPTY
8313: LIST
8314: LIST
8315: IN
8316: IFFALSE 8341
// SetBName ( b , @ & GetSide ( b ) ) ;
8318: LD_VAR 0 1
8322: PPUSH
8323: LD_STRING @
8325: PUSH
8326: LD_VAR 0 1
8330: PPUSH
8331: CALL_OW 255
8335: STR
8336: PPUSH
8337: CALL_OW 500
// if def_game_rules then
8341: LD_EXP 57
8345: IFFALSE 8382
// ExecuteLimits ( b , GetBType ( b ) , GetSide ( b ) , 0 , 1 ) ;
8347: LD_VAR 0 1
8351: PPUSH
8352: LD_VAR 0 1
8356: PPUSH
8357: CALL_OW 266
8361: PPUSH
8362: LD_VAR 0 1
8366: PPUSH
8367: CALL_OW 255
8371: PPUSH
8372: LD_INT 0
8374: PPUSH
8375: LD_INT 1
8377: PPUSH
8378: CALL 18458 0 5
// end ;
8382: PPOPN 2
8384: END
// on BuildingCaptured ( b , o , e ) do begin if GetBType ( b ) in [ b_depot , b_warehouse ] then
8385: LD_VAR 0 1
8389: PPUSH
8390: CALL_OW 266
8394: PUSH
8395: LD_INT 0
8397: PUSH
8398: LD_INT 1
8400: PUSH
8401: EMPTY
8402: LIST
8403: LIST
8404: IN
8405: IFFALSE 8430
// SetBName ( b , @ & GetSide ( b ) ) ;
8407: LD_VAR 0 1
8411: PPUSH
8412: LD_STRING @
8414: PUSH
8415: LD_VAR 0 1
8419: PPUSH
8420: CALL_OW 255
8424: STR
8425: PPUSH
8426: CALL_OW 500
// if def_game_rules then
8430: LD_EXP 57
8434: IFFALSE 8473
// ExecuteLimits ( b , GetBType ( b ) , GetSide ( b ) , o , 1 ) ;
8436: LD_VAR 0 1
8440: PPUSH
8441: LD_VAR 0 1
8445: PPUSH
8446: CALL_OW 266
8450: PPUSH
8451: LD_VAR 0 1
8455: PPUSH
8456: CALL_OW 255
8460: PPUSH
8461: LD_VAR 0 2
8465: PPUSH
8466: LD_INT 1
8468: PPUSH
8469: CALL 18458 0 5
// end ;
8473: PPOPN 3
8475: END
// on VehicleConstructed ( veh , fac ) do var side ;
8476: LD_INT 0
8478: PPUSH
// begin if GetControl ( veh ) = control_apeman then
8479: LD_VAR 0 1
8483: PPUSH
8484: CALL_OW 263
8488: PUSH
8489: LD_INT 5
8491: EQUAL
8492: IFFALSE 8634
// begin side := GetSide ( veh ) ;
8494: LD_ADDR_VAR 0 3
8498: PUSH
8499: LD_VAR 0 1
8503: PPUSH
8504: CALL_OW 255
8508: ST_TO_ADDR
// apemanPos := Replace ( apemanPos , side , UnitFilter ( apemanPos [ side ] , [ f_placed ] ) union FilterAllUnits ( [ [ f_side , side ] , [ f_or , [ f_control , control_apeman ] , [ f_class , class_apeman ] , [ f_class , class_apeman_soldier ] , [ f_class , class_apeman_engineer ] , [ f_class , class_apeman_kamikaze ] ] ] ) ) ;
8509: LD_ADDR_EXP 33
8513: PUSH
8514: LD_EXP 33
8518: PPUSH
8519: LD_VAR 0 3
8523: PPUSH
8524: LD_EXP 33
8528: PUSH
8529: LD_VAR 0 3
8533: ARRAY
8534: PPUSH
8535: LD_INT 52
8537: PUSH
8538: EMPTY
8539: LIST
8540: PPUSH
8541: CALL_OW 72
8545: PUSH
8546: LD_INT 22
8548: PUSH
8549: LD_VAR 0 3
8553: PUSH
8554: EMPTY
8555: LIST
8556: LIST
8557: PUSH
8558: LD_INT 2
8560: PUSH
8561: LD_INT 33
8563: PUSH
8564: LD_INT 5
8566: PUSH
8567: EMPTY
8568: LIST
8569: LIST
8570: PUSH
8571: LD_INT 25
8573: PUSH
8574: LD_INT 12
8576: PUSH
8577: EMPTY
8578: LIST
8579: LIST
8580: PUSH
8581: LD_INT 25
8583: PUSH
8584: LD_INT 15
8586: PUSH
8587: EMPTY
8588: LIST
8589: LIST
8590: PUSH
8591: LD_INT 25
8593: PUSH
8594: LD_INT 16
8596: PUSH
8597: EMPTY
8598: LIST
8599: LIST
8600: PUSH
8601: LD_INT 25
8603: PUSH
8604: LD_INT 17
8606: PUSH
8607: EMPTY
8608: LIST
8609: LIST
8610: PUSH
8611: EMPTY
8612: LIST
8613: LIST
8614: LIST
8615: LIST
8616: LIST
8617: LIST
8618: PUSH
8619: EMPTY
8620: LIST
8621: LIST
8622: PPUSH
8623: CALL_OW 69
8627: UNION
8628: PPUSH
8629: CALL_OW 1
8633: ST_TO_ADDR
// end ; end ;
8634: PPOPN 3
8636: END
// on siberiterocketexploded ( un , x , y ) do SA_OnSiberiteRocketExploded ( un , x , y , Your_Side ) ; end_of_file
8637: LD_VAR 0 1
8641: PPUSH
8642: LD_VAR 0 2
8646: PPUSH
8647: LD_VAR 0 3
8651: PPUSH
8652: LD_OWVAR 2
8656: PPUSH
8657: CALL 19136 0 4
8661: PPOPN 3
8663: END
// export function DE_Triggers ; begin
8664: LD_INT 0
8666: PPUSH
// disable ( 01 ) ;
8667: LD_INT 1
8669: DISABLE_MARKED
// disable ( 02 ) ;
8670: LD_INT 2
8672: DISABLE_MARKED
// disable ( 03 ) ;
8673: LD_INT 3
8675: DISABLE_MARKED
// disable ( 04 ) ;
8676: LD_INT 4
8678: DISABLE_MARKED
// disable ( 05 ) ;
8679: LD_INT 5
8681: DISABLE_MARKED
// disable ( 06 ) ;
8682: LD_INT 6
8684: DISABLE_MARKED
// disable ( 07 ) ;
8685: LD_INT 7
8687: DISABLE_MARKED
// disable ( 10 ) ;
8688: LD_INT 10
8690: DISABLE_MARKED
// disable ( 11 ) ;
8691: LD_INT 11
8693: DISABLE_MARKED
// disable ( 12 ) ;
8694: LD_INT 12
8696: DISABLE_MARKED
// disable ( 13 ) ;
8697: LD_INT 13
8699: DISABLE_MARKED
// disable ( 19 ) ;
8700: LD_INT 19
8702: DISABLE_MARKED
// disable ( 40 ) ;
8703: LD_INT 40
8705: DISABLE_MARKED
// disable ( 41 ) ;
8706: LD_INT 41
8708: DISABLE_MARKED
// disable ( 98 ) ;
8709: LD_INT 98
8711: DISABLE_MARKED
// disable ( 99 ) ;
8712: LD_INT 99
8714: DISABLE_MARKED
// disable ( 55 ) ;
8715: LD_INT 55
8717: DISABLE_MARKED
// disable ( 400 ) ;
8718: LD_INT 400
8720: DISABLE_MARKED
// disable ( 401 ) ;
8721: LD_INT 401
8723: DISABLE_MARKED
// end ; end_of_file
8724: LD_VAR 0 1
8728: RET
// function CanWinLoose ; begin
8729: LD_INT 0
8731: PPUSH
// Result := true ;
8732: LD_ADDR_VAR 0 1
8736: PUSH
8737: LD_INT 1
8739: ST_TO_ADDR
// if IAmServer and PlayerCount > 0 then
8740: CALL_OW 518
8744: PUSH
8745: CALL_OW 519
8749: PUSH
8750: LD_INT 0
8752: GREATER
8753: AND
8754: IFFALSE 8764
// Result := false ;
8756: LD_ADDR_VAR 0 1
8760: PUSH
8761: LD_INT 0
8763: ST_TO_ADDR
// if IAmSpec and PlayerCount > 1 then
8764: CALL_OW 531
8768: PUSH
8769: CALL_OW 519
8773: PUSH
8774: LD_INT 1
8776: GREATER
8777: AND
8778: IFFALSE 8788
// Result := false ;
8780: LD_ADDR_VAR 0 1
8784: PUSH
8785: LD_INT 0
8787: ST_TO_ADDR
// end ;
8788: LD_VAR 0 1
8792: RET
// function HasPower ( i ) ; begin
8793: LD_INT 0
8795: PPUSH
// Result := FilterAllUnits ( [ [ f_side , i ] , [ f_or , [ f_type , unit_human ] , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) ;
8796: LD_ADDR_VAR 0 2
8800: PUSH
8801: LD_INT 22
8803: PUSH
8804: LD_VAR 0 1
8808: PUSH
8809: EMPTY
8810: LIST
8811: LIST
8812: PUSH
8813: LD_INT 2
8815: PUSH
8816: LD_INT 21
8818: PUSH
8819: LD_INT 1
8821: PUSH
8822: EMPTY
8823: LIST
8824: LIST
8825: PUSH
8826: LD_INT 30
8828: PUSH
8829: LD_INT 0
8831: PUSH
8832: EMPTY
8833: LIST
8834: LIST
8835: PUSH
8836: LD_INT 30
8838: PUSH
8839: LD_INT 1
8841: PUSH
8842: EMPTY
8843: LIST
8844: LIST
8845: PUSH
8846: EMPTY
8847: LIST
8848: LIST
8849: LIST
8850: LIST
8851: PUSH
8852: EMPTY
8853: LIST
8854: LIST
8855: PPUSH
8856: CALL_OW 69
8860: ST_TO_ADDR
// end ;
8861: LD_VAR 0 2
8865: RET
// function AlliedSides ( i , j ) ; begin
8866: LD_INT 0
8868: PPUSH
// Result := false ;
8869: LD_ADDR_VAR 0 3
8873: PUSH
8874: LD_INT 0
8876: ST_TO_ADDR
// if ( GetAttitude ( i , j ) = att_friend ) and ( GetAttitude ( j , i ) = att_friend ) and GetAlliedVictory ( i ) and GetAlliedVictory ( j ) then
8877: LD_VAR 0 1
8881: PPUSH
8882: LD_VAR 0 2
8886: PPUSH
8887: CALL_OW 81
8891: PUSH
8892: LD_INT 1
8894: EQUAL
8895: PUSH
8896: LD_VAR 0 2
8900: PPUSH
8901: LD_VAR 0 1
8905: PPUSH
8906: CALL_OW 81
8910: PUSH
8911: LD_INT 1
8913: EQUAL
8914: AND
8915: PUSH
8916: LD_VAR 0 1
8920: PPUSH
8921: CALL_OW 83
8925: AND
8926: PUSH
8927: LD_VAR 0 2
8931: PPUSH
8932: CALL_OW 83
8936: AND
8937: IFFALSE 8947
// Result := true ;
8939: LD_ADDR_VAR 0 3
8943: PUSH
8944: LD_INT 1
8946: ST_TO_ADDR
// end ;
8947: LD_VAR 0 3
8951: RET
// every 0 0$3 trigger CanWinLoose marked 400 do
8952: CALL 8729 0 0
8956: IFFALSE 8965
8958: GO 8960
8960: DISABLE
// YouLostInMultiplayer ;
8961: CALL_OW 107
8965: END
// every 0 0$3 trigger CanWinLoose marked 401 do
8966: CALL 8729 0 0
8970: IFFALSE 8994
8972: GO 8974
8974: DISABLE
// begin SA_Win ( Side_Nations [ Your_side ] ) ;
8975: LD_EXP 19
8979: PUSH
8980: LD_OWVAR 2
8984: ARRAY
8985: PPUSH
8986: CALL 19178 0 1
// YouWinInMultiplayer ;
8990: CALL_OW 106
// end ;
8994: END
// every 0 0$3 marked 98 do var i , CanWin ;
8995: GO 8997
8997: DISABLE
8998: LD_INT 0
9000: PPUSH
9001: PPUSH
// begin if not HasPower ( your_side ) then
9002: LD_OWVAR 2
9006: PPUSH
9007: CALL 8793 0 1
9011: NOT
9012: IFFALSE 9023
// begin Multiplayer_Loose_Message ;
9014: CALL_OW 521
// enable ( 400 ) ;
9018: LD_INT 400
9020: ENABLE_MARKED
// end else
9021: GO 9156
// begin CanWin := true ;
9023: LD_ADDR_VAR 0 2
9027: PUSH
9028: LD_INT 1
9030: ST_TO_ADDR
// for i := 1 to 8 do
9031: LD_ADDR_VAR 0 1
9035: PUSH
9036: DOUBLE
9037: LD_INT 1
9039: DEC
9040: ST_TO_ADDR
9041: LD_INT 8
9043: PUSH
9044: FOR_TO
9045: IFFALSE 9142
// if Side_Positions [ i ] and MultiplayerSideAlive ( i ) and ( i <> your_side ) then
9047: LD_EXP 18
9051: PUSH
9052: LD_VAR 0 1
9056: ARRAY
9057: PUSH
9058: LD_VAR 0 1
9062: PPUSH
9063: CALL_OW 108
9067: AND
9068: PUSH
9069: LD_VAR 0 1
9073: PUSH
9074: LD_OWVAR 2
9078: NONEQUAL
9079: AND
9080: IFFALSE 9140
// if not Side_Teams [ i ] or ( Side_Teams [ i ] <> Side_Teams [ your_side ] ) then
9082: LD_EXP 16
9086: PUSH
9087: LD_VAR 0 1
9091: ARRAY
9092: NOT
9093: PUSH
9094: LD_EXP 16
9098: PUSH
9099: LD_VAR 0 1
9103: ARRAY
9104: PUSH
9105: LD_EXP 16
9109: PUSH
9110: LD_OWVAR 2
9114: ARRAY
9115: NONEQUAL
9116: OR
9117: IFFALSE 9140
// if HasPower ( i ) then
9119: LD_VAR 0 1
9123: PPUSH
9124: CALL 8793 0 1
9128: IFFALSE 9140
// begin CanWin := false ;
9130: LD_ADDR_VAR 0 2
9134: PUSH
9135: LD_INT 0
9137: ST_TO_ADDR
// break ;
9138: GO 9142
// end ;
9140: GO 9044
9142: POP
9143: POP
// if CanWin then
9144: LD_VAR 0 2
9148: IFFALSE 9155
// enable ( 401 ) else
9150: LD_INT 401
9152: ENABLE_MARKED
9153: GO 9156
// enable ;
9155: ENABLE
// end ; end ;
9156: PPOPN 2
9158: END
// every 0 0$3 marked 99 do var i , CanWin ;
9159: GO 9161
9161: DISABLE
9162: LD_INT 0
9164: PPUSH
9165: PPUSH
// begin if not HasPower ( your_side ) then
9166: LD_OWVAR 2
9170: PPUSH
9171: CALL 8793 0 1
9175: NOT
9176: IFFALSE 9187
// begin Multiplayer_Loose_Message ;
9178: CALL_OW 521
// enable ( 400 ) ;
9182: LD_INT 400
9184: ENABLE_MARKED
// end else
9185: GO 9300
// begin CanWin := true ;
9187: LD_ADDR_VAR 0 2
9191: PUSH
9192: LD_INT 1
9194: ST_TO_ADDR
// for i := 1 to 8 do
9195: LD_ADDR_VAR 0 1
9199: PUSH
9200: DOUBLE
9201: LD_INT 1
9203: DEC
9204: ST_TO_ADDR
9205: LD_INT 8
9207: PUSH
9208: FOR_TO
9209: IFFALSE 9286
// if Side_Positions [ i ] and MultiplayerSideAlive ( i ) and ( i <> your_side ) then
9211: LD_EXP 18
9215: PUSH
9216: LD_VAR 0 1
9220: ARRAY
9221: PUSH
9222: LD_VAR 0 1
9226: PPUSH
9227: CALL_OW 108
9231: AND
9232: PUSH
9233: LD_VAR 0 1
9237: PUSH
9238: LD_OWVAR 2
9242: NONEQUAL
9243: AND
9244: IFFALSE 9284
// if not AlliedSides ( i , your_side ) then
9246: LD_VAR 0 1
9250: PPUSH
9251: LD_OWVAR 2
9255: PPUSH
9256: CALL 8866 0 2
9260: NOT
9261: IFFALSE 9284
// if HasPower ( i ) then
9263: LD_VAR 0 1
9267: PPUSH
9268: CALL 8793 0 1
9272: IFFALSE 9284
// begin CanWin := false ;
9274: LD_ADDR_VAR 0 2
9278: PUSH
9279: LD_INT 0
9281: ST_TO_ADDR
// break ;
9282: GO 9286
// end ;
9284: GO 9208
9286: POP
9287: POP
// if CanWin then
9288: LD_VAR 0 2
9292: IFFALSE 9299
// enable ( 401 ) else
9294: LD_INT 401
9296: ENABLE_MARKED
9297: GO 9300
// enable ;
9299: ENABLE
// end ; end ; end_of_file
9300: PPOPN 2
9302: END
// var time ; export lidi , krabice , opoce ; export cper , cperiode ; var depot1 , depot2 ; var vlajka1 , vlajka2 ; export depotpositions , areas ; var podvozky , zbrane ; export pos1side , pos2side ; var pos1base , pos2base ; var left_score , right_score ; export debug , ctf ; export mp_sides_teams_ , mp_sides_nations_ , mp_sides_positions_ , mp_sides_players_counts_ ; var cft_01 , cft_02 , cft_03 , cft_04 , cft_05 , cft_06 , cft_07 ; export nonctf_10 , nonctf_11 , nonctf_12 , nonctf_13 ; var stmp , stmp2 , cl ; export function starting_ctf ; begin
9303: LD_INT 0
9305: PPUSH
// cft_01 = 01 ;
9306: LD_ADDR_LOC 24
9310: PUSH
9311: LD_INT 1
9313: ST_TO_ADDR
// cft_02 = 02 ;
9314: LD_ADDR_LOC 25
9318: PUSH
9319: LD_INT 2
9321: ST_TO_ADDR
// cft_03 = 03 ;
9322: LD_ADDR_LOC 26
9326: PUSH
9327: LD_INT 3
9329: ST_TO_ADDR
// cft_04 = 04 ;
9330: LD_ADDR_LOC 27
9334: PUSH
9335: LD_INT 4
9337: ST_TO_ADDR
// cft_05 = 05 ;
9338: LD_ADDR_LOC 28
9342: PUSH
9343: LD_INT 5
9345: ST_TO_ADDR
// cft_06 = 06 ;
9346: LD_ADDR_LOC 29
9350: PUSH
9351: LD_INT 6
9353: ST_TO_ADDR
// cft_07 = 07 ;
9354: LD_ADDR_LOC 30
9358: PUSH
9359: LD_INT 7
9361: ST_TO_ADDR
// nonctf_10 = 10 ;
9362: LD_ADDR_EXP 52
9366: PUSH
9367: LD_INT 10
9369: ST_TO_ADDR
// nonctf_11 = 11 ;
9370: LD_ADDR_EXP 53
9374: PUSH
9375: LD_INT 11
9377: ST_TO_ADDR
// nonctf_12 = 12 ;
9378: LD_ADDR_EXP 54
9382: PUSH
9383: LD_INT 12
9385: ST_TO_ADDR
// nonctf_13 = 13 ;
9386: LD_ADDR_EXP 55
9390: PUSH
9391: LD_INT 13
9393: ST_TO_ADDR
// disable ( cft_01 ) ;
9394: LD_LOC 24
9398: DISABLE_MARKED
// disable ( cft_02 ) ;
9399: LD_LOC 25
9403: DISABLE_MARKED
// disable ( cft_03 ) ;
9404: LD_LOC 26
9408: DISABLE_MARKED
// disable ( cft_04 ) ;
9409: LD_LOC 27
9413: DISABLE_MARKED
// disable ( cft_05 ) ;
9414: LD_LOC 28
9418: DISABLE_MARKED
// disable ( cft_06 ) ;
9419: LD_LOC 29
9423: DISABLE_MARKED
// disable ( cft_07 ) ;
9424: LD_LOC 30
9428: DISABLE_MARKED
// disable ( nonctf_10 ) ;
9429: LD_EXP 52
9433: DISABLE_MARKED
// disable ( nonctf_11 ) ;
9434: LD_EXP 53
9438: DISABLE_MARKED
// disable ( nonctf_12 ) ;
9439: LD_EXP 54
9443: DISABLE_MARKED
// disable ( nonctf_13 ) ;
9444: LD_EXP 55
9448: DISABLE_MARKED
// debug = false ;
9449: LD_ADDR_EXP 46
9453: PUSH
9454: LD_INT 0
9456: ST_TO_ADDR
// if not multiplayer then
9457: LD_OWVAR 4
9461: NOT
9462: IFFALSE 9622
// begin mp_sides_teams_ = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
9464: LD_ADDR_EXP 48
9468: PUSH
9469: LD_INT 0
9471: PUSH
9472: LD_INT 0
9474: PUSH
9475: LD_INT 0
9477: PUSH
9478: LD_INT 0
9480: PUSH
9481: LD_INT 0
9483: PUSH
9484: LD_INT 0
9486: PUSH
9487: LD_INT 0
9489: PUSH
9490: LD_INT 0
9492: PUSH
9493: EMPTY
9494: LIST
9495: LIST
9496: LIST
9497: LIST
9498: LIST
9499: LIST
9500: LIST
9501: LIST
9502: ST_TO_ADDR
// mp_sides_nations_ = [ 1 , 2 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
9503: LD_ADDR_EXP 49
9507: PUSH
9508: LD_INT 1
9510: PUSH
9511: LD_INT 2
9513: PUSH
9514: LD_INT 0
9516: PUSH
9517: LD_INT 0
9519: PUSH
9520: LD_INT 0
9522: PUSH
9523: LD_INT 0
9525: PUSH
9526: LD_INT 0
9528: PUSH
9529: LD_INT 0
9531: PUSH
9532: EMPTY
9533: LIST
9534: LIST
9535: LIST
9536: LIST
9537: LIST
9538: LIST
9539: LIST
9540: LIST
9541: ST_TO_ADDR
// mp_sides_positions_ = [ 1 , 2 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
9542: LD_ADDR_EXP 50
9546: PUSH
9547: LD_INT 1
9549: PUSH
9550: LD_INT 2
9552: PUSH
9553: LD_INT 0
9555: PUSH
9556: LD_INT 0
9558: PUSH
9559: LD_INT 0
9561: PUSH
9562: LD_INT 0
9564: PUSH
9565: LD_INT 0
9567: PUSH
9568: LD_INT 0
9570: PUSH
9571: EMPTY
9572: LIST
9573: LIST
9574: LIST
9575: LIST
9576: LIST
9577: LIST
9578: LIST
9579: LIST
9580: ST_TO_ADDR
// mp_sides_players_counts_ = [ 1 , 1 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
9581: LD_ADDR_EXP 51
9585: PUSH
9586: LD_INT 1
9588: PUSH
9589: LD_INT 1
9591: PUSH
9592: LD_INT 0
9594: PUSH
9595: LD_INT 0
9597: PUSH
9598: LD_INT 0
9600: PUSH
9601: LD_INT 0
9603: PUSH
9604: LD_INT 0
9606: PUSH
9607: LD_INT 0
9609: PUSH
9610: EMPTY
9611: LIST
9612: LIST
9613: LIST
9614: LIST
9615: LIST
9616: LIST
9617: LIST
9618: LIST
9619: ST_TO_ADDR
// end else
9620: GO 9662
// begin mp_sides_teams_ = mp_sides_teams ;
9622: LD_ADDR_EXP 48
9626: PUSH
9627: LD_OWVAR 15
9631: ST_TO_ADDR
// mp_sides_nations_ = mp_sides_nations ;
9632: LD_ADDR_EXP 49
9636: PUSH
9637: LD_OWVAR 16
9641: ST_TO_ADDR
// mp_sides_positions_ = mp_sides_positions ;
9642: LD_ADDR_EXP 50
9646: PUSH
9647: LD_OWVAR 17
9651: ST_TO_ADDR
// mp_sides_players_counts_ = mp_sides_players_counts ;
9652: LD_ADDR_EXP 51
9656: PUSH
9657: LD_OWVAR 18
9661: ST_TO_ADDR
// end ; if debug then
9662: LD_EXP 46
9666: IFFALSE 9748
// begin debuglog ( [ side , your_side ] ) ;
9668: LD_STRING side
9670: PUSH
9671: LD_OWVAR 2
9675: PUSH
9676: EMPTY
9677: LIST
9678: LIST
9679: PPUSH
9680: CALL_OW 359
// debuglog ( [ teams , mp_sides_teams_ ] ) ;
9684: LD_STRING teams
9686: PUSH
9687: LD_EXP 48
9691: PUSH
9692: EMPTY
9693: LIST
9694: LIST
9695: PPUSH
9696: CALL_OW 359
// debuglog ( [ nations , mp_sides_nations_ ] ) ;
9700: LD_STRING nations
9702: PUSH
9703: LD_EXP 49
9707: PUSH
9708: EMPTY
9709: LIST
9710: LIST
9711: PPUSH
9712: CALL_OW 359
// debuglog ( [ positions , mp_sides_positions_ ] ) ;
9716: LD_STRING positions
9718: PUSH
9719: LD_EXP 50
9723: PUSH
9724: EMPTY
9725: LIST
9726: LIST
9727: PPUSH
9728: CALL_OW 359
// debuglog ( [ pl. counts , mp_sides_players_counts_ ] ) ;
9732: LD_STRING pl. counts
9734: PUSH
9735: LD_EXP 51
9739: PUSH
9740: EMPTY
9741: LIST
9742: LIST
9743: PPUSH
9744: CALL_OW 359
// end ; depotpositions = [ [ 34 , 60 , 1 ] , [ 185 , 60 , 4 ] ] ;
9748: LD_ADDR_EXP 42
9752: PUSH
9753: LD_INT 34
9755: PUSH
9756: LD_INT 60
9758: PUSH
9759: LD_INT 1
9761: PUSH
9762: EMPTY
9763: LIST
9764: LIST
9765: LIST
9766: PUSH
9767: LD_INT 185
9769: PUSH
9770: LD_INT 60
9772: PUSH
9773: LD_INT 4
9775: PUSH
9776: EMPTY
9777: LIST
9778: LIST
9779: LIST
9780: PUSH
9781: EMPTY
9782: LIST
9783: LIST
9784: ST_TO_ADDR
// areas = [ vlevo , vpravo ] ;
9785: LD_ADDR_EXP 43
9789: PUSH
9790: LD_INT 2
9792: PUSH
9793: LD_INT 3
9795: PUSH
9796: EMPTY
9797: LIST
9798: LIST
9799: ST_TO_ADDR
// if mp_game_type = 3 then
9800: LD_OWVAR 6
9804: PUSH
9805: LD_INT 3
9807: EQUAL
9808: IFFALSE 9816
// begin other_game ;
9810: CALL 12888 0 0
// exit ;
9814: GO 11264
// end ; ctf = true ;
9816: LD_ADDR_EXP 47
9820: PUSH
9821: LD_INT 1
9823: ST_TO_ADDR
// enable ( cft_01 ) ;
9824: LD_LOC 24
9828: ENABLE_MARKED
// enable ( cft_02 ) ;
9829: LD_LOC 25
9833: ENABLE_MARKED
// enable ( cft_05 ) ;
9834: LD_LOC 28
9838: ENABLE_MARKED
// enable ( cft_06 ) ;
9839: LD_LOC 29
9843: ENABLE_MARKED
// enable ( cft_07 ) ;
9844: LD_LOC 30
9848: ENABLE_MARKED
// podvozky = [ us_medium_wheeled , ar_medium_trike , ru_medium_wheeled ] ;
9849: LD_ADDR_LOC 18
9853: PUSH
9854: LD_INT 2
9856: PUSH
9857: LD_INT 13
9859: PUSH
9860: LD_INT 21
9862: PUSH
9863: EMPTY
9864: LIST
9865: LIST
9866: LIST
9867: ST_TO_ADDR
// zbrane = [ us_cargo_bay , ar_cargo_bay , ru_cargo_bay ] ;
9868: LD_ADDR_LOC 19
9872: PUSH
9873: LD_INT 12
9875: PUSH
9876: LD_INT 32
9878: PUSH
9879: LD_INT 51
9881: PUSH
9882: EMPTY
9883: LIST
9884: LIST
9885: LIST
9886: ST_TO_ADDR
// left_score = 0 ;
9887: LD_ADDR_LOC 22
9891: PUSH
9892: LD_INT 0
9894: ST_TO_ADDR
// right_score = 0 ;
9895: LD_ADDR_LOC 23
9899: PUSH
9900: LD_INT 0
9902: ST_TO_ADDR
// if multiplayer then
9903: LD_OWVAR 4
9907: IFFALSE 9963
// begin lidi = getmultiplayersetting ( 1 ) ;
9909: LD_ADDR_EXP 37
9913: PUSH
9914: LD_INT 1
9916: PPUSH
9917: CALL_OW 426
9921: ST_TO_ADDR
// krabice = getmultiplayersetting ( 2 ) ;
9922: LD_ADDR_EXP 38
9926: PUSH
9927: LD_INT 2
9929: PPUSH
9930: CALL_OW 426
9934: ST_TO_ADDR
// opoce = getmultiplayersetting ( 3 ) ;
9935: LD_ADDR_EXP 39
9939: PUSH
9940: LD_INT 3
9942: PPUSH
9943: CALL_OW 426
9947: ST_TO_ADDR
// time = getmultiplayersetting ( 4 ) ;
9948: LD_ADDR_LOC 13
9952: PUSH
9953: LD_INT 4
9955: PPUSH
9956: CALL_OW 426
9960: ST_TO_ADDR
// end else
9961: GO 9995
// begin lidi = 1 ;
9963: LD_ADDR_EXP 37
9967: PUSH
9968: LD_INT 1
9970: ST_TO_ADDR
// krabice = 1 ;
9971: LD_ADDR_EXP 38
9975: PUSH
9976: LD_INT 1
9978: ST_TO_ADDR
// opoce = 3 ;
9979: LD_ADDR_EXP 39
9983: PUSH
9984: LD_INT 3
9986: ST_TO_ADDR
// time = 2 ;
9987: LD_ADDR_LOC 13
9991: PUSH
9992: LD_INT 2
9994: ST_TO_ADDR
// end ; case lidi of 0 :
9995: LD_EXP 37
9999: PUSH
10000: LD_INT 0
10002: DOUBLE
10003: EQUAL
10004: IFTRUE 10008
10006: GO 10019
10008: POP
// lidi = 9 ; 1 :
10009: LD_ADDR_EXP 37
10013: PUSH
10014: LD_INT 9
10016: ST_TO_ADDR
10017: GO 10096
10019: LD_INT 1
10021: DOUBLE
10022: EQUAL
10023: IFTRUE 10027
10025: GO 10038
10027: POP
// lidi = 13 ; 2 :
10028: LD_ADDR_EXP 37
10032: PUSH
10033: LD_INT 13
10035: ST_TO_ADDR
10036: GO 10096
10038: LD_INT 2
10040: DOUBLE
10041: EQUAL
10042: IFTRUE 10046
10044: GO 10057
10046: POP
// lidi = 19 ; 3 :
10047: LD_ADDR_EXP 37
10051: PUSH
10052: LD_INT 19
10054: ST_TO_ADDR
10055: GO 10096
10057: LD_INT 3
10059: DOUBLE
10060: EQUAL
10061: IFTRUE 10065
10063: GO 10076
10065: POP
// lidi = 23 ; 4 :
10066: LD_ADDR_EXP 37
10070: PUSH
10071: LD_INT 23
10073: ST_TO_ADDR
10074: GO 10096
10076: LD_INT 4
10078: DOUBLE
10079: EQUAL
10080: IFTRUE 10084
10082: GO 10095
10084: POP
// lidi = 29 ; end ;
10085: LD_ADDR_EXP 37
10089: PUSH
10090: LD_INT 29
10092: ST_TO_ADDR
10093: GO 10096
10095: POP
// case krabice of 0 :
10096: LD_EXP 38
10100: PUSH
10101: LD_INT 0
10103: DOUBLE
10104: EQUAL
10105: IFTRUE 10109
10107: GO 10120
10109: POP
// cperiode = 1 1$30 ; 1 :
10110: LD_ADDR_EXP 41
10114: PUSH
10115: LD_INT 3150
10117: ST_TO_ADDR
10118: GO 10159
10120: LD_INT 1
10122: DOUBLE
10123: EQUAL
10124: IFTRUE 10128
10126: GO 10139
10128: POP
// cperiode = 1 1$00 ; 2 :
10129: LD_ADDR_EXP 41
10133: PUSH
10134: LD_INT 2100
10136: ST_TO_ADDR
10137: GO 10159
10139: LD_INT 2
10141: DOUBLE
10142: EQUAL
10143: IFTRUE 10147
10145: GO 10158
10147: POP
// cperiode = 0 0$30 ; end ;
10148: LD_ADDR_EXP 41
10152: PUSH
10153: LD_INT 1050
10155: ST_TO_ADDR
10156: GO 10159
10158: POP
// cper = 0 0$10 ;
10159: LD_ADDR_EXP 40
10163: PUSH
10164: LD_INT 350
10166: ST_TO_ADDR
// case opoce of 0 :
10167: LD_EXP 39
10171: PUSH
10172: LD_INT 0
10174: DOUBLE
10175: EQUAL
10176: IFTRUE 10180
10178: GO 10191
10180: POP
// opoce = 0 ; 1 :
10181: LD_ADDR_EXP 39
10185: PUSH
10186: LD_INT 0
10188: ST_TO_ADDR
10189: GO 10306
10191: LD_INT 1
10193: DOUBLE
10194: EQUAL
10195: IFTRUE 10199
10197: GO 10210
10199: POP
// opoce = 3 ; 2 :
10200: LD_ADDR_EXP 39
10204: PUSH
10205: LD_INT 3
10207: ST_TO_ADDR
10208: GO 10306
10210: LD_INT 2
10212: DOUBLE
10213: EQUAL
10214: IFTRUE 10218
10216: GO 10229
10218: POP
// opoce = 7 ; 3 :
10219: LD_ADDR_EXP 39
10223: PUSH
10224: LD_INT 7
10226: ST_TO_ADDR
10227: GO 10306
10229: LD_INT 3
10231: DOUBLE
10232: EQUAL
10233: IFTRUE 10237
10235: GO 10248
10237: POP
// opoce = 11 ; 4 :
10238: LD_ADDR_EXP 39
10242: PUSH
10243: LD_INT 11
10245: ST_TO_ADDR
10246: GO 10306
10248: LD_INT 4
10250: DOUBLE
10251: EQUAL
10252: IFTRUE 10256
10254: GO 10267
10256: POP
// opoce = 15 ; 5 :
10257: LD_ADDR_EXP 39
10261: PUSH
10262: LD_INT 15
10264: ST_TO_ADDR
10265: GO 10306
10267: LD_INT 5
10269: DOUBLE
10270: EQUAL
10271: IFTRUE 10275
10273: GO 10286
10275: POP
// opoce = 19 ; 6 :
10276: LD_ADDR_EXP 39
10280: PUSH
10281: LD_INT 19
10283: ST_TO_ADDR
10284: GO 10306
10286: LD_INT 6
10288: DOUBLE
10289: EQUAL
10290: IFTRUE 10294
10292: GO 10305
10294: POP
// opoce = 23 ; end ;
10295: LD_ADDR_EXP 39
10299: PUSH
10300: LD_INT 23
10302: ST_TO_ADDR
10303: GO 10306
10305: POP
// case time of 0 :
10306: LD_LOC 13
10310: PUSH
10311: LD_INT 0
10313: DOUBLE
10314: EQUAL
10315: IFTRUE 10319
10317: GO 10334
10319: POP
// time = 30 * 60 ; 1 :
10320: LD_ADDR_LOC 13
10324: PUSH
10325: LD_INT 30
10327: PUSH
10328: LD_INT 60
10330: MUL
10331: ST_TO_ADDR
10332: GO 10450
10334: LD_INT 1
10336: DOUBLE
10337: EQUAL
10338: IFTRUE 10342
10340: GO 10357
10342: POP
// time = 40 * 60 ; 2 :
10343: LD_ADDR_LOC 13
10347: PUSH
10348: LD_INT 40
10350: PUSH
10351: LD_INT 60
10353: MUL
10354: ST_TO_ADDR
10355: GO 10450
10357: LD_INT 2
10359: DOUBLE
10360: EQUAL
10361: IFTRUE 10365
10363: GO 10380
10365: POP
// time = 50 * 60 ; 3 :
10366: LD_ADDR_LOC 13
10370: PUSH
10371: LD_INT 50
10373: PUSH
10374: LD_INT 60
10376: MUL
10377: ST_TO_ADDR
10378: GO 10450
10380: LD_INT 3
10382: DOUBLE
10383: EQUAL
10384: IFTRUE 10388
10386: GO 10403
10388: POP
// time = 60 * 60 ; 4 :
10389: LD_ADDR_LOC 13
10393: PUSH
10394: LD_INT 60
10396: PUSH
10397: LD_INT 60
10399: MUL
10400: ST_TO_ADDR
10401: GO 10450
10403: LD_INT 4
10405: DOUBLE
10406: EQUAL
10407: IFTRUE 10411
10409: GO 10426
10411: POP
// time = 90 * 60 ; 5 :
10412: LD_ADDR_LOC 13
10416: PUSH
10417: LD_INT 90
10419: PUSH
10420: LD_INT 60
10422: MUL
10423: ST_TO_ADDR
10424: GO 10450
10426: LD_INT 5
10428: DOUBLE
10429: EQUAL
10430: IFTRUE 10434
10432: GO 10449
10434: POP
// time = 120 * 60 ; end ;
10435: LD_ADDR_LOC 13
10439: PUSH
10440: LD_INT 120
10442: PUSH
10443: LD_INT 60
10445: MUL
10446: ST_TO_ADDR
10447: GO 10450
10449: POP
// enable ( cft_03 ) ;
10450: LD_LOC 26
10454: ENABLE_MARKED
// refresh ;
10455: CALL 11269 0 0
// for stmp = 1 to 8 do
10459: LD_ADDR_LOC 31
10463: PUSH
10464: DOUBLE
10465: LD_INT 1
10467: DEC
10468: ST_TO_ADDR
10469: LD_INT 8
10471: PUSH
10472: FOR_TO
10473: IFFALSE 10842
// if mp_sides_nations_ [ stmp ] then
10475: LD_EXP 49
10479: PUSH
10480: LD_LOC 31
10484: ARRAY
10485: IFFALSE 10840
// begin if mp_sides_positions_ [ stmp ] = 1 then
10487: LD_EXP 50
10491: PUSH
10492: LD_LOC 31
10496: ARRAY
10497: PUSH
10498: LD_INT 1
10500: EQUAL
10501: IFFALSE 10515
// pos1side = stmp else
10503: LD_ADDR_EXP 44
10507: PUSH
10508: LD_LOC 31
10512: ST_TO_ADDR
10513: GO 10525
// pos2side = stmp ;
10515: LD_ADDR_EXP 45
10519: PUSH
10520: LD_LOC 31
10524: ST_TO_ADDR
// uc_side = stmp ;
10525: LD_ADDR_OWVAR 20
10529: PUSH
10530: LD_LOC 31
10534: ST_TO_ADDR
// uc_nation = mp_sides_nations_ [ stmp ] ;
10535: LD_ADDR_OWVAR 21
10539: PUSH
10540: LD_EXP 49
10544: PUSH
10545: LD_LOC 31
10549: ARRAY
10550: ST_TO_ADDR
// bc_type = b_depot ;
10551: LD_ADDR_OWVAR 42
10555: PUSH
10556: LD_INT 0
10558: ST_TO_ADDR
// bc_level = 1 ;
10559: LD_ADDR_OWVAR 43
10563: PUSH
10564: LD_INT 1
10566: ST_TO_ADDR
// createandplacebuildingxyd ( depotpositions [ mp_sides_positions_ [ stmp ] ] [ 1 ] , depotpositions [ mp_sides_positions_ [ stmp ] ] [ 2 ] , depotpositions [ mp_sides_positions_ [ stmp ] ] [ 3 ] ) ;
10567: LD_EXP 42
10571: PUSH
10572: LD_EXP 50
10576: PUSH
10577: LD_LOC 31
10581: ARRAY
10582: ARRAY
10583: PUSH
10584: LD_INT 1
10586: ARRAY
10587: PPUSH
10588: LD_EXP 42
10592: PUSH
10593: LD_EXP 50
10597: PUSH
10598: LD_LOC 31
10602: ARRAY
10603: ARRAY
10604: PUSH
10605: LD_INT 2
10607: ARRAY
10608: PPUSH
10609: LD_EXP 42
10613: PUSH
10614: LD_EXP 50
10618: PUSH
10619: LD_LOC 31
10623: ARRAY
10624: ARRAY
10625: PUSH
10626: LD_INT 3
10628: ARRAY
10629: PPUSH
10630: CALL_OW 47
// setbattleflag ( stmp , depotpositions [ mp_sides_positions_ [ stmp ] ] [ 1 ] , depotpositions [ mp_sides_positions_ [ stmp ] ] [ 2 ] , [ [ bfo_defend_bonus_human , 150 ] , [ bfo_defend_bonus_vehicle , 10 ] , [ bfo_defend_bonus_building , 0 ] , [ bfo_range , 17 ] , [ bfo_height , 100 ] ] ) ;
10634: LD_LOC 31
10638: PPUSH
10639: LD_EXP 42
10643: PUSH
10644: LD_EXP 50
10648: PUSH
10649: LD_LOC 31
10653: ARRAY
10654: ARRAY
10655: PUSH
10656: LD_INT 1
10658: ARRAY
10659: PPUSH
10660: LD_EXP 42
10664: PUSH
10665: LD_EXP 50
10669: PUSH
10670: LD_LOC 31
10674: ARRAY
10675: ARRAY
10676: PUSH
10677: LD_INT 2
10679: ARRAY
10680: PPUSH
10681: LD_INT 1
10683: PUSH
10684: LD_INT 150
10686: PUSH
10687: EMPTY
10688: LIST
10689: LIST
10690: PUSH
10691: LD_INT 2
10693: PUSH
10694: LD_INT 10
10696: PUSH
10697: EMPTY
10698: LIST
10699: LIST
10700: PUSH
10701: LD_INT 3
10703: PUSH
10704: LD_INT 0
10706: PUSH
10707: EMPTY
10708: LIST
10709: LIST
10710: PUSH
10711: LD_INT 10
10713: PUSH
10714: LD_INT 17
10716: PUSH
10717: EMPTY
10718: LIST
10719: LIST
10720: PUSH
10721: LD_INT 20
10723: PUSH
10724: LD_INT 100
10726: PUSH
10727: EMPTY
10728: LIST
10729: LIST
10730: PUSH
10731: EMPTY
10732: LIST
10733: LIST
10734: LIST
10735: LIST
10736: LIST
10737: PPUSH
10738: CALL_OW 418
// cl = class_engineer ;
10742: LD_ADDR_LOC 33
10746: PUSH
10747: LD_INT 2
10749: ST_TO_ADDR
// for stmp2 = 1 to lidi do
10750: LD_ADDR_LOC 32
10754: PUSH
10755: DOUBLE
10756: LD_INT 1
10758: DEC
10759: ST_TO_ADDR
10760: LD_EXP 37
10764: PUSH
10765: FOR_TO
10766: IFFALSE 10838
// begin if stmp2 >= lidi / 2 then
10768: LD_LOC 32
10772: PUSH
10773: LD_EXP 37
10777: PUSH
10778: LD_INT 2
10780: DIVREAL
10781: GREATEREQUAL
10782: IFFALSE 10792
// cl = class_soldier ;
10784: LD_ADDR_LOC 33
10788: PUSH
10789: LD_INT 1
10791: ST_TO_ADDR
// preparehuman ( 0 , cl , 1 ) ;
10792: LD_INT 0
10794: PPUSH
10795: LD_LOC 33
10799: PPUSH
10800: LD_INT 1
10802: PPUSH
10803: CALL_OW 380
// placeunitarea ( createhuman , areas [ mp_sides_positions_ [ stmp ] ] , false ) ;
10807: CALL_OW 44
10811: PPUSH
10812: LD_EXP 43
10816: PUSH
10817: LD_EXP 50
10821: PUSH
10822: LD_LOC 31
10826: ARRAY
10827: ARRAY
10828: PPUSH
10829: LD_INT 0
10831: PPUSH
10832: CALL_OW 49
// end ;
10836: GO 10765
10838: POP
10839: POP
// end ;
10840: GO 10472
10842: POP
10843: POP
// depot1 = filterunitsinarea ( vlevo , [ [ f_type , unit_building ] , [ f_btype , b_depot ] ] ) [ 1 ] ;
10844: LD_ADDR_LOC 14
10848: PUSH
10849: LD_INT 2
10851: PPUSH
10852: LD_INT 21
10854: PUSH
10855: LD_INT 3
10857: PUSH
10858: EMPTY
10859: LIST
10860: LIST
10861: PUSH
10862: LD_INT 30
10864: PUSH
10865: LD_INT 0
10867: PUSH
10868: EMPTY
10869: LIST
10870: LIST
10871: PUSH
10872: EMPTY
10873: LIST
10874: LIST
10875: PPUSH
10876: CALL_OW 70
10880: PUSH
10881: LD_INT 1
10883: ARRAY
10884: ST_TO_ADDR
// depot2 = filterunitsinarea ( vpravo , [ [ f_type , unit_building ] , [ f_btype , b_depot ] ] ) [ 1 ] ;
10885: LD_ADDR_LOC 15
10889: PUSH
10890: LD_INT 3
10892: PPUSH
10893: LD_INT 21
10895: PUSH
10896: LD_INT 3
10898: PUSH
10899: EMPTY
10900: LIST
10901: LIST
10902: PUSH
10903: LD_INT 30
10905: PUSH
10906: LD_INT 0
10908: PUSH
10909: EMPTY
10910: LIST
10911: LIST
10912: PUSH
10913: EMPTY
10914: LIST
10915: LIST
10916: PPUSH
10917: CALL_OW 70
10921: PUSH
10922: LD_INT 1
10924: ARRAY
10925: ST_TO_ADDR
// pos1base = getbase ( depot1 ) ;
10926: LD_ADDR_LOC 20
10930: PUSH
10931: LD_LOC 14
10935: PPUSH
10936: CALL_OW 274
10940: ST_TO_ADDR
// pos2base = getbase ( depot2 ) ;
10941: LD_ADDR_LOC 21
10945: PUSH
10946: LD_LOC 15
10950: PPUSH
10951: CALL_OW 274
10955: ST_TO_ADDR
// uc_side = 0 ;
10956: LD_ADDR_OWVAR 20
10960: PUSH
10961: LD_INT 0
10963: ST_TO_ADDR
// uc_nation = nation_nature ;
10964: LD_ADDR_OWVAR 21
10968: PUSH
10969: LD_INT 0
10971: ST_TO_ADDR
// for stmp = 1 to opoce do
10972: LD_ADDR_LOC 31
10976: PUSH
10977: DOUBLE
10978: LD_INT 1
10980: DEC
10981: ST_TO_ADDR
10982: LD_EXP 39
10986: PUSH
10987: FOR_TO
10988: IFFALSE 11020
// begin preparehuman ( 0 , class_apeman , 0 ) ;
10990: LD_INT 0
10992: PPUSH
10993: LD_INT 12
10995: PPUSH
10996: LD_INT 0
10998: PPUSH
10999: CALL_OW 380
// placeunitarea ( createhuman , les , false ) ;
11003: CALL_OW 44
11007: PPUSH
11008: LD_INT 4
11010: PPUSH
11011: LD_INT 0
11013: PPUSH
11014: CALL_OW 49
// end ;
11018: GO 10987
11020: POP
11021: POP
// uc_side = pos2side ;
11022: LD_ADDR_OWVAR 20
11026: PUSH
11027: LD_EXP 45
11031: ST_TO_ADDR
// uc_nation = mp_sides_nations_ [ pos2side ] ;
11032: LD_ADDR_OWVAR 21
11036: PUSH
11037: LD_EXP 49
11041: PUSH
11042: LD_EXP 45
11046: ARRAY
11047: ST_TO_ADDR
// vc_chassis = podvozky [ uc_nation ] ;
11048: LD_ADDR_OWVAR 37
11052: PUSH
11053: LD_LOC 18
11057: PUSH
11058: LD_OWVAR 21
11062: ARRAY
11063: ST_TO_ADDR
// vc_control = control_manual ;
11064: LD_ADDR_OWVAR 38
11068: PUSH
11069: LD_INT 1
11071: ST_TO_ADDR
// vc_engine = engine_siberite ;
11072: LD_ADDR_OWVAR 39
11076: PUSH
11077: LD_INT 3
11079: ST_TO_ADDR
// vc_weapon = zbrane [ uc_nation ] ;
11080: LD_ADDR_OWVAR 40
11084: PUSH
11085: LD_LOC 19
11089: PUSH
11090: LD_OWVAR 21
11094: ARRAY
11095: ST_TO_ADDR
// vlajka1 = createvehicle ;
11096: LD_ADDR_LOC 16
11100: PUSH
11101: CALL_OW 45
11105: ST_TO_ADDR
// placeunitxy ( vlajka1 , 76 , 60 , false ) ;
11106: LD_LOC 16
11110: PPUSH
11111: LD_INT 76
11113: PPUSH
11114: LD_INT 60
11116: PPUSH
11117: LD_INT 0
11119: PPUSH
11120: CALL_OW 48
// uc_side = pos1side ;
11124: LD_ADDR_OWVAR 20
11128: PUSH
11129: LD_EXP 44
11133: ST_TO_ADDR
// uc_nation = mp_sides_nations_ [ pos1side ] ;
11134: LD_ADDR_OWVAR 21
11138: PUSH
11139: LD_EXP 49
11143: PUSH
11144: LD_EXP 44
11148: ARRAY
11149: ST_TO_ADDR
// vc_chassis = podvozky [ uc_nation ] ;
11150: LD_ADDR_OWVAR 37
11154: PUSH
11155: LD_LOC 18
11159: PUSH
11160: LD_OWVAR 21
11164: ARRAY
11165: ST_TO_ADDR
// vc_weapon = zbrane [ uc_nation ] ;
11166: LD_ADDR_OWVAR 40
11170: PUSH
11171: LD_LOC 19
11175: PUSH
11176: LD_OWVAR 21
11180: ARRAY
11181: ST_TO_ADDR
// vlajka2 = createvehicle ;
11182: LD_ADDR_LOC 17
11186: PUSH
11187: CALL_OW 45
11191: ST_TO_ADDR
// placeunitxy ( vlajka2 , 143 , 60 , false ) ;
11192: LD_LOC 17
11196: PPUSH
11197: LD_INT 143
11199: PPUSH
11200: LD_INT 60
11202: PPUSH
11203: LD_INT 0
11205: PPUSH
11206: CALL_OW 48
// case mp_sides_positions_ [ your_side ] of 1 :
11210: LD_EXP 50
11214: PUSH
11215: LD_OWVAR 2
11219: ARRAY
11220: PUSH
11221: LD_INT 1
11223: DOUBLE
11224: EQUAL
11225: IFTRUE 11229
11227: GO 11242
11229: POP
// centernowonxy ( 44 , 60 ) ; 2 :
11230: LD_INT 44
11232: PPUSH
11233: LD_INT 60
11235: PPUSH
11236: CALL_OW 86
11240: GO 11264
11242: LD_INT 2
11244: DOUBLE
11245: EQUAL
11246: IFTRUE 11250
11248: GO 11263
11250: POP
// centernowonxy ( 175 , 60 ) ; end ;
11251: LD_INT 175
11253: PPUSH
11254: LD_INT 60
11256: PPUSH
11257: CALL_OW 86
11261: GO 11264
11263: POP
// end ;
11264: LD_VAR 0 1
11268: RET
// function refresh ; var tmp , tmp1 , tmp2 , tmp3 , tmp4 ; begin
11269: LD_INT 0
11271: PPUSH
11272: PPUSH
11273: PPUSH
11274: PPUSH
11275: PPUSH
11276: PPUSH
// tmp = time div 60 ;
11277: LD_ADDR_VAR 0 2
11281: PUSH
11282: LD_LOC 13
11286: PUSH
11287: LD_INT 60
11289: DIV
11290: ST_TO_ADDR
// if tmp < 10 then
11291: LD_VAR 0 2
11295: PUSH
11296: LD_INT 10
11298: LESS
11299: IFFALSE 11317
// tmp1 = 0 & tmp else
11301: LD_ADDR_VAR 0 3
11305: PUSH
11306: LD_STRING 0
11308: PUSH
11309: LD_VAR 0 2
11313: STR
11314: ST_TO_ADDR
11315: GO 11331
// tmp1 =  & tmp ;
11317: LD_ADDR_VAR 0 3
11321: PUSH
11322: LD_STRING 
11324: PUSH
11325: LD_VAR 0 2
11329: STR
11330: ST_TO_ADDR
// tmp = time mod 60 ;
11331: LD_ADDR_VAR 0 2
11335: PUSH
11336: LD_LOC 13
11340: PUSH
11341: LD_INT 60
11343: MOD
11344: ST_TO_ADDR
// if tmp < 10 then
11345: LD_VAR 0 2
11349: PUSH
11350: LD_INT 10
11352: LESS
11353: IFFALSE 11371
// tmp2 = 0 & tmp else
11355: LD_ADDR_VAR 0 4
11359: PUSH
11360: LD_STRING 0
11362: PUSH
11363: LD_VAR 0 2
11367: STR
11368: ST_TO_ADDR
11369: GO 11385
// tmp2 =  & tmp ;
11371: LD_ADDR_VAR 0 4
11375: PUSH
11376: LD_STRING 
11378: PUSH
11379: LD_VAR 0 2
11383: STR
11384: ST_TO_ADDR
// if left_score < 10 then
11385: LD_LOC 22
11389: PUSH
11390: LD_INT 10
11392: LESS
11393: IFFALSE 11411
// tmp3 = 0 & left_score else
11395: LD_ADDR_VAR 0 5
11399: PUSH
11400: LD_STRING 0
11402: PUSH
11403: LD_LOC 22
11407: STR
11408: ST_TO_ADDR
11409: GO 11425
// tmp3 =  & left_score ;
11411: LD_ADDR_VAR 0 5
11415: PUSH
11416: LD_STRING 
11418: PUSH
11419: LD_LOC 22
11423: STR
11424: ST_TO_ADDR
// if right_score < 10 then
11425: LD_LOC 23
11429: PUSH
11430: LD_INT 10
11432: LESS
11433: IFFALSE 11451
// tmp4 = 0 & right_score else
11435: LD_ADDR_VAR 0 6
11439: PUSH
11440: LD_STRING 0
11442: PUSH
11443: LD_LOC 23
11447: STR
11448: ST_TO_ADDR
11449: GO 11465
// tmp4 =  & right_score ;
11451: LD_ADDR_VAR 0 6
11455: PUSH
11456: LD_STRING 
11458: PUSH
11459: LD_LOC 23
11463: STR
11464: ST_TO_ADDR
// display_strings = [ Score:  & tmp3 &  to  & tmp4 , Time left:  & tmp1 & : & tmp2 ] ;
11465: LD_ADDR_OWVAR 47
11469: PUSH
11470: LD_STRING Score: 
11472: PUSH
11473: LD_VAR 0 5
11477: STR
11478: PUSH
11479: LD_STRING  to 
11481: STR
11482: PUSH
11483: LD_VAR 0 6
11487: STR
11488: PUSH
11489: LD_STRING Time left: 
11491: PUSH
11492: LD_VAR 0 3
11496: STR
11497: PUSH
11498: LD_STRING :
11500: STR
11501: PUSH
11502: LD_VAR 0 4
11506: STR
11507: PUSH
11508: EMPTY
11509: LIST
11510: LIST
11511: ST_TO_ADDR
// end ;
11512: LD_VAR 0 1
11516: RET
// every 0 0$1 marked 03 do
11517: GO 11519
11519: DISABLE
// begin time = time - 1 ;
11520: LD_ADDR_LOC 13
11524: PUSH
11525: LD_LOC 13
11529: PUSH
11530: LD_INT 1
11532: MINUS
11533: ST_TO_ADDR
// refresh ;
11534: CALL 11269 0 0
// if not time then
11538: LD_LOC 13
11542: NOT
11543: IFFALSE 11609
// if mp_sides_positions_ [ your_side ] = 1 then
11545: LD_EXP 50
11549: PUSH
11550: LD_OWVAR 2
11554: ARRAY
11555: PUSH
11556: LD_INT 1
11558: EQUAL
11559: IFFALSE 11585
// if left_score >= right_score then
11561: LD_LOC 22
11565: PUSH
11566: LD_LOC 23
11570: GREATEREQUAL
11571: IFFALSE 11579
// youwininmultiplayer else
11573: CALL_OW 106
11577: GO 11583
// youlostinmultiplayer else
11579: CALL_OW 107
11583: GO 11607
// if right_score >= left_score then
11585: LD_LOC 23
11589: PUSH
11590: LD_LOC 22
11594: GREATEREQUAL
11595: IFFALSE 11603
// youwininmultiplayer else
11597: CALL_OW 106
11601: GO 11607
// youlostinmultiplayer else
11603: CALL_OW 107
11607: GO 11610
// enable ;
11609: ENABLE
// end ;
11610: END
// every 0 0$10 marked 19 do
11611: GO 11613
11613: DISABLE
// begin cper = cper - 0 0$10 ;
11614: LD_ADDR_EXP 40
11618: PUSH
11619: LD_EXP 40
11623: PUSH
11624: LD_INT 350
11626: MINUS
11627: ST_TO_ADDR
// if cper = 0 then
11628: LD_EXP 40
11632: PUSH
11633: LD_INT 0
11635: EQUAL
11636: IFFALSE 11674
// begin createcratesarea ( 5 , vlevoex , true ) ;
11638: LD_INT 5
11640: PPUSH
11641: LD_INT 5
11643: PPUSH
11644: LD_INT 1
11646: PPUSH
11647: CALL_OW 55
// createcratesarea ( 5 , vpravoex , true ) ;
11651: LD_INT 5
11653: PPUSH
11654: LD_INT 6
11656: PPUSH
11657: LD_INT 1
11659: PPUSH
11660: CALL_OW 55
// cper = cperiode ;
11664: LD_ADDR_EXP 40
11668: PUSH
11669: LD_EXP 41
11673: ST_TO_ADDR
// end ; enable ;
11674: ENABLE
// end ;
11675: END
// every 5 trigger getlives ( depot1 ) < 500 marked 01 do
11676: LD_LOC 14
11680: PPUSH
11681: CALL_OW 256
11685: PUSH
11686: LD_INT 500
11688: LESS
11689: IFFALSE 11707
11691: GO 11693
11693: DISABLE
// begin setlives ( depot1 , 750 ) ;
11694: LD_LOC 14
11698: PPUSH
11699: LD_INT 750
11701: PPUSH
11702: CALL_OW 234
// enable ;
11706: ENABLE
// end ;
11707: END
// every 5 trigger getlives ( depot2 ) < 500 marked 02 do
11708: LD_LOC 15
11712: PPUSH
11713: CALL_OW 256
11717: PUSH
11718: LD_INT 500
11720: LESS
11721: IFFALSE 11739
11723: GO 11725
11725: DISABLE
// begin setlives ( depot2 , 750 ) ;
11726: LD_LOC 15
11730: PPUSH
11731: LD_INT 750
11733: PPUSH
11734: CALL_OW 234
// enable ;
11738: ENABLE
// end ;
11739: END
// on unitdestroyed ( un ) do var radius ;
11740: LD_INT 0
11742: PPUSH
// begin if GetClass ( un ) in [ class_apeman , class_apeman_soldier , class_apeman_kamikaze , class_apeman_engineer ] or GetControl ( un ) = control_apeman then
11743: LD_VAR 0 1
11747: PPUSH
11748: CALL_OW 257
11752: PUSH
11753: LD_INT 12
11755: PUSH
11756: LD_INT 15
11758: PUSH
11759: LD_INT 17
11761: PUSH
11762: LD_INT 16
11764: PUSH
11765: EMPTY
11766: LIST
11767: LIST
11768: LIST
11769: LIST
11770: IN
11771: PUSH
11772: LD_VAR 0 1
11776: PPUSH
11777: CALL_OW 263
11781: PUSH
11782: LD_INT 5
11784: EQUAL
11785: OR
11786: IFFALSE 11797
// ApeKilled ( un ) ;
11788: LD_VAR 0 1
11792: PPUSH
11793: CALL 8152 0 1
// if mp_game_type <> 1 then
11797: LD_OWVAR 6
11801: PUSH
11802: LD_INT 1
11804: NONEQUAL
11805: IFFALSE 11809
// exit ;
11807: GO 12103
// if un = vlajka1 then
11809: LD_VAR 0 1
11813: PUSH
11814: LD_LOC 16
11818: EQUAL
11819: IFFALSE 11957
// begin uc_side = pos2side ;
11821: LD_ADDR_OWVAR 20
11825: PUSH
11826: LD_EXP 45
11830: ST_TO_ADDR
// uc_nation = mp_sides_nations_ [ pos2side ] ;
11831: LD_ADDR_OWVAR 21
11835: PUSH
11836: LD_EXP 49
11840: PUSH
11841: LD_EXP 45
11845: ARRAY
11846: ST_TO_ADDR
// vc_chassis = podvozky [ uc_nation ] ;
11847: LD_ADDR_OWVAR 37
11851: PUSH
11852: LD_LOC 18
11856: PUSH
11857: LD_OWVAR 21
11861: ARRAY
11862: ST_TO_ADDR
// vc_control = control_manual ;
11863: LD_ADDR_OWVAR 38
11867: PUSH
11868: LD_INT 1
11870: ST_TO_ADDR
// vc_engine = engine_siberite ;
11871: LD_ADDR_OWVAR 39
11875: PUSH
11876: LD_INT 3
11878: ST_TO_ADDR
// vc_weapon = zbrane [ uc_nation ] ;
11879: LD_ADDR_OWVAR 40
11883: PUSH
11884: LD_LOC 19
11888: PUSH
11889: LD_OWVAR 21
11893: ARRAY
11894: ST_TO_ADDR
// vlajka1 = createvehicle ;
11895: LD_ADDR_LOC 16
11899: PUSH
11900: CALL_OW 45
11904: ST_TO_ADDR
// radius = 2 ;
11905: LD_ADDR_VAR 0 2
11909: PUSH
11910: LD_INT 2
11912: ST_TO_ADDR
// while not placeunitxyr ( vlajka1 , 76 , 60 , radius , false ) do
11913: LD_LOC 16
11917: PPUSH
11918: LD_INT 76
11920: PPUSH
11921: LD_INT 60
11923: PPUSH
11924: LD_VAR 0 2
11928: PPUSH
11929: LD_INT 0
11931: PPUSH
11932: CALL_OW 50
11936: NOT
11937: IFFALSE 11955
// radius = radius + 1 ;
11939: LD_ADDR_VAR 0 2
11943: PUSH
11944: LD_VAR 0 2
11948: PUSH
11949: LD_INT 1
11951: PLUS
11952: ST_TO_ADDR
11953: GO 11913
// end else
11955: GO 12103
// if un = vlajka2 then
11957: LD_VAR 0 1
11961: PUSH
11962: LD_LOC 17
11966: EQUAL
11967: IFFALSE 12103
// begin uc_side = pos1side ;
11969: LD_ADDR_OWVAR 20
11973: PUSH
11974: LD_EXP 44
11978: ST_TO_ADDR
// uc_nation = mp_sides_nations_ [ pos1side ] ;
11979: LD_ADDR_OWVAR 21
11983: PUSH
11984: LD_EXP 49
11988: PUSH
11989: LD_EXP 44
11993: ARRAY
11994: ST_TO_ADDR
// vc_chassis = podvozky [ uc_nation ] ;
11995: LD_ADDR_OWVAR 37
11999: PUSH
12000: LD_LOC 18
12004: PUSH
12005: LD_OWVAR 21
12009: ARRAY
12010: ST_TO_ADDR
// vc_control = control_manual ;
12011: LD_ADDR_OWVAR 38
12015: PUSH
12016: LD_INT 1
12018: ST_TO_ADDR
// vc_engine = engine_siberite ;
12019: LD_ADDR_OWVAR 39
12023: PUSH
12024: LD_INT 3
12026: ST_TO_ADDR
// vc_weapon = zbrane [ uc_nation ] ;
12027: LD_ADDR_OWVAR 40
12031: PUSH
12032: LD_LOC 19
12036: PUSH
12037: LD_OWVAR 21
12041: ARRAY
12042: ST_TO_ADDR
// vlajka2 = createvehicle ;
12043: LD_ADDR_LOC 17
12047: PUSH
12048: CALL_OW 45
12052: ST_TO_ADDR
// radius = 2 ;
12053: LD_ADDR_VAR 0 2
12057: PUSH
12058: LD_INT 2
12060: ST_TO_ADDR
// while not placeunitxyr ( vlajka2 , 143 , 60 , radius , false ) do
12061: LD_LOC 17
12065: PPUSH
12066: LD_INT 143
12068: PPUSH
12069: LD_INT 60
12071: PPUSH
12072: LD_VAR 0 2
12076: PPUSH
12077: LD_INT 0
12079: PPUSH
12080: CALL_OW 50
12084: NOT
12085: IFFALSE 12103
// radius = radius + 1 ;
12087: LD_ADDR_VAR 0 2
12091: PUSH
12092: LD_VAR 0 2
12096: PUSH
12097: LD_INT 1
12099: PLUS
12100: ST_TO_ADDR
12101: GO 12061
// end ; end ;
12103: PPOPN 2
12105: END
// on vehiclecaptured ( vehnew , vehold , origside , hum ) marked 05 do var radius ;
12106: LD_INT 0
12108: PPUSH
// if ( vehold = vlajka1 ) then
12109: LD_VAR 0 2
12113: PUSH
12114: LD_LOC 16
12118: EQUAL
12119: IFFALSE 12272
// begin vlajka1 = vehnew ;
12121: LD_ADDR_LOC 16
12125: PUSH
12126: LD_VAR 0 1
12130: ST_TO_ADDR
// comexitvehicle ( vlajka1 ) ;
12131: LD_LOC 16
12135: PPUSH
12136: CALL_OW 121
// while isdrivenby ( vlajka1 ) do
12140: LD_LOC 16
12144: PPUSH
12145: CALL_OW 311
12149: IFFALSE 12160
// wait ( 2 ) ;
12151: LD_INT 2
12153: PPUSH
12154: CALL_OW 67
12158: GO 12140
// if getdistunitxy ( vlajka1 , 76 , 60 ) > 4 then
12160: LD_LOC 16
12164: PPUSH
12165: LD_INT 76
12167: PPUSH
12168: LD_INT 60
12170: PPUSH
12171: CALL_OW 297
12175: PUSH
12176: LD_INT 4
12178: GREATER
12179: IFFALSE 12256
// begin removeunit ( vlajka1 ) ;
12181: LD_LOC 16
12185: PPUSH
12186: CALL_OW 64
// setside ( vlajka1 , origside ) ;
12190: LD_LOC 16
12194: PPUSH
12195: LD_VAR 0 3
12199: PPUSH
12200: CALL_OW 235
// radius = 2 ;
12204: LD_ADDR_VAR 0 5
12208: PUSH
12209: LD_INT 2
12211: ST_TO_ADDR
// while not placeunitxyr ( vlajka1 , 76 , 60 , radius , false ) do
12212: LD_LOC 16
12216: PPUSH
12217: LD_INT 76
12219: PPUSH
12220: LD_INT 60
12222: PPUSH
12223: LD_VAR 0 5
12227: PPUSH
12228: LD_INT 0
12230: PPUSH
12231: CALL_OW 50
12235: NOT
12236: IFFALSE 12254
// radius = radius + 1 ;
12238: LD_ADDR_VAR 0 5
12242: PUSH
12243: LD_VAR 0 5
12247: PUSH
12248: LD_INT 1
12250: PLUS
12251: ST_TO_ADDR
12252: GO 12212
// end else
12254: GO 12270
// setside ( vlajka1 , origside ) ;
12256: LD_LOC 16
12260: PPUSH
12261: LD_VAR 0 3
12265: PPUSH
12266: CALL_OW 235
// end else
12270: GO 12433
// if ( vehold = vlajka2 ) then
12272: LD_VAR 0 2
12276: PUSH
12277: LD_LOC 17
12281: EQUAL
12282: IFFALSE 12433
// begin vlajka2 = vehnew ;
12284: LD_ADDR_LOC 17
12288: PUSH
12289: LD_VAR 0 1
12293: ST_TO_ADDR
// comexitvehicle ( vlajka2 ) ;
12294: LD_LOC 17
12298: PPUSH
12299: CALL_OW 121
// while isdrivenby ( vlajka2 ) do
12303: LD_LOC 17
12307: PPUSH
12308: CALL_OW 311
12312: IFFALSE 12323
// wait ( 2 ) ;
12314: LD_INT 2
12316: PPUSH
12317: CALL_OW 67
12321: GO 12303
// if getdistunitxy ( vlajka2 , 143 , 60 ) > 4 then
12323: LD_LOC 17
12327: PPUSH
12328: LD_INT 143
12330: PPUSH
12331: LD_INT 60
12333: PPUSH
12334: CALL_OW 297
12338: PUSH
12339: LD_INT 4
12341: GREATER
12342: IFFALSE 12419
// begin removeunit ( vlajka2 ) ;
12344: LD_LOC 17
12348: PPUSH
12349: CALL_OW 64
// setside ( vlajka2 , origside ) ;
12353: LD_LOC 17
12357: PPUSH
12358: LD_VAR 0 3
12362: PPUSH
12363: CALL_OW 235
// radius = 2 ;
12367: LD_ADDR_VAR 0 5
12371: PUSH
12372: LD_INT 2
12374: ST_TO_ADDR
// while not placeunitxyr ( vlajka2 , 143 , 60 , radius , false ) do
12375: LD_LOC 17
12379: PPUSH
12380: LD_INT 143
12382: PPUSH
12383: LD_INT 60
12385: PPUSH
12386: LD_VAR 0 5
12390: PPUSH
12391: LD_INT 0
12393: PPUSH
12394: CALL_OW 50
12398: NOT
12399: IFFALSE 12417
// radius = radius + 1 ;
12401: LD_ADDR_VAR 0 5
12405: PUSH
12406: LD_VAR 0 5
12410: PUSH
12411: LD_INT 1
12413: PLUS
12414: ST_TO_ADDR
12415: GO 12375
// end else
12417: GO 12433
// setside ( vlajka2 , origside ) ;
12419: LD_LOC 17
12423: PPUSH
12424: LD_VAR 0 3
12428: PPUSH
12429: CALL_OW 235
// end ;
12433: PPOPN 5
12435: END
// every 10 + 1 trigger getdistunitxy ( vlajka1 , 185 , 60 ) < 6 marked 06 do var radius , tmp ;
12436: LD_LOC 16
12440: PPUSH
12441: LD_INT 185
12443: PPUSH
12444: LD_INT 60
12446: PPUSH
12447: CALL_OW 297
12451: PUSH
12452: LD_INT 6
12454: LESS
12455: IFFALSE 12659
12457: GO 12459
12459: DISABLE
12460: LD_INT 0
12462: PPUSH
12463: PPUSH
// begin right_score = right_score + 1 ;
12464: LD_ADDR_LOC 23
12468: PUSH
12469: LD_LOC 23
12473: PUSH
12474: LD_INT 1
12476: PLUS
12477: ST_TO_ADDR
// refresh ;
12478: CALL 11269 0 0
// comexitvehicle ( vlajka1 ) ;
12482: LD_LOC 16
12486: PPUSH
12487: CALL_OW 121
// while isdrivenby ( vlajka1 ) do
12491: LD_LOC 16
12495: PPUSH
12496: CALL_OW 311
12500: IFFALSE 12511
// wait ( 2 ) ;
12502: LD_INT 2
12504: PPUSH
12505: CALL_OW 67
12509: GO 12491
// removeunit ( vlajka1 ) ;
12511: LD_LOC 16
12515: PPUSH
12516: CALL_OW 64
// for radius in [ mat_cans , mat_oil , mat_siberit ] do
12520: LD_ADDR_VAR 0 1
12524: PUSH
12525: LD_INT 1
12527: PUSH
12528: LD_INT 2
12530: PUSH
12531: LD_INT 3
12533: PUSH
12534: EMPTY
12535: LIST
12536: LIST
12537: LIST
12538: PUSH
12539: FOR_IN
12540: IFFALSE 12606
// begin tmp = getcargo ( vlajka1 , radius ) ;
12542: LD_ADDR_VAR 0 2
12546: PUSH
12547: LD_LOC 16
12551: PPUSH
12552: LD_VAR 0 1
12556: PPUSH
12557: CALL_OW 289
12561: ST_TO_ADDR
// if tmp then
12562: LD_VAR 0 2
12566: IFFALSE 12604
// begin addresourcetype ( pos2base , radius , tmp ) ;
12568: LD_LOC 21
12572: PPUSH
12573: LD_VAR 0 1
12577: PPUSH
12578: LD_VAR 0 2
12582: PPUSH
12583: CALL_OW 276
// setcargo ( vlajka1 , radius , 0 ) ;
12587: LD_LOC 16
12591: PPUSH
12592: LD_VAR 0 1
12596: PPUSH
12597: LD_INT 0
12599: PPUSH
12600: CALL_OW 290
// end ; end ;
12604: GO 12539
12606: POP
12607: POP
// radius = 2 ;
12608: LD_ADDR_VAR 0 1
12612: PUSH
12613: LD_INT 2
12615: ST_TO_ADDR
// while not placeunitxyr ( vlajka1 , 76 , 60 , radius , false ) do
12616: LD_LOC 16
12620: PPUSH
12621: LD_INT 76
12623: PPUSH
12624: LD_INT 60
12626: PPUSH
12627: LD_VAR 0 1
12631: PPUSH
12632: LD_INT 0
12634: PPUSH
12635: CALL_OW 50
12639: NOT
12640: IFFALSE 12658
// radius = radius + 1 ;
12642: LD_ADDR_VAR 0 1
12646: PUSH
12647: LD_VAR 0 1
12651: PUSH
12652: LD_INT 1
12654: PLUS
12655: ST_TO_ADDR
12656: GO 12616
// enable ;
12658: ENABLE
// end ;
12659: PPOPN 2
12661: END
// every 10 trigger getdistunitxy ( vlajka2 , 34 , 60 ) < 6 marked 07 do var radius , tmp ;
12662: LD_LOC 17
12666: PPUSH
12667: LD_INT 34
12669: PPUSH
12670: LD_INT 60
12672: PPUSH
12673: CALL_OW 297
12677: PUSH
12678: LD_INT 6
12680: LESS
12681: IFFALSE 12885
12683: GO 12685
12685: DISABLE
12686: LD_INT 0
12688: PPUSH
12689: PPUSH
// begin left_score = left_score + 1 ;
12690: LD_ADDR_LOC 22
12694: PUSH
12695: LD_LOC 22
12699: PUSH
12700: LD_INT 1
12702: PLUS
12703: ST_TO_ADDR
// refresh ;
12704: CALL 11269 0 0
// comexitvehicle ( vlajka2 ) ;
12708: LD_LOC 17
12712: PPUSH
12713: CALL_OW 121
// while isdrivenby ( vlajka2 ) do
12717: LD_LOC 17
12721: PPUSH
12722: CALL_OW 311
12726: IFFALSE 12737
// wait ( 2 ) ;
12728: LD_INT 2
12730: PPUSH
12731: CALL_OW 67
12735: GO 12717
// removeunit ( vlajka2 ) ;
12737: LD_LOC 17
12741: PPUSH
12742: CALL_OW 64
// for radius in [ mat_cans , mat_oil , mat_siberit ] do
12746: LD_ADDR_VAR 0 1
12750: PUSH
12751: LD_INT 1
12753: PUSH
12754: LD_INT 2
12756: PUSH
12757: LD_INT 3
12759: PUSH
12760: EMPTY
12761: LIST
12762: LIST
12763: LIST
12764: PUSH
12765: FOR_IN
12766: IFFALSE 12832
// begin tmp = getcargo ( vlajka2 , radius ) ;
12768: LD_ADDR_VAR 0 2
12772: PUSH
12773: LD_LOC 17
12777: PPUSH
12778: LD_VAR 0 1
12782: PPUSH
12783: CALL_OW 289
12787: ST_TO_ADDR
// if tmp then
12788: LD_VAR 0 2
12792: IFFALSE 12830
// begin addresourcetype ( pos1base , radius , tmp ) ;
12794: LD_LOC 20
12798: PPUSH
12799: LD_VAR 0 1
12803: PPUSH
12804: LD_VAR 0 2
12808: PPUSH
12809: CALL_OW 276
// setcargo ( vlajka2 , radius , 0 ) ;
12813: LD_LOC 17
12817: PPUSH
12818: LD_VAR 0 1
12822: PPUSH
12823: LD_INT 0
12825: PPUSH
12826: CALL_OW 290
// end ; end ;
12830: GO 12765
12832: POP
12833: POP
// radius = 2 ;
12834: LD_ADDR_VAR 0 1
12838: PUSH
12839: LD_INT 2
12841: ST_TO_ADDR
// while not placeunitxyr ( vlajka2 , 143 , 60 , radius , false ) do
12842: LD_LOC 17
12846: PPUSH
12847: LD_INT 143
12849: PPUSH
12850: LD_INT 60
12852: PPUSH
12853: LD_VAR 0 1
12857: PPUSH
12858: LD_INT 0
12860: PPUSH
12861: CALL_OW 50
12865: NOT
12866: IFFALSE 12884
// radius = radius + 1 ;
12868: LD_ADDR_VAR 0 1
12872: PUSH
12873: LD_VAR 0 1
12877: PUSH
12878: LD_INT 1
12880: PLUS
12881: ST_TO_ADDR
12882: GO 12842
// enable ;
12884: ENABLE
// end ; end_of_file
12885: PPOPN 2
12887: END
// var zakladna , skilly , start_res , extra_oil , extra_sib , zakl_plus , batt_fl , sib_det , people_resp , siberitofka ; var fortpos , areasdiff , directions ; var resp_cnt1 , resp_cnt2 ; export function other_game ; var tmp , tmp2 , tmp3 , cl ; begin
12888: LD_INT 0
12890: PPUSH
12891: PPUSH
12892: PPUSH
12893: PPUSH
12894: PPUSH
// ctf = false ;
12895: LD_ADDR_EXP 47
12899: PUSH
12900: LD_INT 0
12902: ST_TO_ADDR
// resp_cnt1 = 0 ;
12903: LD_ADDR_LOC 47
12907: PUSH
12908: LD_INT 0
12910: ST_TO_ADDR
// resp_cnt2 = 0 ;
12911: LD_ADDR_LOC 48
12915: PUSH
12916: LD_INT 0
12918: ST_TO_ADDR
// enable ( nonctf_13 ) ;
12919: LD_EXP 55
12923: ENABLE_MARKED
// for tmp = 1 to 8 do
12924: LD_ADDR_VAR 0 2
12928: PUSH
12929: DOUBLE
12930: LD_INT 1
12932: DEC
12933: ST_TO_ADDR
12934: LD_INT 8
12936: PUSH
12937: FOR_TO
12938: IFFALSE 12999
// begin setrestrict ( b_depot , tmp , state_enabled ) ;
12940: LD_INT 0
12942: PPUSH
12943: LD_VAR 0 2
12947: PPUSH
12948: LD_INT 1
12950: PPUSH
12951: CALL_OW 324
// if sib_det then
12955: LD_LOC 41
12959: IFFALSE 12976
// settech ( tech_sibdet , tmp , state_researched ) ;
12961: LD_INT 20
12963: PPUSH
12964: LD_VAR 0 2
12968: PPUSH
12969: LD_INT 2
12971: PPUSH
12972: CALL_OW 322
// if siberitofka then
12976: LD_LOC 43
12980: IFFALSE 12997
// settech ( tech_sibfiss , tmp , state_enabled ) ;
12982: LD_INT 25
12984: PPUSH
12985: LD_VAR 0 2
12989: PPUSH
12990: LD_INT 1
12992: PPUSH
12993: CALL_OW 322
// end ;
12997: GO 12937
12999: POP
13000: POP
// if multiplayer then
13001: LD_OWVAR 4
13005: IFFALSE 13178
// begin zakladna = getmultiplayersetting ( 0 ) ;
13007: LD_ADDR_LOC 34
13011: PUSH
13012: LD_INT 0
13014: PPUSH
13015: CALL_OW 426
13019: ST_TO_ADDR
// lidi = getmultiplayersetting ( 1 ) ;
13020: LD_ADDR_EXP 37
13024: PUSH
13025: LD_INT 1
13027: PPUSH
13028: CALL_OW 426
13032: ST_TO_ADDR
// skilly = getmultiplayersetting ( 2 ) ;
13033: LD_ADDR_LOC 35
13037: PUSH
13038: LD_INT 2
13040: PPUSH
13041: CALL_OW 426
13045: ST_TO_ADDR
// start_res = getmultiplayersetting ( 3 ) ;
13046: LD_ADDR_LOC 36
13050: PUSH
13051: LD_INT 3
13053: PPUSH
13054: CALL_OW 426
13058: ST_TO_ADDR
// krabice = getmultiplayersetting ( 4 ) ;
13059: LD_ADDR_EXP 38
13063: PUSH
13064: LD_INT 4
13066: PPUSH
13067: CALL_OW 426
13071: ST_TO_ADDR
// extra_oil = getmultiplayersetting ( 5 ) ;
13072: LD_ADDR_LOC 37
13076: PUSH
13077: LD_INT 5
13079: PPUSH
13080: CALL_OW 426
13084: ST_TO_ADDR
// extra_sib = getmultiplayersetting ( 6 ) ;
13085: LD_ADDR_LOC 38
13089: PUSH
13090: LD_INT 6
13092: PPUSH
13093: CALL_OW 426
13097: ST_TO_ADDR
// zakl_plus = getmultiplayersetting ( 7 ) ;
13098: LD_ADDR_LOC 39
13102: PUSH
13103: LD_INT 7
13105: PPUSH
13106: CALL_OW 426
13110: ST_TO_ADDR
// batt_fl = getmultiplayersetting ( 11 ) ;
13111: LD_ADDR_LOC 40
13115: PUSH
13116: LD_INT 11
13118: PPUSH
13119: CALL_OW 426
13123: ST_TO_ADDR
// sib_det = getmultiplayersetting ( 12 ) ;
13124: LD_ADDR_LOC 41
13128: PUSH
13129: LD_INT 12
13131: PPUSH
13132: CALL_OW 426
13136: ST_TO_ADDR
// opoce = getmultiplayersetting ( 13 ) ;
13137: LD_ADDR_EXP 39
13141: PUSH
13142: LD_INT 13
13144: PPUSH
13145: CALL_OW 426
13149: ST_TO_ADDR
// people_resp = getmultiplayersetting ( 14 ) ;
13150: LD_ADDR_LOC 42
13154: PUSH
13155: LD_INT 14
13157: PPUSH
13158: CALL_OW 426
13162: ST_TO_ADDR
// siberitofka = getmultiplayersetting ( 15 ) ;
13163: LD_ADDR_LOC 43
13167: PUSH
13168: LD_INT 15
13170: PPUSH
13171: CALL_OW 426
13175: ST_TO_ADDR
// end else
13176: GO 13282
// begin zakladna = 1 ;
13178: LD_ADDR_LOC 34
13182: PUSH
13183: LD_INT 1
13185: ST_TO_ADDR
// lidi = 1 ;
13186: LD_ADDR_EXP 37
13190: PUSH
13191: LD_INT 1
13193: ST_TO_ADDR
// skilly = 1 ;
13194: LD_ADDR_LOC 35
13198: PUSH
13199: LD_INT 1
13201: ST_TO_ADDR
// start_res = 2 ;
13202: LD_ADDR_LOC 36
13206: PUSH
13207: LD_INT 2
13209: ST_TO_ADDR
// krabice = 1 ;
13210: LD_ADDR_EXP 38
13214: PUSH
13215: LD_INT 1
13217: ST_TO_ADDR
// extra_oil = 1 ;
13218: LD_ADDR_LOC 37
13222: PUSH
13223: LD_INT 1
13225: ST_TO_ADDR
// extra_sib = 1 ;
13226: LD_ADDR_LOC 38
13230: PUSH
13231: LD_INT 1
13233: ST_TO_ADDR
// zakl_plus = 2 ;
13234: LD_ADDR_LOC 39
13238: PUSH
13239: LD_INT 2
13241: ST_TO_ADDR
// batt_fl = 0 ;
13242: LD_ADDR_LOC 40
13246: PUSH
13247: LD_INT 0
13249: ST_TO_ADDR
// sib_det = 0 ;
13250: LD_ADDR_LOC 41
13254: PUSH
13255: LD_INT 0
13257: ST_TO_ADDR
// opoce = 3 ;
13258: LD_ADDR_EXP 39
13262: PUSH
13263: LD_INT 3
13265: ST_TO_ADDR
// people_resp = 0 ;
13266: LD_ADDR_LOC 42
13270: PUSH
13271: LD_INT 0
13273: ST_TO_ADDR
// siberitofka = 0 ;
13274: LD_ADDR_LOC 43
13278: PUSH
13279: LD_INT 0
13281: ST_TO_ADDR
// end ; if people_resp then
13282: LD_LOC 42
13286: IFFALSE 13303
// begin enable ( nonctf_10 ) ;
13288: LD_EXP 52
13292: ENABLE_MARKED
// enable ( nonctf_11 ) ;
13293: LD_EXP 53
13297: ENABLE_MARKED
// enable ( nonctf_12 ) ;
13298: LD_EXP 54
13302: ENABLE_MARKED
// end ; if people_resp = 1 then
13303: LD_LOC 42
13307: PUSH
13308: LD_INT 1
13310: EQUAL
13311: IFFALSE 13321
// people_resp = 3 ;
13313: LD_ADDR_LOC 42
13317: PUSH
13318: LD_INT 3
13320: ST_TO_ADDR
// if people_resp = 2 then
13321: LD_LOC 42
13325: PUSH
13326: LD_INT 2
13328: EQUAL
13329: IFFALSE 13339
// people_resp = 1 ;
13331: LD_ADDR_LOC 42
13335: PUSH
13336: LD_INT 1
13338: ST_TO_ADDR
// case lidi of 0 :
13339: LD_EXP 37
13343: PUSH
13344: LD_INT 0
13346: DOUBLE
13347: EQUAL
13348: IFTRUE 13352
13350: GO 13363
13352: POP
// lidi = 9 ; 1 :
13353: LD_ADDR_EXP 37
13357: PUSH
13358: LD_INT 9
13360: ST_TO_ADDR
13361: GO 13440
13363: LD_INT 1
13365: DOUBLE
13366: EQUAL
13367: IFTRUE 13371
13369: GO 13382
13371: POP
// lidi = 13 ; 2 :
13372: LD_ADDR_EXP 37
13376: PUSH
13377: LD_INT 13
13379: ST_TO_ADDR
13380: GO 13440
13382: LD_INT 2
13384: DOUBLE
13385: EQUAL
13386: IFTRUE 13390
13388: GO 13401
13390: POP
// lidi = 19 ; 3 :
13391: LD_ADDR_EXP 37
13395: PUSH
13396: LD_INT 19
13398: ST_TO_ADDR
13399: GO 13440
13401: LD_INT 3
13403: DOUBLE
13404: EQUAL
13405: IFTRUE 13409
13407: GO 13420
13409: POP
// lidi = 23 ; 4 :
13410: LD_ADDR_EXP 37
13414: PUSH
13415: LD_INT 23
13417: ST_TO_ADDR
13418: GO 13440
13420: LD_INT 4
13422: DOUBLE
13423: EQUAL
13424: IFTRUE 13428
13426: GO 13439
13428: POP
// lidi = 29 ; end ;
13429: LD_ADDR_EXP 37
13433: PUSH
13434: LD_INT 29
13436: ST_TO_ADDR
13437: GO 13440
13439: POP
// skilly = skilly + 1 ;
13440: LD_ADDR_LOC 35
13444: PUSH
13445: LD_LOC 35
13449: PUSH
13450: LD_INT 1
13452: PLUS
13453: ST_TO_ADDR
// case start_res of 0 :
13454: LD_LOC 36
13458: PUSH
13459: LD_INT 0
13461: DOUBLE
13462: EQUAL
13463: IFTRUE 13467
13465: GO 13478
13467: POP
// start_res = 0 ; 1 :
13468: LD_ADDR_LOC 36
13472: PUSH
13473: LD_INT 0
13475: ST_TO_ADDR
13476: GO 13536
13478: LD_INT 1
13480: DOUBLE
13481: EQUAL
13482: IFTRUE 13486
13484: GO 13497
13486: POP
// start_res = 50 ; 2 :
13487: LD_ADDR_LOC 36
13491: PUSH
13492: LD_INT 50
13494: ST_TO_ADDR
13495: GO 13536
13497: LD_INT 2
13499: DOUBLE
13500: EQUAL
13501: IFTRUE 13505
13503: GO 13516
13505: POP
// start_res = 100 ; 3 :
13506: LD_ADDR_LOC 36
13510: PUSH
13511: LD_INT 100
13513: ST_TO_ADDR
13514: GO 13536
13516: LD_INT 3
13518: DOUBLE
13519: EQUAL
13520: IFTRUE 13524
13522: GO 13535
13524: POP
// start_res = 200 ; end ;
13525: LD_ADDR_LOC 36
13529: PUSH
13530: LD_INT 200
13532: ST_TO_ADDR
13533: GO 13536
13535: POP
// case krabice of 0 :
13536: LD_EXP 38
13540: PUSH
13541: LD_INT 0
13543: DOUBLE
13544: EQUAL
13545: IFTRUE 13549
13547: GO 13560
13549: POP
// cperiode = 1 1$30 ; 1 :
13550: LD_ADDR_EXP 41
13554: PUSH
13555: LD_INT 3150
13557: ST_TO_ADDR
13558: GO 13599
13560: LD_INT 1
13562: DOUBLE
13563: EQUAL
13564: IFTRUE 13568
13566: GO 13579
13568: POP
// cperiode = 1 1$00 ; 2 :
13569: LD_ADDR_EXP 41
13573: PUSH
13574: LD_INT 2100
13576: ST_TO_ADDR
13577: GO 13599
13579: LD_INT 2
13581: DOUBLE
13582: EQUAL
13583: IFTRUE 13587
13585: GO 13598
13587: POP
// cperiode = 0 0$30 ; end ;
13588: LD_ADDR_EXP 41
13592: PUSH
13593: LD_INT 1050
13595: ST_TO_ADDR
13596: GO 13599
13598: POP
// case opoce of 0 :
13599: LD_EXP 39
13603: PUSH
13604: LD_INT 0
13606: DOUBLE
13607: EQUAL
13608: IFTRUE 13612
13610: GO 13623
13612: POP
// opoce = 0 ; 1 :
13613: LD_ADDR_EXP 39
13617: PUSH
13618: LD_INT 0
13620: ST_TO_ADDR
13621: GO 13738
13623: LD_INT 1
13625: DOUBLE
13626: EQUAL
13627: IFTRUE 13631
13629: GO 13642
13631: POP
// opoce = 3 ; 2 :
13632: LD_ADDR_EXP 39
13636: PUSH
13637: LD_INT 3
13639: ST_TO_ADDR
13640: GO 13738
13642: LD_INT 2
13644: DOUBLE
13645: EQUAL
13646: IFTRUE 13650
13648: GO 13661
13650: POP
// opoce = 7 ; 3 :
13651: LD_ADDR_EXP 39
13655: PUSH
13656: LD_INT 7
13658: ST_TO_ADDR
13659: GO 13738
13661: LD_INT 3
13663: DOUBLE
13664: EQUAL
13665: IFTRUE 13669
13667: GO 13680
13669: POP
// opoce = 11 ; 4 :
13670: LD_ADDR_EXP 39
13674: PUSH
13675: LD_INT 11
13677: ST_TO_ADDR
13678: GO 13738
13680: LD_INT 4
13682: DOUBLE
13683: EQUAL
13684: IFTRUE 13688
13686: GO 13699
13688: POP
// opoce = 15 ; 5 :
13689: LD_ADDR_EXP 39
13693: PUSH
13694: LD_INT 15
13696: ST_TO_ADDR
13697: GO 13738
13699: LD_INT 5
13701: DOUBLE
13702: EQUAL
13703: IFTRUE 13707
13705: GO 13718
13707: POP
// opoce = 19 ; 6 :
13708: LD_ADDR_EXP 39
13712: PUSH
13713: LD_INT 19
13715: ST_TO_ADDR
13716: GO 13738
13718: LD_INT 6
13720: DOUBLE
13721: EQUAL
13722: IFTRUE 13726
13724: GO 13737
13726: POP
// opoce = 23 ; end ;
13727: LD_ADDR_EXP 39
13731: PUSH
13732: LD_INT 23
13734: ST_TO_ADDR
13735: GO 13738
13737: POP
// fortpos = [ [ [ 46 , 53 , 4 ] , [ 51 , 62 , 4 ] ] , [ [ 167 , 53 , 1 ] , [ 173 , 64 , 1 ] ] ] ;
13738: LD_ADDR_LOC 44
13742: PUSH
13743: LD_INT 46
13745: PUSH
13746: LD_INT 53
13748: PUSH
13749: LD_INT 4
13751: PUSH
13752: EMPTY
13753: LIST
13754: LIST
13755: LIST
13756: PUSH
13757: LD_INT 51
13759: PUSH
13760: LD_INT 62
13762: PUSH
13763: LD_INT 4
13765: PUSH
13766: EMPTY
13767: LIST
13768: LIST
13769: LIST
13770: PUSH
13771: EMPTY
13772: LIST
13773: LIST
13774: PUSH
13775: LD_INT 167
13777: PUSH
13778: LD_INT 53
13780: PUSH
13781: LD_INT 1
13783: PUSH
13784: EMPTY
13785: LIST
13786: LIST
13787: LIST
13788: PUSH
13789: LD_INT 173
13791: PUSH
13792: LD_INT 64
13794: PUSH
13795: LD_INT 1
13797: PUSH
13798: EMPTY
13799: LIST
13800: LIST
13801: LIST
13802: PUSH
13803: EMPTY
13804: LIST
13805: LIST
13806: PUSH
13807: EMPTY
13808: LIST
13809: LIST
13810: ST_TO_ADDR
// areasdiff = [ vlevodiff , vpravodiff ] ;
13811: LD_ADDR_LOC 45
13815: PUSH
13816: LD_INT 16
13818: PUSH
13819: LD_INT 17
13821: PUSH
13822: EMPTY
13823: LIST
13824: LIST
13825: ST_TO_ADDR
// directions = [ 4 , 1 ] ;
13826: LD_ADDR_LOC 46
13830: PUSH
13831: LD_INT 4
13833: PUSH
13834: LD_INT 1
13836: PUSH
13837: EMPTY
13838: LIST
13839: LIST
13840: ST_TO_ADDR
// for tmp = 1 to 8 do
13841: LD_ADDR_VAR 0 2
13845: PUSH
13846: DOUBLE
13847: LD_INT 1
13849: DEC
13850: ST_TO_ADDR
13851: LD_INT 8
13853: PUSH
13854: FOR_TO
13855: IFFALSE 15024
// if mp_sides_nations_ [ tmp ] then
13857: LD_EXP 49
13861: PUSH
13862: LD_VAR 0 2
13866: ARRAY
13867: IFFALSE 15022
// begin if mp_sides_positions_ [ tmp ] = 1 then
13869: LD_EXP 50
13873: PUSH
13874: LD_VAR 0 2
13878: ARRAY
13879: PUSH
13880: LD_INT 1
13882: EQUAL
13883: IFFALSE 13897
// pos1side = tmp else
13885: LD_ADDR_EXP 44
13889: PUSH
13890: LD_VAR 0 2
13894: ST_TO_ADDR
13895: GO 13907
// pos2side = tmp ;
13897: LD_ADDR_EXP 45
13901: PUSH
13902: LD_VAR 0 2
13906: ST_TO_ADDR
// uc_side = tmp ;
13907: LD_ADDR_OWVAR 20
13911: PUSH
13912: LD_VAR 0 2
13916: ST_TO_ADDR
// uc_nation = mp_sides_nations_ [ tmp ] ;
13917: LD_ADDR_OWVAR 21
13921: PUSH
13922: LD_EXP 49
13926: PUSH
13927: LD_VAR 0 2
13931: ARRAY
13932: ST_TO_ADDR
// bc_type = b_depot ;
13933: LD_ADDR_OWVAR 42
13937: PUSH
13938: LD_INT 0
13940: ST_TO_ADDR
// bc_level = 1 ;
13941: LD_ADDR_OWVAR 43
13945: PUSH
13946: LD_INT 1
13948: ST_TO_ADDR
// tmp2 = createandplacebuildingxyd ( depotpositions [ mp_sides_positions_ [ tmp ] ] [ 1 ] , depotpositions [ mp_sides_positions_ [ tmp ] ] [ 2 ] , depotpositions [ mp_sides_positions_ [ tmp ] ] [ 3 ] ) ;
13949: LD_ADDR_VAR 0 3
13953: PUSH
13954: LD_EXP 42
13958: PUSH
13959: LD_EXP 50
13963: PUSH
13964: LD_VAR 0 2
13968: ARRAY
13969: ARRAY
13970: PUSH
13971: LD_INT 1
13973: ARRAY
13974: PPUSH
13975: LD_EXP 42
13979: PUSH
13980: LD_EXP 50
13984: PUSH
13985: LD_VAR 0 2
13989: ARRAY
13990: ARRAY
13991: PUSH
13992: LD_INT 2
13994: ARRAY
13995: PPUSH
13996: LD_EXP 42
14000: PUSH
14001: LD_EXP 50
14005: PUSH
14006: LD_VAR 0 2
14010: ARRAY
14011: ARRAY
14012: PUSH
14013: LD_INT 3
14015: ARRAY
14016: PPUSH
14017: CALL_OW 47
14021: ST_TO_ADDR
// if batt_fl then
14022: LD_LOC 40
14026: IFFALSE 14136
// setbattleflag ( tmp , depotpositions [ mp_sides_positions_ [ tmp ] ] [ 1 ] , depotpositions [ mp_sides_positions_ [ tmp ] ] [ 2 ] , [ [ bfo_defend_bonus_human , 80 ] , [ bfo_defend_bonus_vehicle , 40 ] , [ bfo_defend_bonus_building , 0 ] , [ bfo_range , 17 ] , [ bfo_height , 100 ] ] ) ;
14028: LD_VAR 0 2
14032: PPUSH
14033: LD_EXP 42
14037: PUSH
14038: LD_EXP 50
14042: PUSH
14043: LD_VAR 0 2
14047: ARRAY
14048: ARRAY
14049: PUSH
14050: LD_INT 1
14052: ARRAY
14053: PPUSH
14054: LD_EXP 42
14058: PUSH
14059: LD_EXP 50
14063: PUSH
14064: LD_VAR 0 2
14068: ARRAY
14069: ARRAY
14070: PUSH
14071: LD_INT 2
14073: ARRAY
14074: PPUSH
14075: LD_INT 1
14077: PUSH
14078: LD_INT 80
14080: PUSH
14081: EMPTY
14082: LIST
14083: LIST
14084: PUSH
14085: LD_INT 2
14087: PUSH
14088: LD_INT 40
14090: PUSH
14091: EMPTY
14092: LIST
14093: LIST
14094: PUSH
14095: LD_INT 3
14097: PUSH
14098: LD_INT 0
14100: PUSH
14101: EMPTY
14102: LIST
14103: LIST
14104: PUSH
14105: LD_INT 10
14107: PUSH
14108: LD_INT 17
14110: PUSH
14111: EMPTY
14112: LIST
14113: LIST
14114: PUSH
14115: LD_INT 20
14117: PUSH
14118: LD_INT 100
14120: PUSH
14121: EMPTY
14122: LIST
14123: LIST
14124: PUSH
14125: EMPTY
14126: LIST
14127: LIST
14128: LIST
14129: LIST
14130: LIST
14131: PPUSH
14132: CALL_OW 418
// if zakladna then
14136: LD_LOC 34
14140: IFFALSE 14308
// begin bc_type = b_breastwork ;
14142: LD_ADDR_OWVAR 42
14146: PUSH
14147: LD_INT 31
14149: ST_TO_ADDR
// createandplacebuildingxyd ( fortpos [ mp_sides_positions_ [ tmp ] ] [ 1 ] [ 1 ] , fortpos [ mp_sides_positions_ [ tmp ] ] [ 1 ] [ 2 ] , fortpos [ mp_sides_positions_ [ tmp ] ] [ 1 ] [ 3 ] ) ;
14150: LD_LOC 44
14154: PUSH
14155: LD_EXP 50
14159: PUSH
14160: LD_VAR 0 2
14164: ARRAY
14165: ARRAY
14166: PUSH
14167: LD_INT 1
14169: ARRAY
14170: PUSH
14171: LD_INT 1
14173: ARRAY
14174: PPUSH
14175: LD_LOC 44
14179: PUSH
14180: LD_EXP 50
14184: PUSH
14185: LD_VAR 0 2
14189: ARRAY
14190: ARRAY
14191: PUSH
14192: LD_INT 1
14194: ARRAY
14195: PUSH
14196: LD_INT 2
14198: ARRAY
14199: PPUSH
14200: LD_LOC 44
14204: PUSH
14205: LD_EXP 50
14209: PUSH
14210: LD_VAR 0 2
14214: ARRAY
14215: ARRAY
14216: PUSH
14217: LD_INT 1
14219: ARRAY
14220: PUSH
14221: LD_INT 3
14223: ARRAY
14224: PPUSH
14225: CALL_OW 47
// createandplacebuildingxyd ( fortpos [ mp_sides_positions_ [ tmp ] ] [ 2 ] [ 1 ] , fortpos [ mp_sides_positions_ [ tmp ] ] [ 2 ] [ 2 ] , fortpos [ mp_sides_positions_ [ tmp ] ] [ 2 ] [ 3 ] ) ;
14229: LD_LOC 44
14233: PUSH
14234: LD_EXP 50
14238: PUSH
14239: LD_VAR 0 2
14243: ARRAY
14244: ARRAY
14245: PUSH
14246: LD_INT 2
14248: ARRAY
14249: PUSH
14250: LD_INT 1
14252: ARRAY
14253: PPUSH
14254: LD_LOC 44
14258: PUSH
14259: LD_EXP 50
14263: PUSH
14264: LD_VAR 0 2
14268: ARRAY
14269: ARRAY
14270: PUSH
14271: LD_INT 2
14273: ARRAY
14274: PUSH
14275: LD_INT 2
14277: ARRAY
14278: PPUSH
14279: LD_LOC 44
14283: PUSH
14284: LD_EXP 50
14288: PUSH
14289: LD_VAR 0 2
14293: ARRAY
14294: ARRAY
14295: PUSH
14296: LD_INT 2
14298: ARRAY
14299: PUSH
14300: LD_INT 3
14302: ARRAY
14303: PPUSH
14304: CALL_OW 47
// end ; addresourcetype ( getbase ( tmp2 ) , mat_cans , start_res ) ;
14308: LD_VAR 0 3
14312: PPUSH
14313: CALL_OW 274
14317: PPUSH
14318: LD_INT 1
14320: PPUSH
14321: LD_LOC 36
14325: PPUSH
14326: CALL_OW 276
// if extra_oil then
14330: LD_LOC 37
14334: IFFALSE 14426
// begin tmp2 = randhexarea ( areasdiff [ mp_sides_positions_ [ tmp ] ] , false ) ;
14336: LD_ADDR_VAR 0 3
14340: PUSH
14341: LD_LOC 45
14345: PUSH
14346: LD_EXP 50
14350: PUSH
14351: LD_VAR 0 2
14355: ARRAY
14356: ARRAY
14357: PPUSH
14358: LD_INT 0
14360: PPUSH
14361: CALL_OW 16
14365: ST_TO_ADDR
// while not createdepositxy ( tmp2 [ 1 ] , tmp2 [ 2 ] , mat_oil ) do
14366: LD_VAR 0 3
14370: PUSH
14371: LD_INT 1
14373: ARRAY
14374: PPUSH
14375: LD_VAR 0 3
14379: PUSH
14380: LD_INT 2
14382: ARRAY
14383: PPUSH
14384: LD_INT 2
14386: PPUSH
14387: CALL_OW 62
14391: NOT
14392: IFFALSE 14426
// tmp2 = randhexarea ( areasdiff [ mp_sides_positions_ [ tmp ] ] , false ) ;
14394: LD_ADDR_VAR 0 3
14398: PUSH
14399: LD_LOC 45
14403: PUSH
14404: LD_EXP 50
14408: PUSH
14409: LD_VAR 0 2
14413: ARRAY
14414: ARRAY
14415: PPUSH
14416: LD_INT 0
14418: PPUSH
14419: CALL_OW 16
14423: ST_TO_ADDR
14424: GO 14366
// end ; if extra_sib then
14426: LD_LOC 38
14430: IFFALSE 14522
// begin tmp2 = randhexarea ( areasdiff [ mp_sides_positions_ [ tmp ] ] , false ) ;
14432: LD_ADDR_VAR 0 3
14436: PUSH
14437: LD_LOC 45
14441: PUSH
14442: LD_EXP 50
14446: PUSH
14447: LD_VAR 0 2
14451: ARRAY
14452: ARRAY
14453: PPUSH
14454: LD_INT 0
14456: PPUSH
14457: CALL_OW 16
14461: ST_TO_ADDR
// while not createdepositxy ( tmp2 [ 1 ] , tmp2 [ 2 ] , mat_siberit ) do
14462: LD_VAR 0 3
14466: PUSH
14467: LD_INT 1
14469: ARRAY
14470: PPUSH
14471: LD_VAR 0 3
14475: PUSH
14476: LD_INT 2
14478: ARRAY
14479: PPUSH
14480: LD_INT 3
14482: PPUSH
14483: CALL_OW 62
14487: NOT
14488: IFFALSE 14522
// tmp2 = randhexarea ( areasdiff [ mp_sides_positions_ [ tmp ] ] , false ) ;
14490: LD_ADDR_VAR 0 3
14494: PUSH
14495: LD_LOC 45
14499: PUSH
14500: LD_EXP 50
14504: PUSH
14505: LD_VAR 0 2
14509: ARRAY
14510: ARRAY
14511: PPUSH
14512: LD_INT 0
14514: PPUSH
14515: CALL_OW 16
14519: ST_TO_ADDR
14520: GO 14462
// end ; if zakl_plus > 0 then
14522: LD_LOC 39
14526: PUSH
14527: LD_INT 0
14529: GREATER
14530: IFFALSE 14790
// begin bc_type = b_lab ;
14532: LD_ADDR_OWVAR 42
14536: PUSH
14537: LD_INT 6
14539: ST_TO_ADDR
// uc_direction = directions [ mp_sides_positions_ [ tmp ] ] ;
14540: LD_ADDR_OWVAR 24
14544: PUSH
14545: LD_LOC 46
14549: PUSH
14550: LD_EXP 50
14554: PUSH
14555: LD_VAR 0 2
14559: ARRAY
14560: ARRAY
14561: ST_TO_ADDR
// tmp3 = createbuilding ;
14562: LD_ADDR_VAR 0 4
14566: PUSH
14567: CALL_OW 46
14571: ST_TO_ADDR
// tmp2 = randhexarea ( areas [ mp_sides_positions_ [ tmp ] ] , false ) ;
14572: LD_ADDR_VAR 0 3
14576: PUSH
14577: LD_EXP 43
14581: PUSH
14582: LD_EXP 50
14586: PUSH
14587: LD_VAR 0 2
14591: ARRAY
14592: ARRAY
14593: PPUSH
14594: LD_INT 0
14596: PPUSH
14597: CALL_OW 16
14601: ST_TO_ADDR
// while not placeunitxy ( tmp3 , tmp2 [ 1 ] , tmp2 [ 2 ] , false ) do
14602: LD_VAR 0 4
14606: PPUSH
14607: LD_VAR 0 3
14611: PUSH
14612: LD_INT 1
14614: ARRAY
14615: PPUSH
14616: LD_VAR 0 3
14620: PUSH
14621: LD_INT 2
14623: ARRAY
14624: PPUSH
14625: LD_INT 0
14627: PPUSH
14628: CALL_OW 48
14632: NOT
14633: IFFALSE 14667
// tmp2 = randhexarea ( areas [ mp_sides_positions_ [ tmp ] ] , false ) ;
14635: LD_ADDR_VAR 0 3
14639: PUSH
14640: LD_EXP 43
14644: PUSH
14645: LD_EXP 50
14649: PUSH
14650: LD_VAR 0 2
14654: ARRAY
14655: ARRAY
14656: PPUSH
14657: LD_INT 0
14659: PPUSH
14660: CALL_OW 16
14664: ST_TO_ADDR
14665: GO 14602
// if zakl_plus > 1 then
14667: LD_LOC 39
14671: PUSH
14672: LD_INT 1
14674: GREATER
14675: IFFALSE 14790
// begin bc_type = b_workshop ;
14677: LD_ADDR_OWVAR 42
14681: PUSH
14682: LD_INT 2
14684: ST_TO_ADDR
// tmp3 = createbuilding ;
14685: LD_ADDR_VAR 0 4
14689: PUSH
14690: CALL_OW 46
14694: ST_TO_ADDR
// tmp2 = randhexarea ( areas [ mp_sides_positions_ [ tmp ] ] , false ) ;
14695: LD_ADDR_VAR 0 3
14699: PUSH
14700: LD_EXP 43
14704: PUSH
14705: LD_EXP 50
14709: PUSH
14710: LD_VAR 0 2
14714: ARRAY
14715: ARRAY
14716: PPUSH
14717: LD_INT 0
14719: PPUSH
14720: CALL_OW 16
14724: ST_TO_ADDR
// while not placeunitxy ( tmp3 , tmp2 [ 1 ] , tmp2 [ 2 ] , false ) do
14725: LD_VAR 0 4
14729: PPUSH
14730: LD_VAR 0 3
14734: PUSH
14735: LD_INT 1
14737: ARRAY
14738: PPUSH
14739: LD_VAR 0 3
14743: PUSH
14744: LD_INT 2
14746: ARRAY
14747: PPUSH
14748: LD_INT 0
14750: PPUSH
14751: CALL_OW 48
14755: NOT
14756: IFFALSE 14790
// tmp2 = randhexarea ( areas [ mp_sides_positions_ [ tmp ] ] , false ) ;
14758: LD_ADDR_VAR 0 3
14762: PUSH
14763: LD_EXP 43
14767: PUSH
14768: LD_EXP 50
14772: PUSH
14773: LD_VAR 0 2
14777: ARRAY
14778: ARRAY
14779: PPUSH
14780: LD_INT 0
14782: PPUSH
14783: CALL_OW 16
14787: ST_TO_ADDR
14788: GO 14725
// end ; end ; if batt_fl then
14790: LD_LOC 40
14794: IFFALSE 14904
// setbattleflag ( tmp , depotpositions [ mp_sides_positions_ [ tmp ] ] [ 1 ] , depotpositions [ mp_sides_positions_ [ tmp ] ] [ 2 ] , [ [ bfo_defend_bonus_human , 80 ] , [ bfo_defend_bonus_vehicle , 40 ] , [ bfo_defend_bonus_building , 0 ] , [ bfo_range , 17 ] , [ bfo_height , 100 ] ] ) ;
14796: LD_VAR 0 2
14800: PPUSH
14801: LD_EXP 42
14805: PUSH
14806: LD_EXP 50
14810: PUSH
14811: LD_VAR 0 2
14815: ARRAY
14816: ARRAY
14817: PUSH
14818: LD_INT 1
14820: ARRAY
14821: PPUSH
14822: LD_EXP 42
14826: PUSH
14827: LD_EXP 50
14831: PUSH
14832: LD_VAR 0 2
14836: ARRAY
14837: ARRAY
14838: PUSH
14839: LD_INT 2
14841: ARRAY
14842: PPUSH
14843: LD_INT 1
14845: PUSH
14846: LD_INT 80
14848: PUSH
14849: EMPTY
14850: LIST
14851: LIST
14852: PUSH
14853: LD_INT 2
14855: PUSH
14856: LD_INT 40
14858: PUSH
14859: EMPTY
14860: LIST
14861: LIST
14862: PUSH
14863: LD_INT 3
14865: PUSH
14866: LD_INT 0
14868: PUSH
14869: EMPTY
14870: LIST
14871: LIST
14872: PUSH
14873: LD_INT 10
14875: PUSH
14876: LD_INT 17
14878: PUSH
14879: EMPTY
14880: LIST
14881: LIST
14882: PUSH
14883: LD_INT 20
14885: PUSH
14886: LD_INT 100
14888: PUSH
14889: EMPTY
14890: LIST
14891: LIST
14892: PUSH
14893: EMPTY
14894: LIST
14895: LIST
14896: LIST
14897: LIST
14898: LIST
14899: PPUSH
14900: CALL_OW 418
// cl = class_scientistic ;
14904: LD_ADDR_VAR 0 5
14908: PUSH
14909: LD_INT 4
14911: ST_TO_ADDR
// for tmp2 = 1 to lidi do
14912: LD_ADDR_VAR 0 3
14916: PUSH
14917: DOUBLE
14918: LD_INT 1
14920: DEC
14921: ST_TO_ADDR
14922: LD_EXP 37
14926: PUSH
14927: FOR_TO
14928: IFFALSE 15020
// begin if tmp2 >= lidi / 2 then
14930: LD_VAR 0 3
14934: PUSH
14935: LD_EXP 37
14939: PUSH
14940: LD_INT 2
14942: DIVREAL
14943: GREATEREQUAL
14944: IFFALSE 14954
// cl = class_soldier ;
14946: LD_ADDR_VAR 0 5
14950: PUSH
14951: LD_INT 1
14953: ST_TO_ADDR
// preparehuman ( 0 , cl , skilly ) ;
14954: LD_INT 0
14956: PPUSH
14957: LD_VAR 0 5
14961: PPUSH
14962: LD_LOC 35
14966: PPUSH
14967: CALL_OW 380
// if tmp2 = 1 then
14971: LD_VAR 0 3
14975: PUSH
14976: LD_INT 1
14978: EQUAL
14979: IFFALSE 14989
// cl = class_engineer ;
14981: LD_ADDR_VAR 0 5
14985: PUSH
14986: LD_INT 2
14988: ST_TO_ADDR
// placeunitarea ( createhuman , areas [ mp_sides_positions_ [ tmp ] ] , false ) ;
14989: CALL_OW 44
14993: PPUSH
14994: LD_EXP 43
14998: PUSH
14999: LD_EXP 50
15003: PUSH
15004: LD_VAR 0 2
15008: ARRAY
15009: ARRAY
15010: PPUSH
15011: LD_INT 0
15013: PPUSH
15014: CALL_OW 49
// end ;
15018: GO 14927
15020: POP
15021: POP
// end ;
15022: GO 13854
15024: POP
15025: POP
// uc_side = 0 ;
15026: LD_ADDR_OWVAR 20
15030: PUSH
15031: LD_INT 0
15033: ST_TO_ADDR
// uc_nation = nation_nature ;
15034: LD_ADDR_OWVAR 21
15038: PUSH
15039: LD_INT 0
15041: ST_TO_ADDR
// for tmp = 1 to opoce do
15042: LD_ADDR_VAR 0 2
15046: PUSH
15047: DOUBLE
15048: LD_INT 1
15050: DEC
15051: ST_TO_ADDR
15052: LD_EXP 39
15056: PUSH
15057: FOR_TO
15058: IFFALSE 15090
// begin preparehuman ( 0 , class_apeman , 0 ) ;
15060: LD_INT 0
15062: PPUSH
15063: LD_INT 12
15065: PPUSH
15066: LD_INT 0
15068: PPUSH
15069: CALL_OW 380
// placeunitarea ( createhuman , les , false ) ;
15073: CALL_OW 44
15077: PPUSH
15078: LD_INT 4
15080: PPUSH
15081: LD_INT 0
15083: PPUSH
15084: CALL_OW 49
// end ;
15088: GO 15057
15090: POP
15091: POP
// case mp_sides_positions_ [ your_side ] of 1 :
15092: LD_EXP 50
15096: PUSH
15097: LD_OWVAR 2
15101: ARRAY
15102: PUSH
15103: LD_INT 1
15105: DOUBLE
15106: EQUAL
15107: IFTRUE 15111
15109: GO 15124
15111: POP
// centernowonxy ( 44 , 60 ) ; 2 :
15112: LD_INT 44
15114: PPUSH
15115: LD_INT 60
15117: PPUSH
15118: CALL_OW 86
15122: GO 15146
15124: LD_INT 2
15126: DOUBLE
15127: EQUAL
15128: IFTRUE 15132
15130: GO 15145
15132: POP
// centernowonxy ( 175 , 60 ) ; end ;
15133: LD_INT 175
15135: PPUSH
15136: LD_INT 60
15138: PPUSH
15139: CALL_OW 86
15143: GO 15146
15145: POP
// end ;
15146: LD_VAR 0 1
15150: RET
// on humandestroyed ( un , side , nat , x , y , dir , sex , cl ) marked 10 do if mp_sides_positions_ [ side ] = 1 then
15151: LD_EXP 50
15155: PUSH
15156: LD_VAR 0 2
15160: ARRAY
15161: PUSH
15162: LD_INT 1
15164: EQUAL
15165: IFFALSE 15183
// resp_cnt1 = resp_cnt1 + 1 else
15167: LD_ADDR_LOC 47
15171: PUSH
15172: LD_LOC 47
15176: PUSH
15177: LD_INT 1
15179: PLUS
15180: ST_TO_ADDR
15181: GO 15197
// resp_cnt2 = resp_cnt2 + 1 ;
15183: LD_ADDR_LOC 48
15187: PUSH
15188: LD_LOC 48
15192: PUSH
15193: LD_INT 1
15195: PLUS
15196: ST_TO_ADDR
15197: PPOPN 8
15199: END
// every 0 0$30 trigger resp_cnt1 >= people_resp marked 11 do
15200: LD_LOC 47
15204: PUSH
15205: LD_LOC 42
15209: GREATEREQUAL
15210: IFFALSE 15363
15212: GO 15214
15214: DISABLE
// begin resp_cnt1 = resp_cnt1 - people_resp ;
15215: LD_ADDR_LOC 47
15219: PUSH
15220: LD_LOC 47
15224: PUSH
15225: LD_LOC 42
15229: MINUS
15230: ST_TO_ADDR
// if not filterallunits ( [ [ f_side , pos1side ] , [ f_or , [ f_btype , b_depot ] , [ f_class , class_engineer ] ] ] ) then
15231: LD_INT 22
15233: PUSH
15234: LD_EXP 44
15238: PUSH
15239: EMPTY
15240: LIST
15241: LIST
15242: PUSH
15243: LD_INT 2
15245: PUSH
15246: LD_INT 30
15248: PUSH
15249: LD_INT 0
15251: PUSH
15252: EMPTY
15253: LIST
15254: LIST
15255: PUSH
15256: LD_INT 25
15258: PUSH
15259: LD_INT 2
15261: PUSH
15262: EMPTY
15263: LIST
15264: LIST
15265: PUSH
15266: EMPTY
15267: LIST
15268: LIST
15269: LIST
15270: PUSH
15271: EMPTY
15272: LIST
15273: LIST
15274: PPUSH
15275: CALL_OW 69
15279: NOT
15280: IFFALSE 15285
// begin enable ;
15282: ENABLE
// exit ;
15283: GO 15363
// end ; uc_side = pos1side ;
15285: LD_ADDR_OWVAR 20
15289: PUSH
15290: LD_EXP 44
15294: ST_TO_ADDR
// uc_nation = mp_sides_nations_ [ pos1side ] ;
15295: LD_ADDR_OWVAR 21
15299: PUSH
15300: LD_EXP 49
15304: PUSH
15305: LD_EXP 44
15309: ARRAY
15310: ST_TO_ADDR
// preparehuman ( 0 , class_soldier , skilly ) ;
15311: LD_INT 0
15313: PPUSH
15314: LD_INT 1
15316: PPUSH
15317: LD_LOC 35
15321: PPUSH
15322: CALL_OW 380
// wait ( 0 0$10 ) ;
15326: LD_INT 350
15328: PPUSH
15329: CALL_OW 67
// placeunitarea ( createhuman , areas [ mp_sides_positions_ [ pos1side ] ] , true ) ;
15333: CALL_OW 44
15337: PPUSH
15338: LD_EXP 43
15342: PUSH
15343: LD_EXP 50
15347: PUSH
15348: LD_EXP 44
15352: ARRAY
15353: ARRAY
15354: PPUSH
15355: LD_INT 1
15357: PPUSH
15358: CALL_OW 49
// enable ;
15362: ENABLE
// end ;
15363: END
// every 0 0$30 trigger resp_cnt2 >= people_resp marked 12 do
15364: LD_LOC 48
15368: PUSH
15369: LD_LOC 42
15373: GREATEREQUAL
15374: IFFALSE 15527
15376: GO 15378
15378: DISABLE
// begin resp_cnt2 = resp_cnt2 - people_resp ;
15379: LD_ADDR_LOC 48
15383: PUSH
15384: LD_LOC 48
15388: PUSH
15389: LD_LOC 42
15393: MINUS
15394: ST_TO_ADDR
// if not filterallunits ( [ [ f_side , pos2side ] , [ f_or , [ f_btype , b_depot ] , [ f_class , class_engineer ] ] ] ) then
15395: LD_INT 22
15397: PUSH
15398: LD_EXP 45
15402: PUSH
15403: EMPTY
15404: LIST
15405: LIST
15406: PUSH
15407: LD_INT 2
15409: PUSH
15410: LD_INT 30
15412: PUSH
15413: LD_INT 0
15415: PUSH
15416: EMPTY
15417: LIST
15418: LIST
15419: PUSH
15420: LD_INT 25
15422: PUSH
15423: LD_INT 2
15425: PUSH
15426: EMPTY
15427: LIST
15428: LIST
15429: PUSH
15430: EMPTY
15431: LIST
15432: LIST
15433: LIST
15434: PUSH
15435: EMPTY
15436: LIST
15437: LIST
15438: PPUSH
15439: CALL_OW 69
15443: NOT
15444: IFFALSE 15449
// begin enable ;
15446: ENABLE
// exit ;
15447: GO 15527
// end ; uc_side = pos2side ;
15449: LD_ADDR_OWVAR 20
15453: PUSH
15454: LD_EXP 45
15458: ST_TO_ADDR
// uc_nation = mp_sides_nations_ [ pos2side ] ;
15459: LD_ADDR_OWVAR 21
15463: PUSH
15464: LD_EXP 49
15468: PUSH
15469: LD_EXP 45
15473: ARRAY
15474: ST_TO_ADDR
// preparehuman ( 0 , class_soldier , skilly ) ;
15475: LD_INT 0
15477: PPUSH
15478: LD_INT 1
15480: PPUSH
15481: LD_LOC 35
15485: PPUSH
15486: CALL_OW 380
// wait ( 0 0$10 ) ;
15490: LD_INT 350
15492: PPUSH
15493: CALL_OW 67
// placeunitarea ( createhuman , areas [ mp_sides_positions_ [ pos2side ] ] , true ) ;
15497: CALL_OW 44
15501: PPUSH
15502: LD_EXP 43
15506: PUSH
15507: LD_EXP 50
15511: PUSH
15512: LD_EXP 45
15516: ARRAY
15517: ARRAY
15518: PPUSH
15519: LD_INT 1
15521: PPUSH
15522: CALL_OW 49
// enable ;
15526: ENABLE
// end ;
15527: END
// every 0 0$1 marked 13 do
15528: GO 15530
15530: DISABLE
// begin if not filterallunits ( [ [ f_side , pos1side ] , [ f_type , unit_human ] ] ) then
15531: LD_INT 22
15533: PUSH
15534: LD_EXP 44
15538: PUSH
15539: EMPTY
15540: LIST
15541: LIST
15542: PUSH
15543: LD_INT 21
15545: PUSH
15546: LD_INT 1
15548: PUSH
15549: EMPTY
15550: LIST
15551: LIST
15552: PUSH
15553: EMPTY
15554: LIST
15555: LIST
15556: PPUSH
15557: CALL_OW 69
15561: NOT
15562: IFFALSE 15586
// if pos1side = your_side then
15564: LD_EXP 44
15568: PUSH
15569: LD_OWVAR 2
15573: EQUAL
15574: IFFALSE 15582
// youlostinmultiplayer else
15576: CALL_OW 107
15580: GO 15586
// youwininmultiplayer ;
15582: CALL_OW 106
// if not filterallunits ( [ [ f_side , pos2side ] , [ f_type , unit_human ] ] ) then
15586: LD_INT 22
15588: PUSH
15589: LD_EXP 45
15593: PUSH
15594: EMPTY
15595: LIST
15596: LIST
15597: PUSH
15598: LD_INT 21
15600: PUSH
15601: LD_INT 1
15603: PUSH
15604: EMPTY
15605: LIST
15606: LIST
15607: PUSH
15608: EMPTY
15609: LIST
15610: LIST
15611: PPUSH
15612: CALL_OW 69
15616: NOT
15617: IFFALSE 15641
// if pos2side = your_side then
15619: LD_EXP 45
15623: PUSH
15624: LD_OWVAR 2
15628: EQUAL
15629: IFFALSE 15637
// youlostinmultiplayer else
15631: CALL_OW 107
15635: GO 15641
// youwininmultiplayer ;
15637: CALL_OW 106
// end ; end_of_file
15641: END
// var strength , lastxwin , lastywin , lastxlost , lastylost ; function Update_Flags ; var un ; begin
15642: LD_INT 0
15644: PPUSH
15645: PPUSH
// for un in battle_flags_id do
15646: LD_ADDR_VAR 0 2
15650: PUSH
15651: LD_EXP 29
15655: PUSH
15656: FOR_IN
15657: IFFALSE 15732
// ChangeBattleFlagOptions ( un , [ [ bfo_defend_bonus_human , strength ] , [ bfo_defend_bonus_vehicle , strength div 2 ] , [ bfo_defend_bonus_building , strength div 5 ] , [ bfo_height , strength ] ] ) ;
15659: LD_VAR 0 2
15663: PPUSH
15664: LD_INT 1
15666: PUSH
15667: LD_LOC 49
15671: PUSH
15672: EMPTY
15673: LIST
15674: LIST
15675: PUSH
15676: LD_INT 2
15678: PUSH
15679: LD_LOC 49
15683: PUSH
15684: LD_INT 2
15686: DIV
15687: PUSH
15688: EMPTY
15689: LIST
15690: LIST
15691: PUSH
15692: LD_INT 3
15694: PUSH
15695: LD_LOC 49
15699: PUSH
15700: LD_INT 5
15702: DIV
15703: PUSH
15704: EMPTY
15705: LIST
15706: LIST
15707: PUSH
15708: LD_INT 20
15710: PUSH
15711: LD_LOC 49
15715: PUSH
15716: EMPTY
15717: LIST
15718: LIST
15719: PUSH
15720: EMPTY
15721: LIST
15722: LIST
15723: LIST
15724: LIST
15725: PPUSH
15726: CALL_OW 423
15730: GO 15656
15732: POP
15733: POP
// end ;
15734: LD_VAR 0 1
15738: RET
// every 0 0$0.1 marked 55 do var un ;
15739: GO 15741
15741: DISABLE
15742: LD_INT 0
15744: PPUSH
// begin if not def_morale_flags then
15745: LD_EXP 66
15749: NOT
15750: IFFALSE 15754
// exit ;
15752: GO 15831
// if not morale_decreasing_time then
15754: LD_EXP 11
15758: NOT
15759: IFFALSE 15763
// exit ;
15761: GO 15831
// strength = 100 ;
15763: LD_ADDR_LOC 49
15767: PUSH
15768: LD_INT 100
15770: ST_TO_ADDR
// repeat wait ( morale_decreasing_time ) ;
15771: LD_EXP 11
15775: PPUSH
15776: CALL_OW 67
// strength := strength - 1 ;
15780: LD_ADDR_LOC 49
15784: PUSH
15785: LD_LOC 49
15789: PUSH
15790: LD_INT 1
15792: MINUS
15793: ST_TO_ADDR
// Update_Flags ;
15794: CALL 15642 0 0
// until not strength ;
15798: LD_LOC 49
15802: NOT
15803: IFFALSE 15771
// for un in battle_flags_id do
15805: LD_ADDR_VAR 0 1
15809: PUSH
15810: LD_EXP 29
15814: PUSH
15815: FOR_IN
15816: IFFALSE 15829
// KillBattleFlag ( un ) ;
15818: LD_VAR 0 1
15822: PPUSH
15823: CALL_OW 419
15827: GO 15815
15829: POP
15830: POP
// end ; end_of_file
15831: PPOPN 1
15833: END
// export Game_Type , def_game_rules ; export def_base_level , def_amount_of_people , def_skill_level , def_starting_resources , def_shipments_density , def_extra_oil_deposits , def_extra_sib_deposits , def_shared_vision , def_morale_flags , def_siberite_detection , def_people_respawning , def_amount_of_apemen , def_siberite_bomb , def_builduptime ; export No_Mechs ; var Restricted_Builds , Restricted_Builds_Amount ; var Banned_Weapons , Banned_Chassis , Banned_Controls , Banned_Engines ; var Already_Built ; var Limits_Info , Cheaters ; export function LimitsStrings ; var i ; begin
15834: LD_INT 0
15836: PPUSH
15837: PPUSH
// if ( not IAmSpec ) then
15838: CALL_OW 531
15842: NOT
15843: IFFALSE 15859
// Result := Limits_Info ^  ;
15845: LD_ADDR_VAR 0 1
15849: PUSH
15850: LD_LOC 61
15854: PUSH
15855: LD_STRING 
15857: ADD
15858: ST_TO_ADDR
// for i := 1 to 8 do
15859: LD_ADDR_VAR 0 2
15863: PUSH
15864: DOUBLE
15865: LD_INT 1
15867: DEC
15868: ST_TO_ADDR
15869: LD_INT 8
15871: PUSH
15872: FOR_TO
15873: IFFALSE 15918
// if Cheaters [ i ] then
15875: LD_LOC 62
15879: PUSH
15880: LD_VAR 0 2
15884: ARRAY
15885: IFFALSE 15916
// Result := Result ^ [ #Cheater , i , i ] ;
15887: LD_ADDR_VAR 0 1
15891: PUSH
15892: LD_VAR 0 1
15896: PUSH
15897: LD_STRING #Cheater
15899: PUSH
15900: LD_VAR 0 2
15904: PUSH
15905: LD_VAR 0 2
15909: PUSH
15910: EMPTY
15911: LIST
15912: LIST
15913: LIST
15914: ADD
15915: ST_TO_ADDR
15916: GO 15872
15918: POP
15919: POP
// end ;
15920: LD_VAR 0 1
15924: RET
// export function InitGameRules ; var Unavailable_Techs , Unavailable_Builds ; var i , j ; begin
15925: LD_INT 0
15927: PPUSH
15928: PPUSH
15929: PPUSH
15930: PPUSH
15931: PPUSH
// case Game_Type of 10 :
15932: LD_EXP 56
15936: PUSH
15937: LD_INT 10
15939: DOUBLE
15940: EQUAL
15941: IFTRUE 15945
15943: GO 15956
15945: POP
// def_game_rules := 1 ; 11 :
15946: LD_ADDR_EXP 57
15950: PUSH
15951: LD_INT 1
15953: ST_TO_ADDR
15954: GO 15976
15956: LD_INT 11
15958: DOUBLE
15959: EQUAL
15960: IFTRUE 15964
15962: GO 15975
15964: POP
// def_game_rules := 3 ; end ;
15965: LD_ADDR_EXP 57
15969: PUSH
15970: LD_INT 3
15972: ST_TO_ADDR
15973: GO 15976
15975: POP
// case def_game_rules of 0 :
15976: LD_EXP 57
15980: PUSH
15981: LD_INT 0
15983: DOUBLE
15984: EQUAL
15985: IFTRUE 15989
15987: GO 15994
15989: POP
// exit ; 1 :
15990: GO 18052
15992: GO 17952
15994: LD_INT 1
15996: DOUBLE
15997: EQUAL
15998: IFTRUE 16002
16000: GO 16218
16002: POP
// begin def_base_level := 2 ;
16003: LD_ADDR_EXP 58
16007: PUSH
16008: LD_INT 2
16010: ST_TO_ADDR
// def_amount_of_people := 2 ;
16011: LD_ADDR_EXP 59
16015: PUSH
16016: LD_INT 2
16018: ST_TO_ADDR
// def_skill_level := 1 ;
16019: LD_ADDR_EXP 60
16023: PUSH
16024: LD_INT 1
16026: ST_TO_ADDR
// def_starting_resources := 2 ;
16027: LD_ADDR_EXP 61
16031: PUSH
16032: LD_INT 2
16034: ST_TO_ADDR
// def_shipments_density := 1 ;
16035: LD_ADDR_EXP 62
16039: PUSH
16040: LD_INT 1
16042: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
16043: LD_ADDR_EXP 63
16047: PUSH
16048: LD_INT 0
16050: ST_TO_ADDR
// def_extra_sib_deposits := 1 ;
16051: LD_ADDR_EXP 64
16055: PUSH
16056: LD_INT 1
16058: ST_TO_ADDR
// def_shared_vision := 1 ;
16059: LD_ADDR_EXP 65
16063: PUSH
16064: LD_INT 1
16066: ST_TO_ADDR
// def_morale_flags := 3 ;
16067: LD_ADDR_EXP 66
16071: PUSH
16072: LD_INT 3
16074: ST_TO_ADDR
// def_siberite_detection := 1 ;
16075: LD_ADDR_EXP 67
16079: PUSH
16080: LD_INT 1
16082: ST_TO_ADDR
// def_people_respawning := 1 ;
16083: LD_ADDR_EXP 68
16087: PUSH
16088: LD_INT 1
16090: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
16091: LD_ADDR_EXP 69
16095: PUSH
16096: LD_INT 1
16098: ST_TO_ADDR
// def_siberite_bomb := 0 ;
16099: LD_ADDR_EXP 70
16103: PUSH
16104: LD_INT 0
16106: ST_TO_ADDR
// def_builduptime := 2 ;
16107: LD_ADDR_EXP 71
16111: PUSH
16112: LD_INT 2
16114: ST_TO_ADDR
// Unavailable_Techs := [ ] ;
16115: LD_ADDR_VAR 0 2
16119: PUSH
16120: EMPTY
16121: ST_TO_ADDR
// Unavailable_Builds := [ ] ;
16122: LD_ADDR_VAR 0 3
16126: PUSH
16127: EMPTY
16128: ST_TO_ADDR
// Banned_Weapons := [ ] ;
16129: LD_ADDR_LOC 56
16133: PUSH
16134: EMPTY
16135: ST_TO_ADDR
// Banned_Chassis := [ ] ;
16136: LD_ADDR_LOC 57
16140: PUSH
16141: EMPTY
16142: ST_TO_ADDR
// Banned_Controls := [ ] ;
16143: LD_ADDR_LOC 58
16147: PUSH
16148: EMPTY
16149: ST_TO_ADDR
// Banned_Engines := [ ] ;
16150: LD_ADDR_LOC 59
16154: PUSH
16155: EMPTY
16156: ST_TO_ADDR
// Restricted_Builds := [ [ b_Behemoth ] , [ b_Armoury , b_Barracks ] , [ b_Breastwork , b_Bunker , b_Turret ] ] ;
16157: LD_ADDR_LOC 54
16161: PUSH
16162: LD_INT 37
16164: PUSH
16165: EMPTY
16166: LIST
16167: PUSH
16168: LD_INT 4
16170: PUSH
16171: LD_INT 5
16173: PUSH
16174: EMPTY
16175: LIST
16176: LIST
16177: PUSH
16178: LD_INT 31
16180: PUSH
16181: LD_INT 32
16183: PUSH
16184: LD_INT 33
16186: PUSH
16187: EMPTY
16188: LIST
16189: LIST
16190: LIST
16191: PUSH
16192: EMPTY
16193: LIST
16194: LIST
16195: LIST
16196: ST_TO_ADDR
// Restricted_Builds_Amount := [ 2 , 2 , 4 ] ;
16197: LD_ADDR_LOC 55
16201: PUSH
16202: LD_INT 2
16204: PUSH
16205: LD_INT 2
16207: PUSH
16208: LD_INT 4
16210: PUSH
16211: EMPTY
16212: LIST
16213: LIST
16214: LIST
16215: ST_TO_ADDR
// end ; 2 :
16216: GO 17952
16218: LD_INT 2
16220: DOUBLE
16221: EQUAL
16222: IFTRUE 16226
16224: GO 16435
16226: POP
// begin def_base_level := 1 ;
16227: LD_ADDR_EXP 58
16231: PUSH
16232: LD_INT 1
16234: ST_TO_ADDR
// def_amount_of_people := 2 ;
16235: LD_ADDR_EXP 59
16239: PUSH
16240: LD_INT 2
16242: ST_TO_ADDR
// def_skill_level := 3 ;
16243: LD_ADDR_EXP 60
16247: PUSH
16248: LD_INT 3
16250: ST_TO_ADDR
// def_starting_resources := 3 ;
16251: LD_ADDR_EXP 61
16255: PUSH
16256: LD_INT 3
16258: ST_TO_ADDR
// def_shipments_density := 2 ;
16259: LD_ADDR_EXP 62
16263: PUSH
16264: LD_INT 2
16266: ST_TO_ADDR
// def_extra_oil_deposits := 1 ;
16267: LD_ADDR_EXP 63
16271: PUSH
16272: LD_INT 1
16274: ST_TO_ADDR
// def_extra_sib_deposits := 2 ;
16275: LD_ADDR_EXP 64
16279: PUSH
16280: LD_INT 2
16282: ST_TO_ADDR
// def_shared_vision := 1 ;
16283: LD_ADDR_EXP 65
16287: PUSH
16288: LD_INT 1
16290: ST_TO_ADDR
// def_morale_flags := 0 ;
16291: LD_ADDR_EXP 66
16295: PUSH
16296: LD_INT 0
16298: ST_TO_ADDR
// def_siberite_detection := 1 ;
16299: LD_ADDR_EXP 67
16303: PUSH
16304: LD_INT 1
16306: ST_TO_ADDR
// def_people_respawning := 0 ;
16307: LD_ADDR_EXP 68
16311: PUSH
16312: LD_INT 0
16314: ST_TO_ADDR
// def_amount_of_apemen := 0 ;
16315: LD_ADDR_EXP 69
16319: PUSH
16320: LD_INT 0
16322: ST_TO_ADDR
// def_siberite_bomb := 0 ;
16323: LD_ADDR_EXP 70
16327: PUSH
16328: LD_INT 0
16330: ST_TO_ADDR
// def_builduptime := 2 ;
16331: LD_ADDR_EXP 71
16335: PUSH
16336: LD_INT 2
16338: ST_TO_ADDR
// Unavailable_Techs := [ tech_ApeLang ] ;
16339: LD_ADDR_VAR 0 2
16343: PUSH
16344: LD_INT 1
16346: PUSH
16347: EMPTY
16348: LIST
16349: ST_TO_ADDR
// Unavailable_Builds := [ ] ;
16350: LD_ADDR_VAR 0 3
16354: PUSH
16355: EMPTY
16356: ST_TO_ADDR
// Banned_Weapons := [ ] ;
16357: LD_ADDR_LOC 56
16361: PUSH
16362: EMPTY
16363: ST_TO_ADDR
// Banned_Chassis := [ ] ;
16364: LD_ADDR_LOC 57
16368: PUSH
16369: EMPTY
16370: ST_TO_ADDR
// Banned_Controls := [ ] ;
16371: LD_ADDR_LOC 58
16375: PUSH
16376: EMPTY
16377: ST_TO_ADDR
// Banned_Engines := [ ] ;
16378: LD_ADDR_LOC 59
16382: PUSH
16383: EMPTY
16384: ST_TO_ADDR
// Restricted_Builds := [ [ b_Armoury , b_Barracks ] , [ b_Breastwork , b_Bunker , b_Turret ] ] ;
16385: LD_ADDR_LOC 54
16389: PUSH
16390: LD_INT 4
16392: PUSH
16393: LD_INT 5
16395: PUSH
16396: EMPTY
16397: LIST
16398: LIST
16399: PUSH
16400: LD_INT 31
16402: PUSH
16403: LD_INT 32
16405: PUSH
16406: LD_INT 33
16408: PUSH
16409: EMPTY
16410: LIST
16411: LIST
16412: LIST
16413: PUSH
16414: EMPTY
16415: LIST
16416: LIST
16417: ST_TO_ADDR
// Restricted_Builds_Amount := [ 1 , 2 ] ;
16418: LD_ADDR_LOC 55
16422: PUSH
16423: LD_INT 1
16425: PUSH
16426: LD_INT 2
16428: PUSH
16429: EMPTY
16430: LIST
16431: LIST
16432: ST_TO_ADDR
// end ; 3 :
16433: GO 17952
16435: LD_INT 3
16437: DOUBLE
16438: EQUAL
16439: IFTRUE 16443
16441: GO 16686
16443: POP
// begin def_base_level := 1 ;
16444: LD_ADDR_EXP 58
16448: PUSH
16449: LD_INT 1
16451: ST_TO_ADDR
// def_amount_of_people := 2 ;
16452: LD_ADDR_EXP 59
16456: PUSH
16457: LD_INT 2
16459: ST_TO_ADDR
// def_skill_level := 3 ;
16460: LD_ADDR_EXP 60
16464: PUSH
16465: LD_INT 3
16467: ST_TO_ADDR
// def_starting_resources := 3 ;
16468: LD_ADDR_EXP 61
16472: PUSH
16473: LD_INT 3
16475: ST_TO_ADDR
// def_shipments_density := 1 ;
16476: LD_ADDR_EXP 62
16480: PUSH
16481: LD_INT 1
16483: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
16484: LD_ADDR_EXP 63
16488: PUSH
16489: LD_INT 0
16491: ST_TO_ADDR
// def_extra_sib_deposits := 1 ;
16492: LD_ADDR_EXP 64
16496: PUSH
16497: LD_INT 1
16499: ST_TO_ADDR
// def_shared_vision := 1 ;
16500: LD_ADDR_EXP 65
16504: PUSH
16505: LD_INT 1
16507: ST_TO_ADDR
// def_morale_flags := 0 ;
16508: LD_ADDR_EXP 66
16512: PUSH
16513: LD_INT 0
16515: ST_TO_ADDR
// def_siberite_detection := 1 ;
16516: LD_ADDR_EXP 67
16520: PUSH
16521: LD_INT 1
16523: ST_TO_ADDR
// def_people_respawning := 0 ;
16524: LD_ADDR_EXP 68
16528: PUSH
16529: LD_INT 0
16531: ST_TO_ADDR
// def_amount_of_apemen := 2 ;
16532: LD_ADDR_EXP 69
16536: PUSH
16537: LD_INT 2
16539: ST_TO_ADDR
// def_siberite_bomb := 0 ;
16540: LD_ADDR_EXP 70
16544: PUSH
16545: LD_INT 0
16547: ST_TO_ADDR
// def_builduptime := 1 ;
16548: LD_ADDR_EXP 71
16552: PUSH
16553: LD_INT 1
16555: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth ] ;
16556: LD_ADDR_VAR 0 2
16560: PUSH
16561: LD_INT 23
16563: PUSH
16564: EMPTY
16565: LIST
16566: ST_TO_ADDR
// Unavailable_Builds := [ b_Workshop , b_Behemoth , b_Bunker , b_Turret , b_Control_Tower , b_ext_track , b_ext_stitch , b_ext_siberium , b_ext_rocket , b_ext_radio , b_ext_radar , b_ext_noncombat , b_ext_laser , b_ext_gun , b_ext_computer ] ;
16567: LD_ADDR_VAR 0 3
16571: PUSH
16572: LD_INT 2
16574: PUSH
16575: LD_INT 37
16577: PUSH
16578: LD_INT 32
16580: PUSH
16581: LD_INT 33
16583: PUSH
16584: LD_INT 36
16586: PUSH
16587: LD_INT 16
16589: PUSH
16590: LD_INT 23
16592: PUSH
16593: LD_INT 21
16595: PUSH
16596: LD_INT 18
16598: PUSH
16599: LD_INT 22
16601: PUSH
16602: LD_INT 20
16604: PUSH
16605: LD_INT 19
16607: PUSH
16608: LD_INT 25
16610: PUSH
16611: LD_INT 17
16613: PUSH
16614: LD_INT 24
16616: PUSH
16617: EMPTY
16618: LIST
16619: LIST
16620: LIST
16621: LIST
16622: LIST
16623: LIST
16624: LIST
16625: LIST
16626: LIST
16627: LIST
16628: LIST
16629: LIST
16630: LIST
16631: LIST
16632: LIST
16633: ST_TO_ADDR
// Banned_Weapons := [ ] ;
16634: LD_ADDR_LOC 56
16638: PUSH
16639: EMPTY
16640: ST_TO_ADDR
// Banned_Chassis := [ ] ;
16641: LD_ADDR_LOC 57
16645: PUSH
16646: EMPTY
16647: ST_TO_ADDR
// Banned_Controls := [ ] ;
16648: LD_ADDR_LOC 58
16652: PUSH
16653: EMPTY
16654: ST_TO_ADDR
// Banned_Engines := [ ] ;
16655: LD_ADDR_LOC 59
16659: PUSH
16660: EMPTY
16661: ST_TO_ADDR
// Restricted_Builds := [ ] ;
16662: LD_ADDR_LOC 54
16666: PUSH
16667: EMPTY
16668: ST_TO_ADDR
// Restricted_Builds_Amount := [ ] ;
16669: LD_ADDR_LOC 55
16673: PUSH
16674: EMPTY
16675: ST_TO_ADDR
// No_Mechs := true ;
16676: LD_ADDR_EXP 72
16680: PUSH
16681: LD_INT 1
16683: ST_TO_ADDR
// end ; 4 :
16684: GO 17952
16686: LD_INT 4
16688: DOUBLE
16689: EQUAL
16690: IFTRUE 16694
16692: GO 16869
16694: POP
// begin def_base_level := 1 ;
16695: LD_ADDR_EXP 58
16699: PUSH
16700: LD_INT 1
16702: ST_TO_ADDR
// def_amount_of_people := 2 ;
16703: LD_ADDR_EXP 59
16707: PUSH
16708: LD_INT 2
16710: ST_TO_ADDR
// def_skill_level := 3 ;
16711: LD_ADDR_EXP 60
16715: PUSH
16716: LD_INT 3
16718: ST_TO_ADDR
// def_starting_resources := 3 ;
16719: LD_ADDR_EXP 61
16723: PUSH
16724: LD_INT 3
16726: ST_TO_ADDR
// def_shipments_density := 2 ;
16727: LD_ADDR_EXP 62
16731: PUSH
16732: LD_INT 2
16734: ST_TO_ADDR
// def_extra_oil_deposits := 1 ;
16735: LD_ADDR_EXP 63
16739: PUSH
16740: LD_INT 1
16742: ST_TO_ADDR
// def_extra_sib_deposits := 2 ;
16743: LD_ADDR_EXP 64
16747: PUSH
16748: LD_INT 2
16750: ST_TO_ADDR
// def_shared_vision := 1 ;
16751: LD_ADDR_EXP 65
16755: PUSH
16756: LD_INT 1
16758: ST_TO_ADDR
// def_morale_flags := 0 ;
16759: LD_ADDR_EXP 66
16763: PUSH
16764: LD_INT 0
16766: ST_TO_ADDR
// def_siberite_detection := 1 ;
16767: LD_ADDR_EXP 67
16771: PUSH
16772: LD_INT 1
16774: ST_TO_ADDR
// def_people_respawning := 0 ;
16775: LD_ADDR_EXP 68
16779: PUSH
16780: LD_INT 0
16782: ST_TO_ADDR
// def_amount_of_apemen := 0 ;
16783: LD_ADDR_EXP 69
16787: PUSH
16788: LD_INT 0
16790: ST_TO_ADDR
// def_siberite_bomb := 1 ;
16791: LD_ADDR_EXP 70
16795: PUSH
16796: LD_INT 1
16798: ST_TO_ADDR
// def_builduptime := 3 ;
16799: LD_ADDR_EXP 71
16803: PUSH
16804: LD_INT 3
16806: ST_TO_ADDR
// Unavailable_Techs := [ tech_ApeLang ] ;
16807: LD_ADDR_VAR 0 2
16811: PUSH
16812: LD_INT 1
16814: PUSH
16815: EMPTY
16816: LIST
16817: ST_TO_ADDR
// Unavailable_Builds := [ ] ;
16818: LD_ADDR_VAR 0 3
16822: PUSH
16823: EMPTY
16824: ST_TO_ADDR
// Banned_Weapons := [ ] ;
16825: LD_ADDR_LOC 56
16829: PUSH
16830: EMPTY
16831: ST_TO_ADDR
// Banned_Chassis := [ ] ;
16832: LD_ADDR_LOC 57
16836: PUSH
16837: EMPTY
16838: ST_TO_ADDR
// Banned_Controls := [ ] ;
16839: LD_ADDR_LOC 58
16843: PUSH
16844: EMPTY
16845: ST_TO_ADDR
// Banned_Engines := [ ] ;
16846: LD_ADDR_LOC 59
16850: PUSH
16851: EMPTY
16852: ST_TO_ADDR
// Restricted_Builds := [ ] ;
16853: LD_ADDR_LOC 54
16857: PUSH
16858: EMPTY
16859: ST_TO_ADDR
// Restricted_Builds_Amount := [ ] ;
16860: LD_ADDR_LOC 55
16864: PUSH
16865: EMPTY
16866: ST_TO_ADDR
// end ; 5 :
16867: GO 17952
16869: LD_INT 5
16871: DOUBLE
16872: EQUAL
16873: IFTRUE 16877
16875: GO 17126
16877: POP
// begin def_base_level := 0 ;
16878: LD_ADDR_EXP 58
16882: PUSH
16883: LD_INT 0
16885: ST_TO_ADDR
// def_amount_of_people := 0 ;
16886: LD_ADDR_EXP 59
16890: PUSH
16891: LD_INT 0
16893: ST_TO_ADDR
// def_skill_level := 0 ;
16894: LD_ADDR_EXP 60
16898: PUSH
16899: LD_INT 0
16901: ST_TO_ADDR
// def_starting_resources := 0 ;
16902: LD_ADDR_EXP 61
16906: PUSH
16907: LD_INT 0
16909: ST_TO_ADDR
// def_shipments_density := 0 ;
16910: LD_ADDR_EXP 62
16914: PUSH
16915: LD_INT 0
16917: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
16918: LD_ADDR_EXP 63
16922: PUSH
16923: LD_INT 0
16925: ST_TO_ADDR
// def_extra_sib_deposits := 0 ;
16926: LD_ADDR_EXP 64
16930: PUSH
16931: LD_INT 0
16933: ST_TO_ADDR
// def_shared_vision := 1 ;
16934: LD_ADDR_EXP 65
16938: PUSH
16939: LD_INT 1
16941: ST_TO_ADDR
// def_morale_flags := 0 ;
16942: LD_ADDR_EXP 66
16946: PUSH
16947: LD_INT 0
16949: ST_TO_ADDR
// def_siberite_detection := 0 ;
16950: LD_ADDR_EXP 67
16954: PUSH
16955: LD_INT 0
16957: ST_TO_ADDR
// def_people_respawning := 1 ;
16958: LD_ADDR_EXP 68
16962: PUSH
16963: LD_INT 1
16965: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
16966: LD_ADDR_EXP 69
16970: PUSH
16971: LD_INT 1
16973: ST_TO_ADDR
// def_siberite_bomb := 0 ;
16974: LD_ADDR_EXP 70
16978: PUSH
16979: LD_INT 0
16981: ST_TO_ADDR
// def_builduptime := 0 ;
16982: LD_ADDR_EXP 71
16986: PUSH
16987: LD_INT 0
16989: ST_TO_ADDR
// Unavailable_Techs := [ tech_Laser , tech_ApeNeural ] ;
16990: LD_ADDR_VAR 0 2
16994: PUSH
16995: LD_INT 10
16997: PUSH
16998: LD_INT 3
17000: PUSH
17001: EMPTY
17002: LIST
17003: LIST
17004: ST_TO_ADDR
// Unavailable_Builds := [ b_Lab_Computer , b_Lab_Siberium , b_Lab_Spacetime , b_Lab_Biological , b_Barracks , b_ext_Computer , b_ext_Siberium , b_Turret , b_Control_Tower ] ;
17005: LD_ADDR_VAR 0 3
17009: PUSH
17010: LD_INT 12
17012: PUSH
17013: LD_INT 11
17015: PUSH
17016: LD_INT 14
17018: PUSH
17019: LD_INT 13
17021: PUSH
17022: LD_INT 5
17024: PUSH
17025: LD_INT 24
17027: PUSH
17028: LD_INT 21
17030: PUSH
17031: LD_INT 33
17033: PUSH
17034: LD_INT 36
17036: PUSH
17037: EMPTY
17038: LIST
17039: LIST
17040: LIST
17041: LIST
17042: LIST
17043: LIST
17044: LIST
17045: LIST
17046: LIST
17047: ST_TO_ADDR
// Banned_Weapons := [ ar_Control_Tower ] ;
17048: LD_ADDR_LOC 56
17052: PUSH
17053: LD_INT 31
17055: PUSH
17056: EMPTY
17057: LIST
17058: ST_TO_ADDR
// Banned_Chassis := [ ] ;
17059: LD_ADDR_LOC 57
17063: PUSH
17064: EMPTY
17065: ST_TO_ADDR
// Banned_Controls := [ control_Remote ] ;
17066: LD_ADDR_LOC 58
17070: PUSH
17071: LD_INT 2
17073: PUSH
17074: EMPTY
17075: LIST
17076: ST_TO_ADDR
// Banned_Engines := [ ] ;
17077: LD_ADDR_LOC 59
17081: PUSH
17082: EMPTY
17083: ST_TO_ADDR
// Restricted_Builds := [ [ b_Armoury ] , [ b_Breastwork , b_Bunker ] ] ;
17084: LD_ADDR_LOC 54
17088: PUSH
17089: LD_INT 4
17091: PUSH
17092: EMPTY
17093: LIST
17094: PUSH
17095: LD_INT 31
17097: PUSH
17098: LD_INT 32
17100: PUSH
17101: EMPTY
17102: LIST
17103: LIST
17104: PUSH
17105: EMPTY
17106: LIST
17107: LIST
17108: ST_TO_ADDR
// Restricted_Builds_Amount := [ 1 , 1 ] ;
17109: LD_ADDR_LOC 55
17113: PUSH
17114: LD_INT 1
17116: PUSH
17117: LD_INT 1
17119: PUSH
17120: EMPTY
17121: LIST
17122: LIST
17123: ST_TO_ADDR
// end ; 6 :
17124: GO 17952
17126: LD_INT 6
17128: DOUBLE
17129: EQUAL
17130: IFTRUE 17134
17132: GO 17337
17134: POP
// begin def_base_level := 1 ;
17135: LD_ADDR_EXP 58
17139: PUSH
17140: LD_INT 1
17142: ST_TO_ADDR
// def_amount_of_people := 2 ;
17143: LD_ADDR_EXP 59
17147: PUSH
17148: LD_INT 2
17150: ST_TO_ADDR
// def_skill_level := 3 ;
17151: LD_ADDR_EXP 60
17155: PUSH
17156: LD_INT 3
17158: ST_TO_ADDR
// def_starting_resources := 3 ;
17159: LD_ADDR_EXP 61
17163: PUSH
17164: LD_INT 3
17166: ST_TO_ADDR
// def_shipments_density := 1 ;
17167: LD_ADDR_EXP 62
17171: PUSH
17172: LD_INT 1
17174: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
17175: LD_ADDR_EXP 63
17179: PUSH
17180: LD_INT 0
17182: ST_TO_ADDR
// def_extra_sib_deposits := 1 ;
17183: LD_ADDR_EXP 64
17187: PUSH
17188: LD_INT 1
17190: ST_TO_ADDR
// def_shared_vision := 1 ;
17191: LD_ADDR_EXP 65
17195: PUSH
17196: LD_INT 1
17198: ST_TO_ADDR
// def_morale_flags := 0 ;
17199: LD_ADDR_EXP 66
17203: PUSH
17204: LD_INT 0
17206: ST_TO_ADDR
// def_siberite_detection := 1 ;
17207: LD_ADDR_EXP 67
17211: PUSH
17212: LD_INT 1
17214: ST_TO_ADDR
// def_people_respawning := 2 ;
17215: LD_ADDR_EXP 68
17219: PUSH
17220: LD_INT 2
17222: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
17223: LD_ADDR_EXP 69
17227: PUSH
17228: LD_INT 1
17230: ST_TO_ADDR
// def_siberite_bomb := 0 ;
17231: LD_ADDR_EXP 70
17235: PUSH
17236: LD_INT 0
17238: ST_TO_ADDR
// def_builduptime := 1 ;
17239: LD_ADDR_EXP 71
17243: PUSH
17244: LD_INT 1
17246: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth ] ;
17247: LD_ADDR_VAR 0 2
17251: PUSH
17252: LD_INT 23
17254: PUSH
17255: EMPTY
17256: LIST
17257: ST_TO_ADDR
// Unavailable_Builds := [ b_Workshop , b_Behemoth , b_Breastwork , b_Bunker , b_Turret ] ;
17258: LD_ADDR_VAR 0 3
17262: PUSH
17263: LD_INT 2
17265: PUSH
17266: LD_INT 37
17268: PUSH
17269: LD_INT 31
17271: PUSH
17272: LD_INT 32
17274: PUSH
17275: LD_INT 33
17277: PUSH
17278: EMPTY
17279: LIST
17280: LIST
17281: LIST
17282: LIST
17283: LIST
17284: ST_TO_ADDR
// Banned_Weapons := [ ] ;
17285: LD_ADDR_LOC 56
17289: PUSH
17290: EMPTY
17291: ST_TO_ADDR
// Banned_Chassis := [ ] ;
17292: LD_ADDR_LOC 57
17296: PUSH
17297: EMPTY
17298: ST_TO_ADDR
// Banned_Controls := [ ] ;
17299: LD_ADDR_LOC 58
17303: PUSH
17304: EMPTY
17305: ST_TO_ADDR
// Banned_Engines := [ ] ;
17306: LD_ADDR_LOC 59
17310: PUSH
17311: EMPTY
17312: ST_TO_ADDR
// Restricted_Builds := [ ] ;
17313: LD_ADDR_LOC 54
17317: PUSH
17318: EMPTY
17319: ST_TO_ADDR
// Restricted_Builds_Amount := [ ] ;
17320: LD_ADDR_LOC 55
17324: PUSH
17325: EMPTY
17326: ST_TO_ADDR
// No_Mechs := true ;
17327: LD_ADDR_EXP 72
17331: PUSH
17332: LD_INT 1
17334: ST_TO_ADDR
// end ; 7 :
17335: GO 17952
17337: LD_INT 7
17339: DOUBLE
17340: EQUAL
17341: IFTRUE 17345
17343: GO 17543
17345: POP
// begin def_base_level := 1 ;
17346: LD_ADDR_EXP 58
17350: PUSH
17351: LD_INT 1
17353: ST_TO_ADDR
// def_amount_of_people := 2 ;
17354: LD_ADDR_EXP 59
17358: PUSH
17359: LD_INT 2
17361: ST_TO_ADDR
// def_skill_level := 3 ;
17362: LD_ADDR_EXP 60
17366: PUSH
17367: LD_INT 3
17369: ST_TO_ADDR
// def_starting_resources := 3 ;
17370: LD_ADDR_EXP 61
17374: PUSH
17375: LD_INT 3
17377: ST_TO_ADDR
// def_shipments_density := 1 ;
17378: LD_ADDR_EXP 62
17382: PUSH
17383: LD_INT 1
17385: ST_TO_ADDR
// def_extra_oil_deposits := 1 ;
17386: LD_ADDR_EXP 63
17390: PUSH
17391: LD_INT 1
17393: ST_TO_ADDR
// def_extra_sib_deposits := 2 ;
17394: LD_ADDR_EXP 64
17398: PUSH
17399: LD_INT 2
17401: ST_TO_ADDR
// def_shared_vision := 1 ;
17402: LD_ADDR_EXP 65
17406: PUSH
17407: LD_INT 1
17409: ST_TO_ADDR
// def_morale_flags := 0 ;
17410: LD_ADDR_EXP 66
17414: PUSH
17415: LD_INT 0
17417: ST_TO_ADDR
// def_siberite_detection := 1 ;
17418: LD_ADDR_EXP 67
17422: PUSH
17423: LD_INT 1
17425: ST_TO_ADDR
// def_people_respawning := 0 ;
17426: LD_ADDR_EXP 68
17430: PUSH
17431: LD_INT 0
17433: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
17434: LD_ADDR_EXP 69
17438: PUSH
17439: LD_INT 1
17441: ST_TO_ADDR
// def_siberite_bomb := 0 ;
17442: LD_ADDR_EXP 70
17446: PUSH
17447: LD_INT 0
17449: ST_TO_ADDR
// def_builduptime := 3 ;
17450: LD_ADDR_EXP 71
17454: PUSH
17455: LD_INT 3
17457: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth ] ;
17458: LD_ADDR_VAR 0 2
17462: PUSH
17463: LD_INT 23
17465: PUSH
17466: EMPTY
17467: LIST
17468: ST_TO_ADDR
// Unavailable_Builds := [ b_Behemoth ] ;
17469: LD_ADDR_VAR 0 3
17473: PUSH
17474: LD_INT 37
17476: PUSH
17477: EMPTY
17478: LIST
17479: ST_TO_ADDR
// Banned_Weapons := [ ] ;
17480: LD_ADDR_LOC 56
17484: PUSH
17485: EMPTY
17486: ST_TO_ADDR
// Banned_Chassis := [ ] ;
17487: LD_ADDR_LOC 57
17491: PUSH
17492: EMPTY
17493: ST_TO_ADDR
// Banned_Controls := [ ] ;
17494: LD_ADDR_LOC 58
17498: PUSH
17499: EMPTY
17500: ST_TO_ADDR
// Banned_Engines := [ ] ;
17501: LD_ADDR_LOC 59
17505: PUSH
17506: EMPTY
17507: ST_TO_ADDR
// Restricted_Builds := [ [ b_Breastwork , b_Bunker , b_Turret ] ] ;
17508: LD_ADDR_LOC 54
17512: PUSH
17513: LD_INT 31
17515: PUSH
17516: LD_INT 32
17518: PUSH
17519: LD_INT 33
17521: PUSH
17522: EMPTY
17523: LIST
17524: LIST
17525: LIST
17526: PUSH
17527: EMPTY
17528: LIST
17529: ST_TO_ADDR
// Restricted_Builds_Amount := [ 10 ] ;
17530: LD_ADDR_LOC 55
17534: PUSH
17535: LD_INT 10
17537: PUSH
17538: EMPTY
17539: LIST
17540: ST_TO_ADDR
// end ; 8 :
17541: GO 17952
17543: LD_INT 8
17545: DOUBLE
17546: EQUAL
17547: IFTRUE 17551
17549: GO 17951
17551: POP
// begin def_base_level := 0 ;
17552: LD_ADDR_EXP 58
17556: PUSH
17557: LD_INT 0
17559: ST_TO_ADDR
// def_amount_of_people := Rand ( 0 , 1 ) ;
17560: LD_ADDR_EXP 59
17564: PUSH
17565: LD_INT 0
17567: PPUSH
17568: LD_INT 1
17570: PPUSH
17571: CALL_OW 12
17575: ST_TO_ADDR
// def_skill_level := 0 ;
17576: LD_ADDR_EXP 60
17580: PUSH
17581: LD_INT 0
17583: ST_TO_ADDR
// def_starting_resources := 2 ;
17584: LD_ADDR_EXP 61
17588: PUSH
17589: LD_INT 2
17591: ST_TO_ADDR
// def_shipments_density := 1 ;
17592: LD_ADDR_EXP 62
17596: PUSH
17597: LD_INT 1
17599: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
17600: LD_ADDR_EXP 63
17604: PUSH
17605: LD_INT 0
17607: ST_TO_ADDR
// def_extra_sib_deposits := 0 ;
17608: LD_ADDR_EXP 64
17612: PUSH
17613: LD_INT 0
17615: ST_TO_ADDR
// def_shared_vision := 1 ;
17616: LD_ADDR_EXP 65
17620: PUSH
17621: LD_INT 1
17623: ST_TO_ADDR
// def_morale_flags := Rand ( 0 , 2 ) ;
17624: LD_ADDR_EXP 66
17628: PUSH
17629: LD_INT 0
17631: PPUSH
17632: LD_INT 2
17634: PPUSH
17635: CALL_OW 12
17639: ST_TO_ADDR
// def_siberite_detection := 0 ;
17640: LD_ADDR_EXP 67
17644: PUSH
17645: LD_INT 0
17647: ST_TO_ADDR
// def_people_respawning := 0 ;
17648: LD_ADDR_EXP 68
17652: PUSH
17653: LD_INT 0
17655: ST_TO_ADDR
// def_amount_of_apemen := 2 ;
17656: LD_ADDR_EXP 69
17660: PUSH
17661: LD_INT 2
17663: ST_TO_ADDR
// def_siberite_bomb := 0 ;
17664: LD_ADDR_EXP 70
17668: PUSH
17669: LD_INT 0
17671: ST_TO_ADDR
// def_builduptime := 0 ;
17672: LD_ADDR_EXP 71
17676: PUSH
17677: LD_INT 0
17679: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth , tech_SibDet , tech_Rocket , tech_OilEng , tech_OilPow , tech_Gun , tech_AdvRocket , tech_AdvMet , tech_Mortar , tech_Bazooka , tech_HidCam , tech_PartInvis ] ;
17680: LD_ADDR_VAR 0 2
17684: PUSH
17685: LD_INT 23
17687: PUSH
17688: LD_INT 20
17690: PUSH
17691: LD_INT 40
17693: PUSH
17694: LD_INT 47
17696: PUSH
17697: LD_INT 46
17699: PUSH
17700: LD_INT 39
17702: PUSH
17703: LD_INT 71
17705: PUSH
17706: LD_INT 34
17708: PUSH
17709: LD_INT 41
17711: PUSH
17712: LD_INT 44
17714: PUSH
17715: LD_INT 17
17717: PUSH
17718: LD_INT 16
17720: PUSH
17721: EMPTY
17722: LIST
17723: LIST
17724: LIST
17725: LIST
17726: LIST
17727: LIST
17728: LIST
17729: LIST
17730: LIST
17731: LIST
17732: LIST
17733: LIST
17734: ST_TO_ADDR
// Unavailable_Builds := [ b_Behemoth , b_Barracks , b_Lab_Biological , b_Teleport , b_Lab_Computer , b_Lab_Opto , b_Lab_Siberium , b_Lab_Spacetime , b_Oil_Mine , b_Siberite_Mine , b_Siberite_Power , b_Ext_Computer , b_Ext_Laser , b_Ext_Radar , b_Ext_Siberium , b_Ext_Radio , b_Control_Tower ] ;
17735: LD_ADDR_VAR 0 3
17739: PUSH
17740: LD_INT 37
17742: PUSH
17743: LD_INT 5
17745: PUSH
17746: LD_INT 13
17748: PUSH
17749: LD_INT 34
17751: PUSH
17752: LD_INT 12
17754: PUSH
17755: LD_INT 15
17757: PUSH
17758: LD_INT 11
17760: PUSH
17761: LD_INT 14
17763: PUSH
17764: LD_INT 29
17766: PUSH
17767: LD_INT 30
17769: PUSH
17770: LD_INT 28
17772: PUSH
17773: LD_INT 24
17775: PUSH
17776: LD_INT 25
17778: PUSH
17779: LD_INT 20
17781: PUSH
17782: LD_INT 21
17784: PUSH
17785: LD_INT 22
17787: PUSH
17788: LD_INT 36
17790: PUSH
17791: EMPTY
17792: LIST
17793: LIST
17794: LIST
17795: LIST
17796: LIST
17797: LIST
17798: LIST
17799: LIST
17800: LIST
17801: LIST
17802: LIST
17803: LIST
17804: LIST
17805: LIST
17806: LIST
17807: LIST
17808: LIST
17809: ST_TO_ADDR
// Banned_Weapons := [ ] ;
17810: LD_ADDR_LOC 56
17814: PUSH
17815: EMPTY
17816: ST_TO_ADDR
// Banned_Chassis := [ ar_half_tracked ] ;
17817: LD_ADDR_LOC 57
17821: PUSH
17822: LD_INT 14
17824: PUSH
17825: EMPTY
17826: LIST
17827: ST_TO_ADDR
// Banned_Controls := [ ] ;
17828: LD_ADDR_LOC 58
17832: PUSH
17833: EMPTY
17834: ST_TO_ADDR
// Banned_Engines := [ ] ;
17835: LD_ADDR_LOC 59
17839: PUSH
17840: EMPTY
17841: ST_TO_ADDR
// Restricted_Builds := [ [ b_Breastwork , b_Bunker ] , [ b_Armoury ] ] ;
17842: LD_ADDR_LOC 54
17846: PUSH
17847: LD_INT 31
17849: PUSH
17850: LD_INT 32
17852: PUSH
17853: EMPTY
17854: LIST
17855: LIST
17856: PUSH
17857: LD_INT 4
17859: PUSH
17860: EMPTY
17861: LIST
17862: PUSH
17863: EMPTY
17864: LIST
17865: LIST
17866: ST_TO_ADDR
// Restricted_Builds_Amount := [ 2 , 1 ] ;
17867: LD_ADDR_LOC 55
17871: PUSH
17872: LD_INT 2
17874: PUSH
17875: LD_INT 1
17877: PUSH
17878: EMPTY
17879: LIST
17880: LIST
17881: ST_TO_ADDR
// for i := 1 to 8 do
17882: LD_ADDR_VAR 0 4
17886: PUSH
17887: DOUBLE
17888: LD_INT 1
17890: DEC
17891: ST_TO_ADDR
17892: LD_INT 8
17894: PUSH
17895: FOR_TO
17896: IFFALSE 17947
// if ( Side_Nations [ i ] = 3 ) then
17898: LD_EXP 19
17902: PUSH
17903: LD_VAR 0 4
17907: ARRAY
17908: PUSH
17909: LD_INT 3
17911: EQUAL
17912: IFFALSE 17945
// Side_Nations := Replace ( Side_Nations , i , Rand ( 1 , 2 ) ) ;
17914: LD_ADDR_EXP 19
17918: PUSH
17919: LD_EXP 19
17923: PPUSH
17924: LD_VAR 0 4
17928: PPUSH
17929: LD_INT 1
17931: PPUSH
17932: LD_INT 2
17934: PPUSH
17935: CALL_OW 12
17939: PPUSH
17940: CALL_OW 1
17944: ST_TO_ADDR
17945: GO 17895
17947: POP
17948: POP
// end ; end ;
17949: GO 17952
17951: POP
// for i := 1 to 8 do
17952: LD_ADDR_VAR 0 4
17956: PUSH
17957: DOUBLE
17958: LD_INT 1
17960: DEC
17961: ST_TO_ADDR
17962: LD_INT 8
17964: PUSH
17965: FOR_TO
17966: IFFALSE 18050
// if Side_Positions [ i ] then
17968: LD_EXP 18
17972: PUSH
17973: LD_VAR 0 4
17977: ARRAY
17978: IFFALSE 18048
// begin for j in Unavailable_Techs do
17980: LD_ADDR_VAR 0 5
17984: PUSH
17985: LD_VAR 0 2
17989: PUSH
17990: FOR_IN
17991: IFFALSE 18012
// SetTech ( j , i , 0 ) ;
17993: LD_VAR 0 5
17997: PPUSH
17998: LD_VAR 0 4
18002: PPUSH
18003: LD_INT 0
18005: PPUSH
18006: CALL_OW 322
18010: GO 17990
18012: POP
18013: POP
// for j in Unavailable_Builds do
18014: LD_ADDR_VAR 0 5
18018: PUSH
18019: LD_VAR 0 3
18023: PUSH
18024: FOR_IN
18025: IFFALSE 18046
// SetRestrict ( j , i , 0 ) ;
18027: LD_VAR 0 5
18031: PPUSH
18032: LD_VAR 0 4
18036: PPUSH
18037: LD_INT 0
18039: PPUSH
18040: CALL_OW 324
18044: GO 18024
18046: POP
18047: POP
// end ;
18048: GO 17965
18050: POP
18051: POP
// end ;
18052: LD_VAR 0 1
18056: RET
// export function InitLimits ; var i , j , k , amount , btype , list ; begin
18057: LD_INT 0
18059: PPUSH
18060: PPUSH
18061: PPUSH
18062: PPUSH
18063: PPUSH
18064: PPUSH
18065: PPUSH
// for i := 1 to Restricted_Builds do
18066: LD_ADDR_VAR 0 2
18070: PUSH
18071: DOUBLE
18072: LD_INT 1
18074: DEC
18075: ST_TO_ADDR
18076: LD_LOC 54
18080: PUSH
18081: FOR_TO
18082: IFFALSE 18392
// begin case Restricted_Builds [ i ] [ 1 ] of b_Breastwork , b_Bunker , b_Turret :
18084: LD_LOC 54
18088: PUSH
18089: LD_VAR 0 2
18093: ARRAY
18094: PUSH
18095: LD_INT 1
18097: ARRAY
18098: PUSH
18099: LD_INT 31
18101: DOUBLE
18102: EQUAL
18103: IFTRUE 18119
18105: LD_INT 32
18107: DOUBLE
18108: EQUAL
18109: IFTRUE 18119
18111: LD_INT 33
18113: DOUBLE
18114: EQUAL
18115: IFTRUE 18119
18117: GO 18130
18119: POP
// btype := #Turrets ; b_Armoury , b_Barracks :
18120: LD_ADDR_VAR 0 6
18124: PUSH
18125: LD_STRING #Turrets
18127: ST_TO_ADDR
18128: GO 18175
18130: LD_INT 4
18132: DOUBLE
18133: EQUAL
18134: IFTRUE 18144
18136: LD_INT 5
18138: DOUBLE
18139: EQUAL
18140: IFTRUE 18144
18142: GO 18155
18144: POP
// btype := #Armouries ; b_Behemoth :
18145: LD_ADDR_VAR 0 6
18149: PUSH
18150: LD_STRING #Armouries
18152: ST_TO_ADDR
18153: GO 18175
18155: LD_INT 37
18157: DOUBLE
18158: EQUAL
18159: IFTRUE 18163
18161: GO 18174
18163: POP
// btype := #Behemoths ; end ;
18164: LD_ADDR_VAR 0 6
18168: PUSH
18169: LD_STRING #Behemoths
18171: ST_TO_ADDR
18172: GO 18175
18174: POP
// list := [ ] ;
18175: LD_ADDR_VAR 0 7
18179: PUSH
18180: EMPTY
18181: ST_TO_ADDR
// for j := 1 to 8 do
18182: LD_ADDR_VAR 0 3
18186: PUSH
18187: DOUBLE
18188: LD_INT 1
18190: DEC
18191: ST_TO_ADDR
18192: LD_INT 8
18194: PUSH
18195: FOR_TO
18196: IFFALSE 18289
// if Side_Positions [ j ] then
18198: LD_EXP 18
18202: PUSH
18203: LD_VAR 0 3
18207: ARRAY
18208: IFFALSE 18287
// begin amount := 0 ;
18210: LD_ADDR_VAR 0 5
18214: PUSH
18215: LD_INT 0
18217: ST_TO_ADDR
// for k in Restricted_Builds [ i ] do
18218: LD_ADDR_VAR 0 4
18222: PUSH
18223: LD_LOC 54
18227: PUSH
18228: LD_VAR 0 2
18232: ARRAY
18233: PUSH
18234: FOR_IN
18235: IFFALSE 18283
// amount := amount + FilterAllUnits ( [ [ f_side , j ] , [ f_btype , k ] ] ) ;
18237: LD_ADDR_VAR 0 5
18241: PUSH
18242: LD_VAR 0 5
18246: PUSH
18247: LD_INT 22
18249: PUSH
18250: LD_VAR 0 3
18254: PUSH
18255: EMPTY
18256: LIST
18257: LIST
18258: PUSH
18259: LD_INT 30
18261: PUSH
18262: LD_VAR 0 4
18266: PUSH
18267: EMPTY
18268: LIST
18269: LIST
18270: PUSH
18271: EMPTY
18272: LIST
18273: LIST
18274: PPUSH
18275: CALL_OW 69
18279: PLUS
18280: ST_TO_ADDR
18281: GO 18234
18283: POP
18284: POP
// break ;
18285: GO 18289
// end ;
18287: GO 18195
18289: POP
18290: POP
// list := [ ] ;
18291: LD_ADDR_VAR 0 7
18295: PUSH
18296: EMPTY
18297: ST_TO_ADDR
// for j := 1 to 8 do
18298: LD_ADDR_VAR 0 3
18302: PUSH
18303: DOUBLE
18304: LD_INT 1
18306: DEC
18307: ST_TO_ADDR
18308: LD_INT 8
18310: PUSH
18311: FOR_TO
18312: IFFALSE 18332
// list := list ^ amount ;
18314: LD_ADDR_VAR 0 7
18318: PUSH
18319: LD_VAR 0 7
18323: PUSH
18324: LD_VAR 0 5
18328: ADD
18329: ST_TO_ADDR
18330: GO 18311
18332: POP
18333: POP
// Already_Built := Already_Built ^ [ list ] ;
18334: LD_ADDR_LOC 60
18338: PUSH
18339: LD_LOC 60
18343: PUSH
18344: LD_VAR 0 7
18348: PUSH
18349: EMPTY
18350: LIST
18351: ADD
18352: ST_TO_ADDR
// Limits_Info := Limits_Info ^ [ btype , amount , Restricted_Builds_Amount [ i ] ] ;
18353: LD_ADDR_LOC 61
18357: PUSH
18358: LD_LOC 61
18362: PUSH
18363: LD_VAR 0 6
18367: PUSH
18368: LD_VAR 0 5
18372: PUSH
18373: LD_LOC 55
18377: PUSH
18378: LD_VAR 0 2
18382: ARRAY
18383: PUSH
18384: EMPTY
18385: LIST
18386: LIST
18387: LIST
18388: ADD
18389: ST_TO_ADDR
// end ;
18390: GO 18081
18392: POP
18393: POP
// Cheaters := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
18394: LD_ADDR_LOC 62
18398: PUSH
18399: LD_INT 0
18401: PUSH
18402: LD_INT 0
18404: PUSH
18405: LD_INT 0
18407: PUSH
18408: LD_INT 0
18410: PUSH
18411: LD_INT 0
18413: PUSH
18414: LD_INT 0
18416: PUSH
18417: LD_INT 0
18419: PUSH
18420: LD_INT 0
18422: PUSH
18423: EMPTY
18424: LIST
18425: LIST
18426: LIST
18427: LIST
18428: LIST
18429: LIST
18430: LIST
18431: LIST
18432: ST_TO_ADDR
// if Limits_Info then
18433: LD_LOC 61
18437: IFFALSE 18453
// Limits_Info := #Limits ^ Limits_Info ;
18439: LD_ADDR_LOC 61
18443: PUSH
18444: LD_STRING #Limits
18446: PUSH
18447: LD_LOC 61
18451: ADD
18452: ST_TO_ADDR
// end ;
18453: LD_VAR 0 1
18457: RET
// export function ExecuteLimits ( un , BType , side , old_side , count ) ; var i , j , Is_Cheater ; begin
18458: LD_INT 0
18460: PPUSH
18461: PPUSH
18462: PPUSH
18463: PPUSH
// for i := 1 to Restricted_Builds do
18464: LD_ADDR_VAR 0 7
18468: PUSH
18469: DOUBLE
18470: LD_INT 1
18472: DEC
18473: ST_TO_ADDR
18474: LD_LOC 54
18478: PUSH
18479: FOR_TO
18480: IFFALSE 18903
// if BType in Restricted_Builds [ i ] then
18482: LD_VAR 0 2
18486: PUSH
18487: LD_LOC 54
18491: PUSH
18492: LD_VAR 0 7
18496: ARRAY
18497: IN
18498: IFFALSE 18901
// begin if old_side then
18500: LD_VAR 0 4
18504: IFFALSE 18630
// if Already_Built [ i ] [ side ] + count > Restricted_Builds_Amount [ i ] then
18506: LD_LOC 60
18510: PUSH
18511: LD_VAR 0 7
18515: ARRAY
18516: PUSH
18517: LD_VAR 0 3
18521: ARRAY
18522: PUSH
18523: LD_VAR 0 5
18527: PLUS
18528: PUSH
18529: LD_LOC 55
18533: PUSH
18534: LD_VAR 0 7
18538: ARRAY
18539: GREATER
18540: IFFALSE 18566
// begin SetSide ( un , old_side ) ;
18542: LD_VAR 0 1
18546: PPUSH
18547: LD_VAR 0 4
18551: PPUSH
18552: CALL_OW 235
// count := 0 ;
18556: LD_ADDR_VAR 0 5
18560: PUSH
18561: LD_INT 0
18563: ST_TO_ADDR
// end else
18564: GO 18630
// Already_Built := Replace ( Already_Built , i , Replace ( Already_Built [ i ] , old_side , Already_Built [ i ] [ old_side ] - count ) ) ;
18566: LD_ADDR_LOC 60
18570: PUSH
18571: LD_LOC 60
18575: PPUSH
18576: LD_VAR 0 7
18580: PPUSH
18581: LD_LOC 60
18585: PUSH
18586: LD_VAR 0 7
18590: ARRAY
18591: PPUSH
18592: LD_VAR 0 4
18596: PPUSH
18597: LD_LOC 60
18601: PUSH
18602: LD_VAR 0 7
18606: ARRAY
18607: PUSH
18608: LD_VAR 0 4
18612: ARRAY
18613: PUSH
18614: LD_VAR 0 5
18618: MINUS
18619: PPUSH
18620: CALL_OW 1
18624: PPUSH
18625: CALL_OW 1
18629: ST_TO_ADDR
// Already_Built := Replace ( Already_Built , i , Replace ( Already_Built [ i ] , side , Already_Built [ i ] [ side ] + count ) ) ;
18630: LD_ADDR_LOC 60
18634: PUSH
18635: LD_LOC 60
18639: PPUSH
18640: LD_VAR 0 7
18644: PPUSH
18645: LD_LOC 60
18649: PUSH
18650: LD_VAR 0 7
18654: ARRAY
18655: PPUSH
18656: LD_VAR 0 3
18660: PPUSH
18661: LD_LOC 60
18665: PUSH
18666: LD_VAR 0 7
18670: ARRAY
18671: PUSH
18672: LD_VAR 0 3
18676: ARRAY
18677: PUSH
18678: LD_VAR 0 5
18682: PLUS
18683: PPUSH
18684: CALL_OW 1
18688: PPUSH
18689: CALL_OW 1
18693: ST_TO_ADDR
// if count <> 0 and ( side = your_side ) then
18694: LD_VAR 0 5
18698: PUSH
18699: LD_INT 0
18701: NONEQUAL
18702: PUSH
18703: LD_VAR 0 3
18707: PUSH
18708: LD_OWVAR 2
18712: EQUAL
18713: AND
18714: IFFALSE 18757
// Limits_Info := Replace ( Limits_Info , 3 * i , Already_Built [ i ] [ side ] ) ;
18716: LD_ADDR_LOC 61
18720: PUSH
18721: LD_LOC 61
18725: PPUSH
18726: LD_INT 3
18728: PUSH
18729: LD_VAR 0 7
18733: MUL
18734: PPUSH
18735: LD_LOC 60
18739: PUSH
18740: LD_VAR 0 7
18744: ARRAY
18745: PUSH
18746: LD_VAR 0 3
18750: ARRAY
18751: PPUSH
18752: CALL_OW 1
18756: ST_TO_ADDR
// if Already_Built [ i ] [ side ] > Restricted_Builds_Amount [ i ] then
18757: LD_LOC 60
18761: PUSH
18762: LD_VAR 0 7
18766: ARRAY
18767: PUSH
18768: LD_VAR 0 3
18772: ARRAY
18773: PUSH
18774: LD_LOC 55
18778: PUSH
18779: LD_VAR 0 7
18783: ARRAY
18784: GREATER
18785: IFFALSE 18812
// begin Cheaters := Replace ( Cheaters , side , 1 ) ;
18787: LD_ADDR_LOC 62
18791: PUSH
18792: LD_LOC 62
18796: PPUSH
18797: LD_VAR 0 3
18801: PPUSH
18802: LD_INT 1
18804: PPUSH
18805: CALL_OW 1
18809: ST_TO_ADDR
// end else
18810: GO 18899
// begin for j := 1 to Restricted_Builds do
18812: LD_ADDR_VAR 0 8
18816: PUSH
18817: DOUBLE
18818: LD_INT 1
18820: DEC
18821: ST_TO_ADDR
18822: LD_LOC 54
18826: PUSH
18827: FOR_TO
18828: IFFALSE 18872
// if Already_Built [ j ] [ side ] > Restricted_Builds_Amount [ j ] then
18830: LD_LOC 60
18834: PUSH
18835: LD_VAR 0 8
18839: ARRAY
18840: PUSH
18841: LD_VAR 0 3
18845: ARRAY
18846: PUSH
18847: LD_LOC 55
18851: PUSH
18852: LD_VAR 0 8
18856: ARRAY
18857: GREATER
18858: IFFALSE 18870
// begin Is_Cheater := true ;
18860: LD_ADDR_VAR 0 9
18864: PUSH
18865: LD_INT 1
18867: ST_TO_ADDR
// break ;
18868: GO 18872
// end ;
18870: GO 18827
18872: POP
18873: POP
// Cheaters := Replace ( Cheaters , side , Is_Cheater ) ;
18874: LD_ADDR_LOC 62
18878: PUSH
18879: LD_LOC 62
18883: PPUSH
18884: LD_VAR 0 3
18888: PPUSH
18889: LD_VAR 0 9
18893: PPUSH
18894: CALL_OW 1
18898: ST_TO_ADDR
// end ; break ;
18899: GO 18903
// end ;
18901: GO 18479
18903: POP
18904: POP
// end ;
18905: LD_VAR 0 6
18909: RET
// on VehicleConstructionStarted ( factory , chassis , engine , control , weapon ) do begin if ( weapon in Banned_Weapons ) or ( chassis in Banned_Chassis ) or ( control in Banned_Controls ) or ( engine in Banned_Engines ) then
18910: LD_VAR 0 5
18914: PUSH
18915: LD_LOC 56
18919: IN
18920: PUSH
18921: LD_VAR 0 2
18925: PUSH
18926: LD_LOC 57
18930: IN
18931: OR
18932: PUSH
18933: LD_VAR 0 4
18937: PUSH
18938: LD_LOC 58
18942: IN
18943: OR
18944: PUSH
18945: LD_VAR 0 3
18949: PUSH
18950: LD_LOC 59
18954: IN
18955: OR
18956: IFFALSE 18967
// ComCancel ( factory ) ;
18958: LD_VAR 0 1
18962: PPUSH
18963: CALL_OW 127
// end ;
18967: PPOPN 5
18969: END
// on WeaponPlaced ( building , weapon ) do begin if ( weapon in Banned_Weapons ) then
18970: LD_VAR 0 2
18974: PUSH
18975: LD_LOC 56
18979: IN
18980: IFFALSE 18991
// ComCancel ( building ) ;
18982: LD_VAR 0 1
18986: PPUSH
18987: CALL_OW 127
// end ; end_of_file
18991: PPOPN 2
18993: END
// export ExtraStrings ; export function ShowTimer ; var AllStrings ; begin
18994: LD_INT 0
18996: PPUSH
18997: PPUSH
// AllStrings := [ #Multi1x1-Time , tick ] ;
18998: LD_ADDR_VAR 0 2
19002: PUSH
19003: LD_STRING #Multi1x1-Time
19005: PUSH
19006: LD_OWVAR 1
19010: PUSH
19011: EMPTY
19012: LIST
19013: LIST
19014: ST_TO_ADDR
// if 0 <= siberite_bomb_Delay - tick then
19015: LD_INT 0
19017: PUSH
19018: LD_EXP 15
19022: PUSH
19023: LD_OWVAR 1
19027: MINUS
19028: LESSEQUAL
19029: IFFALSE 19060
// AllStrings := AllStrings ^ [ #allowedsibbomb , siberite_bomb_Delay - tick ] ;
19031: LD_ADDR_VAR 0 2
19035: PUSH
19036: LD_VAR 0 2
19040: PUSH
19041: LD_STRING #allowedsibbomb
19043: PUSH
19044: LD_EXP 15
19048: PUSH
19049: LD_OWVAR 1
19053: MINUS
19054: PUSH
19055: EMPTY
19056: LIST
19057: LIST
19058: ADD
19059: ST_TO_ADDR
// if ( ExtraStrings ) then
19060: LD_EXP 73
19064: IFFALSE 19086
// AllStrings := AllStrings ^  ^ ExtraStrings ;
19066: LD_ADDR_VAR 0 2
19070: PUSH
19071: LD_VAR 0 2
19075: PUSH
19076: LD_STRING 
19078: ADD
19079: PUSH
19080: LD_EXP 73
19084: ADD
19085: ST_TO_ADDR
// if ( LimitsStrings ) then
19086: CALL 15834 0 0
19090: IFFALSE 19112
// AllStrings := AllStrings ^  ^ LimitsStrings ;
19092: LD_ADDR_VAR 0 2
19096: PUSH
19097: LD_VAR 0 2
19101: PUSH
19102: LD_STRING 
19104: ADD
19105: PUSH
19106: CALL 15834 0 0
19110: ADD
19111: ST_TO_ADDR
// Display_Strings := AllStrings ;
19112: LD_ADDR_OWVAR 47
19116: PUSH
19117: LD_VAR 0 2
19121: ST_TO_ADDR
// end ;
19122: LD_VAR 0 1
19126: RET
// every 0 0$1 do
19127: GO 19129
19129: DISABLE
// begin ShowTimer ;
19130: CALL 18994 0 0
// enable ;
19134: ENABLE
// end ; end_of_file
19135: END
// export function SA_OnSiberiteRocketExploded ( siberite_rocket_vehicle , target_x , target_y , requestSide ) ; begin
19136: LD_INT 0
19138: PPUSH
// if GetSide ( siberite_rocket_vehicle ) = requestSide then
19139: LD_VAR 0 1
19143: PPUSH
19144: CALL_OW 255
19148: PUSH
19149: LD_VAR 0 4
19153: EQUAL
19154: IFFALSE 19173
// begin SetAchievement ( ACH_RAD ) ;
19156: LD_STRING ACH_RAD
19158: PPUSH
19159: CALL_OW 543
// SetAchievementEx ( ACH_NL , 1 ) ;
19163: LD_STRING ACH_NL
19165: PPUSH
19166: LD_INT 1
19168: PPUSH
19169: CALL_OW 564
// end end ;
19173: LD_VAR 0 5
19177: RET
// export function SA_Win ( side ) ; begin
19178: LD_INT 0
19180: PPUSH
// case side of 1 :
19181: LD_VAR 0 1
19185: PUSH
19186: LD_INT 1
19188: DOUBLE
19189: EQUAL
19190: IFTRUE 19194
19192: GO 19207
19194: POP
// SetAchievementEx ( ACH_AH , 1 ) ; 2 :
19195: LD_STRING ACH_AH
19197: PPUSH
19198: LD_INT 1
19200: PPUSH
19201: CALL_OW 564
19205: GO 19370
19207: LD_INT 2
19209: DOUBLE
19210: EQUAL
19211: IFTRUE 19215
19213: GO 19228
19215: POP
// SetAchievementEx ( ACH_E , 1 ) ; 3 :
19216: LD_STRING ACH_E
19218: PPUSH
19219: LD_INT 1
19221: PPUSH
19222: CALL_OW 564
19226: GO 19370
19228: LD_INT 3
19230: DOUBLE
19231: EQUAL
19232: IFTRUE 19236
19234: GO 19249
19236: POP
// SetAchievementEx ( ACH_OOL , 1 ) ; [ 1 , 2 ] :
19237: LD_STRING ACH_OOL
19239: PPUSH
19240: LD_INT 1
19242: PPUSH
19243: CALL_OW 564
19247: GO 19370
19249: LD_INT 1
19251: PUSH
19252: LD_INT 2
19254: PUSH
19255: EMPTY
19256: LIST
19257: LIST
19258: DOUBLE
19259: EQUAL
19260: IFTRUE 19264
19262: GO 19289
19264: POP
// begin SetAchievementEx ( ACH_AH , 0.5 ) ;
19265: LD_STRING ACH_AH
19267: PPUSH
19268: LD_REAL  5.00000000000000E-0001
19271: PPUSH
19272: CALL_OW 564
// SetAchievementEx ( ACH_E , 0.5 ) ;
19276: LD_STRING ACH_E
19278: PPUSH
19279: LD_REAL  5.00000000000000E-0001
19282: PPUSH
19283: CALL_OW 564
// end ; [ 2 , 3 ] :
19287: GO 19370
19289: LD_INT 2
19291: PUSH
19292: LD_INT 3
19294: PUSH
19295: EMPTY
19296: LIST
19297: LIST
19298: DOUBLE
19299: EQUAL
19300: IFTRUE 19304
19302: GO 19329
19304: POP
// begin SetAchievementEx ( ACH_OOL , 0.5 ) ;
19305: LD_STRING ACH_OOL
19307: PPUSH
19308: LD_REAL  5.00000000000000E-0001
19311: PPUSH
19312: CALL_OW 564
// SetAchievementEx ( ACH_E , 0.5 ) ;
19316: LD_STRING ACH_E
19318: PPUSH
19319: LD_REAL  5.00000000000000E-0001
19322: PPUSH
19323: CALL_OW 564
// end ; [ 3 , 1 ] :
19327: GO 19370
19329: LD_INT 3
19331: PUSH
19332: LD_INT 1
19334: PUSH
19335: EMPTY
19336: LIST
19337: LIST
19338: DOUBLE
19339: EQUAL
19340: IFTRUE 19344
19342: GO 19369
19344: POP
// begin SetAchievementEx ( ACH_AH , 0.5 ) ;
19345: LD_STRING ACH_AH
19347: PPUSH
19348: LD_REAL  5.00000000000000E-0001
19351: PPUSH
19352: CALL_OW 564
// SetAchievementEx ( ACH_OOL , 0.5 ) ;
19356: LD_STRING ACH_OOL
19358: PPUSH
19359: LD_REAL  5.00000000000000E-0001
19362: PPUSH
19363: CALL_OW 564
// end ; end ;
19367: GO 19370
19369: POP
// end ; end_of_file
19370: LD_VAR 0 2
19374: RET
// export function SetMpTechs ( ) ; var side , i ; begin
19375: LD_INT 0
19377: PPUSH
19378: PPUSH
19379: PPUSH
// for side = 1 to 8 do
19380: LD_ADDR_VAR 0 2
19384: PUSH
19385: DOUBLE
19386: LD_INT 1
19388: DEC
19389: ST_TO_ADDR
19390: LD_INT 8
19392: PUSH
19393: FOR_TO
19394: IFFALSE 19515
// begin for i = 1 to 72 do
19396: LD_ADDR_VAR 0 3
19400: PUSH
19401: DOUBLE
19402: LD_INT 1
19404: DEC
19405: ST_TO_ADDR
19406: LD_INT 72
19408: PUSH
19409: FOR_TO
19410: IFFALSE 19441
// SetTech ( i , side , GetRestrictions ( false , i ) ) ;
19412: LD_VAR 0 3
19416: PPUSH
19417: LD_VAR 0 2
19421: PPUSH
19422: LD_INT 0
19424: PPUSH
19425: LD_VAR 0 3
19429: PPUSH
19430: CALL_OW 565
19434: PPUSH
19435: CALL_OW 322
19439: GO 19409
19441: POP
19442: POP
// SetTech ( 73 , side , GetRestrictions ( false , 25 ) ) ;
19443: LD_INT 73
19445: PPUSH
19446: LD_VAR 0 2
19450: PPUSH
19451: LD_INT 0
19453: PPUSH
19454: LD_INT 25
19456: PPUSH
19457: CALL_OW 565
19461: PPUSH
19462: CALL_OW 322
// for i = 0 to 40 do
19466: LD_ADDR_VAR 0 3
19470: PUSH
19471: DOUBLE
19472: LD_INT 0
19474: DEC
19475: ST_TO_ADDR
19476: LD_INT 40
19478: PUSH
19479: FOR_TO
19480: IFFALSE 19511
// SetRestrict ( i , side , GetRestrictions ( true , i ) ) ;
19482: LD_VAR 0 3
19486: PPUSH
19487: LD_VAR 0 2
19491: PPUSH
19492: LD_INT 1
19494: PPUSH
19495: LD_VAR 0 3
19499: PPUSH
19500: CALL_OW 565
19504: PPUSH
19505: CALL_OW 324
19509: GO 19479
19511: POP
19512: POP
// end ;
19513: GO 19393
19515: POP
19516: POP
// end ;
19517: LD_VAR 0 1
19521: RET
// export function SetMpTechLevel ( level ) ; var side , i ; begin
19522: LD_INT 0
19524: PPUSH
19525: PPUSH
19526: PPUSH
// for side = 1 to 8 do
19527: LD_ADDR_VAR 0 3
19531: PUSH
19532: DOUBLE
19533: LD_INT 1
19535: DEC
19536: ST_TO_ADDR
19537: LD_INT 8
19539: PUSH
19540: FOR_TO
19541: IFFALSE 23537
// begin for i = 1 to 73 do
19543: LD_ADDR_VAR 0 4
19547: PUSH
19548: DOUBLE
19549: LD_INT 1
19551: DEC
19552: ST_TO_ADDR
19553: LD_INT 73
19555: PUSH
19556: FOR_TO
19557: IFFALSE 19578
// SetTech ( i , side , state_disabled ) ;
19559: LD_VAR 0 4
19563: PPUSH
19564: LD_VAR 0 3
19568: PPUSH
19569: LD_INT 0
19571: PPUSH
19572: CALL_OW 322
19576: GO 19556
19578: POP
19579: POP
// for i = 0 to 40 do
19580: LD_ADDR_VAR 0 4
19584: PUSH
19585: DOUBLE
19586: LD_INT 0
19588: DEC
19589: ST_TO_ADDR
19590: LD_INT 40
19592: PUSH
19593: FOR_TO
19594: IFFALSE 19615
// SetRestrict ( i , side , false ) ;
19596: LD_VAR 0 4
19600: PPUSH
19601: LD_VAR 0 3
19605: PPUSH
19606: LD_INT 0
19608: PPUSH
19609: CALL_OW 324
19613: GO 19593
19615: POP
19616: POP
// case level of 1 :
19617: LD_VAR 0 1
19621: PUSH
19622: LD_INT 1
19624: DOUBLE
19625: EQUAL
19626: IFTRUE 19630
19628: GO 19783
19630: POP
// begin SetTech ( tech_solpow , side , state_enabled ) ;
19631: LD_INT 35
19633: PPUSH
19634: LD_VAR 0 3
19638: PPUSH
19639: LD_INT 1
19641: PPUSH
19642: CALL_OW 322
// SetTech ( tech_soleng , side , state_enabled ) ;
19646: LD_INT 45
19648: PPUSH
19649: LD_VAR 0 3
19653: PPUSH
19654: LD_INT 1
19656: PPUSH
19657: CALL_OW 322
// SetTech ( tech_oilpow , side , state_enabled ) ;
19661: LD_INT 46
19663: PPUSH
19664: LD_VAR 0 3
19668: PPUSH
19669: LD_INT 1
19671: PPUSH
19672: CALL_OW 322
// SetTech ( tech_oileng , side , state_enabled ) ;
19676: LD_INT 47
19678: PPUSH
19679: LD_VAR 0 3
19683: PPUSH
19684: LD_INT 1
19686: PPUSH
19687: CALL_OW 322
// SetRestrict ( b_depot , side , true ) ;
19691: LD_INT 0
19693: PPUSH
19694: LD_VAR 0 3
19698: PPUSH
19699: LD_INT 1
19701: PPUSH
19702: CALL_OW 324
// SetRestrict ( b_workshop , side , true ) ;
19706: LD_INT 2
19708: PPUSH
19709: LD_VAR 0 3
19713: PPUSH
19714: LD_INT 1
19716: PPUSH
19717: CALL_OW 324
// SetRestrict ( b_armoury , side , true ) ;
19721: LD_INT 4
19723: PPUSH
19724: LD_VAR 0 3
19728: PPUSH
19729: LD_INT 1
19731: PPUSH
19732: CALL_OW 324
// SetRestrict ( b_lab , side , true ) ;
19736: LD_INT 6
19738: PPUSH
19739: LD_VAR 0 3
19743: PPUSH
19744: LD_INT 1
19746: PPUSH
19747: CALL_OW 324
// SetRestrict ( b_oil_mine , side , true ) ;
19751: LD_INT 29
19753: PPUSH
19754: LD_VAR 0 3
19758: PPUSH
19759: LD_INT 1
19761: PPUSH
19762: CALL_OW 324
// SetRestrict ( b_breastwork , side , true ) ;
19766: LD_INT 31
19768: PPUSH
19769: LD_VAR 0 3
19773: PPUSH
19774: LD_INT 1
19776: PPUSH
19777: CALL_OW 324
// end ; 2 :
19781: GO 23535
19783: LD_INT 2
19785: DOUBLE
19786: EQUAL
19787: IFTRUE 19791
19789: GO 19989
19791: POP
// begin SetTech ( tech_solpow , side , state_enabled ) ;
19792: LD_INT 35
19794: PPUSH
19795: LD_VAR 0 3
19799: PPUSH
19800: LD_INT 1
19802: PPUSH
19803: CALL_OW 322
// SetTech ( tech_soleng , side , state_enabled ) ;
19807: LD_INT 45
19809: PPUSH
19810: LD_VAR 0 3
19814: PPUSH
19815: LD_INT 1
19817: PPUSH
19818: CALL_OW 322
// SetTech ( tech_oilpow , side , state_enabled ) ;
19822: LD_INT 46
19824: PPUSH
19825: LD_VAR 0 3
19829: PPUSH
19830: LD_INT 1
19832: PPUSH
19833: CALL_OW 322
// SetTech ( tech_oileng , side , state_enabled ) ;
19837: LD_INT 47
19839: PPUSH
19840: LD_VAR 0 3
19844: PPUSH
19845: LD_INT 1
19847: PPUSH
19848: CALL_OW 322
// SetTech ( tech_apelang , side , state_enabled ) ;
19852: LD_INT 1
19854: PPUSH
19855: LD_VAR 0 3
19859: PPUSH
19860: LD_INT 1
19862: PPUSH
19863: CALL_OW 322
// SetTech ( tech_apepsych , side , state_enabled ) ;
19867: LD_INT 2
19869: PPUSH
19870: LD_VAR 0 3
19874: PPUSH
19875: LD_INT 1
19877: PPUSH
19878: CALL_OW 322
// SetTech ( tech_apeagres , side , state_enabled ) ;
19882: LD_INT 11
19884: PPUSH
19885: LD_VAR 0 3
19889: PPUSH
19890: LD_INT 1
19892: PPUSH
19893: CALL_OW 322
// SetRestrict ( b_depot , side , true ) ;
19897: LD_INT 0
19899: PPUSH
19900: LD_VAR 0 3
19904: PPUSH
19905: LD_INT 1
19907: PPUSH
19908: CALL_OW 324
// SetRestrict ( b_workshop , side , true ) ;
19912: LD_INT 2
19914: PPUSH
19915: LD_VAR 0 3
19919: PPUSH
19920: LD_INT 1
19922: PPUSH
19923: CALL_OW 324
// SetRestrict ( b_armoury , side , true ) ;
19927: LD_INT 4
19929: PPUSH
19930: LD_VAR 0 3
19934: PPUSH
19935: LD_INT 1
19937: PPUSH
19938: CALL_OW 324
// SetRestrict ( b_lab , side , true ) ;
19942: LD_INT 6
19944: PPUSH
19945: LD_VAR 0 3
19949: PPUSH
19950: LD_INT 1
19952: PPUSH
19953: CALL_OW 324
// SetRestrict ( b_oil_mine , side , true ) ;
19957: LD_INT 29
19959: PPUSH
19960: LD_VAR 0 3
19964: PPUSH
19965: LD_INT 1
19967: PPUSH
19968: CALL_OW 324
// SetRestrict ( b_breastwork , side , true ) ;
19972: LD_INT 31
19974: PPUSH
19975: LD_VAR 0 3
19979: PPUSH
19980: LD_INT 1
19982: PPUSH
19983: CALL_OW 324
// end ; 3 :
19987: GO 23535
19989: LD_INT 3
19991: DOUBLE
19992: EQUAL
19993: IFTRUE 19997
19995: GO 20450
19997: POP
// begin SetTech ( tech_solpow , side , state_enabled ) ;
19998: LD_INT 35
20000: PPUSH
20001: LD_VAR 0 3
20005: PPUSH
20006: LD_INT 1
20008: PPUSH
20009: CALL_OW 322
// SetTech ( tech_soleng , side , state_enabled ) ;
20013: LD_INT 45
20015: PPUSH
20016: LD_VAR 0 3
20020: PPUSH
20021: LD_INT 1
20023: PPUSH
20024: CALL_OW 322
// SetTech ( tech_oilpow , side , state_enabled ) ;
20028: LD_INT 46
20030: PPUSH
20031: LD_VAR 0 3
20035: PPUSH
20036: LD_INT 1
20038: PPUSH
20039: CALL_OW 322
// SetTech ( tech_oileng , side , state_enabled ) ;
20043: LD_INT 47
20045: PPUSH
20046: LD_VAR 0 3
20050: PPUSH
20051: LD_INT 1
20053: PPUSH
20054: CALL_OW 322
// SetTech ( tech_apelang , side , state_enabled ) ;
20058: LD_INT 1
20060: PPUSH
20061: LD_VAR 0 3
20065: PPUSH
20066: LD_INT 1
20068: PPUSH
20069: CALL_OW 322
// SetTech ( tech_apepsych , side , state_enabled ) ;
20073: LD_INT 2
20075: PPUSH
20076: LD_VAR 0 3
20080: PPUSH
20081: LD_INT 1
20083: PPUSH
20084: CALL_OW 322
// SetTech ( tech_apeagres , side , state_enabled ) ;
20088: LD_INT 11
20090: PPUSH
20091: LD_VAR 0 3
20095: PPUSH
20096: LD_INT 1
20098: PPUSH
20099: CALL_OW 322
// SetTech ( tech_tech1 , side , state_enabled ) ;
20103: LD_INT 48
20105: PPUSH
20106: LD_VAR 0 3
20110: PPUSH
20111: LD_INT 1
20113: PPUSH
20114: CALL_OW 322
// SetTech ( tech_gatling , side , state_enabled ) ;
20118: LD_INT 69
20120: PPUSH
20121: LD_VAR 0 3
20125: PPUSH
20126: LD_INT 1
20128: PPUSH
20129: CALL_OW 322
// SetTech ( tech_gun , side , state_enabled ) ;
20133: LD_INT 39
20135: PPUSH
20136: LD_VAR 0 3
20140: PPUSH
20141: LD_INT 1
20143: PPUSH
20144: CALL_OW 322
// SetTech ( tech_selfdest , side , state_enabled ) ;
20148: LD_INT 43
20150: PPUSH
20151: LD_VAR 0 3
20155: PPUSH
20156: LD_INT 1
20158: PPUSH
20159: CALL_OW 322
// SetTech ( tech_weap1 , side , state_enabled ) ;
20163: LD_INT 51
20165: PPUSH
20166: LD_VAR 0 3
20170: PPUSH
20171: LD_INT 1
20173: PPUSH
20174: CALL_OW 322
// SetTech ( tech_radar , side , state_enabled ) ;
20178: LD_INT 6
20180: PPUSH
20181: LD_VAR 0 3
20185: PPUSH
20186: LD_INT 1
20188: PPUSH
20189: CALL_OW 322
// SetRestrict ( b_depot , side , true ) ;
20193: LD_INT 0
20195: PPUSH
20196: LD_VAR 0 3
20200: PPUSH
20201: LD_INT 1
20203: PPUSH
20204: CALL_OW 324
// SetRestrict ( b_workshop , side , true ) ;
20208: LD_INT 2
20210: PPUSH
20211: LD_VAR 0 3
20215: PPUSH
20216: LD_INT 1
20218: PPUSH
20219: CALL_OW 324
// SetRestrict ( b_factory , side , true ) ;
20223: LD_INT 3
20225: PPUSH
20226: LD_VAR 0 3
20230: PPUSH
20231: LD_INT 1
20233: PPUSH
20234: CALL_OW 324
// SetRestrict ( b_armoury , side , true ) ;
20238: LD_INT 4
20240: PPUSH
20241: LD_VAR 0 3
20245: PPUSH
20246: LD_INT 1
20248: PPUSH
20249: CALL_OW 324
// SetRestrict ( b_lab , side , true ) ;
20253: LD_INT 6
20255: PPUSH
20256: LD_VAR 0 3
20260: PPUSH
20261: LD_INT 1
20263: PPUSH
20264: CALL_OW 324
// SetRestrict ( b_lab_half , side , true ) ;
20268: LD_INT 7
20270: PPUSH
20271: LD_VAR 0 3
20275: PPUSH
20276: LD_INT 1
20278: PPUSH
20279: CALL_OW 324
// SetRestrict ( b_lab_full , side , true ) ;
20283: LD_INT 8
20285: PPUSH
20286: LD_VAR 0 3
20290: PPUSH
20291: LD_INT 1
20293: PPUSH
20294: CALL_OW 324
// SetRestrict ( b_lab_weapon , side , true ) ;
20298: LD_INT 10
20300: PPUSH
20301: LD_VAR 0 3
20305: PPUSH
20306: LD_INT 1
20308: PPUSH
20309: CALL_OW 324
// SetRestrict ( b_lab_opto , side , true ) ;
20313: LD_INT 15
20315: PPUSH
20316: LD_VAR 0 3
20320: PPUSH
20321: LD_INT 1
20323: PPUSH
20324: CALL_OW 324
// SetRestrict ( b_ext_track , side , true ) ;
20328: LD_INT 16
20330: PPUSH
20331: LD_VAR 0 3
20335: PPUSH
20336: LD_INT 1
20338: PPUSH
20339: CALL_OW 324
// SetRestrict ( b_ext_gun , side , true ) ;
20343: LD_INT 17
20345: PPUSH
20346: LD_VAR 0 3
20350: PPUSH
20351: LD_INT 1
20353: PPUSH
20354: CALL_OW 324
// SetRestrict ( b_ext_radar , side , true ) ;
20358: LD_INT 20
20360: PPUSH
20361: LD_VAR 0 3
20365: PPUSH
20366: LD_INT 1
20368: PPUSH
20369: CALL_OW 324
// SetRestrict ( b_oil_power , side , true ) ;
20373: LD_INT 26
20375: PPUSH
20376: LD_VAR 0 3
20380: PPUSH
20381: LD_INT 1
20383: PPUSH
20384: CALL_OW 324
// SetRestrict ( b_solar_power , side , true ) ;
20388: LD_INT 27
20390: PPUSH
20391: LD_VAR 0 3
20395: PPUSH
20396: LD_INT 1
20398: PPUSH
20399: CALL_OW 324
// SetRestrict ( b_oil_mine , side , true ) ;
20403: LD_INT 29
20405: PPUSH
20406: LD_VAR 0 3
20410: PPUSH
20411: LD_INT 1
20413: PPUSH
20414: CALL_OW 324
// SetRestrict ( b_breastwork , side , true ) ;
20418: LD_INT 31
20420: PPUSH
20421: LD_VAR 0 3
20425: PPUSH
20426: LD_INT 1
20428: PPUSH
20429: CALL_OW 324
// SetRestrict ( b_bunker , side , true ) ;
20433: LD_INT 32
20435: PPUSH
20436: LD_VAR 0 3
20440: PPUSH
20441: LD_INT 1
20443: PPUSH
20444: CALL_OW 324
// end ; 4 :
20448: GO 23535
20450: LD_INT 4
20452: DOUBLE
20453: EQUAL
20454: IFTRUE 20458
20456: GO 21406
20458: POP
// begin SetTech ( tech_solpow , side , state_enabled ) ;
20459: LD_INT 35
20461: PPUSH
20462: LD_VAR 0 3
20466: PPUSH
20467: LD_INT 1
20469: PPUSH
20470: CALL_OW 322
// SetTech ( tech_soleng , side , state_enabled ) ;
20474: LD_INT 45
20476: PPUSH
20477: LD_VAR 0 3
20481: PPUSH
20482: LD_INT 1
20484: PPUSH
20485: CALL_OW 322
// SetTech ( tech_oilpow , side , state_enabled ) ;
20489: LD_INT 46
20491: PPUSH
20492: LD_VAR 0 3
20496: PPUSH
20497: LD_INT 1
20499: PPUSH
20500: CALL_OW 322
// SetTech ( tech_oileng , side , state_enabled ) ;
20504: LD_INT 47
20506: PPUSH
20507: LD_VAR 0 3
20511: PPUSH
20512: LD_INT 1
20514: PPUSH
20515: CALL_OW 322
// SetTech ( tech_apelang , side , state_enabled ) ;
20519: LD_INT 1
20521: PPUSH
20522: LD_VAR 0 3
20526: PPUSH
20527: LD_INT 1
20529: PPUSH
20530: CALL_OW 322
// SetTech ( tech_apepsych , side , state_enabled ) ;
20534: LD_INT 2
20536: PPUSH
20537: LD_VAR 0 3
20541: PPUSH
20542: LD_INT 1
20544: PPUSH
20545: CALL_OW 322
// SetTech ( tech_apeagres , side , state_enabled ) ;
20549: LD_INT 11
20551: PPUSH
20552: LD_VAR 0 3
20556: PPUSH
20557: LD_INT 1
20559: PPUSH
20560: CALL_OW 322
// SetTech ( tech_sibdet , side , state_enabled ) ;
20564: LD_INT 20
20566: PPUSH
20567: LD_VAR 0 3
20571: PPUSH
20572: LD_INT 1
20574: PPUSH
20575: CALL_OW 322
// SetTech ( tech_tech1 , side , state_enabled ) ;
20579: LD_INT 48
20581: PPUSH
20582: LD_VAR 0 3
20586: PPUSH
20587: LD_INT 1
20589: PPUSH
20590: CALL_OW 322
// SetTech ( tech_tech2 , side , state_enabled ) ;
20594: LD_INT 49
20596: PPUSH
20597: LD_VAR 0 3
20601: PPUSH
20602: LD_INT 1
20604: PPUSH
20605: CALL_OW 322
// SetTech ( tech_gatling , side , state_enabled ) ;
20609: LD_INT 69
20611: PPUSH
20612: LD_VAR 0 3
20616: PPUSH
20617: LD_INT 1
20619: PPUSH
20620: CALL_OW 322
// SetTech ( tech_gun , side , state_enabled ) ;
20624: LD_INT 39
20626: PPUSH
20627: LD_VAR 0 3
20631: PPUSH
20632: LD_INT 1
20634: PPUSH
20635: CALL_OW 322
// SetTech ( tech_advmet , side , state_enabled ) ;
20639: LD_INT 34
20641: PPUSH
20642: LD_VAR 0 3
20646: PPUSH
20647: LD_INT 1
20649: PPUSH
20650: CALL_OW 322
// SetTech ( tech_explos , side , state_enabled ) ;
20654: LD_INT 42
20656: PPUSH
20657: LD_VAR 0 3
20661: PPUSH
20662: LD_INT 1
20664: PPUSH
20665: CALL_OW 322
// SetTech ( tech_bazooka , side , state_enabled ) ;
20669: LD_INT 44
20671: PPUSH
20672: LD_VAR 0 3
20676: PPUSH
20677: LD_INT 1
20679: PPUSH
20680: CALL_OW 322
// SetTech ( tech_mortar , side , state_enabled ) ;
20684: LD_INT 41
20686: PPUSH
20687: LD_VAR 0 3
20691: PPUSH
20692: LD_INT 1
20694: PPUSH
20695: CALL_OW 322
// SetTech ( tech_selfdest , side , state_enabled ) ;
20699: LD_INT 43
20701: PPUSH
20702: LD_VAR 0 3
20706: PPUSH
20707: LD_INT 1
20709: PPUSH
20710: CALL_OW 322
// SetTech ( tech_flame , side , state_enabled ) ;
20714: LD_INT 70
20716: PPUSH
20717: LD_VAR 0 3
20721: PPUSH
20722: LD_INT 1
20724: PPUSH
20725: CALL_OW 322
// SetTech ( tech_weap1 , side , state_enabled ) ;
20729: LD_INT 51
20731: PPUSH
20732: LD_VAR 0 3
20736: PPUSH
20737: LD_INT 1
20739: PPUSH
20740: CALL_OW 322
// SetTech ( tech_weap2 , side , state_enabled ) ;
20744: LD_INT 52
20746: PPUSH
20747: LD_VAR 0 3
20751: PPUSH
20752: LD_INT 1
20754: PPUSH
20755: CALL_OW 322
// SetTech ( tech_radar , side , state_enabled ) ;
20759: LD_INT 6
20761: PPUSH
20762: LD_VAR 0 3
20766: PPUSH
20767: LD_INT 1
20769: PPUSH
20770: CALL_OW 322
// SetTech ( tech_remcont , side , state_enabled ) ;
20774: LD_INT 15
20776: PPUSH
20777: LD_VAR 0 3
20781: PPUSH
20782: LD_INT 1
20784: PPUSH
20785: CALL_OW 322
// SetTech ( tech_matdet , side , state_enabled ) ;
20789: LD_INT 7
20791: PPUSH
20792: LD_VAR 0 3
20796: PPUSH
20797: LD_INT 1
20799: PPUSH
20800: CALL_OW 322
// SetTech ( tech_lassight , side , state_enabled ) ;
20804: LD_INT 12
20806: PPUSH
20807: LD_VAR 0 3
20811: PPUSH
20812: LD_INT 1
20814: PPUSH
20815: CALL_OW 322
// SetTech ( tech_remcharge , side , state_enabled ) ;
20819: LD_INT 18
20821: PPUSH
20822: LD_VAR 0 3
20826: PPUSH
20827: LD_INT 1
20829: PPUSH
20830: CALL_OW 322
// SetTech ( tech_opto1 , side , state_enabled ) ;
20834: LD_INT 60
20836: PPUSH
20837: LD_VAR 0 3
20841: PPUSH
20842: LD_INT 1
20844: PPUSH
20845: CALL_OW 322
// SetTech ( tech_matpred , side , state_enabled ) ;
20849: LD_INT 9
20851: PPUSH
20852: LD_VAR 0 3
20856: PPUSH
20857: LD_INT 1
20859: PPUSH
20860: CALL_OW 322
// SetTech ( tech_taufield , side , state_enabled ) ;
20864: LD_INT 30
20866: PPUSH
20867: LD_VAR 0 3
20871: PPUSH
20872: LD_INT 1
20874: PPUSH
20875: CALL_OW 322
// SetTech ( tech_limteleport , side , state_enabled ) ;
20879: LD_INT 37
20881: PPUSH
20882: LD_VAR 0 3
20886: PPUSH
20887: LD_INT 1
20889: PPUSH
20890: CALL_OW 322
// SetTech ( tech_stimdrugs , side , state_enabled ) ;
20894: LD_INT 5
20896: PPUSH
20897: LD_VAR 0 3
20901: PPUSH
20902: LD_INT 1
20904: PPUSH
20905: CALL_OW 322
// SetTech ( tech_bio1 , side , state_enabled ) ;
20909: LD_INT 66
20911: PPUSH
20912: LD_VAR 0 3
20916: PPUSH
20917: LD_INT 1
20919: PPUSH
20920: CALL_OW 322
// SetTech ( tech_sibpow , side , state_enabled ) ;
20924: LD_INT 21
20926: PPUSH
20927: LD_VAR 0 3
20931: PPUSH
20932: LD_INT 1
20934: PPUSH
20935: CALL_OW 322
// SetTech ( tech_sibeng , side , state_enabled ) ;
20939: LD_INT 22
20941: PPUSH
20942: LD_VAR 0 3
20946: PPUSH
20947: LD_INT 1
20949: PPUSH
20950: CALL_OW 322
// SetTech ( tech_sib1 , side , state_enabled ) ;
20954: LD_INT 54
20956: PPUSH
20957: LD_VAR 0 3
20961: PPUSH
20962: LD_INT 1
20964: PPUSH
20965: CALL_OW 322
// SetRestrict ( b_depot , side , true ) ;
20969: LD_INT 0
20971: PPUSH
20972: LD_VAR 0 3
20976: PPUSH
20977: LD_INT 1
20979: PPUSH
20980: CALL_OW 324
// SetRestrict ( b_warehouse , side , true ) ;
20984: LD_INT 1
20986: PPUSH
20987: LD_VAR 0 3
20991: PPUSH
20992: LD_INT 1
20994: PPUSH
20995: CALL_OW 324
// SetRestrict ( b_workshop , side , true ) ;
20999: LD_INT 2
21001: PPUSH
21002: LD_VAR 0 3
21006: PPUSH
21007: LD_INT 1
21009: PPUSH
21010: CALL_OW 324
// SetRestrict ( b_factory , side , true ) ;
21014: LD_INT 3
21016: PPUSH
21017: LD_VAR 0 3
21021: PPUSH
21022: LD_INT 1
21024: PPUSH
21025: CALL_OW 324
// SetRestrict ( b_armoury , side , true ) ;
21029: LD_INT 4
21031: PPUSH
21032: LD_VAR 0 3
21036: PPUSH
21037: LD_INT 1
21039: PPUSH
21040: CALL_OW 324
// SetRestrict ( b_barracks , side , true ) ;
21044: LD_INT 5
21046: PPUSH
21047: LD_VAR 0 3
21051: PPUSH
21052: LD_INT 1
21054: PPUSH
21055: CALL_OW 324
// SetRestrict ( b_lab , side , true ) ;
21059: LD_INT 6
21061: PPUSH
21062: LD_VAR 0 3
21066: PPUSH
21067: LD_INT 1
21069: PPUSH
21070: CALL_OW 324
// SetRestrict ( b_lab_half , side , true ) ;
21074: LD_INT 7
21076: PPUSH
21077: LD_VAR 0 3
21081: PPUSH
21082: LD_INT 1
21084: PPUSH
21085: CALL_OW 324
// SetRestrict ( b_lab_full , side , true ) ;
21089: LD_INT 8
21091: PPUSH
21092: LD_VAR 0 3
21096: PPUSH
21097: LD_INT 1
21099: PPUSH
21100: CALL_OW 324
// SetRestrict ( b_lab_weapon , side , true ) ;
21104: LD_INT 10
21106: PPUSH
21107: LD_VAR 0 3
21111: PPUSH
21112: LD_INT 1
21114: PPUSH
21115: CALL_OW 324
// SetRestrict ( b_lab_siberium , side , true ) ;
21119: LD_INT 11
21121: PPUSH
21122: LD_VAR 0 3
21126: PPUSH
21127: LD_INT 1
21129: PPUSH
21130: CALL_OW 324
// SetRestrict ( b_lab_computer , side , true ) ;
21134: LD_INT 12
21136: PPUSH
21137: LD_VAR 0 3
21141: PPUSH
21142: LD_INT 1
21144: PPUSH
21145: CALL_OW 324
// SetRestrict ( b_lab_biological , side , true ) ;
21149: LD_INT 13
21151: PPUSH
21152: LD_VAR 0 3
21156: PPUSH
21157: LD_INT 1
21159: PPUSH
21160: CALL_OW 324
// SetRestrict ( b_lab_spacetime , side , true ) ;
21164: LD_INT 14
21166: PPUSH
21167: LD_VAR 0 3
21171: PPUSH
21172: LD_INT 1
21174: PPUSH
21175: CALL_OW 324
// SetRestrict ( b_lab_opto , side , true ) ;
21179: LD_INT 15
21181: PPUSH
21182: LD_VAR 0 3
21186: PPUSH
21187: LD_INT 1
21189: PPUSH
21190: CALL_OW 324
// SetRestrict ( b_ext_track , side , true ) ;
21194: LD_INT 16
21196: PPUSH
21197: LD_VAR 0 3
21201: PPUSH
21202: LD_INT 1
21204: PPUSH
21205: CALL_OW 324
// SetRestrict ( b_ext_gun , side , true ) ;
21209: LD_INT 17
21211: PPUSH
21212: LD_VAR 0 3
21216: PPUSH
21217: LD_INT 1
21219: PPUSH
21220: CALL_OW 324
// SetRestrict ( b_ext_noncombat , side , true ) ;
21224: LD_INT 19
21226: PPUSH
21227: LD_VAR 0 3
21231: PPUSH
21232: LD_INT 1
21234: PPUSH
21235: CALL_OW 324
// SetRestrict ( b_ext_radar , side , true ) ;
21239: LD_INT 20
21241: PPUSH
21242: LD_VAR 0 3
21246: PPUSH
21247: LD_INT 1
21249: PPUSH
21250: CALL_OW 324
// SetRestrict ( b_ext_siberium , side , true ) ;
21254: LD_INT 21
21256: PPUSH
21257: LD_VAR 0 3
21261: PPUSH
21262: LD_INT 1
21264: PPUSH
21265: CALL_OW 324
// SetRestrict ( b_ext_stitch , side , true ) ;
21269: LD_INT 23
21271: PPUSH
21272: LD_VAR 0 3
21276: PPUSH
21277: LD_INT 1
21279: PPUSH
21280: CALL_OW 324
// SetRestrict ( b_oil_power , side , true ) ;
21284: LD_INT 26
21286: PPUSH
21287: LD_VAR 0 3
21291: PPUSH
21292: LD_INT 1
21294: PPUSH
21295: CALL_OW 324
// SetRestrict ( b_solar_power , side , true ) ;
21299: LD_INT 27
21301: PPUSH
21302: LD_VAR 0 3
21306: PPUSH
21307: LD_INT 1
21309: PPUSH
21310: CALL_OW 324
// SetRestrict ( b_siberite_power , side , true ) ;
21314: LD_INT 28
21316: PPUSH
21317: LD_VAR 0 3
21321: PPUSH
21322: LD_INT 1
21324: PPUSH
21325: CALL_OW 324
// SetRestrict ( b_oil_mine , side , true ) ;
21329: LD_INT 29
21331: PPUSH
21332: LD_VAR 0 3
21336: PPUSH
21337: LD_INT 1
21339: PPUSH
21340: CALL_OW 324
// SetRestrict ( b_siberite_mine , side , true ) ;
21344: LD_INT 30
21346: PPUSH
21347: LD_VAR 0 3
21351: PPUSH
21352: LD_INT 1
21354: PPUSH
21355: CALL_OW 324
// SetRestrict ( b_breastwork , side , true ) ;
21359: LD_INT 31
21361: PPUSH
21362: LD_VAR 0 3
21366: PPUSH
21367: LD_INT 1
21369: PPUSH
21370: CALL_OW 324
// SetRestrict ( b_bunker , side , true ) ;
21374: LD_INT 32
21376: PPUSH
21377: LD_VAR 0 3
21381: PPUSH
21382: LD_INT 1
21384: PPUSH
21385: CALL_OW 324
// SetRestrict ( b_control_tower , side , true ) ;
21389: LD_INT 36
21391: PPUSH
21392: LD_VAR 0 3
21396: PPUSH
21397: LD_INT 1
21399: PPUSH
21400: CALL_OW 324
// end ; 5 :
21404: GO 23535
21406: LD_INT 5
21408: DOUBLE
21409: EQUAL
21410: IFTRUE 21414
21412: GO 22527
21414: POP
// begin SetTech ( tech_solpow , side , state_enabled ) ;
21415: LD_INT 35
21417: PPUSH
21418: LD_VAR 0 3
21422: PPUSH
21423: LD_INT 1
21425: PPUSH
21426: CALL_OW 322
// SetTech ( tech_soleng , side , state_enabled ) ;
21430: LD_INT 45
21432: PPUSH
21433: LD_VAR 0 3
21437: PPUSH
21438: LD_INT 1
21440: PPUSH
21441: CALL_OW 322
// SetTech ( tech_oilpow , side , state_enabled ) ;
21445: LD_INT 46
21447: PPUSH
21448: LD_VAR 0 3
21452: PPUSH
21453: LD_INT 1
21455: PPUSH
21456: CALL_OW 322
// SetTech ( tech_oileng , side , state_enabled ) ;
21460: LD_INT 47
21462: PPUSH
21463: LD_VAR 0 3
21467: PPUSH
21468: LD_INT 1
21470: PPUSH
21471: CALL_OW 322
// SetTech ( tech_apelang , side , state_enabled ) ;
21475: LD_INT 1
21477: PPUSH
21478: LD_VAR 0 3
21482: PPUSH
21483: LD_INT 1
21485: PPUSH
21486: CALL_OW 322
// SetTech ( tech_apepsych , side , state_enabled ) ;
21490: LD_INT 2
21492: PPUSH
21493: LD_VAR 0 3
21497: PPUSH
21498: LD_INT 1
21500: PPUSH
21501: CALL_OW 322
// SetTech ( tech_apeagres , side , state_enabled ) ;
21505: LD_INT 11
21507: PPUSH
21508: LD_VAR 0 3
21512: PPUSH
21513: LD_INT 1
21515: PPUSH
21516: CALL_OW 322
// SetTech ( tech_sibdet , side , state_enabled ) ;
21520: LD_INT 20
21522: PPUSH
21523: LD_VAR 0 3
21527: PPUSH
21528: LD_INT 1
21530: PPUSH
21531: CALL_OW 322
// SetTech ( tech_tech1 , side , state_enabled ) ;
21535: LD_INT 48
21537: PPUSH
21538: LD_VAR 0 3
21542: PPUSH
21543: LD_INT 1
21545: PPUSH
21546: CALL_OW 322
// SetTech ( tech_tech2 , side , state_enabled ) ;
21550: LD_INT 49
21552: PPUSH
21553: LD_VAR 0 3
21557: PPUSH
21558: LD_INT 1
21560: PPUSH
21561: CALL_OW 322
// SetTech ( tech_gatling , side , state_enabled ) ;
21565: LD_INT 69
21567: PPUSH
21568: LD_VAR 0 3
21572: PPUSH
21573: LD_INT 1
21575: PPUSH
21576: CALL_OW 322
// SetTech ( tech_gun , side , state_enabled ) ;
21580: LD_INT 39
21582: PPUSH
21583: LD_VAR 0 3
21587: PPUSH
21588: LD_INT 1
21590: PPUSH
21591: CALL_OW 322
// SetTech ( tech_advmet , side , state_enabled ) ;
21595: LD_INT 34
21597: PPUSH
21598: LD_VAR 0 3
21602: PPUSH
21603: LD_INT 1
21605: PPUSH
21606: CALL_OW 322
// SetTech ( tech_explos , side , state_enabled ) ;
21610: LD_INT 42
21612: PPUSH
21613: LD_VAR 0 3
21617: PPUSH
21618: LD_INT 1
21620: PPUSH
21621: CALL_OW 322
// SetTech ( tech_bazooka , side , state_enabled ) ;
21625: LD_INT 44
21627: PPUSH
21628: LD_VAR 0 3
21632: PPUSH
21633: LD_INT 1
21635: PPUSH
21636: CALL_OW 322
// SetTech ( tech_mortar , side , state_enabled ) ;
21640: LD_INT 41
21642: PPUSH
21643: LD_VAR 0 3
21647: PPUSH
21648: LD_INT 1
21650: PPUSH
21651: CALL_OW 322
// SetTech ( tech_rocket , side , state_enabled ) ;
21655: LD_INT 40
21657: PPUSH
21658: LD_VAR 0 3
21662: PPUSH
21663: LD_INT 1
21665: PPUSH
21666: CALL_OW 322
// SetTech ( tech_selfdest , side , state_enabled ) ;
21670: LD_INT 43
21672: PPUSH
21673: LD_VAR 0 3
21677: PPUSH
21678: LD_INT 1
21680: PPUSH
21681: CALL_OW 322
// SetTech ( tech_flame , side , state_enabled ) ;
21685: LD_INT 70
21687: PPUSH
21688: LD_VAR 0 3
21692: PPUSH
21693: LD_INT 1
21695: PPUSH
21696: CALL_OW 322
// SetTech ( tech_weap1 , side , state_enabled ) ;
21700: LD_INT 51
21702: PPUSH
21703: LD_VAR 0 3
21707: PPUSH
21708: LD_INT 1
21710: PPUSH
21711: CALL_OW 322
// SetTech ( tech_weap2 , side , state_enabled ) ;
21715: LD_INT 52
21717: PPUSH
21718: LD_VAR 0 3
21722: PPUSH
21723: LD_INT 1
21725: PPUSH
21726: CALL_OW 322
// SetTech ( tech_radar , side , state_enabled ) ;
21730: LD_INT 6
21732: PPUSH
21733: LD_VAR 0 3
21737: PPUSH
21738: LD_INT 1
21740: PPUSH
21741: CALL_OW 322
// SetTech ( tech_remcont , side , state_enabled ) ;
21745: LD_INT 15
21747: PPUSH
21748: LD_VAR 0 3
21752: PPUSH
21753: LD_INT 1
21755: PPUSH
21756: CALL_OW 322
// SetTech ( tech_matdet , side , state_enabled ) ;
21760: LD_INT 7
21762: PPUSH
21763: LD_VAR 0 3
21767: PPUSH
21768: LD_INT 1
21770: PPUSH
21771: CALL_OW 322
// SetTech ( tech_lassight , side , state_enabled ) ;
21775: LD_INT 12
21777: PPUSH
21778: LD_VAR 0 3
21782: PPUSH
21783: LD_INT 1
21785: PPUSH
21786: CALL_OW 322
// SetTech ( tech_hidcam , side , state_enabled ) ;
21790: LD_INT 17
21792: PPUSH
21793: LD_VAR 0 3
21797: PPUSH
21798: LD_INT 1
21800: PPUSH
21801: CALL_OW 322
// SetTech ( tech_remcharge , side , state_enabled ) ;
21805: LD_INT 18
21807: PPUSH
21808: LD_VAR 0 3
21812: PPUSH
21813: LD_INT 1
21815: PPUSH
21816: CALL_OW 322
// SetTech ( tech_opto1 , side , state_enabled ) ;
21820: LD_INT 60
21822: PPUSH
21823: LD_VAR 0 3
21827: PPUSH
21828: LD_INT 1
21830: PPUSH
21831: CALL_OW 322
// SetTech ( tech_ai , side , state_enabled ) ;
21835: LD_INT 32
21837: PPUSH
21838: LD_VAR 0 3
21842: PPUSH
21843: LD_INT 1
21845: PPUSH
21846: CALL_OW 322
// SetTech ( tech_matpred , side , state_enabled ) ;
21850: LD_INT 9
21852: PPUSH
21853: LD_VAR 0 3
21857: PPUSH
21858: LD_INT 1
21860: PPUSH
21861: CALL_OW 322
// SetTech ( tech_comp1 , side , state_enabled ) ;
21865: LD_INT 57
21867: PPUSH
21868: LD_VAR 0 3
21872: PPUSH
21873: LD_INT 1
21875: PPUSH
21876: CALL_OW 322
// SetTech ( tech_taufield , side , state_enabled ) ;
21880: LD_INT 30
21882: PPUSH
21883: LD_VAR 0 3
21887: PPUSH
21888: LD_INT 1
21890: PPUSH
21891: CALL_OW 322
// SetTech ( tech_limteleport , side , state_enabled ) ;
21895: LD_INT 37
21897: PPUSH
21898: LD_VAR 0 3
21902: PPUSH
21903: LD_INT 1
21905: PPUSH
21906: CALL_OW 322
// SetTech ( tech_st1 , side , state_enabled ) ;
21910: LD_INT 63
21912: PPUSH
21913: LD_VAR 0 3
21917: PPUSH
21918: LD_INT 1
21920: PPUSH
21921: CALL_OW 322
// SetTech ( tech_apeneural , side , state_enabled ) ;
21925: LD_INT 3
21927: PPUSH
21928: LD_VAR 0 3
21932: PPUSH
21933: LD_INT 1
21935: PPUSH
21936: CALL_OW 322
// SetTech ( tech_apebrain , side , state_enabled ) ;
21940: LD_INT 4
21942: PPUSH
21943: LD_VAR 0 3
21947: PPUSH
21948: LD_INT 1
21950: PPUSH
21951: CALL_OW 322
// SetTech ( tech_stimdrugs , side , state_enabled ) ;
21955: LD_INT 5
21957: PPUSH
21958: LD_VAR 0 3
21962: PPUSH
21963: LD_INT 1
21965: PPUSH
21966: CALL_OW 322
// SetTech ( tech_bio1 , side , state_enabled ) ;
21970: LD_INT 66
21972: PPUSH
21973: LD_VAR 0 3
21977: PPUSH
21978: LD_INT 1
21980: PPUSH
21981: CALL_OW 322
// SetTech ( tech_sibpow , side , state_enabled ) ;
21985: LD_INT 21
21987: PPUSH
21988: LD_VAR 0 3
21992: PPUSH
21993: LD_INT 1
21995: PPUSH
21996: CALL_OW 322
// SetTech ( tech_sibeng , side , state_enabled ) ;
22000: LD_INT 22
22002: PPUSH
22003: LD_VAR 0 3
22007: PPUSH
22008: LD_INT 1
22010: PPUSH
22011: CALL_OW 322
// SetTech ( tech_sibloc , side , state_enabled ) ;
22015: LD_INT 19
22017: PPUSH
22018: LD_VAR 0 3
22022: PPUSH
22023: LD_INT 1
22025: PPUSH
22026: CALL_OW 322
// SetTech ( tech_sib1 , side , state_enabled ) ;
22030: LD_INT 54
22032: PPUSH
22033: LD_VAR 0 3
22037: PPUSH
22038: LD_INT 1
22040: PPUSH
22041: CALL_OW 322
// SetTech ( tech_sib2 , side , state_enabled ) ;
22045: LD_INT 55
22047: PPUSH
22048: LD_VAR 0 3
22052: PPUSH
22053: LD_INT 1
22055: PPUSH
22056: CALL_OW 322
// SetRestrict ( b_depot , side , true ) ;
22060: LD_INT 0
22062: PPUSH
22063: LD_VAR 0 3
22067: PPUSH
22068: LD_INT 1
22070: PPUSH
22071: CALL_OW 324
// SetRestrict ( b_warehouse , side , true ) ;
22075: LD_INT 1
22077: PPUSH
22078: LD_VAR 0 3
22082: PPUSH
22083: LD_INT 1
22085: PPUSH
22086: CALL_OW 324
// SetRestrict ( b_workshop , side , true ) ;
22090: LD_INT 2
22092: PPUSH
22093: LD_VAR 0 3
22097: PPUSH
22098: LD_INT 1
22100: PPUSH
22101: CALL_OW 324
// SetRestrict ( b_factory , side , true ) ;
22105: LD_INT 3
22107: PPUSH
22108: LD_VAR 0 3
22112: PPUSH
22113: LD_INT 1
22115: PPUSH
22116: CALL_OW 324
// SetRestrict ( b_armoury , side , true ) ;
22120: LD_INT 4
22122: PPUSH
22123: LD_VAR 0 3
22127: PPUSH
22128: LD_INT 1
22130: PPUSH
22131: CALL_OW 324
// SetRestrict ( b_barracks , side , true ) ;
22135: LD_INT 5
22137: PPUSH
22138: LD_VAR 0 3
22142: PPUSH
22143: LD_INT 1
22145: PPUSH
22146: CALL_OW 324
// SetRestrict ( b_lab , side , true ) ;
22150: LD_INT 6
22152: PPUSH
22153: LD_VAR 0 3
22157: PPUSH
22158: LD_INT 1
22160: PPUSH
22161: CALL_OW 324
// SetRestrict ( b_lab_half , side , true ) ;
22165: LD_INT 7
22167: PPUSH
22168: LD_VAR 0 3
22172: PPUSH
22173: LD_INT 1
22175: PPUSH
22176: CALL_OW 324
// SetRestrict ( b_lab_full , side , true ) ;
22180: LD_INT 8
22182: PPUSH
22183: LD_VAR 0 3
22187: PPUSH
22188: LD_INT 1
22190: PPUSH
22191: CALL_OW 324
// SetRestrict ( b_lab_weapon , side , true ) ;
22195: LD_INT 10
22197: PPUSH
22198: LD_VAR 0 3
22202: PPUSH
22203: LD_INT 1
22205: PPUSH
22206: CALL_OW 324
// SetRestrict ( b_lab_siberium , side , true ) ;
22210: LD_INT 11
22212: PPUSH
22213: LD_VAR 0 3
22217: PPUSH
22218: LD_INT 1
22220: PPUSH
22221: CALL_OW 324
// SetRestrict ( b_lab_computer , side , true ) ;
22225: LD_INT 12
22227: PPUSH
22228: LD_VAR 0 3
22232: PPUSH
22233: LD_INT 1
22235: PPUSH
22236: CALL_OW 324
// SetRestrict ( b_lab_biological , side , true ) ;
22240: LD_INT 13
22242: PPUSH
22243: LD_VAR 0 3
22247: PPUSH
22248: LD_INT 1
22250: PPUSH
22251: CALL_OW 324
// SetRestrict ( b_lab_spacetime , side , true ) ;
22255: LD_INT 14
22257: PPUSH
22258: LD_VAR 0 3
22262: PPUSH
22263: LD_INT 1
22265: PPUSH
22266: CALL_OW 324
// SetRestrict ( b_lab_opto , side , true ) ;
22270: LD_INT 15
22272: PPUSH
22273: LD_VAR 0 3
22277: PPUSH
22278: LD_INT 1
22280: PPUSH
22281: CALL_OW 324
// SetRestrict ( b_ext_track , side , true ) ;
22285: LD_INT 16
22287: PPUSH
22288: LD_VAR 0 3
22292: PPUSH
22293: LD_INT 1
22295: PPUSH
22296: CALL_OW 324
// SetRestrict ( b_ext_gun , side , true ) ;
22300: LD_INT 17
22302: PPUSH
22303: LD_VAR 0 3
22307: PPUSH
22308: LD_INT 1
22310: PPUSH
22311: CALL_OW 324
// SetRestrict ( b_ext_rocket , side , true ) ;
22315: LD_INT 18
22317: PPUSH
22318: LD_VAR 0 3
22322: PPUSH
22323: LD_INT 1
22325: PPUSH
22326: CALL_OW 324
// SetRestrict ( b_ext_noncombat , side , true ) ;
22330: LD_INT 19
22332: PPUSH
22333: LD_VAR 0 3
22337: PPUSH
22338: LD_INT 1
22340: PPUSH
22341: CALL_OW 324
// SetRestrict ( b_ext_radar , side , true ) ;
22345: LD_INT 20
22347: PPUSH
22348: LD_VAR 0 3
22352: PPUSH
22353: LD_INT 1
22355: PPUSH
22356: CALL_OW 324
// SetRestrict ( b_ext_siberium , side , true ) ;
22360: LD_INT 21
22362: PPUSH
22363: LD_VAR 0 3
22367: PPUSH
22368: LD_INT 1
22370: PPUSH
22371: CALL_OW 324
// SetRestrict ( b_ext_stitch , side , true ) ;
22375: LD_INT 23
22377: PPUSH
22378: LD_VAR 0 3
22382: PPUSH
22383: LD_INT 1
22385: PPUSH
22386: CALL_OW 324
// SetRestrict ( b_oil_power , side , true ) ;
22390: LD_INT 26
22392: PPUSH
22393: LD_VAR 0 3
22397: PPUSH
22398: LD_INT 1
22400: PPUSH
22401: CALL_OW 324
// SetRestrict ( b_solar_power , side , true ) ;
22405: LD_INT 27
22407: PPUSH
22408: LD_VAR 0 3
22412: PPUSH
22413: LD_INT 1
22415: PPUSH
22416: CALL_OW 324
// SetRestrict ( b_siberite_power , side , true ) ;
22420: LD_INT 28
22422: PPUSH
22423: LD_VAR 0 3
22427: PPUSH
22428: LD_INT 1
22430: PPUSH
22431: CALL_OW 324
// SetRestrict ( b_oil_mine , side , true ) ;
22435: LD_INT 29
22437: PPUSH
22438: LD_VAR 0 3
22442: PPUSH
22443: LD_INT 1
22445: PPUSH
22446: CALL_OW 324
// SetRestrict ( b_siberite_mine , side , true ) ;
22450: LD_INT 30
22452: PPUSH
22453: LD_VAR 0 3
22457: PPUSH
22458: LD_INT 1
22460: PPUSH
22461: CALL_OW 324
// SetRestrict ( b_breastwork , side , true ) ;
22465: LD_INT 31
22467: PPUSH
22468: LD_VAR 0 3
22472: PPUSH
22473: LD_INT 1
22475: PPUSH
22476: CALL_OW 324
// SetRestrict ( b_bunker , side , true ) ;
22480: LD_INT 32
22482: PPUSH
22483: LD_VAR 0 3
22487: PPUSH
22488: LD_INT 1
22490: PPUSH
22491: CALL_OW 324
// SetRestrict ( b_turret , side , true ) ;
22495: LD_INT 33
22497: PPUSH
22498: LD_VAR 0 3
22502: PPUSH
22503: LD_INT 1
22505: PPUSH
22506: CALL_OW 324
// SetRestrict ( b_control_tower , side , true ) ;
22510: LD_INT 36
22512: PPUSH
22513: LD_VAR 0 3
22517: PPUSH
22518: LD_INT 1
22520: PPUSH
22521: CALL_OW 324
// end ; 6 :
22525: GO 23535
22527: LD_INT 6
22529: DOUBLE
22530: EQUAL
22531: IFTRUE 22535
22533: GO 23460
22535: POP
// begin SetTech ( tech_solpow , side , state_enabled ) ;
22536: LD_INT 35
22538: PPUSH
22539: LD_VAR 0 3
22543: PPUSH
22544: LD_INT 1
22546: PPUSH
22547: CALL_OW 322
// SetTech ( tech_soleng , side , state_enabled ) ;
22551: LD_INT 45
22553: PPUSH
22554: LD_VAR 0 3
22558: PPUSH
22559: LD_INT 1
22561: PPUSH
22562: CALL_OW 322
// SetTech ( tech_oilpow , side , state_enabled ) ;
22566: LD_INT 46
22568: PPUSH
22569: LD_VAR 0 3
22573: PPUSH
22574: LD_INT 1
22576: PPUSH
22577: CALL_OW 322
// SetTech ( tech_oileng , side , state_enabled ) ;
22581: LD_INT 47
22583: PPUSH
22584: LD_VAR 0 3
22588: PPUSH
22589: LD_INT 1
22591: PPUSH
22592: CALL_OW 322
// SetTech ( tech_apelang , side , state_enabled ) ;
22596: LD_INT 1
22598: PPUSH
22599: LD_VAR 0 3
22603: PPUSH
22604: LD_INT 1
22606: PPUSH
22607: CALL_OW 322
// SetTech ( tech_apepsych , side , state_enabled ) ;
22611: LD_INT 2
22613: PPUSH
22614: LD_VAR 0 3
22618: PPUSH
22619: LD_INT 1
22621: PPUSH
22622: CALL_OW 322
// SetTech ( tech_apeagres , side , state_enabled ) ;
22626: LD_INT 11
22628: PPUSH
22629: LD_VAR 0 3
22633: PPUSH
22634: LD_INT 1
22636: PPUSH
22637: CALL_OW 322
// SetTech ( tech_sibdet , side , state_enabled ) ;
22641: LD_INT 20
22643: PPUSH
22644: LD_VAR 0 3
22648: PPUSH
22649: LD_INT 1
22651: PPUSH
22652: CALL_OW 322
// SetTech ( tech_tech1 , side , state_enabled ) ;
22656: LD_INT 48
22658: PPUSH
22659: LD_VAR 0 3
22663: PPUSH
22664: LD_INT 1
22666: PPUSH
22667: CALL_OW 322
// SetTech ( tech_tech2 , side , state_enabled ) ;
22671: LD_INT 49
22673: PPUSH
22674: LD_VAR 0 3
22678: PPUSH
22679: LD_INT 1
22681: PPUSH
22682: CALL_OW 322
// SetTech ( tech_tech3 , side , state_enabled ) ;
22686: LD_INT 50
22688: PPUSH
22689: LD_VAR 0 3
22693: PPUSH
22694: LD_INT 1
22696: PPUSH
22697: CALL_OW 322
// SetTech ( tech_gatling , side , state_enabled ) ;
22701: LD_INT 69
22703: PPUSH
22704: LD_VAR 0 3
22708: PPUSH
22709: LD_INT 1
22711: PPUSH
22712: CALL_OW 322
// SetTech ( tech_gun , side , state_enabled ) ;
22716: LD_INT 39
22718: PPUSH
22719: LD_VAR 0 3
22723: PPUSH
22724: LD_INT 1
22726: PPUSH
22727: CALL_OW 322
// SetTech ( tech_advmet , side , state_enabled ) ;
22731: LD_INT 34
22733: PPUSH
22734: LD_VAR 0 3
22738: PPUSH
22739: LD_INT 1
22741: PPUSH
22742: CALL_OW 322
// SetTech ( tech_explos , side , state_enabled ) ;
22746: LD_INT 42
22748: PPUSH
22749: LD_VAR 0 3
22753: PPUSH
22754: LD_INT 1
22756: PPUSH
22757: CALL_OW 322
// SetTech ( tech_bazooka , side , state_enabled ) ;
22761: LD_INT 44
22763: PPUSH
22764: LD_VAR 0 3
22768: PPUSH
22769: LD_INT 1
22771: PPUSH
22772: CALL_OW 322
// SetTech ( tech_mortar , side , state_enabled ) ;
22776: LD_INT 41
22778: PPUSH
22779: LD_VAR 0 3
22783: PPUSH
22784: LD_INT 1
22786: PPUSH
22787: CALL_OW 322
// SetTech ( tech_soporific , side , state_enabled ) ;
22791: LD_INT 13
22793: PPUSH
22794: LD_VAR 0 3
22798: PPUSH
22799: LD_INT 1
22801: PPUSH
22802: CALL_OW 322
// SetTech ( tech_rocket , side , state_enabled ) ;
22806: LD_INT 40
22808: PPUSH
22809: LD_VAR 0 3
22813: PPUSH
22814: LD_INT 1
22816: PPUSH
22817: CALL_OW 322
// SetTech ( tech_selfdest , side , state_enabled ) ;
22821: LD_INT 43
22823: PPUSH
22824: LD_VAR 0 3
22828: PPUSH
22829: LD_INT 1
22831: PPUSH
22832: CALL_OW 322
// SetTech ( tech_flame , side , state_enabled ) ;
22836: LD_INT 70
22838: PPUSH
22839: LD_VAR 0 3
22843: PPUSH
22844: LD_INT 1
22846: PPUSH
22847: CALL_OW 322
// SetTech ( tech_behemoth , side , state_enabled ) ;
22851: LD_INT 23
22853: PPUSH
22854: LD_VAR 0 3
22858: PPUSH
22859: LD_INT 1
22861: PPUSH
22862: CALL_OW 322
// SetTech ( tech_weap1 , side , state_enabled ) ;
22866: LD_INT 51
22868: PPUSH
22869: LD_VAR 0 3
22873: PPUSH
22874: LD_INT 1
22876: PPUSH
22877: CALL_OW 322
// SetTech ( tech_weap2 , side , state_enabled ) ;
22881: LD_INT 52
22883: PPUSH
22884: LD_VAR 0 3
22888: PPUSH
22889: LD_INT 1
22891: PPUSH
22892: CALL_OW 322
// SetTech ( tech_radar , side , state_enabled ) ;
22896: LD_INT 6
22898: PPUSH
22899: LD_VAR 0 3
22903: PPUSH
22904: LD_INT 1
22906: PPUSH
22907: CALL_OW 322
// SetTech ( tech_remcont , side , state_enabled ) ;
22911: LD_INT 15
22913: PPUSH
22914: LD_VAR 0 3
22918: PPUSH
22919: LD_INT 1
22921: PPUSH
22922: CALL_OW 322
// SetTech ( tech_matdet , side , state_enabled ) ;
22926: LD_INT 7
22928: PPUSH
22929: LD_VAR 0 3
22933: PPUSH
22934: LD_INT 1
22936: PPUSH
22937: CALL_OW 322
// SetTech ( tech_lassight , side , state_enabled ) ;
22941: LD_INT 12
22943: PPUSH
22944: LD_VAR 0 3
22948: PPUSH
22949: LD_INT 1
22951: PPUSH
22952: CALL_OW 322
// SetTech ( tech_laser , side , state_enabled ) ;
22956: LD_INT 10
22958: PPUSH
22959: LD_VAR 0 3
22963: PPUSH
22964: LD_INT 1
22966: PPUSH
22967: CALL_OW 322
// SetTech ( tech_hidcam , side , state_enabled ) ;
22971: LD_INT 17
22973: PPUSH
22974: LD_VAR 0 3
22978: PPUSH
22979: LD_INT 1
22981: PPUSH
22982: CALL_OW 322
// SetTech ( tech_remcharge , side , state_enabled ) ;
22986: LD_INT 18
22988: PPUSH
22989: LD_VAR 0 3
22993: PPUSH
22994: LD_INT 1
22996: PPUSH
22997: CALL_OW 322
// SetTech ( tech_opto1 , side , state_enabled ) ;
23001: LD_INT 60
23003: PPUSH
23004: LD_VAR 0 3
23008: PPUSH
23009: LD_INT 1
23011: PPUSH
23012: CALL_OW 322
// SetTech ( tech_opto2 , side , state_enabled ) ;
23016: LD_INT 61
23018: PPUSH
23019: LD_VAR 0 3
23023: PPUSH
23024: LD_INT 1
23026: PPUSH
23027: CALL_OW 322
// SetTech ( tech_ai , side , state_enabled ) ;
23031: LD_INT 32
23033: PPUSH
23034: LD_VAR 0 3
23038: PPUSH
23039: LD_INT 1
23041: PPUSH
23042: CALL_OW 322
// SetTech ( tech_advai , side , state_enabled ) ;
23046: LD_INT 27
23048: PPUSH
23049: LD_VAR 0 3
23053: PPUSH
23054: LD_INT 1
23056: PPUSH
23057: CALL_OW 322
// SetTech ( tech_advchassis , side , state_enabled ) ;
23061: LD_INT 36
23063: PPUSH
23064: LD_VAR 0 3
23068: PPUSH
23069: LD_INT 1
23071: PPUSH
23072: CALL_OW 322
// SetTech ( tech_virus , side , state_enabled ) ;
23076: LD_INT 33
23078: PPUSH
23079: LD_VAR 0 3
23083: PPUSH
23084: LD_INT 1
23086: PPUSH
23087: CALL_OW 322
// SetTech ( tech_matpred , side , state_enabled ) ;
23091: LD_INT 9
23093: PPUSH
23094: LD_VAR 0 3
23098: PPUSH
23099: LD_INT 1
23101: PPUSH
23102: CALL_OW 322
// SetTech ( tech_targteleport , side , state_enabled ) ;
23106: LD_INT 38
23108: PPUSH
23109: LD_VAR 0 3
23113: PPUSH
23114: LD_INT 1
23116: PPUSH
23117: CALL_OW 322
// SetTech ( tech_comp1 , side , state_enabled ) ;
23121: LD_INT 57
23123: PPUSH
23124: LD_VAR 0 3
23128: PPUSH
23129: LD_INT 1
23131: PPUSH
23132: CALL_OW 322
// SetTech ( tech_comp2 , side , state_enabled ) ;
23136: LD_INT 58
23138: PPUSH
23139: LD_VAR 0 3
23143: PPUSH
23144: LD_INT 1
23146: PPUSH
23147: CALL_OW 322
// SetTech ( tech_taurad , side , state_enabled ) ;
23151: LD_INT 28
23153: PPUSH
23154: LD_VAR 0 3
23158: PPUSH
23159: LD_INT 1
23161: PPUSH
23162: CALL_OW 322
// SetTech ( tech_spacanom , side , state_enabled ) ;
23166: LD_INT 29
23168: PPUSH
23169: LD_VAR 0 3
23173: PPUSH
23174: LD_INT 1
23176: PPUSH
23177: CALL_OW 322
// SetTech ( tech_taufield , side , state_enabled ) ;
23181: LD_INT 30
23183: PPUSH
23184: LD_VAR 0 3
23188: PPUSH
23189: LD_INT 1
23191: PPUSH
23192: CALL_OW 322
// SetTech ( tech_limteleport , side , state_enabled ) ;
23196: LD_INT 37
23198: PPUSH
23199: LD_VAR 0 3
23203: PPUSH
23204: LD_INT 1
23206: PPUSH
23207: CALL_OW 322
// SetTech ( tech_st1 , side , state_enabled ) ;
23211: LD_INT 63
23213: PPUSH
23214: LD_VAR 0 3
23218: PPUSH
23219: LD_INT 1
23221: PPUSH
23222: CALL_OW 322
// SetTech ( tech_st2 , side , state_enabled ) ;
23226: LD_INT 64
23228: PPUSH
23229: LD_VAR 0 3
23233: PPUSH
23234: LD_INT 1
23236: PPUSH
23237: CALL_OW 322
// SetTech ( tech_apeneural , side , state_enabled ) ;
23241: LD_INT 3
23243: PPUSH
23244: LD_VAR 0 3
23248: PPUSH
23249: LD_INT 1
23251: PPUSH
23252: CALL_OW 322
// SetTech ( tech_apebrain , side , state_enabled ) ;
23256: LD_INT 4
23258: PPUSH
23259: LD_VAR 0 3
23263: PPUSH
23264: LD_INT 1
23266: PPUSH
23267: CALL_OW 322
// SetTech ( tech_stimdrugs , side , state_enabled ) ;
23271: LD_INT 5
23273: PPUSH
23274: LD_VAR 0 3
23278: PPUSH
23279: LD_INT 1
23281: PPUSH
23282: CALL_OW 322
// SetTech ( tech_biodet , side , state_enabled ) ;
23286: LD_INT 8
23288: PPUSH
23289: LD_VAR 0 3
23293: PPUSH
23294: LD_INT 1
23296: PPUSH
23297: CALL_OW 322
// SetTech ( tech_bio1 , side , state_enabled ) ;
23301: LD_INT 66
23303: PPUSH
23304: LD_VAR 0 3
23308: PPUSH
23309: LD_INT 1
23311: PPUSH
23312: CALL_OW 322
// SetTech ( tech_bio2 , side , state_enabled ) ;
23316: LD_INT 67
23318: PPUSH
23319: LD_VAR 0 3
23323: PPUSH
23324: LD_INT 1
23326: PPUSH
23327: CALL_OW 322
// SetTech ( tech_sibpow , side , state_enabled ) ;
23331: LD_INT 21
23333: PPUSH
23334: LD_VAR 0 3
23338: PPUSH
23339: LD_INT 1
23341: PPUSH
23342: CALL_OW 322
// SetTech ( tech_sibeng , side , state_enabled ) ;
23346: LD_INT 22
23348: PPUSH
23349: LD_VAR 0 3
23353: PPUSH
23354: LD_INT 1
23356: PPUSH
23357: CALL_OW 322
// SetTech ( tech_sibloc , side , state_enabled ) ;
23361: LD_INT 19
23363: PPUSH
23364: LD_VAR 0 3
23368: PPUSH
23369: LD_INT 1
23371: PPUSH
23372: CALL_OW 322
// SetTech ( tech_sibcontam , side , state_enabled ) ;
23376: LD_INT 26
23378: PPUSH
23379: LD_VAR 0 3
23383: PPUSH
23384: LD_INT 1
23386: PPUSH
23387: CALL_OW 322
// SetTech ( tech_sib1 , side , state_enabled ) ;
23391: LD_INT 54
23393: PPUSH
23394: LD_VAR 0 3
23398: PPUSH
23399: LD_INT 1
23401: PPUSH
23402: CALL_OW 322
// SetTech ( tech_sib2 , side , state_enabled ) ;
23406: LD_INT 55
23408: PPUSH
23409: LD_VAR 0 3
23413: PPUSH
23414: LD_INT 1
23416: PPUSH
23417: CALL_OW 322
// for i = 0 to 39 do
23421: LD_ADDR_VAR 0 4
23425: PUSH
23426: DOUBLE
23427: LD_INT 0
23429: DEC
23430: ST_TO_ADDR
23431: LD_INT 39
23433: PUSH
23434: FOR_TO
23435: IFFALSE 23456
// SetRestrict ( i , side , true ) ;
23437: LD_VAR 0 4
23441: PPUSH
23442: LD_VAR 0 3
23446: PPUSH
23447: LD_INT 1
23449: PPUSH
23450: CALL_OW 324
23454: GO 23434
23456: POP
23457: POP
// end ; else
23458: GO 23535
23460: POP
// begin for i = 1 to 73 do
23461: LD_ADDR_VAR 0 4
23465: PUSH
23466: DOUBLE
23467: LD_INT 1
23469: DEC
23470: ST_TO_ADDR
23471: LD_INT 73
23473: PUSH
23474: FOR_TO
23475: IFFALSE 23496
// SetTech ( i , side , state_enabled ) ;
23477: LD_VAR 0 4
23481: PPUSH
23482: LD_VAR 0 3
23486: PPUSH
23487: LD_INT 1
23489: PPUSH
23490: CALL_OW 322
23494: GO 23474
23496: POP
23497: POP
// for i = 0 to 39 do
23498: LD_ADDR_VAR 0 4
23502: PUSH
23503: DOUBLE
23504: LD_INT 0
23506: DEC
23507: ST_TO_ADDR
23508: LD_INT 39
23510: PUSH
23511: FOR_TO
23512: IFFALSE 23533
// SetRestrict ( i , side , true ) ;
23514: LD_VAR 0 4
23518: PPUSH
23519: LD_VAR 0 3
23523: PPUSH
23524: LD_INT 1
23526: PPUSH
23527: CALL_OW 324
23531: GO 23511
23533: POP
23534: POP
// end ; end ; end ;
23535: GO 19540
23537: POP
23538: POP
// end ; end_of_file
23539: LD_VAR 0 2
23543: RET
// export function UpdateSpectatorBar ; var i , j , crates , oil , sib , people , base , bases ; begin
23544: LD_INT 0
23546: PPUSH
23547: PPUSH
23548: PPUSH
23549: PPUSH
23550: PPUSH
23551: PPUSH
23552: PPUSH
23553: PPUSH
23554: PPUSH
// for i := 1 to 8 do
23555: LD_ADDR_VAR 0 2
23559: PUSH
23560: DOUBLE
23561: LD_INT 1
23563: DEC
23564: ST_TO_ADDR
23565: LD_INT 8
23567: PUSH
23568: FOR_TO
23569: IFFALSE 23953
// begin if Side_Positions [ i ] then
23571: LD_EXP 18
23575: PUSH
23576: LD_VAR 0 2
23580: ARRAY
23581: IFFALSE 23951
// begin people := FilterAllUnits ( [ [ f_side , i ] , [ f_type , unit_human ] ] ) + 0 ;
23583: LD_ADDR_VAR 0 7
23587: PUSH
23588: LD_INT 22
23590: PUSH
23591: LD_VAR 0 2
23595: PUSH
23596: EMPTY
23597: LIST
23598: LIST
23599: PUSH
23600: LD_INT 21
23602: PUSH
23603: LD_INT 1
23605: PUSH
23606: EMPTY
23607: LIST
23608: LIST
23609: PUSH
23610: EMPTY
23611: LIST
23612: LIST
23613: PPUSH
23614: CALL_OW 69
23618: PUSH
23619: LD_INT 0
23621: PLUS
23622: ST_TO_ADDR
// bases := FilterAllUnits ( [ [ f_side , i ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) ;
23623: LD_ADDR_VAR 0 9
23627: PUSH
23628: LD_INT 22
23630: PUSH
23631: LD_VAR 0 2
23635: PUSH
23636: EMPTY
23637: LIST
23638: LIST
23639: PUSH
23640: LD_INT 2
23642: PUSH
23643: LD_INT 30
23645: PUSH
23646: LD_INT 0
23648: PUSH
23649: EMPTY
23650: LIST
23651: LIST
23652: PUSH
23653: LD_INT 30
23655: PUSH
23656: LD_INT 1
23658: PUSH
23659: EMPTY
23660: LIST
23661: LIST
23662: PUSH
23663: EMPTY
23664: LIST
23665: LIST
23666: LIST
23667: PUSH
23668: EMPTY
23669: LIST
23670: LIST
23671: PPUSH
23672: CALL_OW 69
23676: ST_TO_ADDR
// crates := 0 ;
23677: LD_ADDR_VAR 0 4
23681: PUSH
23682: LD_INT 0
23684: ST_TO_ADDR
// oil := 0 ;
23685: LD_ADDR_VAR 0 5
23689: PUSH
23690: LD_INT 0
23692: ST_TO_ADDR
// sib := 0 ;
23693: LD_ADDR_VAR 0 6
23697: PUSH
23698: LD_INT 0
23700: ST_TO_ADDR
// if bases then
23701: LD_VAR 0 9
23705: IFFALSE 23811
// begin for j in bases do
23707: LD_ADDR_VAR 0 3
23711: PUSH
23712: LD_VAR 0 9
23716: PUSH
23717: FOR_IN
23718: IFFALSE 23809
// begin base := GetBase ( j ) ;
23720: LD_ADDR_VAR 0 8
23724: PUSH
23725: LD_VAR 0 3
23729: PPUSH
23730: CALL_OW 274
23734: ST_TO_ADDR
// crates := crates + GetResourceType ( base , mat_cans ) ;
23735: LD_ADDR_VAR 0 4
23739: PUSH
23740: LD_VAR 0 4
23744: PUSH
23745: LD_VAR 0 8
23749: PPUSH
23750: LD_INT 1
23752: PPUSH
23753: CALL_OW 275
23757: PLUS
23758: ST_TO_ADDR
// oil := oil + GetResourceType ( base , mat_oil ) ;
23759: LD_ADDR_VAR 0 5
23763: PUSH
23764: LD_VAR 0 5
23768: PUSH
23769: LD_VAR 0 8
23773: PPUSH
23774: LD_INT 2
23776: PPUSH
23777: CALL_OW 275
23781: PLUS
23782: ST_TO_ADDR
// sib := sib + GetResourceType ( base , mat_siberit ) ;
23783: LD_ADDR_VAR 0 6
23787: PUSH
23788: LD_VAR 0 6
23792: PUSH
23793: LD_VAR 0 8
23797: PPUSH
23798: LD_INT 3
23800: PPUSH
23801: CALL_OW 275
23805: PLUS
23806: ST_TO_ADDR
// end ;
23807: GO 23717
23809: POP
23810: POP
// end ; ToLua ( setSpecText( & i & , & 2 & , & crates & ) ) ;
23811: LD_STRING setSpecText(
23813: PUSH
23814: LD_VAR 0 2
23818: STR
23819: PUSH
23820: LD_STRING ,
23822: STR
23823: PUSH
23824: LD_INT 2
23826: STR
23827: PUSH
23828: LD_STRING ,
23830: STR
23831: PUSH
23832: LD_VAR 0 4
23836: STR
23837: PUSH
23838: LD_STRING )
23840: STR
23841: PPUSH
23842: CALL_OW 559
// ToLua ( setSpecText( & i & , & 3 & , & oil & ) ) ;
23846: LD_STRING setSpecText(
23848: PUSH
23849: LD_VAR 0 2
23853: STR
23854: PUSH
23855: LD_STRING ,
23857: STR
23858: PUSH
23859: LD_INT 3
23861: STR
23862: PUSH
23863: LD_STRING ,
23865: STR
23866: PUSH
23867: LD_VAR 0 5
23871: STR
23872: PUSH
23873: LD_STRING )
23875: STR
23876: PPUSH
23877: CALL_OW 559
// ToLua ( setSpecText( & i & , & 4 & , & sib & ) ) ;
23881: LD_STRING setSpecText(
23883: PUSH
23884: LD_VAR 0 2
23888: STR
23889: PUSH
23890: LD_STRING ,
23892: STR
23893: PUSH
23894: LD_INT 4
23896: STR
23897: PUSH
23898: LD_STRING ,
23900: STR
23901: PUSH
23902: LD_VAR 0 6
23906: STR
23907: PUSH
23908: LD_STRING )
23910: STR
23911: PPUSH
23912: CALL_OW 559
// ToLua ( setSpecText( & i & , & 5 & , & people & ) ) ;
23916: LD_STRING setSpecText(
23918: PUSH
23919: LD_VAR 0 2
23923: STR
23924: PUSH
23925: LD_STRING ,
23927: STR
23928: PUSH
23929: LD_INT 5
23931: STR
23932: PUSH
23933: LD_STRING ,
23935: STR
23936: PUSH
23937: LD_VAR 0 7
23941: STR
23942: PUSH
23943: LD_STRING )
23945: STR
23946: PPUSH
23947: CALL_OW 559
// end ; end ;
23951: GO 23568
23953: POP
23954: POP
// end ;
23955: LD_VAR 0 1
23959: RET
// every 0 0$1 do
23960: GO 23962
23962: DISABLE
// begin ToLua ( setSpecLogoNumber( & 2 & , & 1 & ) ) ;
23963: LD_STRING setSpecLogoNumber(
23965: PUSH
23966: LD_INT 2
23968: STR
23969: PUSH
23970: LD_STRING ,
23972: STR
23973: PUSH
23974: LD_INT 1
23976: STR
23977: PUSH
23978: LD_STRING )
23980: STR
23981: PPUSH
23982: CALL_OW 559
// ToLua ( setSpecLogoNumber( & 3 & , & 2 & ) ) ;
23986: LD_STRING setSpecLogoNumber(
23988: PUSH
23989: LD_INT 3
23991: STR
23992: PUSH
23993: LD_STRING ,
23995: STR
23996: PUSH
23997: LD_INT 2
23999: STR
24000: PUSH
24001: LD_STRING )
24003: STR
24004: PPUSH
24005: CALL_OW 559
// ToLua ( setSpecLogoNumber( & 4 & , & 3 & ) ) ;
24009: LD_STRING setSpecLogoNumber(
24011: PUSH
24012: LD_INT 4
24014: STR
24015: PUSH
24016: LD_STRING ,
24018: STR
24019: PUSH
24020: LD_INT 3
24022: STR
24023: PUSH
24024: LD_STRING )
24026: STR
24027: PPUSH
24028: CALL_OW 559
// ToLua ( setSpecLogoNumber( & 5 & , & 4 & ) ) ;
24032: LD_STRING setSpecLogoNumber(
24034: PUSH
24035: LD_INT 5
24037: STR
24038: PUSH
24039: LD_STRING ,
24041: STR
24042: PUSH
24043: LD_INT 4
24045: STR
24046: PUSH
24047: LD_STRING )
24049: STR
24050: PPUSH
24051: CALL_OW 559
// end ;
24055: END
// every 20 + 0 0$5 trigger FilterAllUnits ( [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ) do
24056: LD_INT 2
24058: PUSH
24059: LD_INT 30
24061: PUSH
24062: LD_INT 0
24064: PUSH
24065: EMPTY
24066: LIST
24067: LIST
24068: PUSH
24069: LD_INT 30
24071: PUSH
24072: LD_INT 1
24074: PUSH
24075: EMPTY
24076: LIST
24077: LIST
24078: PUSH
24079: EMPTY
24080: LIST
24081: LIST
24082: LIST
24083: PPUSH
24084: CALL_OW 69
24088: IFFALSE 24098
24090: GO 24092
24092: DISABLE
// begin enable ;
24093: ENABLE
// UpdateSpectatorBar ;
24094: CALL 23544 0 0
// end ;
24098: END
