// export def_main_base , def_secondary_base , def_defence_level , def_amount_of_people , def_initial_level , def_main_deposits , def_secondary_deposits , def_siberite_detection , def_starting_resources , def_shipments_density , def_people_arrivals , def_people_loyality , def_people_info , def_morale_flags , def_siberite_bomb , def_amount_of_apemen , def_builduptime , def_win_rules , def_people_respawning ; export is_depot , number_of_people , number_of_pplants , are_mines , is_lab , is_fact , is_arm , are_breastworks , deposits , initial_level , starting_crates , starting_resources , shipments_density , max_arriving_times , text_info , fog_info , def_bf_params , amount_of_apemen , siberite_bomb_Delay ; export Positions , Side_Teams , Teams , Side_Comps ; export Side_Positions , Side_Nations , Team_Game ; export second_side , third_nation ; export start_def , depots_def , breastworks_def , labs_def , factories_def , armories_def , pplants_def , deposits_def ; export heroes ; var commander ; var global_units , global_defined , soldiers_created ; var neng , nsci , nmech , nsol ; function mp_sides_comps ; var c , i ; begin
   0: LD_INT 0
   2: PPUSH
   3: PPUSH
   4: PPUSH
// c = [ ] ;
   5: LD_ADDR_VAR 0 2
   9: PUSH
  10: EMPTY
  11: ST_TO_ADDR
// for i = 1 to 8 do
  12: LD_ADDR_VAR 0 3
  16: PUSH
  17: DOUBLE
  18: LD_INT 1
  20: DEC
  21: ST_TO_ADDR
  22: LD_INT 8
  24: PUSH
  25: FOR_TO
  26: IFFALSE 51
// c = c ^ Multiplayer_GetPlayerIsComp ( i ) ;
  28: LD_ADDR_VAR 0 2
  32: PUSH
  33: LD_VAR 0 2
  37: PUSH
  38: LD_VAR 0 3
  42: PPUSH
  43: CALL_OW 532
  47: ADD
  48: ST_TO_ADDR
  49: GO 25
  51: POP
  52: POP
// result = c ;
  53: LD_ADDR_VAR 0 1
  57: PUSH
  58: LD_VAR 0 2
  62: ST_TO_ADDR
// end ;
  63: LD_VAR 0 1
  67: RET
// function read_multiplayer_and_game_parameters ; var side , dep , br1 , br2 , br3 , un , i ; var u1 , u2 , pom_tab , p1 , p2 , tech_level ; begin
  68: LD_INT 0
  70: PPUSH
  71: PPUSH
  72: PPUSH
  73: PPUSH
  74: PPUSH
  75: PPUSH
  76: PPUSH
  77: PPUSH
  78: PPUSH
  79: PPUSH
  80: PPUSH
  81: PPUSH
  82: PPUSH
  83: PPUSH
// if MultiPlayer then
  84: LD_OWVAR 4
  88: IFFALSE 162
// begin Game_Type = mp_game_type ;
  90: LD_ADDR_EXP 64
  94: PUSH
  95: LD_OWVAR 6
  99: ST_TO_ADDR
// Your_Side = mp_player_side ;
 100: LD_ADDR_OWVAR 2
 104: PUSH
 105: LD_OWVAR 7
 109: ST_TO_ADDR
// Side_Positions = mp_sides_positions ;
 110: LD_ADDR_EXP 43
 114: PUSH
 115: LD_OWVAR 17
 119: ST_TO_ADDR
// Side_Teams = mp_sides_teams ;
 120: LD_ADDR_EXP 40
 124: PUSH
 125: LD_OWVAR 15
 129: ST_TO_ADDR
// Side_Nations = mp_sides_nations ;
 130: LD_ADDR_EXP 44
 134: PUSH
 135: LD_OWVAR 16
 139: ST_TO_ADDR
// Side_Comps = mp_sides_comps ;
 140: LD_ADDR_EXP 42
 144: PUSH
 145: CALL 0 0 0
 149: ST_TO_ADDR
// Teams = mp_teams ;
 150: LD_ADDR_EXP 41
 154: PUSH
 155: LD_OWVAR 12
 159: ST_TO_ADDR
// end else
 160: GO 333
// begin Your_Side = 3 ;
 162: LD_ADDR_OWVAR 2
 166: PUSH
 167: LD_INT 3
 169: ST_TO_ADDR
// Side_Positions = [ 0 , 0 , 2 , 0 , 1 , 0 , 0 , 0 ] ;
 170: LD_ADDR_EXP 43
 174: PUSH
 175: LD_INT 0
 177: PUSH
 178: LD_INT 0
 180: PUSH
 181: LD_INT 2
 183: PUSH
 184: LD_INT 0
 186: PUSH
 187: LD_INT 1
 189: PUSH
 190: LD_INT 0
 192: PUSH
 193: LD_INT 0
 195: PUSH
 196: LD_INT 0
 198: PUSH
 199: EMPTY
 200: LIST
 201: LIST
 202: LIST
 203: LIST
 204: LIST
 205: LIST
 206: LIST
 207: LIST
 208: ST_TO_ADDR
// Side_Teams = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
 209: LD_ADDR_EXP 40
 213: PUSH
 214: LD_INT 0
 216: PUSH
 217: LD_INT 0
 219: PUSH
 220: LD_INT 0
 222: PUSH
 223: LD_INT 0
 225: PUSH
 226: LD_INT 0
 228: PUSH
 229: LD_INT 0
 231: PUSH
 232: LD_INT 0
 234: PUSH
 235: LD_INT 0
 237: PUSH
 238: EMPTY
 239: LIST
 240: LIST
 241: LIST
 242: LIST
 243: LIST
 244: LIST
 245: LIST
 246: LIST
 247: ST_TO_ADDR
// Side_Nations = [ 0 , 0 , 3 , 0 , 2 , 0 , 0 , 0 ] ;
 248: LD_ADDR_EXP 44
 252: PUSH
 253: LD_INT 0
 255: PUSH
 256: LD_INT 0
 258: PUSH
 259: LD_INT 3
 261: PUSH
 262: LD_INT 0
 264: PUSH
 265: LD_INT 2
 267: PUSH
 268: LD_INT 0
 270: PUSH
 271: LD_INT 0
 273: PUSH
 274: LD_INT 0
 276: PUSH
 277: EMPTY
 278: LIST
 279: LIST
 280: LIST
 281: LIST
 282: LIST
 283: LIST
 284: LIST
 285: LIST
 286: ST_TO_ADDR
// Side_Comps = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
 287: LD_ADDR_EXP 42
 291: PUSH
 292: LD_INT 0
 294: PUSH
 295: LD_INT 0
 297: PUSH
 298: LD_INT 0
 300: PUSH
 301: LD_INT 0
 303: PUSH
 304: LD_INT 0
 306: PUSH
 307: LD_INT 0
 309: PUSH
 310: LD_INT 0
 312: PUSH
 313: LD_INT 0
 315: PUSH
 316: EMPTY
 317: LIST
 318: LIST
 319: LIST
 320: LIST
 321: LIST
 322: LIST
 323: LIST
 324: LIST
 325: ST_TO_ADDR
// Teams = [ ] ;
 326: LD_ADDR_EXP 41
 330: PUSH
 331: EMPTY
 332: ST_TO_ADDR
// end ; Team_Game := ( Side_Teams diff [ 0 ] ) > 1 ;
 333: LD_ADDR_EXP 45
 337: PUSH
 338: LD_EXP 40
 342: PUSH
 343: LD_INT 0
 345: PUSH
 346: EMPTY
 347: LIST
 348: DIFF
 349: PUSH
 350: LD_INT 1
 352: GREATER
 353: ST_TO_ADDR
// p1 := 0 ;
 354: LD_ADDR_VAR 0 12
 358: PUSH
 359: LD_INT 0
 361: ST_TO_ADDR
// p2 := 0 ;
 362: LD_ADDR_VAR 0 13
 366: PUSH
 367: LD_INT 0
 369: ST_TO_ADDR
// for i := 1 to 8 do
 370: LD_ADDR_VAR 0 8
 374: PUSH
 375: DOUBLE
 376: LD_INT 1
 378: DEC
 379: ST_TO_ADDR
 380: LD_INT 8
 382: PUSH
 383: FOR_TO
 384: IFFALSE 442
// if Side_Positions [ i ] = 1 then
 386: LD_EXP 43
 390: PUSH
 391: LD_VAR 0 8
 395: ARRAY
 396: PUSH
 397: LD_INT 1
 399: EQUAL
 400: IFFALSE 414
// p1 := i else
 402: LD_ADDR_VAR 0 12
 406: PUSH
 407: LD_VAR 0 8
 411: ST_TO_ADDR
 412: GO 440
// if Side_Positions [ i ] = 2 then
 414: LD_EXP 43
 418: PUSH
 419: LD_VAR 0 8
 423: ARRAY
 424: PUSH
 425: LD_INT 2
 427: EQUAL
 428: IFFALSE 440
// p2 := i ;
 430: LD_ADDR_VAR 0 13
 434: PUSH
 435: LD_VAR 0 8
 439: ST_TO_ADDR
 440: GO 383
 442: POP
 443: POP
// Positions := [ p1 , p2 ] ;
 444: LD_ADDR_EXP 39
 448: PUSH
 449: LD_VAR 0 12
 453: PUSH
 454: LD_VAR 0 13
 458: PUSH
 459: EMPTY
 460: LIST
 461: LIST
 462: ST_TO_ADDR
// if MultiPlayer then
 463: LD_OWVAR 4
 467: IFFALSE 721
// begin def_main_base = GetMultiplayerSetting ( 0 ) ;
 469: LD_ADDR_EXP 1
 473: PUSH
 474: LD_INT 0
 476: PPUSH
 477: CALL_OW 426
 481: ST_TO_ADDR
// def_secondary_base = GetMultiplayerSetting ( 1 ) ;
 482: LD_ADDR_EXP 2
 486: PUSH
 487: LD_INT 1
 489: PPUSH
 490: CALL_OW 426
 494: ST_TO_ADDR
// def_defence_level = GetMultiplayerSetting ( 2 ) ;
 495: LD_ADDR_EXP 3
 499: PUSH
 500: LD_INT 2
 502: PPUSH
 503: CALL_OW 426
 507: ST_TO_ADDR
// def_amount_of_people = GetMultiplayerSetting ( 3 ) ;
 508: LD_ADDR_EXP 4
 512: PUSH
 513: LD_INT 3
 515: PPUSH
 516: CALL_OW 426
 520: ST_TO_ADDR
// def_initial_level = GetMultiplayerSetting ( 4 ) ;
 521: LD_ADDR_EXP 5
 525: PUSH
 526: LD_INT 4
 528: PPUSH
 529: CALL_OW 426
 533: ST_TO_ADDR
// def_main_deposits = GetMultiplayerSetting ( 5 ) ;
 534: LD_ADDR_EXP 6
 538: PUSH
 539: LD_INT 5
 541: PPUSH
 542: CALL_OW 426
 546: ST_TO_ADDR
// def_secondary_deposits = GetMultiplayerSetting ( 6 ) ;
 547: LD_ADDR_EXP 7
 551: PUSH
 552: LD_INT 6
 554: PPUSH
 555: CALL_OW 426
 559: ST_TO_ADDR
// def_siberite_detection = GetMultiplayerSetting ( 7 ) ;
 560: LD_ADDR_EXP 8
 564: PUSH
 565: LD_INT 7
 567: PPUSH
 568: CALL_OW 426
 572: ST_TO_ADDR
// def_starting_resources = GetMultiplayerSetting ( 8 ) ;
 573: LD_ADDR_EXP 9
 577: PUSH
 578: LD_INT 8
 580: PPUSH
 581: CALL_OW 426
 585: ST_TO_ADDR
// def_shipments_density = GetMultiplayerSetting ( 9 ) ;
 586: LD_ADDR_EXP 10
 590: PUSH
 591: LD_INT 9
 593: PPUSH
 594: CALL_OW 426
 598: ST_TO_ADDR
// def_people_arrivals = GetMultiplayerSetting ( 10 ) ;
 599: LD_ADDR_EXP 11
 603: PUSH
 604: LD_INT 10
 606: PPUSH
 607: CALL_OW 426
 611: ST_TO_ADDR
// def_people_loyality = GetMultiplayerSetting ( 11 ) ;
 612: LD_ADDR_EXP 12
 616: PUSH
 617: LD_INT 11
 619: PPUSH
 620: CALL_OW 426
 624: ST_TO_ADDR
// def_people_info = GetMultiplayerSetting ( 12 ) ;
 625: LD_ADDR_EXP 13
 629: PUSH
 630: LD_INT 12
 632: PPUSH
 633: CALL_OW 426
 637: ST_TO_ADDR
// def_morale_flags = GetMultiplayerSetting ( 15 ) ;
 638: LD_ADDR_EXP 14
 642: PUSH
 643: LD_INT 15
 645: PPUSH
 646: CALL_OW 426
 650: ST_TO_ADDR
// def_siberite_bomb = GetMultiplayerSetting ( 16 ) ;
 651: LD_ADDR_EXP 15
 655: PUSH
 656: LD_INT 16
 658: PPUSH
 659: CALL_OW 426
 663: ST_TO_ADDR
// def_amount_of_apemen := GetMultiplayerSetting ( 17 ) ;
 664: LD_ADDR_EXP 16
 668: PUSH
 669: LD_INT 17
 671: PPUSH
 672: CALL_OW 426
 676: ST_TO_ADDR
// def_builduptime = GetMultiplayerSetting ( 20 ) ;
 677: LD_ADDR_EXP 17
 681: PUSH
 682: LD_INT 20
 684: PPUSH
 685: CALL_OW 426
 689: ST_TO_ADDR
// tech_level = GetMultiplayerSetting ( 22 ) ;
 690: LD_ADDR_VAR 0 14
 694: PUSH
 695: LD_INT 22
 697: PPUSH
 698: CALL_OW 426
 702: ST_TO_ADDR
// def_people_respawning = 0 ;
 703: LD_ADDR_EXP 19
 707: PUSH
 708: LD_INT 0
 710: ST_TO_ADDR
// def_win_rules = 0 ;
 711: LD_ADDR_EXP 18
 715: PUSH
 716: LD_INT 0
 718: ST_TO_ADDR
// end else
 719: GO 893
// begin randomize ;
 721: CALL_OW 10
// def_main_base = 1 ;
 725: LD_ADDR_EXP 1
 729: PUSH
 730: LD_INT 1
 732: ST_TO_ADDR
// def_secondary_base = 1 ;
 733: LD_ADDR_EXP 2
 737: PUSH
 738: LD_INT 1
 740: ST_TO_ADDR
// def_defence_level = 1 ;
 741: LD_ADDR_EXP 3
 745: PUSH
 746: LD_INT 1
 748: ST_TO_ADDR
// def_amount_of_people = 2 ;
 749: LD_ADDR_EXP 4
 753: PUSH
 754: LD_INT 2
 756: ST_TO_ADDR
// def_initial_level = 1 ;
 757: LD_ADDR_EXP 5
 761: PUSH
 762: LD_INT 1
 764: ST_TO_ADDR
// def_main_deposits = 2 ;
 765: LD_ADDR_EXP 6
 769: PUSH
 770: LD_INT 2
 772: ST_TO_ADDR
// def_secondary_deposits = 1 ;
 773: LD_ADDR_EXP 7
 777: PUSH
 778: LD_INT 1
 780: ST_TO_ADDR
// def_siberite_detection = 1 ;
 781: LD_ADDR_EXP 8
 785: PUSH
 786: LD_INT 1
 788: ST_TO_ADDR
// def_starting_resources = 2 ;
 789: LD_ADDR_EXP 9
 793: PUSH
 794: LD_INT 2
 796: ST_TO_ADDR
// def_shipments_density = 70 ;
 797: LD_ADDR_EXP 10
 801: PUSH
 802: LD_INT 70
 804: ST_TO_ADDR
// def_people_arrivals = 3 ;
 805: LD_ADDR_EXP 11
 809: PUSH
 810: LD_INT 3
 812: ST_TO_ADDR
// def_people_loyality = 1 ;
 813: LD_ADDR_EXP 12
 817: PUSH
 818: LD_INT 1
 820: ST_TO_ADDR
// def_people_info = 1 ;
 821: LD_ADDR_EXP 13
 825: PUSH
 826: LD_INT 1
 828: ST_TO_ADDR
// def_morale_flags = 2 ;
 829: LD_ADDR_EXP 14
 833: PUSH
 834: LD_INT 2
 836: ST_TO_ADDR
// def_siberite_bomb = 1 ;
 837: LD_ADDR_EXP 15
 841: PUSH
 842: LD_INT 1
 844: ST_TO_ADDR
// def_amount_of_apemen := 3 ;
 845: LD_ADDR_EXP 16
 849: PUSH
 850: LD_INT 3
 852: ST_TO_ADDR
// def_builduptime = 1 ;
 853: LD_ADDR_EXP 17
 857: PUSH
 858: LD_INT 1
 860: ST_TO_ADDR
// def_game_rules = 0 ;
 861: LD_ADDR_EXP 65
 865: PUSH
 866: LD_INT 0
 868: ST_TO_ADDR
// tech_level = 4 ;
 869: LD_ADDR_VAR 0 14
 873: PUSH
 874: LD_INT 4
 876: ST_TO_ADDR
// def_people_respawning = 0 ;
 877: LD_ADDR_EXP 19
 881: PUSH
 882: LD_INT 0
 884: ST_TO_ADDR
// def_win_rules = 0 ;
 885: LD_ADDR_EXP 18
 889: PUSH
 890: LD_INT 0
 892: ST_TO_ADDR
// end ; InitGameRules ;
 893: CALL 13325 0 0
// if def_game_rules = 0 then
 897: LD_EXP 65
 901: PUSH
 902: LD_INT 0
 904: EQUAL
 905: IFFALSE 932
// begin if isSGUI then
 907: LD_OWVAR 83
 911: IFFALSE 919
// setMpTechs ( ) else
 913: CALL 17240 0 0
 917: GO 932
// begin SetMpTechLevel ( tech_level + 1 ) ;
 919: LD_VAR 0 14
 923: PUSH
 924: LD_INT 1
 926: PLUS
 927: PPUSH
 928: CALL 17387 0 1
// end ; end ; u1 = [ 0 , 1 , 1 , 1 , 2 ] [ def_main_base + 1 ] ;
 932: LD_ADDR_VAR 0 9
 936: PUSH
 937: LD_INT 0
 939: PUSH
 940: LD_INT 1
 942: PUSH
 943: LD_INT 1
 945: PUSH
 946: LD_INT 1
 948: PUSH
 949: LD_INT 2
 951: PUSH
 952: EMPTY
 953: LIST
 954: LIST
 955: LIST
 956: LIST
 957: LIST
 958: PUSH
 959: LD_EXP 1
 963: PUSH
 964: LD_INT 1
 966: PLUS
 967: ARRAY
 968: ST_TO_ADDR
// u2 = [ 0 , 1 , 1 , 2 , 2 ] [ def_main_base + 1 ] ;
 969: LD_ADDR_VAR 0 10
 973: PUSH
 974: LD_INT 0
 976: PUSH
 977: LD_INT 1
 979: PUSH
 980: LD_INT 1
 982: PUSH
 983: LD_INT 2
 985: PUSH
 986: LD_INT 2
 988: PUSH
 989: EMPTY
 990: LIST
 991: LIST
 992: LIST
 993: LIST
 994: LIST
 995: PUSH
 996: LD_EXP 1
1000: PUSH
1001: LD_INT 1
1003: PLUS
1004: ARRAY
1005: ST_TO_ADDR
// is_depot = [ [ 0 , 1 , 1 , 2 , 2 ] [ def_main_base + 1 ] , [ 0 , 1 , 1 ] [ def_secondary_base + 1 ] ] ;
1006: LD_ADDR_EXP 20
1010: PUSH
1011: LD_INT 0
1013: PUSH
1014: LD_INT 1
1016: PUSH
1017: LD_INT 1
1019: PUSH
1020: LD_INT 2
1022: PUSH
1023: LD_INT 2
1025: PUSH
1026: EMPTY
1027: LIST
1028: LIST
1029: LIST
1030: LIST
1031: LIST
1032: PUSH
1033: LD_EXP 1
1037: PUSH
1038: LD_INT 1
1040: PLUS
1041: ARRAY
1042: PUSH
1043: LD_INT 0
1045: PUSH
1046: LD_INT 1
1048: PUSH
1049: LD_INT 1
1051: PUSH
1052: EMPTY
1053: LIST
1054: LIST
1055: LIST
1056: PUSH
1057: LD_EXP 2
1061: PUSH
1062: LD_INT 1
1064: PLUS
1065: ARRAY
1066: PUSH
1067: EMPTY
1068: LIST
1069: LIST
1070: ST_TO_ADDR
// if is_depot [ 2 ] then
1071: LD_EXP 20
1075: PUSH
1076: LD_INT 2
1078: ARRAY
1079: IFFALSE 1218
// are_breastworks = [ [ [ ] , [ u2 , u1 ] , [ u2 , u2 , u1 ] , [ u2 , u2 , u1 , u1 ] ] [ def_defence_level + 1 ] , [ [ ] , [ 1 ] , [ 1 , 1 ] , [ 1 , 1 , 1 ] ] [ def_defence_level + 1 ] ] else
1081: LD_ADDR_EXP 27
1085: PUSH
1086: EMPTY
1087: PUSH
1088: LD_VAR 0 10
1092: PUSH
1093: LD_VAR 0 9
1097: PUSH
1098: EMPTY
1099: LIST
1100: LIST
1101: PUSH
1102: LD_VAR 0 10
1106: PUSH
1107: LD_VAR 0 10
1111: PUSH
1112: LD_VAR 0 9
1116: PUSH
1117: EMPTY
1118: LIST
1119: LIST
1120: LIST
1121: PUSH
1122: LD_VAR 0 10
1126: PUSH
1127: LD_VAR 0 10
1131: PUSH
1132: LD_VAR 0 9
1136: PUSH
1137: LD_VAR 0 9
1141: PUSH
1142: EMPTY
1143: LIST
1144: LIST
1145: LIST
1146: LIST
1147: PUSH
1148: EMPTY
1149: LIST
1150: LIST
1151: LIST
1152: LIST
1153: PUSH
1154: LD_EXP 3
1158: PUSH
1159: LD_INT 1
1161: PLUS
1162: ARRAY
1163: PUSH
1164: EMPTY
1165: PUSH
1166: LD_INT 1
1168: PUSH
1169: EMPTY
1170: LIST
1171: PUSH
1172: LD_INT 1
1174: PUSH
1175: LD_INT 1
1177: PUSH
1178: EMPTY
1179: LIST
1180: LIST
1181: PUSH
1182: LD_INT 1
1184: PUSH
1185: LD_INT 1
1187: PUSH
1188: LD_INT 1
1190: PUSH
1191: EMPTY
1192: LIST
1193: LIST
1194: LIST
1195: PUSH
1196: EMPTY
1197: LIST
1198: LIST
1199: LIST
1200: LIST
1201: PUSH
1202: LD_EXP 3
1206: PUSH
1207: LD_INT 1
1209: PLUS
1210: ARRAY
1211: PUSH
1212: EMPTY
1213: LIST
1214: LIST
1215: ST_TO_ADDR
1216: GO 1307
// are_breastworks = [ [ [ ] , [ u2 , u1 ] , [ u2 , u2 , u1 ] , [ u2 , u2 , u1 , u1 ] ] [ def_defence_level + 1 ] , [ ] ] ;
1218: LD_ADDR_EXP 27
1222: PUSH
1223: EMPTY
1224: PUSH
1225: LD_VAR 0 10
1229: PUSH
1230: LD_VAR 0 9
1234: PUSH
1235: EMPTY
1236: LIST
1237: LIST
1238: PUSH
1239: LD_VAR 0 10
1243: PUSH
1244: LD_VAR 0 10
1248: PUSH
1249: LD_VAR 0 9
1253: PUSH
1254: EMPTY
1255: LIST
1256: LIST
1257: LIST
1258: PUSH
1259: LD_VAR 0 10
1263: PUSH
1264: LD_VAR 0 10
1268: PUSH
1269: LD_VAR 0 9
1273: PUSH
1274: LD_VAR 0 9
1278: PUSH
1279: EMPTY
1280: LIST
1281: LIST
1282: LIST
1283: LIST
1284: PUSH
1285: EMPTY
1286: LIST
1287: LIST
1288: LIST
1289: LIST
1290: PUSH
1291: LD_EXP 3
1295: PUSH
1296: LD_INT 1
1298: PLUS
1299: ARRAY
1300: PUSH
1301: EMPTY
1302: PUSH
1303: EMPTY
1304: LIST
1305: LIST
1306: ST_TO_ADDR
// is_fact = [ [ 0 , 0 , 1 , 2 , 2 ] [ def_main_base + 1 ] , 0 ] ;
1307: LD_ADDR_EXP 25
1311: PUSH
1312: LD_INT 0
1314: PUSH
1315: LD_INT 0
1317: PUSH
1318: LD_INT 1
1320: PUSH
1321: LD_INT 2
1323: PUSH
1324: LD_INT 2
1326: PUSH
1327: EMPTY
1328: LIST
1329: LIST
1330: LIST
1331: LIST
1332: LIST
1333: PUSH
1334: LD_EXP 1
1338: PUSH
1339: LD_INT 1
1341: PLUS
1342: ARRAY
1343: PUSH
1344: LD_INT 0
1346: PUSH
1347: EMPTY
1348: LIST
1349: LIST
1350: ST_TO_ADDR
// is_lab = [ [ 0 , 0 , 1 , 1 , 2 ] [ def_main_base + 1 ] , 0 ] ;
1351: LD_ADDR_EXP 24
1355: PUSH
1356: LD_INT 0
1358: PUSH
1359: LD_INT 0
1361: PUSH
1362: LD_INT 1
1364: PUSH
1365: LD_INT 1
1367: PUSH
1368: LD_INT 2
1370: PUSH
1371: EMPTY
1372: LIST
1373: LIST
1374: LIST
1375: LIST
1376: LIST
1377: PUSH
1378: LD_EXP 1
1382: PUSH
1383: LD_INT 1
1385: PLUS
1386: ARRAY
1387: PUSH
1388: LD_INT 0
1390: PUSH
1391: EMPTY
1392: LIST
1393: LIST
1394: ST_TO_ADDR
// is_arm = [ [ 0 , 0 , 1 , 1 , 2 ] [ def_main_base + 1 ] , 0 ] ;
1395: LD_ADDR_EXP 26
1399: PUSH
1400: LD_INT 0
1402: PUSH
1403: LD_INT 0
1405: PUSH
1406: LD_INT 1
1408: PUSH
1409: LD_INT 1
1411: PUSH
1412: LD_INT 2
1414: PUSH
1415: EMPTY
1416: LIST
1417: LIST
1418: LIST
1419: LIST
1420: LIST
1421: PUSH
1422: LD_EXP 1
1426: PUSH
1427: LD_INT 1
1429: PLUS
1430: ARRAY
1431: PUSH
1432: LD_INT 0
1434: PUSH
1435: EMPTY
1436: LIST
1437: LIST
1438: ST_TO_ADDR
// are_mines = [ [ 0 , 0 , 0 , 1 , 1 ] [ def_main_base + 1 ] , [ 0 , 0 , 1 ] [ def_secondary_base + 1 ] ] ;
1439: LD_ADDR_EXP 23
1443: PUSH
1444: LD_INT 0
1446: PUSH
1447: LD_INT 0
1449: PUSH
1450: LD_INT 0
1452: PUSH
1453: LD_INT 1
1455: PUSH
1456: LD_INT 1
1458: PUSH
1459: EMPTY
1460: LIST
1461: LIST
1462: LIST
1463: LIST
1464: LIST
1465: PUSH
1466: LD_EXP 1
1470: PUSH
1471: LD_INT 1
1473: PLUS
1474: ARRAY
1475: PUSH
1476: LD_INT 0
1478: PUSH
1479: LD_INT 0
1481: PUSH
1482: LD_INT 1
1484: PUSH
1485: EMPTY
1486: LIST
1487: LIST
1488: LIST
1489: PUSH
1490: LD_EXP 2
1494: PUSH
1495: LD_INT 1
1497: PLUS
1498: ARRAY
1499: PUSH
1500: EMPTY
1501: LIST
1502: LIST
1503: ST_TO_ADDR
// number_of_pplants = [ [ 0 , 0 , 0 , 1 , 2 ] [ def_main_base + 1 ] , 0 ] ;
1504: LD_ADDR_EXP 22
1508: PUSH
1509: LD_INT 0
1511: PUSH
1512: LD_INT 0
1514: PUSH
1515: LD_INT 0
1517: PUSH
1518: LD_INT 1
1520: PUSH
1521: LD_INT 2
1523: PUSH
1524: EMPTY
1525: LIST
1526: LIST
1527: LIST
1528: LIST
1529: LIST
1530: PUSH
1531: LD_EXP 1
1535: PUSH
1536: LD_INT 1
1538: PLUS
1539: ARRAY
1540: PUSH
1541: LD_INT 0
1543: PUSH
1544: EMPTY
1545: LIST
1546: LIST
1547: ST_TO_ADDR
// number_of_people = [ [ 5 , 8 , 11 ] [ def_amount_of_people + 1 ] , ( [ 2 , 3 , 4 ] [ def_amount_of_people + 1 ] ) * is_depot [ 2 ] ] ;
1548: LD_ADDR_EXP 21
1552: PUSH
1553: LD_INT 5
1555: PUSH
1556: LD_INT 8
1558: PUSH
1559: LD_INT 11
1561: PUSH
1562: EMPTY
1563: LIST
1564: LIST
1565: LIST
1566: PUSH
1567: LD_EXP 4
1571: PUSH
1572: LD_INT 1
1574: PLUS
1575: ARRAY
1576: PUSH
1577: LD_INT 2
1579: PUSH
1580: LD_INT 3
1582: PUSH
1583: LD_INT 4
1585: PUSH
1586: EMPTY
1587: LIST
1588: LIST
1589: LIST
1590: PUSH
1591: LD_EXP 4
1595: PUSH
1596: LD_INT 1
1598: PLUS
1599: ARRAY
1600: PUSH
1601: LD_EXP 20
1605: PUSH
1606: LD_INT 2
1608: ARRAY
1609: MUL
1610: PUSH
1611: EMPTY
1612: LIST
1613: LIST
1614: ST_TO_ADDR
// initial_level = [ 2 , 3 , 4 , 5 ] [ def_initial_level + 1 ] ;
1615: LD_ADDR_EXP 29
1619: PUSH
1620: LD_INT 2
1622: PUSH
1623: LD_INT 3
1625: PUSH
1626: LD_INT 4
1628: PUSH
1629: LD_INT 5
1631: PUSH
1632: EMPTY
1633: LIST
1634: LIST
1635: LIST
1636: LIST
1637: PUSH
1638: LD_EXP 5
1642: PUSH
1643: LD_INT 1
1645: PLUS
1646: ARRAY
1647: ST_TO_ADDR
// starting_resources = [ [ [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] ] , [ [ 50 , 0 , 0 ] , [ 20 , 0 , 0 ] ] , [ [ 150 , 30 , 0 ] , [ 60 , 0 , 0 ] ] , [ [ 250 , 50 , 10 ] , [ 100 , 30 , 0 ] ] ] [ def_starting_resources + 1 ] ;
1648: LD_ADDR_EXP 31
1652: PUSH
1653: LD_INT 0
1655: PUSH
1656: LD_INT 0
1658: PUSH
1659: LD_INT 0
1661: PUSH
1662: EMPTY
1663: LIST
1664: LIST
1665: LIST
1666: PUSH
1667: LD_INT 0
1669: PUSH
1670: LD_INT 0
1672: PUSH
1673: LD_INT 0
1675: PUSH
1676: EMPTY
1677: LIST
1678: LIST
1679: LIST
1680: PUSH
1681: EMPTY
1682: LIST
1683: LIST
1684: PUSH
1685: LD_INT 50
1687: PUSH
1688: LD_INT 0
1690: PUSH
1691: LD_INT 0
1693: PUSH
1694: EMPTY
1695: LIST
1696: LIST
1697: LIST
1698: PUSH
1699: LD_INT 20
1701: PUSH
1702: LD_INT 0
1704: PUSH
1705: LD_INT 0
1707: PUSH
1708: EMPTY
1709: LIST
1710: LIST
1711: LIST
1712: PUSH
1713: EMPTY
1714: LIST
1715: LIST
1716: PUSH
1717: LD_INT 150
1719: PUSH
1720: LD_INT 30
1722: PUSH
1723: LD_INT 0
1725: PUSH
1726: EMPTY
1727: LIST
1728: LIST
1729: LIST
1730: PUSH
1731: LD_INT 60
1733: PUSH
1734: LD_INT 0
1736: PUSH
1737: LD_INT 0
1739: PUSH
1740: EMPTY
1741: LIST
1742: LIST
1743: LIST
1744: PUSH
1745: EMPTY
1746: LIST
1747: LIST
1748: PUSH
1749: LD_INT 250
1751: PUSH
1752: LD_INT 50
1754: PUSH
1755: LD_INT 10
1757: PUSH
1758: EMPTY
1759: LIST
1760: LIST
1761: LIST
1762: PUSH
1763: LD_INT 100
1765: PUSH
1766: LD_INT 30
1768: PUSH
1769: LD_INT 0
1771: PUSH
1772: EMPTY
1773: LIST
1774: LIST
1775: LIST
1776: PUSH
1777: EMPTY
1778: LIST
1779: LIST
1780: PUSH
1781: EMPTY
1782: LIST
1783: LIST
1784: LIST
1785: LIST
1786: PUSH
1787: LD_EXP 9
1791: PUSH
1792: LD_INT 1
1794: PLUS
1795: ARRAY
1796: ST_TO_ADDR
// shipments_density := 380 - ( def_shipments_density * 2 ) ;
1797: LD_ADDR_EXP 32
1801: PUSH
1802: LD_INT 380
1804: PUSH
1805: LD_EXP 10
1809: PUSH
1810: LD_INT 2
1812: MUL
1813: MINUS
1814: ST_TO_ADDR
// max_arriving_times = [ [ ] , [ 10 , 17 , 26 , 36 , 48 , 60 ] , [ 6 , 10 , 15 , 20 , 26 , 32 , 38 , 45 , 52 , 60 ] , [ 4 , 6 , 9 , 12 , 16 , 20 , 24 , 28 , 32 , 36 , 40 , 45 , 50 , 55 , 60 ] ] [ def_people_arrivals + 1 ] ;
1815: LD_ADDR_EXP 33
1819: PUSH
1820: EMPTY
1821: PUSH
1822: LD_INT 10
1824: PUSH
1825: LD_INT 17
1827: PUSH
1828: LD_INT 26
1830: PUSH
1831: LD_INT 36
1833: PUSH
1834: LD_INT 48
1836: PUSH
1837: LD_INT 60
1839: PUSH
1840: EMPTY
1841: LIST
1842: LIST
1843: LIST
1844: LIST
1845: LIST
1846: LIST
1847: PUSH
1848: LD_INT 6
1850: PUSH
1851: LD_INT 10
1853: PUSH
1854: LD_INT 15
1856: PUSH
1857: LD_INT 20
1859: PUSH
1860: LD_INT 26
1862: PUSH
1863: LD_INT 32
1865: PUSH
1866: LD_INT 38
1868: PUSH
1869: LD_INT 45
1871: PUSH
1872: LD_INT 52
1874: PUSH
1875: LD_INT 60
1877: PUSH
1878: EMPTY
1879: LIST
1880: LIST
1881: LIST
1882: LIST
1883: LIST
1884: LIST
1885: LIST
1886: LIST
1887: LIST
1888: LIST
1889: PUSH
1890: LD_INT 4
1892: PUSH
1893: LD_INT 6
1895: PUSH
1896: LD_INT 9
1898: PUSH
1899: LD_INT 12
1901: PUSH
1902: LD_INT 16
1904: PUSH
1905: LD_INT 20
1907: PUSH
1908: LD_INT 24
1910: PUSH
1911: LD_INT 28
1913: PUSH
1914: LD_INT 32
1916: PUSH
1917: LD_INT 36
1919: PUSH
1920: LD_INT 40
1922: PUSH
1923: LD_INT 45
1925: PUSH
1926: LD_INT 50
1928: PUSH
1929: LD_INT 55
1931: PUSH
1932: LD_INT 60
1934: PUSH
1935: EMPTY
1936: LIST
1937: LIST
1938: LIST
1939: LIST
1940: LIST
1941: LIST
1942: LIST
1943: LIST
1944: LIST
1945: LIST
1946: LIST
1947: LIST
1948: LIST
1949: LIST
1950: LIST
1951: PUSH
1952: EMPTY
1953: LIST
1954: LIST
1955: LIST
1956: LIST
1957: PUSH
1958: LD_EXP 11
1962: PUSH
1963: LD_INT 1
1965: PLUS
1966: ARRAY
1967: ST_TO_ADDR
// text_info = [ 0 , 1 , 0 , 1 ] [ def_people_info + 1 ] ;
1968: LD_ADDR_EXP 34
1972: PUSH
1973: LD_INT 0
1975: PUSH
1976: LD_INT 1
1978: PUSH
1979: LD_INT 0
1981: PUSH
1982: LD_INT 1
1984: PUSH
1985: EMPTY
1986: LIST
1987: LIST
1988: LIST
1989: LIST
1990: PUSH
1991: LD_EXP 13
1995: PUSH
1996: LD_INT 1
1998: PLUS
1999: ARRAY
2000: ST_TO_ADDR
// fog_info = [ 0 , 0 , 1 , 1 ] [ def_people_info + 1 ] ;
2001: LD_ADDR_EXP 35
2005: PUSH
2006: LD_INT 0
2008: PUSH
2009: LD_INT 0
2011: PUSH
2012: LD_INT 1
2014: PUSH
2015: LD_INT 1
2017: PUSH
2018: EMPTY
2019: LIST
2020: LIST
2021: LIST
2022: LIST
2023: PUSH
2024: LD_EXP 13
2028: PUSH
2029: LD_INT 1
2031: PLUS
2032: ARRAY
2033: ST_TO_ADDR
// amount_of_apemen := [ 0 , 1 , 2 , 3 ] [ def_amount_of_apemen + 1 ] ;
2034: LD_ADDR_EXP 37
2038: PUSH
2039: LD_INT 0
2041: PUSH
2042: LD_INT 1
2044: PUSH
2045: LD_INT 2
2047: PUSH
2048: LD_INT 3
2050: PUSH
2051: EMPTY
2052: LIST
2053: LIST
2054: LIST
2055: LIST
2056: PUSH
2057: LD_EXP 16
2061: PUSH
2062: LD_INT 1
2064: PLUS
2065: ARRAY
2066: ST_TO_ADDR
// siberite_bomb_Delay := [ 0 , 1 , 30 30$00 , 60 60$00 , 90 90$00 , 120 120$00 ] [ def_siberite_bomb + 1 ] ;
2067: LD_ADDR_EXP 38
2071: PUSH
2072: LD_INT 0
2074: PUSH
2075: LD_INT 1
2077: PUSH
2078: LD_INT 63000
2080: PUSH
2081: LD_INT 126000
2083: PUSH
2084: LD_INT 189000
2086: PUSH
2087: LD_INT 252000
2089: PUSH
2090: EMPTY
2091: LIST
2092: LIST
2093: LIST
2094: LIST
2095: LIST
2096: LIST
2097: PUSH
2098: LD_EXP 15
2102: PUSH
2103: LD_INT 1
2105: PLUS
2106: ARRAY
2107: ST_TO_ADDR
// deposits = [ [ [ 1 , 0 , 1 , 2 , 0 ] [ def_main_deposits + 1 ] , [ 0 , 1 , 1 , 0 , 2 ] [ def_main_deposits + 1 ] ] , [ [ 1 , 0 , 1 , 2 , 0 ] [ def_secondary_deposits + 1 ] , [ 0 , 1 , 1 , 0 , 2 ] [ def_secondary_deposits + 1 ] ] ] ;
2108: LD_ADDR_EXP 28
2112: PUSH
2113: LD_INT 1
2115: PUSH
2116: LD_INT 0
2118: PUSH
2119: LD_INT 1
2121: PUSH
2122: LD_INT 2
2124: PUSH
2125: LD_INT 0
2127: PUSH
2128: EMPTY
2129: LIST
2130: LIST
2131: LIST
2132: LIST
2133: LIST
2134: PUSH
2135: LD_EXP 6
2139: PUSH
2140: LD_INT 1
2142: PLUS
2143: ARRAY
2144: PUSH
2145: LD_INT 0
2147: PUSH
2148: LD_INT 1
2150: PUSH
2151: LD_INT 1
2153: PUSH
2154: LD_INT 0
2156: PUSH
2157: LD_INT 2
2159: PUSH
2160: EMPTY
2161: LIST
2162: LIST
2163: LIST
2164: LIST
2165: LIST
2166: PUSH
2167: LD_EXP 6
2171: PUSH
2172: LD_INT 1
2174: PLUS
2175: ARRAY
2176: PUSH
2177: EMPTY
2178: LIST
2179: LIST
2180: PUSH
2181: LD_INT 1
2183: PUSH
2184: LD_INT 0
2186: PUSH
2187: LD_INT 1
2189: PUSH
2190: LD_INT 2
2192: PUSH
2193: LD_INT 0
2195: PUSH
2196: EMPTY
2197: LIST
2198: LIST
2199: LIST
2200: LIST
2201: LIST
2202: PUSH
2203: LD_EXP 7
2207: PUSH
2208: LD_INT 1
2210: PLUS
2211: ARRAY
2212: PUSH
2213: LD_INT 0
2215: PUSH
2216: LD_INT 1
2218: PUSH
2219: LD_INT 1
2221: PUSH
2222: LD_INT 0
2224: PUSH
2225: LD_INT 2
2227: PUSH
2228: EMPTY
2229: LIST
2230: LIST
2231: LIST
2232: LIST
2233: LIST
2234: PUSH
2235: LD_EXP 7
2239: PUSH
2240: LD_INT 1
2242: PLUS
2243: ARRAY
2244: PUSH
2245: EMPTY
2246: LIST
2247: LIST
2248: PUSH
2249: EMPTY
2250: LIST
2251: LIST
2252: ST_TO_ADDR
// def_bf_params = [ [ 0 , 0 , 0 , 0 ] , [ 50 , 25 , 0 , 50 ] , [ 75 , 50 , 25 , 75 ] , [ 100 , 75 , 50 , 100 ] ] [ def_morale_flags + 1 ] ;
2253: LD_ADDR_EXP 36
2257: PUSH
2258: LD_INT 0
2260: PUSH
2261: LD_INT 0
2263: PUSH
2264: LD_INT 0
2266: PUSH
2267: LD_INT 0
2269: PUSH
2270: EMPTY
2271: LIST
2272: LIST
2273: LIST
2274: LIST
2275: PUSH
2276: LD_INT 50
2278: PUSH
2279: LD_INT 25
2281: PUSH
2282: LD_INT 0
2284: PUSH
2285: LD_INT 50
2287: PUSH
2288: EMPTY
2289: LIST
2290: LIST
2291: LIST
2292: LIST
2293: PUSH
2294: LD_INT 75
2296: PUSH
2297: LD_INT 50
2299: PUSH
2300: LD_INT 25
2302: PUSH
2303: LD_INT 75
2305: PUSH
2306: EMPTY
2307: LIST
2308: LIST
2309: LIST
2310: LIST
2311: PUSH
2312: LD_INT 100
2314: PUSH
2315: LD_INT 75
2317: PUSH
2318: LD_INT 50
2320: PUSH
2321: LD_INT 100
2323: PUSH
2324: EMPTY
2325: LIST
2326: LIST
2327: LIST
2328: LIST
2329: PUSH
2330: EMPTY
2331: LIST
2332: LIST
2333: LIST
2334: LIST
2335: PUSH
2336: LD_EXP 14
2340: PUSH
2341: LD_INT 1
2343: PLUS
2344: ARRAY
2345: ST_TO_ADDR
// prepare_arrivals ;
2346: CALL 11039 0 0
// if def_people_loyality then
2350: LD_EXP 12
2354: IFFALSE 3219
// begin second_side = [ [ [ 0 , 0 ] , [ 4 , 5 ] , [ 4 , 6 ] , [ 6 , 7 ] , [ 4 , 2 ] , [ 4 , 3 ] , [ 4 , 2 ] , [ 4 , 2 ] ] , [ [ 5 , 4 ] , [ 0 , 0 ] , [ 5 , 6 ] , [ 5 , 1 ] , [ 7 , 3 ] , [ 5 , 3 ] , [ 5 , 4 ] , [ 5 , 4 ] ] , [ [ 6 , 4 ] , [ 6 , 5 ] , [ 0 , 0 ] , [ 6 , 1 ] , [ 6 , 2 ] , [ 5 , 1 ] , [ 6 , 4 ] , [ 6 , 2 ] ] , [ [ 7 , 6 ] , [ 1 , 5 ] , [ 1 , 6 ] , [ 0 , 0 ] , [ 1 , 2 ] , [ 1 , 3 ] , [ 1 , 2 ] , [ 1 , 2 ] ] , [ [ 2 , 4 ] , [ 3 , 7 ] , [ 2 , 6 ] , [ 2 , 1 ] , [ 0 , 0 ] , [ 2 , 3 ] , [ 2 , 4 ] , [ 2 , 4 ] ] , [ [ 3 , 4 ] , [ 3 , 5 ] , [ 1 , 5 ] , [ 3 , 1 ] , [ 3 , 2 ] , [ 0 , 0 ] , [ 3 , 4 ] , [ 3 , 2 ] ] , [ [ 2 , 4 ] , [ 4 , 5 ] , [ 4 , 6 ] , [ 2 , 1 ] , [ 4 , 2 ] , [ 4 , 3 ] , [ 0 , 0 ] , [ 4 , 2 ] ] , [ [ 2 , 4 ] , [ 4 , 5 ] , [ 2 , 6 ] , [ 2 , 1 ] , [ 4 , 2 ] , [ 2 , 3 ] , [ 2 , 4 ] , [ 0 , 0 ] ] ] [ positions [ 1 ] ] [ positions [ 2 ] ] ;
2356: LD_ADDR_EXP 46
2360: PUSH
2361: LD_INT 0
2363: PUSH
2364: LD_INT 0
2366: PUSH
2367: EMPTY
2368: LIST
2369: LIST
2370: PUSH
2371: LD_INT 4
2373: PUSH
2374: LD_INT 5
2376: PUSH
2377: EMPTY
2378: LIST
2379: LIST
2380: PUSH
2381: LD_INT 4
2383: PUSH
2384: LD_INT 6
2386: PUSH
2387: EMPTY
2388: LIST
2389: LIST
2390: PUSH
2391: LD_INT 6
2393: PUSH
2394: LD_INT 7
2396: PUSH
2397: EMPTY
2398: LIST
2399: LIST
2400: PUSH
2401: LD_INT 4
2403: PUSH
2404: LD_INT 2
2406: PUSH
2407: EMPTY
2408: LIST
2409: LIST
2410: PUSH
2411: LD_INT 4
2413: PUSH
2414: LD_INT 3
2416: PUSH
2417: EMPTY
2418: LIST
2419: LIST
2420: PUSH
2421: LD_INT 4
2423: PUSH
2424: LD_INT 2
2426: PUSH
2427: EMPTY
2428: LIST
2429: LIST
2430: PUSH
2431: LD_INT 4
2433: PUSH
2434: LD_INT 2
2436: PUSH
2437: EMPTY
2438: LIST
2439: LIST
2440: PUSH
2441: EMPTY
2442: LIST
2443: LIST
2444: LIST
2445: LIST
2446: LIST
2447: LIST
2448: LIST
2449: LIST
2450: PUSH
2451: LD_INT 5
2453: PUSH
2454: LD_INT 4
2456: PUSH
2457: EMPTY
2458: LIST
2459: LIST
2460: PUSH
2461: LD_INT 0
2463: PUSH
2464: LD_INT 0
2466: PUSH
2467: EMPTY
2468: LIST
2469: LIST
2470: PUSH
2471: LD_INT 5
2473: PUSH
2474: LD_INT 6
2476: PUSH
2477: EMPTY
2478: LIST
2479: LIST
2480: PUSH
2481: LD_INT 5
2483: PUSH
2484: LD_INT 1
2486: PUSH
2487: EMPTY
2488: LIST
2489: LIST
2490: PUSH
2491: LD_INT 7
2493: PUSH
2494: LD_INT 3
2496: PUSH
2497: EMPTY
2498: LIST
2499: LIST
2500: PUSH
2501: LD_INT 5
2503: PUSH
2504: LD_INT 3
2506: PUSH
2507: EMPTY
2508: LIST
2509: LIST
2510: PUSH
2511: LD_INT 5
2513: PUSH
2514: LD_INT 4
2516: PUSH
2517: EMPTY
2518: LIST
2519: LIST
2520: PUSH
2521: LD_INT 5
2523: PUSH
2524: LD_INT 4
2526: PUSH
2527: EMPTY
2528: LIST
2529: LIST
2530: PUSH
2531: EMPTY
2532: LIST
2533: LIST
2534: LIST
2535: LIST
2536: LIST
2537: LIST
2538: LIST
2539: LIST
2540: PUSH
2541: LD_INT 6
2543: PUSH
2544: LD_INT 4
2546: PUSH
2547: EMPTY
2548: LIST
2549: LIST
2550: PUSH
2551: LD_INT 6
2553: PUSH
2554: LD_INT 5
2556: PUSH
2557: EMPTY
2558: LIST
2559: LIST
2560: PUSH
2561: LD_INT 0
2563: PUSH
2564: LD_INT 0
2566: PUSH
2567: EMPTY
2568: LIST
2569: LIST
2570: PUSH
2571: LD_INT 6
2573: PUSH
2574: LD_INT 1
2576: PUSH
2577: EMPTY
2578: LIST
2579: LIST
2580: PUSH
2581: LD_INT 6
2583: PUSH
2584: LD_INT 2
2586: PUSH
2587: EMPTY
2588: LIST
2589: LIST
2590: PUSH
2591: LD_INT 5
2593: PUSH
2594: LD_INT 1
2596: PUSH
2597: EMPTY
2598: LIST
2599: LIST
2600: PUSH
2601: LD_INT 6
2603: PUSH
2604: LD_INT 4
2606: PUSH
2607: EMPTY
2608: LIST
2609: LIST
2610: PUSH
2611: LD_INT 6
2613: PUSH
2614: LD_INT 2
2616: PUSH
2617: EMPTY
2618: LIST
2619: LIST
2620: PUSH
2621: EMPTY
2622: LIST
2623: LIST
2624: LIST
2625: LIST
2626: LIST
2627: LIST
2628: LIST
2629: LIST
2630: PUSH
2631: LD_INT 7
2633: PUSH
2634: LD_INT 6
2636: PUSH
2637: EMPTY
2638: LIST
2639: LIST
2640: PUSH
2641: LD_INT 1
2643: PUSH
2644: LD_INT 5
2646: PUSH
2647: EMPTY
2648: LIST
2649: LIST
2650: PUSH
2651: LD_INT 1
2653: PUSH
2654: LD_INT 6
2656: PUSH
2657: EMPTY
2658: LIST
2659: LIST
2660: PUSH
2661: LD_INT 0
2663: PUSH
2664: LD_INT 0
2666: PUSH
2667: EMPTY
2668: LIST
2669: LIST
2670: PUSH
2671: LD_INT 1
2673: PUSH
2674: LD_INT 2
2676: PUSH
2677: EMPTY
2678: LIST
2679: LIST
2680: PUSH
2681: LD_INT 1
2683: PUSH
2684: LD_INT 3
2686: PUSH
2687: EMPTY
2688: LIST
2689: LIST
2690: PUSH
2691: LD_INT 1
2693: PUSH
2694: LD_INT 2
2696: PUSH
2697: EMPTY
2698: LIST
2699: LIST
2700: PUSH
2701: LD_INT 1
2703: PUSH
2704: LD_INT 2
2706: PUSH
2707: EMPTY
2708: LIST
2709: LIST
2710: PUSH
2711: EMPTY
2712: LIST
2713: LIST
2714: LIST
2715: LIST
2716: LIST
2717: LIST
2718: LIST
2719: LIST
2720: PUSH
2721: LD_INT 2
2723: PUSH
2724: LD_INT 4
2726: PUSH
2727: EMPTY
2728: LIST
2729: LIST
2730: PUSH
2731: LD_INT 3
2733: PUSH
2734: LD_INT 7
2736: PUSH
2737: EMPTY
2738: LIST
2739: LIST
2740: PUSH
2741: LD_INT 2
2743: PUSH
2744: LD_INT 6
2746: PUSH
2747: EMPTY
2748: LIST
2749: LIST
2750: PUSH
2751: LD_INT 2
2753: PUSH
2754: LD_INT 1
2756: PUSH
2757: EMPTY
2758: LIST
2759: LIST
2760: PUSH
2761: LD_INT 0
2763: PUSH
2764: LD_INT 0
2766: PUSH
2767: EMPTY
2768: LIST
2769: LIST
2770: PUSH
2771: LD_INT 2
2773: PUSH
2774: LD_INT 3
2776: PUSH
2777: EMPTY
2778: LIST
2779: LIST
2780: PUSH
2781: LD_INT 2
2783: PUSH
2784: LD_INT 4
2786: PUSH
2787: EMPTY
2788: LIST
2789: LIST
2790: PUSH
2791: LD_INT 2
2793: PUSH
2794: LD_INT 4
2796: PUSH
2797: EMPTY
2798: LIST
2799: LIST
2800: PUSH
2801: EMPTY
2802: LIST
2803: LIST
2804: LIST
2805: LIST
2806: LIST
2807: LIST
2808: LIST
2809: LIST
2810: PUSH
2811: LD_INT 3
2813: PUSH
2814: LD_INT 4
2816: PUSH
2817: EMPTY
2818: LIST
2819: LIST
2820: PUSH
2821: LD_INT 3
2823: PUSH
2824: LD_INT 5
2826: PUSH
2827: EMPTY
2828: LIST
2829: LIST
2830: PUSH
2831: LD_INT 1
2833: PUSH
2834: LD_INT 5
2836: PUSH
2837: EMPTY
2838: LIST
2839: LIST
2840: PUSH
2841: LD_INT 3
2843: PUSH
2844: LD_INT 1
2846: PUSH
2847: EMPTY
2848: LIST
2849: LIST
2850: PUSH
2851: LD_INT 3
2853: PUSH
2854: LD_INT 2
2856: PUSH
2857: EMPTY
2858: LIST
2859: LIST
2860: PUSH
2861: LD_INT 0
2863: PUSH
2864: LD_INT 0
2866: PUSH
2867: EMPTY
2868: LIST
2869: LIST
2870: PUSH
2871: LD_INT 3
2873: PUSH
2874: LD_INT 4
2876: PUSH
2877: EMPTY
2878: LIST
2879: LIST
2880: PUSH
2881: LD_INT 3
2883: PUSH
2884: LD_INT 2
2886: PUSH
2887: EMPTY
2888: LIST
2889: LIST
2890: PUSH
2891: EMPTY
2892: LIST
2893: LIST
2894: LIST
2895: LIST
2896: LIST
2897: LIST
2898: LIST
2899: LIST
2900: PUSH
2901: LD_INT 2
2903: PUSH
2904: LD_INT 4
2906: PUSH
2907: EMPTY
2908: LIST
2909: LIST
2910: PUSH
2911: LD_INT 4
2913: PUSH
2914: LD_INT 5
2916: PUSH
2917: EMPTY
2918: LIST
2919: LIST
2920: PUSH
2921: LD_INT 4
2923: PUSH
2924: LD_INT 6
2926: PUSH
2927: EMPTY
2928: LIST
2929: LIST
2930: PUSH
2931: LD_INT 2
2933: PUSH
2934: LD_INT 1
2936: PUSH
2937: EMPTY
2938: LIST
2939: LIST
2940: PUSH
2941: LD_INT 4
2943: PUSH
2944: LD_INT 2
2946: PUSH
2947: EMPTY
2948: LIST
2949: LIST
2950: PUSH
2951: LD_INT 4
2953: PUSH
2954: LD_INT 3
2956: PUSH
2957: EMPTY
2958: LIST
2959: LIST
2960: PUSH
2961: LD_INT 0
2963: PUSH
2964: LD_INT 0
2966: PUSH
2967: EMPTY
2968: LIST
2969: LIST
2970: PUSH
2971: LD_INT 4
2973: PUSH
2974: LD_INT 2
2976: PUSH
2977: EMPTY
2978: LIST
2979: LIST
2980: PUSH
2981: EMPTY
2982: LIST
2983: LIST
2984: LIST
2985: LIST
2986: LIST
2987: LIST
2988: LIST
2989: LIST
2990: PUSH
2991: LD_INT 2
2993: PUSH
2994: LD_INT 4
2996: PUSH
2997: EMPTY
2998: LIST
2999: LIST
3000: PUSH
3001: LD_INT 4
3003: PUSH
3004: LD_INT 5
3006: PUSH
3007: EMPTY
3008: LIST
3009: LIST
3010: PUSH
3011: LD_INT 2
3013: PUSH
3014: LD_INT 6
3016: PUSH
3017: EMPTY
3018: LIST
3019: LIST
3020: PUSH
3021: LD_INT 2
3023: PUSH
3024: LD_INT 1
3026: PUSH
3027: EMPTY
3028: LIST
3029: LIST
3030: PUSH
3031: LD_INT 4
3033: PUSH
3034: LD_INT 2
3036: PUSH
3037: EMPTY
3038: LIST
3039: LIST
3040: PUSH
3041: LD_INT 2
3043: PUSH
3044: LD_INT 3
3046: PUSH
3047: EMPTY
3048: LIST
3049: LIST
3050: PUSH
3051: LD_INT 2
3053: PUSH
3054: LD_INT 4
3056: PUSH
3057: EMPTY
3058: LIST
3059: LIST
3060: PUSH
3061: LD_INT 0
3063: PUSH
3064: LD_INT 0
3066: PUSH
3067: EMPTY
3068: LIST
3069: LIST
3070: PUSH
3071: EMPTY
3072: LIST
3073: LIST
3074: LIST
3075: LIST
3076: LIST
3077: LIST
3078: LIST
3079: LIST
3080: PUSH
3081: EMPTY
3082: LIST
3083: LIST
3084: LIST
3085: LIST
3086: LIST
3087: LIST
3088: LIST
3089: LIST
3090: PUSH
3091: LD_EXP 39
3095: PUSH
3096: LD_INT 1
3098: ARRAY
3099: ARRAY
3100: PUSH
3101: LD_EXP 39
3105: PUSH
3106: LD_INT 2
3108: ARRAY
3109: ARRAY
3110: ST_TO_ADDR
// SetAttitude ( second_side [ 1 ] , positions [ 1 ] , att_friend , true ) ;
3111: LD_EXP 46
3115: PUSH
3116: LD_INT 1
3118: ARRAY
3119: PPUSH
3120: LD_EXP 39
3124: PUSH
3125: LD_INT 1
3127: ARRAY
3128: PPUSH
3129: LD_INT 1
3131: PPUSH
3132: LD_INT 1
3134: PPUSH
3135: CALL_OW 80
// SetAttitude ( second_side [ 2 ] , positions [ 2 ] , att_friend , true ) ;
3139: LD_EXP 46
3143: PUSH
3144: LD_INT 2
3146: ARRAY
3147: PPUSH
3148: LD_EXP 39
3152: PUSH
3153: LD_INT 2
3155: ARRAY
3156: PPUSH
3157: LD_INT 1
3159: PPUSH
3160: LD_INT 1
3162: PPUSH
3163: CALL_OW 80
// if fog_info then
3167: LD_EXP 35
3171: IFFALSE 3217
// begin ChangeSideFog ( second_side [ 1 ] , positions [ 1 ] ) ;
3173: LD_EXP 46
3177: PUSH
3178: LD_INT 1
3180: ARRAY
3181: PPUSH
3182: LD_EXP 39
3186: PUSH
3187: LD_INT 1
3189: ARRAY
3190: PPUSH
3191: CALL_OW 343
// ChangeSideFog ( second_side [ 2 ] , positions [ 2 ] ) ;
3195: LD_EXP 46
3199: PUSH
3200: LD_INT 2
3202: ARRAY
3203: PPUSH
3204: LD_EXP 39
3208: PUSH
3209: LD_INT 2
3211: ARRAY
3212: PPUSH
3213: CALL_OW 343
// end ; end else
3217: GO 3499
// begin pom_tab = [ 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 ] diff ( positions union [ 4 , [ 5 , 7 , 8 ] , 6 , [ 1 , 7 , 8 ] , 2 , 3 , [ 2 , 4 ] , [ 2 , 4 ] ] [ positions [ 1 ] ] union [ 4 , [ 5 , 7 , 8 ] , 6 , [ 1 , 7 , 8 ] , 2 , 3 , [ 2 , 4 ] , [ 2 , 4 ] ] [ positions [ 2 ] ] ) ;
3219: LD_ADDR_VAR 0 11
3223: PUSH
3224: LD_INT 1
3226: PUSH
3227: LD_INT 2
3229: PUSH
3230: LD_INT 3
3232: PUSH
3233: LD_INT 4
3235: PUSH
3236: LD_INT 5
3238: PUSH
3239: LD_INT 6
3241: PUSH
3242: LD_INT 7
3244: PUSH
3245: LD_INT 8
3247: PUSH
3248: EMPTY
3249: LIST
3250: LIST
3251: LIST
3252: LIST
3253: LIST
3254: LIST
3255: LIST
3256: LIST
3257: PUSH
3258: LD_EXP 39
3262: PUSH
3263: LD_INT 4
3265: PUSH
3266: LD_INT 5
3268: PUSH
3269: LD_INT 7
3271: PUSH
3272: LD_INT 8
3274: PUSH
3275: EMPTY
3276: LIST
3277: LIST
3278: LIST
3279: PUSH
3280: LD_INT 6
3282: PUSH
3283: LD_INT 1
3285: PUSH
3286: LD_INT 7
3288: PUSH
3289: LD_INT 8
3291: PUSH
3292: EMPTY
3293: LIST
3294: LIST
3295: LIST
3296: PUSH
3297: LD_INT 2
3299: PUSH
3300: LD_INT 3
3302: PUSH
3303: LD_INT 2
3305: PUSH
3306: LD_INT 4
3308: PUSH
3309: EMPTY
3310: LIST
3311: LIST
3312: PUSH
3313: LD_INT 2
3315: PUSH
3316: LD_INT 4
3318: PUSH
3319: EMPTY
3320: LIST
3321: LIST
3322: PUSH
3323: EMPTY
3324: LIST
3325: LIST
3326: LIST
3327: LIST
3328: LIST
3329: LIST
3330: LIST
3331: LIST
3332: PUSH
3333: LD_EXP 39
3337: PUSH
3338: LD_INT 1
3340: ARRAY
3341: ARRAY
3342: UNION
3343: PUSH
3344: LD_INT 4
3346: PUSH
3347: LD_INT 5
3349: PUSH
3350: LD_INT 7
3352: PUSH
3353: LD_INT 8
3355: PUSH
3356: EMPTY
3357: LIST
3358: LIST
3359: LIST
3360: PUSH
3361: LD_INT 6
3363: PUSH
3364: LD_INT 1
3366: PUSH
3367: LD_INT 7
3369: PUSH
3370: LD_INT 8
3372: PUSH
3373: EMPTY
3374: LIST
3375: LIST
3376: LIST
3377: PUSH
3378: LD_INT 2
3380: PUSH
3381: LD_INT 3
3383: PUSH
3384: LD_INT 2
3386: PUSH
3387: LD_INT 4
3389: PUSH
3390: EMPTY
3391: LIST
3392: LIST
3393: PUSH
3394: LD_INT 2
3396: PUSH
3397: LD_INT 4
3399: PUSH
3400: EMPTY
3401: LIST
3402: LIST
3403: PUSH
3404: EMPTY
3405: LIST
3406: LIST
3407: LIST
3408: LIST
3409: LIST
3410: LIST
3411: LIST
3412: LIST
3413: PUSH
3414: LD_EXP 39
3418: PUSH
3419: LD_INT 2
3421: ARRAY
3422: ARRAY
3423: UNION
3424: DIFF
3425: ST_TO_ADDR
// second_side = pom_tab [ Rand ( 1 , pom_tab ) ] ;
3426: LD_ADDR_EXP 46
3430: PUSH
3431: LD_VAR 0 11
3435: PUSH
3436: LD_INT 1
3438: PPUSH
3439: LD_VAR 0 11
3443: PPUSH
3444: CALL_OW 12
3448: ARRAY
3449: ST_TO_ADDR
// third_nation = [ 1 , 2 , 3 ] diff side_nations ;
3450: LD_ADDR_EXP 47
3454: PUSH
3455: LD_INT 1
3457: PUSH
3458: LD_INT 2
3460: PUSH
3461: LD_INT 3
3463: PUSH
3464: EMPTY
3465: LIST
3466: LIST
3467: LIST
3468: PUSH
3469: LD_EXP 44
3473: DIFF
3474: ST_TO_ADDR
// third_nation = third_nation [ Rand ( 1 , third_nation ) ] ;
3475: LD_ADDR_EXP 47
3479: PUSH
3480: LD_EXP 47
3484: PUSH
3485: LD_INT 1
3487: PPUSH
3488: LD_EXP 47
3492: PPUSH
3493: CALL_OW 12
3497: ARRAY
3498: ST_TO_ADDR
// end ; end ;
3499: LD_VAR 0 1
3503: RET
// function prepare_map_coordinates ; var side , dep2 , br2 , dep1 , br1 , lab , fac , arm , pplant , un , i , k11 , k12 , k21 , k22 ; begin
3504: LD_INT 0
3506: PPUSH
3507: PPUSH
3508: PPUSH
3509: PPUSH
3510: PPUSH
3511: PPUSH
3512: PPUSH
3513: PPUSH
3514: PPUSH
3515: PPUSH
3516: PPUSH
3517: PPUSH
3518: PPUSH
3519: PPUSH
3520: PPUSH
3521: PPUSH
// start_def = [ ] ;
3522: LD_ADDR_EXP 48
3526: PUSH
3527: EMPTY
3528: ST_TO_ADDR
// depots_def = [ ] ;
3529: LD_ADDR_EXP 49
3533: PUSH
3534: EMPTY
3535: ST_TO_ADDR
// breastworks_def = [ ] ;
3536: LD_ADDR_EXP 50
3540: PUSH
3541: EMPTY
3542: ST_TO_ADDR
// labs_def = [ ] ;
3543: LD_ADDR_EXP 51
3547: PUSH
3548: EMPTY
3549: ST_TO_ADDR
// factories_def = [ ] ;
3550: LD_ADDR_EXP 52
3554: PUSH
3555: EMPTY
3556: ST_TO_ADDR
// armories_def = [ ] ;
3557: LD_ADDR_EXP 53
3561: PUSH
3562: EMPTY
3563: ST_TO_ADDR
// pplants_def = [ ] ;
3564: LD_ADDR_EXP 54
3568: PUSH
3569: EMPTY
3570: ST_TO_ADDR
// deposits_def = [ ] ;
3571: LD_ADDR_EXP 55
3575: PUSH
3576: EMPTY
3577: ST_TO_ADDR
// k11 := Rand ( 1 , 2 ) ;
3578: LD_ADDR_VAR 0 13
3582: PUSH
3583: LD_INT 1
3585: PPUSH
3586: LD_INT 2
3588: PPUSH
3589: CALL_OW 12
3593: ST_TO_ADDR
// k12 := Rand ( 1 , 2 ) ;
3594: LD_ADDR_VAR 0 14
3598: PUSH
3599: LD_INT 1
3601: PPUSH
3602: LD_INT 2
3604: PPUSH
3605: CALL_OW 12
3609: ST_TO_ADDR
// k21 := Rand ( 1 , 2 ) ;
3610: LD_ADDR_VAR 0 15
3614: PUSH
3615: LD_INT 1
3617: PPUSH
3618: LD_INT 2
3620: PPUSH
3621: CALL_OW 12
3625: ST_TO_ADDR
// k22 := Rand ( 1 , 2 ) ;
3626: LD_ADDR_VAR 0 16
3630: PUSH
3631: LD_INT 1
3633: PPUSH
3634: LD_INT 2
3636: PPUSH
3637: CALL_OW 12
3641: ST_TO_ADDR
// deposits_def := [ [ [ [ Res111 , Res112 ] [ k11 ] , [ Res111 , Res112 ] [ 3 - k11 ] ] , [ [ Res121 , Res122 ] [ k12 ] , [ Res121 , Res122 ] [ 3 - k12 ] ] ] , [ [ [ Res211 , Res212 ] [ k21 ] , [ Res211 , Res212 ] [ 3 - k21 ] ] , [ [ Res221 , Res222 ] [ k22 ] , [ Res221 , Res222 ] [ 3 - k22 ] ] ] ] ;
3642: LD_ADDR_EXP 55
3646: PUSH
3647: LD_INT 4
3649: PUSH
3650: LD_INT 5
3652: PUSH
3653: EMPTY
3654: LIST
3655: LIST
3656: PUSH
3657: LD_VAR 0 13
3661: ARRAY
3662: PUSH
3663: LD_INT 4
3665: PUSH
3666: LD_INT 5
3668: PUSH
3669: EMPTY
3670: LIST
3671: LIST
3672: PUSH
3673: LD_INT 3
3675: PUSH
3676: LD_VAR 0 13
3680: MINUS
3681: ARRAY
3682: PUSH
3683: EMPTY
3684: LIST
3685: LIST
3686: PUSH
3687: LD_INT 6
3689: PUSH
3690: LD_INT 7
3692: PUSH
3693: EMPTY
3694: LIST
3695: LIST
3696: PUSH
3697: LD_VAR 0 14
3701: ARRAY
3702: PUSH
3703: LD_INT 6
3705: PUSH
3706: LD_INT 7
3708: PUSH
3709: EMPTY
3710: LIST
3711: LIST
3712: PUSH
3713: LD_INT 3
3715: PUSH
3716: LD_VAR 0 14
3720: MINUS
3721: ARRAY
3722: PUSH
3723: EMPTY
3724: LIST
3725: LIST
3726: PUSH
3727: EMPTY
3728: LIST
3729: LIST
3730: PUSH
3731: LD_INT 8
3733: PUSH
3734: LD_INT 9
3736: PUSH
3737: EMPTY
3738: LIST
3739: LIST
3740: PUSH
3741: LD_VAR 0 15
3745: ARRAY
3746: PUSH
3747: LD_INT 8
3749: PUSH
3750: LD_INT 9
3752: PUSH
3753: EMPTY
3754: LIST
3755: LIST
3756: PUSH
3757: LD_INT 3
3759: PUSH
3760: LD_VAR 0 15
3764: MINUS
3765: ARRAY
3766: PUSH
3767: EMPTY
3768: LIST
3769: LIST
3770: PUSH
3771: LD_INT 10
3773: PUSH
3774: LD_INT 11
3776: PUSH
3777: EMPTY
3778: LIST
3779: LIST
3780: PUSH
3781: LD_VAR 0 16
3785: ARRAY
3786: PUSH
3787: LD_INT 10
3789: PUSH
3790: LD_INT 11
3792: PUSH
3793: EMPTY
3794: LIST
3795: LIST
3796: PUSH
3797: LD_INT 3
3799: PUSH
3800: LD_VAR 0 16
3804: MINUS
3805: ARRAY
3806: PUSH
3807: EMPTY
3808: LIST
3809: LIST
3810: PUSH
3811: EMPTY
3812: LIST
3813: LIST
3814: PUSH
3815: EMPTY
3816: LIST
3817: LIST
3818: ST_TO_ADDR
// for side := 1 to 2 do
3819: LD_ADDR_VAR 0 2
3823: PUSH
3824: DOUBLE
3825: LD_INT 1
3827: DEC
3828: ST_TO_ADDR
3829: LD_INT 2
3831: PUSH
3832: FOR_TO
3833: IFFALSE 4965
// begin dep1 := side * 10 - 9 ;
3835: LD_ADDR_VAR 0 5
3839: PUSH
3840: LD_VAR 0 2
3844: PUSH
3845: LD_INT 10
3847: MUL
3848: PUSH
3849: LD_INT 9
3851: MINUS
3852: ST_TO_ADDR
// dep2 := 20 + side * 4 - 3 ;
3853: LD_ADDR_VAR 0 3
3857: PUSH
3858: LD_INT 20
3860: PUSH
3861: LD_VAR 0 2
3865: PUSH
3866: LD_INT 4
3868: MUL
3869: PLUS
3870: PUSH
3871: LD_INT 3
3873: MINUS
3874: ST_TO_ADDR
// br1 := [ side * 10 - 8 , side * 10 - 7 , side * 10 - 6 , side * 10 - 5 ] ;
3875: LD_ADDR_VAR 0 6
3879: PUSH
3880: LD_VAR 0 2
3884: PUSH
3885: LD_INT 10
3887: MUL
3888: PUSH
3889: LD_INT 8
3891: MINUS
3892: PUSH
3893: LD_VAR 0 2
3897: PUSH
3898: LD_INT 10
3900: MUL
3901: PUSH
3902: LD_INT 7
3904: MINUS
3905: PUSH
3906: LD_VAR 0 2
3910: PUSH
3911: LD_INT 10
3913: MUL
3914: PUSH
3915: LD_INT 6
3917: MINUS
3918: PUSH
3919: LD_VAR 0 2
3923: PUSH
3924: LD_INT 10
3926: MUL
3927: PUSH
3928: LD_INT 5
3930: MINUS
3931: PUSH
3932: EMPTY
3933: LIST
3934: LIST
3935: LIST
3936: LIST
3937: ST_TO_ADDR
// br2 := [ 20 + side * 4 - 2 , 20 + side * 4 - 1 , 20 + side * 4 ] ;
3938: LD_ADDR_VAR 0 4
3942: PUSH
3943: LD_INT 20
3945: PUSH
3946: LD_VAR 0 2
3950: PUSH
3951: LD_INT 4
3953: MUL
3954: PLUS
3955: PUSH
3956: LD_INT 2
3958: MINUS
3959: PUSH
3960: LD_INT 20
3962: PUSH
3963: LD_VAR 0 2
3967: PUSH
3968: LD_INT 4
3970: MUL
3971: PLUS
3972: PUSH
3973: LD_INT 1
3975: MINUS
3976: PUSH
3977: LD_INT 20
3979: PUSH
3980: LD_VAR 0 2
3984: PUSH
3985: LD_INT 4
3987: MUL
3988: PLUS
3989: PUSH
3990: EMPTY
3991: LIST
3992: LIST
3993: LIST
3994: ST_TO_ADDR
// lab := side * 10 - 4 ;
3995: LD_ADDR_VAR 0 7
3999: PUSH
4000: LD_VAR 0 2
4004: PUSH
4005: LD_INT 10
4007: MUL
4008: PUSH
4009: LD_INT 4
4011: MINUS
4012: ST_TO_ADDR
// fac := side * 10 - 3 ;
4013: LD_ADDR_VAR 0 8
4017: PUSH
4018: LD_VAR 0 2
4022: PUSH
4023: LD_INT 10
4025: MUL
4026: PUSH
4027: LD_INT 3
4029: MINUS
4030: ST_TO_ADDR
// arm := side * 10 - 2 ;
4031: LD_ADDR_VAR 0 9
4035: PUSH
4036: LD_VAR 0 2
4040: PUSH
4041: LD_INT 10
4043: MUL
4044: PUSH
4045: LD_INT 2
4047: MINUS
4048: ST_TO_ADDR
// pplant := [ side * 10 - 1 , side * 10 ] ;
4049: LD_ADDR_VAR 0 10
4053: PUSH
4054: LD_VAR 0 2
4058: PUSH
4059: LD_INT 10
4061: MUL
4062: PUSH
4063: LD_INT 1
4065: MINUS
4066: PUSH
4067: LD_VAR 0 2
4071: PUSH
4072: LD_INT 10
4074: MUL
4075: PUSH
4076: EMPTY
4077: LIST
4078: LIST
4079: ST_TO_ADDR
// depots_def := depots_def ^ [ [ [ GetX ( dep1 ) , GetY ( dep1 ) , GetDir ( dep1 ) ] , [ GetX ( dep2 ) , GetY ( dep2 ) , GetDir ( dep2 ) ] ] ] ;
4080: LD_ADDR_EXP 49
4084: PUSH
4085: LD_EXP 49
4089: PUSH
4090: LD_VAR 0 5
4094: PPUSH
4095: CALL_OW 250
4099: PUSH
4100: LD_VAR 0 5
4104: PPUSH
4105: CALL_OW 251
4109: PUSH
4110: LD_VAR 0 5
4114: PPUSH
4115: CALL_OW 254
4119: PUSH
4120: EMPTY
4121: LIST
4122: LIST
4123: LIST
4124: PUSH
4125: LD_VAR 0 3
4129: PPUSH
4130: CALL_OW 250
4134: PUSH
4135: LD_VAR 0 3
4139: PPUSH
4140: CALL_OW 251
4144: PUSH
4145: LD_VAR 0 3
4149: PPUSH
4150: CALL_OW 254
4154: PUSH
4155: EMPTY
4156: LIST
4157: LIST
4158: LIST
4159: PUSH
4160: EMPTY
4161: LIST
4162: LIST
4163: PUSH
4164: EMPTY
4165: LIST
4166: ADD
4167: ST_TO_ADDR
// start_def := start_def ^ [ [ [ ShiftX ( GetX ( Dep1 ) , GetDir ( Dep1 ) mod 6 , 6 ) , ShiftY ( GetY ( Dep1 ) , GetDir ( Dep1 ) mod 6 , 6 ) ] , [ ShiftX ( GetX ( Dep2 ) , GetDir ( Dep2 ) mod 6 , 6 ) , ShiftY ( GetY ( Dep2 ) , GetDir ( Dep2 ) mod 6 , 6 ) ] ] ] ;
4168: LD_ADDR_EXP 48
4172: PUSH
4173: LD_EXP 48
4177: PUSH
4178: LD_VAR 0 5
4182: PPUSH
4183: CALL_OW 250
4187: PPUSH
4188: LD_VAR 0 5
4192: PPUSH
4193: CALL_OW 254
4197: PUSH
4198: LD_INT 6
4200: MOD
4201: PPUSH
4202: LD_INT 6
4204: PPUSH
4205: CALL_OW 272
4209: PUSH
4210: LD_VAR 0 5
4214: PPUSH
4215: CALL_OW 251
4219: PPUSH
4220: LD_VAR 0 5
4224: PPUSH
4225: CALL_OW 254
4229: PUSH
4230: LD_INT 6
4232: MOD
4233: PPUSH
4234: LD_INT 6
4236: PPUSH
4237: CALL_OW 273
4241: PUSH
4242: EMPTY
4243: LIST
4244: LIST
4245: PUSH
4246: LD_VAR 0 3
4250: PPUSH
4251: CALL_OW 250
4255: PPUSH
4256: LD_VAR 0 3
4260: PPUSH
4261: CALL_OW 254
4265: PUSH
4266: LD_INT 6
4268: MOD
4269: PPUSH
4270: LD_INT 6
4272: PPUSH
4273: CALL_OW 272
4277: PUSH
4278: LD_VAR 0 3
4282: PPUSH
4283: CALL_OW 251
4287: PPUSH
4288: LD_VAR 0 3
4292: PPUSH
4293: CALL_OW 254
4297: PUSH
4298: LD_INT 6
4300: MOD
4301: PPUSH
4302: LD_INT 6
4304: PPUSH
4305: CALL_OW 273
4309: PUSH
4310: EMPTY
4311: LIST
4312: LIST
4313: PUSH
4314: EMPTY
4315: LIST
4316: LIST
4317: PUSH
4318: EMPTY
4319: LIST
4320: ADD
4321: ST_TO_ADDR
// breastworks_def := breastworks_def ^ [ [ [ [ GetX ( br1 [ 1 ] ) , GetY ( br1 [ 1 ] ) , GetDir ( br1 [ 1 ] ) ] , [ GetX ( br1 [ 2 ] ) , GetY ( br1 [ 2 ] ) , GetDir ( br1 [ 2 ] ) ] , [ GetX ( br1 [ 3 ] ) , GetY ( br1 [ 3 ] ) , GetDir ( br1 [ 3 ] ) ] , [ GetX ( br1 [ 4 ] ) , GetY ( br1 [ 4 ] ) , GetDir ( br1 [ 4 ] ) ] ] , [ [ GetX ( br2 [ 1 ] ) , GetY ( br2 [ 1 ] ) , GetDir ( br2 [ 1 ] ) ] , [ GetX ( br2 [ 2 ] ) , GetY ( br2 [ 2 ] ) , GetDir ( br2 [ 2 ] ) ] , [ GetX ( br2 [ 3 ] ) , GetY ( br2 [ 3 ] ) , GetDir ( br2 [ 3 ] ) ] ] ] ] ;
4322: LD_ADDR_EXP 50
4326: PUSH
4327: LD_EXP 50
4331: PUSH
4332: LD_VAR 0 6
4336: PUSH
4337: LD_INT 1
4339: ARRAY
4340: PPUSH
4341: CALL_OW 250
4345: PUSH
4346: LD_VAR 0 6
4350: PUSH
4351: LD_INT 1
4353: ARRAY
4354: PPUSH
4355: CALL_OW 251
4359: PUSH
4360: LD_VAR 0 6
4364: PUSH
4365: LD_INT 1
4367: ARRAY
4368: PPUSH
4369: CALL_OW 254
4373: PUSH
4374: EMPTY
4375: LIST
4376: LIST
4377: LIST
4378: PUSH
4379: LD_VAR 0 6
4383: PUSH
4384: LD_INT 2
4386: ARRAY
4387: PPUSH
4388: CALL_OW 250
4392: PUSH
4393: LD_VAR 0 6
4397: PUSH
4398: LD_INT 2
4400: ARRAY
4401: PPUSH
4402: CALL_OW 251
4406: PUSH
4407: LD_VAR 0 6
4411: PUSH
4412: LD_INT 2
4414: ARRAY
4415: PPUSH
4416: CALL_OW 254
4420: PUSH
4421: EMPTY
4422: LIST
4423: LIST
4424: LIST
4425: PUSH
4426: LD_VAR 0 6
4430: PUSH
4431: LD_INT 3
4433: ARRAY
4434: PPUSH
4435: CALL_OW 250
4439: PUSH
4440: LD_VAR 0 6
4444: PUSH
4445: LD_INT 3
4447: ARRAY
4448: PPUSH
4449: CALL_OW 251
4453: PUSH
4454: LD_VAR 0 6
4458: PUSH
4459: LD_INT 3
4461: ARRAY
4462: PPUSH
4463: CALL_OW 254
4467: PUSH
4468: EMPTY
4469: LIST
4470: LIST
4471: LIST
4472: PUSH
4473: LD_VAR 0 6
4477: PUSH
4478: LD_INT 4
4480: ARRAY
4481: PPUSH
4482: CALL_OW 250
4486: PUSH
4487: LD_VAR 0 6
4491: PUSH
4492: LD_INT 4
4494: ARRAY
4495: PPUSH
4496: CALL_OW 251
4500: PUSH
4501: LD_VAR 0 6
4505: PUSH
4506: LD_INT 4
4508: ARRAY
4509: PPUSH
4510: CALL_OW 254
4514: PUSH
4515: EMPTY
4516: LIST
4517: LIST
4518: LIST
4519: PUSH
4520: EMPTY
4521: LIST
4522: LIST
4523: LIST
4524: LIST
4525: PUSH
4526: LD_VAR 0 4
4530: PUSH
4531: LD_INT 1
4533: ARRAY
4534: PPUSH
4535: CALL_OW 250
4539: PUSH
4540: LD_VAR 0 4
4544: PUSH
4545: LD_INT 1
4547: ARRAY
4548: PPUSH
4549: CALL_OW 251
4553: PUSH
4554: LD_VAR 0 4
4558: PUSH
4559: LD_INT 1
4561: ARRAY
4562: PPUSH
4563: CALL_OW 254
4567: PUSH
4568: EMPTY
4569: LIST
4570: LIST
4571: LIST
4572: PUSH
4573: LD_VAR 0 4
4577: PUSH
4578: LD_INT 2
4580: ARRAY
4581: PPUSH
4582: CALL_OW 250
4586: PUSH
4587: LD_VAR 0 4
4591: PUSH
4592: LD_INT 2
4594: ARRAY
4595: PPUSH
4596: CALL_OW 251
4600: PUSH
4601: LD_VAR 0 4
4605: PUSH
4606: LD_INT 2
4608: ARRAY
4609: PPUSH
4610: CALL_OW 254
4614: PUSH
4615: EMPTY
4616: LIST
4617: LIST
4618: LIST
4619: PUSH
4620: LD_VAR 0 4
4624: PUSH
4625: LD_INT 3
4627: ARRAY
4628: PPUSH
4629: CALL_OW 250
4633: PUSH
4634: LD_VAR 0 4
4638: PUSH
4639: LD_INT 3
4641: ARRAY
4642: PPUSH
4643: CALL_OW 251
4647: PUSH
4648: LD_VAR 0 4
4652: PUSH
4653: LD_INT 3
4655: ARRAY
4656: PPUSH
4657: CALL_OW 254
4661: PUSH
4662: EMPTY
4663: LIST
4664: LIST
4665: LIST
4666: PUSH
4667: EMPTY
4668: LIST
4669: LIST
4670: LIST
4671: PUSH
4672: EMPTY
4673: LIST
4674: LIST
4675: PUSH
4676: EMPTY
4677: LIST
4678: ADD
4679: ST_TO_ADDR
// labs_def := labs_def ^ [ [ [ GetX ( lab ) , GetY ( lab ) , GetDir ( lab ) ] , [ ] ] ] ;
4680: LD_ADDR_EXP 51
4684: PUSH
4685: LD_EXP 51
4689: PUSH
4690: LD_VAR 0 7
4694: PPUSH
4695: CALL_OW 250
4699: PUSH
4700: LD_VAR 0 7
4704: PPUSH
4705: CALL_OW 251
4709: PUSH
4710: LD_VAR 0 7
4714: PPUSH
4715: CALL_OW 254
4719: PUSH
4720: EMPTY
4721: LIST
4722: LIST
4723: LIST
4724: PUSH
4725: EMPTY
4726: PUSH
4727: EMPTY
4728: LIST
4729: LIST
4730: PUSH
4731: EMPTY
4732: LIST
4733: ADD
4734: ST_TO_ADDR
// factories_def := factories_def ^ [ [ [ GetX ( fac ) , GetY ( fac ) , GetDir ( fac ) ] , [ ] ] ] ;
4735: LD_ADDR_EXP 52
4739: PUSH
4740: LD_EXP 52
4744: PUSH
4745: LD_VAR 0 8
4749: PPUSH
4750: CALL_OW 250
4754: PUSH
4755: LD_VAR 0 8
4759: PPUSH
4760: CALL_OW 251
4764: PUSH
4765: LD_VAR 0 8
4769: PPUSH
4770: CALL_OW 254
4774: PUSH
4775: EMPTY
4776: LIST
4777: LIST
4778: LIST
4779: PUSH
4780: EMPTY
4781: PUSH
4782: EMPTY
4783: LIST
4784: LIST
4785: PUSH
4786: EMPTY
4787: LIST
4788: ADD
4789: ST_TO_ADDR
// armories_def := armories_def ^ [ [ [ GetX ( arm ) , GetY ( arm ) , GetDir ( arm ) ] , [ ] ] ] ;
4790: LD_ADDR_EXP 53
4794: PUSH
4795: LD_EXP 53
4799: PUSH
4800: LD_VAR 0 9
4804: PPUSH
4805: CALL_OW 250
4809: PUSH
4810: LD_VAR 0 9
4814: PPUSH
4815: CALL_OW 251
4819: PUSH
4820: LD_VAR 0 9
4824: PPUSH
4825: CALL_OW 254
4829: PUSH
4830: EMPTY
4831: LIST
4832: LIST
4833: LIST
4834: PUSH
4835: EMPTY
4836: PUSH
4837: EMPTY
4838: LIST
4839: LIST
4840: PUSH
4841: EMPTY
4842: LIST
4843: ADD
4844: ST_TO_ADDR
// pplants_def := pplants_def ^ [ [ [ [ GetX ( pplant [ 1 ] ) , GetY ( pplant [ 1 ] ) , GetDir ( pplant [ 1 ] ) ] , [ GetX ( pplant [ 2 ] ) , GetY ( pplant [ 2 ] ) , GetDir ( pplant [ 2 ] ) ] ] , [ ] ] ] ;
4845: LD_ADDR_EXP 54
4849: PUSH
4850: LD_EXP 54
4854: PUSH
4855: LD_VAR 0 10
4859: PUSH
4860: LD_INT 1
4862: ARRAY
4863: PPUSH
4864: CALL_OW 250
4868: PUSH
4869: LD_VAR 0 10
4873: PUSH
4874: LD_INT 1
4876: ARRAY
4877: PPUSH
4878: CALL_OW 251
4882: PUSH
4883: LD_VAR 0 10
4887: PUSH
4888: LD_INT 1
4890: ARRAY
4891: PPUSH
4892: CALL_OW 254
4896: PUSH
4897: EMPTY
4898: LIST
4899: LIST
4900: LIST
4901: PUSH
4902: LD_VAR 0 10
4906: PUSH
4907: LD_INT 2
4909: ARRAY
4910: PPUSH
4911: CALL_OW 250
4915: PUSH
4916: LD_VAR 0 10
4920: PUSH
4921: LD_INT 2
4923: ARRAY
4924: PPUSH
4925: CALL_OW 251
4929: PUSH
4930: LD_VAR 0 10
4934: PUSH
4935: LD_INT 2
4937: ARRAY
4938: PPUSH
4939: CALL_OW 254
4943: PUSH
4944: EMPTY
4945: LIST
4946: LIST
4947: LIST
4948: PUSH
4949: EMPTY
4950: LIST
4951: LIST
4952: PUSH
4953: EMPTY
4954: PUSH
4955: EMPTY
4956: LIST
4957: LIST
4958: PUSH
4959: EMPTY
4960: LIST
4961: ADD
4962: ST_TO_ADDR
// end ;
4963: GO 3832
4965: POP
4966: POP
// for un := 1 to 28 do
4967: LD_ADDR_VAR 0 11
4971: PUSH
4972: DOUBLE
4973: LD_INT 1
4975: DEC
4976: ST_TO_ADDR
4977: LD_INT 28
4979: PUSH
4980: FOR_TO
4981: IFFALSE 4994
// DestroyUnit ( un ) ;
4983: LD_VAR 0 11
4987: PPUSH
4988: CALL_OW 65
4992: GO 4980
4994: POP
4995: POP
// end ;
4996: LD_VAR 0 1
5000: RET
// function prepare_people ( count , cl , x , y , r , building ) ; var i , j , un ; begin
5001: LD_INT 0
5003: PPUSH
5004: PPUSH
5005: PPUSH
5006: PPUSH
// result := [ ] ;
5007: LD_ADDR_VAR 0 7
5011: PUSH
5012: EMPTY
5013: ST_TO_ADDR
// for i := 1 to count do
5014: LD_ADDR_VAR 0 8
5018: PUSH
5019: DOUBLE
5020: LD_INT 1
5022: DEC
5023: ST_TO_ADDR
5024: LD_VAR 0 1
5028: PUSH
5029: FOR_TO
5030: IFFALSE 5448
// begin uc_direction := Rand ( 0 , 5 ) ;
5032: LD_ADDR_OWVAR 24
5036: PUSH
5037: LD_INT 0
5039: PPUSH
5040: LD_INT 5
5042: PPUSH
5043: CALL_OW 12
5047: ST_TO_ADDR
// if commander then
5048: LD_LOC 1
5052: IFFALSE 5161
// begin hc_name := mp_sides_players_names [ uc_side ] ;
5054: LD_ADDR_OWVAR 26
5058: PUSH
5059: LD_OWVAR 19
5063: PUSH
5064: LD_OWVAR 20
5068: ARRAY
5069: ST_TO_ADDR
// PrepareHuman ( Rand ( 1 , 2 ) , cl , initial_level + 2 ) ;
5070: LD_INT 1
5072: PPUSH
5073: LD_INT 2
5075: PPUSH
5076: CALL_OW 12
5080: PPUSH
5081: LD_VAR 0 2
5085: PPUSH
5086: LD_EXP 29
5090: PUSH
5091: LD_INT 2
5093: PLUS
5094: PPUSH
5095: CALL_OW 380
// hc_importance := 105 ;
5099: LD_ADDR_OWVAR 32
5103: PUSH
5104: LD_INT 105
5106: ST_TO_ADDR
// commander := false ;
5107: LD_ADDR_LOC 1
5111: PUSH
5112: LD_INT 0
5114: ST_TO_ADDR
// if Multiplayer then
5115: LD_OWVAR 4
5119: IFFALSE 5159
// begin hc_gallery := MULTIAVATARS ;
5121: LD_ADDR_OWVAR 33
5125: PUSH
5126: LD_STRING MULTIAVATARS
5128: ST_TO_ADDR
// hc_face_number := Multiplayer_GetPlayerSideNum ( uc_side ) ;
5129: LD_ADDR_OWVAR 34
5133: PUSH
5134: LD_OWVAR 20
5138: PPUSH
5139: CALL_OW 525
5143: ST_TO_ADDR
// hc_sex := Multiplayer_GetPlayerSex ( uc_side ) ;
5144: LD_ADDR_OWVAR 27
5148: PUSH
5149: LD_OWVAR 20
5153: PPUSH
5154: CALL_OW 526
5158: ST_TO_ADDR
// end ; end else
5159: GO 5224
// begin hc_name :=  ;
5161: LD_ADDR_OWVAR 26
5165: PUSH
5166: LD_STRING 
5168: ST_TO_ADDR
// PrepareHuman ( rand ( 1 , 2 ) , cl , initial_level ) ;
5169: LD_INT 1
5171: PPUSH
5172: LD_INT 2
5174: PPUSH
5175: CALL_OW 12
5179: PPUSH
5180: LD_VAR 0 2
5184: PPUSH
5185: LD_EXP 29
5189: PPUSH
5190: CALL_OW 380
// hc_importance := 0 ;
5194: LD_ADDR_OWVAR 32
5198: PUSH
5199: LD_INT 0
5201: ST_TO_ADDR
// if Multiplayer then
5202: LD_OWVAR 4
5206: IFFALSE 5224
// begin hc_gallery :=  ;
5208: LD_ADDR_OWVAR 33
5212: PUSH
5213: LD_STRING 
5215: ST_TO_ADDR
// hc_face_number := 0 ;
5216: LD_ADDR_OWVAR 34
5220: PUSH
5221: LD_INT 0
5223: ST_TO_ADDR
// end ; end ; un := CreateHuman ;
5224: LD_ADDR_VAR 0 10
5228: PUSH
5229: CALL_OW 44
5233: ST_TO_ADDR
// if global_defined then
5234: LD_LOC 3
5238: IFFALSE 5378
// begin if ( cl = class_soldier ) then
5240: LD_VAR 0 2
5244: PUSH
5245: LD_INT 1
5247: EQUAL
5248: IFFALSE 5268
// j := i + soldiers_created else
5250: LD_ADDR_VAR 0 9
5254: PUSH
5255: LD_VAR 0 8
5259: PUSH
5260: LD_LOC 4
5264: PLUS
5265: ST_TO_ADDR
5266: GO 5278
// j := i ;
5268: LD_ADDR_VAR 0 9
5272: PUSH
5273: LD_VAR 0 8
5277: ST_TO_ADDR
// CopySkills ( global_units [ cl ] [ j ] , un ) ;
5278: LD_LOC 2
5282: PUSH
5283: LD_VAR 0 2
5287: ARRAY
5288: PUSH
5289: LD_VAR 0 9
5293: ARRAY
5294: PPUSH
5295: LD_VAR 0 10
5299: PPUSH
5300: CALL_OW 510
// SetAttr ( un , attr_speed , GetAttr ( global_units [ cl ] [ j ] , attr_speed ) ) ;
5304: LD_VAR 0 10
5308: PPUSH
5309: LD_INT 2
5311: PPUSH
5312: LD_LOC 2
5316: PUSH
5317: LD_VAR 0 2
5321: ARRAY
5322: PUSH
5323: LD_VAR 0 9
5327: ARRAY
5328: PPUSH
5329: LD_INT 2
5331: PPUSH
5332: CALL_OW 260
5336: PPUSH
5337: CALL_OW 239
// SetAttr ( un , attr_stamina , GetAttr ( global_units [ cl ] [ j ] , attr_stamina ) ) ;
5341: LD_VAR 0 10
5345: PPUSH
5346: LD_INT 1
5348: PPUSH
5349: LD_LOC 2
5353: PUSH
5354: LD_VAR 0 2
5358: ARRAY
5359: PUSH
5360: LD_VAR 0 9
5364: ARRAY
5365: PPUSH
5366: LD_INT 1
5368: PPUSH
5369: CALL_OW 260
5373: PPUSH
5374: CALL_OW 239
// end ; if building then
5378: LD_VAR 0 6
5382: IFFALSE 5400
// PlaceHumanInUnit ( un , building ) else
5384: LD_VAR 0 10
5388: PPUSH
5389: LD_VAR 0 6
5393: PPUSH
5394: CALL_OW 52
5398: GO 5427
// PlaceUnitXYR ( un , x , y , r , false ) ;
5400: LD_VAR 0 10
5404: PPUSH
5405: LD_VAR 0 3
5409: PPUSH
5410: LD_VAR 0 4
5414: PPUSH
5415: LD_VAR 0 5
5419: PPUSH
5420: LD_INT 0
5422: PPUSH
5423: CALL_OW 50
// result := result ^ [ un ] ;
5427: LD_ADDR_VAR 0 7
5431: PUSH
5432: LD_VAR 0 7
5436: PUSH
5437: LD_VAR 0 10
5441: PUSH
5442: EMPTY
5443: LIST
5444: ADD
5445: ST_TO_ADDR
// end ;
5446: GO 5029
5448: POP
5449: POP
// if not global_defined then
5450: LD_LOC 3
5454: NOT
5455: IFFALSE 5533
// if ( global_units >= cl ) then
5457: LD_LOC 2
5461: PUSH
5462: LD_VAR 0 2
5466: GREATEREQUAL
5467: IFFALSE 5508
// global_units := Replace ( global_units , cl , global_units [ cl ] ^ result ) else
5469: LD_ADDR_LOC 2
5473: PUSH
5474: LD_LOC 2
5478: PPUSH
5479: LD_VAR 0 2
5483: PPUSH
5484: LD_LOC 2
5488: PUSH
5489: LD_VAR 0 2
5493: ARRAY
5494: PUSH
5495: LD_VAR 0 7
5499: ADD
5500: PPUSH
5501: CALL_OW 1
5505: ST_TO_ADDR
5506: GO 5533
// global_units := Replace ( global_units , cl , result ) ;
5508: LD_ADDR_LOC 2
5512: PUSH
5513: LD_LOC 2
5517: PPUSH
5518: LD_VAR 0 2
5522: PPUSH
5523: LD_VAR 0 7
5527: PPUSH
5528: CALL_OW 1
5532: ST_TO_ADDR
// if commander then
5533: LD_LOC 1
5537: IFFALSE 5584
// begin heroes = replace ( heroes , uc_side , heroes [ uc_side ] ^ un ) ;
5539: LD_ADDR_EXP 56
5543: PUSH
5544: LD_EXP 56
5548: PPUSH
5549: LD_OWVAR 20
5553: PPUSH
5554: LD_EXP 56
5558: PUSH
5559: LD_OWVAR 20
5563: ARRAY
5564: PUSH
5565: LD_VAR 0 10
5569: ADD
5570: PPUSH
5571: CALL_OW 1
5575: ST_TO_ADDR
// commander := false ;
5576: LD_ADDR_LOC 1
5580: PUSH
5581: LD_INT 0
5583: ST_TO_ADDR
// end ; end ;
5584: LD_VAR 0 7
5588: RET
// function prepare_side_base ( side , base ) ; var pos , x , y , dir , i , r , un , br , dep , lab , fact , arm , mode , coord , max ; begin
5589: LD_INT 0
5591: PPUSH
5592: PPUSH
5593: PPUSH
5594: PPUSH
5595: PPUSH
5596: PPUSH
5597: PPUSH
5598: PPUSH
5599: PPUSH
5600: PPUSH
5601: PPUSH
5602: PPUSH
5603: PPUSH
5604: PPUSH
5605: PPUSH
5606: PPUSH
// if side in [ 0 , 9 ] then
5607: LD_VAR 0 1
5611: PUSH
5612: LD_INT 0
5614: PUSH
5615: LD_INT 9
5617: PUSH
5618: EMPTY
5619: LIST
5620: LIST
5621: IN
5622: IFFALSE 5626
// exit ;
5624: GO 8295
// pos := Side_Positions [ side ] ;
5626: LD_ADDR_VAR 0 4
5630: PUSH
5631: LD_EXP 43
5635: PUSH
5636: LD_VAR 0 1
5640: ARRAY
5641: ST_TO_ADDR
// uc_nation := Side_Nations [ side ] ;
5642: LD_ADDR_OWVAR 21
5646: PUSH
5647: LD_EXP 44
5651: PUSH
5652: LD_VAR 0 1
5656: ARRAY
5657: ST_TO_ADDR
// uc_side := side ;
5658: LD_ADDR_OWVAR 20
5662: PUSH
5663: LD_VAR 0 1
5667: ST_TO_ADDR
// x := depots_def [ pos ] [ base ] [ 1 ] ;
5668: LD_ADDR_VAR 0 5
5672: PUSH
5673: LD_EXP 49
5677: PUSH
5678: LD_VAR 0 4
5682: ARRAY
5683: PUSH
5684: LD_VAR 0 2
5688: ARRAY
5689: PUSH
5690: LD_INT 1
5692: ARRAY
5693: ST_TO_ADDR
// y := depots_def [ pos ] [ base ] [ 2 ] ;
5694: LD_ADDR_VAR 0 6
5698: PUSH
5699: LD_EXP 49
5703: PUSH
5704: LD_VAR 0 4
5708: ARRAY
5709: PUSH
5710: LD_VAR 0 2
5714: ARRAY
5715: PUSH
5716: LD_INT 2
5718: ARRAY
5719: ST_TO_ADDR
// dir := depots_def [ pos ] [ base ] [ 3 ] ;
5720: LD_ADDR_VAR 0 7
5724: PUSH
5725: LD_EXP 49
5729: PUSH
5730: LD_VAR 0 4
5734: ARRAY
5735: PUSH
5736: LD_VAR 0 2
5740: ARRAY
5741: PUSH
5742: LD_INT 3
5744: ARRAY
5745: ST_TO_ADDR
// if is_depot [ base ] then
5746: LD_EXP 20
5750: PUSH
5751: LD_VAR 0 2
5755: ARRAY
5756: IFFALSE 5933
// begin if is_depot [ base ] = 1 then
5758: LD_EXP 20
5762: PUSH
5763: LD_VAR 0 2
5767: ARRAY
5768: PUSH
5769: LD_INT 1
5771: EQUAL
5772: IFFALSE 5784
// bc_type = b_depot else
5774: LD_ADDR_OWVAR 42
5778: PUSH
5779: LD_INT 0
5781: ST_TO_ADDR
5782: GO 5792
// bc_type = b_warehouse ;
5784: LD_ADDR_OWVAR 42
5788: PUSH
5789: LD_INT 1
5791: ST_TO_ADDR
// dep := CreateAndPlaceBuildingXYD ( x , y , dir ) ;
5792: LD_ADDR_VAR 0 12
5796: PUSH
5797: LD_VAR 0 5
5801: PPUSH
5802: LD_VAR 0 6
5806: PPUSH
5807: LD_VAR 0 7
5811: PPUSH
5812: CALL_OW 47
5816: ST_TO_ADDR
// SetBName ( dep , @ & side ) ;
5817: LD_VAR 0 12
5821: PPUSH
5822: LD_STRING @
5824: PUSH
5825: LD_VAR 0 1
5829: STR
5830: PPUSH
5831: CALL_OW 500
// SetResourceType ( GetBase ( dep ) , mat_cans , starting_resources [ base ] [ mat_cans ] ) ;
5835: LD_VAR 0 12
5839: PPUSH
5840: CALL_OW 274
5844: PPUSH
5845: LD_INT 1
5847: PPUSH
5848: LD_EXP 31
5852: PUSH
5853: LD_VAR 0 2
5857: ARRAY
5858: PUSH
5859: LD_INT 1
5861: ARRAY
5862: PPUSH
5863: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_oil , starting_resources [ base ] [ mat_oil ] ) ;
5867: LD_VAR 0 12
5871: PPUSH
5872: CALL_OW 274
5876: PPUSH
5877: LD_INT 2
5879: PPUSH
5880: LD_EXP 31
5884: PUSH
5885: LD_VAR 0 2
5889: ARRAY
5890: PUSH
5891: LD_INT 2
5893: ARRAY
5894: PPUSH
5895: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_siberit , starting_resources [ base ] [ mat_siberit ] ) ;
5899: LD_VAR 0 12
5903: PPUSH
5904: CALL_OW 274
5908: PPUSH
5909: LD_INT 3
5911: PPUSH
5912: LD_EXP 31
5916: PUSH
5917: LD_VAR 0 2
5921: ARRAY
5922: PUSH
5923: LD_INT 3
5925: ARRAY
5926: PPUSH
5927: CALL_OW 277
// end else
5931: GO 6083
// begin for i := 1 to 3 do
5933: LD_ADDR_VAR 0 8
5937: PUSH
5938: DOUBLE
5939: LD_INT 1
5941: DEC
5942: ST_TO_ADDR
5943: LD_INT 3
5945: PUSH
5946: FOR_TO
5947: IFFALSE 6081
// begin r := starting_resources [ base ] [ i ] ;
5949: LD_ADDR_VAR 0 9
5953: PUSH
5954: LD_EXP 31
5958: PUSH
5959: LD_VAR 0 2
5963: ARRAY
5964: PUSH
5965: LD_VAR 0 8
5969: ARRAY
5970: ST_TO_ADDR
// while r >= 10 do
5971: LD_VAR 0 9
5975: PUSH
5976: LD_INT 10
5978: GREATEREQUAL
5979: IFFALSE 6079
// if r > 50 then
5981: LD_VAR 0 9
5985: PUSH
5986: LD_INT 50
5988: GREATER
5989: IFFALSE 6035
// begin CreateResourcesXYR ( i , 5 , x , y , 4 , false ) ;
5991: LD_VAR 0 8
5995: PPUSH
5996: LD_INT 5
5998: PPUSH
5999: LD_VAR 0 5
6003: PPUSH
6004: LD_VAR 0 6
6008: PPUSH
6009: LD_INT 4
6011: PPUSH
6012: LD_INT 0
6014: PPUSH
6015: CALL_OW 60
// r := r - 50 ;
6019: LD_ADDR_VAR 0 9
6023: PUSH
6024: LD_VAR 0 9
6028: PUSH
6029: LD_INT 50
6031: MINUS
6032: ST_TO_ADDR
// end else
6033: GO 6077
// begin CreateResourcesXYR ( i , r div 10 , x , y , 4 , false ) ;
6035: LD_VAR 0 8
6039: PPUSH
6040: LD_VAR 0 9
6044: PUSH
6045: LD_INT 10
6047: DIV
6048: PPUSH
6049: LD_VAR 0 5
6053: PPUSH
6054: LD_VAR 0 6
6058: PPUSH
6059: LD_INT 4
6061: PPUSH
6062: LD_INT 0
6064: PPUSH
6065: CALL_OW 60
// r := 0 ;
6069: LD_ADDR_VAR 0 9
6073: PUSH
6074: LD_INT 0
6076: ST_TO_ADDR
// end ;
6077: GO 5971
// end ;
6079: GO 5946
6081: POP
6082: POP
// end ; if is_lab [ base ] then
6083: LD_EXP 24
6087: PUSH
6088: LD_VAR 0 2
6092: ARRAY
6093: IFFALSE 6234
// begin if is_lab [ base ] = 1 then
6095: LD_EXP 24
6099: PUSH
6100: LD_VAR 0 2
6104: ARRAY
6105: PUSH
6106: LD_INT 1
6108: EQUAL
6109: IFFALSE 6137
// begin bc_type = b_lab ;
6111: LD_ADDR_OWVAR 42
6115: PUSH
6116: LD_INT 6
6118: ST_TO_ADDR
// bc_kind1 = b_lab_basic ;
6119: LD_ADDR_OWVAR 44
6123: PUSH
6124: LD_INT 9
6126: ST_TO_ADDR
// bc_kind2 = b_lab_basic ;
6127: LD_ADDR_OWVAR 45
6131: PUSH
6132: LD_INT 9
6134: ST_TO_ADDR
// end else
6135: GO 6161
// begin bc_type = b_lab_full ;
6137: LD_ADDR_OWVAR 42
6141: PUSH
6142: LD_INT 8
6144: ST_TO_ADDR
// bc_kind1 = b_lab_siberium ;
6145: LD_ADDR_OWVAR 44
6149: PUSH
6150: LD_INT 11
6152: ST_TO_ADDR
// bc_kind2 = b_lab_weapon ;
6153: LD_ADDR_OWVAR 45
6157: PUSH
6158: LD_INT 10
6160: ST_TO_ADDR
// end ; lab := CreateAndPlaceBuildingXYD ( labs_def [ pos ] [ base ] [ 1 ] , labs_def [ pos ] [ base ] [ 2 ] , labs_def [ pos ] [ base ] [ 3 ] ) ;
6161: LD_ADDR_VAR 0 13
6165: PUSH
6166: LD_EXP 51
6170: PUSH
6171: LD_VAR 0 4
6175: ARRAY
6176: PUSH
6177: LD_VAR 0 2
6181: ARRAY
6182: PUSH
6183: LD_INT 1
6185: ARRAY
6186: PPUSH
6187: LD_EXP 51
6191: PUSH
6192: LD_VAR 0 4
6196: ARRAY
6197: PUSH
6198: LD_VAR 0 2
6202: ARRAY
6203: PUSH
6204: LD_INT 2
6206: ARRAY
6207: PPUSH
6208: LD_EXP 51
6212: PUSH
6213: LD_VAR 0 4
6217: ARRAY
6218: PUSH
6219: LD_VAR 0 2
6223: ARRAY
6224: PUSH
6225: LD_INT 3
6227: ARRAY
6228: PPUSH
6229: CALL_OW 47
6233: ST_TO_ADDR
// end ; if is_fact [ base ] then
6234: LD_EXP 25
6238: PUSH
6239: LD_VAR 0 2
6243: ARRAY
6244: IFFALSE 6353
// begin if is_fact [ base ] = 1 then
6246: LD_EXP 25
6250: PUSH
6251: LD_VAR 0 2
6255: ARRAY
6256: PUSH
6257: LD_INT 1
6259: EQUAL
6260: IFFALSE 6272
// bc_type = b_workshop else
6262: LD_ADDR_OWVAR 42
6266: PUSH
6267: LD_INT 2
6269: ST_TO_ADDR
6270: GO 6280
// bc_type = b_factory ;
6272: LD_ADDR_OWVAR 42
6276: PUSH
6277: LD_INT 3
6279: ST_TO_ADDR
// fact := CreateAndPlaceBuildingXYD ( factories_def [ pos ] [ base ] [ 1 ] , factories_def [ pos ] [ base ] [ 2 ] , factories_def [ pos ] [ base ] [ 3 ] ) ;
6280: LD_ADDR_VAR 0 14
6284: PUSH
6285: LD_EXP 52
6289: PUSH
6290: LD_VAR 0 4
6294: ARRAY
6295: PUSH
6296: LD_VAR 0 2
6300: ARRAY
6301: PUSH
6302: LD_INT 1
6304: ARRAY
6305: PPUSH
6306: LD_EXP 52
6310: PUSH
6311: LD_VAR 0 4
6315: ARRAY
6316: PUSH
6317: LD_VAR 0 2
6321: ARRAY
6322: PUSH
6323: LD_INT 2
6325: ARRAY
6326: PPUSH
6327: LD_EXP 52
6331: PUSH
6332: LD_VAR 0 4
6336: ARRAY
6337: PUSH
6338: LD_VAR 0 2
6342: ARRAY
6343: PUSH
6344: LD_INT 3
6346: ARRAY
6347: PPUSH
6348: CALL_OW 47
6352: ST_TO_ADDR
// end ; if is_arm [ base ] then
6353: LD_EXP 26
6357: PUSH
6358: LD_VAR 0 2
6362: ARRAY
6363: IFFALSE 6472
// begin if is_arm [ base ] = 1 then
6365: LD_EXP 26
6369: PUSH
6370: LD_VAR 0 2
6374: ARRAY
6375: PUSH
6376: LD_INT 1
6378: EQUAL
6379: IFFALSE 6391
// bc_type = b_armoury else
6381: LD_ADDR_OWVAR 42
6385: PUSH
6386: LD_INT 4
6388: ST_TO_ADDR
6389: GO 6399
// bc_type = b_barracks ;
6391: LD_ADDR_OWVAR 42
6395: PUSH
6396: LD_INT 5
6398: ST_TO_ADDR
// arm := CreateAndPlaceBuildingXYD ( armories_def [ pos ] [ base ] [ 1 ] , armories_def [ pos ] [ base ] [ 2 ] , armories_def [ pos ] [ base ] [ 3 ] ) ;
6399: LD_ADDR_VAR 0 15
6403: PUSH
6404: LD_EXP 53
6408: PUSH
6409: LD_VAR 0 4
6413: ARRAY
6414: PUSH
6415: LD_VAR 0 2
6419: ARRAY
6420: PUSH
6421: LD_INT 1
6423: ARRAY
6424: PPUSH
6425: LD_EXP 53
6429: PUSH
6430: LD_VAR 0 4
6434: ARRAY
6435: PUSH
6436: LD_VAR 0 2
6440: ARRAY
6441: PUSH
6442: LD_INT 2
6444: ARRAY
6445: PPUSH
6446: LD_EXP 53
6450: PUSH
6451: LD_VAR 0 4
6455: ARRAY
6456: PUSH
6457: LD_VAR 0 2
6461: ARRAY
6462: PUSH
6463: LD_INT 3
6465: ARRAY
6466: PPUSH
6467: CALL_OW 47
6471: ST_TO_ADDR
// end ; for i := 1 to number_of_pplants [ base ] do
6472: LD_ADDR_VAR 0 8
6476: PUSH
6477: DOUBLE
6478: LD_INT 1
6480: DEC
6481: ST_TO_ADDR
6482: LD_EXP 22
6486: PUSH
6487: LD_VAR 0 2
6491: ARRAY
6492: PUSH
6493: FOR_TO
6494: IFFALSE 6591
// begin bc_type = b_oil_power ;
6496: LD_ADDR_OWVAR 42
6500: PUSH
6501: LD_INT 26
6503: ST_TO_ADDR
// CreateAndPlaceBuildingXYD ( pplants_def [ pos ] [ base ] [ i ] [ 1 ] , pplants_def [ pos ] [ base ] [ i ] [ 2 ] , pplants_def [ pos ] [ base ] [ i ] [ 3 ] ) ;
6504: LD_EXP 54
6508: PUSH
6509: LD_VAR 0 4
6513: ARRAY
6514: PUSH
6515: LD_VAR 0 2
6519: ARRAY
6520: PUSH
6521: LD_VAR 0 8
6525: ARRAY
6526: PUSH
6527: LD_INT 1
6529: ARRAY
6530: PPUSH
6531: LD_EXP 54
6535: PUSH
6536: LD_VAR 0 4
6540: ARRAY
6541: PUSH
6542: LD_VAR 0 2
6546: ARRAY
6547: PUSH
6548: LD_VAR 0 8
6552: ARRAY
6553: PUSH
6554: LD_INT 2
6556: ARRAY
6557: PPUSH
6558: LD_EXP 54
6562: PUSH
6563: LD_VAR 0 4
6567: ARRAY
6568: PUSH
6569: LD_VAR 0 2
6573: ARRAY
6574: PUSH
6575: LD_VAR 0 8
6579: ARRAY
6580: PUSH
6581: LD_INT 3
6583: ARRAY
6584: PPUSH
6585: CALL_OW 47
// end ;
6589: GO 6493
6591: POP
6592: POP
// for i := 1 to deposits [ base ] [ 1 ] do
6593: LD_ADDR_VAR 0 8
6597: PUSH
6598: DOUBLE
6599: LD_INT 1
6601: DEC
6602: ST_TO_ADDR
6603: LD_EXP 28
6607: PUSH
6608: LD_VAR 0 2
6612: ARRAY
6613: PUSH
6614: LD_INT 1
6616: ARRAY
6617: PUSH
6618: FOR_TO
6619: IFFALSE 6756
// begin coord := RandHexArea ( deposits_def [ pos ] [ base ] [ i ] , false ) ;
6621: LD_ADDR_VAR 0 17
6625: PUSH
6626: LD_EXP 55
6630: PUSH
6631: LD_VAR 0 4
6635: ARRAY
6636: PUSH
6637: LD_VAR 0 2
6641: ARRAY
6642: PUSH
6643: LD_VAR 0 8
6647: ARRAY
6648: PPUSH
6649: LD_INT 0
6651: PPUSH
6652: CALL_OW 16
6656: ST_TO_ADDR
// CreateDepositXY ( coord [ 1 ] , coord [ 2 ] , mat_oil ) ;
6657: LD_VAR 0 17
6661: PUSH
6662: LD_INT 1
6664: ARRAY
6665: PPUSH
6666: LD_VAR 0 17
6670: PUSH
6671: LD_INT 2
6673: ARRAY
6674: PPUSH
6675: LD_INT 2
6677: PPUSH
6678: CALL_OW 62
// if are_mines [ base ] then
6682: LD_EXP 23
6686: PUSH
6687: LD_VAR 0 2
6691: ARRAY
6692: IFFALSE 6754
// begin bc_type = b_oil_mine ;
6694: LD_ADDR_OWVAR 42
6698: PUSH
6699: LD_INT 29
6701: ST_TO_ADDR
// SetResourceVisibility ( coord [ 1 ] , coord [ 2 ] , uc_side ) ;
6702: LD_VAR 0 17
6706: PUSH
6707: LD_INT 1
6709: ARRAY
6710: PPUSH
6711: LD_VAR 0 17
6715: PUSH
6716: LD_INT 2
6718: ARRAY
6719: PPUSH
6720: LD_OWVAR 20
6724: PPUSH
6725: CALL_OW 441
// CreateAndPlaceBuildingXYD ( coord [ 1 ] , coord [ 2 ] , 0 ) ;
6729: LD_VAR 0 17
6733: PUSH
6734: LD_INT 1
6736: ARRAY
6737: PPUSH
6738: LD_VAR 0 17
6742: PUSH
6743: LD_INT 2
6745: ARRAY
6746: PPUSH
6747: LD_INT 0
6749: PPUSH
6750: CALL_OW 47
// end ; end ;
6754: GO 6618
6756: POP
6757: POP
// for i := 1 to deposits [ base ] [ 2 ] do
6758: LD_ADDR_VAR 0 8
6762: PUSH
6763: DOUBLE
6764: LD_INT 1
6766: DEC
6767: ST_TO_ADDR
6768: LD_EXP 28
6772: PUSH
6773: LD_VAR 0 2
6777: ARRAY
6778: PUSH
6779: LD_INT 2
6781: ARRAY
6782: PUSH
6783: FOR_TO
6784: IFFALSE 6943
// begin coord := RandHexArea ( deposits_def [ pos ] [ base ] [ i + deposits [ base ] [ 1 ] ] , false ) ;
6786: LD_ADDR_VAR 0 17
6790: PUSH
6791: LD_EXP 55
6795: PUSH
6796: LD_VAR 0 4
6800: ARRAY
6801: PUSH
6802: LD_VAR 0 2
6806: ARRAY
6807: PUSH
6808: LD_VAR 0 8
6812: PUSH
6813: LD_EXP 28
6817: PUSH
6818: LD_VAR 0 2
6822: ARRAY
6823: PUSH
6824: LD_INT 1
6826: ARRAY
6827: PLUS
6828: ARRAY
6829: PPUSH
6830: LD_INT 0
6832: PPUSH
6833: CALL_OW 16
6837: ST_TO_ADDR
// CreateDepositXY ( coord [ 1 ] , coord [ 2 ] , mat_siberit ) ;
6838: LD_VAR 0 17
6842: PUSH
6843: LD_INT 1
6845: ARRAY
6846: PPUSH
6847: LD_VAR 0 17
6851: PUSH
6852: LD_INT 2
6854: ARRAY
6855: PPUSH
6856: LD_INT 3
6858: PPUSH
6859: CALL_OW 62
// if are_mines [ base ] and def_siberite_detection then
6863: LD_EXP 23
6867: PUSH
6868: LD_VAR 0 2
6872: ARRAY
6873: PUSH
6874: LD_EXP 8
6878: AND
6879: IFFALSE 6941
// begin bc_type = b_siberite_mine ;
6881: LD_ADDR_OWVAR 42
6885: PUSH
6886: LD_INT 30
6888: ST_TO_ADDR
// SetResourceVisibility ( coord [ 1 ] , coord [ 2 ] , uc_side ) ;
6889: LD_VAR 0 17
6893: PUSH
6894: LD_INT 1
6896: ARRAY
6897: PPUSH
6898: LD_VAR 0 17
6902: PUSH
6903: LD_INT 2
6905: ARRAY
6906: PPUSH
6907: LD_OWVAR 20
6911: PPUSH
6912: CALL_OW 441
// CreateAndPlaceBuildingXYD ( coord [ 1 ] , coord [ 2 ] , 0 ) ;
6916: LD_VAR 0 17
6920: PUSH
6921: LD_INT 1
6923: ARRAY
6924: PPUSH
6925: LD_VAR 0 17
6929: PUSH
6930: LD_INT 2
6932: ARRAY
6933: PPUSH
6934: LD_INT 0
6936: PPUSH
6937: CALL_OW 47
// end ; end ;
6941: GO 6783
6943: POP
6944: POP
// x := start_def [ pos ] [ base ] [ 1 ] ;
6945: LD_ADDR_VAR 0 5
6949: PUSH
6950: LD_EXP 48
6954: PUSH
6955: LD_VAR 0 4
6959: ARRAY
6960: PUSH
6961: LD_VAR 0 2
6965: ARRAY
6966: PUSH
6967: LD_INT 1
6969: ARRAY
6970: ST_TO_ADDR
// y := start_def [ pos ] [ base ] [ 2 ] ;
6971: LD_ADDR_VAR 0 6
6975: PUSH
6976: LD_EXP 48
6980: PUSH
6981: LD_VAR 0 4
6985: ARRAY
6986: PUSH
6987: LD_VAR 0 2
6991: ARRAY
6992: PUSH
6993: LD_INT 2
6995: ARRAY
6996: ST_TO_ADDR
// if base = 1 then
6997: LD_VAR 0 2
7001: PUSH
7002: LD_INT 1
7004: EQUAL
7005: IFFALSE 7113
// if def_morale_flags then
7007: LD_EXP 14
7011: IFFALSE 7113
// SetBattleFlag ( side , x , y , [ [ bfo_defend_bonus_human , def_bf_params [ 1 ] ] , [ bfo_defend_bonus_vehicle , def_bf_params [ 2 ] ] , [ bfo_defend_bonus_building , def_bf_params [ 3 ] ] , [ bfo_range , 17 ] , [ bfo_height , def_bf_params [ 4 ] ] ] ) ;
7013: LD_VAR 0 1
7017: PPUSH
7018: LD_VAR 0 5
7022: PPUSH
7023: LD_VAR 0 6
7027: PPUSH
7028: LD_INT 1
7030: PUSH
7031: LD_EXP 36
7035: PUSH
7036: LD_INT 1
7038: ARRAY
7039: PUSH
7040: EMPTY
7041: LIST
7042: LIST
7043: PUSH
7044: LD_INT 2
7046: PUSH
7047: LD_EXP 36
7051: PUSH
7052: LD_INT 2
7054: ARRAY
7055: PUSH
7056: EMPTY
7057: LIST
7058: LIST
7059: PUSH
7060: LD_INT 3
7062: PUSH
7063: LD_EXP 36
7067: PUSH
7068: LD_INT 3
7070: ARRAY
7071: PUSH
7072: EMPTY
7073: LIST
7074: LIST
7075: PUSH
7076: LD_INT 10
7078: PUSH
7079: LD_INT 17
7081: PUSH
7082: EMPTY
7083: LIST
7084: LIST
7085: PUSH
7086: LD_INT 20
7088: PUSH
7089: LD_EXP 36
7093: PUSH
7094: LD_INT 4
7096: ARRAY
7097: PUSH
7098: EMPTY
7099: LIST
7100: LIST
7101: PUSH
7102: EMPTY
7103: LIST
7104: LIST
7105: LIST
7106: LIST
7107: LIST
7108: PPUSH
7109: CALL_OW 418
// if number_of_people [ base ] then
7113: LD_EXP 21
7117: PUSH
7118: LD_VAR 0 2
7122: ARRAY
7123: IFFALSE 7332
// begin if No_Mechs then
7125: LD_EXP 66
7129: IFFALSE 7141
// Mode := 2 else
7131: LD_ADDR_VAR 0 16
7135: PUSH
7136: LD_INT 2
7138: ST_TO_ADDR
7139: GO 7149
// Mode := 1 ;
7141: LD_ADDR_VAR 0 16
7145: PUSH
7146: LD_INT 1
7148: ST_TO_ADDR
// neng := number_of_people [ base ] ;
7149: LD_ADDR_LOC 5
7153: PUSH
7154: LD_EXP 21
7158: PUSH
7159: LD_VAR 0 2
7163: ARRAY
7164: ST_TO_ADDR
// nmech := neng div [ 4 , 3 ] [ Mode ] ;
7165: LD_ADDR_LOC 7
7169: PUSH
7170: LD_LOC 5
7174: PUSH
7175: LD_INT 4
7177: PUSH
7178: LD_INT 3
7180: PUSH
7181: EMPTY
7182: LIST
7183: LIST
7184: PUSH
7185: LD_VAR 0 16
7189: ARRAY
7190: DIV
7191: ST_TO_ADDR
// neng := neng - nmech ;
7192: LD_ADDR_LOC 5
7196: PUSH
7197: LD_LOC 5
7201: PUSH
7202: LD_LOC 7
7206: MINUS
7207: ST_TO_ADDR
// nsci := neng div [ 3 , 2 ] [ Mode ] ;
7208: LD_ADDR_LOC 6
7212: PUSH
7213: LD_LOC 5
7217: PUSH
7218: LD_INT 3
7220: PUSH
7221: LD_INT 2
7223: PUSH
7224: EMPTY
7225: LIST
7226: LIST
7227: PUSH
7228: LD_VAR 0 16
7232: ARRAY
7233: DIV
7234: ST_TO_ADDR
// if ( nsci < 1 ) then
7235: LD_LOC 6
7239: PUSH
7240: LD_INT 1
7242: LESS
7243: IFFALSE 7253
// nsci := 1 ;
7245: LD_ADDR_LOC 6
7249: PUSH
7250: LD_INT 1
7252: ST_TO_ADDR
// neng := neng - nsci ;
7253: LD_ADDR_LOC 5
7257: PUSH
7258: LD_LOC 5
7262: PUSH
7263: LD_LOC 6
7267: MINUS
7268: ST_TO_ADDR
// nsol := [ neng div 2 , 0 ] [ Mode ] ;
7269: LD_ADDR_LOC 8
7273: PUSH
7274: LD_LOC 5
7278: PUSH
7279: LD_INT 2
7281: DIV
7282: PUSH
7283: LD_INT 0
7285: PUSH
7286: EMPTY
7287: LIST
7288: LIST
7289: PUSH
7290: LD_VAR 0 16
7294: ARRAY
7295: ST_TO_ADDR
// neng := neng - nsol ;
7296: LD_ADDR_LOC 5
7300: PUSH
7301: LD_LOC 5
7305: PUSH
7306: LD_LOC 8
7310: MINUS
7311: ST_TO_ADDR
// if ( neng < 1 ) then
7312: LD_LOC 5
7316: PUSH
7317: LD_INT 1
7319: LESS
7320: IFFALSE 7330
// neng := 1 ;
7322: LD_ADDR_LOC 5
7326: PUSH
7327: LD_INT 1
7329: ST_TO_ADDR
// end else
7330: GO 7364
// begin neng := 0 ;
7332: LD_ADDR_LOC 5
7336: PUSH
7337: LD_INT 0
7339: ST_TO_ADDR
// nsci := 0 ;
7340: LD_ADDR_LOC 6
7344: PUSH
7345: LD_INT 0
7347: ST_TO_ADDR
// nmech := 0 ;
7348: LD_ADDR_LOC 7
7352: PUSH
7353: LD_INT 0
7355: ST_TO_ADDR
// nsol := 0 ;
7356: LD_ADDR_LOC 8
7360: PUSH
7361: LD_INT 0
7363: ST_TO_ADDR
// end ; commander := true ;
7364: LD_ADDR_LOC 1
7368: PUSH
7369: LD_INT 1
7371: ST_TO_ADDR
// soldiers_created := 0 ;
7372: LD_ADDR_LOC 4
7376: PUSH
7377: LD_INT 0
7379: ST_TO_ADDR
// for i := 1 to are_breastworks [ base ] do
7380: LD_ADDR_VAR 0 8
7384: PUSH
7385: DOUBLE
7386: LD_INT 1
7388: DEC
7389: ST_TO_ADDR
7390: LD_EXP 27
7394: PUSH
7395: LD_VAR 0 2
7399: ARRAY
7400: PUSH
7401: FOR_TO
7402: IFFALSE 7688
// begin if are_breastworks [ base ] [ i ] = 1 then
7404: LD_EXP 27
7408: PUSH
7409: LD_VAR 0 2
7413: ARRAY
7414: PUSH
7415: LD_VAR 0 8
7419: ARRAY
7420: PUSH
7421: LD_INT 1
7423: EQUAL
7424: IFFALSE 7436
// bc_type := b_breastwork else
7426: LD_ADDR_OWVAR 42
7430: PUSH
7431: LD_INT 31
7433: ST_TO_ADDR
7434: GO 7444
// bc_type := b_bunker ;
7436: LD_ADDR_OWVAR 42
7440: PUSH
7441: LD_INT 32
7443: ST_TO_ADDR
// x := breastworks_def [ pos ] [ base ] [ i ] [ 1 ] ;
7444: LD_ADDR_VAR 0 5
7448: PUSH
7449: LD_EXP 50
7453: PUSH
7454: LD_VAR 0 4
7458: ARRAY
7459: PUSH
7460: LD_VAR 0 2
7464: ARRAY
7465: PUSH
7466: LD_VAR 0 8
7470: ARRAY
7471: PUSH
7472: LD_INT 1
7474: ARRAY
7475: ST_TO_ADDR
// y := breastworks_def [ pos ] [ base ] [ i ] [ 2 ] ;
7476: LD_ADDR_VAR 0 6
7480: PUSH
7481: LD_EXP 50
7485: PUSH
7486: LD_VAR 0 4
7490: ARRAY
7491: PUSH
7492: LD_VAR 0 2
7496: ARRAY
7497: PUSH
7498: LD_VAR 0 8
7502: ARRAY
7503: PUSH
7504: LD_INT 2
7506: ARRAY
7507: ST_TO_ADDR
// dir := breastworks_def [ pos ] [ base ] [ i ] [ 3 ] ;
7508: LD_ADDR_VAR 0 7
7512: PUSH
7513: LD_EXP 50
7517: PUSH
7518: LD_VAR 0 4
7522: ARRAY
7523: PUSH
7524: LD_VAR 0 2
7528: ARRAY
7529: PUSH
7530: LD_VAR 0 8
7534: ARRAY
7535: PUSH
7536: LD_INT 3
7538: ARRAY
7539: ST_TO_ADDR
// br := CreateAndPlaceBuildingXYD ( x , y , dir ) ;
7540: LD_ADDR_VAR 0 11
7544: PUSH
7545: LD_VAR 0 5
7549: PPUSH
7550: LD_VAR 0 6
7554: PPUSH
7555: LD_VAR 0 7
7559: PPUSH
7560: CALL_OW 47
7564: ST_TO_ADDR
// if bc_type = b_bunker then
7565: LD_OWVAR 42
7569: PUSH
7570: LD_INT 32
7572: EQUAL
7573: IFFALSE 7650
// case uc_nation of nation_american :
7575: LD_OWVAR 21
7579: PUSH
7580: LD_INT 1
7582: DOUBLE
7583: EQUAL
7584: IFTRUE 7588
7586: GO 7603
7588: POP
// PlaceWeaponTurret ( br , us_machine_gun ) ; nation_arabian :
7589: LD_VAR 0 11
7593: PPUSH
7594: LD_INT 2
7596: PPUSH
7597: CALL_OW 431
7601: GO 7650
7603: LD_INT 2
7605: DOUBLE
7606: EQUAL
7607: IFTRUE 7611
7609: GO 7626
7611: POP
// PlaceWeaponTurret ( br , ar_double_machine_gun ) ; nation_russian :
7612: LD_VAR 0 11
7616: PPUSH
7617: LD_INT 24
7619: PPUSH
7620: CALL_OW 431
7624: GO 7650
7626: LD_INT 3
7628: DOUBLE
7629: EQUAL
7630: IFTRUE 7634
7632: GO 7649
7634: POP
// PlaceWeaponTurret ( br , ru_heavy_machine_gun ) ; end ;
7635: LD_VAR 0 11
7639: PPUSH
7640: LD_INT 42
7642: PPUSH
7643: CALL_OW 431
7647: GO 7650
7649: POP
// if i <= nsol then
7650: LD_VAR 0 8
7654: PUSH
7655: LD_LOC 8
7659: LESSEQUAL
7660: IFFALSE 7686
// prepare_people ( 1 , class_soldier , 0 , 0 , 0 , br ) ;
7662: LD_INT 1
7664: PPUSH
7665: LD_INT 1
7667: PPUSH
7668: LD_INT 0
7670: PPUSH
7671: LD_INT 0
7673: PPUSH
7674: LD_INT 0
7676: PPUSH
7677: LD_VAR 0 11
7681: PPUSH
7682: CALL 5001 0 6
// end ;
7686: GO 7401
7688: POP
7689: POP
// x := start_def [ pos ] [ base ] [ 1 ] ;
7690: LD_ADDR_VAR 0 5
7694: PUSH
7695: LD_EXP 48
7699: PUSH
7700: LD_VAR 0 4
7704: ARRAY
7705: PUSH
7706: LD_VAR 0 2
7710: ARRAY
7711: PUSH
7712: LD_INT 1
7714: ARRAY
7715: ST_TO_ADDR
// y := start_def [ pos ] [ base ] [ 2 ] ;
7716: LD_ADDR_VAR 0 6
7720: PUSH
7721: LD_EXP 48
7725: PUSH
7726: LD_VAR 0 4
7730: ARRAY
7731: PUSH
7732: LD_VAR 0 2
7736: ARRAY
7737: PUSH
7738: LD_INT 2
7740: ARRAY
7741: ST_TO_ADDR
// if nsol > are_breastworks [ base ] then
7742: LD_LOC 8
7746: PUSH
7747: LD_EXP 27
7751: PUSH
7752: LD_VAR 0 2
7756: ARRAY
7757: GREATER
7758: IFFALSE 7846
// if arm then
7760: LD_VAR 0 15
7764: IFFALSE 7806
// prepare_people ( nsol - are_breastworks [ base ] , class_soldier , 0 , 0 , 0 , arm ) else
7766: LD_LOC 8
7770: PUSH
7771: LD_EXP 27
7775: PUSH
7776: LD_VAR 0 2
7780: ARRAY
7781: MINUS
7782: PPUSH
7783: LD_INT 1
7785: PPUSH
7786: LD_INT 0
7788: PPUSH
7789: LD_INT 0
7791: PPUSH
7792: LD_INT 0
7794: PPUSH
7795: LD_VAR 0 15
7799: PPUSH
7800: CALL 5001 0 6
7804: GO 7846
// prepare_people ( nsol - are_breastworks [ base ] , class_soldier , x , y , 5 , 0 ) ;
7806: LD_LOC 8
7810: PUSH
7811: LD_EXP 27
7815: PUSH
7816: LD_VAR 0 2
7820: ARRAY
7821: MINUS
7822: PPUSH
7823: LD_INT 1
7825: PPUSH
7826: LD_VAR 0 5
7830: PPUSH
7831: LD_VAR 0 6
7835: PPUSH
7836: LD_INT 5
7838: PPUSH
7839: LD_INT 0
7841: PPUSH
7842: CALL 5001 0 6
// if dep then
7846: LD_VAR 0 12
7850: IFFALSE 7880
// prepare_people ( neng , class_engineer , 0 , 0 , 0 , dep ) else
7852: LD_LOC 5
7856: PPUSH
7857: LD_INT 2
7859: PPUSH
7860: LD_INT 0
7862: PPUSH
7863: LD_INT 0
7865: PPUSH
7866: LD_INT 0
7868: PPUSH
7869: LD_VAR 0 12
7873: PPUSH
7874: CALL 5001 0 6
7878: GO 7908
// prepare_people ( neng , class_engineer , x , y , 5 , 0 ) ;
7880: LD_LOC 5
7884: PPUSH
7885: LD_INT 2
7887: PPUSH
7888: LD_VAR 0 5
7892: PPUSH
7893: LD_VAR 0 6
7897: PPUSH
7898: LD_INT 5
7900: PPUSH
7901: LD_INT 0
7903: PPUSH
7904: CALL 5001 0 6
// if fact then
7908: LD_VAR 0 14
7912: IFFALSE 7942
// prepare_people ( nmech , class_mechanic , 0 , 0 , 0 , fact ) else
7914: LD_LOC 7
7918: PPUSH
7919: LD_INT 3
7921: PPUSH
7922: LD_INT 0
7924: PPUSH
7925: LD_INT 0
7927: PPUSH
7928: LD_INT 0
7930: PPUSH
7931: LD_VAR 0 14
7935: PPUSH
7936: CALL 5001 0 6
7940: GO 7970
// prepare_people ( nmech , class_mechanic , x , y , 5 , 0 ) ;
7942: LD_LOC 7
7946: PPUSH
7947: LD_INT 3
7949: PPUSH
7950: LD_VAR 0 5
7954: PPUSH
7955: LD_VAR 0 6
7959: PPUSH
7960: LD_INT 5
7962: PPUSH
7963: LD_INT 0
7965: PPUSH
7966: CALL 5001 0 6
// if lab then
7970: LD_VAR 0 13
7974: IFFALSE 8004
// prepare_people ( nsci , class_scientistic , 0 , 0 , 0 , lab ) else
7976: LD_LOC 6
7980: PPUSH
7981: LD_INT 4
7983: PPUSH
7984: LD_INT 0
7986: PPUSH
7987: LD_INT 0
7989: PPUSH
7990: LD_INT 0
7992: PPUSH
7993: LD_VAR 0 13
7997: PPUSH
7998: CALL 5001 0 6
8002: GO 8032
// prepare_people ( nsci , class_scientistic , x , y , 5 , 0 ) ;
8004: LD_LOC 6
8008: PPUSH
8009: LD_INT 4
8011: PPUSH
8012: LD_VAR 0 5
8016: PPUSH
8017: LD_VAR 0 6
8021: PPUSH
8022: LD_INT 5
8024: PPUSH
8025: LD_INT 0
8027: PPUSH
8028: CALL 5001 0 6
// max = 0 ;
8032: LD_ADDR_VAR 0 18
8036: PUSH
8037: LD_INT 0
8039: ST_TO_ADDR
// for un in FilterAllUnits ( [ [ f_side , side ] , [ f_type , unit_human ] ] ) do
8040: LD_ADDR_VAR 0 10
8044: PUSH
8045: LD_INT 22
8047: PUSH
8048: LD_VAR 0 1
8052: PUSH
8053: EMPTY
8054: LIST
8055: LIST
8056: PUSH
8057: LD_INT 21
8059: PUSH
8060: LD_INT 1
8062: PUSH
8063: EMPTY
8064: LIST
8065: LIST
8066: PUSH
8067: EMPTY
8068: LIST
8069: LIST
8070: PPUSH
8071: CALL_OW 69
8075: PUSH
8076: FOR_IN
8077: IFFALSE 8119
// begin if GetSkill ( un , skill_engineering ) > max then
8079: LD_VAR 0 10
8083: PPUSH
8084: LD_INT 2
8086: PPUSH
8087: CALL_OW 259
8091: PUSH
8092: LD_VAR 0 18
8096: GREATER
8097: IFFALSE 8117
// max := GetSkill ( un , skill_engineering ) ;
8099: LD_ADDR_VAR 0 18
8103: PUSH
8104: LD_VAR 0 10
8108: PPUSH
8109: LD_INT 2
8111: PPUSH
8112: CALL_OW 259
8116: ST_TO_ADDR
// end ;
8117: GO 8076
8119: POP
8120: POP
// SetBLevel ( FilterAllUnits ( [ [ f_side , side ] , [ f_type , unit_building ] ] ) , max ) ;
8121: LD_INT 22
8123: PUSH
8124: LD_VAR 0 1
8128: PUSH
8129: EMPTY
8130: LIST
8131: LIST
8132: PUSH
8133: LD_INT 21
8135: PUSH
8136: LD_INT 3
8138: PUSH
8139: EMPTY
8140: LIST
8141: LIST
8142: PUSH
8143: EMPTY
8144: LIST
8145: LIST
8146: PPUSH
8147: CALL_OW 69
8151: PPUSH
8152: LD_VAR 0 18
8156: PPUSH
8157: CALL_OW 241
// if def_siberite_detection and GetTech ( tech_sibdet , side ) = state_enabled then
8161: LD_EXP 8
8165: PUSH
8166: LD_INT 20
8168: PPUSH
8169: LD_VAR 0 1
8173: PPUSH
8174: CALL_OW 321
8178: PUSH
8179: LD_INT 1
8181: EQUAL
8182: AND
8183: IFFALSE 8200
// SetTech ( tech_SibDet , side , state_researched ) ;
8185: LD_INT 20
8187: PPUSH
8188: LD_VAR 0 1
8192: PPUSH
8193: LD_INT 2
8195: PPUSH
8196: CALL_OW 322
// if def_siberite_bomb = 1 then
8200: LD_EXP 15
8204: PUSH
8205: LD_INT 1
8207: EQUAL
8208: IFFALSE 8242
// begin SetTech ( tech_SibFiss , side , state_enabled ) ;
8210: LD_INT 25
8212: PPUSH
8213: LD_VAR 0 1
8217: PPUSH
8218: LD_INT 1
8220: PPUSH
8221: CALL_OW 322
// SetTech ( 73 , side , state_enabled ) ;
8225: LD_INT 73
8227: PPUSH
8228: LD_VAR 0 1
8232: PPUSH
8233: LD_INT 1
8235: PPUSH
8236: CALL_OW 322
// end else
8240: GO 8272
// begin SetTech ( tech_SibFiss , side , state_disabled ) ;
8242: LD_INT 25
8244: PPUSH
8245: LD_VAR 0 1
8249: PPUSH
8250: LD_INT 0
8252: PPUSH
8253: CALL_OW 322
// SetTech ( 73 , side , state_disabled ) ;
8257: LD_INT 73
8259: PPUSH
8260: LD_VAR 0 1
8264: PPUSH
8265: LD_INT 0
8267: PPUSH
8268: CALL_OW 322
// end ; SetTech ( tech_artifact , side , state_disabled ) ;
8272: LD_INT 24
8274: PPUSH
8275: LD_VAR 0 1
8279: PPUSH
8280: LD_INT 0
8282: PPUSH
8283: CALL_OW 322
// global_defined := true ;
8287: LD_ADDR_LOC 3
8291: PUSH
8292: LD_INT 1
8294: ST_TO_ADDR
// end ;
8295: LD_VAR 0 3
8299: RET
// every 0 0$1 do
8300: GO 8302
8302: DISABLE
// if ( def_siberite_bomb > 1 ) then
8303: LD_EXP 15
8307: PUSH
8308: LD_INT 1
8310: GREATER
8311: IFFALSE 8326
// begin wait ( siberite_bomb_Delay ) ;
8313: LD_EXP 38
8317: PPUSH
8318: CALL_OW 67
// EnableSibFiss ;
8322: CALL 8327 0 0
// end ;
8326: END
// function EnableSibFiss ; var i ; begin
8327: LD_INT 0
8329: PPUSH
8330: PPUSH
// for i := 1 to 8 do
8331: LD_ADDR_VAR 0 2
8335: PUSH
8336: DOUBLE
8337: LD_INT 1
8339: DEC
8340: ST_TO_ADDR
8341: LD_INT 8
8343: PUSH
8344: FOR_TO
8345: IFFALSE 8376
// if Side_Positions [ i ] then
8347: LD_EXP 43
8351: PUSH
8352: LD_VAR 0 2
8356: ARRAY
8357: IFFALSE 8374
// SetTech ( tech_SibFiss , i , state_enabled ) ;
8359: LD_INT 25
8361: PPUSH
8362: LD_VAR 0 2
8366: PPUSH
8367: LD_INT 1
8369: PPUSH
8370: CALL_OW 322
8374: GO 8344
8376: POP
8377: POP
// end ;
8378: LD_VAR 0 1
8382: RET
// function prepare_sides ; var i ; begin
8383: LD_INT 0
8385: PPUSH
8386: PPUSH
// global_units := [ ] ;
8387: LD_ADDR_LOC 2
8391: PUSH
8392: EMPTY
8393: ST_TO_ADDR
// global_defined := false ;
8394: LD_ADDR_LOC 3
8398: PUSH
8399: LD_INT 0
8401: ST_TO_ADDR
// for i := 1 to Side_Positions do
8402: LD_ADDR_VAR 0 2
8406: PUSH
8407: DOUBLE
8408: LD_INT 1
8410: DEC
8411: ST_TO_ADDR
8412: LD_EXP 43
8416: PUSH
8417: FOR_TO
8418: IFFALSE 8458
// if Side_Positions [ i ] then
8420: LD_EXP 43
8424: PUSH
8425: LD_VAR 0 2
8429: ARRAY
8430: IFFALSE 8456
// begin prepare_side_base ( i , 1 ) ;
8432: LD_VAR 0 2
8436: PPUSH
8437: LD_INT 1
8439: PPUSH
8440: CALL 5589 0 2
// prepare_side_base ( i , 2 ) ;
8444: LD_VAR 0 2
8448: PPUSH
8449: LD_INT 2
8451: PPUSH
8452: CALL 5589 0 2
// end ;
8456: GO 8417
8458: POP
8459: POP
// end ;
8460: LD_VAR 0 1
8464: RET
// starting begin disable ( 98 ) ;
8465: LD_INT 98
8467: DISABLE_MARKED
// disable ( 400 ) ;
8468: LD_INT 400
8470: DISABLE_MARKED
// disable ( 401 ) ;
8471: LD_INT 401
8473: DISABLE_MARKED
// disable ( 600 ) ;
8474: LD_INT 600
8476: DISABLE_MARKED
// enable_human_prediction := true ;
8477: LD_ADDR_OWVAR 51
8481: PUSH
8482: LD_INT 1
8484: ST_TO_ADDR
// mp_selectmsg := true ;
8485: LD_ADDR_OWVAR 13
8489: PUSH
8490: LD_INT 1
8492: ST_TO_ADDR
// read_multiplayer_and_game_parameters ;
8493: CALL 68 0 0
// prepare_map_coordinates ;
8497: CALL 3504 0 0
// ResetFog ;
8501: CALL_OW 335
// ClearAllFogForSide ( your_side ) ;
8505: LD_OWVAR 2
8509: PPUSH
8510: CALL_OW 520
// AnimateTrees ( true ) ;
8514: LD_INT 1
8516: PPUSH
8517: CALL_OW 573
// prepare_sides ;
8521: CALL 8383 0 0
// Init_Win_Condition ;
8525: CALL 15945 0 0
// InitLimits ;
8529: CALL 14007 0 0
// ShowTimer ;
8533: CALL 14944 0 0
// music_nat := Side_Nations [ your_side ] ;
8537: LD_ADDR_OWVAR 71
8541: PUSH
8542: LD_EXP 44
8546: PUSH
8547: LD_OWVAR 2
8551: ARRAY
8552: ST_TO_ADDR
// if IAmSpec then
8553: CALL_OW 531
8557: IFFALSE 8581
// begin fogoff ( true ) ;
8559: LD_INT 1
8561: PPUSH
8562: CALL_OW 344
// CenterNowOnXY ( 109 , 61 ) ;
8566: LD_INT 109
8568: PPUSH
8569: LD_INT 61
8571: PPUSH
8572: CALL_OW 86
// enable ( 400 ) ;
8576: LD_INT 400
8578: ENABLE_MARKED
// end else
8579: GO 8635
// begin CenterNowOnXY ( start_def [ Side_Positions [ your_side ] ] [ 1 ] [ 1 ] , start_def [ Side_Positions [ your_side ] ] [ 1 ] [ 2 ] ) ;
8581: LD_EXP 48
8585: PUSH
8586: LD_EXP 43
8590: PUSH
8591: LD_OWVAR 2
8595: ARRAY
8596: ARRAY
8597: PUSH
8598: LD_INT 1
8600: ARRAY
8601: PUSH
8602: LD_INT 1
8604: ARRAY
8605: PPUSH
8606: LD_EXP 48
8610: PUSH
8611: LD_EXP 43
8615: PUSH
8616: LD_OWVAR 2
8620: ARRAY
8621: ARRAY
8622: PUSH
8623: LD_INT 1
8625: ARRAY
8626: PUSH
8627: LD_INT 2
8629: ARRAY
8630: PPUSH
8631: CALL_OW 86
// end ; InitApeman ;
8635: CALL 10044 0 0
// BuildUpAreas := [ BuildUp1 , BuildUp2 ] ;
8639: LD_ADDR_EXP 69
8643: PUSH
8644: LD_INT 26
8646: PUSH
8647: LD_INT 27
8649: PUSH
8650: EMPTY
8651: LIST
8652: LIST
8653: ST_TO_ADDR
// BeginBuildUp ;
8654: CALL 15108 0 0
// end ; end_of_file
8658: END
// every 1 1$0 + 0 0$0.3 do
8659: GO 8661
8661: DISABLE
// begin CreateCratesAnywhere ( Rand ( 4 , 5 ) , true ) ;
8662: LD_INT 4
8664: PPUSH
8665: LD_INT 5
8667: PPUSH
8668: CALL_OW 12
8672: PPUSH
8673: LD_INT 1
8675: PPUSH
8676: CALL_OW 57
// enable ;
8680: ENABLE
// end ;
8681: END
// every 0 0$1 + 0 0$0.6 do var i , amount ;
8682: GO 8684
8684: DISABLE
8685: LD_INT 0
8687: PPUSH
8688: PPUSH
// begin case tick of 1 .. 1 1$0 :
8689: LD_OWVAR 1
8693: PUSH
8694: LD_INT 1
8696: DOUBLE
8697: GREATEREQUAL
8698: IFFALSE 8706
8700: LD_INT 2100
8702: DOUBLE
8703: LESSEQUAL
8704: IFTRUE 8708
8706: GO 8736
8708: POP
// Wait ( shipments_density / 100 * Rand ( 0 0$10 , 0 0$20 ) ) ; 1 1$0 + 1 .. 5 5$0 :
8709: LD_EXP 32
8713: PUSH
8714: LD_INT 100
8716: DIVREAL
8717: PUSH
8718: LD_INT 350
8720: PPUSH
8721: LD_INT 700
8723: PPUSH
8724: CALL_OW 12
8728: MUL
8729: PPUSH
8730: CALL_OW 67
8734: GO 9038
8736: LD_INT 2100
8738: PUSH
8739: LD_INT 1
8741: PLUS
8742: DOUBLE
8743: GREATEREQUAL
8744: IFFALSE 8752
8746: LD_INT 10500
8748: DOUBLE
8749: LESSEQUAL
8750: IFTRUE 8754
8752: GO 8782
8754: POP
// Wait ( shipments_density / 100 * Rand ( 0 0$20 , 0 0$35 ) ) ; 5 5$0 + 1 .. 10 10$0 :
8755: LD_EXP 32
8759: PUSH
8760: LD_INT 100
8762: DIVREAL
8763: PUSH
8764: LD_INT 700
8766: PPUSH
8767: LD_INT 1225
8769: PPUSH
8770: CALL_OW 12
8774: MUL
8775: PPUSH
8776: CALL_OW 67
8780: GO 9038
8782: LD_INT 10500
8784: PUSH
8785: LD_INT 1
8787: PLUS
8788: DOUBLE
8789: GREATEREQUAL
8790: IFFALSE 8798
8792: LD_INT 21000
8794: DOUBLE
8795: LESSEQUAL
8796: IFTRUE 8800
8798: GO 8828
8800: POP
// Wait ( shipments_density / 100 * Rand ( 0 0$35 , 0 0$50 ) ) ; 10 10$0 + 1 .. 20 20$0 :
8801: LD_EXP 32
8805: PUSH
8806: LD_INT 100
8808: DIVREAL
8809: PUSH
8810: LD_INT 1225
8812: PPUSH
8813: LD_INT 1750
8815: PPUSH
8816: CALL_OW 12
8820: MUL
8821: PPUSH
8822: CALL_OW 67
8826: GO 9038
8828: LD_INT 21000
8830: PUSH
8831: LD_INT 1
8833: PLUS
8834: DOUBLE
8835: GREATEREQUAL
8836: IFFALSE 8844
8838: LD_INT 42000
8840: DOUBLE
8841: LESSEQUAL
8842: IFTRUE 8846
8844: GO 8874
8846: POP
// Wait ( shipments_density / 100 * Rand ( 0 0$50 , 1 1$10 ) ) ; 20 20$0 + 1 .. 30 30$0 :
8847: LD_EXP 32
8851: PUSH
8852: LD_INT 100
8854: DIVREAL
8855: PUSH
8856: LD_INT 1750
8858: PPUSH
8859: LD_INT 2450
8861: PPUSH
8862: CALL_OW 12
8866: MUL
8867: PPUSH
8868: CALL_OW 67
8872: GO 9038
8874: LD_INT 42000
8876: PUSH
8877: LD_INT 1
8879: PLUS
8880: DOUBLE
8881: GREATEREQUAL
8882: IFFALSE 8890
8884: LD_INT 63000
8886: DOUBLE
8887: LESSEQUAL
8888: IFTRUE 8892
8890: GO 8920
8892: POP
// Wait ( shipments_density / 100 * Rand ( 1 1$10 , 1 1$20 ) ) ; 30 30$0 + 1 .. 50 50$0 :
8893: LD_EXP 32
8897: PUSH
8898: LD_INT 100
8900: DIVREAL
8901: PUSH
8902: LD_INT 2450
8904: PPUSH
8905: LD_INT 2800
8907: PPUSH
8908: CALL_OW 12
8912: MUL
8913: PPUSH
8914: CALL_OW 67
8918: GO 9038
8920: LD_INT 63000
8922: PUSH
8923: LD_INT 1
8925: PLUS
8926: DOUBLE
8927: GREATEREQUAL
8928: IFFALSE 8936
8930: LD_INT 105000
8932: DOUBLE
8933: LESSEQUAL
8934: IFTRUE 8938
8936: GO 8966
8938: POP
// Wait ( shipments_density / 100 * Rand ( 1 1$20 , 1 1$35 ) ) ; 50 50$0 + 1 .. 300 300$0 :
8939: LD_EXP 32
8943: PUSH
8944: LD_INT 100
8946: DIVREAL
8947: PUSH
8948: LD_INT 2800
8950: PPUSH
8951: LD_INT 3325
8953: PPUSH
8954: CALL_OW 12
8958: MUL
8959: PPUSH
8960: CALL_OW 67
8964: GO 9038
8966: LD_INT 105000
8968: PUSH
8969: LD_INT 1
8971: PLUS
8972: DOUBLE
8973: GREATEREQUAL
8974: IFFALSE 8982
8976: LD_INT 630000
8978: DOUBLE
8979: LESSEQUAL
8980: IFTRUE 8984
8982: GO 9012
8984: POP
// Wait ( shipments_density / 100 * Rand ( 1 1$35 , 2 2$0 ) ) ; else
8985: LD_EXP 32
8989: PUSH
8990: LD_INT 100
8992: DIVREAL
8993: PUSH
8994: LD_INT 3325
8996: PPUSH
8997: LD_INT 4200
8999: PPUSH
9000: CALL_OW 12
9004: MUL
9005: PPUSH
9006: CALL_OW 67
9010: GO 9038
9012: POP
// Wait ( shipments_density / 100 * Rand ( 2 2$0 , 2 2$30 ) ) ; end ;
9013: LD_EXP 32
9017: PUSH
9018: LD_INT 100
9020: DIVREAL
9021: PUSH
9022: LD_INT 4200
9024: PPUSH
9025: LD_INT 5250
9027: PPUSH
9028: CALL_OW 12
9032: MUL
9033: PPUSH
9034: CALL_OW 67
// amount := Rand ( 3 , 5 ) ;
9038: LD_ADDR_VAR 0 2
9042: PUSH
9043: LD_INT 3
9045: PPUSH
9046: LD_INT 5
9048: PPUSH
9049: CALL_OW 12
9053: ST_TO_ADDR
// for i = 1 to 2 do
9054: LD_ADDR_VAR 0 1
9058: PUSH
9059: DOUBLE
9060: LD_INT 1
9062: DEC
9063: ST_TO_ADDR
9064: LD_INT 2
9066: PUSH
9067: FOR_TO
9068: IFFALSE 9095
// CreateCratesArea ( amount , BuildUpAreas [ i ] , true ) ;
9070: LD_VAR 0 2
9074: PPUSH
9075: LD_EXP 69
9079: PUSH
9080: LD_VAR 0 1
9084: ARRAY
9085: PPUSH
9086: LD_INT 1
9088: PPUSH
9089: CALL_OW 55
9093: GO 9067
9095: POP
9096: POP
// enable ;
9097: ENABLE
// end ;
9098: PPOPN 2
9100: END
// every 0 0$20 + 0 0$0.9 do var i , filter ;
9101: GO 9103
9103: DISABLE
9104: LD_INT 0
9106: PPUSH
9107: PPUSH
// begin if GetResourceArea ( Valley , mat_cans ) < ( ( 300 - shipments_density ) / 100 * 5 ) then
9108: LD_INT 12
9110: PPUSH
9111: LD_INT 1
9113: PPUSH
9114: CALL_OW 287
9118: PUSH
9119: LD_INT 300
9121: PUSH
9122: LD_EXP 32
9126: MINUS
9127: PUSH
9128: LD_INT 100
9130: DIVREAL
9131: PUSH
9132: LD_INT 5
9134: MUL
9135: LESS
9136: IFFALSE 9159
// CreateCratesArea ( Rand ( 3 , 5 ) , Valley , true ) ;
9138: LD_INT 3
9140: PPUSH
9141: LD_INT 5
9143: PPUSH
9144: CALL_OW 12
9148: PPUSH
9149: LD_INT 12
9151: PPUSH
9152: LD_INT 1
9154: PPUSH
9155: CALL_OW 55
// enable ;
9159: ENABLE
// end ; end_of_file
9160: PPOPN 2
9162: END
// on BuildingStarted ( b , u ) do begin if GetBType ( b ) in [ b_depot , b_warehouse ] then
9163: LD_VAR 0 1
9167: PPUSH
9168: CALL_OW 266
9172: PUSH
9173: LD_INT 0
9175: PUSH
9176: LD_INT 1
9178: PUSH
9179: EMPTY
9180: LIST
9181: LIST
9182: IN
9183: IFFALSE 9208
// SetBName ( b , @ & GetSide ( b ) ) ;
9185: LD_VAR 0 1
9189: PPUSH
9190: LD_STRING @
9192: PUSH
9193: LD_VAR 0 1
9197: PPUSH
9198: CALL_OW 255
9202: STR
9203: PPUSH
9204: CALL_OW 500
// if def_game_rules then
9208: LD_EXP 65
9212: IFFALSE 9249
// ExecuteLimits ( b , GetBType ( b ) , GetSide ( b ) , 0 , 1 ) ;
9214: LD_VAR 0 1
9218: PPUSH
9219: LD_VAR 0 1
9223: PPUSH
9224: CALL_OW 266
9228: PPUSH
9229: LD_VAR 0 1
9233: PPUSH
9234: CALL_OW 255
9238: PPUSH
9239: LD_INT 0
9241: PPUSH
9242: LD_INT 1
9244: PPUSH
9245: CALL 14408 0 5
// end ;
9249: PPOPN 2
9251: END
// on BuildingCaptured ( b , o , e ) do begin if GetBType ( b ) in [ b_depot , b_warehouse ] then
9252: LD_VAR 0 1
9256: PPUSH
9257: CALL_OW 266
9261: PUSH
9262: LD_INT 0
9264: PUSH
9265: LD_INT 1
9267: PUSH
9268: EMPTY
9269: LIST
9270: LIST
9271: IN
9272: IFFALSE 9297
// SetBName ( b , @ & GetSide ( b ) ) ;
9274: LD_VAR 0 1
9278: PPUSH
9279: LD_STRING @
9281: PUSH
9282: LD_VAR 0 1
9286: PPUSH
9287: CALL_OW 255
9291: STR
9292: PPUSH
9293: CALL_OW 500
// if def_game_rules then
9297: LD_EXP 65
9301: IFFALSE 9340
// ExecuteLimits ( b , GetBType ( b ) , GetSide ( b ) , o , 1 ) ;
9303: LD_VAR 0 1
9307: PPUSH
9308: LD_VAR 0 1
9312: PPUSH
9313: CALL_OW 266
9317: PPUSH
9318: LD_VAR 0 1
9322: PPUSH
9323: CALL_OW 255
9327: PPUSH
9328: LD_VAR 0 2
9332: PPUSH
9333: LD_INT 1
9335: PPUSH
9336: CALL 14408 0 5
// end ;
9340: PPOPN 3
9342: END
// on VehicleConstructed ( veh , fac ) do var side ;
9343: LD_INT 0
9345: PPUSH
// begin if GetControl ( veh ) = control_apeman then
9346: LD_VAR 0 1
9350: PPUSH
9351: CALL_OW 263
9355: PUSH
9356: LD_INT 5
9358: EQUAL
9359: IFFALSE 9501
// begin side := GetSide ( veh ) ;
9361: LD_ADDR_VAR 0 3
9365: PUSH
9366: LD_VAR 0 1
9370: PPUSH
9371: CALL_OW 255
9375: ST_TO_ADDR
// apemanPos := Replace ( apemanPos , side , UnitFilter ( apemanPos [ side ] , [ f_placed ] ) union FilterAllUnits ( [ [ f_side , side ] , [ f_or , [ f_control , control_apeman ] , [ f_class , class_apeman ] , [ f_class , class_apeman_soldier ] , [ f_class , class_apeman_engineer ] , [ f_class , class_apeman_kamikaze ] ] ] ) ) ;
9376: LD_ADDR_EXP 60
9380: PUSH
9381: LD_EXP 60
9385: PPUSH
9386: LD_VAR 0 3
9390: PPUSH
9391: LD_EXP 60
9395: PUSH
9396: LD_VAR 0 3
9400: ARRAY
9401: PPUSH
9402: LD_INT 52
9404: PUSH
9405: EMPTY
9406: LIST
9407: PPUSH
9408: CALL_OW 72
9412: PUSH
9413: LD_INT 22
9415: PUSH
9416: LD_VAR 0 3
9420: PUSH
9421: EMPTY
9422: LIST
9423: LIST
9424: PUSH
9425: LD_INT 2
9427: PUSH
9428: LD_INT 33
9430: PUSH
9431: LD_INT 5
9433: PUSH
9434: EMPTY
9435: LIST
9436: LIST
9437: PUSH
9438: LD_INT 25
9440: PUSH
9441: LD_INT 12
9443: PUSH
9444: EMPTY
9445: LIST
9446: LIST
9447: PUSH
9448: LD_INT 25
9450: PUSH
9451: LD_INT 15
9453: PUSH
9454: EMPTY
9455: LIST
9456: LIST
9457: PUSH
9458: LD_INT 25
9460: PUSH
9461: LD_INT 16
9463: PUSH
9464: EMPTY
9465: LIST
9466: LIST
9467: PUSH
9468: LD_INT 25
9470: PUSH
9471: LD_INT 17
9473: PUSH
9474: EMPTY
9475: LIST
9476: LIST
9477: PUSH
9478: EMPTY
9479: LIST
9480: LIST
9481: LIST
9482: LIST
9483: LIST
9484: LIST
9485: PUSH
9486: EMPTY
9487: LIST
9488: LIST
9489: PPUSH
9490: CALL_OW 69
9494: UNION
9495: PPUSH
9496: CALL_OW 1
9500: ST_TO_ADDR
// end ; end ;
9501: PPOPN 3
9503: END
// on UnitDestroyed ( j ) do var x , y , pos , dir ;
9504: LD_INT 0
9506: PPUSH
9507: PPUSH
9508: PPUSH
9509: PPUSH
// begin if GetClass ( j ) in [ class_apeman , class_apeman_soldier , class_apeman_kamikaze , class_apeman_engineer ] or GetControl ( j ) = control_apeman then
9510: LD_VAR 0 1
9514: PPUSH
9515: CALL_OW 257
9519: PUSH
9520: LD_INT 12
9522: PUSH
9523: LD_INT 15
9525: PUSH
9526: LD_INT 17
9528: PUSH
9529: LD_INT 16
9531: PUSH
9532: EMPTY
9533: LIST
9534: LIST
9535: LIST
9536: LIST
9537: IN
9538: PUSH
9539: LD_VAR 0 1
9543: PPUSH
9544: CALL_OW 263
9548: PUSH
9549: LD_INT 5
9551: EQUAL
9552: OR
9553: IFFALSE 9564
// ApeKilled ( j ) ;
9555: LD_VAR 0 1
9559: PPUSH
9560: CALL 10717 0 1
// if GetBType ( j ) in [ b_depot , b_warehouse ] then
9564: LD_VAR 0 1
9568: PPUSH
9569: CALL_OW 266
9573: PUSH
9574: LD_INT 0
9576: PUSH
9577: LD_INT 1
9579: PUSH
9580: EMPTY
9581: LIST
9582: LIST
9583: IN
9584: IFFALSE 9666
// begin pos := Side_Positions [ GetSide ( j ) ] ;
9586: LD_ADDR_VAR 0 4
9590: PUSH
9591: LD_EXP 43
9595: PUSH
9596: LD_VAR 0 1
9600: PPUSH
9601: CALL_OW 255
9605: ARRAY
9606: ST_TO_ADDR
// x := start_def [ pos ] [ 1 ] ;
9607: LD_ADDR_VAR 0 2
9611: PUSH
9612: LD_EXP 48
9616: PUSH
9617: LD_VAR 0 4
9621: ARRAY
9622: PUSH
9623: LD_INT 1
9625: ARRAY
9626: ST_TO_ADDR
// y := start_def [ pos ] [ 2 ] ;
9627: LD_ADDR_VAR 0 3
9631: PUSH
9632: LD_EXP 48
9636: PUSH
9637: LD_VAR 0 4
9641: ARRAY
9642: PUSH
9643: LD_INT 2
9645: ARRAY
9646: ST_TO_ADDR
// KillBattleFlag ( FindBattleFlag ( x , y ) ) ;
9647: LD_VAR 0 2
9651: PPUSH
9652: LD_VAR 0 3
9656: PPUSH
9657: CALL_OW 420
9661: PPUSH
9662: CALL_OW 419
// end ; if def_game_rules then
9666: LD_EXP 65
9670: IFFALSE 9769
// if ( GetType ( j ) = 3 ) then
9672: LD_VAR 0 1
9676: PPUSH
9677: CALL_OW 247
9681: PUSH
9682: LD_INT 3
9684: EQUAL
9685: IFFALSE 9725
// ExecuteLimits ( j , GetBType ( j ) , GetSide ( j ) , 0 , - 1 ) else
9687: LD_VAR 0 1
9691: PPUSH
9692: LD_VAR 0 1
9696: PPUSH
9697: CALL_OW 266
9701: PPUSH
9702: LD_VAR 0 1
9706: PPUSH
9707: CALL_OW 255
9711: PPUSH
9712: LD_INT 0
9714: PPUSH
9715: LD_INT 1
9717: NEG
9718: PPUSH
9719: CALL 14408 0 5
9723: GO 9769
// if ( GetChassis ( j ) = 25 ) then
9725: LD_VAR 0 1
9729: PPUSH
9730: CALL_OW 265
9734: PUSH
9735: LD_INT 25
9737: EQUAL
9738: IFFALSE 9769
// ExecuteLimits ( j , b_behemoth , GetSide ( j ) , 0 , - 1 ) ;
9740: LD_VAR 0 1
9744: PPUSH
9745: LD_INT 37
9747: PPUSH
9748: LD_VAR 0 1
9752: PPUSH
9753: CALL_OW 255
9757: PPUSH
9758: LD_INT 0
9760: PPUSH
9761: LD_INT 1
9763: NEG
9764: PPUSH
9765: CALL 14408 0 5
// end ;
9769: PPOPN 5
9771: END
// on VehicleCaptured ( j , i1 , o , i2 ) do begin if def_game_rules and ( GetChassis ( j ) = 25 ) then
9772: LD_EXP 65
9776: PUSH
9777: LD_VAR 0 1
9781: PPUSH
9782: CALL_OW 265
9786: PUSH
9787: LD_INT 25
9789: EQUAL
9790: AND
9791: IFFALSE 9823
// ExecuteLimits ( j , b_behemoth , GetSide ( j ) , o , 1 ) ;
9793: LD_VAR 0 1
9797: PPUSH
9798: LD_INT 37
9800: PPUSH
9801: LD_VAR 0 1
9805: PPUSH
9806: CALL_OW 255
9810: PPUSH
9811: LD_VAR 0 3
9815: PPUSH
9816: LD_INT 1
9818: PPUSH
9819: CALL 14408 0 5
// end ;
9823: PPOPN 4
9825: END
// on siberiterocketexploded ( un , x , y ) do SA_OnSiberiteRocketExploded ( un , x , y , Your_Side ) ; end_of_file
9826: LD_VAR 0 1
9830: PPUSH
9831: LD_VAR 0 2
9835: PPUSH
9836: LD_VAR 0 3
9840: PPUSH
9841: LD_OWVAR 2
9845: PPUSH
9846: CALL 15706 0 4
9850: PPOPN 3
9852: END
// every 20 20$00 trigger apemanNumber do
9853: LD_EXP 57
9857: IFFALSE 9890
9859: GO 9861
9861: DISABLE
// begin enable ;
9862: ENABLE
// if apeLevel >= 8 then
9863: LD_EXP 62
9867: PUSH
9868: LD_INT 8
9870: GREATEREQUAL
9871: IFFALSE 9876
// disable else
9873: DISABLE
9874: GO 9890
// apeLevel := apeLevel + 1 ;
9876: LD_ADDR_EXP 62
9880: PUSH
9881: LD_EXP 62
9885: PUSH
9886: LD_INT 1
9888: PLUS
9889: ST_TO_ADDR
// end ;
9890: END
// every 2 2$30 trigger apemanNumber < apemanLimit do var i , ape , pos , j ;
9891: LD_EXP 57
9895: PUSH
9896: LD_EXP 58
9900: LESS
9901: IFFALSE 10041
9903: GO 9905
9905: DISABLE
9906: LD_INT 0
9908: PPUSH
9909: PPUSH
9910: PPUSH
9911: PPUSH
// begin enable ;
9912: ENABLE
// for i := 1 to apemanPos do
9913: LD_ADDR_VAR 0 1
9917: PUSH
9918: DOUBLE
9919: LD_INT 1
9921: DEC
9922: ST_TO_ADDR
9923: LD_EXP 60
9927: PUSH
9928: FOR_TO
9929: IFFALSE 10039
// begin if apemanPlayerCount [ i ] then
9931: LD_EXP 61
9935: PUSH
9936: LD_VAR 0 1
9940: ARRAY
9941: IFFALSE 10037
// begin if apemanPlayerCount [ i ] > apemanPos [ i ] then
9943: LD_EXP 61
9947: PUSH
9948: LD_VAR 0 1
9952: ARRAY
9953: PUSH
9954: LD_EXP 60
9958: PUSH
9959: LD_VAR 0 1
9963: ARRAY
9964: GREATER
9965: IFFALSE 10037
// begin ape := PrepareApeman ;
9967: LD_ADDR_VAR 0 2
9971: PUSH
9972: CALL 10536 0 0
9976: ST_TO_ADDR
// PlaceUnitArea ( ape , apeAreas [ i ] , false ) ;
9977: LD_VAR 0 2
9981: PPUSH
9982: LD_EXP 63
9986: PUSH
9987: LD_VAR 0 1
9991: ARRAY
9992: PPUSH
9993: LD_INT 0
9995: PPUSH
9996: CALL_OW 49
// apemanPos := Replace ( apemanPos , i , apemanPos [ i ] union ape ) ;
10000: LD_ADDR_EXP 60
10004: PUSH
10005: LD_EXP 60
10009: PPUSH
10010: LD_VAR 0 1
10014: PPUSH
10015: LD_EXP 60
10019: PUSH
10020: LD_VAR 0 1
10024: ARRAY
10025: PUSH
10026: LD_VAR 0 2
10030: UNION
10031: PPUSH
10032: CALL_OW 1
10036: ST_TO_ADDR
// end ; end ; end ;
10037: GO 9928
10039: POP
10040: POP
// end ;
10041: PPOPN 4
10043: END
// export apemanNumber , apemanLimit , apemanPerPlayer , apemanPos , apemanPlayerCount , apeLevel , apeAreas ; export function InitApeman ; var i , playersAmount , j , ape , pos , _apeAreas ; begin
10044: LD_INT 0
10046: PPUSH
10047: PPUSH
10048: PPUSH
10049: PPUSH
10050: PPUSH
10051: PPUSH
10052: PPUSH
// playersAmount := 0 ;
10053: LD_ADDR_VAR 0 3
10057: PUSH
10058: LD_INT 0
10060: ST_TO_ADDR
// _apeAreas := [ Ar1Out3 , Ar2Out3 ] ;
10061: LD_ADDR_VAR 0 7
10065: PUSH
10066: LD_INT 24
10068: PUSH
10069: LD_INT 18
10071: PUSH
10072: EMPTY
10073: LIST
10074: LIST
10075: ST_TO_ADDR
// apeAreas := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
10076: LD_ADDR_EXP 63
10080: PUSH
10081: LD_INT 0
10083: PUSH
10084: LD_INT 0
10086: PUSH
10087: LD_INT 0
10089: PUSH
10090: LD_INT 0
10092: PUSH
10093: LD_INT 0
10095: PUSH
10096: LD_INT 0
10098: PUSH
10099: LD_INT 0
10101: PUSH
10102: LD_INT 0
10104: PUSH
10105: EMPTY
10106: LIST
10107: LIST
10108: LIST
10109: LIST
10110: LIST
10111: LIST
10112: LIST
10113: LIST
10114: ST_TO_ADDR
// for j = 1 to Side_Positions do
10115: LD_ADDR_VAR 0 4
10119: PUSH
10120: DOUBLE
10121: LD_INT 1
10123: DEC
10124: ST_TO_ADDR
10125: LD_EXP 43
10129: PUSH
10130: FOR_TO
10131: IFFALSE 10198
// if Side_Positions [ j ] then
10133: LD_EXP 43
10137: PUSH
10138: LD_VAR 0 4
10142: ARRAY
10143: IFFALSE 10196
// begin playersAmount := playersAmount + 1 ;
10145: LD_ADDR_VAR 0 3
10149: PUSH
10150: LD_VAR 0 3
10154: PUSH
10155: LD_INT 1
10157: PLUS
10158: ST_TO_ADDR
// apeAreas := Replace ( apeAreas , j , _apeAreas [ Side_Positions [ j ] ] ) ;
10159: LD_ADDR_EXP 63
10163: PUSH
10164: LD_EXP 63
10168: PPUSH
10169: LD_VAR 0 4
10173: PPUSH
10174: LD_VAR 0 7
10178: PUSH
10179: LD_EXP 43
10183: PUSH
10184: LD_VAR 0 4
10188: ARRAY
10189: ARRAY
10190: PPUSH
10191: CALL_OW 1
10195: ST_TO_ADDR
// end ;
10196: GO 10130
10198: POP
10199: POP
// apemanPerPlayer := 3 * amount_of_apemen ;
10200: LD_ADDR_EXP 59
10204: PUSH
10205: LD_INT 3
10207: PUSH
10208: LD_EXP 37
10212: MUL
10213: ST_TO_ADDR
// apemanNumber := playersAmount * apemanPerPlayer ;
10214: LD_ADDR_EXP 57
10218: PUSH
10219: LD_VAR 0 3
10223: PUSH
10224: LD_EXP 59
10228: MUL
10229: ST_TO_ADDR
// apemanLimit := apemanNumber ;
10230: LD_ADDR_EXP 58
10234: PUSH
10235: LD_EXP 57
10239: ST_TO_ADDR
// apemanPos := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
10240: LD_ADDR_EXP 60
10244: PUSH
10245: LD_INT 0
10247: PUSH
10248: LD_INT 0
10250: PUSH
10251: LD_INT 0
10253: PUSH
10254: LD_INT 0
10256: PUSH
10257: LD_INT 0
10259: PUSH
10260: LD_INT 0
10262: PUSH
10263: LD_INT 0
10265: PUSH
10266: LD_INT 0
10268: PUSH
10269: EMPTY
10270: LIST
10271: LIST
10272: LIST
10273: LIST
10274: LIST
10275: LIST
10276: LIST
10277: LIST
10278: ST_TO_ADDR
// apemanPlayerCount := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
10279: LD_ADDR_EXP 61
10283: PUSH
10284: LD_INT 0
10286: PUSH
10287: LD_INT 0
10289: PUSH
10290: LD_INT 0
10292: PUSH
10293: LD_INT 0
10295: PUSH
10296: LD_INT 0
10298: PUSH
10299: LD_INT 0
10301: PUSH
10302: LD_INT 0
10304: PUSH
10305: LD_INT 0
10307: PUSH
10308: EMPTY
10309: LIST
10310: LIST
10311: LIST
10312: LIST
10313: LIST
10314: LIST
10315: LIST
10316: LIST
10317: ST_TO_ADDR
// apeLevel := 1 ;
10318: LD_ADDR_EXP 62
10322: PUSH
10323: LD_INT 1
10325: ST_TO_ADDR
// if not apemanNumber then
10326: LD_EXP 57
10330: NOT
10331: IFFALSE 10335
// exit ;
10333: GO 10531
// for i := 1 to apemanPerPlayer do
10335: LD_ADDR_VAR 0 2
10339: PUSH
10340: DOUBLE
10341: LD_INT 1
10343: DEC
10344: ST_TO_ADDR
10345: LD_EXP 59
10349: PUSH
10350: FOR_TO
10351: IFFALSE 10529
// begin for j := 1 to Side_Positions do
10353: LD_ADDR_VAR 0 4
10357: PUSH
10358: DOUBLE
10359: LD_INT 1
10361: DEC
10362: ST_TO_ADDR
10363: LD_EXP 43
10367: PUSH
10368: FOR_TO
10369: IFFALSE 10525
// if Side_Positions [ j ] then
10371: LD_EXP 43
10375: PUSH
10376: LD_VAR 0 4
10380: ARRAY
10381: IFFALSE 10523
// begin pos := Side_Positions [ j ] ;
10383: LD_ADDR_VAR 0 6
10387: PUSH
10388: LD_EXP 43
10392: PUSH
10393: LD_VAR 0 4
10397: ARRAY
10398: ST_TO_ADDR
// apemanPlayerCount := Replace ( apemanPlayerCount , j , apemanPlayerCount [ j ] + 1 ) ;
10399: LD_ADDR_EXP 61
10403: PUSH
10404: LD_EXP 61
10408: PPUSH
10409: LD_VAR 0 4
10413: PPUSH
10414: LD_EXP 61
10418: PUSH
10419: LD_VAR 0 4
10423: ARRAY
10424: PUSH
10425: LD_INT 1
10427: PLUS
10428: PPUSH
10429: CALL_OW 1
10433: ST_TO_ADDR
// ape := PrepareApeman ;
10434: LD_ADDR_VAR 0 5
10438: PUSH
10439: CALL 10536 0 0
10443: ST_TO_ADDR
// apemanPos := Replace ( apemanPos , j , Replace ( apemanPos [ j ] , apemanPos [ j ] + 1 , ape ) ) ;
10444: LD_ADDR_EXP 60
10448: PUSH
10449: LD_EXP 60
10453: PPUSH
10454: LD_VAR 0 4
10458: PPUSH
10459: LD_EXP 60
10463: PUSH
10464: LD_VAR 0 4
10468: ARRAY
10469: PPUSH
10470: LD_EXP 60
10474: PUSH
10475: LD_VAR 0 4
10479: ARRAY
10480: PUSH
10481: LD_INT 1
10483: PLUS
10484: PPUSH
10485: LD_VAR 0 5
10489: PPUSH
10490: CALL_OW 1
10494: PPUSH
10495: CALL_OW 1
10499: ST_TO_ADDR
// PlaceUnitArea ( ape , apeAreas [ j ] , false ) ;
10500: LD_VAR 0 5
10504: PPUSH
10505: LD_EXP 63
10509: PUSH
10510: LD_VAR 0 4
10514: ARRAY
10515: PPUSH
10516: LD_INT 0
10518: PPUSH
10519: CALL_OW 49
// end ;
10523: GO 10368
10525: POP
10526: POP
// end ;
10527: GO 10350
10529: POP
10530: POP
// end ;
10531: LD_VAR 0 1
10535: RET
// export function PrepareApeman ; var bonus ; begin
10536: LD_INT 0
10538: PPUSH
10539: PPUSH
// uc_side := 0 ;
10540: LD_ADDR_OWVAR 20
10544: PUSH
10545: LD_INT 0
10547: ST_TO_ADDR
// uc_nation := 0 ;
10548: LD_ADDR_OWVAR 21
10552: PUSH
10553: LD_INT 0
10555: ST_TO_ADDR
// InitHc ;
10556: CALL_OW 19
// bonus := [ - 1 , 0 , 1 ] [ tick mod 3 + 1 ] ;
10560: LD_ADDR_VAR 0 2
10564: PUSH
10565: LD_INT 1
10567: NEG
10568: PUSH
10569: LD_INT 0
10571: PUSH
10572: LD_INT 1
10574: PUSH
10575: EMPTY
10576: LIST
10577: LIST
10578: LIST
10579: PUSH
10580: LD_OWVAR 1
10584: PUSH
10585: LD_INT 3
10587: MOD
10588: PUSH
10589: LD_INT 1
10591: PLUS
10592: ARRAY
10593: ST_TO_ADDR
// hc_class := class_apeman ;
10594: LD_ADDR_OWVAR 28
10598: PUSH
10599: LD_INT 12
10601: ST_TO_ADDR
// hc_gallery :=  ;
10602: LD_ADDR_OWVAR 33
10606: PUSH
10607: LD_STRING 
10609: ST_TO_ADDR
// hc_name :=  ;
10610: LD_ADDR_OWVAR 26
10614: PUSH
10615: LD_STRING 
10617: ST_TO_ADDR
// hc_skills := [ apeLevel + bonus , apeLevel + bonus , apeLevel + bonus , apeLevel + bonus ] ;
10618: LD_ADDR_OWVAR 31
10622: PUSH
10623: LD_EXP 62
10627: PUSH
10628: LD_VAR 0 2
10632: PLUS
10633: PUSH
10634: LD_EXP 62
10638: PUSH
10639: LD_VAR 0 2
10643: PLUS
10644: PUSH
10645: LD_EXP 62
10649: PUSH
10650: LD_VAR 0 2
10654: PLUS
10655: PUSH
10656: LD_EXP 62
10660: PUSH
10661: LD_VAR 0 2
10665: PLUS
10666: PUSH
10667: EMPTY
10668: LIST
10669: LIST
10670: LIST
10671: LIST
10672: ST_TO_ADDR
// hc_agressivity := 10 * bonus ;
10673: LD_ADDR_OWVAR 35
10677: PUSH
10678: LD_INT 10
10680: PUSH
10681: LD_VAR 0 2
10685: MUL
10686: ST_TO_ADDR
// hc_attr := [ 12 , 10 ] ;
10687: LD_ADDR_OWVAR 29
10691: PUSH
10692: LD_INT 12
10694: PUSH
10695: LD_INT 10
10697: PUSH
10698: EMPTY
10699: LIST
10700: LIST
10701: ST_TO_ADDR
// result := CreateHuman ;
10702: LD_ADDR_VAR 0 1
10706: PUSH
10707: CALL_OW 44
10711: ST_TO_ADDR
// end ;
10712: LD_VAR 0 1
10716: RET
// export function ApeKilled ( ape ) ; var side , i ; begin
10717: LD_INT 0
10719: PPUSH
10720: PPUSH
10721: PPUSH
// if not ape then
10722: LD_VAR 0 1
10726: NOT
10727: IFFALSE 10731
// exit ;
10729: GO 10856
// side := GetSide ( ape ) ;
10731: LD_ADDR_VAR 0 3
10735: PUSH
10736: LD_VAR 0 1
10740: PPUSH
10741: CALL_OW 255
10745: ST_TO_ADDR
// if not side then
10746: LD_VAR 0 3
10750: NOT
10751: IFFALSE 10805
// begin for i = 1 to apemanPos do
10753: LD_ADDR_VAR 0 4
10757: PUSH
10758: DOUBLE
10759: LD_INT 1
10761: DEC
10762: ST_TO_ADDR
10763: LD_EXP 60
10767: PUSH
10768: FOR_TO
10769: IFFALSE 10803
// if ape in apemanPos [ i ] then
10771: LD_VAR 0 1
10775: PUSH
10776: LD_EXP 60
10780: PUSH
10781: LD_VAR 0 4
10785: ARRAY
10786: IN
10787: IFFALSE 10801
// begin side := i ;
10789: LD_ADDR_VAR 0 3
10793: PUSH
10794: LD_VAR 0 4
10798: ST_TO_ADDR
// break ;
10799: GO 10803
// end ;
10801: GO 10768
10803: POP
10804: POP
// end ; apemanPos := Replace ( apemanPos , side , apemanPos [ side ] diff ape ) ;
10805: LD_ADDR_EXP 60
10809: PUSH
10810: LD_EXP 60
10814: PPUSH
10815: LD_VAR 0 3
10819: PPUSH
10820: LD_EXP 60
10824: PUSH
10825: LD_VAR 0 3
10829: ARRAY
10830: PUSH
10831: LD_VAR 0 1
10835: DIFF
10836: PPUSH
10837: CALL_OW 1
10841: ST_TO_ADDR
// apemanNumber := apemanNumber - 1 ;
10842: LD_ADDR_EXP 57
10846: PUSH
10847: LD_EXP 57
10851: PUSH
10852: LD_INT 1
10854: MINUS
10855: ST_TO_ADDR
// end ; end_of_file
10856: LD_VAR 0 2
10860: RET
// var free , free1 , free2 , new1 , new2 , arr1 , arr2 , seenby1 , seenby2 ; function displ_status ; var s1 , s2 ; begin
10861: LD_INT 0
10863: PPUSH
10864: PPUSH
10865: PPUSH
// if not def_people_arrivals then
10866: LD_EXP 11
10870: NOT
10871: IFFALSE 10875
// exit ;
10873: GO 11016
// if def_people_loyality then
10875: LD_EXP 12
10879: IFFALSE 10995
// begin s1 := [ #Multi1x1-InfoL , Side_Positions [ 1 ] , ( free1 + 0 ) ] ;
10881: LD_ADDR_VAR 0 2
10885: PUSH
10886: LD_STRING #Multi1x1-InfoL
10888: PUSH
10889: LD_EXP 43
10893: PUSH
10894: LD_INT 1
10896: ARRAY
10897: PUSH
10898: LD_LOC 10
10902: PUSH
10903: LD_INT 0
10905: PLUS
10906: PUSH
10907: EMPTY
10908: LIST
10909: LIST
10910: LIST
10911: ST_TO_ADDR
// s2 := [ #Multi1x1-InfoL , Side_Positions [ 2 ] , ( free2 + 0 ) ] ;
10912: LD_ADDR_VAR 0 3
10916: PUSH
10917: LD_STRING #Multi1x1-InfoL
10919: PUSH
10920: LD_EXP 43
10924: PUSH
10925: LD_INT 2
10927: ARRAY
10928: PUSH
10929: LD_LOC 11
10933: PUSH
10934: LD_INT 0
10936: PLUS
10937: PUSH
10938: EMPTY
10939: LIST
10940: LIST
10941: LIST
10942: ST_TO_ADDR
// if Side_Positions [ your_side ] <> 2 then
10943: LD_EXP 43
10947: PUSH
10948: LD_OWVAR 2
10952: ARRAY
10953: PUSH
10954: LD_INT 2
10956: NONEQUAL
10957: IFFALSE 10977
// ExtraStrings := s1 ^ s2 else
10959: LD_ADDR_EXP 67
10963: PUSH
10964: LD_VAR 0 2
10968: PUSH
10969: LD_VAR 0 3
10973: ADD
10974: ST_TO_ADDR
10975: GO 10993
// ExtraStrings := s2 ^ s1 ;
10977: LD_ADDR_EXP 67
10981: PUSH
10982: LD_VAR 0 3
10986: PUSH
10987: LD_VAR 0 2
10991: ADD
10992: ST_TO_ADDR
// end else
10993: GO 11016
// begin ExtraStrings := [ #Multi1x1-InfoNonL , ( free + 0 ) ] ;
10995: LD_ADDR_EXP 67
10999: PUSH
11000: LD_STRING #Multi1x1-InfoNonL
11002: PUSH
11003: LD_LOC 9
11007: PUSH
11008: LD_INT 0
11010: PLUS
11011: PUSH
11012: EMPTY
11013: LIST
11014: LIST
11015: ST_TO_ADDR
// end ; end ;
11016: LD_VAR 0 1
11020: RET
// every 0 0$1 do
11021: GO 11023
11023: DISABLE
// begin if not text_info then
11024: LD_EXP 34
11028: NOT
11029: IFFALSE 11033
// exit ;
11031: GO 11038
// displ_status ;
11033: CALL 10861 0 0
// enable ;
11037: ENABLE
// end ;
11038: END
// export function prepare_arrivals ; var i , ar , p1 , p2 , pom1 , pom2 ; begin
11039: LD_INT 0
11041: PPUSH
11042: PPUSH
11043: PPUSH
11044: PPUSH
11045: PPUSH
11046: PPUSH
11047: PPUSH
// arr1 := [ ] ;
11048: LD_ADDR_LOC 14
11052: PUSH
11053: EMPTY
11054: ST_TO_ADDR
// arr2 := [ ] ;
11055: LD_ADDR_LOC 15
11059: PUSH
11060: EMPTY
11061: ST_TO_ADDR
// for i := 1 to max_arriving_times do
11062: LD_ADDR_VAR 0 2
11066: PUSH
11067: DOUBLE
11068: LD_INT 1
11070: DEC
11071: ST_TO_ADDR
11072: LD_EXP 33
11076: PUSH
11077: FOR_TO
11078: IFFALSE 11614
// begin case rand ( 1 , 100 ) of 1 .. 45 :
11080: LD_INT 1
11082: PPUSH
11083: LD_INT 100
11085: PPUSH
11086: CALL_OW 12
11090: PUSH
11091: LD_INT 1
11093: DOUBLE
11094: GREATEREQUAL
11095: IFFALSE 11103
11097: LD_INT 45
11099: DOUBLE
11100: LESSEQUAL
11101: IFTRUE 11105
11103: GO 11312
11105: POP
// case rand ( 1 , 100 ) of 1 .. 10 :
11106: LD_INT 1
11108: PPUSH
11109: LD_INT 100
11111: PPUSH
11112: CALL_OW 12
11116: PUSH
11117: LD_INT 1
11119: DOUBLE
11120: GREATEREQUAL
11121: IFFALSE 11129
11123: LD_INT 10
11125: DOUBLE
11126: LESSEQUAL
11127: IFTRUE 11131
11129: GO 11149
11131: POP
// ar := [ Ar1Base1 , Ar2Base1 ] ; 11 .. 20 :
11132: LD_ADDR_VAR 0 3
11136: PUSH
11137: LD_INT 19
11139: PUSH
11140: LD_INT 15
11142: PUSH
11143: EMPTY
11144: LIST
11145: LIST
11146: ST_TO_ADDR
11147: GO 11310
11149: LD_INT 11
11151: DOUBLE
11152: GREATEREQUAL
11153: IFFALSE 11161
11155: LD_INT 20
11157: DOUBLE
11158: LESSEQUAL
11159: IFTRUE 11163
11161: GO 11181
11163: POP
// ar := [ Ar1Base2 , Ar2Base2 ] ; 21 .. 30 :
11164: LD_ADDR_VAR 0 3
11168: PUSH
11169: LD_INT 20
11171: PUSH
11172: LD_INT 14
11174: PUSH
11175: EMPTY
11176: LIST
11177: LIST
11178: ST_TO_ADDR
11179: GO 11310
11181: LD_INT 21
11183: DOUBLE
11184: GREATEREQUAL
11185: IFFALSE 11193
11187: LD_INT 30
11189: DOUBLE
11190: LESSEQUAL
11191: IFTRUE 11195
11193: GO 11213
11195: POP
// ar := [ Ar1Between , Ar2Between ] ; 31 .. 55 :
11196: LD_ADDR_VAR 0 3
11200: PUSH
11201: LD_INT 22
11203: PUSH
11204: LD_INT 16
11206: PUSH
11207: EMPTY
11208: LIST
11209: LIST
11210: ST_TO_ADDR
11211: GO 11310
11213: LD_INT 31
11215: DOUBLE
11216: GREATEREQUAL
11217: IFFALSE 11225
11219: LD_INT 55
11221: DOUBLE
11222: LESSEQUAL
11223: IFTRUE 11227
11225: GO 11245
11227: POP
// ar := [ Ar1Out2 , Ar2Out2 ] ; 56 .. 80 :
11228: LD_ADDR_VAR 0 3
11232: PUSH
11233: LD_INT 23
11235: PUSH
11236: LD_INT 17
11238: PUSH
11239: EMPTY
11240: LIST
11241: LIST
11242: ST_TO_ADDR
11243: GO 11310
11245: LD_INT 56
11247: DOUBLE
11248: GREATEREQUAL
11249: IFFALSE 11257
11251: LD_INT 80
11253: DOUBLE
11254: LESSEQUAL
11255: IFTRUE 11259
11257: GO 11277
11259: POP
// ar := [ Ar1Out1 , Ar2Out1 ] ; 81 .. 100 :
11260: LD_ADDR_VAR 0 3
11264: PUSH
11265: LD_INT 21
11267: PUSH
11268: LD_INT 13
11270: PUSH
11271: EMPTY
11272: LIST
11273: LIST
11274: ST_TO_ADDR
11275: GO 11310
11277: LD_INT 81
11279: DOUBLE
11280: GREATEREQUAL
11281: IFFALSE 11289
11283: LD_INT 100
11285: DOUBLE
11286: LESSEQUAL
11287: IFTRUE 11291
11289: GO 11309
11291: POP
// ar := [ Ar1Out3 , Ar2Out3 ] ; end ; 46 .. 85 :
11292: LD_ADDR_VAR 0 3
11296: PUSH
11297: LD_INT 24
11299: PUSH
11300: LD_INT 18
11302: PUSH
11303: EMPTY
11304: LIST
11305: LIST
11306: ST_TO_ADDR
11307: GO 11310
11309: POP
11310: GO 11566
11312: LD_INT 46
11314: DOUBLE
11315: GREATEREQUAL
11316: IFFALSE 11324
11318: LD_INT 85
11320: DOUBLE
11321: LESSEQUAL
11322: IFTRUE 11326
11324: GO 11533
11326: POP
// case rand ( 1 , 100 ) of 1 .. 5 :
11327: LD_INT 1
11329: PPUSH
11330: LD_INT 100
11332: PPUSH
11333: CALL_OW 12
11337: PUSH
11338: LD_INT 1
11340: DOUBLE
11341: GREATEREQUAL
11342: IFFALSE 11350
11344: LD_INT 5
11346: DOUBLE
11347: LESSEQUAL
11348: IFTRUE 11352
11350: GO 11370
11352: POP
// ar := [ Ar2Base1 , Ar1Base1 ] ; 6 .. 15 :
11353: LD_ADDR_VAR 0 3
11357: PUSH
11358: LD_INT 15
11360: PUSH
11361: LD_INT 19
11363: PUSH
11364: EMPTY
11365: LIST
11366: LIST
11367: ST_TO_ADDR
11368: GO 11531
11370: LD_INT 6
11372: DOUBLE
11373: GREATEREQUAL
11374: IFFALSE 11382
11376: LD_INT 15
11378: DOUBLE
11379: LESSEQUAL
11380: IFTRUE 11384
11382: GO 11402
11384: POP
// ar := [ Ar2Base2 , Ar1Base2 ] ; 16 .. 30 :
11385: LD_ADDR_VAR 0 3
11389: PUSH
11390: LD_INT 14
11392: PUSH
11393: LD_INT 20
11395: PUSH
11396: EMPTY
11397: LIST
11398: LIST
11399: ST_TO_ADDR
11400: GO 11531
11402: LD_INT 16
11404: DOUBLE
11405: GREATEREQUAL
11406: IFFALSE 11414
11408: LD_INT 30
11410: DOUBLE
11411: LESSEQUAL
11412: IFTRUE 11416
11414: GO 11434
11416: POP
// ar := [ Ar2Between , Ar1Between ] ; 31 .. 50 :
11417: LD_ADDR_VAR 0 3
11421: PUSH
11422: LD_INT 16
11424: PUSH
11425: LD_INT 22
11427: PUSH
11428: EMPTY
11429: LIST
11430: LIST
11431: ST_TO_ADDR
11432: GO 11531
11434: LD_INT 31
11436: DOUBLE
11437: GREATEREQUAL
11438: IFFALSE 11446
11440: LD_INT 50
11442: DOUBLE
11443: LESSEQUAL
11444: IFTRUE 11448
11446: GO 11466
11448: POP
// ar := [ Ar2Out2 , Ar1Out2 ] ; 51 .. 75 :
11449: LD_ADDR_VAR 0 3
11453: PUSH
11454: LD_INT 17
11456: PUSH
11457: LD_INT 23
11459: PUSH
11460: EMPTY
11461: LIST
11462: LIST
11463: ST_TO_ADDR
11464: GO 11531
11466: LD_INT 51
11468: DOUBLE
11469: GREATEREQUAL
11470: IFFALSE 11478
11472: LD_INT 75
11474: DOUBLE
11475: LESSEQUAL
11476: IFTRUE 11480
11478: GO 11498
11480: POP
// ar := [ Ar2Out1 , Ar1Out1 ] ; 76 .. 100 :
11481: LD_ADDR_VAR 0 3
11485: PUSH
11486: LD_INT 13
11488: PUSH
11489: LD_INT 21
11491: PUSH
11492: EMPTY
11493: LIST
11494: LIST
11495: ST_TO_ADDR
11496: GO 11531
11498: LD_INT 76
11500: DOUBLE
11501: GREATEREQUAL
11502: IFFALSE 11510
11504: LD_INT 100
11506: DOUBLE
11507: LESSEQUAL
11508: IFTRUE 11512
11510: GO 11530
11512: POP
// ar := [ Ar2Out3 , Ar1Out3 ] ; end ; 86 .. 100 :
11513: LD_ADDR_VAR 0 3
11517: PUSH
11518: LD_INT 18
11520: PUSH
11521: LD_INT 24
11523: PUSH
11524: EMPTY
11525: LIST
11526: LIST
11527: ST_TO_ADDR
11528: GO 11531
11530: POP
11531: GO 11566
11533: LD_INT 86
11535: DOUBLE
11536: GREATEREQUAL
11537: IFFALSE 11545
11539: LD_INT 100
11541: DOUBLE
11542: LESSEQUAL
11543: IFTRUE 11547
11545: GO 11565
11547: POP
// ar := [ valley , valley ] ; end ;
11548: LD_ADDR_VAR 0 3
11552: PUSH
11553: LD_INT 12
11555: PUSH
11556: LD_INT 12
11558: PUSH
11559: EMPTY
11560: LIST
11561: LIST
11562: ST_TO_ADDR
11563: GO 11566
11565: POP
// arr1 := arr1 ^ [ ar [ 1 ] ] ;
11566: LD_ADDR_LOC 14
11570: PUSH
11571: LD_LOC 14
11575: PUSH
11576: LD_VAR 0 3
11580: PUSH
11581: LD_INT 1
11583: ARRAY
11584: PUSH
11585: EMPTY
11586: LIST
11587: ADD
11588: ST_TO_ADDR
// arr2 := arr2 ^ [ ar [ 2 ] ] ;
11589: LD_ADDR_LOC 15
11593: PUSH
11594: LD_LOC 15
11598: PUSH
11599: LD_VAR 0 3
11603: PUSH
11604: LD_INT 2
11606: ARRAY
11607: PUSH
11608: EMPTY
11609: LIST
11610: ADD
11611: ST_TO_ADDR
// end ;
11612: GO 11077
11614: POP
11615: POP
// for i := 1 to max_arriving_times div 2 do
11616: LD_ADDR_VAR 0 2
11620: PUSH
11621: DOUBLE
11622: LD_INT 1
11624: DEC
11625: ST_TO_ADDR
11626: LD_EXP 33
11630: PUSH
11631: LD_INT 2
11633: DIV
11634: PUSH
11635: FOR_TO
11636: IFFALSE 11748
// begin p1 := Rand ( 1 , max_arriving_times ) ;
11638: LD_ADDR_VAR 0 4
11642: PUSH
11643: LD_INT 1
11645: PPUSH
11646: LD_EXP 33
11650: PPUSH
11651: CALL_OW 12
11655: ST_TO_ADDR
// p2 := Rand ( 1 , max_arriving_times ) ;
11656: LD_ADDR_VAR 0 5
11660: PUSH
11661: LD_INT 1
11663: PPUSH
11664: LD_EXP 33
11668: PPUSH
11669: CALL_OW 12
11673: ST_TO_ADDR
// pom1 := arr2 [ p1 ] ;
11674: LD_ADDR_VAR 0 6
11678: PUSH
11679: LD_LOC 15
11683: PUSH
11684: LD_VAR 0 4
11688: ARRAY
11689: ST_TO_ADDR
// pom2 := arr2 [ p2 ] ;
11690: LD_ADDR_VAR 0 7
11694: PUSH
11695: LD_LOC 15
11699: PUSH
11700: LD_VAR 0 5
11704: ARRAY
11705: ST_TO_ADDR
// arr2 := Replace ( Replace ( arr2 , p2 , pom1 ) , p1 , pom2 ) ;
11706: LD_ADDR_LOC 15
11710: PUSH
11711: LD_LOC 15
11715: PPUSH
11716: LD_VAR 0 5
11720: PPUSH
11721: LD_VAR 0 6
11725: PPUSH
11726: CALL_OW 1
11730: PPUSH
11731: LD_VAR 0 4
11735: PPUSH
11736: LD_VAR 0 7
11740: PPUSH
11741: CALL_OW 1
11745: ST_TO_ADDR
// end ;
11746: GO 11635
11748: POP
11749: POP
// end ;
11750: LD_VAR 0 1
11754: RET
// every 0 0$1 do
11755: GO 11757
11757: DISABLE
// begin if not max_arriving_times then
11758: LD_EXP 33
11762: NOT
11763: IFFALSE 11767
// exit ;
11765: GO 11850
// if tick >= max_arriving_times [ 1 ] * 0 0$30 then
11767: LD_OWVAR 1
11771: PUSH
11772: LD_EXP 33
11776: PUSH
11777: LD_INT 1
11779: ARRAY
11780: PUSH
11781: LD_INT 1050
11783: MUL
11784: GREATEREQUAL
11785: IFFALSE 11849
// begin new1 := Rand ( 1 , max_arriving_times * 0 0$30 ) ;
11787: LD_ADDR_LOC 12
11791: PUSH
11792: LD_INT 1
11794: PPUSH
11795: LD_EXP 33
11799: PUSH
11800: LD_INT 1050
11802: MUL
11803: PPUSH
11804: CALL_OW 12
11808: ST_TO_ADDR
// new2 := Rand ( 1 , max_arriving_times * 0 0$30 ) ;
11809: LD_ADDR_LOC 13
11813: PUSH
11814: LD_INT 1
11816: PPUSH
11817: LD_EXP 33
11821: PUSH
11822: LD_INT 1050
11824: MUL
11825: PPUSH
11826: CALL_OW 12
11830: ST_TO_ADDR
// max_arriving_times := delete ( max_arriving_times , 1 ) ;
11831: LD_ADDR_EXP 33
11835: PUSH
11836: LD_EXP 33
11840: PPUSH
11841: LD_INT 1
11843: PPUSH
11844: CALL_OW 3
11848: ST_TO_ADDR
// end ; enable ;
11849: ENABLE
// end ;
11850: END
// function new_arrival ( pos ) ; var hum ; begin
11851: LD_INT 0
11853: PPUSH
11854: PPUSH
// if def_people_loyality then
11855: LD_EXP 12
11859: IFFALSE 11901
// begin uc_side := second_side [ pos ] ;
11861: LD_ADDR_OWVAR 20
11865: PUSH
11866: LD_EXP 46
11870: PUSH
11871: LD_VAR 0 1
11875: ARRAY
11876: ST_TO_ADDR
// uc_nation := Side_Nations [ positions [ pos ] ] ;
11877: LD_ADDR_OWVAR 21
11881: PUSH
11882: LD_EXP 44
11886: PUSH
11887: LD_EXP 39
11891: PUSH
11892: LD_VAR 0 1
11896: ARRAY
11897: ARRAY
11898: ST_TO_ADDR
// end else
11899: GO 11921
// begin uc_side := second_side ;
11901: LD_ADDR_OWVAR 20
11905: PUSH
11906: LD_EXP 46
11910: ST_TO_ADDR
// uc_nation := third_nation ;
11911: LD_ADDR_OWVAR 21
11915: PUSH
11916: LD_EXP 47
11920: ST_TO_ADDR
// end ; PrepareHuman ( 0 , 0 , initial_level + 1 ) ;
11921: LD_INT 0
11923: PPUSH
11924: LD_INT 0
11926: PPUSH
11927: LD_EXP 29
11931: PUSH
11932: LD_INT 1
11934: PLUS
11935: PPUSH
11936: CALL_OW 380
// hc_class := class_soldier ;
11940: LD_ADDR_OWVAR 28
11944: PUSH
11945: LD_INT 1
11947: ST_TO_ADDR
// hum := CreateHuman ;
11948: LD_ADDR_VAR 0 3
11952: PUSH
11953: CALL_OW 44
11957: ST_TO_ADDR
// if pos = 1 then
11958: LD_VAR 0 1
11962: PUSH
11963: LD_INT 1
11965: EQUAL
11966: IFFALSE 12009
// begin PlaceUnitArea ( hum , arr1 [ 1 ] , true ) ;
11968: LD_VAR 0 3
11972: PPUSH
11973: LD_LOC 14
11977: PUSH
11978: LD_INT 1
11980: ARRAY
11981: PPUSH
11982: LD_INT 1
11984: PPUSH
11985: CALL_OW 49
// arr1 := delete ( arr1 , 1 ) ;
11989: LD_ADDR_LOC 14
11993: PUSH
11994: LD_LOC 14
11998: PPUSH
11999: LD_INT 1
12001: PPUSH
12002: CALL_OW 3
12006: ST_TO_ADDR
// end else
12007: GO 12048
// begin PlaceUnitArea ( hum , arr2 [ 1 ] , true ) ;
12009: LD_VAR 0 3
12013: PPUSH
12014: LD_LOC 15
12018: PUSH
12019: LD_INT 1
12021: ARRAY
12022: PPUSH
12023: LD_INT 1
12025: PPUSH
12026: CALL_OW 49
// arr2 := delete ( arr2 , 1 ) ;
12030: LD_ADDR_LOC 15
12034: PUSH
12035: LD_LOC 15
12039: PPUSH
12040: LD_INT 1
12042: PPUSH
12043: CALL_OW 3
12047: ST_TO_ADDR
// end ; repeat wait ( 0 0$1 ) until IsPlaced ( hum ) ;
12048: LD_INT 35
12050: PPUSH
12051: CALL_OW 67
12055: LD_VAR 0 3
12059: PPUSH
12060: CALL_OW 305
12064: IFFALSE 12048
// if def_people_loyality then
12066: LD_EXP 12
12070: IFFALSE 12130
// if pos = 1 then
12072: LD_VAR 0 1
12076: PUSH
12077: LD_INT 1
12079: EQUAL
12080: IFFALSE 12100
// free1 := free1 ^ hum else
12082: LD_ADDR_LOC 10
12086: PUSH
12087: LD_LOC 10
12091: PUSH
12092: LD_VAR 0 3
12096: ADD
12097: ST_TO_ADDR
12098: GO 12128
// if pos = 2 then
12100: LD_VAR 0 1
12104: PUSH
12105: LD_INT 2
12107: EQUAL
12108: IFFALSE 12128
// free2 := free2 ^ hum else
12110: LD_ADDR_LOC 11
12114: PUSH
12115: LD_LOC 11
12119: PUSH
12120: LD_VAR 0 3
12124: ADD
12125: ST_TO_ADDR
12126: GO 12128
// else
12128: GO 12146
// free := free ^ hum ;
12130: LD_ADDR_LOC 9
12134: PUSH
12135: LD_LOC 9
12139: PUSH
12140: LD_VAR 0 3
12144: ADD
12145: ST_TO_ADDR
// end ;
12146: LD_VAR 0 2
12150: RET
// every 0 0$0.5 trigger new1 do var d ;
12151: LD_LOC 12
12155: IFFALSE 12188
12157: GO 12159
12159: DISABLE
12160: LD_INT 0
12162: PPUSH
// begin enable ;
12163: ENABLE
// new1 := 0 ;
12164: LD_ADDR_LOC 12
12168: PUSH
12169: LD_INT 0
12171: ST_TO_ADDR
// wait ( d ) ;
12172: LD_VAR 0 1
12176: PPUSH
12177: CALL_OW 67
// new_arrival ( 1 ) ;
12181: LD_INT 1
12183: PPUSH
12184: CALL 11851 0 1
// end ;
12188: PPOPN 1
12190: END
// every 0 0$0.5 trigger new2 do var d ;
12191: LD_LOC 13
12195: IFFALSE 12228
12197: GO 12199
12199: DISABLE
12200: LD_INT 0
12202: PPUSH
// begin enable ;
12203: ENABLE
// new2 := 0 ;
12204: LD_ADDR_LOC 13
12208: PUSH
12209: LD_INT 0
12211: ST_TO_ADDR
// wait ( d ) ;
12212: LD_VAR 0 1
12216: PPUSH
12217: CALL_OW 67
// new_arrival ( 2 ) ;
12221: LD_INT 2
12223: PPUSH
12224: CALL 11851 0 1
// end ;
12228: PPOPN 1
12230: END
// function check_one_side ( un , side ) ; begin
12231: LD_INT 0
12233: PPUSH
// if FilterAllUnits ( [ [ f_type , unit_human ] , [ f_side , side ] , [ f_dist , un , 3 ] ] ) then
12234: LD_INT 21
12236: PUSH
12237: LD_INT 1
12239: PUSH
12240: EMPTY
12241: LIST
12242: LIST
12243: PUSH
12244: LD_INT 22
12246: PUSH
12247: LD_VAR 0 2
12251: PUSH
12252: EMPTY
12253: LIST
12254: LIST
12255: PUSH
12256: LD_INT 91
12258: PUSH
12259: LD_VAR 0 1
12263: PUSH
12264: LD_INT 3
12266: PUSH
12267: EMPTY
12268: LIST
12269: LIST
12270: LIST
12271: PUSH
12272: EMPTY
12273: LIST
12274: LIST
12275: LIST
12276: PPUSH
12277: CALL_OW 69
12281: IFFALSE 12295
// result := side else
12283: LD_ADDR_VAR 0 3
12287: PUSH
12288: LD_VAR 0 2
12292: ST_TO_ADDR
12293: GO 12303
// result := 0 ;
12295: LD_ADDR_VAR 0 3
12299: PUSH
12300: LD_INT 0
12302: ST_TO_ADDR
// end ;
12303: LD_VAR 0 3
12307: RET
// function check_two_sides ( un , side1 , side2 ) ; var un1 , s1 , s2 ; begin
12308: LD_INT 0
12310: PPUSH
12311: PPUSH
12312: PPUSH
12313: PPUSH
// s1 := 0 ;
12314: LD_ADDR_VAR 0 6
12318: PUSH
12319: LD_INT 0
12321: ST_TO_ADDR
// s2 := 0 ;
12322: LD_ADDR_VAR 0 7
12326: PUSH
12327: LD_INT 0
12329: ST_TO_ADDR
// for un1 in FilterAllUnits ( [ [ f_type , unit_human ] , [ f_dist , un , 3 ] ] ) do
12330: LD_ADDR_VAR 0 5
12334: PUSH
12335: LD_INT 21
12337: PUSH
12338: LD_INT 1
12340: PUSH
12341: EMPTY
12342: LIST
12343: LIST
12344: PUSH
12345: LD_INT 91
12347: PUSH
12348: LD_VAR 0 1
12352: PUSH
12353: LD_INT 3
12355: PUSH
12356: EMPTY
12357: LIST
12358: LIST
12359: LIST
12360: PUSH
12361: EMPTY
12362: LIST
12363: LIST
12364: PPUSH
12365: CALL_OW 69
12369: PUSH
12370: FOR_IN
12371: IFFALSE 12439
// begin if GetSide ( un1 ) = side1 then
12373: LD_VAR 0 5
12377: PPUSH
12378: CALL_OW 255
12382: PUSH
12383: LD_VAR 0 2
12387: EQUAL
12388: IFFALSE 12406
// s1 := s1 + 1 else
12390: LD_ADDR_VAR 0 6
12394: PUSH
12395: LD_VAR 0 6
12399: PUSH
12400: LD_INT 1
12402: PLUS
12403: ST_TO_ADDR
12404: GO 12437
// if GetSide ( un1 ) = side2 then
12406: LD_VAR 0 5
12410: PPUSH
12411: CALL_OW 255
12415: PUSH
12416: LD_VAR 0 3
12420: EQUAL
12421: IFFALSE 12437
// s2 := s2 + 1 ;
12423: LD_ADDR_VAR 0 7
12427: PUSH
12428: LD_VAR 0 7
12432: PUSH
12433: LD_INT 1
12435: PLUS
12436: ST_TO_ADDR
// end ;
12437: GO 12370
12439: POP
12440: POP
// if s1 = s2 then
12441: LD_VAR 0 6
12445: PUSH
12446: LD_VAR 0 7
12450: EQUAL
12451: IFFALSE 12463
// result := 0 else
12453: LD_ADDR_VAR 0 4
12457: PUSH
12458: LD_INT 0
12460: ST_TO_ADDR
12461: GO 12493
// if s1 > s2 then
12463: LD_VAR 0 6
12467: PUSH
12468: LD_VAR 0 7
12472: GREATER
12473: IFFALSE 12485
// result := 1 else
12475: LD_ADDR_VAR 0 4
12479: PUSH
12480: LD_INT 1
12482: ST_TO_ADDR
12483: GO 12493
// result := 2 ;
12485: LD_ADDR_VAR 0 4
12489: PUSH
12490: LD_INT 2
12492: ST_TO_ADDR
// end ;
12493: LD_VAR 0 4
12497: RET
// every 0 0$2 do var un ;
12498: GO 12500
12500: DISABLE
12501: LD_INT 0
12503: PPUSH
// begin if def_people_loyality then
12504: LD_EXP 12
12508: IFFALSE 12887
// if not fog_info then
12510: LD_EXP 35
12514: NOT
12515: IFFALSE 12703
// begin if your_side then
12517: LD_OWVAR 2
12521: IFFALSE 12701
// if side_positions [ your_side ] = 1 then
12523: LD_EXP 43
12527: PUSH
12528: LD_OWVAR 2
12532: ARRAY
12533: PUSH
12534: LD_INT 1
12536: EQUAL
12537: IFFALSE 12613
// begin un := UnitFilter ( free1 diff seenby1 , [ f_see , your_side ] ) ;
12539: LD_ADDR_VAR 0 1
12543: PUSH
12544: LD_LOC 10
12548: PUSH
12549: LD_LOC 16
12553: DIFF
12554: PPUSH
12555: LD_INT 101
12557: PUSH
12558: LD_OWVAR 2
12562: PUSH
12563: EMPTY
12564: LIST
12565: LIST
12566: PPUSH
12567: CALL_OW 72
12571: ST_TO_ADDR
// if un then
12572: LD_VAR 0 1
12576: IFFALSE 12611
// begin CenterNowOnUnits ( un [ 1 ] ) ;
12578: LD_VAR 0 1
12582: PUSH
12583: LD_INT 1
12585: ARRAY
12586: PPUSH
12587: CALL_OW 87
// seenby1 := seenby1 ^ un [ 1 ] ;
12591: LD_ADDR_LOC 16
12595: PUSH
12596: LD_LOC 16
12600: PUSH
12601: LD_VAR 0 1
12605: PUSH
12606: LD_INT 1
12608: ARRAY
12609: ADD
12610: ST_TO_ADDR
// end ; end else
12611: GO 12701
// if side_positions [ your_side ] = 2 then
12613: LD_EXP 43
12617: PUSH
12618: LD_OWVAR 2
12622: ARRAY
12623: PUSH
12624: LD_INT 2
12626: EQUAL
12627: IFFALSE 12701
// begin un := UnitFilter ( free2 diff seenby2 , [ f_see , your_side ] ) ;
12629: LD_ADDR_VAR 0 1
12633: PUSH
12634: LD_LOC 11
12638: PUSH
12639: LD_LOC 17
12643: DIFF
12644: PPUSH
12645: LD_INT 101
12647: PUSH
12648: LD_OWVAR 2
12652: PUSH
12653: EMPTY
12654: LIST
12655: LIST
12656: PPUSH
12657: CALL_OW 72
12661: ST_TO_ADDR
// if un then
12662: LD_VAR 0 1
12666: IFFALSE 12701
// begin CenterNowOnUnits ( un [ 1 ] ) ;
12668: LD_VAR 0 1
12672: PUSH
12673: LD_INT 1
12675: ARRAY
12676: PPUSH
12677: CALL_OW 87
// seenby2 := seenby2 ^ un [ 1 ] ;
12681: LD_ADDR_LOC 17
12685: PUSH
12686: LD_LOC 17
12690: PUSH
12691: LD_VAR 0 1
12695: PUSH
12696: LD_INT 1
12698: ARRAY
12699: ADD
12700: ST_TO_ADDR
// end ; end ; end else
12701: GO 12887
// begin if your_side then
12703: LD_OWVAR 2
12707: IFFALSE 12887
// if side_positions [ your_side ] = 1 then
12709: LD_EXP 43
12713: PUSH
12714: LD_OWVAR 2
12718: ARRAY
12719: PUSH
12720: LD_INT 1
12722: EQUAL
12723: IFFALSE 12799
// begin un := UnitFilter ( free diff seenby1 , [ f_see , your_side ] ) ;
12725: LD_ADDR_VAR 0 1
12729: PUSH
12730: LD_LOC 9
12734: PUSH
12735: LD_LOC 16
12739: DIFF
12740: PPUSH
12741: LD_INT 101
12743: PUSH
12744: LD_OWVAR 2
12748: PUSH
12749: EMPTY
12750: LIST
12751: LIST
12752: PPUSH
12753: CALL_OW 72
12757: ST_TO_ADDR
// if un then
12758: LD_VAR 0 1
12762: IFFALSE 12797
// begin CenterNowOnUnits ( un [ 1 ] ) ;
12764: LD_VAR 0 1
12768: PUSH
12769: LD_INT 1
12771: ARRAY
12772: PPUSH
12773: CALL_OW 87
// seenby1 := seenby1 ^ un [ 1 ] ;
12777: LD_ADDR_LOC 16
12781: PUSH
12782: LD_LOC 16
12786: PUSH
12787: LD_VAR 0 1
12791: PUSH
12792: LD_INT 1
12794: ARRAY
12795: ADD
12796: ST_TO_ADDR
// end ; end else
12797: GO 12887
// if side_positions [ your_side ] = 2 then
12799: LD_EXP 43
12803: PUSH
12804: LD_OWVAR 2
12808: ARRAY
12809: PUSH
12810: LD_INT 2
12812: EQUAL
12813: IFFALSE 12887
// begin un := UnitFilter ( free diff seenby2 , [ f_see , your_side ] ) ;
12815: LD_ADDR_VAR 0 1
12819: PUSH
12820: LD_LOC 9
12824: PUSH
12825: LD_LOC 17
12829: DIFF
12830: PPUSH
12831: LD_INT 101
12833: PUSH
12834: LD_OWVAR 2
12838: PUSH
12839: EMPTY
12840: LIST
12841: LIST
12842: PPUSH
12843: CALL_OW 72
12847: ST_TO_ADDR
// if un then
12848: LD_VAR 0 1
12852: IFFALSE 12887
// begin CenterNowOnUnits ( un [ 1 ] ) ;
12854: LD_VAR 0 1
12858: PUSH
12859: LD_INT 1
12861: ARRAY
12862: PPUSH
12863: CALL_OW 87
// seenby2 := seenby2 ^ un [ 1 ] ;
12867: LD_ADDR_LOC 17
12871: PUSH
12872: LD_LOC 17
12876: PUSH
12877: LD_VAR 0 1
12881: PUSH
12882: LD_INT 1
12884: ARRAY
12885: ADD
12886: ST_TO_ADDR
// end ; end ; end ; enable ;
12887: ENABLE
// end ;
12888: PPOPN 1
12890: END
// every 0 0$0.5 do var un , s ;
12891: GO 12893
12893: DISABLE
12894: LD_INT 0
12896: PPUSH
12897: PPUSH
// begin if def_people_loyality then
12898: LD_EXP 12
12902: IFFALSE 13108
// begin for un in free1 do
12904: LD_ADDR_VAR 0 1
12908: PUSH
12909: LD_LOC 10
12913: PUSH
12914: FOR_IN
12915: IFFALSE 13003
// if not IsLive ( un ) then
12917: LD_VAR 0 1
12921: PPUSH
12922: CALL_OW 300
12926: NOT
12927: IFFALSE 12947
// free1 := free1 diff un else
12929: LD_ADDR_LOC 10
12933: PUSH
12934: LD_LOC 10
12938: PUSH
12939: LD_VAR 0 1
12943: DIFF
12944: ST_TO_ADDR
12945: GO 13001
// if check_one_side ( un , positions [ 1 ] ) then
12947: LD_VAR 0 1
12951: PPUSH
12952: LD_EXP 39
12956: PUSH
12957: LD_INT 1
12959: ARRAY
12960: PPUSH
12961: CALL 12231 0 2
12965: IFFALSE 13001
// begin SetSide ( un , positions [ 1 ] ) ;
12967: LD_VAR 0 1
12971: PPUSH
12972: LD_EXP 39
12976: PUSH
12977: LD_INT 1
12979: ARRAY
12980: PPUSH
12981: CALL_OW 235
// free1 := free1 diff un ;
12985: LD_ADDR_LOC 10
12989: PUSH
12990: LD_LOC 10
12994: PUSH
12995: LD_VAR 0 1
12999: DIFF
13000: ST_TO_ADDR
// end ;
13001: GO 12914
13003: POP
13004: POP
// for un in free2 do
13005: LD_ADDR_VAR 0 1
13009: PUSH
13010: LD_LOC 11
13014: PUSH
13015: FOR_IN
13016: IFFALSE 13104
// if not IsLive ( un ) then
13018: LD_VAR 0 1
13022: PPUSH
13023: CALL_OW 300
13027: NOT
13028: IFFALSE 13048
// free2 := free2 diff un else
13030: LD_ADDR_LOC 11
13034: PUSH
13035: LD_LOC 11
13039: PUSH
13040: LD_VAR 0 1
13044: DIFF
13045: ST_TO_ADDR
13046: GO 13102
// if check_one_side ( un , positions [ 2 ] ) then
13048: LD_VAR 0 1
13052: PPUSH
13053: LD_EXP 39
13057: PUSH
13058: LD_INT 2
13060: ARRAY
13061: PPUSH
13062: CALL 12231 0 2
13066: IFFALSE 13102
// begin SetSide ( un , positions [ 2 ] ) ;
13068: LD_VAR 0 1
13072: PPUSH
13073: LD_EXP 39
13077: PUSH
13078: LD_INT 2
13080: ARRAY
13081: PPUSH
13082: CALL_OW 235
// free2 := free2 diff un ;
13086: LD_ADDR_LOC 11
13090: PUSH
13091: LD_LOC 11
13095: PUSH
13096: LD_VAR 0 1
13100: DIFF
13101: ST_TO_ADDR
// end ;
13102: GO 13015
13104: POP
13105: POP
// end else
13106: GO 13230
// begin for un in free do
13108: LD_ADDR_VAR 0 1
13112: PUSH
13113: LD_LOC 9
13117: PUSH
13118: FOR_IN
13119: IFFALSE 13228
// if not IsLive ( un ) then
13121: LD_VAR 0 1
13125: PPUSH
13126: CALL_OW 300
13130: NOT
13131: IFFALSE 13151
// free := free diff un else
13133: LD_ADDR_LOC 9
13137: PUSH
13138: LD_LOC 9
13142: PUSH
13143: LD_VAR 0 1
13147: DIFF
13148: ST_TO_ADDR
13149: GO 13226
// begin s := check_two_sides ( un , positions [ 1 ] , positions [ 2 ] ) ;
13151: LD_ADDR_VAR 0 2
13155: PUSH
13156: LD_VAR 0 1
13160: PPUSH
13161: LD_EXP 39
13165: PUSH
13166: LD_INT 1
13168: ARRAY
13169: PPUSH
13170: LD_EXP 39
13174: PUSH
13175: LD_INT 2
13177: ARRAY
13178: PPUSH
13179: CALL 12308 0 3
13183: ST_TO_ADDR
// if s then
13184: LD_VAR 0 2
13188: IFFALSE 13226
// begin SetSide ( un , positions [ s ] ) ;
13190: LD_VAR 0 1
13194: PPUSH
13195: LD_EXP 39
13199: PUSH
13200: LD_VAR 0 2
13204: ARRAY
13205: PPUSH
13206: CALL_OW 235
// free := free diff un ;
13210: LD_ADDR_LOC 9
13214: PUSH
13215: LD_LOC 9
13219: PUSH
13220: LD_VAR 0 1
13224: DIFF
13225: ST_TO_ADDR
// end ; end ;
13226: GO 13118
13228: POP
13229: POP
// end ; enable ;
13230: ENABLE
// end ; end_of_file
13231: PPOPN 2
13233: END
// export Game_Type , def_game_rules ; export No_Mechs ; var Restricted_Builds , Restricted_Builds_Amount ; var Banned_Weapons , Banned_Chassis , Banned_Controls , Banned_Engines ; var Already_Built ; var Limits_Info , Cheaters ; export function LimitsStrings ; var i ; begin
13234: LD_INT 0
13236: PPUSH
13237: PPUSH
// if ( not IAmSpec ) then
13238: CALL_OW 531
13242: NOT
13243: IFFALSE 13259
// Result := Limits_Info ^  ;
13245: LD_ADDR_VAR 0 1
13249: PUSH
13250: LD_LOC 25
13254: PUSH
13255: LD_STRING 
13257: ADD
13258: ST_TO_ADDR
// for i := 1 to 8 do
13259: LD_ADDR_VAR 0 2
13263: PUSH
13264: DOUBLE
13265: LD_INT 1
13267: DEC
13268: ST_TO_ADDR
13269: LD_INT 8
13271: PUSH
13272: FOR_TO
13273: IFFALSE 13318
// if Cheaters [ i ] then
13275: LD_LOC 26
13279: PUSH
13280: LD_VAR 0 2
13284: ARRAY
13285: IFFALSE 13316
// Result := Result ^ [ #Cheater , i , i ] ;
13287: LD_ADDR_VAR 0 1
13291: PUSH
13292: LD_VAR 0 1
13296: PUSH
13297: LD_STRING #Cheater
13299: PUSH
13300: LD_VAR 0 2
13304: PUSH
13305: LD_VAR 0 2
13309: PUSH
13310: EMPTY
13311: LIST
13312: LIST
13313: LIST
13314: ADD
13315: ST_TO_ADDR
13316: GO 13272
13318: POP
13319: POP
// end ;
13320: LD_VAR 0 1
13324: RET
// export function InitGameRules ; var Unavailable_Techs , Unavailable_Builds ; var i , j ; begin
13325: LD_INT 0
13327: PPUSH
13328: PPUSH
13329: PPUSH
13330: PPUSH
13331: PPUSH
// case Game_Type of 10 :
13332: LD_EXP 64
13336: PUSH
13337: LD_INT 10
13339: DOUBLE
13340: EQUAL
13341: IFTRUE 13345
13343: GO 13356
13345: POP
// def_game_rules := 1 ; 11 :
13346: LD_ADDR_EXP 65
13350: PUSH
13351: LD_INT 1
13353: ST_TO_ADDR
13354: GO 13376
13356: LD_INT 11
13358: DOUBLE
13359: EQUAL
13360: IFTRUE 13364
13362: GO 13375
13364: POP
// def_game_rules := 3 ; end ;
13365: LD_ADDR_EXP 65
13369: PUSH
13370: LD_INT 3
13372: ST_TO_ADDR
13373: GO 13376
13375: POP
// case def_game_rules of 0 :
13376: LD_EXP 65
13380: PUSH
13381: LD_INT 0
13383: DOUBLE
13384: EQUAL
13385: IFTRUE 13389
13387: GO 13394
13389: POP
// exit ; 1 :
13390: GO 14002
13392: GO 13902
13394: LD_INT 1
13396: DOUBLE
13397: EQUAL
13398: IFTRUE 13402
13400: GO 13634
13402: POP
// begin def_main_base = 1 ;
13403: LD_ADDR_EXP 1
13407: PUSH
13408: LD_INT 1
13410: ST_TO_ADDR
// def_secondary_base = 0 ;
13411: LD_ADDR_EXP 2
13415: PUSH
13416: LD_INT 0
13418: ST_TO_ADDR
// def_defence_level = 1 ;
13419: LD_ADDR_EXP 3
13423: PUSH
13424: LD_INT 1
13426: ST_TO_ADDR
// def_amount_of_people = 2 ;
13427: LD_ADDR_EXP 4
13431: PUSH
13432: LD_INT 2
13434: ST_TO_ADDR
// def_initial_level = 1 ;
13435: LD_ADDR_EXP 5
13439: PUSH
13440: LD_INT 1
13442: ST_TO_ADDR
// def_main_deposits = 2 ;
13443: LD_ADDR_EXP 6
13447: PUSH
13448: LD_INT 2
13450: ST_TO_ADDR
// def_secondary_deposits = 1 ;
13451: LD_ADDR_EXP 7
13455: PUSH
13456: LD_INT 1
13458: ST_TO_ADDR
// def_siberite_detection = 1 ;
13459: LD_ADDR_EXP 8
13463: PUSH
13464: LD_INT 1
13466: ST_TO_ADDR
// def_starting_resources = 2 ;
13467: LD_ADDR_EXP 9
13471: PUSH
13472: LD_INT 2
13474: ST_TO_ADDR
// def_shipments_density = 1 ;
13475: LD_ADDR_EXP 10
13479: PUSH
13480: LD_INT 1
13482: ST_TO_ADDR
// def_people_arrivals = 0 ;
13483: LD_ADDR_EXP 11
13487: PUSH
13488: LD_INT 0
13490: ST_TO_ADDR
// def_people_loyality = 0 ;
13491: LD_ADDR_EXP 12
13495: PUSH
13496: LD_INT 0
13498: ST_TO_ADDR
// def_people_info = 0 ;
13499: LD_ADDR_EXP 13
13503: PUSH
13504: LD_INT 0
13506: ST_TO_ADDR
// def_morale_flags = 1 ;
13507: LD_ADDR_EXP 14
13511: PUSH
13512: LD_INT 1
13514: ST_TO_ADDR
// def_siberite_bomb = 0 ;
13515: LD_ADDR_EXP 15
13519: PUSH
13520: LD_INT 0
13522: ST_TO_ADDR
// def_builduptime = 2 ;
13523: LD_ADDR_EXP 17
13527: PUSH
13528: LD_INT 2
13530: ST_TO_ADDR
// Unavailable_Techs := [ ] ;
13531: LD_ADDR_VAR 0 2
13535: PUSH
13536: EMPTY
13537: ST_TO_ADDR
// Unavailable_Builds := [ ] ;
13538: LD_ADDR_VAR 0 3
13542: PUSH
13543: EMPTY
13544: ST_TO_ADDR
// Banned_Weapons := [ ] ;
13545: LD_ADDR_LOC 20
13549: PUSH
13550: EMPTY
13551: ST_TO_ADDR
// Banned_Chassis := [ ] ;
13552: LD_ADDR_LOC 21
13556: PUSH
13557: EMPTY
13558: ST_TO_ADDR
// Banned_Controls := [ ] ;
13559: LD_ADDR_LOC 22
13563: PUSH
13564: EMPTY
13565: ST_TO_ADDR
// Banned_Engines := [ ] ;
13566: LD_ADDR_LOC 23
13570: PUSH
13571: EMPTY
13572: ST_TO_ADDR
// Restricted_Builds := [ [ b_Behemoth ] , [ b_Armoury , b_Barracks ] , [ b_Breastwork , b_Bunker , b_Turret ] ] ;
13573: LD_ADDR_LOC 18
13577: PUSH
13578: LD_INT 37
13580: PUSH
13581: EMPTY
13582: LIST
13583: PUSH
13584: LD_INT 4
13586: PUSH
13587: LD_INT 5
13589: PUSH
13590: EMPTY
13591: LIST
13592: LIST
13593: PUSH
13594: LD_INT 31
13596: PUSH
13597: LD_INT 32
13599: PUSH
13600: LD_INT 33
13602: PUSH
13603: EMPTY
13604: LIST
13605: LIST
13606: LIST
13607: PUSH
13608: EMPTY
13609: LIST
13610: LIST
13611: LIST
13612: ST_TO_ADDR
// Restricted_Builds_Amount := [ 2 , 2 , 4 ] ;
13613: LD_ADDR_LOC 19
13617: PUSH
13618: LD_INT 2
13620: PUSH
13621: LD_INT 2
13623: PUSH
13624: LD_INT 4
13626: PUSH
13627: EMPTY
13628: LIST
13629: LIST
13630: LIST
13631: ST_TO_ADDR
// end ; 3 :
13632: GO 13902
13634: LD_INT 3
13636: DOUBLE
13637: EQUAL
13638: IFTRUE 13642
13640: GO 13901
13642: POP
// begin def_main_base = 1 ;
13643: LD_ADDR_EXP 1
13647: PUSH
13648: LD_INT 1
13650: ST_TO_ADDR
// def_secondary_base = 0 ;
13651: LD_ADDR_EXP 2
13655: PUSH
13656: LD_INT 0
13658: ST_TO_ADDR
// def_defence_level = 0 ;
13659: LD_ADDR_EXP 3
13663: PUSH
13664: LD_INT 0
13666: ST_TO_ADDR
// def_amount_of_people = 2 ;
13667: LD_ADDR_EXP 4
13671: PUSH
13672: LD_INT 2
13674: ST_TO_ADDR
// def_initial_level = 3 ;
13675: LD_ADDR_EXP 5
13679: PUSH
13680: LD_INT 3
13682: ST_TO_ADDR
// def_main_deposits = 2 ;
13683: LD_ADDR_EXP 6
13687: PUSH
13688: LD_INT 2
13690: ST_TO_ADDR
// def_secondary_deposits = 1 ;
13691: LD_ADDR_EXP 7
13695: PUSH
13696: LD_INT 1
13698: ST_TO_ADDR
// def_siberite_detection = 1 ;
13699: LD_ADDR_EXP 8
13703: PUSH
13704: LD_INT 1
13706: ST_TO_ADDR
// def_starting_resources = 3 ;
13707: LD_ADDR_EXP 9
13711: PUSH
13712: LD_INT 3
13714: ST_TO_ADDR
// def_shipments_density = 1 ;
13715: LD_ADDR_EXP 10
13719: PUSH
13720: LD_INT 1
13722: ST_TO_ADDR
// def_people_arrivals = 0 ;
13723: LD_ADDR_EXP 11
13727: PUSH
13728: LD_INT 0
13730: ST_TO_ADDR
// def_people_loyality = 0 ;
13731: LD_ADDR_EXP 12
13735: PUSH
13736: LD_INT 0
13738: ST_TO_ADDR
// def_people_info = 0 ;
13739: LD_ADDR_EXP 13
13743: PUSH
13744: LD_INT 0
13746: ST_TO_ADDR
// def_morale_flags = 0 ;
13747: LD_ADDR_EXP 14
13751: PUSH
13752: LD_INT 0
13754: ST_TO_ADDR
// def_siberite_bomb = 0 ;
13755: LD_ADDR_EXP 15
13759: PUSH
13760: LD_INT 0
13762: ST_TO_ADDR
// def_builduptime = 1 ;
13763: LD_ADDR_EXP 17
13767: PUSH
13768: LD_INT 1
13770: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth ] ;
13771: LD_ADDR_VAR 0 2
13775: PUSH
13776: LD_INT 23
13778: PUSH
13779: EMPTY
13780: LIST
13781: ST_TO_ADDR
// Unavailable_Builds := [ b_Workshop , b_Behemoth , b_Bunker , b_Turret , b_Control_Tower , b_ext_track , b_ext_stitch , b_ext_siberium , b_ext_rocket , b_ext_radio , b_ext_radar , b_ext_noncombat , b_ext_laser , b_ext_gun , b_ext_computer ] ;
13782: LD_ADDR_VAR 0 3
13786: PUSH
13787: LD_INT 2
13789: PUSH
13790: LD_INT 37
13792: PUSH
13793: LD_INT 32
13795: PUSH
13796: LD_INT 33
13798: PUSH
13799: LD_INT 36
13801: PUSH
13802: LD_INT 16
13804: PUSH
13805: LD_INT 23
13807: PUSH
13808: LD_INT 21
13810: PUSH
13811: LD_INT 18
13813: PUSH
13814: LD_INT 22
13816: PUSH
13817: LD_INT 20
13819: PUSH
13820: LD_INT 19
13822: PUSH
13823: LD_INT 25
13825: PUSH
13826: LD_INT 17
13828: PUSH
13829: LD_INT 24
13831: PUSH
13832: EMPTY
13833: LIST
13834: LIST
13835: LIST
13836: LIST
13837: LIST
13838: LIST
13839: LIST
13840: LIST
13841: LIST
13842: LIST
13843: LIST
13844: LIST
13845: LIST
13846: LIST
13847: LIST
13848: ST_TO_ADDR
// Banned_Weapons := [ ] ;
13849: LD_ADDR_LOC 20
13853: PUSH
13854: EMPTY
13855: ST_TO_ADDR
// Banned_Chassis := [ ] ;
13856: LD_ADDR_LOC 21
13860: PUSH
13861: EMPTY
13862: ST_TO_ADDR
// Banned_Controls := [ ] ;
13863: LD_ADDR_LOC 22
13867: PUSH
13868: EMPTY
13869: ST_TO_ADDR
// Banned_Engines := [ ] ;
13870: LD_ADDR_LOC 23
13874: PUSH
13875: EMPTY
13876: ST_TO_ADDR
// Restricted_Builds := [ ] ;
13877: LD_ADDR_LOC 18
13881: PUSH
13882: EMPTY
13883: ST_TO_ADDR
// Restricted_Builds_Amount := [ ] ;
13884: LD_ADDR_LOC 19
13888: PUSH
13889: EMPTY
13890: ST_TO_ADDR
// No_Mechs := true ;
13891: LD_ADDR_EXP 66
13895: PUSH
13896: LD_INT 1
13898: ST_TO_ADDR
// end ; end ;
13899: GO 13902
13901: POP
// for i := 1 to 8 do
13902: LD_ADDR_VAR 0 4
13906: PUSH
13907: DOUBLE
13908: LD_INT 1
13910: DEC
13911: ST_TO_ADDR
13912: LD_INT 8
13914: PUSH
13915: FOR_TO
13916: IFFALSE 14000
// if Side_Positions [ i ] then
13918: LD_EXP 43
13922: PUSH
13923: LD_VAR 0 4
13927: ARRAY
13928: IFFALSE 13998
// begin for j in Unavailable_Techs do
13930: LD_ADDR_VAR 0 5
13934: PUSH
13935: LD_VAR 0 2
13939: PUSH
13940: FOR_IN
13941: IFFALSE 13962
// SetTech ( j , i , 0 ) ;
13943: LD_VAR 0 5
13947: PPUSH
13948: LD_VAR 0 4
13952: PPUSH
13953: LD_INT 0
13955: PPUSH
13956: CALL_OW 322
13960: GO 13940
13962: POP
13963: POP
// for j in Unavailable_Builds do
13964: LD_ADDR_VAR 0 5
13968: PUSH
13969: LD_VAR 0 3
13973: PUSH
13974: FOR_IN
13975: IFFALSE 13996
// SetRestrict ( j , i , 0 ) ;
13977: LD_VAR 0 5
13981: PPUSH
13982: LD_VAR 0 4
13986: PPUSH
13987: LD_INT 0
13989: PPUSH
13990: CALL_OW 324
13994: GO 13974
13996: POP
13997: POP
// end ;
13998: GO 13915
14000: POP
14001: POP
// end ;
14002: LD_VAR 0 1
14006: RET
// export function InitLimits ; var i , j , k , amount , btype , list ; begin
14007: LD_INT 0
14009: PPUSH
14010: PPUSH
14011: PPUSH
14012: PPUSH
14013: PPUSH
14014: PPUSH
14015: PPUSH
// for i := 1 to Restricted_Builds do
14016: LD_ADDR_VAR 0 2
14020: PUSH
14021: DOUBLE
14022: LD_INT 1
14024: DEC
14025: ST_TO_ADDR
14026: LD_LOC 18
14030: PUSH
14031: FOR_TO
14032: IFFALSE 14342
// begin case Restricted_Builds [ i ] [ 1 ] of b_Breastwork , b_Bunker , b_Turret :
14034: LD_LOC 18
14038: PUSH
14039: LD_VAR 0 2
14043: ARRAY
14044: PUSH
14045: LD_INT 1
14047: ARRAY
14048: PUSH
14049: LD_INT 31
14051: DOUBLE
14052: EQUAL
14053: IFTRUE 14069
14055: LD_INT 32
14057: DOUBLE
14058: EQUAL
14059: IFTRUE 14069
14061: LD_INT 33
14063: DOUBLE
14064: EQUAL
14065: IFTRUE 14069
14067: GO 14080
14069: POP
// btype := #Turrets ; b_Armoury , b_Barracks :
14070: LD_ADDR_VAR 0 6
14074: PUSH
14075: LD_STRING #Turrets
14077: ST_TO_ADDR
14078: GO 14125
14080: LD_INT 4
14082: DOUBLE
14083: EQUAL
14084: IFTRUE 14094
14086: LD_INT 5
14088: DOUBLE
14089: EQUAL
14090: IFTRUE 14094
14092: GO 14105
14094: POP
// btype := #Armouries ; b_Behemoth :
14095: LD_ADDR_VAR 0 6
14099: PUSH
14100: LD_STRING #Armouries
14102: ST_TO_ADDR
14103: GO 14125
14105: LD_INT 37
14107: DOUBLE
14108: EQUAL
14109: IFTRUE 14113
14111: GO 14124
14113: POP
// btype := #Behemoths ; end ;
14114: LD_ADDR_VAR 0 6
14118: PUSH
14119: LD_STRING #Behemoths
14121: ST_TO_ADDR
14122: GO 14125
14124: POP
// list := [ ] ;
14125: LD_ADDR_VAR 0 7
14129: PUSH
14130: EMPTY
14131: ST_TO_ADDR
// for j := 1 to 8 do
14132: LD_ADDR_VAR 0 3
14136: PUSH
14137: DOUBLE
14138: LD_INT 1
14140: DEC
14141: ST_TO_ADDR
14142: LD_INT 8
14144: PUSH
14145: FOR_TO
14146: IFFALSE 14239
// if Side_Positions [ j ] then
14148: LD_EXP 43
14152: PUSH
14153: LD_VAR 0 3
14157: ARRAY
14158: IFFALSE 14237
// begin amount := 0 ;
14160: LD_ADDR_VAR 0 5
14164: PUSH
14165: LD_INT 0
14167: ST_TO_ADDR
// for k in Restricted_Builds [ i ] do
14168: LD_ADDR_VAR 0 4
14172: PUSH
14173: LD_LOC 18
14177: PUSH
14178: LD_VAR 0 2
14182: ARRAY
14183: PUSH
14184: FOR_IN
14185: IFFALSE 14233
// amount := amount + FilterAllUnits ( [ [ f_side , j ] , [ f_btype , k ] ] ) ;
14187: LD_ADDR_VAR 0 5
14191: PUSH
14192: LD_VAR 0 5
14196: PUSH
14197: LD_INT 22
14199: PUSH
14200: LD_VAR 0 3
14204: PUSH
14205: EMPTY
14206: LIST
14207: LIST
14208: PUSH
14209: LD_INT 30
14211: PUSH
14212: LD_VAR 0 4
14216: PUSH
14217: EMPTY
14218: LIST
14219: LIST
14220: PUSH
14221: EMPTY
14222: LIST
14223: LIST
14224: PPUSH
14225: CALL_OW 69
14229: PLUS
14230: ST_TO_ADDR
14231: GO 14184
14233: POP
14234: POP
// break ;
14235: GO 14239
// end ;
14237: GO 14145
14239: POP
14240: POP
// list := [ ] ;
14241: LD_ADDR_VAR 0 7
14245: PUSH
14246: EMPTY
14247: ST_TO_ADDR
// for j := 1 to 8 do
14248: LD_ADDR_VAR 0 3
14252: PUSH
14253: DOUBLE
14254: LD_INT 1
14256: DEC
14257: ST_TO_ADDR
14258: LD_INT 8
14260: PUSH
14261: FOR_TO
14262: IFFALSE 14282
// list := list ^ amount ;
14264: LD_ADDR_VAR 0 7
14268: PUSH
14269: LD_VAR 0 7
14273: PUSH
14274: LD_VAR 0 5
14278: ADD
14279: ST_TO_ADDR
14280: GO 14261
14282: POP
14283: POP
// Already_Built := Already_Built ^ [ list ] ;
14284: LD_ADDR_LOC 24
14288: PUSH
14289: LD_LOC 24
14293: PUSH
14294: LD_VAR 0 7
14298: PUSH
14299: EMPTY
14300: LIST
14301: ADD
14302: ST_TO_ADDR
// Limits_Info := Limits_Info ^ [ btype , amount , Restricted_Builds_Amount [ i ] ] ;
14303: LD_ADDR_LOC 25
14307: PUSH
14308: LD_LOC 25
14312: PUSH
14313: LD_VAR 0 6
14317: PUSH
14318: LD_VAR 0 5
14322: PUSH
14323: LD_LOC 19
14327: PUSH
14328: LD_VAR 0 2
14332: ARRAY
14333: PUSH
14334: EMPTY
14335: LIST
14336: LIST
14337: LIST
14338: ADD
14339: ST_TO_ADDR
// end ;
14340: GO 14031
14342: POP
14343: POP
// Cheaters := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
14344: LD_ADDR_LOC 26
14348: PUSH
14349: LD_INT 0
14351: PUSH
14352: LD_INT 0
14354: PUSH
14355: LD_INT 0
14357: PUSH
14358: LD_INT 0
14360: PUSH
14361: LD_INT 0
14363: PUSH
14364: LD_INT 0
14366: PUSH
14367: LD_INT 0
14369: PUSH
14370: LD_INT 0
14372: PUSH
14373: EMPTY
14374: LIST
14375: LIST
14376: LIST
14377: LIST
14378: LIST
14379: LIST
14380: LIST
14381: LIST
14382: ST_TO_ADDR
// if Limits_Info then
14383: LD_LOC 25
14387: IFFALSE 14403
// Limits_Info := #Limits ^ Limits_Info ;
14389: LD_ADDR_LOC 25
14393: PUSH
14394: LD_STRING #Limits
14396: PUSH
14397: LD_LOC 25
14401: ADD
14402: ST_TO_ADDR
// end ;
14403: LD_VAR 0 1
14407: RET
// export function ExecuteLimits ( un , BType , side , old_side , count ) ; var i , j , Is_Cheater ; begin
14408: LD_INT 0
14410: PPUSH
14411: PPUSH
14412: PPUSH
14413: PPUSH
// for i := 1 to Restricted_Builds do
14414: LD_ADDR_VAR 0 7
14418: PUSH
14419: DOUBLE
14420: LD_INT 1
14422: DEC
14423: ST_TO_ADDR
14424: LD_LOC 18
14428: PUSH
14429: FOR_TO
14430: IFFALSE 14853
// if BType in Restricted_Builds [ i ] then
14432: LD_VAR 0 2
14436: PUSH
14437: LD_LOC 18
14441: PUSH
14442: LD_VAR 0 7
14446: ARRAY
14447: IN
14448: IFFALSE 14851
// begin if old_side then
14450: LD_VAR 0 4
14454: IFFALSE 14580
// if Already_Built [ i ] [ side ] + count > Restricted_Builds_Amount [ i ] then
14456: LD_LOC 24
14460: PUSH
14461: LD_VAR 0 7
14465: ARRAY
14466: PUSH
14467: LD_VAR 0 3
14471: ARRAY
14472: PUSH
14473: LD_VAR 0 5
14477: PLUS
14478: PUSH
14479: LD_LOC 19
14483: PUSH
14484: LD_VAR 0 7
14488: ARRAY
14489: GREATER
14490: IFFALSE 14516
// begin SetSide ( un , old_side ) ;
14492: LD_VAR 0 1
14496: PPUSH
14497: LD_VAR 0 4
14501: PPUSH
14502: CALL_OW 235
// count := 0 ;
14506: LD_ADDR_VAR 0 5
14510: PUSH
14511: LD_INT 0
14513: ST_TO_ADDR
// end else
14514: GO 14580
// Already_Built := Replace ( Already_Built , i , Replace ( Already_Built [ i ] , old_side , Already_Built [ i ] [ old_side ] - count ) ) ;
14516: LD_ADDR_LOC 24
14520: PUSH
14521: LD_LOC 24
14525: PPUSH
14526: LD_VAR 0 7
14530: PPUSH
14531: LD_LOC 24
14535: PUSH
14536: LD_VAR 0 7
14540: ARRAY
14541: PPUSH
14542: LD_VAR 0 4
14546: PPUSH
14547: LD_LOC 24
14551: PUSH
14552: LD_VAR 0 7
14556: ARRAY
14557: PUSH
14558: LD_VAR 0 4
14562: ARRAY
14563: PUSH
14564: LD_VAR 0 5
14568: MINUS
14569: PPUSH
14570: CALL_OW 1
14574: PPUSH
14575: CALL_OW 1
14579: ST_TO_ADDR
// Already_Built := Replace ( Already_Built , i , Replace ( Already_Built [ i ] , side , Already_Built [ i ] [ side ] + count ) ) ;
14580: LD_ADDR_LOC 24
14584: PUSH
14585: LD_LOC 24
14589: PPUSH
14590: LD_VAR 0 7
14594: PPUSH
14595: LD_LOC 24
14599: PUSH
14600: LD_VAR 0 7
14604: ARRAY
14605: PPUSH
14606: LD_VAR 0 3
14610: PPUSH
14611: LD_LOC 24
14615: PUSH
14616: LD_VAR 0 7
14620: ARRAY
14621: PUSH
14622: LD_VAR 0 3
14626: ARRAY
14627: PUSH
14628: LD_VAR 0 5
14632: PLUS
14633: PPUSH
14634: CALL_OW 1
14638: PPUSH
14639: CALL_OW 1
14643: ST_TO_ADDR
// if count <> 0 and ( side = your_side ) then
14644: LD_VAR 0 5
14648: PUSH
14649: LD_INT 0
14651: NONEQUAL
14652: PUSH
14653: LD_VAR 0 3
14657: PUSH
14658: LD_OWVAR 2
14662: EQUAL
14663: AND
14664: IFFALSE 14707
// Limits_Info := Replace ( Limits_Info , 3 * i , Already_Built [ i ] [ side ] ) ;
14666: LD_ADDR_LOC 25
14670: PUSH
14671: LD_LOC 25
14675: PPUSH
14676: LD_INT 3
14678: PUSH
14679: LD_VAR 0 7
14683: MUL
14684: PPUSH
14685: LD_LOC 24
14689: PUSH
14690: LD_VAR 0 7
14694: ARRAY
14695: PUSH
14696: LD_VAR 0 3
14700: ARRAY
14701: PPUSH
14702: CALL_OW 1
14706: ST_TO_ADDR
// if Already_Built [ i ] [ side ] > Restricted_Builds_Amount [ i ] then
14707: LD_LOC 24
14711: PUSH
14712: LD_VAR 0 7
14716: ARRAY
14717: PUSH
14718: LD_VAR 0 3
14722: ARRAY
14723: PUSH
14724: LD_LOC 19
14728: PUSH
14729: LD_VAR 0 7
14733: ARRAY
14734: GREATER
14735: IFFALSE 14762
// begin Cheaters := Replace ( Cheaters , side , 1 ) ;
14737: LD_ADDR_LOC 26
14741: PUSH
14742: LD_LOC 26
14746: PPUSH
14747: LD_VAR 0 3
14751: PPUSH
14752: LD_INT 1
14754: PPUSH
14755: CALL_OW 1
14759: ST_TO_ADDR
// end else
14760: GO 14849
// begin for j := 1 to Restricted_Builds do
14762: LD_ADDR_VAR 0 8
14766: PUSH
14767: DOUBLE
14768: LD_INT 1
14770: DEC
14771: ST_TO_ADDR
14772: LD_LOC 18
14776: PUSH
14777: FOR_TO
14778: IFFALSE 14822
// if Already_Built [ j ] [ side ] > Restricted_Builds_Amount [ j ] then
14780: LD_LOC 24
14784: PUSH
14785: LD_VAR 0 8
14789: ARRAY
14790: PUSH
14791: LD_VAR 0 3
14795: ARRAY
14796: PUSH
14797: LD_LOC 19
14801: PUSH
14802: LD_VAR 0 8
14806: ARRAY
14807: GREATER
14808: IFFALSE 14820
// begin Is_Cheater := true ;
14810: LD_ADDR_VAR 0 9
14814: PUSH
14815: LD_INT 1
14817: ST_TO_ADDR
// break ;
14818: GO 14822
// end ;
14820: GO 14777
14822: POP
14823: POP
// Cheaters := Replace ( Cheaters , side , Is_Cheater ) ;
14824: LD_ADDR_LOC 26
14828: PUSH
14829: LD_LOC 26
14833: PPUSH
14834: LD_VAR 0 3
14838: PPUSH
14839: LD_VAR 0 9
14843: PPUSH
14844: CALL_OW 1
14848: ST_TO_ADDR
// end ; break ;
14849: GO 14853
// end ;
14851: GO 14429
14853: POP
14854: POP
// end ;
14855: LD_VAR 0 6
14859: RET
// on VehicleConstructionStarted ( factory , chassis , engine , control , weapon ) do begin if ( weapon in Banned_Weapons ) or ( chassis in Banned_Chassis ) or ( control in Banned_Controls ) or ( engine in Banned_Engines ) then
14860: LD_VAR 0 5
14864: PUSH
14865: LD_LOC 20
14869: IN
14870: PUSH
14871: LD_VAR 0 2
14875: PUSH
14876: LD_LOC 21
14880: IN
14881: OR
14882: PUSH
14883: LD_VAR 0 4
14887: PUSH
14888: LD_LOC 22
14892: IN
14893: OR
14894: PUSH
14895: LD_VAR 0 3
14899: PUSH
14900: LD_LOC 23
14904: IN
14905: OR
14906: IFFALSE 14917
// ComCancel ( factory ) ;
14908: LD_VAR 0 1
14912: PPUSH
14913: CALL_OW 127
// end ;
14917: PPOPN 5
14919: END
// on WeaponPlaced ( building , weapon ) do begin if ( weapon in Banned_Weapons ) then
14920: LD_VAR 0 2
14924: PUSH
14925: LD_LOC 20
14929: IN
14930: IFFALSE 14941
// ComCancel ( building ) ;
14932: LD_VAR 0 1
14936: PPUSH
14937: CALL_OW 127
// end ; end_of_file
14941: PPOPN 2
14943: END
// export ExtraStrings ; export WaitServerStrings ; export function ShowTimer ; var AllStrings ; begin
14944: LD_INT 0
14946: PPUSH
14947: PPUSH
// AllStrings := [ #Multi1x1-Time , tick ] ;
14948: LD_ADDR_VAR 0 2
14952: PUSH
14953: LD_STRING #Multi1x1-Time
14955: PUSH
14956: LD_OWVAR 1
14960: PUSH
14961: EMPTY
14962: LIST
14963: LIST
14964: ST_TO_ADDR
// if WaitServerStrings then
14965: LD_EXP 68
14969: IFFALSE 14987
// AllStrings = AllStrings ^ WaitServerStrings ;
14971: LD_ADDR_VAR 0 2
14975: PUSH
14976: LD_VAR 0 2
14980: PUSH
14981: LD_EXP 68
14985: ADD
14986: ST_TO_ADDR
// if 0 <= siberite_bomb_Delay - tick then
14987: LD_INT 0
14989: PUSH
14990: LD_EXP 38
14994: PUSH
14995: LD_OWVAR 1
14999: MINUS
15000: LESSEQUAL
15001: IFFALSE 15032
// AllStrings := AllStrings ^ [ #allowedsibbomb , siberite_bomb_Delay - tick ] ;
15003: LD_ADDR_VAR 0 2
15007: PUSH
15008: LD_VAR 0 2
15012: PUSH
15013: LD_STRING #allowedsibbomb
15015: PUSH
15016: LD_EXP 38
15020: PUSH
15021: LD_OWVAR 1
15025: MINUS
15026: PUSH
15027: EMPTY
15028: LIST
15029: LIST
15030: ADD
15031: ST_TO_ADDR
// if ( ExtraStrings ) then
15032: LD_EXP 67
15036: IFFALSE 15058
// AllStrings := AllStrings ^  ^ ExtraStrings ;
15038: LD_ADDR_VAR 0 2
15042: PUSH
15043: LD_VAR 0 2
15047: PUSH
15048: LD_STRING 
15050: ADD
15051: PUSH
15052: LD_EXP 67
15056: ADD
15057: ST_TO_ADDR
// if ( LimitsStrings ) then
15058: CALL 13234 0 0
15062: IFFALSE 15084
// AllStrings := AllStrings ^  ^ LimitsStrings ;
15064: LD_ADDR_VAR 0 2
15068: PUSH
15069: LD_VAR 0 2
15073: PUSH
15074: LD_STRING 
15076: ADD
15077: PUSH
15078: CALL 13234 0 0
15082: ADD
15083: ST_TO_ADDR
// Display_Strings := AllStrings ;
15084: LD_ADDR_OWVAR 47
15088: PUSH
15089: LD_VAR 0 2
15093: ST_TO_ADDR
// end ;
15094: LD_VAR 0 1
15098: RET
// every 0 0$1 do
15099: GO 15101
15101: DISABLE
// begin ShowTimer ;
15102: CALL 14944 0 0
// enable ;
15106: ENABLE
// end ; end_of_file
15107: END
// export BuildUpAreas ; export BuildUpTimeActive ; export BuildUpTime_Delay ; export function BeginBuildUp ; var i , j ; begin
15108: LD_INT 0
15110: PPUSH
15111: PPUSH
15112: PPUSH
// BuildUpTime_Delay = 0 ;
15113: LD_ADDR_EXP 71
15117: PUSH
15118: LD_INT 0
15120: ST_TO_ADDR
// if not def_builduptime then
15121: LD_EXP 17
15125: NOT
15126: IFFALSE 15130
// exit ;
15128: GO 15313
// BuildUpTime_Delay := 4 4$00 + 1 1$00 * def_builduptime ;
15130: LD_ADDR_EXP 71
15134: PUSH
15135: LD_INT 8400
15137: PUSH
15138: LD_INT 2100
15140: PUSH
15141: LD_EXP 17
15145: MUL
15146: PLUS
15147: ST_TO_ADDR
// BuildUpTimeActive := true ;
15148: LD_ADDR_EXP 70
15152: PUSH
15153: LD_INT 1
15155: ST_TO_ADDR
// for i := 1 to 8 do
15156: LD_ADDR_VAR 0 2
15160: PUSH
15161: DOUBLE
15162: LD_INT 1
15164: DEC
15165: ST_TO_ADDR
15166: LD_INT 8
15168: PUSH
15169: FOR_TO
15170: IFFALSE 15311
// if Side_Positions [ i ] then
15172: LD_EXP 43
15176: PUSH
15177: LD_VAR 0 2
15181: ARRAY
15182: IFFALSE 15309
// begin SetAreaMapShow ( BuildUpAreas [ Side_Positions [ i ] ] , 5 ) ;
15184: LD_EXP 69
15188: PUSH
15189: LD_EXP 43
15193: PUSH
15194: LD_VAR 0 2
15198: ARRAY
15199: ARRAY
15200: PPUSH
15201: LD_INT 5
15203: PPUSH
15204: CALL_OW 424
// for j := 1 to 8 do
15208: LD_ADDR_VAR 0 3
15212: PUSH
15213: DOUBLE
15214: LD_INT 1
15216: DEC
15217: ST_TO_ADDR
15218: LD_INT 8
15220: PUSH
15221: FOR_TO
15222: IFFALSE 15307
// if Side_Positions [ j ] and ( ( Side_Teams [ i ] <> Side_Teams [ j ] ) or ( not Team_Game ) and ( i <> j ) ) then
15224: LD_EXP 43
15228: PUSH
15229: LD_VAR 0 3
15233: ARRAY
15234: PUSH
15235: LD_EXP 40
15239: PUSH
15240: LD_VAR 0 2
15244: ARRAY
15245: PUSH
15246: LD_EXP 40
15250: PUSH
15251: LD_VAR 0 3
15255: ARRAY
15256: NONEQUAL
15257: PUSH
15258: LD_EXP 45
15262: NOT
15263: PUSH
15264: LD_VAR 0 2
15268: PUSH
15269: LD_VAR 0 3
15273: NONEQUAL
15274: AND
15275: OR
15276: AND
15277: IFFALSE 15305
// HideArea ( j , BuildUpAreas [ Side_Positions [ i ] ] ) ;
15279: LD_VAR 0 3
15283: PPUSH
15284: LD_EXP 69
15288: PUSH
15289: LD_EXP 43
15293: PUSH
15294: LD_VAR 0 2
15298: ARRAY
15299: ARRAY
15300: PPUSH
15301: CALL_OW 333
15305: GO 15221
15307: POP
15308: POP
// end ;
15309: GO 15169
15311: POP
15312: POP
// end ;
15313: LD_VAR 0 1
15317: RET
// export function EndBuildUp ; var i , j ; begin
15318: LD_INT 0
15320: PPUSH
15321: PPUSH
15322: PPUSH
// BuildUpTimeActive := false ;
15323: LD_ADDR_EXP 70
15327: PUSH
15328: LD_INT 0
15330: ST_TO_ADDR
// for i := 1 to 8 do
15331: LD_ADDR_VAR 0 2
15335: PUSH
15336: DOUBLE
15337: LD_INT 1
15339: DEC
15340: ST_TO_ADDR
15341: LD_INT 8
15343: PUSH
15344: FOR_TO
15345: IFFALSE 15486
// if Side_Positions [ i ] then
15347: LD_EXP 43
15351: PUSH
15352: LD_VAR 0 2
15356: ARRAY
15357: IFFALSE 15484
// begin SetAreaMapShow ( BuildUpAreas [ Side_Positions [ i ] ] , 0 ) ;
15359: LD_EXP 69
15363: PUSH
15364: LD_EXP 43
15368: PUSH
15369: LD_VAR 0 2
15373: ARRAY
15374: ARRAY
15375: PPUSH
15376: LD_INT 0
15378: PPUSH
15379: CALL_OW 424
// for j := 1 to 8 do
15383: LD_ADDR_VAR 0 3
15387: PUSH
15388: DOUBLE
15389: LD_INT 1
15391: DEC
15392: ST_TO_ADDR
15393: LD_INT 8
15395: PUSH
15396: FOR_TO
15397: IFFALSE 15482
// if Side_Positions [ j ] and ( ( Side_Teams [ i ] <> Side_Teams [ j ] ) or ( not Team_Game ) and ( i <> j ) ) then
15399: LD_EXP 43
15403: PUSH
15404: LD_VAR 0 3
15408: ARRAY
15409: PUSH
15410: LD_EXP 40
15414: PUSH
15415: LD_VAR 0 2
15419: ARRAY
15420: PUSH
15421: LD_EXP 40
15425: PUSH
15426: LD_VAR 0 3
15430: ARRAY
15431: NONEQUAL
15432: PUSH
15433: LD_EXP 45
15437: NOT
15438: PUSH
15439: LD_VAR 0 2
15443: PUSH
15444: LD_VAR 0 3
15448: NONEQUAL
15449: AND
15450: OR
15451: AND
15452: IFFALSE 15480
// ShowArea ( j , BuildUpAreas [ Side_Positions [ i ] ] ) ;
15454: LD_VAR 0 3
15458: PPUSH
15459: LD_EXP 69
15463: PUSH
15464: LD_EXP 43
15468: PUSH
15469: LD_VAR 0 2
15473: ARRAY
15474: ARRAY
15475: PPUSH
15476: CALL_OW 334
15480: GO 15396
15482: POP
15483: POP
// end ;
15484: GO 15344
15486: POP
15487: POP
// end ;
15488: LD_VAR 0 1
15492: RET
// every 5 trigger BuildUpTimeActive do var i , un ;
15493: LD_EXP 70
15497: IFFALSE 15672
15499: GO 15501
15501: DISABLE
15502: LD_INT 0
15504: PPUSH
15505: PPUSH
// begin for i := 1 to 8 do
15506: LD_ADDR_VAR 0 1
15510: PUSH
15511: DOUBLE
15512: LD_INT 1
15514: DEC
15515: ST_TO_ADDR
15516: LD_INT 8
15518: PUSH
15519: FOR_TO
15520: IFFALSE 15669
// if Side_Positions [ i ] then
15522: LD_EXP 43
15526: PUSH
15527: LD_VAR 0 1
15531: ARRAY
15532: IFFALSE 15667
// for un in FilterUnitsInArea ( BuildUpAreas [ Side_Positions [ i ] ] , [ [ f_or , [ f_type , unit_human ] , [ f_type , unit_vehicle ] ] , [ f_side , Your_Side ] ] ) do
15534: LD_ADDR_VAR 0 2
15538: PUSH
15539: LD_EXP 69
15543: PUSH
15544: LD_EXP 43
15548: PUSH
15549: LD_VAR 0 1
15553: ARRAY
15554: ARRAY
15555: PPUSH
15556: LD_INT 2
15558: PUSH
15559: LD_INT 21
15561: PUSH
15562: LD_INT 1
15564: PUSH
15565: EMPTY
15566: LIST
15567: LIST
15568: PUSH
15569: LD_INT 21
15571: PUSH
15572: LD_INT 2
15574: PUSH
15575: EMPTY
15576: LIST
15577: LIST
15578: PUSH
15579: EMPTY
15580: LIST
15581: LIST
15582: LIST
15583: PUSH
15584: LD_INT 22
15586: PUSH
15587: LD_OWVAR 2
15591: PUSH
15592: EMPTY
15593: LIST
15594: LIST
15595: PUSH
15596: EMPTY
15597: LIST
15598: LIST
15599: PPUSH
15600: CALL_OW 70
15604: PUSH
15605: FOR_IN
15606: IFFALSE 15665
// if ( ( Side_Teams [ i ] <> Side_Teams [ Your_Side ] ) or ( not Team_Game ) and ( i <> Your_Side ) ) then
15608: LD_EXP 40
15612: PUSH
15613: LD_VAR 0 1
15617: ARRAY
15618: PUSH
15619: LD_EXP 40
15623: PUSH
15624: LD_OWVAR 2
15628: ARRAY
15629: NONEQUAL
15630: PUSH
15631: LD_EXP 45
15635: NOT
15636: PUSH
15637: LD_VAR 0 1
15641: PUSH
15642: LD_OWVAR 2
15646: NONEQUAL
15647: AND
15648: OR
15649: IFFALSE 15663
// ComMoveToArea ( un , BuildUpEscape ) ;
15651: LD_VAR 0 2
15655: PPUSH
15656: LD_INT 28
15658: PPUSH
15659: CALL_OW 113
15663: GO 15605
15665: POP
15666: POP
15667: GO 15519
15669: POP
15670: POP
// enable ;
15671: ENABLE
// end ;
15672: PPOPN 2
15674: END
// every 0 0$1 trigger def_builduptime do
15675: LD_EXP 17
15679: IFFALSE 15705
15681: GO 15683
15683: DISABLE
// begin wait ( 4 4$00 + ( def_builduptime * 1 1$00 ) ) ;
15684: LD_INT 8400
15686: PUSH
15687: LD_EXP 17
15691: PUSH
15692: LD_INT 2100
15694: MUL
15695: PLUS
15696: PPUSH
15697: CALL_OW 67
// EndBuildUp ;
15701: CALL 15318 0 0
// end ; end_of_file
15705: END
// export function SA_OnSiberiteRocketExploded ( siberite_rocket_vehicle , target_x , target_y , requestSide ) ; begin
15706: LD_INT 0
15708: PPUSH
// if GetSide ( siberite_rocket_vehicle ) = requestSide then
15709: LD_VAR 0 1
15713: PPUSH
15714: CALL_OW 255
15718: PUSH
15719: LD_VAR 0 4
15723: EQUAL
15724: IFFALSE 15743
// begin SetAchievement ( ACH_RAD ) ;
15726: LD_STRING ACH_RAD
15728: PPUSH
15729: CALL_OW 543
// SetAchievementEx ( ACH_NL , 1 ) ;
15733: LD_STRING ACH_NL
15735: PPUSH
15736: LD_INT 1
15738: PPUSH
15739: CALL_OW 564
// end end ;
15743: LD_VAR 0 5
15747: RET
// export function SA_Win ( side ) ; begin
15748: LD_INT 0
15750: PPUSH
// case side of 1 :
15751: LD_VAR 0 1
15755: PUSH
15756: LD_INT 1
15758: DOUBLE
15759: EQUAL
15760: IFTRUE 15764
15762: GO 15777
15764: POP
// SetAchievementEx ( ACH_AH , 1 ) ; 2 :
15765: LD_STRING ACH_AH
15767: PPUSH
15768: LD_INT 1
15770: PPUSH
15771: CALL_OW 564
15775: GO 15940
15777: LD_INT 2
15779: DOUBLE
15780: EQUAL
15781: IFTRUE 15785
15783: GO 15798
15785: POP
// SetAchievementEx ( ACH_E , 1 ) ; 3 :
15786: LD_STRING ACH_E
15788: PPUSH
15789: LD_INT 1
15791: PPUSH
15792: CALL_OW 564
15796: GO 15940
15798: LD_INT 3
15800: DOUBLE
15801: EQUAL
15802: IFTRUE 15806
15804: GO 15819
15806: POP
// SetAchievementEx ( ACH_OOL , 1 ) ; [ 1 , 2 ] :
15807: LD_STRING ACH_OOL
15809: PPUSH
15810: LD_INT 1
15812: PPUSH
15813: CALL_OW 564
15817: GO 15940
15819: LD_INT 1
15821: PUSH
15822: LD_INT 2
15824: PUSH
15825: EMPTY
15826: LIST
15827: LIST
15828: DOUBLE
15829: EQUAL
15830: IFTRUE 15834
15832: GO 15859
15834: POP
// begin SetAchievementEx ( ACH_AH , 0.5 ) ;
15835: LD_STRING ACH_AH
15837: PPUSH
15838: LD_REAL  5.00000000000000E-0001
15841: PPUSH
15842: CALL_OW 564
// SetAchievementEx ( ACH_E , 0.5 ) ;
15846: LD_STRING ACH_E
15848: PPUSH
15849: LD_REAL  5.00000000000000E-0001
15852: PPUSH
15853: CALL_OW 564
// end ; [ 2 , 3 ] :
15857: GO 15940
15859: LD_INT 2
15861: PUSH
15862: LD_INT 3
15864: PUSH
15865: EMPTY
15866: LIST
15867: LIST
15868: DOUBLE
15869: EQUAL
15870: IFTRUE 15874
15872: GO 15899
15874: POP
// begin SetAchievementEx ( ACH_OOL , 0.5 ) ;
15875: LD_STRING ACH_OOL
15877: PPUSH
15878: LD_REAL  5.00000000000000E-0001
15881: PPUSH
15882: CALL_OW 564
// SetAchievementEx ( ACH_E , 0.5 ) ;
15886: LD_STRING ACH_E
15888: PPUSH
15889: LD_REAL  5.00000000000000E-0001
15892: PPUSH
15893: CALL_OW 564
// end ; [ 3 , 1 ] :
15897: GO 15940
15899: LD_INT 3
15901: PUSH
15902: LD_INT 1
15904: PUSH
15905: EMPTY
15906: LIST
15907: LIST
15908: DOUBLE
15909: EQUAL
15910: IFTRUE 15914
15912: GO 15939
15914: POP
// begin SetAchievementEx ( ACH_AH , 0.5 ) ;
15915: LD_STRING ACH_AH
15917: PPUSH
15918: LD_REAL  5.00000000000000E-0001
15921: PPUSH
15922: CALL_OW 564
// SetAchievementEx ( ACH_OOL , 0.5 ) ;
15926: LD_STRING ACH_OOL
15928: PPUSH
15929: LD_REAL  5.00000000000000E-0001
15932: PPUSH
15933: CALL_OW 564
// end ; end ;
15937: GO 15940
15939: POP
// end ; end_of_file
15940: LD_VAR 0 2
15944: RET
// var defeated , GameEnded , unfoged , defeated_specs ; export function Init_Win_Condition ; var i ; begin
15945: LD_INT 0
15947: PPUSH
15948: PPUSH
// enable ( 98 ) ;
15949: LD_INT 98
15951: ENABLE_MARKED
// GameEnded = false ;
15952: LD_ADDR_LOC 28
15956: PUSH
15957: LD_INT 0
15959: ST_TO_ADDR
// defeated = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
15960: LD_ADDR_LOC 27
15964: PUSH
15965: LD_INT 0
15967: PUSH
15968: LD_INT 0
15970: PUSH
15971: LD_INT 0
15973: PUSH
15974: LD_INT 0
15976: PUSH
15977: LD_INT 0
15979: PUSH
15980: LD_INT 0
15982: PUSH
15983: LD_INT 0
15985: PUSH
15986: LD_INT 0
15988: PUSH
15989: EMPTY
15990: LIST
15991: LIST
15992: LIST
15993: LIST
15994: LIST
15995: LIST
15996: LIST
15997: LIST
15998: ST_TO_ADDR
// unfoged = false ;
15999: LD_ADDR_LOC 29
16003: PUSH
16004: LD_INT 0
16006: ST_TO_ADDR
// defeated_specs := [ ] ;
16007: LD_ADDR_LOC 30
16011: PUSH
16012: EMPTY
16013: ST_TO_ADDR
// for i = 1 to side_positions do
16014: LD_ADDR_VAR 0 2
16018: PUSH
16019: DOUBLE
16020: LD_INT 1
16022: DEC
16023: ST_TO_ADDR
16024: LD_EXP 43
16028: PUSH
16029: FOR_TO
16030: IFFALSE 16070
// if not side_positions [ i ] then
16032: LD_EXP 43
16036: PUSH
16037: LD_VAR 0 2
16041: ARRAY
16042: NOT
16043: IFFALSE 16068
// defeated = replace ( defeated , i , true ) ;
16045: LD_ADDR_LOC 27
16049: PUSH
16050: LD_LOC 27
16054: PPUSH
16055: LD_VAR 0 2
16059: PPUSH
16060: LD_INT 1
16062: PPUSH
16063: CALL_OW 1
16067: ST_TO_ADDR
16068: GO 16029
16070: POP
16071: POP
// end ;
16072: LD_VAR 0 1
16076: RET
// function CanWinLoose ; begin
16077: LD_INT 0
16079: PPUSH
// Result := true ;
16080: LD_ADDR_VAR 0 1
16084: PUSH
16085: LD_INT 1
16087: ST_TO_ADDR
// if IAmServer and PlayerCount > 0 then
16088: CALL_OW 518
16092: PUSH
16093: CALL_OW 519
16097: PUSH
16098: LD_INT 0
16100: GREATER
16101: AND
16102: IFFALSE 16112
// Result := false ;
16104: LD_ADDR_VAR 0 1
16108: PUSH
16109: LD_INT 0
16111: ST_TO_ADDR
// if IAmSpec and PlayerCount > 1 then
16112: CALL_OW 531
16116: PUSH
16117: CALL_OW 519
16121: PUSH
16122: LD_INT 1
16124: GREATER
16125: AND
16126: IFFALSE 16136
// Result := false ;
16128: LD_ADDR_VAR 0 1
16132: PUSH
16133: LD_INT 0
16135: ST_TO_ADDR
// end ;
16136: LD_VAR 0 1
16140: RET
// export function HasPower ( i ) ; var k , h ; begin
16141: LD_INT 0
16143: PPUSH
16144: PPUSH
16145: PPUSH
// if not MultiplayerSideAlive ( i ) and not Side_Comps [ i ] and MultiPlayer then
16146: LD_VAR 0 1
16150: PPUSH
16151: CALL_OW 108
16155: NOT
16156: PUSH
16157: LD_EXP 42
16161: PUSH
16162: LD_VAR 0 1
16166: ARRAY
16167: NOT
16168: AND
16169: PUSH
16170: LD_OWVAR 4
16174: AND
16175: IFFALSE 16187
// begin result = false ;
16177: LD_ADDR_VAR 0 2
16181: PUSH
16182: LD_INT 0
16184: ST_TO_ADDR
// end else
16185: GO 16482
// case def_win_rules of 0 :
16187: LD_EXP 18
16191: PUSH
16192: LD_INT 0
16194: DOUBLE
16195: EQUAL
16196: IFTRUE 16200
16198: GO 16363
16200: POP
// if def_people_respawning then
16201: LD_EXP 19
16205: IFFALSE 16296
// Result := FilterAllUnits ( [ [ f_side , i ] , [ f_or , [ f_type , unit_human ] , [ f_control , control_computer ] , [ f_control , control_apeman ] , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) else
16207: LD_ADDR_VAR 0 2
16211: PUSH
16212: LD_INT 22
16214: PUSH
16215: LD_VAR 0 1
16219: PUSH
16220: EMPTY
16221: LIST
16222: LIST
16223: PUSH
16224: LD_INT 2
16226: PUSH
16227: LD_INT 21
16229: PUSH
16230: LD_INT 1
16232: PUSH
16233: EMPTY
16234: LIST
16235: LIST
16236: PUSH
16237: LD_INT 33
16239: PUSH
16240: LD_INT 3
16242: PUSH
16243: EMPTY
16244: LIST
16245: LIST
16246: PUSH
16247: LD_INT 33
16249: PUSH
16250: LD_INT 5
16252: PUSH
16253: EMPTY
16254: LIST
16255: LIST
16256: PUSH
16257: LD_INT 30
16259: PUSH
16260: LD_INT 0
16262: PUSH
16263: EMPTY
16264: LIST
16265: LIST
16266: PUSH
16267: LD_INT 30
16269: PUSH
16270: LD_INT 1
16272: PUSH
16273: EMPTY
16274: LIST
16275: LIST
16276: PUSH
16277: EMPTY
16278: LIST
16279: LIST
16280: LIST
16281: LIST
16282: LIST
16283: LIST
16284: PUSH
16285: EMPTY
16286: LIST
16287: LIST
16288: PPUSH
16289: CALL_OW 69
16293: ST_TO_ADDR
16294: GO 16361
// Result := FilterAllUnits ( [ [ f_side , i ] , [ f_or , [ f_type , unit_human ] , [ f_control , control_computer ] , [ f_control , control_apeman ] ] ] ) ; 1 :
16296: LD_ADDR_VAR 0 2
16300: PUSH
16301: LD_INT 22
16303: PUSH
16304: LD_VAR 0 1
16308: PUSH
16309: EMPTY
16310: LIST
16311: LIST
16312: PUSH
16313: LD_INT 2
16315: PUSH
16316: LD_INT 21
16318: PUSH
16319: LD_INT 1
16321: PUSH
16322: EMPTY
16323: LIST
16324: LIST
16325: PUSH
16326: LD_INT 33
16328: PUSH
16329: LD_INT 3
16331: PUSH
16332: EMPTY
16333: LIST
16334: LIST
16335: PUSH
16336: LD_INT 33
16338: PUSH
16339: LD_INT 5
16341: PUSH
16342: EMPTY
16343: LIST
16344: LIST
16345: PUSH
16346: EMPTY
16347: LIST
16348: LIST
16349: LIST
16350: LIST
16351: PUSH
16352: EMPTY
16353: LIST
16354: LIST
16355: PPUSH
16356: CALL_OW 69
16360: ST_TO_ADDR
16361: GO 16482
16363: LD_INT 1
16365: DOUBLE
16366: EQUAL
16367: IFTRUE 16371
16369: GO 16410
16371: POP
// Result = FilterAllUnits ( [ [ f_side , i ] , [ f_type , unit_human ] ] ) ; 2 :
16372: LD_ADDR_VAR 0 2
16376: PUSH
16377: LD_INT 22
16379: PUSH
16380: LD_VAR 0 1
16384: PUSH
16385: EMPTY
16386: LIST
16387: LIST
16388: PUSH
16389: LD_INT 21
16391: PUSH
16392: LD_INT 1
16394: PUSH
16395: EMPTY
16396: LIST
16397: LIST
16398: PUSH
16399: EMPTY
16400: LIST
16401: LIST
16402: PPUSH
16403: CALL_OW 69
16407: ST_TO_ADDR
16408: GO 16482
16410: LD_INT 2
16412: DOUBLE
16413: EQUAL
16414: IFTRUE 16418
16416: GO 16481
16418: POP
// begin h = false ;
16419: LD_ADDR_VAR 0 4
16423: PUSH
16424: LD_INT 0
16426: ST_TO_ADDR
// for k in heroes [ i ] do
16427: LD_ADDR_VAR 0 3
16431: PUSH
16432: LD_EXP 56
16436: PUSH
16437: LD_VAR 0 1
16441: ARRAY
16442: PUSH
16443: FOR_IN
16444: IFFALSE 16467
// if IsLive ( k ) then
16446: LD_VAR 0 3
16450: PPUSH
16451: CALL_OW 300
16455: IFFALSE 16465
// h = true ;
16457: LD_ADDR_VAR 0 4
16461: PUSH
16462: LD_INT 1
16464: ST_TO_ADDR
16465: GO 16443
16467: POP
16468: POP
// Result := h ;
16469: LD_ADDR_VAR 0 2
16473: PUSH
16474: LD_VAR 0 4
16478: ST_TO_ADDR
// end ; end ;
16479: GO 16482
16481: POP
// end ;
16482: LD_VAR 0 2
16486: RET
// function AlliedSides ( i , j ) ; begin
16487: LD_INT 0
16489: PPUSH
// Result := false ;
16490: LD_ADDR_VAR 0 3
16494: PUSH
16495: LD_INT 0
16497: ST_TO_ADDR
// if ( GetAttitude ( i , j ) = att_friend ) and ( GetAttitude ( j , i ) = att_friend ) and GetAlliedVictory ( i ) and GetAlliedVictory ( j ) then
16498: LD_VAR 0 1
16502: PPUSH
16503: LD_VAR 0 2
16507: PPUSH
16508: CALL_OW 81
16512: PUSH
16513: LD_INT 1
16515: EQUAL
16516: PUSH
16517: LD_VAR 0 2
16521: PPUSH
16522: LD_VAR 0 1
16526: PPUSH
16527: CALL_OW 81
16531: PUSH
16532: LD_INT 1
16534: EQUAL
16535: AND
16536: PUSH
16537: LD_VAR 0 1
16541: PPUSH
16542: CALL_OW 83
16546: AND
16547: PUSH
16548: LD_VAR 0 2
16552: PPUSH
16553: CALL_OW 83
16557: AND
16558: IFFALSE 16568
// Result := true ;
16560: LD_ADDR_VAR 0 3
16564: PUSH
16565: LD_INT 1
16567: ST_TO_ADDR
// end ;
16568: LD_VAR 0 3
16572: RET
// every 100 trigger CanWinLoose and not GameEnded marked 400 do
16573: CALL 16077 0 0
16577: PUSH
16578: LD_LOC 28
16582: NOT
16583: AND
16584: IFFALSE 16600
16586: GO 16588
16588: DISABLE
// WaitServerStrings = [ #Player-Ended ] ;
16589: LD_ADDR_EXP 68
16593: PUSH
16594: LD_STRING #Player-Ended
16596: PUSH
16597: EMPTY
16598: LIST
16599: ST_TO_ADDR
16600: END
// every 100 trigger CanWinLoose and GameEnded marked 400 do
16601: CALL 16077 0 0
16605: PUSH
16606: LD_LOC 28
16610: AND
16611: IFFALSE 16620
16613: GO 16615
16615: DISABLE
// YouLostInMultiplayer ;
16616: CALL_OW 107
16620: END
// every 100 trigger not CanWinLoose and not IAmSpec marked 400 do
16621: CALL 16077 0 0
16625: NOT
16626: PUSH
16627: CALL_OW 531
16631: NOT
16632: AND
16633: IFFALSE 16649
16635: GO 16637
16637: DISABLE
// WaitServerStrings = [ #server-wait ] ;
16638: LD_ADDR_EXP 68
16642: PUSH
16643: LD_STRING #server-wait
16645: PUSH
16646: EMPTY
16647: LIST
16648: ST_TO_ADDR
16649: END
// every 100 trigger IAmSpec do
16650: CALL_OW 531
16654: IFFALSE 16670
16656: GO 16658
16658: DISABLE
// WaitServerStrings = [ #Player-IAmSpec ] ;
16659: LD_ADDR_EXP 68
16663: PUSH
16664: LD_STRING #Player-IAmSpec
16666: PUSH
16667: EMPTY
16668: LIST
16669: ST_TO_ADDR
16670: END
// every 100 trigger GameEnded and IAmSpec do
16671: LD_LOC 28
16675: PUSH
16676: CALL_OW 531
16680: AND
16681: IFFALSE 16690
16683: GO 16685
16685: DISABLE
// YouLostInMultiplayer ;
16686: CALL_OW 107
16690: END
// every 100 trigger CanWinLoose and not GameEnded marked 401 do
16691: CALL 16077 0 0
16695: PUSH
16696: LD_LOC 28
16700: NOT
16701: AND
16702: IFFALSE 16718
16704: GO 16706
16706: DISABLE
// WaitServerStrings = [ $player-win ] ;
16707: LD_ADDR_EXP 68
16711: PUSH
16712: LD_STRING $player-win
16714: PUSH
16715: EMPTY
16716: LIST
16717: ST_TO_ADDR
16718: END
// every 100 trigger CanWinLoose and GameEnded marked 401 do
16719: CALL 16077 0 0
16723: PUSH
16724: LD_LOC 28
16728: AND
16729: IFFALSE 16753
16731: GO 16733
16733: DISABLE
// begin SA_Win ( Side_Nations [ mp_player_side ] ) ;
16734: LD_EXP 44
16738: PUSH
16739: LD_OWVAR 7
16743: ARRAY
16744: PPUSH
16745: CALL 15748 0 1
// YouWinInMultiplayer ;
16749: CALL_OW 106
// end ;
16753: END
// every 100 trigger isEditor marked 401 do
16754: LD_OWVAR 84
16758: IFFALSE 16774
16760: GO 16762
16762: DISABLE
// Debug_Strings = [ You won ] ;
16763: LD_ADDR_OWVAR 48
16767: PUSH
16768: LD_STRING You won
16770: PUSH
16771: EMPTY
16772: LIST
16773: ST_TO_ADDR
16774: END
// every 100 trigger isEditor marked 400 do
16775: LD_OWVAR 84
16779: IFFALSE 16795
16781: GO 16783
16783: DISABLE
// Debug_Strings = [ You loss ] ;
16784: LD_ADDR_OWVAR 48
16788: PUSH
16789: LD_STRING You loss
16791: PUSH
16792: EMPTY
16793: LIST
16794: ST_TO_ADDR
16795: END
// every 100 marked 98 do var i , un ;
16796: GO 16798
16798: DISABLE
16799: LD_INT 0
16801: PPUSH
16802: PPUSH
// begin for i = 1 to side_positions do
16803: LD_ADDR_VAR 0 1
16807: PUSH
16808: DOUBLE
16809: LD_INT 1
16811: DEC
16812: ST_TO_ADDR
16813: LD_EXP 43
16817: PUSH
16818: FOR_TO
16819: IFFALSE 16906
// begin if side_positions [ i ] then
16821: LD_EXP 43
16825: PUSH
16826: LD_VAR 0 1
16830: ARRAY
16831: IFFALSE 16904
// if not HasPower ( i ) and not defeated [ i ] then
16833: LD_VAR 0 1
16837: PPUSH
16838: CALL 16141 0 1
16842: NOT
16843: PUSH
16844: LD_LOC 27
16848: PUSH
16849: LD_VAR 0 1
16853: ARRAY
16854: NOT
16855: AND
16856: IFFALSE 16904
// begin defeated = replace ( defeated , i , true ) ;
16858: LD_ADDR_LOC 27
16862: PUSH
16863: LD_LOC 27
16867: PPUSH
16868: LD_VAR 0 1
16872: PPUSH
16873: LD_INT 1
16875: PPUSH
16876: CALL_OW 1
16880: ST_TO_ADDR
// if i = mp_player_side then
16881: LD_VAR 0 1
16885: PUSH
16886: LD_OWVAR 7
16890: EQUAL
16891: IFFALSE 16904
// begin Multiplayer_Loose_Message ;
16893: CALL_OW 521
// SetPlayerSpectator ( ) ;
16897: CALL_OW 572
// enable ( 400 ) ;
16901: LD_INT 400
16903: ENABLE_MARKED
// end ; end ; end ;
16904: GO 16818
16906: POP
16907: POP
// DidGameEnd ;
16908: CALL 16923 0 0
// if not GameEnded then
16912: LD_LOC 28
16916: NOT
16917: IFFALSE 16920
// enable ;
16919: ENABLE
// end ;
16920: PPOPN 2
16922: END
// function DidGameEnd ; var i , k , enemy ; begin
16923: LD_INT 0
16925: PPUSH
16926: PPUSH
16927: PPUSH
16928: PPUSH
// enemy = [ ] ;
16929: LD_ADDR_VAR 0 4
16933: PUSH
16934: EMPTY
16935: ST_TO_ADDR
// for i = 1 to side_positions do
16936: LD_ADDR_VAR 0 2
16940: PUSH
16941: DOUBLE
16942: LD_INT 1
16944: DEC
16945: ST_TO_ADDR
16946: LD_EXP 43
16950: PUSH
16951: FOR_TO
16952: IFFALSE 17046
// if not defeated [ i ] then
16954: LD_LOC 27
16958: PUSH
16959: LD_VAR 0 2
16963: ARRAY
16964: NOT
16965: IFFALSE 17044
// for k = 1 to side_positions do
16967: LD_ADDR_VAR 0 3
16971: PUSH
16972: DOUBLE
16973: LD_INT 1
16975: DEC
16976: ST_TO_ADDR
16977: LD_EXP 43
16981: PUSH
16982: FOR_TO
16983: IFFALSE 17042
// if not defeated [ k ] then
16985: LD_LOC 27
16989: PUSH
16990: LD_VAR 0 3
16994: ARRAY
16995: NOT
16996: IFFALSE 17040
// if not AlliedSides ( i , k ) then
16998: LD_VAR 0 2
17002: PPUSH
17003: LD_VAR 0 3
17007: PPUSH
17008: CALL 16487 0 2
17012: NOT
17013: IFFALSE 17040
// enemy = enemy ^ [ i , k ] ;
17015: LD_ADDR_VAR 0 4
17019: PUSH
17020: LD_VAR 0 4
17024: PUSH
17025: LD_VAR 0 2
17029: PUSH
17030: LD_VAR 0 3
17034: PUSH
17035: EMPTY
17036: LIST
17037: LIST
17038: ADD
17039: ST_TO_ADDR
17040: GO 16982
17042: POP
17043: POP
17044: GO 16951
17046: POP
17047: POP
// if not enemy then
17048: LD_VAR 0 4
17052: NOT
17053: IFFALSE 17079
// begin GameEnded = true ;
17055: LD_ADDR_LOC 28
17059: PUSH
17060: LD_INT 1
17062: ST_TO_ADDR
// if not defeated [ mp_player_side ] then
17063: LD_LOC 27
17067: PUSH
17068: LD_OWVAR 7
17072: ARRAY
17073: NOT
17074: IFFALSE 17079
// enable ( 401 ) ;
17076: LD_INT 401
17078: ENABLE_MARKED
// end ; end ;
17079: LD_VAR 0 1
17083: RET
// function unfog ; var k , friends ; begin
17084: LD_INT 0
17086: PPUSH
17087: PPUSH
17088: PPUSH
// for k = 1 to side_positions do
17089: LD_ADDR_VAR 0 2
17093: PUSH
17094: DOUBLE
17095: LD_INT 1
17097: DEC
17098: ST_TO_ADDR
17099: LD_EXP 43
17103: PUSH
17104: FOR_TO
17105: IFFALSE 17161
// if not defeated [ k ] then
17107: LD_LOC 27
17111: PUSH
17112: LD_VAR 0 2
17116: ARRAY
17117: NOT
17118: IFFALSE 17159
// if GetAttitude ( mp_player_side , k ) in [ att_friend ] then
17120: LD_OWVAR 7
17124: PPUSH
17125: LD_VAR 0 2
17129: PPUSH
17130: CALL_OW 81
17134: PUSH
17135: LD_INT 1
17137: PUSH
17138: EMPTY
17139: LIST
17140: IN
17141: IFFALSE 17159
// friends = friends ^ k ;
17143: LD_ADDR_VAR 0 3
17147: PUSH
17148: LD_VAR 0 3
17152: PUSH
17153: LD_VAR 0 2
17157: ADD
17158: ST_TO_ADDR
17159: GO 17104
17161: POP
17162: POP
// if not friends then
17163: LD_VAR 0 3
17167: NOT
17168: IFFALSE 17182
// begin SetPlayerSpectator ( ) ;
17170: CALL_OW 572
// unfoged = true ;
17174: LD_ADDR_LOC 29
17178: PUSH
17179: LD_INT 1
17181: ST_TO_ADDR
// end ; end ;
17182: LD_VAR 0 1
17186: RET
// export function MakeGameEnd ; begin
17187: LD_INT 0
17189: PPUSH
// SetPlayerSpectator ( ) ;
17190: CALL_OW 572
// unfoged = true ;
17194: LD_ADDR_LOC 29
17198: PUSH
17199: LD_INT 1
17201: ST_TO_ADDR
// wait ( 0 0$5 ) ;
17202: LD_INT 175
17204: PPUSH
17205: CALL_OW 67
// GameEnded = true ;
17209: LD_ADDR_LOC 28
17213: PUSH
17214: LD_INT 1
17216: ST_TO_ADDR
// end ;
17217: LD_VAR 0 1
17221: RET
// export function GetGameEnded ; begin
17222: LD_INT 0
17224: PPUSH
// result = GameEnded ;
17225: LD_ADDR_VAR 0 1
17229: PUSH
17230: LD_LOC 28
17234: ST_TO_ADDR
// end ; end_of_file
17235: LD_VAR 0 1
17239: RET
// export function SetMpTechs ( ) ; var side , i ; begin
17240: LD_INT 0
17242: PPUSH
17243: PPUSH
17244: PPUSH
// for side = 1 to 8 do
17245: LD_ADDR_VAR 0 2
17249: PUSH
17250: DOUBLE
17251: LD_INT 1
17253: DEC
17254: ST_TO_ADDR
17255: LD_INT 8
17257: PUSH
17258: FOR_TO
17259: IFFALSE 17380
// begin for i = 1 to 72 do
17261: LD_ADDR_VAR 0 3
17265: PUSH
17266: DOUBLE
17267: LD_INT 1
17269: DEC
17270: ST_TO_ADDR
17271: LD_INT 72
17273: PUSH
17274: FOR_TO
17275: IFFALSE 17306
// SetTech ( i , side , GetRestrictions ( false , i ) ) ;
17277: LD_VAR 0 3
17281: PPUSH
17282: LD_VAR 0 2
17286: PPUSH
17287: LD_INT 0
17289: PPUSH
17290: LD_VAR 0 3
17294: PPUSH
17295: CALL_OW 565
17299: PPUSH
17300: CALL_OW 322
17304: GO 17274
17306: POP
17307: POP
// SetTech ( 73 , side , GetRestrictions ( false , 25 ) ) ;
17308: LD_INT 73
17310: PPUSH
17311: LD_VAR 0 2
17315: PPUSH
17316: LD_INT 0
17318: PPUSH
17319: LD_INT 25
17321: PPUSH
17322: CALL_OW 565
17326: PPUSH
17327: CALL_OW 322
// for i = 0 to 40 do
17331: LD_ADDR_VAR 0 3
17335: PUSH
17336: DOUBLE
17337: LD_INT 0
17339: DEC
17340: ST_TO_ADDR
17341: LD_INT 40
17343: PUSH
17344: FOR_TO
17345: IFFALSE 17376
// SetRestrict ( i , side , GetRestrictions ( true , i ) ) ;
17347: LD_VAR 0 3
17351: PPUSH
17352: LD_VAR 0 2
17356: PPUSH
17357: LD_INT 1
17359: PPUSH
17360: LD_VAR 0 3
17364: PPUSH
17365: CALL_OW 565
17369: PPUSH
17370: CALL_OW 324
17374: GO 17344
17376: POP
17377: POP
// end ;
17378: GO 17258
17380: POP
17381: POP
// end ;
17382: LD_VAR 0 1
17386: RET
// export function SetMpTechLevel ( level ) ; var side , i ; begin
17387: LD_INT 0
17389: PPUSH
17390: PPUSH
17391: PPUSH
// for side = 1 to 8 do
17392: LD_ADDR_VAR 0 3
17396: PUSH
17397: DOUBLE
17398: LD_INT 1
17400: DEC
17401: ST_TO_ADDR
17402: LD_INT 8
17404: PUSH
17405: FOR_TO
17406: IFFALSE 21402
// begin for i = 1 to 73 do
17408: LD_ADDR_VAR 0 4
17412: PUSH
17413: DOUBLE
17414: LD_INT 1
17416: DEC
17417: ST_TO_ADDR
17418: LD_INT 73
17420: PUSH
17421: FOR_TO
17422: IFFALSE 17443
// SetTech ( i , side , state_disabled ) ;
17424: LD_VAR 0 4
17428: PPUSH
17429: LD_VAR 0 3
17433: PPUSH
17434: LD_INT 0
17436: PPUSH
17437: CALL_OW 322
17441: GO 17421
17443: POP
17444: POP
// for i = 0 to 40 do
17445: LD_ADDR_VAR 0 4
17449: PUSH
17450: DOUBLE
17451: LD_INT 0
17453: DEC
17454: ST_TO_ADDR
17455: LD_INT 40
17457: PUSH
17458: FOR_TO
17459: IFFALSE 17480
// SetRestrict ( i , side , false ) ;
17461: LD_VAR 0 4
17465: PPUSH
17466: LD_VAR 0 3
17470: PPUSH
17471: LD_INT 0
17473: PPUSH
17474: CALL_OW 324
17478: GO 17458
17480: POP
17481: POP
// case level of 1 :
17482: LD_VAR 0 1
17486: PUSH
17487: LD_INT 1
17489: DOUBLE
17490: EQUAL
17491: IFTRUE 17495
17493: GO 17648
17495: POP
// begin SetTech ( tech_solpow , side , state_enabled ) ;
17496: LD_INT 35
17498: PPUSH
17499: LD_VAR 0 3
17503: PPUSH
17504: LD_INT 1
17506: PPUSH
17507: CALL_OW 322
// SetTech ( tech_soleng , side , state_enabled ) ;
17511: LD_INT 45
17513: PPUSH
17514: LD_VAR 0 3
17518: PPUSH
17519: LD_INT 1
17521: PPUSH
17522: CALL_OW 322
// SetTech ( tech_oilpow , side , state_enabled ) ;
17526: LD_INT 46
17528: PPUSH
17529: LD_VAR 0 3
17533: PPUSH
17534: LD_INT 1
17536: PPUSH
17537: CALL_OW 322
// SetTech ( tech_oileng , side , state_enabled ) ;
17541: LD_INT 47
17543: PPUSH
17544: LD_VAR 0 3
17548: PPUSH
17549: LD_INT 1
17551: PPUSH
17552: CALL_OW 322
// SetRestrict ( b_depot , side , true ) ;
17556: LD_INT 0
17558: PPUSH
17559: LD_VAR 0 3
17563: PPUSH
17564: LD_INT 1
17566: PPUSH
17567: CALL_OW 324
// SetRestrict ( b_workshop , side , true ) ;
17571: LD_INT 2
17573: PPUSH
17574: LD_VAR 0 3
17578: PPUSH
17579: LD_INT 1
17581: PPUSH
17582: CALL_OW 324
// SetRestrict ( b_armoury , side , true ) ;
17586: LD_INT 4
17588: PPUSH
17589: LD_VAR 0 3
17593: PPUSH
17594: LD_INT 1
17596: PPUSH
17597: CALL_OW 324
// SetRestrict ( b_lab , side , true ) ;
17601: LD_INT 6
17603: PPUSH
17604: LD_VAR 0 3
17608: PPUSH
17609: LD_INT 1
17611: PPUSH
17612: CALL_OW 324
// SetRestrict ( b_oil_mine , side , true ) ;
17616: LD_INT 29
17618: PPUSH
17619: LD_VAR 0 3
17623: PPUSH
17624: LD_INT 1
17626: PPUSH
17627: CALL_OW 324
// SetRestrict ( b_breastwork , side , true ) ;
17631: LD_INT 31
17633: PPUSH
17634: LD_VAR 0 3
17638: PPUSH
17639: LD_INT 1
17641: PPUSH
17642: CALL_OW 324
// end ; 2 :
17646: GO 21400
17648: LD_INT 2
17650: DOUBLE
17651: EQUAL
17652: IFTRUE 17656
17654: GO 17854
17656: POP
// begin SetTech ( tech_solpow , side , state_enabled ) ;
17657: LD_INT 35
17659: PPUSH
17660: LD_VAR 0 3
17664: PPUSH
17665: LD_INT 1
17667: PPUSH
17668: CALL_OW 322
// SetTech ( tech_soleng , side , state_enabled ) ;
17672: LD_INT 45
17674: PPUSH
17675: LD_VAR 0 3
17679: PPUSH
17680: LD_INT 1
17682: PPUSH
17683: CALL_OW 322
// SetTech ( tech_oilpow , side , state_enabled ) ;
17687: LD_INT 46
17689: PPUSH
17690: LD_VAR 0 3
17694: PPUSH
17695: LD_INT 1
17697: PPUSH
17698: CALL_OW 322
// SetTech ( tech_oileng , side , state_enabled ) ;
17702: LD_INT 47
17704: PPUSH
17705: LD_VAR 0 3
17709: PPUSH
17710: LD_INT 1
17712: PPUSH
17713: CALL_OW 322
// SetTech ( tech_apelang , side , state_enabled ) ;
17717: LD_INT 1
17719: PPUSH
17720: LD_VAR 0 3
17724: PPUSH
17725: LD_INT 1
17727: PPUSH
17728: CALL_OW 322
// SetTech ( tech_apepsych , side , state_enabled ) ;
17732: LD_INT 2
17734: PPUSH
17735: LD_VAR 0 3
17739: PPUSH
17740: LD_INT 1
17742: PPUSH
17743: CALL_OW 322
// SetTech ( tech_apeagres , side , state_enabled ) ;
17747: LD_INT 11
17749: PPUSH
17750: LD_VAR 0 3
17754: PPUSH
17755: LD_INT 1
17757: PPUSH
17758: CALL_OW 322
// SetRestrict ( b_depot , side , true ) ;
17762: LD_INT 0
17764: PPUSH
17765: LD_VAR 0 3
17769: PPUSH
17770: LD_INT 1
17772: PPUSH
17773: CALL_OW 324
// SetRestrict ( b_workshop , side , true ) ;
17777: LD_INT 2
17779: PPUSH
17780: LD_VAR 0 3
17784: PPUSH
17785: LD_INT 1
17787: PPUSH
17788: CALL_OW 324
// SetRestrict ( b_armoury , side , true ) ;
17792: LD_INT 4
17794: PPUSH
17795: LD_VAR 0 3
17799: PPUSH
17800: LD_INT 1
17802: PPUSH
17803: CALL_OW 324
// SetRestrict ( b_lab , side , true ) ;
17807: LD_INT 6
17809: PPUSH
17810: LD_VAR 0 3
17814: PPUSH
17815: LD_INT 1
17817: PPUSH
17818: CALL_OW 324
// SetRestrict ( b_oil_mine , side , true ) ;
17822: LD_INT 29
17824: PPUSH
17825: LD_VAR 0 3
17829: PPUSH
17830: LD_INT 1
17832: PPUSH
17833: CALL_OW 324
// SetRestrict ( b_breastwork , side , true ) ;
17837: LD_INT 31
17839: PPUSH
17840: LD_VAR 0 3
17844: PPUSH
17845: LD_INT 1
17847: PPUSH
17848: CALL_OW 324
// end ; 3 :
17852: GO 21400
17854: LD_INT 3
17856: DOUBLE
17857: EQUAL
17858: IFTRUE 17862
17860: GO 18315
17862: POP
// begin SetTech ( tech_solpow , side , state_enabled ) ;
17863: LD_INT 35
17865: PPUSH
17866: LD_VAR 0 3
17870: PPUSH
17871: LD_INT 1
17873: PPUSH
17874: CALL_OW 322
// SetTech ( tech_soleng , side , state_enabled ) ;
17878: LD_INT 45
17880: PPUSH
17881: LD_VAR 0 3
17885: PPUSH
17886: LD_INT 1
17888: PPUSH
17889: CALL_OW 322
// SetTech ( tech_oilpow , side , state_enabled ) ;
17893: LD_INT 46
17895: PPUSH
17896: LD_VAR 0 3
17900: PPUSH
17901: LD_INT 1
17903: PPUSH
17904: CALL_OW 322
// SetTech ( tech_oileng , side , state_enabled ) ;
17908: LD_INT 47
17910: PPUSH
17911: LD_VAR 0 3
17915: PPUSH
17916: LD_INT 1
17918: PPUSH
17919: CALL_OW 322
// SetTech ( tech_apelang , side , state_enabled ) ;
17923: LD_INT 1
17925: PPUSH
17926: LD_VAR 0 3
17930: PPUSH
17931: LD_INT 1
17933: PPUSH
17934: CALL_OW 322
// SetTech ( tech_apepsych , side , state_enabled ) ;
17938: LD_INT 2
17940: PPUSH
17941: LD_VAR 0 3
17945: PPUSH
17946: LD_INT 1
17948: PPUSH
17949: CALL_OW 322
// SetTech ( tech_apeagres , side , state_enabled ) ;
17953: LD_INT 11
17955: PPUSH
17956: LD_VAR 0 3
17960: PPUSH
17961: LD_INT 1
17963: PPUSH
17964: CALL_OW 322
// SetTech ( tech_tech1 , side , state_enabled ) ;
17968: LD_INT 48
17970: PPUSH
17971: LD_VAR 0 3
17975: PPUSH
17976: LD_INT 1
17978: PPUSH
17979: CALL_OW 322
// SetTech ( tech_gatling , side , state_enabled ) ;
17983: LD_INT 69
17985: PPUSH
17986: LD_VAR 0 3
17990: PPUSH
17991: LD_INT 1
17993: PPUSH
17994: CALL_OW 322
// SetTech ( tech_gun , side , state_enabled ) ;
17998: LD_INT 39
18000: PPUSH
18001: LD_VAR 0 3
18005: PPUSH
18006: LD_INT 1
18008: PPUSH
18009: CALL_OW 322
// SetTech ( tech_selfdest , side , state_enabled ) ;
18013: LD_INT 43
18015: PPUSH
18016: LD_VAR 0 3
18020: PPUSH
18021: LD_INT 1
18023: PPUSH
18024: CALL_OW 322
// SetTech ( tech_weap1 , side , state_enabled ) ;
18028: LD_INT 51
18030: PPUSH
18031: LD_VAR 0 3
18035: PPUSH
18036: LD_INT 1
18038: PPUSH
18039: CALL_OW 322
// SetTech ( tech_radar , side , state_enabled ) ;
18043: LD_INT 6
18045: PPUSH
18046: LD_VAR 0 3
18050: PPUSH
18051: LD_INT 1
18053: PPUSH
18054: CALL_OW 322
// SetRestrict ( b_depot , side , true ) ;
18058: LD_INT 0
18060: PPUSH
18061: LD_VAR 0 3
18065: PPUSH
18066: LD_INT 1
18068: PPUSH
18069: CALL_OW 324
// SetRestrict ( b_workshop , side , true ) ;
18073: LD_INT 2
18075: PPUSH
18076: LD_VAR 0 3
18080: PPUSH
18081: LD_INT 1
18083: PPUSH
18084: CALL_OW 324
// SetRestrict ( b_factory , side , true ) ;
18088: LD_INT 3
18090: PPUSH
18091: LD_VAR 0 3
18095: PPUSH
18096: LD_INT 1
18098: PPUSH
18099: CALL_OW 324
// SetRestrict ( b_armoury , side , true ) ;
18103: LD_INT 4
18105: PPUSH
18106: LD_VAR 0 3
18110: PPUSH
18111: LD_INT 1
18113: PPUSH
18114: CALL_OW 324
// SetRestrict ( b_lab , side , true ) ;
18118: LD_INT 6
18120: PPUSH
18121: LD_VAR 0 3
18125: PPUSH
18126: LD_INT 1
18128: PPUSH
18129: CALL_OW 324
// SetRestrict ( b_lab_half , side , true ) ;
18133: LD_INT 7
18135: PPUSH
18136: LD_VAR 0 3
18140: PPUSH
18141: LD_INT 1
18143: PPUSH
18144: CALL_OW 324
// SetRestrict ( b_lab_full , side , true ) ;
18148: LD_INT 8
18150: PPUSH
18151: LD_VAR 0 3
18155: PPUSH
18156: LD_INT 1
18158: PPUSH
18159: CALL_OW 324
// SetRestrict ( b_lab_weapon , side , true ) ;
18163: LD_INT 10
18165: PPUSH
18166: LD_VAR 0 3
18170: PPUSH
18171: LD_INT 1
18173: PPUSH
18174: CALL_OW 324
// SetRestrict ( b_lab_opto , side , true ) ;
18178: LD_INT 15
18180: PPUSH
18181: LD_VAR 0 3
18185: PPUSH
18186: LD_INT 1
18188: PPUSH
18189: CALL_OW 324
// SetRestrict ( b_ext_track , side , true ) ;
18193: LD_INT 16
18195: PPUSH
18196: LD_VAR 0 3
18200: PPUSH
18201: LD_INT 1
18203: PPUSH
18204: CALL_OW 324
// SetRestrict ( b_ext_gun , side , true ) ;
18208: LD_INT 17
18210: PPUSH
18211: LD_VAR 0 3
18215: PPUSH
18216: LD_INT 1
18218: PPUSH
18219: CALL_OW 324
// SetRestrict ( b_ext_radar , side , true ) ;
18223: LD_INT 20
18225: PPUSH
18226: LD_VAR 0 3
18230: PPUSH
18231: LD_INT 1
18233: PPUSH
18234: CALL_OW 324
// SetRestrict ( b_oil_power , side , true ) ;
18238: LD_INT 26
18240: PPUSH
18241: LD_VAR 0 3
18245: PPUSH
18246: LD_INT 1
18248: PPUSH
18249: CALL_OW 324
// SetRestrict ( b_solar_power , side , true ) ;
18253: LD_INT 27
18255: PPUSH
18256: LD_VAR 0 3
18260: PPUSH
18261: LD_INT 1
18263: PPUSH
18264: CALL_OW 324
// SetRestrict ( b_oil_mine , side , true ) ;
18268: LD_INT 29
18270: PPUSH
18271: LD_VAR 0 3
18275: PPUSH
18276: LD_INT 1
18278: PPUSH
18279: CALL_OW 324
// SetRestrict ( b_breastwork , side , true ) ;
18283: LD_INT 31
18285: PPUSH
18286: LD_VAR 0 3
18290: PPUSH
18291: LD_INT 1
18293: PPUSH
18294: CALL_OW 324
// SetRestrict ( b_bunker , side , true ) ;
18298: LD_INT 32
18300: PPUSH
18301: LD_VAR 0 3
18305: PPUSH
18306: LD_INT 1
18308: PPUSH
18309: CALL_OW 324
// end ; 4 :
18313: GO 21400
18315: LD_INT 4
18317: DOUBLE
18318: EQUAL
18319: IFTRUE 18323
18321: GO 19271
18323: POP
// begin SetTech ( tech_solpow , side , state_enabled ) ;
18324: LD_INT 35
18326: PPUSH
18327: LD_VAR 0 3
18331: PPUSH
18332: LD_INT 1
18334: PPUSH
18335: CALL_OW 322
// SetTech ( tech_soleng , side , state_enabled ) ;
18339: LD_INT 45
18341: PPUSH
18342: LD_VAR 0 3
18346: PPUSH
18347: LD_INT 1
18349: PPUSH
18350: CALL_OW 322
// SetTech ( tech_oilpow , side , state_enabled ) ;
18354: LD_INT 46
18356: PPUSH
18357: LD_VAR 0 3
18361: PPUSH
18362: LD_INT 1
18364: PPUSH
18365: CALL_OW 322
// SetTech ( tech_oileng , side , state_enabled ) ;
18369: LD_INT 47
18371: PPUSH
18372: LD_VAR 0 3
18376: PPUSH
18377: LD_INT 1
18379: PPUSH
18380: CALL_OW 322
// SetTech ( tech_apelang , side , state_enabled ) ;
18384: LD_INT 1
18386: PPUSH
18387: LD_VAR 0 3
18391: PPUSH
18392: LD_INT 1
18394: PPUSH
18395: CALL_OW 322
// SetTech ( tech_apepsych , side , state_enabled ) ;
18399: LD_INT 2
18401: PPUSH
18402: LD_VAR 0 3
18406: PPUSH
18407: LD_INT 1
18409: PPUSH
18410: CALL_OW 322
// SetTech ( tech_apeagres , side , state_enabled ) ;
18414: LD_INT 11
18416: PPUSH
18417: LD_VAR 0 3
18421: PPUSH
18422: LD_INT 1
18424: PPUSH
18425: CALL_OW 322
// SetTech ( tech_sibdet , side , state_enabled ) ;
18429: LD_INT 20
18431: PPUSH
18432: LD_VAR 0 3
18436: PPUSH
18437: LD_INT 1
18439: PPUSH
18440: CALL_OW 322
// SetTech ( tech_tech1 , side , state_enabled ) ;
18444: LD_INT 48
18446: PPUSH
18447: LD_VAR 0 3
18451: PPUSH
18452: LD_INT 1
18454: PPUSH
18455: CALL_OW 322
// SetTech ( tech_tech2 , side , state_enabled ) ;
18459: LD_INT 49
18461: PPUSH
18462: LD_VAR 0 3
18466: PPUSH
18467: LD_INT 1
18469: PPUSH
18470: CALL_OW 322
// SetTech ( tech_gatling , side , state_enabled ) ;
18474: LD_INT 69
18476: PPUSH
18477: LD_VAR 0 3
18481: PPUSH
18482: LD_INT 1
18484: PPUSH
18485: CALL_OW 322
// SetTech ( tech_gun , side , state_enabled ) ;
18489: LD_INT 39
18491: PPUSH
18492: LD_VAR 0 3
18496: PPUSH
18497: LD_INT 1
18499: PPUSH
18500: CALL_OW 322
// SetTech ( tech_advmet , side , state_enabled ) ;
18504: LD_INT 34
18506: PPUSH
18507: LD_VAR 0 3
18511: PPUSH
18512: LD_INT 1
18514: PPUSH
18515: CALL_OW 322
// SetTech ( tech_explos , side , state_enabled ) ;
18519: LD_INT 42
18521: PPUSH
18522: LD_VAR 0 3
18526: PPUSH
18527: LD_INT 1
18529: PPUSH
18530: CALL_OW 322
// SetTech ( tech_bazooka , side , state_enabled ) ;
18534: LD_INT 44
18536: PPUSH
18537: LD_VAR 0 3
18541: PPUSH
18542: LD_INT 1
18544: PPUSH
18545: CALL_OW 322
// SetTech ( tech_mortar , side , state_enabled ) ;
18549: LD_INT 41
18551: PPUSH
18552: LD_VAR 0 3
18556: PPUSH
18557: LD_INT 1
18559: PPUSH
18560: CALL_OW 322
// SetTech ( tech_selfdest , side , state_enabled ) ;
18564: LD_INT 43
18566: PPUSH
18567: LD_VAR 0 3
18571: PPUSH
18572: LD_INT 1
18574: PPUSH
18575: CALL_OW 322
// SetTech ( tech_flame , side , state_enabled ) ;
18579: LD_INT 70
18581: PPUSH
18582: LD_VAR 0 3
18586: PPUSH
18587: LD_INT 1
18589: PPUSH
18590: CALL_OW 322
// SetTech ( tech_weap1 , side , state_enabled ) ;
18594: LD_INT 51
18596: PPUSH
18597: LD_VAR 0 3
18601: PPUSH
18602: LD_INT 1
18604: PPUSH
18605: CALL_OW 322
// SetTech ( tech_weap2 , side , state_enabled ) ;
18609: LD_INT 52
18611: PPUSH
18612: LD_VAR 0 3
18616: PPUSH
18617: LD_INT 1
18619: PPUSH
18620: CALL_OW 322
// SetTech ( tech_radar , side , state_enabled ) ;
18624: LD_INT 6
18626: PPUSH
18627: LD_VAR 0 3
18631: PPUSH
18632: LD_INT 1
18634: PPUSH
18635: CALL_OW 322
// SetTech ( tech_remcont , side , state_enabled ) ;
18639: LD_INT 15
18641: PPUSH
18642: LD_VAR 0 3
18646: PPUSH
18647: LD_INT 1
18649: PPUSH
18650: CALL_OW 322
// SetTech ( tech_matdet , side , state_enabled ) ;
18654: LD_INT 7
18656: PPUSH
18657: LD_VAR 0 3
18661: PPUSH
18662: LD_INT 1
18664: PPUSH
18665: CALL_OW 322
// SetTech ( tech_lassight , side , state_enabled ) ;
18669: LD_INT 12
18671: PPUSH
18672: LD_VAR 0 3
18676: PPUSH
18677: LD_INT 1
18679: PPUSH
18680: CALL_OW 322
// SetTech ( tech_remcharge , side , state_enabled ) ;
18684: LD_INT 18
18686: PPUSH
18687: LD_VAR 0 3
18691: PPUSH
18692: LD_INT 1
18694: PPUSH
18695: CALL_OW 322
// SetTech ( tech_opto1 , side , state_enabled ) ;
18699: LD_INT 60
18701: PPUSH
18702: LD_VAR 0 3
18706: PPUSH
18707: LD_INT 1
18709: PPUSH
18710: CALL_OW 322
// SetTech ( tech_matpred , side , state_enabled ) ;
18714: LD_INT 9
18716: PPUSH
18717: LD_VAR 0 3
18721: PPUSH
18722: LD_INT 1
18724: PPUSH
18725: CALL_OW 322
// SetTech ( tech_taufield , side , state_enabled ) ;
18729: LD_INT 30
18731: PPUSH
18732: LD_VAR 0 3
18736: PPUSH
18737: LD_INT 1
18739: PPUSH
18740: CALL_OW 322
// SetTech ( tech_limteleport , side , state_enabled ) ;
18744: LD_INT 37
18746: PPUSH
18747: LD_VAR 0 3
18751: PPUSH
18752: LD_INT 1
18754: PPUSH
18755: CALL_OW 322
// SetTech ( tech_stimdrugs , side , state_enabled ) ;
18759: LD_INT 5
18761: PPUSH
18762: LD_VAR 0 3
18766: PPUSH
18767: LD_INT 1
18769: PPUSH
18770: CALL_OW 322
// SetTech ( tech_bio1 , side , state_enabled ) ;
18774: LD_INT 66
18776: PPUSH
18777: LD_VAR 0 3
18781: PPUSH
18782: LD_INT 1
18784: PPUSH
18785: CALL_OW 322
// SetTech ( tech_sibpow , side , state_enabled ) ;
18789: LD_INT 21
18791: PPUSH
18792: LD_VAR 0 3
18796: PPUSH
18797: LD_INT 1
18799: PPUSH
18800: CALL_OW 322
// SetTech ( tech_sibeng , side , state_enabled ) ;
18804: LD_INT 22
18806: PPUSH
18807: LD_VAR 0 3
18811: PPUSH
18812: LD_INT 1
18814: PPUSH
18815: CALL_OW 322
// SetTech ( tech_sib1 , side , state_enabled ) ;
18819: LD_INT 54
18821: PPUSH
18822: LD_VAR 0 3
18826: PPUSH
18827: LD_INT 1
18829: PPUSH
18830: CALL_OW 322
// SetRestrict ( b_depot , side , true ) ;
18834: LD_INT 0
18836: PPUSH
18837: LD_VAR 0 3
18841: PPUSH
18842: LD_INT 1
18844: PPUSH
18845: CALL_OW 324
// SetRestrict ( b_warehouse , side , true ) ;
18849: LD_INT 1
18851: PPUSH
18852: LD_VAR 0 3
18856: PPUSH
18857: LD_INT 1
18859: PPUSH
18860: CALL_OW 324
// SetRestrict ( b_workshop , side , true ) ;
18864: LD_INT 2
18866: PPUSH
18867: LD_VAR 0 3
18871: PPUSH
18872: LD_INT 1
18874: PPUSH
18875: CALL_OW 324
// SetRestrict ( b_factory , side , true ) ;
18879: LD_INT 3
18881: PPUSH
18882: LD_VAR 0 3
18886: PPUSH
18887: LD_INT 1
18889: PPUSH
18890: CALL_OW 324
// SetRestrict ( b_armoury , side , true ) ;
18894: LD_INT 4
18896: PPUSH
18897: LD_VAR 0 3
18901: PPUSH
18902: LD_INT 1
18904: PPUSH
18905: CALL_OW 324
// SetRestrict ( b_barracks , side , true ) ;
18909: LD_INT 5
18911: PPUSH
18912: LD_VAR 0 3
18916: PPUSH
18917: LD_INT 1
18919: PPUSH
18920: CALL_OW 324
// SetRestrict ( b_lab , side , true ) ;
18924: LD_INT 6
18926: PPUSH
18927: LD_VAR 0 3
18931: PPUSH
18932: LD_INT 1
18934: PPUSH
18935: CALL_OW 324
// SetRestrict ( b_lab_half , side , true ) ;
18939: LD_INT 7
18941: PPUSH
18942: LD_VAR 0 3
18946: PPUSH
18947: LD_INT 1
18949: PPUSH
18950: CALL_OW 324
// SetRestrict ( b_lab_full , side , true ) ;
18954: LD_INT 8
18956: PPUSH
18957: LD_VAR 0 3
18961: PPUSH
18962: LD_INT 1
18964: PPUSH
18965: CALL_OW 324
// SetRestrict ( b_lab_weapon , side , true ) ;
18969: LD_INT 10
18971: PPUSH
18972: LD_VAR 0 3
18976: PPUSH
18977: LD_INT 1
18979: PPUSH
18980: CALL_OW 324
// SetRestrict ( b_lab_siberium , side , true ) ;
18984: LD_INT 11
18986: PPUSH
18987: LD_VAR 0 3
18991: PPUSH
18992: LD_INT 1
18994: PPUSH
18995: CALL_OW 324
// SetRestrict ( b_lab_computer , side , true ) ;
18999: LD_INT 12
19001: PPUSH
19002: LD_VAR 0 3
19006: PPUSH
19007: LD_INT 1
19009: PPUSH
19010: CALL_OW 324
// SetRestrict ( b_lab_biological , side , true ) ;
19014: LD_INT 13
19016: PPUSH
19017: LD_VAR 0 3
19021: PPUSH
19022: LD_INT 1
19024: PPUSH
19025: CALL_OW 324
// SetRestrict ( b_lab_spacetime , side , true ) ;
19029: LD_INT 14
19031: PPUSH
19032: LD_VAR 0 3
19036: PPUSH
19037: LD_INT 1
19039: PPUSH
19040: CALL_OW 324
// SetRestrict ( b_lab_opto , side , true ) ;
19044: LD_INT 15
19046: PPUSH
19047: LD_VAR 0 3
19051: PPUSH
19052: LD_INT 1
19054: PPUSH
19055: CALL_OW 324
// SetRestrict ( b_ext_track , side , true ) ;
19059: LD_INT 16
19061: PPUSH
19062: LD_VAR 0 3
19066: PPUSH
19067: LD_INT 1
19069: PPUSH
19070: CALL_OW 324
// SetRestrict ( b_ext_gun , side , true ) ;
19074: LD_INT 17
19076: PPUSH
19077: LD_VAR 0 3
19081: PPUSH
19082: LD_INT 1
19084: PPUSH
19085: CALL_OW 324
// SetRestrict ( b_ext_noncombat , side , true ) ;
19089: LD_INT 19
19091: PPUSH
19092: LD_VAR 0 3
19096: PPUSH
19097: LD_INT 1
19099: PPUSH
19100: CALL_OW 324
// SetRestrict ( b_ext_radar , side , true ) ;
19104: LD_INT 20
19106: PPUSH
19107: LD_VAR 0 3
19111: PPUSH
19112: LD_INT 1
19114: PPUSH
19115: CALL_OW 324
// SetRestrict ( b_ext_siberium , side , true ) ;
19119: LD_INT 21
19121: PPUSH
19122: LD_VAR 0 3
19126: PPUSH
19127: LD_INT 1
19129: PPUSH
19130: CALL_OW 324
// SetRestrict ( b_ext_stitch , side , true ) ;
19134: LD_INT 23
19136: PPUSH
19137: LD_VAR 0 3
19141: PPUSH
19142: LD_INT 1
19144: PPUSH
19145: CALL_OW 324
// SetRestrict ( b_oil_power , side , true ) ;
19149: LD_INT 26
19151: PPUSH
19152: LD_VAR 0 3
19156: PPUSH
19157: LD_INT 1
19159: PPUSH
19160: CALL_OW 324
// SetRestrict ( b_solar_power , side , true ) ;
19164: LD_INT 27
19166: PPUSH
19167: LD_VAR 0 3
19171: PPUSH
19172: LD_INT 1
19174: PPUSH
19175: CALL_OW 324
// SetRestrict ( b_siberite_power , side , true ) ;
19179: LD_INT 28
19181: PPUSH
19182: LD_VAR 0 3
19186: PPUSH
19187: LD_INT 1
19189: PPUSH
19190: CALL_OW 324
// SetRestrict ( b_oil_mine , side , true ) ;
19194: LD_INT 29
19196: PPUSH
19197: LD_VAR 0 3
19201: PPUSH
19202: LD_INT 1
19204: PPUSH
19205: CALL_OW 324
// SetRestrict ( b_siberite_mine , side , true ) ;
19209: LD_INT 30
19211: PPUSH
19212: LD_VAR 0 3
19216: PPUSH
19217: LD_INT 1
19219: PPUSH
19220: CALL_OW 324
// SetRestrict ( b_breastwork , side , true ) ;
19224: LD_INT 31
19226: PPUSH
19227: LD_VAR 0 3
19231: PPUSH
19232: LD_INT 1
19234: PPUSH
19235: CALL_OW 324
// SetRestrict ( b_bunker , side , true ) ;
19239: LD_INT 32
19241: PPUSH
19242: LD_VAR 0 3
19246: PPUSH
19247: LD_INT 1
19249: PPUSH
19250: CALL_OW 324
// SetRestrict ( b_control_tower , side , true ) ;
19254: LD_INT 36
19256: PPUSH
19257: LD_VAR 0 3
19261: PPUSH
19262: LD_INT 1
19264: PPUSH
19265: CALL_OW 324
// end ; 5 :
19269: GO 21400
19271: LD_INT 5
19273: DOUBLE
19274: EQUAL
19275: IFTRUE 19279
19277: GO 20392
19279: POP
// begin SetTech ( tech_solpow , side , state_enabled ) ;
19280: LD_INT 35
19282: PPUSH
19283: LD_VAR 0 3
19287: PPUSH
19288: LD_INT 1
19290: PPUSH
19291: CALL_OW 322
// SetTech ( tech_soleng , side , state_enabled ) ;
19295: LD_INT 45
19297: PPUSH
19298: LD_VAR 0 3
19302: PPUSH
19303: LD_INT 1
19305: PPUSH
19306: CALL_OW 322
// SetTech ( tech_oilpow , side , state_enabled ) ;
19310: LD_INT 46
19312: PPUSH
19313: LD_VAR 0 3
19317: PPUSH
19318: LD_INT 1
19320: PPUSH
19321: CALL_OW 322
// SetTech ( tech_oileng , side , state_enabled ) ;
19325: LD_INT 47
19327: PPUSH
19328: LD_VAR 0 3
19332: PPUSH
19333: LD_INT 1
19335: PPUSH
19336: CALL_OW 322
// SetTech ( tech_apelang , side , state_enabled ) ;
19340: LD_INT 1
19342: PPUSH
19343: LD_VAR 0 3
19347: PPUSH
19348: LD_INT 1
19350: PPUSH
19351: CALL_OW 322
// SetTech ( tech_apepsych , side , state_enabled ) ;
19355: LD_INT 2
19357: PPUSH
19358: LD_VAR 0 3
19362: PPUSH
19363: LD_INT 1
19365: PPUSH
19366: CALL_OW 322
// SetTech ( tech_apeagres , side , state_enabled ) ;
19370: LD_INT 11
19372: PPUSH
19373: LD_VAR 0 3
19377: PPUSH
19378: LD_INT 1
19380: PPUSH
19381: CALL_OW 322
// SetTech ( tech_sibdet , side , state_enabled ) ;
19385: LD_INT 20
19387: PPUSH
19388: LD_VAR 0 3
19392: PPUSH
19393: LD_INT 1
19395: PPUSH
19396: CALL_OW 322
// SetTech ( tech_tech1 , side , state_enabled ) ;
19400: LD_INT 48
19402: PPUSH
19403: LD_VAR 0 3
19407: PPUSH
19408: LD_INT 1
19410: PPUSH
19411: CALL_OW 322
// SetTech ( tech_tech2 , side , state_enabled ) ;
19415: LD_INT 49
19417: PPUSH
19418: LD_VAR 0 3
19422: PPUSH
19423: LD_INT 1
19425: PPUSH
19426: CALL_OW 322
// SetTech ( tech_gatling , side , state_enabled ) ;
19430: LD_INT 69
19432: PPUSH
19433: LD_VAR 0 3
19437: PPUSH
19438: LD_INT 1
19440: PPUSH
19441: CALL_OW 322
// SetTech ( tech_gun , side , state_enabled ) ;
19445: LD_INT 39
19447: PPUSH
19448: LD_VAR 0 3
19452: PPUSH
19453: LD_INT 1
19455: PPUSH
19456: CALL_OW 322
// SetTech ( tech_advmet , side , state_enabled ) ;
19460: LD_INT 34
19462: PPUSH
19463: LD_VAR 0 3
19467: PPUSH
19468: LD_INT 1
19470: PPUSH
19471: CALL_OW 322
// SetTech ( tech_explos , side , state_enabled ) ;
19475: LD_INT 42
19477: PPUSH
19478: LD_VAR 0 3
19482: PPUSH
19483: LD_INT 1
19485: PPUSH
19486: CALL_OW 322
// SetTech ( tech_bazooka , side , state_enabled ) ;
19490: LD_INT 44
19492: PPUSH
19493: LD_VAR 0 3
19497: PPUSH
19498: LD_INT 1
19500: PPUSH
19501: CALL_OW 322
// SetTech ( tech_mortar , side , state_enabled ) ;
19505: LD_INT 41
19507: PPUSH
19508: LD_VAR 0 3
19512: PPUSH
19513: LD_INT 1
19515: PPUSH
19516: CALL_OW 322
// SetTech ( tech_rocket , side , state_enabled ) ;
19520: LD_INT 40
19522: PPUSH
19523: LD_VAR 0 3
19527: PPUSH
19528: LD_INT 1
19530: PPUSH
19531: CALL_OW 322
// SetTech ( tech_selfdest , side , state_enabled ) ;
19535: LD_INT 43
19537: PPUSH
19538: LD_VAR 0 3
19542: PPUSH
19543: LD_INT 1
19545: PPUSH
19546: CALL_OW 322
// SetTech ( tech_flame , side , state_enabled ) ;
19550: LD_INT 70
19552: PPUSH
19553: LD_VAR 0 3
19557: PPUSH
19558: LD_INT 1
19560: PPUSH
19561: CALL_OW 322
// SetTech ( tech_weap1 , side , state_enabled ) ;
19565: LD_INT 51
19567: PPUSH
19568: LD_VAR 0 3
19572: PPUSH
19573: LD_INT 1
19575: PPUSH
19576: CALL_OW 322
// SetTech ( tech_weap2 , side , state_enabled ) ;
19580: LD_INT 52
19582: PPUSH
19583: LD_VAR 0 3
19587: PPUSH
19588: LD_INT 1
19590: PPUSH
19591: CALL_OW 322
// SetTech ( tech_radar , side , state_enabled ) ;
19595: LD_INT 6
19597: PPUSH
19598: LD_VAR 0 3
19602: PPUSH
19603: LD_INT 1
19605: PPUSH
19606: CALL_OW 322
// SetTech ( tech_remcont , side , state_enabled ) ;
19610: LD_INT 15
19612: PPUSH
19613: LD_VAR 0 3
19617: PPUSH
19618: LD_INT 1
19620: PPUSH
19621: CALL_OW 322
// SetTech ( tech_matdet , side , state_enabled ) ;
19625: LD_INT 7
19627: PPUSH
19628: LD_VAR 0 3
19632: PPUSH
19633: LD_INT 1
19635: PPUSH
19636: CALL_OW 322
// SetTech ( tech_lassight , side , state_enabled ) ;
19640: LD_INT 12
19642: PPUSH
19643: LD_VAR 0 3
19647: PPUSH
19648: LD_INT 1
19650: PPUSH
19651: CALL_OW 322
// SetTech ( tech_hidcam , side , state_enabled ) ;
19655: LD_INT 17
19657: PPUSH
19658: LD_VAR 0 3
19662: PPUSH
19663: LD_INT 1
19665: PPUSH
19666: CALL_OW 322
// SetTech ( tech_remcharge , side , state_enabled ) ;
19670: LD_INT 18
19672: PPUSH
19673: LD_VAR 0 3
19677: PPUSH
19678: LD_INT 1
19680: PPUSH
19681: CALL_OW 322
// SetTech ( tech_opto1 , side , state_enabled ) ;
19685: LD_INT 60
19687: PPUSH
19688: LD_VAR 0 3
19692: PPUSH
19693: LD_INT 1
19695: PPUSH
19696: CALL_OW 322
// SetTech ( tech_ai , side , state_enabled ) ;
19700: LD_INT 32
19702: PPUSH
19703: LD_VAR 0 3
19707: PPUSH
19708: LD_INT 1
19710: PPUSH
19711: CALL_OW 322
// SetTech ( tech_matpred , side , state_enabled ) ;
19715: LD_INT 9
19717: PPUSH
19718: LD_VAR 0 3
19722: PPUSH
19723: LD_INT 1
19725: PPUSH
19726: CALL_OW 322
// SetTech ( tech_comp1 , side , state_enabled ) ;
19730: LD_INT 57
19732: PPUSH
19733: LD_VAR 0 3
19737: PPUSH
19738: LD_INT 1
19740: PPUSH
19741: CALL_OW 322
// SetTech ( tech_taufield , side , state_enabled ) ;
19745: LD_INT 30
19747: PPUSH
19748: LD_VAR 0 3
19752: PPUSH
19753: LD_INT 1
19755: PPUSH
19756: CALL_OW 322
// SetTech ( tech_limteleport , side , state_enabled ) ;
19760: LD_INT 37
19762: PPUSH
19763: LD_VAR 0 3
19767: PPUSH
19768: LD_INT 1
19770: PPUSH
19771: CALL_OW 322
// SetTech ( tech_st1 , side , state_enabled ) ;
19775: LD_INT 63
19777: PPUSH
19778: LD_VAR 0 3
19782: PPUSH
19783: LD_INT 1
19785: PPUSH
19786: CALL_OW 322
// SetTech ( tech_apeneural , side , state_enabled ) ;
19790: LD_INT 3
19792: PPUSH
19793: LD_VAR 0 3
19797: PPUSH
19798: LD_INT 1
19800: PPUSH
19801: CALL_OW 322
// SetTech ( tech_apebrain , side , state_enabled ) ;
19805: LD_INT 4
19807: PPUSH
19808: LD_VAR 0 3
19812: PPUSH
19813: LD_INT 1
19815: PPUSH
19816: CALL_OW 322
// SetTech ( tech_stimdrugs , side , state_enabled ) ;
19820: LD_INT 5
19822: PPUSH
19823: LD_VAR 0 3
19827: PPUSH
19828: LD_INT 1
19830: PPUSH
19831: CALL_OW 322
// SetTech ( tech_bio1 , side , state_enabled ) ;
19835: LD_INT 66
19837: PPUSH
19838: LD_VAR 0 3
19842: PPUSH
19843: LD_INT 1
19845: PPUSH
19846: CALL_OW 322
// SetTech ( tech_sibpow , side , state_enabled ) ;
19850: LD_INT 21
19852: PPUSH
19853: LD_VAR 0 3
19857: PPUSH
19858: LD_INT 1
19860: PPUSH
19861: CALL_OW 322
// SetTech ( tech_sibeng , side , state_enabled ) ;
19865: LD_INT 22
19867: PPUSH
19868: LD_VAR 0 3
19872: PPUSH
19873: LD_INT 1
19875: PPUSH
19876: CALL_OW 322
// SetTech ( tech_sibloc , side , state_enabled ) ;
19880: LD_INT 19
19882: PPUSH
19883: LD_VAR 0 3
19887: PPUSH
19888: LD_INT 1
19890: PPUSH
19891: CALL_OW 322
// SetTech ( tech_sib1 , side , state_enabled ) ;
19895: LD_INT 54
19897: PPUSH
19898: LD_VAR 0 3
19902: PPUSH
19903: LD_INT 1
19905: PPUSH
19906: CALL_OW 322
// SetTech ( tech_sib2 , side , state_enabled ) ;
19910: LD_INT 55
19912: PPUSH
19913: LD_VAR 0 3
19917: PPUSH
19918: LD_INT 1
19920: PPUSH
19921: CALL_OW 322
// SetRestrict ( b_depot , side , true ) ;
19925: LD_INT 0
19927: PPUSH
19928: LD_VAR 0 3
19932: PPUSH
19933: LD_INT 1
19935: PPUSH
19936: CALL_OW 324
// SetRestrict ( b_warehouse , side , true ) ;
19940: LD_INT 1
19942: PPUSH
19943: LD_VAR 0 3
19947: PPUSH
19948: LD_INT 1
19950: PPUSH
19951: CALL_OW 324
// SetRestrict ( b_workshop , side , true ) ;
19955: LD_INT 2
19957: PPUSH
19958: LD_VAR 0 3
19962: PPUSH
19963: LD_INT 1
19965: PPUSH
19966: CALL_OW 324
// SetRestrict ( b_factory , side , true ) ;
19970: LD_INT 3
19972: PPUSH
19973: LD_VAR 0 3
19977: PPUSH
19978: LD_INT 1
19980: PPUSH
19981: CALL_OW 324
// SetRestrict ( b_armoury , side , true ) ;
19985: LD_INT 4
19987: PPUSH
19988: LD_VAR 0 3
19992: PPUSH
19993: LD_INT 1
19995: PPUSH
19996: CALL_OW 324
// SetRestrict ( b_barracks , side , true ) ;
20000: LD_INT 5
20002: PPUSH
20003: LD_VAR 0 3
20007: PPUSH
20008: LD_INT 1
20010: PPUSH
20011: CALL_OW 324
// SetRestrict ( b_lab , side , true ) ;
20015: LD_INT 6
20017: PPUSH
20018: LD_VAR 0 3
20022: PPUSH
20023: LD_INT 1
20025: PPUSH
20026: CALL_OW 324
// SetRestrict ( b_lab_half , side , true ) ;
20030: LD_INT 7
20032: PPUSH
20033: LD_VAR 0 3
20037: PPUSH
20038: LD_INT 1
20040: PPUSH
20041: CALL_OW 324
// SetRestrict ( b_lab_full , side , true ) ;
20045: LD_INT 8
20047: PPUSH
20048: LD_VAR 0 3
20052: PPUSH
20053: LD_INT 1
20055: PPUSH
20056: CALL_OW 324
// SetRestrict ( b_lab_weapon , side , true ) ;
20060: LD_INT 10
20062: PPUSH
20063: LD_VAR 0 3
20067: PPUSH
20068: LD_INT 1
20070: PPUSH
20071: CALL_OW 324
// SetRestrict ( b_lab_siberium , side , true ) ;
20075: LD_INT 11
20077: PPUSH
20078: LD_VAR 0 3
20082: PPUSH
20083: LD_INT 1
20085: PPUSH
20086: CALL_OW 324
// SetRestrict ( b_lab_computer , side , true ) ;
20090: LD_INT 12
20092: PPUSH
20093: LD_VAR 0 3
20097: PPUSH
20098: LD_INT 1
20100: PPUSH
20101: CALL_OW 324
// SetRestrict ( b_lab_biological , side , true ) ;
20105: LD_INT 13
20107: PPUSH
20108: LD_VAR 0 3
20112: PPUSH
20113: LD_INT 1
20115: PPUSH
20116: CALL_OW 324
// SetRestrict ( b_lab_spacetime , side , true ) ;
20120: LD_INT 14
20122: PPUSH
20123: LD_VAR 0 3
20127: PPUSH
20128: LD_INT 1
20130: PPUSH
20131: CALL_OW 324
// SetRestrict ( b_lab_opto , side , true ) ;
20135: LD_INT 15
20137: PPUSH
20138: LD_VAR 0 3
20142: PPUSH
20143: LD_INT 1
20145: PPUSH
20146: CALL_OW 324
// SetRestrict ( b_ext_track , side , true ) ;
20150: LD_INT 16
20152: PPUSH
20153: LD_VAR 0 3
20157: PPUSH
20158: LD_INT 1
20160: PPUSH
20161: CALL_OW 324
// SetRestrict ( b_ext_gun , side , true ) ;
20165: LD_INT 17
20167: PPUSH
20168: LD_VAR 0 3
20172: PPUSH
20173: LD_INT 1
20175: PPUSH
20176: CALL_OW 324
// SetRestrict ( b_ext_rocket , side , true ) ;
20180: LD_INT 18
20182: PPUSH
20183: LD_VAR 0 3
20187: PPUSH
20188: LD_INT 1
20190: PPUSH
20191: CALL_OW 324
// SetRestrict ( b_ext_noncombat , side , true ) ;
20195: LD_INT 19
20197: PPUSH
20198: LD_VAR 0 3
20202: PPUSH
20203: LD_INT 1
20205: PPUSH
20206: CALL_OW 324
// SetRestrict ( b_ext_radar , side , true ) ;
20210: LD_INT 20
20212: PPUSH
20213: LD_VAR 0 3
20217: PPUSH
20218: LD_INT 1
20220: PPUSH
20221: CALL_OW 324
// SetRestrict ( b_ext_siberium , side , true ) ;
20225: LD_INT 21
20227: PPUSH
20228: LD_VAR 0 3
20232: PPUSH
20233: LD_INT 1
20235: PPUSH
20236: CALL_OW 324
// SetRestrict ( b_ext_stitch , side , true ) ;
20240: LD_INT 23
20242: PPUSH
20243: LD_VAR 0 3
20247: PPUSH
20248: LD_INT 1
20250: PPUSH
20251: CALL_OW 324
// SetRestrict ( b_oil_power , side , true ) ;
20255: LD_INT 26
20257: PPUSH
20258: LD_VAR 0 3
20262: PPUSH
20263: LD_INT 1
20265: PPUSH
20266: CALL_OW 324
// SetRestrict ( b_solar_power , side , true ) ;
20270: LD_INT 27
20272: PPUSH
20273: LD_VAR 0 3
20277: PPUSH
20278: LD_INT 1
20280: PPUSH
20281: CALL_OW 324
// SetRestrict ( b_siberite_power , side , true ) ;
20285: LD_INT 28
20287: PPUSH
20288: LD_VAR 0 3
20292: PPUSH
20293: LD_INT 1
20295: PPUSH
20296: CALL_OW 324
// SetRestrict ( b_oil_mine , side , true ) ;
20300: LD_INT 29
20302: PPUSH
20303: LD_VAR 0 3
20307: PPUSH
20308: LD_INT 1
20310: PPUSH
20311: CALL_OW 324
// SetRestrict ( b_siberite_mine , side , true ) ;
20315: LD_INT 30
20317: PPUSH
20318: LD_VAR 0 3
20322: PPUSH
20323: LD_INT 1
20325: PPUSH
20326: CALL_OW 324
// SetRestrict ( b_breastwork , side , true ) ;
20330: LD_INT 31
20332: PPUSH
20333: LD_VAR 0 3
20337: PPUSH
20338: LD_INT 1
20340: PPUSH
20341: CALL_OW 324
// SetRestrict ( b_bunker , side , true ) ;
20345: LD_INT 32
20347: PPUSH
20348: LD_VAR 0 3
20352: PPUSH
20353: LD_INT 1
20355: PPUSH
20356: CALL_OW 324
// SetRestrict ( b_turret , side , true ) ;
20360: LD_INT 33
20362: PPUSH
20363: LD_VAR 0 3
20367: PPUSH
20368: LD_INT 1
20370: PPUSH
20371: CALL_OW 324
// SetRestrict ( b_control_tower , side , true ) ;
20375: LD_INT 36
20377: PPUSH
20378: LD_VAR 0 3
20382: PPUSH
20383: LD_INT 1
20385: PPUSH
20386: CALL_OW 324
// end ; 6 :
20390: GO 21400
20392: LD_INT 6
20394: DOUBLE
20395: EQUAL
20396: IFTRUE 20400
20398: GO 21325
20400: POP
// begin SetTech ( tech_solpow , side , state_enabled ) ;
20401: LD_INT 35
20403: PPUSH
20404: LD_VAR 0 3
20408: PPUSH
20409: LD_INT 1
20411: PPUSH
20412: CALL_OW 322
// SetTech ( tech_soleng , side , state_enabled ) ;
20416: LD_INT 45
20418: PPUSH
20419: LD_VAR 0 3
20423: PPUSH
20424: LD_INT 1
20426: PPUSH
20427: CALL_OW 322
// SetTech ( tech_oilpow , side , state_enabled ) ;
20431: LD_INT 46
20433: PPUSH
20434: LD_VAR 0 3
20438: PPUSH
20439: LD_INT 1
20441: PPUSH
20442: CALL_OW 322
// SetTech ( tech_oileng , side , state_enabled ) ;
20446: LD_INT 47
20448: PPUSH
20449: LD_VAR 0 3
20453: PPUSH
20454: LD_INT 1
20456: PPUSH
20457: CALL_OW 322
// SetTech ( tech_apelang , side , state_enabled ) ;
20461: LD_INT 1
20463: PPUSH
20464: LD_VAR 0 3
20468: PPUSH
20469: LD_INT 1
20471: PPUSH
20472: CALL_OW 322
// SetTech ( tech_apepsych , side , state_enabled ) ;
20476: LD_INT 2
20478: PPUSH
20479: LD_VAR 0 3
20483: PPUSH
20484: LD_INT 1
20486: PPUSH
20487: CALL_OW 322
// SetTech ( tech_apeagres , side , state_enabled ) ;
20491: LD_INT 11
20493: PPUSH
20494: LD_VAR 0 3
20498: PPUSH
20499: LD_INT 1
20501: PPUSH
20502: CALL_OW 322
// SetTech ( tech_sibdet , side , state_enabled ) ;
20506: LD_INT 20
20508: PPUSH
20509: LD_VAR 0 3
20513: PPUSH
20514: LD_INT 1
20516: PPUSH
20517: CALL_OW 322
// SetTech ( tech_tech1 , side , state_enabled ) ;
20521: LD_INT 48
20523: PPUSH
20524: LD_VAR 0 3
20528: PPUSH
20529: LD_INT 1
20531: PPUSH
20532: CALL_OW 322
// SetTech ( tech_tech2 , side , state_enabled ) ;
20536: LD_INT 49
20538: PPUSH
20539: LD_VAR 0 3
20543: PPUSH
20544: LD_INT 1
20546: PPUSH
20547: CALL_OW 322
// SetTech ( tech_tech3 , side , state_enabled ) ;
20551: LD_INT 50
20553: PPUSH
20554: LD_VAR 0 3
20558: PPUSH
20559: LD_INT 1
20561: PPUSH
20562: CALL_OW 322
// SetTech ( tech_gatling , side , state_enabled ) ;
20566: LD_INT 69
20568: PPUSH
20569: LD_VAR 0 3
20573: PPUSH
20574: LD_INT 1
20576: PPUSH
20577: CALL_OW 322
// SetTech ( tech_gun , side , state_enabled ) ;
20581: LD_INT 39
20583: PPUSH
20584: LD_VAR 0 3
20588: PPUSH
20589: LD_INT 1
20591: PPUSH
20592: CALL_OW 322
// SetTech ( tech_advmet , side , state_enabled ) ;
20596: LD_INT 34
20598: PPUSH
20599: LD_VAR 0 3
20603: PPUSH
20604: LD_INT 1
20606: PPUSH
20607: CALL_OW 322
// SetTech ( tech_explos , side , state_enabled ) ;
20611: LD_INT 42
20613: PPUSH
20614: LD_VAR 0 3
20618: PPUSH
20619: LD_INT 1
20621: PPUSH
20622: CALL_OW 322
// SetTech ( tech_bazooka , side , state_enabled ) ;
20626: LD_INT 44
20628: PPUSH
20629: LD_VAR 0 3
20633: PPUSH
20634: LD_INT 1
20636: PPUSH
20637: CALL_OW 322
// SetTech ( tech_mortar , side , state_enabled ) ;
20641: LD_INT 41
20643: PPUSH
20644: LD_VAR 0 3
20648: PPUSH
20649: LD_INT 1
20651: PPUSH
20652: CALL_OW 322
// SetTech ( tech_soporific , side , state_enabled ) ;
20656: LD_INT 13
20658: PPUSH
20659: LD_VAR 0 3
20663: PPUSH
20664: LD_INT 1
20666: PPUSH
20667: CALL_OW 322
// SetTech ( tech_rocket , side , state_enabled ) ;
20671: LD_INT 40
20673: PPUSH
20674: LD_VAR 0 3
20678: PPUSH
20679: LD_INT 1
20681: PPUSH
20682: CALL_OW 322
// SetTech ( tech_selfdest , side , state_enabled ) ;
20686: LD_INT 43
20688: PPUSH
20689: LD_VAR 0 3
20693: PPUSH
20694: LD_INT 1
20696: PPUSH
20697: CALL_OW 322
// SetTech ( tech_flame , side , state_enabled ) ;
20701: LD_INT 70
20703: PPUSH
20704: LD_VAR 0 3
20708: PPUSH
20709: LD_INT 1
20711: PPUSH
20712: CALL_OW 322
// SetTech ( tech_behemoth , side , state_enabled ) ;
20716: LD_INT 23
20718: PPUSH
20719: LD_VAR 0 3
20723: PPUSH
20724: LD_INT 1
20726: PPUSH
20727: CALL_OW 322
// SetTech ( tech_weap1 , side , state_enabled ) ;
20731: LD_INT 51
20733: PPUSH
20734: LD_VAR 0 3
20738: PPUSH
20739: LD_INT 1
20741: PPUSH
20742: CALL_OW 322
// SetTech ( tech_weap2 , side , state_enabled ) ;
20746: LD_INT 52
20748: PPUSH
20749: LD_VAR 0 3
20753: PPUSH
20754: LD_INT 1
20756: PPUSH
20757: CALL_OW 322
// SetTech ( tech_radar , side , state_enabled ) ;
20761: LD_INT 6
20763: PPUSH
20764: LD_VAR 0 3
20768: PPUSH
20769: LD_INT 1
20771: PPUSH
20772: CALL_OW 322
// SetTech ( tech_remcont , side , state_enabled ) ;
20776: LD_INT 15
20778: PPUSH
20779: LD_VAR 0 3
20783: PPUSH
20784: LD_INT 1
20786: PPUSH
20787: CALL_OW 322
// SetTech ( tech_matdet , side , state_enabled ) ;
20791: LD_INT 7
20793: PPUSH
20794: LD_VAR 0 3
20798: PPUSH
20799: LD_INT 1
20801: PPUSH
20802: CALL_OW 322
// SetTech ( tech_lassight , side , state_enabled ) ;
20806: LD_INT 12
20808: PPUSH
20809: LD_VAR 0 3
20813: PPUSH
20814: LD_INT 1
20816: PPUSH
20817: CALL_OW 322
// SetTech ( tech_laser , side , state_enabled ) ;
20821: LD_INT 10
20823: PPUSH
20824: LD_VAR 0 3
20828: PPUSH
20829: LD_INT 1
20831: PPUSH
20832: CALL_OW 322
// SetTech ( tech_hidcam , side , state_enabled ) ;
20836: LD_INT 17
20838: PPUSH
20839: LD_VAR 0 3
20843: PPUSH
20844: LD_INT 1
20846: PPUSH
20847: CALL_OW 322
// SetTech ( tech_remcharge , side , state_enabled ) ;
20851: LD_INT 18
20853: PPUSH
20854: LD_VAR 0 3
20858: PPUSH
20859: LD_INT 1
20861: PPUSH
20862: CALL_OW 322
// SetTech ( tech_opto1 , side , state_enabled ) ;
20866: LD_INT 60
20868: PPUSH
20869: LD_VAR 0 3
20873: PPUSH
20874: LD_INT 1
20876: PPUSH
20877: CALL_OW 322
// SetTech ( tech_opto2 , side , state_enabled ) ;
20881: LD_INT 61
20883: PPUSH
20884: LD_VAR 0 3
20888: PPUSH
20889: LD_INT 1
20891: PPUSH
20892: CALL_OW 322
// SetTech ( tech_ai , side , state_enabled ) ;
20896: LD_INT 32
20898: PPUSH
20899: LD_VAR 0 3
20903: PPUSH
20904: LD_INT 1
20906: PPUSH
20907: CALL_OW 322
// SetTech ( tech_advai , side , state_enabled ) ;
20911: LD_INT 27
20913: PPUSH
20914: LD_VAR 0 3
20918: PPUSH
20919: LD_INT 1
20921: PPUSH
20922: CALL_OW 322
// SetTech ( tech_advchassis , side , state_enabled ) ;
20926: LD_INT 36
20928: PPUSH
20929: LD_VAR 0 3
20933: PPUSH
20934: LD_INT 1
20936: PPUSH
20937: CALL_OW 322
// SetTech ( tech_virus , side , state_enabled ) ;
20941: LD_INT 33
20943: PPUSH
20944: LD_VAR 0 3
20948: PPUSH
20949: LD_INT 1
20951: PPUSH
20952: CALL_OW 322
// SetTech ( tech_matpred , side , state_enabled ) ;
20956: LD_INT 9
20958: PPUSH
20959: LD_VAR 0 3
20963: PPUSH
20964: LD_INT 1
20966: PPUSH
20967: CALL_OW 322
// SetTech ( tech_targteleport , side , state_enabled ) ;
20971: LD_INT 38
20973: PPUSH
20974: LD_VAR 0 3
20978: PPUSH
20979: LD_INT 1
20981: PPUSH
20982: CALL_OW 322
// SetTech ( tech_comp1 , side , state_enabled ) ;
20986: LD_INT 57
20988: PPUSH
20989: LD_VAR 0 3
20993: PPUSH
20994: LD_INT 1
20996: PPUSH
20997: CALL_OW 322
// SetTech ( tech_comp2 , side , state_enabled ) ;
21001: LD_INT 58
21003: PPUSH
21004: LD_VAR 0 3
21008: PPUSH
21009: LD_INT 1
21011: PPUSH
21012: CALL_OW 322
// SetTech ( tech_taurad , side , state_enabled ) ;
21016: LD_INT 28
21018: PPUSH
21019: LD_VAR 0 3
21023: PPUSH
21024: LD_INT 1
21026: PPUSH
21027: CALL_OW 322
// SetTech ( tech_spacanom , side , state_enabled ) ;
21031: LD_INT 29
21033: PPUSH
21034: LD_VAR 0 3
21038: PPUSH
21039: LD_INT 1
21041: PPUSH
21042: CALL_OW 322
// SetTech ( tech_taufield , side , state_enabled ) ;
21046: LD_INT 30
21048: PPUSH
21049: LD_VAR 0 3
21053: PPUSH
21054: LD_INT 1
21056: PPUSH
21057: CALL_OW 322
// SetTech ( tech_limteleport , side , state_enabled ) ;
21061: LD_INT 37
21063: PPUSH
21064: LD_VAR 0 3
21068: PPUSH
21069: LD_INT 1
21071: PPUSH
21072: CALL_OW 322
// SetTech ( tech_st1 , side , state_enabled ) ;
21076: LD_INT 63
21078: PPUSH
21079: LD_VAR 0 3
21083: PPUSH
21084: LD_INT 1
21086: PPUSH
21087: CALL_OW 322
// SetTech ( tech_st2 , side , state_enabled ) ;
21091: LD_INT 64
21093: PPUSH
21094: LD_VAR 0 3
21098: PPUSH
21099: LD_INT 1
21101: PPUSH
21102: CALL_OW 322
// SetTech ( tech_apeneural , side , state_enabled ) ;
21106: LD_INT 3
21108: PPUSH
21109: LD_VAR 0 3
21113: PPUSH
21114: LD_INT 1
21116: PPUSH
21117: CALL_OW 322
// SetTech ( tech_apebrain , side , state_enabled ) ;
21121: LD_INT 4
21123: PPUSH
21124: LD_VAR 0 3
21128: PPUSH
21129: LD_INT 1
21131: PPUSH
21132: CALL_OW 322
// SetTech ( tech_stimdrugs , side , state_enabled ) ;
21136: LD_INT 5
21138: PPUSH
21139: LD_VAR 0 3
21143: PPUSH
21144: LD_INT 1
21146: PPUSH
21147: CALL_OW 322
// SetTech ( tech_biodet , side , state_enabled ) ;
21151: LD_INT 8
21153: PPUSH
21154: LD_VAR 0 3
21158: PPUSH
21159: LD_INT 1
21161: PPUSH
21162: CALL_OW 322
// SetTech ( tech_bio1 , side , state_enabled ) ;
21166: LD_INT 66
21168: PPUSH
21169: LD_VAR 0 3
21173: PPUSH
21174: LD_INT 1
21176: PPUSH
21177: CALL_OW 322
// SetTech ( tech_bio2 , side , state_enabled ) ;
21181: LD_INT 67
21183: PPUSH
21184: LD_VAR 0 3
21188: PPUSH
21189: LD_INT 1
21191: PPUSH
21192: CALL_OW 322
// SetTech ( tech_sibpow , side , state_enabled ) ;
21196: LD_INT 21
21198: PPUSH
21199: LD_VAR 0 3
21203: PPUSH
21204: LD_INT 1
21206: PPUSH
21207: CALL_OW 322
// SetTech ( tech_sibeng , side , state_enabled ) ;
21211: LD_INT 22
21213: PPUSH
21214: LD_VAR 0 3
21218: PPUSH
21219: LD_INT 1
21221: PPUSH
21222: CALL_OW 322
// SetTech ( tech_sibloc , side , state_enabled ) ;
21226: LD_INT 19
21228: PPUSH
21229: LD_VAR 0 3
21233: PPUSH
21234: LD_INT 1
21236: PPUSH
21237: CALL_OW 322
// SetTech ( tech_sibcontam , side , state_enabled ) ;
21241: LD_INT 26
21243: PPUSH
21244: LD_VAR 0 3
21248: PPUSH
21249: LD_INT 1
21251: PPUSH
21252: CALL_OW 322
// SetTech ( tech_sib1 , side , state_enabled ) ;
21256: LD_INT 54
21258: PPUSH
21259: LD_VAR 0 3
21263: PPUSH
21264: LD_INT 1
21266: PPUSH
21267: CALL_OW 322
// SetTech ( tech_sib2 , side , state_enabled ) ;
21271: LD_INT 55
21273: PPUSH
21274: LD_VAR 0 3
21278: PPUSH
21279: LD_INT 1
21281: PPUSH
21282: CALL_OW 322
// for i = 0 to 39 do
21286: LD_ADDR_VAR 0 4
21290: PUSH
21291: DOUBLE
21292: LD_INT 0
21294: DEC
21295: ST_TO_ADDR
21296: LD_INT 39
21298: PUSH
21299: FOR_TO
21300: IFFALSE 21321
// SetRestrict ( i , side , true ) ;
21302: LD_VAR 0 4
21306: PPUSH
21307: LD_VAR 0 3
21311: PPUSH
21312: LD_INT 1
21314: PPUSH
21315: CALL_OW 324
21319: GO 21299
21321: POP
21322: POP
// end ; else
21323: GO 21400
21325: POP
// begin for i = 1 to 73 do
21326: LD_ADDR_VAR 0 4
21330: PUSH
21331: DOUBLE
21332: LD_INT 1
21334: DEC
21335: ST_TO_ADDR
21336: LD_INT 73
21338: PUSH
21339: FOR_TO
21340: IFFALSE 21361
// SetTech ( i , side , state_enabled ) ;
21342: LD_VAR 0 4
21346: PPUSH
21347: LD_VAR 0 3
21351: PPUSH
21352: LD_INT 1
21354: PPUSH
21355: CALL_OW 322
21359: GO 21339
21361: POP
21362: POP
// for i = 0 to 39 do
21363: LD_ADDR_VAR 0 4
21367: PUSH
21368: DOUBLE
21369: LD_INT 0
21371: DEC
21372: ST_TO_ADDR
21373: LD_INT 39
21375: PUSH
21376: FOR_TO
21377: IFFALSE 21398
// SetRestrict ( i , side , true ) ;
21379: LD_VAR 0 4
21383: PPUSH
21384: LD_VAR 0 3
21388: PPUSH
21389: LD_INT 1
21391: PPUSH
21392: CALL_OW 324
21396: GO 21376
21398: POP
21399: POP
// end ; end ; end ;
21400: GO 17405
21402: POP
21403: POP
// end ; end_of_file
21404: LD_VAR 0 2
21408: RET
// export function UpdateSpectatorBar ; var i , j , crates , oil , sib , people , base , bases ; begin
21409: LD_INT 0
21411: PPUSH
21412: PPUSH
21413: PPUSH
21414: PPUSH
21415: PPUSH
21416: PPUSH
21417: PPUSH
21418: PPUSH
21419: PPUSH
// for i := 1 to 8 do
21420: LD_ADDR_VAR 0 2
21424: PUSH
21425: DOUBLE
21426: LD_INT 1
21428: DEC
21429: ST_TO_ADDR
21430: LD_INT 8
21432: PUSH
21433: FOR_TO
21434: IFFALSE 21818
// begin if Side_Positions [ i ] then
21436: LD_EXP 43
21440: PUSH
21441: LD_VAR 0 2
21445: ARRAY
21446: IFFALSE 21816
// begin people := FilterAllUnits ( [ [ f_side , i ] , [ f_type , unit_human ] ] ) + 0 ;
21448: LD_ADDR_VAR 0 7
21452: PUSH
21453: LD_INT 22
21455: PUSH
21456: LD_VAR 0 2
21460: PUSH
21461: EMPTY
21462: LIST
21463: LIST
21464: PUSH
21465: LD_INT 21
21467: PUSH
21468: LD_INT 1
21470: PUSH
21471: EMPTY
21472: LIST
21473: LIST
21474: PUSH
21475: EMPTY
21476: LIST
21477: LIST
21478: PPUSH
21479: CALL_OW 69
21483: PUSH
21484: LD_INT 0
21486: PLUS
21487: ST_TO_ADDR
// bases := FilterAllUnits ( [ [ f_side , i ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) ;
21488: LD_ADDR_VAR 0 9
21492: PUSH
21493: LD_INT 22
21495: PUSH
21496: LD_VAR 0 2
21500: PUSH
21501: EMPTY
21502: LIST
21503: LIST
21504: PUSH
21505: LD_INT 2
21507: PUSH
21508: LD_INT 30
21510: PUSH
21511: LD_INT 0
21513: PUSH
21514: EMPTY
21515: LIST
21516: LIST
21517: PUSH
21518: LD_INT 30
21520: PUSH
21521: LD_INT 1
21523: PUSH
21524: EMPTY
21525: LIST
21526: LIST
21527: PUSH
21528: EMPTY
21529: LIST
21530: LIST
21531: LIST
21532: PUSH
21533: EMPTY
21534: LIST
21535: LIST
21536: PPUSH
21537: CALL_OW 69
21541: ST_TO_ADDR
// crates := 0 ;
21542: LD_ADDR_VAR 0 4
21546: PUSH
21547: LD_INT 0
21549: ST_TO_ADDR
// oil := 0 ;
21550: LD_ADDR_VAR 0 5
21554: PUSH
21555: LD_INT 0
21557: ST_TO_ADDR
// sib := 0 ;
21558: LD_ADDR_VAR 0 6
21562: PUSH
21563: LD_INT 0
21565: ST_TO_ADDR
// if bases then
21566: LD_VAR 0 9
21570: IFFALSE 21676
// begin for j in bases do
21572: LD_ADDR_VAR 0 3
21576: PUSH
21577: LD_VAR 0 9
21581: PUSH
21582: FOR_IN
21583: IFFALSE 21674
// begin base := GetBase ( j ) ;
21585: LD_ADDR_VAR 0 8
21589: PUSH
21590: LD_VAR 0 3
21594: PPUSH
21595: CALL_OW 274
21599: ST_TO_ADDR
// crates := crates + GetResourceType ( base , mat_cans ) ;
21600: LD_ADDR_VAR 0 4
21604: PUSH
21605: LD_VAR 0 4
21609: PUSH
21610: LD_VAR 0 8
21614: PPUSH
21615: LD_INT 1
21617: PPUSH
21618: CALL_OW 275
21622: PLUS
21623: ST_TO_ADDR
// oil := oil + GetResourceType ( base , mat_oil ) ;
21624: LD_ADDR_VAR 0 5
21628: PUSH
21629: LD_VAR 0 5
21633: PUSH
21634: LD_VAR 0 8
21638: PPUSH
21639: LD_INT 2
21641: PPUSH
21642: CALL_OW 275
21646: PLUS
21647: ST_TO_ADDR
// sib := sib + GetResourceType ( base , mat_siberit ) ;
21648: LD_ADDR_VAR 0 6
21652: PUSH
21653: LD_VAR 0 6
21657: PUSH
21658: LD_VAR 0 8
21662: PPUSH
21663: LD_INT 3
21665: PPUSH
21666: CALL_OW 275
21670: PLUS
21671: ST_TO_ADDR
// end ;
21672: GO 21582
21674: POP
21675: POP
// end ; ToLua ( setSpecText( & i & , & 2 & , & crates & ) ) ;
21676: LD_STRING setSpecText(
21678: PUSH
21679: LD_VAR 0 2
21683: STR
21684: PUSH
21685: LD_STRING ,
21687: STR
21688: PUSH
21689: LD_INT 2
21691: STR
21692: PUSH
21693: LD_STRING ,
21695: STR
21696: PUSH
21697: LD_VAR 0 4
21701: STR
21702: PUSH
21703: LD_STRING )
21705: STR
21706: PPUSH
21707: CALL_OW 559
// ToLua ( setSpecText( & i & , & 3 & , & oil & ) ) ;
21711: LD_STRING setSpecText(
21713: PUSH
21714: LD_VAR 0 2
21718: STR
21719: PUSH
21720: LD_STRING ,
21722: STR
21723: PUSH
21724: LD_INT 3
21726: STR
21727: PUSH
21728: LD_STRING ,
21730: STR
21731: PUSH
21732: LD_VAR 0 5
21736: STR
21737: PUSH
21738: LD_STRING )
21740: STR
21741: PPUSH
21742: CALL_OW 559
// ToLua ( setSpecText( & i & , & 4 & , & sib & ) ) ;
21746: LD_STRING setSpecText(
21748: PUSH
21749: LD_VAR 0 2
21753: STR
21754: PUSH
21755: LD_STRING ,
21757: STR
21758: PUSH
21759: LD_INT 4
21761: STR
21762: PUSH
21763: LD_STRING ,
21765: STR
21766: PUSH
21767: LD_VAR 0 6
21771: STR
21772: PUSH
21773: LD_STRING )
21775: STR
21776: PPUSH
21777: CALL_OW 559
// ToLua ( setSpecText( & i & , & 5 & , & people & ) ) ;
21781: LD_STRING setSpecText(
21783: PUSH
21784: LD_VAR 0 2
21788: STR
21789: PUSH
21790: LD_STRING ,
21792: STR
21793: PUSH
21794: LD_INT 5
21796: STR
21797: PUSH
21798: LD_STRING ,
21800: STR
21801: PUSH
21802: LD_VAR 0 7
21806: STR
21807: PUSH
21808: LD_STRING )
21810: STR
21811: PPUSH
21812: CALL_OW 559
// end ; end ;
21816: GO 21433
21818: POP
21819: POP
// end ;
21820: LD_VAR 0 1
21824: RET
// every 0 0$1 do
21825: GO 21827
21827: DISABLE
// begin ToLua ( setSpecLogoNumber( & 2 & , & 1 & ) ) ;
21828: LD_STRING setSpecLogoNumber(
21830: PUSH
21831: LD_INT 2
21833: STR
21834: PUSH
21835: LD_STRING ,
21837: STR
21838: PUSH
21839: LD_INT 1
21841: STR
21842: PUSH
21843: LD_STRING )
21845: STR
21846: PPUSH
21847: CALL_OW 559
// ToLua ( setSpecLogoNumber( & 3 & , & 2 & ) ) ;
21851: LD_STRING setSpecLogoNumber(
21853: PUSH
21854: LD_INT 3
21856: STR
21857: PUSH
21858: LD_STRING ,
21860: STR
21861: PUSH
21862: LD_INT 2
21864: STR
21865: PUSH
21866: LD_STRING )
21868: STR
21869: PPUSH
21870: CALL_OW 559
// ToLua ( setSpecLogoNumber( & 4 & , & 3 & ) ) ;
21874: LD_STRING setSpecLogoNumber(
21876: PUSH
21877: LD_INT 4
21879: STR
21880: PUSH
21881: LD_STRING ,
21883: STR
21884: PUSH
21885: LD_INT 3
21887: STR
21888: PUSH
21889: LD_STRING )
21891: STR
21892: PPUSH
21893: CALL_OW 559
// ToLua ( setSpecLogoNumber( & 5 & , & 4 & ) ) ;
21897: LD_STRING setSpecLogoNumber(
21899: PUSH
21900: LD_INT 5
21902: STR
21903: PUSH
21904: LD_STRING ,
21906: STR
21907: PUSH
21908: LD_INT 4
21910: STR
21911: PUSH
21912: LD_STRING )
21914: STR
21915: PPUSH
21916: CALL_OW 559
// end ;
21920: END
// every 20 + 0 0$5 trigger FilterAllUnits ( [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ) do
21921: LD_INT 2
21923: PUSH
21924: LD_INT 30
21926: PUSH
21927: LD_INT 0
21929: PUSH
21930: EMPTY
21931: LIST
21932: LIST
21933: PUSH
21934: LD_INT 30
21936: PUSH
21937: LD_INT 1
21939: PUSH
21940: EMPTY
21941: LIST
21942: LIST
21943: PUSH
21944: EMPTY
21945: LIST
21946: LIST
21947: LIST
21948: PPUSH
21949: CALL_OW 69
21953: IFFALSE 21963
21955: GO 21957
21957: DISABLE
// begin enable ;
21958: ENABLE
// UpdateSpectatorBar ;
21959: CALL 21409 0 0
// end ;
21963: END
