// starting begin GT_DoubleNat = [ ] ;
   0: LD_ADDR_EXP 3
   4: PUSH
   5: EMPTY
   6: ST_TO_ADDR
// GT_DoublePeople = [ ] ;
   7: LD_ADDR_EXP 4
  11: PUSH
  12: EMPTY
  13: ST_TO_ADDR
// GT_TripleNat = [ ] ;
  14: LD_ADDR_EXP 5
  18: PUSH
  19: EMPTY
  20: ST_TO_ADDR
// GT_Survival = [ 24 , 23 , 22 , 21 ] ;
  21: LD_ADDR_EXP 6
  25: PUSH
  26: LD_INT 24
  28: PUSH
  29: LD_INT 23
  31: PUSH
  32: LD_INT 22
  34: PUSH
  35: LD_INT 21
  37: PUSH
  38: EMPTY
  39: LIST
  40: LIST
  41: LIST
  42: LIST
  43: ST_TO_ADDR
// GT_Mine = [ ] ;
  44: LD_ADDR_EXP 2
  48: PUSH
  49: EMPTY
  50: ST_TO_ADDR
// GT_RankedGames = [ 10 , 11 ] ;
  51: LD_ADDR_EXP 7
  55: PUSH
  56: LD_INT 10
  58: PUSH
  59: LD_INT 11
  61: PUSH
  62: EMPTY
  63: LIST
  64: LIST
  65: ST_TO_ADDR
// enable_human_prediction := true ;
  66: LD_ADDR_OWVAR 51
  70: PUSH
  71: LD_INT 1
  73: ST_TO_ADDR
// Disable_All_Games ;
  74: CALL 350 0 0
// mp_selectmsg = true ;
  78: LD_ADDR_OWVAR 13
  82: PUSH
  83: LD_INT 1
  85: ST_TO_ADDR
// read_multiplayer_and_game_parameters ;
  86: CALL 2717 0 0
// specialParameters ;
  90: CALL 362 0 0
// standartSets ;
  94: CALL 3335 0 0
// prepare_map_coordinates ;
  98: CALL 393 0 0
// InitGameRules ;
 102: CALL 26386 0 0
// set_shared_visions_and_alliances ;
 106: CALL 5276 0 0
// ResetFog ;
 110: CALL_OW 335
// ClearAllFogForSide ( Player_Side ) ;
 114: LD_EXP 70
 118: PPUSH
 119: CALL_OW 520
// init_map ;
 123: CALL 4431 0 0
// if Game_Type in GT_DoubleNat ^ GT_TripleNat then
 127: LD_EXP 1
 131: PUSH
 132: LD_EXP 3
 136: PUSH
 137: LD_EXP 5
 141: ADD
 142: IN
 143: IFFALSE 149
// modify_nations ;
 145: CALL 6183 0 0
// if not def_game_rules then
 149: LD_EXP 9
 153: NOT
 154: IFFALSE 163
// begin Start_tech_ur ;
 156: CALL 18600 0 0
// enable ( 30 ) ;
 160: LD_INT 30
 162: ENABLE_MARKED
// end ; prepare_sides ;
 163: CALL 5639 0 0
// InitLimits ;
 167: CALL 29091 0 0
// if def_kings_age or def_warForTerritory then
 171: LD_EXP 35
 175: PUSH
 176: LD_EXP 36
 180: OR
 181: IFFALSE 187
// InitPoints ;
 183: CALL 34904 0 0
// if def_kings_age then
 187: LD_EXP 35
 191: IFFALSE 197
// init_kings_counting ;
 193: CALL 22676 0 0
// init_respawn ;
 197: CALL 10481 0 0
// Init_Win_Condition ;
 201: CALL 12978 0 0
// mastodonti ;
 205: CALL 9163 0 0
// Start_Zvirata ;
 209: CALL 9428 0 0
// init_Daily ;
 213: CALL 24850 0 0
// your_side := Player_Side ;
 217: LD_ADDR_OWVAR 2
 221: PUSH
 222: LD_EXP 70
 226: ST_TO_ADDR
// music_nat := Side_Nations [ your_side ] ;
 227: LD_ADDR_OWVAR 71
 231: PUSH
 232: LD_EXP 76
 236: PUSH
 237: LD_OWVAR 2
 241: ARRAY
 242: ST_TO_ADDR
// if IAmSpec then
 243: CALL_OW 531
 247: IFFALSE 271
// begin FogOff ( true ) ;
 249: LD_INT 1
 251: PPUSH
 252: CALL_OW 344
// CenterNowOnXY ( 120 , 80 ) ;
 256: LD_INT 120
 258: PPUSH
 259: LD_INT 80
 261: PPUSH
 262: CALL_OW 86
// enable ( 400 ) ;
 266: LD_INT 400
 268: ENABLE_MARKED
// end else
 269: GO 321
// begin CenterNowOnXY ( start_def [ Side_Positions [ your_side ] ] [ 1 ] , start_def [ Side_Positions [ your_side ] ] [ 2 ] ) ;
 271: LD_EXP 83
 275: PUSH
 276: LD_EXP 75
 280: PUSH
 281: LD_OWVAR 2
 285: ARRAY
 286: ARRAY
 287: PUSH
 288: LD_INT 1
 290: ARRAY
 291: PPUSH
 292: LD_EXP 83
 296: PUSH
 297: LD_EXP 75
 301: PUSH
 302: LD_OWVAR 2
 306: ARRAY
 307: ARRAY
 308: PUSH
 309: LD_INT 2
 311: ARRAY
 312: PPUSH
 313: CALL_OW 86
// Init_Win_Condition ;
 317: CALL 12978 0 0
// end ; if def_builduptime then
 321: LD_EXP 30
 325: IFFALSE 331
// BeginBuildUp ;
 327: CALL 25660 0 0
// if def_warForTerritory then
 331: LD_EXP 36
 335: IFFALSE 341
// Init_WarForTerritory ;
 337: CALL 30356 0 0
// InitDisplayNames ;
 341: CALL 15958 0 0
// InitMultiplayerTime ;
 345: CALL 16628 0 0
// end ;
 349: END
// function Disable_All_Games ; begin
 350: LD_INT 0
 352: PPUSH
// Disable_Standard_Games ;
 353: CALL 9470 0 0
// end ;
 357: LD_VAR 0 1
 361: RET
// function specialParameters ; var d ; begin
 362: LD_INT 0
 364: PPUSH
 365: PPUSH
// if not isSGUI then
 366: LD_OWVAR 83
 370: NOT
 371: IFFALSE 388
// begin if not game_type in GT_Survival then
 373: LD_EXP 1
 377: PUSH
 378: LD_EXP 6
 382: IN
 383: NOT
 384: IFFALSE 386
// begin end ; end else
 386: GO 388
// begin end ; end ;
 388: LD_VAR 0 1
 392: RET
// function prepare_map_coordinates ; begin
 393: LD_INT 0
 395: PPUSH
// depot_def := [ [ 12 , 8 , 2 ] , [ 156 , 9 , 3 ] , [ 83 , 146 , 0 ] , [ 225 , 149 , 5 ] ] ;
 396: LD_ADDR_EXP 81
 400: PUSH
 401: LD_INT 12
 403: PUSH
 404: LD_INT 8
 406: PUSH
 407: LD_INT 2
 409: PUSH
 410: EMPTY
 411: LIST
 412: LIST
 413: LIST
 414: PUSH
 415: LD_INT 156
 417: PUSH
 418: LD_INT 9
 420: PUSH
 421: LD_INT 3
 423: PUSH
 424: EMPTY
 425: LIST
 426: LIST
 427: LIST
 428: PUSH
 429: LD_INT 83
 431: PUSH
 432: LD_INT 146
 434: PUSH
 435: LD_INT 0
 437: PUSH
 438: EMPTY
 439: LIST
 440: LIST
 441: LIST
 442: PUSH
 443: LD_INT 225
 445: PUSH
 446: LD_INT 149
 448: PUSH
 449: LD_INT 5
 451: PUSH
 452: EMPTY
 453: LIST
 454: LIST
 455: LIST
 456: PUSH
 457: EMPTY
 458: LIST
 459: LIST
 460: LIST
 461: LIST
 462: ST_TO_ADDR
// oil_deposits_locations := [ [ 20 , 4 ] , [ 141 , 4 ] , [ 93 , 153 ] , [ 220 , 155 ] , ] ;
 463: LD_ADDR_EXP 86
 467: PUSH
 468: LD_INT 20
 470: PUSH
 471: LD_INT 4
 473: PUSH
 474: EMPTY
 475: LIST
 476: LIST
 477: PUSH
 478: LD_INT 141
 480: PUSH
 481: LD_INT 4
 483: PUSH
 484: EMPTY
 485: LIST
 486: LIST
 487: PUSH
 488: LD_INT 93
 490: PUSH
 491: LD_INT 153
 493: PUSH
 494: EMPTY
 495: LIST
 496: LIST
 497: PUSH
 498: LD_INT 220
 500: PUSH
 501: LD_INT 155
 503: PUSH
 504: EMPTY
 505: LIST
 506: LIST
 507: PUSH
 508: EMPTY
 509: LIST
 510: LIST
 511: LIST
 512: LIST
 513: ST_TO_ADDR
// siberite_deposits_locations := [ [ 18 , 27 ] , [ 169 , 29 ] , [ 70 , 133 ] , [ 221 , 130 ] , ] ;
 514: LD_ADDR_EXP 88
 518: PUSH
 519: LD_INT 18
 521: PUSH
 522: LD_INT 27
 524: PUSH
 525: EMPTY
 526: LIST
 527: LIST
 528: PUSH
 529: LD_INT 169
 531: PUSH
 532: LD_INT 29
 534: PUSH
 535: EMPTY
 536: LIST
 537: LIST
 538: PUSH
 539: LD_INT 70
 541: PUSH
 542: LD_INT 133
 544: PUSH
 545: EMPTY
 546: LIST
 547: LIST
 548: PUSH
 549: LD_INT 221
 551: PUSH
 552: LD_INT 130
 554: PUSH
 555: EMPTY
 556: LIST
 557: LIST
 558: PUSH
 559: EMPTY
 560: LIST
 561: LIST
 562: LIST
 563: LIST
 564: ST_TO_ADDR
// extra_oil_deposits_locations := [ [ 53 , 26 ] , [ 129 , 20 ] , [ 187 , 139 ] , [ 106 , 135 ] ] ;
 565: LD_ADDR_EXP 85
 569: PUSH
 570: LD_INT 53
 572: PUSH
 573: LD_INT 26
 575: PUSH
 576: EMPTY
 577: LIST
 578: LIST
 579: PUSH
 580: LD_INT 129
 582: PUSH
 583: LD_INT 20
 585: PUSH
 586: EMPTY
 587: LIST
 588: LIST
 589: PUSH
 590: LD_INT 187
 592: PUSH
 593: LD_INT 139
 595: PUSH
 596: EMPTY
 597: LIST
 598: LIST
 599: PUSH
 600: LD_INT 106
 602: PUSH
 603: LD_INT 135
 605: PUSH
 606: EMPTY
 607: LIST
 608: LIST
 609: PUSH
 610: EMPTY
 611: LIST
 612: LIST
 613: LIST
 614: LIST
 615: ST_TO_ADDR
// extra_sib_deposits_locations := [ [ 51 , 53 ] , [ 155 , 53 ] , [ 183 , 107 ] , [ 80 , 106 ] ] ;
 616: LD_ADDR_EXP 87
 620: PUSH
 621: LD_INT 51
 623: PUSH
 624: LD_INT 53
 626: PUSH
 627: EMPTY
 628: LIST
 629: LIST
 630: PUSH
 631: LD_INT 155
 633: PUSH
 634: LD_INT 53
 636: PUSH
 637: EMPTY
 638: LIST
 639: LIST
 640: PUSH
 641: LD_INT 183
 643: PUSH
 644: LD_INT 107
 646: PUSH
 647: EMPTY
 648: LIST
 649: LIST
 650: PUSH
 651: LD_INT 80
 653: PUSH
 654: LD_INT 106
 656: PUSH
 657: EMPTY
 658: LIST
 659: LIST
 660: PUSH
 661: EMPTY
 662: LIST
 663: LIST
 664: LIST
 665: LIST
 666: ST_TO_ADDR
// for_show_near_resources = [ [ [ oil_deposits_locations [ 1 ] ] , [ siberite_deposits_locations [ 1 ] ] ] , [ [ oil_deposits_locations [ 2 ] ] , [ siberite_deposits_locations [ 2 ] ] ] , [ [ oil_deposits_locations [ 3 ] ] , [ siberite_deposits_locations [ 3 ] ] ] , [ [ oil_deposits_locations [ 4 ] ] , [ siberite_deposits_locations [ 4 ] ] ] , ] ;
 667: LD_ADDR_EXP 63
 671: PUSH
 672: LD_EXP 86
 676: PUSH
 677: LD_INT 1
 679: ARRAY
 680: PUSH
 681: EMPTY
 682: LIST
 683: PUSH
 684: LD_EXP 88
 688: PUSH
 689: LD_INT 1
 691: ARRAY
 692: PUSH
 693: EMPTY
 694: LIST
 695: PUSH
 696: EMPTY
 697: LIST
 698: LIST
 699: PUSH
 700: LD_EXP 86
 704: PUSH
 705: LD_INT 2
 707: ARRAY
 708: PUSH
 709: EMPTY
 710: LIST
 711: PUSH
 712: LD_EXP 88
 716: PUSH
 717: LD_INT 2
 719: ARRAY
 720: PUSH
 721: EMPTY
 722: LIST
 723: PUSH
 724: EMPTY
 725: LIST
 726: LIST
 727: PUSH
 728: LD_EXP 86
 732: PUSH
 733: LD_INT 3
 735: ARRAY
 736: PUSH
 737: EMPTY
 738: LIST
 739: PUSH
 740: LD_EXP 88
 744: PUSH
 745: LD_INT 3
 747: ARRAY
 748: PUSH
 749: EMPTY
 750: LIST
 751: PUSH
 752: EMPTY
 753: LIST
 754: LIST
 755: PUSH
 756: LD_EXP 86
 760: PUSH
 761: LD_INT 4
 763: ARRAY
 764: PUSH
 765: EMPTY
 766: LIST
 767: PUSH
 768: LD_EXP 88
 772: PUSH
 773: LD_INT 4
 775: ARRAY
 776: PUSH
 777: EMPTY
 778: LIST
 779: PUSH
 780: EMPTY
 781: LIST
 782: LIST
 783: PUSH
 784: EMPTY
 785: LIST
 786: LIST
 787: LIST
 788: LIST
 789: ST_TO_ADDR
// case def_base_level of 0 :
 790: LD_EXP 10
 794: PUSH
 795: LD_INT 0
 797: DOUBLE
 798: EQUAL
 799: IFTRUE 803
 801: GO 837
 803: POP
// begin buildings_def = [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
 804: LD_ADDR_EXP 39
 808: PUSH
 809: EMPTY
 810: PUSH
 811: EMPTY
 812: PUSH
 813: EMPTY
 814: PUSH
 815: EMPTY
 816: PUSH
 817: EMPTY
 818: PUSH
 819: EMPTY
 820: PUSH
 821: EMPTY
 822: PUSH
 823: EMPTY
 824: PUSH
 825: EMPTY
 826: LIST
 827: LIST
 828: LIST
 829: LIST
 830: LIST
 831: LIST
 832: LIST
 833: LIST
 834: ST_TO_ADDR
// end ; 1 :
 835: GO 1218
 837: LD_INT 1
 839: DOUBLE
 840: EQUAL
 841: IFTRUE 845
 843: GO 879
 845: POP
// begin buildings_def = [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
 846: LD_ADDR_EXP 39
 850: PUSH
 851: EMPTY
 852: PUSH
 853: EMPTY
 854: PUSH
 855: EMPTY
 856: PUSH
 857: EMPTY
 858: PUSH
 859: EMPTY
 860: PUSH
 861: EMPTY
 862: PUSH
 863: EMPTY
 864: PUSH
 865: EMPTY
 866: PUSH
 867: EMPTY
 868: LIST
 869: LIST
 870: LIST
 871: LIST
 872: LIST
 873: LIST
 874: LIST
 875: LIST
 876: ST_TO_ADDR
// end ; 2 :
 877: GO 1218
 879: LD_INT 2
 881: DOUBLE
 882: EQUAL
 883: IFTRUE 887
 885: GO 1217
 887: POP
// begin buildings_def = [ [ [ b_oil_mine , oil_deposits_locations [ 1 ] [ 1 ] , oil_deposits_locations [ 1 ] [ 2 ] , 4 ] , [ b_breastwork , 31 , 34 , 5 ] , [ b_breastwork , 40 , 16 , 4 ] ] , [ [ b_oil_mine , oil_deposits_locations [ 2 ] [ 1 ] , oil_deposits_locations [ 2 ] [ 2 ] , 0 ] , [ b_breastwork , 133 , 16 , 1 ] , [ b_breastwork , 161 , 34 , 0 ] ] , [ [ b_oil_mine , oil_deposits_locations [ 3 ] [ 1 ] , oil_deposits_locations [ 3 ] [ 2 ] , 4 ] , [ b_breastwork , 77 , 125 , 3 ] , [ b_breastwork , 77 , 126 , 4 ] ] , [ [ b_oil_mine , oil_deposits_locations [ 4 ] [ 1 ] , oil_deposits_locations [ 4 ] [ 2 ] , 0 ] , [ b_breastwork , 200 , 144 , 2 ] , [ b_breastwork , 210 , 126 , 2 ] ] ] ;
 888: LD_ADDR_EXP 39
 892: PUSH
 893: LD_INT 29
 895: PUSH
 896: LD_EXP 86
 900: PUSH
 901: LD_INT 1
 903: ARRAY
 904: PUSH
 905: LD_INT 1
 907: ARRAY
 908: PUSH
 909: LD_EXP 86
 913: PUSH
 914: LD_INT 1
 916: ARRAY
 917: PUSH
 918: LD_INT 2
 920: ARRAY
 921: PUSH
 922: LD_INT 4
 924: PUSH
 925: EMPTY
 926: LIST
 927: LIST
 928: LIST
 929: LIST
 930: PUSH
 931: LD_INT 31
 933: PUSH
 934: LD_INT 31
 936: PUSH
 937: LD_INT 34
 939: PUSH
 940: LD_INT 5
 942: PUSH
 943: EMPTY
 944: LIST
 945: LIST
 946: LIST
 947: LIST
 948: PUSH
 949: LD_INT 31
 951: PUSH
 952: LD_INT 40
 954: PUSH
 955: LD_INT 16
 957: PUSH
 958: LD_INT 4
 960: PUSH
 961: EMPTY
 962: LIST
 963: LIST
 964: LIST
 965: LIST
 966: PUSH
 967: EMPTY
 968: LIST
 969: LIST
 970: LIST
 971: PUSH
 972: LD_INT 29
 974: PUSH
 975: LD_EXP 86
 979: PUSH
 980: LD_INT 2
 982: ARRAY
 983: PUSH
 984: LD_INT 1
 986: ARRAY
 987: PUSH
 988: LD_EXP 86
 992: PUSH
 993: LD_INT 2
 995: ARRAY
 996: PUSH
 997: LD_INT 2
 999: ARRAY
1000: PUSH
1001: LD_INT 0
1003: PUSH
1004: EMPTY
1005: LIST
1006: LIST
1007: LIST
1008: LIST
1009: PUSH
1010: LD_INT 31
1012: PUSH
1013: LD_INT 133
1015: PUSH
1016: LD_INT 16
1018: PUSH
1019: LD_INT 1
1021: PUSH
1022: EMPTY
1023: LIST
1024: LIST
1025: LIST
1026: LIST
1027: PUSH
1028: LD_INT 31
1030: PUSH
1031: LD_INT 161
1033: PUSH
1034: LD_INT 34
1036: PUSH
1037: LD_INT 0
1039: PUSH
1040: EMPTY
1041: LIST
1042: LIST
1043: LIST
1044: LIST
1045: PUSH
1046: EMPTY
1047: LIST
1048: LIST
1049: LIST
1050: PUSH
1051: LD_INT 29
1053: PUSH
1054: LD_EXP 86
1058: PUSH
1059: LD_INT 3
1061: ARRAY
1062: PUSH
1063: LD_INT 1
1065: ARRAY
1066: PUSH
1067: LD_EXP 86
1071: PUSH
1072: LD_INT 3
1074: ARRAY
1075: PUSH
1076: LD_INT 2
1078: ARRAY
1079: PUSH
1080: LD_INT 4
1082: PUSH
1083: EMPTY
1084: LIST
1085: LIST
1086: LIST
1087: LIST
1088: PUSH
1089: LD_INT 31
1091: PUSH
1092: LD_INT 77
1094: PUSH
1095: LD_INT 125
1097: PUSH
1098: LD_INT 3
1100: PUSH
1101: EMPTY
1102: LIST
1103: LIST
1104: LIST
1105: LIST
1106: PUSH
1107: LD_INT 31
1109: PUSH
1110: LD_INT 77
1112: PUSH
1113: LD_INT 126
1115: PUSH
1116: LD_INT 4
1118: PUSH
1119: EMPTY
1120: LIST
1121: LIST
1122: LIST
1123: LIST
1124: PUSH
1125: EMPTY
1126: LIST
1127: LIST
1128: LIST
1129: PUSH
1130: LD_INT 29
1132: PUSH
1133: LD_EXP 86
1137: PUSH
1138: LD_INT 4
1140: ARRAY
1141: PUSH
1142: LD_INT 1
1144: ARRAY
1145: PUSH
1146: LD_EXP 86
1150: PUSH
1151: LD_INT 4
1153: ARRAY
1154: PUSH
1155: LD_INT 2
1157: ARRAY
1158: PUSH
1159: LD_INT 0
1161: PUSH
1162: EMPTY
1163: LIST
1164: LIST
1165: LIST
1166: LIST
1167: PUSH
1168: LD_INT 31
1170: PUSH
1171: LD_INT 200
1173: PUSH
1174: LD_INT 144
1176: PUSH
1177: LD_INT 2
1179: PUSH
1180: EMPTY
1181: LIST
1182: LIST
1183: LIST
1184: LIST
1185: PUSH
1186: LD_INT 31
1188: PUSH
1189: LD_INT 210
1191: PUSH
1192: LD_INT 126
1194: PUSH
1195: LD_INT 2
1197: PUSH
1198: EMPTY
1199: LIST
1200: LIST
1201: LIST
1202: LIST
1203: PUSH
1204: EMPTY
1205: LIST
1206: LIST
1207: LIST
1208: PUSH
1209: EMPTY
1210: LIST
1211: LIST
1212: LIST
1213: LIST
1214: ST_TO_ADDR
// end ; end ;
1215: GO 1218
1217: POP
// Cela_mapa = celamapa ;
1218: LD_ADDR_EXP 91
1222: PUSH
1223: LD_INT 32
1225: ST_TO_ADDR
// king_territory = stred ;
1226: LD_ADDR_EXP 92
1230: PUSH
1231: LD_INT 30
1233: ST_TO_ADDR
// oblasti_beden := [ ctverec1 , ctverec2 , ctverec3 , ctverec4 ] ;
1234: LD_ADDR_EXP 98
1238: PUSH
1239: LD_INT 12
1241: PUSH
1242: LD_INT 13
1244: PUSH
1245: LD_INT 15
1247: PUSH
1248: LD_INT 14
1250: PUSH
1251: EMPTY
1252: LIST
1253: LIST
1254: LIST
1255: LIST
1256: ST_TO_ADDR
// dalsi_oblasti_beden := [ map_center ] ;
1257: LD_ADDR_EXP 100
1261: PUSH
1262: LD_INT 16
1264: PUSH
1265: EMPTY
1266: LIST
1267: ST_TO_ADDR
// koof_bedny = 1.5 ;
1268: LD_ADDR_EXP 101
1272: PUSH
1273: LD_REAL  1.50000000000000E+0000
1276: ST_TO_ADDR
// BuildUpAreas := [ AR_ZaklLH , AR_ZaklPH , AR_ZaklLD , AR_ZaklPD ] ;
1277: LD_ADDR_EXP 116
1281: PUSH
1282: LD_INT 4
1284: PUSH
1285: LD_INT 5
1287: PUSH
1288: LD_INT 6
1290: PUSH
1291: LD_INT 7
1293: PUSH
1294: EMPTY
1295: LIST
1296: LIST
1297: LIST
1298: LIST
1299: ST_TO_ADDR
// DailyPhase = [ [ colors1.txt , colors2.txt , colors3.txt , colors4.txt , colors5.txt , colors6.txt ] , [ colors21.txt , colors22.txt , colors23.txt , colors24.txt , colors25.txt , colors26.txt ] , [ colors31.txt , colors32.txt , colors33.txt , colors34.txt , colors35.txt , colors36.txt ] ] [ rand ( 1 , 3 ) ] ;
1300: LD_ADDR_EXP 61
1304: PUSH
1305: LD_STRING colors1.txt
1307: PUSH
1308: LD_STRING colors2.txt
1310: PUSH
1311: LD_STRING colors3.txt
1313: PUSH
1314: LD_STRING colors4.txt
1316: PUSH
1317: LD_STRING colors5.txt
1319: PUSH
1320: LD_STRING colors6.txt
1322: PUSH
1323: EMPTY
1324: LIST
1325: LIST
1326: LIST
1327: LIST
1328: LIST
1329: LIST
1330: PUSH
1331: LD_STRING colors21.txt
1333: PUSH
1334: LD_STRING colors22.txt
1336: PUSH
1337: LD_STRING colors23.txt
1339: PUSH
1340: LD_STRING colors24.txt
1342: PUSH
1343: LD_STRING colors25.txt
1345: PUSH
1346: LD_STRING colors26.txt
1348: PUSH
1349: EMPTY
1350: LIST
1351: LIST
1352: LIST
1353: LIST
1354: LIST
1355: LIST
1356: PUSH
1357: LD_STRING colors31.txt
1359: PUSH
1360: LD_STRING colors32.txt
1362: PUSH
1363: LD_STRING colors33.txt
1365: PUSH
1366: LD_STRING colors34.txt
1368: PUSH
1369: LD_STRING colors35.txt
1371: PUSH
1372: LD_STRING colors36.txt
1374: PUSH
1375: EMPTY
1376: LIST
1377: LIST
1378: LIST
1379: LIST
1380: LIST
1381: LIST
1382: PUSH
1383: EMPTY
1384: LIST
1385: LIST
1386: LIST
1387: PUSH
1388: LD_INT 1
1390: PPUSH
1391: LD_INT 3
1393: PPUSH
1394: CALL_OW 12
1398: ARRAY
1399: ST_TO_ADDR
// WFT_Points_MP = 2 ;
1400: LD_ADDR_EXP 121
1404: PUSH
1405: LD_INT 2
1407: ST_TO_ADDR
// FLAGY_AREA = [ f1 , f2 , f3 , f4 , f5 , f6 , f7 , f8 , f9 ] ;
1408: LD_ADDR_EXP 118
1412: PUSH
1413: LD_INT 39
1415: PUSH
1416: LD_INT 40
1418: PUSH
1419: LD_INT 41
1421: PUSH
1422: LD_INT 42
1424: PUSH
1425: LD_INT 43
1427: PUSH
1428: LD_INT 48
1430: PUSH
1431: LD_INT 49
1433: PUSH
1434: LD_INT 50
1436: PUSH
1437: LD_INT 51
1439: PUSH
1440: EMPTY
1441: LIST
1442: LIST
1443: LIST
1444: LIST
1445: LIST
1446: LIST
1447: LIST
1448: LIST
1449: LIST
1450: ST_TO_ADDR
// FLAGY_XY = [ [ 118 , 73 ] , [ 147 , 55 ] , [ 78 , 30 ] , [ 86 , 99 ] , [ 157 , 124 ] , [ 106 , 19 ] , [ 172 , 98 ] , [ 133 , 140 ] , [ 70 , 61 ] , ] ;
1451: LD_ADDR_EXP 119
1455: PUSH
1456: LD_INT 118
1458: PUSH
1459: LD_INT 73
1461: PUSH
1462: EMPTY
1463: LIST
1464: LIST
1465: PUSH
1466: LD_INT 147
1468: PUSH
1469: LD_INT 55
1471: PUSH
1472: EMPTY
1473: LIST
1474: LIST
1475: PUSH
1476: LD_INT 78
1478: PUSH
1479: LD_INT 30
1481: PUSH
1482: EMPTY
1483: LIST
1484: LIST
1485: PUSH
1486: LD_INT 86
1488: PUSH
1489: LD_INT 99
1491: PUSH
1492: EMPTY
1493: LIST
1494: LIST
1495: PUSH
1496: LD_INT 157
1498: PUSH
1499: LD_INT 124
1501: PUSH
1502: EMPTY
1503: LIST
1504: LIST
1505: PUSH
1506: LD_INT 106
1508: PUSH
1509: LD_INT 19
1511: PUSH
1512: EMPTY
1513: LIST
1514: LIST
1515: PUSH
1516: LD_INT 172
1518: PUSH
1519: LD_INT 98
1521: PUSH
1522: EMPTY
1523: LIST
1524: LIST
1525: PUSH
1526: LD_INT 133
1528: PUSH
1529: LD_INT 140
1531: PUSH
1532: EMPTY
1533: LIST
1534: LIST
1535: PUSH
1536: LD_INT 70
1538: PUSH
1539: LD_INT 61
1541: PUSH
1542: EMPTY
1543: LIST
1544: LIST
1545: PUSH
1546: EMPTY
1547: LIST
1548: LIST
1549: LIST
1550: LIST
1551: LIST
1552: LIST
1553: LIST
1554: LIST
1555: LIST
1556: ST_TO_ADDR
// FLAGY_AREA1 = [ ff1 , ff2 , ff3 , ff4 , ff5 , ff6 , ff7 , ff8 , ff9 ] ;
1557: LD_ADDR_EXP 120
1561: PUSH
1562: LD_INT 34
1564: PUSH
1565: LD_INT 35
1567: PUSH
1568: LD_INT 36
1570: PUSH
1571: LD_INT 37
1573: PUSH
1574: LD_INT 38
1576: PUSH
1577: LD_INT 44
1579: PUSH
1580: LD_INT 45
1582: PUSH
1583: LD_INT 46
1585: PUSH
1586: LD_INT 47
1588: PUSH
1589: EMPTY
1590: LIST
1591: LIST
1592: LIST
1593: LIST
1594: LIST
1595: LIST
1596: LIST
1597: LIST
1598: LIST
1599: ST_TO_ADDR
// MaxFlags = 9 ;
1600: LD_ADDR_EXP 114
1604: PUSH
1605: LD_INT 9
1607: ST_TO_ADDR
// WarForTerritory_flags = [ 0 , 5 , 7 , 9 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
1608: LD_ADDR_EXP 65
1612: PUSH
1613: LD_INT 0
1615: PUSH
1616: LD_INT 5
1618: PUSH
1619: LD_INT 7
1621: PUSH
1622: LD_INT 9
1624: PUSH
1625: LD_INT 0
1627: PUSH
1628: LD_INT 0
1630: PUSH
1631: LD_INT 0
1633: PUSH
1634: LD_INT 0
1636: PUSH
1637: LD_INT 0
1639: PUSH
1640: LD_INT 0
1642: PUSH
1643: LD_INT 0
1645: PUSH
1646: EMPTY
1647: LIST
1648: LIST
1649: LIST
1650: LIST
1651: LIST
1652: LIST
1653: LIST
1654: LIST
1655: LIST
1656: LIST
1657: LIST
1658: ST_TO_ADDR
// WarForTerritory_Points = [ 0 , 0 , 0 , 0 , 300 , 500 , 700 , 1000 , 1500 , 2000 , 3000 ] ;
1659: LD_ADDR_EXP 64
1663: PUSH
1664: LD_INT 0
1666: PUSH
1667: LD_INT 0
1669: PUSH
1670: LD_INT 0
1672: PUSH
1673: LD_INT 0
1675: PUSH
1676: LD_INT 300
1678: PUSH
1679: LD_INT 500
1681: PUSH
1682: LD_INT 700
1684: PUSH
1685: LD_INT 1000
1687: PUSH
1688: LD_INT 1500
1690: PUSH
1691: LD_INT 2000
1693: PUSH
1694: LD_INT 3000
1696: PUSH
1697: EMPTY
1698: LIST
1699: LIST
1700: LIST
1701: LIST
1702: LIST
1703: LIST
1704: LIST
1705: LIST
1706: LIST
1707: LIST
1708: LIST
1709: ST_TO_ADDR
// end ;
1710: LD_VAR 0 1
1714: RET
// export function SimMPDefinition ; begin
1715: LD_INT 0
1717: PPUSH
// Game_Type = 1 ;
1718: LD_ADDR_EXP 1
1722: PUSH
1723: LD_INT 1
1725: ST_TO_ADDR
// Player_Side = 3 ;
1726: LD_ADDR_EXP 70
1730: PUSH
1731: LD_INT 3
1733: ST_TO_ADDR
// Player_Team = 2 ;
1734: LD_ADDR_EXP 71
1738: PUSH
1739: LD_INT 2
1741: ST_TO_ADDR
// Side_Positions = [ 1 , 2 , 3 , 4 , 0 , 0 , 0 , 0 ] ;
1742: LD_ADDR_EXP 75
1746: PUSH
1747: LD_INT 1
1749: PUSH
1750: LD_INT 2
1752: PUSH
1753: LD_INT 3
1755: PUSH
1756: LD_INT 4
1758: PUSH
1759: LD_INT 0
1761: PUSH
1762: LD_INT 0
1764: PUSH
1765: LD_INT 0
1767: PUSH
1768: LD_INT 0
1770: PUSH
1771: EMPTY
1772: LIST
1773: LIST
1774: LIST
1775: LIST
1776: LIST
1777: LIST
1778: LIST
1779: LIST
1780: ST_TO_ADDR
// Side_Teams = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
1781: LD_ADDR_EXP 72
1785: PUSH
1786: LD_INT 0
1788: PUSH
1789: LD_INT 0
1791: PUSH
1792: LD_INT 0
1794: PUSH
1795: LD_INT 0
1797: PUSH
1798: LD_INT 0
1800: PUSH
1801: LD_INT 0
1803: PUSH
1804: LD_INT 0
1806: PUSH
1807: LD_INT 0
1809: PUSH
1810: EMPTY
1811: LIST
1812: LIST
1813: LIST
1814: LIST
1815: LIST
1816: LIST
1817: LIST
1818: LIST
1819: ST_TO_ADDR
// Side_Nations = [ 1 , 2 , 2 , 1 , 0 , 0 , 0 , 0 ] ;
1820: LD_ADDR_EXP 76
1824: PUSH
1825: LD_INT 1
1827: PUSH
1828: LD_INT 2
1830: PUSH
1831: LD_INT 2
1833: PUSH
1834: LD_INT 1
1836: PUSH
1837: LD_INT 0
1839: PUSH
1840: LD_INT 0
1842: PUSH
1843: LD_INT 0
1845: PUSH
1846: LD_INT 0
1848: PUSH
1849: EMPTY
1850: LIST
1851: LIST
1852: LIST
1853: LIST
1854: LIST
1855: LIST
1856: LIST
1857: LIST
1858: ST_TO_ADDR
// Side_Comps = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
1859: LD_ADDR_EXP 78
1863: PUSH
1864: LD_INT 0
1866: PUSH
1867: LD_INT 0
1869: PUSH
1870: LD_INT 0
1872: PUSH
1873: LD_INT 0
1875: PUSH
1876: LD_INT 0
1878: PUSH
1879: LD_INT 0
1881: PUSH
1882: LD_INT 0
1884: PUSH
1885: LD_INT 0
1887: PUSH
1888: EMPTY
1889: LIST
1890: LIST
1891: LIST
1892: LIST
1893: LIST
1894: LIST
1895: LIST
1896: LIST
1897: ST_TO_ADDR
// Teams = [ ] ;
1898: LD_ADDR_EXP 73
1902: PUSH
1903: EMPTY
1904: ST_TO_ADDR
// end ;
1905: LD_VAR 0 1
1909: RET
// export function SimMPOptions ; begin
1910: LD_INT 0
1912: PPUSH
// def_game_rules = 0 ;
1913: LD_ADDR_EXP 9
1917: PUSH
1918: LD_INT 0
1920: ST_TO_ADDR
// def_base_level = 2 ;
1921: LD_ADDR_EXP 10
1925: PUSH
1926: LD_INT 2
1928: ST_TO_ADDR
// def_amount_of_people = 5 ;
1929: LD_ADDR_EXP 11
1933: PUSH
1934: LD_INT 5
1936: ST_TO_ADDR
// def_amount_of_apemen_in_team = 2 ;
1937: LD_ADDR_EXP 12
1941: PUSH
1942: LD_INT 2
1944: ST_TO_ADDR
// def_initial_level = 1 ;
1945: LD_ADDR_EXP 13
1949: PUSH
1950: LD_INT 1
1952: ST_TO_ADDR
// def_classes = 0 ;
1953: LD_ADDR_EXP 14
1957: PUSH
1958: LD_INT 0
1960: ST_TO_ADDR
// def_starting_resources = 2 ;
1961: LD_ADDR_EXP 15
1965: PUSH
1966: LD_INT 2
1968: ST_TO_ADDR
// def_shipments_density = 2 ;
1969: LD_ADDR_EXP 16
1973: PUSH
1974: LD_INT 2
1976: ST_TO_ADDR
// def_extra_oil_deposits = 1 ;
1977: LD_ADDR_EXP 17
1981: PUSH
1982: LD_INT 1
1984: ST_TO_ADDR
// def_extra_sib_deposits = 1 ;
1985: LD_ADDR_EXP 18
1989: PUSH
1990: LD_INT 1
1992: ST_TO_ADDR
// def_shared_vision = 1 ;
1993: LD_ADDR_EXP 19
1997: PUSH
1998: LD_INT 1
2000: ST_TO_ADDR
// def_morale_flags = 1 ;
2001: LD_ADDR_EXP 20
2005: PUSH
2006: LD_INT 1
2008: ST_TO_ADDR
// def_win_rules = 2 ;
2009: LD_ADDR_EXP 21
2013: PUSH
2014: LD_INT 2
2016: ST_TO_ADDR
// def_amount_of_apemen = 1 ;
2017: LD_ADDR_EXP 22
2021: PUSH
2022: LD_INT 1
2024: ST_TO_ADDR
// def_amount_of_tiger = 1 ;
2025: LD_ADDR_EXP 23
2029: PUSH
2030: LD_INT 1
2032: ST_TO_ADDR
// def_respawining_type = 1 ;
2033: LD_ADDR_EXP 24
2037: PUSH
2038: LD_INT 1
2040: ST_TO_ADDR
// def_people_respawning = 1 ;
2041: LD_ADDR_EXP 25
2045: PUSH
2046: LD_INT 1
2048: ST_TO_ADDR
// def_tech_level = 8 ;
2049: LD_ADDR_EXP 26
2053: PUSH
2054: LD_INT 8
2056: ST_TO_ADDR
// def_upgrade_tl = 1 ;
2057: LD_ADDR_EXP 27
2061: PUSH
2062: LD_INT 1
2064: ST_TO_ADDR
// def_siberite_detection = 1 ;
2065: LD_ADDR_EXP 28
2069: PUSH
2070: LD_INT 1
2072: ST_TO_ADDR
// def_siberite_bomb = 3 ;
2073: LD_ADDR_EXP 29
2077: PUSH
2078: LD_INT 3
2080: ST_TO_ADDR
// def_builduptime = 1 ;
2081: LD_ADDR_EXP 30
2085: PUSH
2086: LD_INT 1
2088: ST_TO_ADDR
// def_desert_warior = 2 ;
2089: LD_ADDR_EXP 31
2093: PUSH
2094: LD_INT 2
2096: ST_TO_ADDR
// def_daily_start = 2 ;
2097: LD_ADDR_EXP 32
2101: PUSH
2102: LD_INT 2
2104: ST_TO_ADDR
// def_daily_speed = 3 ;
2105: LD_ADDR_EXP 33
2109: PUSH
2110: LD_INT 3
2112: ST_TO_ADDR
// def_public_score = 1 ;
2113: LD_ADDR_EXP 34
2117: PUSH
2118: LD_INT 1
2120: ST_TO_ADDR
// def_kings_age = 1 ;
2121: LD_ADDR_EXP 35
2125: PUSH
2126: LD_INT 1
2128: ST_TO_ADDR
// def_warForTerritory = 5 ;
2129: LD_ADDR_EXP 36
2133: PUSH
2134: LD_INT 5
2136: ST_TO_ADDR
// end ;
2137: LD_VAR 0 1
2141: RET
// export function Hustota_Zasilek ; var i ; begin
2142: LD_INT 0
2144: PPUSH
2145: PPUSH
// if def_game_rules then
2146: LD_EXP 9
2150: IFFALSE 2160
// tech_level = 8 ;
2152: LD_ADDR_EXP 56
2156: PUSH
2157: LD_INT 8
2159: ST_TO_ADDR
// case def_shipments_density of 0 :
2160: LD_EXP 16
2164: PUSH
2165: LD_INT 0
2167: DOUBLE
2168: EQUAL
2169: IFTRUE 2173
2171: GO 2184
2173: POP
// shipments_density := 40 ; 1 :
2174: LD_ADDR_EXP 45
2178: PUSH
2179: LD_INT 40
2181: ST_TO_ADDR
2182: GO 2223
2184: LD_INT 1
2186: DOUBLE
2187: EQUAL
2188: IFTRUE 2192
2190: GO 2203
2192: POP
// shipments_density := 60 ; 2 :
2193: LD_ADDR_EXP 45
2197: PUSH
2198: LD_INT 60
2200: ST_TO_ADDR
2201: GO 2223
2203: LD_INT 2
2205: DOUBLE
2206: EQUAL
2207: IFTRUE 2211
2209: GO 2222
2211: POP
// shipments_density := 90 ; end ;
2212: LD_ADDR_EXP 45
2216: PUSH
2217: LD_INT 90
2219: ST_TO_ADDR
2220: GO 2223
2222: POP
// if tech_level < 7 then
2223: LD_EXP 56
2227: PUSH
2228: LD_INT 7
2230: LESS
2231: IFFALSE 2250
// shipments_density := shipments_density * 0.85 else
2233: LD_ADDR_EXP 45
2237: PUSH
2238: LD_EXP 45
2242: PUSH
2243: LD_REAL  8.50000000000000E-0001
2246: MUL
2247: ST_TO_ADDR
2248: GO 2302
// if tech_level < 5 then
2250: LD_EXP 56
2254: PUSH
2255: LD_INT 5
2257: LESS
2258: IFFALSE 2277
// shipments_density := shipments_density * 0.7 else
2260: LD_ADDR_EXP 45
2264: PUSH
2265: LD_EXP 45
2269: PUSH
2270: LD_REAL  7.00000000000000E-0001
2273: MUL
2274: ST_TO_ADDR
2275: GO 2302
// if tech_level < 3 then
2277: LD_EXP 56
2281: PUSH
2282: LD_INT 3
2284: LESS
2285: IFFALSE 2302
// shipments_density := shipments_density * 0.6 ;
2287: LD_ADDR_EXP 45
2291: PUSH
2292: LD_EXP 45
2296: PUSH
2297: LD_REAL  6.00000000000000E-0001
2300: MUL
2301: ST_TO_ADDR
// end ; end_of_file
2302: LD_VAR 0 1
2306: RET
// on VehicleConstructionStarted ( factory , chassis , engine , control , weapon ) do RestrictVehicleConstructionStarted ( factory , chassis , engine , control , weapon ) ;
2307: LD_VAR 0 1
2311: PPUSH
2312: LD_VAR 0 2
2316: PPUSH
2317: LD_VAR 0 3
2321: PPUSH
2322: LD_VAR 0 4
2326: PPUSH
2327: LD_VAR 0 5
2331: PPUSH
2332: CALL 29944 0 5
2336: PPOPN 5
2338: END
// on WeaponPlaced ( building , weapon ) do RestrictWeaponPlaced ( building , weapon ) ;
2339: LD_VAR 0 1
2343: PPUSH
2344: LD_VAR 0 2
2348: PPUSH
2349: CALL 30009 0 2
2353: PPOPN 2
2355: END
// on BuildingStarted ( b , h ) do begin if def_game_rules then
2356: LD_EXP 9
2360: IFFALSE 2397
// begin ExecuteLimits ( b , GetBType ( b ) , GetSide ( b ) , 0 , 1 ) ;
2362: LD_VAR 0 1
2366: PPUSH
2367: LD_VAR 0 1
2371: PPUSH
2372: CALL_OW 266
2376: PPUSH
2377: LD_VAR 0 1
2381: PPUSH
2382: CALL_OW 255
2386: PPUSH
2387: LD_INT 0
2389: PPUSH
2390: LD_INT 1
2392: PPUSH
2393: CALL 29492 0 5
// end ; if GetBType ( b ) in [ b_depot , b_warehouse ] then
2397: LD_VAR 0 1
2401: PPUSH
2402: CALL_OW 266
2406: PUSH
2407: LD_INT 0
2409: PUSH
2410: LD_INT 1
2412: PUSH
2413: EMPTY
2414: LIST
2415: LIST
2416: IN
2417: IFFALSE 2433
// NameBuildingStarted ( b , h ) ;
2419: LD_VAR 0 1
2423: PPUSH
2424: LD_VAR 0 2
2428: PPUSH
2429: CALL 16307 0 2
// end ;
2433: PPOPN 2
2435: END
// on BuildingComplete ( b ) do begin if GetBType ( b ) in [ b_depot , b_warehouse ] then
2436: LD_VAR 0 1
2440: PPUSH
2441: CALL_OW 266
2445: PUSH
2446: LD_INT 0
2448: PUSH
2449: LD_INT 1
2451: PUSH
2452: EMPTY
2453: LIST
2454: LIST
2455: IN
2456: IFFALSE 2467
// NameBuildingComplete ( b ) ;
2458: LD_VAR 0 1
2462: PPUSH
2463: CALL 16299 0 1
// end ;
2467: PPOPN 1
2469: END
// on BuildingCaptured ( b , o , e ) do begin if def_game_rules then
2470: LD_EXP 9
2474: IFFALSE 2511
// begin ExecuteLimits ( b , GetBType ( b ) , GetSide ( b ) , 0 , 1 ) ;
2476: LD_VAR 0 1
2480: PPUSH
2481: LD_VAR 0 1
2485: PPUSH
2486: CALL_OW 266
2490: PPUSH
2491: LD_VAR 0 1
2495: PPUSH
2496: CALL_OW 255
2500: PPUSH
2501: LD_INT 0
2503: PPUSH
2504: LD_INT 1
2506: PPUSH
2507: CALL 29492 0 5
// end ; if GetBType ( b ) in [ b_depot , b_warehouse ] then
2511: LD_VAR 0 1
2515: PPUSH
2516: CALL_OW 266
2520: PUSH
2521: LD_INT 0
2523: PUSH
2524: LD_INT 1
2526: PUSH
2527: EMPTY
2528: LIST
2529: LIST
2530: IN
2531: IFFALSE 2552
// NameBuildingCaptured ( b , o , e ) ;
2533: LD_VAR 0 1
2537: PPUSH
2538: LD_VAR 0 2
2542: PPUSH
2543: LD_VAR 0 3
2547: PPUSH
2548: CALL 16386 0 3
// end ;
2552: PPOPN 3
2554: END
// on UnitDestroyed ( j ) do var x , y , pos , dir ;
2555: LD_INT 0
2557: PPUSH
2558: PPUSH
2559: PPUSH
2560: PPUSH
// begin if def_game_rules then
2561: LD_EXP 9
2565: IFFALSE 2576
// CallExecuteLimits ( j ) ;
2567: LD_VAR 0 1
2571: PPUSH
2572: CALL 30251 0 1
// end ;
2576: PPOPN 5
2578: END
// on VehicleCaptured ( j , i1 , o , i2 ) do begin if def_game_rules and ( GetChassis ( j ) = 25 ) then
2579: LD_EXP 9
2583: PUSH
2584: LD_VAR 0 1
2588: PPUSH
2589: CALL_OW 265
2593: PUSH
2594: LD_INT 25
2596: EQUAL
2597: AND
2598: IFFALSE 2630
// ExecuteLimits ( j , b_behemoth , GetSide ( j ) , o , 1 ) ;
2600: LD_VAR 0 1
2604: PPUSH
2605: LD_INT 37
2607: PPUSH
2608: LD_VAR 0 1
2612: PPUSH
2613: CALL_OW 255
2617: PPUSH
2618: LD_VAR 0 3
2622: PPUSH
2623: LD_INT 1
2625: PPUSH
2626: CALL 29492 0 5
// end ;
2630: PPOPN 4
2632: END
// on HumanDestroyed ( identifier , side , nation , x , y , direction , sex , cl ) do if def_respawining_type > 1 then
2633: LD_EXP 24
2637: PUSH
2638: LD_INT 1
2640: GREATER
2641: IFFALSE 2687
// RespawnHumanDestroyed ( identifier , side , nation , x , y , direction , sex , cl ) ;
2643: LD_VAR 0 1
2647: PPUSH
2648: LD_VAR 0 2
2652: PPUSH
2653: LD_VAR 0 3
2657: PPUSH
2658: LD_VAR 0 4
2662: PPUSH
2663: LD_VAR 0 5
2667: PPUSH
2668: LD_VAR 0 6
2672: PPUSH
2673: LD_VAR 0 7
2677: PPUSH
2678: LD_VAR 0 8
2682: PPUSH
2683: CALL 11406 0 8
2687: PPOPN 8
2689: END
// on siberiterocketexploded ( un , x , y ) do SA_OnSiberiteRocketExploded ( un , x , y , Your_Side ) ; end_of_file
2690: LD_VAR 0 1
2694: PPUSH
2695: LD_VAR 0 2
2699: PPUSH
2700: LD_VAR 0 3
2704: PPUSH
2705: LD_OWVAR 2
2709: PPUSH
2710: CALL 34665 0 4
2714: PPOPN 3
2716: END
// export game_type , GT_Mine , GT_doubleNat , GT_doublePeople , GT_tripleNat , GT_Survival , GT_RankedGames , pozice_beden ; export def_game_rules , def_base_level , def_amount_of_people , def_amount_of_apemen_in_team , def_initial_level , def_classes , def_starting_resources , def_shipments_density , def_extra_oil_deposits , def_extra_sib_deposits , def_shared_vision , def_morale_flags , def_win_rules , def_amount_of_apemen , def_amount_of_tiger , def_respawining_type , def_people_respawning , def_tech_level , def_upgrade_tl , def_siberite_detection , def_siberite_bomb , def_builduptime , def_desert_warior , def_daily_start , def_daily_speed , def_public_score , def_kings_age , def_WarForTerritory ; export base_level , number_of_breastworks , buildings_def , number_of_people , number_of_apemen , initial_level , starting_crates , starting_resources , shipments_density , morale_decreasing_time , spawning_koef_of_apemen , spawning_koef_of_tiger , respawning_time_min , heroes , respawning_time_max , Position_Nations , respawning_time_delay_min , respawning_time_delay_max , commander , tech_level , final_count , daily_start , daily_speed , TimePhase , DailyPhase , Position_Sides , for_show_near_resources , WarForTerritory_Points , WarForTerritory_flags , buildUpTime_Delay , siberite_bomb_Delay ; export Side_Count , Team_Count , Player_Side , Player_Team , Side_Teams , Teams , Side_IsSpec ; export Side_Positions , Side_Nations , Side_Names , Side_Comps , Team_Names , Team_Game ; export depot_def , breastworks_def , start_def , pocet_hracu , extra_oil_deposits_locations , oil_deposits_locations , extra_sib_deposits_locations , siberite_deposits_locations , battle_flags_id , def_max_sides ; export Cela_Mapa , king_territory ; export global_units , global_defined , soldiers_created , global_count , global_classes ; export function read_multiplayer_and_game_parameters ; var side , dep , br1 , br2 , br3 , un , i ; begin
2717: LD_INT 0
2719: PPUSH
2720: PPUSH
2721: PPUSH
2722: PPUSH
2723: PPUSH
2724: PPUSH
2725: PPUSH
2726: PPUSH
// if MultiPlayer then
2727: LD_OWVAR 4
2731: IFFALSE 2815
// begin Game_Type = mp_game_type ;
2733: LD_ADDR_EXP 1
2737: PUSH
2738: LD_OWVAR 6
2742: ST_TO_ADDR
// Player_Side = mp_player_side ;
2743: LD_ADDR_EXP 70
2747: PUSH
2748: LD_OWVAR 7
2752: ST_TO_ADDR
// Player_Team = mp_player_team ;
2753: LD_ADDR_EXP 71
2757: PUSH
2758: LD_OWVAR 8
2762: ST_TO_ADDR
// Side_Positions = mp_sides_positions ;
2763: LD_ADDR_EXP 75
2767: PUSH
2768: LD_OWVAR 17
2772: ST_TO_ADDR
// Side_Teams = mp_sides_teams ;
2773: LD_ADDR_EXP 72
2777: PUSH
2778: LD_OWVAR 15
2782: ST_TO_ADDR
// Side_Nations = mp_sides_nations ;
2783: LD_ADDR_EXP 76
2787: PUSH
2788: LD_OWVAR 16
2792: ST_TO_ADDR
// Side_Comps = mp_sides_comps ;
2793: LD_ADDR_EXP 78
2797: PUSH
2798: CALL 3267 0 0
2802: ST_TO_ADDR
// Teams = mp_teams ;
2803: LD_ADDR_EXP 73
2807: PUSH
2808: LD_OWVAR 12
2812: ST_TO_ADDR
// end else
2813: GO 2819
// begin SimMPDefinition ;
2815: CALL 1715 0 0
// end ; Side_Count = ( Side_Positions diff [ 0 ] ) + 0 ;
2819: LD_ADDR_EXP 68
2823: PUSH
2824: LD_EXP 75
2828: PUSH
2829: LD_INT 0
2831: PUSH
2832: EMPTY
2833: LIST
2834: DIFF
2835: PUSH
2836: LD_INT 0
2838: PLUS
2839: ST_TO_ADDR
// Team_Count = ( Side_Teams diff [ 0 ] ) + 0 ;
2840: LD_ADDR_EXP 69
2844: PUSH
2845: LD_EXP 72
2849: PUSH
2850: LD_INT 0
2852: PUSH
2853: EMPTY
2854: LIST
2855: DIFF
2856: PUSH
2857: LD_INT 0
2859: PLUS
2860: ST_TO_ADDR
// if MultiPlayer then
2861: LD_OWVAR 4
2865: IFFALSE 3228
// begin def_game_rules = GetMultiplayerSetting ( 0 ) ;
2867: LD_ADDR_EXP 9
2871: PUSH
2872: LD_INT 0
2874: PPUSH
2875: CALL_OW 426
2879: ST_TO_ADDR
// def_base_level = GetMultiplayerSetting ( 1 ) ;
2880: LD_ADDR_EXP 10
2884: PUSH
2885: LD_INT 1
2887: PPUSH
2888: CALL_OW 426
2892: ST_TO_ADDR
// def_amount_of_people = GetMultiplayerSetting ( 2 ) ;
2893: LD_ADDR_EXP 11
2897: PUSH
2898: LD_INT 2
2900: PPUSH
2901: CALL_OW 426
2905: ST_TO_ADDR
// def_amount_of_apemen_in_team = GetMultiplayerSetting ( 3 ) ;
2906: LD_ADDR_EXP 12
2910: PUSH
2911: LD_INT 3
2913: PPUSH
2914: CALL_OW 426
2918: ST_TO_ADDR
// def_initial_level = GetMultiplayerSetting ( 4 ) ;
2919: LD_ADDR_EXP 13
2923: PUSH
2924: LD_INT 4
2926: PPUSH
2927: CALL_OW 426
2931: ST_TO_ADDR
// def_classes = GetMultiplayerSetting ( 5 ) ;
2932: LD_ADDR_EXP 14
2936: PUSH
2937: LD_INT 5
2939: PPUSH
2940: CALL_OW 426
2944: ST_TO_ADDR
// def_starting_resources = GetMultiplayerSetting ( 6 ) ;
2945: LD_ADDR_EXP 15
2949: PUSH
2950: LD_INT 6
2952: PPUSH
2953: CALL_OW 426
2957: ST_TO_ADDR
// def_shipments_density = GetMultiplayerSetting ( 7 ) ;
2958: LD_ADDR_EXP 16
2962: PUSH
2963: LD_INT 7
2965: PPUSH
2966: CALL_OW 426
2970: ST_TO_ADDR
// def_extra_oil_deposits = GetMultiplayerSetting ( 8 ) ;
2971: LD_ADDR_EXP 17
2975: PUSH
2976: LD_INT 8
2978: PPUSH
2979: CALL_OW 426
2983: ST_TO_ADDR
// def_extra_sib_deposits = GetMultiplayerSetting ( 9 ) ;
2984: LD_ADDR_EXP 18
2988: PUSH
2989: LD_INT 9
2991: PPUSH
2992: CALL_OW 426
2996: ST_TO_ADDR
// def_morale_flags = GetMultiplayerSetting ( 10 ) ;
2997: LD_ADDR_EXP 20
3001: PUSH
3002: LD_INT 10
3004: PPUSH
3005: CALL_OW 426
3009: ST_TO_ADDR
// def_win_rules = GetMultiplayerSetting ( 11 ) ;
3010: LD_ADDR_EXP 21
3014: PUSH
3015: LD_INT 11
3017: PPUSH
3018: CALL_OW 426
3022: ST_TO_ADDR
// def_amount_of_apemen = GetMultiplayerSetting ( 12 ) ;
3023: LD_ADDR_EXP 22
3027: PUSH
3028: LD_INT 12
3030: PPUSH
3031: CALL_OW 426
3035: ST_TO_ADDR
// def_amount_of_tiger = GetMultiplayerSetting ( 13 ) ;
3036: LD_ADDR_EXP 23
3040: PUSH
3041: LD_INT 13
3043: PPUSH
3044: CALL_OW 426
3048: ST_TO_ADDR
// def_respawining_type = GetMultiplayerSetting ( 14 ) ;
3049: LD_ADDR_EXP 24
3053: PUSH
3054: LD_INT 14
3056: PPUSH
3057: CALL_OW 426
3061: ST_TO_ADDR
// def_people_respawning = GetMultiplayerSetting ( 15 ) ;
3062: LD_ADDR_EXP 25
3066: PUSH
3067: LD_INT 15
3069: PPUSH
3070: CALL_OW 426
3074: ST_TO_ADDR
// def_tech_level = GetMultiplayerSetting ( 16 ) ;
3075: LD_ADDR_EXP 26
3079: PUSH
3080: LD_INT 16
3082: PPUSH
3083: CALL_OW 426
3087: ST_TO_ADDR
// def_upgrade_tl = GetMultiplayerSetting ( 17 ) ;
3088: LD_ADDR_EXP 27
3092: PUSH
3093: LD_INT 17
3095: PPUSH
3096: CALL_OW 426
3100: ST_TO_ADDR
// def_siberite_detection = GetMultiplayerSetting ( 18 ) ;
3101: LD_ADDR_EXP 28
3105: PUSH
3106: LD_INT 18
3108: PPUSH
3109: CALL_OW 426
3113: ST_TO_ADDR
// def_siberite_bomb = GetMultiplayerSetting ( 19 ) ;
3114: LD_ADDR_EXP 29
3118: PUSH
3119: LD_INT 19
3121: PPUSH
3122: CALL_OW 426
3126: ST_TO_ADDR
// def_builduptime = GetMultiplayerSetting ( 20 ) ;
3127: LD_ADDR_EXP 30
3131: PUSH
3132: LD_INT 20
3134: PPUSH
3135: CALL_OW 426
3139: ST_TO_ADDR
// def_desert_warior = GetMultiplayerSetting ( 21 ) ;
3140: LD_ADDR_EXP 31
3144: PUSH
3145: LD_INT 21
3147: PPUSH
3148: CALL_OW 426
3152: ST_TO_ADDR
// def_daily_start = GetMultiplayerSetting ( 22 ) ;
3153: LD_ADDR_EXP 32
3157: PUSH
3158: LD_INT 22
3160: PPUSH
3161: CALL_OW 426
3165: ST_TO_ADDR
// def_daily_speed = GetMultiplayerSetting ( 23 ) ;
3166: LD_ADDR_EXP 33
3170: PUSH
3171: LD_INT 23
3173: PPUSH
3174: CALL_OW 426
3178: ST_TO_ADDR
// def_public_score = GetMultiplayerSetting ( 24 ) ;
3179: LD_ADDR_EXP 34
3183: PUSH
3184: LD_INT 24
3186: PPUSH
3187: CALL_OW 426
3191: ST_TO_ADDR
// def_kings_age = GetMultiplayerSetting ( 25 ) ;
3192: LD_ADDR_EXP 35
3196: PUSH
3197: LD_INT 25
3199: PPUSH
3200: CALL_OW 426
3204: ST_TO_ADDR
// def_warForTerritory = GetMultiplayerSetting ( 26 ) ;
3205: LD_ADDR_EXP 36
3209: PUSH
3210: LD_INT 26
3212: PPUSH
3213: CALL_OW 426
3217: ST_TO_ADDR
// def_shared_vision = true ;
3218: LD_ADDR_EXP 19
3222: PUSH
3223: LD_INT 1
3225: ST_TO_ADDR
// end else
3226: GO 3236
// begin randomizeAll ;
3228: CALL_OW 11
// SimMPOptions ;
3232: CALL 1910 0 0
// end ; if Game_Type in GT_RankedGames then
3236: LD_EXP 1
3240: PUSH
3241: LD_EXP 7
3245: IN
3246: IFFALSE 3262
// def_game_rules = def_game_rules + 1 ;
3248: LD_ADDR_EXP 9
3252: PUSH
3253: LD_EXP 9
3257: PUSH
3258: LD_INT 1
3260: PLUS
3261: ST_TO_ADDR
// end ;
3262: LD_VAR 0 1
3266: RET
// function mp_sides_comps ; var c , i ; begin
3267: LD_INT 0
3269: PPUSH
3270: PPUSH
3271: PPUSH
// c = [ ] ;
3272: LD_ADDR_VAR 0 2
3276: PUSH
3277: EMPTY
3278: ST_TO_ADDR
// for i = 1 to 8 do
3279: LD_ADDR_VAR 0 3
3283: PUSH
3284: DOUBLE
3285: LD_INT 1
3287: DEC
3288: ST_TO_ADDR
3289: LD_INT 8
3291: PUSH
3292: FOR_TO
3293: IFFALSE 3318
// c = c ^ Multiplayer_GetPlayerIsComp ( i ) ;
3295: LD_ADDR_VAR 0 2
3299: PUSH
3300: LD_VAR 0 2
3304: PUSH
3305: LD_VAR 0 3
3309: PPUSH
3310: CALL_OW 532
3314: ADD
3315: ST_TO_ADDR
3316: GO 3292
3318: POP
3319: POP
// result = c ;
3320: LD_ADDR_VAR 0 1
3324: PUSH
3325: LD_VAR 0 2
3329: ST_TO_ADDR
// end ;
3330: LD_VAR 0 1
3334: RET
// export function standartSets ; begin
3335: LD_INT 0
3337: PPUSH
// if Game_Type in GT_Survival then
3338: LD_EXP 1
3342: PUSH
3343: LD_EXP 6
3347: IN
3348: IFFALSE 3491
// begin base_level = [ 1 , 1 , 1 , 2 ] ;
3350: LD_ADDR_EXP 37
3354: PUSH
3355: LD_INT 1
3357: PUSH
3358: LD_INT 1
3360: PUSH
3361: LD_INT 1
3363: PUSH
3364: LD_INT 2
3366: PUSH
3367: EMPTY
3368: LIST
3369: LIST
3370: LIST
3371: LIST
3372: ST_TO_ADDR
// starting_resources := [ [ 1000 , 100 , 100 ] , [ 2000 , 200 , 200 ] , [ 5000 , 500 , 500 ] , [ 10000 , 1000 , 1000 ] , [ 25000 , 2500 , 2500 ] , [ 50000 , 5000 , 5000 ] ] ;
3373: LD_ADDR_EXP 44
3377: PUSH
3378: LD_INT 1000
3380: PUSH
3381: LD_INT 100
3383: PUSH
3384: LD_INT 100
3386: PUSH
3387: EMPTY
3388: LIST
3389: LIST
3390: LIST
3391: PUSH
3392: LD_INT 2000
3394: PUSH
3395: LD_INT 200
3397: PUSH
3398: LD_INT 200
3400: PUSH
3401: EMPTY
3402: LIST
3403: LIST
3404: LIST
3405: PUSH
3406: LD_INT 5000
3408: PUSH
3409: LD_INT 500
3411: PUSH
3412: LD_INT 500
3414: PUSH
3415: EMPTY
3416: LIST
3417: LIST
3418: LIST
3419: PUSH
3420: LD_INT 10000
3422: PUSH
3423: LD_INT 1000
3425: PUSH
3426: LD_INT 1000
3428: PUSH
3429: EMPTY
3430: LIST
3431: LIST
3432: LIST
3433: PUSH
3434: LD_INT 25000
3436: PUSH
3437: LD_INT 2500
3439: PUSH
3440: LD_INT 2500
3442: PUSH
3443: EMPTY
3444: LIST
3445: LIST
3446: LIST
3447: PUSH
3448: LD_INT 50000
3450: PUSH
3451: LD_INT 5000
3453: PUSH
3454: LD_INT 5000
3456: PUSH
3457: EMPTY
3458: LIST
3459: LIST
3460: LIST
3461: PUSH
3462: EMPTY
3463: LIST
3464: LIST
3465: LIST
3466: LIST
3467: LIST
3468: LIST
3469: ST_TO_ADDR
// starting_crates := [ [ ] , [ ] , [ ] , [ ] ] ;
3470: LD_ADDR_EXP 43
3474: PUSH
3475: EMPTY
3476: PUSH
3477: EMPTY
3478: PUSH
3479: EMPTY
3480: PUSH
3481: EMPTY
3482: PUSH
3483: EMPTY
3484: LIST
3485: LIST
3486: LIST
3487: LIST
3488: ST_TO_ADDR
// end else
3489: GO 3644
// begin base_level = [ 0 , 1 , 1 , 1 , 2 ] ;
3491: LD_ADDR_EXP 37
3495: PUSH
3496: LD_INT 0
3498: PUSH
3499: LD_INT 1
3501: PUSH
3502: LD_INT 1
3504: PUSH
3505: LD_INT 1
3507: PUSH
3508: LD_INT 2
3510: PUSH
3511: EMPTY
3512: LIST
3513: LIST
3514: LIST
3515: LIST
3516: LIST
3517: ST_TO_ADDR
// starting_resources := [ [ 0 , 0 , 0 ] , [ 30 , 0 , 0 ] , [ 50 , 20 , 0 ] , [ 80 , 40 , 20 ] ] ;
3518: LD_ADDR_EXP 44
3522: PUSH
3523: LD_INT 0
3525: PUSH
3526: LD_INT 0
3528: PUSH
3529: LD_INT 0
3531: PUSH
3532: EMPTY
3533: LIST
3534: LIST
3535: LIST
3536: PUSH
3537: LD_INT 30
3539: PUSH
3540: LD_INT 0
3542: PUSH
3543: LD_INT 0
3545: PUSH
3546: EMPTY
3547: LIST
3548: LIST
3549: LIST
3550: PUSH
3551: LD_INT 50
3553: PUSH
3554: LD_INT 20
3556: PUSH
3557: LD_INT 0
3559: PUSH
3560: EMPTY
3561: LIST
3562: LIST
3563: LIST
3564: PUSH
3565: LD_INT 80
3567: PUSH
3568: LD_INT 40
3570: PUSH
3571: LD_INT 20
3573: PUSH
3574: EMPTY
3575: LIST
3576: LIST
3577: LIST
3578: PUSH
3579: EMPTY
3580: LIST
3581: LIST
3582: LIST
3583: LIST
3584: ST_TO_ADDR
// starting_crates := [ [ 10 ] , [ 7 , 14 ] , [ 6 , 12 , 18 ] , [ 5 , 10 , 15 , 20 ] ] ;
3585: LD_ADDR_EXP 43
3589: PUSH
3590: LD_INT 10
3592: PUSH
3593: EMPTY
3594: LIST
3595: PUSH
3596: LD_INT 7
3598: PUSH
3599: LD_INT 14
3601: PUSH
3602: EMPTY
3603: LIST
3604: LIST
3605: PUSH
3606: LD_INT 6
3608: PUSH
3609: LD_INT 12
3611: PUSH
3612: LD_INT 18
3614: PUSH
3615: EMPTY
3616: LIST
3617: LIST
3618: LIST
3619: PUSH
3620: LD_INT 5
3622: PUSH
3623: LD_INT 10
3625: PUSH
3626: LD_INT 15
3628: PUSH
3629: LD_INT 20
3631: PUSH
3632: EMPTY
3633: LIST
3634: LIST
3635: LIST
3636: LIST
3637: PUSH
3638: EMPTY
3639: LIST
3640: LIST
3641: LIST
3642: LIST
3643: ST_TO_ADDR
// end ; number_of_people = [ 4 , 5 , 6 , 7 , 8 , 9 , 10 , 11 , 12 , 13 , 14 , 15 , 16 , 17 , 18 , 19 , 20 , 21 , 22 , 23 , 24 ] ;
3644: LD_ADDR_EXP 40
3648: PUSH
3649: LD_INT 4
3651: PUSH
3652: LD_INT 5
3654: PUSH
3655: LD_INT 6
3657: PUSH
3658: LD_INT 7
3660: PUSH
3661: LD_INT 8
3663: PUSH
3664: LD_INT 9
3666: PUSH
3667: LD_INT 10
3669: PUSH
3670: LD_INT 11
3672: PUSH
3673: LD_INT 12
3675: PUSH
3676: LD_INT 13
3678: PUSH
3679: LD_INT 14
3681: PUSH
3682: LD_INT 15
3684: PUSH
3685: LD_INT 16
3687: PUSH
3688: LD_INT 17
3690: PUSH
3691: LD_INT 18
3693: PUSH
3694: LD_INT 19
3696: PUSH
3697: LD_INT 20
3699: PUSH
3700: LD_INT 21
3702: PUSH
3703: LD_INT 22
3705: PUSH
3706: LD_INT 23
3708: PUSH
3709: LD_INT 24
3711: PUSH
3712: EMPTY
3713: LIST
3714: LIST
3715: LIST
3716: LIST
3717: LIST
3718: LIST
3719: LIST
3720: LIST
3721: LIST
3722: LIST
3723: LIST
3724: LIST
3725: LIST
3726: LIST
3727: LIST
3728: LIST
3729: LIST
3730: LIST
3731: LIST
3732: LIST
3733: LIST
3734: ST_TO_ADDR
// number_of_apemen = [ 0 , 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 , 9 , 10 , 11 , 12 ] ;
3735: LD_ADDR_EXP 41
3739: PUSH
3740: LD_INT 0
3742: PUSH
3743: LD_INT 1
3745: PUSH
3746: LD_INT 2
3748: PUSH
3749: LD_INT 3
3751: PUSH
3752: LD_INT 4
3754: PUSH
3755: LD_INT 5
3757: PUSH
3758: LD_INT 6
3760: PUSH
3761: LD_INT 7
3763: PUSH
3764: LD_INT 8
3766: PUSH
3767: LD_INT 9
3769: PUSH
3770: LD_INT 10
3772: PUSH
3773: LD_INT 11
3775: PUSH
3776: LD_INT 12
3778: PUSH
3779: EMPTY
3780: LIST
3781: LIST
3782: LIST
3783: LIST
3784: LIST
3785: LIST
3786: LIST
3787: LIST
3788: LIST
3789: LIST
3790: LIST
3791: LIST
3792: LIST
3793: ST_TO_ADDR
// initial_level = [ 2 , 3 , 4 , 5 ] ;
3794: LD_ADDR_EXP 42
3798: PUSH
3799: LD_INT 2
3801: PUSH
3802: LD_INT 3
3804: PUSH
3805: LD_INT 4
3807: PUSH
3808: LD_INT 5
3810: PUSH
3811: EMPTY
3812: LIST
3813: LIST
3814: LIST
3815: LIST
3816: ST_TO_ADDR
// if def_game_rules then
3817: LD_EXP 9
3821: IFFALSE 3833
// tech_level = 8 else
3823: LD_ADDR_EXP 56
3827: PUSH
3828: LD_INT 8
3830: ST_TO_ADDR
3831: GO 3871
// if game_type in GT_mine then
3833: LD_EXP 1
3837: PUSH
3838: LD_EXP 2
3842: IN
3843: IFFALSE 3861
// tech_level = def_tech_level + 4 else
3845: LD_ADDR_EXP 56
3849: PUSH
3850: LD_EXP 26
3854: PUSH
3855: LD_INT 4
3857: PLUS
3858: ST_TO_ADDR
3859: GO 3871
// Tech_Level = def_tech_level ;
3861: LD_ADDR_EXP 56
3865: PUSH
3866: LD_EXP 26
3870: ST_TO_ADDR
// Hustota_Zasilek ;
3871: CALL 2142 0 0
// spawning_koef_of_apemen = [ 0 , 5 , 10 , 15 ] ;
3875: LD_ADDR_EXP 47
3879: PUSH
3880: LD_INT 0
3882: PUSH
3883: LD_INT 5
3885: PUSH
3886: LD_INT 10
3888: PUSH
3889: LD_INT 15
3891: PUSH
3892: EMPTY
3893: LIST
3894: LIST
3895: LIST
3896: LIST
3897: ST_TO_ADDR
// spawning_koef_of_tiger = [ 0 , 5 , 10 , 15 ] ;
3898: LD_ADDR_EXP 48
3902: PUSH
3903: LD_INT 0
3905: PUSH
3906: LD_INT 5
3908: PUSH
3909: LD_INT 10
3911: PUSH
3912: LD_INT 15
3914: PUSH
3915: EMPTY
3916: LIST
3917: LIST
3918: LIST
3919: LIST
3920: ST_TO_ADDR
// respawning_time_min = [ 8 8$0 , 3 3$00 , 1 1$00 ] ;
3921: LD_ADDR_EXP 49
3925: PUSH
3926: LD_INT 16800
3928: PUSH
3929: LD_INT 6300
3931: PUSH
3932: LD_INT 2100
3934: PUSH
3935: EMPTY
3936: LIST
3937: LIST
3938: LIST
3939: ST_TO_ADDR
// respawning_time_max = [ 10 10$10 , 6 6$00 , 2 2$00 ] ;
3940: LD_ADDR_EXP 51
3944: PUSH
3945: LD_INT 21350
3947: PUSH
3948: LD_INT 12600
3950: PUSH
3951: LD_INT 4200
3953: PUSH
3954: EMPTY
3955: LIST
3956: LIST
3957: LIST
3958: ST_TO_ADDR
// respawning_time_delay_min = [ 0 0$45 , 0 0$30 , 0 0$15 ] ;
3959: LD_ADDR_EXP 53
3963: PUSH
3964: LD_INT 1575
3966: PUSH
3967: LD_INT 1050
3969: PUSH
3970: LD_INT 525
3972: PUSH
3973: EMPTY
3974: LIST
3975: LIST
3976: LIST
3977: ST_TO_ADDR
// respawning_time_delay_max = [ 1 1$00 , 0 0$45 , 0 0$30 ] ;
3978: LD_ADDR_EXP 54
3982: PUSH
3983: LD_INT 2100
3985: PUSH
3986: LD_INT 1575
3988: PUSH
3989: LD_INT 1050
3991: PUSH
3992: EMPTY
3993: LIST
3994: LIST
3995: LIST
3996: ST_TO_ADDR
// daily_start = [ [ 4 4$00 , 7 7$00 ] , [ 8 8$00 , 12 12$00 ] , [ 13 13$00 , 17 17$00 ] , [ 18 18$00 , 22 22$00 ] , [ 23 23$00 , 27 27$00 ] ] ;
3997: LD_ADDR_EXP 58
4001: PUSH
4002: LD_INT 8400
4004: PUSH
4005: LD_INT 14700
4007: PUSH
4008: EMPTY
4009: LIST
4010: LIST
4011: PUSH
4012: LD_INT 16800
4014: PUSH
4015: LD_INT 25200
4017: PUSH
4018: EMPTY
4019: LIST
4020: LIST
4021: PUSH
4022: LD_INT 27300
4024: PUSH
4025: LD_INT 35700
4027: PUSH
4028: EMPTY
4029: LIST
4030: LIST
4031: PUSH
4032: LD_INT 37800
4034: PUSH
4035: LD_INT 46200
4037: PUSH
4038: EMPTY
4039: LIST
4040: LIST
4041: PUSH
4042: LD_INT 48300
4044: PUSH
4045: LD_INT 56700
4047: PUSH
4048: EMPTY
4049: LIST
4050: LIST
4051: PUSH
4052: EMPTY
4053: LIST
4054: LIST
4055: LIST
4056: LIST
4057: LIST
4058: ST_TO_ADDR
// daily_speed = [ 0 0$59 , 0 0$25 , 0 0$9 , 0 0$2 , 0 ] ;
4059: LD_ADDR_EXP 59
4063: PUSH
4064: LD_INT 2065
4066: PUSH
4067: LD_INT 875
4069: PUSH
4070: LD_INT 315
4072: PUSH
4073: LD_INT 70
4075: PUSH
4076: LD_INT 0
4078: PUSH
4079: EMPTY
4080: LIST
4081: LIST
4082: LIST
4083: LIST
4084: LIST
4085: ST_TO_ADDR
// TimePhase = [ 4 4$00 , 6 6$00 , 7 7$00 , 8 8$00 , 12 12$00 , 17 17$00 , 18 18$00 , 19 19$00 , 20 20$00 , 22 22$00 ] ;
4086: LD_ADDR_EXP 60
4090: PUSH
4091: LD_INT 8400
4093: PUSH
4094: LD_INT 12600
4096: PUSH
4097: LD_INT 14700
4099: PUSH
4100: LD_INT 16800
4102: PUSH
4103: LD_INT 25200
4105: PUSH
4106: LD_INT 35700
4108: PUSH
4109: LD_INT 37800
4111: PUSH
4112: LD_INT 39900
4114: PUSH
4115: LD_INT 42000
4117: PUSH
4118: LD_INT 46200
4120: PUSH
4121: EMPTY
4122: LIST
4123: LIST
4124: LIST
4125: LIST
4126: LIST
4127: LIST
4128: LIST
4129: LIST
4130: LIST
4131: LIST
4132: ST_TO_ADDR
// DailyPhase = [ colors1.txt , colors2.txt , colors3.txt , colors4.txt , colors5.txt , colors6.txt ] ;
4133: LD_ADDR_EXP 61
4137: PUSH
4138: LD_STRING colors1.txt
4140: PUSH
4141: LD_STRING colors2.txt
4143: PUSH
4144: LD_STRING colors3.txt
4146: PUSH
4147: LD_STRING colors4.txt
4149: PUSH
4150: LD_STRING colors5.txt
4152: PUSH
4153: LD_STRING colors6.txt
4155: PUSH
4156: EMPTY
4157: LIST
4158: LIST
4159: LIST
4160: LIST
4161: LIST
4162: LIST
4163: ST_TO_ADDR
// morale_decreasing_time = [ - 1 , 0 0$10 , 0 0$20 , 0 0$40 , 0 0$0 ] ;
4164: LD_ADDR_EXP 46
4168: PUSH
4169: LD_INT 1
4171: NEG
4172: PUSH
4173: LD_INT 350
4175: PUSH
4176: LD_INT 700
4178: PUSH
4179: LD_INT 1400
4181: PUSH
4182: LD_INT 0
4184: PUSH
4185: EMPTY
4186: LIST
4187: LIST
4188: LIST
4189: LIST
4190: LIST
4191: ST_TO_ADDR
// final_count = [ 0 , 200 , 300 , 500 , 700 , 1000 , 1500 , 2000 ] ;
4192: LD_ADDR_EXP 57
4196: PUSH
4197: LD_INT 0
4199: PUSH
4200: LD_INT 200
4202: PUSH
4203: LD_INT 300
4205: PUSH
4206: LD_INT 500
4208: PUSH
4209: LD_INT 700
4211: PUSH
4212: LD_INT 1000
4214: PUSH
4215: LD_INT 1500
4217: PUSH
4218: LD_INT 2000
4220: PUSH
4221: EMPTY
4222: LIST
4223: LIST
4224: LIST
4225: LIST
4226: LIST
4227: LIST
4228: LIST
4229: LIST
4230: ST_TO_ADDR
// WarForTerritory_flags = [ 0 , 3 , 4 , 5 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
4231: LD_ADDR_EXP 65
4235: PUSH
4236: LD_INT 0
4238: PUSH
4239: LD_INT 3
4241: PUSH
4242: LD_INT 4
4244: PUSH
4245: LD_INT 5
4247: PUSH
4248: LD_INT 0
4250: PUSH
4251: LD_INT 0
4253: PUSH
4254: LD_INT 0
4256: PUSH
4257: LD_INT 0
4259: PUSH
4260: LD_INT 0
4262: PUSH
4263: LD_INT 0
4265: PUSH
4266: LD_INT 0
4268: PUSH
4269: EMPTY
4270: LIST
4271: LIST
4272: LIST
4273: LIST
4274: LIST
4275: LIST
4276: LIST
4277: LIST
4278: LIST
4279: LIST
4280: LIST
4281: ST_TO_ADDR
// WarForTerritory_Points = [ 0 , 0 , 0 , 0 , 200 , 300 , 500 , 700 , 1000 , 1500 , 2000 ] ;
4282: LD_ADDR_EXP 64
4286: PUSH
4287: LD_INT 0
4289: PUSH
4290: LD_INT 0
4292: PUSH
4293: LD_INT 0
4295: PUSH
4296: LD_INT 0
4298: PUSH
4299: LD_INT 200
4301: PUSH
4302: LD_INT 300
4304: PUSH
4305: LD_INT 500
4307: PUSH
4308: LD_INT 700
4310: PUSH
4311: LD_INT 1000
4313: PUSH
4314: LD_INT 1500
4316: PUSH
4317: LD_INT 2000
4319: PUSH
4320: EMPTY
4321: LIST
4322: LIST
4323: LIST
4324: LIST
4325: LIST
4326: LIST
4327: LIST
4328: LIST
4329: LIST
4330: LIST
4331: LIST
4332: ST_TO_ADDR
// Position_Sides := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
4333: LD_ADDR_EXP 62
4337: PUSH
4338: LD_INT 0
4340: PUSH
4341: LD_INT 0
4343: PUSH
4344: LD_INT 0
4346: PUSH
4347: LD_INT 0
4349: PUSH
4350: LD_INT 0
4352: PUSH
4353: LD_INT 0
4355: PUSH
4356: LD_INT 0
4358: PUSH
4359: LD_INT 0
4361: PUSH
4362: EMPTY
4363: LIST
4364: LIST
4365: LIST
4366: LIST
4367: LIST
4368: LIST
4369: LIST
4370: LIST
4371: ST_TO_ADDR
// buildUpTime_Delay := [ 0 , 5 5$00 , 10 10$00 , 15 15$00 ] ;
4372: LD_ADDR_EXP 66
4376: PUSH
4377: LD_INT 0
4379: PUSH
4380: LD_INT 10500
4382: PUSH
4383: LD_INT 21000
4385: PUSH
4386: LD_INT 31500
4388: PUSH
4389: EMPTY
4390: LIST
4391: LIST
4392: LIST
4393: LIST
4394: ST_TO_ADDR
// siberite_bomb_Delay := [ 0 , 1 , 30 30$00 , 60 60$00 , 90 90$00 , 120 120$00 ] ;
4395: LD_ADDR_EXP 67
4399: PUSH
4400: LD_INT 0
4402: PUSH
4403: LD_INT 1
4405: PUSH
4406: LD_INT 63000
4408: PUSH
4409: LD_INT 126000
4411: PUSH
4412: LD_INT 189000
4414: PUSH
4415: LD_INT 252000
4417: PUSH
4418: EMPTY
4419: LIST
4420: LIST
4421: LIST
4422: LIST
4423: LIST
4424: LIST
4425: ST_TO_ADDR
// end ;
4426: LD_VAR 0 1
4430: RET
// export function init_map ; var i ; begin
4431: LD_INT 0
4433: PPUSH
4434: PPUSH
// base_level = base_level [ def_base_level + 1 ] ;
4435: LD_ADDR_EXP 37
4439: PUSH
4440: LD_EXP 37
4444: PUSH
4445: LD_EXP 10
4449: PUSH
4450: LD_INT 1
4452: PLUS
4453: ARRAY
4454: ST_TO_ADDR
// number_of_people = number_of_people [ def_amount_of_people + 1 ] ;
4455: LD_ADDR_EXP 40
4459: PUSH
4460: LD_EXP 40
4464: PUSH
4465: LD_EXP 11
4469: PUSH
4470: LD_INT 1
4472: PLUS
4473: ARRAY
4474: ST_TO_ADDR
// number_of_apemen = number_of_apemen [ def_amount_of_apemen_in_team + 1 ] ;
4475: LD_ADDR_EXP 41
4479: PUSH
4480: LD_EXP 41
4484: PUSH
4485: LD_EXP 12
4489: PUSH
4490: LD_INT 1
4492: PLUS
4493: ARRAY
4494: ST_TO_ADDR
// initial_level = initial_level [ def_initial_level + 1 ] ;
4495: LD_ADDR_EXP 42
4499: PUSH
4500: LD_EXP 42
4504: PUSH
4505: LD_EXP 13
4509: PUSH
4510: LD_INT 1
4512: PLUS
4513: ARRAY
4514: ST_TO_ADDR
// starting_resources = starting_resources [ def_starting_resources + 1 ] ;
4515: LD_ADDR_EXP 44
4519: PUSH
4520: LD_EXP 44
4524: PUSH
4525: LD_EXP 15
4529: PUSH
4530: LD_INT 1
4532: PLUS
4533: ARRAY
4534: ST_TO_ADDR
// starting_crates = starting_crates [ def_starting_resources + 1 ] ;
4535: LD_ADDR_EXP 43
4539: PUSH
4540: LD_EXP 43
4544: PUSH
4545: LD_EXP 15
4549: PUSH
4550: LD_INT 1
4552: PLUS
4553: ARRAY
4554: ST_TO_ADDR
// Tech_Level = def_tech_level ;
4555: LD_ADDR_EXP 56
4559: PUSH
4560: LD_EXP 26
4564: ST_TO_ADDR
// Hustota_Zasilek ;
4565: CALL 2142 0 0
// spawning_koef_of_apemen = spawning_koef_of_apemen [ def_amount_of_apemen + 1 ] ;
4569: LD_ADDR_EXP 47
4573: PUSH
4574: LD_EXP 47
4578: PUSH
4579: LD_EXP 22
4583: PUSH
4584: LD_INT 1
4586: PLUS
4587: ARRAY
4588: ST_TO_ADDR
// spawning_koef_of_tiger = spawning_koef_of_tiger [ def_amount_of_tiger + 1 ] ;
4589: LD_ADDR_EXP 48
4593: PUSH
4594: LD_EXP 48
4598: PUSH
4599: LD_EXP 23
4603: PUSH
4604: LD_INT 1
4606: PLUS
4607: ARRAY
4608: ST_TO_ADDR
// respawning_time_min = respawning_time_min [ def_people_respawning + 1 ] ;
4609: LD_ADDR_EXP 49
4613: PUSH
4614: LD_EXP 49
4618: PUSH
4619: LD_EXP 25
4623: PUSH
4624: LD_INT 1
4626: PLUS
4627: ARRAY
4628: ST_TO_ADDR
// respawning_time_max = respawning_time_max [ def_people_respawning + 1 ] ;
4629: LD_ADDR_EXP 51
4633: PUSH
4634: LD_EXP 51
4638: PUSH
4639: LD_EXP 25
4643: PUSH
4644: LD_INT 1
4646: PLUS
4647: ARRAY
4648: ST_TO_ADDR
// respawning_time_delay_min = respawning_time_delay_min [ def_people_respawning + 1 ] ;
4649: LD_ADDR_EXP 53
4653: PUSH
4654: LD_EXP 53
4658: PUSH
4659: LD_EXP 25
4663: PUSH
4664: LD_INT 1
4666: PLUS
4667: ARRAY
4668: ST_TO_ADDR
// respawning_time_delay_max = respawning_time_delay_max [ def_people_respawning + 1 ] ;
4669: LD_ADDR_EXP 54
4673: PUSH
4674: LD_EXP 54
4678: PUSH
4679: LD_EXP 25
4683: PUSH
4684: LD_INT 1
4686: PLUS
4687: ARRAY
4688: ST_TO_ADDR
// daily_start = daily_start [ def_daily_start + 1 ] ;
4689: LD_ADDR_EXP 58
4693: PUSH
4694: LD_EXP 58
4698: PUSH
4699: LD_EXP 32
4703: PUSH
4704: LD_INT 1
4706: PLUS
4707: ARRAY
4708: ST_TO_ADDR
// daily_speed = daily_speed [ def_daily_speed + 1 ] ;
4709: LD_ADDR_EXP 59
4713: PUSH
4714: LD_EXP 59
4718: PUSH
4719: LD_EXP 33
4723: PUSH
4724: LD_INT 1
4726: PLUS
4727: ARRAY
4728: ST_TO_ADDR
// morale_decreasing_time = morale_decreasing_time [ def_morale_flags + 1 ] ;
4729: LD_ADDR_EXP 46
4733: PUSH
4734: LD_EXP 46
4738: PUSH
4739: LD_EXP 20
4743: PUSH
4744: LD_INT 1
4746: PLUS
4747: ARRAY
4748: ST_TO_ADDR
// battle_flags_id = [ ] ;
4749: LD_ADDR_EXP 89
4753: PUSH
4754: EMPTY
4755: ST_TO_ADDR
// heroes = [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
4756: LD_ADDR_EXP 50
4760: PUSH
4761: EMPTY
4762: PUSH
4763: EMPTY
4764: PUSH
4765: EMPTY
4766: PUSH
4767: EMPTY
4768: PUSH
4769: EMPTY
4770: PUSH
4771: EMPTY
4772: PUSH
4773: EMPTY
4774: PUSH
4775: EMPTY
4776: PUSH
4777: EMPTY
4778: LIST
4779: LIST
4780: LIST
4781: LIST
4782: LIST
4783: LIST
4784: LIST
4785: LIST
4786: ST_TO_ADDR
// final_count = final_count [ def_kings_age + 1 ] ;
4787: LD_ADDR_EXP 57
4791: PUSH
4792: LD_EXP 57
4796: PUSH
4797: LD_EXP 35
4801: PUSH
4802: LD_INT 1
4804: PLUS
4805: ARRAY
4806: ST_TO_ADDR
// WarForTerritory_flags = WarForTerritory_flags [ def_warForTerritory + 1 ] ;
4807: LD_ADDR_EXP 65
4811: PUSH
4812: LD_EXP 65
4816: PUSH
4817: LD_EXP 36
4821: PUSH
4822: LD_INT 1
4824: PLUS
4825: ARRAY
4826: ST_TO_ADDR
// WarForTerritory_Points = WarForTerritory_Points [ def_warForTerritory + 1 ] ;
4827: LD_ADDR_EXP 64
4831: PUSH
4832: LD_EXP 64
4836: PUSH
4837: LD_EXP 36
4841: PUSH
4842: LD_INT 1
4844: PLUS
4845: ARRAY
4846: ST_TO_ADDR
// buildUpTime_Delay := buildUpTime_Delay [ def_builduptime + 1 ] ;
4847: LD_ADDR_EXP 66
4851: PUSH
4852: LD_EXP 66
4856: PUSH
4857: LD_EXP 30
4861: PUSH
4862: LD_INT 1
4864: PLUS
4865: ARRAY
4866: ST_TO_ADDR
// siberite_bomb_Delay := siberite_bomb_Delay [ def_siberite_bomb + 1 ] ;
4867: LD_ADDR_EXP 67
4871: PUSH
4872: LD_EXP 67
4876: PUSH
4877: LD_EXP 29
4881: PUSH
4882: LD_INT 1
4884: PLUS
4885: ARRAY
4886: ST_TO_ADDR
// for i = 1 to depot_def + 0 do
4887: LD_ADDR_VAR 0 2
4891: PUSH
4892: DOUBLE
4893: LD_INT 1
4895: DEC
4896: ST_TO_ADDR
4897: LD_EXP 81
4901: PUSH
4902: LD_INT 0
4904: PLUS
4905: PUSH
4906: FOR_TO
4907: IFFALSE 5013
// start_def := start_def ^ [ [ ShiftX ( depot_def [ i ] [ 1 ] , depot_def [ i ] [ 3 ] mod 6 , 6 ) , ShiftY ( depot_def [ i ] [ 2 ] , depot_def [ i ] [ 3 ] mod 6 , 6 ) ] ] ;
4909: LD_ADDR_EXP 83
4913: PUSH
4914: LD_EXP 83
4918: PUSH
4919: LD_EXP 81
4923: PUSH
4924: LD_VAR 0 2
4928: ARRAY
4929: PUSH
4930: LD_INT 1
4932: ARRAY
4933: PPUSH
4934: LD_EXP 81
4938: PUSH
4939: LD_VAR 0 2
4943: ARRAY
4944: PUSH
4945: LD_INT 3
4947: ARRAY
4948: PUSH
4949: LD_INT 6
4951: MOD
4952: PPUSH
4953: LD_INT 6
4955: PPUSH
4956: CALL_OW 272
4960: PUSH
4961: LD_EXP 81
4965: PUSH
4966: LD_VAR 0 2
4970: ARRAY
4971: PUSH
4972: LD_INT 2
4974: ARRAY
4975: PPUSH
4976: LD_EXP 81
4980: PUSH
4981: LD_VAR 0 2
4985: ARRAY
4986: PUSH
4987: LD_INT 3
4989: ARRAY
4990: PUSH
4991: LD_INT 6
4993: MOD
4994: PPUSH
4995: LD_INT 6
4997: PPUSH
4998: CALL_OW 273
5002: PUSH
5003: EMPTY
5004: LIST
5005: LIST
5006: PUSH
5007: EMPTY
5008: LIST
5009: ADD
5010: ST_TO_ADDR
5011: GO 4906
5013: POP
5014: POP
// if not Game_Type in GT_Survival then
5015: LD_EXP 1
5019: PUSH
5020: LD_EXP 6
5024: IN
5025: NOT
5026: IFFALSE 5208
// begin for i in oil_deposits_locations do
5028: LD_ADDR_VAR 0 2
5032: PUSH
5033: LD_EXP 86
5037: PUSH
5038: FOR_IN
5039: IFFALSE 5068
// CreateDepositXY ( i [ 1 ] , i [ 2 ] , mat_oil ) ;
5041: LD_VAR 0 2
5045: PUSH
5046: LD_INT 1
5048: ARRAY
5049: PPUSH
5050: LD_VAR 0 2
5054: PUSH
5055: LD_INT 2
5057: ARRAY
5058: PPUSH
5059: LD_INT 2
5061: PPUSH
5062: CALL_OW 62
5066: GO 5038
5068: POP
5069: POP
// for i in siberite_deposits_locations do
5070: LD_ADDR_VAR 0 2
5074: PUSH
5075: LD_EXP 88
5079: PUSH
5080: FOR_IN
5081: IFFALSE 5110
// CreateDepositXY ( i [ 1 ] , i [ 2 ] , mat_siberit ) ;
5083: LD_VAR 0 2
5087: PUSH
5088: LD_INT 1
5090: ARRAY
5091: PPUSH
5092: LD_VAR 0 2
5096: PUSH
5097: LD_INT 2
5099: ARRAY
5100: PPUSH
5101: LD_INT 3
5103: PPUSH
5104: CALL_OW 62
5108: GO 5080
5110: POP
5111: POP
// if def_extra_oil_deposits then
5112: LD_EXP 17
5116: IFFALSE 5160
// for i in extra_oil_deposits_locations do
5118: LD_ADDR_VAR 0 2
5122: PUSH
5123: LD_EXP 85
5127: PUSH
5128: FOR_IN
5129: IFFALSE 5158
// CreateDepositXY ( i [ 1 ] , i [ 2 ] , mat_oil ) ;
5131: LD_VAR 0 2
5135: PUSH
5136: LD_INT 1
5138: ARRAY
5139: PPUSH
5140: LD_VAR 0 2
5144: PUSH
5145: LD_INT 2
5147: ARRAY
5148: PPUSH
5149: LD_INT 2
5151: PPUSH
5152: CALL_OW 62
5156: GO 5128
5158: POP
5159: POP
// if def_extra_sib_deposits then
5160: LD_EXP 18
5164: IFFALSE 5208
// for i in extra_sib_deposits_locations do
5166: LD_ADDR_VAR 0 2
5170: PUSH
5171: LD_EXP 87
5175: PUSH
5176: FOR_IN
5177: IFFALSE 5206
// CreateDepositXY ( i [ 1 ] , i [ 2 ] , mat_siberit ) ;
5179: LD_VAR 0 2
5183: PUSH
5184: LD_INT 1
5186: ARRAY
5187: PPUSH
5188: LD_VAR 0 2
5192: PUSH
5193: LD_INT 2
5195: ARRAY
5196: PPUSH
5197: LD_INT 3
5199: PPUSH
5200: CALL_OW 62
5204: GO 5176
5206: POP
5207: POP
// end ; for i := 1 to 8 do
5208: LD_ADDR_VAR 0 2
5212: PUSH
5213: DOUBLE
5214: LD_INT 1
5216: DEC
5217: ST_TO_ADDR
5218: LD_INT 8
5220: PUSH
5221: FOR_TO
5222: IFFALSE 5269
// if Side_Positions [ i ] then
5224: LD_EXP 75
5228: PUSH
5229: LD_VAR 0 2
5233: ARRAY
5234: IFFALSE 5267
// Position_Sides := Replace ( Position_Sides , Side_Positions [ i ] , i ) ;
5236: LD_ADDR_EXP 62
5240: PUSH
5241: LD_EXP 62
5245: PPUSH
5246: LD_EXP 75
5250: PUSH
5251: LD_VAR 0 2
5255: ARRAY
5256: PPUSH
5257: LD_VAR 0 2
5261: PPUSH
5262: CALL_OW 1
5266: ST_TO_ADDR
5267: GO 5221
5269: POP
5270: POP
// end ;
5271: LD_VAR 0 1
5275: RET
// export function set_shared_visions_and_alliances ; var i , j ; begin
5276: LD_INT 0
5278: PPUSH
5279: PPUSH
5280: PPUSH
// Team_Game := 0 ;
5281: LD_ADDR_EXP 80
5285: PUSH
5286: LD_INT 0
5288: ST_TO_ADDR
// for i = 1 to 8 do
5289: LD_ADDR_VAR 0 2
5293: PUSH
5294: DOUBLE
5295: LD_INT 1
5297: DEC
5298: ST_TO_ADDR
5299: LD_INT 8
5301: PUSH
5302: FOR_TO
5303: IFFALSE 5329
// Team_Game := Team_Game + Side_Teams [ i ] ;
5305: LD_ADDR_EXP 80
5309: PUSH
5310: LD_EXP 80
5314: PUSH
5315: LD_EXP 72
5319: PUSH
5320: LD_VAR 0 2
5324: ARRAY
5325: PLUS
5326: ST_TO_ADDR
5327: GO 5302
5329: POP
5330: POP
// if not Team_Game then
5331: LD_EXP 80
5335: NOT
5336: IFFALSE 5348
// Team_Game := false else
5338: LD_ADDR_EXP 80
5342: PUSH
5343: LD_INT 0
5345: ST_TO_ADDR
5346: GO 5356
// Team_Game := true ;
5348: LD_ADDR_EXP 80
5352: PUSH
5353: LD_INT 1
5355: ST_TO_ADDR
// if not Team_Game then
5356: LD_EXP 80
5360: NOT
5361: IFFALSE 5459
// begin for i = 1 to 8 do
5363: LD_ADDR_VAR 0 2
5367: PUSH
5368: DOUBLE
5369: LD_INT 1
5371: DEC
5372: ST_TO_ADDR
5373: LD_INT 8
5375: PUSH
5376: FOR_TO
5377: IFFALSE 5455
// for j = 1 to 8 do
5379: LD_ADDR_VAR 0 3
5383: PUSH
5384: DOUBLE
5385: LD_INT 1
5387: DEC
5388: ST_TO_ADDR
5389: LD_INT 8
5391: PUSH
5392: FOR_TO
5393: IFFALSE 5451
// if i <> j then
5395: LD_VAR 0 2
5399: PUSH
5400: LD_VAR 0 3
5404: NONEQUAL
5405: IFFALSE 5429
// SetAttitude ( i , j , att_neutral , true ) else
5407: LD_VAR 0 2
5411: PPUSH
5412: LD_VAR 0 3
5416: PPUSH
5417: LD_INT 0
5419: PPUSH
5420: LD_INT 1
5422: PPUSH
5423: CALL_OW 80
5427: GO 5449
// SetAttitude ( i , j , att_friend , true ) ;
5429: LD_VAR 0 2
5433: PPUSH
5434: LD_VAR 0 3
5438: PPUSH
5439: LD_INT 1
5441: PPUSH
5442: LD_INT 1
5444: PPUSH
5445: CALL_OW 80
5449: GO 5392
5451: POP
5452: POP
5453: GO 5376
5455: POP
5456: POP
// end else
5457: GO 5634
// begin if def_shared_vision then
5459: LD_EXP 19
5463: IFFALSE 5528
// begin for i in Teams do
5465: LD_ADDR_VAR 0 2
5469: PUSH
5470: LD_EXP 73
5474: PUSH
5475: FOR_IN
5476: IFFALSE 5526
// for j = 2 to i do
5478: LD_ADDR_VAR 0 3
5482: PUSH
5483: DOUBLE
5484: LD_INT 2
5486: DEC
5487: ST_TO_ADDR
5488: LD_VAR 0 2
5492: PUSH
5493: FOR_TO
5494: IFFALSE 5522
// ChangeSideFog ( i [ j ] , i [ 1 ] ) ;
5496: LD_VAR 0 2
5500: PUSH
5501: LD_VAR 0 3
5505: ARRAY
5506: PPUSH
5507: LD_VAR 0 2
5511: PUSH
5512: LD_INT 1
5514: ARRAY
5515: PPUSH
5516: CALL_OW 343
5520: GO 5493
5522: POP
5523: POP
5524: GO 5475
5526: POP
5527: POP
// end ; for i = 1 to 8 do
5528: LD_ADDR_VAR 0 2
5532: PUSH
5533: DOUBLE
5534: LD_INT 1
5536: DEC
5537: ST_TO_ADDR
5538: LD_INT 8
5540: PUSH
5541: FOR_TO
5542: IFFALSE 5632
// for j = 1 to 8 do
5544: LD_ADDR_VAR 0 3
5548: PUSH
5549: DOUBLE
5550: LD_INT 1
5552: DEC
5553: ST_TO_ADDR
5554: LD_INT 8
5556: PUSH
5557: FOR_TO
5558: IFFALSE 5628
// if Side_Teams [ i ] = Side_Teams [ j ] then
5560: LD_EXP 72
5564: PUSH
5565: LD_VAR 0 2
5569: ARRAY
5570: PUSH
5571: LD_EXP 72
5575: PUSH
5576: LD_VAR 0 3
5580: ARRAY
5581: EQUAL
5582: IFFALSE 5606
// SetAttitude ( i , j , att_friend , true ) else
5584: LD_VAR 0 2
5588: PPUSH
5589: LD_VAR 0 3
5593: PPUSH
5594: LD_INT 1
5596: PPUSH
5597: LD_INT 1
5599: PPUSH
5600: CALL_OW 80
5604: GO 5626
// SetAttitude ( i , j , att_enemy , true ) ;
5606: LD_VAR 0 2
5610: PPUSH
5611: LD_VAR 0 3
5615: PPUSH
5616: LD_INT 2
5618: PPUSH
5619: LD_INT 1
5621: PPUSH
5622: CALL_OW 80
5626: GO 5557
5628: POP
5629: POP
5630: GO 5541
5632: POP
5633: POP
// end ; end ;
5634: LD_VAR 0 1
5638: RET
// export function prepare_sides ; var i , pos ; begin
5639: LD_INT 0
5641: PPUSH
5642: PPUSH
5643: PPUSH
// global_units = [ ] ;
5644: LD_ADDR_EXP 93
5648: PUSH
5649: EMPTY
5650: ST_TO_ADDR
// global_classes = [ ] ;
5651: LD_ADDR_EXP 97
5655: PUSH
5656: EMPTY
5657: ST_TO_ADDR
// global_defined := false ;
5658: LD_ADDR_EXP 94
5662: PUSH
5663: LD_INT 0
5665: ST_TO_ADDR
// pozice_beden = [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
5666: LD_ADDR_EXP 8
5670: PUSH
5671: EMPTY
5672: PUSH
5673: EMPTY
5674: PUSH
5675: EMPTY
5676: PUSH
5677: EMPTY
5678: PUSH
5679: EMPTY
5680: PUSH
5681: EMPTY
5682: PUSH
5683: EMPTY
5684: PUSH
5685: EMPTY
5686: PUSH
5687: EMPTY
5688: LIST
5689: LIST
5690: LIST
5691: LIST
5692: LIST
5693: LIST
5694: LIST
5695: LIST
5696: ST_TO_ADDR
// for i := 1 to 8 do
5697: LD_ADDR_VAR 0 2
5701: PUSH
5702: DOUBLE
5703: LD_INT 1
5705: DEC
5706: ST_TO_ADDR
5707: LD_INT 8
5709: PUSH
5710: FOR_TO
5711: IFFALSE 6176
// if Side_Positions [ i ] then
5713: LD_EXP 75
5717: PUSH
5718: LD_VAR 0 2
5722: ARRAY
5723: IFFALSE 6174
// begin pos := Side_Positions [ i ] ;
5725: LD_ADDR_VAR 0 3
5729: PUSH
5730: LD_EXP 75
5734: PUSH
5735: LD_VAR 0 2
5739: ARRAY
5740: ST_TO_ADDR
// if Game_Type in GT_DoubleNat ^ GT_DoublePeople then
5741: LD_EXP 1
5745: PUSH
5746: LD_EXP 3
5750: PUSH
5751: LD_EXP 4
5755: ADD
5756: IN
5757: IFFALSE 5967
// begin if Game_Type in GT_DoubleNat then
5759: LD_EXP 1
5763: PUSH
5764: LD_EXP 3
5768: IN
5769: IFFALSE 5873
// begin prepare_side ( i , pos , Position_Nations [ i ] [ 1 ] ) ;
5771: LD_VAR 0 2
5775: PPUSH
5776: LD_VAR 0 3
5780: PPUSH
5781: LD_EXP 52
5785: PUSH
5786: LD_VAR 0 2
5790: ARRAY
5791: PUSH
5792: LD_INT 1
5794: ARRAY
5795: PPUSH
5796: CALL 6556 0 3
// prepare_side ( i , pos + 1 , Position_Nations [ i ] [ 2 ] ) ;
5800: LD_VAR 0 2
5804: PPUSH
5805: LD_VAR 0 3
5809: PUSH
5810: LD_INT 1
5812: PLUS
5813: PPUSH
5814: LD_EXP 52
5818: PUSH
5819: LD_VAR 0 2
5823: ARRAY
5824: PUSH
5825: LD_INT 2
5827: ARRAY
5828: PPUSH
5829: CALL 6556 0 3
// pozice_beden = replace ( pozice_beden , i , [ pos , pos + 1 ] ) ;
5833: LD_ADDR_EXP 8
5837: PUSH
5838: LD_EXP 8
5842: PPUSH
5843: LD_VAR 0 2
5847: PPUSH
5848: LD_VAR 0 3
5852: PUSH
5853: LD_VAR 0 3
5857: PUSH
5858: LD_INT 1
5860: PLUS
5861: PUSH
5862: EMPTY
5863: LIST
5864: LIST
5865: PPUSH
5866: CALL_OW 1
5870: ST_TO_ADDR
// end else
5871: GO 5965
// begin prepare_side ( i , pos , Side_Nations [ i ] ) ;
5873: LD_VAR 0 2
5877: PPUSH
5878: LD_VAR 0 3
5882: PPUSH
5883: LD_EXP 76
5887: PUSH
5888: LD_VAR 0 2
5892: ARRAY
5893: PPUSH
5894: CALL 6556 0 3
// prepare_side ( i , pos + 1 , Side_Nations [ i ] ) ;
5898: LD_VAR 0 2
5902: PPUSH
5903: LD_VAR 0 3
5907: PUSH
5908: LD_INT 1
5910: PLUS
5911: PPUSH
5912: LD_EXP 76
5916: PUSH
5917: LD_VAR 0 2
5921: ARRAY
5922: PPUSH
5923: CALL 6556 0 3
// pozice_beden = replace ( pozice_beden , i , [ pos , pos + 1 ] ) ;
5927: LD_ADDR_EXP 8
5931: PUSH
5932: LD_EXP 8
5936: PPUSH
5937: LD_VAR 0 2
5941: PPUSH
5942: LD_VAR 0 3
5946: PUSH
5947: LD_VAR 0 3
5951: PUSH
5952: LD_INT 1
5954: PLUS
5955: PUSH
5956: EMPTY
5957: LIST
5958: LIST
5959: PPUSH
5960: CALL_OW 1
5964: ST_TO_ADDR
// end ; end else
5965: GO 6149
// if game_type in GT_TripleNat then
5967: LD_EXP 1
5971: PUSH
5972: LD_EXP 5
5976: IN
5977: IFFALSE 6124
// begin prepare_side ( i , pos , Position_Nations [ i ] [ 1 ] ) ;
5979: LD_VAR 0 2
5983: PPUSH
5984: LD_VAR 0 3
5988: PPUSH
5989: LD_EXP 52
5993: PUSH
5994: LD_VAR 0 2
5998: ARRAY
5999: PUSH
6000: LD_INT 1
6002: ARRAY
6003: PPUSH
6004: CALL 6556 0 3
// prepare_side ( i , pos + 1 , Position_Nations [ i ] [ 2 ] ) ;
6008: LD_VAR 0 2
6012: PPUSH
6013: LD_VAR 0 3
6017: PUSH
6018: LD_INT 1
6020: PLUS
6021: PPUSH
6022: LD_EXP 52
6026: PUSH
6027: LD_VAR 0 2
6031: ARRAY
6032: PUSH
6033: LD_INT 2
6035: ARRAY
6036: PPUSH
6037: CALL 6556 0 3
// prepare_side ( i , pos + 2 , Position_Nations [ i ] [ 3 ] ) ;
6041: LD_VAR 0 2
6045: PPUSH
6046: LD_VAR 0 3
6050: PUSH
6051: LD_INT 2
6053: PLUS
6054: PPUSH
6055: LD_EXP 52
6059: PUSH
6060: LD_VAR 0 2
6064: ARRAY
6065: PUSH
6066: LD_INT 3
6068: ARRAY
6069: PPUSH
6070: CALL 6556 0 3
// pozice_beden = replace ( pozice_beden , i , [ pos , pos + 1 , pos + 2 ] ) ;
6074: LD_ADDR_EXP 8
6078: PUSH
6079: LD_EXP 8
6083: PPUSH
6084: LD_VAR 0 2
6088: PPUSH
6089: LD_VAR 0 3
6093: PUSH
6094: LD_VAR 0 3
6098: PUSH
6099: LD_INT 1
6101: PLUS
6102: PUSH
6103: LD_VAR 0 3
6107: PUSH
6108: LD_INT 2
6110: PLUS
6111: PUSH
6112: EMPTY
6113: LIST
6114: LIST
6115: LIST
6116: PPUSH
6117: CALL_OW 1
6121: ST_TO_ADDR
// end else
6122: GO 6149
// prepare_side ( i , pos , Side_Nations [ i ] ) ;
6124: LD_VAR 0 2
6128: PPUSH
6129: LD_VAR 0 3
6133: PPUSH
6134: LD_EXP 76
6138: PUSH
6139: LD_VAR 0 2
6143: ARRAY
6144: PPUSH
6145: CALL 6556 0 3
// pozice_beden = replace ( pozice_beden , i , pos ) ;
6149: LD_ADDR_EXP 8
6153: PUSH
6154: LD_EXP 8
6158: PPUSH
6159: LD_VAR 0 2
6163: PPUSH
6164: LD_VAR 0 3
6168: PPUSH
6169: CALL_OW 1
6173: ST_TO_ADDR
// end ;
6174: GO 5710
6176: POP
6177: POP
// end ;
6178: LD_VAR 0 1
6182: RET
// export function Modify_Nations ; var i , n ; begin
6183: LD_INT 0
6185: PPUSH
6186: PPUSH
6187: PPUSH
// Position_Nations := [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
6188: LD_ADDR_EXP 52
6192: PUSH
6193: EMPTY
6194: PUSH
6195: EMPTY
6196: PUSH
6197: EMPTY
6198: PUSH
6199: EMPTY
6200: PUSH
6201: EMPTY
6202: PUSH
6203: EMPTY
6204: PUSH
6205: EMPTY
6206: PUSH
6207: EMPTY
6208: PUSH
6209: EMPTY
6210: LIST
6211: LIST
6212: LIST
6213: LIST
6214: LIST
6215: LIST
6216: LIST
6217: LIST
6218: ST_TO_ADDR
// if game_type in GT_doublenat then
6219: LD_EXP 1
6223: PUSH
6224: LD_EXP 3
6228: IN
6229: IFFALSE 6380
// begin for i = 1 to 8 do
6231: LD_ADDR_VAR 0 2
6235: PUSH
6236: DOUBLE
6237: LD_INT 1
6239: DEC
6240: ST_TO_ADDR
6241: LD_INT 8
6243: PUSH
6244: FOR_TO
6245: IFFALSE 6376
// if side_positions [ i ] then
6247: LD_EXP 75
6251: PUSH
6252: LD_VAR 0 2
6256: ARRAY
6257: IFFALSE 6374
// begin case side_nations [ i ] of 1 :
6259: LD_EXP 76
6263: PUSH
6264: LD_VAR 0 2
6268: ARRAY
6269: PUSH
6270: LD_INT 1
6272: DOUBLE
6273: EQUAL
6274: IFTRUE 6278
6276: GO 6296
6278: POP
// n = [ 1 , 2 ] ; 2 :
6279: LD_ADDR_VAR 0 3
6283: PUSH
6284: LD_INT 1
6286: PUSH
6287: LD_INT 2
6289: PUSH
6290: EMPTY
6291: LIST
6292: LIST
6293: ST_TO_ADDR
6294: GO 6349
6296: LD_INT 2
6298: DOUBLE
6299: EQUAL
6300: IFTRUE 6304
6302: GO 6322
6304: POP
// n = [ 2 , 3 ] ; 3 :
6305: LD_ADDR_VAR 0 3
6309: PUSH
6310: LD_INT 2
6312: PUSH
6313: LD_INT 3
6315: PUSH
6316: EMPTY
6317: LIST
6318: LIST
6319: ST_TO_ADDR
6320: GO 6349
6322: LD_INT 3
6324: DOUBLE
6325: EQUAL
6326: IFTRUE 6330
6328: GO 6348
6330: POP
// n = [ 3 , 1 ] ; end ;
6331: LD_ADDR_VAR 0 3
6335: PUSH
6336: LD_INT 3
6338: PUSH
6339: LD_INT 1
6341: PUSH
6342: EMPTY
6343: LIST
6344: LIST
6345: ST_TO_ADDR
6346: GO 6349
6348: POP
// Position_Nations = replace ( position_nations , i , n ) ;
6349: LD_ADDR_EXP 52
6353: PUSH
6354: LD_EXP 52
6358: PPUSH
6359: LD_VAR 0 2
6363: PPUSH
6364: LD_VAR 0 3
6368: PPUSH
6369: CALL_OW 1
6373: ST_TO_ADDR
// end ;
6374: GO 6244
6376: POP
6377: POP
// end else
6378: GO 6551
// if game_type in GT_triplenat then
6380: LD_EXP 1
6384: PUSH
6385: LD_EXP 5
6389: IN
6390: IFFALSE 6551
// begin for i = 1 to 8 do
6392: LD_ADDR_VAR 0 2
6396: PUSH
6397: DOUBLE
6398: LD_INT 1
6400: DEC
6401: ST_TO_ADDR
6402: LD_INT 8
6404: PUSH
6405: FOR_TO
6406: IFFALSE 6549
// if side_positions [ i ] then
6408: LD_EXP 75
6412: PUSH
6413: LD_VAR 0 2
6417: ARRAY
6418: IFFALSE 6547
// begin case side_nations [ i ] of 1 :
6420: LD_EXP 76
6424: PUSH
6425: LD_VAR 0 2
6429: ARRAY
6430: PUSH
6431: LD_INT 1
6433: DOUBLE
6434: EQUAL
6435: IFTRUE 6439
6437: GO 6461
6439: POP
// n = [ 1 , 2 , 3 ] ; 2 :
6440: LD_ADDR_VAR 0 3
6444: PUSH
6445: LD_INT 1
6447: PUSH
6448: LD_INT 2
6450: PUSH
6451: LD_INT 3
6453: PUSH
6454: EMPTY
6455: LIST
6456: LIST
6457: LIST
6458: ST_TO_ADDR
6459: GO 6522
6461: LD_INT 2
6463: DOUBLE
6464: EQUAL
6465: IFTRUE 6469
6467: GO 6491
6469: POP
// n = [ 2 , 3 , 1 ] ; 3 :
6470: LD_ADDR_VAR 0 3
6474: PUSH
6475: LD_INT 2
6477: PUSH
6478: LD_INT 3
6480: PUSH
6481: LD_INT 1
6483: PUSH
6484: EMPTY
6485: LIST
6486: LIST
6487: LIST
6488: ST_TO_ADDR
6489: GO 6522
6491: LD_INT 3
6493: DOUBLE
6494: EQUAL
6495: IFTRUE 6499
6497: GO 6521
6499: POP
// n = [ 3 , 1 , 2 ] ; end ;
6500: LD_ADDR_VAR 0 3
6504: PUSH
6505: LD_INT 3
6507: PUSH
6508: LD_INT 1
6510: PUSH
6511: LD_INT 2
6513: PUSH
6514: EMPTY
6515: LIST
6516: LIST
6517: LIST
6518: ST_TO_ADDR
6519: GO 6522
6521: POP
// Position_Nations = replace ( position_nations , i , n ) ;
6522: LD_ADDR_EXP 52
6526: PUSH
6527: LD_EXP 52
6531: PPUSH
6532: LD_VAR 0 2
6536: PPUSH
6537: LD_VAR 0 3
6541: PPUSH
6542: CALL_OW 1
6546: ST_TO_ADDR
// end ;
6547: GO 6405
6549: POP
6550: POP
// end ; end ;
6551: LD_VAR 0 1
6555: RET
// export function prepare_side ( side , pos , nation ) ; var x , y , i , r , sol , br , dep , neng , nsci , nmech , nsol ; begin
6556: LD_INT 0
6558: PPUSH
6559: PPUSH
6560: PPUSH
6561: PPUSH
6562: PPUSH
6563: PPUSH
6564: PPUSH
6565: PPUSH
6566: PPUSH
6567: PPUSH
6568: PPUSH
6569: PPUSH
// global_count = 0 ;
6570: LD_ADDR_EXP 96
6574: PUSH
6575: LD_INT 0
6577: ST_TO_ADDR
// uc_nation := nation ;
6578: LD_ADDR_OWVAR 21
6582: PUSH
6583: LD_VAR 0 3
6587: ST_TO_ADDR
// uc_side := side ;
6588: LD_ADDR_OWVAR 20
6592: PUSH
6593: LD_VAR 0 1
6597: ST_TO_ADDR
// x := depot_def [ pos ] [ 1 ] ;
6598: LD_ADDR_VAR 0 5
6602: PUSH
6603: LD_EXP 81
6607: PUSH
6608: LD_VAR 0 2
6612: ARRAY
6613: PUSH
6614: LD_INT 1
6616: ARRAY
6617: ST_TO_ADDR
// y := depot_def [ pos ] [ 2 ] ;
6618: LD_ADDR_VAR 0 6
6622: PUSH
6623: LD_EXP 81
6627: PUSH
6628: LD_VAR 0 2
6632: ARRAY
6633: PUSH
6634: LD_INT 2
6636: ARRAY
6637: ST_TO_ADDR
// case base_level of 0 :
6638: LD_EXP 37
6642: PUSH
6643: LD_INT 0
6645: DOUBLE
6646: EQUAL
6647: IFTRUE 6651
6649: GO 6798
6651: POP
// begin for i := 1 to 3 do
6652: LD_ADDR_VAR 0 7
6656: PUSH
6657: DOUBLE
6658: LD_INT 1
6660: DEC
6661: ST_TO_ADDR
6662: LD_INT 3
6664: PUSH
6665: FOR_TO
6666: IFFALSE 6794
// begin r := starting_resources [ i ] ;
6668: LD_ADDR_VAR 0 8
6672: PUSH
6673: LD_EXP 44
6677: PUSH
6678: LD_VAR 0 7
6682: ARRAY
6683: ST_TO_ADDR
// while r >= 10 do
6684: LD_VAR 0 8
6688: PUSH
6689: LD_INT 10
6691: GREATEREQUAL
6692: IFFALSE 6792
// if r > 50 then
6694: LD_VAR 0 8
6698: PUSH
6699: LD_INT 50
6701: GREATER
6702: IFFALSE 6748
// begin CreateResourcesXYR ( i , 5 , x , y , 4 , false ) ;
6704: LD_VAR 0 7
6708: PPUSH
6709: LD_INT 5
6711: PPUSH
6712: LD_VAR 0 5
6716: PPUSH
6717: LD_VAR 0 6
6721: PPUSH
6722: LD_INT 4
6724: PPUSH
6725: LD_INT 0
6727: PPUSH
6728: CALL_OW 60
// r := r - 50 ;
6732: LD_ADDR_VAR 0 8
6736: PUSH
6737: LD_VAR 0 8
6741: PUSH
6742: LD_INT 50
6744: MINUS
6745: ST_TO_ADDR
// end else
6746: GO 6790
// begin CreateResourcesXYR ( i , r div 10 , x , y , 4 , false ) ;
6748: LD_VAR 0 7
6752: PPUSH
6753: LD_VAR 0 8
6757: PUSH
6758: LD_INT 10
6760: DIV
6761: PPUSH
6762: LD_VAR 0 5
6766: PPUSH
6767: LD_VAR 0 6
6771: PPUSH
6772: LD_INT 4
6774: PPUSH
6775: LD_INT 0
6777: PPUSH
6778: CALL_OW 60
// r := 0 ;
6782: LD_ADDR_VAR 0 8
6786: PUSH
6787: LD_INT 0
6789: ST_TO_ADDR
// end ;
6790: GO 6684
// end ;
6792: GO 6665
6794: POP
6795: POP
// end ; 1 :
6796: GO 7063
6798: LD_INT 1
6800: DOUBLE
6801: EQUAL
6802: IFTRUE 6806
6804: GO 6930
6806: POP
// begin bc_type = b_depot ;
6807: LD_ADDR_OWVAR 42
6811: PUSH
6812: LD_INT 0
6814: ST_TO_ADDR
// dep := CreateAndPlaceBuildingXYD ( x , y , Depot_Def [ pos ] [ 3 ] ) ;
6815: LD_ADDR_VAR 0 11
6819: PUSH
6820: LD_VAR 0 5
6824: PPUSH
6825: LD_VAR 0 6
6829: PPUSH
6830: LD_EXP 81
6834: PUSH
6835: LD_VAR 0 2
6839: ARRAY
6840: PUSH
6841: LD_INT 3
6843: ARRAY
6844: PPUSH
6845: CALL_OW 47
6849: ST_TO_ADDR
// SetResourceType ( GetBase ( dep ) , mat_cans , starting_resources [ mat_cans ] ) ;
6850: LD_VAR 0 11
6854: PPUSH
6855: CALL_OW 274
6859: PPUSH
6860: LD_INT 1
6862: PPUSH
6863: LD_EXP 44
6867: PUSH
6868: LD_INT 1
6870: ARRAY
6871: PPUSH
6872: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_oil , starting_resources [ mat_oil ] ) ;
6876: LD_VAR 0 11
6880: PPUSH
6881: CALL_OW 274
6885: PPUSH
6886: LD_INT 2
6888: PPUSH
6889: LD_EXP 44
6893: PUSH
6894: LD_INT 2
6896: ARRAY
6897: PPUSH
6898: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_siberit , starting_resources [ mat_siberit ] ) ;
6902: LD_VAR 0 11
6906: PPUSH
6907: CALL_OW 274
6911: PPUSH
6912: LD_INT 3
6914: PPUSH
6915: LD_EXP 44
6919: PUSH
6920: LD_INT 3
6922: ARRAY
6923: PPUSH
6924: CALL_OW 277
// end ; 2 :
6928: GO 7063
6930: LD_INT 2
6932: DOUBLE
6933: EQUAL
6934: IFTRUE 6938
6936: GO 7062
6938: POP
// begin bc_type = b_warehouse ;
6939: LD_ADDR_OWVAR 42
6943: PUSH
6944: LD_INT 1
6946: ST_TO_ADDR
// dep := CreateAndPlaceBuildingXYD ( x , y , Depot_Def [ pos ] [ 3 ] ) ;
6947: LD_ADDR_VAR 0 11
6951: PUSH
6952: LD_VAR 0 5
6956: PPUSH
6957: LD_VAR 0 6
6961: PPUSH
6962: LD_EXP 81
6966: PUSH
6967: LD_VAR 0 2
6971: ARRAY
6972: PUSH
6973: LD_INT 3
6975: ARRAY
6976: PPUSH
6977: CALL_OW 47
6981: ST_TO_ADDR
// SetResourceType ( GetBase ( dep ) , mat_cans , starting_resources [ mat_cans ] ) ;
6982: LD_VAR 0 11
6986: PPUSH
6987: CALL_OW 274
6991: PPUSH
6992: LD_INT 1
6994: PPUSH
6995: LD_EXP 44
6999: PUSH
7000: LD_INT 1
7002: ARRAY
7003: PPUSH
7004: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_oil , starting_resources [ mat_oil ] ) ;
7008: LD_VAR 0 11
7012: PPUSH
7013: CALL_OW 274
7017: PPUSH
7018: LD_INT 2
7020: PPUSH
7021: LD_EXP 44
7025: PUSH
7026: LD_INT 2
7028: ARRAY
7029: PPUSH
7030: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_siberit , starting_resources [ mat_siberit ] ) ;
7034: LD_VAR 0 11
7038: PPUSH
7039: CALL_OW 274
7043: PPUSH
7044: LD_INT 3
7046: PPUSH
7047: LD_EXP 44
7051: PUSH
7052: LD_INT 3
7054: ARRAY
7055: PPUSH
7056: CALL_OW 277
// end ; end ;
7060: GO 7063
7062: POP
// x := start_def [ pos ] [ 1 ] ;
7063: LD_ADDR_VAR 0 5
7067: PUSH
7068: LD_EXP 83
7072: PUSH
7073: LD_VAR 0 2
7077: ARRAY
7078: PUSH
7079: LD_INT 1
7081: ARRAY
7082: ST_TO_ADDR
// y := start_def [ pos ] [ 2 ] ;
7083: LD_ADDR_VAR 0 6
7087: PUSH
7088: LD_EXP 83
7092: PUSH
7093: LD_VAR 0 2
7097: ARRAY
7098: PUSH
7099: LD_INT 2
7101: ARRAY
7102: ST_TO_ADDR
// for r in starting_crates do
7103: LD_ADDR_VAR 0 8
7107: PUSH
7108: LD_EXP 43
7112: PUSH
7113: FOR_IN
7114: IFFALSE 7146
// CreateResourcesXYR ( mat_cans , 5 , x , y , r , false ) ;
7116: LD_INT 1
7118: PPUSH
7119: LD_INT 5
7121: PPUSH
7122: LD_VAR 0 5
7126: PPUSH
7127: LD_VAR 0 6
7131: PPUSH
7132: LD_VAR 0 8
7136: PPUSH
7137: LD_INT 0
7139: PPUSH
7140: CALL_OW 60
7144: GO 7113
7146: POP
7147: POP
// if def_morale_flags then
7148: LD_EXP 20
7152: IFFALSE 7317
// if not def_WarForTerritory then
7154: LD_EXP 36
7158: NOT
7159: IFFALSE 7240
// battle_flags_id := battle_flags_id ^ SetBattleFlag ( side , x , y , [ [ bfo_defend_bonus_human , 100 ] , [ bfo_defend_bonus_vehicle , 50 ] , [ bfo_defend_bonus_building , 20 ] , [ bfo_height , 100 ] ] ) else
7161: LD_ADDR_EXP 89
7165: PUSH
7166: LD_EXP 89
7170: PUSH
7171: LD_VAR 0 1
7175: PPUSH
7176: LD_VAR 0 5
7180: PPUSH
7181: LD_VAR 0 6
7185: PPUSH
7186: LD_INT 1
7188: PUSH
7189: LD_INT 100
7191: PUSH
7192: EMPTY
7193: LIST
7194: LIST
7195: PUSH
7196: LD_INT 2
7198: PUSH
7199: LD_INT 50
7201: PUSH
7202: EMPTY
7203: LIST
7204: LIST
7205: PUSH
7206: LD_INT 3
7208: PUSH
7209: LD_INT 20
7211: PUSH
7212: EMPTY
7213: LIST
7214: LIST
7215: PUSH
7216: LD_INT 20
7218: PUSH
7219: LD_INT 100
7221: PUSH
7222: EMPTY
7223: LIST
7224: LIST
7225: PUSH
7226: EMPTY
7227: LIST
7228: LIST
7229: LIST
7230: LIST
7231: PPUSH
7232: CALL_OW 418
7236: ADD
7237: ST_TO_ADDR
7238: GO 7317
// battle_flags_id := battle_flags_id ^ SetBattleFlag ( side , x , y , [ [ bfo_defend_bonus_human , 200 ] , [ bfo_defend_bonus_vehicle , 100 ] , [ bfo_defend_bonus_building , 50 ] , [ bfo_height , 100 ] ] ) ;
7240: LD_ADDR_EXP 89
7244: PUSH
7245: LD_EXP 89
7249: PUSH
7250: LD_VAR 0 1
7254: PPUSH
7255: LD_VAR 0 5
7259: PPUSH
7260: LD_VAR 0 6
7264: PPUSH
7265: LD_INT 1
7267: PUSH
7268: LD_INT 200
7270: PUSH
7271: EMPTY
7272: LIST
7273: LIST
7274: PUSH
7275: LD_INT 2
7277: PUSH
7278: LD_INT 100
7280: PUSH
7281: EMPTY
7282: LIST
7283: LIST
7284: PUSH
7285: LD_INT 3
7287: PUSH
7288: LD_INT 50
7290: PUSH
7291: EMPTY
7292: LIST
7293: LIST
7294: PUSH
7295: LD_INT 20
7297: PUSH
7298: LD_INT 100
7300: PUSH
7301: EMPTY
7302: LIST
7303: LIST
7304: PUSH
7305: EMPTY
7306: LIST
7307: LIST
7308: LIST
7309: LIST
7310: PPUSH
7311: CALL_OW 418
7315: ADD
7316: ST_TO_ADDR
// if for_show_near_resources then
7317: LD_EXP 63
7321: IFFALSE 7455
// begin for i in for_show_near_resources [ pos ] [ 1 ] do
7323: LD_ADDR_VAR 0 7
7327: PUSH
7328: LD_EXP 63
7332: PUSH
7333: LD_VAR 0 2
7337: ARRAY
7338: PUSH
7339: LD_INT 1
7341: ARRAY
7342: PUSH
7343: FOR_IN
7344: IFFALSE 7375
// SetResourceVisibility ( i [ 1 ] , i [ 2 ] , side ) ;
7346: LD_VAR 0 7
7350: PUSH
7351: LD_INT 1
7353: ARRAY
7354: PPUSH
7355: LD_VAR 0 7
7359: PUSH
7360: LD_INT 2
7362: ARRAY
7363: PPUSH
7364: LD_VAR 0 1
7368: PPUSH
7369: CALL_OW 441
7373: GO 7343
7375: POP
7376: POP
// if def_siberite_detection and GetTech ( tech_sibdet , side ) = state_enabled then
7377: LD_EXP 28
7381: PUSH
7382: LD_INT 20
7384: PPUSH
7385: LD_VAR 0 1
7389: PPUSH
7390: CALL_OW 321
7394: PUSH
7395: LD_INT 1
7397: EQUAL
7398: AND
7399: IFFALSE 7455
// for i in for_show_near_resources [ pos ] [ 2 ] do
7401: LD_ADDR_VAR 0 7
7405: PUSH
7406: LD_EXP 63
7410: PUSH
7411: LD_VAR 0 2
7415: ARRAY
7416: PUSH
7417: LD_INT 2
7419: ARRAY
7420: PUSH
7421: FOR_IN
7422: IFFALSE 7453
// SetResourceVisibility ( i [ 1 ] , i [ 2 ] , side ) ;
7424: LD_VAR 0 7
7428: PUSH
7429: LD_INT 1
7431: ARRAY
7432: PPUSH
7433: LD_VAR 0 7
7437: PUSH
7438: LD_INT 2
7440: ARRAY
7441: PPUSH
7442: LD_VAR 0 1
7446: PPUSH
7447: CALL_OW 441
7451: GO 7421
7453: POP
7454: POP
// end ; bc_kind1 = b_lab_basic ;
7455: LD_ADDR_OWVAR 44
7459: PUSH
7460: LD_INT 9
7462: ST_TO_ADDR
// bc_kind2 = b_lab_basic ;
7463: LD_ADDR_OWVAR 45
7467: PUSH
7468: LD_INT 9
7470: ST_TO_ADDR
// for i in buildings_def [ pos ] do
7471: LD_ADDR_VAR 0 7
7475: PUSH
7476: LD_EXP 39
7480: PUSH
7481: LD_VAR 0 2
7485: ARRAY
7486: PUSH
7487: FOR_IN
7488: IFFALSE 7633
// begin if i [ 1 ] in [ b_oil_mine , b_siberite_mine ] then
7490: LD_VAR 0 7
7494: PUSH
7495: LD_INT 1
7497: ARRAY
7498: PUSH
7499: LD_INT 29
7501: PUSH
7502: LD_INT 30
7504: PUSH
7505: EMPTY
7506: LIST
7507: LIST
7508: IN
7509: IFFALSE 7538
// SetResourceVisibility ( i [ 2 ] , i [ 3 ] , side ) ;
7511: LD_VAR 0 7
7515: PUSH
7516: LD_INT 2
7518: ARRAY
7519: PPUSH
7520: LD_VAR 0 7
7524: PUSH
7525: LD_INT 3
7527: ARRAY
7528: PPUSH
7529: LD_VAR 0 1
7533: PPUSH
7534: CALL_OW 441
// bc_type = i [ 1 ] ;
7538: LD_ADDR_OWVAR 42
7542: PUSH
7543: LD_VAR 0 7
7547: PUSH
7548: LD_INT 1
7550: ARRAY
7551: ST_TO_ADDR
// CreateAndPlaceBuildingXYD ( i [ 2 ] , i [ 3 ] , i [ 4 ] ) ;
7552: LD_VAR 0 7
7556: PUSH
7557: LD_INT 2
7559: ARRAY
7560: PPUSH
7561: LD_VAR 0 7
7565: PUSH
7566: LD_INT 3
7568: ARRAY
7569: PPUSH
7570: LD_VAR 0 7
7574: PUSH
7575: LD_INT 4
7577: ARRAY
7578: PPUSH
7579: CALL_OW 47
// x := buildings_def [ pos ] [ 1 ] [ 2 ] ;
7583: LD_ADDR_VAR 0 5
7587: PUSH
7588: LD_EXP 39
7592: PUSH
7593: LD_VAR 0 2
7597: ARRAY
7598: PUSH
7599: LD_INT 1
7601: ARRAY
7602: PUSH
7603: LD_INT 2
7605: ARRAY
7606: ST_TO_ADDR
// y := buildings_def [ pos ] [ 1 ] [ 2 ] ;
7607: LD_ADDR_VAR 0 6
7611: PUSH
7612: LD_EXP 39
7616: PUSH
7617: LD_VAR 0 2
7621: ARRAY
7622: PUSH
7623: LD_INT 1
7625: ARRAY
7626: PUSH
7627: LD_INT 2
7629: ARRAY
7630: ST_TO_ADDR
// end ;
7631: GO 7487
7633: POP
7634: POP
// commander := true ;
7635: LD_ADDR_EXP 55
7639: PUSH
7640: LD_INT 1
7642: ST_TO_ADDR
// x := start_def [ pos ] [ 1 ] ;
7643: LD_ADDR_VAR 0 5
7647: PUSH
7648: LD_EXP 83
7652: PUSH
7653: LD_VAR 0 2
7657: ARRAY
7658: PUSH
7659: LD_INT 1
7661: ARRAY
7662: ST_TO_ADDR
// y := start_def [ pos ] [ 2 ] ;
7663: LD_ADDR_VAR 0 6
7667: PUSH
7668: LD_EXP 83
7672: PUSH
7673: LD_VAR 0 2
7677: ARRAY
7678: PUSH
7679: LD_INT 2
7681: ARRAY
7682: ST_TO_ADDR
// if def_classes then
7683: LD_EXP 14
7687: IFFALSE 7983
// begin neng := number_of_people ;
7689: LD_ADDR_VAR 0 12
7693: PUSH
7694: LD_EXP 40
7698: ST_TO_ADDR
// if nsol < neng div 4 then
7699: LD_VAR 0 15
7703: PUSH
7704: LD_VAR 0 12
7708: PUSH
7709: LD_INT 4
7711: DIV
7712: LESS
7713: IFFALSE 7729
// nsol := neng div 4 ;
7715: LD_ADDR_VAR 0 15
7719: PUSH
7720: LD_VAR 0 12
7724: PUSH
7725: LD_INT 4
7727: DIV
7728: ST_TO_ADDR
// neng := neng - nsol ;
7729: LD_ADDR_VAR 0 12
7733: PUSH
7734: LD_VAR 0 12
7738: PUSH
7739: LD_VAR 0 15
7743: MINUS
7744: ST_TO_ADDR
// nsci := neng div 3 ;
7745: LD_ADDR_VAR 0 13
7749: PUSH
7750: LD_VAR 0 12
7754: PUSH
7755: LD_INT 3
7757: DIV
7758: ST_TO_ADDR
// if nsci < 1 then
7759: LD_VAR 0 13
7763: PUSH
7764: LD_INT 1
7766: LESS
7767: IFFALSE 7777
// nsci := 1 ;
7769: LD_ADDR_VAR 0 13
7773: PUSH
7774: LD_INT 1
7776: ST_TO_ADDR
// neng := neng - nsci ;
7777: LD_ADDR_VAR 0 12
7781: PUSH
7782: LD_VAR 0 12
7786: PUSH
7787: LD_VAR 0 13
7791: MINUS
7792: ST_TO_ADDR
// nmech := neng div 2 ;
7793: LD_ADDR_VAR 0 14
7797: PUSH
7798: LD_VAR 0 12
7802: PUSH
7803: LD_INT 2
7805: DIV
7806: ST_TO_ADDR
// neng := neng - nmech ;
7807: LD_ADDR_VAR 0 12
7811: PUSH
7812: LD_VAR 0 12
7816: PUSH
7817: LD_VAR 0 14
7821: MINUS
7822: ST_TO_ADDR
// if neng < 1 then
7823: LD_VAR 0 12
7827: PUSH
7828: LD_INT 1
7830: LESS
7831: IFFALSE 7841
// neng := 1 ;
7833: LD_ADDR_VAR 0 12
7837: PUSH
7838: LD_INT 1
7840: ST_TO_ADDR
// prepare_people ( side , nsol , class_soldier , x , y , 5 , commander ) ;
7841: LD_VAR 0 1
7845: PPUSH
7846: LD_VAR 0 15
7850: PPUSH
7851: LD_INT 1
7853: PPUSH
7854: LD_VAR 0 5
7858: PPUSH
7859: LD_VAR 0 6
7863: PPUSH
7864: LD_INT 5
7866: PPUSH
7867: LD_ADDR_EXP 55
7871: PPUSH
7872: CALL 8529 0 7
// prepare_people ( side , neng , class_engineer , x , y , 5 , commander ) ;
7876: LD_VAR 0 1
7880: PPUSH
7881: LD_VAR 0 12
7885: PPUSH
7886: LD_INT 2
7888: PPUSH
7889: LD_VAR 0 5
7893: PPUSH
7894: LD_VAR 0 6
7898: PPUSH
7899: LD_INT 5
7901: PPUSH
7902: LD_ADDR_EXP 55
7906: PPUSH
7907: CALL 8529 0 7
// prepare_people ( side , nmech , class_mechanic , x , y , 5 , commander ) ;
7911: LD_VAR 0 1
7915: PPUSH
7916: LD_VAR 0 14
7920: PPUSH
7921: LD_INT 3
7923: PPUSH
7924: LD_VAR 0 5
7928: PPUSH
7929: LD_VAR 0 6
7933: PPUSH
7934: LD_INT 5
7936: PPUSH
7937: LD_ADDR_EXP 55
7941: PPUSH
7942: CALL 8529 0 7
// prepare_people ( side , nsci , class_scientistic , x , y , 5 , commander ) ;
7946: LD_VAR 0 1
7950: PPUSH
7951: LD_VAR 0 13
7955: PPUSH
7956: LD_INT 4
7958: PPUSH
7959: LD_VAR 0 5
7963: PPUSH
7964: LD_VAR 0 6
7968: PPUSH
7969: LD_INT 5
7971: PPUSH
7972: LD_ADDR_EXP 55
7976: PPUSH
7977: CALL 8529 0 7
// end else
7981: GO 8055
// begin prepare_people ( side , number_of_people - 1 , 0 , x , y , 5 , commander ) ;
7983: LD_VAR 0 1
7987: PPUSH
7988: LD_EXP 40
7992: PUSH
7993: LD_INT 1
7995: MINUS
7996: PPUSH
7997: LD_INT 0
7999: PPUSH
8000: LD_VAR 0 5
8004: PPUSH
8005: LD_VAR 0 6
8009: PPUSH
8010: LD_INT 5
8012: PPUSH
8013: LD_ADDR_EXP 55
8017: PPUSH
8018: CALL 8529 0 7
// prepare_people ( side , 1 , class_engineer , x , y , 5 , commander ) ;
8022: LD_VAR 0 1
8026: PPUSH
8027: LD_INT 1
8029: PPUSH
8030: LD_INT 2
8032: PPUSH
8033: LD_VAR 0 5
8037: PPUSH
8038: LD_VAR 0 6
8042: PPUSH
8043: LD_INT 5
8045: PPUSH
8046: LD_ADDR_EXP 55
8050: PPUSH
8051: CALL 8529 0 7
// end ; if number_of_apemen then
8055: LD_EXP 41
8059: IFFALSE 8417
// begin uc_nation = nation_nature ;
8061: LD_ADDR_OWVAR 21
8065: PUSH
8066: LD_INT 0
8068: ST_TO_ADDR
// prepare_people ( side , number_of_apemen , class_apeman , x , y , 5 , commander ) ;
8069: LD_VAR 0 1
8073: PPUSH
8074: LD_EXP 41
8078: PPUSH
8079: LD_INT 12
8081: PPUSH
8082: LD_VAR 0 5
8086: PPUSH
8087: LD_VAR 0 6
8091: PPUSH
8092: LD_INT 5
8094: PPUSH
8095: LD_ADDR_EXP 55
8099: PPUSH
8100: CALL 8529 0 7
// uc_nation = nation ;
8104: LD_ADDR_OWVAR 21
8108: PUSH
8109: LD_VAR 0 3
8113: ST_TO_ADDR
// case nation of 1 :
8114: LD_VAR 0 3
8118: PUSH
8119: LD_INT 1
8121: DOUBLE
8122: EQUAL
8123: IFTRUE 8127
8125: GO 8196
8127: POP
// begin if GetTech ( tech_ApeLang , side ) = state_enabled then
8128: LD_INT 1
8130: PPUSH
8131: LD_VAR 0 1
8135: PPUSH
8136: CALL_OW 321
8140: PUSH
8141: LD_INT 1
8143: EQUAL
8144: IFFALSE 8161
// SetTech ( tech_ApeLang , side , state_researched ) ;
8146: LD_INT 1
8148: PPUSH
8149: LD_VAR 0 1
8153: PPUSH
8154: LD_INT 2
8156: PPUSH
8157: CALL_OW 322
// if GetTech ( tech_ApePsych , side ) = state_enabled then
8161: LD_INT 2
8163: PPUSH
8164: LD_VAR 0 1
8168: PPUSH
8169: CALL_OW 321
8173: PUSH
8174: LD_INT 1
8176: EQUAL
8177: IFFALSE 8194
// SetTech ( tech_ApePsych , side , state_researched ) ;
8179: LD_INT 2
8181: PPUSH
8182: LD_VAR 0 1
8186: PPUSH
8187: LD_INT 2
8189: PPUSH
8190: CALL_OW 322
// end ; 2 :
8194: GO 8417
8196: LD_INT 2
8198: DOUBLE
8199: EQUAL
8200: IFTRUE 8204
8202: GO 8306
8204: POP
// begin if GetTech ( tech_ApeLang , side ) = state_enabled then
8205: LD_INT 1
8207: PPUSH
8208: LD_VAR 0 1
8212: PPUSH
8213: CALL_OW 321
8217: PUSH
8218: LD_INT 1
8220: EQUAL
8221: IFFALSE 8238
// SetTech ( tech_ApeLang , side , state_researched ) ;
8223: LD_INT 1
8225: PPUSH
8226: LD_VAR 0 1
8230: PPUSH
8231: LD_INT 2
8233: PPUSH
8234: CALL_OW 322
// if GetTech ( tech_ApeAgres , side ) = state_enabled then
8238: LD_INT 11
8240: PPUSH
8241: LD_VAR 0 1
8245: PPUSH
8246: CALL_OW 321
8250: PUSH
8251: LD_INT 1
8253: EQUAL
8254: IFFALSE 8271
// SetTech ( tech_ApeAgres , side , state_researched ) ;
8256: LD_INT 11
8258: PPUSH
8259: LD_VAR 0 1
8263: PPUSH
8264: LD_INT 2
8266: PPUSH
8267: CALL_OW 322
// if GetTech ( tech_ApeNeural , side ) = state_enabled then
8271: LD_INT 3
8273: PPUSH
8274: LD_VAR 0 1
8278: PPUSH
8279: CALL_OW 321
8283: PUSH
8284: LD_INT 1
8286: EQUAL
8287: IFFALSE 8304
// SetTech ( tech_ApeNeural , side , state_researched ) ;
8289: LD_INT 3
8291: PPUSH
8292: LD_VAR 0 1
8296: PPUSH
8297: LD_INT 2
8299: PPUSH
8300: CALL_OW 322
// end ; 3 :
8304: GO 8417
8306: LD_INT 3
8308: DOUBLE
8309: EQUAL
8310: IFTRUE 8314
8312: GO 8416
8314: POP
// begin if GetTech ( tech_ApeLang , side ) = state_enabled then
8315: LD_INT 1
8317: PPUSH
8318: LD_VAR 0 1
8322: PPUSH
8323: CALL_OW 321
8327: PUSH
8328: LD_INT 1
8330: EQUAL
8331: IFFALSE 8348
// SetTech ( tech_ApeLang , side , state_researched ) ;
8333: LD_INT 1
8335: PPUSH
8336: LD_VAR 0 1
8340: PPUSH
8341: LD_INT 2
8343: PPUSH
8344: CALL_OW 322
// if GetTech ( tech_ApePsych , side ) = state_enabled then
8348: LD_INT 2
8350: PPUSH
8351: LD_VAR 0 1
8355: PPUSH
8356: CALL_OW 321
8360: PUSH
8361: LD_INT 1
8363: EQUAL
8364: IFFALSE 8381
// SetTech ( tech_ApePsych , side , state_researched ) ;
8366: LD_INT 2
8368: PPUSH
8369: LD_VAR 0 1
8373: PPUSH
8374: LD_INT 2
8376: PPUSH
8377: CALL_OW 322
// if GetTech ( tech_ApeAgres , side ) = state_enabled then
8381: LD_INT 11
8383: PPUSH
8384: LD_VAR 0 1
8388: PPUSH
8389: CALL_OW 321
8393: PUSH
8394: LD_INT 1
8396: EQUAL
8397: IFFALSE 8414
// SetTech ( tech_ApeAgres , side , state_researched ) ;
8399: LD_INT 11
8401: PPUSH
8402: LD_VAR 0 1
8406: PPUSH
8407: LD_INT 2
8409: PPUSH
8410: CALL_OW 322
// end ; end ;
8414: GO 8417
8416: POP
// end ; if def_desert_warior = 2 and nation = nation_arabian then
8417: LD_EXP 31
8421: PUSH
8422: LD_INT 2
8424: EQUAL
8425: PUSH
8426: LD_VAR 0 3
8430: PUSH
8431: LD_INT 2
8433: EQUAL
8434: AND
8435: IFFALSE 8470
// prepare_people ( side , 1 , class_desert_warior , x , y , 5 , commander ) ;
8437: LD_VAR 0 1
8441: PPUSH
8442: LD_INT 1
8444: PPUSH
8445: LD_INT 11
8447: PPUSH
8448: LD_VAR 0 5
8452: PPUSH
8453: LD_VAR 0 6
8457: PPUSH
8458: LD_INT 5
8460: PPUSH
8461: LD_ADDR_EXP 55
8465: PPUSH
8466: CALL 8529 0 7
// if not global_defined then
8470: LD_EXP 94
8474: NOT
8475: IFFALSE 8485
// global_defined := true ;
8477: LD_ADDR_EXP 94
8481: PUSH
8482: LD_INT 1
8484: ST_TO_ADDR
// if def_siberite_detection and GetTech ( tech_sibdet , side ) = state_enabled then
8485: LD_EXP 28
8489: PUSH
8490: LD_INT 20
8492: PPUSH
8493: LD_VAR 0 1
8497: PPUSH
8498: CALL_OW 321
8502: PUSH
8503: LD_INT 1
8505: EQUAL
8506: AND
8507: IFFALSE 8524
// SetTech ( tech_SibDet , side , state_researched ) ;
8509: LD_INT 20
8511: PPUSH
8512: LD_VAR 0 1
8516: PPUSH
8517: LD_INT 2
8519: PPUSH
8520: CALL_OW 322
// end ;
8524: LD_VAR 0 4
8528: RET
// export function prepare_people ( side , count , pre_cl , x , y , r , var commander ) ; var i , j , un , cl ; begin
8529: LD_INT 0
8531: PPUSH
8532: PPUSH
8533: PPUSH
8534: PPUSH
8535: PPUSH
// for i := 1 to count do
8536: LD_ADDR_VAR 0 9
8540: PUSH
8541: DOUBLE
8542: LD_INT 1
8544: DEC
8545: ST_TO_ADDR
8546: LD_VAR 0 2
8550: PUSH
8551: FOR_TO
8552: IFFALSE 9156
// begin global_count = global_count + 1 ;
8554: LD_ADDR_EXP 96
8558: PUSH
8559: LD_EXP 96
8563: PUSH
8564: LD_INT 1
8566: PLUS
8567: ST_TO_ADDR
// if not def_classes and global_count <= global_classes then
8568: LD_EXP 14
8572: NOT
8573: PUSH
8574: LD_EXP 96
8578: PUSH
8579: LD_EXP 97
8583: LESSEQUAL
8584: AND
8585: IFFALSE 8605
// cl = global_classes [ global_count ] else
8587: LD_ADDR_VAR 0 12
8591: PUSH
8592: LD_EXP 97
8596: PUSH
8597: LD_EXP 96
8601: ARRAY
8602: ST_TO_ADDR
8603: GO 8643
// if pre_cl = 0 then
8605: LD_VAR 0 3
8609: PUSH
8610: LD_INT 0
8612: EQUAL
8613: IFFALSE 8633
// cl = rand ( 1 , 4 ) else
8615: LD_ADDR_VAR 0 12
8619: PUSH
8620: LD_INT 1
8622: PPUSH
8623: LD_INT 4
8625: PPUSH
8626: CALL_OW 12
8630: ST_TO_ADDR
8631: GO 8643
// cl = pre_cl ;
8633: LD_ADDR_VAR 0 12
8637: PUSH
8638: LD_VAR 0 3
8642: ST_TO_ADDR
// uc_direction := Rand ( 0 , 5 ) ;
8643: LD_ADDR_OWVAR 24
8647: PUSH
8648: LD_INT 0
8650: PPUSH
8651: LD_INT 5
8653: PPUSH
8654: CALL_OW 12
8658: ST_TO_ADDR
// if commander then
8659: LD_FROM_VAR 0 7
8663: IFFALSE 8792
// begin hc_name := mp_sides_players_names [ side ] ;
8665: LD_ADDR_OWVAR 26
8669: PUSH
8670: LD_OWVAR 19
8674: PUSH
8675: LD_VAR 0 1
8679: ARRAY
8680: ST_TO_ADDR
// PrepareHuman ( Rand ( 1 , 2 ) , cl , initial_level + 2 ) ;
8681: LD_INT 1
8683: PPUSH
8684: LD_INT 2
8686: PPUSH
8687: CALL_OW 12
8691: PPUSH
8692: LD_VAR 0 12
8696: PPUSH
8697: LD_EXP 42
8701: PUSH
8702: LD_INT 2
8704: PLUS
8705: PPUSH
8706: CALL_OW 380
// if def_desert_warior = 1 and uc_nation = nation_arabian then
8710: LD_EXP 31
8714: PUSH
8715: LD_INT 1
8717: EQUAL
8718: PUSH
8719: LD_OWVAR 21
8723: PUSH
8724: LD_INT 2
8726: EQUAL
8727: AND
8728: IFFALSE 8738
// hc_class = class_desert_warior ;
8730: LD_ADDR_OWVAR 28
8734: PUSH
8735: LD_INT 11
8737: ST_TO_ADDR
// hc_importance := 105 ;
8738: LD_ADDR_OWVAR 32
8742: PUSH
8743: LD_INT 105
8745: ST_TO_ADDR
// if Multiplayer then
8746: LD_OWVAR 4
8750: IFFALSE 8790
// begin hc_gallery := MULTIAVATARS ;
8752: LD_ADDR_OWVAR 33
8756: PUSH
8757: LD_STRING MULTIAVATARS
8759: ST_TO_ADDR
// hc_face_number := Multiplayer_GetPlayerSideNum ( Side ) ;
8760: LD_ADDR_OWVAR 34
8764: PUSH
8765: LD_VAR 0 1
8769: PPUSH
8770: CALL_OW 525
8774: ST_TO_ADDR
// hc_sex := Multiplayer_GetPlayerSex ( Side ) ;
8775: LD_ADDR_OWVAR 27
8779: PUSH
8780: LD_VAR 0 1
8784: PPUSH
8785: CALL_OW 526
8789: ST_TO_ADDR
// end ; end else
8790: GO 8898
// begin hc_name :=  ;
8792: LD_ADDR_OWVAR 26
8796: PUSH
8797: LD_STRING 
8799: ST_TO_ADDR
// if cl = class_desert_warior then
8800: LD_VAR 0 12
8804: PUSH
8805: LD_INT 11
8807: EQUAL
8808: IFFALSE 8843
// begin PrepareHuman ( rand ( 1 , 2 ) , class_soldier , initial_level ) ;
8810: LD_INT 1
8812: PPUSH
8813: LD_INT 2
8815: PPUSH
8816: CALL_OW 12
8820: PPUSH
8821: LD_INT 1
8823: PPUSH
8824: LD_EXP 42
8828: PPUSH
8829: CALL_OW 380
// hc_class = class_desert_warior end else
8833: LD_ADDR_OWVAR 28
8837: PUSH
8838: LD_INT 11
8840: ST_TO_ADDR
8841: GO 8868
// PrepareHuman ( rand ( 1 , 2 ) , cl , initial_level ) ;
8843: LD_INT 1
8845: PPUSH
8846: LD_INT 2
8848: PPUSH
8849: CALL_OW 12
8853: PPUSH
8854: LD_VAR 0 12
8858: PPUSH
8859: LD_EXP 42
8863: PPUSH
8864: CALL_OW 380
// hc_importance := 0 ;
8868: LD_ADDR_OWVAR 32
8872: PUSH
8873: LD_INT 0
8875: ST_TO_ADDR
// if Multiplayer then
8876: LD_OWVAR 4
8880: IFFALSE 8898
// begin hc_gallery :=  ;
8882: LD_ADDR_OWVAR 33
8886: PUSH
8887: LD_STRING 
8889: ST_TO_ADDR
// hc_face_number := 0 ;
8890: LD_ADDR_OWVAR 34
8894: PUSH
8895: LD_INT 0
8897: ST_TO_ADDR
// end ; end ; if hc_class = class_desert_warior then
8898: LD_OWVAR 28
8902: PUSH
8903: LD_INT 11
8905: EQUAL
8906: IFFALSE 8916
// hc_importance := 100 ;
8908: LD_ADDR_OWVAR 32
8912: PUSH
8913: LD_INT 100
8915: ST_TO_ADDR
// un := CreateHuman ;
8916: LD_ADDR_VAR 0 11
8920: PUSH
8921: CALL_OW 44
8925: ST_TO_ADDR
// if global_count <= global_units then
8926: LD_EXP 96
8930: PUSH
8931: LD_EXP 93
8935: LESSEQUAL
8936: IFFALSE 9020
// begin CopySkills ( global_units [ global_count ] , un ) ;
8938: LD_EXP 93
8942: PUSH
8943: LD_EXP 96
8947: ARRAY
8948: PPUSH
8949: LD_VAR 0 11
8953: PPUSH
8954: CALL_OW 510
// SetAttr ( un , attr_speed , GetAttr ( global_units [ global_count ] , attr_speed ) ) ;
8958: LD_VAR 0 11
8962: PPUSH
8963: LD_INT 2
8965: PPUSH
8966: LD_EXP 93
8970: PUSH
8971: LD_EXP 96
8975: ARRAY
8976: PPUSH
8977: LD_INT 2
8979: PPUSH
8980: CALL_OW 260
8984: PPUSH
8985: CALL_OW 239
// SetAttr ( un , attr_stamina , GetAttr ( global_units [ global_count ] , attr_stamina ) ) ;
8989: LD_VAR 0 11
8993: PPUSH
8994: LD_INT 1
8996: PPUSH
8997: LD_EXP 93
9001: PUSH
9002: LD_EXP 96
9006: ARRAY
9007: PPUSH
9008: LD_INT 1
9010: PPUSH
9011: CALL_OW 260
9015: PPUSH
9016: CALL_OW 239
// end ; PlaceUnitXYR ( un , x , y , r , false ) ;
9020: LD_VAR 0 11
9024: PPUSH
9025: LD_VAR 0 4
9029: PPUSH
9030: LD_VAR 0 5
9034: PPUSH
9035: LD_VAR 0 6
9039: PPUSH
9040: LD_INT 0
9042: PPUSH
9043: CALL_OW 50
// if global_classes < global_count then
9047: LD_EXP 97
9051: PUSH
9052: LD_EXP 96
9056: LESS
9057: IFFALSE 9075
// global_classes = global_classes ^ cl ;
9059: LD_ADDR_EXP 97
9063: PUSH
9064: LD_EXP 97
9068: PUSH
9069: LD_VAR 0 12
9073: ADD
9074: ST_TO_ADDR
// if global_units < global_count then
9075: LD_EXP 93
9079: PUSH
9080: LD_EXP 96
9084: LESS
9085: IFFALSE 9103
// global_units = global_units ^ un ;
9087: LD_ADDR_EXP 93
9091: PUSH
9092: LD_EXP 93
9096: PUSH
9097: LD_VAR 0 11
9101: ADD
9102: ST_TO_ADDR
// if commander then
9103: LD_FROM_VAR 0 7
9107: IFFALSE 9154
// begin heroes = replace ( heroes , side , heroes [ side ] ^ un ) ;
9109: LD_ADDR_EXP 50
9113: PUSH
9114: LD_EXP 50
9118: PPUSH
9119: LD_VAR 0 1
9123: PPUSH
9124: LD_EXP 50
9128: PUSH
9129: LD_VAR 0 1
9133: ARRAY
9134: PUSH
9135: LD_VAR 0 11
9139: ADD
9140: PPUSH
9141: CALL_OW 1
9145: ST_TO_ADDR
// commander := false ;
9146: LD_VAR 0 7
9150: PUSH
9151: LD_INT 0
9153: ST_TO_ADDR
// end ; end ;
9154: GO 8551
9156: POP
9157: POP
// end ;
9158: LD_VAR 0 8
9162: RET
// export function mastodonti ; var i , c , k ; begin
9163: LD_INT 0
9165: PPUSH
9166: PPUSH
9167: PPUSH
9168: PPUSH
// if def_desert_warior then
9169: LD_EXP 31
9173: IFFALSE 9238
// begin c = FilterAllUnits ( [ [ f_class , class_desert_warior ] ] ) ;
9175: LD_ADDR_VAR 0 3
9179: PUSH
9180: LD_INT 25
9182: PUSH
9183: LD_INT 11
9185: PUSH
9186: EMPTY
9187: LIST
9188: LIST
9189: PUSH
9190: EMPTY
9191: LIST
9192: PPUSH
9193: CALL_OW 69
9197: ST_TO_ADDR
// if c then
9198: LD_VAR 0 3
9202: IFFALSE 9234
// for c = 1 to c + 0 do
9204: LD_ADDR_VAR 0 3
9208: PUSH
9209: DOUBLE
9210: LD_INT 1
9212: DEC
9213: ST_TO_ADDR
9214: LD_VAR 0 3
9218: PUSH
9219: LD_INT 0
9221: PLUS
9222: PUSH
9223: FOR_TO
9224: IFFALSE 9232
// begin comms_mastodont ;
9226: CALL 9243 0 0
// end ;
9230: GO 9223
9232: POP
9233: POP
// comms_mastodont ;
9234: CALL 9243 0 0
// end ; end ;
9238: LD_VAR 0 1
9242: RET
// export function comms_mastodont ; var un ; begin
9243: LD_INT 0
9245: PPUSH
9246: PPUSH
// uc_nation := 0 ;
9247: LD_ADDR_OWVAR 21
9251: PUSH
9252: LD_INT 0
9254: ST_TO_ADDR
// uc_side := nation_nature ;
9255: LD_ADDR_OWVAR 20
9259: PUSH
9260: LD_INT 0
9262: ST_TO_ADDR
// vc_chassis = 31 ;
9263: LD_ADDR_OWVAR 37
9267: PUSH
9268: LD_INT 31
9270: ST_TO_ADDR
// un := createvehicle ;
9271: LD_ADDR_VAR 0 2
9275: PUSH
9276: CALL_OW 45
9280: ST_TO_ADDR
// PlaceUnitArea ( un , stred , false ) ;
9281: LD_VAR 0 2
9285: PPUSH
9286: LD_INT 30
9288: PPUSH
9289: LD_INT 0
9291: PPUSH
9292: CALL_OW 49
// end ;
9296: LD_VAR 0 1
9300: RET
// every 0 0$1 marked 31 do var i ;
9301: GO 9303
9303: DISABLE
9304: LD_INT 0
9306: PPUSH
// begin if not tech_level = 8 then
9307: LD_EXP 56
9311: PUSH
9312: LD_INT 8
9314: EQUAL
9315: NOT
9316: IFFALSE 9320
// exit ;
9318: GO 9339
// if siberite_bomb_delay then
9320: LD_EXP 67
9324: IFFALSE 9335
// wait ( siberite_bomb_Delay ) ;
9326: LD_EXP 67
9330: PPUSH
9331: CALL_OW 67
// EnableSibFiss ;
9335: CALL 9342 0 0
// end ;
9339: PPOPN 1
9341: END
// function EnableSibFiss ( ) ; var side , narodnost ; begin
9342: LD_INT 0
9344: PPUSH
9345: PPUSH
9346: PPUSH
// for side = 1 to side_positions + 0 do
9347: LD_ADDR_VAR 0 2
9351: PUSH
9352: DOUBLE
9353: LD_INT 1
9355: DEC
9356: ST_TO_ADDR
9357: LD_EXP 75
9361: PUSH
9362: LD_INT 0
9364: PLUS
9365: PUSH
9366: FOR_TO
9367: IFFALSE 9413
// if Side_Positions [ side ] then
9369: LD_EXP 75
9373: PUSH
9374: LD_VAR 0 2
9378: ARRAY
9379: IFFALSE 9411
// begin SetTech ( tech_SibFiss , side , state_enabled ) ;
9381: LD_INT 25
9383: PPUSH
9384: LD_VAR 0 2
9388: PPUSH
9389: LD_INT 1
9391: PPUSH
9392: CALL_OW 322
// SetTech ( 73 , side , state_enabled ) ;
9396: LD_INT 73
9398: PPUSH
9399: LD_VAR 0 2
9403: PPUSH
9404: LD_INT 1
9406: PPUSH
9407: CALL_OW 322
// end ;
9411: GO 9366
9413: POP
9414: POP
// Tech_Level = 8 ;
9415: LD_ADDR_EXP 56
9419: PUSH
9420: LD_INT 8
9422: ST_TO_ADDR
// end ;
9423: LD_VAR 0 1
9427: RET
// export function Start_Zvirata ; begin
9428: LD_INT 0
9430: PPUSH
// if def_amount_of_apemen > 0 then
9431: LD_EXP 22
9435: PUSH
9436: LD_INT 0
9438: GREATER
9439: IFFALSE 9448
// begin StartApe ;
9441: CALL 15144 0 0
// enable ( 493 ) ;
9445: LD_INT 493
9447: ENABLE_MARKED
// end ; if def_amount_of_tiger > 0 then
9448: LD_EXP 23
9452: PUSH
9453: LD_INT 0
9455: GREATER
9456: IFFALSE 9465
// begin StartTig ;
9458: CALL 15894 0 0
// enable ( 494 ) ;
9462: LD_INT 494
9464: ENABLE_MARKED
// end ; end ;
9465: LD_VAR 0 1
9469: RET
// export function Disable_Standard_Games ; begin
9470: LD_INT 0
9472: PPUSH
// disable ( 2 ) ;
9473: LD_INT 2
9475: DISABLE_MARKED
// disable ( 3 ) ;
9476: LD_INT 3
9478: DISABLE_MARKED
// disable ( 4 ) ;
9479: LD_INT 4
9481: DISABLE_MARKED
// disable ( 30 ) ;
9482: LD_INT 30
9484: DISABLE_MARKED
// disable ( 31 ) ;
9485: LD_INT 31
9487: DISABLE_MARKED
// disable ( 60 ) ;
9488: LD_INT 60
9490: DISABLE_MARKED
// disable ( 98 ) ;
9491: LD_INT 98
9493: DISABLE_MARKED
// disable ( 99 ) ;
9494: LD_INT 99
9496: DISABLE_MARKED
// disable ( 100 ) ;
9497: LD_INT 100
9499: DISABLE_MARKED
// disable ( 400 ) ;
9500: LD_INT 400
9502: DISABLE_MARKED
// disable ( 401 ) ;
9503: LD_INT 401
9505: DISABLE_MARKED
// disable ( 493 ) ;
9506: LD_INT 493
9508: DISABLE_MARKED
// disable ( 494 ) ;
9509: LD_INT 494
9511: DISABLE_MARKED
// disable ( 600 ) end ; end_of_file
9512: LD_INT 600
9514: DISABLE_MARKED
9515: LD_VAR 0 1
9519: RET
// export oblasti_beden , start_oblasti_beden , dalsi_oblasti_beden , koof_bedny ; var kontrolni_pocet ; every 1 1$0 + 0 0$1 do
9520: GO 9522
9522: DISABLE
// begin if game_type = GT_Survival then
9523: LD_EXP 1
9527: PUSH
9528: LD_EXP 6
9532: EQUAL
9533: IFFALSE 9537
// exit ;
9535: GO 9556
// CreateCratesAnywhere ( Rand ( 1 , 2 ) , true ) ;
9537: LD_INT 1
9539: PPUSH
9540: LD_INT 2
9542: PPUSH
9543: CALL_OW 12
9547: PPUSH
9548: LD_INT 1
9550: PPUSH
9551: CALL_OW 57
// enable ;
9555: ENABLE
// end ;
9556: END
// every 0 0$20 do var i , d , shipment , tictac , k , p ;
9557: GO 9559
9559: DISABLE
9560: LD_INT 0
9562: PPUSH
9563: PPUSH
9564: PPUSH
9565: PPUSH
9566: PPUSH
9567: PPUSH
// begin if game_type in GT_Survival then
9568: LD_EXP 1
9572: PUSH
9573: LD_EXP 6
9577: IN
9578: IFFALSE 9582
// exit ;
9580: GO 10478
// shipment := Rand ( 0 , 3 ) ;
9582: LD_ADDR_VAR 0 3
9586: PUSH
9587: LD_INT 0
9589: PPUSH
9590: LD_INT 3
9592: PPUSH
9593: CALL_OW 12
9597: ST_TO_ADDR
// tictac := 0 ;
9598: LD_ADDR_VAR 0 4
9602: PUSH
9603: LD_INT 0
9605: ST_TO_ADDR
// case tick of 1 .. 2 2$0 :
9606: LD_OWVAR 1
9610: PUSH
9611: LD_INT 1
9613: DOUBLE
9614: GREATEREQUAL
9615: IFFALSE 9623
9617: LD_INT 4200
9619: DOUBLE
9620: LESSEQUAL
9621: IFTRUE 9625
9623: GO 9636
9625: POP
// d := 150 ; 2 2$0 + 1 .. 4 4$0 :
9626: LD_ADDR_VAR 0 2
9630: PUSH
9631: LD_INT 150
9633: ST_TO_ADDR
9634: GO 9819
9636: LD_INT 4200
9638: PUSH
9639: LD_INT 1
9641: PLUS
9642: DOUBLE
9643: GREATEREQUAL
9644: IFFALSE 9652
9646: LD_INT 8400
9648: DOUBLE
9649: LESSEQUAL
9650: IFTRUE 9654
9652: GO 9665
9654: POP
// d := 120 ; 4 4$0 + 1 .. 6 6$0 :
9655: LD_ADDR_VAR 0 2
9659: PUSH
9660: LD_INT 120
9662: ST_TO_ADDR
9663: GO 9819
9665: LD_INT 8400
9667: PUSH
9668: LD_INT 1
9670: PLUS
9671: DOUBLE
9672: GREATEREQUAL
9673: IFFALSE 9681
9675: LD_INT 12600
9677: DOUBLE
9678: LESSEQUAL
9679: IFTRUE 9683
9681: GO 9694
9683: POP
// d := 100 ; 6 6$0 + 1 .. 7 7$0 :
9684: LD_ADDR_VAR 0 2
9688: PUSH
9689: LD_INT 100
9691: ST_TO_ADDR
9692: GO 9819
9694: LD_INT 12600
9696: PUSH
9697: LD_INT 1
9699: PLUS
9700: DOUBLE
9701: GREATEREQUAL
9702: IFFALSE 9710
9704: LD_INT 14700
9706: DOUBLE
9707: LESSEQUAL
9708: IFTRUE 9712
9710: GO 9723
9712: POP
// d := 80 ; 7 7$0 + 1 .. 9 9$0 :
9713: LD_ADDR_VAR 0 2
9717: PUSH
9718: LD_INT 80
9720: ST_TO_ADDR
9721: GO 9819
9723: LD_INT 14700
9725: PUSH
9726: LD_INT 1
9728: PLUS
9729: DOUBLE
9730: GREATEREQUAL
9731: IFFALSE 9739
9733: LD_INT 18900
9735: DOUBLE
9736: LESSEQUAL
9737: IFTRUE 9741
9739: GO 9752
9741: POP
// d := 70 ; 9 9$0 + 1 .. 15 15$0 :
9742: LD_ADDR_VAR 0 2
9746: PUSH
9747: LD_INT 70
9749: ST_TO_ADDR
9750: GO 9819
9752: LD_INT 18900
9754: PUSH
9755: LD_INT 1
9757: PLUS
9758: DOUBLE
9759: GREATEREQUAL
9760: IFFALSE 9768
9762: LD_INT 31500
9764: DOUBLE
9765: LESSEQUAL
9766: IFTRUE 9770
9768: GO 9781
9770: POP
// d := 45 ; 15 15$0 + 1 .. 30 30$0 :
9771: LD_ADDR_VAR 0 2
9775: PUSH
9776: LD_INT 45
9778: ST_TO_ADDR
9779: GO 9819
9781: LD_INT 31500
9783: PUSH
9784: LD_INT 1
9786: PLUS
9787: DOUBLE
9788: GREATEREQUAL
9789: IFFALSE 9797
9791: LD_INT 63000
9793: DOUBLE
9794: LESSEQUAL
9795: IFTRUE 9799
9797: GO 9810
9799: POP
// d := 30 ; else
9800: LD_ADDR_VAR 0 2
9804: PUSH
9805: LD_INT 30
9807: ST_TO_ADDR
9808: GO 9819
9810: POP
// d := 20 ; end ;
9811: LD_ADDR_VAR 0 2
9815: PUSH
9816: LD_INT 20
9818: ST_TO_ADDR
// if GetResourceArea ( celamapa , mat_cans ) < ( 100 + shipments_density * koof_bedny ) then
9819: LD_INT 32
9821: PPUSH
9822: LD_INT 1
9824: PPUSH
9825: CALL_OW 287
9829: PUSH
9830: LD_INT 100
9832: PUSH
9833: LD_EXP 45
9837: PUSH
9838: LD_EXP 101
9842: MUL
9843: PLUS
9844: LESS
9845: IFFALSE 10477
// if rand ( 1 , 10000 ) <= d * shipments_density then
9847: LD_INT 1
9849: PPUSH
9850: LD_INT 10000
9852: PPUSH
9853: CALL_OW 12
9857: PUSH
9858: LD_VAR 0 2
9862: PUSH
9863: LD_EXP 45
9867: MUL
9868: LESSEQUAL
9869: IFFALSE 10113
// begin k = Rand ( 2 , 4 ) ;
9871: LD_ADDR_VAR 0 5
9875: PUSH
9876: LD_INT 2
9878: PPUSH
9879: LD_INT 4
9881: PPUSH
9882: CALL_OW 12
9886: ST_TO_ADDR
// if start_oblasti_beden then
9887: LD_EXP 99
9891: IFFALSE 9992
// begin for i := 1 to 8 do
9893: LD_ADDR_VAR 0 1
9897: PUSH
9898: DOUBLE
9899: LD_INT 1
9901: DEC
9902: ST_TO_ADDR
9903: LD_INT 8
9905: PUSH
9906: FOR_TO
9907: IFFALSE 9988
// if side_positions [ i ] <> 0 then
9909: LD_EXP 75
9913: PUSH
9914: LD_VAR 0 1
9918: ARRAY
9919: PUSH
9920: LD_INT 0
9922: NONEQUAL
9923: IFFALSE 9986
// for p in pozice_beden [ i ] do
9925: LD_ADDR_VAR 0 6
9929: PUSH
9930: LD_EXP 8
9934: PUSH
9935: LD_VAR 0 1
9939: ARRAY
9940: PUSH
9941: FOR_IN
9942: IFFALSE 9984
// begin CreateCratesArea ( k , start_oblasti_beden [ p ] , true ) ;
9944: LD_VAR 0 5
9948: PPUSH
9949: LD_EXP 99
9953: PUSH
9954: LD_VAR 0 6
9958: ARRAY
9959: PPUSH
9960: LD_INT 1
9962: PPUSH
9963: CALL_OW 55
// Wait ( rand ( 2 , 0 0$2 ) ) ;
9967: LD_INT 2
9969: PPUSH
9970: LD_INT 70
9972: PPUSH
9973: CALL_OW 12
9977: PPUSH
9978: CALL_OW 67
// end ;
9982: GO 9941
9984: POP
9985: POP
9986: GO 9906
9988: POP
9989: POP
// end else
9990: GO 10111
// begin for i := 1 to 8 do
9992: LD_ADDR_VAR 0 1
9996: PUSH
9997: DOUBLE
9998: LD_INT 1
10000: DEC
10001: ST_TO_ADDR
10002: LD_INT 8
10004: PUSH
10005: FOR_TO
10006: IFFALSE 10109
// if side_positions [ i ] <> 0 then
10008: LD_EXP 75
10012: PUSH
10013: LD_VAR 0 1
10017: ARRAY
10018: PUSH
10019: LD_INT 0
10021: NONEQUAL
10022: IFFALSE 10107
// for p in pozice_beden [ i ] do
10024: LD_ADDR_VAR 0 6
10028: PUSH
10029: LD_EXP 8
10033: PUSH
10034: LD_VAR 0 1
10038: ARRAY
10039: PUSH
10040: FOR_IN
10041: IFFALSE 10105
// begin CreateCratesXYR ( k , start_def [ p ] [ 1 ] , start_def [ p ] [ 2 ] , 20 , true ) ;
10043: LD_VAR 0 5
10047: PPUSH
10048: LD_EXP 83
10052: PUSH
10053: LD_VAR 0 6
10057: ARRAY
10058: PUSH
10059: LD_INT 1
10061: ARRAY
10062: PPUSH
10063: LD_EXP 83
10067: PUSH
10068: LD_VAR 0 6
10072: ARRAY
10073: PUSH
10074: LD_INT 2
10076: ARRAY
10077: PPUSH
10078: LD_INT 20
10080: PPUSH
10081: LD_INT 1
10083: PPUSH
10084: CALL_OW 56
// wait ( rand ( 2 , 0 0$2 ) ) ;
10088: LD_INT 2
10090: PPUSH
10091: LD_INT 70
10093: PPUSH
10094: CALL_OW 12
10098: PPUSH
10099: CALL_OW 67
// end ;
10103: GO 10040
10105: POP
10106: POP
10107: GO 10005
10109: POP
10110: POP
// end ; end else
10111: GO 10477
// if rand ( 1 , 10000 ) <= ( 150 - d ) * shipments_density then
10113: LD_INT 1
10115: PPUSH
10116: LD_INT 10000
10118: PPUSH
10119: CALL_OW 12
10123: PUSH
10124: LD_INT 150
10126: PUSH
10127: LD_VAR 0 2
10131: MINUS
10132: PUSH
10133: LD_EXP 45
10137: MUL
10138: LESSEQUAL
10139: IFFALSE 10477
// begin k := Rand ( 1 , 4 ) ;
10141: LD_ADDR_VAR 0 5
10145: PUSH
10146: LD_INT 1
10148: PPUSH
10149: LD_INT 4
10151: PPUSH
10152: CALL_OW 12
10156: ST_TO_ADDR
// wait ( rand ( 2 , 0 0$4 ) ) ;
10157: LD_INT 2
10159: PPUSH
10160: LD_INT 140
10162: PPUSH
10163: CALL_OW 12
10167: PPUSH
10168: CALL_OW 67
// if oblasti_beden then
10172: LD_EXP 98
10176: IFFALSE 10277
// begin for i := 1 to 8 do
10178: LD_ADDR_VAR 0 1
10182: PUSH
10183: DOUBLE
10184: LD_INT 1
10186: DEC
10187: ST_TO_ADDR
10188: LD_INT 8
10190: PUSH
10191: FOR_TO
10192: IFFALSE 10273
// if side_positions [ i ] <> 0 then
10194: LD_EXP 75
10198: PUSH
10199: LD_VAR 0 1
10203: ARRAY
10204: PUSH
10205: LD_INT 0
10207: NONEQUAL
10208: IFFALSE 10271
// for p in pozice_beden [ i ] do
10210: LD_ADDR_VAR 0 6
10214: PUSH
10215: LD_EXP 8
10219: PUSH
10220: LD_VAR 0 1
10224: ARRAY
10225: PUSH
10226: FOR_IN
10227: IFFALSE 10269
// begin CreateCratesArea ( k , oblasti_beden [ p ] , true ) ;
10229: LD_VAR 0 5
10233: PPUSH
10234: LD_EXP 98
10238: PUSH
10239: LD_VAR 0 6
10243: ARRAY
10244: PPUSH
10245: LD_INT 1
10247: PPUSH
10248: CALL_OW 55
// Wait ( rand ( 2 , 0 0$1 ) ) ;
10252: LD_INT 2
10254: PPUSH
10255: LD_INT 35
10257: PPUSH
10258: CALL_OW 12
10262: PPUSH
10263: CALL_OW 67
// end ;
10267: GO 10226
10269: POP
10270: POP
10271: GO 10191
10273: POP
10274: POP
// end else
10275: GO 10396
// begin for i := 1 to 8 do
10277: LD_ADDR_VAR 0 1
10281: PUSH
10282: DOUBLE
10283: LD_INT 1
10285: DEC
10286: ST_TO_ADDR
10287: LD_INT 8
10289: PUSH
10290: FOR_TO
10291: IFFALSE 10394
// if side_positions [ i ] <> 0 then
10293: LD_EXP 75
10297: PUSH
10298: LD_VAR 0 1
10302: ARRAY
10303: PUSH
10304: LD_INT 0
10306: NONEQUAL
10307: IFFALSE 10392
// for p in pozice_beden [ i ] do
10309: LD_ADDR_VAR 0 6
10313: PUSH
10314: LD_EXP 8
10318: PUSH
10319: LD_VAR 0 1
10323: ARRAY
10324: PUSH
10325: FOR_IN
10326: IFFALSE 10390
// begin CreateCratesXYR ( k , start_def [ p ] [ 1 ] , start_def [ p ] [ 2 ] , 20 , true ) ;
10328: LD_VAR 0 5
10332: PPUSH
10333: LD_EXP 83
10337: PUSH
10338: LD_VAR 0 6
10342: ARRAY
10343: PUSH
10344: LD_INT 1
10346: ARRAY
10347: PPUSH
10348: LD_EXP 83
10352: PUSH
10353: LD_VAR 0 6
10357: ARRAY
10358: PUSH
10359: LD_INT 2
10361: ARRAY
10362: PPUSH
10363: LD_INT 20
10365: PPUSH
10366: LD_INT 1
10368: PPUSH
10369: CALL_OW 56
// wait ( rand ( 2 , 0 0$2 ) ) ;
10373: LD_INT 2
10375: PPUSH
10376: LD_INT 70
10378: PPUSH
10379: CALL_OW 12
10383: PPUSH
10384: CALL_OW 67
// end ;
10388: GO 10325
10390: POP
10391: POP
10392: GO 10290
10394: POP
10395: POP
// end ; if dalsi_oblasti_beden then
10396: LD_EXP 100
10400: IFFALSE 10477
// for k in dalsi_oblasti_beden do
10402: LD_ADDR_VAR 0 5
10406: PUSH
10407: LD_EXP 100
10411: PUSH
10412: FOR_IN
10413: IFFALSE 10475
// for i := 1 to Rand ( 1 , 3 ) do
10415: LD_ADDR_VAR 0 1
10419: PUSH
10420: DOUBLE
10421: LD_INT 1
10423: DEC
10424: ST_TO_ADDR
10425: LD_INT 1
10427: PPUSH
10428: LD_INT 3
10430: PPUSH
10431: CALL_OW 12
10435: PUSH
10436: FOR_TO
10437: IFFALSE 10471
// begin CreateCratesArea ( Rand ( 3 , 5 ) , k , true ) ;
10439: LD_INT 3
10441: PPUSH
10442: LD_INT 5
10444: PPUSH
10445: CALL_OW 12
10449: PPUSH
10450: LD_VAR 0 5
10454: PPUSH
10455: LD_INT 1
10457: PPUSH
10458: CALL_OW 55
// Wait ( 2 ) ;
10462: LD_INT 2
10464: PPUSH
10465: CALL_OW 67
// end ;
10469: GO 10436
10471: POP
10472: POP
10473: GO 10412
10475: POP
10476: POP
// end ; enable ;
10477: ENABLE
// end ; end_of_file
10478: PPOPN 6
10480: END
// var respawn , inqueue , nation , nations , noposn ; export function init_respawn ; var i , pos ; begin
10481: LD_INT 0
10483: PPUSH
10484: PPUSH
10485: PPUSH
// nation := rand ( 1 , 3 ) ;
10486: LD_ADDR_LOC 4
10490: PUSH
10491: LD_INT 1
10493: PPUSH
10494: LD_INT 3
10496: PPUSH
10497: CALL_OW 12
10501: ST_TO_ADDR
// respawn := Rand ( 1 , 8 ) ;
10502: LD_ADDR_LOC 2
10506: PUSH
10507: LD_INT 1
10509: PPUSH
10510: LD_INT 8
10512: PPUSH
10513: CALL_OW 12
10517: ST_TO_ADDR
// Nations = [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
10518: LD_ADDR_LOC 5
10522: PUSH
10523: EMPTY
10524: PUSH
10525: EMPTY
10526: PUSH
10527: EMPTY
10528: PUSH
10529: EMPTY
10530: PUSH
10531: EMPTY
10532: PUSH
10533: EMPTY
10534: PUSH
10535: EMPTY
10536: PUSH
10537: EMPTY
10538: PUSH
10539: EMPTY
10540: LIST
10541: LIST
10542: LIST
10543: LIST
10544: LIST
10545: LIST
10546: LIST
10547: LIST
10548: ST_TO_ADDR
// inqueue := [ [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] ] ;
10549: LD_ADDR_LOC 3
10553: PUSH
10554: LD_INT 0
10556: PUSH
10557: LD_INT 0
10559: PUSH
10560: LD_INT 0
10562: PUSH
10563: EMPTY
10564: LIST
10565: LIST
10566: LIST
10567: PUSH
10568: LD_INT 0
10570: PUSH
10571: LD_INT 0
10573: PUSH
10574: LD_INT 0
10576: PUSH
10577: EMPTY
10578: LIST
10579: LIST
10580: LIST
10581: PUSH
10582: LD_INT 0
10584: PUSH
10585: LD_INT 0
10587: PUSH
10588: LD_INT 0
10590: PUSH
10591: EMPTY
10592: LIST
10593: LIST
10594: LIST
10595: PUSH
10596: LD_INT 0
10598: PUSH
10599: LD_INT 0
10601: PUSH
10602: LD_INT 0
10604: PUSH
10605: EMPTY
10606: LIST
10607: LIST
10608: LIST
10609: PUSH
10610: LD_INT 0
10612: PUSH
10613: LD_INT 0
10615: PUSH
10616: LD_INT 0
10618: PUSH
10619: EMPTY
10620: LIST
10621: LIST
10622: LIST
10623: PUSH
10624: LD_INT 0
10626: PUSH
10627: LD_INT 0
10629: PUSH
10630: LD_INT 0
10632: PUSH
10633: EMPTY
10634: LIST
10635: LIST
10636: LIST
10637: PUSH
10638: LD_INT 0
10640: PUSH
10641: LD_INT 0
10643: PUSH
10644: LD_INT 0
10646: PUSH
10647: EMPTY
10648: LIST
10649: LIST
10650: LIST
10651: PUSH
10652: LD_INT 0
10654: PUSH
10655: LD_INT 0
10657: PUSH
10658: LD_INT 0
10660: PUSH
10661: EMPTY
10662: LIST
10663: LIST
10664: LIST
10665: PUSH
10666: EMPTY
10667: LIST
10668: LIST
10669: LIST
10670: LIST
10671: LIST
10672: LIST
10673: LIST
10674: LIST
10675: ST_TO_ADDR
// for i := 1 to 8 do
10676: LD_ADDR_VAR 0 2
10680: PUSH
10681: DOUBLE
10682: LD_INT 1
10684: DEC
10685: ST_TO_ADDR
10686: LD_INT 8
10688: PUSH
10689: FOR_TO
10690: IFFALSE 10795
// if Side_Positions [ i ] then
10692: LD_EXP 75
10696: PUSH
10697: LD_VAR 0 2
10701: ARRAY
10702: IFFALSE 10793
// begin if Game_Type in GT_DoubleNat ^ GT_TripleNat then
10704: LD_EXP 1
10708: PUSH
10709: LD_EXP 3
10713: PUSH
10714: LD_EXP 5
10718: ADD
10719: IN
10720: IFFALSE 10759
// nations = replace ( nations , i , Position_Nations [ i ] diff 0 ) else
10722: LD_ADDR_LOC 5
10726: PUSH
10727: LD_LOC 5
10731: PPUSH
10732: LD_VAR 0 2
10736: PPUSH
10737: LD_EXP 52
10741: PUSH
10742: LD_VAR 0 2
10746: ARRAY
10747: PUSH
10748: LD_INT 0
10750: DIFF
10751: PPUSH
10752: CALL_OW 1
10756: ST_TO_ADDR
10757: GO 10793
// nations = replace ( nations , i , [ Side_Nations [ i ] ] ) ;
10759: LD_ADDR_LOC 5
10763: PUSH
10764: LD_LOC 5
10768: PPUSH
10769: LD_VAR 0 2
10773: PPUSH
10774: LD_EXP 76
10778: PUSH
10779: LD_VAR 0 2
10783: ARRAY
10784: PUSH
10785: EMPTY
10786: LIST
10787: PPUSH
10788: CALL_OW 1
10792: ST_TO_ADDR
// end ;
10793: GO 10689
10795: POP
10796: POP
// if Game_Type in GT_DoublePeople then
10797: LD_EXP 1
10801: PUSH
10802: LD_EXP 4
10806: IN
10807: IFFALSE 10825
// noposn = number_of_people * 2 else
10809: LD_ADDR_LOC 6
10813: PUSH
10814: LD_EXP 40
10818: PUSH
10819: LD_INT 2
10821: MUL
10822: ST_TO_ADDR
10823: GO 10835
// noposn = number_of_people ;
10825: LD_ADDR_LOC 6
10829: PUSH
10830: LD_EXP 40
10834: ST_TO_ADDR
// SetRespawningTime ( respawning_time_min , respawning_time_max , respawning_time_delay_min , respawning_time_delay_max ) ;
10835: LD_EXP 49
10839: PPUSH
10840: LD_EXP 51
10844: PPUSH
10845: LD_EXP 53
10849: PPUSH
10850: LD_EXP 54
10854: PPUSH
10855: CALL 11595 0 4
// end ;
10859: LD_VAR 0 1
10863: RET
// every 0 0$1 + 0 0$0.5 do var n , building_list , aktresp , b , skills , k ;
10864: GO 10866
10866: DISABLE
10867: LD_INT 0
10869: PPUSH
10870: PPUSH
10871: PPUSH
10872: PPUSH
10873: PPUSH
10874: PPUSH
// begin if def_respawining_type = 0 then
10875: LD_EXP 24
10879: PUSH
10880: LD_INT 0
10882: EQUAL
10883: IFFALSE 10889
// exit else
10885: GO 11294
10887: GO 11294
// if def_respawining_type in [ 2 , 3 ] then
10889: LD_EXP 24
10893: PUSH
10894: LD_INT 2
10896: PUSH
10897: LD_INT 3
10899: PUSH
10900: EMPTY
10901: LIST
10902: LIST
10903: IN
10904: IFFALSE 11260
// begin if respawn = 8 then
10906: LD_LOC 2
10910: PUSH
10911: LD_INT 8
10913: EQUAL
10914: IFFALSE 10960
// begin respawn := 1 ;
10916: LD_ADDR_LOC 2
10920: PUSH
10921: LD_INT 1
10923: ST_TO_ADDR
// if nation = 3 then
10924: LD_LOC 4
10928: PUSH
10929: LD_INT 3
10931: EQUAL
10932: IFFALSE 10944
// nation := 1 else
10934: LD_ADDR_LOC 4
10938: PUSH
10939: LD_INT 1
10941: ST_TO_ADDR
10942: GO 10958
// nation := nation + 1 ;
10944: LD_ADDR_LOC 4
10948: PUSH
10949: LD_LOC 4
10953: PUSH
10954: LD_INT 1
10956: PLUS
10957: ST_TO_ADDR
// end else
10958: GO 10974
// respawn := respawn + 1 ;
10960: LD_ADDR_LOC 2
10964: PUSH
10965: LD_LOC 2
10969: PUSH
10970: LD_INT 1
10972: PLUS
10973: ST_TO_ADDR
// if Side_Positions [ respawn ] then
10974: LD_EXP 75
10978: PUSH
10979: LD_LOC 2
10983: ARRAY
10984: IFFALSE 11257
// begin if nation in nations [ respawn ] then
10986: LD_LOC 4
10990: PUSH
10991: LD_LOC 5
10995: PUSH
10996: LD_LOC 2
11000: ARRAY
11001: IN
11002: IFFALSE 11254
// begin if def_desert_warior < 2 then
11004: LD_EXP 31
11008: PUSH
11009: LD_INT 2
11011: LESS
11012: IFFALSE 11065
// n := FilterAllUnits ( [ [ f_type , unit_human ] , [ f_side , respawn ] , [ f_nation , nation ] , ] ) else
11014: LD_ADDR_VAR 0 1
11018: PUSH
11019: LD_INT 21
11021: PUSH
11022: LD_INT 1
11024: PUSH
11025: EMPTY
11026: LIST
11027: LIST
11028: PUSH
11029: LD_INT 22
11031: PUSH
11032: LD_LOC 2
11036: PUSH
11037: EMPTY
11038: LIST
11039: LIST
11040: PUSH
11041: LD_INT 23
11043: PUSH
11044: LD_LOC 4
11048: PUSH
11049: EMPTY
11050: LIST
11051: LIST
11052: PUSH
11053: EMPTY
11054: LIST
11055: LIST
11056: LIST
11057: PPUSH
11058: CALL_OW 69
11062: ST_TO_ADDR
11063: GO 11129
// n := FilterAllUnits ( [ [ f_type , unit_human ] , [ f_side , respawn ] , [ f_nation , nation ] , f_not , [ f_class , class_desert_warior ] , ] ) ;
11065: LD_ADDR_VAR 0 1
11069: PUSH
11070: LD_INT 21
11072: PUSH
11073: LD_INT 1
11075: PUSH
11076: EMPTY
11077: LIST
11078: LIST
11079: PUSH
11080: LD_INT 22
11082: PUSH
11083: LD_LOC 2
11087: PUSH
11088: EMPTY
11089: LIST
11090: LIST
11091: PUSH
11092: LD_INT 23
11094: PUSH
11095: LD_LOC 4
11099: PUSH
11100: EMPTY
11101: LIST
11102: LIST
11103: PUSH
11104: LD_INT 3
11106: PUSH
11107: LD_INT 25
11109: PUSH
11110: LD_INT 11
11112: PUSH
11113: EMPTY
11114: LIST
11115: LIST
11116: PUSH
11117: EMPTY
11118: LIST
11119: LIST
11120: LIST
11121: LIST
11122: LIST
11123: PPUSH
11124: CALL_OW 69
11128: ST_TO_ADDR
// if ( n + inqueue [ respawn ] [ nation ] ) < noposn then
11129: LD_VAR 0 1
11133: PUSH
11134: LD_LOC 3
11138: PUSH
11139: LD_LOC 2
11143: ARRAY
11144: PUSH
11145: LD_LOC 4
11149: ARRAY
11150: PLUS
11151: PUSH
11152: LD_LOC 6
11156: LESS
11157: IFFALSE 11251
// begin aktresp := respawn ;
11159: LD_ADDR_VAR 0 3
11163: PUSH
11164: LD_LOC 2
11168: ST_TO_ADDR
// inqueue := Replace ( inqueue , aktresp , replace ( inqueue [ aktresp ] , nation , inqueue [ aktresp ] [ nation ] + 1 ) ) ;
11169: LD_ADDR_LOC 3
11173: PUSH
11174: LD_LOC 3
11178: PPUSH
11179: LD_VAR 0 3
11183: PPUSH
11184: LD_LOC 3
11188: PUSH
11189: LD_VAR 0 3
11193: ARRAY
11194: PPUSH
11195: LD_LOC 4
11199: PPUSH
11200: LD_LOC 3
11204: PUSH
11205: LD_VAR 0 3
11209: ARRAY
11210: PUSH
11211: LD_LOC 4
11215: ARRAY
11216: PUSH
11217: LD_INT 1
11219: PLUS
11220: PPUSH
11221: CALL_OW 1
11225: PPUSH
11226: CALL_OW 1
11230: ST_TO_ADDR
// enable ;
11231: ENABLE
// ObnovCloveka ( aktresp , nation , false ) ;
11232: LD_VAR 0 3
11236: PPUSH
11237: LD_LOC 4
11241: PPUSH
11242: LD_INT 0
11244: PPUSH
11245: CALL 11709 0 3
// end else
11249: GO 11252
// enable ;
11251: ENABLE
// end else
11252: GO 11255
// enable ;
11254: ENABLE
// end else
11255: GO 11258
// enable ;
11257: ENABLE
// end else
11258: GO 11294
// if def_respawining_type = 1 then
11260: LD_EXP 24
11264: PUSH
11265: LD_INT 1
11267: EQUAL
11268: IFFALSE 11294
// begin wait ( rand ( respawning_time_min , respawning_time_max ) ) ;
11270: LD_EXP 49
11274: PPUSH
11275: LD_EXP 51
11279: PPUSH
11280: CALL_OW 12
11284: PPUSH
11285: CALL_OW 67
// Vytvor_noveho_cloveka_pro_vsechny ;
11289: CALL 12794 0 0
// enable ;
11293: ENABLE
// end end ;
11294: PPOPN 6
11296: END
// export function OnHumanRespawned ( un ) ; var side , nation ; begin
11297: LD_INT 0
11299: PPUSH
11300: PPUSH
11301: PPUSH
// wait ( 0 0$30 ) ;
11302: LD_INT 1050
11304: PPUSH
11305: CALL_OW 67
// side = GetSide ( un ) ;
11309: LD_ADDR_VAR 0 3
11313: PUSH
11314: LD_VAR 0 1
11318: PPUSH
11319: CALL_OW 255
11323: ST_TO_ADDR
// nation = GetNation ( un ) ;
11324: LD_ADDR_VAR 0 4
11328: PUSH
11329: LD_VAR 0 1
11333: PPUSH
11334: CALL_OW 248
11338: ST_TO_ADDR
// inqueue := Replace ( inqueue , side , replace ( inqueue [ side ] , nation , inqueue [ side ] [ nation ] - 1 ) ) ;
11339: LD_ADDR_LOC 3
11343: PUSH
11344: LD_LOC 3
11348: PPUSH
11349: LD_VAR 0 3
11353: PPUSH
11354: LD_LOC 3
11358: PUSH
11359: LD_VAR 0 3
11363: ARRAY
11364: PPUSH
11365: LD_VAR 0 4
11369: PPUSH
11370: LD_LOC 3
11374: PUSH
11375: LD_VAR 0 3
11379: ARRAY
11380: PUSH
11381: LD_VAR 0 4
11385: ARRAY
11386: PUSH
11387: LD_INT 1
11389: MINUS
11390: PPUSH
11391: CALL_OW 1
11395: PPUSH
11396: CALL_OW 1
11400: ST_TO_ADDR
// end ;
11401: LD_VAR 0 2
11405: RET
// export function RespawnHumanDestroyed ( identifier , side , nation , x , y , direction , sex , cl ) ; begin
11406: LD_INT 0
11408: PPUSH
// if def_respawining_type < 2 then
11409: LD_EXP 24
11413: PUSH
11414: LD_INT 2
11416: LESS
11417: IFFALSE 11421
// exit ;
11419: GO 11590
// if nation = nation_nature or side = 0 then
11421: LD_VAR 0 3
11425: PUSH
11426: LD_INT 0
11428: EQUAL
11429: PUSH
11430: LD_VAR 0 2
11434: PUSH
11435: LD_INT 0
11437: EQUAL
11438: OR
11439: IFFALSE 11443
// exit ;
11441: GO 11590
// if not Side_Positions [ side ] then
11443: LD_EXP 75
11447: PUSH
11448: LD_VAR 0 2
11452: ARRAY
11453: NOT
11454: IFFALSE 11458
// exit ;
11456: GO 11590
// if def_desert_warior = 2 then
11458: LD_EXP 31
11462: PUSH
11463: LD_INT 2
11465: EQUAL
11466: IFFALSE 11480
// if cl = class_desert_warior then
11468: LD_VAR 0 8
11472: PUSH
11473: LD_INT 11
11475: EQUAL
11476: IFFALSE 11480
// exit ;
11478: GO 11590
// inqueue := Replace ( inqueue , side , replace ( inqueue [ side ] , nation , inqueue [ side ] [ nation ] + 1 ) ) ;
11480: LD_ADDR_LOC 3
11484: PUSH
11485: LD_LOC 3
11489: PPUSH
11490: LD_VAR 0 2
11494: PPUSH
11495: LD_LOC 3
11499: PUSH
11500: LD_VAR 0 2
11504: ARRAY
11505: PPUSH
11506: LD_VAR 0 3
11510: PPUSH
11511: LD_LOC 3
11515: PUSH
11516: LD_VAR 0 2
11520: ARRAY
11521: PUSH
11522: LD_VAR 0 3
11526: ARRAY
11527: PUSH
11528: LD_INT 1
11530: PLUS
11531: PPUSH
11532: CALL_OW 1
11536: PPUSH
11537: CALL_OW 1
11541: ST_TO_ADDR
// if def_respawining_type = 2 then
11542: LD_EXP 24
11546: PUSH
11547: LD_INT 2
11549: EQUAL
11550: IFFALSE 11573
// ObnovCloveka ( side , nation , identifier ) else
11552: LD_VAR 0 2
11556: PPUSH
11557: LD_VAR 0 3
11561: PPUSH
11562: LD_VAR 0 1
11566: PPUSH
11567: CALL 11709 0 3
11571: GO 11590
// ObnovCloveka ( side , nation , false ) ;
11573: LD_VAR 0 2
11577: PPUSH
11578: LD_VAR 0 3
11582: PPUSH
11583: LD_INT 0
11585: PPUSH
11586: CALL 11709 0 3
// end ;
11590: LD_VAR 0 9
11594: RET
// export ObnovCas , ObnovZpozdeni ; export function SetRespawningTime ( minBTime , maxBTime , MinDelay , MaxDelay ) ; var k ; begin
11595: LD_INT 0
11597: PPUSH
11598: PPUSH
// k = Rand ( minBTime , maxBTime ) ;
11599: LD_ADDR_VAR 0 6
11603: PUSH
11604: LD_VAR 0 1
11608: PPUSH
11609: LD_VAR 0 2
11613: PPUSH
11614: CALL_OW 12
11618: ST_TO_ADDR
// ObnovCas = [ k , k , k , k , k , k , k , k ] ;
11619: LD_ADDR_EXP 102
11623: PUSH
11624: LD_VAR 0 6
11628: PUSH
11629: LD_VAR 0 6
11633: PUSH
11634: LD_VAR 0 6
11638: PUSH
11639: LD_VAR 0 6
11643: PUSH
11644: LD_VAR 0 6
11648: PUSH
11649: LD_VAR 0 6
11653: PUSH
11654: LD_VAR 0 6
11658: PUSH
11659: LD_VAR 0 6
11663: PUSH
11664: EMPTY
11665: LIST
11666: LIST
11667: LIST
11668: LIST
11669: LIST
11670: LIST
11671: LIST
11672: LIST
11673: ST_TO_ADDR
// k = Rand ( minDelay , MaxDelay ) ;
11674: LD_ADDR_VAR 0 6
11678: PUSH
11679: LD_VAR 0 3
11683: PPUSH
11684: LD_VAR 0 4
11688: PPUSH
11689: CALL_OW 12
11693: ST_TO_ADDR
// ObnovZpozdeni = k ;
11694: LD_ADDR_EXP 103
11698: PUSH
11699: LD_VAR 0 6
11703: ST_TO_ADDR
// end ;
11704: LD_VAR 0 5
11708: RET
// export unit_list ; export function ObnovCloveka ( side , nation , restored ) ; var building_list , b , n , un , k , i , base_skills , speed , def ; begin
11709: LD_INT 0
11711: PPUSH
11712: PPUSH
11713: PPUSH
11714: PPUSH
11715: PPUSH
11716: PPUSH
11717: PPUSH
11718: PPUSH
11719: PPUSH
11720: PPUSH
// if ObnovCas [ side ] = 0 then
11721: LD_EXP 102
11725: PUSH
11726: LD_VAR 0 1
11730: ARRAY
11731: PUSH
11732: LD_INT 0
11734: EQUAL
11735: IFFALSE 11739
// exit ;
11737: GO 12384
// uc_nation := nation ;
11739: LD_ADDR_OWVAR 21
11743: PUSH
11744: LD_VAR 0 2
11748: ST_TO_ADDR
// uc_side := side ;
11749: LD_ADDR_OWVAR 20
11753: PUSH
11754: LD_VAR 0 1
11758: ST_TO_ADDR
// uc_direction := Rand ( 0 , 5 ) ;
11759: LD_ADDR_OWVAR 24
11763: PUSH
11764: LD_INT 0
11766: PPUSH
11767: LD_INT 5
11769: PPUSH
11770: CALL_OW 12
11774: ST_TO_ADDR
// if restored then
11775: LD_VAR 0 3
11779: IFFALSE 11862
// begin hc_class = GetClass ( restored ) ;
11781: LD_ADDR_OWVAR 28
11785: PUSH
11786: LD_VAR 0 3
11790: PPUSH
11791: CALL_OW 257
11795: ST_TO_ADDR
// hc_attr = [ GetAttr ( restored , attr_stamina ) , GetAttr ( restored , attr_speed ) ] ;
11796: LD_ADDR_OWVAR 29
11800: PUSH
11801: LD_VAR 0 3
11805: PPUSH
11806: LD_INT 1
11808: PPUSH
11809: CALL_OW 260
11813: PUSH
11814: LD_VAR 0 3
11818: PPUSH
11819: LD_INT 2
11821: PPUSH
11822: CALL_OW 260
11826: PUSH
11827: EMPTY
11828: LIST
11829: LIST
11830: ST_TO_ADDR
// if hc_class in [ class_sniper , class_bazooker , class_mortar ] then
11831: LD_OWVAR 28
11835: PUSH
11836: LD_INT 5
11838: PUSH
11839: LD_INT 9
11841: PUSH
11842: LD_INT 8
11844: PUSH
11845: EMPTY
11846: LIST
11847: LIST
11848: LIST
11849: IN
11850: IFFALSE 11860
// hc_class = class_soldier ;
11852: LD_ADDR_OWVAR 28
11856: PUSH
11857: LD_INT 1
11859: ST_TO_ADDR
// end else
11860: GO 11871
// randomHumanStats ( initial_level ) ;
11862: LD_EXP 42
11866: PPUSH
11867: CALL 17353 0 1
// hc_importance := 0 ;
11871: LD_ADDR_OWVAR 32
11875: PUSH
11876: LD_INT 0
11878: ST_TO_ADDR
// hc_gallery :=  ;
11879: LD_ADDR_OWVAR 33
11883: PUSH
11884: LD_STRING 
11886: ST_TO_ADDR
// hc_face_number := 0 ;
11887: LD_ADDR_OWVAR 34
11891: PUSH
11892: LD_INT 0
11894: ST_TO_ADDR
// hc_name =  ;
11895: LD_ADDR_OWVAR 26
11899: PUSH
11900: LD_STRING 
11902: ST_TO_ADDR
// un := CreateHuman ;
11903: LD_ADDR_VAR 0 8
11907: PUSH
11908: CALL_OW 44
11912: ST_TO_ADDR
// if restored then
11913: LD_VAR 0 3
11917: IFFALSE 11933
// CopySkills ( restored , un ) ;
11919: LD_VAR 0 3
11923: PPUSH
11924: LD_VAR 0 8
11928: PPUSH
11929: CALL_OW 510
// k = ObnovCas [ side ] + ObnovZpozdeni ;
11933: LD_ADDR_VAR 0 9
11937: PUSH
11938: LD_EXP 102
11942: PUSH
11943: LD_VAR 0 1
11947: ARRAY
11948: PUSH
11949: LD_EXP 103
11953: PLUS
11954: ST_TO_ADDR
// ObnovCas = Replace ( ObnovCas , side , k ) ;
11955: LD_ADDR_EXP 102
11959: PUSH
11960: LD_EXP 102
11964: PPUSH
11965: LD_VAR 0 1
11969: PPUSH
11970: LD_VAR 0 9
11974: PPUSH
11975: CALL_OW 1
11979: ST_TO_ADDR
// wait ( ObnovCas [ side ] - ObnovZpozdeni ) ;
11980: LD_EXP 102
11984: PUSH
11985: LD_VAR 0 1
11989: ARRAY
11990: PUSH
11991: LD_EXP 103
11995: MINUS
11996: PPUSH
11997: CALL_OW 67
// if not ( HasPower ( side ) ) then
12001: LD_VAR 0 1
12005: PPUSH
12006: CALL 13167 0 1
12010: NOT
12011: IFFALSE 12015
// exit ;
12013: GO 12384
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_ok ] , [ f_side , side ] , [ f_nation , nation ] ] ) ;
12015: LD_ADDR_VAR 0 5
12019: PUSH
12020: LD_INT 21
12022: PUSH
12023: LD_INT 3
12025: PUSH
12026: EMPTY
12027: LIST
12028: LIST
12029: PUSH
12030: LD_INT 2
12032: PUSH
12033: LD_INT 30
12035: PUSH
12036: LD_INT 0
12038: PUSH
12039: EMPTY
12040: LIST
12041: LIST
12042: PUSH
12043: LD_INT 30
12045: PUSH
12046: LD_INT 1
12048: PUSH
12049: EMPTY
12050: LIST
12051: LIST
12052: PUSH
12053: EMPTY
12054: LIST
12055: LIST
12056: LIST
12057: PUSH
12058: LD_INT 50
12060: PUSH
12061: EMPTY
12062: LIST
12063: PUSH
12064: LD_INT 22
12066: PUSH
12067: LD_VAR 0 1
12071: PUSH
12072: EMPTY
12073: LIST
12074: LIST
12075: PUSH
12076: LD_INT 23
12078: PUSH
12079: LD_VAR 0 2
12083: PUSH
12084: EMPTY
12085: LIST
12086: LIST
12087: PUSH
12088: EMPTY
12089: LIST
12090: LIST
12091: LIST
12092: LIST
12093: LIST
12094: PPUSH
12095: CALL_OW 69
12099: ST_TO_ADDR
// if building_list = 0 then
12100: LD_VAR 0 5
12104: PUSH
12105: LD_INT 0
12107: EQUAL
12108: IFFALSE 12182
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_ok ] , [ f_side , side ] ] ) ;
12110: LD_ADDR_VAR 0 5
12114: PUSH
12115: LD_INT 21
12117: PUSH
12118: LD_INT 3
12120: PUSH
12121: EMPTY
12122: LIST
12123: LIST
12124: PUSH
12125: LD_INT 2
12127: PUSH
12128: LD_INT 30
12130: PUSH
12131: LD_INT 0
12133: PUSH
12134: EMPTY
12135: LIST
12136: LIST
12137: PUSH
12138: LD_INT 30
12140: PUSH
12141: LD_INT 1
12143: PUSH
12144: EMPTY
12145: LIST
12146: LIST
12147: PUSH
12148: EMPTY
12149: LIST
12150: LIST
12151: LIST
12152: PUSH
12153: LD_INT 50
12155: PUSH
12156: EMPTY
12157: LIST
12158: PUSH
12159: LD_INT 22
12161: PUSH
12162: LD_VAR 0 1
12166: PUSH
12167: EMPTY
12168: LIST
12169: LIST
12170: PUSH
12171: EMPTY
12172: LIST
12173: LIST
12174: LIST
12175: LIST
12176: PPUSH
12177: CALL_OW 69
12181: ST_TO_ADDR
// if building_list = 0 then
12182: LD_VAR 0 5
12186: PUSH
12187: LD_INT 0
12189: EQUAL
12190: IFFALSE 12235
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_ok ] , [ f_side , side ] ] ) ;
12192: LD_ADDR_VAR 0 5
12196: PUSH
12197: LD_INT 21
12199: PUSH
12200: LD_INT 3
12202: PUSH
12203: EMPTY
12204: LIST
12205: LIST
12206: PUSH
12207: LD_INT 50
12209: PUSH
12210: EMPTY
12211: LIST
12212: PUSH
12213: LD_INT 22
12215: PUSH
12216: LD_VAR 0 1
12220: PUSH
12221: EMPTY
12222: LIST
12223: LIST
12224: PUSH
12225: EMPTY
12226: LIST
12227: LIST
12228: LIST
12229: PPUSH
12230: CALL_OW 69
12234: ST_TO_ADDR
// if building_list > 0 then
12235: LD_VAR 0 5
12239: PUSH
12240: LD_INT 0
12242: GREATER
12243: IFFALSE 12361
// begin b := building_list [ Rand ( 1 , building_list + 0 ) ] ;
12245: LD_ADDR_VAR 0 6
12249: PUSH
12250: LD_VAR 0 5
12254: PUSH
12255: LD_INT 1
12257: PPUSH
12258: LD_VAR 0 5
12262: PUSH
12263: LD_INT 0
12265: PLUS
12266: PPUSH
12267: CALL_OW 12
12271: ARRAY
12272: ST_TO_ADDR
// if GetBType ( b ) in [ b_depot , b_warehouse ] then
12273: LD_VAR 0 6
12277: PPUSH
12278: CALL_OW 266
12282: PUSH
12283: LD_INT 0
12285: PUSH
12286: LD_INT 1
12288: PUSH
12289: EMPTY
12290: LIST
12291: LIST
12292: IN
12293: IFFALSE 12305
// n = 25 else
12295: LD_ADDR_VAR 0 7
12299: PUSH
12300: LD_INT 25
12302: ST_TO_ADDR
12303: GO 12313
// n = 10 ;
12305: LD_ADDR_VAR 0 7
12309: PUSH
12310: LD_INT 10
12312: ST_TO_ADDR
// PlaceUnitXYR ( un , GetX ( b ) , GetY ( b ) , n , true ) ;
12313: LD_VAR 0 8
12317: PPUSH
12318: LD_VAR 0 6
12322: PPUSH
12323: CALL_OW 250
12327: PPUSH
12328: LD_VAR 0 6
12332: PPUSH
12333: CALL_OW 251
12337: PPUSH
12338: LD_VAR 0 7
12342: PPUSH
12343: LD_INT 1
12345: PPUSH
12346: CALL_OW 50
// OnHumanRespawned ( un ) ;
12350: LD_VAR 0 8
12354: PPUSH
12355: CALL 11297 0 1
// end else
12359: GO 12384
// begin ObnovOpozdilceCloveka ( un , side , k / 2 ) ;
12361: LD_VAR 0 8
12365: PPUSH
12366: LD_VAR 0 1
12370: PPUSH
12371: LD_VAR 0 9
12375: PUSH
12376: LD_INT 2
12378: DIVREAL
12379: PPUSH
12380: CALL 12389 0 3
// end ; end ;
12384: LD_VAR 0 4
12388: RET
// function ObnovOpozdilceCloveka ( un , side , waitTime ) ; var building_list , n , unit_list , b ; begin
12389: LD_INT 0
12391: PPUSH
12392: PPUSH
12393: PPUSH
12394: PPUSH
12395: PPUSH
// wait ( waitTime ) ;
12396: LD_VAR 0 3
12400: PPUSH
12401: CALL_OW 67
// if not ( HasPower ( side ) ) then
12405: LD_VAR 0 2
12409: PPUSH
12410: CALL 13167 0 1
12414: NOT
12415: IFFALSE 12419
// exit ;
12417: GO 12789
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_ok ] , [ f_side , side ] , [ f_nation , GetNation ( un ) ] ] ) ;
12419: LD_ADDR_VAR 0 5
12423: PUSH
12424: LD_INT 21
12426: PUSH
12427: LD_INT 3
12429: PUSH
12430: EMPTY
12431: LIST
12432: LIST
12433: PUSH
12434: LD_INT 2
12436: PUSH
12437: LD_INT 30
12439: PUSH
12440: LD_INT 0
12442: PUSH
12443: EMPTY
12444: LIST
12445: LIST
12446: PUSH
12447: LD_INT 30
12449: PUSH
12450: LD_INT 1
12452: PUSH
12453: EMPTY
12454: LIST
12455: LIST
12456: PUSH
12457: EMPTY
12458: LIST
12459: LIST
12460: LIST
12461: PUSH
12462: LD_INT 50
12464: PUSH
12465: EMPTY
12466: LIST
12467: PUSH
12468: LD_INT 22
12470: PUSH
12471: LD_VAR 0 2
12475: PUSH
12476: EMPTY
12477: LIST
12478: LIST
12479: PUSH
12480: LD_INT 23
12482: PUSH
12483: LD_VAR 0 1
12487: PPUSH
12488: CALL_OW 248
12492: PUSH
12493: EMPTY
12494: LIST
12495: LIST
12496: PUSH
12497: EMPTY
12498: LIST
12499: LIST
12500: LIST
12501: LIST
12502: LIST
12503: PPUSH
12504: CALL_OW 69
12508: ST_TO_ADDR
// if building_list = 0 then
12509: LD_VAR 0 5
12513: PUSH
12514: LD_INT 0
12516: EQUAL
12517: IFFALSE 12591
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_ok ] , [ f_side , side ] ] ) ;
12519: LD_ADDR_VAR 0 5
12523: PUSH
12524: LD_INT 21
12526: PUSH
12527: LD_INT 3
12529: PUSH
12530: EMPTY
12531: LIST
12532: LIST
12533: PUSH
12534: LD_INT 2
12536: PUSH
12537: LD_INT 30
12539: PUSH
12540: LD_INT 0
12542: PUSH
12543: EMPTY
12544: LIST
12545: LIST
12546: PUSH
12547: LD_INT 30
12549: PUSH
12550: LD_INT 1
12552: PUSH
12553: EMPTY
12554: LIST
12555: LIST
12556: PUSH
12557: EMPTY
12558: LIST
12559: LIST
12560: LIST
12561: PUSH
12562: LD_INT 50
12564: PUSH
12565: EMPTY
12566: LIST
12567: PUSH
12568: LD_INT 22
12570: PUSH
12571: LD_VAR 0 2
12575: PUSH
12576: EMPTY
12577: LIST
12578: LIST
12579: PUSH
12580: EMPTY
12581: LIST
12582: LIST
12583: LIST
12584: LIST
12585: PPUSH
12586: CALL_OW 69
12590: ST_TO_ADDR
// if building_list = 0 then
12591: LD_VAR 0 5
12595: PUSH
12596: LD_INT 0
12598: EQUAL
12599: IFFALSE 12644
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_ok ] , [ f_side , side ] ] ) ;
12601: LD_ADDR_VAR 0 5
12605: PUSH
12606: LD_INT 21
12608: PUSH
12609: LD_INT 3
12611: PUSH
12612: EMPTY
12613: LIST
12614: LIST
12615: PUSH
12616: LD_INT 50
12618: PUSH
12619: EMPTY
12620: LIST
12621: PUSH
12622: LD_INT 22
12624: PUSH
12625: LD_VAR 0 2
12629: PUSH
12630: EMPTY
12631: LIST
12632: LIST
12633: PUSH
12634: EMPTY
12635: LIST
12636: LIST
12637: LIST
12638: PPUSH
12639: CALL_OW 69
12643: ST_TO_ADDR
// if building_list > 0 then
12644: LD_VAR 0 5
12648: PUSH
12649: LD_INT 0
12651: GREATER
12652: IFFALSE 12770
// begin b := building_list [ Rand ( 1 , building_list + 0 ) ] ;
12654: LD_ADDR_VAR 0 8
12658: PUSH
12659: LD_VAR 0 5
12663: PUSH
12664: LD_INT 1
12666: PPUSH
12667: LD_VAR 0 5
12671: PUSH
12672: LD_INT 0
12674: PLUS
12675: PPUSH
12676: CALL_OW 12
12680: ARRAY
12681: ST_TO_ADDR
// if GetBType ( b ) in [ b_depot , b_warehouse ] then
12682: LD_VAR 0 8
12686: PPUSH
12687: CALL_OW 266
12691: PUSH
12692: LD_INT 0
12694: PUSH
12695: LD_INT 1
12697: PUSH
12698: EMPTY
12699: LIST
12700: LIST
12701: IN
12702: IFFALSE 12714
// n = 25 else
12704: LD_ADDR_VAR 0 6
12708: PUSH
12709: LD_INT 25
12711: ST_TO_ADDR
12712: GO 12722
// n = 10 ;
12714: LD_ADDR_VAR 0 6
12718: PUSH
12719: LD_INT 10
12721: ST_TO_ADDR
// PlaceUnitXYR ( un , GetX ( b ) , GetY ( b ) , n , true ) ;
12722: LD_VAR 0 1
12726: PPUSH
12727: LD_VAR 0 8
12731: PPUSH
12732: CALL_OW 250
12736: PPUSH
12737: LD_VAR 0 8
12741: PPUSH
12742: CALL_OW 251
12746: PPUSH
12747: LD_VAR 0 6
12751: PPUSH
12752: LD_INT 1
12754: PPUSH
12755: CALL_OW 50
// OnHumanRespawned ( un ) ;
12759: LD_VAR 0 1
12763: PPUSH
12764: CALL 11297 0 1
// end else
12768: GO 12789
// ObnovOpozdilceCloveka ( un , side , waitTime ) ;
12770: LD_VAR 0 1
12774: PPUSH
12775: LD_VAR 0 2
12779: PPUSH
12780: LD_VAR 0 3
12784: PPUSH
12785: CALL 12389 0 3
// end ;
12789: LD_VAR 0 4
12793: RET
// export function Vytvor_noveho_cloveka_pro_vsechny ; var nat , side , sidy , i , k ; begin
12794: LD_INT 0
12796: PPUSH
12797: PPUSH
12798: PPUSH
12799: PPUSH
12800: PPUSH
12801: PPUSH
// randomHumanStats ( initial_level ) ;
12802: LD_EXP 42
12806: PPUSH
12807: CALL 17353 0 1
// sidy = [ ] ;
12811: LD_ADDR_VAR 0 4
12815: PUSH
12816: EMPTY
12817: ST_TO_ADDR
// for i = 1 to Side_positions + 0 do
12818: LD_ADDR_VAR 0 5
12822: PUSH
12823: DOUBLE
12824: LD_INT 1
12826: DEC
12827: ST_TO_ADDR
12828: LD_EXP 75
12832: PUSH
12833: LD_INT 0
12835: PLUS
12836: PUSH
12837: FOR_TO
12838: IFFALSE 12906
// if Side_positions [ i ] > 0 then
12840: LD_EXP 75
12844: PUSH
12845: LD_VAR 0 5
12849: ARRAY
12850: PUSH
12851: LD_INT 0
12853: GREATER
12854: IFFALSE 12904
// if HasPower ( i ) then
12856: LD_VAR 0 5
12860: PPUSH
12861: CALL 13167 0 1
12865: IFFALSE 12904
// for k in nations [ i ] do
12867: LD_ADDR_VAR 0 6
12871: PUSH
12872: LD_LOC 5
12876: PUSH
12877: LD_VAR 0 5
12881: ARRAY
12882: PUSH
12883: FOR_IN
12884: IFFALSE 12902
// vytvor_cloveka ( i , k ) ;
12886: LD_VAR 0 5
12890: PPUSH
12891: LD_VAR 0 6
12895: PPUSH
12896: CALL 12913 0 2
12900: GO 12883
12902: POP
12903: POP
12904: GO 12837
12906: POP
12907: POP
// end ;
12908: LD_VAR 0 1
12912: RET
// function vytvor_cloveka ( side , nat ) ; var pom ; begin
12913: LD_INT 0
12915: PPUSH
12916: PPUSH
// uc_side = side ;
12917: LD_ADDR_OWVAR 20
12921: PUSH
12922: LD_VAR 0 1
12926: ST_TO_ADDR
// uc_nation = nat ;
12927: LD_ADDR_OWVAR 21
12931: PUSH
12932: LD_VAR 0 2
12936: ST_TO_ADDR
// PlaceUnitAnywhere ( CreateHuman , true ) ;
12937: CALL_OW 44
12941: PPUSH
12942: LD_INT 1
12944: PPUSH
12945: CALL_OW 51
// if game_type in GT_DoublePeople then
12949: LD_EXP 1
12953: PUSH
12954: LD_EXP 4
12958: IN
12959: IFFALSE 12973
// PlaceUnitAnywhere ( CreateHuman , true ) ;
12961: CALL_OW 44
12965: PPUSH
12966: LD_INT 1
12968: PPUSH
12969: CALL_OW 51
// end ; end_of_file
12973: LD_VAR 0 3
12977: RET
// var defaited , GameEnded , unfoged ; export function Init_Win_Condition ; var i ; begin
12978: LD_INT 0
12980: PPUSH
12981: PPUSH
// enable ( 98 ) ;
12982: LD_INT 98
12984: ENABLE_MARKED
// GameEnded = false ;
12985: LD_ADDR_LOC 8
12989: PUSH
12990: LD_INT 0
12992: ST_TO_ADDR
// defaited = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
12993: LD_ADDR_LOC 7
12997: PUSH
12998: LD_INT 0
13000: PUSH
13001: LD_INT 0
13003: PUSH
13004: LD_INT 0
13006: PUSH
13007: LD_INT 0
13009: PUSH
13010: LD_INT 0
13012: PUSH
13013: LD_INT 0
13015: PUSH
13016: LD_INT 0
13018: PUSH
13019: LD_INT 0
13021: PUSH
13022: EMPTY
13023: LIST
13024: LIST
13025: LIST
13026: LIST
13027: LIST
13028: LIST
13029: LIST
13030: LIST
13031: ST_TO_ADDR
// unfoged = false ;
13032: LD_ADDR_LOC 9
13036: PUSH
13037: LD_INT 0
13039: ST_TO_ADDR
// for i = 1 to side_positions do
13040: LD_ADDR_VAR 0 2
13044: PUSH
13045: DOUBLE
13046: LD_INT 1
13048: DEC
13049: ST_TO_ADDR
13050: LD_EXP 75
13054: PUSH
13055: FOR_TO
13056: IFFALSE 13096
// if not side_positions [ i ] then
13058: LD_EXP 75
13062: PUSH
13063: LD_VAR 0 2
13067: ARRAY
13068: NOT
13069: IFFALSE 13094
// defaited = replace ( defaited , i , true ) ;
13071: LD_ADDR_LOC 7
13075: PUSH
13076: LD_LOC 7
13080: PPUSH
13081: LD_VAR 0 2
13085: PPUSH
13086: LD_INT 1
13088: PPUSH
13089: CALL_OW 1
13093: ST_TO_ADDR
13094: GO 13055
13096: POP
13097: POP
// end ;
13098: LD_VAR 0 1
13102: RET
// function CanWinLoose ; begin
13103: LD_INT 0
13105: PPUSH
// Result := true ;
13106: LD_ADDR_VAR 0 1
13110: PUSH
13111: LD_INT 1
13113: ST_TO_ADDR
// if IAmServer and PlayerCount > 0 then
13114: CALL_OW 518
13118: PUSH
13119: CALL_OW 519
13123: PUSH
13124: LD_INT 0
13126: GREATER
13127: AND
13128: IFFALSE 13138
// Result := false ;
13130: LD_ADDR_VAR 0 1
13134: PUSH
13135: LD_INT 0
13137: ST_TO_ADDR
// if IAmSpec and PlayerCount > 1 then
13138: CALL_OW 531
13142: PUSH
13143: CALL_OW 519
13147: PUSH
13148: LD_INT 1
13150: GREATER
13151: AND
13152: IFFALSE 13162
// Result := false ;
13154: LD_ADDR_VAR 0 1
13158: PUSH
13159: LD_INT 0
13161: ST_TO_ADDR
// end ;
13162: LD_VAR 0 1
13166: RET
// export function HasPower ( i ) ; var k , h ; begin
13167: LD_INT 0
13169: PPUSH
13170: PPUSH
13171: PPUSH
// if not MultiplayerSideAlive ( i ) and not Side_Comps [ i ] and MultiPlayer then
13172: LD_VAR 0 1
13176: PPUSH
13177: CALL_OW 108
13181: NOT
13182: PUSH
13183: LD_EXP 78
13187: PUSH
13188: LD_VAR 0 1
13192: ARRAY
13193: NOT
13194: AND
13195: PUSH
13196: LD_OWVAR 4
13200: AND
13201: IFFALSE 13213
// begin result = false ;
13203: LD_ADDR_VAR 0 2
13207: PUSH
13208: LD_INT 0
13210: ST_TO_ADDR
// end else
13211: GO 13508
// case def_win_rules of 0 :
13213: LD_EXP 21
13217: PUSH
13218: LD_INT 0
13220: DOUBLE
13221: EQUAL
13222: IFTRUE 13226
13224: GO 13389
13226: POP
// if def_people_respawning then
13227: LD_EXP 25
13231: IFFALSE 13322
// Result := FilterAllUnits ( [ [ f_side , i ] , [ f_or , [ f_type , unit_human ] , [ f_control , control_computer ] , [ f_control , control_apeman ] , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) else
13233: LD_ADDR_VAR 0 2
13237: PUSH
13238: LD_INT 22
13240: PUSH
13241: LD_VAR 0 1
13245: PUSH
13246: EMPTY
13247: LIST
13248: LIST
13249: PUSH
13250: LD_INT 2
13252: PUSH
13253: LD_INT 21
13255: PUSH
13256: LD_INT 1
13258: PUSH
13259: EMPTY
13260: LIST
13261: LIST
13262: PUSH
13263: LD_INT 33
13265: PUSH
13266: LD_INT 3
13268: PUSH
13269: EMPTY
13270: LIST
13271: LIST
13272: PUSH
13273: LD_INT 33
13275: PUSH
13276: LD_INT 5
13278: PUSH
13279: EMPTY
13280: LIST
13281: LIST
13282: PUSH
13283: LD_INT 30
13285: PUSH
13286: LD_INT 0
13288: PUSH
13289: EMPTY
13290: LIST
13291: LIST
13292: PUSH
13293: LD_INT 30
13295: PUSH
13296: LD_INT 1
13298: PUSH
13299: EMPTY
13300: LIST
13301: LIST
13302: PUSH
13303: EMPTY
13304: LIST
13305: LIST
13306: LIST
13307: LIST
13308: LIST
13309: LIST
13310: PUSH
13311: EMPTY
13312: LIST
13313: LIST
13314: PPUSH
13315: CALL_OW 69
13319: ST_TO_ADDR
13320: GO 13387
// Result := FilterAllUnits ( [ [ f_side , i ] , [ f_or , [ f_type , unit_human ] , [ f_control , control_computer ] , [ f_control , control_apeman ] ] ] ) ; 1 :
13322: LD_ADDR_VAR 0 2
13326: PUSH
13327: LD_INT 22
13329: PUSH
13330: LD_VAR 0 1
13334: PUSH
13335: EMPTY
13336: LIST
13337: LIST
13338: PUSH
13339: LD_INT 2
13341: PUSH
13342: LD_INT 21
13344: PUSH
13345: LD_INT 1
13347: PUSH
13348: EMPTY
13349: LIST
13350: LIST
13351: PUSH
13352: LD_INT 33
13354: PUSH
13355: LD_INT 3
13357: PUSH
13358: EMPTY
13359: LIST
13360: LIST
13361: PUSH
13362: LD_INT 33
13364: PUSH
13365: LD_INT 5
13367: PUSH
13368: EMPTY
13369: LIST
13370: LIST
13371: PUSH
13372: EMPTY
13373: LIST
13374: LIST
13375: LIST
13376: LIST
13377: PUSH
13378: EMPTY
13379: LIST
13380: LIST
13381: PPUSH
13382: CALL_OW 69
13386: ST_TO_ADDR
13387: GO 13508
13389: LD_INT 1
13391: DOUBLE
13392: EQUAL
13393: IFTRUE 13397
13395: GO 13436
13397: POP
// Result = FilterAllUnits ( [ [ f_side , i ] , [ f_type , unit_human ] ] ) ; 2 :
13398: LD_ADDR_VAR 0 2
13402: PUSH
13403: LD_INT 22
13405: PUSH
13406: LD_VAR 0 1
13410: PUSH
13411: EMPTY
13412: LIST
13413: LIST
13414: PUSH
13415: LD_INT 21
13417: PUSH
13418: LD_INT 1
13420: PUSH
13421: EMPTY
13422: LIST
13423: LIST
13424: PUSH
13425: EMPTY
13426: LIST
13427: LIST
13428: PPUSH
13429: CALL_OW 69
13433: ST_TO_ADDR
13434: GO 13508
13436: LD_INT 2
13438: DOUBLE
13439: EQUAL
13440: IFTRUE 13444
13442: GO 13507
13444: POP
// begin h = false ;
13445: LD_ADDR_VAR 0 4
13449: PUSH
13450: LD_INT 0
13452: ST_TO_ADDR
// for k in heroes [ i ] do
13453: LD_ADDR_VAR 0 3
13457: PUSH
13458: LD_EXP 50
13462: PUSH
13463: LD_VAR 0 1
13467: ARRAY
13468: PUSH
13469: FOR_IN
13470: IFFALSE 13493
// if IsLive ( k ) then
13472: LD_VAR 0 3
13476: PPUSH
13477: CALL_OW 300
13481: IFFALSE 13491
// h = true ;
13483: LD_ADDR_VAR 0 4
13487: PUSH
13488: LD_INT 1
13490: ST_TO_ADDR
13491: GO 13469
13493: POP
13494: POP
// Result := h ;
13495: LD_ADDR_VAR 0 2
13499: PUSH
13500: LD_VAR 0 4
13504: ST_TO_ADDR
// end ; end ;
13505: GO 13508
13507: POP
// end ;
13508: LD_VAR 0 2
13512: RET
// function AlliedSides ( i , j ) ; begin
13513: LD_INT 0
13515: PPUSH
// Result := false ;
13516: LD_ADDR_VAR 0 3
13520: PUSH
13521: LD_INT 0
13523: ST_TO_ADDR
// if ( GetAttitude ( i , j ) = att_friend ) and ( GetAttitude ( j , i ) = att_friend ) and GetAlliedVictory ( i ) and GetAlliedVictory ( j ) then
13524: LD_VAR 0 1
13528: PPUSH
13529: LD_VAR 0 2
13533: PPUSH
13534: CALL_OW 81
13538: PUSH
13539: LD_INT 1
13541: EQUAL
13542: PUSH
13543: LD_VAR 0 2
13547: PPUSH
13548: LD_VAR 0 1
13552: PPUSH
13553: CALL_OW 81
13557: PUSH
13558: LD_INT 1
13560: EQUAL
13561: AND
13562: PUSH
13563: LD_VAR 0 1
13567: PPUSH
13568: CALL_OW 83
13572: AND
13573: PUSH
13574: LD_VAR 0 2
13578: PPUSH
13579: CALL_OW 83
13583: AND
13584: IFFALSE 13594
// Result := true ;
13586: LD_ADDR_VAR 0 3
13590: PUSH
13591: LD_INT 1
13593: ST_TO_ADDR
// end ;
13594: LD_VAR 0 3
13598: RET
// every 100 trigger CanWinLoose and not GameEnded marked 400 do
13599: CALL 13103 0 0
13603: PUSH
13604: LD_LOC 8
13608: NOT
13609: AND
13610: IFFALSE 13626
13612: GO 13614
13614: DISABLE
// WaitServerStrings = [ #Player-Ended ] ;
13615: LD_ADDR_EXP 107
13619: PUSH
13620: LD_STRING #Player-Ended
13622: PUSH
13623: EMPTY
13624: LIST
13625: ST_TO_ADDR
13626: END
// every 100 trigger CanWinLoose and GameEnded marked 400 do
13627: CALL 13103 0 0
13631: PUSH
13632: LD_LOC 8
13636: AND
13637: IFFALSE 13646
13639: GO 13641
13641: DISABLE
// YouLostInMultiplayer ;
13642: CALL_OW 107
13646: END
// every 100 trigger not CanWinLoose and not IAmSpec marked 400 do
13647: CALL 13103 0 0
13651: NOT
13652: PUSH
13653: CALL_OW 531
13657: NOT
13658: AND
13659: IFFALSE 13675
13661: GO 13663
13663: DISABLE
// WaitServerStrings = [ #server-wait ] ;
13664: LD_ADDR_EXP 107
13668: PUSH
13669: LD_STRING #server-wait
13671: PUSH
13672: EMPTY
13673: LIST
13674: ST_TO_ADDR
13675: END
// every 100 trigger IAmSpec do
13676: CALL_OW 531
13680: IFFALSE 13696
13682: GO 13684
13684: DISABLE
// WaitServerStrings = [ #Player-IAmSpec ] ;
13685: LD_ADDR_EXP 107
13689: PUSH
13690: LD_STRING #Player-IAmSpec
13692: PUSH
13693: EMPTY
13694: LIST
13695: ST_TO_ADDR
13696: END
// every 100 trigger GameEnded and IAmSpec do
13697: LD_LOC 8
13701: PUSH
13702: CALL_OW 531
13706: AND
13707: IFFALSE 13716
13709: GO 13711
13711: DISABLE
// YouLostInMultiplayer ;
13712: CALL_OW 107
13716: END
// every 100 trigger CanWinLoose and not GameEnded marked 401 do
13717: CALL 13103 0 0
13721: PUSH
13722: LD_LOC 8
13726: NOT
13727: AND
13728: IFFALSE 13744
13730: GO 13732
13732: DISABLE
// WaitServerStrings = [ $player-win ] ;
13733: LD_ADDR_EXP 107
13737: PUSH
13738: LD_STRING $player-win
13740: PUSH
13741: EMPTY
13742: LIST
13743: ST_TO_ADDR
13744: END
// every 100 trigger CanWinLoose and GameEnded marked 401 do
13745: CALL 13103 0 0
13749: PUSH
13750: LD_LOC 8
13754: AND
13755: IFFALSE 13779
13757: GO 13759
13759: DISABLE
// begin SA_Win ( Side_Nations [ Your_side ] ) ;
13760: LD_EXP 76
13764: PUSH
13765: LD_OWVAR 2
13769: ARRAY
13770: PPUSH
13771: CALL 34707 0 1
// YouWinInMultiplayer ;
13775: CALL_OW 106
// end ;
13779: END
// every 100 trigger isEditor marked 401 do
13780: LD_OWVAR 84
13784: IFFALSE 13800
13786: GO 13788
13788: DISABLE
// Debug_Strings = [ You won ] ;
13789: LD_ADDR_OWVAR 48
13793: PUSH
13794: LD_STRING You won
13796: PUSH
13797: EMPTY
13798: LIST
13799: ST_TO_ADDR
13800: END
// every 100 trigger isEditor marked 400 do
13801: LD_OWVAR 84
13805: IFFALSE 13821
13807: GO 13809
13809: DISABLE
// Debug_Strings = [ You loss ] ;
13810: LD_ADDR_OWVAR 48
13814: PUSH
13815: LD_STRING You loss
13817: PUSH
13818: EMPTY
13819: LIST
13820: ST_TO_ADDR
13821: END
// every 100 marked 98 do var i , un ;
13822: GO 13824
13824: DISABLE
13825: LD_INT 0
13827: PPUSH
13828: PPUSH
// begin for i = 1 to side_positions do
13829: LD_ADDR_VAR 0 1
13833: PUSH
13834: DOUBLE
13835: LD_INT 1
13837: DEC
13838: ST_TO_ADDR
13839: LD_EXP 75
13843: PUSH
13844: FOR_TO
13845: IFFALSE 13968
// if side_positions [ i ] then
13847: LD_EXP 75
13851: PUSH
13852: LD_VAR 0 1
13856: ARRAY
13857: IFFALSE 13966
// if not HasPower ( i ) and not Defaited [ i ] then
13859: LD_VAR 0 1
13863: PPUSH
13864: CALL 13167 0 1
13868: NOT
13869: PUSH
13870: LD_LOC 7
13874: PUSH
13875: LD_VAR 0 1
13879: ARRAY
13880: NOT
13881: AND
13882: IFFALSE 13966
// begin un = filterallunits ( [ f_side , i ] ) ;
13884: LD_ADDR_VAR 0 2
13888: PUSH
13889: LD_INT 22
13891: PUSH
13892: LD_VAR 0 1
13896: PUSH
13897: EMPTY
13898: LIST
13899: LIST
13900: PPUSH
13901: CALL_OW 69
13905: ST_TO_ADDR
// if un then
13906: LD_VAR 0 2
13910: IFFALSE 13924
// SetSide ( un , 0 ) ;
13912: LD_VAR 0 2
13916: PPUSH
13917: LD_INT 0
13919: PPUSH
13920: CALL_OW 235
// Defaited = replace ( Defaited , i , true ) ;
13924: LD_ADDR_LOC 7
13928: PUSH
13929: LD_LOC 7
13933: PPUSH
13934: LD_VAR 0 1
13938: PPUSH
13939: LD_INT 1
13941: PPUSH
13942: CALL_OW 1
13946: ST_TO_ADDR
// if i = your_side then
13947: LD_VAR 0 1
13951: PUSH
13952: LD_OWVAR 2
13956: EQUAL
13957: IFFALSE 13966
// begin Multiplayer_Loose_Message ;
13959: CALL_OW 521
// enable ( 400 ) ;
13963: LD_INT 400
13965: ENABLE_MARKED
// end ; end ;
13966: GO 13844
13968: POP
13969: POP
// if not Unfoged and defaited [ your_side ] then
13970: LD_LOC 9
13974: NOT
13975: PUSH
13976: LD_LOC 7
13980: PUSH
13981: LD_OWVAR 2
13985: ARRAY
13986: AND
13987: IFFALSE 13993
// Unfog ;
13989: CALL 14179 0 0
// DidGameEnd ;
13993: CALL 14008 0 0
// if not GameEnded then
13997: LD_LOC 8
14001: NOT
14002: IFFALSE 14005
// enable ;
14004: ENABLE
// end ;
14005: PPOPN 2
14007: END
// function DidGameEnd ; var i , k , enemy ; begin
14008: LD_INT 0
14010: PPUSH
14011: PPUSH
14012: PPUSH
14013: PPUSH
// enemy = [ ] ;
14014: LD_ADDR_VAR 0 4
14018: PUSH
14019: EMPTY
14020: ST_TO_ADDR
// for i = 1 to side_positions do
14021: LD_ADDR_VAR 0 2
14025: PUSH
14026: DOUBLE
14027: LD_INT 1
14029: DEC
14030: ST_TO_ADDR
14031: LD_EXP 75
14035: PUSH
14036: FOR_TO
14037: IFFALSE 14141
// if not defaited [ i ] then
14039: LD_LOC 7
14043: PUSH
14044: LD_VAR 0 2
14048: ARRAY
14049: NOT
14050: IFFALSE 14139
// for k = 1 to side_positions do
14052: LD_ADDR_VAR 0 3
14056: PUSH
14057: DOUBLE
14058: LD_INT 1
14060: DEC
14061: ST_TO_ADDR
14062: LD_EXP 75
14066: PUSH
14067: FOR_TO
14068: IFFALSE 14137
// if not defaited [ k ] then
14070: LD_LOC 7
14074: PUSH
14075: LD_VAR 0 3
14079: ARRAY
14080: NOT
14081: IFFALSE 14135
// if GetAttitude ( i , k ) in [ att_enemy , att_neutral ] then
14083: LD_VAR 0 2
14087: PPUSH
14088: LD_VAR 0 3
14092: PPUSH
14093: CALL_OW 81
14097: PUSH
14098: LD_INT 2
14100: PUSH
14101: LD_INT 0
14103: PUSH
14104: EMPTY
14105: LIST
14106: LIST
14107: IN
14108: IFFALSE 14135
// enemy = enemy ^ [ i , k ] ;
14110: LD_ADDR_VAR 0 4
14114: PUSH
14115: LD_VAR 0 4
14119: PUSH
14120: LD_VAR 0 2
14124: PUSH
14125: LD_VAR 0 3
14129: PUSH
14130: EMPTY
14131: LIST
14132: LIST
14133: ADD
14134: ST_TO_ADDR
14135: GO 14067
14137: POP
14138: POP
14139: GO 14036
14141: POP
14142: POP
// if not enemy then
14143: LD_VAR 0 4
14147: NOT
14148: IFFALSE 14174
// begin GameEnded = true ;
14150: LD_ADDR_LOC 8
14154: PUSH
14155: LD_INT 1
14157: ST_TO_ADDR
// if not defaited [ your_side ] then
14158: LD_LOC 7
14162: PUSH
14163: LD_OWVAR 2
14167: ARRAY
14168: NOT
14169: IFFALSE 14174
// enable ( 401 ) ;
14171: LD_INT 401
14173: ENABLE_MARKED
// end ; end ;
14174: LD_VAR 0 1
14178: RET
// function unfog ; var k , friends ; begin
14179: LD_INT 0
14181: PPUSH
14182: PPUSH
14183: PPUSH
// for k = 1 to side_positions do
14184: LD_ADDR_VAR 0 2
14188: PUSH
14189: DOUBLE
14190: LD_INT 1
14192: DEC
14193: ST_TO_ADDR
14194: LD_EXP 75
14198: PUSH
14199: FOR_TO
14200: IFFALSE 14256
// if not defaited [ k ] then
14202: LD_LOC 7
14206: PUSH
14207: LD_VAR 0 2
14211: ARRAY
14212: NOT
14213: IFFALSE 14254
// if GetAttitude ( your_side , k ) in [ att_friend ] then
14215: LD_OWVAR 2
14219: PPUSH
14220: LD_VAR 0 2
14224: PPUSH
14225: CALL_OW 81
14229: PUSH
14230: LD_INT 1
14232: PUSH
14233: EMPTY
14234: LIST
14235: IN
14236: IFFALSE 14254
// friends = friends ^ k ;
14238: LD_ADDR_VAR 0 3
14242: PUSH
14243: LD_VAR 0 3
14247: PUSH
14248: LD_VAR 0 2
14252: ADD
14253: ST_TO_ADDR
14254: GO 14199
14256: POP
14257: POP
// if not friends then
14258: LD_VAR 0 3
14262: NOT
14263: IFFALSE 14280
// begin fogoff ( true ) ;
14265: LD_INT 1
14267: PPUSH
14268: CALL_OW 344
// unfoged = true ;
14272: LD_ADDR_LOC 9
14276: PUSH
14277: LD_INT 1
14279: ST_TO_ADDR
// end ; end ;
14280: LD_VAR 0 1
14284: RET
// export function MakeGameEnd ; begin
14285: LD_INT 0
14287: PPUSH
// fogoff ( true ) ;
14288: LD_INT 1
14290: PPUSH
14291: CALL_OW 344
// unfoged = true ;
14295: LD_ADDR_LOC 9
14299: PUSH
14300: LD_INT 1
14302: ST_TO_ADDR
// wait ( 0 0$5 ) ;
14303: LD_INT 175
14305: PPUSH
14306: CALL_OW 67
// GameEnded = true ;
14310: LD_ADDR_LOC 8
14314: PUSH
14315: LD_INT 1
14317: ST_TO_ADDR
// end ;
14318: LD_VAR 0 1
14322: RET
// export function GetGameEnded ; begin
14323: LD_INT 0
14325: PPUSH
// result = GameEnded ;
14326: LD_ADDR_VAR 0 1
14330: PUSH
14331: LD_LOC 8
14335: ST_TO_ADDR
// end ; end_of_file
14336: LD_VAR 0 1
14340: RET
// var nations , amount_of_players ; export ApesAreas ; function apeman_init ; var ape_names ; begin
14341: LD_INT 0
14343: PPUSH
14344: PPUSH
// uc_side := 0 ;
14345: LD_ADDR_OWVAR 20
14349: PUSH
14350: LD_INT 0
14352: ST_TO_ADDR
// uc_nation := nation_nature ;
14353: LD_ADDR_OWVAR 21
14357: PUSH
14358: LD_INT 0
14360: ST_TO_ADDR
// ape_names = [ Tupoun , Opoce , Opka , Butrus , Bubu , Condor , Kuklajs , Simon , Ugh , Urgh , Argh , Aargh , Hrumph , Grumph , Oorg , Eghrr , Rrrr , Bark , Wraughrr , :-) , Semik , Hrgh , Hur , Havran , Nazghul , Brutal , Kato Zluta Opoce , Monkey , Yeargh , Marta , Batman , Barkman , Xcenovsk , David Love , Freon , Stoupik , Quik , Jam Prckovic Laren , CFC , Kvakous , Sumys , Agent , Nazghul , Havran , Vrana , Havranek , Carlos Frank , Tekar , Andy , Angela , Janina , Shipanze , Simpan , Nazghulik , Potrusil , Potrus , Butrus , Potrusil , Simon , Auuu , NEMO , Silena opice , Meuznenapadazadnejmeno , Uhrun , Marmelada , Negr , Fnuk , Slim , Kvak , Dave , Bruntal , Arnie , Polda , Jen , Siddha , Silnickar , Bukvice , Zalud , Elvis , Nazghul , Chruadfa , Nazghul , Kato Yellow Ape , Cpt. Ape , King Of The Hill , Pterinochilus , Bad Platypus , Really Bad Ape , Looser , Looser , Looser , Megadeth , Mad Ape , Wraughhhh , ":) ] ;
14361: LD_ADDR_VAR 0 2
14365: PUSH
14366: LD_STRING Tupoun
14368: PUSH
14369: LD_STRING Opoce
14371: PUSH
14372: LD_STRING Opka
14374: PUSH
14375: LD_STRING Butrus
14377: PUSH
14378: LD_STRING Bubu
14380: PUSH
14381: LD_STRING Condor
14383: PUSH
14384: LD_STRING Kuklajs
14386: PUSH
14387: LD_STRING Simon
14389: PUSH
14390: LD_STRING Ugh
14392: PUSH
14393: LD_STRING Urgh
14395: PUSH
14396: LD_STRING Argh
14398: PUSH
14399: LD_STRING Aargh
14401: PUSH
14402: LD_STRING Hrumph
14404: PUSH
14405: LD_STRING Grumph
14407: PUSH
14408: LD_STRING Oorg
14410: PUSH
14411: LD_STRING Eghrr
14413: PUSH
14414: LD_STRING Rrrr
14416: PUSH
14417: LD_STRING Bark
14419: PUSH
14420: LD_STRING Wraughrr
14422: PUSH
14423: LD_STRING :-)
14425: PUSH
14426: LD_STRING Semik
14428: PUSH
14429: LD_STRING Hrgh
14431: PUSH
14432: LD_STRING Hur
14434: PUSH
14435: LD_STRING Havran
14437: PUSH
14438: LD_STRING Nazghul
14440: PUSH
14441: LD_STRING Brutal
14443: PUSH
14444: LD_STRING Kato Zluta Opoce
14446: PUSH
14447: LD_STRING Monkey
14449: PUSH
14450: LD_STRING Yeargh
14452: PUSH
14453: LD_STRING Marta
14455: PUSH
14456: LD_STRING Batman
14458: PUSH
14459: LD_STRING Barkman
14461: PUSH
14462: LD_STRING Xcenovsk
14464: PUSH
14465: LD_STRING David Love
14467: PUSH
14468: LD_STRING Freon
14470: PUSH
14471: LD_STRING Stoupik
14473: PUSH
14474: LD_STRING Quik
14476: PUSH
14477: LD_STRING Jam Prckovic Laren
14479: PUSH
14480: LD_STRING CFC
14482: PUSH
14483: LD_STRING Kvakous
14485: PUSH
14486: LD_STRING Sumys
14488: PUSH
14489: LD_STRING Agent
14491: PUSH
14492: LD_STRING Nazghul
14494: PUSH
14495: LD_STRING Havran
14497: PUSH
14498: LD_STRING Vrana
14500: PUSH
14501: LD_STRING Havranek
14503: PUSH
14504: LD_STRING Carlos Frank
14506: PUSH
14507: LD_STRING Tekar
14509: PUSH
14510: LD_STRING Andy
14512: PUSH
14513: LD_STRING Angela
14515: PUSH
14516: LD_STRING Janina
14518: PUSH
14519: LD_STRING Shipanze
14521: PUSH
14522: LD_STRING Simpan
14524: PUSH
14525: LD_STRING Nazghulik
14527: PUSH
14528: LD_STRING Potrusil
14530: PUSH
14531: LD_STRING Potrus
14533: PUSH
14534: LD_STRING Butrus
14536: PUSH
14537: LD_STRING Potrusil
14539: PUSH
14540: LD_STRING Simon
14542: PUSH
14543: LD_STRING Auuu
14545: PUSH
14546: LD_STRING NEMO
14548: PUSH
14549: LD_STRING Silena opice
14551: PUSH
14552: LD_STRING Meuznenapadazadnejmeno
14554: PUSH
14555: LD_STRING Uhrun
14557: PUSH
14558: LD_STRING Marmelada
14560: PUSH
14561: LD_STRING Negr
14563: PUSH
14564: LD_STRING Fnuk
14566: PUSH
14567: LD_STRING Slim
14569: PUSH
14570: LD_STRING Kvak
14572: PUSH
14573: LD_STRING Dave
14575: PUSH
14576: LD_STRING Bruntal
14578: PUSH
14579: LD_STRING Arnie
14581: PUSH
14582: LD_STRING Polda
14584: PUSH
14585: LD_STRING Jen
14587: PUSH
14588: LD_STRING Siddha
14590: PUSH
14591: LD_STRING Silnickar
14593: PUSH
14594: LD_STRING Bukvice
14596: PUSH
14597: LD_STRING Zalud
14599: PUSH
14600: LD_STRING Elvis
14602: PUSH
14603: LD_STRING Nazghul
14605: PUSH
14606: LD_STRING Chruadfa
14608: PUSH
14609: LD_STRING Nazghul
14611: PUSH
14612: LD_STRING Kato Yellow Ape
14614: PUSH
14615: LD_STRING Cpt. Ape
14617: PUSH
14618: LD_STRING King Of The Hill
14620: PUSH
14621: LD_STRING Pterinochilus
14623: PUSH
14624: LD_STRING Bad Platypus
14626: PUSH
14627: LD_STRING Really Bad Ape
14629: PUSH
14630: LD_STRING Looser
14632: PUSH
14633: LD_STRING Looser
14635: PUSH
14636: LD_STRING Looser
14638: PUSH
14639: LD_STRING Megadeth
14641: PUSH
14642: LD_STRING Mad Ape
14644: PUSH
14645: LD_STRING Wraughhhh
14647: PUSH
14648: LD_STRING ":)
14650: PUSH
14651: EMPTY
14652: LIST
14653: LIST
14654: LIST
14655: LIST
14656: LIST
14657: LIST
14658: LIST
14659: LIST
14660: LIST
14661: LIST
14662: LIST
14663: LIST
14664: LIST
14665: LIST
14666: LIST
14667: LIST
14668: LIST
14669: LIST
14670: LIST
14671: LIST
14672: LIST
14673: LIST
14674: LIST
14675: LIST
14676: LIST
14677: LIST
14678: LIST
14679: LIST
14680: LIST
14681: LIST
14682: LIST
14683: LIST
14684: LIST
14685: LIST
14686: LIST
14687: LIST
14688: LIST
14689: LIST
14690: LIST
14691: LIST
14692: LIST
14693: LIST
14694: LIST
14695: LIST
14696: LIST
14697: LIST
14698: LIST
14699: LIST
14700: LIST
14701: LIST
14702: LIST
14703: LIST
14704: LIST
14705: LIST
14706: LIST
14707: LIST
14708: LIST
14709: LIST
14710: LIST
14711: LIST
14712: LIST
14713: LIST
14714: LIST
14715: LIST
14716: LIST
14717: LIST
14718: LIST
14719: LIST
14720: LIST
14721: LIST
14722: LIST
14723: LIST
14724: LIST
14725: LIST
14726: LIST
14727: LIST
14728: LIST
14729: LIST
14730: LIST
14731: LIST
14732: LIST
14733: LIST
14734: LIST
14735: LIST
14736: LIST
14737: LIST
14738: LIST
14739: LIST
14740: LIST
14741: LIST
14742: LIST
14743: LIST
14744: LIST
14745: LIST
14746: LIST
14747: ST_TO_ADDR
// hc_name = ape_names [ Rand ( 1 , ape_names ) ] ;
14748: LD_ADDR_OWVAR 26
14752: PUSH
14753: LD_VAR 0 2
14757: PUSH
14758: LD_INT 1
14760: PPUSH
14761: LD_VAR 0 2
14765: PPUSH
14766: CALL_OW 12
14770: ARRAY
14771: ST_TO_ADDR
// randomHumanStats ( initial_level - 2 ) ;
14772: LD_EXP 42
14776: PUSH
14777: LD_INT 2
14779: MINUS
14780: PPUSH
14781: CALL 17353 0 1
// hc_class := class_apeman ;
14785: LD_ADDR_OWVAR 28
14789: PUSH
14790: LD_INT 12
14792: ST_TO_ADDR
// if hc_attr [ 2 ] < 12 then
14793: LD_OWVAR 29
14797: PUSH
14798: LD_INT 2
14800: ARRAY
14801: PUSH
14802: LD_INT 12
14804: LESS
14805: IFFALSE 14844
// hc_attr = [ hc_attr [ 1 ] + 5 , hc_attr [ 2 ] + 1 ] else
14807: LD_ADDR_OWVAR 29
14811: PUSH
14812: LD_OWVAR 29
14816: PUSH
14817: LD_INT 1
14819: ARRAY
14820: PUSH
14821: LD_INT 5
14823: PLUS
14824: PUSH
14825: LD_OWVAR 29
14829: PUSH
14830: LD_INT 2
14832: ARRAY
14833: PUSH
14834: LD_INT 1
14836: PLUS
14837: PUSH
14838: EMPTY
14839: LIST
14840: LIST
14841: ST_TO_ADDR
14842: GO 14875
// hc_attr = [ hc_attr [ 1 ] + 5 , hc_attr [ 2 ] ] ;
14844: LD_ADDR_OWVAR 29
14848: PUSH
14849: LD_OWVAR 29
14853: PUSH
14854: LD_INT 1
14856: ARRAY
14857: PUSH
14858: LD_INT 5
14860: PLUS
14861: PUSH
14862: LD_OWVAR 29
14866: PUSH
14867: LD_INT 2
14869: ARRAY
14870: PUSH
14871: EMPTY
14872: LIST
14873: LIST
14874: ST_TO_ADDR
// hc_sex := sex_male ;
14875: LD_ADDR_OWVAR 27
14879: PUSH
14880: LD_INT 1
14882: ST_TO_ADDR
// hc_importance := 0 ;
14883: LD_ADDR_OWVAR 32
14887: PUSH
14888: LD_INT 0
14890: ST_TO_ADDR
// hc_agressivity := Rand ( - 20 , 20 ) ;
14891: LD_ADDR_OWVAR 35
14895: PUSH
14896: LD_INT 20
14898: NEG
14899: PPUSH
14900: LD_INT 20
14902: PPUSH
14903: CALL_OW 12
14907: ST_TO_ADDR
// end ;
14908: LD_VAR 0 1
14912: RET
// every 0 0$15 + 0 0$1 marked 493 do var i , a , ape ;
14913: GO 14915
14915: DISABLE
14916: LD_INT 0
14918: PPUSH
14919: PPUSH
14920: PPUSH
// begin repeat ape = FilterAllUnits ( [ [ f_side , 0 ] , [ f_class , class_apeman ] ] ) ;
14921: LD_ADDR_VAR 0 3
14925: PUSH
14926: LD_INT 22
14928: PUSH
14929: LD_INT 0
14931: PUSH
14932: EMPTY
14933: LIST
14934: LIST
14935: PUSH
14936: LD_INT 25
14938: PUSH
14939: LD_INT 12
14941: PUSH
14942: EMPTY
14943: LIST
14944: LIST
14945: PUSH
14946: EMPTY
14947: LIST
14948: LIST
14949: PPUSH
14950: CALL_OW 69
14954: ST_TO_ADDR
// Wait ( ( ape + 1 ) * Rand ( 0 0$10 , 1 1$0 ) ) ;
14955: LD_VAR 0 3
14959: PUSH
14960: LD_INT 1
14962: PLUS
14963: PUSH
14964: LD_INT 350
14966: PPUSH
14967: LD_INT 2100
14969: PPUSH
14970: CALL_OW 12
14974: MUL
14975: PPUSH
14976: CALL_OW 67
// until ape <= ( spawning_koef_of_apemen / 6 ) * amount_of_players ;
14980: LD_VAR 0 3
14984: PUSH
14985: LD_EXP 47
14989: PUSH
14990: LD_INT 6
14992: DIVREAL
14993: PUSH
14994: LD_LOC 11
14998: MUL
14999: LESSEQUAL
15000: IFFALSE 14921
// for i = 1 to spawning_koef_of_apemen / 5 do
15002: LD_ADDR_VAR 0 1
15006: PUSH
15007: DOUBLE
15008: LD_INT 1
15010: DEC
15011: ST_TO_ADDR
15012: LD_EXP 47
15016: PUSH
15017: LD_INT 5
15019: DIVREAL
15020: PUSH
15021: FOR_TO
15022: IFFALSE 15124
// if ApesAreas then
15024: LD_EXP 105
15028: IFFALSE 15077
// begin for a in ApesAreas do
15030: LD_ADDR_VAR 0 2
15034: PUSH
15035: LD_EXP 105
15039: PUSH
15040: FOR_IN
15041: IFFALSE 15073
// begin apeman_init ;
15043: CALL 14341 0 0
// PlaceUnitArea ( CreateHuman , a , false ) ;
15047: CALL_OW 44
15051: PPUSH
15052: LD_VAR 0 2
15056: PPUSH
15057: LD_INT 0
15059: PPUSH
15060: CALL_OW 49
// Wait ( 3 ) ;
15064: LD_INT 3
15066: PPUSH
15067: CALL_OW 67
// end ;
15071: GO 15040
15073: POP
15074: POP
// end else
15075: GO 15122
// begin for a = 1 to amount_of_players do
15077: LD_ADDR_VAR 0 2
15081: PUSH
15082: DOUBLE
15083: LD_INT 1
15085: DEC
15086: ST_TO_ADDR
15087: LD_LOC 11
15091: PUSH
15092: FOR_TO
15093: IFFALSE 15120
// begin apeman_init ;
15095: CALL 14341 0 0
// PlaceUnitAnywhere ( CreateHuman , false ) ;
15099: CALL_OW 44
15103: PPUSH
15104: LD_INT 0
15106: PPUSH
15107: CALL_OW 51
// Wait ( 3 ) ;
15111: LD_INT 3
15113: PPUSH
15114: CALL_OW 67
// end ;
15118: GO 15092
15120: POP
15121: POP
// end ;
15122: GO 15021
15124: POP
15125: POP
// wait ( rand ( 1 1$0 , 5 5$0 ) ) ;
15126: LD_INT 2100
15128: PPUSH
15129: LD_INT 10500
15131: PPUSH
15132: CALL_OW 12
15136: PPUSH
15137: CALL_OW 67
// end ;
15141: PPOPN 3
15143: END
// export function StartApe ; var i , ape ; begin
15144: LD_INT 0
15146: PPUSH
15147: PPUSH
15148: PPUSH
// for i := 1 to 8 do
15149: LD_ADDR_VAR 0 2
15153: PUSH
15154: DOUBLE
15155: LD_INT 1
15157: DEC
15158: ST_TO_ADDR
15159: LD_INT 8
15161: PUSH
15162: FOR_TO
15163: IFFALSE 15197
// if Side_Positions [ i ] <> 0 then
15165: LD_EXP 75
15169: PUSH
15170: LD_VAR 0 2
15174: ARRAY
15175: PUSH
15176: LD_INT 0
15178: NONEQUAL
15179: IFFALSE 15195
// amount_of_players := amount_of_players + 1 ;
15181: LD_ADDR_LOC 11
15185: PUSH
15186: LD_LOC 11
15190: PUSH
15191: LD_INT 1
15193: PLUS
15194: ST_TO_ADDR
15195: GO 15162
15197: POP
15198: POP
// if game_type in GT_doublenat ^ GT_doublepeople then
15199: LD_EXP 1
15203: PUSH
15204: LD_EXP 3
15208: PUSH
15209: LD_EXP 4
15213: ADD
15214: IN
15215: IFFALSE 15233
// amount_of_players = amount_of_players * 2 else
15217: LD_ADDR_LOC 11
15221: PUSH
15222: LD_LOC 11
15226: PUSH
15227: LD_INT 2
15229: MUL
15230: ST_TO_ADDR
15231: GO 15259
// if game_type = GT_TripleNat then
15233: LD_EXP 1
15237: PUSH
15238: LD_EXP 5
15242: EQUAL
15243: IFFALSE 15259
// amount_of_players = amount_of_players * 3 ;
15245: LD_ADDR_LOC 11
15249: PUSH
15250: LD_LOC 11
15254: PUSH
15255: LD_INT 3
15257: MUL
15258: ST_TO_ADDR
// for i = 1 to Rand ( 2 , 7 ) do
15259: LD_ADDR_VAR 0 2
15263: PUSH
15264: DOUBLE
15265: LD_INT 1
15267: DEC
15268: ST_TO_ADDR
15269: LD_INT 2
15271: PPUSH
15272: LD_INT 7
15274: PPUSH
15275: CALL_OW 12
15279: PUSH
15280: FOR_TO
15281: IFFALSE 15311
// begin apeman_init ;
15283: CALL 14341 0 0
// ape := CreateHuman ;
15287: LD_ADDR_VAR 0 3
15291: PUSH
15292: CALL_OW 44
15296: ST_TO_ADDR
// PlaceUnitAnywhere ( ape , false ) ;
15297: LD_VAR 0 3
15301: PPUSH
15302: LD_INT 0
15304: PPUSH
15305: CALL_OW 51
// end ;
15309: GO 15280
15311: POP
15312: POP
// end ;
15313: LD_VAR 0 1
15317: RET
// function tiger_init ; var tiger_names ; begin
15318: LD_INT 0
15320: PPUSH
15321: PPUSH
// uc_side := 0 ;
15322: LD_ADDR_OWVAR 20
15326: PUSH
15327: LD_INT 0
15329: ST_TO_ADDR
// uc_nation := nation_nature ;
15330: LD_ADDR_OWVAR 21
15334: PUSH
15335: LD_INT 0
15337: ST_TO_ADDR
// tiger_names = [ Fredy , Montana , Pishkot , Sikorski , Riko , Kowalrski , Neo , Kessi , Riko , Lulu , Edie , Edy , Roxy , Roxas , Beast , Drago , Draco , Ali , Lessie , White Fang , Chess , Nora , Shriek , Bl Tesk , Barkman , Meuznenapadazadnejmeno , Ihavenotthinkofanyname , Hiro , Scooby , Fantasy , Troll , Baltazar , Pamella , Kleopatra , Ceasar , Gimmy , Scooby Dooby Doo , Yogi , Brutal , Brutus , Janina , Crazy , Jen , Jenova , Kiosuke , Akamaru ] ;
15338: LD_ADDR_VAR 0 2
15342: PUSH
15343: LD_STRING Fredy
15345: PUSH
15346: LD_STRING Montana
15348: PUSH
15349: LD_STRING Pishkot
15351: PUSH
15352: LD_STRING Sikorski
15354: PUSH
15355: LD_STRING Riko
15357: PUSH
15358: LD_STRING Kowalrski
15360: PUSH
15361: LD_STRING Neo
15363: PUSH
15364: LD_STRING Kessi
15366: PUSH
15367: LD_STRING Riko
15369: PUSH
15370: LD_STRING Lulu
15372: PUSH
15373: LD_STRING Edie
15375: PUSH
15376: LD_STRING Edy
15378: PUSH
15379: LD_STRING Roxy
15381: PUSH
15382: LD_STRING Roxas
15384: PUSH
15385: LD_STRING Beast
15387: PUSH
15388: LD_STRING Drago
15390: PUSH
15391: LD_STRING Draco
15393: PUSH
15394: LD_STRING Ali
15396: PUSH
15397: LD_STRING Lessie
15399: PUSH
15400: LD_STRING White Fang
15402: PUSH
15403: LD_STRING Chess
15405: PUSH
15406: LD_STRING Nora
15408: PUSH
15409: LD_STRING Shriek
15411: PUSH
15412: LD_STRING Bl Tesk
15414: PUSH
15415: LD_STRING Barkman
15417: PUSH
15418: LD_STRING Meuznenapadazadnejmeno
15420: PUSH
15421: LD_STRING Ihavenotthinkofanyname
15423: PUSH
15424: LD_STRING Hiro
15426: PUSH
15427: LD_STRING Scooby
15429: PUSH
15430: LD_STRING Fantasy
15432: PUSH
15433: LD_STRING Troll
15435: PUSH
15436: LD_STRING Baltazar
15438: PUSH
15439: LD_STRING Pamella
15441: PUSH
15442: LD_STRING Kleopatra
15444: PUSH
15445: LD_STRING Ceasar
15447: PUSH
15448: LD_STRING Gimmy
15450: PUSH
15451: LD_STRING Scooby Dooby Doo
15453: PUSH
15454: LD_STRING Yogi
15456: PUSH
15457: LD_STRING Brutal
15459: PUSH
15460: LD_STRING Brutus
15462: PUSH
15463: LD_STRING Janina
15465: PUSH
15466: LD_STRING Crazy
15468: PUSH
15469: LD_STRING Jen
15471: PUSH
15472: LD_STRING Jenova
15474: PUSH
15475: LD_STRING Kiosuke
15477: PUSH
15478: LD_STRING Akamaru
15480: PUSH
15481: EMPTY
15482: LIST
15483: LIST
15484: LIST
15485: LIST
15486: LIST
15487: LIST
15488: LIST
15489: LIST
15490: LIST
15491: LIST
15492: LIST
15493: LIST
15494: LIST
15495: LIST
15496: LIST
15497: LIST
15498: LIST
15499: LIST
15500: LIST
15501: LIST
15502: LIST
15503: LIST
15504: LIST
15505: LIST
15506: LIST
15507: LIST
15508: LIST
15509: LIST
15510: LIST
15511: LIST
15512: LIST
15513: LIST
15514: LIST
15515: LIST
15516: LIST
15517: LIST
15518: LIST
15519: LIST
15520: LIST
15521: LIST
15522: LIST
15523: LIST
15524: LIST
15525: LIST
15526: LIST
15527: LIST
15528: ST_TO_ADDR
// hc_name = tiger_names [ Rand ( 1 , tiger_names ) ] ;
15529: LD_ADDR_OWVAR 26
15533: PUSH
15534: LD_VAR 0 2
15538: PUSH
15539: LD_INT 1
15541: PPUSH
15542: LD_VAR 0 2
15546: PPUSH
15547: CALL_OW 12
15551: ARRAY
15552: ST_TO_ADDR
// randomHumanStats ( initial_level - 2 ) ;
15553: LD_EXP 42
15557: PUSH
15558: LD_INT 2
15560: MINUS
15561: PPUSH
15562: CALL 17353 0 1
// hc_class := class_tiger ;
15566: LD_ADDR_OWVAR 28
15570: PUSH
15571: LD_INT 14
15573: ST_TO_ADDR
// hc_attr = [ hc_attr [ 1 ] + 2 , hc_attr [ 2 ] + 1 ] ;
15574: LD_ADDR_OWVAR 29
15578: PUSH
15579: LD_OWVAR 29
15583: PUSH
15584: LD_INT 1
15586: ARRAY
15587: PUSH
15588: LD_INT 2
15590: PLUS
15591: PUSH
15592: LD_OWVAR 29
15596: PUSH
15597: LD_INT 2
15599: ARRAY
15600: PUSH
15601: LD_INT 1
15603: PLUS
15604: PUSH
15605: EMPTY
15606: LIST
15607: LIST
15608: ST_TO_ADDR
// hc_sex := sex_male ;
15609: LD_ADDR_OWVAR 27
15613: PUSH
15614: LD_INT 1
15616: ST_TO_ADDR
// hc_importance := 0 ;
15617: LD_ADDR_OWVAR 32
15621: PUSH
15622: LD_INT 0
15624: ST_TO_ADDR
// hc_agressivity := Rand ( 10 , 50 ) ;
15625: LD_ADDR_OWVAR 35
15629: PUSH
15630: LD_INT 10
15632: PPUSH
15633: LD_INT 50
15635: PPUSH
15636: CALL_OW 12
15640: ST_TO_ADDR
// end ;
15641: LD_VAR 0 1
15645: RET
// every 0 0$15 + 0 0$1 marked 494 do var i , d , tig ;
15646: GO 15648
15648: DISABLE
15649: LD_INT 0
15651: PPUSH
15652: PPUSH
15653: PPUSH
// begin case tick of 1 .. 1 1$0 :
15654: LD_OWVAR 1
15658: PUSH
15659: LD_INT 1
15661: DOUBLE
15662: GREATEREQUAL
15663: IFFALSE 15671
15665: LD_INT 2100
15667: DOUBLE
15668: LESSEQUAL
15669: IFTRUE 15673
15671: GO 15684
15673: POP
// d := 15 ; 1 1$0 + 1 .. 2 2$0 :
15674: LD_ADDR_VAR 0 2
15678: PUSH
15679: LD_INT 15
15681: ST_TO_ADDR
15682: GO 15780
15684: LD_INT 2100
15686: PUSH
15687: LD_INT 1
15689: PLUS
15690: DOUBLE
15691: GREATEREQUAL
15692: IFFALSE 15700
15694: LD_INT 4200
15696: DOUBLE
15697: LESSEQUAL
15698: IFTRUE 15702
15700: GO 15713
15702: POP
// d := 14 ; 20 20$0 + 1 .. 50 50$0 :
15703: LD_ADDR_VAR 0 2
15707: PUSH
15708: LD_INT 14
15710: ST_TO_ADDR
15711: GO 15780
15713: LD_INT 42000
15715: PUSH
15716: LD_INT 1
15718: PLUS
15719: DOUBLE
15720: GREATEREQUAL
15721: IFFALSE 15729
15723: LD_INT 105000
15725: DOUBLE
15726: LESSEQUAL
15727: IFTRUE 15731
15729: GO 15742
15731: POP
// d := 12 ; 50 50$0 + 1 .. 300 300$0 :
15732: LD_ADDR_VAR 0 2
15736: PUSH
15737: LD_INT 12
15739: ST_TO_ADDR
15740: GO 15780
15742: LD_INT 105000
15744: PUSH
15745: LD_INT 1
15747: PLUS
15748: DOUBLE
15749: GREATEREQUAL
15750: IFFALSE 15758
15752: LD_INT 630000
15754: DOUBLE
15755: LESSEQUAL
15756: IFTRUE 15760
15758: GO 15771
15760: POP
// d := 11 ; else
15761: LD_ADDR_VAR 0 2
15765: PUSH
15766: LD_INT 11
15768: ST_TO_ADDR
15769: GO 15780
15771: POP
// d := 9 ; end ;
15772: LD_ADDR_VAR 0 2
15776: PUSH
15777: LD_INT 9
15779: ST_TO_ADDR
// i = FilterAllUnits ( [ [ f_side , 0 ] , [ f_class , class_tiger ] ] ) ;
15780: LD_ADDR_VAR 0 1
15784: PUSH
15785: LD_INT 22
15787: PUSH
15788: LD_INT 0
15790: PUSH
15791: EMPTY
15792: LIST
15793: LIST
15794: PUSH
15795: LD_INT 25
15797: PUSH
15798: LD_INT 14
15800: PUSH
15801: EMPTY
15802: LIST
15803: LIST
15804: PUSH
15805: EMPTY
15806: LIST
15807: LIST
15808: PPUSH
15809: CALL_OW 69
15813: ST_TO_ADDR
// if i < ( spawning_koef_of_tiger / 14 * d ) then
15814: LD_VAR 0 1
15818: PUSH
15819: LD_EXP 48
15823: PUSH
15824: LD_INT 14
15826: DIVREAL
15827: PUSH
15828: LD_VAR 0 2
15832: MUL
15833: LESS
15834: IFFALSE 15890
// for i = 1 to Rand ( 1 , 2 ) do
15836: LD_ADDR_VAR 0 1
15840: PUSH
15841: DOUBLE
15842: LD_INT 1
15844: DEC
15845: ST_TO_ADDR
15846: LD_INT 1
15848: PPUSH
15849: LD_INT 2
15851: PPUSH
15852: CALL_OW 12
15856: PUSH
15857: FOR_TO
15858: IFFALSE 15888
// begin tiger_init ;
15860: CALL 15318 0 0
// tig := CreateHuman ;
15864: LD_ADDR_VAR 0 3
15868: PUSH
15869: CALL_OW 44
15873: ST_TO_ADDR
// PlaceUnitAnywhere ( tig , false ) ;
15874: LD_VAR 0 3
15878: PPUSH
15879: LD_INT 0
15881: PPUSH
15882: CALL_OW 51
// end ;
15886: GO 15857
15888: POP
15889: POP
// enable ;
15890: ENABLE
// end ;
15891: PPOPN 3
15893: END
// export function StartTig ; var i , tig ; begin
15894: LD_INT 0
15896: PPUSH
15897: PPUSH
15898: PPUSH
// for i = 1 to Rand ( 1 , 3 ) do
15899: LD_ADDR_VAR 0 2
15903: PUSH
15904: DOUBLE
15905: LD_INT 1
15907: DEC
15908: ST_TO_ADDR
15909: LD_INT 1
15911: PPUSH
15912: LD_INT 3
15914: PPUSH
15915: CALL_OW 12
15919: PUSH
15920: FOR_TO
15921: IFFALSE 15951
// begin tiger_init ;
15923: CALL 15318 0 0
// tig := CreateHuman ;
15927: LD_ADDR_VAR 0 3
15931: PUSH
15932: CALL_OW 44
15936: ST_TO_ADDR
// PlaceUnitAnywhere ( tig , false ) ;
15937: LD_VAR 0 3
15941: PPUSH
15942: LD_INT 0
15944: PPUSH
15945: CALL_OW 51
// end ;
15949: GO 15920
15951: POP
15952: POP
// end ; end_of_file
15953: LD_VAR 0 1
15957: RET
// var BaseNames ; export function InitDisplayNames ; var i , n , u , a , r ; begin
15958: LD_INT 0
15960: PPUSH
15961: PPUSH
15962: PPUSH
15963: PPUSH
15964: PPUSH
15965: PPUSH
// for i in FilterAllUnits ( [ [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_not , [ f_side , 0 ] ] ] ) do
15966: LD_ADDR_VAR 0 2
15970: PUSH
15971: LD_INT 2
15973: PUSH
15974: LD_INT 30
15976: PUSH
15977: LD_INT 0
15979: PUSH
15980: EMPTY
15981: LIST
15982: LIST
15983: PUSH
15984: LD_INT 30
15986: PUSH
15987: LD_INT 1
15989: PUSH
15990: EMPTY
15991: LIST
15992: LIST
15993: PUSH
15994: EMPTY
15995: LIST
15996: LIST
15997: LIST
15998: PUSH
15999: LD_INT 3
16001: PUSH
16002: LD_INT 22
16004: PUSH
16005: LD_INT 0
16007: PUSH
16008: EMPTY
16009: LIST
16010: LIST
16011: PUSH
16012: EMPTY
16013: LIST
16014: LIST
16015: PUSH
16016: EMPTY
16017: LIST
16018: LIST
16019: PPUSH
16020: CALL_OW 69
16024: PUSH
16025: FOR_IN
16026: IFFALSE 16053
// SetBName ( i , @ & GetSide ( i ) ) ;
16028: LD_VAR 0 2
16032: PPUSH
16033: LD_STRING @
16035: PUSH
16036: LD_VAR 0 2
16040: PPUSH
16041: CALL_OW 255
16045: STR
16046: PPUSH
16047: CALL_OW 500
16051: GO 16025
16053: POP
16054: POP
// n = [ Kasyr , Cabal , Nitheim , Vanidas , Adjun , Alcon , Anthara , Denebola , Izard , Kaus , Mira , Procyon , Sirius , Tyr , Revoria , Eterna , Korigul , freedom ] ;
16055: LD_ADDR_VAR 0 3
16059: PUSH
16060: LD_STRING Kasyr
16062: PUSH
16063: LD_STRING Cabal
16065: PUSH
16066: LD_STRING Nitheim
16068: PUSH
16069: LD_STRING Vanidas
16071: PUSH
16072: LD_STRING Adjun
16074: PUSH
16075: LD_STRING Alcon
16077: PUSH
16078: LD_STRING Anthara
16080: PUSH
16081: LD_STRING Denebola
16083: PUSH
16084: LD_STRING Izard
16086: PUSH
16087: LD_STRING Kaus
16089: PUSH
16090: LD_STRING Mira
16092: PUSH
16093: LD_STRING Procyon
16095: PUSH
16096: LD_STRING Sirius
16098: PUSH
16099: LD_STRING Tyr
16101: PUSH
16102: LD_STRING Revoria
16104: PUSH
16105: LD_STRING Eterna
16107: PUSH
16108: LD_STRING Korigul
16110: PUSH
16111: LD_STRING freedom
16113: PUSH
16114: EMPTY
16115: LIST
16116: LIST
16117: LIST
16118: LIST
16119: LIST
16120: LIST
16121: LIST
16122: LIST
16123: LIST
16124: LIST
16125: LIST
16126: LIST
16127: LIST
16128: LIST
16129: LIST
16130: LIST
16131: LIST
16132: LIST
16133: ST_TO_ADDR
// u = [ alpha , gamma , delta , epsilon , Kappa , omikron , terminal , viper ] ^ n ;
16134: LD_ADDR_VAR 0 4
16138: PUSH
16139: LD_STRING alpha
16141: PUSH
16142: LD_STRING gamma
16144: PUSH
16145: LD_STRING delta
16147: PUSH
16148: LD_STRING epsilon
16150: PUSH
16151: LD_STRING Kappa
16153: PUSH
16154: LD_STRING omikron
16156: PUSH
16157: LD_STRING terminal
16159: PUSH
16160: LD_STRING viper
16162: PUSH
16163: EMPTY
16164: LIST
16165: LIST
16166: LIST
16167: LIST
16168: LIST
16169: LIST
16170: LIST
16171: LIST
16172: PUSH
16173: LD_VAR 0 3
16177: ADD
16178: ST_TO_ADDR
// r = [ beria , kirov , kagan , ovsyenko , gorkij , trockij , bluekher , yegorob , ryutin , budonny , yakir ] ^ n ;
16179: LD_ADDR_VAR 0 6
16183: PUSH
16184: LD_STRING beria
16186: PUSH
16187: LD_STRING kirov
16189: PUSH
16190: LD_STRING kagan
16192: PUSH
16193: LD_STRING ovsyenko
16195: PUSH
16196: LD_STRING gorkij
16198: PUSH
16199: LD_STRING trockij
16201: PUSH
16202: LD_STRING bluekher
16204: PUSH
16205: LD_STRING yegorob
16207: PUSH
16208: LD_STRING ryutin
16210: PUSH
16211: LD_STRING budonny
16213: PUSH
16214: LD_STRING yakir
16216: PUSH
16217: EMPTY
16218: LIST
16219: LIST
16220: LIST
16221: LIST
16222: LIST
16223: LIST
16224: LIST
16225: LIST
16226: LIST
16227: LIST
16228: LIST
16229: PUSH
16230: LD_VAR 0 3
16234: ADD
16235: ST_TO_ADDR
// a = [ newkabul , newsamark , riyadh , jeddah , dammam ] ^ n ;
16236: LD_ADDR_VAR 0 5
16240: PUSH
16241: LD_STRING newkabul
16243: PUSH
16244: LD_STRING newsamark
16246: PUSH
16247: LD_STRING riyadh
16249: PUSH
16250: LD_STRING jeddah
16252: PUSH
16253: LD_STRING dammam
16255: PUSH
16256: EMPTY
16257: LIST
16258: LIST
16259: LIST
16260: LIST
16261: LIST
16262: PUSH
16263: LD_VAR 0 3
16267: ADD
16268: ST_TO_ADDR
// BaseNames = [ u , a , r ] ;
16269: LD_ADDR_LOC 12
16273: PUSH
16274: LD_VAR 0 4
16278: PUSH
16279: LD_VAR 0 5
16283: PUSH
16284: LD_VAR 0 6
16288: PUSH
16289: EMPTY
16290: LIST
16291: LIST
16292: LIST
16293: ST_TO_ADDR
// end ;
16294: LD_VAR 0 1
16298: RET
// export function NameBuildingComplete ( b ) ; begin
16299: LD_INT 0
16301: PPUSH
// end ;
16302: LD_VAR 0 2
16306: RET
// export function NameBuildingStarted ( b , h ) ; var n , i ; begin
16307: LD_INT 0
16309: PPUSH
16310: PPUSH
16311: PPUSH
// n = getNation ( b ) ;
16312: LD_ADDR_VAR 0 4
16316: PUSH
16317: LD_VAR 0 1
16321: PPUSH
16322: CALL_OW 248
16326: ST_TO_ADDR
// i = rand ( 1 , BaseNames [ n ] + 0 ) ;
16327: LD_ADDR_VAR 0 5
16331: PUSH
16332: LD_INT 1
16334: PPUSH
16335: LD_LOC 12
16339: PUSH
16340: LD_VAR 0 4
16344: ARRAY
16345: PUSH
16346: LD_INT 0
16348: PLUS
16349: PPUSH
16350: CALL_OW 12
16354: ST_TO_ADDR
// setBName ( b , BaseNames [ n ] [ i ] ) ;
16355: LD_VAR 0 1
16359: PPUSH
16360: LD_LOC 12
16364: PUSH
16365: LD_VAR 0 4
16369: ARRAY
16370: PUSH
16371: LD_VAR 0 5
16375: ARRAY
16376: PPUSH
16377: CALL_OW 500
// end ;
16381: LD_VAR 0 3
16385: RET
// export function NameBuildingCaptured ( b , o , e ) ; begin
16386: LD_INT 0
16388: PPUSH
// end ; end_of_file
16389: LD_VAR 0 4
16393: RET
// var strength , lastxwin , lastywin , lastxlost , lastylost ; function Update_Flags ; var un ; begin
16394: LD_INT 0
16396: PPUSH
16397: PPUSH
// for un in battle_flags_id do
16398: LD_ADDR_VAR 0 2
16402: PUSH
16403: LD_EXP 89
16407: PUSH
16408: FOR_IN
16409: IFFALSE 16484
// ChangeBattleFlagOptions ( un , [ [ bfo_defend_bonus_human , strength ] , [ bfo_defend_bonus_vehicle , strength div 2 ] , [ bfo_defend_bonus_building , strength div 5 ] , [ bfo_height , strength ] ] ) ;
16411: LD_VAR 0 2
16415: PPUSH
16416: LD_INT 1
16418: PUSH
16419: LD_LOC 13
16423: PUSH
16424: EMPTY
16425: LIST
16426: LIST
16427: PUSH
16428: LD_INT 2
16430: PUSH
16431: LD_LOC 13
16435: PUSH
16436: LD_INT 2
16438: DIV
16439: PUSH
16440: EMPTY
16441: LIST
16442: LIST
16443: PUSH
16444: LD_INT 3
16446: PUSH
16447: LD_LOC 13
16451: PUSH
16452: LD_INT 5
16454: DIV
16455: PUSH
16456: EMPTY
16457: LIST
16458: LIST
16459: PUSH
16460: LD_INT 20
16462: PUSH
16463: LD_LOC 13
16467: PUSH
16468: EMPTY
16469: LIST
16470: LIST
16471: PUSH
16472: EMPTY
16473: LIST
16474: LIST
16475: LIST
16476: LIST
16477: PPUSH
16478: CALL_OW 423
16482: GO 16408
16484: POP
16485: POP
// end ;
16486: LD_VAR 0 1
16490: RET
// every 0 0$0.1 do var un ;
16491: GO 16493
16493: DISABLE
16494: LD_INT 0
16496: PPUSH
// begin if not def_morale_flags then
16497: LD_EXP 20
16501: NOT
16502: IFFALSE 16506
// exit ;
16504: GO 16583
// if not morale_decreasing_time then
16506: LD_EXP 46
16510: NOT
16511: IFFALSE 16515
// exit ;
16513: GO 16583
// strength = 100 ;
16515: LD_ADDR_LOC 13
16519: PUSH
16520: LD_INT 100
16522: ST_TO_ADDR
// repeat wait ( morale_decreasing_time ) ;
16523: LD_EXP 46
16527: PPUSH
16528: CALL_OW 67
// strength := strength - 1 ;
16532: LD_ADDR_LOC 13
16536: PUSH
16537: LD_LOC 13
16541: PUSH
16542: LD_INT 1
16544: MINUS
16545: ST_TO_ADDR
// Update_Flags ;
16546: CALL 16394 0 0
// until not strength ;
16550: LD_LOC 13
16554: NOT
16555: IFFALSE 16523
// for un in battle_flags_id do
16557: LD_ADDR_VAR 0 1
16561: PUSH
16562: LD_EXP 89
16566: PUSH
16567: FOR_IN
16568: IFFALSE 16581
// KillBattleFlag ( un ) ;
16570: LD_VAR 0 1
16574: PPUSH
16575: CALL_OW 419
16579: GO 16567
16581: POP
16582: POP
// end ; end_of_file
16583: PPOPN 1
16585: END
// export MultiplayerTimeEnabled , WaitServerStrings , Display_kings , extraStrings , limitsStrings , CurrentTime , DebugStrings , Display_WFG ; export function GetMultiplayerTime ; begin
16586: LD_INT 0
16588: PPUSH
// Result = [ #gamespeed , game_speed - 4 ] ^ [ #Multi1x1-Time , tick ] ;
16589: LD_ADDR_VAR 0 1
16593: PUSH
16594: LD_STRING #gamespeed
16596: PUSH
16597: LD_OWVAR 65
16601: PUSH
16602: LD_INT 4
16604: MINUS
16605: PUSH
16606: EMPTY
16607: LIST
16608: LIST
16609: PUSH
16610: LD_STRING #Multi1x1-Time
16612: PUSH
16613: LD_OWVAR 1
16617: PUSH
16618: EMPTY
16619: LIST
16620: LIST
16621: ADD
16622: ST_TO_ADDR
// end ;
16623: LD_VAR 0 1
16627: RET
// export function InitMultiplayerTime ; begin
16628: LD_INT 0
16630: PPUSH
// MultiplayerTimeEnabled := true ;
16631: LD_ADDR_EXP 106
16635: PUSH
16636: LD_INT 1
16638: ST_TO_ADDR
// display_strings = GetMultiplayerTime ;
16639: LD_ADDR_OWVAR 47
16643: PUSH
16644: CALL 16586 0 0
16648: ST_TO_ADDR
// end ;
16649: LD_VAR 0 1
16653: RET
// export function ShowTimer ; var AllStrings ; begin
16654: LD_INT 0
16656: PPUSH
16657: PPUSH
// AllStrings = GetMultiplayerTime ;
16658: LD_ADDR_VAR 0 2
16662: PUSH
16663: CALL 16586 0 0
16667: ST_TO_ADDR
// if debug_strings then
16668: LD_OWVAR 48
16672: IFFALSE 16690
// AllStrings = AllStrings ^ debug_strings ;
16674: LD_ADDR_VAR 0 2
16678: PUSH
16679: LD_VAR 0 2
16683: PUSH
16684: LD_OWVAR 48
16688: ADD
16689: ST_TO_ADDR
// if 0 <= siberite_bomb_Delay - tick then
16690: LD_INT 0
16692: PUSH
16693: LD_EXP 67
16697: PUSH
16698: LD_OWVAR 1
16702: MINUS
16703: LESSEQUAL
16704: IFFALSE 16735
// AllStrings := AllStrings ^ [ #allowedsibbomb , siberite_bomb_Delay - tick ] ;
16706: LD_ADDR_VAR 0 2
16710: PUSH
16711: LD_VAR 0 2
16715: PUSH
16716: LD_STRING #allowedsibbomb
16718: PUSH
16719: LD_EXP 67
16723: PUSH
16724: LD_OWVAR 1
16728: MINUS
16729: PUSH
16730: EMPTY
16731: LIST
16732: LIST
16733: ADD
16734: ST_TO_ADDR
// if 0 <= buildUpTime_Delay - tick then
16735: LD_INT 0
16737: PUSH
16738: LD_EXP 66
16742: PUSH
16743: LD_OWVAR 1
16747: MINUS
16748: LESSEQUAL
16749: IFFALSE 16780
// AllStrings := AllStrings ^ [ #builduptime , buildUpTime_Delay - tick ] ;
16751: LD_ADDR_VAR 0 2
16755: PUSH
16756: LD_VAR 0 2
16760: PUSH
16761: LD_STRING #builduptime
16763: PUSH
16764: LD_EXP 66
16768: PUSH
16769: LD_OWVAR 1
16773: MINUS
16774: PUSH
16775: EMPTY
16776: LIST
16777: LIST
16778: ADD
16779: ST_TO_ADDR
// AllStrings := AllStrings ^ [ #TechLevel , Tech_Level ] ;
16780: LD_ADDR_VAR 0 2
16784: PUSH
16785: LD_VAR 0 2
16789: PUSH
16790: LD_STRING #TechLevel
16792: PUSH
16793: LD_EXP 56
16797: PUSH
16798: EMPTY
16799: LIST
16800: LIST
16801: ADD
16802: ST_TO_ADDR
// if ( CurrentTime ) then
16803: LD_EXP 111
16807: IFFALSE 16836
// AllStrings = AllStrings ^ [ #Daily-Time , CurrentTime ] ^  ;
16809: LD_ADDR_VAR 0 2
16813: PUSH
16814: LD_VAR 0 2
16818: PUSH
16819: LD_STRING #Daily-Time
16821: PUSH
16822: LD_EXP 111
16826: PUSH
16827: EMPTY
16828: LIST
16829: LIST
16830: ADD
16831: PUSH
16832: LD_STRING 
16834: ADD
16835: ST_TO_ADDR
// if ( WaitServerStrings ) then
16836: LD_EXP 107
16840: IFFALSE 16858
// AllStrings := AllStrings ^ WaitServerStrings ;
16842: LD_ADDR_VAR 0 2
16846: PUSH
16847: LD_VAR 0 2
16851: PUSH
16852: LD_EXP 107
16856: ADD
16857: ST_TO_ADDR
// if not isSGUI and ( Display_kings or Display_WFG ) then
16858: LD_OWVAR 83
16862: NOT
16863: PUSH
16864: LD_EXP 108
16868: PUSH
16869: LD_EXP 113
16873: OR
16874: AND
16875: IFFALSE 16975
// begin if def_public_score and Team_game then
16877: LD_EXP 34
16881: PUSH
16882: LD_EXP 80
16886: AND
16887: IFFALSE 16931
// AllStrings := AllStrings ^ [ #yourTeam , [ 3 , 1 , 2 , 7 ] [ player_team ] ] ;
16889: LD_ADDR_VAR 0 2
16893: PUSH
16894: LD_VAR 0 2
16898: PUSH
16899: LD_STRING #yourTeam
16901: PUSH
16902: LD_INT 3
16904: PUSH
16905: LD_INT 1
16907: PUSH
16908: LD_INT 2
16910: PUSH
16911: LD_INT 7
16913: PUSH
16914: EMPTY
16915: LIST
16916: LIST
16917: LIST
16918: LIST
16919: PUSH
16920: LD_EXP 71
16924: ARRAY
16925: PUSH
16926: EMPTY
16927: LIST
16928: LIST
16929: ADD
16930: ST_TO_ADDR
// if ( Display_kings ) then
16931: LD_EXP 108
16935: IFFALSE 16953
// AllStrings := AllStrings ^ Display_kings ;
16937: LD_ADDR_VAR 0 2
16941: PUSH
16942: LD_VAR 0 2
16946: PUSH
16947: LD_EXP 108
16951: ADD
16952: ST_TO_ADDR
// if ( Display_WFG ) then
16953: LD_EXP 113
16957: IFFALSE 16975
// AllStrings := AllStrings ^ Display_WFG ;
16959: LD_ADDR_VAR 0 2
16963: PUSH
16964: LD_VAR 0 2
16968: PUSH
16969: LD_EXP 113
16973: ADD
16974: ST_TO_ADDR
// end ; if ( ExtraStrings ) then
16975: LD_EXP 109
16979: IFFALSE 17001
// AllStrings := AllStrings ^  ^ ExtraStrings ;
16981: LD_ADDR_VAR 0 2
16985: PUSH
16986: LD_VAR 0 2
16990: PUSH
16991: LD_STRING 
16993: ADD
16994: PUSH
16995: LD_EXP 109
16999: ADD
17000: ST_TO_ADDR
// if ( LimitsStrings ) then
17001: LD_EXP 110
17005: IFFALSE 17027
// AllStrings := AllStrings ^  ^ LimitsStrings ;
17007: LD_ADDR_VAR 0 2
17011: PUSH
17012: LD_VAR 0 2
17016: PUSH
17017: LD_STRING 
17019: ADD
17020: PUSH
17021: LD_EXP 110
17025: ADD
17026: ST_TO_ADDR
// if ( DebugStrings ) then
17027: LD_EXP 112
17031: IFFALSE 17053
// AllStrings := AllStrings ^  ^ DebugStrings ;
17033: LD_ADDR_VAR 0 2
17037: PUSH
17038: LD_VAR 0 2
17042: PUSH
17043: LD_STRING 
17045: ADD
17046: PUSH
17047: LD_EXP 112
17051: ADD
17052: ST_TO_ADDR
// Display_Strings := AllStrings ;
17053: LD_ADDR_OWVAR 47
17057: PUSH
17058: LD_VAR 0 2
17062: ST_TO_ADDR
// end ;
17063: LD_VAR 0 1
17067: RET
// every 0 0$1 trigger MultiplayerTimeEnabled do
17068: LD_EXP 106
17072: IFFALSE 17082
17074: GO 17076
17076: DISABLE
// begin ShowTimer ;
17077: CALL 16654 0 0
// enable ;
17081: ENABLE
// end ; end_of_file
17082: END
// export MaxFlags ; export function ShowResources ( FullMapArea , EnableSiberitResurces , Range ) ; var k , k2 , i , d , r , u ; begin
17083: LD_INT 0
17085: PPUSH
17086: PPUSH
17087: PPUSH
17088: PPUSH
17089: PPUSH
17090: PPUSH
17091: PPUSH
// if range = 0 then
17092: LD_VAR 0 3
17096: PUSH
17097: LD_INT 0
17099: EQUAL
17100: IFFALSE 17110
// range = 400 ;
17102: LD_ADDR_VAR 0 3
17106: PUSH
17107: LD_INT 400
17109: ST_TO_ADDR
// r = range ;
17110: LD_ADDR_VAR 0 9
17114: PUSH
17115: LD_VAR 0 3
17119: ST_TO_ADDR
// d = GetListOfResourcesInArea ( FullMapArea ) ;
17120: LD_ADDR_VAR 0 8
17124: PUSH
17125: LD_VAR 0 1
17129: PPUSH
17130: CALL_OW 442
17134: ST_TO_ADDR
// for k = 1 to ( d / 3 ) do
17135: LD_ADDR_VAR 0 5
17139: PUSH
17140: DOUBLE
17141: LD_INT 1
17143: DEC
17144: ST_TO_ADDR
17145: LD_VAR 0 8
17149: PUSH
17150: LD_INT 3
17152: DIVREAL
17153: PUSH
17154: FOR_TO
17155: IFFALSE 17346
// begin k2 = k * 3 ;
17157: LD_ADDR_VAR 0 6
17161: PUSH
17162: LD_VAR 0 5
17166: PUSH
17167: LD_INT 3
17169: MUL
17170: ST_TO_ADDR
// for i = 1 to 8 do
17171: LD_ADDR_VAR 0 7
17175: PUSH
17176: DOUBLE
17177: LD_INT 1
17179: DEC
17180: ST_TO_ADDR
17181: LD_INT 8
17183: PUSH
17184: FOR_TO
17185: IFFALSE 17342
// begin if d [ k2 ] = 1 or ( d [ k2 ] = 2 and EnableSiberitResurces ) then
17187: LD_VAR 0 8
17191: PUSH
17192: LD_VAR 0 6
17196: ARRAY
17197: PUSH
17198: LD_INT 1
17200: EQUAL
17201: PUSH
17202: LD_VAR 0 8
17206: PUSH
17207: LD_VAR 0 6
17211: ARRAY
17212: PUSH
17213: LD_INT 2
17215: EQUAL
17216: PUSH
17217: LD_VAR 0 2
17221: AND
17222: OR
17223: IFFALSE 17340
// begin u = filterAllUnits ( [ [ f_side , i ] , [ f_distxy , d [ k2 - 2 ] , d [ k2 - 1 ] , r ] ] ) ;
17225: LD_ADDR_VAR 0 10
17229: PUSH
17230: LD_INT 22
17232: PUSH
17233: LD_VAR 0 7
17237: PUSH
17238: EMPTY
17239: LIST
17240: LIST
17241: PUSH
17242: LD_INT 92
17244: PUSH
17245: LD_VAR 0 8
17249: PUSH
17250: LD_VAR 0 6
17254: PUSH
17255: LD_INT 2
17257: MINUS
17258: ARRAY
17259: PUSH
17260: LD_VAR 0 8
17264: PUSH
17265: LD_VAR 0 6
17269: PUSH
17270: LD_INT 1
17272: MINUS
17273: ARRAY
17274: PUSH
17275: LD_VAR 0 9
17279: PUSH
17280: EMPTY
17281: LIST
17282: LIST
17283: LIST
17284: LIST
17285: PUSH
17286: EMPTY
17287: LIST
17288: LIST
17289: PPUSH
17290: CALL_OW 69
17294: ST_TO_ADDR
// if u then
17295: LD_VAR 0 10
17299: IFFALSE 17340
// SetResourceVisibility ( d [ k2 - 2 ] , d [ k2 - 1 ] , i ) ;
17301: LD_VAR 0 8
17305: PUSH
17306: LD_VAR 0 6
17310: PUSH
17311: LD_INT 2
17313: MINUS
17314: ARRAY
17315: PPUSH
17316: LD_VAR 0 8
17320: PUSH
17321: LD_VAR 0 6
17325: PUSH
17326: LD_INT 1
17328: MINUS
17329: ARRAY
17330: PPUSH
17331: LD_VAR 0 7
17335: PPUSH
17336: CALL_OW 441
// end ; end ;
17340: GO 17184
17342: POP
17343: POP
// end ;
17344: GO 17154
17346: POP
17347: POP
// end ;
17348: LD_VAR 0 4
17352: RET
// export function randomHumanStats ( init_level ) ; var cl , combat , eng , mech , sci , skills , base_skills , attr ; var i , k , base , n , def , speed ; begin
17353: LD_INT 0
17355: PPUSH
17356: PPUSH
17357: PPUSH
17358: PPUSH
17359: PPUSH
17360: PPUSH
17361: PPUSH
17362: PPUSH
17363: PPUSH
17364: PPUSH
17365: PPUSH
17366: PPUSH
17367: PPUSH
17368: PPUSH
17369: PPUSH
// cl = rand ( 1 , 4 ) ;
17370: LD_ADDR_VAR 0 3
17374: PUSH
17375: LD_INT 1
17377: PPUSH
17378: LD_INT 4
17380: PPUSH
17381: CALL_OW 12
17385: ST_TO_ADDR
// base = init_level ;
17386: LD_ADDR_VAR 0 13
17390: PUSH
17391: LD_VAR 0 1
17395: ST_TO_ADDR
// case tick of 0 .. 5 5$00 :
17396: LD_OWVAR 1
17400: PUSH
17401: LD_INT 0
17403: DOUBLE
17404: GREATEREQUAL
17405: IFFALSE 17413
17407: LD_INT 10500
17409: DOUBLE
17410: LESSEQUAL
17411: IFTRUE 17415
17413: GO 17426
17415: POP
// i = 1 ; 5 5$01 .. 9 9$00 :
17416: LD_ADDR_VAR 0 11
17420: PUSH
17421: LD_INT 1
17423: ST_TO_ADDR
17424: GO 17685
17426: LD_INT 10535
17428: DOUBLE
17429: GREATEREQUAL
17430: IFFALSE 17438
17432: LD_INT 18900
17434: DOUBLE
17435: LESSEQUAL
17436: IFTRUE 17440
17438: GO 17451
17440: POP
// i = 2 ; 9 9$01 .. 15 15$00 :
17441: LD_ADDR_VAR 0 11
17445: PUSH
17446: LD_INT 2
17448: ST_TO_ADDR
17449: GO 17685
17451: LD_INT 18935
17453: DOUBLE
17454: GREATEREQUAL
17455: IFFALSE 17463
17457: LD_INT 31500
17459: DOUBLE
17460: LESSEQUAL
17461: IFTRUE 17465
17463: GO 17476
17465: POP
// i = 3 ; 15 15$01 .. 22 22$00 :
17466: LD_ADDR_VAR 0 11
17470: PUSH
17471: LD_INT 3
17473: ST_TO_ADDR
17474: GO 17685
17476: LD_INT 31535
17478: DOUBLE
17479: GREATEREQUAL
17480: IFFALSE 17488
17482: LD_INT 46200
17484: DOUBLE
17485: LESSEQUAL
17486: IFTRUE 17490
17488: GO 17501
17490: POP
// i = 4 ; 22 22$01 .. 30 30$00 :
17491: LD_ADDR_VAR 0 11
17495: PUSH
17496: LD_INT 4
17498: ST_TO_ADDR
17499: GO 17685
17501: LD_INT 46235
17503: DOUBLE
17504: GREATEREQUAL
17505: IFFALSE 17513
17507: LD_INT 63000
17509: DOUBLE
17510: LESSEQUAL
17511: IFTRUE 17515
17513: GO 17526
17515: POP
// i = 5 ; 30 30$01 .. 40 40$00 :
17516: LD_ADDR_VAR 0 11
17520: PUSH
17521: LD_INT 5
17523: ST_TO_ADDR
17524: GO 17685
17526: LD_INT 63035
17528: DOUBLE
17529: GREATEREQUAL
17530: IFFALSE 17538
17532: LD_INT 84000
17534: DOUBLE
17535: LESSEQUAL
17536: IFTRUE 17540
17538: GO 17551
17540: POP
// i = 6 ; 40 40$01 .. 52 52$00 :
17541: LD_ADDR_VAR 0 11
17545: PUSH
17546: LD_INT 6
17548: ST_TO_ADDR
17549: GO 17685
17551: LD_INT 84035
17553: DOUBLE
17554: GREATEREQUAL
17555: IFFALSE 17563
17557: LD_INT 109200
17559: DOUBLE
17560: LESSEQUAL
17561: IFTRUE 17565
17563: GO 17576
17565: POP
// i = 7 ; 52 52$01 .. 66 66$00 :
17566: LD_ADDR_VAR 0 11
17570: PUSH
17571: LD_INT 7
17573: ST_TO_ADDR
17574: GO 17685
17576: LD_INT 109235
17578: DOUBLE
17579: GREATEREQUAL
17580: IFFALSE 17588
17582: LD_INT 138600
17584: DOUBLE
17585: LESSEQUAL
17586: IFTRUE 17590
17588: GO 17601
17590: POP
// i = 8 ; 66 66$01 .. 88 88$00 :
17591: LD_ADDR_VAR 0 11
17595: PUSH
17596: LD_INT 8
17598: ST_TO_ADDR
17599: GO 17685
17601: LD_INT 138635
17603: DOUBLE
17604: GREATEREQUAL
17605: IFFALSE 17613
17607: LD_INT 184800
17609: DOUBLE
17610: LESSEQUAL
17611: IFTRUE 17615
17613: GO 17626
17615: POP
// i = 9 ; 88 88$01 .. 100 100$00 :
17616: LD_ADDR_VAR 0 11
17620: PUSH
17621: LD_INT 9
17623: ST_TO_ADDR
17624: GO 17685
17626: LD_INT 184835
17628: DOUBLE
17629: GREATEREQUAL
17630: IFFALSE 17638
17632: LD_INT 210000
17634: DOUBLE
17635: LESSEQUAL
17636: IFTRUE 17640
17638: GO 17651
17640: POP
// i = 10 ; 100 100$01 .. 120 120$00 :
17641: LD_ADDR_VAR 0 11
17645: PUSH
17646: LD_INT 10
17648: ST_TO_ADDR
17649: GO 17685
17651: LD_INT 210035
17653: DOUBLE
17654: GREATEREQUAL
17655: IFFALSE 17663
17657: LD_INT 252000
17659: DOUBLE
17660: LESSEQUAL
17661: IFTRUE 17665
17663: GO 17676
17665: POP
// i = 11 ; else
17666: LD_ADDR_VAR 0 11
17670: PUSH
17671: LD_INT 11
17673: ST_TO_ADDR
17674: GO 17685
17676: POP
// i = 12 ; end ;
17677: LD_ADDR_VAR 0 11
17681: PUSH
17682: LD_INT 12
17684: ST_TO_ADDR
// i = i - base div 2 ;
17685: LD_ADDR_VAR 0 11
17689: PUSH
17690: LD_VAR 0 11
17694: PUSH
17695: LD_VAR 0 13
17699: PUSH
17700: LD_INT 2
17702: DIV
17703: MINUS
17704: ST_TO_ADDR
// if i < 0 then
17705: LD_VAR 0 11
17709: PUSH
17710: LD_INT 0
17712: LESS
17713: IFFALSE 17723
// i = 0 ;
17715: LD_ADDR_VAR 0 11
17719: PUSH
17720: LD_INT 0
17722: ST_TO_ADDR
// if cl = 1 then
17723: LD_VAR 0 3
17727: PUSH
17728: LD_INT 1
17730: EQUAL
17731: IFFALSE 17771
// combat = rand ( base + i - 1 , base + i ) else
17733: LD_ADDR_VAR 0 4
17737: PUSH
17738: LD_VAR 0 13
17742: PUSH
17743: LD_VAR 0 11
17747: PLUS
17748: PUSH
17749: LD_INT 1
17751: MINUS
17752: PPUSH
17753: LD_VAR 0 13
17757: PUSH
17758: LD_VAR 0 11
17762: PLUS
17763: PPUSH
17764: CALL_OW 12
17768: ST_TO_ADDR
17769: GO 17811
// combat = rand ( base + i - 4 , base + i - 1 ) ;
17771: LD_ADDR_VAR 0 4
17775: PUSH
17776: LD_VAR 0 13
17780: PUSH
17781: LD_VAR 0 11
17785: PLUS
17786: PUSH
17787: LD_INT 4
17789: MINUS
17790: PPUSH
17791: LD_VAR 0 13
17795: PUSH
17796: LD_VAR 0 11
17800: PLUS
17801: PUSH
17802: LD_INT 1
17804: MINUS
17805: PPUSH
17806: CALL_OW 12
17810: ST_TO_ADDR
// if cl = 2 then
17811: LD_VAR 0 3
17815: PUSH
17816: LD_INT 2
17818: EQUAL
17819: IFFALSE 17859
// eng = rand ( base + i - 1 , base + i ) else
17821: LD_ADDR_VAR 0 5
17825: PUSH
17826: LD_VAR 0 13
17830: PUSH
17831: LD_VAR 0 11
17835: PLUS
17836: PUSH
17837: LD_INT 1
17839: MINUS
17840: PPUSH
17841: LD_VAR 0 13
17845: PUSH
17846: LD_VAR 0 11
17850: PLUS
17851: PPUSH
17852: CALL_OW 12
17856: ST_TO_ADDR
17857: GO 17899
// eng = rand ( base + i - 4 , base + i - 1 ) ;
17859: LD_ADDR_VAR 0 5
17863: PUSH
17864: LD_VAR 0 13
17868: PUSH
17869: LD_VAR 0 11
17873: PLUS
17874: PUSH
17875: LD_INT 4
17877: MINUS
17878: PPUSH
17879: LD_VAR 0 13
17883: PUSH
17884: LD_VAR 0 11
17888: PLUS
17889: PUSH
17890: LD_INT 1
17892: MINUS
17893: PPUSH
17894: CALL_OW 12
17898: ST_TO_ADDR
// if cl = 3 then
17899: LD_VAR 0 3
17903: PUSH
17904: LD_INT 3
17906: EQUAL
17907: IFFALSE 17947
// mech = rand ( base + i - 1 , base + i ) else
17909: LD_ADDR_VAR 0 6
17913: PUSH
17914: LD_VAR 0 13
17918: PUSH
17919: LD_VAR 0 11
17923: PLUS
17924: PUSH
17925: LD_INT 1
17927: MINUS
17928: PPUSH
17929: LD_VAR 0 13
17933: PUSH
17934: LD_VAR 0 11
17938: PLUS
17939: PPUSH
17940: CALL_OW 12
17944: ST_TO_ADDR
17945: GO 17987
// mech = rand ( base + i - 4 , base + i - 1 ) ;
17947: LD_ADDR_VAR 0 6
17951: PUSH
17952: LD_VAR 0 13
17956: PUSH
17957: LD_VAR 0 11
17961: PLUS
17962: PUSH
17963: LD_INT 4
17965: MINUS
17966: PPUSH
17967: LD_VAR 0 13
17971: PUSH
17972: LD_VAR 0 11
17976: PLUS
17977: PUSH
17978: LD_INT 1
17980: MINUS
17981: PPUSH
17982: CALL_OW 12
17986: ST_TO_ADDR
// if cl = 4 then
17987: LD_VAR 0 3
17991: PUSH
17992: LD_INT 4
17994: EQUAL
17995: IFFALSE 18035
// sci = rand ( base + i - 1 , base + i ) else
17997: LD_ADDR_VAR 0 7
18001: PUSH
18002: LD_VAR 0 13
18006: PUSH
18007: LD_VAR 0 11
18011: PLUS
18012: PUSH
18013: LD_INT 1
18015: MINUS
18016: PPUSH
18017: LD_VAR 0 13
18021: PUSH
18022: LD_VAR 0 11
18026: PLUS
18027: PPUSH
18028: CALL_OW 12
18032: ST_TO_ADDR
18033: GO 18075
// sci = rand ( base + i - 4 , base + i - 1 ) ;
18035: LD_ADDR_VAR 0 7
18039: PUSH
18040: LD_VAR 0 13
18044: PUSH
18045: LD_VAR 0 11
18049: PLUS
18050: PUSH
18051: LD_INT 4
18053: MINUS
18054: PPUSH
18055: LD_VAR 0 13
18059: PUSH
18060: LD_VAR 0 11
18064: PLUS
18065: PUSH
18066: LD_INT 1
18068: MINUS
18069: PPUSH
18070: CALL_OW 12
18074: ST_TO_ADDR
// skills = [ combat , eng , mech , sci ] ;
18075: LD_ADDR_VAR 0 8
18079: PUSH
18080: LD_VAR 0 4
18084: PUSH
18085: LD_VAR 0 5
18089: PUSH
18090: LD_VAR 0 6
18094: PUSH
18095: LD_VAR 0 7
18099: PUSH
18100: EMPTY
18101: LIST
18102: LIST
18103: LIST
18104: LIST
18105: ST_TO_ADDR
// for i = 1 to 4 do
18106: LD_ADDR_VAR 0 11
18110: PUSH
18111: DOUBLE
18112: LD_INT 1
18114: DEC
18115: ST_TO_ADDR
18116: LD_INT 4
18118: PUSH
18119: FOR_TO
18120: IFFALSE 18275
// begin if skills [ i ] < 0 then
18122: LD_VAR 0 8
18126: PUSH
18127: LD_VAR 0 11
18131: ARRAY
18132: PUSH
18133: LD_INT 0
18135: LESS
18136: IFFALSE 18161
// skills = replace ( skills , i , 0 ) ;
18138: LD_ADDR_VAR 0 8
18142: PUSH
18143: LD_VAR 0 8
18147: PPUSH
18148: LD_VAR 0 11
18152: PPUSH
18153: LD_INT 0
18155: PPUSH
18156: CALL_OW 1
18160: ST_TO_ADDR
// n = [ 0 , 1 , 0 , 1 , 0 , 2 , 0 , 0 , 1 , 0 ] [ rand ( 1 , 10 ) ] ;
18161: LD_ADDR_VAR 0 14
18165: PUSH
18166: LD_INT 0
18168: PUSH
18169: LD_INT 1
18171: PUSH
18172: LD_INT 0
18174: PUSH
18175: LD_INT 1
18177: PUSH
18178: LD_INT 0
18180: PUSH
18181: LD_INT 2
18183: PUSH
18184: LD_INT 0
18186: PUSH
18187: LD_INT 0
18189: PUSH
18190: LD_INT 1
18192: PUSH
18193: LD_INT 0
18195: PUSH
18196: EMPTY
18197: LIST
18198: LIST
18199: LIST
18200: LIST
18201: LIST
18202: LIST
18203: LIST
18204: LIST
18205: LIST
18206: LIST
18207: PUSH
18208: LD_INT 1
18210: PPUSH
18211: LD_INT 10
18213: PPUSH
18214: CALL_OW 12
18218: ARRAY
18219: ST_TO_ADDR
// if n > skills [ i ] then
18220: LD_VAR 0 14
18224: PUSH
18225: LD_VAR 0 8
18229: PUSH
18230: LD_VAR 0 11
18234: ARRAY
18235: GREATER
18236: IFFALSE 18254
// n = skills [ i ] ;
18238: LD_ADDR_VAR 0 14
18242: PUSH
18243: LD_VAR 0 8
18247: PUSH
18248: LD_VAR 0 11
18252: ARRAY
18253: ST_TO_ADDR
// replace ( base_skills , i , n ) ;
18254: LD_VAR 0 9
18258: PPUSH
18259: LD_VAR 0 11
18263: PPUSH
18264: LD_VAR 0 14
18268: PPUSH
18269: CALL_OW 1
// end ;
18273: GO 18119
18275: POP
18276: POP
// n = rand ( 1 , 100 ) ;
18277: LD_ADDR_VAR 0 14
18281: PUSH
18282: LD_INT 1
18284: PPUSH
18285: LD_INT 100
18287: PPUSH
18288: CALL_OW 12
18292: ST_TO_ADDR
// case n of 1 .. 32 :
18293: LD_VAR 0 14
18297: PUSH
18298: LD_INT 1
18300: DOUBLE
18301: GREATEREQUAL
18302: IFFALSE 18310
18304: LD_INT 32
18306: DOUBLE
18307: LESSEQUAL
18308: IFTRUE 18312
18310: GO 18323
18312: POP
// def = 10 ; 31 .. 54 :
18313: LD_ADDR_VAR 0 15
18317: PUSH
18318: LD_INT 10
18320: ST_TO_ADDR
18321: GO 18424
18323: LD_INT 31
18325: DOUBLE
18326: GREATEREQUAL
18327: IFFALSE 18335
18329: LD_INT 54
18331: DOUBLE
18332: LESSEQUAL
18333: IFTRUE 18337
18335: GO 18348
18337: POP
// def = 9 ; 55 .. 76 :
18338: LD_ADDR_VAR 0 15
18342: PUSH
18343: LD_INT 9
18345: ST_TO_ADDR
18346: GO 18424
18348: LD_INT 55
18350: DOUBLE
18351: GREATEREQUAL
18352: IFFALSE 18360
18354: LD_INT 76
18356: DOUBLE
18357: LESSEQUAL
18358: IFTRUE 18362
18360: GO 18373
18362: POP
// def = 11 ; 77 .. 88 :
18363: LD_ADDR_VAR 0 15
18367: PUSH
18368: LD_INT 11
18370: ST_TO_ADDR
18371: GO 18424
18373: LD_INT 77
18375: DOUBLE
18376: GREATEREQUAL
18377: IFFALSE 18385
18379: LD_INT 88
18381: DOUBLE
18382: LESSEQUAL
18383: IFTRUE 18387
18385: GO 18398
18387: POP
// def = 8 ; 89 .. 100 :
18388: LD_ADDR_VAR 0 15
18392: PUSH
18393: LD_INT 8
18395: ST_TO_ADDR
18396: GO 18424
18398: LD_INT 89
18400: DOUBLE
18401: GREATEREQUAL
18402: IFFALSE 18410
18404: LD_INT 100
18406: DOUBLE
18407: LESSEQUAL
18408: IFTRUE 18412
18410: GO 18423
18412: POP
// def = 12 ; end ;
18413: LD_ADDR_VAR 0 15
18417: PUSH
18418: LD_INT 12
18420: ST_TO_ADDR
18421: GO 18424
18423: POP
// n = rand ( 1 , 100 ) ;
18424: LD_ADDR_VAR 0 14
18428: PUSH
18429: LD_INT 1
18431: PPUSH
18432: LD_INT 100
18434: PPUSH
18435: CALL_OW 12
18439: ST_TO_ADDR
// case n of 1 .. 44 :
18440: LD_VAR 0 14
18444: PUSH
18445: LD_INT 1
18447: DOUBLE
18448: GREATEREQUAL
18449: IFFALSE 18457
18451: LD_INT 44
18453: DOUBLE
18454: LESSEQUAL
18455: IFTRUE 18459
18457: GO 18470
18459: POP
// speed = 10 ; 45 .. 76 :
18460: LD_ADDR_VAR 0 16
18464: PUSH
18465: LD_INT 10
18467: ST_TO_ADDR
18468: GO 18546
18470: LD_INT 45
18472: DOUBLE
18473: GREATEREQUAL
18474: IFFALSE 18482
18476: LD_INT 76
18478: DOUBLE
18479: LESSEQUAL
18480: IFTRUE 18484
18482: GO 18495
18484: POP
// speed = 9 ; 77 .. 94 :
18485: LD_ADDR_VAR 0 16
18489: PUSH
18490: LD_INT 9
18492: ST_TO_ADDR
18493: GO 18546
18495: LD_INT 77
18497: DOUBLE
18498: GREATEREQUAL
18499: IFFALSE 18507
18501: LD_INT 94
18503: DOUBLE
18504: LESSEQUAL
18505: IFTRUE 18509
18507: GO 18520
18509: POP
// speed = 11 ; 95 .. 100 :
18510: LD_ADDR_VAR 0 16
18514: PUSH
18515: LD_INT 11
18517: ST_TO_ADDR
18518: GO 18546
18520: LD_INT 95
18522: DOUBLE
18523: GREATEREQUAL
18524: IFFALSE 18532
18526: LD_INT 100
18528: DOUBLE
18529: LESSEQUAL
18530: IFTRUE 18534
18532: GO 18545
18534: POP
// speed = 12 ; end ;
18535: LD_ADDR_VAR 0 16
18539: PUSH
18540: LD_INT 12
18542: ST_TO_ADDR
18543: GO 18546
18545: POP
// hc_attr = [ def , speed ] ;
18546: LD_ADDR_OWVAR 29
18550: PUSH
18551: LD_VAR 0 15
18555: PUSH
18556: LD_VAR 0 16
18560: PUSH
18561: EMPTY
18562: LIST
18563: LIST
18564: ST_TO_ADDR
// hc_basic_skills = base_skills ;
18565: LD_ADDR_OWVAR 30
18569: PUSH
18570: LD_VAR 0 9
18574: ST_TO_ADDR
// hc_skills := skills ;
18575: LD_ADDR_OWVAR 31
18579: PUSH
18580: LD_VAR 0 8
18584: ST_TO_ADDR
// hc_class = cl ;
18585: LD_ADDR_OWVAR 28
18589: PUSH
18590: LD_VAR 0 3
18594: ST_TO_ADDR
// end ; end_of_file
18595: LD_VAR 0 2
18599: RET
// var strany ; export maxTechLevel ; export function Start_tech_ur ; var i ; begin
18600: LD_INT 0
18602: PPUSH
18603: PPUSH
// if not maxTechLevel then
18604: LD_EXP 115
18608: NOT
18609: IFFALSE 18619
// maxTechLevel = 8 ;
18611: LD_ADDR_EXP 115
18615: PUSH
18616: LD_INT 8
18618: ST_TO_ADDR
// strany = [ ] ;
18619: LD_ADDR_LOC 18
18623: PUSH
18624: EMPTY
18625: ST_TO_ADDR
// if def_tech_level > maxTechLevel then
18626: LD_EXP 26
18630: PUSH
18631: LD_EXP 115
18635: GREATER
18636: IFFALSE 18648
// def_tech_level = maxTechLevel ;
18638: LD_ADDR_EXP 26
18642: PUSH
18643: LD_EXP 115
18647: ST_TO_ADDR
// for i := 1 to Side_Positions do
18648: LD_ADDR_VAR 0 2
18652: PUSH
18653: DOUBLE
18654: LD_INT 1
18656: DEC
18657: ST_TO_ADDR
18658: LD_EXP 75
18662: PUSH
18663: FOR_TO
18664: IFFALSE 18696
// if Side_Positions [ i ] then
18666: LD_EXP 75
18670: PUSH
18671: LD_VAR 0 2
18675: ARRAY
18676: IFFALSE 18694
// strany = strany ^ i ;
18678: LD_ADDR_LOC 18
18682: PUSH
18683: LD_LOC 18
18687: PUSH
18688: LD_VAR 0 2
18692: ADD
18693: ST_TO_ADDR
18694: GO 18663
18696: POP
18697: POP
// for i in strany do
18698: LD_ADDR_VAR 0 2
18702: PUSH
18703: LD_LOC 18
18707: PUSH
18708: FOR_IN
18709: IFFALSE 18722
// Vse_zakaz ( i ) ;
18711: LD_VAR 0 2
18715: PPUSH
18716: CALL 19697 0 1
18720: GO 18708
18722: POP
18723: POP
// for i in strany do
18724: LD_ADDR_VAR 0 2
18728: PUSH
18729: LD_LOC 18
18733: PUSH
18734: FOR_IN
18735: IFFALSE 19157
// case def_tech_level of 1 :
18737: LD_EXP 26
18741: PUSH
18742: LD_INT 1
18744: DOUBLE
18745: EQUAL
18746: IFTRUE 18750
18748: GO 18762
18750: POP
// ur_1 ( i ) ; 2 :
18751: LD_VAR 0 2
18755: PPUSH
18756: CALL 19857 0 1
18760: GO 19155
18762: LD_INT 2
18764: DOUBLE
18765: EQUAL
18766: IFTRUE 18770
18768: GO 18791
18770: POP
// begin ur_1 ( i ) ;
18771: LD_VAR 0 2
18775: PPUSH
18776: CALL 19857 0 1
// ur_2 ( i ) ;
18780: LD_VAR 0 2
18784: PPUSH
18785: CALL 20242 0 1
// end ; 3 :
18789: GO 19155
18791: LD_INT 3
18793: DOUBLE
18794: EQUAL
18795: IFTRUE 18799
18797: GO 18829
18799: POP
// begin ur_1 ( i ) ;
18800: LD_VAR 0 2
18804: PPUSH
18805: CALL 19857 0 1
// ur_2 ( i ) ;
18809: LD_VAR 0 2
18813: PPUSH
18814: CALL 20242 0 1
// ur_3 ( i ) ;
18818: LD_VAR 0 2
18822: PPUSH
18823: CALL 20631 0 1
// end ; 4 :
18827: GO 19155
18829: LD_INT 4
18831: DOUBLE
18832: EQUAL
18833: IFTRUE 18837
18835: GO 18876
18837: POP
// begin ur_1 ( i ) ;
18838: LD_VAR 0 2
18842: PPUSH
18843: CALL 19857 0 1
// ur_2 ( i ) ;
18847: LD_VAR 0 2
18851: PPUSH
18852: CALL 20242 0 1
// ur_3 ( i ) ;
18856: LD_VAR 0 2
18860: PPUSH
18861: CALL 20631 0 1
// ur_4 ( i ) ;
18865: LD_VAR 0 2
18869: PPUSH
18870: CALL 21092 0 1
// end ; 5 :
18874: GO 19155
18876: LD_INT 5
18878: DOUBLE
18879: EQUAL
18880: IFTRUE 18884
18882: GO 18932
18884: POP
// begin ur_1 ( i ) ;
18885: LD_VAR 0 2
18889: PPUSH
18890: CALL 19857 0 1
// ur_2 ( i ) ;
18894: LD_VAR 0 2
18898: PPUSH
18899: CALL 20242 0 1
// ur_3 ( i ) ;
18903: LD_VAR 0 2
18907: PPUSH
18908: CALL 20631 0 1
// ur_4 ( i ) ;
18912: LD_VAR 0 2
18916: PPUSH
18917: CALL 21092 0 1
// ur_5 ( i ) ;
18921: LD_VAR 0 2
18925: PPUSH
18926: CALL 21569 0 1
// end ; 6 :
18930: GO 19155
18932: LD_INT 6
18934: DOUBLE
18935: EQUAL
18936: IFTRUE 18940
18938: GO 18997
18940: POP
// begin ur_1 ( i ) ;
18941: LD_VAR 0 2
18945: PPUSH
18946: CALL 19857 0 1
// ur_2 ( i ) ;
18950: LD_VAR 0 2
18954: PPUSH
18955: CALL 20242 0 1
// ur_3 ( i ) ;
18959: LD_VAR 0 2
18963: PPUSH
18964: CALL 20631 0 1
// ur_4 ( i ) ;
18968: LD_VAR 0 2
18972: PPUSH
18973: CALL 21092 0 1
// ur_5 ( i ) ;
18977: LD_VAR 0 2
18981: PPUSH
18982: CALL 21569 0 1
// ur_6 ( i ) ;
18986: LD_VAR 0 2
18990: PPUSH
18991: CALL 21863 0 1
// end ; 7 :
18995: GO 19155
18997: LD_INT 7
18999: DOUBLE
19000: EQUAL
19001: IFTRUE 19005
19003: GO 19071
19005: POP
// begin ur_1 ( i ) ;
19006: LD_VAR 0 2
19010: PPUSH
19011: CALL 19857 0 1
// ur_2 ( i ) ;
19015: LD_VAR 0 2
19019: PPUSH
19020: CALL 20242 0 1
// ur_3 ( i ) ;
19024: LD_VAR 0 2
19028: PPUSH
19029: CALL 20631 0 1
// ur_4 ( i ) ;
19033: LD_VAR 0 2
19037: PPUSH
19038: CALL 21092 0 1
// ur_5 ( i ) ;
19042: LD_VAR 0 2
19046: PPUSH
19047: CALL 21569 0 1
// ur_6 ( i ) ;
19051: LD_VAR 0 2
19055: PPUSH
19056: CALL 21863 0 1
// ur_7 ( i ) ;
19060: LD_VAR 0 2
19064: PPUSH
19065: CALL 22133 0 1
// end ; 8 :
19069: GO 19155
19071: LD_INT 8
19073: DOUBLE
19074: EQUAL
19075: IFTRUE 19079
19077: GO 19154
19079: POP
// begin ur_1 ( i ) ;
19080: LD_VAR 0 2
19084: PPUSH
19085: CALL 19857 0 1
// ur_2 ( i ) ;
19089: LD_VAR 0 2
19093: PPUSH
19094: CALL 20242 0 1
// ur_3 ( i ) ;
19098: LD_VAR 0 2
19102: PPUSH
19103: CALL 20631 0 1
// ur_4 ( i ) ;
19107: LD_VAR 0 2
19111: PPUSH
19112: CALL 21092 0 1
// ur_5 ( i ) ;
19116: LD_VAR 0 2
19120: PPUSH
19121: CALL 21569 0 1
// ur_6 ( i ) ;
19125: LD_VAR 0 2
19129: PPUSH
19130: CALL 21863 0 1
// ur_7 ( i ) ;
19134: LD_VAR 0 2
19138: PPUSH
19139: CALL 22133 0 1
// ur_8 ( i ) ;
19143: LD_VAR 0 2
19147: PPUSH
19148: CALL 22379 0 1
// end ; end ;
19152: GO 19155
19154: POP
19155: GO 18734
19157: POP
19158: POP
// end ;
19159: LD_VAR 0 1
19163: RET
// every 0 0$01 marked 30 do var i ;
19164: GO 19166
19166: DISABLE
19167: LD_INT 0
19169: PPUSH
// begin if def_upgrade_tl = 0 then
19170: LD_EXP 27
19174: PUSH
19175: LD_INT 0
19177: EQUAL
19178: IFFALSE 19182
// exit ;
19180: GO 19694
// if def_tech_level < 1 and not maxTechLevel < 1 then
19182: LD_EXP 26
19186: PUSH
19187: LD_INT 1
19189: LESS
19190: PUSH
19191: LD_EXP 115
19195: PUSH
19196: LD_INT 1
19198: LESS
19199: NOT
19200: AND
19201: IFFALSE 19246
// begin wait ( 0 0$50 * def_upgrade_tl ) ;
19203: LD_INT 1750
19205: PUSH
19206: LD_EXP 27
19210: MUL
19211: PPUSH
19212: CALL_OW 67
// for i in strany do
19216: LD_ADDR_VAR 0 1
19220: PUSH
19221: LD_LOC 18
19225: PUSH
19226: FOR_IN
19227: IFFALSE 19240
// ur_1 ( i ) ;
19229: LD_VAR 0 1
19233: PPUSH
19234: CALL 19857 0 1
19238: GO 19226
19240: POP
19241: POP
// Hustota_Zasilek ;
19242: CALL 2142 0 0
// end ; if def_tech_level < 2 and not maxTechLevel < 2 then
19246: LD_EXP 26
19250: PUSH
19251: LD_INT 2
19253: LESS
19254: PUSH
19255: LD_EXP 115
19259: PUSH
19260: LD_INT 2
19262: LESS
19263: NOT
19264: AND
19265: IFFALSE 19310
// begin wait ( 1 1$00 * def_upgrade_tl ) ;
19267: LD_INT 2100
19269: PUSH
19270: LD_EXP 27
19274: MUL
19275: PPUSH
19276: CALL_OW 67
// for i in strany do
19280: LD_ADDR_VAR 0 1
19284: PUSH
19285: LD_LOC 18
19289: PUSH
19290: FOR_IN
19291: IFFALSE 19304
// ur_2 ( i ) ;
19293: LD_VAR 0 1
19297: PPUSH
19298: CALL 20242 0 1
19302: GO 19290
19304: POP
19305: POP
// Hustota_Zasilek ;
19306: CALL 2142 0 0
// end ; if def_tech_level < 3 and not maxTechLevel < 3 then
19310: LD_EXP 26
19314: PUSH
19315: LD_INT 3
19317: LESS
19318: PUSH
19319: LD_EXP 115
19323: PUSH
19324: LD_INT 3
19326: LESS
19327: NOT
19328: AND
19329: IFFALSE 19374
// begin wait ( 3 3$30 * def_upgrade_tl ) ;
19331: LD_INT 7350
19333: PUSH
19334: LD_EXP 27
19338: MUL
19339: PPUSH
19340: CALL_OW 67
// for i in strany do
19344: LD_ADDR_VAR 0 1
19348: PUSH
19349: LD_LOC 18
19353: PUSH
19354: FOR_IN
19355: IFFALSE 19368
// ur_3 ( i ) ;
19357: LD_VAR 0 1
19361: PPUSH
19362: CALL 20631 0 1
19366: GO 19354
19368: POP
19369: POP
// Hustota_Zasilek ;
19370: CALL 2142 0 0
// end ; if def_tech_level < 4 and not maxTechLevel < 4 then
19374: LD_EXP 26
19378: PUSH
19379: LD_INT 4
19381: LESS
19382: PUSH
19383: LD_EXP 115
19387: PUSH
19388: LD_INT 4
19390: LESS
19391: NOT
19392: AND
19393: IFFALSE 19438
// begin wait ( 4 4$30 * def_upgrade_tl ) ;
19395: LD_INT 9450
19397: PUSH
19398: LD_EXP 27
19402: MUL
19403: PPUSH
19404: CALL_OW 67
// for i in strany do
19408: LD_ADDR_VAR 0 1
19412: PUSH
19413: LD_LOC 18
19417: PUSH
19418: FOR_IN
19419: IFFALSE 19432
// ur_4 ( i ) ;
19421: LD_VAR 0 1
19425: PPUSH
19426: CALL 21092 0 1
19430: GO 19418
19432: POP
19433: POP
// Hustota_Zasilek ;
19434: CALL 2142 0 0
// end ; if def_tech_level < 5 and not maxTechLevel < 5 then
19438: LD_EXP 26
19442: PUSH
19443: LD_INT 5
19445: LESS
19446: PUSH
19447: LD_EXP 115
19451: PUSH
19452: LD_INT 5
19454: LESS
19455: NOT
19456: AND
19457: IFFALSE 19502
// begin wait ( 3 3$30 * def_upgrade_tl ) ;
19459: LD_INT 7350
19461: PUSH
19462: LD_EXP 27
19466: MUL
19467: PPUSH
19468: CALL_OW 67
// for i in strany do
19472: LD_ADDR_VAR 0 1
19476: PUSH
19477: LD_LOC 18
19481: PUSH
19482: FOR_IN
19483: IFFALSE 19496
// ur_5 ( i ) ;
19485: LD_VAR 0 1
19489: PPUSH
19490: CALL 21569 0 1
19494: GO 19482
19496: POP
19497: POP
// Hustota_Zasilek ;
19498: CALL 2142 0 0
// end ; if def_tech_level < 6 and not maxTechLevel < 6 then
19502: LD_EXP 26
19506: PUSH
19507: LD_INT 6
19509: LESS
19510: PUSH
19511: LD_EXP 115
19515: PUSH
19516: LD_INT 6
19518: LESS
19519: NOT
19520: AND
19521: IFFALSE 19566
// begin wait ( 4 4$15 * def_upgrade_tl ) ;
19523: LD_INT 8925
19525: PUSH
19526: LD_EXP 27
19530: MUL
19531: PPUSH
19532: CALL_OW 67
// for i in strany do
19536: LD_ADDR_VAR 0 1
19540: PUSH
19541: LD_LOC 18
19545: PUSH
19546: FOR_IN
19547: IFFALSE 19560
// ur_6 ( i ) ;
19549: LD_VAR 0 1
19553: PPUSH
19554: CALL 21863 0 1
19558: GO 19546
19560: POP
19561: POP
// Hustota_Zasilek ;
19562: CALL 2142 0 0
// end ; if def_tech_level < 7 and not maxTechLevel < 7 then
19566: LD_EXP 26
19570: PUSH
19571: LD_INT 7
19573: LESS
19574: PUSH
19575: LD_EXP 115
19579: PUSH
19580: LD_INT 7
19582: LESS
19583: NOT
19584: AND
19585: IFFALSE 19630
// begin wait ( 4 4$45 * def_upgrade_tl ) ;
19587: LD_INT 9975
19589: PUSH
19590: LD_EXP 27
19594: MUL
19595: PPUSH
19596: CALL_OW 67
// for i in strany do
19600: LD_ADDR_VAR 0 1
19604: PUSH
19605: LD_LOC 18
19609: PUSH
19610: FOR_IN
19611: IFFALSE 19624
// ur_7 ( i ) ;
19613: LD_VAR 0 1
19617: PPUSH
19618: CALL 22133 0 1
19622: GO 19610
19624: POP
19625: POP
// Hustota_Zasilek ;
19626: CALL 2142 0 0
// end ; if def_tech_level < 8 and not maxTechLevel < 8 then
19630: LD_EXP 26
19634: PUSH
19635: LD_INT 8
19637: LESS
19638: PUSH
19639: LD_EXP 115
19643: PUSH
19644: LD_INT 8
19646: LESS
19647: NOT
19648: AND
19649: IFFALSE 19694
// begin wait ( 6 6$00 * def_upgrade_tl ) ;
19651: LD_INT 12600
19653: PUSH
19654: LD_EXP 27
19658: MUL
19659: PPUSH
19660: CALL_OW 67
// for i in strany do
19664: LD_ADDR_VAR 0 1
19668: PUSH
19669: LD_LOC 18
19673: PUSH
19674: FOR_IN
19675: IFFALSE 19688
// ur_8 ( i ) ;
19677: LD_VAR 0 1
19681: PPUSH
19682: CALL 22379 0 1
19686: GO 19674
19688: POP
19689: POP
// Hustota_Zasilek ;
19690: CALL 2142 0 0
// end ; end ;
19694: PPOPN 1
19696: END
// function Vse_zakaz ( side ) ; var i , zbudovy ; begin
19697: LD_INT 0
19699: PPUSH
19700: PPUSH
19701: PPUSH
// for i = 1 to 72 do
19702: LD_ADDR_VAR 0 3
19706: PUSH
19707: DOUBLE
19708: LD_INT 1
19710: DEC
19711: ST_TO_ADDR
19712: LD_INT 72
19714: PUSH
19715: FOR_TO
19716: IFFALSE 19737
// SetTech ( i , side , state_disabled ) ;
19718: LD_VAR 0 3
19722: PPUSH
19723: LD_VAR 0 1
19727: PPUSH
19728: LD_INT 0
19730: PPUSH
19731: CALL_OW 322
19735: GO 19715
19737: POP
19738: POP
// zbudovy = [ 1 , 5 , 2 , 3 , 16 , 19 , 23 , 10 , 11 , 12 , 13 , 14 , 15 , 29 , 30 , 32 ] ;
19739: LD_ADDR_VAR 0 4
19743: PUSH
19744: LD_INT 1
19746: PUSH
19747: LD_INT 5
19749: PUSH
19750: LD_INT 2
19752: PUSH
19753: LD_INT 3
19755: PUSH
19756: LD_INT 16
19758: PUSH
19759: LD_INT 19
19761: PUSH
19762: LD_INT 23
19764: PUSH
19765: LD_INT 10
19767: PUSH
19768: LD_INT 11
19770: PUSH
19771: LD_INT 12
19773: PUSH
19774: LD_INT 13
19776: PUSH
19777: LD_INT 14
19779: PUSH
19780: LD_INT 15
19782: PUSH
19783: LD_INT 29
19785: PUSH
19786: LD_INT 30
19788: PUSH
19789: LD_INT 32
19791: PUSH
19792: EMPTY
19793: LIST
19794: LIST
19795: LIST
19796: LIST
19797: LIST
19798: LIST
19799: LIST
19800: LIST
19801: LIST
19802: LIST
19803: LIST
19804: LIST
19805: LIST
19806: LIST
19807: LIST
19808: LIST
19809: ST_TO_ADDR
// for i in zbudovy do
19810: LD_ADDR_VAR 0 3
19814: PUSH
19815: LD_VAR 0 4
19819: PUSH
19820: FOR_IN
19821: IFFALSE 19842
// SetRestrict ( i , side , state_disabled ) ;
19823: LD_VAR 0 3
19827: PPUSH
19828: LD_VAR 0 1
19832: PPUSH
19833: LD_INT 0
19835: PPUSH
19836: CALL_OW 324
19840: GO 19820
19842: POP
19843: POP
// Tech_Level = 0 ;
19844: LD_ADDR_EXP 56
19848: PUSH
19849: LD_INT 0
19851: ST_TO_ADDR
// end ;
19852: LD_VAR 0 2
19856: RET
// function ur_1 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
19857: LD_INT 0
19859: PPUSH
19860: PPUSH
19861: PPUSH
19862: PPUSH
19863: PPUSH
// narodnost := Side_Nations [ side ] ;
19864: LD_ADDR_VAR 0 3
19868: PUSH
19869: LD_EXP 76
19873: PUSH
19874: LD_VAR 0 1
19878: ARRAY
19879: ST_TO_ADDR
// case narodnost of 1 :
19880: LD_VAR 0 3
19884: PUSH
19885: LD_INT 1
19887: DOUBLE
19888: EQUAL
19889: IFTRUE 19893
19891: GO 20002
19893: POP
// begin pbudovy = [ 2 , 29 ] ;
19894: LD_ADDR_VAR 0 5
19898: PUSH
19899: LD_INT 2
19901: PUSH
19902: LD_INT 29
19904: PUSH
19905: EMPTY
19906: LIST
19907: LIST
19908: ST_TO_ADDR
// for i in pbudovy do
19909: LD_ADDR_VAR 0 6
19913: PUSH
19914: LD_VAR 0 5
19918: PUSH
19919: FOR_IN
19920: IFFALSE 19941
// EnableBuilding ( i , side , state_enabled ) ;
19922: LD_VAR 0 6
19926: PPUSH
19927: LD_VAR 0 1
19931: PPUSH
19932: LD_INT 1
19934: PPUSH
19935: CALL 22601 0 3
19939: GO 19919
19941: POP
19942: POP
// ptech = [ 46 , 35 , 45 , 48 ] ;
19943: LD_ADDR_VAR 0 4
19947: PUSH
19948: LD_INT 46
19950: PUSH
19951: LD_INT 35
19953: PUSH
19954: LD_INT 45
19956: PUSH
19957: LD_INT 48
19959: PUSH
19960: EMPTY
19961: LIST
19962: LIST
19963: LIST
19964: LIST
19965: ST_TO_ADDR
// for i in ptech do
19966: LD_ADDR_VAR 0 6
19970: PUSH
19971: LD_VAR 0 4
19975: PUSH
19976: FOR_IN
19977: IFFALSE 19998
// EnableTech ( i , side , state_enabled ) ;
19979: LD_VAR 0 6
19983: PPUSH
19984: LD_VAR 0 1
19988: PPUSH
19989: LD_INT 1
19991: PPUSH
19992: CALL 22479 0 3
19996: GO 19976
19998: POP
19999: POP
// end ; 2 :
20000: GO 20229
20002: LD_INT 2
20004: DOUBLE
20005: EQUAL
20006: IFTRUE 20010
20008: GO 20119
20010: POP
// begin pbudovy = [ 2 , 29 ] ;
20011: LD_ADDR_VAR 0 5
20015: PUSH
20016: LD_INT 2
20018: PUSH
20019: LD_INT 29
20021: PUSH
20022: EMPTY
20023: LIST
20024: LIST
20025: ST_TO_ADDR
// for i in pbudovy do
20026: LD_ADDR_VAR 0 6
20030: PUSH
20031: LD_VAR 0 5
20035: PUSH
20036: FOR_IN
20037: IFFALSE 20058
// EnableBuilding ( i , side , state_enabled ) ;
20039: LD_VAR 0 6
20043: PPUSH
20044: LD_VAR 0 1
20048: PPUSH
20049: LD_INT 1
20051: PPUSH
20052: CALL 22601 0 3
20056: GO 20036
20058: POP
20059: POP
// ptech = [ 46 , 35 , 45 , 48 ] ;
20060: LD_ADDR_VAR 0 4
20064: PUSH
20065: LD_INT 46
20067: PUSH
20068: LD_INT 35
20070: PUSH
20071: LD_INT 45
20073: PUSH
20074: LD_INT 48
20076: PUSH
20077: EMPTY
20078: LIST
20079: LIST
20080: LIST
20081: LIST
20082: ST_TO_ADDR
// for i in ptech do
20083: LD_ADDR_VAR 0 6
20087: PUSH
20088: LD_VAR 0 4
20092: PUSH
20093: FOR_IN
20094: IFFALSE 20115
// EnableTech ( i , side , state_enabled ) ;
20096: LD_VAR 0 6
20100: PPUSH
20101: LD_VAR 0 1
20105: PPUSH
20106: LD_INT 1
20108: PPUSH
20109: CALL 22479 0 3
20113: GO 20093
20115: POP
20116: POP
// end ; 3 :
20117: GO 20229
20119: LD_INT 3
20121: DOUBLE
20122: EQUAL
20123: IFTRUE 20127
20125: GO 20228
20127: POP
// begin pbudovy = [ 2 , 29 ] ;
20128: LD_ADDR_VAR 0 5
20132: PUSH
20133: LD_INT 2
20135: PUSH
20136: LD_INT 29
20138: PUSH
20139: EMPTY
20140: LIST
20141: LIST
20142: ST_TO_ADDR
// for i in pbudovy do
20143: LD_ADDR_VAR 0 6
20147: PUSH
20148: LD_VAR 0 5
20152: PUSH
20153: FOR_IN
20154: IFFALSE 20175
// EnableBuilding ( i , side , state_enabled ) ;
20156: LD_VAR 0 6
20160: PPUSH
20161: LD_VAR 0 1
20165: PPUSH
20166: LD_INT 1
20168: PPUSH
20169: CALL 22601 0 3
20173: GO 20153
20175: POP
20176: POP
// ptech = [ 46 , 47 ] ;
20177: LD_ADDR_VAR 0 4
20181: PUSH
20182: LD_INT 46
20184: PUSH
20185: LD_INT 47
20187: PUSH
20188: EMPTY
20189: LIST
20190: LIST
20191: ST_TO_ADDR
// for i in ptech do
20192: LD_ADDR_VAR 0 6
20196: PUSH
20197: LD_VAR 0 4
20201: PUSH
20202: FOR_IN
20203: IFFALSE 20224
// EnableTech ( i , side , state_enabled ) ;
20205: LD_VAR 0 6
20209: PPUSH
20210: LD_VAR 0 1
20214: PPUSH
20215: LD_INT 1
20217: PPUSH
20218: CALL 22479 0 3
20222: GO 20202
20224: POP
20225: POP
// end ; end ;
20226: GO 20229
20228: POP
// Tech_Level = 1 ;
20229: LD_ADDR_EXP 56
20233: PUSH
20234: LD_INT 1
20236: ST_TO_ADDR
// end ;
20237: LD_VAR 0 2
20241: RET
// function ur_2 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
20242: LD_INT 0
20244: PPUSH
20245: PPUSH
20246: PPUSH
20247: PPUSH
20248: PPUSH
// narodnost := Side_Nations [ side ] ;
20249: LD_ADDR_VAR 0 3
20253: PUSH
20254: LD_EXP 76
20258: PUSH
20259: LD_VAR 0 1
20263: ARRAY
20264: ST_TO_ADDR
// case narodnost of 1 :
20265: LD_VAR 0 3
20269: PUSH
20270: LD_INT 1
20272: DOUBLE
20273: EQUAL
20274: IFTRUE 20278
20276: GO 20387
20278: POP
// begin pbudovy = [ 10 , 3 ] ;
20279: LD_ADDR_VAR 0 5
20283: PUSH
20284: LD_INT 10
20286: PUSH
20287: LD_INT 3
20289: PUSH
20290: EMPTY
20291: LIST
20292: LIST
20293: ST_TO_ADDR
// for i in pbudovy do
20294: LD_ADDR_VAR 0 6
20298: PUSH
20299: LD_VAR 0 5
20303: PUSH
20304: FOR_IN
20305: IFFALSE 20326
// EnableBuilding ( i , side , state_enabled ) ;
20307: LD_VAR 0 6
20311: PPUSH
20312: LD_VAR 0 1
20316: PPUSH
20317: LD_INT 1
20319: PPUSH
20320: CALL 22601 0 3
20324: GO 20304
20326: POP
20327: POP
// ptech = [ 1 , 47 , 69 , 2 ] ;
20328: LD_ADDR_VAR 0 4
20332: PUSH
20333: LD_INT 1
20335: PUSH
20336: LD_INT 47
20338: PUSH
20339: LD_INT 69
20341: PUSH
20342: LD_INT 2
20344: PUSH
20345: EMPTY
20346: LIST
20347: LIST
20348: LIST
20349: LIST
20350: ST_TO_ADDR
// for i in ptech do
20351: LD_ADDR_VAR 0 6
20355: PUSH
20356: LD_VAR 0 4
20360: PUSH
20361: FOR_IN
20362: IFFALSE 20383
// EnableTech ( i , side , state_enabled ) ;
20364: LD_VAR 0 6
20368: PPUSH
20369: LD_VAR 0 1
20373: PPUSH
20374: LD_INT 1
20376: PPUSH
20377: CALL 22479 0 3
20381: GO 20361
20383: POP
20384: POP
// end ; 2 :
20385: GO 20618
20387: LD_INT 2
20389: DOUBLE
20390: EQUAL
20391: IFTRUE 20395
20393: GO 20504
20395: POP
// begin pbudovy = [ 10 , 3 ] ;
20396: LD_ADDR_VAR 0 5
20400: PUSH
20401: LD_INT 10
20403: PUSH
20404: LD_INT 3
20406: PUSH
20407: EMPTY
20408: LIST
20409: LIST
20410: ST_TO_ADDR
// for i in pbudovy do
20411: LD_ADDR_VAR 0 6
20415: PUSH
20416: LD_VAR 0 5
20420: PUSH
20421: FOR_IN
20422: IFFALSE 20443
// EnableBuilding ( i , side , state_enabled ) ;
20424: LD_VAR 0 6
20428: PPUSH
20429: LD_VAR 0 1
20433: PPUSH
20434: LD_INT 1
20436: PPUSH
20437: CALL 22601 0 3
20441: GO 20421
20443: POP
20444: POP
// ptech = [ 1 , 47 , 69 , 11 ] ;
20445: LD_ADDR_VAR 0 4
20449: PUSH
20450: LD_INT 1
20452: PUSH
20453: LD_INT 47
20455: PUSH
20456: LD_INT 69
20458: PUSH
20459: LD_INT 11
20461: PUSH
20462: EMPTY
20463: LIST
20464: LIST
20465: LIST
20466: LIST
20467: ST_TO_ADDR
// for i in ptech do
20468: LD_ADDR_VAR 0 6
20472: PUSH
20473: LD_VAR 0 4
20477: PUSH
20478: FOR_IN
20479: IFFALSE 20500
// EnableTech ( i , side , state_enabled ) ;
20481: LD_VAR 0 6
20485: PPUSH
20486: LD_VAR 0 1
20490: PPUSH
20491: LD_INT 1
20493: PPUSH
20494: CALL 22479 0 3
20498: GO 20478
20500: POP
20501: POP
// end ; 3 :
20502: GO 20618
20504: LD_INT 3
20506: DOUBLE
20507: EQUAL
20508: IFTRUE 20512
20510: GO 20617
20512: POP
// begin pbudovy = [ 10 ] ;
20513: LD_ADDR_VAR 0 5
20517: PUSH
20518: LD_INT 10
20520: PUSH
20521: EMPTY
20522: LIST
20523: ST_TO_ADDR
// for i in pbudovy do
20524: LD_ADDR_VAR 0 6
20528: PUSH
20529: LD_VAR 0 5
20533: PUSH
20534: FOR_IN
20535: IFFALSE 20556
// EnableBuilding ( i , side , state_enabled ) ;
20537: LD_VAR 0 6
20541: PPUSH
20542: LD_VAR 0 1
20546: PPUSH
20547: LD_INT 1
20549: PPUSH
20550: CALL 22601 0 3
20554: GO 20534
20556: POP
20557: POP
// ptech = [ 1 , 2 , 48 , 51 ] ;
20558: LD_ADDR_VAR 0 4
20562: PUSH
20563: LD_INT 1
20565: PUSH
20566: LD_INT 2
20568: PUSH
20569: LD_INT 48
20571: PUSH
20572: LD_INT 51
20574: PUSH
20575: EMPTY
20576: LIST
20577: LIST
20578: LIST
20579: LIST
20580: ST_TO_ADDR
// for i in ptech do
20581: LD_ADDR_VAR 0 6
20585: PUSH
20586: LD_VAR 0 4
20590: PUSH
20591: FOR_IN
20592: IFFALSE 20613
// EnableTech ( i , side , state_enabled ) ;
20594: LD_VAR 0 6
20598: PPUSH
20599: LD_VAR 0 1
20603: PPUSH
20604: LD_INT 1
20606: PPUSH
20607: CALL 22479 0 3
20611: GO 20591
20613: POP
20614: POP
// end ; end ;
20615: GO 20618
20617: POP
// Tech_Level = 2 ;
20618: LD_ADDR_EXP 56
20622: PUSH
20623: LD_INT 2
20625: ST_TO_ADDR
// end ;
20626: LD_VAR 0 2
20630: RET
// function ur_3 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
20631: LD_INT 0
20633: PPUSH
20634: PPUSH
20635: PPUSH
20636: PPUSH
20637: PPUSH
// narodnost := Side_Nations [ side ] ;
20638: LD_ADDR_VAR 0 3
20642: PUSH
20643: LD_EXP 76
20647: PUSH
20648: LD_VAR 0 1
20652: ARRAY
20653: ST_TO_ADDR
// case narodnost of 1 :
20654: LD_VAR 0 3
20658: PUSH
20659: LD_INT 1
20661: DOUBLE
20662: EQUAL
20663: IFTRUE 20667
20665: GO 20792
20667: POP
// begin pbudovy = [ 32 , 19 , 5 , 16 , 15 ] ;
20668: LD_ADDR_VAR 0 5
20672: PUSH
20673: LD_INT 32
20675: PUSH
20676: LD_INT 19
20678: PUSH
20679: LD_INT 5
20681: PUSH
20682: LD_INT 16
20684: PUSH
20685: LD_INT 15
20687: PUSH
20688: EMPTY
20689: LIST
20690: LIST
20691: LIST
20692: LIST
20693: LIST
20694: ST_TO_ADDR
// for i in pbudovy do
20695: LD_ADDR_VAR 0 6
20699: PUSH
20700: LD_VAR 0 5
20704: PUSH
20705: FOR_IN
20706: IFFALSE 20727
// EnableBuilding ( i , side , state_enabled ) ;
20708: LD_VAR 0 6
20712: PPUSH
20713: LD_VAR 0 1
20717: PPUSH
20718: LD_INT 1
20720: PPUSH
20721: CALL 22601 0 3
20725: GO 20705
20727: POP
20728: POP
// ptech = [ 39 , 49 , 6 , 12 , 51 ] ;
20729: LD_ADDR_VAR 0 4
20733: PUSH
20734: LD_INT 39
20736: PUSH
20737: LD_INT 49
20739: PUSH
20740: LD_INT 6
20742: PUSH
20743: LD_INT 12
20745: PUSH
20746: LD_INT 51
20748: PUSH
20749: EMPTY
20750: LIST
20751: LIST
20752: LIST
20753: LIST
20754: LIST
20755: ST_TO_ADDR
// for i in ptech do
20756: LD_ADDR_VAR 0 6
20760: PUSH
20761: LD_VAR 0 4
20765: PUSH
20766: FOR_IN
20767: IFFALSE 20788
// EnableTech ( i , side , state_enabled ) ;
20769: LD_VAR 0 6
20773: PPUSH
20774: LD_VAR 0 1
20778: PPUSH
20779: LD_INT 1
20781: PPUSH
20782: CALL 22479 0 3
20786: GO 20766
20788: POP
20789: POP
// end ; 2 :
20790: GO 21079
20792: LD_INT 2
20794: DOUBLE
20795: EQUAL
20796: IFTRUE 20800
20798: GO 20933
20800: POP
// begin pbudovy = [ 32 , 23 , 5 , 16 , 15 ] ;
20801: LD_ADDR_VAR 0 5
20805: PUSH
20806: LD_INT 32
20808: PUSH
20809: LD_INT 23
20811: PUSH
20812: LD_INT 5
20814: PUSH
20815: LD_INT 16
20817: PUSH
20818: LD_INT 15
20820: PUSH
20821: EMPTY
20822: LIST
20823: LIST
20824: LIST
20825: LIST
20826: LIST
20827: ST_TO_ADDR
// for i in pbudovy do
20828: LD_ADDR_VAR 0 6
20832: PUSH
20833: LD_VAR 0 5
20837: PUSH
20838: FOR_IN
20839: IFFALSE 20860
// EnableBuilding ( i , side , state_enabled ) ;
20841: LD_VAR 0 6
20845: PPUSH
20846: LD_VAR 0 1
20850: PPUSH
20851: LD_INT 1
20853: PPUSH
20854: CALL 22601 0 3
20858: GO 20838
20860: POP
20861: POP
// ptech = [ 39 , 49 , 6 , 51 , 17 , 42 , 70 ] ;
20862: LD_ADDR_VAR 0 4
20866: PUSH
20867: LD_INT 39
20869: PUSH
20870: LD_INT 49
20872: PUSH
20873: LD_INT 6
20875: PUSH
20876: LD_INT 51
20878: PUSH
20879: LD_INT 17
20881: PUSH
20882: LD_INT 42
20884: PUSH
20885: LD_INT 70
20887: PUSH
20888: EMPTY
20889: LIST
20890: LIST
20891: LIST
20892: LIST
20893: LIST
20894: LIST
20895: LIST
20896: ST_TO_ADDR
// for i in ptech do
20897: LD_ADDR_VAR 0 6
20901: PUSH
20902: LD_VAR 0 4
20906: PUSH
20907: FOR_IN
20908: IFFALSE 20929
// EnableTech ( i , side , state_enabled ) ;
20910: LD_VAR 0 6
20914: PPUSH
20915: LD_VAR 0 1
20919: PPUSH
20920: LD_INT 1
20922: PPUSH
20923: CALL 22479 0 3
20927: GO 20907
20929: POP
20930: POP
// end ; 3 :
20931: GO 21079
20933: LD_INT 3
20935: DOUBLE
20936: EQUAL
20937: IFTRUE 20941
20939: GO 21078
20941: POP
// begin pbudovy = [ 3 , 32 , 19 , 5 , 14 , 30 ] ;
20942: LD_ADDR_VAR 0 5
20946: PUSH
20947: LD_INT 3
20949: PUSH
20950: LD_INT 32
20952: PUSH
20953: LD_INT 19
20955: PUSH
20956: LD_INT 5
20958: PUSH
20959: LD_INT 14
20961: PUSH
20962: LD_INT 30
20964: PUSH
20965: EMPTY
20966: LIST
20967: LIST
20968: LIST
20969: LIST
20970: LIST
20971: LIST
20972: ST_TO_ADDR
// for i in pbudovy do
20973: LD_ADDR_VAR 0 6
20977: PUSH
20978: LD_VAR 0 5
20982: PUSH
20983: FOR_IN
20984: IFFALSE 21005
// EnableBuilding ( i , side , state_enabled ) ;
20986: LD_VAR 0 6
20990: PPUSH
20991: LD_VAR 0 1
20995: PPUSH
20996: LD_INT 1
20998: PPUSH
20999: CALL 22601 0 3
21003: GO 20983
21005: POP
21006: POP
// ptech = [ 39 , 49 , 69 , 40 , 30 , 11 , 20 ] ;
21007: LD_ADDR_VAR 0 4
21011: PUSH
21012: LD_INT 39
21014: PUSH
21015: LD_INT 49
21017: PUSH
21018: LD_INT 69
21020: PUSH
21021: LD_INT 40
21023: PUSH
21024: LD_INT 30
21026: PUSH
21027: LD_INT 11
21029: PUSH
21030: LD_INT 20
21032: PUSH
21033: EMPTY
21034: LIST
21035: LIST
21036: LIST
21037: LIST
21038: LIST
21039: LIST
21040: LIST
21041: ST_TO_ADDR
// for i in ptech do
21042: LD_ADDR_VAR 0 6
21046: PUSH
21047: LD_VAR 0 4
21051: PUSH
21052: FOR_IN
21053: IFFALSE 21074
// EnableTech ( i , side , state_enabled ) ;
21055: LD_VAR 0 6
21059: PPUSH
21060: LD_VAR 0 1
21064: PPUSH
21065: LD_INT 1
21067: PPUSH
21068: CALL 22479 0 3
21072: GO 21052
21074: POP
21075: POP
// end ; end ;
21076: GO 21079
21078: POP
// Tech_Level = 3 ;
21079: LD_ADDR_EXP 56
21083: PUSH
21084: LD_INT 3
21086: ST_TO_ADDR
// end ;
21087: LD_VAR 0 2
21091: RET
// function ur_4 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
21092: LD_INT 0
21094: PPUSH
21095: PPUSH
21096: PPUSH
21097: PPUSH
21098: PPUSH
// narodnost := Side_Nations [ side ] ;
21099: LD_ADDR_VAR 0 3
21103: PUSH
21104: LD_EXP 76
21108: PUSH
21109: LD_VAR 0 1
21113: ARRAY
21114: ST_TO_ADDR
// case narodnost of 1 :
21115: LD_VAR 0 3
21119: PUSH
21120: LD_INT 1
21122: DOUBLE
21123: EQUAL
21124: IFTRUE 21128
21126: GO 21265
21128: POP
// begin pbudovy = [ 30 , 12 , 11 , 1 ] ;
21129: LD_ADDR_VAR 0 5
21133: PUSH
21134: LD_INT 30
21136: PUSH
21137: LD_INT 12
21139: PUSH
21140: LD_INT 11
21142: PUSH
21143: LD_INT 1
21145: PUSH
21146: EMPTY
21147: LIST
21148: LIST
21149: LIST
21150: LIST
21151: ST_TO_ADDR
// for i in pbudovy do
21152: LD_ADDR_VAR 0 6
21156: PUSH
21157: LD_VAR 0 5
21161: PUSH
21162: FOR_IN
21163: IFFALSE 21184
// EnableBuilding ( i , side , state_enabled ) ;
21165: LD_VAR 0 6
21169: PPUSH
21170: LD_VAR 0 1
21174: PPUSH
21175: LD_INT 1
21177: PPUSH
21178: CALL 22601 0 3
21182: GO 21162
21184: POP
21185: POP
// ptech = [ 21 , 22 , 7 , 20 , 32 , 40 , 10 , 60 , 52 ] ;
21186: LD_ADDR_VAR 0 4
21190: PUSH
21191: LD_INT 21
21193: PUSH
21194: LD_INT 22
21196: PUSH
21197: LD_INT 7
21199: PUSH
21200: LD_INT 20
21202: PUSH
21203: LD_INT 32
21205: PUSH
21206: LD_INT 40
21208: PUSH
21209: LD_INT 10
21211: PUSH
21212: LD_INT 60
21214: PUSH
21215: LD_INT 52
21217: PUSH
21218: EMPTY
21219: LIST
21220: LIST
21221: LIST
21222: LIST
21223: LIST
21224: LIST
21225: LIST
21226: LIST
21227: LIST
21228: ST_TO_ADDR
// for i in ptech do
21229: LD_ADDR_VAR 0 6
21233: PUSH
21234: LD_VAR 0 4
21238: PUSH
21239: FOR_IN
21240: IFFALSE 21261
// EnableTech ( i , side , state_enabled ) ;
21242: LD_VAR 0 6
21246: PPUSH
21247: LD_VAR 0 1
21251: PPUSH
21252: LD_INT 1
21254: PPUSH
21255: CALL 22479 0 3
21259: GO 21239
21261: POP
21262: POP
// end ; 2 :
21263: GO 21556
21265: LD_INT 2
21267: DOUBLE
21268: EQUAL
21269: IFTRUE 21273
21271: GO 21414
21273: POP
// begin pbudovy = [ 30 , 11 , 13 , 1 ] ;
21274: LD_ADDR_VAR 0 5
21278: PUSH
21279: LD_INT 30
21281: PUSH
21282: LD_INT 11
21284: PUSH
21285: LD_INT 13
21287: PUSH
21288: LD_INT 1
21290: PUSH
21291: EMPTY
21292: LIST
21293: LIST
21294: LIST
21295: LIST
21296: ST_TO_ADDR
// for i in pbudovy do
21297: LD_ADDR_VAR 0 6
21301: PUSH
21302: LD_VAR 0 5
21306: PUSH
21307: FOR_IN
21308: IFFALSE 21329
// EnableBuilding ( i , side , state_enabled ) ;
21310: LD_VAR 0 6
21314: PPUSH
21315: LD_VAR 0 1
21319: PPUSH
21320: LD_INT 1
21322: PPUSH
21323: CALL 22601 0 3
21327: GO 21307
21329: POP
21330: POP
// ptech = [ 21 , 22 , 3 , 5 , 7 , 60 , 40 , 41 , 20 , 52 ] ;
21331: LD_ADDR_VAR 0 4
21335: PUSH
21336: LD_INT 21
21338: PUSH
21339: LD_INT 22
21341: PUSH
21342: LD_INT 3
21344: PUSH
21345: LD_INT 5
21347: PUSH
21348: LD_INT 7
21350: PUSH
21351: LD_INT 60
21353: PUSH
21354: LD_INT 40
21356: PUSH
21357: LD_INT 41
21359: PUSH
21360: LD_INT 20
21362: PUSH
21363: LD_INT 52
21365: PUSH
21366: EMPTY
21367: LIST
21368: LIST
21369: LIST
21370: LIST
21371: LIST
21372: LIST
21373: LIST
21374: LIST
21375: LIST
21376: LIST
21377: ST_TO_ADDR
// for i in ptech do
21378: LD_ADDR_VAR 0 6
21382: PUSH
21383: LD_VAR 0 4
21387: PUSH
21388: FOR_IN
21389: IFFALSE 21410
// EnableTech ( i , side , state_enabled ) ;
21391: LD_VAR 0 6
21395: PPUSH
21396: LD_VAR 0 1
21400: PPUSH
21401: LD_INT 1
21403: PPUSH
21404: CALL 22479 0 3
21408: GO 21388
21410: POP
21411: POP
// end ; 3 :
21412: GO 21556
21414: LD_INT 3
21416: DOUBLE
21417: EQUAL
21418: IFTRUE 21422
21420: GO 21555
21422: POP
// begin pbudovy = [ 12 , 11 , 16 , 1 ] ;
21423: LD_ADDR_VAR 0 5
21427: PUSH
21428: LD_INT 12
21430: PUSH
21431: LD_INT 11
21433: PUSH
21434: LD_INT 16
21436: PUSH
21437: LD_INT 1
21439: PUSH
21440: EMPTY
21441: LIST
21442: LIST
21443: LIST
21444: LIST
21445: ST_TO_ADDR
// for i in pbudovy do
21446: LD_ADDR_VAR 0 6
21450: PUSH
21451: LD_VAR 0 5
21455: PUSH
21456: FOR_IN
21457: IFFALSE 21478
// EnableBuilding ( i , side , state_enabled ) ;
21459: LD_VAR 0 6
21463: PPUSH
21464: LD_VAR 0 1
21468: PPUSH
21469: LD_INT 1
21471: PPUSH
21472: CALL 22601 0 3
21476: GO 21456
21478: POP
21479: POP
// ptech = [ 21 , 22 , 44 , 9 , 37 , 32 , 63 , 52 ] ;
21480: LD_ADDR_VAR 0 4
21484: PUSH
21485: LD_INT 21
21487: PUSH
21488: LD_INT 22
21490: PUSH
21491: LD_INT 44
21493: PUSH
21494: LD_INT 9
21496: PUSH
21497: LD_INT 37
21499: PUSH
21500: LD_INT 32
21502: PUSH
21503: LD_INT 63
21505: PUSH
21506: LD_INT 52
21508: PUSH
21509: EMPTY
21510: LIST
21511: LIST
21512: LIST
21513: LIST
21514: LIST
21515: LIST
21516: LIST
21517: LIST
21518: ST_TO_ADDR
// for i in ptech do
21519: LD_ADDR_VAR 0 6
21523: PUSH
21524: LD_VAR 0 4
21528: PUSH
21529: FOR_IN
21530: IFFALSE 21551
// EnableTech ( i , side , state_enabled ) ;
21532: LD_VAR 0 6
21536: PPUSH
21537: LD_VAR 0 1
21541: PPUSH
21542: LD_INT 1
21544: PPUSH
21545: CALL 22479 0 3
21549: GO 21529
21551: POP
21552: POP
// end ; end ;
21553: GO 21556
21555: POP
// Tech_Level = 4 ;
21556: LD_ADDR_EXP 56
21560: PUSH
21561: LD_INT 4
21563: ST_TO_ADDR
// end ;
21564: LD_VAR 0 2
21568: RET
// function ur_5 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
21569: LD_INT 0
21571: PPUSH
21572: PPUSH
21573: PPUSH
21574: PPUSH
21575: PPUSH
// narodnost := Side_Nations [ side ] ;
21576: LD_ADDR_VAR 0 3
21580: PUSH
21581: LD_EXP 76
21585: PUSH
21586: LD_VAR 0 1
21590: ARRAY
21591: ST_TO_ADDR
// case narodnost of 1 :
21592: LD_VAR 0 3
21596: PUSH
21597: LD_INT 1
21599: DOUBLE
21600: EQUAL
21601: IFTRUE 21605
21603: GO 21677
21605: POP
// begin ptech = [ 50 , 54 , 15 , 13 , 34 , 36 , 57 ] ;
21606: LD_ADDR_VAR 0 4
21610: PUSH
21611: LD_INT 50
21613: PUSH
21614: LD_INT 54
21616: PUSH
21617: LD_INT 15
21619: PUSH
21620: LD_INT 13
21622: PUSH
21623: LD_INT 34
21625: PUSH
21626: LD_INT 36
21628: PUSH
21629: LD_INT 57
21631: PUSH
21632: EMPTY
21633: LIST
21634: LIST
21635: LIST
21636: LIST
21637: LIST
21638: LIST
21639: LIST
21640: ST_TO_ADDR
// for i in ptech do
21641: LD_ADDR_VAR 0 6
21645: PUSH
21646: LD_VAR 0 4
21650: PUSH
21651: FOR_IN
21652: IFFALSE 21673
// EnableTech ( i , side , state_enabled ) ;
21654: LD_VAR 0 6
21658: PPUSH
21659: LD_VAR 0 1
21663: PPUSH
21664: LD_INT 1
21666: PPUSH
21667: CALL 22479 0 3
21671: GO 21651
21673: POP
21674: POP
// end ; 2 :
21675: GO 21850
21677: LD_INT 2
21679: DOUBLE
21680: EQUAL
21681: IFTRUE 21685
21683: GO 21757
21685: POP
// begin ptech = [ 50 , 54 , 66 , 18 , 15 , 43 , 26 , ] ;
21686: LD_ADDR_VAR 0 4
21690: PUSH
21691: LD_INT 50
21693: PUSH
21694: LD_INT 54
21696: PUSH
21697: LD_INT 66
21699: PUSH
21700: LD_INT 18
21702: PUSH
21703: LD_INT 15
21705: PUSH
21706: LD_INT 43
21708: PUSH
21709: LD_INT 26
21711: PUSH
21712: EMPTY
21713: LIST
21714: LIST
21715: LIST
21716: LIST
21717: LIST
21718: LIST
21719: LIST
21720: ST_TO_ADDR
// for i in ptech do
21721: LD_ADDR_VAR 0 6
21725: PUSH
21726: LD_VAR 0 4
21730: PUSH
21731: FOR_IN
21732: IFFALSE 21753
// EnableTech ( i , side , state_enabled ) ;
21734: LD_VAR 0 6
21738: PPUSH
21739: LD_VAR 0 1
21743: PPUSH
21744: LD_INT 1
21746: PPUSH
21747: CALL 22479 0 3
21751: GO 21731
21753: POP
21754: POP
// end ; 3 :
21755: GO 21850
21757: LD_INT 3
21759: DOUBLE
21760: EQUAL
21761: IFTRUE 21765
21763: GO 21849
21765: POP
// begin ptech = [ 50 , 54 , 57 , 29 , 28 , 33 , 34 , 19 , 27 , 38 ] ;
21766: LD_ADDR_VAR 0 4
21770: PUSH
21771: LD_INT 50
21773: PUSH
21774: LD_INT 54
21776: PUSH
21777: LD_INT 57
21779: PUSH
21780: LD_INT 29
21782: PUSH
21783: LD_INT 28
21785: PUSH
21786: LD_INT 33
21788: PUSH
21789: LD_INT 34
21791: PUSH
21792: LD_INT 19
21794: PUSH
21795: LD_INT 27
21797: PUSH
21798: LD_INT 38
21800: PUSH
21801: EMPTY
21802: LIST
21803: LIST
21804: LIST
21805: LIST
21806: LIST
21807: LIST
21808: LIST
21809: LIST
21810: LIST
21811: LIST
21812: ST_TO_ADDR
// for i in ptech do
21813: LD_ADDR_VAR 0 6
21817: PUSH
21818: LD_VAR 0 4
21822: PUSH
21823: FOR_IN
21824: IFFALSE 21845
// EnableTech ( i , side , state_enabled ) ;
21826: LD_VAR 0 6
21830: PPUSH
21831: LD_VAR 0 1
21835: PPUSH
21836: LD_INT 1
21838: PPUSH
21839: CALL 22479 0 3
21843: GO 21823
21845: POP
21846: POP
// end ; end ;
21847: GO 21850
21849: POP
// Tech_Level = 5 ;
21850: LD_ADDR_EXP 56
21854: PUSH
21855: LD_INT 5
21857: ST_TO_ADDR
// end ;
21858: LD_VAR 0 2
21862: RET
// function ur_6 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
21863: LD_INT 0
21865: PPUSH
21866: PPUSH
21867: PPUSH
21868: PPUSH
21869: PPUSH
// narodnost := Side_Nations [ side ] ;
21870: LD_ADDR_VAR 0 3
21874: PUSH
21875: LD_EXP 76
21879: PUSH
21880: LD_VAR 0 1
21884: ARRAY
21885: ST_TO_ADDR
// case narodnost of 1 :
21886: LD_VAR 0 3
21890: PUSH
21891: LD_INT 1
21893: DOUBLE
21894: EQUAL
21895: IFTRUE 21899
21897: GO 21967
21899: POP
// begin ptech = [ 53 , 55 , 16 , 61 , 58 , 27 ] ;
21900: LD_ADDR_VAR 0 4
21904: PUSH
21905: LD_INT 53
21907: PUSH
21908: LD_INT 55
21910: PUSH
21911: LD_INT 16
21913: PUSH
21914: LD_INT 61
21916: PUSH
21917: LD_INT 58
21919: PUSH
21920: LD_INT 27
21922: PUSH
21923: EMPTY
21924: LIST
21925: LIST
21926: LIST
21927: LIST
21928: LIST
21929: LIST
21930: ST_TO_ADDR
// for i in ptech do
21931: LD_ADDR_VAR 0 6
21935: PUSH
21936: LD_VAR 0 4
21940: PUSH
21941: FOR_IN
21942: IFFALSE 21963
// EnableTech ( i , side , state_enabled ) ;
21944: LD_VAR 0 6
21948: PPUSH
21949: LD_VAR 0 1
21953: PPUSH
21954: LD_INT 1
21956: PPUSH
21957: CALL 22479 0 3
21961: GO 21941
21963: POP
21964: POP
// end ; 2 :
21965: GO 22120
21967: LD_INT 2
21969: DOUBLE
21970: EQUAL
21971: IFTRUE 21975
21973: GO 22043
21975: POP
// begin ptech = [ 53 , 55 , 61 , 67 , 4 , 8 ] ;
21976: LD_ADDR_VAR 0 4
21980: PUSH
21981: LD_INT 53
21983: PUSH
21984: LD_INT 55
21986: PUSH
21987: LD_INT 61
21989: PUSH
21990: LD_INT 67
21992: PUSH
21993: LD_INT 4
21995: PUSH
21996: LD_INT 8
21998: PUSH
21999: EMPTY
22000: LIST
22001: LIST
22002: LIST
22003: LIST
22004: LIST
22005: LIST
22006: ST_TO_ADDR
// for i in ptech do
22007: LD_ADDR_VAR 0 6
22011: PUSH
22012: LD_VAR 0 4
22016: PUSH
22017: FOR_IN
22018: IFFALSE 22039
// EnableTech ( i , side , state_enabled ) ;
22020: LD_VAR 0 6
22024: PPUSH
22025: LD_VAR 0 1
22029: PPUSH
22030: LD_INT 1
22032: PPUSH
22033: CALL 22479 0 3
22037: GO 22017
22039: POP
22040: POP
// end ; 3 :
22041: GO 22120
22043: LD_INT 3
22045: DOUBLE
22046: EQUAL
22047: IFTRUE 22051
22049: GO 22119
22051: POP
// begin ptech = [ 53 , 55 , 58 , 64 , 71 , 31 ] ;
22052: LD_ADDR_VAR 0 4
22056: PUSH
22057: LD_INT 53
22059: PUSH
22060: LD_INT 55
22062: PUSH
22063: LD_INT 58
22065: PUSH
22066: LD_INT 64
22068: PUSH
22069: LD_INT 71
22071: PUSH
22072: LD_INT 31
22074: PUSH
22075: EMPTY
22076: LIST
22077: LIST
22078: LIST
22079: LIST
22080: LIST
22081: LIST
22082: ST_TO_ADDR
// for i in ptech do
22083: LD_ADDR_VAR 0 6
22087: PUSH
22088: LD_VAR 0 4
22092: PUSH
22093: FOR_IN
22094: IFFALSE 22115
// EnableTech ( i , side , state_enabled ) ;
22096: LD_VAR 0 6
22100: PPUSH
22101: LD_VAR 0 1
22105: PPUSH
22106: LD_INT 1
22108: PPUSH
22109: CALL 22479 0 3
22113: GO 22093
22115: POP
22116: POP
// end ; end ;
22117: GO 22120
22119: POP
// Tech_Level = 6 ;
22120: LD_ADDR_EXP 56
22124: PUSH
22125: LD_INT 6
22127: ST_TO_ADDR
// end ;
22128: LD_VAR 0 2
22132: RET
// function ur_7 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
22133: LD_INT 0
22135: PPUSH
22136: PPUSH
22137: PPUSH
22138: PPUSH
22139: PPUSH
// narodnost := Side_Nations [ side ] ;
22140: LD_ADDR_VAR 0 3
22144: PUSH
22145: LD_EXP 76
22149: PUSH
22150: LD_VAR 0 1
22154: ARRAY
22155: ST_TO_ADDR
// case narodnost of 1 :
22156: LD_VAR 0 3
22160: PUSH
22161: LD_INT 1
22163: DOUBLE
22164: EQUAL
22165: IFTRUE 22169
22167: GO 22229
22169: POP
// begin ptech = [ 56 , 62 , 59 , 14 ] ;
22170: LD_ADDR_VAR 0 4
22174: PUSH
22175: LD_INT 56
22177: PUSH
22178: LD_INT 62
22180: PUSH
22181: LD_INT 59
22183: PUSH
22184: LD_INT 14
22186: PUSH
22187: EMPTY
22188: LIST
22189: LIST
22190: LIST
22191: LIST
22192: ST_TO_ADDR
// for i in ptech do
22193: LD_ADDR_VAR 0 6
22197: PUSH
22198: LD_VAR 0 4
22202: PUSH
22203: FOR_IN
22204: IFFALSE 22225
// EnableTech ( i , side , state_enabled ) ;
22206: LD_VAR 0 6
22210: PPUSH
22211: LD_VAR 0 1
22215: PPUSH
22216: LD_INT 1
22218: PPUSH
22219: CALL 22479 0 3
22223: GO 22203
22225: POP
22226: POP
// end ; 2 :
22227: GO 22366
22229: LD_INT 2
22231: DOUBLE
22232: EQUAL
22233: IFTRUE 22237
22235: GO 22297
22237: POP
// begin ptech = [ 56 , 62 , 68 , 72 ] ;
22238: LD_ADDR_VAR 0 4
22242: PUSH
22243: LD_INT 56
22245: PUSH
22246: LD_INT 62
22248: PUSH
22249: LD_INT 68
22251: PUSH
22252: LD_INT 72
22254: PUSH
22255: EMPTY
22256: LIST
22257: LIST
22258: LIST
22259: LIST
22260: ST_TO_ADDR
// for i in ptech do
22261: LD_ADDR_VAR 0 6
22265: PUSH
22266: LD_VAR 0 4
22270: PUSH
22271: FOR_IN
22272: IFFALSE 22293
// EnableTech ( i , side , state_enabled ) ;
22274: LD_VAR 0 6
22278: PPUSH
22279: LD_VAR 0 1
22283: PPUSH
22284: LD_INT 1
22286: PPUSH
22287: CALL 22479 0 3
22291: GO 22271
22293: POP
22294: POP
// end ; 3 :
22295: GO 22366
22297: LD_INT 3
22299: DOUBLE
22300: EQUAL
22301: IFTRUE 22305
22303: GO 22365
22305: POP
// begin ptech = [ 56 , 59 , 65 , 23 ] ;
22306: LD_ADDR_VAR 0 4
22310: PUSH
22311: LD_INT 56
22313: PUSH
22314: LD_INT 59
22316: PUSH
22317: LD_INT 65
22319: PUSH
22320: LD_INT 23
22322: PUSH
22323: EMPTY
22324: LIST
22325: LIST
22326: LIST
22327: LIST
22328: ST_TO_ADDR
// for i in ptech do
22329: LD_ADDR_VAR 0 6
22333: PUSH
22334: LD_VAR 0 4
22338: PUSH
22339: FOR_IN
22340: IFFALSE 22361
// EnableTech ( i , side , state_enabled ) ;
22342: LD_VAR 0 6
22346: PPUSH
22347: LD_VAR 0 1
22351: PPUSH
22352: LD_INT 1
22354: PPUSH
22355: CALL 22479 0 3
22359: GO 22339
22361: POP
22362: POP
// end ; end ;
22363: GO 22366
22365: POP
// Tech_Level = 7 ;
22366: LD_ADDR_EXP 56
22370: PUSH
22371: LD_INT 7
22373: ST_TO_ADDR
// end ;
22374: LD_VAR 0 2
22378: RET
// function ur_8 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
22379: LD_INT 0
22381: PPUSH
22382: PPUSH
22383: PPUSH
22384: PPUSH
22385: PPUSH
// narodnost := Side_Nations [ side ] ;
22386: LD_ADDR_VAR 0 3
22390: PUSH
22391: LD_EXP 76
22395: PUSH
22396: LD_VAR 0 1
22400: ARRAY
22401: ST_TO_ADDR
// case narodnost of 1 , 3 :
22402: LD_VAR 0 3
22406: PUSH
22407: LD_INT 1
22409: DOUBLE
22410: EQUAL
22411: IFTRUE 22421
22413: LD_INT 3
22415: DOUBLE
22416: EQUAL
22417: IFTRUE 22421
22419: GO 22439
22421: POP
// EnableTech ( 25 , side , state_enabled ) ; 2 :
22422: LD_INT 25
22424: PPUSH
22425: LD_VAR 0 1
22429: PPUSH
22430: LD_INT 1
22432: PPUSH
22433: CALL 22479 0 3
22437: GO 22466
22439: LD_INT 2
22441: DOUBLE
22442: EQUAL
22443: IFTRUE 22447
22445: GO 22465
22447: POP
// EnableTech ( 73 , side , state_enabled ) ; end ;
22448: LD_INT 73
22450: PPUSH
22451: LD_VAR 0 1
22455: PPUSH
22456: LD_INT 1
22458: PPUSH
22459: CALL 22479 0 3
22463: GO 22466
22465: POP
// Tech_Level = 8 ;
22466: LD_ADDR_EXP 56
22470: PUSH
22471: LD_INT 8
22473: ST_TO_ADDR
// end ;
22474: LD_VAR 0 2
22478: RET
// function EnableTech ( id , side , state ) ; begin
22479: LD_INT 0
22481: PPUSH
// if state in [ state_enabled , state_researched ] then
22482: LD_VAR 0 3
22486: PUSH
22487: LD_INT 1
22489: PUSH
22490: LD_INT 2
22492: PUSH
22493: EMPTY
22494: LIST
22495: LIST
22496: IN
22497: IFFALSE 22577
// begin if id = 73 then
22499: LD_VAR 0 1
22503: PUSH
22504: LD_INT 73
22506: EQUAL
22507: IFFALSE 22542
// begin if GetRestrictions ( false , 25 ) then
22509: LD_INT 0
22511: PPUSH
22512: LD_INT 25
22514: PPUSH
22515: CALL_OW 565
22519: IFFALSE 22540
// SetTech ( id , side , state ) ;
22521: LD_VAR 0 1
22525: PPUSH
22526: LD_VAR 0 2
22530: PPUSH
22531: LD_VAR 0 3
22535: PPUSH
22536: CALL_OW 322
// end else
22540: GO 22575
// if GetRestrictions ( false , id ) then
22542: LD_INT 0
22544: PPUSH
22545: LD_VAR 0 1
22549: PPUSH
22550: CALL_OW 565
22554: IFFALSE 22575
// SetTech ( id , side , state ) ;
22556: LD_VAR 0 1
22560: PPUSH
22561: LD_VAR 0 2
22565: PPUSH
22566: LD_VAR 0 3
22570: PPUSH
22571: CALL_OW 322
// end else
22575: GO 22596
// setTech ( id , side , state ) ;
22577: LD_VAR 0 1
22581: PPUSH
22582: LD_VAR 0 2
22586: PPUSH
22587: LD_VAR 0 3
22591: PPUSH
22592: CALL_OW 322
// end ;
22596: LD_VAR 0 4
22600: RET
// function EnableBuilding ( id , side , state ) ; begin
22601: LD_INT 0
22603: PPUSH
// if state in [ state_enabled ] then
22604: LD_VAR 0 3
22608: PUSH
22609: LD_INT 1
22611: PUSH
22612: EMPTY
22613: LIST
22614: IN
22615: IFFALSE 22652
// begin if GetRestrictions ( true , id ) then
22617: LD_INT 1
22619: PPUSH
22620: LD_VAR 0 1
22624: PPUSH
22625: CALL_OW 565
22629: IFFALSE 22650
// SetRestrict ( id , side , state ) ;
22631: LD_VAR 0 1
22635: PPUSH
22636: LD_VAR 0 2
22640: PPUSH
22641: LD_VAR 0 3
22645: PPUSH
22646: CALL_OW 324
// end else
22650: GO 22671
// SetRestrict ( id , side , state ) ;
22652: LD_VAR 0 1
22656: PPUSH
22657: LD_VAR 0 2
22661: PPUSH
22662: LD_VAR 0 3
22666: PPUSH
22667: CALL_OW 324
// end ; end_of_file
22671: LD_VAR 0 4
22675: RET
// var win ; export function init_kings_counting ; var i ; begin
22676: LD_INT 0
22678: PPUSH
22679: PPUSH
// mp_with_score := true ;
22680: LD_ADDR_OWVAR 14
22684: PUSH
22685: LD_INT 1
22687: ST_TO_ADDR
// ResetMultiScore ;
22688: CALL_OW 508
// SetAreaMapShow ( king_territory , true ) ;
22692: LD_EXP 92
22696: PPUSH
22697: LD_INT 1
22699: PPUSH
22700: CALL_OW 424
// enable ( 2 ) ;
22704: LD_INT 2
22706: ENABLE_MARKED
// end ;
22707: LD_VAR 0 1
22711: RET
// function show_public_points ; var side , vypis , i , red , blue , yel , green , p ; begin
22712: LD_INT 0
22714: PPUSH
22715: PPUSH
22716: PPUSH
22717: PPUSH
22718: PPUSH
22719: PPUSH
22720: PPUSH
22721: PPUSH
22722: PPUSH
// vypis := [ ] ;
22723: LD_ADDR_VAR 0 3
22727: PUSH
22728: EMPTY
22729: ST_TO_ADDR
// red = 0 ;
22730: LD_ADDR_VAR 0 5
22734: PUSH
22735: LD_INT 0
22737: ST_TO_ADDR
// blue = 0 ;
22738: LD_ADDR_VAR 0 6
22742: PUSH
22743: LD_INT 0
22745: ST_TO_ADDR
// yel = 0 ;
22746: LD_ADDR_VAR 0 7
22750: PUSH
22751: LD_INT 0
22753: ST_TO_ADDR
// green = 0 ;
22754: LD_ADDR_VAR 0 8
22758: PUSH
22759: LD_INT 0
22761: ST_TO_ADDR
// if def_public_score or isSGUI then
22762: LD_EXP 34
22766: PUSH
22767: LD_OWVAR 83
22771: OR
22772: IFFALSE 23387
// if not Team_Game then
22774: LD_EXP 80
22778: NOT
22779: IFFALSE 22911
// begin for side = 1 to Side_Positions do
22781: LD_ADDR_VAR 0 2
22785: PUSH
22786: DOUBLE
22787: LD_INT 1
22789: DEC
22790: ST_TO_ADDR
22791: LD_EXP 75
22795: PUSH
22796: FOR_TO
22797: IFFALSE 22907
// if Side_Positions [ side ] then
22799: LD_EXP 75
22803: PUSH
22804: LD_VAR 0 2
22808: ARRAY
22809: IFFALSE 22905
// begin vypis := vypis ^ [ #KingoftheHill-Public , side , side , ( GetTag ( side + 10 ) div 3 ) , final_count ] ;
22811: LD_ADDR_VAR 0 3
22815: PUSH
22816: LD_VAR 0 3
22820: PUSH
22821: LD_STRING #KingoftheHill-Public
22823: PUSH
22824: LD_VAR 0 2
22828: PUSH
22829: LD_VAR 0 2
22833: PUSH
22834: LD_VAR 0 2
22838: PUSH
22839: LD_INT 10
22841: PLUS
22842: PPUSH
22843: CALL_OW 110
22847: PUSH
22848: LD_INT 3
22850: DIV
22851: PUSH
22852: LD_EXP 57
22856: PUSH
22857: EMPTY
22858: LIST
22859: LIST
22860: LIST
22861: LIST
22862: LIST
22863: ADD
22864: ST_TO_ADDR
// ToLua ( updateScorePoints(2, & side & , & ( GetTag ( side + 10 ) div 3 ) & ); ) ;
22865: LD_STRING updateScorePoints(2,
22867: PUSH
22868: LD_VAR 0 2
22872: STR
22873: PUSH
22874: LD_STRING ,
22876: STR
22877: PUSH
22878: LD_VAR 0 2
22882: PUSH
22883: LD_INT 10
22885: PLUS
22886: PPUSH
22887: CALL_OW 110
22891: PUSH
22892: LD_INT 3
22894: DIV
22895: STR
22896: PUSH
22897: LD_STRING );
22899: STR
22900: PPUSH
22901: CALL_OW 559
// end ;
22905: GO 22796
22907: POP
22908: POP
// end else
22909: GO 23385
// begin if Teams [ 1 ] then
22911: LD_EXP 73
22915: PUSH
22916: LD_INT 1
22918: ARRAY
22919: IFFALSE 22971
// for i in Teams [ 1 ] do
22921: LD_ADDR_VAR 0 4
22925: PUSH
22926: LD_EXP 73
22930: PUSH
22931: LD_INT 1
22933: ARRAY
22934: PUSH
22935: FOR_IN
22936: IFFALSE 22969
// red = red + ( GetTag ( i + 10 ) div 3 ) ;
22938: LD_ADDR_VAR 0 5
22942: PUSH
22943: LD_VAR 0 5
22947: PUSH
22948: LD_VAR 0 4
22952: PUSH
22953: LD_INT 10
22955: PLUS
22956: PPUSH
22957: CALL_OW 110
22961: PUSH
22962: LD_INT 3
22964: DIV
22965: PLUS
22966: ST_TO_ADDR
22967: GO 22935
22969: POP
22970: POP
// if Teams [ 2 ] then
22971: LD_EXP 73
22975: PUSH
22976: LD_INT 2
22978: ARRAY
22979: IFFALSE 23031
// for i in Teams [ 2 ] do
22981: LD_ADDR_VAR 0 4
22985: PUSH
22986: LD_EXP 73
22990: PUSH
22991: LD_INT 2
22993: ARRAY
22994: PUSH
22995: FOR_IN
22996: IFFALSE 23029
// blue = blue + ( GetTag ( i + 10 ) div 3 ) ;
22998: LD_ADDR_VAR 0 6
23002: PUSH
23003: LD_VAR 0 6
23007: PUSH
23008: LD_VAR 0 4
23012: PUSH
23013: LD_INT 10
23015: PLUS
23016: PPUSH
23017: CALL_OW 110
23021: PUSH
23022: LD_INT 3
23024: DIV
23025: PLUS
23026: ST_TO_ADDR
23027: GO 22995
23029: POP
23030: POP
// if Teams [ 3 ] then
23031: LD_EXP 73
23035: PUSH
23036: LD_INT 3
23038: ARRAY
23039: IFFALSE 23091
// for i in Teams [ 3 ] do
23041: LD_ADDR_VAR 0 4
23045: PUSH
23046: LD_EXP 73
23050: PUSH
23051: LD_INT 3
23053: ARRAY
23054: PUSH
23055: FOR_IN
23056: IFFALSE 23089
// yel = yel + ( GetTag ( i + 10 ) div 3 ) ;
23058: LD_ADDR_VAR 0 7
23062: PUSH
23063: LD_VAR 0 7
23067: PUSH
23068: LD_VAR 0 4
23072: PUSH
23073: LD_INT 10
23075: PLUS
23076: PPUSH
23077: CALL_OW 110
23081: PUSH
23082: LD_INT 3
23084: DIV
23085: PLUS
23086: ST_TO_ADDR
23087: GO 23055
23089: POP
23090: POP
// if Teams [ 4 ] then
23091: LD_EXP 73
23095: PUSH
23096: LD_INT 4
23098: ARRAY
23099: IFFALSE 23151
// for i in Teams [ 4 ] do
23101: LD_ADDR_VAR 0 4
23105: PUSH
23106: LD_EXP 73
23110: PUSH
23111: LD_INT 4
23113: ARRAY
23114: PUSH
23115: FOR_IN
23116: IFFALSE 23149
// green = green + ( GetTag ( i + 10 ) div 3 ) ;
23118: LD_ADDR_VAR 0 8
23122: PUSH
23123: LD_VAR 0 8
23127: PUSH
23128: LD_VAR 0 4
23132: PUSH
23133: LD_INT 10
23135: PLUS
23136: PPUSH
23137: CALL_OW 110
23141: PUSH
23142: LD_INT 3
23144: DIV
23145: PLUS
23146: ST_TO_ADDR
23147: GO 23115
23149: POP
23150: POP
// if Teams [ 1 ] then
23151: LD_EXP 73
23155: PUSH
23156: LD_INT 1
23158: ARRAY
23159: IFFALSE 23188
// vypis := [ #KingoftheHill-Public-red , 3 , Red , final_count ] ;
23161: LD_ADDR_VAR 0 3
23165: PUSH
23166: LD_STRING #KingoftheHill-Public-red
23168: PUSH
23169: LD_INT 3
23171: PUSH
23172: LD_VAR 0 5
23176: PUSH
23177: LD_EXP 57
23181: PUSH
23182: EMPTY
23183: LIST
23184: LIST
23185: LIST
23186: LIST
23187: ST_TO_ADDR
// if Teams [ 2 ] then
23188: LD_EXP 73
23192: PUSH
23193: LD_INT 2
23195: ARRAY
23196: IFFALSE 23231
// vypis := vypis ^ [ #KingoftheHill-Public-blue , 1 , Blue , final_count ] ;
23198: LD_ADDR_VAR 0 3
23202: PUSH
23203: LD_VAR 0 3
23207: PUSH
23208: LD_STRING #KingoftheHill-Public-blue
23210: PUSH
23211: LD_INT 1
23213: PUSH
23214: LD_VAR 0 6
23218: PUSH
23219: LD_EXP 57
23223: PUSH
23224: EMPTY
23225: LIST
23226: LIST
23227: LIST
23228: LIST
23229: ADD
23230: ST_TO_ADDR
// if Teams [ 3 ] then
23231: LD_EXP 73
23235: PUSH
23236: LD_INT 3
23238: ARRAY
23239: IFFALSE 23274
// vypis := vypis ^ [ #KingoftheHill-Public-yell , 2 , yel , final_count ] ;
23241: LD_ADDR_VAR 0 3
23245: PUSH
23246: LD_VAR 0 3
23250: PUSH
23251: LD_STRING #KingoftheHill-Public-yell
23253: PUSH
23254: LD_INT 2
23256: PUSH
23257: LD_VAR 0 7
23261: PUSH
23262: LD_EXP 57
23266: PUSH
23267: EMPTY
23268: LIST
23269: LIST
23270: LIST
23271: LIST
23272: ADD
23273: ST_TO_ADDR
// if Teams [ 4 ] then
23274: LD_EXP 73
23278: PUSH
23279: LD_INT 4
23281: ARRAY
23282: IFFALSE 23317
// vypis := vypis ^ [ #KingoftheHill-Public-green , 7 , green , final_count ] ;
23284: LD_ADDR_VAR 0 3
23288: PUSH
23289: LD_VAR 0 3
23293: PUSH
23294: LD_STRING #KingoftheHill-Public-green
23296: PUSH
23297: LD_INT 7
23299: PUSH
23300: LD_VAR 0 8
23304: PUSH
23305: LD_EXP 57
23309: PUSH
23310: EMPTY
23311: LIST
23312: LIST
23313: LIST
23314: LIST
23315: ADD
23316: ST_TO_ADDR
// ToLua ( updateScorePoints(2,3, & red & ); ) ;
23317: LD_STRING updateScorePoints(2,3,
23319: PUSH
23320: LD_VAR 0 5
23324: STR
23325: PUSH
23326: LD_STRING );
23328: STR
23329: PPUSH
23330: CALL_OW 559
// ToLua ( updateScorePoints(2,1, & blue & ); ) ;
23334: LD_STRING updateScorePoints(2,1,
23336: PUSH
23337: LD_VAR 0 6
23341: STR
23342: PUSH
23343: LD_STRING );
23345: STR
23346: PPUSH
23347: CALL_OW 559
// ToLua ( updateScorePoints(2,2, & yel & ); ) ;
23351: LD_STRING updateScorePoints(2,2,
23353: PUSH
23354: LD_VAR 0 7
23358: STR
23359: PUSH
23360: LD_STRING );
23362: STR
23363: PPUSH
23364: CALL_OW 559
// ToLua ( updateScorePoints(2,7, & green & ); ) ;
23368: LD_STRING updateScorePoints(2,7,
23370: PUSH
23371: LD_VAR 0 8
23375: STR
23376: PUSH
23377: LD_STRING );
23379: STR
23380: PPUSH
23381: CALL_OW 559
// end else
23385: GO 23822
// if not Team_Game then
23387: LD_EXP 80
23391: NOT
23392: IFFALSE 23450
// vypis := vypis ^ [ #KingoftheHill-Private , your_side , your_side , ( GetTag ( side + 10 ) div 3 ) , final_count ] else
23394: LD_ADDR_VAR 0 3
23398: PUSH
23399: LD_VAR 0 3
23403: PUSH
23404: LD_STRING #KingoftheHill-Private
23406: PUSH
23407: LD_OWVAR 2
23411: PUSH
23412: LD_OWVAR 2
23416: PUSH
23417: LD_VAR 0 2
23421: PUSH
23422: LD_INT 10
23424: PLUS
23425: PPUSH
23426: CALL_OW 110
23430: PUSH
23431: LD_INT 3
23433: DIV
23434: PUSH
23435: LD_EXP 57
23439: PUSH
23440: EMPTY
23441: LIST
23442: LIST
23443: LIST
23444: LIST
23445: LIST
23446: ADD
23447: ST_TO_ADDR
23448: GO 23822
// begin for i in Teams [ 1 ] do
23450: LD_ADDR_VAR 0 4
23454: PUSH
23455: LD_EXP 73
23459: PUSH
23460: LD_INT 1
23462: ARRAY
23463: PUSH
23464: FOR_IN
23465: IFFALSE 23498
// red = red + ( GetTag ( i + 10 ) div 3 ) ;
23467: LD_ADDR_VAR 0 5
23471: PUSH
23472: LD_VAR 0 5
23476: PUSH
23477: LD_VAR 0 4
23481: PUSH
23482: LD_INT 10
23484: PLUS
23485: PPUSH
23486: CALL_OW 110
23490: PUSH
23491: LD_INT 3
23493: DIV
23494: PLUS
23495: ST_TO_ADDR
23496: GO 23464
23498: POP
23499: POP
// for i in Teams [ 2 ] do
23500: LD_ADDR_VAR 0 4
23504: PUSH
23505: LD_EXP 73
23509: PUSH
23510: LD_INT 2
23512: ARRAY
23513: PUSH
23514: FOR_IN
23515: IFFALSE 23548
// blue = blue + ( GetTag ( i + 10 ) div 3 ) ;
23517: LD_ADDR_VAR 0 6
23521: PUSH
23522: LD_VAR 0 6
23526: PUSH
23527: LD_VAR 0 4
23531: PUSH
23532: LD_INT 10
23534: PLUS
23535: PPUSH
23536: CALL_OW 110
23540: PUSH
23541: LD_INT 3
23543: DIV
23544: PLUS
23545: ST_TO_ADDR
23546: GO 23514
23548: POP
23549: POP
// for i in Teams [ 3 ] do
23550: LD_ADDR_VAR 0 4
23554: PUSH
23555: LD_EXP 73
23559: PUSH
23560: LD_INT 3
23562: ARRAY
23563: PUSH
23564: FOR_IN
23565: IFFALSE 23598
// yel = yel + ( GetTag ( i + 10 ) div 3 ) ;
23567: LD_ADDR_VAR 0 7
23571: PUSH
23572: LD_VAR 0 7
23576: PUSH
23577: LD_VAR 0 4
23581: PUSH
23582: LD_INT 10
23584: PLUS
23585: PPUSH
23586: CALL_OW 110
23590: PUSH
23591: LD_INT 3
23593: DIV
23594: PLUS
23595: ST_TO_ADDR
23596: GO 23564
23598: POP
23599: POP
// for i in Teams [ 4 ] do
23600: LD_ADDR_VAR 0 4
23604: PUSH
23605: LD_EXP 73
23609: PUSH
23610: LD_INT 4
23612: ARRAY
23613: PUSH
23614: FOR_IN
23615: IFFALSE 23648
// green = green + ( GetTag ( i + 10 ) div 3 ) ;
23617: LD_ADDR_VAR 0 8
23621: PUSH
23622: LD_VAR 0 8
23626: PUSH
23627: LD_VAR 0 4
23631: PUSH
23632: LD_INT 10
23634: PLUS
23635: PPUSH
23636: CALL_OW 110
23640: PUSH
23641: LD_INT 3
23643: DIV
23644: PLUS
23645: ST_TO_ADDR
23646: GO 23614
23648: POP
23649: POP
// if your_side in Teams [ 1 ] then
23650: LD_OWVAR 2
23654: PUSH
23655: LD_EXP 73
23659: PUSH
23660: LD_INT 1
23662: ARRAY
23663: IN
23664: IFFALSE 23693
// vypis := [ #KingoftheHill-Public-red , 3 , Red , final_count ] ;
23666: LD_ADDR_VAR 0 3
23670: PUSH
23671: LD_STRING #KingoftheHill-Public-red
23673: PUSH
23674: LD_INT 3
23676: PUSH
23677: LD_VAR 0 5
23681: PUSH
23682: LD_EXP 57
23686: PUSH
23687: EMPTY
23688: LIST
23689: LIST
23690: LIST
23691: LIST
23692: ST_TO_ADDR
// if your_side in Teams [ 2 ] then
23693: LD_OWVAR 2
23697: PUSH
23698: LD_EXP 73
23702: PUSH
23703: LD_INT 2
23705: ARRAY
23706: IN
23707: IFFALSE 23736
// vypis := [ #KingoftheHill-Public-blue , 1 , Blue , final_count ] ;
23709: LD_ADDR_VAR 0 3
23713: PUSH
23714: LD_STRING #KingoftheHill-Public-blue
23716: PUSH
23717: LD_INT 1
23719: PUSH
23720: LD_VAR 0 6
23724: PUSH
23725: LD_EXP 57
23729: PUSH
23730: EMPTY
23731: LIST
23732: LIST
23733: LIST
23734: LIST
23735: ST_TO_ADDR
// if your_side in Teams [ 3 ] then
23736: LD_OWVAR 2
23740: PUSH
23741: LD_EXP 73
23745: PUSH
23746: LD_INT 3
23748: ARRAY
23749: IN
23750: IFFALSE 23779
// vypis := [ #KingoftheHill-Public-yell , 2 , yel , final_count ] ;
23752: LD_ADDR_VAR 0 3
23756: PUSH
23757: LD_STRING #KingoftheHill-Public-yell
23759: PUSH
23760: LD_INT 2
23762: PUSH
23763: LD_VAR 0 7
23767: PUSH
23768: LD_EXP 57
23772: PUSH
23773: EMPTY
23774: LIST
23775: LIST
23776: LIST
23777: LIST
23778: ST_TO_ADDR
// if your_side in Teams [ 4 ] then
23779: LD_OWVAR 2
23783: PUSH
23784: LD_EXP 73
23788: PUSH
23789: LD_INT 4
23791: ARRAY
23792: IN
23793: IFFALSE 23822
// vypis := [ #KingoftheHill-Public-green , 7 , green , final_count ] ;
23795: LD_ADDR_VAR 0 3
23799: PUSH
23800: LD_STRING #KingoftheHill-Public-green
23802: PUSH
23803: LD_INT 7
23805: PUSH
23806: LD_VAR 0 8
23810: PUSH
23811: LD_EXP 57
23815: PUSH
23816: EMPTY
23817: LIST
23818: LIST
23819: LIST
23820: LIST
23821: ST_TO_ADDR
// end ; Display_kings := vypis ;
23822: LD_ADDR_EXP 108
23826: PUSH
23827: LD_VAR 0 3
23831: ST_TO_ADDR
// end ;
23832: LD_VAR 0 1
23836: RET
// function count_king ; var side , list , un , red , blue , yel , green , i ; begin
23837: LD_INT 0
23839: PPUSH
23840: PPUSH
23841: PPUSH
23842: PPUSH
23843: PPUSH
23844: PPUSH
23845: PPUSH
23846: PPUSH
23847: PPUSH
// side := [ ] ;
23848: LD_ADDR_VAR 0 2
23852: PUSH
23853: EMPTY
23854: ST_TO_ADDR
// red = 0 ;
23855: LD_ADDR_VAR 0 5
23859: PUSH
23860: LD_INT 0
23862: ST_TO_ADDR
// blue = 0 ;
23863: LD_ADDR_VAR 0 6
23867: PUSH
23868: LD_INT 0
23870: ST_TO_ADDR
// yel = 0 ;
23871: LD_ADDR_VAR 0 7
23875: PUSH
23876: LD_INT 0
23878: ST_TO_ADDR
// green = 0 ;
23879: LD_ADDR_VAR 0 8
23883: PUSH
23884: LD_INT 0
23886: ST_TO_ADDR
// list := FilterUnitsInArea ( king_territory , [ [ f_type , unit_building ] , [ f_ready ] ] ) ;
23887: LD_ADDR_VAR 0 3
23891: PUSH
23892: LD_EXP 92
23896: PPUSH
23897: LD_INT 21
23899: PUSH
23900: LD_INT 3
23902: PUSH
23903: EMPTY
23904: LIST
23905: LIST
23906: PUSH
23907: LD_INT 53
23909: PUSH
23910: EMPTY
23911: LIST
23912: PUSH
23913: EMPTY
23914: LIST
23915: LIST
23916: PPUSH
23917: CALL_OW 70
23921: ST_TO_ADDR
// for un in list do
23922: LD_ADDR_VAR 0 4
23926: PUSH
23927: LD_VAR 0 3
23931: PUSH
23932: FOR_IN
23933: IFFALSE 23958
// side := side union GetSide ( un ) ;
23935: LD_ADDR_VAR 0 2
23939: PUSH
23940: LD_VAR 0 2
23944: PUSH
23945: LD_VAR 0 4
23949: PPUSH
23950: CALL_OW 255
23954: UNION
23955: ST_TO_ADDR
23956: GO 23932
23958: POP
23959: POP
// if side <> 1 then
23960: LD_VAR 0 2
23964: PUSH
23965: LD_INT 1
23967: NONEQUAL
23968: IFFALSE 23972
// exit ;
23970: GO 24335
// side := side [ 1 ] ;
23972: LD_ADDR_VAR 0 2
23976: PUSH
23977: LD_VAR 0 2
23981: PUSH
23982: LD_INT 1
23984: ARRAY
23985: ST_TO_ADDR
// SetTag ( side + 10 , GetTag ( side + 10 ) + 1 ) ;
23986: LD_VAR 0 2
23990: PUSH
23991: LD_INT 10
23993: PLUS
23994: PPUSH
23995: LD_VAR 0 2
23999: PUSH
24000: LD_INT 10
24002: PLUS
24003: PPUSH
24004: CALL_OW 110
24008: PUSH
24009: LD_INT 1
24011: PLUS
24012: PPUSH
24013: CALL_OW 109
// SetSharedMultiScore ( side , GetTag ( side + 10 ) div 3 , 2 ) ;
24017: LD_VAR 0 2
24021: PPUSH
24022: LD_VAR 0 2
24026: PUSH
24027: LD_INT 10
24029: PLUS
24030: PPUSH
24031: CALL_OW 110
24035: PUSH
24036: LD_INT 3
24038: DIV
24039: PPUSH
24040: LD_INT 2
24042: PPUSH
24043: CALL 35549 0 3
// if not Team_Game then
24047: LD_EXP 80
24051: NOT
24052: IFFALSE 24335
// if GetTag ( side + 10 ) >= final_count * 3 then
24054: LD_VAR 0 2
24058: PUSH
24059: LD_INT 10
24061: PLUS
24062: PPUSH
24063: CALL_OW 110
24067: PUSH
24068: LD_EXP 57
24072: PUSH
24073: LD_INT 3
24075: MUL
24076: GREATEREQUAL
24077: IFFALSE 24084
// enable ( 3 ) else
24079: LD_INT 3
24081: ENABLE_MARKED
24082: GO 24335
// begin for i in Teams [ 1 ] do
24084: LD_ADDR_VAR 0 9
24088: PUSH
24089: LD_EXP 73
24093: PUSH
24094: LD_INT 1
24096: ARRAY
24097: PUSH
24098: FOR_IN
24099: IFFALSE 24132
// red = red + ( GetTag ( i + 10 ) div 3 ) ;
24101: LD_ADDR_VAR 0 5
24105: PUSH
24106: LD_VAR 0 5
24110: PUSH
24111: LD_VAR 0 9
24115: PUSH
24116: LD_INT 10
24118: PLUS
24119: PPUSH
24120: CALL_OW 110
24124: PUSH
24125: LD_INT 3
24127: DIV
24128: PLUS
24129: ST_TO_ADDR
24130: GO 24098
24132: POP
24133: POP
// for i in Teams [ 2 ] do
24134: LD_ADDR_VAR 0 9
24138: PUSH
24139: LD_EXP 73
24143: PUSH
24144: LD_INT 2
24146: ARRAY
24147: PUSH
24148: FOR_IN
24149: IFFALSE 24182
// blue = blue + ( GetTag ( i + 10 ) div 3 ) ;
24151: LD_ADDR_VAR 0 6
24155: PUSH
24156: LD_VAR 0 6
24160: PUSH
24161: LD_VAR 0 9
24165: PUSH
24166: LD_INT 10
24168: PLUS
24169: PPUSH
24170: CALL_OW 110
24174: PUSH
24175: LD_INT 3
24177: DIV
24178: PLUS
24179: ST_TO_ADDR
24180: GO 24148
24182: POP
24183: POP
// for i in Teams [ 3 ] do
24184: LD_ADDR_VAR 0 9
24188: PUSH
24189: LD_EXP 73
24193: PUSH
24194: LD_INT 3
24196: ARRAY
24197: PUSH
24198: FOR_IN
24199: IFFALSE 24232
// yel = yel + ( GetTag ( i + 10 ) div 3 ) ;
24201: LD_ADDR_VAR 0 7
24205: PUSH
24206: LD_VAR 0 7
24210: PUSH
24211: LD_VAR 0 9
24215: PUSH
24216: LD_INT 10
24218: PLUS
24219: PPUSH
24220: CALL_OW 110
24224: PUSH
24225: LD_INT 3
24227: DIV
24228: PLUS
24229: ST_TO_ADDR
24230: GO 24198
24232: POP
24233: POP
// for i in Teams [ 4 ] do
24234: LD_ADDR_VAR 0 9
24238: PUSH
24239: LD_EXP 73
24243: PUSH
24244: LD_INT 4
24246: ARRAY
24247: PUSH
24248: FOR_IN
24249: IFFALSE 24282
// green = green + ( GetTag ( i + 10 ) div 3 ) ;
24251: LD_ADDR_VAR 0 8
24255: PUSH
24256: LD_VAR 0 8
24260: PUSH
24261: LD_VAR 0 9
24265: PUSH
24266: LD_INT 10
24268: PLUS
24269: PPUSH
24270: CALL_OW 110
24274: PUSH
24275: LD_INT 3
24277: DIV
24278: PLUS
24279: ST_TO_ADDR
24280: GO 24248
24282: POP
24283: POP
// if red >= final_count or blue >= final_count or yel >= final_count or green >= final_count then
24284: LD_VAR 0 5
24288: PUSH
24289: LD_EXP 57
24293: GREATEREQUAL
24294: PUSH
24295: LD_VAR 0 6
24299: PUSH
24300: LD_EXP 57
24304: GREATEREQUAL
24305: OR
24306: PUSH
24307: LD_VAR 0 7
24311: PUSH
24312: LD_EXP 57
24316: GREATEREQUAL
24317: OR
24318: PUSH
24319: LD_VAR 0 8
24323: PUSH
24324: LD_EXP 57
24328: GREATEREQUAL
24329: OR
24330: IFFALSE 24335
// enable ( 3 ) ;
24332: LD_INT 3
24334: ENABLE_MARKED
// end ; end ;
24335: LD_VAR 0 1
24339: RET
// every 0 0$1 marked 2 do
24340: GO 24342
24342: DISABLE
// begin count_king ;
24343: CALL 23837 0 0
// show_public_points ;
24347: CALL 22712 0 0
// enable ;
24351: ENABLE
// end ;
24352: END
// every 0 0$1 marked 3 do var side , red , blue , yel , green , i ;
24353: GO 24355
24355: DISABLE
24356: LD_INT 0
24358: PPUSH
24359: PPUSH
24360: PPUSH
24361: PPUSH
24362: PPUSH
24363: PPUSH
// begin win := [ ] ;
24364: LD_ADDR_LOC 19
24368: PUSH
24369: EMPTY
24370: ST_TO_ADDR
// red = 0 ;
24371: LD_ADDR_VAR 0 2
24375: PUSH
24376: LD_INT 0
24378: ST_TO_ADDR
// blue = 0 ;
24379: LD_ADDR_VAR 0 3
24383: PUSH
24384: LD_INT 0
24386: ST_TO_ADDR
// yel = 0 ;
24387: LD_ADDR_VAR 0 4
24391: PUSH
24392: LD_INT 0
24394: ST_TO_ADDR
// green = 0 ;
24395: LD_ADDR_VAR 0 5
24399: PUSH
24400: LD_INT 0
24402: ST_TO_ADDR
// if not Team_Game then
24403: LD_EXP 80
24407: NOT
24408: IFFALSE 24485
// begin for side = 1 to 8 do
24410: LD_ADDR_VAR 0 1
24414: PUSH
24415: DOUBLE
24416: LD_INT 1
24418: DEC
24419: ST_TO_ADDR
24420: LD_INT 8
24422: PUSH
24423: FOR_TO
24424: IFFALSE 24469
// if GetTag ( side + 10 ) >= final_count * 3 then
24426: LD_VAR 0 1
24430: PUSH
24431: LD_INT 10
24433: PLUS
24434: PPUSH
24435: CALL_OW 110
24439: PUSH
24440: LD_EXP 57
24444: PUSH
24445: LD_INT 3
24447: MUL
24448: GREATEREQUAL
24449: IFFALSE 24467
// win := win ^ side ;
24451: LD_ADDR_LOC 19
24455: PUSH
24456: LD_LOC 19
24460: PUSH
24461: LD_VAR 0 1
24465: ADD
24466: ST_TO_ADDR
24467: GO 24423
24469: POP
24470: POP
// if win then
24471: LD_LOC 19
24475: IFFALSE 24482
// enable ( 4 ) else
24477: LD_INT 4
24479: ENABLE_MARKED
24480: GO 24483
// enable ;
24482: ENABLE
// end else
24483: GO 24801
// begin for i in Teams [ 1 ] do
24485: LD_ADDR_VAR 0 6
24489: PUSH
24490: LD_EXP 73
24494: PUSH
24495: LD_INT 1
24497: ARRAY
24498: PUSH
24499: FOR_IN
24500: IFFALSE 24533
// red = red + ( GetTag ( i + 10 ) div 3 ) ;
24502: LD_ADDR_VAR 0 2
24506: PUSH
24507: LD_VAR 0 2
24511: PUSH
24512: LD_VAR 0 6
24516: PUSH
24517: LD_INT 10
24519: PLUS
24520: PPUSH
24521: CALL_OW 110
24525: PUSH
24526: LD_INT 3
24528: DIV
24529: PLUS
24530: ST_TO_ADDR
24531: GO 24499
24533: POP
24534: POP
// for i in Teams [ 2 ] do
24535: LD_ADDR_VAR 0 6
24539: PUSH
24540: LD_EXP 73
24544: PUSH
24545: LD_INT 2
24547: ARRAY
24548: PUSH
24549: FOR_IN
24550: IFFALSE 24583
// blue = blue + ( GetTag ( i + 10 ) div 3 ) ;
24552: LD_ADDR_VAR 0 3
24556: PUSH
24557: LD_VAR 0 3
24561: PUSH
24562: LD_VAR 0 6
24566: PUSH
24567: LD_INT 10
24569: PLUS
24570: PPUSH
24571: CALL_OW 110
24575: PUSH
24576: LD_INT 3
24578: DIV
24579: PLUS
24580: ST_TO_ADDR
24581: GO 24549
24583: POP
24584: POP
// for i in Teams [ 3 ] do
24585: LD_ADDR_VAR 0 6
24589: PUSH
24590: LD_EXP 73
24594: PUSH
24595: LD_INT 3
24597: ARRAY
24598: PUSH
24599: FOR_IN
24600: IFFALSE 24633
// yel = yel + ( GetTag ( i + 10 ) div 3 ) ;
24602: LD_ADDR_VAR 0 4
24606: PUSH
24607: LD_VAR 0 4
24611: PUSH
24612: LD_VAR 0 6
24616: PUSH
24617: LD_INT 10
24619: PLUS
24620: PPUSH
24621: CALL_OW 110
24625: PUSH
24626: LD_INT 3
24628: DIV
24629: PLUS
24630: ST_TO_ADDR
24631: GO 24599
24633: POP
24634: POP
// for i in Teams [ 4 ] do
24635: LD_ADDR_VAR 0 6
24639: PUSH
24640: LD_EXP 73
24644: PUSH
24645: LD_INT 4
24647: ARRAY
24648: PUSH
24649: FOR_IN
24650: IFFALSE 24683
// green = green + ( GetTag ( i + 10 ) div 3 ) ;
24652: LD_ADDR_VAR 0 5
24656: PUSH
24657: LD_VAR 0 5
24661: PUSH
24662: LD_VAR 0 6
24666: PUSH
24667: LD_INT 10
24669: PLUS
24670: PPUSH
24671: CALL_OW 110
24675: PUSH
24676: LD_INT 3
24678: DIV
24679: PLUS
24680: ST_TO_ADDR
24681: GO 24649
24683: POP
24684: POP
// if red >= final_count then
24685: LD_VAR 0 2
24689: PUSH
24690: LD_EXP 57
24694: GREATEREQUAL
24695: IFFALSE 24711
// win = teams [ 1 ] ;
24697: LD_ADDR_LOC 19
24701: PUSH
24702: LD_EXP 73
24706: PUSH
24707: LD_INT 1
24709: ARRAY
24710: ST_TO_ADDR
// if blue >= final_count then
24711: LD_VAR 0 3
24715: PUSH
24716: LD_EXP 57
24720: GREATEREQUAL
24721: IFFALSE 24737
// win = teams [ 2 ] ;
24723: LD_ADDR_LOC 19
24727: PUSH
24728: LD_EXP 73
24732: PUSH
24733: LD_INT 2
24735: ARRAY
24736: ST_TO_ADDR
// if yel >= final_count then
24737: LD_VAR 0 4
24741: PUSH
24742: LD_EXP 57
24746: GREATEREQUAL
24747: IFFALSE 24763
// win = teams [ 3 ] ;
24749: LD_ADDR_LOC 19
24753: PUSH
24754: LD_EXP 73
24758: PUSH
24759: LD_INT 3
24761: ARRAY
24762: ST_TO_ADDR
// if green >= final_count then
24763: LD_VAR 0 5
24767: PUSH
24768: LD_EXP 57
24772: GREATEREQUAL
24773: IFFALSE 24789
// win = teams [ 4 ] ;
24775: LD_ADDR_LOC 19
24779: PUSH
24780: LD_EXP 73
24784: PUSH
24785: LD_INT 4
24787: ARRAY
24788: ST_TO_ADDR
// if win then
24789: LD_LOC 19
24793: IFFALSE 24800
// enable ( 4 ) else
24795: LD_INT 4
24797: ENABLE_MARKED
24798: GO 24801
// enable ;
24800: ENABLE
// end ; end ;
24801: PPOPN 6
24803: END
// every 0 0$1 marked 4 do
24804: GO 24806
24806: DISABLE
// begin if Player_Side in win then
24807: LD_EXP 70
24811: PUSH
24812: LD_LOC 19
24816: IN
24817: IFFALSE 24833
// begin wait ( 0 0$2 ) ;
24819: LD_INT 70
24821: PPUSH
24822: CALL_OW 67
// enable ( 401 ) ;
24826: LD_INT 401
24828: ENABLE_MARKED
// exit ;
24829: GO 24849
// end else
24831: GO 24849
// begin wait ( 0 0$2 ) ;
24833: LD_INT 70
24835: PPUSH
24836: CALL_OW 67
// Multiplayer_Loose_Message ;
24840: CALL_OW 521
// enable ( 400 ) ;
24844: LD_INT 400
24846: ENABLE_MARKED
// exit ;
24847: GO 24849
// end ; end ; end_of_file
24849: END
// var Month ; export function init_Daily ; begin
24850: LD_INT 0
24852: PPUSH
// if not CurrentTime then
24853: LD_EXP 111
24857: NOT
24858: IFFALSE 24930
// begin CurrentTime = Rand ( daily_start [ 1 ] , daily_start [ 2 ] ) div 0 0$01 ;
24860: LD_ADDR_EXP 111
24864: PUSH
24865: LD_EXP 58
24869: PUSH
24870: LD_INT 1
24872: ARRAY
24873: PPUSH
24874: LD_EXP 58
24878: PUSH
24879: LD_INT 2
24881: ARRAY
24882: PPUSH
24883: CALL_OW 12
24887: PUSH
24888: LD_INT 35
24890: DIV
24891: ST_TO_ADDR
// CurrentTime = CurrentTime * 0 0$01 ;
24892: LD_ADDR_EXP 111
24896: PUSH
24897: LD_EXP 111
24901: PUSH
24902: LD_INT 35
24904: MUL
24905: ST_TO_ADDR
// if CurrentTime >= 24 24$00 then
24906: LD_EXP 111
24910: PUSH
24911: LD_INT 50400
24913: GREATEREQUAL
24914: IFFALSE 24930
// CurrentTime = CurrentTime - 24 24$00 ;
24916: LD_ADDR_EXP 111
24920: PUSH
24921: LD_EXP 111
24925: PUSH
24926: LD_INT 50400
24928: MINUS
24929: ST_TO_ADDR
// end ; case CurrentTime of 0 0$00 .. TimePhase [ 1 ] , TimePhase [ 10 ] + 1 .. 24 24$00 :
24930: LD_EXP 111
24934: PUSH
24935: LD_INT 0
24937: DOUBLE
24938: GREATEREQUAL
24939: IFFALSE 24953
24941: LD_EXP 60
24945: PUSH
24946: LD_INT 1
24948: ARRAY
24949: DOUBLE
24950: LESSEQUAL
24951: IFTRUE 24977
24953: LD_EXP 60
24957: PUSH
24958: LD_INT 10
24960: ARRAY
24961: PUSH
24962: LD_INT 1
24964: PLUS
24965: DOUBLE
24966: GREATEREQUAL
24967: IFFALSE 24975
24969: LD_INT 50400
24971: DOUBLE
24972: LESSEQUAL
24973: IFTRUE 24977
24975: GO 24996
24977: POP
// begin ChangePhase ( DailyPhase [ 6 ] , 35 ) ;
24978: LD_EXP 61
24982: PUSH
24983: LD_INT 6
24985: ARRAY
24986: PPUSH
24987: LD_INT 35
24989: PPUSH
24990: CALL 25633 0 2
// end ; TimePhase [ 1 ] + 1 .. TimePhase [ 2 ] , TimePhase [ 9 ] + 1 .. TimePhase [ 10 ] :
24994: GO 25321
24996: LD_EXP 60
25000: PUSH
25001: LD_INT 1
25003: ARRAY
25004: PUSH
25005: LD_INT 1
25007: PLUS
25008: DOUBLE
25009: GREATEREQUAL
25010: IFFALSE 25024
25012: LD_EXP 60
25016: PUSH
25017: LD_INT 2
25019: ARRAY
25020: DOUBLE
25021: LESSEQUAL
25022: IFTRUE 25054
25024: LD_EXP 60
25028: PUSH
25029: LD_INT 9
25031: ARRAY
25032: PUSH
25033: LD_INT 1
25035: PLUS
25036: DOUBLE
25037: GREATEREQUAL
25038: IFFALSE 25052
25040: LD_EXP 60
25044: PUSH
25045: LD_INT 10
25047: ARRAY
25048: DOUBLE
25049: LESSEQUAL
25050: IFTRUE 25054
25052: GO 25073
25054: POP
// begin ChangePhase ( DailyPhase [ 5 ] , 50 ) ;
25055: LD_EXP 61
25059: PUSH
25060: LD_INT 5
25062: ARRAY
25063: PPUSH
25064: LD_INT 50
25066: PPUSH
25067: CALL 25633 0 2
// end ; TimePhase [ 2 ] + 1 .. TimePhase [ 3 ] , TimePhase [ 8 ] + 1 .. TimePhase [ 9 ] :
25071: GO 25321
25073: LD_EXP 60
25077: PUSH
25078: LD_INT 2
25080: ARRAY
25081: PUSH
25082: LD_INT 1
25084: PLUS
25085: DOUBLE
25086: GREATEREQUAL
25087: IFFALSE 25101
25089: LD_EXP 60
25093: PUSH
25094: LD_INT 3
25096: ARRAY
25097: DOUBLE
25098: LESSEQUAL
25099: IFTRUE 25131
25101: LD_EXP 60
25105: PUSH
25106: LD_INT 8
25108: ARRAY
25109: PUSH
25110: LD_INT 1
25112: PLUS
25113: DOUBLE
25114: GREATEREQUAL
25115: IFFALSE 25129
25117: LD_EXP 60
25121: PUSH
25122: LD_INT 9
25124: ARRAY
25125: DOUBLE
25126: LESSEQUAL
25127: IFTRUE 25131
25129: GO 25150
25131: POP
// begin ChangePhase ( DailyPhase [ 4 ] , 60 ) ;
25132: LD_EXP 61
25136: PUSH
25137: LD_INT 4
25139: ARRAY
25140: PPUSH
25141: LD_INT 60
25143: PPUSH
25144: CALL 25633 0 2
// end ; TimePhase [ 3 ] + 1 .. TimePhase [ 4 ] , TimePhase [ 7 ] + 1 .. TimePhase [ 8 ] :
25148: GO 25321
25150: LD_EXP 60
25154: PUSH
25155: LD_INT 3
25157: ARRAY
25158: PUSH
25159: LD_INT 1
25161: PLUS
25162: DOUBLE
25163: GREATEREQUAL
25164: IFFALSE 25178
25166: LD_EXP 60
25170: PUSH
25171: LD_INT 4
25173: ARRAY
25174: DOUBLE
25175: LESSEQUAL
25176: IFTRUE 25208
25178: LD_EXP 60
25182: PUSH
25183: LD_INT 7
25185: ARRAY
25186: PUSH
25187: LD_INT 1
25189: PLUS
25190: DOUBLE
25191: GREATEREQUAL
25192: IFFALSE 25206
25194: LD_EXP 60
25198: PUSH
25199: LD_INT 8
25201: ARRAY
25202: DOUBLE
25203: LESSEQUAL
25204: IFTRUE 25208
25206: GO 25227
25208: POP
// begin ChangePhase ( DailyPhase [ 3 ] , 80 ) ;
25209: LD_EXP 61
25213: PUSH
25214: LD_INT 3
25216: ARRAY
25217: PPUSH
25218: LD_INT 80
25220: PPUSH
25221: CALL 25633 0 2
// end ; TimePhase [ 4 ] + 1 .. TimePhase [ 5 ] , TimePhase [ 6 ] + 1 .. TimePhase [ 7 ] :
25225: GO 25321
25227: LD_EXP 60
25231: PUSH
25232: LD_INT 4
25234: ARRAY
25235: PUSH
25236: LD_INT 1
25238: PLUS
25239: DOUBLE
25240: GREATEREQUAL
25241: IFFALSE 25255
25243: LD_EXP 60
25247: PUSH
25248: LD_INT 5
25250: ARRAY
25251: DOUBLE
25252: LESSEQUAL
25253: IFTRUE 25285
25255: LD_EXP 60
25259: PUSH
25260: LD_INT 6
25262: ARRAY
25263: PUSH
25264: LD_INT 1
25266: PLUS
25267: DOUBLE
25268: GREATEREQUAL
25269: IFFALSE 25283
25271: LD_EXP 60
25275: PUSH
25276: LD_INT 7
25278: ARRAY
25279: DOUBLE
25280: LESSEQUAL
25281: IFTRUE 25285
25283: GO 25304
25285: POP
// begin ChangePhase ( DailyPhase [ 2 ] , 95 ) ;
25286: LD_EXP 61
25290: PUSH
25291: LD_INT 2
25293: ARRAY
25294: PPUSH
25295: LD_INT 95
25297: PPUSH
25298: CALL 25633 0 2
// end ; else
25302: GO 25321
25304: POP
// begin ChangePhase ( DailyPhase [ 1 ] , 110 ) ;
25305: LD_EXP 61
25309: PUSH
25310: LD_INT 1
25312: ARRAY
25313: PPUSH
25314: LD_INT 110
25316: PPUSH
25317: CALL 25633 0 2
// end ; end ; enable ( 31 ) ;
25321: LD_INT 31
25323: ENABLE_MARKED
// end ;
25324: LD_VAR 0 1
25328: RET
// every 0 0$01 marked 31 do
25329: GO 25331
25331: DISABLE
// begin if daily_speed then
25332: LD_EXP 59
25336: IFFALSE 25347
// wait ( daily_speed ) ;
25338: LD_EXP 59
25342: PPUSH
25343: CALL_OW 67
// CurrentTime = CurrentTime + 0 0$01 ;
25347: LD_ADDR_EXP 111
25351: PUSH
25352: LD_EXP 111
25356: PUSH
25357: LD_INT 35
25359: PLUS
25360: ST_TO_ADDR
// case CurrentTIme of TimePhase [ 5 ] :
25361: LD_EXP 111
25365: PUSH
25366: LD_EXP 60
25370: PUSH
25371: LD_INT 5
25373: ARRAY
25374: DOUBLE
25375: EQUAL
25376: IFTRUE 25380
25378: GO 25399
25380: POP
// begin ChangePhase ( DailyPhase [ 1 ] , 110 ) ;
25381: LD_EXP 61
25385: PUSH
25386: LD_INT 1
25388: ARRAY
25389: PPUSH
25390: LD_INT 110
25392: PPUSH
25393: CALL 25633 0 2
// end ; TimePhase [ 4 ] , TimePhase [ 6 ] :
25397: GO 25613
25399: LD_EXP 60
25403: PUSH
25404: LD_INT 4
25406: ARRAY
25407: DOUBLE
25408: EQUAL
25409: IFTRUE 25425
25411: LD_EXP 60
25415: PUSH
25416: LD_INT 6
25418: ARRAY
25419: DOUBLE
25420: EQUAL
25421: IFTRUE 25425
25423: GO 25444
25425: POP
// begin ChangePhase ( DailyPhase [ 2 ] , 95 ) ;
25426: LD_EXP 61
25430: PUSH
25431: LD_INT 2
25433: ARRAY
25434: PPUSH
25435: LD_INT 95
25437: PPUSH
25438: CALL 25633 0 2
// end ; TimePhase [ 3 ] , TimePhase [ 7 ] :
25442: GO 25613
25444: LD_EXP 60
25448: PUSH
25449: LD_INT 3
25451: ARRAY
25452: DOUBLE
25453: EQUAL
25454: IFTRUE 25470
25456: LD_EXP 60
25460: PUSH
25461: LD_INT 7
25463: ARRAY
25464: DOUBLE
25465: EQUAL
25466: IFTRUE 25470
25468: GO 25489
25470: POP
// begin ChangePhase ( DailyPhase [ 3 ] , 80 ) ;
25471: LD_EXP 61
25475: PUSH
25476: LD_INT 3
25478: ARRAY
25479: PPUSH
25480: LD_INT 80
25482: PPUSH
25483: CALL 25633 0 2
// end ; TimePhase [ 2 ] , TimePhase [ 8 ] :
25487: GO 25613
25489: LD_EXP 60
25493: PUSH
25494: LD_INT 2
25496: ARRAY
25497: DOUBLE
25498: EQUAL
25499: IFTRUE 25515
25501: LD_EXP 60
25505: PUSH
25506: LD_INT 8
25508: ARRAY
25509: DOUBLE
25510: EQUAL
25511: IFTRUE 25515
25513: GO 25534
25515: POP
// begin ChangePhase ( DailyPhase [ 4 ] , 60 ) ;
25516: LD_EXP 61
25520: PUSH
25521: LD_INT 4
25523: ARRAY
25524: PPUSH
25525: LD_INT 60
25527: PPUSH
25528: CALL 25633 0 2
// end ; TimePhase [ 1 ] , TimePhase [ 9 ] :
25532: GO 25613
25534: LD_EXP 60
25538: PUSH
25539: LD_INT 1
25541: ARRAY
25542: DOUBLE
25543: EQUAL
25544: IFTRUE 25560
25546: LD_EXP 60
25550: PUSH
25551: LD_INT 9
25553: ARRAY
25554: DOUBLE
25555: EQUAL
25556: IFTRUE 25560
25558: GO 25579
25560: POP
// begin ChangePhase ( DailyPhase [ 5 ] , 50 ) ;
25561: LD_EXP 61
25565: PUSH
25566: LD_INT 5
25568: ARRAY
25569: PPUSH
25570: LD_INT 50
25572: PPUSH
25573: CALL 25633 0 2
// end ; TimePhase [ 10 ] :
25577: GO 25613
25579: LD_EXP 60
25583: PUSH
25584: LD_INT 10
25586: ARRAY
25587: DOUBLE
25588: EQUAL
25589: IFTRUE 25593
25591: GO 25612
25593: POP
// begin ChangePhase ( DailyPhase [ 6 ] , 35 ) ;
25594: LD_EXP 61
25598: PUSH
25599: LD_INT 6
25601: ARRAY
25602: PPUSH
25603: LD_INT 35
25605: PPUSH
25606: CALL 25633 0 2
// end ; end ;
25610: GO 25613
25612: POP
// if CurrentTime >= 24 24$00 then
25613: LD_EXP 111
25617: PUSH
25618: LD_INT 50400
25620: GREATEREQUAL
25621: IFFALSE 25631
// CurrentTime = 0 0$00 ;
25623: LD_ADDR_EXP 111
25627: PUSH
25628: LD_INT 0
25630: ST_TO_ADDR
// enable ;
25631: ENABLE
// end ;
25632: END
// function changePhase ( dp , srp ) ; begin
25633: LD_INT 0
25635: PPUSH
// solar_recharge_percent = srp ;
25636: LD_ADDR_OWVAR 79
25640: PUSH
25641: LD_VAR 0 2
25645: ST_TO_ADDR
// LoadColorsTXT ( dp ) ;
25646: LD_VAR 0 1
25650: PPUSH
25651: CALL_OW 544
// end ; end_of_file
25655: LD_VAR 0 3
25659: RET
// export BuildUpAreas , BuildUp ; export function BeginBuildUp ; var i , j ; begin
25660: LD_INT 0
25662: PPUSH
25663: PPUSH
25664: PPUSH
// enable ( 600 ) ;
25665: LD_INT 600
25667: ENABLE_MARKED
// BuildUp = true ;
25668: LD_ADDR_EXP 117
25672: PUSH
25673: LD_INT 1
25675: ST_TO_ADDR
// for i := 1 to BuildUpAreas do
25676: LD_ADDR_VAR 0 2
25680: PUSH
25681: DOUBLE
25682: LD_INT 1
25684: DEC
25685: ST_TO_ADDR
25686: LD_EXP 116
25690: PUSH
25691: FOR_TO
25692: IFFALSE 25847
// if Position_Sides [ i ] then
25694: LD_EXP 62
25698: PUSH
25699: LD_VAR 0 2
25703: ARRAY
25704: IFFALSE 25845
// for j := 1 to 8 do
25706: LD_ADDR_VAR 0 3
25710: PUSH
25711: DOUBLE
25712: LD_INT 1
25714: DEC
25715: ST_TO_ADDR
25716: LD_INT 8
25718: PUSH
25719: FOR_TO
25720: IFFALSE 25843
// if Side_Positions [ j ] and ( ( Side_Teams [ Position_Sides [ i ] ] <> Side_Teams [ j ] ) or ( not Team_Game ) and ( Position_Sides [ i ] <> j ) ) then
25722: LD_EXP 75
25726: PUSH
25727: LD_VAR 0 3
25731: ARRAY
25732: PUSH
25733: LD_EXP 72
25737: PUSH
25738: LD_EXP 62
25742: PUSH
25743: LD_VAR 0 2
25747: ARRAY
25748: ARRAY
25749: PUSH
25750: LD_EXP 72
25754: PUSH
25755: LD_VAR 0 3
25759: ARRAY
25760: NONEQUAL
25761: PUSH
25762: LD_EXP 80
25766: NOT
25767: PUSH
25768: LD_EXP 62
25772: PUSH
25773: LD_VAR 0 2
25777: ARRAY
25778: PUSH
25779: LD_VAR 0 3
25783: NONEQUAL
25784: AND
25785: OR
25786: AND
25787: IFFALSE 25811
// HideArea ( j , BuildUpAreas [ i ] ) else
25789: LD_VAR 0 3
25793: PPUSH
25794: LD_EXP 116
25798: PUSH
25799: LD_VAR 0 2
25803: ARRAY
25804: PPUSH
25805: CALL_OW 333
25809: GO 25841
// if ( j = your_side ) then
25811: LD_VAR 0 3
25815: PUSH
25816: LD_OWVAR 2
25820: EQUAL
25821: IFFALSE 25841
// SetAreaMapShow ( BuildUpAreas [ i ] , 3 ) ;
25823: LD_EXP 116
25827: PUSH
25828: LD_VAR 0 2
25832: ARRAY
25833: PPUSH
25834: LD_INT 3
25836: PPUSH
25837: CALL_OW 424
25841: GO 25719
25843: POP
25844: POP
25845: GO 25691
25847: POP
25848: POP
// end ;
25849: LD_VAR 0 1
25853: RET
// export function EndBuildUp ; var i , j ; begin
25854: LD_INT 0
25856: PPUSH
25857: PPUSH
25858: PPUSH
// disable ( 600 ) ;
25859: LD_INT 600
25861: DISABLE_MARKED
// BuildUp = false ;
25862: LD_ADDR_EXP 117
25866: PUSH
25867: LD_INT 0
25869: ST_TO_ADDR
// for i := 1 to BuildUpAreas do
25870: LD_ADDR_VAR 0 2
25874: PUSH
25875: DOUBLE
25876: LD_INT 1
25878: DEC
25879: ST_TO_ADDR
25880: LD_EXP 116
25884: PUSH
25885: FOR_TO
25886: IFFALSE 26041
// if Position_Sides [ i ] then
25888: LD_EXP 62
25892: PUSH
25893: LD_VAR 0 2
25897: ARRAY
25898: IFFALSE 26039
// for j := 1 to 8 do
25900: LD_ADDR_VAR 0 3
25904: PUSH
25905: DOUBLE
25906: LD_INT 1
25908: DEC
25909: ST_TO_ADDR
25910: LD_INT 8
25912: PUSH
25913: FOR_TO
25914: IFFALSE 26037
// if Side_Positions [ j ] and ( ( Side_Teams [ Position_Sides [ i ] ] <> Side_Teams [ j ] ) or ( not Team_Game ) and ( Position_Sides [ i ] <> j ) ) then
25916: LD_EXP 75
25920: PUSH
25921: LD_VAR 0 3
25925: ARRAY
25926: PUSH
25927: LD_EXP 72
25931: PUSH
25932: LD_EXP 62
25936: PUSH
25937: LD_VAR 0 2
25941: ARRAY
25942: ARRAY
25943: PUSH
25944: LD_EXP 72
25948: PUSH
25949: LD_VAR 0 3
25953: ARRAY
25954: NONEQUAL
25955: PUSH
25956: LD_EXP 80
25960: NOT
25961: PUSH
25962: LD_EXP 62
25966: PUSH
25967: LD_VAR 0 2
25971: ARRAY
25972: PUSH
25973: LD_VAR 0 3
25977: NONEQUAL
25978: AND
25979: OR
25980: AND
25981: IFFALSE 26005
// ShowArea ( j , BuildUpAreas [ i ] ) else
25983: LD_VAR 0 3
25987: PPUSH
25988: LD_EXP 116
25992: PUSH
25993: LD_VAR 0 2
25997: ARRAY
25998: PPUSH
25999: CALL_OW 334
26003: GO 26035
// if ( j = your_side ) then
26005: LD_VAR 0 3
26009: PUSH
26010: LD_OWVAR 2
26014: EQUAL
26015: IFFALSE 26035
// SetAreaMapShow ( BuildUpAreas [ i ] , 0 ) ;
26017: LD_EXP 116
26021: PUSH
26022: LD_VAR 0 2
26026: ARRAY
26027: PPUSH
26028: LD_INT 0
26030: PPUSH
26031: CALL_OW 424
26035: GO 25913
26037: POP
26038: POP
26039: GO 25885
26041: POP
26042: POP
// end ;
26043: LD_VAR 0 1
26047: RET
// every 1 marked 600 do var i , un ;
26048: GO 26050
26050: DISABLE
26051: LD_INT 0
26053: PPUSH
26054: PPUSH
// begin for i := 1 to BuildUpAreas do
26055: LD_ADDR_VAR 0 1
26059: PUSH
26060: DOUBLE
26061: LD_INT 1
26063: DEC
26064: ST_TO_ADDR
26065: LD_EXP 116
26069: PUSH
26070: FOR_TO
26071: IFFALSE 26241
// if Position_Sides [ i ] then
26073: LD_EXP 62
26077: PUSH
26078: LD_VAR 0 1
26082: ARRAY
26083: IFFALSE 26239
// for un in FilterUnitsInArea ( BuildUpAreas [ i ] , [ [ f_or , [ f_type , unit_human ] , [ f_type , unit_vehicle ] ] , [ f_not , [ f_side , 0 ] ] ] ) do
26085: LD_ADDR_VAR 0 2
26089: PUSH
26090: LD_EXP 116
26094: PUSH
26095: LD_VAR 0 1
26099: ARRAY
26100: PPUSH
26101: LD_INT 2
26103: PUSH
26104: LD_INT 21
26106: PUSH
26107: LD_INT 1
26109: PUSH
26110: EMPTY
26111: LIST
26112: LIST
26113: PUSH
26114: LD_INT 21
26116: PUSH
26117: LD_INT 2
26119: PUSH
26120: EMPTY
26121: LIST
26122: LIST
26123: PUSH
26124: EMPTY
26125: LIST
26126: LIST
26127: LIST
26128: PUSH
26129: LD_INT 3
26131: PUSH
26132: LD_INT 22
26134: PUSH
26135: LD_INT 0
26137: PUSH
26138: EMPTY
26139: LIST
26140: LIST
26141: PUSH
26142: EMPTY
26143: LIST
26144: LIST
26145: PUSH
26146: EMPTY
26147: LIST
26148: LIST
26149: PPUSH
26150: CALL_OW 70
26154: PUSH
26155: FOR_IN
26156: IFFALSE 26237
// if ( ( Side_Teams [ Position_Sides [ i ] ] <> Side_Teams [ GetSide ( un ) ] ) or ( not Team_Game ) and ( Position_Sides [ i ] <> GetSide ( un ) ) ) then
26158: LD_EXP 72
26162: PUSH
26163: LD_EXP 62
26167: PUSH
26168: LD_VAR 0 1
26172: ARRAY
26173: ARRAY
26174: PUSH
26175: LD_EXP 72
26179: PUSH
26180: LD_VAR 0 2
26184: PPUSH
26185: CALL_OW 255
26189: ARRAY
26190: NONEQUAL
26191: PUSH
26192: LD_EXP 80
26196: NOT
26197: PUSH
26198: LD_EXP 62
26202: PUSH
26203: LD_VAR 0 1
26207: ARRAY
26208: PUSH
26209: LD_VAR 0 2
26213: PPUSH
26214: CALL_OW 255
26218: NONEQUAL
26219: AND
26220: OR
26221: IFFALSE 26235
// ComMoveToArea ( un , BuildUpEscape ) ;
26223: LD_VAR 0 2
26227: PPUSH
26228: LD_INT 33
26230: PPUSH
26231: CALL_OW 113
26235: GO 26155
26237: POP
26238: POP
26239: GO 26070
26241: POP
26242: POP
// if BuildUp then
26243: LD_EXP 117
26247: IFFALSE 26250
// enable ;
26249: ENABLE
// end ;
26250: PPOPN 2
26252: END
// every 1 do
26253: GO 26255
26255: DISABLE
// if ( def_builduptime > 0 ) then
26256: LD_EXP 30
26260: PUSH
26261: LD_INT 0
26263: GREATER
26264: IFFALSE 26285
// begin if buildUpTime_Delay then
26266: LD_EXP 66
26270: IFFALSE 26281
// wait ( buildUpTime_Delay ) ;
26272: LD_EXP 66
26276: PPUSH
26277: CALL_OW 67
// EndBuildUp ;
26281: CALL 25854 0 0
// end ; end_of_file
26285: END
// var Restricted_Builds , Restricted_Builds_Amount ; var Banned_Weapons , Banned_Chassis , Banned_Controls , Banned_Engines ; var Already_Built ; var Limits_Info , Cheaters ; every 0 0$1 do
26286: GO 26288
26288: DISABLE
// begin fLimitsStrings ;
26289: CALL 26295 0 0
// enable ;
26293: ENABLE
// end ;
26294: END
// export function fLimitsStrings ; var i ; begin
26295: LD_INT 0
26297: PPUSH
26298: PPUSH
// if ( not IAmSpec ) then
26299: CALL_OW 531
26303: NOT
26304: IFFALSE 26320
// LimitsStrings := Limits_Info ^  ;
26306: LD_ADDR_EXP 110
26310: PUSH
26311: LD_LOC 28
26315: PUSH
26316: LD_STRING 
26318: ADD
26319: ST_TO_ADDR
// for i := 1 to 8 do
26320: LD_ADDR_VAR 0 2
26324: PUSH
26325: DOUBLE
26326: LD_INT 1
26328: DEC
26329: ST_TO_ADDR
26330: LD_INT 8
26332: PUSH
26333: FOR_TO
26334: IFFALSE 26379
// if Cheaters [ i ] then
26336: LD_LOC 29
26340: PUSH
26341: LD_VAR 0 2
26345: ARRAY
26346: IFFALSE 26377
// LimitsStrings := LimitsStrings ^ [ #Cheater , i , i ] ;
26348: LD_ADDR_EXP 110
26352: PUSH
26353: LD_EXP 110
26357: PUSH
26358: LD_STRING #Cheater
26360: PUSH
26361: LD_VAR 0 2
26365: PUSH
26366: LD_VAR 0 2
26370: PUSH
26371: EMPTY
26372: LIST
26373: LIST
26374: LIST
26375: ADD
26376: ST_TO_ADDR
26377: GO 26333
26379: POP
26380: POP
// end ;
26381: LD_VAR 0 1
26385: RET
// export function InitGameRules ; var Unavailable_Techs , Unavailable_Builds ; var i , j ; begin
26386: LD_INT 0
26388: PPUSH
26389: PPUSH
26390: PPUSH
26391: PPUSH
26392: PPUSH
// Cheaters := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
26393: LD_ADDR_LOC 29
26397: PUSH
26398: LD_INT 0
26400: PUSH
26401: LD_INT 0
26403: PUSH
26404: LD_INT 0
26406: PUSH
26407: LD_INT 0
26409: PUSH
26410: LD_INT 0
26412: PUSH
26413: LD_INT 0
26415: PUSH
26416: LD_INT 0
26418: PUSH
26419: LD_INT 0
26421: PUSH
26422: EMPTY
26423: LIST
26424: LIST
26425: LIST
26426: LIST
26427: LIST
26428: LIST
26429: LIST
26430: LIST
26431: ST_TO_ADDR
// case def_game_rules of 0 :
26432: LD_EXP 9
26436: PUSH
26437: LD_INT 0
26439: DOUBLE
26440: EQUAL
26441: IFTRUE 26445
26443: GO 26450
26445: POP
// exit ; 1 :
26446: GO 29086
26448: GO 28986
26450: LD_INT 1
26452: DOUBLE
26453: EQUAL
26454: IFTRUE 26458
26456: GO 26761
26458: POP
// begin def_base_level := 2 ;
26459: LD_ADDR_EXP 10
26463: PUSH
26464: LD_INT 2
26466: ST_TO_ADDR
// def_amount_of_people := 10 ;
26467: LD_ADDR_EXP 11
26471: PUSH
26472: LD_INT 10
26474: ST_TO_ADDR
// def_initial_level := 1 ;
26475: LD_ADDR_EXP 13
26479: PUSH
26480: LD_INT 1
26482: ST_TO_ADDR
// def_starting_resources := 2 ;
26483: LD_ADDR_EXP 15
26487: PUSH
26488: LD_INT 2
26490: ST_TO_ADDR
// def_shipments_density := 1 ;
26491: LD_ADDR_EXP 16
26495: PUSH
26496: LD_INT 1
26498: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
26499: LD_ADDR_EXP 17
26503: PUSH
26504: LD_INT 0
26506: ST_TO_ADDR
// def_extra_sib_deposits := 1 ;
26507: LD_ADDR_EXP 18
26511: PUSH
26512: LD_INT 1
26514: ST_TO_ADDR
// def_shared_vision := 1 ;
26515: LD_ADDR_EXP 19
26519: PUSH
26520: LD_INT 1
26522: ST_TO_ADDR
// def_morale_flags := 3 ;
26523: LD_ADDR_EXP 20
26527: PUSH
26528: LD_INT 3
26530: ST_TO_ADDR
// def_siberite_detection := 1 ;
26531: LD_ADDR_EXP 28
26535: PUSH
26536: LD_INT 1
26538: ST_TO_ADDR
// def_people_respawning := 1 ;
26539: LD_ADDR_EXP 25
26543: PUSH
26544: LD_INT 1
26546: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
26547: LD_ADDR_EXP 22
26551: PUSH
26552: LD_INT 1
26554: ST_TO_ADDR
// def_siberite_bomb := 0 ;
26555: LD_ADDR_EXP 29
26559: PUSH
26560: LD_INT 0
26562: ST_TO_ADDR
// def_builduptime := 2 ;
26563: LD_ADDR_EXP 30
26567: PUSH
26568: LD_INT 2
26570: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
26571: LD_ADDR_EXP 12
26575: PUSH
26576: LD_INT 0
26578: ST_TO_ADDR
// def_amount_of_tiger := 0 ;
26579: LD_ADDR_EXP 23
26583: PUSH
26584: LD_INT 0
26586: ST_TO_ADDR
// def_respawining_type := 3 ;
26587: LD_ADDR_EXP 24
26591: PUSH
26592: LD_INT 3
26594: ST_TO_ADDR
// def_tech_level := 8 ;
26595: LD_ADDR_EXP 26
26599: PUSH
26600: LD_INT 8
26602: ST_TO_ADDR
// def_upgrade_tl := 0 ;
26603: LD_ADDR_EXP 27
26607: PUSH
26608: LD_INT 0
26610: ST_TO_ADDR
// def_desert_warior := 0 ;
26611: LD_ADDR_EXP 31
26615: PUSH
26616: LD_INT 0
26618: ST_TO_ADDR
// Unavailable_Techs := [ ] ;
26619: LD_ADDR_VAR 0 2
26623: PUSH
26624: EMPTY
26625: ST_TO_ADDR
// Unavailable_Builds := [ ] ;
26626: LD_ADDR_VAR 0 3
26630: PUSH
26631: EMPTY
26632: ST_TO_ADDR
// Banned_Weapons := [ ] ;
26633: LD_ADDR_LOC 23
26637: PUSH
26638: EMPTY
26639: ST_TO_ADDR
// Banned_Chassis := [ ] ;
26640: LD_ADDR_LOC 24
26644: PUSH
26645: EMPTY
26646: ST_TO_ADDR
// Banned_Controls := [ ] ;
26647: LD_ADDR_LOC 25
26651: PUSH
26652: EMPTY
26653: ST_TO_ADDR
// Banned_Engines := [ ] ;
26654: LD_ADDR_LOC 26
26658: PUSH
26659: EMPTY
26660: ST_TO_ADDR
// Restricted_Builds := [ [ b_Behemoth ] , [ b_Armoury , b_Barracks ] , [ b_Breastwork , b_Bunker , b_Turret ] ] ;
26661: LD_ADDR_LOC 21
26665: PUSH
26666: LD_INT 37
26668: PUSH
26669: EMPTY
26670: LIST
26671: PUSH
26672: LD_INT 4
26674: PUSH
26675: LD_INT 5
26677: PUSH
26678: EMPTY
26679: LIST
26680: LIST
26681: PUSH
26682: LD_INT 31
26684: PUSH
26685: LD_INT 32
26687: PUSH
26688: LD_INT 33
26690: PUSH
26691: EMPTY
26692: LIST
26693: LIST
26694: LIST
26695: PUSH
26696: EMPTY
26697: LIST
26698: LIST
26699: LIST
26700: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
26701: LD_EXP 1
26705: PUSH
26706: LD_EXP 3
26710: PUSH
26711: LD_EXP 4
26715: ADD
26716: IN
26717: IFFALSE 26740
// Restricted_Builds_Amount := [ 4 , 4 , 8 ] else
26719: LD_ADDR_LOC 22
26723: PUSH
26724: LD_INT 4
26726: PUSH
26727: LD_INT 4
26729: PUSH
26730: LD_INT 8
26732: PUSH
26733: EMPTY
26734: LIST
26735: LIST
26736: LIST
26737: ST_TO_ADDR
26738: GO 26759
// Restricted_Builds_Amount := [ 2 , 2 , 4 ] ;
26740: LD_ADDR_LOC 22
26744: PUSH
26745: LD_INT 2
26747: PUSH
26748: LD_INT 2
26750: PUSH
26751: LD_INT 4
26753: PUSH
26754: EMPTY
26755: LIST
26756: LIST
26757: LIST
26758: ST_TO_ADDR
// end ; 2 :
26759: GO 28986
26761: LD_INT 2
26763: DOUBLE
26764: EQUAL
26765: IFTRUE 26769
26767: GO 27061
26769: POP
// begin def_base_level := 1 ;
26770: LD_ADDR_EXP 10
26774: PUSH
26775: LD_INT 1
26777: ST_TO_ADDR
// def_amount_of_people := 2 ;
26778: LD_ADDR_EXP 11
26782: PUSH
26783: LD_INT 2
26785: ST_TO_ADDR
// def_initial_level := 3 ;
26786: LD_ADDR_EXP 13
26790: PUSH
26791: LD_INT 3
26793: ST_TO_ADDR
// def_starting_resources := 3 ;
26794: LD_ADDR_EXP 15
26798: PUSH
26799: LD_INT 3
26801: ST_TO_ADDR
// def_shipments_density := 2 ;
26802: LD_ADDR_EXP 16
26806: PUSH
26807: LD_INT 2
26809: ST_TO_ADDR
// def_extra_oil_deposits := 1 ;
26810: LD_ADDR_EXP 17
26814: PUSH
26815: LD_INT 1
26817: ST_TO_ADDR
// def_extra_sib_deposits := 2 ;
26818: LD_ADDR_EXP 18
26822: PUSH
26823: LD_INT 2
26825: ST_TO_ADDR
// def_shared_vision := 1 ;
26826: LD_ADDR_EXP 19
26830: PUSH
26831: LD_INT 1
26833: ST_TO_ADDR
// def_morale_flags := 0 ;
26834: LD_ADDR_EXP 20
26838: PUSH
26839: LD_INT 0
26841: ST_TO_ADDR
// def_siberite_detection := 1 ;
26842: LD_ADDR_EXP 28
26846: PUSH
26847: LD_INT 1
26849: ST_TO_ADDR
// def_people_respawning := 0 ;
26850: LD_ADDR_EXP 25
26854: PUSH
26855: LD_INT 0
26857: ST_TO_ADDR
// def_amount_of_apemen := 0 ;
26858: LD_ADDR_EXP 22
26862: PUSH
26863: LD_INT 0
26865: ST_TO_ADDR
// def_siberite_bomb := 0 ;
26866: LD_ADDR_EXP 29
26870: PUSH
26871: LD_INT 0
26873: ST_TO_ADDR
// def_builduptime := 2 ;
26874: LD_ADDR_EXP 30
26878: PUSH
26879: LD_INT 2
26881: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
26882: LD_ADDR_EXP 12
26886: PUSH
26887: LD_INT 0
26889: ST_TO_ADDR
// def_amount_of_tiger := 0 ;
26890: LD_ADDR_EXP 23
26894: PUSH
26895: LD_INT 0
26897: ST_TO_ADDR
// def_respawining_type := 3 ;
26898: LD_ADDR_EXP 24
26902: PUSH
26903: LD_INT 3
26905: ST_TO_ADDR
// def_tech_level := 8 ;
26906: LD_ADDR_EXP 26
26910: PUSH
26911: LD_INT 8
26913: ST_TO_ADDR
// def_upgrade_tl := 0 ;
26914: LD_ADDR_EXP 27
26918: PUSH
26919: LD_INT 0
26921: ST_TO_ADDR
// def_desert_warior := 0 ;
26922: LD_ADDR_EXP 31
26926: PUSH
26927: LD_INT 0
26929: ST_TO_ADDR
// Unavailable_Techs := [ tech_ApeLang ] ;
26930: LD_ADDR_VAR 0 2
26934: PUSH
26935: LD_INT 1
26937: PUSH
26938: EMPTY
26939: LIST
26940: ST_TO_ADDR
// Unavailable_Builds := [ ] ;
26941: LD_ADDR_VAR 0 3
26945: PUSH
26946: EMPTY
26947: ST_TO_ADDR
// Banned_Weapons := [ ] ;
26948: LD_ADDR_LOC 23
26952: PUSH
26953: EMPTY
26954: ST_TO_ADDR
// Banned_Chassis := [ ] ;
26955: LD_ADDR_LOC 24
26959: PUSH
26960: EMPTY
26961: ST_TO_ADDR
// Banned_Controls := [ ] ;
26962: LD_ADDR_LOC 25
26966: PUSH
26967: EMPTY
26968: ST_TO_ADDR
// Banned_Engines := [ ] ;
26969: LD_ADDR_LOC 26
26973: PUSH
26974: EMPTY
26975: ST_TO_ADDR
// Restricted_Builds := [ [ b_Armoury , b_Barracks ] , [ b_Breastwork , b_Bunker , b_Turret ] ] ;
26976: LD_ADDR_LOC 21
26980: PUSH
26981: LD_INT 4
26983: PUSH
26984: LD_INT 5
26986: PUSH
26987: EMPTY
26988: LIST
26989: LIST
26990: PUSH
26991: LD_INT 31
26993: PUSH
26994: LD_INT 32
26996: PUSH
26997: LD_INT 33
26999: PUSH
27000: EMPTY
27001: LIST
27002: LIST
27003: LIST
27004: PUSH
27005: EMPTY
27006: LIST
27007: LIST
27008: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
27009: LD_EXP 1
27013: PUSH
27014: LD_EXP 3
27018: PUSH
27019: LD_EXP 4
27023: ADD
27024: IN
27025: IFFALSE 27044
// Restricted_Builds_Amount := [ 2 , 4 ] else
27027: LD_ADDR_LOC 22
27031: PUSH
27032: LD_INT 2
27034: PUSH
27035: LD_INT 4
27037: PUSH
27038: EMPTY
27039: LIST
27040: LIST
27041: ST_TO_ADDR
27042: GO 27059
// Restricted_Builds_Amount := [ 1 , 2 ] ;
27044: LD_ADDR_LOC 22
27048: PUSH
27049: LD_INT 1
27051: PUSH
27052: LD_INT 2
27054: PUSH
27055: EMPTY
27056: LIST
27057: LIST
27058: ST_TO_ADDR
// end ; 3 :
27059: GO 28986
27061: LD_INT 3
27063: DOUBLE
27064: EQUAL
27065: IFTRUE 27069
27067: GO 27352
27069: POP
// begin def_base_level := 1 ;
27070: LD_ADDR_EXP 10
27074: PUSH
27075: LD_INT 1
27077: ST_TO_ADDR
// def_amount_of_people := 10 ;
27078: LD_ADDR_EXP 11
27082: PUSH
27083: LD_INT 10
27085: ST_TO_ADDR
// def_initial_level := 3 ;
27086: LD_ADDR_EXP 13
27090: PUSH
27091: LD_INT 3
27093: ST_TO_ADDR
// def_starting_resources := 3 ;
27094: LD_ADDR_EXP 15
27098: PUSH
27099: LD_INT 3
27101: ST_TO_ADDR
// def_shipments_density := 1 ;
27102: LD_ADDR_EXP 16
27106: PUSH
27107: LD_INT 1
27109: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
27110: LD_ADDR_EXP 17
27114: PUSH
27115: LD_INT 0
27117: ST_TO_ADDR
// def_extra_sib_deposits := 1 ;
27118: LD_ADDR_EXP 18
27122: PUSH
27123: LD_INT 1
27125: ST_TO_ADDR
// def_shared_vision := 1 ;
27126: LD_ADDR_EXP 19
27130: PUSH
27131: LD_INT 1
27133: ST_TO_ADDR
// def_morale_flags := 0 ;
27134: LD_ADDR_EXP 20
27138: PUSH
27139: LD_INT 0
27141: ST_TO_ADDR
// def_siberite_detection := 1 ;
27142: LD_ADDR_EXP 28
27146: PUSH
27147: LD_INT 1
27149: ST_TO_ADDR
// def_people_respawning := 0 ;
27150: LD_ADDR_EXP 25
27154: PUSH
27155: LD_INT 0
27157: ST_TO_ADDR
// def_amount_of_apemen := 2 ;
27158: LD_ADDR_EXP 22
27162: PUSH
27163: LD_INT 2
27165: ST_TO_ADDR
// def_siberite_bomb := 0 ;
27166: LD_ADDR_EXP 29
27170: PUSH
27171: LD_INT 0
27173: ST_TO_ADDR
// def_builduptime := 1 ;
27174: LD_ADDR_EXP 30
27178: PUSH
27179: LD_INT 1
27181: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
27182: LD_ADDR_EXP 12
27186: PUSH
27187: LD_INT 0
27189: ST_TO_ADDR
// def_amount_of_tiger := 1 ;
27190: LD_ADDR_EXP 23
27194: PUSH
27195: LD_INT 1
27197: ST_TO_ADDR
// def_respawining_type := 3 ;
27198: LD_ADDR_EXP 24
27202: PUSH
27203: LD_INT 3
27205: ST_TO_ADDR
// def_tech_level := 8 ;
27206: LD_ADDR_EXP 26
27210: PUSH
27211: LD_INT 8
27213: ST_TO_ADDR
// def_upgrade_tl := 0 ;
27214: LD_ADDR_EXP 27
27218: PUSH
27219: LD_INT 0
27221: ST_TO_ADDR
// def_desert_warior := 0 ;
27222: LD_ADDR_EXP 31
27226: PUSH
27227: LD_INT 0
27229: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth ] ;
27230: LD_ADDR_VAR 0 2
27234: PUSH
27235: LD_INT 23
27237: PUSH
27238: EMPTY
27239: LIST
27240: ST_TO_ADDR
// Unavailable_Builds := [ b_Workshop , b_Behemoth , b_Bunker , b_Turret , b_Control_Tower , b_ext_track , b_ext_stitch , b_ext_siberium , b_ext_rocket , b_ext_radio , b_ext_radar , b_ext_noncombat , b_ext_laser , b_ext_gun , b_ext_computer ] ;
27241: LD_ADDR_VAR 0 3
27245: PUSH
27246: LD_INT 2
27248: PUSH
27249: LD_INT 37
27251: PUSH
27252: LD_INT 32
27254: PUSH
27255: LD_INT 33
27257: PUSH
27258: LD_INT 36
27260: PUSH
27261: LD_INT 16
27263: PUSH
27264: LD_INT 23
27266: PUSH
27267: LD_INT 21
27269: PUSH
27270: LD_INT 18
27272: PUSH
27273: LD_INT 22
27275: PUSH
27276: LD_INT 20
27278: PUSH
27279: LD_INT 19
27281: PUSH
27282: LD_INT 25
27284: PUSH
27285: LD_INT 17
27287: PUSH
27288: LD_INT 24
27290: PUSH
27291: EMPTY
27292: LIST
27293: LIST
27294: LIST
27295: LIST
27296: LIST
27297: LIST
27298: LIST
27299: LIST
27300: LIST
27301: LIST
27302: LIST
27303: LIST
27304: LIST
27305: LIST
27306: LIST
27307: ST_TO_ADDR
// Banned_Weapons := [ ] ;
27308: LD_ADDR_LOC 23
27312: PUSH
27313: EMPTY
27314: ST_TO_ADDR
// Banned_Chassis := [ ] ;
27315: LD_ADDR_LOC 24
27319: PUSH
27320: EMPTY
27321: ST_TO_ADDR
// Banned_Controls := [ ] ;
27322: LD_ADDR_LOC 25
27326: PUSH
27327: EMPTY
27328: ST_TO_ADDR
// Banned_Engines := [ ] ;
27329: LD_ADDR_LOC 26
27333: PUSH
27334: EMPTY
27335: ST_TO_ADDR
// Restricted_Builds := [ ] ;
27336: LD_ADDR_LOC 21
27340: PUSH
27341: EMPTY
27342: ST_TO_ADDR
// Restricted_Builds_Amount := [ ] ;
27343: LD_ADDR_LOC 22
27347: PUSH
27348: EMPTY
27349: ST_TO_ADDR
// end ; 4 :
27350: GO 28986
27352: LD_INT 4
27354: DOUBLE
27355: EQUAL
27356: IFTRUE 27360
27358: GO 27583
27360: POP
// begin def_base_level := 1 ;
27361: LD_ADDR_EXP 10
27365: PUSH
27366: LD_INT 1
27368: ST_TO_ADDR
// def_amount_of_people := 10 ;
27369: LD_ADDR_EXP 11
27373: PUSH
27374: LD_INT 10
27376: ST_TO_ADDR
// def_initial_level := 3 ;
27377: LD_ADDR_EXP 13
27381: PUSH
27382: LD_INT 3
27384: ST_TO_ADDR
// def_starting_resources := 3 ;
27385: LD_ADDR_EXP 15
27389: PUSH
27390: LD_INT 3
27392: ST_TO_ADDR
// def_shipments_density := 2 ;
27393: LD_ADDR_EXP 16
27397: PUSH
27398: LD_INT 2
27400: ST_TO_ADDR
// def_extra_oil_deposits := 1 ;
27401: LD_ADDR_EXP 17
27405: PUSH
27406: LD_INT 1
27408: ST_TO_ADDR
// def_extra_sib_deposits := 2 ;
27409: LD_ADDR_EXP 18
27413: PUSH
27414: LD_INT 2
27416: ST_TO_ADDR
// def_shared_vision := 1 ;
27417: LD_ADDR_EXP 19
27421: PUSH
27422: LD_INT 1
27424: ST_TO_ADDR
// def_morale_flags := 0 ;
27425: LD_ADDR_EXP 20
27429: PUSH
27430: LD_INT 0
27432: ST_TO_ADDR
// def_siberite_detection := 1 ;
27433: LD_ADDR_EXP 28
27437: PUSH
27438: LD_INT 1
27440: ST_TO_ADDR
// def_people_respawning := 0 ;
27441: LD_ADDR_EXP 25
27445: PUSH
27446: LD_INT 0
27448: ST_TO_ADDR
// def_amount_of_apemen := 0 ;
27449: LD_ADDR_EXP 22
27453: PUSH
27454: LD_INT 0
27456: ST_TO_ADDR
// def_siberite_bomb := 1 ;
27457: LD_ADDR_EXP 29
27461: PUSH
27462: LD_INT 1
27464: ST_TO_ADDR
// def_builduptime := 3 ;
27465: LD_ADDR_EXP 30
27469: PUSH
27470: LD_INT 3
27472: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
27473: LD_ADDR_EXP 12
27477: PUSH
27478: LD_INT 0
27480: ST_TO_ADDR
// def_amount_of_tiger := 0 ;
27481: LD_ADDR_EXP 23
27485: PUSH
27486: LD_INT 0
27488: ST_TO_ADDR
// def_respawining_type := 3 ;
27489: LD_ADDR_EXP 24
27493: PUSH
27494: LD_INT 3
27496: ST_TO_ADDR
// def_tech_level := 8 ;
27497: LD_ADDR_EXP 26
27501: PUSH
27502: LD_INT 8
27504: ST_TO_ADDR
// def_upgrade_tl := 0 ;
27505: LD_ADDR_EXP 27
27509: PUSH
27510: LD_INT 0
27512: ST_TO_ADDR
// def_desert_warior := 0 ;
27513: LD_ADDR_EXP 31
27517: PUSH
27518: LD_INT 0
27520: ST_TO_ADDR
// Unavailable_Techs := [ tech_ApeLang ] ;
27521: LD_ADDR_VAR 0 2
27525: PUSH
27526: LD_INT 1
27528: PUSH
27529: EMPTY
27530: LIST
27531: ST_TO_ADDR
// Unavailable_Builds := [ ] ;
27532: LD_ADDR_VAR 0 3
27536: PUSH
27537: EMPTY
27538: ST_TO_ADDR
// Banned_Weapons := [ ] ;
27539: LD_ADDR_LOC 23
27543: PUSH
27544: EMPTY
27545: ST_TO_ADDR
// Banned_Chassis := [ ] ;
27546: LD_ADDR_LOC 24
27550: PUSH
27551: EMPTY
27552: ST_TO_ADDR
// Banned_Controls := [ ] ;
27553: LD_ADDR_LOC 25
27557: PUSH
27558: EMPTY
27559: ST_TO_ADDR
// Banned_Engines := [ ] ;
27560: LD_ADDR_LOC 26
27564: PUSH
27565: EMPTY
27566: ST_TO_ADDR
// Restricted_Builds := [ ] ;
27567: LD_ADDR_LOC 21
27571: PUSH
27572: EMPTY
27573: ST_TO_ADDR
// Restricted_Builds_Amount := [ ] ;
27574: LD_ADDR_LOC 22
27578: PUSH
27579: EMPTY
27580: ST_TO_ADDR
// end ; 5 :
27581: GO 28986
27583: LD_INT 5
27585: DOUBLE
27586: EQUAL
27587: IFTRUE 27591
27589: GO 27923
27591: POP
// begin def_base_level := 0 ;
27592: LD_ADDR_EXP 10
27596: PUSH
27597: LD_INT 0
27599: ST_TO_ADDR
// def_amount_of_people := 3 ;
27600: LD_ADDR_EXP 11
27604: PUSH
27605: LD_INT 3
27607: ST_TO_ADDR
// def_initial_level := 0 ;
27608: LD_ADDR_EXP 13
27612: PUSH
27613: LD_INT 0
27615: ST_TO_ADDR
// def_starting_resources := 0 ;
27616: LD_ADDR_EXP 15
27620: PUSH
27621: LD_INT 0
27623: ST_TO_ADDR
// def_shipments_density := 0 ;
27624: LD_ADDR_EXP 16
27628: PUSH
27629: LD_INT 0
27631: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
27632: LD_ADDR_EXP 17
27636: PUSH
27637: LD_INT 0
27639: ST_TO_ADDR
// def_extra_sib_deposits := 0 ;
27640: LD_ADDR_EXP 18
27644: PUSH
27645: LD_INT 0
27647: ST_TO_ADDR
// def_shared_vision := 1 ;
27648: LD_ADDR_EXP 19
27652: PUSH
27653: LD_INT 1
27655: ST_TO_ADDR
// def_morale_flags := 0 ;
27656: LD_ADDR_EXP 20
27660: PUSH
27661: LD_INT 0
27663: ST_TO_ADDR
// def_siberite_detection := 0 ;
27664: LD_ADDR_EXP 28
27668: PUSH
27669: LD_INT 0
27671: ST_TO_ADDR
// def_people_respawning := 1 ;
27672: LD_ADDR_EXP 25
27676: PUSH
27677: LD_INT 1
27679: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
27680: LD_ADDR_EXP 22
27684: PUSH
27685: LD_INT 1
27687: ST_TO_ADDR
// def_siberite_bomb := 0 ;
27688: LD_ADDR_EXP 29
27692: PUSH
27693: LD_INT 0
27695: ST_TO_ADDR
// def_builduptime := 0 ;
27696: LD_ADDR_EXP 30
27700: PUSH
27701: LD_INT 0
27703: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
27704: LD_ADDR_EXP 12
27708: PUSH
27709: LD_INT 0
27711: ST_TO_ADDR
// def_amount_of_tiger := 2 ;
27712: LD_ADDR_EXP 23
27716: PUSH
27717: LD_INT 2
27719: ST_TO_ADDR
// def_respawining_type := 3 ;
27720: LD_ADDR_EXP 24
27724: PUSH
27725: LD_INT 3
27727: ST_TO_ADDR
// def_tech_level := 8 ;
27728: LD_ADDR_EXP 26
27732: PUSH
27733: LD_INT 8
27735: ST_TO_ADDR
// def_upgrade_tl := 0 ;
27736: LD_ADDR_EXP 27
27740: PUSH
27741: LD_INT 0
27743: ST_TO_ADDR
// def_desert_warior := 0 ;
27744: LD_ADDR_EXP 31
27748: PUSH
27749: LD_INT 0
27751: ST_TO_ADDR
// Unavailable_Techs := [ tech_Laser , tech_ApeNeural ] ;
27752: LD_ADDR_VAR 0 2
27756: PUSH
27757: LD_INT 10
27759: PUSH
27760: LD_INT 3
27762: PUSH
27763: EMPTY
27764: LIST
27765: LIST
27766: ST_TO_ADDR
// Unavailable_Builds := [ b_Lab_Computer , b_Lab_Siberium , b_Lab_Spacetime , b_Lab_Biological , b_Barracks , b_ext_Computer , b_ext_Siberium , b_Turret , b_Control_Tower ] ;
27767: LD_ADDR_VAR 0 3
27771: PUSH
27772: LD_INT 12
27774: PUSH
27775: LD_INT 11
27777: PUSH
27778: LD_INT 14
27780: PUSH
27781: LD_INT 13
27783: PUSH
27784: LD_INT 5
27786: PUSH
27787: LD_INT 24
27789: PUSH
27790: LD_INT 21
27792: PUSH
27793: LD_INT 33
27795: PUSH
27796: LD_INT 36
27798: PUSH
27799: EMPTY
27800: LIST
27801: LIST
27802: LIST
27803: LIST
27804: LIST
27805: LIST
27806: LIST
27807: LIST
27808: LIST
27809: ST_TO_ADDR
// Banned_Weapons := [ ar_Control_Tower ] ;
27810: LD_ADDR_LOC 23
27814: PUSH
27815: LD_INT 31
27817: PUSH
27818: EMPTY
27819: LIST
27820: ST_TO_ADDR
// Banned_Chassis := [ ] ;
27821: LD_ADDR_LOC 24
27825: PUSH
27826: EMPTY
27827: ST_TO_ADDR
// Banned_Controls := [ control_Remote ] ;
27828: LD_ADDR_LOC 25
27832: PUSH
27833: LD_INT 2
27835: PUSH
27836: EMPTY
27837: LIST
27838: ST_TO_ADDR
// Banned_Engines := [ ] ;
27839: LD_ADDR_LOC 26
27843: PUSH
27844: EMPTY
27845: ST_TO_ADDR
// Restricted_Builds := [ [ b_Armoury ] , [ b_Breastwork , b_Bunker ] ] ;
27846: LD_ADDR_LOC 21
27850: PUSH
27851: LD_INT 4
27853: PUSH
27854: EMPTY
27855: LIST
27856: PUSH
27857: LD_INT 31
27859: PUSH
27860: LD_INT 32
27862: PUSH
27863: EMPTY
27864: LIST
27865: LIST
27866: PUSH
27867: EMPTY
27868: LIST
27869: LIST
27870: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
27871: LD_EXP 1
27875: PUSH
27876: LD_EXP 3
27880: PUSH
27881: LD_EXP 4
27885: ADD
27886: IN
27887: IFFALSE 27906
// Restricted_Builds_Amount := [ 2 , 2 ] else
27889: LD_ADDR_LOC 22
27893: PUSH
27894: LD_INT 2
27896: PUSH
27897: LD_INT 2
27899: PUSH
27900: EMPTY
27901: LIST
27902: LIST
27903: ST_TO_ADDR
27904: GO 27921
// Restricted_Builds_Amount := [ 1 , 1 ] ;
27906: LD_ADDR_LOC 22
27910: PUSH
27911: LD_INT 1
27913: PUSH
27914: LD_INT 1
27916: PUSH
27917: EMPTY
27918: LIST
27919: LIST
27920: ST_TO_ADDR
// end ; 6 :
27921: GO 28986
27923: LD_INT 6
27925: DOUBLE
27926: EQUAL
27927: IFTRUE 27931
27929: GO 28209
27931: POP
// begin def_base_level := 1 ;
27932: LD_ADDR_EXP 10
27936: PUSH
27937: LD_INT 1
27939: ST_TO_ADDR
// def_amount_of_people := 10 ;
27940: LD_ADDR_EXP 11
27944: PUSH
27945: LD_INT 10
27947: ST_TO_ADDR
// def_initial_level := 3 ;
27948: LD_ADDR_EXP 13
27952: PUSH
27953: LD_INT 3
27955: ST_TO_ADDR
// def_starting_resources := 3 ;
27956: LD_ADDR_EXP 15
27960: PUSH
27961: LD_INT 3
27963: ST_TO_ADDR
// def_shipments_density := 1 ;
27964: LD_ADDR_EXP 16
27968: PUSH
27969: LD_INT 1
27971: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
27972: LD_ADDR_EXP 17
27976: PUSH
27977: LD_INT 0
27979: ST_TO_ADDR
// def_extra_sib_deposits := 1 ;
27980: LD_ADDR_EXP 18
27984: PUSH
27985: LD_INT 1
27987: ST_TO_ADDR
// def_shared_vision := 1 ;
27988: LD_ADDR_EXP 19
27992: PUSH
27993: LD_INT 1
27995: ST_TO_ADDR
// def_morale_flags := 0 ;
27996: LD_ADDR_EXP 20
28000: PUSH
28001: LD_INT 0
28003: ST_TO_ADDR
// def_siberite_detection := 1 ;
28004: LD_ADDR_EXP 28
28008: PUSH
28009: LD_INT 1
28011: ST_TO_ADDR
// def_people_respawning := 2 ;
28012: LD_ADDR_EXP 25
28016: PUSH
28017: LD_INT 2
28019: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
28020: LD_ADDR_EXP 22
28024: PUSH
28025: LD_INT 1
28027: ST_TO_ADDR
// def_siberite_bomb := 0 ;
28028: LD_ADDR_EXP 29
28032: PUSH
28033: LD_INT 0
28035: ST_TO_ADDR
// def_builduptime := 1 ;
28036: LD_ADDR_EXP 30
28040: PUSH
28041: LD_INT 1
28043: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
28044: LD_ADDR_EXP 12
28048: PUSH
28049: LD_INT 0
28051: ST_TO_ADDR
// def_amount_of_tiger := 1 ;
28052: LD_ADDR_EXP 23
28056: PUSH
28057: LD_INT 1
28059: ST_TO_ADDR
// def_respawining_type := 3 ;
28060: LD_ADDR_EXP 24
28064: PUSH
28065: LD_INT 3
28067: ST_TO_ADDR
// def_tech_level := 8 ;
28068: LD_ADDR_EXP 26
28072: PUSH
28073: LD_INT 8
28075: ST_TO_ADDR
// def_upgrade_tl := 0 ;
28076: LD_ADDR_EXP 27
28080: PUSH
28081: LD_INT 0
28083: ST_TO_ADDR
// def_desert_warior := 0 ;
28084: LD_ADDR_EXP 31
28088: PUSH
28089: LD_INT 0
28091: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth ] ;
28092: LD_ADDR_VAR 0 2
28096: PUSH
28097: LD_INT 23
28099: PUSH
28100: EMPTY
28101: LIST
28102: ST_TO_ADDR
// Unavailable_Builds := [ b_Workshop , b_Behemoth , b_Breastwork , b_Bunker , b_Turret ] ;
28103: LD_ADDR_VAR 0 3
28107: PUSH
28108: LD_INT 2
28110: PUSH
28111: LD_INT 37
28113: PUSH
28114: LD_INT 31
28116: PUSH
28117: LD_INT 32
28119: PUSH
28120: LD_INT 33
28122: PUSH
28123: EMPTY
28124: LIST
28125: LIST
28126: LIST
28127: LIST
28128: LIST
28129: ST_TO_ADDR
// Banned_Weapons := [ ] ;
28130: LD_ADDR_LOC 23
28134: PUSH
28135: EMPTY
28136: ST_TO_ADDR
// Banned_Chassis := [ ] ;
28137: LD_ADDR_LOC 24
28141: PUSH
28142: EMPTY
28143: ST_TO_ADDR
// Banned_Controls := [ ] ;
28144: LD_ADDR_LOC 25
28148: PUSH
28149: EMPTY
28150: ST_TO_ADDR
// Banned_Engines := [ ] ;
28151: LD_ADDR_LOC 26
28155: PUSH
28156: EMPTY
28157: ST_TO_ADDR
// Restricted_Builds := [ [ b_Armoury , b_barracks ] ] ;
28158: LD_ADDR_LOC 21
28162: PUSH
28163: LD_INT 4
28165: PUSH
28166: LD_INT 5
28168: PUSH
28169: EMPTY
28170: LIST
28171: LIST
28172: PUSH
28173: EMPTY
28174: LIST
28175: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
28176: LD_EXP 1
28180: PUSH
28181: LD_EXP 3
28185: PUSH
28186: LD_EXP 4
28190: ADD
28191: IN
28192: IFFALSE 28196
// else
28194: GO 28207
// Restricted_Builds_Amount := [ 1 ] ;
28196: LD_ADDR_LOC 22
28200: PUSH
28201: LD_INT 1
28203: PUSH
28204: EMPTY
28205: LIST
28206: ST_TO_ADDR
// end ; 7 :
28207: GO 28986
28209: LD_INT 7
28211: DOUBLE
28212: EQUAL
28213: IFTRUE 28217
28215: GO 28494
28217: POP
// begin def_base_level := 1 ;
28218: LD_ADDR_EXP 10
28222: PUSH
28223: LD_INT 1
28225: ST_TO_ADDR
// def_amount_of_people := 10 ;
28226: LD_ADDR_EXP 11
28230: PUSH
28231: LD_INT 10
28233: ST_TO_ADDR
// def_initial_level := 3 ;
28234: LD_ADDR_EXP 13
28238: PUSH
28239: LD_INT 3
28241: ST_TO_ADDR
// def_starting_resources := 3 ;
28242: LD_ADDR_EXP 15
28246: PUSH
28247: LD_INT 3
28249: ST_TO_ADDR
// def_shipments_density := 1 ;
28250: LD_ADDR_EXP 16
28254: PUSH
28255: LD_INT 1
28257: ST_TO_ADDR
// def_extra_oil_deposits := 1 ;
28258: LD_ADDR_EXP 17
28262: PUSH
28263: LD_INT 1
28265: ST_TO_ADDR
// def_extra_sib_deposits := 2 ;
28266: LD_ADDR_EXP 18
28270: PUSH
28271: LD_INT 2
28273: ST_TO_ADDR
// def_shared_vision := 1 ;
28274: LD_ADDR_EXP 19
28278: PUSH
28279: LD_INT 1
28281: ST_TO_ADDR
// def_morale_flags := 0 ;
28282: LD_ADDR_EXP 20
28286: PUSH
28287: LD_INT 0
28289: ST_TO_ADDR
// def_siberite_detection := 1 ;
28290: LD_ADDR_EXP 28
28294: PUSH
28295: LD_INT 1
28297: ST_TO_ADDR
// def_people_respawning := 0 ;
28298: LD_ADDR_EXP 25
28302: PUSH
28303: LD_INT 0
28305: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
28306: LD_ADDR_EXP 22
28310: PUSH
28311: LD_INT 1
28313: ST_TO_ADDR
// def_siberite_bomb := 0 ;
28314: LD_ADDR_EXP 29
28318: PUSH
28319: LD_INT 0
28321: ST_TO_ADDR
// def_builduptime := 3 ;
28322: LD_ADDR_EXP 30
28326: PUSH
28327: LD_INT 3
28329: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
28330: LD_ADDR_EXP 12
28334: PUSH
28335: LD_INT 0
28337: ST_TO_ADDR
// def_amount_of_tiger := 1 ;
28338: LD_ADDR_EXP 23
28342: PUSH
28343: LD_INT 1
28345: ST_TO_ADDR
// def_respawining_type := 3 ;
28346: LD_ADDR_EXP 24
28350: PUSH
28351: LD_INT 3
28353: ST_TO_ADDR
// def_tech_level := 8 ;
28354: LD_ADDR_EXP 26
28358: PUSH
28359: LD_INT 8
28361: ST_TO_ADDR
// def_upgrade_tl := 0 ;
28362: LD_ADDR_EXP 27
28366: PUSH
28367: LD_INT 0
28369: ST_TO_ADDR
// def_desert_warior := 0 ;
28370: LD_ADDR_EXP 31
28374: PUSH
28375: LD_INT 0
28377: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth ] ;
28378: LD_ADDR_VAR 0 2
28382: PUSH
28383: LD_INT 23
28385: PUSH
28386: EMPTY
28387: LIST
28388: ST_TO_ADDR
// Unavailable_Builds := [ b_Behemoth ] ;
28389: LD_ADDR_VAR 0 3
28393: PUSH
28394: LD_INT 37
28396: PUSH
28397: EMPTY
28398: LIST
28399: ST_TO_ADDR
// Banned_Weapons := [ ] ;
28400: LD_ADDR_LOC 23
28404: PUSH
28405: EMPTY
28406: ST_TO_ADDR
// Banned_Chassis := [ ] ;
28407: LD_ADDR_LOC 24
28411: PUSH
28412: EMPTY
28413: ST_TO_ADDR
// Banned_Controls := [ ] ;
28414: LD_ADDR_LOC 25
28418: PUSH
28419: EMPTY
28420: ST_TO_ADDR
// Banned_Engines := [ ] ;
28421: LD_ADDR_LOC 26
28425: PUSH
28426: EMPTY
28427: ST_TO_ADDR
// Restricted_Builds := [ [ b_Breastwork , b_Bunker , b_Turret ] ] ;
28428: LD_ADDR_LOC 21
28432: PUSH
28433: LD_INT 31
28435: PUSH
28436: LD_INT 32
28438: PUSH
28439: LD_INT 33
28441: PUSH
28442: EMPTY
28443: LIST
28444: LIST
28445: LIST
28446: PUSH
28447: EMPTY
28448: LIST
28449: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
28450: LD_EXP 1
28454: PUSH
28455: LD_EXP 3
28459: PUSH
28460: LD_EXP 4
28464: ADD
28465: IN
28466: IFFALSE 28481
// Restricted_Builds_Amount := [ 20 ] else
28468: LD_ADDR_LOC 22
28472: PUSH
28473: LD_INT 20
28475: PUSH
28476: EMPTY
28477: LIST
28478: ST_TO_ADDR
28479: GO 28492
// Restricted_Builds_Amount := [ 10 ] ;
28481: LD_ADDR_LOC 22
28485: PUSH
28486: LD_INT 10
28488: PUSH
28489: EMPTY
28490: LIST
28491: ST_TO_ADDR
// end ; 8 :
28492: GO 28986
28494: LD_INT 8
28496: DOUBLE
28497: EQUAL
28498: IFTRUE 28502
28500: GO 28985
28502: POP
// begin def_base_level := 0 ;
28503: LD_ADDR_EXP 10
28507: PUSH
28508: LD_INT 0
28510: ST_TO_ADDR
// def_amount_of_people := Rand ( 4 , 8 ) ;
28511: LD_ADDR_EXP 11
28515: PUSH
28516: LD_INT 4
28518: PPUSH
28519: LD_INT 8
28521: PPUSH
28522: CALL_OW 12
28526: ST_TO_ADDR
// def_initial_level := 0 ;
28527: LD_ADDR_EXP 13
28531: PUSH
28532: LD_INT 0
28534: ST_TO_ADDR
// def_starting_resources := 2 ;
28535: LD_ADDR_EXP 15
28539: PUSH
28540: LD_INT 2
28542: ST_TO_ADDR
// def_shipments_density := 1 ;
28543: LD_ADDR_EXP 16
28547: PUSH
28548: LD_INT 1
28550: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
28551: LD_ADDR_EXP 17
28555: PUSH
28556: LD_INT 0
28558: ST_TO_ADDR
// def_extra_sib_deposits := 0 ;
28559: LD_ADDR_EXP 18
28563: PUSH
28564: LD_INT 0
28566: ST_TO_ADDR
// def_shared_vision := 1 ;
28567: LD_ADDR_EXP 19
28571: PUSH
28572: LD_INT 1
28574: ST_TO_ADDR
// def_morale_flags := Rand ( 0 , 2 ) ;
28575: LD_ADDR_EXP 20
28579: PUSH
28580: LD_INT 0
28582: PPUSH
28583: LD_INT 2
28585: PPUSH
28586: CALL_OW 12
28590: ST_TO_ADDR
// def_siberite_detection := 0 ;
28591: LD_ADDR_EXP 28
28595: PUSH
28596: LD_INT 0
28598: ST_TO_ADDR
// def_people_respawning := 0 ;
28599: LD_ADDR_EXP 25
28603: PUSH
28604: LD_INT 0
28606: ST_TO_ADDR
// def_amount_of_apemen := 2 ;
28607: LD_ADDR_EXP 22
28611: PUSH
28612: LD_INT 2
28614: ST_TO_ADDR
// def_siberite_bomb := 0 ;
28615: LD_ADDR_EXP 29
28619: PUSH
28620: LD_INT 0
28622: ST_TO_ADDR
// def_builduptime := 0 ;
28623: LD_ADDR_EXP 30
28627: PUSH
28628: LD_INT 0
28630: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
28631: LD_ADDR_EXP 12
28635: PUSH
28636: LD_INT 0
28638: ST_TO_ADDR
// def_amount_of_tiger := 2 ;
28639: LD_ADDR_EXP 23
28643: PUSH
28644: LD_INT 2
28646: ST_TO_ADDR
// def_respawining_type := 3 ;
28647: LD_ADDR_EXP 24
28651: PUSH
28652: LD_INT 3
28654: ST_TO_ADDR
// def_tech_level := 8 ;
28655: LD_ADDR_EXP 26
28659: PUSH
28660: LD_INT 8
28662: ST_TO_ADDR
// def_upgrade_tl := 0 ;
28663: LD_ADDR_EXP 27
28667: PUSH
28668: LD_INT 0
28670: ST_TO_ADDR
// def_desert_warior := 0 ;
28671: LD_ADDR_EXP 31
28675: PUSH
28676: LD_INT 0
28678: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth , tech_SibDet , tech_Rocket , tech_OilEng , tech_OilPow , tech_Gun , tech_AdvRocket , tech_AdvMet , tech_Mortar , tech_Bazooka , tech_HidCam , tech_PartInvis ] ;
28679: LD_ADDR_VAR 0 2
28683: PUSH
28684: LD_INT 23
28686: PUSH
28687: LD_INT 20
28689: PUSH
28690: LD_INT 40
28692: PUSH
28693: LD_INT 47
28695: PUSH
28696: LD_INT 46
28698: PUSH
28699: LD_INT 39
28701: PUSH
28702: LD_INT 71
28704: PUSH
28705: LD_INT 34
28707: PUSH
28708: LD_INT 41
28710: PUSH
28711: LD_INT 44
28713: PUSH
28714: LD_INT 17
28716: PUSH
28717: LD_INT 16
28719: PUSH
28720: EMPTY
28721: LIST
28722: LIST
28723: LIST
28724: LIST
28725: LIST
28726: LIST
28727: LIST
28728: LIST
28729: LIST
28730: LIST
28731: LIST
28732: LIST
28733: ST_TO_ADDR
// Unavailable_Builds := [ b_Behemoth , b_Barracks , b_Lab_Biological , b_Teleport , b_Lab_Computer , b_Lab_Opto , b_Lab_Siberium , b_Lab_Spacetime , b_Oil_Mine , b_Siberite_Mine , b_Siberite_Power , b_Ext_Computer , b_Ext_Laser , b_Ext_Radar , b_Ext_Siberium , b_Ext_Radio , b_Control_Tower ] ;
28734: LD_ADDR_VAR 0 3
28738: PUSH
28739: LD_INT 37
28741: PUSH
28742: LD_INT 5
28744: PUSH
28745: LD_INT 13
28747: PUSH
28748: LD_INT 34
28750: PUSH
28751: LD_INT 12
28753: PUSH
28754: LD_INT 15
28756: PUSH
28757: LD_INT 11
28759: PUSH
28760: LD_INT 14
28762: PUSH
28763: LD_INT 29
28765: PUSH
28766: LD_INT 30
28768: PUSH
28769: LD_INT 28
28771: PUSH
28772: LD_INT 24
28774: PUSH
28775: LD_INT 25
28777: PUSH
28778: LD_INT 20
28780: PUSH
28781: LD_INT 21
28783: PUSH
28784: LD_INT 22
28786: PUSH
28787: LD_INT 36
28789: PUSH
28790: EMPTY
28791: LIST
28792: LIST
28793: LIST
28794: LIST
28795: LIST
28796: LIST
28797: LIST
28798: LIST
28799: LIST
28800: LIST
28801: LIST
28802: LIST
28803: LIST
28804: LIST
28805: LIST
28806: LIST
28807: LIST
28808: ST_TO_ADDR
// Banned_Weapons := [ ] ;
28809: LD_ADDR_LOC 23
28813: PUSH
28814: EMPTY
28815: ST_TO_ADDR
// Banned_Chassis := [ ar_half_tracked ] ;
28816: LD_ADDR_LOC 24
28820: PUSH
28821: LD_INT 14
28823: PUSH
28824: EMPTY
28825: LIST
28826: ST_TO_ADDR
// Banned_Controls := [ ] ;
28827: LD_ADDR_LOC 25
28831: PUSH
28832: EMPTY
28833: ST_TO_ADDR
// Banned_Engines := [ ] ;
28834: LD_ADDR_LOC 26
28838: PUSH
28839: EMPTY
28840: ST_TO_ADDR
// Restricted_Builds := [ [ b_Breastwork , b_Bunker ] , [ b_Armoury ] ] ;
28841: LD_ADDR_LOC 21
28845: PUSH
28846: LD_INT 31
28848: PUSH
28849: LD_INT 32
28851: PUSH
28852: EMPTY
28853: LIST
28854: LIST
28855: PUSH
28856: LD_INT 4
28858: PUSH
28859: EMPTY
28860: LIST
28861: PUSH
28862: EMPTY
28863: LIST
28864: LIST
28865: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
28866: LD_EXP 1
28870: PUSH
28871: LD_EXP 3
28875: PUSH
28876: LD_EXP 4
28880: ADD
28881: IN
28882: IFFALSE 28901
// Restricted_Builds_Amount := [ 4 , 2 ] else
28884: LD_ADDR_LOC 22
28888: PUSH
28889: LD_INT 4
28891: PUSH
28892: LD_INT 2
28894: PUSH
28895: EMPTY
28896: LIST
28897: LIST
28898: ST_TO_ADDR
28899: GO 28916
// Restricted_Builds_Amount := [ 2 , 1 ] ;
28901: LD_ADDR_LOC 22
28905: PUSH
28906: LD_INT 2
28908: PUSH
28909: LD_INT 1
28911: PUSH
28912: EMPTY
28913: LIST
28914: LIST
28915: ST_TO_ADDR
// for i := 1 to 8 do
28916: LD_ADDR_VAR 0 4
28920: PUSH
28921: DOUBLE
28922: LD_INT 1
28924: DEC
28925: ST_TO_ADDR
28926: LD_INT 8
28928: PUSH
28929: FOR_TO
28930: IFFALSE 28981
// if ( Side_Nations [ i ] = 3 ) then
28932: LD_EXP 76
28936: PUSH
28937: LD_VAR 0 4
28941: ARRAY
28942: PUSH
28943: LD_INT 3
28945: EQUAL
28946: IFFALSE 28979
// Side_Nations := Replace ( Side_Nations , i , Rand ( 1 , 2 ) ) ;
28948: LD_ADDR_EXP 76
28952: PUSH
28953: LD_EXP 76
28957: PPUSH
28958: LD_VAR 0 4
28962: PPUSH
28963: LD_INT 1
28965: PPUSH
28966: LD_INT 2
28968: PPUSH
28969: CALL_OW 12
28973: PPUSH
28974: CALL_OW 1
28978: ST_TO_ADDR
28979: GO 28929
28981: POP
28982: POP
// end ; end ;
28983: GO 28986
28985: POP
// for i := 1 to 8 do
28986: LD_ADDR_VAR 0 4
28990: PUSH
28991: DOUBLE
28992: LD_INT 1
28994: DEC
28995: ST_TO_ADDR
28996: LD_INT 8
28998: PUSH
28999: FOR_TO
29000: IFFALSE 29084
// if Side_Positions [ i ] then
29002: LD_EXP 75
29006: PUSH
29007: LD_VAR 0 4
29011: ARRAY
29012: IFFALSE 29082
// begin for j in Unavailable_Techs do
29014: LD_ADDR_VAR 0 5
29018: PUSH
29019: LD_VAR 0 2
29023: PUSH
29024: FOR_IN
29025: IFFALSE 29046
// SetTech ( j , i , 0 ) ;
29027: LD_VAR 0 5
29031: PPUSH
29032: LD_VAR 0 4
29036: PPUSH
29037: LD_INT 0
29039: PPUSH
29040: CALL_OW 322
29044: GO 29024
29046: POP
29047: POP
// for j in Unavailable_Builds do
29048: LD_ADDR_VAR 0 5
29052: PUSH
29053: LD_VAR 0 3
29057: PUSH
29058: FOR_IN
29059: IFFALSE 29080
// SetRestrict ( j , i , 0 ) ;
29061: LD_VAR 0 5
29065: PPUSH
29066: LD_VAR 0 4
29070: PPUSH
29071: LD_INT 0
29073: PPUSH
29074: CALL_OW 324
29078: GO 29058
29080: POP
29081: POP
// end ;
29082: GO 28999
29084: POP
29085: POP
// end ;
29086: LD_VAR 0 1
29090: RET
// export function InitLimits ; var i , j , k , amount , btype , list ; begin
29091: LD_INT 0
29093: PPUSH
29094: PPUSH
29095: PPUSH
29096: PPUSH
29097: PPUSH
29098: PPUSH
29099: PPUSH
// for i := 1 to Restricted_Builds do
29100: LD_ADDR_VAR 0 2
29104: PUSH
29105: DOUBLE
29106: LD_INT 1
29108: DEC
29109: ST_TO_ADDR
29110: LD_LOC 21
29114: PUSH
29115: FOR_TO
29116: IFFALSE 29426
// begin case Restricted_Builds [ i ] [ 1 ] of b_Breastwork , b_Bunker , b_Turret :
29118: LD_LOC 21
29122: PUSH
29123: LD_VAR 0 2
29127: ARRAY
29128: PUSH
29129: LD_INT 1
29131: ARRAY
29132: PUSH
29133: LD_INT 31
29135: DOUBLE
29136: EQUAL
29137: IFTRUE 29153
29139: LD_INT 32
29141: DOUBLE
29142: EQUAL
29143: IFTRUE 29153
29145: LD_INT 33
29147: DOUBLE
29148: EQUAL
29149: IFTRUE 29153
29151: GO 29164
29153: POP
// btype := #Turrets ; b_Armoury , b_Barracks :
29154: LD_ADDR_VAR 0 6
29158: PUSH
29159: LD_STRING #Turrets
29161: ST_TO_ADDR
29162: GO 29209
29164: LD_INT 4
29166: DOUBLE
29167: EQUAL
29168: IFTRUE 29178
29170: LD_INT 5
29172: DOUBLE
29173: EQUAL
29174: IFTRUE 29178
29176: GO 29189
29178: POP
// btype := #Armouries ; b_Behemoth :
29179: LD_ADDR_VAR 0 6
29183: PUSH
29184: LD_STRING #Armouries
29186: ST_TO_ADDR
29187: GO 29209
29189: LD_INT 37
29191: DOUBLE
29192: EQUAL
29193: IFTRUE 29197
29195: GO 29208
29197: POP
// btype := #Behemoths ; end ;
29198: LD_ADDR_VAR 0 6
29202: PUSH
29203: LD_STRING #Behemoths
29205: ST_TO_ADDR
29206: GO 29209
29208: POP
// list := [ ] ;
29209: LD_ADDR_VAR 0 7
29213: PUSH
29214: EMPTY
29215: ST_TO_ADDR
// for j := 1 to 8 do
29216: LD_ADDR_VAR 0 3
29220: PUSH
29221: DOUBLE
29222: LD_INT 1
29224: DEC
29225: ST_TO_ADDR
29226: LD_INT 8
29228: PUSH
29229: FOR_TO
29230: IFFALSE 29323
// if Side_Positions [ j ] then
29232: LD_EXP 75
29236: PUSH
29237: LD_VAR 0 3
29241: ARRAY
29242: IFFALSE 29321
// begin amount := 0 ;
29244: LD_ADDR_VAR 0 5
29248: PUSH
29249: LD_INT 0
29251: ST_TO_ADDR
// for k in Restricted_Builds [ i ] do
29252: LD_ADDR_VAR 0 4
29256: PUSH
29257: LD_LOC 21
29261: PUSH
29262: LD_VAR 0 2
29266: ARRAY
29267: PUSH
29268: FOR_IN
29269: IFFALSE 29317
// amount := amount + FilterAllUnits ( [ [ f_side , j ] , [ f_btype , k ] ] ) ;
29271: LD_ADDR_VAR 0 5
29275: PUSH
29276: LD_VAR 0 5
29280: PUSH
29281: LD_INT 22
29283: PUSH
29284: LD_VAR 0 3
29288: PUSH
29289: EMPTY
29290: LIST
29291: LIST
29292: PUSH
29293: LD_INT 30
29295: PUSH
29296: LD_VAR 0 4
29300: PUSH
29301: EMPTY
29302: LIST
29303: LIST
29304: PUSH
29305: EMPTY
29306: LIST
29307: LIST
29308: PPUSH
29309: CALL_OW 69
29313: PLUS
29314: ST_TO_ADDR
29315: GO 29268
29317: POP
29318: POP
// continue ;
29319: GO 29229
// end ;
29321: GO 29229
29323: POP
29324: POP
// list := [ ] ;
29325: LD_ADDR_VAR 0 7
29329: PUSH
29330: EMPTY
29331: ST_TO_ADDR
// for j := 1 to 8 do
29332: LD_ADDR_VAR 0 3
29336: PUSH
29337: DOUBLE
29338: LD_INT 1
29340: DEC
29341: ST_TO_ADDR
29342: LD_INT 8
29344: PUSH
29345: FOR_TO
29346: IFFALSE 29366
// list := list ^ amount ;
29348: LD_ADDR_VAR 0 7
29352: PUSH
29353: LD_VAR 0 7
29357: PUSH
29358: LD_VAR 0 5
29362: ADD
29363: ST_TO_ADDR
29364: GO 29345
29366: POP
29367: POP
// Already_Built := Already_Built ^ [ list ] ;
29368: LD_ADDR_LOC 27
29372: PUSH
29373: LD_LOC 27
29377: PUSH
29378: LD_VAR 0 7
29382: PUSH
29383: EMPTY
29384: LIST
29385: ADD
29386: ST_TO_ADDR
// Limits_Info := Limits_Info ^ [ btype , amount , Restricted_Builds_Amount [ i ] ] ;
29387: LD_ADDR_LOC 28
29391: PUSH
29392: LD_LOC 28
29396: PUSH
29397: LD_VAR 0 6
29401: PUSH
29402: LD_VAR 0 5
29406: PUSH
29407: LD_LOC 22
29411: PUSH
29412: LD_VAR 0 2
29416: ARRAY
29417: PUSH
29418: EMPTY
29419: LIST
29420: LIST
29421: LIST
29422: ADD
29423: ST_TO_ADDR
// end ;
29424: GO 29115
29426: POP
29427: POP
// Cheaters := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
29428: LD_ADDR_LOC 29
29432: PUSH
29433: LD_INT 0
29435: PUSH
29436: LD_INT 0
29438: PUSH
29439: LD_INT 0
29441: PUSH
29442: LD_INT 0
29444: PUSH
29445: LD_INT 0
29447: PUSH
29448: LD_INT 0
29450: PUSH
29451: LD_INT 0
29453: PUSH
29454: LD_INT 0
29456: PUSH
29457: EMPTY
29458: LIST
29459: LIST
29460: LIST
29461: LIST
29462: LIST
29463: LIST
29464: LIST
29465: LIST
29466: ST_TO_ADDR
// if Limits_Info then
29467: LD_LOC 28
29471: IFFALSE 29487
// Limits_Info := #Limits ^ Limits_Info ;
29473: LD_ADDR_LOC 28
29477: PUSH
29478: LD_STRING #Limits
29480: PUSH
29481: LD_LOC 28
29485: ADD
29486: ST_TO_ADDR
// end ;
29487: LD_VAR 0 1
29491: RET
// export function ExecuteLimits ( un , BType , side , old_side , count ) ; var i , j , Is_Cheater ; begin
29492: LD_INT 0
29494: PPUSH
29495: PPUSH
29496: PPUSH
29497: PPUSH
// for i := 1 to Restricted_Builds do
29498: LD_ADDR_VAR 0 7
29502: PUSH
29503: DOUBLE
29504: LD_INT 1
29506: DEC
29507: ST_TO_ADDR
29508: LD_LOC 21
29512: PUSH
29513: FOR_TO
29514: IFFALSE 29937
// if BType in Restricted_Builds [ i ] then
29516: LD_VAR 0 2
29520: PUSH
29521: LD_LOC 21
29525: PUSH
29526: LD_VAR 0 7
29530: ARRAY
29531: IN
29532: IFFALSE 29935
// begin if old_side then
29534: LD_VAR 0 4
29538: IFFALSE 29664
// if Already_Built [ i ] [ side ] + count > Restricted_Builds_Amount [ i ] then
29540: LD_LOC 27
29544: PUSH
29545: LD_VAR 0 7
29549: ARRAY
29550: PUSH
29551: LD_VAR 0 3
29555: ARRAY
29556: PUSH
29557: LD_VAR 0 5
29561: PLUS
29562: PUSH
29563: LD_LOC 22
29567: PUSH
29568: LD_VAR 0 7
29572: ARRAY
29573: GREATER
29574: IFFALSE 29600
// begin SetSide ( un , old_side ) ;
29576: LD_VAR 0 1
29580: PPUSH
29581: LD_VAR 0 4
29585: PPUSH
29586: CALL_OW 235
// count := 0 ;
29590: LD_ADDR_VAR 0 5
29594: PUSH
29595: LD_INT 0
29597: ST_TO_ADDR
// end else
29598: GO 29664
// Already_Built := Replace ( Already_Built , i , Replace ( Already_Built [ i ] , old_side , Already_Built [ i ] [ old_side ] - count ) ) ;
29600: LD_ADDR_LOC 27
29604: PUSH
29605: LD_LOC 27
29609: PPUSH
29610: LD_VAR 0 7
29614: PPUSH
29615: LD_LOC 27
29619: PUSH
29620: LD_VAR 0 7
29624: ARRAY
29625: PPUSH
29626: LD_VAR 0 4
29630: PPUSH
29631: LD_LOC 27
29635: PUSH
29636: LD_VAR 0 7
29640: ARRAY
29641: PUSH
29642: LD_VAR 0 4
29646: ARRAY
29647: PUSH
29648: LD_VAR 0 5
29652: MINUS
29653: PPUSH
29654: CALL_OW 1
29658: PPUSH
29659: CALL_OW 1
29663: ST_TO_ADDR
// Already_Built := Replace ( Already_Built , i , Replace ( Already_Built [ i ] , side , Already_Built [ i ] [ side ] + count ) ) ;
29664: LD_ADDR_LOC 27
29668: PUSH
29669: LD_LOC 27
29673: PPUSH
29674: LD_VAR 0 7
29678: PPUSH
29679: LD_LOC 27
29683: PUSH
29684: LD_VAR 0 7
29688: ARRAY
29689: PPUSH
29690: LD_VAR 0 3
29694: PPUSH
29695: LD_LOC 27
29699: PUSH
29700: LD_VAR 0 7
29704: ARRAY
29705: PUSH
29706: LD_VAR 0 3
29710: ARRAY
29711: PUSH
29712: LD_VAR 0 5
29716: PLUS
29717: PPUSH
29718: CALL_OW 1
29722: PPUSH
29723: CALL_OW 1
29727: ST_TO_ADDR
// if count <> 0 and ( side = your_side ) then
29728: LD_VAR 0 5
29732: PUSH
29733: LD_INT 0
29735: NONEQUAL
29736: PUSH
29737: LD_VAR 0 3
29741: PUSH
29742: LD_OWVAR 2
29746: EQUAL
29747: AND
29748: IFFALSE 29791
// Limits_Info := Replace ( Limits_Info , 3 * i , Already_Built [ i ] [ side ] ) ;
29750: LD_ADDR_LOC 28
29754: PUSH
29755: LD_LOC 28
29759: PPUSH
29760: LD_INT 3
29762: PUSH
29763: LD_VAR 0 7
29767: MUL
29768: PPUSH
29769: LD_LOC 27
29773: PUSH
29774: LD_VAR 0 7
29778: ARRAY
29779: PUSH
29780: LD_VAR 0 3
29784: ARRAY
29785: PPUSH
29786: CALL_OW 1
29790: ST_TO_ADDR
// if Already_Built [ i ] [ side ] > Restricted_Builds_Amount [ i ] then
29791: LD_LOC 27
29795: PUSH
29796: LD_VAR 0 7
29800: ARRAY
29801: PUSH
29802: LD_VAR 0 3
29806: ARRAY
29807: PUSH
29808: LD_LOC 22
29812: PUSH
29813: LD_VAR 0 7
29817: ARRAY
29818: GREATER
29819: IFFALSE 29846
// begin Cheaters := Replace ( Cheaters , side , 1 ) ;
29821: LD_ADDR_LOC 29
29825: PUSH
29826: LD_LOC 29
29830: PPUSH
29831: LD_VAR 0 3
29835: PPUSH
29836: LD_INT 1
29838: PPUSH
29839: CALL_OW 1
29843: ST_TO_ADDR
// end else
29844: GO 29933
// begin for j := 1 to Restricted_Builds do
29846: LD_ADDR_VAR 0 8
29850: PUSH
29851: DOUBLE
29852: LD_INT 1
29854: DEC
29855: ST_TO_ADDR
29856: LD_LOC 21
29860: PUSH
29861: FOR_TO
29862: IFFALSE 29906
// if Already_Built [ j ] [ side ] > Restricted_Builds_Amount [ j ] then
29864: LD_LOC 27
29868: PUSH
29869: LD_VAR 0 8
29873: ARRAY
29874: PUSH
29875: LD_VAR 0 3
29879: ARRAY
29880: PUSH
29881: LD_LOC 22
29885: PUSH
29886: LD_VAR 0 8
29890: ARRAY
29891: GREATER
29892: IFFALSE 29904
// begin Is_Cheater := true ;
29894: LD_ADDR_VAR 0 9
29898: PUSH
29899: LD_INT 1
29901: ST_TO_ADDR
// break ;
29902: GO 29906
// end ;
29904: GO 29861
29906: POP
29907: POP
// Cheaters := Replace ( Cheaters , side , Is_Cheater ) ;
29908: LD_ADDR_LOC 29
29912: PUSH
29913: LD_LOC 29
29917: PPUSH
29918: LD_VAR 0 3
29922: PPUSH
29923: LD_VAR 0 9
29927: PPUSH
29928: CALL_OW 1
29932: ST_TO_ADDR
// end ; break ;
29933: GO 29937
// end ;
29935: GO 29513
29937: POP
29938: POP
// end ;
29939: LD_VAR 0 6
29943: RET
// export function RestrictVehicleConstructionStarted ( factory , chassis , engine , control , weapon ) ; begin
29944: LD_INT 0
29946: PPUSH
// if ( weapon in Banned_Weapons ) or ( chassis in Banned_Chassis ) or ( control in Banned_Controls ) or ( engine in Banned_Engines ) then
29947: LD_VAR 0 5
29951: PUSH
29952: LD_LOC 23
29956: IN
29957: PUSH
29958: LD_VAR 0 2
29962: PUSH
29963: LD_LOC 24
29967: IN
29968: OR
29969: PUSH
29970: LD_VAR 0 4
29974: PUSH
29975: LD_LOC 25
29979: IN
29980: OR
29981: PUSH
29982: LD_VAR 0 3
29986: PUSH
29987: LD_LOC 26
29991: IN
29992: OR
29993: IFFALSE 30004
// ComCancel ( factory ) ;
29995: LD_VAR 0 1
29999: PPUSH
30000: CALL_OW 127
// end ;
30004: LD_VAR 0 6
30008: RET
// export function RestrictWeaponPlaced ( building , weapon ) ; begin
30009: LD_INT 0
30011: PPUSH
// if ( weapon in Banned_Weapons ) then
30012: LD_VAR 0 2
30016: PUSH
30017: LD_LOC 23
30021: IN
30022: IFFALSE 30033
// ComCancel ( building ) ;
30024: LD_VAR 0 1
30028: PPUSH
30029: CALL_OW 127
// end ;
30033: LD_VAR 0 3
30037: RET
// export function RestrictBuildingStarted ( building , builder ) ; var i , BType , b , side , count , k ; begin
30038: LD_INT 0
30040: PPUSH
30041: PPUSH
30042: PPUSH
30043: PPUSH
30044: PPUSH
30045: PPUSH
30046: PPUSH
// count = 0 ;
30047: LD_ADDR_VAR 0 8
30051: PUSH
30052: LD_INT 0
30054: ST_TO_ADDR
// BType = GetBType ( Building ) ;
30055: LD_ADDR_VAR 0 5
30059: PUSH
30060: LD_VAR 0 1
30064: PPUSH
30065: CALL_OW 266
30069: ST_TO_ADDR
// side = GetSide ( Building ) ;
30070: LD_ADDR_VAR 0 7
30074: PUSH
30075: LD_VAR 0 1
30079: PPUSH
30080: CALL_OW 255
30084: ST_TO_ADDR
// for i := 1 to Restricted_Builds do
30085: LD_ADDR_VAR 0 4
30089: PUSH
30090: DOUBLE
30091: LD_INT 1
30093: DEC
30094: ST_TO_ADDR
30095: LD_LOC 21
30099: PUSH
30100: FOR_TO
30101: IFFALSE 30244
// begin if BType in Restricted_Builds [ i ] then
30103: LD_VAR 0 5
30107: PUSH
30108: LD_LOC 21
30112: PUSH
30113: LD_VAR 0 4
30117: ARRAY
30118: IN
30119: IFFALSE 30211
// for k in Restricted_Builds [ i ] do
30121: LD_ADDR_VAR 0 9
30125: PUSH
30126: LD_LOC 21
30130: PUSH
30131: LD_VAR 0 4
30135: ARRAY
30136: PUSH
30137: FOR_IN
30138: IFFALSE 30209
// begin b = FilterAllunits ( [ [ f_side , side ] , [ f_type , building ] , [ f_btype , k ] ] ) ;
30140: LD_ADDR_VAR 0 6
30144: PUSH
30145: LD_INT 22
30147: PUSH
30148: LD_VAR 0 7
30152: PUSH
30153: EMPTY
30154: LIST
30155: LIST
30156: PUSH
30157: LD_INT 21
30159: PUSH
30160: LD_VAR 0 1
30164: PUSH
30165: EMPTY
30166: LIST
30167: LIST
30168: PUSH
30169: LD_INT 30
30171: PUSH
30172: LD_VAR 0 9
30176: PUSH
30177: EMPTY
30178: LIST
30179: LIST
30180: PUSH
30181: EMPTY
30182: LIST
30183: LIST
30184: LIST
30185: PPUSH
30186: CALL_OW 69
30190: ST_TO_ADDR
// count = count + b ;
30191: LD_ADDR_VAR 0 8
30195: PUSH
30196: LD_VAR 0 8
30200: PUSH
30201: LD_VAR 0 6
30205: PLUS
30206: ST_TO_ADDR
// end ;
30207: GO 30137
30209: POP
30210: POP
// if count + 0 > Restricted_Builds_Amount [ i ] then
30211: LD_VAR 0 8
30215: PUSH
30216: LD_INT 0
30218: PLUS
30219: PUSH
30220: LD_LOC 22
30224: PUSH
30225: LD_VAR 0 4
30229: ARRAY
30230: GREATER
30231: IFFALSE 30242
// DestroyUnit ( building ) ;
30233: LD_VAR 0 1
30237: PPUSH
30238: CALL_OW 65
// end ;
30242: GO 30100
30244: POP
30245: POP
// end ;
30246: LD_VAR 0 3
30250: RET
// export function CallExecuteLimits ( j ) ; begin
30251: LD_INT 0
30253: PPUSH
// if ( GetType ( j ) = 3 ) then
30254: LD_VAR 0 1
30258: PPUSH
30259: CALL_OW 247
30263: PUSH
30264: LD_INT 3
30266: EQUAL
30267: IFFALSE 30307
// ExecuteLimits ( j , GetBType ( j ) , GetSide ( j ) , 0 , - 1 ) else
30269: LD_VAR 0 1
30273: PPUSH
30274: LD_VAR 0 1
30278: PPUSH
30279: CALL_OW 266
30283: PPUSH
30284: LD_VAR 0 1
30288: PPUSH
30289: CALL_OW 255
30293: PPUSH
30294: LD_INT 0
30296: PPUSH
30297: LD_INT 1
30299: NEG
30300: PPUSH
30301: CALL 29492 0 5
30305: GO 30351
// if ( GetChassis ( j ) = 25 ) then
30307: LD_VAR 0 1
30311: PPUSH
30312: CALL_OW 265
30316: PUSH
30317: LD_INT 25
30319: EQUAL
30320: IFFALSE 30351
// ExecuteLimits ( j , b_behemoth , GetSide ( j ) , 0 , - 1 ) ;
30322: LD_VAR 0 1
30326: PPUSH
30327: LD_INT 37
30329: PPUSH
30330: LD_VAR 0 1
30334: PPUSH
30335: CALL_OW 255
30339: PPUSH
30340: LD_INT 0
30342: PPUSH
30343: LD_INT 1
30345: NEG
30346: PPUSH
30347: CALL 29492 0 5
// end ; end_of_file
30351: LD_VAR 0 2
30355: RET
// var FLAGY ; export FLAGY_AREA ; export FLAGY_XY ; export FLAGY_AREA1 ; var teams_p ; var WFT_Goal ; export WFT_Points_MP ; var WFT_FlagOnTop ; var WFT_FlagHeight ; export function Init_WarForTerritory ; var flag , i , p ; begin
30356: LD_INT 0
30358: PPUSH
30359: PPUSH
30360: PPUSH
30361: PPUSH
// if not def_WarForTerritory then
30362: LD_EXP 36
30366: NOT
30367: IFFALSE 30371
// exit ;
30369: GO 30711
// FLAGY = [ ] ;
30371: LD_ADDR_LOC 30
30375: PUSH
30376: EMPTY
30377: ST_TO_ADDR
// WFT_FlagOnTop = [ ] ;
30378: LD_ADDR_LOC 33
30382: PUSH
30383: EMPTY
30384: ST_TO_ADDR
// WFT_FlagHeight = [ ] ;
30385: LD_ADDR_LOC 34
30389: PUSH
30390: EMPTY
30391: ST_TO_ADDR
// teams_p = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
30392: LD_ADDR_LOC 31
30396: PUSH
30397: LD_INT 0
30399: PUSH
30400: LD_INT 0
30402: PUSH
30403: LD_INT 0
30405: PUSH
30406: LD_INT 0
30408: PUSH
30409: LD_INT 0
30411: PUSH
30412: LD_INT 0
30414: PUSH
30415: LD_INT 0
30417: PUSH
30418: LD_INT 0
30420: PUSH
30421: EMPTY
30422: LIST
30423: LIST
30424: LIST
30425: LIST
30426: LIST
30427: LIST
30428: LIST
30429: LIST
30430: ST_TO_ADDR
// for i = 1 to FLAGY_AREA do
30431: LD_ADDR_VAR 0 3
30435: PUSH
30436: DOUBLE
30437: LD_INT 1
30439: DEC
30440: ST_TO_ADDR
30441: LD_EXP 118
30445: PUSH
30446: FOR_TO
30447: IFFALSE 30540
// begin flag = SetBattleFlag ( 0 , FLAGY_XY [ i ] [ 1 ] , FLAGY_XY [ i ] [ 2 ] , [ ] ) ;
30449: LD_ADDR_VAR 0 2
30453: PUSH
30454: LD_INT 0
30456: PPUSH
30457: LD_EXP 119
30461: PUSH
30462: LD_VAR 0 3
30466: ARRAY
30467: PUSH
30468: LD_INT 1
30470: ARRAY
30471: PPUSH
30472: LD_EXP 119
30476: PUSH
30477: LD_VAR 0 3
30481: ARRAY
30482: PUSH
30483: LD_INT 2
30485: ARRAY
30486: PPUSH
30487: EMPTY
30488: PPUSH
30489: CALL_OW 418
30493: ST_TO_ADDR
// FLAGY = FLAGY ^ flag ;
30494: LD_ADDR_LOC 30
30498: PUSH
30499: LD_LOC 30
30503: PUSH
30504: LD_VAR 0 2
30508: ADD
30509: ST_TO_ADDR
// WFT_FlagOnTop = WFT_FlagOnTop ^ true ;
30510: LD_ADDR_LOC 33
30514: PUSH
30515: LD_LOC 33
30519: PUSH
30520: LD_INT 1
30522: ADD
30523: ST_TO_ADDR
// WFT_FlagHeight = WFT_FlagHeight ^ 100 ;
30524: LD_ADDR_LOC 34
30528: PUSH
30529: LD_LOC 34
30533: PUSH
30534: LD_INT 100
30536: ADD
30537: ST_TO_ADDR
// end ;
30538: GO 30446
30540: POP
30541: POP
// if WarForTerritory_Flags then
30542: LD_EXP 65
30546: IFFALSE 30560
// WFT_Goal = WarForTerritory_Flags else
30548: LD_ADDR_LOC 32
30552: PUSH
30553: LD_EXP 65
30557: ST_TO_ADDR
30558: GO 30570
// WFT_Goal = WarForTerritory_Points ;
30560: LD_ADDR_LOC 32
30564: PUSH
30565: LD_EXP 64
30569: ST_TO_ADDR
// for i = 1 to flagy_area do
30570: LD_ADDR_VAR 0 3
30574: PUSH
30575: DOUBLE
30576: LD_INT 1
30578: DEC
30579: ST_TO_ADDR
30580: LD_EXP 118
30584: PUSH
30585: FOR_TO
30586: IFFALSE 30688
// begin SetAreaMapShow ( flagy_area [ i ] , 1 ) ;
30588: LD_EXP 118
30592: PUSH
30593: LD_VAR 0 3
30597: ARRAY
30598: PPUSH
30599: LD_INT 1
30601: PPUSH
30602: CALL_OW 424
// SetAreaMapShow ( flagy_area1 [ i ] , 5 ) ;
30606: LD_EXP 120
30610: PUSH
30611: LD_VAR 0 3
30615: ARRAY
30616: PPUSH
30617: LD_INT 5
30619: PPUSH
30620: CALL_OW 424
// for p = 1 to 8 do
30624: LD_ADDR_VAR 0 4
30628: PUSH
30629: DOUBLE
30630: LD_INT 1
30632: DEC
30633: ST_TO_ADDR
30634: LD_INT 8
30636: PUSH
30637: FOR_TO
30638: IFFALSE 30684
// PlaceSeeing ( flagy_xy [ i ] [ 1 ] , flagy_xy [ i ] [ 2 ] , p , 1 ) ;
30640: LD_EXP 119
30644: PUSH
30645: LD_VAR 0 3
30649: ARRAY
30650: PUSH
30651: LD_INT 1
30653: ARRAY
30654: PPUSH
30655: LD_EXP 119
30659: PUSH
30660: LD_VAR 0 3
30664: ARRAY
30665: PUSH
30666: LD_INT 2
30668: ARRAY
30669: PPUSH
30670: LD_VAR 0 4
30674: PPUSH
30675: LD_INT 1
30677: PPUSH
30678: CALL_OW 330
30682: GO 30637
30684: POP
30685: POP
// end ;
30686: GO 30585
30688: POP
30689: POP
// if WFT_Points_MP < 1 then
30690: LD_EXP 121
30694: PUSH
30695: LD_INT 1
30697: LESS
30698: IFFALSE 30708
// WFT_Points_MP = 1 ;
30700: LD_ADDR_EXP 121
30704: PUSH
30705: LD_INT 1
30707: ST_TO_ADDR
// enable ( 60 ) ;
30708: LD_INT 60
30710: ENABLE_MARKED
// end ;
30711: LD_VAR 0 1
30715: RET
// every 0 0$1 marked 60 do var i , p , pom , pom1 ; var side , sideNumber , flagSide ;
30716: GO 30718
30718: DISABLE
30719: LD_INT 0
30721: PPUSH
30722: PPUSH
30723: PPUSH
30724: PPUSH
30725: PPUSH
30726: PPUSH
30727: PPUSH
// begin zkontroluj_body ;
30728: CALL 32027 0 0
// for i := 1 to flagy + 0 do
30732: LD_ADDR_VAR 0 1
30736: PUSH
30737: DOUBLE
30738: LD_INT 1
30740: DEC
30741: ST_TO_ADDR
30742: LD_LOC 30
30746: PUSH
30747: LD_INT 0
30749: PLUS
30750: PUSH
30751: FOR_TO
30752: IFFALSE 31504
// begin sideNumber = 0 ;
30754: LD_ADDR_VAR 0 6
30758: PUSH
30759: LD_INT 0
30761: ST_TO_ADDR
// for p = 1 to 8 do
30762: LD_ADDR_VAR 0 2
30766: PUSH
30767: DOUBLE
30768: LD_INT 1
30770: DEC
30771: ST_TO_ADDR
30772: LD_INT 8
30774: PUSH
30775: FOR_TO
30776: IFFALSE 30856
// begin pom = FilterUnitsInArea ( FLAGY_AREA1 [ i ] , [ f_side , p ] ) ;
30778: LD_ADDR_VAR 0 3
30782: PUSH
30783: LD_EXP 120
30787: PUSH
30788: LD_VAR 0 1
30792: ARRAY
30793: PPUSH
30794: LD_INT 22
30796: PUSH
30797: LD_VAR 0 2
30801: PUSH
30802: EMPTY
30803: LIST
30804: LIST
30805: PPUSH
30806: CALL_OW 70
30810: ST_TO_ADDR
// if pom > 0 then
30811: LD_VAR 0 3
30815: PUSH
30816: LD_INT 0
30818: GREATER
30819: IFFALSE 30854
// begin side = getSide ( pom [ 1 ] ) ;
30821: LD_ADDR_VAR 0 5
30825: PUSH
30826: LD_VAR 0 3
30830: PUSH
30831: LD_INT 1
30833: ARRAY
30834: PPUSH
30835: CALL_OW 255
30839: ST_TO_ADDR
// sideNumber = sideNumber + 1 ;
30840: LD_ADDR_VAR 0 6
30844: PUSH
30845: LD_VAR 0 6
30849: PUSH
30850: LD_INT 1
30852: PLUS
30853: ST_TO_ADDR
// end ; end ;
30854: GO 30775
30856: POP
30857: POP
// if sideNumber = 1 then
30858: LD_VAR 0 6
30862: PUSH
30863: LD_INT 1
30865: EQUAL
30866: IFFALSE 31143
// begin flagSide = getBattleFlagSide ( FLAGY [ i ] ) ;
30868: LD_ADDR_VAR 0 7
30872: PUSH
30873: LD_LOC 30
30877: PUSH
30878: LD_VAR 0 1
30882: ARRAY
30883: PPUSH
30884: CALL_OW 421
30888: ST_TO_ADDR
// if flagSide = side then
30889: LD_VAR 0 7
30893: PUSH
30894: LD_VAR 0 5
30898: EQUAL
30899: IFFALSE 31015
// begin if WFT_FlagHeight [ i ] < 100 then
30901: LD_LOC 34
30905: PUSH
30906: LD_VAR 0 1
30910: ARRAY
30911: PUSH
30912: LD_INT 100
30914: LESS
30915: IFFALSE 30990
// begin WFT_FlagHeight = replace ( WFT_FlagHeight , i , WFT_FlagHeight [ i ] + 10 ) ;
30917: LD_ADDR_LOC 34
30921: PUSH
30922: LD_LOC 34
30926: PPUSH
30927: LD_VAR 0 1
30931: PPUSH
30932: LD_LOC 34
30936: PUSH
30937: LD_VAR 0 1
30941: ARRAY
30942: PUSH
30943: LD_INT 10
30945: PLUS
30946: PPUSH
30947: CALL_OW 1
30951: ST_TO_ADDR
// ChangeBattleFlagOptions ( FLAGY [ i ] , [ [ bfo_height , WFT_FlagHeight [ i ] ] ] ) ;
30952: LD_LOC 30
30956: PUSH
30957: LD_VAR 0 1
30961: ARRAY
30962: PPUSH
30963: LD_INT 20
30965: PUSH
30966: LD_LOC 34
30970: PUSH
30971: LD_VAR 0 1
30975: ARRAY
30976: PUSH
30977: EMPTY
30978: LIST
30979: LIST
30980: PUSH
30981: EMPTY
30982: LIST
30983: PPUSH
30984: CALL_OW 423
// end else
30988: GO 31013
// WFT_FlagOnTop = replace ( WFT_FlagOnTop , i , true ) ;
30990: LD_ADDR_LOC 33
30994: PUSH
30995: LD_LOC 33
30999: PPUSH
31000: LD_VAR 0 1
31004: PPUSH
31005: LD_INT 1
31007: PPUSH
31008: CALL_OW 1
31012: ST_TO_ADDR
// end else
31013: GO 31141
// begin if WFT_FlagHeight [ i ] > 0 then
31015: LD_LOC 34
31019: PUSH
31020: LD_VAR 0 1
31024: ARRAY
31025: PUSH
31026: LD_INT 0
31028: GREATER
31029: IFFALSE 31104
// begin WFT_FlagHeight = replace ( WFT_FlagHeight , i , WFT_FlagHeight [ i ] - 10 ) ;
31031: LD_ADDR_LOC 34
31035: PUSH
31036: LD_LOC 34
31040: PPUSH
31041: LD_VAR 0 1
31045: PPUSH
31046: LD_LOC 34
31050: PUSH
31051: LD_VAR 0 1
31055: ARRAY
31056: PUSH
31057: LD_INT 10
31059: MINUS
31060: PPUSH
31061: CALL_OW 1
31065: ST_TO_ADDR
// ChangeBattleFlagOptions ( FLAGY [ i ] , [ [ bfo_height , WFT_FlagHeight [ i ] ] ] ) ;
31066: LD_LOC 30
31070: PUSH
31071: LD_VAR 0 1
31075: ARRAY
31076: PPUSH
31077: LD_INT 20
31079: PUSH
31080: LD_LOC 34
31084: PUSH
31085: LD_VAR 0 1
31089: ARRAY
31090: PUSH
31091: EMPTY
31092: LIST
31093: LIST
31094: PUSH
31095: EMPTY
31096: LIST
31097: PPUSH
31098: CALL_OW 423
// end else
31102: GO 31141
// begin zmen_vlajku ( i , side ) ;
31104: LD_VAR 0 1
31108: PPUSH
31109: LD_VAR 0 5
31113: PPUSH
31114: CALL 31510 0 2
// WFT_FlagOnTop = replace ( WFT_FlagOnTop , i , false ) ;
31118: LD_ADDR_LOC 33
31122: PUSH
31123: LD_LOC 33
31127: PPUSH
31128: LD_VAR 0 1
31132: PPUSH
31133: LD_INT 0
31135: PPUSH
31136: CALL_OW 1
31140: ST_TO_ADDR
// end ; end ; end else
31141: GO 31502
// if sideNumber = 0 then
31143: LD_VAR 0 6
31147: PUSH
31148: LD_INT 0
31150: EQUAL
31151: IFFALSE 31502
// begin if getBattleFlagSide ( FLAGY [ i ] ) <> 0 then
31153: LD_LOC 30
31157: PUSH
31158: LD_VAR 0 1
31162: ARRAY
31163: PPUSH
31164: CALL_OW 421
31168: PUSH
31169: LD_INT 0
31171: NONEQUAL
31172: IFFALSE 31379
// begin if WFT_FlagHeight [ i ] > 0 and WFT_FlagHeight [ i ] < 100 then
31174: LD_LOC 34
31178: PUSH
31179: LD_VAR 0 1
31183: ARRAY
31184: PUSH
31185: LD_INT 0
31187: GREATER
31188: PUSH
31189: LD_LOC 34
31193: PUSH
31194: LD_VAR 0 1
31198: ARRAY
31199: PUSH
31200: LD_INT 100
31202: LESS
31203: AND
31204: IFFALSE 31328
// begin if WFT_FlagOnTop [ i ] then
31206: LD_LOC 33
31210: PUSH
31211: LD_VAR 0 1
31215: ARRAY
31216: IFFALSE 31255
// WFT_FlagHeight = replace ( WFT_FlagHeight , i , WFT_FlagHeight [ i ] + 10 ) else
31218: LD_ADDR_LOC 34
31222: PUSH
31223: LD_LOC 34
31227: PPUSH
31228: LD_VAR 0 1
31232: PPUSH
31233: LD_LOC 34
31237: PUSH
31238: LD_VAR 0 1
31242: ARRAY
31243: PUSH
31244: LD_INT 10
31246: PLUS
31247: PPUSH
31248: CALL_OW 1
31252: ST_TO_ADDR
31253: GO 31290
// WFT_FlagHeight = replace ( WFT_FlagHeight , i , WFT_FlagHeight [ i ] - 10 ) ;
31255: LD_ADDR_LOC 34
31259: PUSH
31260: LD_LOC 34
31264: PPUSH
31265: LD_VAR 0 1
31269: PPUSH
31270: LD_LOC 34
31274: PUSH
31275: LD_VAR 0 1
31279: ARRAY
31280: PUSH
31281: LD_INT 10
31283: MINUS
31284: PPUSH
31285: CALL_OW 1
31289: ST_TO_ADDR
// ChangeBattleFlagOptions ( FLAGY [ i ] , [ [ bfo_height , WFT_FlagHeight [ i ] ] ] ) ;
31290: LD_LOC 30
31294: PUSH
31295: LD_VAR 0 1
31299: ARRAY
31300: PPUSH
31301: LD_INT 20
31303: PUSH
31304: LD_LOC 34
31308: PUSH
31309: LD_VAR 0 1
31313: ARRAY
31314: PUSH
31315: EMPTY
31316: LIST
31317: LIST
31318: PUSH
31319: EMPTY
31320: LIST
31321: PPUSH
31322: CALL_OW 423
// end else
31326: GO 31377
// if WFT_FlagHeight [ i ] = 0 and getBattleFlagSide ( FLAGY [ i ] ) <> 0 then
31328: LD_LOC 34
31332: PUSH
31333: LD_VAR 0 1
31337: ARRAY
31338: PUSH
31339: LD_INT 0
31341: EQUAL
31342: PUSH
31343: LD_LOC 30
31347: PUSH
31348: LD_VAR 0 1
31352: ARRAY
31353: PPUSH
31354: CALL_OW 421
31358: PUSH
31359: LD_INT 0
31361: NONEQUAL
31362: AND
31363: IFFALSE 31377
// zmen_vlajku ( i , 0 ) ;
31365: LD_VAR 0 1
31369: PPUSH
31370: LD_INT 0
31372: PPUSH
31373: CALL 31510 0 2
// end else
31377: GO 31502
// if WFT_FlagHeight [ i ] < 100 then
31379: LD_LOC 34
31383: PUSH
31384: LD_VAR 0 1
31388: ARRAY
31389: PUSH
31390: LD_INT 100
31392: LESS
31393: IFFALSE 31502
// begin if not WFT_FlagOnTop [ i ] then
31395: LD_LOC 33
31399: PUSH
31400: LD_VAR 0 1
31404: ARRAY
31405: NOT
31406: IFFALSE 31431
// WFT_FlagOnTop = replace ( WFT_FlagOnTop , i , true ) ;
31408: LD_ADDR_LOC 33
31412: PUSH
31413: LD_LOC 33
31417: PPUSH
31418: LD_VAR 0 1
31422: PPUSH
31423: LD_INT 1
31425: PPUSH
31426: CALL_OW 1
31430: ST_TO_ADDR
// WFT_FlagHeight = replace ( WFT_FlagHeight , i , WFT_FlagHeight [ i ] + 10 ) ;
31431: LD_ADDR_LOC 34
31435: PUSH
31436: LD_LOC 34
31440: PPUSH
31441: LD_VAR 0 1
31445: PPUSH
31446: LD_LOC 34
31450: PUSH
31451: LD_VAR 0 1
31455: ARRAY
31456: PUSH
31457: LD_INT 10
31459: PLUS
31460: PPUSH
31461: CALL_OW 1
31465: ST_TO_ADDR
// ChangeBattleFlagOptions ( FLAGY [ i ] , [ [ bfo_height , WFT_FlagHeight [ i ] ] ] ) ;
31466: LD_LOC 30
31470: PUSH
31471: LD_VAR 0 1
31475: ARRAY
31476: PPUSH
31477: LD_INT 20
31479: PUSH
31480: LD_LOC 34
31484: PUSH
31485: LD_VAR 0 1
31489: ARRAY
31490: PUSH
31491: EMPTY
31492: LIST
31493: LIST
31494: PUSH
31495: EMPTY
31496: LIST
31497: PPUSH
31498: CALL_OW 423
// end ; end ; end ;
31502: GO 30751
31504: POP
31505: POP
// enable ;
31506: ENABLE
// end ;
31507: PPOPN 7
31509: END
// function zmen_vlajku ( pozice , side ) ; var i ; begin
31510: LD_INT 0
31512: PPUSH
31513: PPUSH
// if FLAGY [ pozice ] and side >= 0 and side <= 8 then
31514: LD_LOC 30
31518: PUSH
31519: LD_VAR 0 1
31523: ARRAY
31524: PUSH
31525: LD_VAR 0 2
31529: PUSH
31530: LD_INT 0
31532: GREATEREQUAL
31533: AND
31534: PUSH
31535: LD_VAR 0 2
31539: PUSH
31540: LD_INT 8
31542: LESSEQUAL
31543: AND
31544: IFFALSE 31566
// changeBattleFlagSide ( FLAGY [ pozice ] , side ) ;
31546: LD_LOC 30
31550: PUSH
31551: LD_VAR 0 1
31555: ARRAY
31556: PPUSH
31557: LD_VAR 0 2
31561: PPUSH
31562: CALL_OW 422
// end ;
31566: LD_VAR 0 3
31570: RET
// export function vloz_na_pozici ( co , cislo , pozice ) ; var ii ; var pom ; begin
31571: LD_INT 0
31573: PPUSH
31574: PPUSH
31575: PPUSH
// pom = [ ] ;
31576: LD_ADDR_VAR 0 6
31580: PUSH
31581: EMPTY
31582: ST_TO_ADDR
// for ii := 1 to pozice do
31583: LD_ADDR_VAR 0 5
31587: PUSH
31588: DOUBLE
31589: LD_INT 1
31591: DEC
31592: ST_TO_ADDR
31593: LD_VAR 0 3
31597: PUSH
31598: FOR_TO
31599: IFFALSE 31655
// if ii <> cislo then
31601: LD_VAR 0 5
31605: PUSH
31606: LD_VAR 0 2
31610: NONEQUAL
31611: IFFALSE 31637
// pom = pom ^ pozice [ ii ] else
31613: LD_ADDR_VAR 0 6
31617: PUSH
31618: LD_VAR 0 6
31622: PUSH
31623: LD_VAR 0 3
31627: PUSH
31628: LD_VAR 0 5
31632: ARRAY
31633: ADD
31634: ST_TO_ADDR
31635: GO 31653
// pom = pom ^ co ;
31637: LD_ADDR_VAR 0 6
31641: PUSH
31642: LD_VAR 0 6
31646: PUSH
31647: LD_VAR 0 1
31651: ADD
31652: ST_TO_ADDR
31653: GO 31598
31655: POP
31656: POP
// result := pom ;
31657: LD_ADDR_VAR 0 4
31661: PUSH
31662: LD_VAR 0 6
31666: ST_TO_ADDR
// end ;
31667: LD_VAR 0 4
31671: RET
// function budovy_ok ( bud ) ; var a ; var i ; begin
31672: LD_INT 0
31674: PPUSH
31675: PPUSH
31676: PPUSH
// a = false ;
31677: LD_ADDR_VAR 0 3
31681: PUSH
31682: LD_INT 0
31684: ST_TO_ADDR
// for i in bud do
31685: LD_ADDR_VAR 0 4
31689: PUSH
31690: LD_VAR 0 1
31694: PUSH
31695: FOR_IN
31696: IFFALSE 31719
// if IsOK ( i ) then
31698: LD_VAR 0 4
31702: PPUSH
31703: CALL_OW 302
31707: IFFALSE 31717
// a = true ;
31709: LD_ADDR_VAR 0 3
31713: PUSH
31714: LD_INT 1
31716: ST_TO_ADDR
31717: GO 31695
31719: POP
31720: POP
// result := a ;
31721: LD_ADDR_VAR 0 2
31725: PUSH
31726: LD_VAR 0 3
31730: ST_TO_ADDR
// end ;
31731: LD_VAR 0 2
31735: RET
// every 0 0$3 marked 60 do var i , j ; var pom , goal , p ;
31736: GO 31738
31738: DISABLE
31739: LD_INT 0
31741: PPUSH
31742: PPUSH
31743: PPUSH
31744: PPUSH
31745: PPUSH
// begin if WarForTerritory_points then
31746: LD_EXP 64
31750: IFFALSE 31774
// goal = WFT_Goal * ( 3 * WFT_Points_MP ) else
31752: LD_ADDR_VAR 0 4
31756: PUSH
31757: LD_LOC 32
31761: PUSH
31762: LD_INT 3
31764: PUSH
31765: LD_EXP 121
31769: MUL
31770: MUL
31771: ST_TO_ADDR
31772: GO 31784
// goal = WFT_goal ;
31774: LD_ADDR_VAR 0 4
31778: PUSH
31779: LD_LOC 32
31783: ST_TO_ADDR
// for i := 1 to teams_p do
31784: LD_ADDR_VAR 0 1
31788: PUSH
31789: DOUBLE
31790: LD_INT 1
31792: DEC
31793: ST_TO_ADDR
31794: LD_LOC 31
31798: PUSH
31799: FOR_TO
31800: IFFALSE 32021
// if teams_p [ i ] >= Goal then
31802: LD_LOC 31
31806: PUSH
31807: LD_VAR 0 1
31811: ARRAY
31812: PUSH
31813: LD_VAR 0 4
31817: GREATEREQUAL
31818: IFFALSE 32019
// begin if not Team_Game then
31820: LD_EXP 80
31824: NOT
31825: IFFALSE 31849
// begin if i = your_side then
31827: LD_VAR 0 1
31831: PUSH
31832: LD_OWVAR 2
31836: EQUAL
31837: IFFALSE 31844
// enable ( 401 ) else
31839: LD_INT 401
31841: ENABLE_MARKED
31842: GO 31847
// enable ( 400 ) ;
31844: LD_INT 400
31846: ENABLE_MARKED
// end else
31847: GO 31869
// if i = Player_Team then
31849: LD_VAR 0 1
31853: PUSH
31854: LD_EXP 71
31858: EQUAL
31859: IFFALSE 31866
// enable ( 401 ) else
31861: LD_INT 401
31863: ENABLE_MARKED
31864: GO 31869
// enable ( 400 ) ;
31866: LD_INT 400
31868: ENABLE_MARKED
// if WarForTerritory_points then
31869: LD_EXP 64
31873: IFFALSE 31947
// begin for p = 1 to side_positions do
31875: LD_ADDR_VAR 0 5
31879: PUSH
31880: DOUBLE
31881: LD_INT 1
31883: DEC
31884: ST_TO_ADDR
31885: LD_EXP 75
31889: PUSH
31890: FOR_TO
31891: IFFALSE 31943
// if Side_Positions [ p ] then
31893: LD_EXP 75
31897: PUSH
31898: LD_VAR 0 5
31902: ARRAY
31903: IFFALSE 31941
// SetSharedMultiScore ( p , GetTag ( p + 20 ) div ( 3 * WFT_points_MP ) , 3 ) ;
31905: LD_VAR 0 5
31909: PPUSH
31910: LD_VAR 0 5
31914: PUSH
31915: LD_INT 20
31917: PLUS
31918: PPUSH
31919: CALL_OW 110
31923: PUSH
31924: LD_INT 3
31926: PUSH
31927: LD_EXP 121
31931: MUL
31932: DIV
31933: PPUSH
31934: LD_INT 3
31936: PPUSH
31937: CALL 35549 0 3
31941: GO 31890
31943: POP
31944: POP
// end else
31945: GO 32011
// for p = 1 to side_positions do
31947: LD_ADDR_VAR 0 5
31951: PUSH
31952: DOUBLE
31953: LD_INT 1
31955: DEC
31956: ST_TO_ADDR
31957: LD_EXP 75
31961: PUSH
31962: FOR_TO
31963: IFFALSE 32009
// if Side_Positions [ p ] then
31965: LD_EXP 75
31969: PUSH
31970: LD_VAR 0 5
31974: ARRAY
31975: IFFALSE 32007
// SetSharedMultiScore ( p , GetTag ( i + 20 ) * 1000 , 3 ) ;
31977: LD_VAR 0 5
31981: PPUSH
31982: LD_VAR 0 1
31986: PUSH
31987: LD_INT 20
31989: PLUS
31990: PPUSH
31991: CALL_OW 110
31995: PUSH
31996: LD_INT 1000
31998: MUL
31999: PPUSH
32000: LD_INT 3
32002: PPUSH
32003: CALL 35549 0 3
32007: GO 31962
32009: POP
32010: POP
// MakeGameEnd ;
32011: CALL 14285 0 0
// exit ;
32015: POP
32016: POP
32017: GO 32024
// end ;
32019: GO 31799
32021: POP
32022: POP
// enable ;
32023: ENABLE
// end ;
32024: PPOPN 5
32026: END
// function zkontroluj_body ; var side , list , un , red , blue , yel , green , i , pom ; begin
32027: LD_INT 0
32029: PPUSH
32030: PPUSH
32031: PPUSH
32032: PPUSH
32033: PPUSH
32034: PPUSH
32035: PPUSH
32036: PPUSH
32037: PPUSH
32038: PPUSH
// list = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
32039: LD_ADDR_VAR 0 3
32043: PUSH
32044: LD_INT 0
32046: PUSH
32047: LD_INT 0
32049: PUSH
32050: LD_INT 0
32052: PUSH
32053: LD_INT 0
32055: PUSH
32056: LD_INT 0
32058: PUSH
32059: LD_INT 0
32061: PUSH
32062: LD_INT 0
32064: PUSH
32065: LD_INT 0
32067: PUSH
32068: EMPTY
32069: LIST
32070: LIST
32071: LIST
32072: LIST
32073: LIST
32074: LIST
32075: LIST
32076: LIST
32077: ST_TO_ADDR
// red = 0 ;
32078: LD_ADDR_VAR 0 5
32082: PUSH
32083: LD_INT 0
32085: ST_TO_ADDR
// blue = 0 ;
32086: LD_ADDR_VAR 0 6
32090: PUSH
32091: LD_INT 0
32093: ST_TO_ADDR
// yel = 0 ;
32094: LD_ADDR_VAR 0 7
32098: PUSH
32099: LD_INT 0
32101: ST_TO_ADDR
// green = 0 ;
32102: LD_ADDR_VAR 0 8
32106: PUSH
32107: LD_INT 0
32109: ST_TO_ADDR
// if WarForTerritory_flags then
32110: LD_EXP 65
32114: IFFALSE 32480
// begin for i = 1 to FLAGY + 0 do
32116: LD_ADDR_VAR 0 9
32120: PUSH
32121: DOUBLE
32122: LD_INT 1
32124: DEC
32125: ST_TO_ADDR
32126: LD_LOC 30
32130: PUSH
32131: LD_INT 0
32133: PLUS
32134: PUSH
32135: FOR_TO
32136: IFFALSE 32208
// if WFT_FlagOnTop [ i ] then
32138: LD_LOC 33
32142: PUSH
32143: LD_VAR 0 9
32147: ARRAY
32148: IFFALSE 32206
// begin pom = GetBattleFlagSide ( FLAGY [ i ] ) ;
32150: LD_ADDR_VAR 0 10
32154: PUSH
32155: LD_LOC 30
32159: PUSH
32160: LD_VAR 0 9
32164: ARRAY
32165: PPUSH
32166: CALL_OW 421
32170: ST_TO_ADDR
// list = vloz_na_pozici ( list [ pom ] + 1 , pom , list ) ;
32171: LD_ADDR_VAR 0 3
32175: PUSH
32176: LD_VAR 0 3
32180: PUSH
32181: LD_VAR 0 10
32185: ARRAY
32186: PUSH
32187: LD_INT 1
32189: PLUS
32190: PPUSH
32191: LD_VAR 0 10
32195: PPUSH
32196: LD_VAR 0 3
32200: PPUSH
32201: CALL 31571 0 3
32205: ST_TO_ADDR
// end ;
32206: GO 32135
32208: POP
32209: POP
// if not Team_Game then
32210: LD_EXP 80
32214: NOT
32215: IFFALSE 32229
// teams_p = list else
32217: LD_ADDR_LOC 31
32221: PUSH
32222: LD_VAR 0 3
32226: ST_TO_ADDR
32227: GO 32432
// begin for i in Teams [ 1 ] do
32229: LD_ADDR_VAR 0 9
32233: PUSH
32234: LD_EXP 73
32238: PUSH
32239: LD_INT 1
32241: ARRAY
32242: PUSH
32243: FOR_IN
32244: IFFALSE 32270
// red = red + list [ i ] ;
32246: LD_ADDR_VAR 0 5
32250: PUSH
32251: LD_VAR 0 5
32255: PUSH
32256: LD_VAR 0 3
32260: PUSH
32261: LD_VAR 0 9
32265: ARRAY
32266: PLUS
32267: ST_TO_ADDR
32268: GO 32243
32270: POP
32271: POP
// for i in Teams [ 2 ] do
32272: LD_ADDR_VAR 0 9
32276: PUSH
32277: LD_EXP 73
32281: PUSH
32282: LD_INT 2
32284: ARRAY
32285: PUSH
32286: FOR_IN
32287: IFFALSE 32313
// blue = blue + list [ i ] ;
32289: LD_ADDR_VAR 0 6
32293: PUSH
32294: LD_VAR 0 6
32298: PUSH
32299: LD_VAR 0 3
32303: PUSH
32304: LD_VAR 0 9
32308: ARRAY
32309: PLUS
32310: ST_TO_ADDR
32311: GO 32286
32313: POP
32314: POP
// for i in Teams [ 3 ] do
32315: LD_ADDR_VAR 0 9
32319: PUSH
32320: LD_EXP 73
32324: PUSH
32325: LD_INT 3
32327: ARRAY
32328: PUSH
32329: FOR_IN
32330: IFFALSE 32356
// yel = yel + list [ i ] ;
32332: LD_ADDR_VAR 0 7
32336: PUSH
32337: LD_VAR 0 7
32341: PUSH
32342: LD_VAR 0 3
32346: PUSH
32347: LD_VAR 0 9
32351: ARRAY
32352: PLUS
32353: ST_TO_ADDR
32354: GO 32329
32356: POP
32357: POP
// for i in Teams [ 4 ] do
32358: LD_ADDR_VAR 0 9
32362: PUSH
32363: LD_EXP 73
32367: PUSH
32368: LD_INT 4
32370: ARRAY
32371: PUSH
32372: FOR_IN
32373: IFFALSE 32399
// green = green + list [ i ] ;
32375: LD_ADDR_VAR 0 8
32379: PUSH
32380: LD_VAR 0 8
32384: PUSH
32385: LD_VAR 0 3
32389: PUSH
32390: LD_VAR 0 9
32394: ARRAY
32395: PLUS
32396: ST_TO_ADDR
32397: GO 32372
32399: POP
32400: POP
// teams_p = [ red , blue , yel , green ] ;
32401: LD_ADDR_LOC 31
32405: PUSH
32406: LD_VAR 0 5
32410: PUSH
32411: LD_VAR 0 6
32415: PUSH
32416: LD_VAR 0 7
32420: PUSH
32421: LD_VAR 0 8
32425: PUSH
32426: EMPTY
32427: LIST
32428: LIST
32429: LIST
32430: LIST
32431: ST_TO_ADDR
// end ; for i = 1 to list do
32432: LD_ADDR_VAR 0 9
32436: PUSH
32437: DOUBLE
32438: LD_INT 1
32440: DEC
32441: ST_TO_ADDR
32442: LD_VAR 0 3
32446: PUSH
32447: FOR_TO
32448: IFFALSE 32476
// SetTag ( i + 20 , list [ i ] ) ;
32450: LD_VAR 0 9
32454: PUSH
32455: LD_INT 20
32457: PLUS
32458: PPUSH
32459: LD_VAR 0 3
32463: PUSH
32464: LD_VAR 0 9
32468: ARRAY
32469: PPUSH
32470: CALL_OW 109
32474: GO 32447
32476: POP
32477: POP
// end else
32478: GO 32958
// if WarForTerritory_points then
32480: LD_EXP 64
32484: IFFALSE 32958
// begin for i = 1 to FLAGY + 0 do
32486: LD_ADDR_VAR 0 9
32490: PUSH
32491: DOUBLE
32492: LD_INT 1
32494: DEC
32495: ST_TO_ADDR
32496: LD_LOC 30
32500: PUSH
32501: LD_INT 0
32503: PLUS
32504: PUSH
32505: FOR_TO
32506: IFFALSE 32578
// if WFT_FlagOnTop [ i ] then
32508: LD_LOC 33
32512: PUSH
32513: LD_VAR 0 9
32517: ARRAY
32518: IFFALSE 32576
// begin pom = GetBattleFlagSide ( FLAGY [ i ] ) ;
32520: LD_ADDR_VAR 0 10
32524: PUSH
32525: LD_LOC 30
32529: PUSH
32530: LD_VAR 0 9
32534: ARRAY
32535: PPUSH
32536: CALL_OW 421
32540: ST_TO_ADDR
// list = vloz_na_pozici ( list [ pom ] + 1 , pom , list ) ;
32541: LD_ADDR_VAR 0 3
32545: PUSH
32546: LD_VAR 0 3
32550: PUSH
32551: LD_VAR 0 10
32555: ARRAY
32556: PUSH
32557: LD_INT 1
32559: PLUS
32560: PPUSH
32561: LD_VAR 0 10
32565: PPUSH
32566: LD_VAR 0 3
32570: PPUSH
32571: CALL 31571 0 3
32575: ST_TO_ADDR
// end ;
32576: GO 32505
32578: POP
32579: POP
// if not Team_Game then
32580: LD_EXP 80
32584: NOT
32585: IFFALSE 32654
// for i = 1 to side_positions do
32587: LD_ADDR_VAR 0 9
32591: PUSH
32592: DOUBLE
32593: LD_INT 1
32595: DEC
32596: ST_TO_ADDR
32597: LD_EXP 75
32601: PUSH
32602: FOR_TO
32603: IFFALSE 32650
// teams_p = vloz_na_pozici ( teams_p [ i ] + ( list [ i ] ) , i , teams_p ) else
32605: LD_ADDR_LOC 31
32609: PUSH
32610: LD_LOC 31
32614: PUSH
32615: LD_VAR 0 9
32619: ARRAY
32620: PUSH
32621: LD_VAR 0 3
32625: PUSH
32626: LD_VAR 0 9
32630: ARRAY
32631: PLUS
32632: PPUSH
32633: LD_VAR 0 9
32637: PPUSH
32638: LD_LOC 31
32642: PPUSH
32643: CALL 31571 0 3
32647: ST_TO_ADDR
32648: GO 32602
32650: POP
32651: POP
32652: GO 32897
// begin for i in Teams [ 1 ] do
32654: LD_ADDR_VAR 0 9
32658: PUSH
32659: LD_EXP 73
32663: PUSH
32664: LD_INT 1
32666: ARRAY
32667: PUSH
32668: FOR_IN
32669: IFFALSE 32695
// red = red + list [ i ] ;
32671: LD_ADDR_VAR 0 5
32675: PUSH
32676: LD_VAR 0 5
32680: PUSH
32681: LD_VAR 0 3
32685: PUSH
32686: LD_VAR 0 9
32690: ARRAY
32691: PLUS
32692: ST_TO_ADDR
32693: GO 32668
32695: POP
32696: POP
// for i in Teams [ 2 ] do
32697: LD_ADDR_VAR 0 9
32701: PUSH
32702: LD_EXP 73
32706: PUSH
32707: LD_INT 2
32709: ARRAY
32710: PUSH
32711: FOR_IN
32712: IFFALSE 32738
// blue = blue + list [ i ] ;
32714: LD_ADDR_VAR 0 6
32718: PUSH
32719: LD_VAR 0 6
32723: PUSH
32724: LD_VAR 0 3
32728: PUSH
32729: LD_VAR 0 9
32733: ARRAY
32734: PLUS
32735: ST_TO_ADDR
32736: GO 32711
32738: POP
32739: POP
// for i in Teams [ 3 ] do
32740: LD_ADDR_VAR 0 9
32744: PUSH
32745: LD_EXP 73
32749: PUSH
32750: LD_INT 3
32752: ARRAY
32753: PUSH
32754: FOR_IN
32755: IFFALSE 32781
// yel = yel + list [ i ] ;
32757: LD_ADDR_VAR 0 7
32761: PUSH
32762: LD_VAR 0 7
32766: PUSH
32767: LD_VAR 0 3
32771: PUSH
32772: LD_VAR 0 9
32776: ARRAY
32777: PLUS
32778: ST_TO_ADDR
32779: GO 32754
32781: POP
32782: POP
// for i in Teams [ 4 ] do
32783: LD_ADDR_VAR 0 9
32787: PUSH
32788: LD_EXP 73
32792: PUSH
32793: LD_INT 4
32795: ARRAY
32796: PUSH
32797: FOR_IN
32798: IFFALSE 32824
// green = green + list [ i ] ;
32800: LD_ADDR_VAR 0 8
32804: PUSH
32805: LD_VAR 0 8
32809: PUSH
32810: LD_VAR 0 3
32814: PUSH
32815: LD_VAR 0 9
32819: ARRAY
32820: PLUS
32821: ST_TO_ADDR
32822: GO 32797
32824: POP
32825: POP
// teams_p = [ teams_p [ 1 ] + red , teams_p [ 2 ] + blue , teams_p [ 3 ] + yel , teams_p [ 4 ] + green ] ;
32826: LD_ADDR_LOC 31
32830: PUSH
32831: LD_LOC 31
32835: PUSH
32836: LD_INT 1
32838: ARRAY
32839: PUSH
32840: LD_VAR 0 5
32844: PLUS
32845: PUSH
32846: LD_LOC 31
32850: PUSH
32851: LD_INT 2
32853: ARRAY
32854: PUSH
32855: LD_VAR 0 6
32859: PLUS
32860: PUSH
32861: LD_LOC 31
32865: PUSH
32866: LD_INT 3
32868: ARRAY
32869: PUSH
32870: LD_VAR 0 7
32874: PLUS
32875: PUSH
32876: LD_LOC 31
32880: PUSH
32881: LD_INT 4
32883: ARRAY
32884: PUSH
32885: LD_VAR 0 8
32889: PLUS
32890: PUSH
32891: EMPTY
32892: LIST
32893: LIST
32894: LIST
32895: LIST
32896: ST_TO_ADDR
// end ; for i = 1 to list do
32897: LD_ADDR_VAR 0 9
32901: PUSH
32902: DOUBLE
32903: LD_INT 1
32905: DEC
32906: ST_TO_ADDR
32907: LD_VAR 0 3
32911: PUSH
32912: FOR_TO
32913: IFFALSE 32956
// SetTag ( i + 20 , getTag ( i + 20 ) + list [ i ] ) ;
32915: LD_VAR 0 9
32919: PUSH
32920: LD_INT 20
32922: PLUS
32923: PPUSH
32924: LD_VAR 0 9
32928: PUSH
32929: LD_INT 20
32931: PLUS
32932: PPUSH
32933: CALL_OW 110
32937: PUSH
32938: LD_VAR 0 3
32942: PUSH
32943: LD_VAR 0 9
32947: ARRAY
32948: PLUS
32949: PPUSH
32950: CALL_OW 109
32954: GO 32912
32956: POP
32957: POP
// end ; if WarForTerritory_points then
32958: LD_EXP 64
32962: IFFALSE 33036
// begin for i = 1 to side_positions do
32964: LD_ADDR_VAR 0 9
32968: PUSH
32969: DOUBLE
32970: LD_INT 1
32972: DEC
32973: ST_TO_ADDR
32974: LD_EXP 75
32978: PUSH
32979: FOR_TO
32980: IFFALSE 33032
// if Side_Positions [ i ] then
32982: LD_EXP 75
32986: PUSH
32987: LD_VAR 0 9
32991: ARRAY
32992: IFFALSE 33030
// SetSharedMultiScore ( i , GetTag ( i + 20 ) div ( 3 * WFT_points_MP ) , 3 ) ;
32994: LD_VAR 0 9
32998: PPUSH
32999: LD_VAR 0 9
33003: PUSH
33004: LD_INT 20
33006: PLUS
33007: PPUSH
33008: CALL_OW 110
33012: PUSH
33013: LD_INT 3
33015: PUSH
33016: LD_EXP 121
33020: MUL
33021: DIV
33022: PPUSH
33023: LD_INT 3
33025: PPUSH
33026: CALL 35549 0 3
33030: GO 32979
33032: POP
33033: POP
// end else
33034: GO 33100
// for i = 1 to side_positions do
33036: LD_ADDR_VAR 0 9
33040: PUSH
33041: DOUBLE
33042: LD_INT 1
33044: DEC
33045: ST_TO_ADDR
33046: LD_EXP 75
33050: PUSH
33051: FOR_TO
33052: IFFALSE 33098
// if Side_Positions [ i ] then
33054: LD_EXP 75
33058: PUSH
33059: LD_VAR 0 9
33063: ARRAY
33064: IFFALSE 33096
// SetSharedMultiScore ( i , GetTag ( i + 20 ) * 1000 , 3 ) ;
33066: LD_VAR 0 9
33070: PPUSH
33071: LD_VAR 0 9
33075: PUSH
33076: LD_INT 20
33078: PLUS
33079: PPUSH
33080: CALL_OW 110
33084: PUSH
33085: LD_INT 1000
33087: MUL
33088: PPUSH
33089: LD_INT 3
33091: PPUSH
33092: CALL 35549 0 3
33096: GO 33051
33098: POP
33099: POP
// show_points ;
33100: CALL 33109 0 0
// end ;
33104: LD_VAR 0 1
33108: RET
// function show_points ; var side , vypis , i , red , blue , yel , green , s ; begin
33109: LD_INT 0
33111: PPUSH
33112: PPUSH
33113: PPUSH
33114: PPUSH
33115: PPUSH
33116: PPUSH
33117: PPUSH
33118: PPUSH
33119: PPUSH
// vypis := [ ] ;
33120: LD_ADDR_VAR 0 3
33124: PUSH
33125: EMPTY
33126: ST_TO_ADDR
// red = 0 ;
33127: LD_ADDR_VAR 0 5
33131: PUSH
33132: LD_INT 0
33134: ST_TO_ADDR
// blue = 0 ;
33135: LD_ADDR_VAR 0 6
33139: PUSH
33140: LD_INT 0
33142: ST_TO_ADDR
// yel = 0 ;
33143: LD_ADDR_VAR 0 7
33147: PUSH
33148: LD_INT 0
33150: ST_TO_ADDR
// green = 0 ;
33151: LD_ADDR_VAR 0 8
33155: PUSH
33156: LD_INT 0
33158: ST_TO_ADDR
// if WarForTerritory_flags then
33159: LD_EXP 65
33163: IFFALSE 33847
// begin if def_public_score or isSGUI then
33165: LD_EXP 34
33169: PUSH
33170: LD_OWVAR 83
33174: OR
33175: IFFALSE 33601
// begin if not Team_Game then
33177: LD_EXP 80
33181: NOT
33182: IFFALSE 33348
// begin s = { ;
33184: LD_ADDR_VAR 0 9
33188: PUSH
33189: LD_STRING {
33191: ST_TO_ADDR
// for side = 1 to Side_Positions do
33192: LD_ADDR_VAR 0 2
33196: PUSH
33197: DOUBLE
33198: LD_INT 1
33200: DEC
33201: ST_TO_ADDR
33202: LD_EXP 75
33206: PUSH
33207: FOR_TO
33208: IFFALSE 33313
// if Side_Positions [ side ] then
33210: LD_EXP 75
33214: PUSH
33215: LD_VAR 0 2
33219: ARRAY
33220: IFFALSE 33297
// begin vypis := vypis ^ [ #WarForTerritory-Flags-Public , side , side , teams_p [ side ] , WFT_Goal ] ;
33222: LD_ADDR_VAR 0 3
33226: PUSH
33227: LD_VAR 0 3
33231: PUSH
33232: LD_STRING #WarForTerritory-Flags-Public
33234: PUSH
33235: LD_VAR 0 2
33239: PUSH
33240: LD_VAR 0 2
33244: PUSH
33245: LD_LOC 31
33249: PUSH
33250: LD_VAR 0 2
33254: ARRAY
33255: PUSH
33256: LD_LOC 32
33260: PUSH
33261: EMPTY
33262: LIST
33263: LIST
33264: LIST
33265: LIST
33266: LIST
33267: ADD
33268: ST_TO_ADDR
// s = s & teams_p [ side ] & , ;
33269: LD_ADDR_VAR 0 9
33273: PUSH
33274: LD_VAR 0 9
33278: PUSH
33279: LD_LOC 31
33283: PUSH
33284: LD_VAR 0 2
33288: ARRAY
33289: STR
33290: PUSH
33291: LD_STRING ,
33293: STR
33294: ST_TO_ADDR
// end else
33295: GO 33311
// s = s & 0, ;
33297: LD_ADDR_VAR 0 9
33301: PUSH
33302: LD_VAR 0 9
33306: PUSH
33307: LD_STRING 0,
33309: STR
33310: ST_TO_ADDR
33311: GO 33207
33313: POP
33314: POP
// s = s & } ;
33315: LD_ADDR_VAR 0 9
33319: PUSH
33320: LD_VAR 0 9
33324: PUSH
33325: LD_STRING }
33327: STR
33328: ST_TO_ADDR
// ToLua ( updateScorePieces(3, & s & ); ) ;
33329: LD_STRING updateScorePieces(3,
33331: PUSH
33332: LD_VAR 0 9
33336: STR
33337: PUSH
33338: LD_STRING );
33340: STR
33341: PPUSH
33342: CALL_OW 559
// end else
33346: GO 33599
// begin if Teams [ 1 ] then
33348: LD_EXP 73
33352: PUSH
33353: LD_INT 1
33355: ARRAY
33356: IFFALSE 33395
// vypis := vypis ^ [ #WarForTerritory-Flags-Public-red , 3 , teams_p [ 1 ] , WFT_Goal ] ;
33358: LD_ADDR_VAR 0 3
33362: PUSH
33363: LD_VAR 0 3
33367: PUSH
33368: LD_STRING #WarForTerritory-Flags-Public-red
33370: PUSH
33371: LD_INT 3
33373: PUSH
33374: LD_LOC 31
33378: PUSH
33379: LD_INT 1
33381: ARRAY
33382: PUSH
33383: LD_LOC 32
33387: PUSH
33388: EMPTY
33389: LIST
33390: LIST
33391: LIST
33392: LIST
33393: ADD
33394: ST_TO_ADDR
// if Teams [ 2 ] then
33395: LD_EXP 73
33399: PUSH
33400: LD_INT 2
33402: ARRAY
33403: IFFALSE 33442
// vypis := vypis ^ [ #WarForTerritory-Flags-Public-blue , 1 , teams_p [ 2 ] , WFT_Goal ] ;
33405: LD_ADDR_VAR 0 3
33409: PUSH
33410: LD_VAR 0 3
33414: PUSH
33415: LD_STRING #WarForTerritory-Flags-Public-blue
33417: PUSH
33418: LD_INT 1
33420: PUSH
33421: LD_LOC 31
33425: PUSH
33426: LD_INT 2
33428: ARRAY
33429: PUSH
33430: LD_LOC 32
33434: PUSH
33435: EMPTY
33436: LIST
33437: LIST
33438: LIST
33439: LIST
33440: ADD
33441: ST_TO_ADDR
// if Teams [ 3 ] then
33442: LD_EXP 73
33446: PUSH
33447: LD_INT 3
33449: ARRAY
33450: IFFALSE 33489
// vypis := vypis ^ [ #WarForTerritory-Flags-Public-yell , 2 , teams_p [ 3 ] , WFT_Goal ] ;
33452: LD_ADDR_VAR 0 3
33456: PUSH
33457: LD_VAR 0 3
33461: PUSH
33462: LD_STRING #WarForTerritory-Flags-Public-yell
33464: PUSH
33465: LD_INT 2
33467: PUSH
33468: LD_LOC 31
33472: PUSH
33473: LD_INT 3
33475: ARRAY
33476: PUSH
33477: LD_LOC 32
33481: PUSH
33482: EMPTY
33483: LIST
33484: LIST
33485: LIST
33486: LIST
33487: ADD
33488: ST_TO_ADDR
// if Teams [ 4 ] then
33489: LD_EXP 73
33493: PUSH
33494: LD_INT 4
33496: ARRAY
33497: IFFALSE 33536
// vypis := vypis ^ [ #WarForTerritory-Flags-Public-green , 7 , teams_p [ 4 ] , WFT_Goal ] ;
33499: LD_ADDR_VAR 0 3
33503: PUSH
33504: LD_VAR 0 3
33508: PUSH
33509: LD_STRING #WarForTerritory-Flags-Public-green
33511: PUSH
33512: LD_INT 7
33514: PUSH
33515: LD_LOC 31
33519: PUSH
33520: LD_INT 4
33522: ARRAY
33523: PUSH
33524: LD_LOC 32
33528: PUSH
33529: EMPTY
33530: LIST
33531: LIST
33532: LIST
33533: LIST
33534: ADD
33535: ST_TO_ADDR
// ToLua ( updateScorePieces(3,{ & teams_p [ 2 ] & , & teams_p [ 3 ] & , & teams_p [ 1 ] & ,0,0,0, & teams_p [ 4 ] & ,0}); ) ;
33536: LD_STRING updateScorePieces(3,{
33538: PUSH
33539: LD_LOC 31
33543: PUSH
33544: LD_INT 2
33546: ARRAY
33547: STR
33548: PUSH
33549: LD_STRING ,
33551: STR
33552: PUSH
33553: LD_LOC 31
33557: PUSH
33558: LD_INT 3
33560: ARRAY
33561: STR
33562: PUSH
33563: LD_STRING ,
33565: STR
33566: PUSH
33567: LD_LOC 31
33571: PUSH
33572: LD_INT 1
33574: ARRAY
33575: STR
33576: PUSH
33577: LD_STRING ,0,0,0,
33579: STR
33580: PUSH
33581: LD_LOC 31
33585: PUSH
33586: LD_INT 4
33588: ARRAY
33589: STR
33590: PUSH
33591: LD_STRING ,0});
33593: STR
33594: PPUSH
33595: CALL_OW 559
// end ; end else
33599: GO 33845
// begin if not Team_Game then
33601: LD_EXP 80
33605: NOT
33606: IFFALSE 33657
// begin vypis := vypis ^ [ #WarForTerritory-Flags-Private , your_side , your_side , teams_p [ side ] , WFT_Goal ] ;
33608: LD_ADDR_VAR 0 3
33612: PUSH
33613: LD_VAR 0 3
33617: PUSH
33618: LD_STRING #WarForTerritory-Flags-Private
33620: PUSH
33621: LD_OWVAR 2
33625: PUSH
33626: LD_OWVAR 2
33630: PUSH
33631: LD_LOC 31
33635: PUSH
33636: LD_VAR 0 2
33640: ARRAY
33641: PUSH
33642: LD_LOC 32
33646: PUSH
33647: EMPTY
33648: LIST
33649: LIST
33650: LIST
33651: LIST
33652: LIST
33653: ADD
33654: ST_TO_ADDR
// end else
33655: GO 33845
// begin if your_side in Teams [ 1 ] then
33657: LD_OWVAR 2
33661: PUSH
33662: LD_EXP 73
33666: PUSH
33667: LD_INT 1
33669: ARRAY
33670: IN
33671: IFFALSE 33704
// vypis := [ #WarForTerritory-points-Flags-red , 3 , teams_p [ 1 ] , WFT_Goal ] ;
33673: LD_ADDR_VAR 0 3
33677: PUSH
33678: LD_STRING #WarForTerritory-points-Flags-red
33680: PUSH
33681: LD_INT 3
33683: PUSH
33684: LD_LOC 31
33688: PUSH
33689: LD_INT 1
33691: ARRAY
33692: PUSH
33693: LD_LOC 32
33697: PUSH
33698: EMPTY
33699: LIST
33700: LIST
33701: LIST
33702: LIST
33703: ST_TO_ADDR
// if your_side in Teams [ 2 ] then
33704: LD_OWVAR 2
33708: PUSH
33709: LD_EXP 73
33713: PUSH
33714: LD_INT 2
33716: ARRAY
33717: IN
33718: IFFALSE 33751
// vypis := [ #WarForTerritory-points-Flags-blue , 1 , teams_p [ 2 ] , WFT_Goal ] ;
33720: LD_ADDR_VAR 0 3
33724: PUSH
33725: LD_STRING #WarForTerritory-points-Flags-blue
33727: PUSH
33728: LD_INT 1
33730: PUSH
33731: LD_LOC 31
33735: PUSH
33736: LD_INT 2
33738: ARRAY
33739: PUSH
33740: LD_LOC 32
33744: PUSH
33745: EMPTY
33746: LIST
33747: LIST
33748: LIST
33749: LIST
33750: ST_TO_ADDR
// if your_side in Teams [ 3 ] then
33751: LD_OWVAR 2
33755: PUSH
33756: LD_EXP 73
33760: PUSH
33761: LD_INT 3
33763: ARRAY
33764: IN
33765: IFFALSE 33798
// vypis := [ #WarForTerritory-points-Flags-yell , 2 , teams_p [ 3 ] , WFT_Goal ] ;
33767: LD_ADDR_VAR 0 3
33771: PUSH
33772: LD_STRING #WarForTerritory-points-Flags-yell
33774: PUSH
33775: LD_INT 2
33777: PUSH
33778: LD_LOC 31
33782: PUSH
33783: LD_INT 3
33785: ARRAY
33786: PUSH
33787: LD_LOC 32
33791: PUSH
33792: EMPTY
33793: LIST
33794: LIST
33795: LIST
33796: LIST
33797: ST_TO_ADDR
// if your_side in Teams [ 4 ] then
33798: LD_OWVAR 2
33802: PUSH
33803: LD_EXP 73
33807: PUSH
33808: LD_INT 4
33810: ARRAY
33811: IN
33812: IFFALSE 33845
// vypis := [ #WarForTerritory-points-Flags-green , 7 , teams_p [ 4 ] , WFT_Goal ] ;
33814: LD_ADDR_VAR 0 3
33818: PUSH
33819: LD_STRING #WarForTerritory-points-Flags-green
33821: PUSH
33822: LD_INT 7
33824: PUSH
33825: LD_LOC 31
33829: PUSH
33830: LD_INT 4
33832: ARRAY
33833: PUSH
33834: LD_LOC 32
33838: PUSH
33839: EMPTY
33840: LIST
33841: LIST
33842: LIST
33843: LIST
33844: ST_TO_ADDR
// end ; end ; end else
33845: GO 34650
// if def_public_score or isSGUI then
33847: LD_EXP 34
33851: PUSH
33852: LD_OWVAR 83
33856: OR
33857: IFFALSE 34356
// begin if not Team_Game then
33859: LD_EXP 80
33863: NOT
33864: IFFALSE 34002
// begin for side = 1 to Side_Positions do
33866: LD_ADDR_VAR 0 2
33870: PUSH
33871: DOUBLE
33872: LD_INT 1
33874: DEC
33875: ST_TO_ADDR
33876: LD_EXP 75
33880: PUSH
33881: FOR_TO
33882: IFFALSE 33998
// if Side_Positions [ side ] then
33884: LD_EXP 75
33888: PUSH
33889: LD_VAR 0 2
33893: ARRAY
33894: IFFALSE 33996
// begin vypis := vypis ^ [ #WarForTerritory-points-Public , side , side , teams_p [ side ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
33896: LD_ADDR_VAR 0 3
33900: PUSH
33901: LD_VAR 0 3
33905: PUSH
33906: LD_STRING #WarForTerritory-points-Public
33908: PUSH
33909: LD_VAR 0 2
33913: PUSH
33914: LD_VAR 0 2
33918: PUSH
33919: LD_LOC 31
33923: PUSH
33924: LD_VAR 0 2
33928: ARRAY
33929: PUSH
33930: LD_INT 3
33932: PUSH
33933: LD_EXP 121
33937: MUL
33938: DIV
33939: PUSH
33940: LD_LOC 32
33944: PUSH
33945: EMPTY
33946: LIST
33947: LIST
33948: LIST
33949: LIST
33950: LIST
33951: ADD
33952: ST_TO_ADDR
// ToLua ( updateScorePoints(3, & side & , & ( teams_p [ side ] div ( 3 * WFT_Points_MP ) ) & ); ) ;
33953: LD_STRING updateScorePoints(3,
33955: PUSH
33956: LD_VAR 0 2
33960: STR
33961: PUSH
33962: LD_STRING ,
33964: STR
33965: PUSH
33966: LD_LOC 31
33970: PUSH
33971: LD_VAR 0 2
33975: ARRAY
33976: PUSH
33977: LD_INT 3
33979: PUSH
33980: LD_EXP 121
33984: MUL
33985: DIV
33986: STR
33987: PUSH
33988: LD_STRING );
33990: STR
33991: PPUSH
33992: CALL_OW 559
// end ;
33996: GO 33881
33998: POP
33999: POP
// end else
34000: GO 34354
// begin if Teams [ 1 ] then
34002: LD_EXP 73
34006: PUSH
34007: LD_INT 1
34009: ARRAY
34010: IFFALSE 34059
// vypis := vypis ^ [ #WarForTerritory-points-Public-red , 3 , teams_p [ 1 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
34012: LD_ADDR_VAR 0 3
34016: PUSH
34017: LD_VAR 0 3
34021: PUSH
34022: LD_STRING #WarForTerritory-points-Public-red
34024: PUSH
34025: LD_INT 3
34027: PUSH
34028: LD_LOC 31
34032: PUSH
34033: LD_INT 1
34035: ARRAY
34036: PUSH
34037: LD_INT 3
34039: PUSH
34040: LD_EXP 121
34044: MUL
34045: DIV
34046: PUSH
34047: LD_LOC 32
34051: PUSH
34052: EMPTY
34053: LIST
34054: LIST
34055: LIST
34056: LIST
34057: ADD
34058: ST_TO_ADDR
// if Teams [ 2 ] then
34059: LD_EXP 73
34063: PUSH
34064: LD_INT 2
34066: ARRAY
34067: IFFALSE 34116
// vypis := vypis ^ [ #WarForTerritory-points-Public-blue , 1 , teams_p [ 2 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
34069: LD_ADDR_VAR 0 3
34073: PUSH
34074: LD_VAR 0 3
34078: PUSH
34079: LD_STRING #WarForTerritory-points-Public-blue
34081: PUSH
34082: LD_INT 1
34084: PUSH
34085: LD_LOC 31
34089: PUSH
34090: LD_INT 2
34092: ARRAY
34093: PUSH
34094: LD_INT 3
34096: PUSH
34097: LD_EXP 121
34101: MUL
34102: DIV
34103: PUSH
34104: LD_LOC 32
34108: PUSH
34109: EMPTY
34110: LIST
34111: LIST
34112: LIST
34113: LIST
34114: ADD
34115: ST_TO_ADDR
// if Teams [ 3 ] then
34116: LD_EXP 73
34120: PUSH
34121: LD_INT 3
34123: ARRAY
34124: IFFALSE 34173
// vypis := vypis ^ [ #WarForTerritory-points-Public-yell , 2 , teams_p [ 3 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
34126: LD_ADDR_VAR 0 3
34130: PUSH
34131: LD_VAR 0 3
34135: PUSH
34136: LD_STRING #WarForTerritory-points-Public-yell
34138: PUSH
34139: LD_INT 2
34141: PUSH
34142: LD_LOC 31
34146: PUSH
34147: LD_INT 3
34149: ARRAY
34150: PUSH
34151: LD_INT 3
34153: PUSH
34154: LD_EXP 121
34158: MUL
34159: DIV
34160: PUSH
34161: LD_LOC 32
34165: PUSH
34166: EMPTY
34167: LIST
34168: LIST
34169: LIST
34170: LIST
34171: ADD
34172: ST_TO_ADDR
// if Teams [ 4 ] then
34173: LD_EXP 73
34177: PUSH
34178: LD_INT 4
34180: ARRAY
34181: IFFALSE 34230
// vypis := vypis ^ [ #WarForTerritory-points-Public-green , 7 , teams_p [ 4 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
34183: LD_ADDR_VAR 0 3
34187: PUSH
34188: LD_VAR 0 3
34192: PUSH
34193: LD_STRING #WarForTerritory-points-Public-green
34195: PUSH
34196: LD_INT 7
34198: PUSH
34199: LD_LOC 31
34203: PUSH
34204: LD_INT 4
34206: ARRAY
34207: PUSH
34208: LD_INT 3
34210: PUSH
34211: LD_EXP 121
34215: MUL
34216: DIV
34217: PUSH
34218: LD_LOC 32
34222: PUSH
34223: EMPTY
34224: LIST
34225: LIST
34226: LIST
34227: LIST
34228: ADD
34229: ST_TO_ADDR
// ToLua ( updateScorePoints(3,3, & ( teams_p [ 1 ] div ( 3 * WFT_Points_MP ) ) & ); ) ;
34230: LD_STRING updateScorePoints(3,3,
34232: PUSH
34233: LD_LOC 31
34237: PUSH
34238: LD_INT 1
34240: ARRAY
34241: PUSH
34242: LD_INT 3
34244: PUSH
34245: LD_EXP 121
34249: MUL
34250: DIV
34251: STR
34252: PUSH
34253: LD_STRING );
34255: STR
34256: PPUSH
34257: CALL_OW 559
// ToLua ( updateScorePoints(3,1, & ( teams_p [ 2 ] div ( 3 * WFT_Points_MP ) ) & ); ) ;
34261: LD_STRING updateScorePoints(3,1,
34263: PUSH
34264: LD_LOC 31
34268: PUSH
34269: LD_INT 2
34271: ARRAY
34272: PUSH
34273: LD_INT 3
34275: PUSH
34276: LD_EXP 121
34280: MUL
34281: DIV
34282: STR
34283: PUSH
34284: LD_STRING );
34286: STR
34287: PPUSH
34288: CALL_OW 559
// ToLua ( updateScorePoints(3,2, & ( teams_p [ 3 ] div ( 3 * WFT_Points_MP ) ) & ); ) ;
34292: LD_STRING updateScorePoints(3,2,
34294: PUSH
34295: LD_LOC 31
34299: PUSH
34300: LD_INT 3
34302: ARRAY
34303: PUSH
34304: LD_INT 3
34306: PUSH
34307: LD_EXP 121
34311: MUL
34312: DIV
34313: STR
34314: PUSH
34315: LD_STRING );
34317: STR
34318: PPUSH
34319: CALL_OW 559
// ToLua ( updateScorePoints(3,7, & ( teams_p [ 4 ] div ( 3 * WFT_Points_MP ) ) & ); ) ;
34323: LD_STRING updateScorePoints(3,7,
34325: PUSH
34326: LD_LOC 31
34330: PUSH
34331: LD_INT 4
34333: ARRAY
34334: PUSH
34335: LD_INT 3
34337: PUSH
34338: LD_EXP 121
34342: MUL
34343: DIV
34344: STR
34345: PUSH
34346: LD_STRING );
34348: STR
34349: PPUSH
34350: CALL_OW 559
// end ; end else
34354: GO 34650
// if not Team_Game then
34356: LD_EXP 80
34360: NOT
34361: IFFALSE 34422
// begin vypis := vypis ^ [ #WarForTerritory-points-Private , your_side , your_side , teams_p [ side ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] end else
34363: LD_ADDR_VAR 0 3
34367: PUSH
34368: LD_VAR 0 3
34372: PUSH
34373: LD_STRING #WarForTerritory-points-Private
34375: PUSH
34376: LD_OWVAR 2
34380: PUSH
34381: LD_OWVAR 2
34385: PUSH
34386: LD_LOC 31
34390: PUSH
34391: LD_VAR 0 2
34395: ARRAY
34396: PUSH
34397: LD_INT 3
34399: PUSH
34400: LD_EXP 121
34404: MUL
34405: DIV
34406: PUSH
34407: LD_LOC 32
34411: PUSH
34412: EMPTY
34413: LIST
34414: LIST
34415: LIST
34416: LIST
34417: LIST
34418: ADD
34419: ST_TO_ADDR
34420: GO 34650
// begin if your_side in Teams [ 1 ] then
34422: LD_OWVAR 2
34426: PUSH
34427: LD_EXP 73
34431: PUSH
34432: LD_INT 1
34434: ARRAY
34435: IN
34436: IFFALSE 34479
// vypis := [ #WarForTerritory-points-Public-red , 3 , teams_p [ 1 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
34438: LD_ADDR_VAR 0 3
34442: PUSH
34443: LD_STRING #WarForTerritory-points-Public-red
34445: PUSH
34446: LD_INT 3
34448: PUSH
34449: LD_LOC 31
34453: PUSH
34454: LD_INT 1
34456: ARRAY
34457: PUSH
34458: LD_INT 3
34460: PUSH
34461: LD_EXP 121
34465: MUL
34466: DIV
34467: PUSH
34468: LD_LOC 32
34472: PUSH
34473: EMPTY
34474: LIST
34475: LIST
34476: LIST
34477: LIST
34478: ST_TO_ADDR
// if your_side in Teams [ 2 ] then
34479: LD_OWVAR 2
34483: PUSH
34484: LD_EXP 73
34488: PUSH
34489: LD_INT 2
34491: ARRAY
34492: IN
34493: IFFALSE 34536
// vypis := [ #WarForTerritory-points-Public-blue , 1 , teams_p [ 2 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
34495: LD_ADDR_VAR 0 3
34499: PUSH
34500: LD_STRING #WarForTerritory-points-Public-blue
34502: PUSH
34503: LD_INT 1
34505: PUSH
34506: LD_LOC 31
34510: PUSH
34511: LD_INT 2
34513: ARRAY
34514: PUSH
34515: LD_INT 3
34517: PUSH
34518: LD_EXP 121
34522: MUL
34523: DIV
34524: PUSH
34525: LD_LOC 32
34529: PUSH
34530: EMPTY
34531: LIST
34532: LIST
34533: LIST
34534: LIST
34535: ST_TO_ADDR
// if your_side in Teams [ 3 ] then
34536: LD_OWVAR 2
34540: PUSH
34541: LD_EXP 73
34545: PUSH
34546: LD_INT 3
34548: ARRAY
34549: IN
34550: IFFALSE 34593
// vypis := [ #WarForTerritory-points-Public-yell , 2 , teams_p [ 3 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
34552: LD_ADDR_VAR 0 3
34556: PUSH
34557: LD_STRING #WarForTerritory-points-Public-yell
34559: PUSH
34560: LD_INT 2
34562: PUSH
34563: LD_LOC 31
34567: PUSH
34568: LD_INT 3
34570: ARRAY
34571: PUSH
34572: LD_INT 3
34574: PUSH
34575: LD_EXP 121
34579: MUL
34580: DIV
34581: PUSH
34582: LD_LOC 32
34586: PUSH
34587: EMPTY
34588: LIST
34589: LIST
34590: LIST
34591: LIST
34592: ST_TO_ADDR
// if your_side in Teams [ 4 ] then
34593: LD_OWVAR 2
34597: PUSH
34598: LD_EXP 73
34602: PUSH
34603: LD_INT 4
34605: ARRAY
34606: IN
34607: IFFALSE 34650
// vypis := [ #WarForTerritory-points-Public-green , 7 , teams_p [ 4 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
34609: LD_ADDR_VAR 0 3
34613: PUSH
34614: LD_STRING #WarForTerritory-points-Public-green
34616: PUSH
34617: LD_INT 7
34619: PUSH
34620: LD_LOC 31
34624: PUSH
34625: LD_INT 4
34627: ARRAY
34628: PUSH
34629: LD_INT 3
34631: PUSH
34632: LD_EXP 121
34636: MUL
34637: DIV
34638: PUSH
34639: LD_LOC 32
34643: PUSH
34644: EMPTY
34645: LIST
34646: LIST
34647: LIST
34648: LIST
34649: ST_TO_ADDR
// end ; Display_WFG := vypis ;
34650: LD_ADDR_EXP 113
34654: PUSH
34655: LD_VAR 0 3
34659: ST_TO_ADDR
// end ; end_of_file
34660: LD_VAR 0 1
34664: RET
// export function SA_OnSiberiteRocketExploded ( siberite_rocket_vehicle , target_x , target_y , requestSide ) ; begin
34665: LD_INT 0
34667: PPUSH
// if GetSide ( siberite_rocket_vehicle ) = requestSide then
34668: LD_VAR 0 1
34672: PPUSH
34673: CALL_OW 255
34677: PUSH
34678: LD_VAR 0 4
34682: EQUAL
34683: IFFALSE 34702
// begin SetAchievement ( ACH_RAD ) ;
34685: LD_STRING ACH_RAD
34687: PPUSH
34688: CALL_OW 543
// SetAchievementEx ( ACH_NL , 1 ) ;
34692: LD_STRING ACH_NL
34694: PPUSH
34695: LD_INT 1
34697: PPUSH
34698: CALL_OW 564
// end end ;
34702: LD_VAR 0 5
34706: RET
// export function SA_Win ( side ) ; begin
34707: LD_INT 0
34709: PPUSH
// case side of 1 :
34710: LD_VAR 0 1
34714: PUSH
34715: LD_INT 1
34717: DOUBLE
34718: EQUAL
34719: IFTRUE 34723
34721: GO 34736
34723: POP
// SetAchievementEx ( ACH_AH , 1 ) ; 2 :
34724: LD_STRING ACH_AH
34726: PPUSH
34727: LD_INT 1
34729: PPUSH
34730: CALL_OW 564
34734: GO 34899
34736: LD_INT 2
34738: DOUBLE
34739: EQUAL
34740: IFTRUE 34744
34742: GO 34757
34744: POP
// SetAchievementEx ( ACH_E , 1 ) ; 3 :
34745: LD_STRING ACH_E
34747: PPUSH
34748: LD_INT 1
34750: PPUSH
34751: CALL_OW 564
34755: GO 34899
34757: LD_INT 3
34759: DOUBLE
34760: EQUAL
34761: IFTRUE 34765
34763: GO 34778
34765: POP
// SetAchievementEx ( ACH_OOL , 1 ) ; [ 1 , 2 ] :
34766: LD_STRING ACH_OOL
34768: PPUSH
34769: LD_INT 1
34771: PPUSH
34772: CALL_OW 564
34776: GO 34899
34778: LD_INT 1
34780: PUSH
34781: LD_INT 2
34783: PUSH
34784: EMPTY
34785: LIST
34786: LIST
34787: DOUBLE
34788: EQUAL
34789: IFTRUE 34793
34791: GO 34818
34793: POP
// begin SetAchievementEx ( ACH_AH , 0.5 ) ;
34794: LD_STRING ACH_AH
34796: PPUSH
34797: LD_REAL  5.00000000000000E-0001
34800: PPUSH
34801: CALL_OW 564
// SetAchievementEx ( ACH_E , 0.5 ) ;
34805: LD_STRING ACH_E
34807: PPUSH
34808: LD_REAL  5.00000000000000E-0001
34811: PPUSH
34812: CALL_OW 564
// end ; [ 2 , 3 ] :
34816: GO 34899
34818: LD_INT 2
34820: PUSH
34821: LD_INT 3
34823: PUSH
34824: EMPTY
34825: LIST
34826: LIST
34827: DOUBLE
34828: EQUAL
34829: IFTRUE 34833
34831: GO 34858
34833: POP
// begin SetAchievementEx ( ACH_OOL , 0.5 ) ;
34834: LD_STRING ACH_OOL
34836: PPUSH
34837: LD_REAL  5.00000000000000E-0001
34840: PPUSH
34841: CALL_OW 564
// SetAchievementEx ( ACH_E , 0.5 ) ;
34845: LD_STRING ACH_E
34847: PPUSH
34848: LD_REAL  5.00000000000000E-0001
34851: PPUSH
34852: CALL_OW 564
// end ; [ 3 , 1 ] :
34856: GO 34899
34858: LD_INT 3
34860: PUSH
34861: LD_INT 1
34863: PUSH
34864: EMPTY
34865: LIST
34866: LIST
34867: DOUBLE
34868: EQUAL
34869: IFTRUE 34873
34871: GO 34898
34873: POP
// begin SetAchievementEx ( ACH_AH , 0.5 ) ;
34874: LD_STRING ACH_AH
34876: PPUSH
34877: LD_REAL  5.00000000000000E-0001
34880: PPUSH
34881: CALL_OW 564
// SetAchievementEx ( ACH_OOL , 0.5 ) ;
34885: LD_STRING ACH_OOL
34887: PPUSH
34888: LD_REAL  5.00000000000000E-0001
34891: PPUSH
34892: CALL_OW 564
// end ; end ;
34896: GO 34899
34898: POP
// end ; end_of_file
34899: LD_VAR 0 2
34903: RET
// var sharedPoints1 , sharedPoints2 , sharedPoints3 ; var pointGame ; export function InitPoints ( ) ; var i , d ; begin
34904: LD_INT 0
34906: PPUSH
34907: PPUSH
34908: PPUSH
// sharedPoints1 = [ ] ;
34909: LD_ADDR_LOC 35
34913: PUSH
34914: EMPTY
34915: ST_TO_ADDR
// sharedPoints2 = [ ] ;
34916: LD_ADDR_LOC 36
34920: PUSH
34921: EMPTY
34922: ST_TO_ADDR
// sharedPoints3 = [ ] ;
34923: LD_ADDR_LOC 37
34927: PUSH
34928: EMPTY
34929: ST_TO_ADDR
// for i = 1 to Side_Positions + 0 do
34930: LD_ADDR_VAR 0 2
34934: PUSH
34935: DOUBLE
34936: LD_INT 1
34938: DEC
34939: ST_TO_ADDR
34940: LD_EXP 75
34944: PUSH
34945: LD_INT 0
34947: PLUS
34948: PUSH
34949: FOR_TO
34950: IFFALSE 35052
// begin if not Side_Positions [ i ] = 0 then
34952: LD_EXP 75
34956: PUSH
34957: LD_VAR 0 2
34961: ARRAY
34962: PUSH
34963: LD_INT 0
34965: EQUAL
34966: NOT
34967: IFFALSE 34981
// SetMultiScore ( i , 0 ) ;
34969: LD_VAR 0 2
34973: PPUSH
34974: LD_INT 0
34976: PPUSH
34977: CALL_OW 506
// sharedPoints1 = Replace ( sharedPoints1 , i , 0 ) ;
34981: LD_ADDR_LOC 35
34985: PUSH
34986: LD_LOC 35
34990: PPUSH
34991: LD_VAR 0 2
34995: PPUSH
34996: LD_INT 0
34998: PPUSH
34999: CALL_OW 1
35003: ST_TO_ADDR
// sharedPoints2 = Replace ( sharedPoints2 , i , 0 ) ;
35004: LD_ADDR_LOC 36
35008: PUSH
35009: LD_LOC 36
35013: PPUSH
35014: LD_VAR 0 2
35018: PPUSH
35019: LD_INT 0
35021: PPUSH
35022: CALL_OW 1
35026: ST_TO_ADDR
// sharedPoints3 = Replace ( sharedPoints3 , i , 0 ) ;
35027: LD_ADDR_LOC 37
35031: PUSH
35032: LD_LOC 37
35036: PPUSH
35037: LD_VAR 0 2
35041: PPUSH
35042: LD_INT 0
35044: PPUSH
35045: CALL_OW 1
35049: ST_TO_ADDR
// end ;
35050: GO 34949
35052: POP
35053: POP
// pointGame = true ;
35054: LD_ADDR_LOC 38
35058: PUSH
35059: LD_INT 1
35061: ST_TO_ADDR
// end ;
35062: LD_VAR 0 1
35066: RET
// every 0 0$1 trigger pointGame do var i , red , blue , yel , green , redN , blueN , yelN , greenN , s , n , p , you ;
35067: LD_LOC 38
35071: IFFALSE 35546
35073: GO 35075
35075: DISABLE
35076: LD_INT 0
35078: PPUSH
35079: PPUSH
35080: PPUSH
35081: PPUSH
35082: PPUSH
35083: PPUSH
35084: PPUSH
35085: PPUSH
35086: PPUSH
35087: PPUSH
35088: PPUSH
35089: PPUSH
35090: PPUSH
// begin if isSGUI then
35091: LD_OWVAR 83
35095: IFFALSE 35546
// begin if Teams [ 1 ] then
35097: LD_EXP 73
35101: PUSH
35102: LD_INT 1
35104: ARRAY
35105: IFFALSE 35117
// red = true else
35107: LD_ADDR_VAR 0 2
35111: PUSH
35112: LD_INT 1
35114: ST_TO_ADDR
35115: GO 35125
// red = false ;
35117: LD_ADDR_VAR 0 2
35121: PUSH
35122: LD_INT 0
35124: ST_TO_ADDR
// if Teams [ 2 ] then
35125: LD_EXP 73
35129: PUSH
35130: LD_INT 2
35132: ARRAY
35133: IFFALSE 35145
// blue = true else
35135: LD_ADDR_VAR 0 3
35139: PUSH
35140: LD_INT 1
35142: ST_TO_ADDR
35143: GO 35153
// blue = false ;
35145: LD_ADDR_VAR 0 3
35149: PUSH
35150: LD_INT 0
35152: ST_TO_ADDR
// if Teams [ 3 ] then
35153: LD_EXP 73
35157: PUSH
35158: LD_INT 3
35160: ARRAY
35161: IFFALSE 35173
// yel = true else
35163: LD_ADDR_VAR 0 4
35167: PUSH
35168: LD_INT 1
35170: ST_TO_ADDR
35171: GO 35181
// yel = false ;
35173: LD_ADDR_VAR 0 4
35177: PUSH
35178: LD_INT 0
35180: ST_TO_ADDR
// if Teams [ 4 ] then
35181: LD_EXP 73
35185: PUSH
35186: LD_INT 4
35188: ARRAY
35189: IFFALSE 35201
// green = true else
35191: LD_ADDR_VAR 0 5
35195: PUSH
35196: LD_INT 1
35198: ST_TO_ADDR
35199: GO 35209
// green = false ;
35201: LD_ADDR_VAR 0 5
35205: PUSH
35206: LD_INT 0
35208: ST_TO_ADDR
// if def_public_score then
35209: LD_EXP 34
35213: IFFALSE 35225
// p = true else
35215: LD_ADDR_VAR 0 12
35219: PUSH
35220: LD_INT 1
35222: ST_TO_ADDR
35223: GO 35233
// p = false ;
35225: LD_ADDR_VAR 0 12
35229: PUSH
35230: LD_INT 0
35232: ST_TO_ADDR
// if team_game then
35233: LD_EXP 80
35237: IFFALSE 35318
// begin you = [ 3 , 1 , 2 , 7 ] [ player_team ] ;
35239: LD_ADDR_VAR 0 13
35243: PUSH
35244: LD_INT 3
35246: PUSH
35247: LD_INT 1
35249: PUSH
35250: LD_INT 2
35252: PUSH
35253: LD_INT 7
35255: PUSH
35256: EMPTY
35257: LIST
35258: LIST
35259: LIST
35260: LIST
35261: PUSH
35262: LD_EXP 71
35266: ARRAY
35267: ST_TO_ADDR
// s = { & blue & , & yel & , & red & ,0,0,0, & green & ,0} ;
35268: LD_ADDR_VAR 0 10
35272: PUSH
35273: LD_STRING {
35275: PUSH
35276: LD_VAR 0 3
35280: STR
35281: PUSH
35282: LD_STRING ,
35284: STR
35285: PUSH
35286: LD_VAR 0 4
35290: STR
35291: PUSH
35292: LD_STRING ,
35294: STR
35295: PUSH
35296: LD_VAR 0 2
35300: STR
35301: PUSH
35302: LD_STRING ,0,0,0,
35304: STR
35305: PUSH
35306: LD_VAR 0 5
35310: STR
35311: PUSH
35312: LD_STRING ,0}
35314: STR
35315: ST_TO_ADDR
// end else
35316: GO 35418
// begin you = your_side ;
35318: LD_ADDR_VAR 0 13
35322: PUSH
35323: LD_OWVAR 2
35327: ST_TO_ADDR
// s = { ;
35328: LD_ADDR_VAR 0 10
35332: PUSH
35333: LD_STRING {
35335: ST_TO_ADDR
// for i = 1 to side_positions + 0 do
35336: LD_ADDR_VAR 0 1
35340: PUSH
35341: DOUBLE
35342: LD_INT 1
35344: DEC
35345: ST_TO_ADDR
35346: LD_EXP 75
35350: PUSH
35351: LD_INT 0
35353: PLUS
35354: PUSH
35355: FOR_TO
35356: IFFALSE 35402
// if side_positions [ i ] then
35358: LD_EXP 75
35362: PUSH
35363: LD_VAR 0 1
35367: ARRAY
35368: IFFALSE 35386
// s = s & 1, else
35370: LD_ADDR_VAR 0 10
35374: PUSH
35375: LD_VAR 0 10
35379: PUSH
35380: LD_STRING 1,
35382: STR
35383: ST_TO_ADDR
35384: GO 35400
// s = s & 0, ;
35386: LD_ADDR_VAR 0 10
35390: PUSH
35391: LD_VAR 0 10
35395: PUSH
35396: LD_STRING 0,
35398: STR
35399: ST_TO_ADDR
35400: GO 35355
35402: POP
35403: POP
// s = s & } ;
35404: LD_ADDR_VAR 0 10
35408: PUSH
35409: LD_VAR 0 10
35413: PUSH
35414: LD_STRING }
35416: STR
35417: ST_TO_ADDR
// end ; ToLua ( initScore( & s & , & p & , & you &  ); ) ;
35418: LD_STRING initScore(
35420: PUSH
35421: LD_VAR 0 10
35425: STR
35426: PUSH
35427: LD_STRING ,
35429: STR
35430: PUSH
35431: LD_VAR 0 12
35435: STR
35436: PUSH
35437: LD_STRING ,
35439: STR
35440: PUSH
35441: LD_VAR 0 13
35445: STR
35446: PUSH
35447: LD_STRING  );
35449: STR
35450: PPUSH
35451: CALL_OW 559
// if def_warForTerritory and WarForTerritory_flags then
35455: LD_EXP 36
35459: PUSH
35460: LD_EXP 65
35464: AND
35465: IFFALSE 35494
// ToLua ( AddScorePieces(3,3, & WarForTerritory_flags & , & MaxFlags &  ); ) ;
35467: LD_STRING AddScorePieces(3,3,
35469: PUSH
35470: LD_EXP 65
35474: STR
35475: PUSH
35476: LD_STRING ,
35478: STR
35479: PUSH
35480: LD_EXP 114
35484: STR
35485: PUSH
35486: LD_STRING  );
35488: STR
35489: PPUSH
35490: CALL_OW 559
// if def_warForTerritory and WarForTerritory_Points then
35494: LD_EXP 36
35498: PUSH
35499: LD_EXP 64
35503: AND
35504: IFFALSE 35523
// ToLua ( AddScorePoints(3,3, & WarForTerritory_Points &  ); ) ;
35506: LD_STRING AddScorePoints(3,3,
35508: PUSH
35509: LD_EXP 64
35513: STR
35514: PUSH
35515: LD_STRING  );
35517: STR
35518: PPUSH
35519: CALL_OW 559
// if def_kings_age then
35523: LD_EXP 35
35527: IFFALSE 35546
// ToLua ( AddScorePoints(2,2, & final_count &  ); ) ;
35529: LD_STRING AddScorePoints(2,2,
35531: PUSH
35532: LD_EXP 57
35536: STR
35537: PUSH
35538: LD_STRING  );
35540: STR
35541: PPUSH
35542: CALL_OW 559
// end ; end ;
35546: PPOPN 13
35548: END
// export function SetSharedMultiScore ( side , points , typ ) ; var p ; begin
35549: LD_INT 0
35551: PPUSH
35552: PPUSH
// case typ of 1 :
35553: LD_VAR 0 3
35557: PUSH
35558: LD_INT 1
35560: DOUBLE
35561: EQUAL
35562: IFTRUE 35566
35564: GO 35594
35566: POP
// sharedPoints1 = Replace ( sharedPoints1 , side , points ) ; 2 :
35567: LD_ADDR_LOC 35
35571: PUSH
35572: LD_LOC 35
35576: PPUSH
35577: LD_VAR 0 1
35581: PPUSH
35582: LD_VAR 0 2
35586: PPUSH
35587: CALL_OW 1
35591: ST_TO_ADDR
35592: GO 35667
35594: LD_INT 2
35596: DOUBLE
35597: EQUAL
35598: IFTRUE 35602
35600: GO 35630
35602: POP
// sharedPoints2 = Replace ( sharedPoints2 , side , points ) ; 3 :
35603: LD_ADDR_LOC 36
35607: PUSH
35608: LD_LOC 36
35612: PPUSH
35613: LD_VAR 0 1
35617: PPUSH
35618: LD_VAR 0 2
35622: PPUSH
35623: CALL_OW 1
35627: ST_TO_ADDR
35628: GO 35667
35630: LD_INT 3
35632: DOUBLE
35633: EQUAL
35634: IFTRUE 35638
35636: GO 35666
35638: POP
// sharedPoints3 = Replace ( sharedPoints3 , side , points ) ; end ;
35639: LD_ADDR_LOC 37
35643: PUSH
35644: LD_LOC 37
35648: PPUSH
35649: LD_VAR 0 1
35653: PPUSH
35654: LD_VAR 0 2
35658: PPUSH
35659: CALL_OW 1
35663: ST_TO_ADDR
35664: GO 35667
35666: POP
// p = sharedPoints1 [ side ] + sharedPoints2 [ side ] + sharedPoints3 [ side ] ;
35667: LD_ADDR_VAR 0 5
35671: PUSH
35672: LD_LOC 35
35676: PUSH
35677: LD_VAR 0 1
35681: ARRAY
35682: PUSH
35683: LD_LOC 36
35687: PUSH
35688: LD_VAR 0 1
35692: ARRAY
35693: PLUS
35694: PUSH
35695: LD_LOC 37
35699: PUSH
35700: LD_VAR 0 1
35704: ARRAY
35705: PLUS
35706: ST_TO_ADDR
// SetMultiScore ( side , p ) ;
35707: LD_VAR 0 1
35711: PPUSH
35712: LD_VAR 0 5
35716: PPUSH
35717: CALL_OW 506
// end ;
35721: LD_VAR 0 4
35725: RET
