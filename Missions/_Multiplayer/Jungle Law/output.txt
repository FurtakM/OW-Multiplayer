// starting begin GT_DoubleNat = [ ] ;
   0: LD_ADDR_EXP 3
   4: PUSH
   5: EMPTY
   6: ST_TO_ADDR
// GT_DoublePeople = [ ] ;
   7: LD_ADDR_EXP 4
  11: PUSH
  12: EMPTY
  13: ST_TO_ADDR
// GT_TripleNat = [ ] ;
  14: LD_ADDR_EXP 5
  18: PUSH
  19: EMPTY
  20: ST_TO_ADDR
// GT_Survival = [ 24 , 23 , 22 , 21 ] ;
  21: LD_ADDR_EXP 6
  25: PUSH
  26: LD_INT 24
  28: PUSH
  29: LD_INT 23
  31: PUSH
  32: LD_INT 22
  34: PUSH
  35: LD_INT 21
  37: PUSH
  38: EMPTY
  39: LIST
  40: LIST
  41: LIST
  42: LIST
  43: ST_TO_ADDR
// GT_Mine = [ ] ;
  44: LD_ADDR_EXP 2
  48: PUSH
  49: EMPTY
  50: ST_TO_ADDR
// GT_RankedGames = [ 10 , 11 ] ;
  51: LD_ADDR_EXP 7
  55: PUSH
  56: LD_INT 10
  58: PUSH
  59: LD_INT 11
  61: PUSH
  62: EMPTY
  63: LIST
  64: LIST
  65: ST_TO_ADDR
// enable_human_prediction := true ;
  66: LD_ADDR_OWVAR 51
  70: PUSH
  71: LD_INT 1
  73: ST_TO_ADDR
// Disable_All_Games ;
  74: CALL 350 0 0
// mp_selectmsg = true ;
  78: LD_ADDR_OWVAR 13
  82: PUSH
  83: LD_INT 1
  85: ST_TO_ADDR
// read_multiplayer_and_game_parameters ;
  86: CALL 2753 0 0
// specialParameters ;
  90: CALL 362 0 0
// standartSets ;
  94: CALL 3371 0 0
// prepare_map_coordinates ;
  98: CALL 393 0 0
// InitGameRules ;
 102: CALL 26224 0 0
// set_shared_visions_and_alliances ;
 106: CALL 5312 0 0
// ResetFog ;
 110: CALL_OW 335
// ClearAllFogForSide ( Player_Side ) ;
 114: LD_EXP 70
 118: PPUSH
 119: CALL_OW 520
// init_map ;
 123: CALL 4467 0 0
// if Game_Type in GT_DoubleNat ^ GT_TripleNat then
 127: LD_EXP 1
 131: PUSH
 132: LD_EXP 3
 136: PUSH
 137: LD_EXP 5
 141: ADD
 142: IN
 143: IFFALSE 149
// modify_nations ;
 145: CALL 6165 0 0
// if not def_game_rules then
 149: LD_EXP 9
 153: NOT
 154: IFFALSE 163
// begin Start_tech_ur ;
 156: CALL 18499 0 0
// enable ( 30 ) ;
 160: LD_INT 30
 162: ENABLE_MARKED
// end ; prepare_sides ;
 163: CALL 5621 0 0
// InitLimits ;
 167: CALL 28929 0 0
// if def_kings_age or def_warForTerritory then
 171: LD_EXP 35
 175: PUSH
 176: LD_EXP 36
 180: OR
 181: IFFALSE 187
// InitPoints ;
 183: CALL 34668 0 0
// if def_kings_age then
 187: LD_EXP 35
 191: IFFALSE 197
// init_kings_counting ;
 193: CALL 22532 0 0
// init_respawn ;
 197: CALL 10517 0 0
// Init_Win_Condition ;
 201: CALL 13014 0 0
// mastodonti ;
 205: CALL 9145 0 0
// Start_Zvirata ;
 209: CALL 9464 0 0
// init_Daily ;
 213: CALL 24688 0 0
// your_side := Player_Side ;
 217: LD_ADDR_OWVAR 2
 221: PUSH
 222: LD_EXP 70
 226: ST_TO_ADDR
// music_nat := Side_Nations [ your_side ] ;
 227: LD_ADDR_OWVAR 71
 231: PUSH
 232: LD_EXP 76
 236: PUSH
 237: LD_OWVAR 2
 241: ARRAY
 242: ST_TO_ADDR
// if IAmSpec then
 243: CALL_OW 531
 247: IFFALSE 271
// begin FogOff ( true ) ;
 249: LD_INT 1
 251: PPUSH
 252: CALL_OW 344
// CenterNowOnXY ( 120 , 80 ) ;
 256: LD_INT 120
 258: PPUSH
 259: LD_INT 80
 261: PPUSH
 262: CALL_OW 86
// enable ( 400 ) ;
 266: LD_INT 400
 268: ENABLE_MARKED
// end else
 269: GO 321
// begin CenterNowOnXY ( start_def [ Side_Positions [ your_side ] ] [ 1 ] , start_def [ Side_Positions [ your_side ] ] [ 2 ] ) ;
 271: LD_EXP 83
 275: PUSH
 276: LD_EXP 75
 280: PUSH
 281: LD_OWVAR 2
 285: ARRAY
 286: ARRAY
 287: PUSH
 288: LD_INT 1
 290: ARRAY
 291: PPUSH
 292: LD_EXP 83
 296: PUSH
 297: LD_EXP 75
 301: PUSH
 302: LD_OWVAR 2
 306: ARRAY
 307: ARRAY
 308: PUSH
 309: LD_INT 2
 311: ARRAY
 312: PPUSH
 313: CALL_OW 86
// Init_Win_Condition ;
 317: CALL 13014 0 0
// end ; if def_builduptime then
 321: LD_EXP 30
 325: IFFALSE 331
// BeginBuildUp ;
 327: CALL 25498 0 0
// if def_warForTerritory then
 331: LD_EXP 36
 335: IFFALSE 341
// Init_WarForTerritory ;
 337: CALL 30194 0 0
// InitDisplayNames ;
 341: CALL 15857 0 0
// InitMultiplayerTime ;
 345: CALL 16527 0 0
// end ;
 349: END
// function Disable_All_Games ; begin
 350: LD_INT 0
 352: PPUSH
// Disable_Standard_Games ;
 353: CALL 9506 0 0
// end ;
 357: LD_VAR 0 1
 361: RET
// function specialParameters ; var d ; begin
 362: LD_INT 0
 364: PPUSH
 365: PPUSH
// if not isSGUI then
 366: LD_OWVAR 83
 370: NOT
 371: IFFALSE 388
// begin if not game_type in GT_Survival then
 373: LD_EXP 1
 377: PUSH
 378: LD_EXP 6
 382: IN
 383: NOT
 384: IFFALSE 386
// begin end ; end else
 386: GO 388
// begin end ; end ;
 388: LD_VAR 0 1
 392: RET
// function prepare_map_coordinates ; begin
 393: LD_INT 0
 395: PPUSH
// depot_def := [ [ 12 , 8 , 2 ] , [ 156 , 9 , 3 ] , [ 83 , 146 , 0 ] , [ 225 , 149 , 5 ] ] ;
 396: LD_ADDR_EXP 81
 400: PUSH
 401: LD_INT 12
 403: PUSH
 404: LD_INT 8
 406: PUSH
 407: LD_INT 2
 409: PUSH
 410: EMPTY
 411: LIST
 412: LIST
 413: LIST
 414: PUSH
 415: LD_INT 156
 417: PUSH
 418: LD_INT 9
 420: PUSH
 421: LD_INT 3
 423: PUSH
 424: EMPTY
 425: LIST
 426: LIST
 427: LIST
 428: PUSH
 429: LD_INT 83
 431: PUSH
 432: LD_INT 146
 434: PUSH
 435: LD_INT 0
 437: PUSH
 438: EMPTY
 439: LIST
 440: LIST
 441: LIST
 442: PUSH
 443: LD_INT 225
 445: PUSH
 446: LD_INT 149
 448: PUSH
 449: LD_INT 5
 451: PUSH
 452: EMPTY
 453: LIST
 454: LIST
 455: LIST
 456: PUSH
 457: EMPTY
 458: LIST
 459: LIST
 460: LIST
 461: LIST
 462: ST_TO_ADDR
// oil_deposits_locations := [ [ 20 , 4 ] , [ 141 , 4 ] , [ 93 , 153 ] , [ 220 , 155 ] , ] ;
 463: LD_ADDR_EXP 86
 467: PUSH
 468: LD_INT 20
 470: PUSH
 471: LD_INT 4
 473: PUSH
 474: EMPTY
 475: LIST
 476: LIST
 477: PUSH
 478: LD_INT 141
 480: PUSH
 481: LD_INT 4
 483: PUSH
 484: EMPTY
 485: LIST
 486: LIST
 487: PUSH
 488: LD_INT 93
 490: PUSH
 491: LD_INT 153
 493: PUSH
 494: EMPTY
 495: LIST
 496: LIST
 497: PUSH
 498: LD_INT 220
 500: PUSH
 501: LD_INT 155
 503: PUSH
 504: EMPTY
 505: LIST
 506: LIST
 507: PUSH
 508: EMPTY
 509: LIST
 510: LIST
 511: LIST
 512: LIST
 513: ST_TO_ADDR
// siberite_deposits_locations := [ [ 18 , 27 ] , [ 169 , 29 ] , [ 70 , 133 ] , [ 221 , 130 ] , ] ;
 514: LD_ADDR_EXP 88
 518: PUSH
 519: LD_INT 18
 521: PUSH
 522: LD_INT 27
 524: PUSH
 525: EMPTY
 526: LIST
 527: LIST
 528: PUSH
 529: LD_INT 169
 531: PUSH
 532: LD_INT 29
 534: PUSH
 535: EMPTY
 536: LIST
 537: LIST
 538: PUSH
 539: LD_INT 70
 541: PUSH
 542: LD_INT 133
 544: PUSH
 545: EMPTY
 546: LIST
 547: LIST
 548: PUSH
 549: LD_INT 221
 551: PUSH
 552: LD_INT 130
 554: PUSH
 555: EMPTY
 556: LIST
 557: LIST
 558: PUSH
 559: EMPTY
 560: LIST
 561: LIST
 562: LIST
 563: LIST
 564: ST_TO_ADDR
// extra_oil_deposits_locations := [ [ 53 , 26 ] , [ 129 , 20 ] , [ 187 , 139 ] , [ 106 , 135 ] ] ;
 565: LD_ADDR_EXP 85
 569: PUSH
 570: LD_INT 53
 572: PUSH
 573: LD_INT 26
 575: PUSH
 576: EMPTY
 577: LIST
 578: LIST
 579: PUSH
 580: LD_INT 129
 582: PUSH
 583: LD_INT 20
 585: PUSH
 586: EMPTY
 587: LIST
 588: LIST
 589: PUSH
 590: LD_INT 187
 592: PUSH
 593: LD_INT 139
 595: PUSH
 596: EMPTY
 597: LIST
 598: LIST
 599: PUSH
 600: LD_INT 106
 602: PUSH
 603: LD_INT 135
 605: PUSH
 606: EMPTY
 607: LIST
 608: LIST
 609: PUSH
 610: EMPTY
 611: LIST
 612: LIST
 613: LIST
 614: LIST
 615: ST_TO_ADDR
// extra_sib_deposits_locations := [ [ 51 , 53 ] , [ 155 , 53 ] , [ 183 , 107 ] , [ 80 , 106 ] ] ;
 616: LD_ADDR_EXP 87
 620: PUSH
 621: LD_INT 51
 623: PUSH
 624: LD_INT 53
 626: PUSH
 627: EMPTY
 628: LIST
 629: LIST
 630: PUSH
 631: LD_INT 155
 633: PUSH
 634: LD_INT 53
 636: PUSH
 637: EMPTY
 638: LIST
 639: LIST
 640: PUSH
 641: LD_INT 183
 643: PUSH
 644: LD_INT 107
 646: PUSH
 647: EMPTY
 648: LIST
 649: LIST
 650: PUSH
 651: LD_INT 80
 653: PUSH
 654: LD_INT 106
 656: PUSH
 657: EMPTY
 658: LIST
 659: LIST
 660: PUSH
 661: EMPTY
 662: LIST
 663: LIST
 664: LIST
 665: LIST
 666: ST_TO_ADDR
// for_show_near_resources = [ [ [ oil_deposits_locations [ 1 ] ] , [ siberite_deposits_locations [ 1 ] ] ] , [ [ oil_deposits_locations [ 2 ] ] , [ siberite_deposits_locations [ 2 ] ] ] , [ [ oil_deposits_locations [ 3 ] ] , [ siberite_deposits_locations [ 3 ] ] ] , [ [ oil_deposits_locations [ 4 ] ] , [ siberite_deposits_locations [ 4 ] ] ] , ] ;
 667: LD_ADDR_EXP 63
 671: PUSH
 672: LD_EXP 86
 676: PUSH
 677: LD_INT 1
 679: ARRAY
 680: PUSH
 681: EMPTY
 682: LIST
 683: PUSH
 684: LD_EXP 88
 688: PUSH
 689: LD_INT 1
 691: ARRAY
 692: PUSH
 693: EMPTY
 694: LIST
 695: PUSH
 696: EMPTY
 697: LIST
 698: LIST
 699: PUSH
 700: LD_EXP 86
 704: PUSH
 705: LD_INT 2
 707: ARRAY
 708: PUSH
 709: EMPTY
 710: LIST
 711: PUSH
 712: LD_EXP 88
 716: PUSH
 717: LD_INT 2
 719: ARRAY
 720: PUSH
 721: EMPTY
 722: LIST
 723: PUSH
 724: EMPTY
 725: LIST
 726: LIST
 727: PUSH
 728: LD_EXP 86
 732: PUSH
 733: LD_INT 3
 735: ARRAY
 736: PUSH
 737: EMPTY
 738: LIST
 739: PUSH
 740: LD_EXP 88
 744: PUSH
 745: LD_INT 3
 747: ARRAY
 748: PUSH
 749: EMPTY
 750: LIST
 751: PUSH
 752: EMPTY
 753: LIST
 754: LIST
 755: PUSH
 756: LD_EXP 86
 760: PUSH
 761: LD_INT 4
 763: ARRAY
 764: PUSH
 765: EMPTY
 766: LIST
 767: PUSH
 768: LD_EXP 88
 772: PUSH
 773: LD_INT 4
 775: ARRAY
 776: PUSH
 777: EMPTY
 778: LIST
 779: PUSH
 780: EMPTY
 781: LIST
 782: LIST
 783: PUSH
 784: EMPTY
 785: LIST
 786: LIST
 787: LIST
 788: LIST
 789: ST_TO_ADDR
// case def_base_level of 0 :
 790: LD_EXP 10
 794: PUSH
 795: LD_INT 0
 797: DOUBLE
 798: EQUAL
 799: IFTRUE 803
 801: GO 837
 803: POP
// begin buildings_def = [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
 804: LD_ADDR_EXP 39
 808: PUSH
 809: EMPTY
 810: PUSH
 811: EMPTY
 812: PUSH
 813: EMPTY
 814: PUSH
 815: EMPTY
 816: PUSH
 817: EMPTY
 818: PUSH
 819: EMPTY
 820: PUSH
 821: EMPTY
 822: PUSH
 823: EMPTY
 824: PUSH
 825: EMPTY
 826: LIST
 827: LIST
 828: LIST
 829: LIST
 830: LIST
 831: LIST
 832: LIST
 833: LIST
 834: ST_TO_ADDR
// end ; 1 :
 835: GO 1218
 837: LD_INT 1
 839: DOUBLE
 840: EQUAL
 841: IFTRUE 845
 843: GO 879
 845: POP
// begin buildings_def = [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
 846: LD_ADDR_EXP 39
 850: PUSH
 851: EMPTY
 852: PUSH
 853: EMPTY
 854: PUSH
 855: EMPTY
 856: PUSH
 857: EMPTY
 858: PUSH
 859: EMPTY
 860: PUSH
 861: EMPTY
 862: PUSH
 863: EMPTY
 864: PUSH
 865: EMPTY
 866: PUSH
 867: EMPTY
 868: LIST
 869: LIST
 870: LIST
 871: LIST
 872: LIST
 873: LIST
 874: LIST
 875: LIST
 876: ST_TO_ADDR
// end ; 2 :
 877: GO 1218
 879: LD_INT 2
 881: DOUBLE
 882: EQUAL
 883: IFTRUE 887
 885: GO 1217
 887: POP
// begin buildings_def = [ [ [ b_oil_mine , oil_deposits_locations [ 1 ] [ 1 ] , oil_deposits_locations [ 1 ] [ 2 ] , 4 ] , [ b_breastwork , 31 , 34 , 5 ] , [ b_breastwork , 40 , 16 , 4 ] ] , [ [ b_oil_mine , oil_deposits_locations [ 2 ] [ 1 ] , oil_deposits_locations [ 2 ] [ 2 ] , 0 ] , [ b_breastwork , 133 , 16 , 1 ] , [ b_breastwork , 161 , 34 , 0 ] ] , [ [ b_oil_mine , oil_deposits_locations [ 3 ] [ 1 ] , oil_deposits_locations [ 3 ] [ 2 ] , 4 ] , [ b_breastwork , 77 , 125 , 3 ] , [ b_breastwork , 77 , 126 , 4 ] ] , [ [ b_oil_mine , oil_deposits_locations [ 4 ] [ 1 ] , oil_deposits_locations [ 4 ] [ 2 ] , 0 ] , [ b_breastwork , 200 , 144 , 2 ] , [ b_breastwork , 210 , 126 , 2 ] ] ] ;
 888: LD_ADDR_EXP 39
 892: PUSH
 893: LD_INT 29
 895: PUSH
 896: LD_EXP 86
 900: PUSH
 901: LD_INT 1
 903: ARRAY
 904: PUSH
 905: LD_INT 1
 907: ARRAY
 908: PUSH
 909: LD_EXP 86
 913: PUSH
 914: LD_INT 1
 916: ARRAY
 917: PUSH
 918: LD_INT 2
 920: ARRAY
 921: PUSH
 922: LD_INT 4
 924: PUSH
 925: EMPTY
 926: LIST
 927: LIST
 928: LIST
 929: LIST
 930: PUSH
 931: LD_INT 31
 933: PUSH
 934: LD_INT 31
 936: PUSH
 937: LD_INT 34
 939: PUSH
 940: LD_INT 5
 942: PUSH
 943: EMPTY
 944: LIST
 945: LIST
 946: LIST
 947: LIST
 948: PUSH
 949: LD_INT 31
 951: PUSH
 952: LD_INT 40
 954: PUSH
 955: LD_INT 16
 957: PUSH
 958: LD_INT 4
 960: PUSH
 961: EMPTY
 962: LIST
 963: LIST
 964: LIST
 965: LIST
 966: PUSH
 967: EMPTY
 968: LIST
 969: LIST
 970: LIST
 971: PUSH
 972: LD_INT 29
 974: PUSH
 975: LD_EXP 86
 979: PUSH
 980: LD_INT 2
 982: ARRAY
 983: PUSH
 984: LD_INT 1
 986: ARRAY
 987: PUSH
 988: LD_EXP 86
 992: PUSH
 993: LD_INT 2
 995: ARRAY
 996: PUSH
 997: LD_INT 2
 999: ARRAY
1000: PUSH
1001: LD_INT 0
1003: PUSH
1004: EMPTY
1005: LIST
1006: LIST
1007: LIST
1008: LIST
1009: PUSH
1010: LD_INT 31
1012: PUSH
1013: LD_INT 133
1015: PUSH
1016: LD_INT 16
1018: PUSH
1019: LD_INT 1
1021: PUSH
1022: EMPTY
1023: LIST
1024: LIST
1025: LIST
1026: LIST
1027: PUSH
1028: LD_INT 31
1030: PUSH
1031: LD_INT 161
1033: PUSH
1034: LD_INT 34
1036: PUSH
1037: LD_INT 0
1039: PUSH
1040: EMPTY
1041: LIST
1042: LIST
1043: LIST
1044: LIST
1045: PUSH
1046: EMPTY
1047: LIST
1048: LIST
1049: LIST
1050: PUSH
1051: LD_INT 29
1053: PUSH
1054: LD_EXP 86
1058: PUSH
1059: LD_INT 3
1061: ARRAY
1062: PUSH
1063: LD_INT 1
1065: ARRAY
1066: PUSH
1067: LD_EXP 86
1071: PUSH
1072: LD_INT 3
1074: ARRAY
1075: PUSH
1076: LD_INT 2
1078: ARRAY
1079: PUSH
1080: LD_INT 4
1082: PUSH
1083: EMPTY
1084: LIST
1085: LIST
1086: LIST
1087: LIST
1088: PUSH
1089: LD_INT 31
1091: PUSH
1092: LD_INT 77
1094: PUSH
1095: LD_INT 125
1097: PUSH
1098: LD_INT 3
1100: PUSH
1101: EMPTY
1102: LIST
1103: LIST
1104: LIST
1105: LIST
1106: PUSH
1107: LD_INT 31
1109: PUSH
1110: LD_INT 77
1112: PUSH
1113: LD_INT 126
1115: PUSH
1116: LD_INT 4
1118: PUSH
1119: EMPTY
1120: LIST
1121: LIST
1122: LIST
1123: LIST
1124: PUSH
1125: EMPTY
1126: LIST
1127: LIST
1128: LIST
1129: PUSH
1130: LD_INT 29
1132: PUSH
1133: LD_EXP 86
1137: PUSH
1138: LD_INT 4
1140: ARRAY
1141: PUSH
1142: LD_INT 1
1144: ARRAY
1145: PUSH
1146: LD_EXP 86
1150: PUSH
1151: LD_INT 4
1153: ARRAY
1154: PUSH
1155: LD_INT 2
1157: ARRAY
1158: PUSH
1159: LD_INT 0
1161: PUSH
1162: EMPTY
1163: LIST
1164: LIST
1165: LIST
1166: LIST
1167: PUSH
1168: LD_INT 31
1170: PUSH
1171: LD_INT 200
1173: PUSH
1174: LD_INT 144
1176: PUSH
1177: LD_INT 2
1179: PUSH
1180: EMPTY
1181: LIST
1182: LIST
1183: LIST
1184: LIST
1185: PUSH
1186: LD_INT 31
1188: PUSH
1189: LD_INT 210
1191: PUSH
1192: LD_INT 126
1194: PUSH
1195: LD_INT 2
1197: PUSH
1198: EMPTY
1199: LIST
1200: LIST
1201: LIST
1202: LIST
1203: PUSH
1204: EMPTY
1205: LIST
1206: LIST
1207: LIST
1208: PUSH
1209: EMPTY
1210: LIST
1211: LIST
1212: LIST
1213: LIST
1214: ST_TO_ADDR
// end ; end ;
1215: GO 1218
1217: POP
// Cela_mapa = celamapa ;
1218: LD_ADDR_EXP 91
1222: PUSH
1223: LD_INT 32
1225: ST_TO_ADDR
// king_territory = stred ;
1226: LD_ADDR_EXP 92
1230: PUSH
1231: LD_INT 30
1233: ST_TO_ADDR
// oblasti_beden := [ ctverec1 , ctverec2 , ctverec3 , ctverec4 ] ;
1234: LD_ADDR_EXP 98
1238: PUSH
1239: LD_INT 12
1241: PUSH
1242: LD_INT 13
1244: PUSH
1245: LD_INT 15
1247: PUSH
1248: LD_INT 14
1250: PUSH
1251: EMPTY
1252: LIST
1253: LIST
1254: LIST
1255: LIST
1256: ST_TO_ADDR
// dalsi_oblasti_beden := [ map_center ] ;
1257: LD_ADDR_EXP 100
1261: PUSH
1262: LD_INT 16
1264: PUSH
1265: EMPTY
1266: LIST
1267: ST_TO_ADDR
// koof_bedny = 1.5 ;
1268: LD_ADDR_EXP 101
1272: PUSH
1273: LD_REAL  1.50000000000000E+0000
1276: ST_TO_ADDR
// BuildUpAreas := [ AR_ZaklLH , AR_ZaklPH , AR_ZaklLD , AR_ZaklPD ] ;
1277: LD_ADDR_EXP 116
1281: PUSH
1282: LD_INT 4
1284: PUSH
1285: LD_INT 5
1287: PUSH
1288: LD_INT 6
1290: PUSH
1291: LD_INT 7
1293: PUSH
1294: EMPTY
1295: LIST
1296: LIST
1297: LIST
1298: LIST
1299: ST_TO_ADDR
// DailyPhase = [ [ colors1.txt , colors2.txt , colors3.txt , colors4.txt , colors5.txt , colors6.txt ] , [ colors21.txt , colors22.txt , colors23.txt , colors24.txt , colors25.txt , colors26.txt ] , [ colors31.txt , colors32.txt , colors33.txt , colors34.txt , colors35.txt , colors36.txt ] ] [ rand ( 1 , 3 ) ] ;
1300: LD_ADDR_EXP 61
1304: PUSH
1305: LD_STRING colors1.txt
1307: PUSH
1308: LD_STRING colors2.txt
1310: PUSH
1311: LD_STRING colors3.txt
1313: PUSH
1314: LD_STRING colors4.txt
1316: PUSH
1317: LD_STRING colors5.txt
1319: PUSH
1320: LD_STRING colors6.txt
1322: PUSH
1323: EMPTY
1324: LIST
1325: LIST
1326: LIST
1327: LIST
1328: LIST
1329: LIST
1330: PUSH
1331: LD_STRING colors21.txt
1333: PUSH
1334: LD_STRING colors22.txt
1336: PUSH
1337: LD_STRING colors23.txt
1339: PUSH
1340: LD_STRING colors24.txt
1342: PUSH
1343: LD_STRING colors25.txt
1345: PUSH
1346: LD_STRING colors26.txt
1348: PUSH
1349: EMPTY
1350: LIST
1351: LIST
1352: LIST
1353: LIST
1354: LIST
1355: LIST
1356: PUSH
1357: LD_STRING colors31.txt
1359: PUSH
1360: LD_STRING colors32.txt
1362: PUSH
1363: LD_STRING colors33.txt
1365: PUSH
1366: LD_STRING colors34.txt
1368: PUSH
1369: LD_STRING colors35.txt
1371: PUSH
1372: LD_STRING colors36.txt
1374: PUSH
1375: EMPTY
1376: LIST
1377: LIST
1378: LIST
1379: LIST
1380: LIST
1381: LIST
1382: PUSH
1383: EMPTY
1384: LIST
1385: LIST
1386: LIST
1387: PUSH
1388: LD_INT 1
1390: PPUSH
1391: LD_INT 3
1393: PPUSH
1394: CALL_OW 12
1398: ARRAY
1399: ST_TO_ADDR
// WFT_Points_MP = 2 ;
1400: LD_ADDR_EXP 121
1404: PUSH
1405: LD_INT 2
1407: ST_TO_ADDR
// FLAGY_AREA = [ f1 , f2 , f3 , f4 , f5 , f6 , f7 , f8 , f9 ] ;
1408: LD_ADDR_EXP 118
1412: PUSH
1413: LD_INT 39
1415: PUSH
1416: LD_INT 40
1418: PUSH
1419: LD_INT 41
1421: PUSH
1422: LD_INT 42
1424: PUSH
1425: LD_INT 43
1427: PUSH
1428: LD_INT 48
1430: PUSH
1431: LD_INT 49
1433: PUSH
1434: LD_INT 50
1436: PUSH
1437: LD_INT 51
1439: PUSH
1440: EMPTY
1441: LIST
1442: LIST
1443: LIST
1444: LIST
1445: LIST
1446: LIST
1447: LIST
1448: LIST
1449: LIST
1450: ST_TO_ADDR
// FLAGY_XY = [ [ 118 , 73 ] , [ 147 , 55 ] , [ 78 , 30 ] , [ 86 , 99 ] , [ 157 , 124 ] , [ 106 , 19 ] , [ 172 , 98 ] , [ 133 , 140 ] , [ 70 , 61 ] , ] ;
1451: LD_ADDR_EXP 119
1455: PUSH
1456: LD_INT 118
1458: PUSH
1459: LD_INT 73
1461: PUSH
1462: EMPTY
1463: LIST
1464: LIST
1465: PUSH
1466: LD_INT 147
1468: PUSH
1469: LD_INT 55
1471: PUSH
1472: EMPTY
1473: LIST
1474: LIST
1475: PUSH
1476: LD_INT 78
1478: PUSH
1479: LD_INT 30
1481: PUSH
1482: EMPTY
1483: LIST
1484: LIST
1485: PUSH
1486: LD_INT 86
1488: PUSH
1489: LD_INT 99
1491: PUSH
1492: EMPTY
1493: LIST
1494: LIST
1495: PUSH
1496: LD_INT 157
1498: PUSH
1499: LD_INT 124
1501: PUSH
1502: EMPTY
1503: LIST
1504: LIST
1505: PUSH
1506: LD_INT 106
1508: PUSH
1509: LD_INT 19
1511: PUSH
1512: EMPTY
1513: LIST
1514: LIST
1515: PUSH
1516: LD_INT 172
1518: PUSH
1519: LD_INT 98
1521: PUSH
1522: EMPTY
1523: LIST
1524: LIST
1525: PUSH
1526: LD_INT 133
1528: PUSH
1529: LD_INT 140
1531: PUSH
1532: EMPTY
1533: LIST
1534: LIST
1535: PUSH
1536: LD_INT 70
1538: PUSH
1539: LD_INT 61
1541: PUSH
1542: EMPTY
1543: LIST
1544: LIST
1545: PUSH
1546: EMPTY
1547: LIST
1548: LIST
1549: LIST
1550: LIST
1551: LIST
1552: LIST
1553: LIST
1554: LIST
1555: LIST
1556: ST_TO_ADDR
// FLAGY_AREA1 = [ ff1 , ff2 , ff3 , ff4 , ff5 , ff6 , ff7 , ff8 , ff9 ] ;
1557: LD_ADDR_EXP 120
1561: PUSH
1562: LD_INT 34
1564: PUSH
1565: LD_INT 35
1567: PUSH
1568: LD_INT 36
1570: PUSH
1571: LD_INT 37
1573: PUSH
1574: LD_INT 38
1576: PUSH
1577: LD_INT 44
1579: PUSH
1580: LD_INT 45
1582: PUSH
1583: LD_INT 46
1585: PUSH
1586: LD_INT 47
1588: PUSH
1589: EMPTY
1590: LIST
1591: LIST
1592: LIST
1593: LIST
1594: LIST
1595: LIST
1596: LIST
1597: LIST
1598: LIST
1599: ST_TO_ADDR
// MaxFlags = 9 ;
1600: LD_ADDR_EXP 114
1604: PUSH
1605: LD_INT 9
1607: ST_TO_ADDR
// WarForTerritory_flags = [ 0 , 5 , 7 , 9 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
1608: LD_ADDR_EXP 65
1612: PUSH
1613: LD_INT 0
1615: PUSH
1616: LD_INT 5
1618: PUSH
1619: LD_INT 7
1621: PUSH
1622: LD_INT 9
1624: PUSH
1625: LD_INT 0
1627: PUSH
1628: LD_INT 0
1630: PUSH
1631: LD_INT 0
1633: PUSH
1634: LD_INT 0
1636: PUSH
1637: LD_INT 0
1639: PUSH
1640: LD_INT 0
1642: PUSH
1643: LD_INT 0
1645: PUSH
1646: EMPTY
1647: LIST
1648: LIST
1649: LIST
1650: LIST
1651: LIST
1652: LIST
1653: LIST
1654: LIST
1655: LIST
1656: LIST
1657: LIST
1658: ST_TO_ADDR
// WarForTerritory_Points = [ 0 , 0 , 0 , 0 , 300 , 500 , 700 , 1000 , 1500 , 2000 , 3000 ] ;
1659: LD_ADDR_EXP 64
1663: PUSH
1664: LD_INT 0
1666: PUSH
1667: LD_INT 0
1669: PUSH
1670: LD_INT 0
1672: PUSH
1673: LD_INT 0
1675: PUSH
1676: LD_INT 300
1678: PUSH
1679: LD_INT 500
1681: PUSH
1682: LD_INT 700
1684: PUSH
1685: LD_INT 1000
1687: PUSH
1688: LD_INT 1500
1690: PUSH
1691: LD_INT 2000
1693: PUSH
1694: LD_INT 3000
1696: PUSH
1697: EMPTY
1698: LIST
1699: LIST
1700: LIST
1701: LIST
1702: LIST
1703: LIST
1704: LIST
1705: LIST
1706: LIST
1707: LIST
1708: LIST
1709: ST_TO_ADDR
// end ;
1710: LD_VAR 0 1
1714: RET
// export function SimMPDefinition ; begin
1715: LD_INT 0
1717: PPUSH
// Game_Type = 1 ;
1718: LD_ADDR_EXP 1
1722: PUSH
1723: LD_INT 1
1725: ST_TO_ADDR
// Player_Side = 3 ;
1726: LD_ADDR_EXP 70
1730: PUSH
1731: LD_INT 3
1733: ST_TO_ADDR
// Player_Team = 2 ;
1734: LD_ADDR_EXP 71
1738: PUSH
1739: LD_INT 2
1741: ST_TO_ADDR
// Side_Positions = [ 1 , 2 , 3 , 4 , 0 , 0 , 0 , 0 ] ;
1742: LD_ADDR_EXP 75
1746: PUSH
1747: LD_INT 1
1749: PUSH
1750: LD_INT 2
1752: PUSH
1753: LD_INT 3
1755: PUSH
1756: LD_INT 4
1758: PUSH
1759: LD_INT 0
1761: PUSH
1762: LD_INT 0
1764: PUSH
1765: LD_INT 0
1767: PUSH
1768: LD_INT 0
1770: PUSH
1771: EMPTY
1772: LIST
1773: LIST
1774: LIST
1775: LIST
1776: LIST
1777: LIST
1778: LIST
1779: LIST
1780: ST_TO_ADDR
// Side_Teams = [ 1 , 1 , 2 , 2 , 0 , 0 , 0 , 0 ] ;
1781: LD_ADDR_EXP 72
1785: PUSH
1786: LD_INT 1
1788: PUSH
1789: LD_INT 1
1791: PUSH
1792: LD_INT 2
1794: PUSH
1795: LD_INT 2
1797: PUSH
1798: LD_INT 0
1800: PUSH
1801: LD_INT 0
1803: PUSH
1804: LD_INT 0
1806: PUSH
1807: LD_INT 0
1809: PUSH
1810: EMPTY
1811: LIST
1812: LIST
1813: LIST
1814: LIST
1815: LIST
1816: LIST
1817: LIST
1818: LIST
1819: ST_TO_ADDR
// Side_Nations = [ 1 , 2 , 2 , 1 , 0 , 0 , 0 , 0 ] ;
1820: LD_ADDR_EXP 76
1824: PUSH
1825: LD_INT 1
1827: PUSH
1828: LD_INT 2
1830: PUSH
1831: LD_INT 2
1833: PUSH
1834: LD_INT 1
1836: PUSH
1837: LD_INT 0
1839: PUSH
1840: LD_INT 0
1842: PUSH
1843: LD_INT 0
1845: PUSH
1846: LD_INT 0
1848: PUSH
1849: EMPTY
1850: LIST
1851: LIST
1852: LIST
1853: LIST
1854: LIST
1855: LIST
1856: LIST
1857: LIST
1858: ST_TO_ADDR
// Side_Comps = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
1859: LD_ADDR_EXP 78
1863: PUSH
1864: LD_INT 0
1866: PUSH
1867: LD_INT 0
1869: PUSH
1870: LD_INT 0
1872: PUSH
1873: LD_INT 0
1875: PUSH
1876: LD_INT 0
1878: PUSH
1879: LD_INT 0
1881: PUSH
1882: LD_INT 0
1884: PUSH
1885: LD_INT 0
1887: PUSH
1888: EMPTY
1889: LIST
1890: LIST
1891: LIST
1892: LIST
1893: LIST
1894: LIST
1895: LIST
1896: LIST
1897: ST_TO_ADDR
// Teams = [ [ 1 , 2 ] , [ 3 , 4 ] , [ 0 ] ] diff [ 0 ] ;
1898: LD_ADDR_EXP 73
1902: PUSH
1903: LD_INT 1
1905: PUSH
1906: LD_INT 2
1908: PUSH
1909: EMPTY
1910: LIST
1911: LIST
1912: PUSH
1913: LD_INT 3
1915: PUSH
1916: LD_INT 4
1918: PUSH
1919: EMPTY
1920: LIST
1921: LIST
1922: PUSH
1923: LD_INT 0
1925: PUSH
1926: EMPTY
1927: LIST
1928: PUSH
1929: EMPTY
1930: LIST
1931: LIST
1932: LIST
1933: PUSH
1934: LD_INT 0
1936: PUSH
1937: EMPTY
1938: LIST
1939: DIFF
1940: ST_TO_ADDR
// end ;
1941: LD_VAR 0 1
1945: RET
// export function SimMPOptions ; begin
1946: LD_INT 0
1948: PPUSH
// def_game_rules = 0 ;
1949: LD_ADDR_EXP 9
1953: PUSH
1954: LD_INT 0
1956: ST_TO_ADDR
// def_base_level = 2 ;
1957: LD_ADDR_EXP 10
1961: PUSH
1962: LD_INT 2
1964: ST_TO_ADDR
// def_amount_of_people = 5 ;
1965: LD_ADDR_EXP 11
1969: PUSH
1970: LD_INT 5
1972: ST_TO_ADDR
// def_amount_of_apemen_in_team = 2 ;
1973: LD_ADDR_EXP 12
1977: PUSH
1978: LD_INT 2
1980: ST_TO_ADDR
// def_initial_level = 1 ;
1981: LD_ADDR_EXP 13
1985: PUSH
1986: LD_INT 1
1988: ST_TO_ADDR
// def_classes = 0 ;
1989: LD_ADDR_EXP 14
1993: PUSH
1994: LD_INT 0
1996: ST_TO_ADDR
// def_starting_resources = 2 ;
1997: LD_ADDR_EXP 15
2001: PUSH
2002: LD_INT 2
2004: ST_TO_ADDR
// def_shipments_density = 2 ;
2005: LD_ADDR_EXP 16
2009: PUSH
2010: LD_INT 2
2012: ST_TO_ADDR
// def_extra_oil_deposits = 1 ;
2013: LD_ADDR_EXP 17
2017: PUSH
2018: LD_INT 1
2020: ST_TO_ADDR
// def_extra_sib_deposits = 1 ;
2021: LD_ADDR_EXP 18
2025: PUSH
2026: LD_INT 1
2028: ST_TO_ADDR
// def_shared_vision = 1 ;
2029: LD_ADDR_EXP 19
2033: PUSH
2034: LD_INT 1
2036: ST_TO_ADDR
// def_morale_flags = 1 ;
2037: LD_ADDR_EXP 20
2041: PUSH
2042: LD_INT 1
2044: ST_TO_ADDR
// def_win_rules = 2 ;
2045: LD_ADDR_EXP 21
2049: PUSH
2050: LD_INT 2
2052: ST_TO_ADDR
// def_amount_of_apemen = 1 ;
2053: LD_ADDR_EXP 22
2057: PUSH
2058: LD_INT 1
2060: ST_TO_ADDR
// def_amount_of_tiger = 1 ;
2061: LD_ADDR_EXP 23
2065: PUSH
2066: LD_INT 1
2068: ST_TO_ADDR
// def_respawining_type = 1 ;
2069: LD_ADDR_EXP 24
2073: PUSH
2074: LD_INT 1
2076: ST_TO_ADDR
// def_people_respawning = 1 ;
2077: LD_ADDR_EXP 25
2081: PUSH
2082: LD_INT 1
2084: ST_TO_ADDR
// def_tech_level = 8 ;
2085: LD_ADDR_EXP 26
2089: PUSH
2090: LD_INT 8
2092: ST_TO_ADDR
// def_upgrade_tl = 1 ;
2093: LD_ADDR_EXP 27
2097: PUSH
2098: LD_INT 1
2100: ST_TO_ADDR
// def_siberite_detection = 1 ;
2101: LD_ADDR_EXP 28
2105: PUSH
2106: LD_INT 1
2108: ST_TO_ADDR
// def_siberite_bomb = 3 ;
2109: LD_ADDR_EXP 29
2113: PUSH
2114: LD_INT 3
2116: ST_TO_ADDR
// def_builduptime = 1 ;
2117: LD_ADDR_EXP 30
2121: PUSH
2122: LD_INT 1
2124: ST_TO_ADDR
// def_desert_warior = 2 ;
2125: LD_ADDR_EXP 31
2129: PUSH
2130: LD_INT 2
2132: ST_TO_ADDR
// def_daily_start = 2 ;
2133: LD_ADDR_EXP 32
2137: PUSH
2138: LD_INT 2
2140: ST_TO_ADDR
// def_daily_speed = 3 ;
2141: LD_ADDR_EXP 33
2145: PUSH
2146: LD_INT 3
2148: ST_TO_ADDR
// def_public_score = 1 ;
2149: LD_ADDR_EXP 34
2153: PUSH
2154: LD_INT 1
2156: ST_TO_ADDR
// def_kings_age = 1 ;
2157: LD_ADDR_EXP 35
2161: PUSH
2162: LD_INT 1
2164: ST_TO_ADDR
// def_warForTerritory = 5 ;
2165: LD_ADDR_EXP 36
2169: PUSH
2170: LD_INT 5
2172: ST_TO_ADDR
// end ;
2173: LD_VAR 0 1
2177: RET
// export function Hustota_Zasilek ; var i ; begin
2178: LD_INT 0
2180: PPUSH
2181: PPUSH
// if def_game_rules then
2182: LD_EXP 9
2186: IFFALSE 2196
// tech_level = 8 ;
2188: LD_ADDR_EXP 56
2192: PUSH
2193: LD_INT 8
2195: ST_TO_ADDR
// case def_shipments_density of 0 :
2196: LD_EXP 16
2200: PUSH
2201: LD_INT 0
2203: DOUBLE
2204: EQUAL
2205: IFTRUE 2209
2207: GO 2220
2209: POP
// shipments_density := 40 ; 1 :
2210: LD_ADDR_EXP 45
2214: PUSH
2215: LD_INT 40
2217: ST_TO_ADDR
2218: GO 2259
2220: LD_INT 1
2222: DOUBLE
2223: EQUAL
2224: IFTRUE 2228
2226: GO 2239
2228: POP
// shipments_density := 60 ; 2 :
2229: LD_ADDR_EXP 45
2233: PUSH
2234: LD_INT 60
2236: ST_TO_ADDR
2237: GO 2259
2239: LD_INT 2
2241: DOUBLE
2242: EQUAL
2243: IFTRUE 2247
2245: GO 2258
2247: POP
// shipments_density := 90 ; end ;
2248: LD_ADDR_EXP 45
2252: PUSH
2253: LD_INT 90
2255: ST_TO_ADDR
2256: GO 2259
2258: POP
// if tech_level < 7 then
2259: LD_EXP 56
2263: PUSH
2264: LD_INT 7
2266: LESS
2267: IFFALSE 2286
// shipments_density := shipments_density * 0.85 else
2269: LD_ADDR_EXP 45
2273: PUSH
2274: LD_EXP 45
2278: PUSH
2279: LD_REAL  8.50000000000000E-0001
2282: MUL
2283: ST_TO_ADDR
2284: GO 2338
// if tech_level < 5 then
2286: LD_EXP 56
2290: PUSH
2291: LD_INT 5
2293: LESS
2294: IFFALSE 2313
// shipments_density := shipments_density * 0.7 else
2296: LD_ADDR_EXP 45
2300: PUSH
2301: LD_EXP 45
2305: PUSH
2306: LD_REAL  7.00000000000000E-0001
2309: MUL
2310: ST_TO_ADDR
2311: GO 2338
// if tech_level < 3 then
2313: LD_EXP 56
2317: PUSH
2318: LD_INT 3
2320: LESS
2321: IFFALSE 2338
// shipments_density := shipments_density * 0.6 ;
2323: LD_ADDR_EXP 45
2327: PUSH
2328: LD_EXP 45
2332: PUSH
2333: LD_REAL  6.00000000000000E-0001
2336: MUL
2337: ST_TO_ADDR
// end ; end_of_file
2338: LD_VAR 0 1
2342: RET
// on VehicleConstructionStarted ( factory , chassis , engine , control , weapon ) do RestrictVehicleConstructionStarted ( factory , chassis , engine , control , weapon ) ;
2343: LD_VAR 0 1
2347: PPUSH
2348: LD_VAR 0 2
2352: PPUSH
2353: LD_VAR 0 3
2357: PPUSH
2358: LD_VAR 0 4
2362: PPUSH
2363: LD_VAR 0 5
2367: PPUSH
2368: CALL 29782 0 5
2372: PPOPN 5
2374: END
// on WeaponPlaced ( building , weapon ) do RestrictWeaponPlaced ( building , weapon ) ;
2375: LD_VAR 0 1
2379: PPUSH
2380: LD_VAR 0 2
2384: PPUSH
2385: CALL 29847 0 2
2389: PPOPN 2
2391: END
// on BuildingStarted ( b , h ) do begin if def_game_rules then
2392: LD_EXP 9
2396: IFFALSE 2433
// begin ExecuteLimits ( b , GetBType ( b ) , GetSide ( b ) , 0 , 1 ) ;
2398: LD_VAR 0 1
2402: PPUSH
2403: LD_VAR 0 1
2407: PPUSH
2408: CALL_OW 266
2412: PPUSH
2413: LD_VAR 0 1
2417: PPUSH
2418: CALL_OW 255
2422: PPUSH
2423: LD_INT 0
2425: PPUSH
2426: LD_INT 1
2428: PPUSH
2429: CALL 29330 0 5
// end ; if GetBType ( b ) in [ b_depot , b_warehouse ] then
2433: LD_VAR 0 1
2437: PPUSH
2438: CALL_OW 266
2442: PUSH
2443: LD_INT 0
2445: PUSH
2446: LD_INT 1
2448: PUSH
2449: EMPTY
2450: LIST
2451: LIST
2452: IN
2453: IFFALSE 2469
// NameBuildingStarted ( b , h ) ;
2455: LD_VAR 0 1
2459: PPUSH
2460: LD_VAR 0 2
2464: PPUSH
2465: CALL 16206 0 2
// end ;
2469: PPOPN 2
2471: END
// on BuildingComplete ( b ) do begin if GetBType ( b ) in [ b_depot , b_warehouse ] then
2472: LD_VAR 0 1
2476: PPUSH
2477: CALL_OW 266
2481: PUSH
2482: LD_INT 0
2484: PUSH
2485: LD_INT 1
2487: PUSH
2488: EMPTY
2489: LIST
2490: LIST
2491: IN
2492: IFFALSE 2503
// NameBuildingComplete ( b ) ;
2494: LD_VAR 0 1
2498: PPUSH
2499: CALL 16198 0 1
// end ;
2503: PPOPN 1
2505: END
// on BuildingCaptured ( b , o , e ) do begin if def_game_rules then
2506: LD_EXP 9
2510: IFFALSE 2547
// begin ExecuteLimits ( b , GetBType ( b ) , GetSide ( b ) , 0 , 1 ) ;
2512: LD_VAR 0 1
2516: PPUSH
2517: LD_VAR 0 1
2521: PPUSH
2522: CALL_OW 266
2526: PPUSH
2527: LD_VAR 0 1
2531: PPUSH
2532: CALL_OW 255
2536: PPUSH
2537: LD_INT 0
2539: PPUSH
2540: LD_INT 1
2542: PPUSH
2543: CALL 29330 0 5
// end ; if GetBType ( b ) in [ b_depot , b_warehouse ] then
2547: LD_VAR 0 1
2551: PPUSH
2552: CALL_OW 266
2556: PUSH
2557: LD_INT 0
2559: PUSH
2560: LD_INT 1
2562: PUSH
2563: EMPTY
2564: LIST
2565: LIST
2566: IN
2567: IFFALSE 2588
// NameBuildingCaptured ( b , o , e ) ;
2569: LD_VAR 0 1
2573: PPUSH
2574: LD_VAR 0 2
2578: PPUSH
2579: LD_VAR 0 3
2583: PPUSH
2584: CALL 16285 0 3
// end ;
2588: PPOPN 3
2590: END
// on UnitDestroyed ( j ) do var x , y , pos , dir ;
2591: LD_INT 0
2593: PPUSH
2594: PPUSH
2595: PPUSH
2596: PPUSH
// begin if def_game_rules then
2597: LD_EXP 9
2601: IFFALSE 2612
// CallExecuteLimits ( j ) ;
2603: LD_VAR 0 1
2607: PPUSH
2608: CALL 30089 0 1
// end ;
2612: PPOPN 5
2614: END
// on VehicleCaptured ( j , i1 , o , i2 ) do begin if def_game_rules and ( GetChassis ( j ) = 25 ) then
2615: LD_EXP 9
2619: PUSH
2620: LD_VAR 0 1
2624: PPUSH
2625: CALL_OW 265
2629: PUSH
2630: LD_INT 25
2632: EQUAL
2633: AND
2634: IFFALSE 2666
// ExecuteLimits ( j , b_behemoth , GetSide ( j ) , o , 1 ) ;
2636: LD_VAR 0 1
2640: PPUSH
2641: LD_INT 37
2643: PPUSH
2644: LD_VAR 0 1
2648: PPUSH
2649: CALL_OW 255
2653: PPUSH
2654: LD_VAR 0 3
2658: PPUSH
2659: LD_INT 1
2661: PPUSH
2662: CALL 29330 0 5
// end ;
2666: PPOPN 4
2668: END
// on HumanDestroyed ( identifier , side , nation , x , y , direction , sex , cl ) do if def_respawining_type > 1 then
2669: LD_EXP 24
2673: PUSH
2674: LD_INT 1
2676: GREATER
2677: IFFALSE 2723
// RespawnHumanDestroyed ( identifier , side , nation , x , y , direction , sex , cl ) ;
2679: LD_VAR 0 1
2683: PPUSH
2684: LD_VAR 0 2
2688: PPUSH
2689: LD_VAR 0 3
2693: PPUSH
2694: LD_VAR 0 4
2698: PPUSH
2699: LD_VAR 0 5
2703: PPUSH
2704: LD_VAR 0 6
2708: PPUSH
2709: LD_VAR 0 7
2713: PPUSH
2714: LD_VAR 0 8
2718: PPUSH
2719: CALL 11442 0 8
2723: PPOPN 8
2725: END
// on siberiterocketexploded ( un , x , y ) do SA_OnSiberiteRocketExploded ( un , x , y , Your_Side ) ; end_of_file
2726: LD_VAR 0 1
2730: PPUSH
2731: LD_VAR 0 2
2735: PPUSH
2736: LD_VAR 0 3
2740: PPUSH
2741: LD_OWVAR 2
2745: PPUSH
2746: CALL 34429 0 4
2750: PPOPN 3
2752: END
// export game_type , GT_Mine , GT_doubleNat , GT_doublePeople , GT_tripleNat , GT_Survival , GT_RankedGames , pozice_beden ; export def_game_rules , def_base_level , def_amount_of_people , def_amount_of_apemen_in_team , def_initial_level , def_classes , def_starting_resources , def_shipments_density , def_extra_oil_deposits , def_extra_sib_deposits , def_shared_vision , def_morale_flags , def_win_rules , def_amount_of_apemen , def_amount_of_tiger , def_respawining_type , def_people_respawning , def_tech_level , def_upgrade_tl , def_siberite_detection , def_siberite_bomb , def_builduptime , def_desert_warior , def_daily_start , def_daily_speed , def_public_score , def_kings_age , def_WarForTerritory ; export base_level , number_of_breastworks , buildings_def , number_of_people , number_of_apemen , initial_level , starting_crates , starting_resources , shipments_density , morale_decreasing_time , spawning_koef_of_apemen , spawning_koef_of_tiger , respawning_time_min , heroes , respawning_time_max , Position_Nations , respawning_time_delay_min , respawning_time_delay_max , commander , tech_level , final_count , daily_start , daily_speed , TimePhase , DailyPhase , Position_Sides , for_show_near_resources , WarForTerritory_Points , WarForTerritory_flags , buildUpTime_Delay , siberite_bomb_Delay ; export Side_Count , Team_Count , Player_Side , Player_Team , Side_Teams , Teams , Side_IsSpec ; export Side_Positions , Side_Nations , Side_Names , Side_Comps , Team_Names , Team_Game ; export depot_def , breastworks_def , start_def , pocet_hracu , extra_oil_deposits_locations , oil_deposits_locations , extra_sib_deposits_locations , siberite_deposits_locations , battle_flags_id , def_max_sides ; export Cela_Mapa , king_territory ; export global_units , global_defined , soldiers_created , global_count , global_classes ; export function read_multiplayer_and_game_parameters ; var side , dep , br1 , br2 , br3 , un , i ; begin
2753: LD_INT 0
2755: PPUSH
2756: PPUSH
2757: PPUSH
2758: PPUSH
2759: PPUSH
2760: PPUSH
2761: PPUSH
2762: PPUSH
// if MultiPlayer then
2763: LD_OWVAR 4
2767: IFFALSE 2851
// begin Game_Type = mp_game_type ;
2769: LD_ADDR_EXP 1
2773: PUSH
2774: LD_OWVAR 6
2778: ST_TO_ADDR
// Player_Side = mp_player_side ;
2779: LD_ADDR_EXP 70
2783: PUSH
2784: LD_OWVAR 7
2788: ST_TO_ADDR
// Player_Team = mp_player_team ;
2789: LD_ADDR_EXP 71
2793: PUSH
2794: LD_OWVAR 8
2798: ST_TO_ADDR
// Side_Positions = mp_sides_positions ;
2799: LD_ADDR_EXP 75
2803: PUSH
2804: LD_OWVAR 17
2808: ST_TO_ADDR
// Side_Teams = mp_sides_teams ;
2809: LD_ADDR_EXP 72
2813: PUSH
2814: LD_OWVAR 15
2818: ST_TO_ADDR
// Side_Nations = mp_sides_nations ;
2819: LD_ADDR_EXP 76
2823: PUSH
2824: LD_OWVAR 16
2828: ST_TO_ADDR
// Side_Comps = mp_sides_comps ;
2829: LD_ADDR_EXP 78
2833: PUSH
2834: CALL 3303 0 0
2838: ST_TO_ADDR
// Teams = mp_teams ;
2839: LD_ADDR_EXP 73
2843: PUSH
2844: LD_OWVAR 12
2848: ST_TO_ADDR
// end else
2849: GO 2855
// begin SimMPDefinition ;
2851: CALL 1715 0 0
// end ; Side_Count = ( Side_Positions diff [ 0 ] ) + 0 ;
2855: LD_ADDR_EXP 68
2859: PUSH
2860: LD_EXP 75
2864: PUSH
2865: LD_INT 0
2867: PUSH
2868: EMPTY
2869: LIST
2870: DIFF
2871: PUSH
2872: LD_INT 0
2874: PLUS
2875: ST_TO_ADDR
// Team_Count = ( Side_Teams diff [ 0 ] ) + 0 ;
2876: LD_ADDR_EXP 69
2880: PUSH
2881: LD_EXP 72
2885: PUSH
2886: LD_INT 0
2888: PUSH
2889: EMPTY
2890: LIST
2891: DIFF
2892: PUSH
2893: LD_INT 0
2895: PLUS
2896: ST_TO_ADDR
// if MultiPlayer then
2897: LD_OWVAR 4
2901: IFFALSE 3264
// begin def_game_rules = GetMultiplayerSetting ( 0 ) ;
2903: LD_ADDR_EXP 9
2907: PUSH
2908: LD_INT 0
2910: PPUSH
2911: CALL_OW 426
2915: ST_TO_ADDR
// def_base_level = GetMultiplayerSetting ( 1 ) ;
2916: LD_ADDR_EXP 10
2920: PUSH
2921: LD_INT 1
2923: PPUSH
2924: CALL_OW 426
2928: ST_TO_ADDR
// def_amount_of_people = GetMultiplayerSetting ( 2 ) ;
2929: LD_ADDR_EXP 11
2933: PUSH
2934: LD_INT 2
2936: PPUSH
2937: CALL_OW 426
2941: ST_TO_ADDR
// def_amount_of_apemen_in_team = GetMultiplayerSetting ( 3 ) ;
2942: LD_ADDR_EXP 12
2946: PUSH
2947: LD_INT 3
2949: PPUSH
2950: CALL_OW 426
2954: ST_TO_ADDR
// def_initial_level = GetMultiplayerSetting ( 4 ) ;
2955: LD_ADDR_EXP 13
2959: PUSH
2960: LD_INT 4
2962: PPUSH
2963: CALL_OW 426
2967: ST_TO_ADDR
// def_classes = GetMultiplayerSetting ( 5 ) ;
2968: LD_ADDR_EXP 14
2972: PUSH
2973: LD_INT 5
2975: PPUSH
2976: CALL_OW 426
2980: ST_TO_ADDR
// def_starting_resources = GetMultiplayerSetting ( 6 ) ;
2981: LD_ADDR_EXP 15
2985: PUSH
2986: LD_INT 6
2988: PPUSH
2989: CALL_OW 426
2993: ST_TO_ADDR
// def_shipments_density = GetMultiplayerSetting ( 7 ) ;
2994: LD_ADDR_EXP 16
2998: PUSH
2999: LD_INT 7
3001: PPUSH
3002: CALL_OW 426
3006: ST_TO_ADDR
// def_extra_oil_deposits = GetMultiplayerSetting ( 8 ) ;
3007: LD_ADDR_EXP 17
3011: PUSH
3012: LD_INT 8
3014: PPUSH
3015: CALL_OW 426
3019: ST_TO_ADDR
// def_extra_sib_deposits = GetMultiplayerSetting ( 9 ) ;
3020: LD_ADDR_EXP 18
3024: PUSH
3025: LD_INT 9
3027: PPUSH
3028: CALL_OW 426
3032: ST_TO_ADDR
// def_morale_flags = GetMultiplayerSetting ( 10 ) ;
3033: LD_ADDR_EXP 20
3037: PUSH
3038: LD_INT 10
3040: PPUSH
3041: CALL_OW 426
3045: ST_TO_ADDR
// def_win_rules = GetMultiplayerSetting ( 11 ) ;
3046: LD_ADDR_EXP 21
3050: PUSH
3051: LD_INT 11
3053: PPUSH
3054: CALL_OW 426
3058: ST_TO_ADDR
// def_amount_of_apemen = GetMultiplayerSetting ( 12 ) ;
3059: LD_ADDR_EXP 22
3063: PUSH
3064: LD_INT 12
3066: PPUSH
3067: CALL_OW 426
3071: ST_TO_ADDR
// def_amount_of_tiger = GetMultiplayerSetting ( 13 ) ;
3072: LD_ADDR_EXP 23
3076: PUSH
3077: LD_INT 13
3079: PPUSH
3080: CALL_OW 426
3084: ST_TO_ADDR
// def_respawining_type = GetMultiplayerSetting ( 14 ) ;
3085: LD_ADDR_EXP 24
3089: PUSH
3090: LD_INT 14
3092: PPUSH
3093: CALL_OW 426
3097: ST_TO_ADDR
// def_people_respawning = GetMultiplayerSetting ( 15 ) ;
3098: LD_ADDR_EXP 25
3102: PUSH
3103: LD_INT 15
3105: PPUSH
3106: CALL_OW 426
3110: ST_TO_ADDR
// def_tech_level = GetMultiplayerSetting ( 16 ) ;
3111: LD_ADDR_EXP 26
3115: PUSH
3116: LD_INT 16
3118: PPUSH
3119: CALL_OW 426
3123: ST_TO_ADDR
// def_upgrade_tl = GetMultiplayerSetting ( 17 ) ;
3124: LD_ADDR_EXP 27
3128: PUSH
3129: LD_INT 17
3131: PPUSH
3132: CALL_OW 426
3136: ST_TO_ADDR
// def_siberite_detection = GetMultiplayerSetting ( 18 ) ;
3137: LD_ADDR_EXP 28
3141: PUSH
3142: LD_INT 18
3144: PPUSH
3145: CALL_OW 426
3149: ST_TO_ADDR
// def_siberite_bomb = GetMultiplayerSetting ( 19 ) ;
3150: LD_ADDR_EXP 29
3154: PUSH
3155: LD_INT 19
3157: PPUSH
3158: CALL_OW 426
3162: ST_TO_ADDR
// def_builduptime = GetMultiplayerSetting ( 20 ) ;
3163: LD_ADDR_EXP 30
3167: PUSH
3168: LD_INT 20
3170: PPUSH
3171: CALL_OW 426
3175: ST_TO_ADDR
// def_desert_warior = GetMultiplayerSetting ( 21 ) ;
3176: LD_ADDR_EXP 31
3180: PUSH
3181: LD_INT 21
3183: PPUSH
3184: CALL_OW 426
3188: ST_TO_ADDR
// def_daily_start = GetMultiplayerSetting ( 22 ) ;
3189: LD_ADDR_EXP 32
3193: PUSH
3194: LD_INT 22
3196: PPUSH
3197: CALL_OW 426
3201: ST_TO_ADDR
// def_daily_speed = GetMultiplayerSetting ( 23 ) ;
3202: LD_ADDR_EXP 33
3206: PUSH
3207: LD_INT 23
3209: PPUSH
3210: CALL_OW 426
3214: ST_TO_ADDR
// def_public_score = GetMultiplayerSetting ( 24 ) ;
3215: LD_ADDR_EXP 34
3219: PUSH
3220: LD_INT 24
3222: PPUSH
3223: CALL_OW 426
3227: ST_TO_ADDR
// def_kings_age = GetMultiplayerSetting ( 25 ) ;
3228: LD_ADDR_EXP 35
3232: PUSH
3233: LD_INT 25
3235: PPUSH
3236: CALL_OW 426
3240: ST_TO_ADDR
// def_warForTerritory = GetMultiplayerSetting ( 26 ) ;
3241: LD_ADDR_EXP 36
3245: PUSH
3246: LD_INT 26
3248: PPUSH
3249: CALL_OW 426
3253: ST_TO_ADDR
// def_shared_vision = true ;
3254: LD_ADDR_EXP 19
3258: PUSH
3259: LD_INT 1
3261: ST_TO_ADDR
// end else
3262: GO 3272
// begin randomizeAll ;
3264: CALL_OW 11
// SimMPOptions ;
3268: CALL 1946 0 0
// end ; if Game_Type in GT_RankedGames then
3272: LD_EXP 1
3276: PUSH
3277: LD_EXP 7
3281: IN
3282: IFFALSE 3298
// def_game_rules = def_game_rules + 1 ;
3284: LD_ADDR_EXP 9
3288: PUSH
3289: LD_EXP 9
3293: PUSH
3294: LD_INT 1
3296: PLUS
3297: ST_TO_ADDR
// end ;
3298: LD_VAR 0 1
3302: RET
// function mp_sides_comps ; var c , i ; begin
3303: LD_INT 0
3305: PPUSH
3306: PPUSH
3307: PPUSH
// c = [ ] ;
3308: LD_ADDR_VAR 0 2
3312: PUSH
3313: EMPTY
3314: ST_TO_ADDR
// for i = 1 to 8 do
3315: LD_ADDR_VAR 0 3
3319: PUSH
3320: DOUBLE
3321: LD_INT 1
3323: DEC
3324: ST_TO_ADDR
3325: LD_INT 8
3327: PUSH
3328: FOR_TO
3329: IFFALSE 3354
// c = c ^ Multiplayer_GetPlayerIsComp ( i ) ;
3331: LD_ADDR_VAR 0 2
3335: PUSH
3336: LD_VAR 0 2
3340: PUSH
3341: LD_VAR 0 3
3345: PPUSH
3346: CALL_OW 532
3350: ADD
3351: ST_TO_ADDR
3352: GO 3328
3354: POP
3355: POP
// result = c ;
3356: LD_ADDR_VAR 0 1
3360: PUSH
3361: LD_VAR 0 2
3365: ST_TO_ADDR
// end ;
3366: LD_VAR 0 1
3370: RET
// export function standartSets ; begin
3371: LD_INT 0
3373: PPUSH
// if Game_Type in GT_Survival then
3374: LD_EXP 1
3378: PUSH
3379: LD_EXP 6
3383: IN
3384: IFFALSE 3527
// begin base_level = [ 1 , 1 , 1 , 2 ] ;
3386: LD_ADDR_EXP 37
3390: PUSH
3391: LD_INT 1
3393: PUSH
3394: LD_INT 1
3396: PUSH
3397: LD_INT 1
3399: PUSH
3400: LD_INT 2
3402: PUSH
3403: EMPTY
3404: LIST
3405: LIST
3406: LIST
3407: LIST
3408: ST_TO_ADDR
// starting_resources := [ [ 1000 , 100 , 100 ] , [ 2000 , 200 , 200 ] , [ 5000 , 500 , 500 ] , [ 10000 , 1000 , 1000 ] , [ 25000 , 2500 , 2500 ] , [ 50000 , 5000 , 5000 ] ] ;
3409: LD_ADDR_EXP 44
3413: PUSH
3414: LD_INT 1000
3416: PUSH
3417: LD_INT 100
3419: PUSH
3420: LD_INT 100
3422: PUSH
3423: EMPTY
3424: LIST
3425: LIST
3426: LIST
3427: PUSH
3428: LD_INT 2000
3430: PUSH
3431: LD_INT 200
3433: PUSH
3434: LD_INT 200
3436: PUSH
3437: EMPTY
3438: LIST
3439: LIST
3440: LIST
3441: PUSH
3442: LD_INT 5000
3444: PUSH
3445: LD_INT 500
3447: PUSH
3448: LD_INT 500
3450: PUSH
3451: EMPTY
3452: LIST
3453: LIST
3454: LIST
3455: PUSH
3456: LD_INT 10000
3458: PUSH
3459: LD_INT 1000
3461: PUSH
3462: LD_INT 1000
3464: PUSH
3465: EMPTY
3466: LIST
3467: LIST
3468: LIST
3469: PUSH
3470: LD_INT 25000
3472: PUSH
3473: LD_INT 2500
3475: PUSH
3476: LD_INT 2500
3478: PUSH
3479: EMPTY
3480: LIST
3481: LIST
3482: LIST
3483: PUSH
3484: LD_INT 50000
3486: PUSH
3487: LD_INT 5000
3489: PUSH
3490: LD_INT 5000
3492: PUSH
3493: EMPTY
3494: LIST
3495: LIST
3496: LIST
3497: PUSH
3498: EMPTY
3499: LIST
3500: LIST
3501: LIST
3502: LIST
3503: LIST
3504: LIST
3505: ST_TO_ADDR
// starting_crates := [ [ ] , [ ] , [ ] , [ ] ] ;
3506: LD_ADDR_EXP 43
3510: PUSH
3511: EMPTY
3512: PUSH
3513: EMPTY
3514: PUSH
3515: EMPTY
3516: PUSH
3517: EMPTY
3518: PUSH
3519: EMPTY
3520: LIST
3521: LIST
3522: LIST
3523: LIST
3524: ST_TO_ADDR
// end else
3525: GO 3680
// begin base_level = [ 0 , 1 , 1 , 1 , 2 ] ;
3527: LD_ADDR_EXP 37
3531: PUSH
3532: LD_INT 0
3534: PUSH
3535: LD_INT 1
3537: PUSH
3538: LD_INT 1
3540: PUSH
3541: LD_INT 1
3543: PUSH
3544: LD_INT 2
3546: PUSH
3547: EMPTY
3548: LIST
3549: LIST
3550: LIST
3551: LIST
3552: LIST
3553: ST_TO_ADDR
// starting_resources := [ [ 0 , 0 , 0 ] , [ 30 , 0 , 0 ] , [ 50 , 20 , 0 ] , [ 80 , 40 , 20 ] ] ;
3554: LD_ADDR_EXP 44
3558: PUSH
3559: LD_INT 0
3561: PUSH
3562: LD_INT 0
3564: PUSH
3565: LD_INT 0
3567: PUSH
3568: EMPTY
3569: LIST
3570: LIST
3571: LIST
3572: PUSH
3573: LD_INT 30
3575: PUSH
3576: LD_INT 0
3578: PUSH
3579: LD_INT 0
3581: PUSH
3582: EMPTY
3583: LIST
3584: LIST
3585: LIST
3586: PUSH
3587: LD_INT 50
3589: PUSH
3590: LD_INT 20
3592: PUSH
3593: LD_INT 0
3595: PUSH
3596: EMPTY
3597: LIST
3598: LIST
3599: LIST
3600: PUSH
3601: LD_INT 80
3603: PUSH
3604: LD_INT 40
3606: PUSH
3607: LD_INT 20
3609: PUSH
3610: EMPTY
3611: LIST
3612: LIST
3613: LIST
3614: PUSH
3615: EMPTY
3616: LIST
3617: LIST
3618: LIST
3619: LIST
3620: ST_TO_ADDR
// starting_crates := [ [ 10 ] , [ 7 , 14 ] , [ 6 , 12 , 18 ] , [ 5 , 10 , 15 , 20 ] ] ;
3621: LD_ADDR_EXP 43
3625: PUSH
3626: LD_INT 10
3628: PUSH
3629: EMPTY
3630: LIST
3631: PUSH
3632: LD_INT 7
3634: PUSH
3635: LD_INT 14
3637: PUSH
3638: EMPTY
3639: LIST
3640: LIST
3641: PUSH
3642: LD_INT 6
3644: PUSH
3645: LD_INT 12
3647: PUSH
3648: LD_INT 18
3650: PUSH
3651: EMPTY
3652: LIST
3653: LIST
3654: LIST
3655: PUSH
3656: LD_INT 5
3658: PUSH
3659: LD_INT 10
3661: PUSH
3662: LD_INT 15
3664: PUSH
3665: LD_INT 20
3667: PUSH
3668: EMPTY
3669: LIST
3670: LIST
3671: LIST
3672: LIST
3673: PUSH
3674: EMPTY
3675: LIST
3676: LIST
3677: LIST
3678: LIST
3679: ST_TO_ADDR
// end ; number_of_people = [ 4 , 5 , 6 , 7 , 8 , 9 , 10 , 11 , 12 , 13 , 14 , 15 , 16 , 17 , 18 , 19 , 20 , 21 , 22 , 23 , 24 ] ;
3680: LD_ADDR_EXP 40
3684: PUSH
3685: LD_INT 4
3687: PUSH
3688: LD_INT 5
3690: PUSH
3691: LD_INT 6
3693: PUSH
3694: LD_INT 7
3696: PUSH
3697: LD_INT 8
3699: PUSH
3700: LD_INT 9
3702: PUSH
3703: LD_INT 10
3705: PUSH
3706: LD_INT 11
3708: PUSH
3709: LD_INT 12
3711: PUSH
3712: LD_INT 13
3714: PUSH
3715: LD_INT 14
3717: PUSH
3718: LD_INT 15
3720: PUSH
3721: LD_INT 16
3723: PUSH
3724: LD_INT 17
3726: PUSH
3727: LD_INT 18
3729: PUSH
3730: LD_INT 19
3732: PUSH
3733: LD_INT 20
3735: PUSH
3736: LD_INT 21
3738: PUSH
3739: LD_INT 22
3741: PUSH
3742: LD_INT 23
3744: PUSH
3745: LD_INT 24
3747: PUSH
3748: EMPTY
3749: LIST
3750: LIST
3751: LIST
3752: LIST
3753: LIST
3754: LIST
3755: LIST
3756: LIST
3757: LIST
3758: LIST
3759: LIST
3760: LIST
3761: LIST
3762: LIST
3763: LIST
3764: LIST
3765: LIST
3766: LIST
3767: LIST
3768: LIST
3769: LIST
3770: ST_TO_ADDR
// number_of_apemen = [ 0 , 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 , 9 , 10 , 11 , 12 ] ;
3771: LD_ADDR_EXP 41
3775: PUSH
3776: LD_INT 0
3778: PUSH
3779: LD_INT 1
3781: PUSH
3782: LD_INT 2
3784: PUSH
3785: LD_INT 3
3787: PUSH
3788: LD_INT 4
3790: PUSH
3791: LD_INT 5
3793: PUSH
3794: LD_INT 6
3796: PUSH
3797: LD_INT 7
3799: PUSH
3800: LD_INT 8
3802: PUSH
3803: LD_INT 9
3805: PUSH
3806: LD_INT 10
3808: PUSH
3809: LD_INT 11
3811: PUSH
3812: LD_INT 12
3814: PUSH
3815: EMPTY
3816: LIST
3817: LIST
3818: LIST
3819: LIST
3820: LIST
3821: LIST
3822: LIST
3823: LIST
3824: LIST
3825: LIST
3826: LIST
3827: LIST
3828: LIST
3829: ST_TO_ADDR
// initial_level = [ 2 , 3 , 4 , 5 ] ;
3830: LD_ADDR_EXP 42
3834: PUSH
3835: LD_INT 2
3837: PUSH
3838: LD_INT 3
3840: PUSH
3841: LD_INT 4
3843: PUSH
3844: LD_INT 5
3846: PUSH
3847: EMPTY
3848: LIST
3849: LIST
3850: LIST
3851: LIST
3852: ST_TO_ADDR
// if def_game_rules then
3853: LD_EXP 9
3857: IFFALSE 3869
// tech_level = 8 else
3859: LD_ADDR_EXP 56
3863: PUSH
3864: LD_INT 8
3866: ST_TO_ADDR
3867: GO 3907
// if game_type in GT_mine then
3869: LD_EXP 1
3873: PUSH
3874: LD_EXP 2
3878: IN
3879: IFFALSE 3897
// tech_level = def_tech_level + 4 else
3881: LD_ADDR_EXP 56
3885: PUSH
3886: LD_EXP 26
3890: PUSH
3891: LD_INT 4
3893: PLUS
3894: ST_TO_ADDR
3895: GO 3907
// Tech_Level = def_tech_level ;
3897: LD_ADDR_EXP 56
3901: PUSH
3902: LD_EXP 26
3906: ST_TO_ADDR
// Hustota_Zasilek ;
3907: CALL 2178 0 0
// spawning_koef_of_apemen = [ 0 , 5 , 10 , 15 ] ;
3911: LD_ADDR_EXP 47
3915: PUSH
3916: LD_INT 0
3918: PUSH
3919: LD_INT 5
3921: PUSH
3922: LD_INT 10
3924: PUSH
3925: LD_INT 15
3927: PUSH
3928: EMPTY
3929: LIST
3930: LIST
3931: LIST
3932: LIST
3933: ST_TO_ADDR
// spawning_koef_of_tiger = [ 0 , 5 , 10 , 15 ] ;
3934: LD_ADDR_EXP 48
3938: PUSH
3939: LD_INT 0
3941: PUSH
3942: LD_INT 5
3944: PUSH
3945: LD_INT 10
3947: PUSH
3948: LD_INT 15
3950: PUSH
3951: EMPTY
3952: LIST
3953: LIST
3954: LIST
3955: LIST
3956: ST_TO_ADDR
// respawning_time_min = [ 8 8$0 , 3 3$00 , 1 1$00 ] ;
3957: LD_ADDR_EXP 49
3961: PUSH
3962: LD_INT 16800
3964: PUSH
3965: LD_INT 6300
3967: PUSH
3968: LD_INT 2100
3970: PUSH
3971: EMPTY
3972: LIST
3973: LIST
3974: LIST
3975: ST_TO_ADDR
// respawning_time_max = [ 10 10$10 , 6 6$00 , 2 2$00 ] ;
3976: LD_ADDR_EXP 51
3980: PUSH
3981: LD_INT 21350
3983: PUSH
3984: LD_INT 12600
3986: PUSH
3987: LD_INT 4200
3989: PUSH
3990: EMPTY
3991: LIST
3992: LIST
3993: LIST
3994: ST_TO_ADDR
// respawning_time_delay_min = [ 0 0$45 , 0 0$30 , 0 0$15 ] ;
3995: LD_ADDR_EXP 53
3999: PUSH
4000: LD_INT 1575
4002: PUSH
4003: LD_INT 1050
4005: PUSH
4006: LD_INT 525
4008: PUSH
4009: EMPTY
4010: LIST
4011: LIST
4012: LIST
4013: ST_TO_ADDR
// respawning_time_delay_max = [ 1 1$00 , 0 0$45 , 0 0$30 ] ;
4014: LD_ADDR_EXP 54
4018: PUSH
4019: LD_INT 2100
4021: PUSH
4022: LD_INT 1575
4024: PUSH
4025: LD_INT 1050
4027: PUSH
4028: EMPTY
4029: LIST
4030: LIST
4031: LIST
4032: ST_TO_ADDR
// daily_start = [ [ 4 4$00 , 7 7$00 ] , [ 8 8$00 , 12 12$00 ] , [ 13 13$00 , 17 17$00 ] , [ 18 18$00 , 22 22$00 ] , [ 23 23$00 , 27 27$00 ] ] ;
4033: LD_ADDR_EXP 58
4037: PUSH
4038: LD_INT 8400
4040: PUSH
4041: LD_INT 14700
4043: PUSH
4044: EMPTY
4045: LIST
4046: LIST
4047: PUSH
4048: LD_INT 16800
4050: PUSH
4051: LD_INT 25200
4053: PUSH
4054: EMPTY
4055: LIST
4056: LIST
4057: PUSH
4058: LD_INT 27300
4060: PUSH
4061: LD_INT 35700
4063: PUSH
4064: EMPTY
4065: LIST
4066: LIST
4067: PUSH
4068: LD_INT 37800
4070: PUSH
4071: LD_INT 46200
4073: PUSH
4074: EMPTY
4075: LIST
4076: LIST
4077: PUSH
4078: LD_INT 48300
4080: PUSH
4081: LD_INT 56700
4083: PUSH
4084: EMPTY
4085: LIST
4086: LIST
4087: PUSH
4088: EMPTY
4089: LIST
4090: LIST
4091: LIST
4092: LIST
4093: LIST
4094: ST_TO_ADDR
// daily_speed = [ 0 0$59 , 0 0$25 , 0 0$9 , 0 0$2 , 0 ] ;
4095: LD_ADDR_EXP 59
4099: PUSH
4100: LD_INT 2065
4102: PUSH
4103: LD_INT 875
4105: PUSH
4106: LD_INT 315
4108: PUSH
4109: LD_INT 70
4111: PUSH
4112: LD_INT 0
4114: PUSH
4115: EMPTY
4116: LIST
4117: LIST
4118: LIST
4119: LIST
4120: LIST
4121: ST_TO_ADDR
// TimePhase = [ 4 4$00 , 6 6$00 , 7 7$00 , 8 8$00 , 12 12$00 , 17 17$00 , 18 18$00 , 19 19$00 , 20 20$00 , 22 22$00 ] ;
4122: LD_ADDR_EXP 60
4126: PUSH
4127: LD_INT 8400
4129: PUSH
4130: LD_INT 12600
4132: PUSH
4133: LD_INT 14700
4135: PUSH
4136: LD_INT 16800
4138: PUSH
4139: LD_INT 25200
4141: PUSH
4142: LD_INT 35700
4144: PUSH
4145: LD_INT 37800
4147: PUSH
4148: LD_INT 39900
4150: PUSH
4151: LD_INT 42000
4153: PUSH
4154: LD_INT 46200
4156: PUSH
4157: EMPTY
4158: LIST
4159: LIST
4160: LIST
4161: LIST
4162: LIST
4163: LIST
4164: LIST
4165: LIST
4166: LIST
4167: LIST
4168: ST_TO_ADDR
// DailyPhase = [ colors1.txt , colors2.txt , colors3.txt , colors4.txt , colors5.txt , colors6.txt ] ;
4169: LD_ADDR_EXP 61
4173: PUSH
4174: LD_STRING colors1.txt
4176: PUSH
4177: LD_STRING colors2.txt
4179: PUSH
4180: LD_STRING colors3.txt
4182: PUSH
4183: LD_STRING colors4.txt
4185: PUSH
4186: LD_STRING colors5.txt
4188: PUSH
4189: LD_STRING colors6.txt
4191: PUSH
4192: EMPTY
4193: LIST
4194: LIST
4195: LIST
4196: LIST
4197: LIST
4198: LIST
4199: ST_TO_ADDR
// morale_decreasing_time = [ - 1 , 0 0$10 , 0 0$20 , 0 0$40 , 0 0$0 ] ;
4200: LD_ADDR_EXP 46
4204: PUSH
4205: LD_INT 1
4207: NEG
4208: PUSH
4209: LD_INT 350
4211: PUSH
4212: LD_INT 700
4214: PUSH
4215: LD_INT 1400
4217: PUSH
4218: LD_INT 0
4220: PUSH
4221: EMPTY
4222: LIST
4223: LIST
4224: LIST
4225: LIST
4226: LIST
4227: ST_TO_ADDR
// final_count = [ 0 , 200 , 300 , 500 , 700 , 1000 , 1500 , 2000 ] ;
4228: LD_ADDR_EXP 57
4232: PUSH
4233: LD_INT 0
4235: PUSH
4236: LD_INT 200
4238: PUSH
4239: LD_INT 300
4241: PUSH
4242: LD_INT 500
4244: PUSH
4245: LD_INT 700
4247: PUSH
4248: LD_INT 1000
4250: PUSH
4251: LD_INT 1500
4253: PUSH
4254: LD_INT 2000
4256: PUSH
4257: EMPTY
4258: LIST
4259: LIST
4260: LIST
4261: LIST
4262: LIST
4263: LIST
4264: LIST
4265: LIST
4266: ST_TO_ADDR
// WarForTerritory_flags = [ 0 , 3 , 4 , 5 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
4267: LD_ADDR_EXP 65
4271: PUSH
4272: LD_INT 0
4274: PUSH
4275: LD_INT 3
4277: PUSH
4278: LD_INT 4
4280: PUSH
4281: LD_INT 5
4283: PUSH
4284: LD_INT 0
4286: PUSH
4287: LD_INT 0
4289: PUSH
4290: LD_INT 0
4292: PUSH
4293: LD_INT 0
4295: PUSH
4296: LD_INT 0
4298: PUSH
4299: LD_INT 0
4301: PUSH
4302: LD_INT 0
4304: PUSH
4305: EMPTY
4306: LIST
4307: LIST
4308: LIST
4309: LIST
4310: LIST
4311: LIST
4312: LIST
4313: LIST
4314: LIST
4315: LIST
4316: LIST
4317: ST_TO_ADDR
// WarForTerritory_Points = [ 0 , 0 , 0 , 0 , 200 , 300 , 500 , 700 , 1000 , 1500 , 2000 ] ;
4318: LD_ADDR_EXP 64
4322: PUSH
4323: LD_INT 0
4325: PUSH
4326: LD_INT 0
4328: PUSH
4329: LD_INT 0
4331: PUSH
4332: LD_INT 0
4334: PUSH
4335: LD_INT 200
4337: PUSH
4338: LD_INT 300
4340: PUSH
4341: LD_INT 500
4343: PUSH
4344: LD_INT 700
4346: PUSH
4347: LD_INT 1000
4349: PUSH
4350: LD_INT 1500
4352: PUSH
4353: LD_INT 2000
4355: PUSH
4356: EMPTY
4357: LIST
4358: LIST
4359: LIST
4360: LIST
4361: LIST
4362: LIST
4363: LIST
4364: LIST
4365: LIST
4366: LIST
4367: LIST
4368: ST_TO_ADDR
// Position_Sides := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
4369: LD_ADDR_EXP 62
4373: PUSH
4374: LD_INT 0
4376: PUSH
4377: LD_INT 0
4379: PUSH
4380: LD_INT 0
4382: PUSH
4383: LD_INT 0
4385: PUSH
4386: LD_INT 0
4388: PUSH
4389: LD_INT 0
4391: PUSH
4392: LD_INT 0
4394: PUSH
4395: LD_INT 0
4397: PUSH
4398: EMPTY
4399: LIST
4400: LIST
4401: LIST
4402: LIST
4403: LIST
4404: LIST
4405: LIST
4406: LIST
4407: ST_TO_ADDR
// buildUpTime_Delay := [ 0 , 5 5$00 , 10 10$00 , 15 15$00 ] ;
4408: LD_ADDR_EXP 66
4412: PUSH
4413: LD_INT 0
4415: PUSH
4416: LD_INT 10500
4418: PUSH
4419: LD_INT 21000
4421: PUSH
4422: LD_INT 31500
4424: PUSH
4425: EMPTY
4426: LIST
4427: LIST
4428: LIST
4429: LIST
4430: ST_TO_ADDR
// siberite_bomb_Delay := [ 0 , 1 , 30 30$00 , 60 60$00 , 90 90$00 , 120 120$00 ] ;
4431: LD_ADDR_EXP 67
4435: PUSH
4436: LD_INT 0
4438: PUSH
4439: LD_INT 1
4441: PUSH
4442: LD_INT 63000
4444: PUSH
4445: LD_INT 126000
4447: PUSH
4448: LD_INT 189000
4450: PUSH
4451: LD_INT 252000
4453: PUSH
4454: EMPTY
4455: LIST
4456: LIST
4457: LIST
4458: LIST
4459: LIST
4460: LIST
4461: ST_TO_ADDR
// end ;
4462: LD_VAR 0 1
4466: RET
// export function init_map ; var i ; begin
4467: LD_INT 0
4469: PPUSH
4470: PPUSH
// base_level = base_level [ def_base_level + 1 ] ;
4471: LD_ADDR_EXP 37
4475: PUSH
4476: LD_EXP 37
4480: PUSH
4481: LD_EXP 10
4485: PUSH
4486: LD_INT 1
4488: PLUS
4489: ARRAY
4490: ST_TO_ADDR
// number_of_people = number_of_people [ def_amount_of_people + 1 ] ;
4491: LD_ADDR_EXP 40
4495: PUSH
4496: LD_EXP 40
4500: PUSH
4501: LD_EXP 11
4505: PUSH
4506: LD_INT 1
4508: PLUS
4509: ARRAY
4510: ST_TO_ADDR
// number_of_apemen = number_of_apemen [ def_amount_of_apemen_in_team + 1 ] ;
4511: LD_ADDR_EXP 41
4515: PUSH
4516: LD_EXP 41
4520: PUSH
4521: LD_EXP 12
4525: PUSH
4526: LD_INT 1
4528: PLUS
4529: ARRAY
4530: ST_TO_ADDR
// initial_level = initial_level [ def_initial_level + 1 ] ;
4531: LD_ADDR_EXP 42
4535: PUSH
4536: LD_EXP 42
4540: PUSH
4541: LD_EXP 13
4545: PUSH
4546: LD_INT 1
4548: PLUS
4549: ARRAY
4550: ST_TO_ADDR
// starting_resources = starting_resources [ def_starting_resources + 1 ] ;
4551: LD_ADDR_EXP 44
4555: PUSH
4556: LD_EXP 44
4560: PUSH
4561: LD_EXP 15
4565: PUSH
4566: LD_INT 1
4568: PLUS
4569: ARRAY
4570: ST_TO_ADDR
// starting_crates = starting_crates [ def_starting_resources + 1 ] ;
4571: LD_ADDR_EXP 43
4575: PUSH
4576: LD_EXP 43
4580: PUSH
4581: LD_EXP 15
4585: PUSH
4586: LD_INT 1
4588: PLUS
4589: ARRAY
4590: ST_TO_ADDR
// Tech_Level = def_tech_level ;
4591: LD_ADDR_EXP 56
4595: PUSH
4596: LD_EXP 26
4600: ST_TO_ADDR
// Hustota_Zasilek ;
4601: CALL 2178 0 0
// spawning_koef_of_apemen = spawning_koef_of_apemen [ def_amount_of_apemen + 1 ] ;
4605: LD_ADDR_EXP 47
4609: PUSH
4610: LD_EXP 47
4614: PUSH
4615: LD_EXP 22
4619: PUSH
4620: LD_INT 1
4622: PLUS
4623: ARRAY
4624: ST_TO_ADDR
// spawning_koef_of_tiger = spawning_koef_of_tiger [ def_amount_of_tiger + 1 ] ;
4625: LD_ADDR_EXP 48
4629: PUSH
4630: LD_EXP 48
4634: PUSH
4635: LD_EXP 23
4639: PUSH
4640: LD_INT 1
4642: PLUS
4643: ARRAY
4644: ST_TO_ADDR
// respawning_time_min = respawning_time_min [ def_people_respawning + 1 ] ;
4645: LD_ADDR_EXP 49
4649: PUSH
4650: LD_EXP 49
4654: PUSH
4655: LD_EXP 25
4659: PUSH
4660: LD_INT 1
4662: PLUS
4663: ARRAY
4664: ST_TO_ADDR
// respawning_time_max = respawning_time_max [ def_people_respawning + 1 ] ;
4665: LD_ADDR_EXP 51
4669: PUSH
4670: LD_EXP 51
4674: PUSH
4675: LD_EXP 25
4679: PUSH
4680: LD_INT 1
4682: PLUS
4683: ARRAY
4684: ST_TO_ADDR
// respawning_time_delay_min = respawning_time_delay_min [ def_people_respawning + 1 ] ;
4685: LD_ADDR_EXP 53
4689: PUSH
4690: LD_EXP 53
4694: PUSH
4695: LD_EXP 25
4699: PUSH
4700: LD_INT 1
4702: PLUS
4703: ARRAY
4704: ST_TO_ADDR
// respawning_time_delay_max = respawning_time_delay_max [ def_people_respawning + 1 ] ;
4705: LD_ADDR_EXP 54
4709: PUSH
4710: LD_EXP 54
4714: PUSH
4715: LD_EXP 25
4719: PUSH
4720: LD_INT 1
4722: PLUS
4723: ARRAY
4724: ST_TO_ADDR
// daily_start = daily_start [ def_daily_start + 1 ] ;
4725: LD_ADDR_EXP 58
4729: PUSH
4730: LD_EXP 58
4734: PUSH
4735: LD_EXP 32
4739: PUSH
4740: LD_INT 1
4742: PLUS
4743: ARRAY
4744: ST_TO_ADDR
// daily_speed = daily_speed [ def_daily_speed + 1 ] ;
4745: LD_ADDR_EXP 59
4749: PUSH
4750: LD_EXP 59
4754: PUSH
4755: LD_EXP 33
4759: PUSH
4760: LD_INT 1
4762: PLUS
4763: ARRAY
4764: ST_TO_ADDR
// morale_decreasing_time = morale_decreasing_time [ def_morale_flags + 1 ] ;
4765: LD_ADDR_EXP 46
4769: PUSH
4770: LD_EXP 46
4774: PUSH
4775: LD_EXP 20
4779: PUSH
4780: LD_INT 1
4782: PLUS
4783: ARRAY
4784: ST_TO_ADDR
// battle_flags_id = [ ] ;
4785: LD_ADDR_EXP 89
4789: PUSH
4790: EMPTY
4791: ST_TO_ADDR
// heroes = [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
4792: LD_ADDR_EXP 50
4796: PUSH
4797: EMPTY
4798: PUSH
4799: EMPTY
4800: PUSH
4801: EMPTY
4802: PUSH
4803: EMPTY
4804: PUSH
4805: EMPTY
4806: PUSH
4807: EMPTY
4808: PUSH
4809: EMPTY
4810: PUSH
4811: EMPTY
4812: PUSH
4813: EMPTY
4814: LIST
4815: LIST
4816: LIST
4817: LIST
4818: LIST
4819: LIST
4820: LIST
4821: LIST
4822: ST_TO_ADDR
// final_count = final_count [ def_kings_age + 1 ] ;
4823: LD_ADDR_EXP 57
4827: PUSH
4828: LD_EXP 57
4832: PUSH
4833: LD_EXP 35
4837: PUSH
4838: LD_INT 1
4840: PLUS
4841: ARRAY
4842: ST_TO_ADDR
// WarForTerritory_flags = WarForTerritory_flags [ def_warForTerritory + 1 ] ;
4843: LD_ADDR_EXP 65
4847: PUSH
4848: LD_EXP 65
4852: PUSH
4853: LD_EXP 36
4857: PUSH
4858: LD_INT 1
4860: PLUS
4861: ARRAY
4862: ST_TO_ADDR
// WarForTerritory_Points = WarForTerritory_Points [ def_warForTerritory + 1 ] ;
4863: LD_ADDR_EXP 64
4867: PUSH
4868: LD_EXP 64
4872: PUSH
4873: LD_EXP 36
4877: PUSH
4878: LD_INT 1
4880: PLUS
4881: ARRAY
4882: ST_TO_ADDR
// buildUpTime_Delay := buildUpTime_Delay [ def_builduptime + 1 ] ;
4883: LD_ADDR_EXP 66
4887: PUSH
4888: LD_EXP 66
4892: PUSH
4893: LD_EXP 30
4897: PUSH
4898: LD_INT 1
4900: PLUS
4901: ARRAY
4902: ST_TO_ADDR
// siberite_bomb_Delay := siberite_bomb_Delay [ def_siberite_bomb + 1 ] ;
4903: LD_ADDR_EXP 67
4907: PUSH
4908: LD_EXP 67
4912: PUSH
4913: LD_EXP 29
4917: PUSH
4918: LD_INT 1
4920: PLUS
4921: ARRAY
4922: ST_TO_ADDR
// for i = 1 to depot_def + 0 do
4923: LD_ADDR_VAR 0 2
4927: PUSH
4928: DOUBLE
4929: LD_INT 1
4931: DEC
4932: ST_TO_ADDR
4933: LD_EXP 81
4937: PUSH
4938: LD_INT 0
4940: PLUS
4941: PUSH
4942: FOR_TO
4943: IFFALSE 5049
// start_def := start_def ^ [ [ ShiftX ( depot_def [ i ] [ 1 ] , depot_def [ i ] [ 3 ] mod 6 , 6 ) , ShiftY ( depot_def [ i ] [ 2 ] , depot_def [ i ] [ 3 ] mod 6 , 6 ) ] ] ;
4945: LD_ADDR_EXP 83
4949: PUSH
4950: LD_EXP 83
4954: PUSH
4955: LD_EXP 81
4959: PUSH
4960: LD_VAR 0 2
4964: ARRAY
4965: PUSH
4966: LD_INT 1
4968: ARRAY
4969: PPUSH
4970: LD_EXP 81
4974: PUSH
4975: LD_VAR 0 2
4979: ARRAY
4980: PUSH
4981: LD_INT 3
4983: ARRAY
4984: PUSH
4985: LD_INT 6
4987: MOD
4988: PPUSH
4989: LD_INT 6
4991: PPUSH
4992: CALL_OW 272
4996: PUSH
4997: LD_EXP 81
5001: PUSH
5002: LD_VAR 0 2
5006: ARRAY
5007: PUSH
5008: LD_INT 2
5010: ARRAY
5011: PPUSH
5012: LD_EXP 81
5016: PUSH
5017: LD_VAR 0 2
5021: ARRAY
5022: PUSH
5023: LD_INT 3
5025: ARRAY
5026: PUSH
5027: LD_INT 6
5029: MOD
5030: PPUSH
5031: LD_INT 6
5033: PPUSH
5034: CALL_OW 273
5038: PUSH
5039: EMPTY
5040: LIST
5041: LIST
5042: PUSH
5043: EMPTY
5044: LIST
5045: ADD
5046: ST_TO_ADDR
5047: GO 4942
5049: POP
5050: POP
// if not Game_Type in GT_Survival then
5051: LD_EXP 1
5055: PUSH
5056: LD_EXP 6
5060: IN
5061: NOT
5062: IFFALSE 5244
// begin for i in oil_deposits_locations do
5064: LD_ADDR_VAR 0 2
5068: PUSH
5069: LD_EXP 86
5073: PUSH
5074: FOR_IN
5075: IFFALSE 5104
// CreateDepositXY ( i [ 1 ] , i [ 2 ] , mat_oil ) ;
5077: LD_VAR 0 2
5081: PUSH
5082: LD_INT 1
5084: ARRAY
5085: PPUSH
5086: LD_VAR 0 2
5090: PUSH
5091: LD_INT 2
5093: ARRAY
5094: PPUSH
5095: LD_INT 2
5097: PPUSH
5098: CALL_OW 62
5102: GO 5074
5104: POP
5105: POP
// for i in siberite_deposits_locations do
5106: LD_ADDR_VAR 0 2
5110: PUSH
5111: LD_EXP 88
5115: PUSH
5116: FOR_IN
5117: IFFALSE 5146
// CreateDepositXY ( i [ 1 ] , i [ 2 ] , mat_siberit ) ;
5119: LD_VAR 0 2
5123: PUSH
5124: LD_INT 1
5126: ARRAY
5127: PPUSH
5128: LD_VAR 0 2
5132: PUSH
5133: LD_INT 2
5135: ARRAY
5136: PPUSH
5137: LD_INT 3
5139: PPUSH
5140: CALL_OW 62
5144: GO 5116
5146: POP
5147: POP
// if def_extra_oil_deposits then
5148: LD_EXP 17
5152: IFFALSE 5196
// for i in extra_oil_deposits_locations do
5154: LD_ADDR_VAR 0 2
5158: PUSH
5159: LD_EXP 85
5163: PUSH
5164: FOR_IN
5165: IFFALSE 5194
// CreateDepositXY ( i [ 1 ] , i [ 2 ] , mat_oil ) ;
5167: LD_VAR 0 2
5171: PUSH
5172: LD_INT 1
5174: ARRAY
5175: PPUSH
5176: LD_VAR 0 2
5180: PUSH
5181: LD_INT 2
5183: ARRAY
5184: PPUSH
5185: LD_INT 2
5187: PPUSH
5188: CALL_OW 62
5192: GO 5164
5194: POP
5195: POP
// if def_extra_sib_deposits then
5196: LD_EXP 18
5200: IFFALSE 5244
// for i in extra_sib_deposits_locations do
5202: LD_ADDR_VAR 0 2
5206: PUSH
5207: LD_EXP 87
5211: PUSH
5212: FOR_IN
5213: IFFALSE 5242
// CreateDepositXY ( i [ 1 ] , i [ 2 ] , mat_siberit ) ;
5215: LD_VAR 0 2
5219: PUSH
5220: LD_INT 1
5222: ARRAY
5223: PPUSH
5224: LD_VAR 0 2
5228: PUSH
5229: LD_INT 2
5231: ARRAY
5232: PPUSH
5233: LD_INT 3
5235: PPUSH
5236: CALL_OW 62
5240: GO 5212
5242: POP
5243: POP
// end ; for i := 1 to 8 do
5244: LD_ADDR_VAR 0 2
5248: PUSH
5249: DOUBLE
5250: LD_INT 1
5252: DEC
5253: ST_TO_ADDR
5254: LD_INT 8
5256: PUSH
5257: FOR_TO
5258: IFFALSE 5305
// if Side_Positions [ i ] then
5260: LD_EXP 75
5264: PUSH
5265: LD_VAR 0 2
5269: ARRAY
5270: IFFALSE 5303
// Position_Sides := Replace ( Position_Sides , Side_Positions [ i ] , i ) ;
5272: LD_ADDR_EXP 62
5276: PUSH
5277: LD_EXP 62
5281: PPUSH
5282: LD_EXP 75
5286: PUSH
5287: LD_VAR 0 2
5291: ARRAY
5292: PPUSH
5293: LD_VAR 0 2
5297: PPUSH
5298: CALL_OW 1
5302: ST_TO_ADDR
5303: GO 5257
5305: POP
5306: POP
// end ;
5307: LD_VAR 0 1
5311: RET
// export function set_shared_visions_and_alliances ; var i , j ; begin
5312: LD_INT 0
5314: PPUSH
5315: PPUSH
5316: PPUSH
// Team_Game := ( Side_Teams diff [ 0 ] ) > 1 ;
5317: LD_ADDR_EXP 80
5321: PUSH
5322: LD_EXP 72
5326: PUSH
5327: LD_INT 0
5329: PUSH
5330: EMPTY
5331: LIST
5332: DIFF
5333: PUSH
5334: LD_INT 1
5336: GREATER
5337: ST_TO_ADDR
// if not Team_Game then
5338: LD_EXP 80
5342: NOT
5343: IFFALSE 5441
// begin for i = 1 to 8 do
5345: LD_ADDR_VAR 0 2
5349: PUSH
5350: DOUBLE
5351: LD_INT 1
5353: DEC
5354: ST_TO_ADDR
5355: LD_INT 8
5357: PUSH
5358: FOR_TO
5359: IFFALSE 5437
// for j = 1 to 8 do
5361: LD_ADDR_VAR 0 3
5365: PUSH
5366: DOUBLE
5367: LD_INT 1
5369: DEC
5370: ST_TO_ADDR
5371: LD_INT 8
5373: PUSH
5374: FOR_TO
5375: IFFALSE 5433
// if i <> j then
5377: LD_VAR 0 2
5381: PUSH
5382: LD_VAR 0 3
5386: NONEQUAL
5387: IFFALSE 5411
// SetAttitude ( i , j , att_neutral , true ) else
5389: LD_VAR 0 2
5393: PPUSH
5394: LD_VAR 0 3
5398: PPUSH
5399: LD_INT 0
5401: PPUSH
5402: LD_INT 1
5404: PPUSH
5405: CALL_OW 80
5409: GO 5431
// SetAttitude ( i , j , att_friend , true ) ;
5411: LD_VAR 0 2
5415: PPUSH
5416: LD_VAR 0 3
5420: PPUSH
5421: LD_INT 1
5423: PPUSH
5424: LD_INT 1
5426: PPUSH
5427: CALL_OW 80
5431: GO 5374
5433: POP
5434: POP
5435: GO 5358
5437: POP
5438: POP
// end else
5439: GO 5616
// begin if def_shared_vision then
5441: LD_EXP 19
5445: IFFALSE 5510
// begin for i in Teams do
5447: LD_ADDR_VAR 0 2
5451: PUSH
5452: LD_EXP 73
5456: PUSH
5457: FOR_IN
5458: IFFALSE 5508
// for j = 2 to i do
5460: LD_ADDR_VAR 0 3
5464: PUSH
5465: DOUBLE
5466: LD_INT 2
5468: DEC
5469: ST_TO_ADDR
5470: LD_VAR 0 2
5474: PUSH
5475: FOR_TO
5476: IFFALSE 5504
// ChangeSideFog ( i [ j ] , i [ 1 ] ) ;
5478: LD_VAR 0 2
5482: PUSH
5483: LD_VAR 0 3
5487: ARRAY
5488: PPUSH
5489: LD_VAR 0 2
5493: PUSH
5494: LD_INT 1
5496: ARRAY
5497: PPUSH
5498: CALL_OW 343
5502: GO 5475
5504: POP
5505: POP
5506: GO 5457
5508: POP
5509: POP
// end ; for i = 1 to 8 do
5510: LD_ADDR_VAR 0 2
5514: PUSH
5515: DOUBLE
5516: LD_INT 1
5518: DEC
5519: ST_TO_ADDR
5520: LD_INT 8
5522: PUSH
5523: FOR_TO
5524: IFFALSE 5614
// for j = 1 to 8 do
5526: LD_ADDR_VAR 0 3
5530: PUSH
5531: DOUBLE
5532: LD_INT 1
5534: DEC
5535: ST_TO_ADDR
5536: LD_INT 8
5538: PUSH
5539: FOR_TO
5540: IFFALSE 5610
// if Side_Teams [ i ] = Side_Teams [ j ] then
5542: LD_EXP 72
5546: PUSH
5547: LD_VAR 0 2
5551: ARRAY
5552: PUSH
5553: LD_EXP 72
5557: PUSH
5558: LD_VAR 0 3
5562: ARRAY
5563: EQUAL
5564: IFFALSE 5588
// SetAttitude ( i , j , att_friend , true ) else
5566: LD_VAR 0 2
5570: PPUSH
5571: LD_VAR 0 3
5575: PPUSH
5576: LD_INT 1
5578: PPUSH
5579: LD_INT 1
5581: PPUSH
5582: CALL_OW 80
5586: GO 5608
// SetAttitude ( i , j , att_enemy , true ) ;
5588: LD_VAR 0 2
5592: PPUSH
5593: LD_VAR 0 3
5597: PPUSH
5598: LD_INT 2
5600: PPUSH
5601: LD_INT 1
5603: PPUSH
5604: CALL_OW 80
5608: GO 5539
5610: POP
5611: POP
5612: GO 5523
5614: POP
5615: POP
// end ; end ;
5616: LD_VAR 0 1
5620: RET
// export function prepare_sides ; var i , pos ; begin
5621: LD_INT 0
5623: PPUSH
5624: PPUSH
5625: PPUSH
// global_units = [ ] ;
5626: LD_ADDR_EXP 93
5630: PUSH
5631: EMPTY
5632: ST_TO_ADDR
// global_classes = [ ] ;
5633: LD_ADDR_EXP 97
5637: PUSH
5638: EMPTY
5639: ST_TO_ADDR
// global_defined := false ;
5640: LD_ADDR_EXP 94
5644: PUSH
5645: LD_INT 0
5647: ST_TO_ADDR
// pozice_beden = [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
5648: LD_ADDR_EXP 8
5652: PUSH
5653: EMPTY
5654: PUSH
5655: EMPTY
5656: PUSH
5657: EMPTY
5658: PUSH
5659: EMPTY
5660: PUSH
5661: EMPTY
5662: PUSH
5663: EMPTY
5664: PUSH
5665: EMPTY
5666: PUSH
5667: EMPTY
5668: PUSH
5669: EMPTY
5670: LIST
5671: LIST
5672: LIST
5673: LIST
5674: LIST
5675: LIST
5676: LIST
5677: LIST
5678: ST_TO_ADDR
// for i := 1 to 8 do
5679: LD_ADDR_VAR 0 2
5683: PUSH
5684: DOUBLE
5685: LD_INT 1
5687: DEC
5688: ST_TO_ADDR
5689: LD_INT 8
5691: PUSH
5692: FOR_TO
5693: IFFALSE 6158
// if Side_Positions [ i ] then
5695: LD_EXP 75
5699: PUSH
5700: LD_VAR 0 2
5704: ARRAY
5705: IFFALSE 6156
// begin pos := Side_Positions [ i ] ;
5707: LD_ADDR_VAR 0 3
5711: PUSH
5712: LD_EXP 75
5716: PUSH
5717: LD_VAR 0 2
5721: ARRAY
5722: ST_TO_ADDR
// if Game_Type in GT_DoubleNat ^ GT_DoublePeople then
5723: LD_EXP 1
5727: PUSH
5728: LD_EXP 3
5732: PUSH
5733: LD_EXP 4
5737: ADD
5738: IN
5739: IFFALSE 5949
// begin if Game_Type in GT_DoubleNat then
5741: LD_EXP 1
5745: PUSH
5746: LD_EXP 3
5750: IN
5751: IFFALSE 5855
// begin prepare_side ( i , pos , Position_Nations [ i ] [ 1 ] ) ;
5753: LD_VAR 0 2
5757: PPUSH
5758: LD_VAR 0 3
5762: PPUSH
5763: LD_EXP 52
5767: PUSH
5768: LD_VAR 0 2
5772: ARRAY
5773: PUSH
5774: LD_INT 1
5776: ARRAY
5777: PPUSH
5778: CALL 6538 0 3
// prepare_side ( i , pos + 1 , Position_Nations [ i ] [ 2 ] ) ;
5782: LD_VAR 0 2
5786: PPUSH
5787: LD_VAR 0 3
5791: PUSH
5792: LD_INT 1
5794: PLUS
5795: PPUSH
5796: LD_EXP 52
5800: PUSH
5801: LD_VAR 0 2
5805: ARRAY
5806: PUSH
5807: LD_INT 2
5809: ARRAY
5810: PPUSH
5811: CALL 6538 0 3
// pozice_beden = replace ( pozice_beden , i , [ pos , pos + 1 ] ) ;
5815: LD_ADDR_EXP 8
5819: PUSH
5820: LD_EXP 8
5824: PPUSH
5825: LD_VAR 0 2
5829: PPUSH
5830: LD_VAR 0 3
5834: PUSH
5835: LD_VAR 0 3
5839: PUSH
5840: LD_INT 1
5842: PLUS
5843: PUSH
5844: EMPTY
5845: LIST
5846: LIST
5847: PPUSH
5848: CALL_OW 1
5852: ST_TO_ADDR
// end else
5853: GO 5947
// begin prepare_side ( i , pos , Side_Nations [ i ] ) ;
5855: LD_VAR 0 2
5859: PPUSH
5860: LD_VAR 0 3
5864: PPUSH
5865: LD_EXP 76
5869: PUSH
5870: LD_VAR 0 2
5874: ARRAY
5875: PPUSH
5876: CALL 6538 0 3
// prepare_side ( i , pos + 1 , Side_Nations [ i ] ) ;
5880: LD_VAR 0 2
5884: PPUSH
5885: LD_VAR 0 3
5889: PUSH
5890: LD_INT 1
5892: PLUS
5893: PPUSH
5894: LD_EXP 76
5898: PUSH
5899: LD_VAR 0 2
5903: ARRAY
5904: PPUSH
5905: CALL 6538 0 3
// pozice_beden = replace ( pozice_beden , i , [ pos , pos + 1 ] ) ;
5909: LD_ADDR_EXP 8
5913: PUSH
5914: LD_EXP 8
5918: PPUSH
5919: LD_VAR 0 2
5923: PPUSH
5924: LD_VAR 0 3
5928: PUSH
5929: LD_VAR 0 3
5933: PUSH
5934: LD_INT 1
5936: PLUS
5937: PUSH
5938: EMPTY
5939: LIST
5940: LIST
5941: PPUSH
5942: CALL_OW 1
5946: ST_TO_ADDR
// end ; end else
5947: GO 6131
// if game_type in GT_TripleNat then
5949: LD_EXP 1
5953: PUSH
5954: LD_EXP 5
5958: IN
5959: IFFALSE 6106
// begin prepare_side ( i , pos , Position_Nations [ i ] [ 1 ] ) ;
5961: LD_VAR 0 2
5965: PPUSH
5966: LD_VAR 0 3
5970: PPUSH
5971: LD_EXP 52
5975: PUSH
5976: LD_VAR 0 2
5980: ARRAY
5981: PUSH
5982: LD_INT 1
5984: ARRAY
5985: PPUSH
5986: CALL 6538 0 3
// prepare_side ( i , pos + 1 , Position_Nations [ i ] [ 2 ] ) ;
5990: LD_VAR 0 2
5994: PPUSH
5995: LD_VAR 0 3
5999: PUSH
6000: LD_INT 1
6002: PLUS
6003: PPUSH
6004: LD_EXP 52
6008: PUSH
6009: LD_VAR 0 2
6013: ARRAY
6014: PUSH
6015: LD_INT 2
6017: ARRAY
6018: PPUSH
6019: CALL 6538 0 3
// prepare_side ( i , pos + 2 , Position_Nations [ i ] [ 3 ] ) ;
6023: LD_VAR 0 2
6027: PPUSH
6028: LD_VAR 0 3
6032: PUSH
6033: LD_INT 2
6035: PLUS
6036: PPUSH
6037: LD_EXP 52
6041: PUSH
6042: LD_VAR 0 2
6046: ARRAY
6047: PUSH
6048: LD_INT 3
6050: ARRAY
6051: PPUSH
6052: CALL 6538 0 3
// pozice_beden = replace ( pozice_beden , i , [ pos , pos + 1 , pos + 2 ] ) ;
6056: LD_ADDR_EXP 8
6060: PUSH
6061: LD_EXP 8
6065: PPUSH
6066: LD_VAR 0 2
6070: PPUSH
6071: LD_VAR 0 3
6075: PUSH
6076: LD_VAR 0 3
6080: PUSH
6081: LD_INT 1
6083: PLUS
6084: PUSH
6085: LD_VAR 0 3
6089: PUSH
6090: LD_INT 2
6092: PLUS
6093: PUSH
6094: EMPTY
6095: LIST
6096: LIST
6097: LIST
6098: PPUSH
6099: CALL_OW 1
6103: ST_TO_ADDR
// end else
6104: GO 6131
// prepare_side ( i , pos , Side_Nations [ i ] ) ;
6106: LD_VAR 0 2
6110: PPUSH
6111: LD_VAR 0 3
6115: PPUSH
6116: LD_EXP 76
6120: PUSH
6121: LD_VAR 0 2
6125: ARRAY
6126: PPUSH
6127: CALL 6538 0 3
// pozice_beden = replace ( pozice_beden , i , pos ) ;
6131: LD_ADDR_EXP 8
6135: PUSH
6136: LD_EXP 8
6140: PPUSH
6141: LD_VAR 0 2
6145: PPUSH
6146: LD_VAR 0 3
6150: PPUSH
6151: CALL_OW 1
6155: ST_TO_ADDR
// end ;
6156: GO 5692
6158: POP
6159: POP
// end ;
6160: LD_VAR 0 1
6164: RET
// export function Modify_Nations ; var i , n ; begin
6165: LD_INT 0
6167: PPUSH
6168: PPUSH
6169: PPUSH
// Position_Nations := [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
6170: LD_ADDR_EXP 52
6174: PUSH
6175: EMPTY
6176: PUSH
6177: EMPTY
6178: PUSH
6179: EMPTY
6180: PUSH
6181: EMPTY
6182: PUSH
6183: EMPTY
6184: PUSH
6185: EMPTY
6186: PUSH
6187: EMPTY
6188: PUSH
6189: EMPTY
6190: PUSH
6191: EMPTY
6192: LIST
6193: LIST
6194: LIST
6195: LIST
6196: LIST
6197: LIST
6198: LIST
6199: LIST
6200: ST_TO_ADDR
// if game_type in GT_doublenat then
6201: LD_EXP 1
6205: PUSH
6206: LD_EXP 3
6210: IN
6211: IFFALSE 6362
// begin for i = 1 to 8 do
6213: LD_ADDR_VAR 0 2
6217: PUSH
6218: DOUBLE
6219: LD_INT 1
6221: DEC
6222: ST_TO_ADDR
6223: LD_INT 8
6225: PUSH
6226: FOR_TO
6227: IFFALSE 6358
// if side_positions [ i ] then
6229: LD_EXP 75
6233: PUSH
6234: LD_VAR 0 2
6238: ARRAY
6239: IFFALSE 6356
// begin case side_nations [ i ] of 1 :
6241: LD_EXP 76
6245: PUSH
6246: LD_VAR 0 2
6250: ARRAY
6251: PUSH
6252: LD_INT 1
6254: DOUBLE
6255: EQUAL
6256: IFTRUE 6260
6258: GO 6278
6260: POP
// n = [ 1 , 2 ] ; 2 :
6261: LD_ADDR_VAR 0 3
6265: PUSH
6266: LD_INT 1
6268: PUSH
6269: LD_INT 2
6271: PUSH
6272: EMPTY
6273: LIST
6274: LIST
6275: ST_TO_ADDR
6276: GO 6331
6278: LD_INT 2
6280: DOUBLE
6281: EQUAL
6282: IFTRUE 6286
6284: GO 6304
6286: POP
// n = [ 2 , 3 ] ; 3 :
6287: LD_ADDR_VAR 0 3
6291: PUSH
6292: LD_INT 2
6294: PUSH
6295: LD_INT 3
6297: PUSH
6298: EMPTY
6299: LIST
6300: LIST
6301: ST_TO_ADDR
6302: GO 6331
6304: LD_INT 3
6306: DOUBLE
6307: EQUAL
6308: IFTRUE 6312
6310: GO 6330
6312: POP
// n = [ 3 , 1 ] ; end ;
6313: LD_ADDR_VAR 0 3
6317: PUSH
6318: LD_INT 3
6320: PUSH
6321: LD_INT 1
6323: PUSH
6324: EMPTY
6325: LIST
6326: LIST
6327: ST_TO_ADDR
6328: GO 6331
6330: POP
// Position_Nations = replace ( position_nations , i , n ) ;
6331: LD_ADDR_EXP 52
6335: PUSH
6336: LD_EXP 52
6340: PPUSH
6341: LD_VAR 0 2
6345: PPUSH
6346: LD_VAR 0 3
6350: PPUSH
6351: CALL_OW 1
6355: ST_TO_ADDR
// end ;
6356: GO 6226
6358: POP
6359: POP
// end else
6360: GO 6533
// if game_type in GT_triplenat then
6362: LD_EXP 1
6366: PUSH
6367: LD_EXP 5
6371: IN
6372: IFFALSE 6533
// begin for i = 1 to 8 do
6374: LD_ADDR_VAR 0 2
6378: PUSH
6379: DOUBLE
6380: LD_INT 1
6382: DEC
6383: ST_TO_ADDR
6384: LD_INT 8
6386: PUSH
6387: FOR_TO
6388: IFFALSE 6531
// if side_positions [ i ] then
6390: LD_EXP 75
6394: PUSH
6395: LD_VAR 0 2
6399: ARRAY
6400: IFFALSE 6529
// begin case side_nations [ i ] of 1 :
6402: LD_EXP 76
6406: PUSH
6407: LD_VAR 0 2
6411: ARRAY
6412: PUSH
6413: LD_INT 1
6415: DOUBLE
6416: EQUAL
6417: IFTRUE 6421
6419: GO 6443
6421: POP
// n = [ 1 , 2 , 3 ] ; 2 :
6422: LD_ADDR_VAR 0 3
6426: PUSH
6427: LD_INT 1
6429: PUSH
6430: LD_INT 2
6432: PUSH
6433: LD_INT 3
6435: PUSH
6436: EMPTY
6437: LIST
6438: LIST
6439: LIST
6440: ST_TO_ADDR
6441: GO 6504
6443: LD_INT 2
6445: DOUBLE
6446: EQUAL
6447: IFTRUE 6451
6449: GO 6473
6451: POP
// n = [ 2 , 3 , 1 ] ; 3 :
6452: LD_ADDR_VAR 0 3
6456: PUSH
6457: LD_INT 2
6459: PUSH
6460: LD_INT 3
6462: PUSH
6463: LD_INT 1
6465: PUSH
6466: EMPTY
6467: LIST
6468: LIST
6469: LIST
6470: ST_TO_ADDR
6471: GO 6504
6473: LD_INT 3
6475: DOUBLE
6476: EQUAL
6477: IFTRUE 6481
6479: GO 6503
6481: POP
// n = [ 3 , 1 , 2 ] ; end ;
6482: LD_ADDR_VAR 0 3
6486: PUSH
6487: LD_INT 3
6489: PUSH
6490: LD_INT 1
6492: PUSH
6493: LD_INT 2
6495: PUSH
6496: EMPTY
6497: LIST
6498: LIST
6499: LIST
6500: ST_TO_ADDR
6501: GO 6504
6503: POP
// Position_Nations = replace ( position_nations , i , n ) ;
6504: LD_ADDR_EXP 52
6508: PUSH
6509: LD_EXP 52
6513: PPUSH
6514: LD_VAR 0 2
6518: PPUSH
6519: LD_VAR 0 3
6523: PPUSH
6524: CALL_OW 1
6528: ST_TO_ADDR
// end ;
6529: GO 6387
6531: POP
6532: POP
// end ; end ;
6533: LD_VAR 0 1
6537: RET
// export function prepare_side ( side , pos , nation ) ; var x , y , i , r , sol , br , dep , neng , nsci , nmech , nsol ; begin
6538: LD_INT 0
6540: PPUSH
6541: PPUSH
6542: PPUSH
6543: PPUSH
6544: PPUSH
6545: PPUSH
6546: PPUSH
6547: PPUSH
6548: PPUSH
6549: PPUSH
6550: PPUSH
6551: PPUSH
// global_count = 0 ;
6552: LD_ADDR_EXP 96
6556: PUSH
6557: LD_INT 0
6559: ST_TO_ADDR
// uc_nation := nation ;
6560: LD_ADDR_OWVAR 21
6564: PUSH
6565: LD_VAR 0 3
6569: ST_TO_ADDR
// uc_side := side ;
6570: LD_ADDR_OWVAR 20
6574: PUSH
6575: LD_VAR 0 1
6579: ST_TO_ADDR
// x := depot_def [ pos ] [ 1 ] ;
6580: LD_ADDR_VAR 0 5
6584: PUSH
6585: LD_EXP 81
6589: PUSH
6590: LD_VAR 0 2
6594: ARRAY
6595: PUSH
6596: LD_INT 1
6598: ARRAY
6599: ST_TO_ADDR
// y := depot_def [ pos ] [ 2 ] ;
6600: LD_ADDR_VAR 0 6
6604: PUSH
6605: LD_EXP 81
6609: PUSH
6610: LD_VAR 0 2
6614: ARRAY
6615: PUSH
6616: LD_INT 2
6618: ARRAY
6619: ST_TO_ADDR
// case base_level of 0 :
6620: LD_EXP 37
6624: PUSH
6625: LD_INT 0
6627: DOUBLE
6628: EQUAL
6629: IFTRUE 6633
6631: GO 6780
6633: POP
// begin for i := 1 to 3 do
6634: LD_ADDR_VAR 0 7
6638: PUSH
6639: DOUBLE
6640: LD_INT 1
6642: DEC
6643: ST_TO_ADDR
6644: LD_INT 3
6646: PUSH
6647: FOR_TO
6648: IFFALSE 6776
// begin r := starting_resources [ i ] ;
6650: LD_ADDR_VAR 0 8
6654: PUSH
6655: LD_EXP 44
6659: PUSH
6660: LD_VAR 0 7
6664: ARRAY
6665: ST_TO_ADDR
// while r >= 10 do
6666: LD_VAR 0 8
6670: PUSH
6671: LD_INT 10
6673: GREATEREQUAL
6674: IFFALSE 6774
// if r > 50 then
6676: LD_VAR 0 8
6680: PUSH
6681: LD_INT 50
6683: GREATER
6684: IFFALSE 6730
// begin CreateResourcesXYR ( i , 5 , x , y , 4 , false ) ;
6686: LD_VAR 0 7
6690: PPUSH
6691: LD_INT 5
6693: PPUSH
6694: LD_VAR 0 5
6698: PPUSH
6699: LD_VAR 0 6
6703: PPUSH
6704: LD_INT 4
6706: PPUSH
6707: LD_INT 0
6709: PPUSH
6710: CALL_OW 60
// r := r - 50 ;
6714: LD_ADDR_VAR 0 8
6718: PUSH
6719: LD_VAR 0 8
6723: PUSH
6724: LD_INT 50
6726: MINUS
6727: ST_TO_ADDR
// end else
6728: GO 6772
// begin CreateResourcesXYR ( i , r div 10 , x , y , 4 , false ) ;
6730: LD_VAR 0 7
6734: PPUSH
6735: LD_VAR 0 8
6739: PUSH
6740: LD_INT 10
6742: DIV
6743: PPUSH
6744: LD_VAR 0 5
6748: PPUSH
6749: LD_VAR 0 6
6753: PPUSH
6754: LD_INT 4
6756: PPUSH
6757: LD_INT 0
6759: PPUSH
6760: CALL_OW 60
// r := 0 ;
6764: LD_ADDR_VAR 0 8
6768: PUSH
6769: LD_INT 0
6771: ST_TO_ADDR
// end ;
6772: GO 6666
// end ;
6774: GO 6647
6776: POP
6777: POP
// end ; 1 :
6778: GO 7045
6780: LD_INT 1
6782: DOUBLE
6783: EQUAL
6784: IFTRUE 6788
6786: GO 6912
6788: POP
// begin bc_type = b_depot ;
6789: LD_ADDR_OWVAR 42
6793: PUSH
6794: LD_INT 0
6796: ST_TO_ADDR
// dep := CreateAndPlaceBuildingXYD ( x , y , Depot_Def [ pos ] [ 3 ] ) ;
6797: LD_ADDR_VAR 0 11
6801: PUSH
6802: LD_VAR 0 5
6806: PPUSH
6807: LD_VAR 0 6
6811: PPUSH
6812: LD_EXP 81
6816: PUSH
6817: LD_VAR 0 2
6821: ARRAY
6822: PUSH
6823: LD_INT 3
6825: ARRAY
6826: PPUSH
6827: CALL_OW 47
6831: ST_TO_ADDR
// SetResourceType ( GetBase ( dep ) , mat_cans , starting_resources [ mat_cans ] ) ;
6832: LD_VAR 0 11
6836: PPUSH
6837: CALL_OW 274
6841: PPUSH
6842: LD_INT 1
6844: PPUSH
6845: LD_EXP 44
6849: PUSH
6850: LD_INT 1
6852: ARRAY
6853: PPUSH
6854: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_oil , starting_resources [ mat_oil ] ) ;
6858: LD_VAR 0 11
6862: PPUSH
6863: CALL_OW 274
6867: PPUSH
6868: LD_INT 2
6870: PPUSH
6871: LD_EXP 44
6875: PUSH
6876: LD_INT 2
6878: ARRAY
6879: PPUSH
6880: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_siberit , starting_resources [ mat_siberit ] ) ;
6884: LD_VAR 0 11
6888: PPUSH
6889: CALL_OW 274
6893: PPUSH
6894: LD_INT 3
6896: PPUSH
6897: LD_EXP 44
6901: PUSH
6902: LD_INT 3
6904: ARRAY
6905: PPUSH
6906: CALL_OW 277
// end ; 2 :
6910: GO 7045
6912: LD_INT 2
6914: DOUBLE
6915: EQUAL
6916: IFTRUE 6920
6918: GO 7044
6920: POP
// begin bc_type = b_warehouse ;
6921: LD_ADDR_OWVAR 42
6925: PUSH
6926: LD_INT 1
6928: ST_TO_ADDR
// dep := CreateAndPlaceBuildingXYD ( x , y , Depot_Def [ pos ] [ 3 ] ) ;
6929: LD_ADDR_VAR 0 11
6933: PUSH
6934: LD_VAR 0 5
6938: PPUSH
6939: LD_VAR 0 6
6943: PPUSH
6944: LD_EXP 81
6948: PUSH
6949: LD_VAR 0 2
6953: ARRAY
6954: PUSH
6955: LD_INT 3
6957: ARRAY
6958: PPUSH
6959: CALL_OW 47
6963: ST_TO_ADDR
// SetResourceType ( GetBase ( dep ) , mat_cans , starting_resources [ mat_cans ] ) ;
6964: LD_VAR 0 11
6968: PPUSH
6969: CALL_OW 274
6973: PPUSH
6974: LD_INT 1
6976: PPUSH
6977: LD_EXP 44
6981: PUSH
6982: LD_INT 1
6984: ARRAY
6985: PPUSH
6986: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_oil , starting_resources [ mat_oil ] ) ;
6990: LD_VAR 0 11
6994: PPUSH
6995: CALL_OW 274
6999: PPUSH
7000: LD_INT 2
7002: PPUSH
7003: LD_EXP 44
7007: PUSH
7008: LD_INT 2
7010: ARRAY
7011: PPUSH
7012: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_siberit , starting_resources [ mat_siberit ] ) ;
7016: LD_VAR 0 11
7020: PPUSH
7021: CALL_OW 274
7025: PPUSH
7026: LD_INT 3
7028: PPUSH
7029: LD_EXP 44
7033: PUSH
7034: LD_INT 3
7036: ARRAY
7037: PPUSH
7038: CALL_OW 277
// end ; end ;
7042: GO 7045
7044: POP
// x := start_def [ pos ] [ 1 ] ;
7045: LD_ADDR_VAR 0 5
7049: PUSH
7050: LD_EXP 83
7054: PUSH
7055: LD_VAR 0 2
7059: ARRAY
7060: PUSH
7061: LD_INT 1
7063: ARRAY
7064: ST_TO_ADDR
// y := start_def [ pos ] [ 2 ] ;
7065: LD_ADDR_VAR 0 6
7069: PUSH
7070: LD_EXP 83
7074: PUSH
7075: LD_VAR 0 2
7079: ARRAY
7080: PUSH
7081: LD_INT 2
7083: ARRAY
7084: ST_TO_ADDR
// for r in starting_crates do
7085: LD_ADDR_VAR 0 8
7089: PUSH
7090: LD_EXP 43
7094: PUSH
7095: FOR_IN
7096: IFFALSE 7128
// CreateResourcesXYR ( mat_cans , 5 , x , y , r , false ) ;
7098: LD_INT 1
7100: PPUSH
7101: LD_INT 5
7103: PPUSH
7104: LD_VAR 0 5
7108: PPUSH
7109: LD_VAR 0 6
7113: PPUSH
7114: LD_VAR 0 8
7118: PPUSH
7119: LD_INT 0
7121: PPUSH
7122: CALL_OW 60
7126: GO 7095
7128: POP
7129: POP
// if def_morale_flags then
7130: LD_EXP 20
7134: IFFALSE 7299
// if not def_WarForTerritory then
7136: LD_EXP 36
7140: NOT
7141: IFFALSE 7222
// battle_flags_id := battle_flags_id ^ SetBattleFlag ( side , x , y , [ [ bfo_defend_bonus_human , 100 ] , [ bfo_defend_bonus_vehicle , 50 ] , [ bfo_defend_bonus_building , 20 ] , [ bfo_height , 100 ] ] ) else
7143: LD_ADDR_EXP 89
7147: PUSH
7148: LD_EXP 89
7152: PUSH
7153: LD_VAR 0 1
7157: PPUSH
7158: LD_VAR 0 5
7162: PPUSH
7163: LD_VAR 0 6
7167: PPUSH
7168: LD_INT 1
7170: PUSH
7171: LD_INT 100
7173: PUSH
7174: EMPTY
7175: LIST
7176: LIST
7177: PUSH
7178: LD_INT 2
7180: PUSH
7181: LD_INT 50
7183: PUSH
7184: EMPTY
7185: LIST
7186: LIST
7187: PUSH
7188: LD_INT 3
7190: PUSH
7191: LD_INT 20
7193: PUSH
7194: EMPTY
7195: LIST
7196: LIST
7197: PUSH
7198: LD_INT 20
7200: PUSH
7201: LD_INT 100
7203: PUSH
7204: EMPTY
7205: LIST
7206: LIST
7207: PUSH
7208: EMPTY
7209: LIST
7210: LIST
7211: LIST
7212: LIST
7213: PPUSH
7214: CALL_OW 418
7218: ADD
7219: ST_TO_ADDR
7220: GO 7299
// battle_flags_id := battle_flags_id ^ SetBattleFlag ( side , x , y , [ [ bfo_defend_bonus_human , 200 ] , [ bfo_defend_bonus_vehicle , 100 ] , [ bfo_defend_bonus_building , 50 ] , [ bfo_height , 100 ] ] ) ;
7222: LD_ADDR_EXP 89
7226: PUSH
7227: LD_EXP 89
7231: PUSH
7232: LD_VAR 0 1
7236: PPUSH
7237: LD_VAR 0 5
7241: PPUSH
7242: LD_VAR 0 6
7246: PPUSH
7247: LD_INT 1
7249: PUSH
7250: LD_INT 200
7252: PUSH
7253: EMPTY
7254: LIST
7255: LIST
7256: PUSH
7257: LD_INT 2
7259: PUSH
7260: LD_INT 100
7262: PUSH
7263: EMPTY
7264: LIST
7265: LIST
7266: PUSH
7267: LD_INT 3
7269: PUSH
7270: LD_INT 50
7272: PUSH
7273: EMPTY
7274: LIST
7275: LIST
7276: PUSH
7277: LD_INT 20
7279: PUSH
7280: LD_INT 100
7282: PUSH
7283: EMPTY
7284: LIST
7285: LIST
7286: PUSH
7287: EMPTY
7288: LIST
7289: LIST
7290: LIST
7291: LIST
7292: PPUSH
7293: CALL_OW 418
7297: ADD
7298: ST_TO_ADDR
// if for_show_near_resources then
7299: LD_EXP 63
7303: IFFALSE 7437
// begin for i in for_show_near_resources [ pos ] [ 1 ] do
7305: LD_ADDR_VAR 0 7
7309: PUSH
7310: LD_EXP 63
7314: PUSH
7315: LD_VAR 0 2
7319: ARRAY
7320: PUSH
7321: LD_INT 1
7323: ARRAY
7324: PUSH
7325: FOR_IN
7326: IFFALSE 7357
// SetResourceVisibility ( i [ 1 ] , i [ 2 ] , side ) ;
7328: LD_VAR 0 7
7332: PUSH
7333: LD_INT 1
7335: ARRAY
7336: PPUSH
7337: LD_VAR 0 7
7341: PUSH
7342: LD_INT 2
7344: ARRAY
7345: PPUSH
7346: LD_VAR 0 1
7350: PPUSH
7351: CALL_OW 441
7355: GO 7325
7357: POP
7358: POP
// if def_siberite_detection and GetTech ( tech_sibdet , side ) = state_enabled then
7359: LD_EXP 28
7363: PUSH
7364: LD_INT 20
7366: PPUSH
7367: LD_VAR 0 1
7371: PPUSH
7372: CALL_OW 321
7376: PUSH
7377: LD_INT 1
7379: EQUAL
7380: AND
7381: IFFALSE 7437
// for i in for_show_near_resources [ pos ] [ 2 ] do
7383: LD_ADDR_VAR 0 7
7387: PUSH
7388: LD_EXP 63
7392: PUSH
7393: LD_VAR 0 2
7397: ARRAY
7398: PUSH
7399: LD_INT 2
7401: ARRAY
7402: PUSH
7403: FOR_IN
7404: IFFALSE 7435
// SetResourceVisibility ( i [ 1 ] , i [ 2 ] , side ) ;
7406: LD_VAR 0 7
7410: PUSH
7411: LD_INT 1
7413: ARRAY
7414: PPUSH
7415: LD_VAR 0 7
7419: PUSH
7420: LD_INT 2
7422: ARRAY
7423: PPUSH
7424: LD_VAR 0 1
7428: PPUSH
7429: CALL_OW 441
7433: GO 7403
7435: POP
7436: POP
// end ; bc_kind1 = b_lab_basic ;
7437: LD_ADDR_OWVAR 44
7441: PUSH
7442: LD_INT 9
7444: ST_TO_ADDR
// bc_kind2 = b_lab_basic ;
7445: LD_ADDR_OWVAR 45
7449: PUSH
7450: LD_INT 9
7452: ST_TO_ADDR
// for i in buildings_def [ pos ] do
7453: LD_ADDR_VAR 0 7
7457: PUSH
7458: LD_EXP 39
7462: PUSH
7463: LD_VAR 0 2
7467: ARRAY
7468: PUSH
7469: FOR_IN
7470: IFFALSE 7615
// begin if i [ 1 ] in [ b_oil_mine , b_siberite_mine ] then
7472: LD_VAR 0 7
7476: PUSH
7477: LD_INT 1
7479: ARRAY
7480: PUSH
7481: LD_INT 29
7483: PUSH
7484: LD_INT 30
7486: PUSH
7487: EMPTY
7488: LIST
7489: LIST
7490: IN
7491: IFFALSE 7520
// SetResourceVisibility ( i [ 2 ] , i [ 3 ] , side ) ;
7493: LD_VAR 0 7
7497: PUSH
7498: LD_INT 2
7500: ARRAY
7501: PPUSH
7502: LD_VAR 0 7
7506: PUSH
7507: LD_INT 3
7509: ARRAY
7510: PPUSH
7511: LD_VAR 0 1
7515: PPUSH
7516: CALL_OW 441
// bc_type = i [ 1 ] ;
7520: LD_ADDR_OWVAR 42
7524: PUSH
7525: LD_VAR 0 7
7529: PUSH
7530: LD_INT 1
7532: ARRAY
7533: ST_TO_ADDR
// CreateAndPlaceBuildingXYD ( i [ 2 ] , i [ 3 ] , i [ 4 ] ) ;
7534: LD_VAR 0 7
7538: PUSH
7539: LD_INT 2
7541: ARRAY
7542: PPUSH
7543: LD_VAR 0 7
7547: PUSH
7548: LD_INT 3
7550: ARRAY
7551: PPUSH
7552: LD_VAR 0 7
7556: PUSH
7557: LD_INT 4
7559: ARRAY
7560: PPUSH
7561: CALL_OW 47
// x := buildings_def [ pos ] [ 1 ] [ 2 ] ;
7565: LD_ADDR_VAR 0 5
7569: PUSH
7570: LD_EXP 39
7574: PUSH
7575: LD_VAR 0 2
7579: ARRAY
7580: PUSH
7581: LD_INT 1
7583: ARRAY
7584: PUSH
7585: LD_INT 2
7587: ARRAY
7588: ST_TO_ADDR
// y := buildings_def [ pos ] [ 1 ] [ 2 ] ;
7589: LD_ADDR_VAR 0 6
7593: PUSH
7594: LD_EXP 39
7598: PUSH
7599: LD_VAR 0 2
7603: ARRAY
7604: PUSH
7605: LD_INT 1
7607: ARRAY
7608: PUSH
7609: LD_INT 2
7611: ARRAY
7612: ST_TO_ADDR
// end ;
7613: GO 7469
7615: POP
7616: POP
// commander := true ;
7617: LD_ADDR_EXP 55
7621: PUSH
7622: LD_INT 1
7624: ST_TO_ADDR
// x := start_def [ pos ] [ 1 ] ;
7625: LD_ADDR_VAR 0 5
7629: PUSH
7630: LD_EXP 83
7634: PUSH
7635: LD_VAR 0 2
7639: ARRAY
7640: PUSH
7641: LD_INT 1
7643: ARRAY
7644: ST_TO_ADDR
// y := start_def [ pos ] [ 2 ] ;
7645: LD_ADDR_VAR 0 6
7649: PUSH
7650: LD_EXP 83
7654: PUSH
7655: LD_VAR 0 2
7659: ARRAY
7660: PUSH
7661: LD_INT 2
7663: ARRAY
7664: ST_TO_ADDR
// if def_classes then
7665: LD_EXP 14
7669: IFFALSE 7965
// begin neng := number_of_people ;
7671: LD_ADDR_VAR 0 12
7675: PUSH
7676: LD_EXP 40
7680: ST_TO_ADDR
// if nsol < neng div 4 then
7681: LD_VAR 0 15
7685: PUSH
7686: LD_VAR 0 12
7690: PUSH
7691: LD_INT 4
7693: DIV
7694: LESS
7695: IFFALSE 7711
// nsol := neng div 4 ;
7697: LD_ADDR_VAR 0 15
7701: PUSH
7702: LD_VAR 0 12
7706: PUSH
7707: LD_INT 4
7709: DIV
7710: ST_TO_ADDR
// neng := neng - nsol ;
7711: LD_ADDR_VAR 0 12
7715: PUSH
7716: LD_VAR 0 12
7720: PUSH
7721: LD_VAR 0 15
7725: MINUS
7726: ST_TO_ADDR
// nsci := neng div 3 ;
7727: LD_ADDR_VAR 0 13
7731: PUSH
7732: LD_VAR 0 12
7736: PUSH
7737: LD_INT 3
7739: DIV
7740: ST_TO_ADDR
// if nsci < 1 then
7741: LD_VAR 0 13
7745: PUSH
7746: LD_INT 1
7748: LESS
7749: IFFALSE 7759
// nsci := 1 ;
7751: LD_ADDR_VAR 0 13
7755: PUSH
7756: LD_INT 1
7758: ST_TO_ADDR
// neng := neng - nsci ;
7759: LD_ADDR_VAR 0 12
7763: PUSH
7764: LD_VAR 0 12
7768: PUSH
7769: LD_VAR 0 13
7773: MINUS
7774: ST_TO_ADDR
// nmech := neng div 2 ;
7775: LD_ADDR_VAR 0 14
7779: PUSH
7780: LD_VAR 0 12
7784: PUSH
7785: LD_INT 2
7787: DIV
7788: ST_TO_ADDR
// neng := neng - nmech ;
7789: LD_ADDR_VAR 0 12
7793: PUSH
7794: LD_VAR 0 12
7798: PUSH
7799: LD_VAR 0 14
7803: MINUS
7804: ST_TO_ADDR
// if neng < 1 then
7805: LD_VAR 0 12
7809: PUSH
7810: LD_INT 1
7812: LESS
7813: IFFALSE 7823
// neng := 1 ;
7815: LD_ADDR_VAR 0 12
7819: PUSH
7820: LD_INT 1
7822: ST_TO_ADDR
// prepare_people ( side , nsol , class_soldier , x , y , 5 , commander ) ;
7823: LD_VAR 0 1
7827: PPUSH
7828: LD_VAR 0 15
7832: PPUSH
7833: LD_INT 1
7835: PPUSH
7836: LD_VAR 0 5
7840: PPUSH
7841: LD_VAR 0 6
7845: PPUSH
7846: LD_INT 5
7848: PPUSH
7849: LD_ADDR_EXP 55
7853: PPUSH
7854: CALL 8511 0 7
// prepare_people ( side , neng , class_engineer , x , y , 5 , commander ) ;
7858: LD_VAR 0 1
7862: PPUSH
7863: LD_VAR 0 12
7867: PPUSH
7868: LD_INT 2
7870: PPUSH
7871: LD_VAR 0 5
7875: PPUSH
7876: LD_VAR 0 6
7880: PPUSH
7881: LD_INT 5
7883: PPUSH
7884: LD_ADDR_EXP 55
7888: PPUSH
7889: CALL 8511 0 7
// prepare_people ( side , nmech , class_mechanic , x , y , 5 , commander ) ;
7893: LD_VAR 0 1
7897: PPUSH
7898: LD_VAR 0 14
7902: PPUSH
7903: LD_INT 3
7905: PPUSH
7906: LD_VAR 0 5
7910: PPUSH
7911: LD_VAR 0 6
7915: PPUSH
7916: LD_INT 5
7918: PPUSH
7919: LD_ADDR_EXP 55
7923: PPUSH
7924: CALL 8511 0 7
// prepare_people ( side , nsci , class_scientistic , x , y , 5 , commander ) ;
7928: LD_VAR 0 1
7932: PPUSH
7933: LD_VAR 0 13
7937: PPUSH
7938: LD_INT 4
7940: PPUSH
7941: LD_VAR 0 5
7945: PPUSH
7946: LD_VAR 0 6
7950: PPUSH
7951: LD_INT 5
7953: PPUSH
7954: LD_ADDR_EXP 55
7958: PPUSH
7959: CALL 8511 0 7
// end else
7963: GO 8037
// begin prepare_people ( side , number_of_people - 1 , 0 , x , y , 5 , commander ) ;
7965: LD_VAR 0 1
7969: PPUSH
7970: LD_EXP 40
7974: PUSH
7975: LD_INT 1
7977: MINUS
7978: PPUSH
7979: LD_INT 0
7981: PPUSH
7982: LD_VAR 0 5
7986: PPUSH
7987: LD_VAR 0 6
7991: PPUSH
7992: LD_INT 5
7994: PPUSH
7995: LD_ADDR_EXP 55
7999: PPUSH
8000: CALL 8511 0 7
// prepare_people ( side , 1 , class_engineer , x , y , 5 , commander ) ;
8004: LD_VAR 0 1
8008: PPUSH
8009: LD_INT 1
8011: PPUSH
8012: LD_INT 2
8014: PPUSH
8015: LD_VAR 0 5
8019: PPUSH
8020: LD_VAR 0 6
8024: PPUSH
8025: LD_INT 5
8027: PPUSH
8028: LD_ADDR_EXP 55
8032: PPUSH
8033: CALL 8511 0 7
// end ; if number_of_apemen then
8037: LD_EXP 41
8041: IFFALSE 8399
// begin uc_nation = nation_nature ;
8043: LD_ADDR_OWVAR 21
8047: PUSH
8048: LD_INT 0
8050: ST_TO_ADDR
// prepare_people ( side , number_of_apemen , class_apeman , x , y , 5 , commander ) ;
8051: LD_VAR 0 1
8055: PPUSH
8056: LD_EXP 41
8060: PPUSH
8061: LD_INT 12
8063: PPUSH
8064: LD_VAR 0 5
8068: PPUSH
8069: LD_VAR 0 6
8073: PPUSH
8074: LD_INT 5
8076: PPUSH
8077: LD_ADDR_EXP 55
8081: PPUSH
8082: CALL 8511 0 7
// uc_nation = nation ;
8086: LD_ADDR_OWVAR 21
8090: PUSH
8091: LD_VAR 0 3
8095: ST_TO_ADDR
// case nation of 1 :
8096: LD_VAR 0 3
8100: PUSH
8101: LD_INT 1
8103: DOUBLE
8104: EQUAL
8105: IFTRUE 8109
8107: GO 8178
8109: POP
// begin if GetTech ( tech_ApeLang , side ) = state_enabled then
8110: LD_INT 1
8112: PPUSH
8113: LD_VAR 0 1
8117: PPUSH
8118: CALL_OW 321
8122: PUSH
8123: LD_INT 1
8125: EQUAL
8126: IFFALSE 8143
// SetTech ( tech_ApeLang , side , state_researched ) ;
8128: LD_INT 1
8130: PPUSH
8131: LD_VAR 0 1
8135: PPUSH
8136: LD_INT 2
8138: PPUSH
8139: CALL_OW 322
// if GetTech ( tech_ApePsych , side ) = state_enabled then
8143: LD_INT 2
8145: PPUSH
8146: LD_VAR 0 1
8150: PPUSH
8151: CALL_OW 321
8155: PUSH
8156: LD_INT 1
8158: EQUAL
8159: IFFALSE 8176
// SetTech ( tech_ApePsych , side , state_researched ) ;
8161: LD_INT 2
8163: PPUSH
8164: LD_VAR 0 1
8168: PPUSH
8169: LD_INT 2
8171: PPUSH
8172: CALL_OW 322
// end ; 2 :
8176: GO 8399
8178: LD_INT 2
8180: DOUBLE
8181: EQUAL
8182: IFTRUE 8186
8184: GO 8288
8186: POP
// begin if GetTech ( tech_ApeLang , side ) = state_enabled then
8187: LD_INT 1
8189: PPUSH
8190: LD_VAR 0 1
8194: PPUSH
8195: CALL_OW 321
8199: PUSH
8200: LD_INT 1
8202: EQUAL
8203: IFFALSE 8220
// SetTech ( tech_ApeLang , side , state_researched ) ;
8205: LD_INT 1
8207: PPUSH
8208: LD_VAR 0 1
8212: PPUSH
8213: LD_INT 2
8215: PPUSH
8216: CALL_OW 322
// if GetTech ( tech_ApeAgres , side ) = state_enabled then
8220: LD_INT 11
8222: PPUSH
8223: LD_VAR 0 1
8227: PPUSH
8228: CALL_OW 321
8232: PUSH
8233: LD_INT 1
8235: EQUAL
8236: IFFALSE 8253
// SetTech ( tech_ApeAgres , side , state_researched ) ;
8238: LD_INT 11
8240: PPUSH
8241: LD_VAR 0 1
8245: PPUSH
8246: LD_INT 2
8248: PPUSH
8249: CALL_OW 322
// if GetTech ( tech_ApeNeural , side ) = state_enabled then
8253: LD_INT 3
8255: PPUSH
8256: LD_VAR 0 1
8260: PPUSH
8261: CALL_OW 321
8265: PUSH
8266: LD_INT 1
8268: EQUAL
8269: IFFALSE 8286
// SetTech ( tech_ApeNeural , side , state_researched ) ;
8271: LD_INT 3
8273: PPUSH
8274: LD_VAR 0 1
8278: PPUSH
8279: LD_INT 2
8281: PPUSH
8282: CALL_OW 322
// end ; 3 :
8286: GO 8399
8288: LD_INT 3
8290: DOUBLE
8291: EQUAL
8292: IFTRUE 8296
8294: GO 8398
8296: POP
// begin if GetTech ( tech_ApeLang , side ) = state_enabled then
8297: LD_INT 1
8299: PPUSH
8300: LD_VAR 0 1
8304: PPUSH
8305: CALL_OW 321
8309: PUSH
8310: LD_INT 1
8312: EQUAL
8313: IFFALSE 8330
// SetTech ( tech_ApeLang , side , state_researched ) ;
8315: LD_INT 1
8317: PPUSH
8318: LD_VAR 0 1
8322: PPUSH
8323: LD_INT 2
8325: PPUSH
8326: CALL_OW 322
// if GetTech ( tech_ApePsych , side ) = state_enabled then
8330: LD_INT 2
8332: PPUSH
8333: LD_VAR 0 1
8337: PPUSH
8338: CALL_OW 321
8342: PUSH
8343: LD_INT 1
8345: EQUAL
8346: IFFALSE 8363
// SetTech ( tech_ApePsych , side , state_researched ) ;
8348: LD_INT 2
8350: PPUSH
8351: LD_VAR 0 1
8355: PPUSH
8356: LD_INT 2
8358: PPUSH
8359: CALL_OW 322
// if GetTech ( tech_ApeAgres , side ) = state_enabled then
8363: LD_INT 11
8365: PPUSH
8366: LD_VAR 0 1
8370: PPUSH
8371: CALL_OW 321
8375: PUSH
8376: LD_INT 1
8378: EQUAL
8379: IFFALSE 8396
// SetTech ( tech_ApeAgres , side , state_researched ) ;
8381: LD_INT 11
8383: PPUSH
8384: LD_VAR 0 1
8388: PPUSH
8389: LD_INT 2
8391: PPUSH
8392: CALL_OW 322
// end ; end ;
8396: GO 8399
8398: POP
// end ; if def_desert_warior = 2 and nation = nation_arabian then
8399: LD_EXP 31
8403: PUSH
8404: LD_INT 2
8406: EQUAL
8407: PUSH
8408: LD_VAR 0 3
8412: PUSH
8413: LD_INT 2
8415: EQUAL
8416: AND
8417: IFFALSE 8452
// prepare_people ( side , 1 , class_desert_warior , x , y , 5 , commander ) ;
8419: LD_VAR 0 1
8423: PPUSH
8424: LD_INT 1
8426: PPUSH
8427: LD_INT 11
8429: PPUSH
8430: LD_VAR 0 5
8434: PPUSH
8435: LD_VAR 0 6
8439: PPUSH
8440: LD_INT 5
8442: PPUSH
8443: LD_ADDR_EXP 55
8447: PPUSH
8448: CALL 8511 0 7
// if not global_defined then
8452: LD_EXP 94
8456: NOT
8457: IFFALSE 8467
// global_defined := true ;
8459: LD_ADDR_EXP 94
8463: PUSH
8464: LD_INT 1
8466: ST_TO_ADDR
// if def_siberite_detection and GetTech ( tech_sibdet , side ) = state_enabled then
8467: LD_EXP 28
8471: PUSH
8472: LD_INT 20
8474: PPUSH
8475: LD_VAR 0 1
8479: PPUSH
8480: CALL_OW 321
8484: PUSH
8485: LD_INT 1
8487: EQUAL
8488: AND
8489: IFFALSE 8506
// SetTech ( tech_SibDet , side , state_researched ) ;
8491: LD_INT 20
8493: PPUSH
8494: LD_VAR 0 1
8498: PPUSH
8499: LD_INT 2
8501: PPUSH
8502: CALL_OW 322
// end ;
8506: LD_VAR 0 4
8510: RET
// export function prepare_people ( side , count , pre_cl , x , y , r , var commander ) ; var i , j , un , cl ; begin
8511: LD_INT 0
8513: PPUSH
8514: PPUSH
8515: PPUSH
8516: PPUSH
8517: PPUSH
// for i := 1 to count do
8518: LD_ADDR_VAR 0 9
8522: PUSH
8523: DOUBLE
8524: LD_INT 1
8526: DEC
8527: ST_TO_ADDR
8528: LD_VAR 0 2
8532: PUSH
8533: FOR_TO
8534: IFFALSE 9138
// begin global_count = global_count + 1 ;
8536: LD_ADDR_EXP 96
8540: PUSH
8541: LD_EXP 96
8545: PUSH
8546: LD_INT 1
8548: PLUS
8549: ST_TO_ADDR
// if not def_classes and global_count <= global_classes then
8550: LD_EXP 14
8554: NOT
8555: PUSH
8556: LD_EXP 96
8560: PUSH
8561: LD_EXP 97
8565: LESSEQUAL
8566: AND
8567: IFFALSE 8587
// cl = global_classes [ global_count ] else
8569: LD_ADDR_VAR 0 12
8573: PUSH
8574: LD_EXP 97
8578: PUSH
8579: LD_EXP 96
8583: ARRAY
8584: ST_TO_ADDR
8585: GO 8625
// if pre_cl = 0 then
8587: LD_VAR 0 3
8591: PUSH
8592: LD_INT 0
8594: EQUAL
8595: IFFALSE 8615
// cl = rand ( 1 , 4 ) else
8597: LD_ADDR_VAR 0 12
8601: PUSH
8602: LD_INT 1
8604: PPUSH
8605: LD_INT 4
8607: PPUSH
8608: CALL_OW 12
8612: ST_TO_ADDR
8613: GO 8625
// cl = pre_cl ;
8615: LD_ADDR_VAR 0 12
8619: PUSH
8620: LD_VAR 0 3
8624: ST_TO_ADDR
// uc_direction := Rand ( 0 , 5 ) ;
8625: LD_ADDR_OWVAR 24
8629: PUSH
8630: LD_INT 0
8632: PPUSH
8633: LD_INT 5
8635: PPUSH
8636: CALL_OW 12
8640: ST_TO_ADDR
// if commander then
8641: LD_FROM_VAR 0 7
8645: IFFALSE 8774
// begin hc_name := mp_sides_players_names [ side ] ;
8647: LD_ADDR_OWVAR 26
8651: PUSH
8652: LD_OWVAR 19
8656: PUSH
8657: LD_VAR 0 1
8661: ARRAY
8662: ST_TO_ADDR
// PrepareHuman ( Rand ( 1 , 2 ) , cl , initial_level + 2 ) ;
8663: LD_INT 1
8665: PPUSH
8666: LD_INT 2
8668: PPUSH
8669: CALL_OW 12
8673: PPUSH
8674: LD_VAR 0 12
8678: PPUSH
8679: LD_EXP 42
8683: PUSH
8684: LD_INT 2
8686: PLUS
8687: PPUSH
8688: CALL_OW 380
// if def_desert_warior = 1 and uc_nation = nation_arabian then
8692: LD_EXP 31
8696: PUSH
8697: LD_INT 1
8699: EQUAL
8700: PUSH
8701: LD_OWVAR 21
8705: PUSH
8706: LD_INT 2
8708: EQUAL
8709: AND
8710: IFFALSE 8720
// hc_class = class_desert_warior ;
8712: LD_ADDR_OWVAR 28
8716: PUSH
8717: LD_INT 11
8719: ST_TO_ADDR
// hc_importance := 105 ;
8720: LD_ADDR_OWVAR 32
8724: PUSH
8725: LD_INT 105
8727: ST_TO_ADDR
// if Multiplayer then
8728: LD_OWVAR 4
8732: IFFALSE 8772
// begin hc_gallery := MULTIAVATARS ;
8734: LD_ADDR_OWVAR 33
8738: PUSH
8739: LD_STRING MULTIAVATARS
8741: ST_TO_ADDR
// hc_face_number := Multiplayer_GetPlayerSideNum ( Side ) ;
8742: LD_ADDR_OWVAR 34
8746: PUSH
8747: LD_VAR 0 1
8751: PPUSH
8752: CALL_OW 525
8756: ST_TO_ADDR
// hc_sex := Multiplayer_GetPlayerSex ( Side ) ;
8757: LD_ADDR_OWVAR 27
8761: PUSH
8762: LD_VAR 0 1
8766: PPUSH
8767: CALL_OW 526
8771: ST_TO_ADDR
// end ; end else
8772: GO 8880
// begin hc_name :=  ;
8774: LD_ADDR_OWVAR 26
8778: PUSH
8779: LD_STRING 
8781: ST_TO_ADDR
// if cl = class_desert_warior then
8782: LD_VAR 0 12
8786: PUSH
8787: LD_INT 11
8789: EQUAL
8790: IFFALSE 8825
// begin PrepareHuman ( rand ( 1 , 2 ) , class_soldier , initial_level ) ;
8792: LD_INT 1
8794: PPUSH
8795: LD_INT 2
8797: PPUSH
8798: CALL_OW 12
8802: PPUSH
8803: LD_INT 1
8805: PPUSH
8806: LD_EXP 42
8810: PPUSH
8811: CALL_OW 380
// hc_class = class_desert_warior end else
8815: LD_ADDR_OWVAR 28
8819: PUSH
8820: LD_INT 11
8822: ST_TO_ADDR
8823: GO 8850
// PrepareHuman ( rand ( 1 , 2 ) , cl , initial_level ) ;
8825: LD_INT 1
8827: PPUSH
8828: LD_INT 2
8830: PPUSH
8831: CALL_OW 12
8835: PPUSH
8836: LD_VAR 0 12
8840: PPUSH
8841: LD_EXP 42
8845: PPUSH
8846: CALL_OW 380
// hc_importance := 0 ;
8850: LD_ADDR_OWVAR 32
8854: PUSH
8855: LD_INT 0
8857: ST_TO_ADDR
// if Multiplayer then
8858: LD_OWVAR 4
8862: IFFALSE 8880
// begin hc_gallery :=  ;
8864: LD_ADDR_OWVAR 33
8868: PUSH
8869: LD_STRING 
8871: ST_TO_ADDR
// hc_face_number := 0 ;
8872: LD_ADDR_OWVAR 34
8876: PUSH
8877: LD_INT 0
8879: ST_TO_ADDR
// end ; end ; if hc_class = class_desert_warior then
8880: LD_OWVAR 28
8884: PUSH
8885: LD_INT 11
8887: EQUAL
8888: IFFALSE 8898
// hc_importance := 100 ;
8890: LD_ADDR_OWVAR 32
8894: PUSH
8895: LD_INT 100
8897: ST_TO_ADDR
// un := CreateHuman ;
8898: LD_ADDR_VAR 0 11
8902: PUSH
8903: CALL_OW 44
8907: ST_TO_ADDR
// if global_count <= global_units then
8908: LD_EXP 96
8912: PUSH
8913: LD_EXP 93
8917: LESSEQUAL
8918: IFFALSE 9002
// begin CopySkills ( global_units [ global_count ] , un ) ;
8920: LD_EXP 93
8924: PUSH
8925: LD_EXP 96
8929: ARRAY
8930: PPUSH
8931: LD_VAR 0 11
8935: PPUSH
8936: CALL_OW 510
// SetAttr ( un , attr_speed , GetAttr ( global_units [ global_count ] , attr_speed ) ) ;
8940: LD_VAR 0 11
8944: PPUSH
8945: LD_INT 2
8947: PPUSH
8948: LD_EXP 93
8952: PUSH
8953: LD_EXP 96
8957: ARRAY
8958: PPUSH
8959: LD_INT 2
8961: PPUSH
8962: CALL_OW 260
8966: PPUSH
8967: CALL_OW 239
// SetAttr ( un , attr_stamina , GetAttr ( global_units [ global_count ] , attr_stamina ) ) ;
8971: LD_VAR 0 11
8975: PPUSH
8976: LD_INT 1
8978: PPUSH
8979: LD_EXP 93
8983: PUSH
8984: LD_EXP 96
8988: ARRAY
8989: PPUSH
8990: LD_INT 1
8992: PPUSH
8993: CALL_OW 260
8997: PPUSH
8998: CALL_OW 239
// end ; PlaceUnitXYR ( un , x , y , r , false ) ;
9002: LD_VAR 0 11
9006: PPUSH
9007: LD_VAR 0 4
9011: PPUSH
9012: LD_VAR 0 5
9016: PPUSH
9017: LD_VAR 0 6
9021: PPUSH
9022: LD_INT 0
9024: PPUSH
9025: CALL_OW 50
// if global_classes < global_count then
9029: LD_EXP 97
9033: PUSH
9034: LD_EXP 96
9038: LESS
9039: IFFALSE 9057
// global_classes = global_classes ^ cl ;
9041: LD_ADDR_EXP 97
9045: PUSH
9046: LD_EXP 97
9050: PUSH
9051: LD_VAR 0 12
9055: ADD
9056: ST_TO_ADDR
// if global_units < global_count then
9057: LD_EXP 93
9061: PUSH
9062: LD_EXP 96
9066: LESS
9067: IFFALSE 9085
// global_units = global_units ^ un ;
9069: LD_ADDR_EXP 93
9073: PUSH
9074: LD_EXP 93
9078: PUSH
9079: LD_VAR 0 11
9083: ADD
9084: ST_TO_ADDR
// if commander then
9085: LD_FROM_VAR 0 7
9089: IFFALSE 9136
// begin heroes = replace ( heroes , side , heroes [ side ] ^ un ) ;
9091: LD_ADDR_EXP 50
9095: PUSH
9096: LD_EXP 50
9100: PPUSH
9101: LD_VAR 0 1
9105: PPUSH
9106: LD_EXP 50
9110: PUSH
9111: LD_VAR 0 1
9115: ARRAY
9116: PUSH
9117: LD_VAR 0 11
9121: ADD
9122: PPUSH
9123: CALL_OW 1
9127: ST_TO_ADDR
// commander := false ;
9128: LD_VAR 0 7
9132: PUSH
9133: LD_INT 0
9135: ST_TO_ADDR
// end ; end ;
9136: GO 8533
9138: POP
9139: POP
// end ;
9140: LD_VAR 0 8
9144: RET
// export function mastodonti ; var i , c , k ; begin
9145: LD_INT 0
9147: PPUSH
9148: PPUSH
9149: PPUSH
9150: PPUSH
// if def_desert_warior then
9151: LD_EXP 31
9155: IFFALSE 9220
// begin c = FilterAllUnits ( [ [ f_class , class_desert_warior ] ] ) ;
9157: LD_ADDR_VAR 0 3
9161: PUSH
9162: LD_INT 25
9164: PUSH
9165: LD_INT 11
9167: PUSH
9168: EMPTY
9169: LIST
9170: LIST
9171: PUSH
9172: EMPTY
9173: LIST
9174: PPUSH
9175: CALL_OW 69
9179: ST_TO_ADDR
// if c then
9180: LD_VAR 0 3
9184: IFFALSE 9216
// for c = 1 to c + 0 do
9186: LD_ADDR_VAR 0 3
9190: PUSH
9191: DOUBLE
9192: LD_INT 1
9194: DEC
9195: ST_TO_ADDR
9196: LD_VAR 0 3
9200: PUSH
9201: LD_INT 0
9203: PLUS
9204: PUSH
9205: FOR_TO
9206: IFFALSE 9214
// begin comms_mastodont ;
9208: CALL 9225 0 0
// end ;
9212: GO 9205
9214: POP
9215: POP
// comms_mastodont ;
9216: CALL 9225 0 0
// end ; end ;
9220: LD_VAR 0 1
9224: RET
// export function comms_mastodont ; var un ; begin
9225: LD_INT 0
9227: PPUSH
9228: PPUSH
// uc_nation := 0 ;
9229: LD_ADDR_OWVAR 21
9233: PUSH
9234: LD_INT 0
9236: ST_TO_ADDR
// uc_side := nation_nature ;
9237: LD_ADDR_OWVAR 20
9241: PUSH
9242: LD_INT 0
9244: ST_TO_ADDR
// vc_chassis = 31 ;
9245: LD_ADDR_OWVAR 37
9249: PUSH
9250: LD_INT 31
9252: ST_TO_ADDR
// un := createvehicle ;
9253: LD_ADDR_VAR 0 2
9257: PUSH
9258: CALL_OW 45
9262: ST_TO_ADDR
// PlaceUnitArea ( un , stred , false ) ;
9263: LD_VAR 0 2
9267: PPUSH
9268: LD_INT 30
9270: PPUSH
9271: LD_INT 0
9273: PPUSH
9274: CALL_OW 49
// end ;
9278: LD_VAR 0 1
9282: RET
// every 0 0$1 marked 31 do var i ;
9283: GO 9285
9285: DISABLE
9286: LD_INT 0
9288: PPUSH
// begin if not tech_level = 8 then
9289: LD_EXP 56
9293: PUSH
9294: LD_INT 8
9296: EQUAL
9297: NOT
9298: IFFALSE 9302
// exit ;
9300: GO 9321
// if siberite_bomb_delay then
9302: LD_EXP 67
9306: IFFALSE 9317
// wait ( siberite_bomb_Delay ) ;
9308: LD_EXP 67
9312: PPUSH
9313: CALL_OW 67
// EnableSibFiss ;
9317: CALL 9324 0 0
// end ;
9321: PPOPN 1
9323: END
// function EnableSibFiss ( ) ; var side , narodnost ; begin
9324: LD_INT 0
9326: PPUSH
9327: PPUSH
9328: PPUSH
// for side = 1 to side_positions + 0 do
9329: LD_ADDR_VAR 0 2
9333: PUSH
9334: DOUBLE
9335: LD_INT 1
9337: DEC
9338: ST_TO_ADDR
9339: LD_EXP 75
9343: PUSH
9344: LD_INT 0
9346: PLUS
9347: PUSH
9348: FOR_TO
9349: IFFALSE 9449
// begin narodnost := Side_Nations [ side ] ;
9351: LD_ADDR_VAR 0 3
9355: PUSH
9356: LD_EXP 76
9360: PUSH
9361: LD_VAR 0 2
9365: ARRAY
9366: ST_TO_ADDR
// case narodnost of 1 , 3 :
9367: LD_VAR 0 3
9371: PUSH
9372: LD_INT 1
9374: DOUBLE
9375: EQUAL
9376: IFTRUE 9386
9378: LD_INT 3
9380: DOUBLE
9381: EQUAL
9382: IFTRUE 9386
9384: GO 9412
9386: POP
// SetTech ( 25 , side , GetRestrictions ( false , 25 ) ) ; 2 :
9387: LD_INT 25
9389: PPUSH
9390: LD_VAR 0 2
9394: PPUSH
9395: LD_INT 0
9397: PPUSH
9398: LD_INT 25
9400: PPUSH
9401: CALL_OW 565
9405: PPUSH
9406: CALL_OW 322
9410: GO 9447
9412: LD_INT 2
9414: DOUBLE
9415: EQUAL
9416: IFTRUE 9420
9418: GO 9446
9420: POP
// SetTech ( 73 , side , GetRestrictions ( false , 73 ) ) ; end ;
9421: LD_INT 73
9423: PPUSH
9424: LD_VAR 0 2
9428: PPUSH
9429: LD_INT 0
9431: PPUSH
9432: LD_INT 73
9434: PPUSH
9435: CALL_OW 565
9439: PPUSH
9440: CALL_OW 322
9444: GO 9447
9446: POP
// end ;
9447: GO 9348
9449: POP
9450: POP
// Tech_Level = 8 ;
9451: LD_ADDR_EXP 56
9455: PUSH
9456: LD_INT 8
9458: ST_TO_ADDR
// end ;
9459: LD_VAR 0 1
9463: RET
// export function Start_Zvirata ; begin
9464: LD_INT 0
9466: PPUSH
// if def_amount_of_apemen > 0 then
9467: LD_EXP 22
9471: PUSH
9472: LD_INT 0
9474: GREATER
9475: IFFALSE 9484
// begin StartApe ;
9477: CALL 15043 0 0
// enable ( 493 ) ;
9481: LD_INT 493
9483: ENABLE_MARKED
// end ; if def_amount_of_tiger > 0 then
9484: LD_EXP 23
9488: PUSH
9489: LD_INT 0
9491: GREATER
9492: IFFALSE 9501
// begin StartTig ;
9494: CALL 15793 0 0
// enable ( 494 ) ;
9498: LD_INT 494
9500: ENABLE_MARKED
// end ; end ;
9501: LD_VAR 0 1
9505: RET
// export function Disable_Standard_Games ; begin
9506: LD_INT 0
9508: PPUSH
// disable ( 2 ) ;
9509: LD_INT 2
9511: DISABLE_MARKED
// disable ( 3 ) ;
9512: LD_INT 3
9514: DISABLE_MARKED
// disable ( 4 ) ;
9515: LD_INT 4
9517: DISABLE_MARKED
// disable ( 30 ) ;
9518: LD_INT 30
9520: DISABLE_MARKED
// disable ( 31 ) ;
9521: LD_INT 31
9523: DISABLE_MARKED
// disable ( 60 ) ;
9524: LD_INT 60
9526: DISABLE_MARKED
// disable ( 98 ) ;
9527: LD_INT 98
9529: DISABLE_MARKED
// disable ( 99 ) ;
9530: LD_INT 99
9532: DISABLE_MARKED
// disable ( 100 ) ;
9533: LD_INT 100
9535: DISABLE_MARKED
// disable ( 400 ) ;
9536: LD_INT 400
9538: DISABLE_MARKED
// disable ( 401 ) ;
9539: LD_INT 401
9541: DISABLE_MARKED
// disable ( 493 ) ;
9542: LD_INT 493
9544: DISABLE_MARKED
// disable ( 494 ) ;
9545: LD_INT 494
9547: DISABLE_MARKED
// disable ( 600 ) end ; end_of_file
9548: LD_INT 600
9550: DISABLE_MARKED
9551: LD_VAR 0 1
9555: RET
// export oblasti_beden , start_oblasti_beden , dalsi_oblasti_beden , koof_bedny ; var kontrolni_pocet ; every 1 1$0 + 0 0$1 do
9556: GO 9558
9558: DISABLE
// begin if game_type = GT_Survival then
9559: LD_EXP 1
9563: PUSH
9564: LD_EXP 6
9568: EQUAL
9569: IFFALSE 9573
// exit ;
9571: GO 9592
// CreateCratesAnywhere ( Rand ( 1 , 2 ) , true ) ;
9573: LD_INT 1
9575: PPUSH
9576: LD_INT 2
9578: PPUSH
9579: CALL_OW 12
9583: PPUSH
9584: LD_INT 1
9586: PPUSH
9587: CALL_OW 57
// enable ;
9591: ENABLE
// end ;
9592: END
// every 0 0$20 do var i , d , shipment , tictac , k , p ;
9593: GO 9595
9595: DISABLE
9596: LD_INT 0
9598: PPUSH
9599: PPUSH
9600: PPUSH
9601: PPUSH
9602: PPUSH
9603: PPUSH
// begin if game_type in GT_Survival then
9604: LD_EXP 1
9608: PUSH
9609: LD_EXP 6
9613: IN
9614: IFFALSE 9618
// exit ;
9616: GO 10514
// shipment := Rand ( 0 , 3 ) ;
9618: LD_ADDR_VAR 0 3
9622: PUSH
9623: LD_INT 0
9625: PPUSH
9626: LD_INT 3
9628: PPUSH
9629: CALL_OW 12
9633: ST_TO_ADDR
// tictac := 0 ;
9634: LD_ADDR_VAR 0 4
9638: PUSH
9639: LD_INT 0
9641: ST_TO_ADDR
// case tick of 1 .. 2 2$0 :
9642: LD_OWVAR 1
9646: PUSH
9647: LD_INT 1
9649: DOUBLE
9650: GREATEREQUAL
9651: IFFALSE 9659
9653: LD_INT 4200
9655: DOUBLE
9656: LESSEQUAL
9657: IFTRUE 9661
9659: GO 9672
9661: POP
// d := 150 ; 2 2$0 + 1 .. 4 4$0 :
9662: LD_ADDR_VAR 0 2
9666: PUSH
9667: LD_INT 150
9669: ST_TO_ADDR
9670: GO 9855
9672: LD_INT 4200
9674: PUSH
9675: LD_INT 1
9677: PLUS
9678: DOUBLE
9679: GREATEREQUAL
9680: IFFALSE 9688
9682: LD_INT 8400
9684: DOUBLE
9685: LESSEQUAL
9686: IFTRUE 9690
9688: GO 9701
9690: POP
// d := 120 ; 4 4$0 + 1 .. 6 6$0 :
9691: LD_ADDR_VAR 0 2
9695: PUSH
9696: LD_INT 120
9698: ST_TO_ADDR
9699: GO 9855
9701: LD_INT 8400
9703: PUSH
9704: LD_INT 1
9706: PLUS
9707: DOUBLE
9708: GREATEREQUAL
9709: IFFALSE 9717
9711: LD_INT 12600
9713: DOUBLE
9714: LESSEQUAL
9715: IFTRUE 9719
9717: GO 9730
9719: POP
// d := 100 ; 6 6$0 + 1 .. 7 7$0 :
9720: LD_ADDR_VAR 0 2
9724: PUSH
9725: LD_INT 100
9727: ST_TO_ADDR
9728: GO 9855
9730: LD_INT 12600
9732: PUSH
9733: LD_INT 1
9735: PLUS
9736: DOUBLE
9737: GREATEREQUAL
9738: IFFALSE 9746
9740: LD_INT 14700
9742: DOUBLE
9743: LESSEQUAL
9744: IFTRUE 9748
9746: GO 9759
9748: POP
// d := 80 ; 7 7$0 + 1 .. 9 9$0 :
9749: LD_ADDR_VAR 0 2
9753: PUSH
9754: LD_INT 80
9756: ST_TO_ADDR
9757: GO 9855
9759: LD_INT 14700
9761: PUSH
9762: LD_INT 1
9764: PLUS
9765: DOUBLE
9766: GREATEREQUAL
9767: IFFALSE 9775
9769: LD_INT 18900
9771: DOUBLE
9772: LESSEQUAL
9773: IFTRUE 9777
9775: GO 9788
9777: POP
// d := 70 ; 9 9$0 + 1 .. 15 15$0 :
9778: LD_ADDR_VAR 0 2
9782: PUSH
9783: LD_INT 70
9785: ST_TO_ADDR
9786: GO 9855
9788: LD_INT 18900
9790: PUSH
9791: LD_INT 1
9793: PLUS
9794: DOUBLE
9795: GREATEREQUAL
9796: IFFALSE 9804
9798: LD_INT 31500
9800: DOUBLE
9801: LESSEQUAL
9802: IFTRUE 9806
9804: GO 9817
9806: POP
// d := 45 ; 15 15$0 + 1 .. 30 30$0 :
9807: LD_ADDR_VAR 0 2
9811: PUSH
9812: LD_INT 45
9814: ST_TO_ADDR
9815: GO 9855
9817: LD_INT 31500
9819: PUSH
9820: LD_INT 1
9822: PLUS
9823: DOUBLE
9824: GREATEREQUAL
9825: IFFALSE 9833
9827: LD_INT 63000
9829: DOUBLE
9830: LESSEQUAL
9831: IFTRUE 9835
9833: GO 9846
9835: POP
// d := 30 ; else
9836: LD_ADDR_VAR 0 2
9840: PUSH
9841: LD_INT 30
9843: ST_TO_ADDR
9844: GO 9855
9846: POP
// d := 20 ; end ;
9847: LD_ADDR_VAR 0 2
9851: PUSH
9852: LD_INT 20
9854: ST_TO_ADDR
// if GetResourceArea ( celamapa , mat_cans ) < ( 100 + shipments_density * koof_bedny ) then
9855: LD_INT 32
9857: PPUSH
9858: LD_INT 1
9860: PPUSH
9861: CALL_OW 287
9865: PUSH
9866: LD_INT 100
9868: PUSH
9869: LD_EXP 45
9873: PUSH
9874: LD_EXP 101
9878: MUL
9879: PLUS
9880: LESS
9881: IFFALSE 10513
// if rand ( 1 , 10000 ) <= d * shipments_density then
9883: LD_INT 1
9885: PPUSH
9886: LD_INT 10000
9888: PPUSH
9889: CALL_OW 12
9893: PUSH
9894: LD_VAR 0 2
9898: PUSH
9899: LD_EXP 45
9903: MUL
9904: LESSEQUAL
9905: IFFALSE 10149
// begin k = Rand ( 2 , 4 ) ;
9907: LD_ADDR_VAR 0 5
9911: PUSH
9912: LD_INT 2
9914: PPUSH
9915: LD_INT 4
9917: PPUSH
9918: CALL_OW 12
9922: ST_TO_ADDR
// if start_oblasti_beden then
9923: LD_EXP 99
9927: IFFALSE 10028
// begin for i := 1 to 8 do
9929: LD_ADDR_VAR 0 1
9933: PUSH
9934: DOUBLE
9935: LD_INT 1
9937: DEC
9938: ST_TO_ADDR
9939: LD_INT 8
9941: PUSH
9942: FOR_TO
9943: IFFALSE 10024
// if side_positions [ i ] <> 0 then
9945: LD_EXP 75
9949: PUSH
9950: LD_VAR 0 1
9954: ARRAY
9955: PUSH
9956: LD_INT 0
9958: NONEQUAL
9959: IFFALSE 10022
// for p in pozice_beden [ i ] do
9961: LD_ADDR_VAR 0 6
9965: PUSH
9966: LD_EXP 8
9970: PUSH
9971: LD_VAR 0 1
9975: ARRAY
9976: PUSH
9977: FOR_IN
9978: IFFALSE 10020
// begin CreateCratesArea ( k , start_oblasti_beden [ p ] , true ) ;
9980: LD_VAR 0 5
9984: PPUSH
9985: LD_EXP 99
9989: PUSH
9990: LD_VAR 0 6
9994: ARRAY
9995: PPUSH
9996: LD_INT 1
9998: PPUSH
9999: CALL_OW 55
// Wait ( rand ( 2 , 0 0$2 ) ) ;
10003: LD_INT 2
10005: PPUSH
10006: LD_INT 70
10008: PPUSH
10009: CALL_OW 12
10013: PPUSH
10014: CALL_OW 67
// end ;
10018: GO 9977
10020: POP
10021: POP
10022: GO 9942
10024: POP
10025: POP
// end else
10026: GO 10147
// begin for i := 1 to 8 do
10028: LD_ADDR_VAR 0 1
10032: PUSH
10033: DOUBLE
10034: LD_INT 1
10036: DEC
10037: ST_TO_ADDR
10038: LD_INT 8
10040: PUSH
10041: FOR_TO
10042: IFFALSE 10145
// if side_positions [ i ] <> 0 then
10044: LD_EXP 75
10048: PUSH
10049: LD_VAR 0 1
10053: ARRAY
10054: PUSH
10055: LD_INT 0
10057: NONEQUAL
10058: IFFALSE 10143
// for p in pozice_beden [ i ] do
10060: LD_ADDR_VAR 0 6
10064: PUSH
10065: LD_EXP 8
10069: PUSH
10070: LD_VAR 0 1
10074: ARRAY
10075: PUSH
10076: FOR_IN
10077: IFFALSE 10141
// begin CreateCratesXYR ( k , start_def [ p ] [ 1 ] , start_def [ p ] [ 2 ] , 20 , true ) ;
10079: LD_VAR 0 5
10083: PPUSH
10084: LD_EXP 83
10088: PUSH
10089: LD_VAR 0 6
10093: ARRAY
10094: PUSH
10095: LD_INT 1
10097: ARRAY
10098: PPUSH
10099: LD_EXP 83
10103: PUSH
10104: LD_VAR 0 6
10108: ARRAY
10109: PUSH
10110: LD_INT 2
10112: ARRAY
10113: PPUSH
10114: LD_INT 20
10116: PPUSH
10117: LD_INT 1
10119: PPUSH
10120: CALL_OW 56
// wait ( rand ( 2 , 0 0$2 ) ) ;
10124: LD_INT 2
10126: PPUSH
10127: LD_INT 70
10129: PPUSH
10130: CALL_OW 12
10134: PPUSH
10135: CALL_OW 67
// end ;
10139: GO 10076
10141: POP
10142: POP
10143: GO 10041
10145: POP
10146: POP
// end ; end else
10147: GO 10513
// if rand ( 1 , 10000 ) <= ( 150 - d ) * shipments_density then
10149: LD_INT 1
10151: PPUSH
10152: LD_INT 10000
10154: PPUSH
10155: CALL_OW 12
10159: PUSH
10160: LD_INT 150
10162: PUSH
10163: LD_VAR 0 2
10167: MINUS
10168: PUSH
10169: LD_EXP 45
10173: MUL
10174: LESSEQUAL
10175: IFFALSE 10513
// begin k := Rand ( 1 , 4 ) ;
10177: LD_ADDR_VAR 0 5
10181: PUSH
10182: LD_INT 1
10184: PPUSH
10185: LD_INT 4
10187: PPUSH
10188: CALL_OW 12
10192: ST_TO_ADDR
// wait ( rand ( 2 , 0 0$4 ) ) ;
10193: LD_INT 2
10195: PPUSH
10196: LD_INT 140
10198: PPUSH
10199: CALL_OW 12
10203: PPUSH
10204: CALL_OW 67
// if oblasti_beden then
10208: LD_EXP 98
10212: IFFALSE 10313
// begin for i := 1 to 8 do
10214: LD_ADDR_VAR 0 1
10218: PUSH
10219: DOUBLE
10220: LD_INT 1
10222: DEC
10223: ST_TO_ADDR
10224: LD_INT 8
10226: PUSH
10227: FOR_TO
10228: IFFALSE 10309
// if side_positions [ i ] <> 0 then
10230: LD_EXP 75
10234: PUSH
10235: LD_VAR 0 1
10239: ARRAY
10240: PUSH
10241: LD_INT 0
10243: NONEQUAL
10244: IFFALSE 10307
// for p in pozice_beden [ i ] do
10246: LD_ADDR_VAR 0 6
10250: PUSH
10251: LD_EXP 8
10255: PUSH
10256: LD_VAR 0 1
10260: ARRAY
10261: PUSH
10262: FOR_IN
10263: IFFALSE 10305
// begin CreateCratesArea ( k , oblasti_beden [ p ] , true ) ;
10265: LD_VAR 0 5
10269: PPUSH
10270: LD_EXP 98
10274: PUSH
10275: LD_VAR 0 6
10279: ARRAY
10280: PPUSH
10281: LD_INT 1
10283: PPUSH
10284: CALL_OW 55
// Wait ( rand ( 2 , 0 0$1 ) ) ;
10288: LD_INT 2
10290: PPUSH
10291: LD_INT 35
10293: PPUSH
10294: CALL_OW 12
10298: PPUSH
10299: CALL_OW 67
// end ;
10303: GO 10262
10305: POP
10306: POP
10307: GO 10227
10309: POP
10310: POP
// end else
10311: GO 10432
// begin for i := 1 to 8 do
10313: LD_ADDR_VAR 0 1
10317: PUSH
10318: DOUBLE
10319: LD_INT 1
10321: DEC
10322: ST_TO_ADDR
10323: LD_INT 8
10325: PUSH
10326: FOR_TO
10327: IFFALSE 10430
// if side_positions [ i ] <> 0 then
10329: LD_EXP 75
10333: PUSH
10334: LD_VAR 0 1
10338: ARRAY
10339: PUSH
10340: LD_INT 0
10342: NONEQUAL
10343: IFFALSE 10428
// for p in pozice_beden [ i ] do
10345: LD_ADDR_VAR 0 6
10349: PUSH
10350: LD_EXP 8
10354: PUSH
10355: LD_VAR 0 1
10359: ARRAY
10360: PUSH
10361: FOR_IN
10362: IFFALSE 10426
// begin CreateCratesXYR ( k , start_def [ p ] [ 1 ] , start_def [ p ] [ 2 ] , 20 , true ) ;
10364: LD_VAR 0 5
10368: PPUSH
10369: LD_EXP 83
10373: PUSH
10374: LD_VAR 0 6
10378: ARRAY
10379: PUSH
10380: LD_INT 1
10382: ARRAY
10383: PPUSH
10384: LD_EXP 83
10388: PUSH
10389: LD_VAR 0 6
10393: ARRAY
10394: PUSH
10395: LD_INT 2
10397: ARRAY
10398: PPUSH
10399: LD_INT 20
10401: PPUSH
10402: LD_INT 1
10404: PPUSH
10405: CALL_OW 56
// wait ( rand ( 2 , 0 0$2 ) ) ;
10409: LD_INT 2
10411: PPUSH
10412: LD_INT 70
10414: PPUSH
10415: CALL_OW 12
10419: PPUSH
10420: CALL_OW 67
// end ;
10424: GO 10361
10426: POP
10427: POP
10428: GO 10326
10430: POP
10431: POP
// end ; if dalsi_oblasti_beden then
10432: LD_EXP 100
10436: IFFALSE 10513
// for k in dalsi_oblasti_beden do
10438: LD_ADDR_VAR 0 5
10442: PUSH
10443: LD_EXP 100
10447: PUSH
10448: FOR_IN
10449: IFFALSE 10511
// for i := 1 to Rand ( 1 , 3 ) do
10451: LD_ADDR_VAR 0 1
10455: PUSH
10456: DOUBLE
10457: LD_INT 1
10459: DEC
10460: ST_TO_ADDR
10461: LD_INT 1
10463: PPUSH
10464: LD_INT 3
10466: PPUSH
10467: CALL_OW 12
10471: PUSH
10472: FOR_TO
10473: IFFALSE 10507
// begin CreateCratesArea ( Rand ( 3 , 5 ) , k , true ) ;
10475: LD_INT 3
10477: PPUSH
10478: LD_INT 5
10480: PPUSH
10481: CALL_OW 12
10485: PPUSH
10486: LD_VAR 0 5
10490: PPUSH
10491: LD_INT 1
10493: PPUSH
10494: CALL_OW 55
// Wait ( 2 ) ;
10498: LD_INT 2
10500: PPUSH
10501: CALL_OW 67
// end ;
10505: GO 10472
10507: POP
10508: POP
10509: GO 10448
10511: POP
10512: POP
// end ; enable ;
10513: ENABLE
// end ; end_of_file
10514: PPOPN 6
10516: END
// var respawn , inqueue , nation , nations , noposn ; export function init_respawn ; var i , pos ; begin
10517: LD_INT 0
10519: PPUSH
10520: PPUSH
10521: PPUSH
// nation := rand ( 1 , 3 ) ;
10522: LD_ADDR_LOC 4
10526: PUSH
10527: LD_INT 1
10529: PPUSH
10530: LD_INT 3
10532: PPUSH
10533: CALL_OW 12
10537: ST_TO_ADDR
// respawn := Rand ( 1 , 8 ) ;
10538: LD_ADDR_LOC 2
10542: PUSH
10543: LD_INT 1
10545: PPUSH
10546: LD_INT 8
10548: PPUSH
10549: CALL_OW 12
10553: ST_TO_ADDR
// Nations = [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
10554: LD_ADDR_LOC 5
10558: PUSH
10559: EMPTY
10560: PUSH
10561: EMPTY
10562: PUSH
10563: EMPTY
10564: PUSH
10565: EMPTY
10566: PUSH
10567: EMPTY
10568: PUSH
10569: EMPTY
10570: PUSH
10571: EMPTY
10572: PUSH
10573: EMPTY
10574: PUSH
10575: EMPTY
10576: LIST
10577: LIST
10578: LIST
10579: LIST
10580: LIST
10581: LIST
10582: LIST
10583: LIST
10584: ST_TO_ADDR
// inqueue := [ [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] ] ;
10585: LD_ADDR_LOC 3
10589: PUSH
10590: LD_INT 0
10592: PUSH
10593: LD_INT 0
10595: PUSH
10596: LD_INT 0
10598: PUSH
10599: EMPTY
10600: LIST
10601: LIST
10602: LIST
10603: PUSH
10604: LD_INT 0
10606: PUSH
10607: LD_INT 0
10609: PUSH
10610: LD_INT 0
10612: PUSH
10613: EMPTY
10614: LIST
10615: LIST
10616: LIST
10617: PUSH
10618: LD_INT 0
10620: PUSH
10621: LD_INT 0
10623: PUSH
10624: LD_INT 0
10626: PUSH
10627: EMPTY
10628: LIST
10629: LIST
10630: LIST
10631: PUSH
10632: LD_INT 0
10634: PUSH
10635: LD_INT 0
10637: PUSH
10638: LD_INT 0
10640: PUSH
10641: EMPTY
10642: LIST
10643: LIST
10644: LIST
10645: PUSH
10646: LD_INT 0
10648: PUSH
10649: LD_INT 0
10651: PUSH
10652: LD_INT 0
10654: PUSH
10655: EMPTY
10656: LIST
10657: LIST
10658: LIST
10659: PUSH
10660: LD_INT 0
10662: PUSH
10663: LD_INT 0
10665: PUSH
10666: LD_INT 0
10668: PUSH
10669: EMPTY
10670: LIST
10671: LIST
10672: LIST
10673: PUSH
10674: LD_INT 0
10676: PUSH
10677: LD_INT 0
10679: PUSH
10680: LD_INT 0
10682: PUSH
10683: EMPTY
10684: LIST
10685: LIST
10686: LIST
10687: PUSH
10688: LD_INT 0
10690: PUSH
10691: LD_INT 0
10693: PUSH
10694: LD_INT 0
10696: PUSH
10697: EMPTY
10698: LIST
10699: LIST
10700: LIST
10701: PUSH
10702: EMPTY
10703: LIST
10704: LIST
10705: LIST
10706: LIST
10707: LIST
10708: LIST
10709: LIST
10710: LIST
10711: ST_TO_ADDR
// for i := 1 to 8 do
10712: LD_ADDR_VAR 0 2
10716: PUSH
10717: DOUBLE
10718: LD_INT 1
10720: DEC
10721: ST_TO_ADDR
10722: LD_INT 8
10724: PUSH
10725: FOR_TO
10726: IFFALSE 10831
// if Side_Positions [ i ] then
10728: LD_EXP 75
10732: PUSH
10733: LD_VAR 0 2
10737: ARRAY
10738: IFFALSE 10829
// begin if Game_Type in GT_DoubleNat ^ GT_TripleNat then
10740: LD_EXP 1
10744: PUSH
10745: LD_EXP 3
10749: PUSH
10750: LD_EXP 5
10754: ADD
10755: IN
10756: IFFALSE 10795
// nations = replace ( nations , i , Position_Nations [ i ] diff 0 ) else
10758: LD_ADDR_LOC 5
10762: PUSH
10763: LD_LOC 5
10767: PPUSH
10768: LD_VAR 0 2
10772: PPUSH
10773: LD_EXP 52
10777: PUSH
10778: LD_VAR 0 2
10782: ARRAY
10783: PUSH
10784: LD_INT 0
10786: DIFF
10787: PPUSH
10788: CALL_OW 1
10792: ST_TO_ADDR
10793: GO 10829
// nations = replace ( nations , i , [ Side_Nations [ i ] ] ) ;
10795: LD_ADDR_LOC 5
10799: PUSH
10800: LD_LOC 5
10804: PPUSH
10805: LD_VAR 0 2
10809: PPUSH
10810: LD_EXP 76
10814: PUSH
10815: LD_VAR 0 2
10819: ARRAY
10820: PUSH
10821: EMPTY
10822: LIST
10823: PPUSH
10824: CALL_OW 1
10828: ST_TO_ADDR
// end ;
10829: GO 10725
10831: POP
10832: POP
// if Game_Type in GT_DoublePeople then
10833: LD_EXP 1
10837: PUSH
10838: LD_EXP 4
10842: IN
10843: IFFALSE 10861
// noposn = number_of_people * 2 else
10845: LD_ADDR_LOC 6
10849: PUSH
10850: LD_EXP 40
10854: PUSH
10855: LD_INT 2
10857: MUL
10858: ST_TO_ADDR
10859: GO 10871
// noposn = number_of_people ;
10861: LD_ADDR_LOC 6
10865: PUSH
10866: LD_EXP 40
10870: ST_TO_ADDR
// SetRespawningTime ( respawning_time_min , respawning_time_max , respawning_time_delay_min , respawning_time_delay_max ) ;
10871: LD_EXP 49
10875: PPUSH
10876: LD_EXP 51
10880: PPUSH
10881: LD_EXP 53
10885: PPUSH
10886: LD_EXP 54
10890: PPUSH
10891: CALL 11631 0 4
// end ;
10895: LD_VAR 0 1
10899: RET
// every 0 0$1 + 0 0$0.5 do var n , building_list , aktresp , b , skills , k ;
10900: GO 10902
10902: DISABLE
10903: LD_INT 0
10905: PPUSH
10906: PPUSH
10907: PPUSH
10908: PPUSH
10909: PPUSH
10910: PPUSH
// begin if def_respawining_type = 0 then
10911: LD_EXP 24
10915: PUSH
10916: LD_INT 0
10918: EQUAL
10919: IFFALSE 10925
// exit else
10921: GO 11330
10923: GO 11330
// if def_respawining_type in [ 2 , 3 ] then
10925: LD_EXP 24
10929: PUSH
10930: LD_INT 2
10932: PUSH
10933: LD_INT 3
10935: PUSH
10936: EMPTY
10937: LIST
10938: LIST
10939: IN
10940: IFFALSE 11296
// begin if respawn = 8 then
10942: LD_LOC 2
10946: PUSH
10947: LD_INT 8
10949: EQUAL
10950: IFFALSE 10996
// begin respawn := 1 ;
10952: LD_ADDR_LOC 2
10956: PUSH
10957: LD_INT 1
10959: ST_TO_ADDR
// if nation = 3 then
10960: LD_LOC 4
10964: PUSH
10965: LD_INT 3
10967: EQUAL
10968: IFFALSE 10980
// nation := 1 else
10970: LD_ADDR_LOC 4
10974: PUSH
10975: LD_INT 1
10977: ST_TO_ADDR
10978: GO 10994
// nation := nation + 1 ;
10980: LD_ADDR_LOC 4
10984: PUSH
10985: LD_LOC 4
10989: PUSH
10990: LD_INT 1
10992: PLUS
10993: ST_TO_ADDR
// end else
10994: GO 11010
// respawn := respawn + 1 ;
10996: LD_ADDR_LOC 2
11000: PUSH
11001: LD_LOC 2
11005: PUSH
11006: LD_INT 1
11008: PLUS
11009: ST_TO_ADDR
// if Side_Positions [ respawn ] then
11010: LD_EXP 75
11014: PUSH
11015: LD_LOC 2
11019: ARRAY
11020: IFFALSE 11293
// begin if nation in nations [ respawn ] then
11022: LD_LOC 4
11026: PUSH
11027: LD_LOC 5
11031: PUSH
11032: LD_LOC 2
11036: ARRAY
11037: IN
11038: IFFALSE 11290
// begin if def_desert_warior < 2 then
11040: LD_EXP 31
11044: PUSH
11045: LD_INT 2
11047: LESS
11048: IFFALSE 11101
// n := FilterAllUnits ( [ [ f_type , unit_human ] , [ f_side , respawn ] , [ f_nation , nation ] , ] ) else
11050: LD_ADDR_VAR 0 1
11054: PUSH
11055: LD_INT 21
11057: PUSH
11058: LD_INT 1
11060: PUSH
11061: EMPTY
11062: LIST
11063: LIST
11064: PUSH
11065: LD_INT 22
11067: PUSH
11068: LD_LOC 2
11072: PUSH
11073: EMPTY
11074: LIST
11075: LIST
11076: PUSH
11077: LD_INT 23
11079: PUSH
11080: LD_LOC 4
11084: PUSH
11085: EMPTY
11086: LIST
11087: LIST
11088: PUSH
11089: EMPTY
11090: LIST
11091: LIST
11092: LIST
11093: PPUSH
11094: CALL_OW 69
11098: ST_TO_ADDR
11099: GO 11165
// n := FilterAllUnits ( [ [ f_type , unit_human ] , [ f_side , respawn ] , [ f_nation , nation ] , f_not , [ f_class , class_desert_warior ] , ] ) ;
11101: LD_ADDR_VAR 0 1
11105: PUSH
11106: LD_INT 21
11108: PUSH
11109: LD_INT 1
11111: PUSH
11112: EMPTY
11113: LIST
11114: LIST
11115: PUSH
11116: LD_INT 22
11118: PUSH
11119: LD_LOC 2
11123: PUSH
11124: EMPTY
11125: LIST
11126: LIST
11127: PUSH
11128: LD_INT 23
11130: PUSH
11131: LD_LOC 4
11135: PUSH
11136: EMPTY
11137: LIST
11138: LIST
11139: PUSH
11140: LD_INT 3
11142: PUSH
11143: LD_INT 25
11145: PUSH
11146: LD_INT 11
11148: PUSH
11149: EMPTY
11150: LIST
11151: LIST
11152: PUSH
11153: EMPTY
11154: LIST
11155: LIST
11156: LIST
11157: LIST
11158: LIST
11159: PPUSH
11160: CALL_OW 69
11164: ST_TO_ADDR
// if ( n + inqueue [ respawn ] [ nation ] ) < noposn then
11165: LD_VAR 0 1
11169: PUSH
11170: LD_LOC 3
11174: PUSH
11175: LD_LOC 2
11179: ARRAY
11180: PUSH
11181: LD_LOC 4
11185: ARRAY
11186: PLUS
11187: PUSH
11188: LD_LOC 6
11192: LESS
11193: IFFALSE 11287
// begin aktresp := respawn ;
11195: LD_ADDR_VAR 0 3
11199: PUSH
11200: LD_LOC 2
11204: ST_TO_ADDR
// inqueue := Replace ( inqueue , aktresp , replace ( inqueue [ aktresp ] , nation , inqueue [ aktresp ] [ nation ] + 1 ) ) ;
11205: LD_ADDR_LOC 3
11209: PUSH
11210: LD_LOC 3
11214: PPUSH
11215: LD_VAR 0 3
11219: PPUSH
11220: LD_LOC 3
11224: PUSH
11225: LD_VAR 0 3
11229: ARRAY
11230: PPUSH
11231: LD_LOC 4
11235: PPUSH
11236: LD_LOC 3
11240: PUSH
11241: LD_VAR 0 3
11245: ARRAY
11246: PUSH
11247: LD_LOC 4
11251: ARRAY
11252: PUSH
11253: LD_INT 1
11255: PLUS
11256: PPUSH
11257: CALL_OW 1
11261: PPUSH
11262: CALL_OW 1
11266: ST_TO_ADDR
// enable ;
11267: ENABLE
// ObnovCloveka ( aktresp , nation , false ) ;
11268: LD_VAR 0 3
11272: PPUSH
11273: LD_LOC 4
11277: PPUSH
11278: LD_INT 0
11280: PPUSH
11281: CALL 11745 0 3
// end else
11285: GO 11288
// enable ;
11287: ENABLE
// end else
11288: GO 11291
// enable ;
11290: ENABLE
// end else
11291: GO 11294
// enable ;
11293: ENABLE
// end else
11294: GO 11330
// if def_respawining_type = 1 then
11296: LD_EXP 24
11300: PUSH
11301: LD_INT 1
11303: EQUAL
11304: IFFALSE 11330
// begin wait ( rand ( respawning_time_min , respawning_time_max ) ) ;
11306: LD_EXP 49
11310: PPUSH
11311: LD_EXP 51
11315: PPUSH
11316: CALL_OW 12
11320: PPUSH
11321: CALL_OW 67
// Vytvor_noveho_cloveka_pro_vsechny ;
11325: CALL 12830 0 0
// enable ;
11329: ENABLE
// end end ;
11330: PPOPN 6
11332: END
// export function OnHumanRespawned ( un ) ; var side , nation ; begin
11333: LD_INT 0
11335: PPUSH
11336: PPUSH
11337: PPUSH
// wait ( 0 0$30 ) ;
11338: LD_INT 1050
11340: PPUSH
11341: CALL_OW 67
// side = GetSide ( un ) ;
11345: LD_ADDR_VAR 0 3
11349: PUSH
11350: LD_VAR 0 1
11354: PPUSH
11355: CALL_OW 255
11359: ST_TO_ADDR
// nation = GetNation ( un ) ;
11360: LD_ADDR_VAR 0 4
11364: PUSH
11365: LD_VAR 0 1
11369: PPUSH
11370: CALL_OW 248
11374: ST_TO_ADDR
// inqueue := Replace ( inqueue , side , replace ( inqueue [ side ] , nation , inqueue [ side ] [ nation ] - 1 ) ) ;
11375: LD_ADDR_LOC 3
11379: PUSH
11380: LD_LOC 3
11384: PPUSH
11385: LD_VAR 0 3
11389: PPUSH
11390: LD_LOC 3
11394: PUSH
11395: LD_VAR 0 3
11399: ARRAY
11400: PPUSH
11401: LD_VAR 0 4
11405: PPUSH
11406: LD_LOC 3
11410: PUSH
11411: LD_VAR 0 3
11415: ARRAY
11416: PUSH
11417: LD_VAR 0 4
11421: ARRAY
11422: PUSH
11423: LD_INT 1
11425: MINUS
11426: PPUSH
11427: CALL_OW 1
11431: PPUSH
11432: CALL_OW 1
11436: ST_TO_ADDR
// end ;
11437: LD_VAR 0 2
11441: RET
// export function RespawnHumanDestroyed ( identifier , side , nation , x , y , direction , sex , cl ) ; begin
11442: LD_INT 0
11444: PPUSH
// if def_respawining_type < 2 then
11445: LD_EXP 24
11449: PUSH
11450: LD_INT 2
11452: LESS
11453: IFFALSE 11457
// exit ;
11455: GO 11626
// if nation = nation_nature or side = 0 then
11457: LD_VAR 0 3
11461: PUSH
11462: LD_INT 0
11464: EQUAL
11465: PUSH
11466: LD_VAR 0 2
11470: PUSH
11471: LD_INT 0
11473: EQUAL
11474: OR
11475: IFFALSE 11479
// exit ;
11477: GO 11626
// if not Side_Positions [ side ] then
11479: LD_EXP 75
11483: PUSH
11484: LD_VAR 0 2
11488: ARRAY
11489: NOT
11490: IFFALSE 11494
// exit ;
11492: GO 11626
// if def_desert_warior = 2 then
11494: LD_EXP 31
11498: PUSH
11499: LD_INT 2
11501: EQUAL
11502: IFFALSE 11516
// if cl = class_desert_warior then
11504: LD_VAR 0 8
11508: PUSH
11509: LD_INT 11
11511: EQUAL
11512: IFFALSE 11516
// exit ;
11514: GO 11626
// inqueue := Replace ( inqueue , side , replace ( inqueue [ side ] , nation , inqueue [ side ] [ nation ] + 1 ) ) ;
11516: LD_ADDR_LOC 3
11520: PUSH
11521: LD_LOC 3
11525: PPUSH
11526: LD_VAR 0 2
11530: PPUSH
11531: LD_LOC 3
11535: PUSH
11536: LD_VAR 0 2
11540: ARRAY
11541: PPUSH
11542: LD_VAR 0 3
11546: PPUSH
11547: LD_LOC 3
11551: PUSH
11552: LD_VAR 0 2
11556: ARRAY
11557: PUSH
11558: LD_VAR 0 3
11562: ARRAY
11563: PUSH
11564: LD_INT 1
11566: PLUS
11567: PPUSH
11568: CALL_OW 1
11572: PPUSH
11573: CALL_OW 1
11577: ST_TO_ADDR
// if def_respawining_type = 2 then
11578: LD_EXP 24
11582: PUSH
11583: LD_INT 2
11585: EQUAL
11586: IFFALSE 11609
// ObnovCloveka ( side , nation , identifier ) else
11588: LD_VAR 0 2
11592: PPUSH
11593: LD_VAR 0 3
11597: PPUSH
11598: LD_VAR 0 1
11602: PPUSH
11603: CALL 11745 0 3
11607: GO 11626
// ObnovCloveka ( side , nation , false ) ;
11609: LD_VAR 0 2
11613: PPUSH
11614: LD_VAR 0 3
11618: PPUSH
11619: LD_INT 0
11621: PPUSH
11622: CALL 11745 0 3
// end ;
11626: LD_VAR 0 9
11630: RET
// export ObnovCas , ObnovZpozdeni ; export function SetRespawningTime ( minBTime , maxBTime , MinDelay , MaxDelay ) ; var k ; begin
11631: LD_INT 0
11633: PPUSH
11634: PPUSH
// k = Rand ( minBTime , maxBTime ) ;
11635: LD_ADDR_VAR 0 6
11639: PUSH
11640: LD_VAR 0 1
11644: PPUSH
11645: LD_VAR 0 2
11649: PPUSH
11650: CALL_OW 12
11654: ST_TO_ADDR
// ObnovCas = [ k , k , k , k , k , k , k , k ] ;
11655: LD_ADDR_EXP 102
11659: PUSH
11660: LD_VAR 0 6
11664: PUSH
11665: LD_VAR 0 6
11669: PUSH
11670: LD_VAR 0 6
11674: PUSH
11675: LD_VAR 0 6
11679: PUSH
11680: LD_VAR 0 6
11684: PUSH
11685: LD_VAR 0 6
11689: PUSH
11690: LD_VAR 0 6
11694: PUSH
11695: LD_VAR 0 6
11699: PUSH
11700: EMPTY
11701: LIST
11702: LIST
11703: LIST
11704: LIST
11705: LIST
11706: LIST
11707: LIST
11708: LIST
11709: ST_TO_ADDR
// k = Rand ( minDelay , MaxDelay ) ;
11710: LD_ADDR_VAR 0 6
11714: PUSH
11715: LD_VAR 0 3
11719: PPUSH
11720: LD_VAR 0 4
11724: PPUSH
11725: CALL_OW 12
11729: ST_TO_ADDR
// ObnovZpozdeni = k ;
11730: LD_ADDR_EXP 103
11734: PUSH
11735: LD_VAR 0 6
11739: ST_TO_ADDR
// end ;
11740: LD_VAR 0 5
11744: RET
// export unit_list ; export function ObnovCloveka ( side , nation , restored ) ; var building_list , b , n , un , k , i , base_skills , speed , def ; begin
11745: LD_INT 0
11747: PPUSH
11748: PPUSH
11749: PPUSH
11750: PPUSH
11751: PPUSH
11752: PPUSH
11753: PPUSH
11754: PPUSH
11755: PPUSH
11756: PPUSH
// if ObnovCas [ side ] = 0 then
11757: LD_EXP 102
11761: PUSH
11762: LD_VAR 0 1
11766: ARRAY
11767: PUSH
11768: LD_INT 0
11770: EQUAL
11771: IFFALSE 11775
// exit ;
11773: GO 12420
// uc_nation := nation ;
11775: LD_ADDR_OWVAR 21
11779: PUSH
11780: LD_VAR 0 2
11784: ST_TO_ADDR
// uc_side := side ;
11785: LD_ADDR_OWVAR 20
11789: PUSH
11790: LD_VAR 0 1
11794: ST_TO_ADDR
// uc_direction := Rand ( 0 , 5 ) ;
11795: LD_ADDR_OWVAR 24
11799: PUSH
11800: LD_INT 0
11802: PPUSH
11803: LD_INT 5
11805: PPUSH
11806: CALL_OW 12
11810: ST_TO_ADDR
// if restored then
11811: LD_VAR 0 3
11815: IFFALSE 11898
// begin hc_class = GetClass ( restored ) ;
11817: LD_ADDR_OWVAR 28
11821: PUSH
11822: LD_VAR 0 3
11826: PPUSH
11827: CALL_OW 257
11831: ST_TO_ADDR
// hc_attr = [ GetAttr ( restored , attr_stamina ) , GetAttr ( restored , attr_speed ) ] ;
11832: LD_ADDR_OWVAR 29
11836: PUSH
11837: LD_VAR 0 3
11841: PPUSH
11842: LD_INT 1
11844: PPUSH
11845: CALL_OW 260
11849: PUSH
11850: LD_VAR 0 3
11854: PPUSH
11855: LD_INT 2
11857: PPUSH
11858: CALL_OW 260
11862: PUSH
11863: EMPTY
11864: LIST
11865: LIST
11866: ST_TO_ADDR
// if hc_class in [ class_sniper , class_bazooker , class_mortar ] then
11867: LD_OWVAR 28
11871: PUSH
11872: LD_INT 5
11874: PUSH
11875: LD_INT 9
11877: PUSH
11878: LD_INT 8
11880: PUSH
11881: EMPTY
11882: LIST
11883: LIST
11884: LIST
11885: IN
11886: IFFALSE 11896
// hc_class = class_soldier ;
11888: LD_ADDR_OWVAR 28
11892: PUSH
11893: LD_INT 1
11895: ST_TO_ADDR
// end else
11896: GO 11907
// randomHumanStats ( initial_level ) ;
11898: LD_EXP 42
11902: PPUSH
11903: CALL 17252 0 1
// hc_importance := 0 ;
11907: LD_ADDR_OWVAR 32
11911: PUSH
11912: LD_INT 0
11914: ST_TO_ADDR
// hc_gallery :=  ;
11915: LD_ADDR_OWVAR 33
11919: PUSH
11920: LD_STRING 
11922: ST_TO_ADDR
// hc_face_number := 0 ;
11923: LD_ADDR_OWVAR 34
11927: PUSH
11928: LD_INT 0
11930: ST_TO_ADDR
// hc_name =  ;
11931: LD_ADDR_OWVAR 26
11935: PUSH
11936: LD_STRING 
11938: ST_TO_ADDR
// un := CreateHuman ;
11939: LD_ADDR_VAR 0 8
11943: PUSH
11944: CALL_OW 44
11948: ST_TO_ADDR
// if restored then
11949: LD_VAR 0 3
11953: IFFALSE 11969
// CopySkills ( restored , un ) ;
11955: LD_VAR 0 3
11959: PPUSH
11960: LD_VAR 0 8
11964: PPUSH
11965: CALL_OW 510
// k = ObnovCas [ side ] + ObnovZpozdeni ;
11969: LD_ADDR_VAR 0 9
11973: PUSH
11974: LD_EXP 102
11978: PUSH
11979: LD_VAR 0 1
11983: ARRAY
11984: PUSH
11985: LD_EXP 103
11989: PLUS
11990: ST_TO_ADDR
// ObnovCas = Replace ( ObnovCas , side , k ) ;
11991: LD_ADDR_EXP 102
11995: PUSH
11996: LD_EXP 102
12000: PPUSH
12001: LD_VAR 0 1
12005: PPUSH
12006: LD_VAR 0 9
12010: PPUSH
12011: CALL_OW 1
12015: ST_TO_ADDR
// wait ( ObnovCas [ side ] - ObnovZpozdeni ) ;
12016: LD_EXP 102
12020: PUSH
12021: LD_VAR 0 1
12025: ARRAY
12026: PUSH
12027: LD_EXP 103
12031: MINUS
12032: PPUSH
12033: CALL_OW 67
// if not ( HasPower ( side ) ) then
12037: LD_VAR 0 1
12041: PPUSH
12042: CALL 13203 0 1
12046: NOT
12047: IFFALSE 12051
// exit ;
12049: GO 12420
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_ok ] , [ f_side , side ] , [ f_nation , nation ] ] ) ;
12051: LD_ADDR_VAR 0 5
12055: PUSH
12056: LD_INT 21
12058: PUSH
12059: LD_INT 3
12061: PUSH
12062: EMPTY
12063: LIST
12064: LIST
12065: PUSH
12066: LD_INT 2
12068: PUSH
12069: LD_INT 30
12071: PUSH
12072: LD_INT 0
12074: PUSH
12075: EMPTY
12076: LIST
12077: LIST
12078: PUSH
12079: LD_INT 30
12081: PUSH
12082: LD_INT 1
12084: PUSH
12085: EMPTY
12086: LIST
12087: LIST
12088: PUSH
12089: EMPTY
12090: LIST
12091: LIST
12092: LIST
12093: PUSH
12094: LD_INT 50
12096: PUSH
12097: EMPTY
12098: LIST
12099: PUSH
12100: LD_INT 22
12102: PUSH
12103: LD_VAR 0 1
12107: PUSH
12108: EMPTY
12109: LIST
12110: LIST
12111: PUSH
12112: LD_INT 23
12114: PUSH
12115: LD_VAR 0 2
12119: PUSH
12120: EMPTY
12121: LIST
12122: LIST
12123: PUSH
12124: EMPTY
12125: LIST
12126: LIST
12127: LIST
12128: LIST
12129: LIST
12130: PPUSH
12131: CALL_OW 69
12135: ST_TO_ADDR
// if building_list = 0 then
12136: LD_VAR 0 5
12140: PUSH
12141: LD_INT 0
12143: EQUAL
12144: IFFALSE 12218
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_ok ] , [ f_side , side ] ] ) ;
12146: LD_ADDR_VAR 0 5
12150: PUSH
12151: LD_INT 21
12153: PUSH
12154: LD_INT 3
12156: PUSH
12157: EMPTY
12158: LIST
12159: LIST
12160: PUSH
12161: LD_INT 2
12163: PUSH
12164: LD_INT 30
12166: PUSH
12167: LD_INT 0
12169: PUSH
12170: EMPTY
12171: LIST
12172: LIST
12173: PUSH
12174: LD_INT 30
12176: PUSH
12177: LD_INT 1
12179: PUSH
12180: EMPTY
12181: LIST
12182: LIST
12183: PUSH
12184: EMPTY
12185: LIST
12186: LIST
12187: LIST
12188: PUSH
12189: LD_INT 50
12191: PUSH
12192: EMPTY
12193: LIST
12194: PUSH
12195: LD_INT 22
12197: PUSH
12198: LD_VAR 0 1
12202: PUSH
12203: EMPTY
12204: LIST
12205: LIST
12206: PUSH
12207: EMPTY
12208: LIST
12209: LIST
12210: LIST
12211: LIST
12212: PPUSH
12213: CALL_OW 69
12217: ST_TO_ADDR
// if building_list = 0 then
12218: LD_VAR 0 5
12222: PUSH
12223: LD_INT 0
12225: EQUAL
12226: IFFALSE 12271
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_ok ] , [ f_side , side ] ] ) ;
12228: LD_ADDR_VAR 0 5
12232: PUSH
12233: LD_INT 21
12235: PUSH
12236: LD_INT 3
12238: PUSH
12239: EMPTY
12240: LIST
12241: LIST
12242: PUSH
12243: LD_INT 50
12245: PUSH
12246: EMPTY
12247: LIST
12248: PUSH
12249: LD_INT 22
12251: PUSH
12252: LD_VAR 0 1
12256: PUSH
12257: EMPTY
12258: LIST
12259: LIST
12260: PUSH
12261: EMPTY
12262: LIST
12263: LIST
12264: LIST
12265: PPUSH
12266: CALL_OW 69
12270: ST_TO_ADDR
// if building_list > 0 then
12271: LD_VAR 0 5
12275: PUSH
12276: LD_INT 0
12278: GREATER
12279: IFFALSE 12397
// begin b := building_list [ Rand ( 1 , building_list + 0 ) ] ;
12281: LD_ADDR_VAR 0 6
12285: PUSH
12286: LD_VAR 0 5
12290: PUSH
12291: LD_INT 1
12293: PPUSH
12294: LD_VAR 0 5
12298: PUSH
12299: LD_INT 0
12301: PLUS
12302: PPUSH
12303: CALL_OW 12
12307: ARRAY
12308: ST_TO_ADDR
// if GetBType ( b ) in [ b_depot , b_warehouse ] then
12309: LD_VAR 0 6
12313: PPUSH
12314: CALL_OW 266
12318: PUSH
12319: LD_INT 0
12321: PUSH
12322: LD_INT 1
12324: PUSH
12325: EMPTY
12326: LIST
12327: LIST
12328: IN
12329: IFFALSE 12341
// n = 25 else
12331: LD_ADDR_VAR 0 7
12335: PUSH
12336: LD_INT 25
12338: ST_TO_ADDR
12339: GO 12349
// n = 10 ;
12341: LD_ADDR_VAR 0 7
12345: PUSH
12346: LD_INT 10
12348: ST_TO_ADDR
// PlaceUnitXYR ( un , GetX ( b ) , GetY ( b ) , n , true ) ;
12349: LD_VAR 0 8
12353: PPUSH
12354: LD_VAR 0 6
12358: PPUSH
12359: CALL_OW 250
12363: PPUSH
12364: LD_VAR 0 6
12368: PPUSH
12369: CALL_OW 251
12373: PPUSH
12374: LD_VAR 0 7
12378: PPUSH
12379: LD_INT 1
12381: PPUSH
12382: CALL_OW 50
// OnHumanRespawned ( un ) ;
12386: LD_VAR 0 8
12390: PPUSH
12391: CALL 11333 0 1
// end else
12395: GO 12420
// begin ObnovOpozdilceCloveka ( un , side , k / 2 ) ;
12397: LD_VAR 0 8
12401: PPUSH
12402: LD_VAR 0 1
12406: PPUSH
12407: LD_VAR 0 9
12411: PUSH
12412: LD_INT 2
12414: DIVREAL
12415: PPUSH
12416: CALL 12425 0 3
// end ; end ;
12420: LD_VAR 0 4
12424: RET
// function ObnovOpozdilceCloveka ( un , side , waitTime ) ; var building_list , n , unit_list , b ; begin
12425: LD_INT 0
12427: PPUSH
12428: PPUSH
12429: PPUSH
12430: PPUSH
12431: PPUSH
// wait ( waitTime ) ;
12432: LD_VAR 0 3
12436: PPUSH
12437: CALL_OW 67
// if not ( HasPower ( side ) ) then
12441: LD_VAR 0 2
12445: PPUSH
12446: CALL 13203 0 1
12450: NOT
12451: IFFALSE 12455
// exit ;
12453: GO 12825
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_ok ] , [ f_side , side ] , [ f_nation , GetNation ( un ) ] ] ) ;
12455: LD_ADDR_VAR 0 5
12459: PUSH
12460: LD_INT 21
12462: PUSH
12463: LD_INT 3
12465: PUSH
12466: EMPTY
12467: LIST
12468: LIST
12469: PUSH
12470: LD_INT 2
12472: PUSH
12473: LD_INT 30
12475: PUSH
12476: LD_INT 0
12478: PUSH
12479: EMPTY
12480: LIST
12481: LIST
12482: PUSH
12483: LD_INT 30
12485: PUSH
12486: LD_INT 1
12488: PUSH
12489: EMPTY
12490: LIST
12491: LIST
12492: PUSH
12493: EMPTY
12494: LIST
12495: LIST
12496: LIST
12497: PUSH
12498: LD_INT 50
12500: PUSH
12501: EMPTY
12502: LIST
12503: PUSH
12504: LD_INT 22
12506: PUSH
12507: LD_VAR 0 2
12511: PUSH
12512: EMPTY
12513: LIST
12514: LIST
12515: PUSH
12516: LD_INT 23
12518: PUSH
12519: LD_VAR 0 1
12523: PPUSH
12524: CALL_OW 248
12528: PUSH
12529: EMPTY
12530: LIST
12531: LIST
12532: PUSH
12533: EMPTY
12534: LIST
12535: LIST
12536: LIST
12537: LIST
12538: LIST
12539: PPUSH
12540: CALL_OW 69
12544: ST_TO_ADDR
// if building_list = 0 then
12545: LD_VAR 0 5
12549: PUSH
12550: LD_INT 0
12552: EQUAL
12553: IFFALSE 12627
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_ok ] , [ f_side , side ] ] ) ;
12555: LD_ADDR_VAR 0 5
12559: PUSH
12560: LD_INT 21
12562: PUSH
12563: LD_INT 3
12565: PUSH
12566: EMPTY
12567: LIST
12568: LIST
12569: PUSH
12570: LD_INT 2
12572: PUSH
12573: LD_INT 30
12575: PUSH
12576: LD_INT 0
12578: PUSH
12579: EMPTY
12580: LIST
12581: LIST
12582: PUSH
12583: LD_INT 30
12585: PUSH
12586: LD_INT 1
12588: PUSH
12589: EMPTY
12590: LIST
12591: LIST
12592: PUSH
12593: EMPTY
12594: LIST
12595: LIST
12596: LIST
12597: PUSH
12598: LD_INT 50
12600: PUSH
12601: EMPTY
12602: LIST
12603: PUSH
12604: LD_INT 22
12606: PUSH
12607: LD_VAR 0 2
12611: PUSH
12612: EMPTY
12613: LIST
12614: LIST
12615: PUSH
12616: EMPTY
12617: LIST
12618: LIST
12619: LIST
12620: LIST
12621: PPUSH
12622: CALL_OW 69
12626: ST_TO_ADDR
// if building_list = 0 then
12627: LD_VAR 0 5
12631: PUSH
12632: LD_INT 0
12634: EQUAL
12635: IFFALSE 12680
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_ok ] , [ f_side , side ] ] ) ;
12637: LD_ADDR_VAR 0 5
12641: PUSH
12642: LD_INT 21
12644: PUSH
12645: LD_INT 3
12647: PUSH
12648: EMPTY
12649: LIST
12650: LIST
12651: PUSH
12652: LD_INT 50
12654: PUSH
12655: EMPTY
12656: LIST
12657: PUSH
12658: LD_INT 22
12660: PUSH
12661: LD_VAR 0 2
12665: PUSH
12666: EMPTY
12667: LIST
12668: LIST
12669: PUSH
12670: EMPTY
12671: LIST
12672: LIST
12673: LIST
12674: PPUSH
12675: CALL_OW 69
12679: ST_TO_ADDR
// if building_list > 0 then
12680: LD_VAR 0 5
12684: PUSH
12685: LD_INT 0
12687: GREATER
12688: IFFALSE 12806
// begin b := building_list [ Rand ( 1 , building_list + 0 ) ] ;
12690: LD_ADDR_VAR 0 8
12694: PUSH
12695: LD_VAR 0 5
12699: PUSH
12700: LD_INT 1
12702: PPUSH
12703: LD_VAR 0 5
12707: PUSH
12708: LD_INT 0
12710: PLUS
12711: PPUSH
12712: CALL_OW 12
12716: ARRAY
12717: ST_TO_ADDR
// if GetBType ( b ) in [ b_depot , b_warehouse ] then
12718: LD_VAR 0 8
12722: PPUSH
12723: CALL_OW 266
12727: PUSH
12728: LD_INT 0
12730: PUSH
12731: LD_INT 1
12733: PUSH
12734: EMPTY
12735: LIST
12736: LIST
12737: IN
12738: IFFALSE 12750
// n = 25 else
12740: LD_ADDR_VAR 0 6
12744: PUSH
12745: LD_INT 25
12747: ST_TO_ADDR
12748: GO 12758
// n = 10 ;
12750: LD_ADDR_VAR 0 6
12754: PUSH
12755: LD_INT 10
12757: ST_TO_ADDR
// PlaceUnitXYR ( un , GetX ( b ) , GetY ( b ) , n , true ) ;
12758: LD_VAR 0 1
12762: PPUSH
12763: LD_VAR 0 8
12767: PPUSH
12768: CALL_OW 250
12772: PPUSH
12773: LD_VAR 0 8
12777: PPUSH
12778: CALL_OW 251
12782: PPUSH
12783: LD_VAR 0 6
12787: PPUSH
12788: LD_INT 1
12790: PPUSH
12791: CALL_OW 50
// OnHumanRespawned ( un ) ;
12795: LD_VAR 0 1
12799: PPUSH
12800: CALL 11333 0 1
// end else
12804: GO 12825
// ObnovOpozdilceCloveka ( un , side , waitTime ) ;
12806: LD_VAR 0 1
12810: PPUSH
12811: LD_VAR 0 2
12815: PPUSH
12816: LD_VAR 0 3
12820: PPUSH
12821: CALL 12425 0 3
// end ;
12825: LD_VAR 0 4
12829: RET
// export function Vytvor_noveho_cloveka_pro_vsechny ; var nat , side , sidy , i , k ; begin
12830: LD_INT 0
12832: PPUSH
12833: PPUSH
12834: PPUSH
12835: PPUSH
12836: PPUSH
12837: PPUSH
// randomHumanStats ( initial_level ) ;
12838: LD_EXP 42
12842: PPUSH
12843: CALL 17252 0 1
// sidy = [ ] ;
12847: LD_ADDR_VAR 0 4
12851: PUSH
12852: EMPTY
12853: ST_TO_ADDR
// for i = 1 to Side_positions + 0 do
12854: LD_ADDR_VAR 0 5
12858: PUSH
12859: DOUBLE
12860: LD_INT 1
12862: DEC
12863: ST_TO_ADDR
12864: LD_EXP 75
12868: PUSH
12869: LD_INT 0
12871: PLUS
12872: PUSH
12873: FOR_TO
12874: IFFALSE 12942
// if Side_positions [ i ] > 0 then
12876: LD_EXP 75
12880: PUSH
12881: LD_VAR 0 5
12885: ARRAY
12886: PUSH
12887: LD_INT 0
12889: GREATER
12890: IFFALSE 12940
// if HasPower ( i ) then
12892: LD_VAR 0 5
12896: PPUSH
12897: CALL 13203 0 1
12901: IFFALSE 12940
// for k in nations [ i ] do
12903: LD_ADDR_VAR 0 6
12907: PUSH
12908: LD_LOC 5
12912: PUSH
12913: LD_VAR 0 5
12917: ARRAY
12918: PUSH
12919: FOR_IN
12920: IFFALSE 12938
// vytvor_cloveka ( i , k ) ;
12922: LD_VAR 0 5
12926: PPUSH
12927: LD_VAR 0 6
12931: PPUSH
12932: CALL 12949 0 2
12936: GO 12919
12938: POP
12939: POP
12940: GO 12873
12942: POP
12943: POP
// end ;
12944: LD_VAR 0 1
12948: RET
// function vytvor_cloveka ( side , nat ) ; var pom ; begin
12949: LD_INT 0
12951: PPUSH
12952: PPUSH
// uc_side = side ;
12953: LD_ADDR_OWVAR 20
12957: PUSH
12958: LD_VAR 0 1
12962: ST_TO_ADDR
// uc_nation = nat ;
12963: LD_ADDR_OWVAR 21
12967: PUSH
12968: LD_VAR 0 2
12972: ST_TO_ADDR
// PlaceUnitAnywhere ( CreateHuman , true ) ;
12973: CALL_OW 44
12977: PPUSH
12978: LD_INT 1
12980: PPUSH
12981: CALL_OW 51
// if game_type in GT_DoublePeople then
12985: LD_EXP 1
12989: PUSH
12990: LD_EXP 4
12994: IN
12995: IFFALSE 13009
// PlaceUnitAnywhere ( CreateHuman , true ) ;
12997: CALL_OW 44
13001: PPUSH
13002: LD_INT 1
13004: PPUSH
13005: CALL_OW 51
// end ; end_of_file
13009: LD_VAR 0 3
13013: RET
// var defaited , GameEnded , unfoged ; export function Init_Win_Condition ; var i ; begin
13014: LD_INT 0
13016: PPUSH
13017: PPUSH
// enable ( 98 ) ;
13018: LD_INT 98
13020: ENABLE_MARKED
// GameEnded = false ;
13021: LD_ADDR_LOC 8
13025: PUSH
13026: LD_INT 0
13028: ST_TO_ADDR
// defaited = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
13029: LD_ADDR_LOC 7
13033: PUSH
13034: LD_INT 0
13036: PUSH
13037: LD_INT 0
13039: PUSH
13040: LD_INT 0
13042: PUSH
13043: LD_INT 0
13045: PUSH
13046: LD_INT 0
13048: PUSH
13049: LD_INT 0
13051: PUSH
13052: LD_INT 0
13054: PUSH
13055: LD_INT 0
13057: PUSH
13058: EMPTY
13059: LIST
13060: LIST
13061: LIST
13062: LIST
13063: LIST
13064: LIST
13065: LIST
13066: LIST
13067: ST_TO_ADDR
// unfoged = false ;
13068: LD_ADDR_LOC 9
13072: PUSH
13073: LD_INT 0
13075: ST_TO_ADDR
// for i = 1 to side_positions do
13076: LD_ADDR_VAR 0 2
13080: PUSH
13081: DOUBLE
13082: LD_INT 1
13084: DEC
13085: ST_TO_ADDR
13086: LD_EXP 75
13090: PUSH
13091: FOR_TO
13092: IFFALSE 13132
// if not side_positions [ i ] then
13094: LD_EXP 75
13098: PUSH
13099: LD_VAR 0 2
13103: ARRAY
13104: NOT
13105: IFFALSE 13130
// defaited = replace ( defaited , i , true ) ;
13107: LD_ADDR_LOC 7
13111: PUSH
13112: LD_LOC 7
13116: PPUSH
13117: LD_VAR 0 2
13121: PPUSH
13122: LD_INT 1
13124: PPUSH
13125: CALL_OW 1
13129: ST_TO_ADDR
13130: GO 13091
13132: POP
13133: POP
// end ;
13134: LD_VAR 0 1
13138: RET
// function CanWinLoose ; begin
13139: LD_INT 0
13141: PPUSH
// Result := true ;
13142: LD_ADDR_VAR 0 1
13146: PUSH
13147: LD_INT 1
13149: ST_TO_ADDR
// if IAmServer and PlayerCount > 0 then
13150: CALL_OW 518
13154: PUSH
13155: CALL_OW 519
13159: PUSH
13160: LD_INT 0
13162: GREATER
13163: AND
13164: IFFALSE 13174
// Result := false ;
13166: LD_ADDR_VAR 0 1
13170: PUSH
13171: LD_INT 0
13173: ST_TO_ADDR
// if IAmSpec and PlayerCount > 1 then
13174: CALL_OW 531
13178: PUSH
13179: CALL_OW 519
13183: PUSH
13184: LD_INT 1
13186: GREATER
13187: AND
13188: IFFALSE 13198
// Result := false ;
13190: LD_ADDR_VAR 0 1
13194: PUSH
13195: LD_INT 0
13197: ST_TO_ADDR
// end ;
13198: LD_VAR 0 1
13202: RET
// export function HasPower ( i ) ; var k , h ; begin
13203: LD_INT 0
13205: PPUSH
13206: PPUSH
13207: PPUSH
// if not MultiplayerSideAlive ( i ) and not Side_Comps [ i ] and MultiPlayer then
13208: LD_VAR 0 1
13212: PPUSH
13213: CALL_OW 108
13217: NOT
13218: PUSH
13219: LD_EXP 78
13223: PUSH
13224: LD_VAR 0 1
13228: ARRAY
13229: NOT
13230: AND
13231: PUSH
13232: LD_OWVAR 4
13236: AND
13237: IFFALSE 13249
// begin result = false ;
13239: LD_ADDR_VAR 0 2
13243: PUSH
13244: LD_INT 0
13246: ST_TO_ADDR
// end else
13247: GO 13544
// case def_win_rules of 0 :
13249: LD_EXP 21
13253: PUSH
13254: LD_INT 0
13256: DOUBLE
13257: EQUAL
13258: IFTRUE 13262
13260: GO 13425
13262: POP
// if def_people_respawning then
13263: LD_EXP 25
13267: IFFALSE 13358
// Result := FilterAllUnits ( [ [ f_side , i ] , [ f_or , [ f_type , unit_human ] , [ f_control , control_computer ] , [ f_control , control_apeman ] , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) else
13269: LD_ADDR_VAR 0 2
13273: PUSH
13274: LD_INT 22
13276: PUSH
13277: LD_VAR 0 1
13281: PUSH
13282: EMPTY
13283: LIST
13284: LIST
13285: PUSH
13286: LD_INT 2
13288: PUSH
13289: LD_INT 21
13291: PUSH
13292: LD_INT 1
13294: PUSH
13295: EMPTY
13296: LIST
13297: LIST
13298: PUSH
13299: LD_INT 33
13301: PUSH
13302: LD_INT 3
13304: PUSH
13305: EMPTY
13306: LIST
13307: LIST
13308: PUSH
13309: LD_INT 33
13311: PUSH
13312: LD_INT 5
13314: PUSH
13315: EMPTY
13316: LIST
13317: LIST
13318: PUSH
13319: LD_INT 30
13321: PUSH
13322: LD_INT 0
13324: PUSH
13325: EMPTY
13326: LIST
13327: LIST
13328: PUSH
13329: LD_INT 30
13331: PUSH
13332: LD_INT 1
13334: PUSH
13335: EMPTY
13336: LIST
13337: LIST
13338: PUSH
13339: EMPTY
13340: LIST
13341: LIST
13342: LIST
13343: LIST
13344: LIST
13345: LIST
13346: PUSH
13347: EMPTY
13348: LIST
13349: LIST
13350: PPUSH
13351: CALL_OW 69
13355: ST_TO_ADDR
13356: GO 13423
// Result := FilterAllUnits ( [ [ f_side , i ] , [ f_or , [ f_type , unit_human ] , [ f_control , control_computer ] , [ f_control , control_apeman ] ] ] ) ; 1 :
13358: LD_ADDR_VAR 0 2
13362: PUSH
13363: LD_INT 22
13365: PUSH
13366: LD_VAR 0 1
13370: PUSH
13371: EMPTY
13372: LIST
13373: LIST
13374: PUSH
13375: LD_INT 2
13377: PUSH
13378: LD_INT 21
13380: PUSH
13381: LD_INT 1
13383: PUSH
13384: EMPTY
13385: LIST
13386: LIST
13387: PUSH
13388: LD_INT 33
13390: PUSH
13391: LD_INT 3
13393: PUSH
13394: EMPTY
13395: LIST
13396: LIST
13397: PUSH
13398: LD_INT 33
13400: PUSH
13401: LD_INT 5
13403: PUSH
13404: EMPTY
13405: LIST
13406: LIST
13407: PUSH
13408: EMPTY
13409: LIST
13410: LIST
13411: LIST
13412: LIST
13413: PUSH
13414: EMPTY
13415: LIST
13416: LIST
13417: PPUSH
13418: CALL_OW 69
13422: ST_TO_ADDR
13423: GO 13544
13425: LD_INT 1
13427: DOUBLE
13428: EQUAL
13429: IFTRUE 13433
13431: GO 13472
13433: POP
// Result = FilterAllUnits ( [ [ f_side , i ] , [ f_type , unit_human ] ] ) ; 2 :
13434: LD_ADDR_VAR 0 2
13438: PUSH
13439: LD_INT 22
13441: PUSH
13442: LD_VAR 0 1
13446: PUSH
13447: EMPTY
13448: LIST
13449: LIST
13450: PUSH
13451: LD_INT 21
13453: PUSH
13454: LD_INT 1
13456: PUSH
13457: EMPTY
13458: LIST
13459: LIST
13460: PUSH
13461: EMPTY
13462: LIST
13463: LIST
13464: PPUSH
13465: CALL_OW 69
13469: ST_TO_ADDR
13470: GO 13544
13472: LD_INT 2
13474: DOUBLE
13475: EQUAL
13476: IFTRUE 13480
13478: GO 13543
13480: POP
// begin h = false ;
13481: LD_ADDR_VAR 0 4
13485: PUSH
13486: LD_INT 0
13488: ST_TO_ADDR
// for k in heroes [ i ] do
13489: LD_ADDR_VAR 0 3
13493: PUSH
13494: LD_EXP 50
13498: PUSH
13499: LD_VAR 0 1
13503: ARRAY
13504: PUSH
13505: FOR_IN
13506: IFFALSE 13529
// if IsLive ( k ) then
13508: LD_VAR 0 3
13512: PPUSH
13513: CALL_OW 300
13517: IFFALSE 13527
// h = true ;
13519: LD_ADDR_VAR 0 4
13523: PUSH
13524: LD_INT 1
13526: ST_TO_ADDR
13527: GO 13505
13529: POP
13530: POP
// Result := h ;
13531: LD_ADDR_VAR 0 2
13535: PUSH
13536: LD_VAR 0 4
13540: ST_TO_ADDR
// end ; end ;
13541: GO 13544
13543: POP
// end ;
13544: LD_VAR 0 2
13548: RET
// function AlliedSides ( i , j ) ; begin
13549: LD_INT 0
13551: PPUSH
// Result := false ;
13552: LD_ADDR_VAR 0 3
13556: PUSH
13557: LD_INT 0
13559: ST_TO_ADDR
// if ( GetAttitude ( i , j ) = att_friend ) and ( GetAttitude ( j , i ) = att_friend ) and GetAlliedVictory ( i ) and GetAlliedVictory ( j ) then
13560: LD_VAR 0 1
13564: PPUSH
13565: LD_VAR 0 2
13569: PPUSH
13570: CALL_OW 81
13574: PUSH
13575: LD_INT 1
13577: EQUAL
13578: PUSH
13579: LD_VAR 0 2
13583: PPUSH
13584: LD_VAR 0 1
13588: PPUSH
13589: CALL_OW 81
13593: PUSH
13594: LD_INT 1
13596: EQUAL
13597: AND
13598: PUSH
13599: LD_VAR 0 1
13603: PPUSH
13604: CALL_OW 83
13608: AND
13609: PUSH
13610: LD_VAR 0 2
13614: PPUSH
13615: CALL_OW 83
13619: AND
13620: IFFALSE 13630
// Result := true ;
13622: LD_ADDR_VAR 0 3
13626: PUSH
13627: LD_INT 1
13629: ST_TO_ADDR
// end ;
13630: LD_VAR 0 3
13634: RET
// every 100 trigger CanWinLoose and not GameEnded marked 400 do
13635: CALL 13139 0 0
13639: PUSH
13640: LD_LOC 8
13644: NOT
13645: AND
13646: IFFALSE 13662
13648: GO 13650
13650: DISABLE
// WaitServerStrings = [ #Player-Ended ] ;
13651: LD_ADDR_EXP 107
13655: PUSH
13656: LD_STRING #Player-Ended
13658: PUSH
13659: EMPTY
13660: LIST
13661: ST_TO_ADDR
13662: END
// every 100 trigger CanWinLoose and GameEnded marked 400 do
13663: CALL 13139 0 0
13667: PUSH
13668: LD_LOC 8
13672: AND
13673: IFFALSE 13682
13675: GO 13677
13677: DISABLE
// YouLostInMultiplayer ;
13678: CALL_OW 107
13682: END
// every 100 trigger not CanWinLoose and not IAmSpec marked 400 do
13683: CALL 13139 0 0
13687: NOT
13688: PUSH
13689: CALL_OW 531
13693: NOT
13694: AND
13695: IFFALSE 13711
13697: GO 13699
13699: DISABLE
// WaitServerStrings = [ #server-wait ] ;
13700: LD_ADDR_EXP 107
13704: PUSH
13705: LD_STRING #server-wait
13707: PUSH
13708: EMPTY
13709: LIST
13710: ST_TO_ADDR
13711: END
// every 100 trigger IAmSpec do
13712: CALL_OW 531
13716: IFFALSE 13732
13718: GO 13720
13720: DISABLE
// WaitServerStrings = [ #Player-IAmSpec ] ;
13721: LD_ADDR_EXP 107
13725: PUSH
13726: LD_STRING #Player-IAmSpec
13728: PUSH
13729: EMPTY
13730: LIST
13731: ST_TO_ADDR
13732: END
// every 100 trigger GameEnded and IAmSpec do
13733: LD_LOC 8
13737: PUSH
13738: CALL_OW 531
13742: AND
13743: IFFALSE 13752
13745: GO 13747
13747: DISABLE
// YouLostInMultiplayer ;
13748: CALL_OW 107
13752: END
// every 100 trigger CanWinLoose and not GameEnded marked 401 do
13753: CALL 13139 0 0
13757: PUSH
13758: LD_LOC 8
13762: NOT
13763: AND
13764: IFFALSE 13780
13766: GO 13768
13768: DISABLE
// WaitServerStrings = [ $player-win ] ;
13769: LD_ADDR_EXP 107
13773: PUSH
13774: LD_STRING $player-win
13776: PUSH
13777: EMPTY
13778: LIST
13779: ST_TO_ADDR
13780: END
// every 100 trigger CanWinLoose and GameEnded marked 401 do
13781: CALL 13139 0 0
13785: PUSH
13786: LD_LOC 8
13790: AND
13791: IFFALSE 13815
13793: GO 13795
13795: DISABLE
// begin SA_Win ( Side_Nations [ Your_side ] ) ;
13796: LD_EXP 76
13800: PUSH
13801: LD_OWVAR 2
13805: ARRAY
13806: PPUSH
13807: CALL 34471 0 1
// YouWinInMultiplayer ;
13811: CALL_OW 106
// end ;
13815: END
// every 100 trigger isEditor marked 401 do
13816: LD_OWVAR 84
13820: IFFALSE 13836
13822: GO 13824
13824: DISABLE
// Debug_Strings = [ You won ] ;
13825: LD_ADDR_OWVAR 48
13829: PUSH
13830: LD_STRING You won
13832: PUSH
13833: EMPTY
13834: LIST
13835: ST_TO_ADDR
13836: END
// every 100 trigger isEditor marked 400 do
13837: LD_OWVAR 84
13841: IFFALSE 13857
13843: GO 13845
13845: DISABLE
// Debug_Strings = [ You loss ] ;
13846: LD_ADDR_OWVAR 48
13850: PUSH
13851: LD_STRING You loss
13853: PUSH
13854: EMPTY
13855: LIST
13856: ST_TO_ADDR
13857: END
// every 100 marked 98 do var i , un ;
13858: GO 13860
13860: DISABLE
13861: LD_INT 0
13863: PPUSH
13864: PPUSH
// begin for i = 1 to side_positions do
13865: LD_ADDR_VAR 0 1
13869: PUSH
13870: DOUBLE
13871: LD_INT 1
13873: DEC
13874: ST_TO_ADDR
13875: LD_EXP 75
13879: PUSH
13880: FOR_TO
13881: IFFALSE 13964
// if side_positions [ i ] then
13883: LD_EXP 75
13887: PUSH
13888: LD_VAR 0 1
13892: ARRAY
13893: IFFALSE 13962
// if not HasPower ( i ) and not Defaited [ i ] then
13895: LD_VAR 0 1
13899: PPUSH
13900: CALL 13203 0 1
13904: NOT
13905: PUSH
13906: LD_LOC 7
13910: PUSH
13911: LD_VAR 0 1
13915: ARRAY
13916: NOT
13917: AND
13918: IFFALSE 13962
// begin Defaited = replace ( Defaited , i , true ) ;
13920: LD_ADDR_LOC 7
13924: PUSH
13925: LD_LOC 7
13929: PPUSH
13930: LD_VAR 0 1
13934: PPUSH
13935: LD_INT 1
13937: PPUSH
13938: CALL_OW 1
13942: ST_TO_ADDR
// if i = your_side then
13943: LD_VAR 0 1
13947: PUSH
13948: LD_OWVAR 2
13952: EQUAL
13953: IFFALSE 13962
// begin Multiplayer_Loose_Message ;
13955: CALL_OW 521
// enable ( 400 ) ;
13959: LD_INT 400
13961: ENABLE_MARKED
// end ; end ;
13962: GO 13880
13964: POP
13965: POP
// if not Unfoged and defaited [ your_side ] then
13966: LD_LOC 9
13970: NOT
13971: PUSH
13972: LD_LOC 7
13976: PUSH
13977: LD_OWVAR 2
13981: ARRAY
13982: AND
13983: IFFALSE 13989
// Unfog ;
13985: CALL 14165 0 0
// DidGameEnd ;
13989: CALL 14004 0 0
// if not GameEnded then
13993: LD_LOC 8
13997: NOT
13998: IFFALSE 14001
// enable ;
14000: ENABLE
// end ;
14001: PPOPN 2
14003: END
// function DidGameEnd ; var i , k , enemy ; begin
14004: LD_INT 0
14006: PPUSH
14007: PPUSH
14008: PPUSH
14009: PPUSH
// enemy = [ ] ;
14010: LD_ADDR_VAR 0 4
14014: PUSH
14015: EMPTY
14016: ST_TO_ADDR
// for i = 1 to side_positions do
14017: LD_ADDR_VAR 0 2
14021: PUSH
14022: DOUBLE
14023: LD_INT 1
14025: DEC
14026: ST_TO_ADDR
14027: LD_EXP 75
14031: PUSH
14032: FOR_TO
14033: IFFALSE 14127
// if not defaited [ i ] then
14035: LD_LOC 7
14039: PUSH
14040: LD_VAR 0 2
14044: ARRAY
14045: NOT
14046: IFFALSE 14125
// for k = 1 to side_positions do
14048: LD_ADDR_VAR 0 3
14052: PUSH
14053: DOUBLE
14054: LD_INT 1
14056: DEC
14057: ST_TO_ADDR
14058: LD_EXP 75
14062: PUSH
14063: FOR_TO
14064: IFFALSE 14123
// if not defaited [ k ] then
14066: LD_LOC 7
14070: PUSH
14071: LD_VAR 0 3
14075: ARRAY
14076: NOT
14077: IFFALSE 14121
// if not AlliedSides ( i , k ) then
14079: LD_VAR 0 2
14083: PPUSH
14084: LD_VAR 0 3
14088: PPUSH
14089: CALL 13549 0 2
14093: NOT
14094: IFFALSE 14121
// enemy = enemy ^ [ i , k ] ;
14096: LD_ADDR_VAR 0 4
14100: PUSH
14101: LD_VAR 0 4
14105: PUSH
14106: LD_VAR 0 2
14110: PUSH
14111: LD_VAR 0 3
14115: PUSH
14116: EMPTY
14117: LIST
14118: LIST
14119: ADD
14120: ST_TO_ADDR
14121: GO 14063
14123: POP
14124: POP
14125: GO 14032
14127: POP
14128: POP
// if not enemy then
14129: LD_VAR 0 4
14133: NOT
14134: IFFALSE 14160
// begin GameEnded = true ;
14136: LD_ADDR_LOC 8
14140: PUSH
14141: LD_INT 1
14143: ST_TO_ADDR
// if not defaited [ your_side ] then
14144: LD_LOC 7
14148: PUSH
14149: LD_OWVAR 2
14153: ARRAY
14154: NOT
14155: IFFALSE 14160
// enable ( 401 ) ;
14157: LD_INT 401
14159: ENABLE_MARKED
// end ; end ;
14160: LD_VAR 0 1
14164: RET
// function unfog ; var k , friends ; begin
14165: LD_INT 0
14167: PPUSH
14168: PPUSH
14169: PPUSH
// SetPlayerSpectator ( ) ;
14170: CALL_OW 572
// unfoged = true ;
14174: LD_ADDR_LOC 9
14178: PUSH
14179: LD_INT 1
14181: ST_TO_ADDR
// end ;
14182: LD_VAR 0 1
14186: RET
// export function MakeGameEnd ; begin
14187: LD_INT 0
14189: PPUSH
// SetPlayerSpectator ( ) ;
14190: CALL_OW 572
// unfoged = true ;
14194: LD_ADDR_LOC 9
14198: PUSH
14199: LD_INT 1
14201: ST_TO_ADDR
// wait ( 0 0$5 ) ;
14202: LD_INT 175
14204: PPUSH
14205: CALL_OW 67
// GameEnded = true ;
14209: LD_ADDR_LOC 8
14213: PUSH
14214: LD_INT 1
14216: ST_TO_ADDR
// end ;
14217: LD_VAR 0 1
14221: RET
// export function GetGameEnded ; begin
14222: LD_INT 0
14224: PPUSH
// result = GameEnded ;
14225: LD_ADDR_VAR 0 1
14229: PUSH
14230: LD_LOC 8
14234: ST_TO_ADDR
// end ; end_of_file
14235: LD_VAR 0 1
14239: RET
// var nations , amount_of_players ; export ApesAreas ; function apeman_init ; var ape_names ; begin
14240: LD_INT 0
14242: PPUSH
14243: PPUSH
// uc_side := 0 ;
14244: LD_ADDR_OWVAR 20
14248: PUSH
14249: LD_INT 0
14251: ST_TO_ADDR
// uc_nation := nation_nature ;
14252: LD_ADDR_OWVAR 21
14256: PUSH
14257: LD_INT 0
14259: ST_TO_ADDR
// ape_names = [ Tupoun , Opoce , Opka , Butrus , Bubu , Condor , Kuklajs , Simon , Ugh , Urgh , Argh , Aargh , Hrumph , Grumph , Oorg , Eghrr , Rrrr , Bark , Wraughrr , :-) , Semik , Hrgh , Hur , Havran , Nazghul , Brutal , Kato Zluta Opoce , Monkey , Yeargh , Marta , Batman , Barkman , Xcenovsk , David Love , Freon , Stoupik , Quik , Jam Prckovic Laren , CFC , Kvakous , Sumys , Agent , Nazghul , Havran , Vrana , Havranek , Carlos Frank , Tekar , Andy , Angela , Janina , Shipanze , Simpan , Nazghulik , Potrusil , Potrus , Butrus , Potrusil , Simon , Auuu , NEMO , Silena opice , Meuznenapadazadnejmeno , Uhrun , Marmelada , Negr , Fnuk , Slim , Kvak , Dave , Bruntal , Arnie , Polda , Jen , Siddha , Silnickar , Bukvice , Zalud , Elvis , Nazghul , Chruadfa , Nazghul , Kato Yellow Ape , Cpt. Ape , King Of The Hill , Pterinochilus , Bad Platypus , Really Bad Ape , Looser , Looser , Looser , Megadeth , Mad Ape , Wraughhhh , ":) ] ;
14260: LD_ADDR_VAR 0 2
14264: PUSH
14265: LD_STRING Tupoun
14267: PUSH
14268: LD_STRING Opoce
14270: PUSH
14271: LD_STRING Opka
14273: PUSH
14274: LD_STRING Butrus
14276: PUSH
14277: LD_STRING Bubu
14279: PUSH
14280: LD_STRING Condor
14282: PUSH
14283: LD_STRING Kuklajs
14285: PUSH
14286: LD_STRING Simon
14288: PUSH
14289: LD_STRING Ugh
14291: PUSH
14292: LD_STRING Urgh
14294: PUSH
14295: LD_STRING Argh
14297: PUSH
14298: LD_STRING Aargh
14300: PUSH
14301: LD_STRING Hrumph
14303: PUSH
14304: LD_STRING Grumph
14306: PUSH
14307: LD_STRING Oorg
14309: PUSH
14310: LD_STRING Eghrr
14312: PUSH
14313: LD_STRING Rrrr
14315: PUSH
14316: LD_STRING Bark
14318: PUSH
14319: LD_STRING Wraughrr
14321: PUSH
14322: LD_STRING :-)
14324: PUSH
14325: LD_STRING Semik
14327: PUSH
14328: LD_STRING Hrgh
14330: PUSH
14331: LD_STRING Hur
14333: PUSH
14334: LD_STRING Havran
14336: PUSH
14337: LD_STRING Nazghul
14339: PUSH
14340: LD_STRING Brutal
14342: PUSH
14343: LD_STRING Kato Zluta Opoce
14345: PUSH
14346: LD_STRING Monkey
14348: PUSH
14349: LD_STRING Yeargh
14351: PUSH
14352: LD_STRING Marta
14354: PUSH
14355: LD_STRING Batman
14357: PUSH
14358: LD_STRING Barkman
14360: PUSH
14361: LD_STRING Xcenovsk
14363: PUSH
14364: LD_STRING David Love
14366: PUSH
14367: LD_STRING Freon
14369: PUSH
14370: LD_STRING Stoupik
14372: PUSH
14373: LD_STRING Quik
14375: PUSH
14376: LD_STRING Jam Prckovic Laren
14378: PUSH
14379: LD_STRING CFC
14381: PUSH
14382: LD_STRING Kvakous
14384: PUSH
14385: LD_STRING Sumys
14387: PUSH
14388: LD_STRING Agent
14390: PUSH
14391: LD_STRING Nazghul
14393: PUSH
14394: LD_STRING Havran
14396: PUSH
14397: LD_STRING Vrana
14399: PUSH
14400: LD_STRING Havranek
14402: PUSH
14403: LD_STRING Carlos Frank
14405: PUSH
14406: LD_STRING Tekar
14408: PUSH
14409: LD_STRING Andy
14411: PUSH
14412: LD_STRING Angela
14414: PUSH
14415: LD_STRING Janina
14417: PUSH
14418: LD_STRING Shipanze
14420: PUSH
14421: LD_STRING Simpan
14423: PUSH
14424: LD_STRING Nazghulik
14426: PUSH
14427: LD_STRING Potrusil
14429: PUSH
14430: LD_STRING Potrus
14432: PUSH
14433: LD_STRING Butrus
14435: PUSH
14436: LD_STRING Potrusil
14438: PUSH
14439: LD_STRING Simon
14441: PUSH
14442: LD_STRING Auuu
14444: PUSH
14445: LD_STRING NEMO
14447: PUSH
14448: LD_STRING Silena opice
14450: PUSH
14451: LD_STRING Meuznenapadazadnejmeno
14453: PUSH
14454: LD_STRING Uhrun
14456: PUSH
14457: LD_STRING Marmelada
14459: PUSH
14460: LD_STRING Negr
14462: PUSH
14463: LD_STRING Fnuk
14465: PUSH
14466: LD_STRING Slim
14468: PUSH
14469: LD_STRING Kvak
14471: PUSH
14472: LD_STRING Dave
14474: PUSH
14475: LD_STRING Bruntal
14477: PUSH
14478: LD_STRING Arnie
14480: PUSH
14481: LD_STRING Polda
14483: PUSH
14484: LD_STRING Jen
14486: PUSH
14487: LD_STRING Siddha
14489: PUSH
14490: LD_STRING Silnickar
14492: PUSH
14493: LD_STRING Bukvice
14495: PUSH
14496: LD_STRING Zalud
14498: PUSH
14499: LD_STRING Elvis
14501: PUSH
14502: LD_STRING Nazghul
14504: PUSH
14505: LD_STRING Chruadfa
14507: PUSH
14508: LD_STRING Nazghul
14510: PUSH
14511: LD_STRING Kato Yellow Ape
14513: PUSH
14514: LD_STRING Cpt. Ape
14516: PUSH
14517: LD_STRING King Of The Hill
14519: PUSH
14520: LD_STRING Pterinochilus
14522: PUSH
14523: LD_STRING Bad Platypus
14525: PUSH
14526: LD_STRING Really Bad Ape
14528: PUSH
14529: LD_STRING Looser
14531: PUSH
14532: LD_STRING Looser
14534: PUSH
14535: LD_STRING Looser
14537: PUSH
14538: LD_STRING Megadeth
14540: PUSH
14541: LD_STRING Mad Ape
14543: PUSH
14544: LD_STRING Wraughhhh
14546: PUSH
14547: LD_STRING ":)
14549: PUSH
14550: EMPTY
14551: LIST
14552: LIST
14553: LIST
14554: LIST
14555: LIST
14556: LIST
14557: LIST
14558: LIST
14559: LIST
14560: LIST
14561: LIST
14562: LIST
14563: LIST
14564: LIST
14565: LIST
14566: LIST
14567: LIST
14568: LIST
14569: LIST
14570: LIST
14571: LIST
14572: LIST
14573: LIST
14574: LIST
14575: LIST
14576: LIST
14577: LIST
14578: LIST
14579: LIST
14580: LIST
14581: LIST
14582: LIST
14583: LIST
14584: LIST
14585: LIST
14586: LIST
14587: LIST
14588: LIST
14589: LIST
14590: LIST
14591: LIST
14592: LIST
14593: LIST
14594: LIST
14595: LIST
14596: LIST
14597: LIST
14598: LIST
14599: LIST
14600: LIST
14601: LIST
14602: LIST
14603: LIST
14604: LIST
14605: LIST
14606: LIST
14607: LIST
14608: LIST
14609: LIST
14610: LIST
14611: LIST
14612: LIST
14613: LIST
14614: LIST
14615: LIST
14616: LIST
14617: LIST
14618: LIST
14619: LIST
14620: LIST
14621: LIST
14622: LIST
14623: LIST
14624: LIST
14625: LIST
14626: LIST
14627: LIST
14628: LIST
14629: LIST
14630: LIST
14631: LIST
14632: LIST
14633: LIST
14634: LIST
14635: LIST
14636: LIST
14637: LIST
14638: LIST
14639: LIST
14640: LIST
14641: LIST
14642: LIST
14643: LIST
14644: LIST
14645: LIST
14646: ST_TO_ADDR
// hc_name = ape_names [ Rand ( 1 , ape_names ) ] ;
14647: LD_ADDR_OWVAR 26
14651: PUSH
14652: LD_VAR 0 2
14656: PUSH
14657: LD_INT 1
14659: PPUSH
14660: LD_VAR 0 2
14664: PPUSH
14665: CALL_OW 12
14669: ARRAY
14670: ST_TO_ADDR
// randomHumanStats ( initial_level - 2 ) ;
14671: LD_EXP 42
14675: PUSH
14676: LD_INT 2
14678: MINUS
14679: PPUSH
14680: CALL 17252 0 1
// hc_class := class_apeman ;
14684: LD_ADDR_OWVAR 28
14688: PUSH
14689: LD_INT 12
14691: ST_TO_ADDR
// if hc_attr [ 2 ] < 12 then
14692: LD_OWVAR 29
14696: PUSH
14697: LD_INT 2
14699: ARRAY
14700: PUSH
14701: LD_INT 12
14703: LESS
14704: IFFALSE 14743
// hc_attr = [ hc_attr [ 1 ] + 5 , hc_attr [ 2 ] + 1 ] else
14706: LD_ADDR_OWVAR 29
14710: PUSH
14711: LD_OWVAR 29
14715: PUSH
14716: LD_INT 1
14718: ARRAY
14719: PUSH
14720: LD_INT 5
14722: PLUS
14723: PUSH
14724: LD_OWVAR 29
14728: PUSH
14729: LD_INT 2
14731: ARRAY
14732: PUSH
14733: LD_INT 1
14735: PLUS
14736: PUSH
14737: EMPTY
14738: LIST
14739: LIST
14740: ST_TO_ADDR
14741: GO 14774
// hc_attr = [ hc_attr [ 1 ] + 5 , hc_attr [ 2 ] ] ;
14743: LD_ADDR_OWVAR 29
14747: PUSH
14748: LD_OWVAR 29
14752: PUSH
14753: LD_INT 1
14755: ARRAY
14756: PUSH
14757: LD_INT 5
14759: PLUS
14760: PUSH
14761: LD_OWVAR 29
14765: PUSH
14766: LD_INT 2
14768: ARRAY
14769: PUSH
14770: EMPTY
14771: LIST
14772: LIST
14773: ST_TO_ADDR
// hc_sex := sex_male ;
14774: LD_ADDR_OWVAR 27
14778: PUSH
14779: LD_INT 1
14781: ST_TO_ADDR
// hc_importance := 0 ;
14782: LD_ADDR_OWVAR 32
14786: PUSH
14787: LD_INT 0
14789: ST_TO_ADDR
// hc_agressivity := Rand ( - 20 , 20 ) ;
14790: LD_ADDR_OWVAR 35
14794: PUSH
14795: LD_INT 20
14797: NEG
14798: PPUSH
14799: LD_INT 20
14801: PPUSH
14802: CALL_OW 12
14806: ST_TO_ADDR
// end ;
14807: LD_VAR 0 1
14811: RET
// every 0 0$15 + 0 0$1 marked 493 do var i , a , ape ;
14812: GO 14814
14814: DISABLE
14815: LD_INT 0
14817: PPUSH
14818: PPUSH
14819: PPUSH
// begin repeat ape = FilterAllUnits ( [ [ f_side , 0 ] , [ f_class , class_apeman ] ] ) ;
14820: LD_ADDR_VAR 0 3
14824: PUSH
14825: LD_INT 22
14827: PUSH
14828: LD_INT 0
14830: PUSH
14831: EMPTY
14832: LIST
14833: LIST
14834: PUSH
14835: LD_INT 25
14837: PUSH
14838: LD_INT 12
14840: PUSH
14841: EMPTY
14842: LIST
14843: LIST
14844: PUSH
14845: EMPTY
14846: LIST
14847: LIST
14848: PPUSH
14849: CALL_OW 69
14853: ST_TO_ADDR
// Wait ( ( ape + 1 ) * Rand ( 0 0$10 , 1 1$0 ) ) ;
14854: LD_VAR 0 3
14858: PUSH
14859: LD_INT 1
14861: PLUS
14862: PUSH
14863: LD_INT 350
14865: PPUSH
14866: LD_INT 2100
14868: PPUSH
14869: CALL_OW 12
14873: MUL
14874: PPUSH
14875: CALL_OW 67
// until ape <= ( spawning_koef_of_apemen / 6 ) * amount_of_players ;
14879: LD_VAR 0 3
14883: PUSH
14884: LD_EXP 47
14888: PUSH
14889: LD_INT 6
14891: DIVREAL
14892: PUSH
14893: LD_LOC 11
14897: MUL
14898: LESSEQUAL
14899: IFFALSE 14820
// for i = 1 to spawning_koef_of_apemen / 5 do
14901: LD_ADDR_VAR 0 1
14905: PUSH
14906: DOUBLE
14907: LD_INT 1
14909: DEC
14910: ST_TO_ADDR
14911: LD_EXP 47
14915: PUSH
14916: LD_INT 5
14918: DIVREAL
14919: PUSH
14920: FOR_TO
14921: IFFALSE 15023
// if ApesAreas then
14923: LD_EXP 105
14927: IFFALSE 14976
// begin for a in ApesAreas do
14929: LD_ADDR_VAR 0 2
14933: PUSH
14934: LD_EXP 105
14938: PUSH
14939: FOR_IN
14940: IFFALSE 14972
// begin apeman_init ;
14942: CALL 14240 0 0
// PlaceUnitArea ( CreateHuman , a , false ) ;
14946: CALL_OW 44
14950: PPUSH
14951: LD_VAR 0 2
14955: PPUSH
14956: LD_INT 0
14958: PPUSH
14959: CALL_OW 49
// Wait ( 3 ) ;
14963: LD_INT 3
14965: PPUSH
14966: CALL_OW 67
// end ;
14970: GO 14939
14972: POP
14973: POP
// end else
14974: GO 15021
// begin for a = 1 to amount_of_players do
14976: LD_ADDR_VAR 0 2
14980: PUSH
14981: DOUBLE
14982: LD_INT 1
14984: DEC
14985: ST_TO_ADDR
14986: LD_LOC 11
14990: PUSH
14991: FOR_TO
14992: IFFALSE 15019
// begin apeman_init ;
14994: CALL 14240 0 0
// PlaceUnitAnywhere ( CreateHuman , false ) ;
14998: CALL_OW 44
15002: PPUSH
15003: LD_INT 0
15005: PPUSH
15006: CALL_OW 51
// Wait ( 3 ) ;
15010: LD_INT 3
15012: PPUSH
15013: CALL_OW 67
// end ;
15017: GO 14991
15019: POP
15020: POP
// end ;
15021: GO 14920
15023: POP
15024: POP
// wait ( rand ( 1 1$0 , 5 5$0 ) ) ;
15025: LD_INT 2100
15027: PPUSH
15028: LD_INT 10500
15030: PPUSH
15031: CALL_OW 12
15035: PPUSH
15036: CALL_OW 67
// end ;
15040: PPOPN 3
15042: END
// export function StartApe ; var i , ape ; begin
15043: LD_INT 0
15045: PPUSH
15046: PPUSH
15047: PPUSH
// for i := 1 to 8 do
15048: LD_ADDR_VAR 0 2
15052: PUSH
15053: DOUBLE
15054: LD_INT 1
15056: DEC
15057: ST_TO_ADDR
15058: LD_INT 8
15060: PUSH
15061: FOR_TO
15062: IFFALSE 15096
// if Side_Positions [ i ] <> 0 then
15064: LD_EXP 75
15068: PUSH
15069: LD_VAR 0 2
15073: ARRAY
15074: PUSH
15075: LD_INT 0
15077: NONEQUAL
15078: IFFALSE 15094
// amount_of_players := amount_of_players + 1 ;
15080: LD_ADDR_LOC 11
15084: PUSH
15085: LD_LOC 11
15089: PUSH
15090: LD_INT 1
15092: PLUS
15093: ST_TO_ADDR
15094: GO 15061
15096: POP
15097: POP
// if game_type in GT_doublenat ^ GT_doublepeople then
15098: LD_EXP 1
15102: PUSH
15103: LD_EXP 3
15107: PUSH
15108: LD_EXP 4
15112: ADD
15113: IN
15114: IFFALSE 15132
// amount_of_players = amount_of_players * 2 else
15116: LD_ADDR_LOC 11
15120: PUSH
15121: LD_LOC 11
15125: PUSH
15126: LD_INT 2
15128: MUL
15129: ST_TO_ADDR
15130: GO 15158
// if game_type = GT_TripleNat then
15132: LD_EXP 1
15136: PUSH
15137: LD_EXP 5
15141: EQUAL
15142: IFFALSE 15158
// amount_of_players = amount_of_players * 3 ;
15144: LD_ADDR_LOC 11
15148: PUSH
15149: LD_LOC 11
15153: PUSH
15154: LD_INT 3
15156: MUL
15157: ST_TO_ADDR
// for i = 1 to Rand ( 2 , 7 ) do
15158: LD_ADDR_VAR 0 2
15162: PUSH
15163: DOUBLE
15164: LD_INT 1
15166: DEC
15167: ST_TO_ADDR
15168: LD_INT 2
15170: PPUSH
15171: LD_INT 7
15173: PPUSH
15174: CALL_OW 12
15178: PUSH
15179: FOR_TO
15180: IFFALSE 15210
// begin apeman_init ;
15182: CALL 14240 0 0
// ape := CreateHuman ;
15186: LD_ADDR_VAR 0 3
15190: PUSH
15191: CALL_OW 44
15195: ST_TO_ADDR
// PlaceUnitAnywhere ( ape , false ) ;
15196: LD_VAR 0 3
15200: PPUSH
15201: LD_INT 0
15203: PPUSH
15204: CALL_OW 51
// end ;
15208: GO 15179
15210: POP
15211: POP
// end ;
15212: LD_VAR 0 1
15216: RET
// function tiger_init ; var tiger_names ; begin
15217: LD_INT 0
15219: PPUSH
15220: PPUSH
// uc_side := 0 ;
15221: LD_ADDR_OWVAR 20
15225: PUSH
15226: LD_INT 0
15228: ST_TO_ADDR
// uc_nation := nation_nature ;
15229: LD_ADDR_OWVAR 21
15233: PUSH
15234: LD_INT 0
15236: ST_TO_ADDR
// tiger_names = [ Fredy , Montana , Pishkot , Sikorski , Riko , Kowalrski , Neo , Kessi , Riko , Lulu , Edie , Edy , Roxy , Roxas , Beast , Drago , Draco , Ali , Lessie , White Fang , Chess , Nora , Shriek , Bl Tesk , Barkman , Meuznenapadazadnejmeno , Ihavenotthinkofanyname , Hiro , Scooby , Fantasy , Troll , Baltazar , Pamella , Kleopatra , Ceasar , Gimmy , Scooby Dooby Doo , Yogi , Brutal , Brutus , Janina , Crazy , Jen , Jenova , Kiosuke , Akamaru ] ;
15237: LD_ADDR_VAR 0 2
15241: PUSH
15242: LD_STRING Fredy
15244: PUSH
15245: LD_STRING Montana
15247: PUSH
15248: LD_STRING Pishkot
15250: PUSH
15251: LD_STRING Sikorski
15253: PUSH
15254: LD_STRING Riko
15256: PUSH
15257: LD_STRING Kowalrski
15259: PUSH
15260: LD_STRING Neo
15262: PUSH
15263: LD_STRING Kessi
15265: PUSH
15266: LD_STRING Riko
15268: PUSH
15269: LD_STRING Lulu
15271: PUSH
15272: LD_STRING Edie
15274: PUSH
15275: LD_STRING Edy
15277: PUSH
15278: LD_STRING Roxy
15280: PUSH
15281: LD_STRING Roxas
15283: PUSH
15284: LD_STRING Beast
15286: PUSH
15287: LD_STRING Drago
15289: PUSH
15290: LD_STRING Draco
15292: PUSH
15293: LD_STRING Ali
15295: PUSH
15296: LD_STRING Lessie
15298: PUSH
15299: LD_STRING White Fang
15301: PUSH
15302: LD_STRING Chess
15304: PUSH
15305: LD_STRING Nora
15307: PUSH
15308: LD_STRING Shriek
15310: PUSH
15311: LD_STRING Bl Tesk
15313: PUSH
15314: LD_STRING Barkman
15316: PUSH
15317: LD_STRING Meuznenapadazadnejmeno
15319: PUSH
15320: LD_STRING Ihavenotthinkofanyname
15322: PUSH
15323: LD_STRING Hiro
15325: PUSH
15326: LD_STRING Scooby
15328: PUSH
15329: LD_STRING Fantasy
15331: PUSH
15332: LD_STRING Troll
15334: PUSH
15335: LD_STRING Baltazar
15337: PUSH
15338: LD_STRING Pamella
15340: PUSH
15341: LD_STRING Kleopatra
15343: PUSH
15344: LD_STRING Ceasar
15346: PUSH
15347: LD_STRING Gimmy
15349: PUSH
15350: LD_STRING Scooby Dooby Doo
15352: PUSH
15353: LD_STRING Yogi
15355: PUSH
15356: LD_STRING Brutal
15358: PUSH
15359: LD_STRING Brutus
15361: PUSH
15362: LD_STRING Janina
15364: PUSH
15365: LD_STRING Crazy
15367: PUSH
15368: LD_STRING Jen
15370: PUSH
15371: LD_STRING Jenova
15373: PUSH
15374: LD_STRING Kiosuke
15376: PUSH
15377: LD_STRING Akamaru
15379: PUSH
15380: EMPTY
15381: LIST
15382: LIST
15383: LIST
15384: LIST
15385: LIST
15386: LIST
15387: LIST
15388: LIST
15389: LIST
15390: LIST
15391: LIST
15392: LIST
15393: LIST
15394: LIST
15395: LIST
15396: LIST
15397: LIST
15398: LIST
15399: LIST
15400: LIST
15401: LIST
15402: LIST
15403: LIST
15404: LIST
15405: LIST
15406: LIST
15407: LIST
15408: LIST
15409: LIST
15410: LIST
15411: LIST
15412: LIST
15413: LIST
15414: LIST
15415: LIST
15416: LIST
15417: LIST
15418: LIST
15419: LIST
15420: LIST
15421: LIST
15422: LIST
15423: LIST
15424: LIST
15425: LIST
15426: LIST
15427: ST_TO_ADDR
// hc_name = tiger_names [ Rand ( 1 , tiger_names ) ] ;
15428: LD_ADDR_OWVAR 26
15432: PUSH
15433: LD_VAR 0 2
15437: PUSH
15438: LD_INT 1
15440: PPUSH
15441: LD_VAR 0 2
15445: PPUSH
15446: CALL_OW 12
15450: ARRAY
15451: ST_TO_ADDR
// randomHumanStats ( initial_level - 2 ) ;
15452: LD_EXP 42
15456: PUSH
15457: LD_INT 2
15459: MINUS
15460: PPUSH
15461: CALL 17252 0 1
// hc_class := class_tiger ;
15465: LD_ADDR_OWVAR 28
15469: PUSH
15470: LD_INT 14
15472: ST_TO_ADDR
// hc_attr = [ hc_attr [ 1 ] + 2 , hc_attr [ 2 ] + 1 ] ;
15473: LD_ADDR_OWVAR 29
15477: PUSH
15478: LD_OWVAR 29
15482: PUSH
15483: LD_INT 1
15485: ARRAY
15486: PUSH
15487: LD_INT 2
15489: PLUS
15490: PUSH
15491: LD_OWVAR 29
15495: PUSH
15496: LD_INT 2
15498: ARRAY
15499: PUSH
15500: LD_INT 1
15502: PLUS
15503: PUSH
15504: EMPTY
15505: LIST
15506: LIST
15507: ST_TO_ADDR
// hc_sex := sex_male ;
15508: LD_ADDR_OWVAR 27
15512: PUSH
15513: LD_INT 1
15515: ST_TO_ADDR
// hc_importance := 0 ;
15516: LD_ADDR_OWVAR 32
15520: PUSH
15521: LD_INT 0
15523: ST_TO_ADDR
// hc_agressivity := Rand ( 10 , 50 ) ;
15524: LD_ADDR_OWVAR 35
15528: PUSH
15529: LD_INT 10
15531: PPUSH
15532: LD_INT 50
15534: PPUSH
15535: CALL_OW 12
15539: ST_TO_ADDR
// end ;
15540: LD_VAR 0 1
15544: RET
// every 0 0$15 + 0 0$1 marked 494 do var i , d , tig ;
15545: GO 15547
15547: DISABLE
15548: LD_INT 0
15550: PPUSH
15551: PPUSH
15552: PPUSH
// begin case tick of 1 .. 1 1$0 :
15553: LD_OWVAR 1
15557: PUSH
15558: LD_INT 1
15560: DOUBLE
15561: GREATEREQUAL
15562: IFFALSE 15570
15564: LD_INT 2100
15566: DOUBLE
15567: LESSEQUAL
15568: IFTRUE 15572
15570: GO 15583
15572: POP
// d := 15 ; 1 1$0 + 1 .. 2 2$0 :
15573: LD_ADDR_VAR 0 2
15577: PUSH
15578: LD_INT 15
15580: ST_TO_ADDR
15581: GO 15679
15583: LD_INT 2100
15585: PUSH
15586: LD_INT 1
15588: PLUS
15589: DOUBLE
15590: GREATEREQUAL
15591: IFFALSE 15599
15593: LD_INT 4200
15595: DOUBLE
15596: LESSEQUAL
15597: IFTRUE 15601
15599: GO 15612
15601: POP
// d := 14 ; 20 20$0 + 1 .. 50 50$0 :
15602: LD_ADDR_VAR 0 2
15606: PUSH
15607: LD_INT 14
15609: ST_TO_ADDR
15610: GO 15679
15612: LD_INT 42000
15614: PUSH
15615: LD_INT 1
15617: PLUS
15618: DOUBLE
15619: GREATEREQUAL
15620: IFFALSE 15628
15622: LD_INT 105000
15624: DOUBLE
15625: LESSEQUAL
15626: IFTRUE 15630
15628: GO 15641
15630: POP
// d := 12 ; 50 50$0 + 1 .. 300 300$0 :
15631: LD_ADDR_VAR 0 2
15635: PUSH
15636: LD_INT 12
15638: ST_TO_ADDR
15639: GO 15679
15641: LD_INT 105000
15643: PUSH
15644: LD_INT 1
15646: PLUS
15647: DOUBLE
15648: GREATEREQUAL
15649: IFFALSE 15657
15651: LD_INT 630000
15653: DOUBLE
15654: LESSEQUAL
15655: IFTRUE 15659
15657: GO 15670
15659: POP
// d := 11 ; else
15660: LD_ADDR_VAR 0 2
15664: PUSH
15665: LD_INT 11
15667: ST_TO_ADDR
15668: GO 15679
15670: POP
// d := 9 ; end ;
15671: LD_ADDR_VAR 0 2
15675: PUSH
15676: LD_INT 9
15678: ST_TO_ADDR
// i = FilterAllUnits ( [ [ f_side , 0 ] , [ f_class , class_tiger ] ] ) ;
15679: LD_ADDR_VAR 0 1
15683: PUSH
15684: LD_INT 22
15686: PUSH
15687: LD_INT 0
15689: PUSH
15690: EMPTY
15691: LIST
15692: LIST
15693: PUSH
15694: LD_INT 25
15696: PUSH
15697: LD_INT 14
15699: PUSH
15700: EMPTY
15701: LIST
15702: LIST
15703: PUSH
15704: EMPTY
15705: LIST
15706: LIST
15707: PPUSH
15708: CALL_OW 69
15712: ST_TO_ADDR
// if i < ( spawning_koef_of_tiger / 14 * d ) then
15713: LD_VAR 0 1
15717: PUSH
15718: LD_EXP 48
15722: PUSH
15723: LD_INT 14
15725: DIVREAL
15726: PUSH
15727: LD_VAR 0 2
15731: MUL
15732: LESS
15733: IFFALSE 15789
// for i = 1 to Rand ( 1 , 2 ) do
15735: LD_ADDR_VAR 0 1
15739: PUSH
15740: DOUBLE
15741: LD_INT 1
15743: DEC
15744: ST_TO_ADDR
15745: LD_INT 1
15747: PPUSH
15748: LD_INT 2
15750: PPUSH
15751: CALL_OW 12
15755: PUSH
15756: FOR_TO
15757: IFFALSE 15787
// begin tiger_init ;
15759: CALL 15217 0 0
// tig := CreateHuman ;
15763: LD_ADDR_VAR 0 3
15767: PUSH
15768: CALL_OW 44
15772: ST_TO_ADDR
// PlaceUnitAnywhere ( tig , false ) ;
15773: LD_VAR 0 3
15777: PPUSH
15778: LD_INT 0
15780: PPUSH
15781: CALL_OW 51
// end ;
15785: GO 15756
15787: POP
15788: POP
// enable ;
15789: ENABLE
// end ;
15790: PPOPN 3
15792: END
// export function StartTig ; var i , tig ; begin
15793: LD_INT 0
15795: PPUSH
15796: PPUSH
15797: PPUSH
// for i = 1 to Rand ( 1 , 3 ) do
15798: LD_ADDR_VAR 0 2
15802: PUSH
15803: DOUBLE
15804: LD_INT 1
15806: DEC
15807: ST_TO_ADDR
15808: LD_INT 1
15810: PPUSH
15811: LD_INT 3
15813: PPUSH
15814: CALL_OW 12
15818: PUSH
15819: FOR_TO
15820: IFFALSE 15850
// begin tiger_init ;
15822: CALL 15217 0 0
// tig := CreateHuman ;
15826: LD_ADDR_VAR 0 3
15830: PUSH
15831: CALL_OW 44
15835: ST_TO_ADDR
// PlaceUnitAnywhere ( tig , false ) ;
15836: LD_VAR 0 3
15840: PPUSH
15841: LD_INT 0
15843: PPUSH
15844: CALL_OW 51
// end ;
15848: GO 15819
15850: POP
15851: POP
// end ; end_of_file
15852: LD_VAR 0 1
15856: RET
// var BaseNames ; export function InitDisplayNames ; var i , n , u , a , r ; begin
15857: LD_INT 0
15859: PPUSH
15860: PPUSH
15861: PPUSH
15862: PPUSH
15863: PPUSH
15864: PPUSH
// for i in FilterAllUnits ( [ [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_not , [ f_side , 0 ] ] ] ) do
15865: LD_ADDR_VAR 0 2
15869: PUSH
15870: LD_INT 2
15872: PUSH
15873: LD_INT 30
15875: PUSH
15876: LD_INT 0
15878: PUSH
15879: EMPTY
15880: LIST
15881: LIST
15882: PUSH
15883: LD_INT 30
15885: PUSH
15886: LD_INT 1
15888: PUSH
15889: EMPTY
15890: LIST
15891: LIST
15892: PUSH
15893: EMPTY
15894: LIST
15895: LIST
15896: LIST
15897: PUSH
15898: LD_INT 3
15900: PUSH
15901: LD_INT 22
15903: PUSH
15904: LD_INT 0
15906: PUSH
15907: EMPTY
15908: LIST
15909: LIST
15910: PUSH
15911: EMPTY
15912: LIST
15913: LIST
15914: PUSH
15915: EMPTY
15916: LIST
15917: LIST
15918: PPUSH
15919: CALL_OW 69
15923: PUSH
15924: FOR_IN
15925: IFFALSE 15952
// SetBName ( i , @ & GetSide ( i ) ) ;
15927: LD_VAR 0 2
15931: PPUSH
15932: LD_STRING @
15934: PUSH
15935: LD_VAR 0 2
15939: PPUSH
15940: CALL_OW 255
15944: STR
15945: PPUSH
15946: CALL_OW 500
15950: GO 15924
15952: POP
15953: POP
// n = [ Kasyr , Cabal , Nitheim , Vanidas , Adjun , Alcon , Anthara , Denebola , Izard , Kaus , Mira , Procyon , Sirius , Tyr , Revoria , Eterna , Korigul , freedom ] ;
15954: LD_ADDR_VAR 0 3
15958: PUSH
15959: LD_STRING Kasyr
15961: PUSH
15962: LD_STRING Cabal
15964: PUSH
15965: LD_STRING Nitheim
15967: PUSH
15968: LD_STRING Vanidas
15970: PUSH
15971: LD_STRING Adjun
15973: PUSH
15974: LD_STRING Alcon
15976: PUSH
15977: LD_STRING Anthara
15979: PUSH
15980: LD_STRING Denebola
15982: PUSH
15983: LD_STRING Izard
15985: PUSH
15986: LD_STRING Kaus
15988: PUSH
15989: LD_STRING Mira
15991: PUSH
15992: LD_STRING Procyon
15994: PUSH
15995: LD_STRING Sirius
15997: PUSH
15998: LD_STRING Tyr
16000: PUSH
16001: LD_STRING Revoria
16003: PUSH
16004: LD_STRING Eterna
16006: PUSH
16007: LD_STRING Korigul
16009: PUSH
16010: LD_STRING freedom
16012: PUSH
16013: EMPTY
16014: LIST
16015: LIST
16016: LIST
16017: LIST
16018: LIST
16019: LIST
16020: LIST
16021: LIST
16022: LIST
16023: LIST
16024: LIST
16025: LIST
16026: LIST
16027: LIST
16028: LIST
16029: LIST
16030: LIST
16031: LIST
16032: ST_TO_ADDR
// u = [ alpha , gamma , delta , epsilon , Kappa , omikron , terminal , viper ] ^ n ;
16033: LD_ADDR_VAR 0 4
16037: PUSH
16038: LD_STRING alpha
16040: PUSH
16041: LD_STRING gamma
16043: PUSH
16044: LD_STRING delta
16046: PUSH
16047: LD_STRING epsilon
16049: PUSH
16050: LD_STRING Kappa
16052: PUSH
16053: LD_STRING omikron
16055: PUSH
16056: LD_STRING terminal
16058: PUSH
16059: LD_STRING viper
16061: PUSH
16062: EMPTY
16063: LIST
16064: LIST
16065: LIST
16066: LIST
16067: LIST
16068: LIST
16069: LIST
16070: LIST
16071: PUSH
16072: LD_VAR 0 3
16076: ADD
16077: ST_TO_ADDR
// r = [ beria , kirov , kagan , ovsyenko , gorkij , trockij , bluekher , yegorob , ryutin , budonny , yakir ] ^ n ;
16078: LD_ADDR_VAR 0 6
16082: PUSH
16083: LD_STRING beria
16085: PUSH
16086: LD_STRING kirov
16088: PUSH
16089: LD_STRING kagan
16091: PUSH
16092: LD_STRING ovsyenko
16094: PUSH
16095: LD_STRING gorkij
16097: PUSH
16098: LD_STRING trockij
16100: PUSH
16101: LD_STRING bluekher
16103: PUSH
16104: LD_STRING yegorob
16106: PUSH
16107: LD_STRING ryutin
16109: PUSH
16110: LD_STRING budonny
16112: PUSH
16113: LD_STRING yakir
16115: PUSH
16116: EMPTY
16117: LIST
16118: LIST
16119: LIST
16120: LIST
16121: LIST
16122: LIST
16123: LIST
16124: LIST
16125: LIST
16126: LIST
16127: LIST
16128: PUSH
16129: LD_VAR 0 3
16133: ADD
16134: ST_TO_ADDR
// a = [ newkabul , newsamark , riyadh , jeddah , dammam ] ^ n ;
16135: LD_ADDR_VAR 0 5
16139: PUSH
16140: LD_STRING newkabul
16142: PUSH
16143: LD_STRING newsamark
16145: PUSH
16146: LD_STRING riyadh
16148: PUSH
16149: LD_STRING jeddah
16151: PUSH
16152: LD_STRING dammam
16154: PUSH
16155: EMPTY
16156: LIST
16157: LIST
16158: LIST
16159: LIST
16160: LIST
16161: PUSH
16162: LD_VAR 0 3
16166: ADD
16167: ST_TO_ADDR
// BaseNames = [ u , a , r ] ;
16168: LD_ADDR_LOC 12
16172: PUSH
16173: LD_VAR 0 4
16177: PUSH
16178: LD_VAR 0 5
16182: PUSH
16183: LD_VAR 0 6
16187: PUSH
16188: EMPTY
16189: LIST
16190: LIST
16191: LIST
16192: ST_TO_ADDR
// end ;
16193: LD_VAR 0 1
16197: RET
// export function NameBuildingComplete ( b ) ; begin
16198: LD_INT 0
16200: PPUSH
// end ;
16201: LD_VAR 0 2
16205: RET
// export function NameBuildingStarted ( b , h ) ; var n , i ; begin
16206: LD_INT 0
16208: PPUSH
16209: PPUSH
16210: PPUSH
// n = getNation ( b ) ;
16211: LD_ADDR_VAR 0 4
16215: PUSH
16216: LD_VAR 0 1
16220: PPUSH
16221: CALL_OW 248
16225: ST_TO_ADDR
// i = rand ( 1 , BaseNames [ n ] + 0 ) ;
16226: LD_ADDR_VAR 0 5
16230: PUSH
16231: LD_INT 1
16233: PPUSH
16234: LD_LOC 12
16238: PUSH
16239: LD_VAR 0 4
16243: ARRAY
16244: PUSH
16245: LD_INT 0
16247: PLUS
16248: PPUSH
16249: CALL_OW 12
16253: ST_TO_ADDR
// setBName ( b , BaseNames [ n ] [ i ] ) ;
16254: LD_VAR 0 1
16258: PPUSH
16259: LD_LOC 12
16263: PUSH
16264: LD_VAR 0 4
16268: ARRAY
16269: PUSH
16270: LD_VAR 0 5
16274: ARRAY
16275: PPUSH
16276: CALL_OW 500
// end ;
16280: LD_VAR 0 3
16284: RET
// export function NameBuildingCaptured ( b , o , e ) ; begin
16285: LD_INT 0
16287: PPUSH
// end ; end_of_file
16288: LD_VAR 0 4
16292: RET
// var strength , lastxwin , lastywin , lastxlost , lastylost ; function Update_Flags ; var un ; begin
16293: LD_INT 0
16295: PPUSH
16296: PPUSH
// for un in battle_flags_id do
16297: LD_ADDR_VAR 0 2
16301: PUSH
16302: LD_EXP 89
16306: PUSH
16307: FOR_IN
16308: IFFALSE 16383
// ChangeBattleFlagOptions ( un , [ [ bfo_defend_bonus_human , strength ] , [ bfo_defend_bonus_vehicle , strength div 2 ] , [ bfo_defend_bonus_building , strength div 5 ] , [ bfo_height , strength ] ] ) ;
16310: LD_VAR 0 2
16314: PPUSH
16315: LD_INT 1
16317: PUSH
16318: LD_LOC 13
16322: PUSH
16323: EMPTY
16324: LIST
16325: LIST
16326: PUSH
16327: LD_INT 2
16329: PUSH
16330: LD_LOC 13
16334: PUSH
16335: LD_INT 2
16337: DIV
16338: PUSH
16339: EMPTY
16340: LIST
16341: LIST
16342: PUSH
16343: LD_INT 3
16345: PUSH
16346: LD_LOC 13
16350: PUSH
16351: LD_INT 5
16353: DIV
16354: PUSH
16355: EMPTY
16356: LIST
16357: LIST
16358: PUSH
16359: LD_INT 20
16361: PUSH
16362: LD_LOC 13
16366: PUSH
16367: EMPTY
16368: LIST
16369: LIST
16370: PUSH
16371: EMPTY
16372: LIST
16373: LIST
16374: LIST
16375: LIST
16376: PPUSH
16377: CALL_OW 423
16381: GO 16307
16383: POP
16384: POP
// end ;
16385: LD_VAR 0 1
16389: RET
// every 0 0$0.1 do var un ;
16390: GO 16392
16392: DISABLE
16393: LD_INT 0
16395: PPUSH
// begin if not def_morale_flags then
16396: LD_EXP 20
16400: NOT
16401: IFFALSE 16405
// exit ;
16403: GO 16482
// if not morale_decreasing_time then
16405: LD_EXP 46
16409: NOT
16410: IFFALSE 16414
// exit ;
16412: GO 16482
// strength = 100 ;
16414: LD_ADDR_LOC 13
16418: PUSH
16419: LD_INT 100
16421: ST_TO_ADDR
// repeat wait ( morale_decreasing_time ) ;
16422: LD_EXP 46
16426: PPUSH
16427: CALL_OW 67
// strength := strength - 1 ;
16431: LD_ADDR_LOC 13
16435: PUSH
16436: LD_LOC 13
16440: PUSH
16441: LD_INT 1
16443: MINUS
16444: ST_TO_ADDR
// Update_Flags ;
16445: CALL 16293 0 0
// until not strength ;
16449: LD_LOC 13
16453: NOT
16454: IFFALSE 16422
// for un in battle_flags_id do
16456: LD_ADDR_VAR 0 1
16460: PUSH
16461: LD_EXP 89
16465: PUSH
16466: FOR_IN
16467: IFFALSE 16480
// KillBattleFlag ( un ) ;
16469: LD_VAR 0 1
16473: PPUSH
16474: CALL_OW 419
16478: GO 16466
16480: POP
16481: POP
// end ; end_of_file
16482: PPOPN 1
16484: END
// export MultiplayerTimeEnabled , WaitServerStrings , Display_kings , extraStrings , limitsStrings , CurrentTime , DebugStrings , Display_WFG ; export function GetMultiplayerTime ; begin
16485: LD_INT 0
16487: PPUSH
// Result = [ #gamespeed , game_speed - 4 ] ^ [ #Multi1x1-Time , tick ] ;
16488: LD_ADDR_VAR 0 1
16492: PUSH
16493: LD_STRING #gamespeed
16495: PUSH
16496: LD_OWVAR 65
16500: PUSH
16501: LD_INT 4
16503: MINUS
16504: PUSH
16505: EMPTY
16506: LIST
16507: LIST
16508: PUSH
16509: LD_STRING #Multi1x1-Time
16511: PUSH
16512: LD_OWVAR 1
16516: PUSH
16517: EMPTY
16518: LIST
16519: LIST
16520: ADD
16521: ST_TO_ADDR
// end ;
16522: LD_VAR 0 1
16526: RET
// export function InitMultiplayerTime ; begin
16527: LD_INT 0
16529: PPUSH
// MultiplayerTimeEnabled := true ;
16530: LD_ADDR_EXP 106
16534: PUSH
16535: LD_INT 1
16537: ST_TO_ADDR
// display_strings = GetMultiplayerTime ;
16538: LD_ADDR_OWVAR 47
16542: PUSH
16543: CALL 16485 0 0
16547: ST_TO_ADDR
// end ;
16548: LD_VAR 0 1
16552: RET
// export function ShowTimer ; var AllStrings ; begin
16553: LD_INT 0
16555: PPUSH
16556: PPUSH
// AllStrings = GetMultiplayerTime ;
16557: LD_ADDR_VAR 0 2
16561: PUSH
16562: CALL 16485 0 0
16566: ST_TO_ADDR
// if debug_strings then
16567: LD_OWVAR 48
16571: IFFALSE 16589
// AllStrings = AllStrings ^ debug_strings ;
16573: LD_ADDR_VAR 0 2
16577: PUSH
16578: LD_VAR 0 2
16582: PUSH
16583: LD_OWVAR 48
16587: ADD
16588: ST_TO_ADDR
// if 0 <= siberite_bomb_Delay - tick then
16589: LD_INT 0
16591: PUSH
16592: LD_EXP 67
16596: PUSH
16597: LD_OWVAR 1
16601: MINUS
16602: LESSEQUAL
16603: IFFALSE 16634
// AllStrings := AllStrings ^ [ #allowedsibbomb , siberite_bomb_Delay - tick ] ;
16605: LD_ADDR_VAR 0 2
16609: PUSH
16610: LD_VAR 0 2
16614: PUSH
16615: LD_STRING #allowedsibbomb
16617: PUSH
16618: LD_EXP 67
16622: PUSH
16623: LD_OWVAR 1
16627: MINUS
16628: PUSH
16629: EMPTY
16630: LIST
16631: LIST
16632: ADD
16633: ST_TO_ADDR
// if 0 <= buildUpTime_Delay - tick then
16634: LD_INT 0
16636: PUSH
16637: LD_EXP 66
16641: PUSH
16642: LD_OWVAR 1
16646: MINUS
16647: LESSEQUAL
16648: IFFALSE 16679
// AllStrings := AllStrings ^ [ #builduptime , buildUpTime_Delay - tick ] ;
16650: LD_ADDR_VAR 0 2
16654: PUSH
16655: LD_VAR 0 2
16659: PUSH
16660: LD_STRING #builduptime
16662: PUSH
16663: LD_EXP 66
16667: PUSH
16668: LD_OWVAR 1
16672: MINUS
16673: PUSH
16674: EMPTY
16675: LIST
16676: LIST
16677: ADD
16678: ST_TO_ADDR
// AllStrings := AllStrings ^ [ #TechLevel , Tech_Level ] ;
16679: LD_ADDR_VAR 0 2
16683: PUSH
16684: LD_VAR 0 2
16688: PUSH
16689: LD_STRING #TechLevel
16691: PUSH
16692: LD_EXP 56
16696: PUSH
16697: EMPTY
16698: LIST
16699: LIST
16700: ADD
16701: ST_TO_ADDR
// if ( CurrentTime ) then
16702: LD_EXP 111
16706: IFFALSE 16735
// AllStrings = AllStrings ^ [ #Daily-Time , CurrentTime ] ^  ;
16708: LD_ADDR_VAR 0 2
16712: PUSH
16713: LD_VAR 0 2
16717: PUSH
16718: LD_STRING #Daily-Time
16720: PUSH
16721: LD_EXP 111
16725: PUSH
16726: EMPTY
16727: LIST
16728: LIST
16729: ADD
16730: PUSH
16731: LD_STRING 
16733: ADD
16734: ST_TO_ADDR
// if ( WaitServerStrings ) then
16735: LD_EXP 107
16739: IFFALSE 16757
// AllStrings := AllStrings ^ WaitServerStrings ;
16741: LD_ADDR_VAR 0 2
16745: PUSH
16746: LD_VAR 0 2
16750: PUSH
16751: LD_EXP 107
16755: ADD
16756: ST_TO_ADDR
// if not isSGUI and ( Display_kings or Display_WFG ) then
16757: LD_OWVAR 83
16761: NOT
16762: PUSH
16763: LD_EXP 108
16767: PUSH
16768: LD_EXP 113
16772: OR
16773: AND
16774: IFFALSE 16874
// begin if def_public_score and Team_game then
16776: LD_EXP 34
16780: PUSH
16781: LD_EXP 80
16785: AND
16786: IFFALSE 16830
// AllStrings := AllStrings ^ [ #yourTeam , [ 3 , 1 , 2 , 7 ] [ player_team ] ] ;
16788: LD_ADDR_VAR 0 2
16792: PUSH
16793: LD_VAR 0 2
16797: PUSH
16798: LD_STRING #yourTeam
16800: PUSH
16801: LD_INT 3
16803: PUSH
16804: LD_INT 1
16806: PUSH
16807: LD_INT 2
16809: PUSH
16810: LD_INT 7
16812: PUSH
16813: EMPTY
16814: LIST
16815: LIST
16816: LIST
16817: LIST
16818: PUSH
16819: LD_EXP 71
16823: ARRAY
16824: PUSH
16825: EMPTY
16826: LIST
16827: LIST
16828: ADD
16829: ST_TO_ADDR
// if ( Display_kings ) then
16830: LD_EXP 108
16834: IFFALSE 16852
// AllStrings := AllStrings ^ Display_kings ;
16836: LD_ADDR_VAR 0 2
16840: PUSH
16841: LD_VAR 0 2
16845: PUSH
16846: LD_EXP 108
16850: ADD
16851: ST_TO_ADDR
// if ( Display_WFG ) then
16852: LD_EXP 113
16856: IFFALSE 16874
// AllStrings := AllStrings ^ Display_WFG ;
16858: LD_ADDR_VAR 0 2
16862: PUSH
16863: LD_VAR 0 2
16867: PUSH
16868: LD_EXP 113
16872: ADD
16873: ST_TO_ADDR
// end ; if ( ExtraStrings ) then
16874: LD_EXP 109
16878: IFFALSE 16900
// AllStrings := AllStrings ^  ^ ExtraStrings ;
16880: LD_ADDR_VAR 0 2
16884: PUSH
16885: LD_VAR 0 2
16889: PUSH
16890: LD_STRING 
16892: ADD
16893: PUSH
16894: LD_EXP 109
16898: ADD
16899: ST_TO_ADDR
// if ( LimitsStrings ) then
16900: LD_EXP 110
16904: IFFALSE 16926
// AllStrings := AllStrings ^  ^ LimitsStrings ;
16906: LD_ADDR_VAR 0 2
16910: PUSH
16911: LD_VAR 0 2
16915: PUSH
16916: LD_STRING 
16918: ADD
16919: PUSH
16920: LD_EXP 110
16924: ADD
16925: ST_TO_ADDR
// if ( DebugStrings ) then
16926: LD_EXP 112
16930: IFFALSE 16952
// AllStrings := AllStrings ^  ^ DebugStrings ;
16932: LD_ADDR_VAR 0 2
16936: PUSH
16937: LD_VAR 0 2
16941: PUSH
16942: LD_STRING 
16944: ADD
16945: PUSH
16946: LD_EXP 112
16950: ADD
16951: ST_TO_ADDR
// Display_Strings := AllStrings ;
16952: LD_ADDR_OWVAR 47
16956: PUSH
16957: LD_VAR 0 2
16961: ST_TO_ADDR
// end ;
16962: LD_VAR 0 1
16966: RET
// every 0 0$1 trigger MultiplayerTimeEnabled do
16967: LD_EXP 106
16971: IFFALSE 16981
16973: GO 16975
16975: DISABLE
// begin ShowTimer ;
16976: CALL 16553 0 0
// enable ;
16980: ENABLE
// end ; end_of_file
16981: END
// export MaxFlags ; export function ShowResources ( FullMapArea , EnableSiberitResurces , Range ) ; var k , k2 , i , d , r , u ; begin
16982: LD_INT 0
16984: PPUSH
16985: PPUSH
16986: PPUSH
16987: PPUSH
16988: PPUSH
16989: PPUSH
16990: PPUSH
// if range = 0 then
16991: LD_VAR 0 3
16995: PUSH
16996: LD_INT 0
16998: EQUAL
16999: IFFALSE 17009
// range = 400 ;
17001: LD_ADDR_VAR 0 3
17005: PUSH
17006: LD_INT 400
17008: ST_TO_ADDR
// r = range ;
17009: LD_ADDR_VAR 0 9
17013: PUSH
17014: LD_VAR 0 3
17018: ST_TO_ADDR
// d = GetListOfResourcesInArea ( FullMapArea ) ;
17019: LD_ADDR_VAR 0 8
17023: PUSH
17024: LD_VAR 0 1
17028: PPUSH
17029: CALL_OW 442
17033: ST_TO_ADDR
// for k = 1 to ( d / 3 ) do
17034: LD_ADDR_VAR 0 5
17038: PUSH
17039: DOUBLE
17040: LD_INT 1
17042: DEC
17043: ST_TO_ADDR
17044: LD_VAR 0 8
17048: PUSH
17049: LD_INT 3
17051: DIVREAL
17052: PUSH
17053: FOR_TO
17054: IFFALSE 17245
// begin k2 = k * 3 ;
17056: LD_ADDR_VAR 0 6
17060: PUSH
17061: LD_VAR 0 5
17065: PUSH
17066: LD_INT 3
17068: MUL
17069: ST_TO_ADDR
// for i = 1 to 8 do
17070: LD_ADDR_VAR 0 7
17074: PUSH
17075: DOUBLE
17076: LD_INT 1
17078: DEC
17079: ST_TO_ADDR
17080: LD_INT 8
17082: PUSH
17083: FOR_TO
17084: IFFALSE 17241
// begin if d [ k2 ] = 1 or ( d [ k2 ] = 2 and EnableSiberitResurces ) then
17086: LD_VAR 0 8
17090: PUSH
17091: LD_VAR 0 6
17095: ARRAY
17096: PUSH
17097: LD_INT 1
17099: EQUAL
17100: PUSH
17101: LD_VAR 0 8
17105: PUSH
17106: LD_VAR 0 6
17110: ARRAY
17111: PUSH
17112: LD_INT 2
17114: EQUAL
17115: PUSH
17116: LD_VAR 0 2
17120: AND
17121: OR
17122: IFFALSE 17239
// begin u = filterAllUnits ( [ [ f_side , i ] , [ f_distxy , d [ k2 - 2 ] , d [ k2 - 1 ] , r ] ] ) ;
17124: LD_ADDR_VAR 0 10
17128: PUSH
17129: LD_INT 22
17131: PUSH
17132: LD_VAR 0 7
17136: PUSH
17137: EMPTY
17138: LIST
17139: LIST
17140: PUSH
17141: LD_INT 92
17143: PUSH
17144: LD_VAR 0 8
17148: PUSH
17149: LD_VAR 0 6
17153: PUSH
17154: LD_INT 2
17156: MINUS
17157: ARRAY
17158: PUSH
17159: LD_VAR 0 8
17163: PUSH
17164: LD_VAR 0 6
17168: PUSH
17169: LD_INT 1
17171: MINUS
17172: ARRAY
17173: PUSH
17174: LD_VAR 0 9
17178: PUSH
17179: EMPTY
17180: LIST
17181: LIST
17182: LIST
17183: LIST
17184: PUSH
17185: EMPTY
17186: LIST
17187: LIST
17188: PPUSH
17189: CALL_OW 69
17193: ST_TO_ADDR
// if u then
17194: LD_VAR 0 10
17198: IFFALSE 17239
// SetResourceVisibility ( d [ k2 - 2 ] , d [ k2 - 1 ] , i ) ;
17200: LD_VAR 0 8
17204: PUSH
17205: LD_VAR 0 6
17209: PUSH
17210: LD_INT 2
17212: MINUS
17213: ARRAY
17214: PPUSH
17215: LD_VAR 0 8
17219: PUSH
17220: LD_VAR 0 6
17224: PUSH
17225: LD_INT 1
17227: MINUS
17228: ARRAY
17229: PPUSH
17230: LD_VAR 0 7
17234: PPUSH
17235: CALL_OW 441
// end ; end ;
17239: GO 17083
17241: POP
17242: POP
// end ;
17243: GO 17053
17245: POP
17246: POP
// end ;
17247: LD_VAR 0 4
17251: RET
// export function randomHumanStats ( init_level ) ; var cl , combat , eng , mech , sci , skills , base_skills , attr ; var i , k , base , n , def , speed ; begin
17252: LD_INT 0
17254: PPUSH
17255: PPUSH
17256: PPUSH
17257: PPUSH
17258: PPUSH
17259: PPUSH
17260: PPUSH
17261: PPUSH
17262: PPUSH
17263: PPUSH
17264: PPUSH
17265: PPUSH
17266: PPUSH
17267: PPUSH
17268: PPUSH
// cl = rand ( 1 , 4 ) ;
17269: LD_ADDR_VAR 0 3
17273: PUSH
17274: LD_INT 1
17276: PPUSH
17277: LD_INT 4
17279: PPUSH
17280: CALL_OW 12
17284: ST_TO_ADDR
// base = init_level ;
17285: LD_ADDR_VAR 0 13
17289: PUSH
17290: LD_VAR 0 1
17294: ST_TO_ADDR
// case tick of 0 .. 5 5$00 :
17295: LD_OWVAR 1
17299: PUSH
17300: LD_INT 0
17302: DOUBLE
17303: GREATEREQUAL
17304: IFFALSE 17312
17306: LD_INT 10500
17308: DOUBLE
17309: LESSEQUAL
17310: IFTRUE 17314
17312: GO 17325
17314: POP
// i = 1 ; 5 5$01 .. 9 9$00 :
17315: LD_ADDR_VAR 0 11
17319: PUSH
17320: LD_INT 1
17322: ST_TO_ADDR
17323: GO 17584
17325: LD_INT 10535
17327: DOUBLE
17328: GREATEREQUAL
17329: IFFALSE 17337
17331: LD_INT 18900
17333: DOUBLE
17334: LESSEQUAL
17335: IFTRUE 17339
17337: GO 17350
17339: POP
// i = 2 ; 9 9$01 .. 15 15$00 :
17340: LD_ADDR_VAR 0 11
17344: PUSH
17345: LD_INT 2
17347: ST_TO_ADDR
17348: GO 17584
17350: LD_INT 18935
17352: DOUBLE
17353: GREATEREQUAL
17354: IFFALSE 17362
17356: LD_INT 31500
17358: DOUBLE
17359: LESSEQUAL
17360: IFTRUE 17364
17362: GO 17375
17364: POP
// i = 3 ; 15 15$01 .. 22 22$00 :
17365: LD_ADDR_VAR 0 11
17369: PUSH
17370: LD_INT 3
17372: ST_TO_ADDR
17373: GO 17584
17375: LD_INT 31535
17377: DOUBLE
17378: GREATEREQUAL
17379: IFFALSE 17387
17381: LD_INT 46200
17383: DOUBLE
17384: LESSEQUAL
17385: IFTRUE 17389
17387: GO 17400
17389: POP
// i = 4 ; 22 22$01 .. 30 30$00 :
17390: LD_ADDR_VAR 0 11
17394: PUSH
17395: LD_INT 4
17397: ST_TO_ADDR
17398: GO 17584
17400: LD_INT 46235
17402: DOUBLE
17403: GREATEREQUAL
17404: IFFALSE 17412
17406: LD_INT 63000
17408: DOUBLE
17409: LESSEQUAL
17410: IFTRUE 17414
17412: GO 17425
17414: POP
// i = 5 ; 30 30$01 .. 40 40$00 :
17415: LD_ADDR_VAR 0 11
17419: PUSH
17420: LD_INT 5
17422: ST_TO_ADDR
17423: GO 17584
17425: LD_INT 63035
17427: DOUBLE
17428: GREATEREQUAL
17429: IFFALSE 17437
17431: LD_INT 84000
17433: DOUBLE
17434: LESSEQUAL
17435: IFTRUE 17439
17437: GO 17450
17439: POP
// i = 6 ; 40 40$01 .. 52 52$00 :
17440: LD_ADDR_VAR 0 11
17444: PUSH
17445: LD_INT 6
17447: ST_TO_ADDR
17448: GO 17584
17450: LD_INT 84035
17452: DOUBLE
17453: GREATEREQUAL
17454: IFFALSE 17462
17456: LD_INT 109200
17458: DOUBLE
17459: LESSEQUAL
17460: IFTRUE 17464
17462: GO 17475
17464: POP
// i = 7 ; 52 52$01 .. 66 66$00 :
17465: LD_ADDR_VAR 0 11
17469: PUSH
17470: LD_INT 7
17472: ST_TO_ADDR
17473: GO 17584
17475: LD_INT 109235
17477: DOUBLE
17478: GREATEREQUAL
17479: IFFALSE 17487
17481: LD_INT 138600
17483: DOUBLE
17484: LESSEQUAL
17485: IFTRUE 17489
17487: GO 17500
17489: POP
// i = 8 ; 66 66$01 .. 88 88$00 :
17490: LD_ADDR_VAR 0 11
17494: PUSH
17495: LD_INT 8
17497: ST_TO_ADDR
17498: GO 17584
17500: LD_INT 138635
17502: DOUBLE
17503: GREATEREQUAL
17504: IFFALSE 17512
17506: LD_INT 184800
17508: DOUBLE
17509: LESSEQUAL
17510: IFTRUE 17514
17512: GO 17525
17514: POP
// i = 9 ; 88 88$01 .. 100 100$00 :
17515: LD_ADDR_VAR 0 11
17519: PUSH
17520: LD_INT 9
17522: ST_TO_ADDR
17523: GO 17584
17525: LD_INT 184835
17527: DOUBLE
17528: GREATEREQUAL
17529: IFFALSE 17537
17531: LD_INT 210000
17533: DOUBLE
17534: LESSEQUAL
17535: IFTRUE 17539
17537: GO 17550
17539: POP
// i = 10 ; 100 100$01 .. 120 120$00 :
17540: LD_ADDR_VAR 0 11
17544: PUSH
17545: LD_INT 10
17547: ST_TO_ADDR
17548: GO 17584
17550: LD_INT 210035
17552: DOUBLE
17553: GREATEREQUAL
17554: IFFALSE 17562
17556: LD_INT 252000
17558: DOUBLE
17559: LESSEQUAL
17560: IFTRUE 17564
17562: GO 17575
17564: POP
// i = 11 ; else
17565: LD_ADDR_VAR 0 11
17569: PUSH
17570: LD_INT 11
17572: ST_TO_ADDR
17573: GO 17584
17575: POP
// i = 12 ; end ;
17576: LD_ADDR_VAR 0 11
17580: PUSH
17581: LD_INT 12
17583: ST_TO_ADDR
// i = i - base div 2 ;
17584: LD_ADDR_VAR 0 11
17588: PUSH
17589: LD_VAR 0 11
17593: PUSH
17594: LD_VAR 0 13
17598: PUSH
17599: LD_INT 2
17601: DIV
17602: MINUS
17603: ST_TO_ADDR
// if i < 0 then
17604: LD_VAR 0 11
17608: PUSH
17609: LD_INT 0
17611: LESS
17612: IFFALSE 17622
// i = 0 ;
17614: LD_ADDR_VAR 0 11
17618: PUSH
17619: LD_INT 0
17621: ST_TO_ADDR
// if cl = 1 then
17622: LD_VAR 0 3
17626: PUSH
17627: LD_INT 1
17629: EQUAL
17630: IFFALSE 17670
// combat = rand ( base + i - 1 , base + i ) else
17632: LD_ADDR_VAR 0 4
17636: PUSH
17637: LD_VAR 0 13
17641: PUSH
17642: LD_VAR 0 11
17646: PLUS
17647: PUSH
17648: LD_INT 1
17650: MINUS
17651: PPUSH
17652: LD_VAR 0 13
17656: PUSH
17657: LD_VAR 0 11
17661: PLUS
17662: PPUSH
17663: CALL_OW 12
17667: ST_TO_ADDR
17668: GO 17710
// combat = rand ( base + i - 4 , base + i - 1 ) ;
17670: LD_ADDR_VAR 0 4
17674: PUSH
17675: LD_VAR 0 13
17679: PUSH
17680: LD_VAR 0 11
17684: PLUS
17685: PUSH
17686: LD_INT 4
17688: MINUS
17689: PPUSH
17690: LD_VAR 0 13
17694: PUSH
17695: LD_VAR 0 11
17699: PLUS
17700: PUSH
17701: LD_INT 1
17703: MINUS
17704: PPUSH
17705: CALL_OW 12
17709: ST_TO_ADDR
// if cl = 2 then
17710: LD_VAR 0 3
17714: PUSH
17715: LD_INT 2
17717: EQUAL
17718: IFFALSE 17758
// eng = rand ( base + i - 1 , base + i ) else
17720: LD_ADDR_VAR 0 5
17724: PUSH
17725: LD_VAR 0 13
17729: PUSH
17730: LD_VAR 0 11
17734: PLUS
17735: PUSH
17736: LD_INT 1
17738: MINUS
17739: PPUSH
17740: LD_VAR 0 13
17744: PUSH
17745: LD_VAR 0 11
17749: PLUS
17750: PPUSH
17751: CALL_OW 12
17755: ST_TO_ADDR
17756: GO 17798
// eng = rand ( base + i - 4 , base + i - 1 ) ;
17758: LD_ADDR_VAR 0 5
17762: PUSH
17763: LD_VAR 0 13
17767: PUSH
17768: LD_VAR 0 11
17772: PLUS
17773: PUSH
17774: LD_INT 4
17776: MINUS
17777: PPUSH
17778: LD_VAR 0 13
17782: PUSH
17783: LD_VAR 0 11
17787: PLUS
17788: PUSH
17789: LD_INT 1
17791: MINUS
17792: PPUSH
17793: CALL_OW 12
17797: ST_TO_ADDR
// if cl = 3 then
17798: LD_VAR 0 3
17802: PUSH
17803: LD_INT 3
17805: EQUAL
17806: IFFALSE 17846
// mech = rand ( base + i - 1 , base + i ) else
17808: LD_ADDR_VAR 0 6
17812: PUSH
17813: LD_VAR 0 13
17817: PUSH
17818: LD_VAR 0 11
17822: PLUS
17823: PUSH
17824: LD_INT 1
17826: MINUS
17827: PPUSH
17828: LD_VAR 0 13
17832: PUSH
17833: LD_VAR 0 11
17837: PLUS
17838: PPUSH
17839: CALL_OW 12
17843: ST_TO_ADDR
17844: GO 17886
// mech = rand ( base + i - 4 , base + i - 1 ) ;
17846: LD_ADDR_VAR 0 6
17850: PUSH
17851: LD_VAR 0 13
17855: PUSH
17856: LD_VAR 0 11
17860: PLUS
17861: PUSH
17862: LD_INT 4
17864: MINUS
17865: PPUSH
17866: LD_VAR 0 13
17870: PUSH
17871: LD_VAR 0 11
17875: PLUS
17876: PUSH
17877: LD_INT 1
17879: MINUS
17880: PPUSH
17881: CALL_OW 12
17885: ST_TO_ADDR
// if cl = 4 then
17886: LD_VAR 0 3
17890: PUSH
17891: LD_INT 4
17893: EQUAL
17894: IFFALSE 17934
// sci = rand ( base + i - 1 , base + i ) else
17896: LD_ADDR_VAR 0 7
17900: PUSH
17901: LD_VAR 0 13
17905: PUSH
17906: LD_VAR 0 11
17910: PLUS
17911: PUSH
17912: LD_INT 1
17914: MINUS
17915: PPUSH
17916: LD_VAR 0 13
17920: PUSH
17921: LD_VAR 0 11
17925: PLUS
17926: PPUSH
17927: CALL_OW 12
17931: ST_TO_ADDR
17932: GO 17974
// sci = rand ( base + i - 4 , base + i - 1 ) ;
17934: LD_ADDR_VAR 0 7
17938: PUSH
17939: LD_VAR 0 13
17943: PUSH
17944: LD_VAR 0 11
17948: PLUS
17949: PUSH
17950: LD_INT 4
17952: MINUS
17953: PPUSH
17954: LD_VAR 0 13
17958: PUSH
17959: LD_VAR 0 11
17963: PLUS
17964: PUSH
17965: LD_INT 1
17967: MINUS
17968: PPUSH
17969: CALL_OW 12
17973: ST_TO_ADDR
// skills = [ combat , eng , mech , sci ] ;
17974: LD_ADDR_VAR 0 8
17978: PUSH
17979: LD_VAR 0 4
17983: PUSH
17984: LD_VAR 0 5
17988: PUSH
17989: LD_VAR 0 6
17993: PUSH
17994: LD_VAR 0 7
17998: PUSH
17999: EMPTY
18000: LIST
18001: LIST
18002: LIST
18003: LIST
18004: ST_TO_ADDR
// for i = 1 to 4 do
18005: LD_ADDR_VAR 0 11
18009: PUSH
18010: DOUBLE
18011: LD_INT 1
18013: DEC
18014: ST_TO_ADDR
18015: LD_INT 4
18017: PUSH
18018: FOR_TO
18019: IFFALSE 18174
// begin if skills [ i ] < 0 then
18021: LD_VAR 0 8
18025: PUSH
18026: LD_VAR 0 11
18030: ARRAY
18031: PUSH
18032: LD_INT 0
18034: LESS
18035: IFFALSE 18060
// skills = replace ( skills , i , 0 ) ;
18037: LD_ADDR_VAR 0 8
18041: PUSH
18042: LD_VAR 0 8
18046: PPUSH
18047: LD_VAR 0 11
18051: PPUSH
18052: LD_INT 0
18054: PPUSH
18055: CALL_OW 1
18059: ST_TO_ADDR
// n = [ 0 , 1 , 0 , 1 , 0 , 2 , 0 , 0 , 1 , 0 ] [ rand ( 1 , 10 ) ] ;
18060: LD_ADDR_VAR 0 14
18064: PUSH
18065: LD_INT 0
18067: PUSH
18068: LD_INT 1
18070: PUSH
18071: LD_INT 0
18073: PUSH
18074: LD_INT 1
18076: PUSH
18077: LD_INT 0
18079: PUSH
18080: LD_INT 2
18082: PUSH
18083: LD_INT 0
18085: PUSH
18086: LD_INT 0
18088: PUSH
18089: LD_INT 1
18091: PUSH
18092: LD_INT 0
18094: PUSH
18095: EMPTY
18096: LIST
18097: LIST
18098: LIST
18099: LIST
18100: LIST
18101: LIST
18102: LIST
18103: LIST
18104: LIST
18105: LIST
18106: PUSH
18107: LD_INT 1
18109: PPUSH
18110: LD_INT 10
18112: PPUSH
18113: CALL_OW 12
18117: ARRAY
18118: ST_TO_ADDR
// if n > skills [ i ] then
18119: LD_VAR 0 14
18123: PUSH
18124: LD_VAR 0 8
18128: PUSH
18129: LD_VAR 0 11
18133: ARRAY
18134: GREATER
18135: IFFALSE 18153
// n = skills [ i ] ;
18137: LD_ADDR_VAR 0 14
18141: PUSH
18142: LD_VAR 0 8
18146: PUSH
18147: LD_VAR 0 11
18151: ARRAY
18152: ST_TO_ADDR
// replace ( base_skills , i , n ) ;
18153: LD_VAR 0 9
18157: PPUSH
18158: LD_VAR 0 11
18162: PPUSH
18163: LD_VAR 0 14
18167: PPUSH
18168: CALL_OW 1
// end ;
18172: GO 18018
18174: POP
18175: POP
// n = rand ( 1 , 100 ) ;
18176: LD_ADDR_VAR 0 14
18180: PUSH
18181: LD_INT 1
18183: PPUSH
18184: LD_INT 100
18186: PPUSH
18187: CALL_OW 12
18191: ST_TO_ADDR
// case n of 1 .. 32 :
18192: LD_VAR 0 14
18196: PUSH
18197: LD_INT 1
18199: DOUBLE
18200: GREATEREQUAL
18201: IFFALSE 18209
18203: LD_INT 32
18205: DOUBLE
18206: LESSEQUAL
18207: IFTRUE 18211
18209: GO 18222
18211: POP
// def = 10 ; 31 .. 54 :
18212: LD_ADDR_VAR 0 15
18216: PUSH
18217: LD_INT 10
18219: ST_TO_ADDR
18220: GO 18323
18222: LD_INT 31
18224: DOUBLE
18225: GREATEREQUAL
18226: IFFALSE 18234
18228: LD_INT 54
18230: DOUBLE
18231: LESSEQUAL
18232: IFTRUE 18236
18234: GO 18247
18236: POP
// def = 9 ; 55 .. 76 :
18237: LD_ADDR_VAR 0 15
18241: PUSH
18242: LD_INT 9
18244: ST_TO_ADDR
18245: GO 18323
18247: LD_INT 55
18249: DOUBLE
18250: GREATEREQUAL
18251: IFFALSE 18259
18253: LD_INT 76
18255: DOUBLE
18256: LESSEQUAL
18257: IFTRUE 18261
18259: GO 18272
18261: POP
// def = 11 ; 77 .. 88 :
18262: LD_ADDR_VAR 0 15
18266: PUSH
18267: LD_INT 11
18269: ST_TO_ADDR
18270: GO 18323
18272: LD_INT 77
18274: DOUBLE
18275: GREATEREQUAL
18276: IFFALSE 18284
18278: LD_INT 88
18280: DOUBLE
18281: LESSEQUAL
18282: IFTRUE 18286
18284: GO 18297
18286: POP
// def = 8 ; 89 .. 100 :
18287: LD_ADDR_VAR 0 15
18291: PUSH
18292: LD_INT 8
18294: ST_TO_ADDR
18295: GO 18323
18297: LD_INT 89
18299: DOUBLE
18300: GREATEREQUAL
18301: IFFALSE 18309
18303: LD_INT 100
18305: DOUBLE
18306: LESSEQUAL
18307: IFTRUE 18311
18309: GO 18322
18311: POP
// def = 12 ; end ;
18312: LD_ADDR_VAR 0 15
18316: PUSH
18317: LD_INT 12
18319: ST_TO_ADDR
18320: GO 18323
18322: POP
// n = rand ( 1 , 100 ) ;
18323: LD_ADDR_VAR 0 14
18327: PUSH
18328: LD_INT 1
18330: PPUSH
18331: LD_INT 100
18333: PPUSH
18334: CALL_OW 12
18338: ST_TO_ADDR
// case n of 1 .. 44 :
18339: LD_VAR 0 14
18343: PUSH
18344: LD_INT 1
18346: DOUBLE
18347: GREATEREQUAL
18348: IFFALSE 18356
18350: LD_INT 44
18352: DOUBLE
18353: LESSEQUAL
18354: IFTRUE 18358
18356: GO 18369
18358: POP
// speed = 10 ; 45 .. 76 :
18359: LD_ADDR_VAR 0 16
18363: PUSH
18364: LD_INT 10
18366: ST_TO_ADDR
18367: GO 18445
18369: LD_INT 45
18371: DOUBLE
18372: GREATEREQUAL
18373: IFFALSE 18381
18375: LD_INT 76
18377: DOUBLE
18378: LESSEQUAL
18379: IFTRUE 18383
18381: GO 18394
18383: POP
// speed = 9 ; 77 .. 94 :
18384: LD_ADDR_VAR 0 16
18388: PUSH
18389: LD_INT 9
18391: ST_TO_ADDR
18392: GO 18445
18394: LD_INT 77
18396: DOUBLE
18397: GREATEREQUAL
18398: IFFALSE 18406
18400: LD_INT 94
18402: DOUBLE
18403: LESSEQUAL
18404: IFTRUE 18408
18406: GO 18419
18408: POP
// speed = 11 ; 95 .. 100 :
18409: LD_ADDR_VAR 0 16
18413: PUSH
18414: LD_INT 11
18416: ST_TO_ADDR
18417: GO 18445
18419: LD_INT 95
18421: DOUBLE
18422: GREATEREQUAL
18423: IFFALSE 18431
18425: LD_INT 100
18427: DOUBLE
18428: LESSEQUAL
18429: IFTRUE 18433
18431: GO 18444
18433: POP
// speed = 12 ; end ;
18434: LD_ADDR_VAR 0 16
18438: PUSH
18439: LD_INT 12
18441: ST_TO_ADDR
18442: GO 18445
18444: POP
// hc_attr = [ def , speed ] ;
18445: LD_ADDR_OWVAR 29
18449: PUSH
18450: LD_VAR 0 15
18454: PUSH
18455: LD_VAR 0 16
18459: PUSH
18460: EMPTY
18461: LIST
18462: LIST
18463: ST_TO_ADDR
// hc_basic_skills = base_skills ;
18464: LD_ADDR_OWVAR 30
18468: PUSH
18469: LD_VAR 0 9
18473: ST_TO_ADDR
// hc_skills := skills ;
18474: LD_ADDR_OWVAR 31
18478: PUSH
18479: LD_VAR 0 8
18483: ST_TO_ADDR
// hc_class = cl ;
18484: LD_ADDR_OWVAR 28
18488: PUSH
18489: LD_VAR 0 3
18493: ST_TO_ADDR
// end ; end_of_file
18494: LD_VAR 0 2
18498: RET
// var strany ; export maxTechLevel ; export function Start_tech_ur ; var i ; begin
18499: LD_INT 0
18501: PPUSH
18502: PPUSH
// if not maxTechLevel then
18503: LD_EXP 115
18507: NOT
18508: IFFALSE 18518
// maxTechLevel = 8 ;
18510: LD_ADDR_EXP 115
18514: PUSH
18515: LD_INT 8
18517: ST_TO_ADDR
// strany = [ ] ;
18518: LD_ADDR_LOC 18
18522: PUSH
18523: EMPTY
18524: ST_TO_ADDR
// if def_tech_level > maxTechLevel then
18525: LD_EXP 26
18529: PUSH
18530: LD_EXP 115
18534: GREATER
18535: IFFALSE 18547
// def_tech_level = maxTechLevel ;
18537: LD_ADDR_EXP 26
18541: PUSH
18542: LD_EXP 115
18546: ST_TO_ADDR
// for i := 1 to Side_Positions do
18547: LD_ADDR_VAR 0 2
18551: PUSH
18552: DOUBLE
18553: LD_INT 1
18555: DEC
18556: ST_TO_ADDR
18557: LD_EXP 75
18561: PUSH
18562: FOR_TO
18563: IFFALSE 18595
// if Side_Positions [ i ] then
18565: LD_EXP 75
18569: PUSH
18570: LD_VAR 0 2
18574: ARRAY
18575: IFFALSE 18593
// strany = strany ^ i ;
18577: LD_ADDR_LOC 18
18581: PUSH
18582: LD_LOC 18
18586: PUSH
18587: LD_VAR 0 2
18591: ADD
18592: ST_TO_ADDR
18593: GO 18562
18595: POP
18596: POP
// for i in strany do
18597: LD_ADDR_VAR 0 2
18601: PUSH
18602: LD_LOC 18
18606: PUSH
18607: FOR_IN
18608: IFFALSE 18621
// Vse_zakaz ( i ) ;
18610: LD_VAR 0 2
18614: PPUSH
18615: CALL 19596 0 1
18619: GO 18607
18621: POP
18622: POP
// for i in strany do
18623: LD_ADDR_VAR 0 2
18627: PUSH
18628: LD_LOC 18
18632: PUSH
18633: FOR_IN
18634: IFFALSE 19056
// case def_tech_level of 1 :
18636: LD_EXP 26
18640: PUSH
18641: LD_INT 1
18643: DOUBLE
18644: EQUAL
18645: IFTRUE 18649
18647: GO 18661
18649: POP
// ur_1 ( i ) ; 2 :
18650: LD_VAR 0 2
18654: PPUSH
18655: CALL 19756 0 1
18659: GO 19054
18661: LD_INT 2
18663: DOUBLE
18664: EQUAL
18665: IFTRUE 18669
18667: GO 18690
18669: POP
// begin ur_1 ( i ) ;
18670: LD_VAR 0 2
18674: PPUSH
18675: CALL 19756 0 1
// ur_2 ( i ) ;
18679: LD_VAR 0 2
18683: PPUSH
18684: CALL 20141 0 1
// end ; 3 :
18688: GO 19054
18690: LD_INT 3
18692: DOUBLE
18693: EQUAL
18694: IFTRUE 18698
18696: GO 18728
18698: POP
// begin ur_1 ( i ) ;
18699: LD_VAR 0 2
18703: PPUSH
18704: CALL 19756 0 1
// ur_2 ( i ) ;
18708: LD_VAR 0 2
18712: PPUSH
18713: CALL 20141 0 1
// ur_3 ( i ) ;
18717: LD_VAR 0 2
18721: PPUSH
18722: CALL 20530 0 1
// end ; 4 :
18726: GO 19054
18728: LD_INT 4
18730: DOUBLE
18731: EQUAL
18732: IFTRUE 18736
18734: GO 18775
18736: POP
// begin ur_1 ( i ) ;
18737: LD_VAR 0 2
18741: PPUSH
18742: CALL 19756 0 1
// ur_2 ( i ) ;
18746: LD_VAR 0 2
18750: PPUSH
18751: CALL 20141 0 1
// ur_3 ( i ) ;
18755: LD_VAR 0 2
18759: PPUSH
18760: CALL 20530 0 1
// ur_4 ( i ) ;
18764: LD_VAR 0 2
18768: PPUSH
18769: CALL 20991 0 1
// end ; 5 :
18773: GO 19054
18775: LD_INT 5
18777: DOUBLE
18778: EQUAL
18779: IFTRUE 18783
18781: GO 18831
18783: POP
// begin ur_1 ( i ) ;
18784: LD_VAR 0 2
18788: PPUSH
18789: CALL 19756 0 1
// ur_2 ( i ) ;
18793: LD_VAR 0 2
18797: PPUSH
18798: CALL 20141 0 1
// ur_3 ( i ) ;
18802: LD_VAR 0 2
18806: PPUSH
18807: CALL 20530 0 1
// ur_4 ( i ) ;
18811: LD_VAR 0 2
18815: PPUSH
18816: CALL 20991 0 1
// ur_5 ( i ) ;
18820: LD_VAR 0 2
18824: PPUSH
18825: CALL 21468 0 1
// end ; 6 :
18829: GO 19054
18831: LD_INT 6
18833: DOUBLE
18834: EQUAL
18835: IFTRUE 18839
18837: GO 18896
18839: POP
// begin ur_1 ( i ) ;
18840: LD_VAR 0 2
18844: PPUSH
18845: CALL 19756 0 1
// ur_2 ( i ) ;
18849: LD_VAR 0 2
18853: PPUSH
18854: CALL 20141 0 1
// ur_3 ( i ) ;
18858: LD_VAR 0 2
18862: PPUSH
18863: CALL 20530 0 1
// ur_4 ( i ) ;
18867: LD_VAR 0 2
18871: PPUSH
18872: CALL 20991 0 1
// ur_5 ( i ) ;
18876: LD_VAR 0 2
18880: PPUSH
18881: CALL 21468 0 1
// ur_6 ( i ) ;
18885: LD_VAR 0 2
18889: PPUSH
18890: CALL 21762 0 1
// end ; 7 :
18894: GO 19054
18896: LD_INT 7
18898: DOUBLE
18899: EQUAL
18900: IFTRUE 18904
18902: GO 18970
18904: POP
// begin ur_1 ( i ) ;
18905: LD_VAR 0 2
18909: PPUSH
18910: CALL 19756 0 1
// ur_2 ( i ) ;
18914: LD_VAR 0 2
18918: PPUSH
18919: CALL 20141 0 1
// ur_3 ( i ) ;
18923: LD_VAR 0 2
18927: PPUSH
18928: CALL 20530 0 1
// ur_4 ( i ) ;
18932: LD_VAR 0 2
18936: PPUSH
18937: CALL 20991 0 1
// ur_5 ( i ) ;
18941: LD_VAR 0 2
18945: PPUSH
18946: CALL 21468 0 1
// ur_6 ( i ) ;
18950: LD_VAR 0 2
18954: PPUSH
18955: CALL 21762 0 1
// ur_7 ( i ) ;
18959: LD_VAR 0 2
18963: PPUSH
18964: CALL 22032 0 1
// end ; 8 :
18968: GO 19054
18970: LD_INT 8
18972: DOUBLE
18973: EQUAL
18974: IFTRUE 18978
18976: GO 19053
18978: POP
// begin ur_1 ( i ) ;
18979: LD_VAR 0 2
18983: PPUSH
18984: CALL 19756 0 1
// ur_2 ( i ) ;
18988: LD_VAR 0 2
18992: PPUSH
18993: CALL 20141 0 1
// ur_3 ( i ) ;
18997: LD_VAR 0 2
19001: PPUSH
19002: CALL 20530 0 1
// ur_4 ( i ) ;
19006: LD_VAR 0 2
19010: PPUSH
19011: CALL 20991 0 1
// ur_5 ( i ) ;
19015: LD_VAR 0 2
19019: PPUSH
19020: CALL 21468 0 1
// ur_6 ( i ) ;
19024: LD_VAR 0 2
19028: PPUSH
19029: CALL 21762 0 1
// ur_7 ( i ) ;
19033: LD_VAR 0 2
19037: PPUSH
19038: CALL 22032 0 1
// ur_8 ( i ) ;
19042: LD_VAR 0 2
19046: PPUSH
19047: CALL 22278 0 1
// end ; end ;
19051: GO 19054
19053: POP
19054: GO 18633
19056: POP
19057: POP
// end ;
19058: LD_VAR 0 1
19062: RET
// every 0 0$01 marked 30 do var i ;
19063: GO 19065
19065: DISABLE
19066: LD_INT 0
19068: PPUSH
// begin if def_upgrade_tl = 0 then
19069: LD_EXP 27
19073: PUSH
19074: LD_INT 0
19076: EQUAL
19077: IFFALSE 19081
// exit ;
19079: GO 19593
// if def_tech_level < 1 and not maxTechLevel < 1 then
19081: LD_EXP 26
19085: PUSH
19086: LD_INT 1
19088: LESS
19089: PUSH
19090: LD_EXP 115
19094: PUSH
19095: LD_INT 1
19097: LESS
19098: NOT
19099: AND
19100: IFFALSE 19145
// begin wait ( 0 0$50 * def_upgrade_tl ) ;
19102: LD_INT 1750
19104: PUSH
19105: LD_EXP 27
19109: MUL
19110: PPUSH
19111: CALL_OW 67
// for i in strany do
19115: LD_ADDR_VAR 0 1
19119: PUSH
19120: LD_LOC 18
19124: PUSH
19125: FOR_IN
19126: IFFALSE 19139
// ur_1 ( i ) ;
19128: LD_VAR 0 1
19132: PPUSH
19133: CALL 19756 0 1
19137: GO 19125
19139: POP
19140: POP
// Hustota_Zasilek ;
19141: CALL 2178 0 0
// end ; if def_tech_level < 2 and not maxTechLevel < 2 then
19145: LD_EXP 26
19149: PUSH
19150: LD_INT 2
19152: LESS
19153: PUSH
19154: LD_EXP 115
19158: PUSH
19159: LD_INT 2
19161: LESS
19162: NOT
19163: AND
19164: IFFALSE 19209
// begin wait ( 1 1$00 * def_upgrade_tl ) ;
19166: LD_INT 2100
19168: PUSH
19169: LD_EXP 27
19173: MUL
19174: PPUSH
19175: CALL_OW 67
// for i in strany do
19179: LD_ADDR_VAR 0 1
19183: PUSH
19184: LD_LOC 18
19188: PUSH
19189: FOR_IN
19190: IFFALSE 19203
// ur_2 ( i ) ;
19192: LD_VAR 0 1
19196: PPUSH
19197: CALL 20141 0 1
19201: GO 19189
19203: POP
19204: POP
// Hustota_Zasilek ;
19205: CALL 2178 0 0
// end ; if def_tech_level < 3 and not maxTechLevel < 3 then
19209: LD_EXP 26
19213: PUSH
19214: LD_INT 3
19216: LESS
19217: PUSH
19218: LD_EXP 115
19222: PUSH
19223: LD_INT 3
19225: LESS
19226: NOT
19227: AND
19228: IFFALSE 19273
// begin wait ( 3 3$30 * def_upgrade_tl ) ;
19230: LD_INT 7350
19232: PUSH
19233: LD_EXP 27
19237: MUL
19238: PPUSH
19239: CALL_OW 67
// for i in strany do
19243: LD_ADDR_VAR 0 1
19247: PUSH
19248: LD_LOC 18
19252: PUSH
19253: FOR_IN
19254: IFFALSE 19267
// ur_3 ( i ) ;
19256: LD_VAR 0 1
19260: PPUSH
19261: CALL 20530 0 1
19265: GO 19253
19267: POP
19268: POP
// Hustota_Zasilek ;
19269: CALL 2178 0 0
// end ; if def_tech_level < 4 and not maxTechLevel < 4 then
19273: LD_EXP 26
19277: PUSH
19278: LD_INT 4
19280: LESS
19281: PUSH
19282: LD_EXP 115
19286: PUSH
19287: LD_INT 4
19289: LESS
19290: NOT
19291: AND
19292: IFFALSE 19337
// begin wait ( 4 4$30 * def_upgrade_tl ) ;
19294: LD_INT 9450
19296: PUSH
19297: LD_EXP 27
19301: MUL
19302: PPUSH
19303: CALL_OW 67
// for i in strany do
19307: LD_ADDR_VAR 0 1
19311: PUSH
19312: LD_LOC 18
19316: PUSH
19317: FOR_IN
19318: IFFALSE 19331
// ur_4 ( i ) ;
19320: LD_VAR 0 1
19324: PPUSH
19325: CALL 20991 0 1
19329: GO 19317
19331: POP
19332: POP
// Hustota_Zasilek ;
19333: CALL 2178 0 0
// end ; if def_tech_level < 5 and not maxTechLevel < 5 then
19337: LD_EXP 26
19341: PUSH
19342: LD_INT 5
19344: LESS
19345: PUSH
19346: LD_EXP 115
19350: PUSH
19351: LD_INT 5
19353: LESS
19354: NOT
19355: AND
19356: IFFALSE 19401
// begin wait ( 3 3$30 * def_upgrade_tl ) ;
19358: LD_INT 7350
19360: PUSH
19361: LD_EXP 27
19365: MUL
19366: PPUSH
19367: CALL_OW 67
// for i in strany do
19371: LD_ADDR_VAR 0 1
19375: PUSH
19376: LD_LOC 18
19380: PUSH
19381: FOR_IN
19382: IFFALSE 19395
// ur_5 ( i ) ;
19384: LD_VAR 0 1
19388: PPUSH
19389: CALL 21468 0 1
19393: GO 19381
19395: POP
19396: POP
// Hustota_Zasilek ;
19397: CALL 2178 0 0
// end ; if def_tech_level < 6 and not maxTechLevel < 6 then
19401: LD_EXP 26
19405: PUSH
19406: LD_INT 6
19408: LESS
19409: PUSH
19410: LD_EXP 115
19414: PUSH
19415: LD_INT 6
19417: LESS
19418: NOT
19419: AND
19420: IFFALSE 19465
// begin wait ( 4 4$15 * def_upgrade_tl ) ;
19422: LD_INT 8925
19424: PUSH
19425: LD_EXP 27
19429: MUL
19430: PPUSH
19431: CALL_OW 67
// for i in strany do
19435: LD_ADDR_VAR 0 1
19439: PUSH
19440: LD_LOC 18
19444: PUSH
19445: FOR_IN
19446: IFFALSE 19459
// ur_6 ( i ) ;
19448: LD_VAR 0 1
19452: PPUSH
19453: CALL 21762 0 1
19457: GO 19445
19459: POP
19460: POP
// Hustota_Zasilek ;
19461: CALL 2178 0 0
// end ; if def_tech_level < 7 and not maxTechLevel < 7 then
19465: LD_EXP 26
19469: PUSH
19470: LD_INT 7
19472: LESS
19473: PUSH
19474: LD_EXP 115
19478: PUSH
19479: LD_INT 7
19481: LESS
19482: NOT
19483: AND
19484: IFFALSE 19529
// begin wait ( 4 4$45 * def_upgrade_tl ) ;
19486: LD_INT 9975
19488: PUSH
19489: LD_EXP 27
19493: MUL
19494: PPUSH
19495: CALL_OW 67
// for i in strany do
19499: LD_ADDR_VAR 0 1
19503: PUSH
19504: LD_LOC 18
19508: PUSH
19509: FOR_IN
19510: IFFALSE 19523
// ur_7 ( i ) ;
19512: LD_VAR 0 1
19516: PPUSH
19517: CALL 22032 0 1
19521: GO 19509
19523: POP
19524: POP
// Hustota_Zasilek ;
19525: CALL 2178 0 0
// end ; if def_tech_level < 8 and not maxTechLevel < 8 then
19529: LD_EXP 26
19533: PUSH
19534: LD_INT 8
19536: LESS
19537: PUSH
19538: LD_EXP 115
19542: PUSH
19543: LD_INT 8
19545: LESS
19546: NOT
19547: AND
19548: IFFALSE 19593
// begin wait ( 6 6$00 * def_upgrade_tl ) ;
19550: LD_INT 12600
19552: PUSH
19553: LD_EXP 27
19557: MUL
19558: PPUSH
19559: CALL_OW 67
// for i in strany do
19563: LD_ADDR_VAR 0 1
19567: PUSH
19568: LD_LOC 18
19572: PUSH
19573: FOR_IN
19574: IFFALSE 19587
// ur_8 ( i ) ;
19576: LD_VAR 0 1
19580: PPUSH
19581: CALL 22278 0 1
19585: GO 19573
19587: POP
19588: POP
// Hustota_Zasilek ;
19589: CALL 2178 0 0
// end ; end ;
19593: PPOPN 1
19595: END
// function Vse_zakaz ( side ) ; var i , zbudovy ; begin
19596: LD_INT 0
19598: PPUSH
19599: PPUSH
19600: PPUSH
// for i = 1 to 72 do
19601: LD_ADDR_VAR 0 3
19605: PUSH
19606: DOUBLE
19607: LD_INT 1
19609: DEC
19610: ST_TO_ADDR
19611: LD_INT 72
19613: PUSH
19614: FOR_TO
19615: IFFALSE 19636
// SetTech ( i , side , state_disabled ) ;
19617: LD_VAR 0 3
19621: PPUSH
19622: LD_VAR 0 1
19626: PPUSH
19627: LD_INT 0
19629: PPUSH
19630: CALL_OW 322
19634: GO 19614
19636: POP
19637: POP
// zbudovy = [ 1 , 5 , 2 , 3 , 16 , 19 , 23 , 10 , 11 , 12 , 13 , 14 , 15 , 29 , 30 , 32 ] ;
19638: LD_ADDR_VAR 0 4
19642: PUSH
19643: LD_INT 1
19645: PUSH
19646: LD_INT 5
19648: PUSH
19649: LD_INT 2
19651: PUSH
19652: LD_INT 3
19654: PUSH
19655: LD_INT 16
19657: PUSH
19658: LD_INT 19
19660: PUSH
19661: LD_INT 23
19663: PUSH
19664: LD_INT 10
19666: PUSH
19667: LD_INT 11
19669: PUSH
19670: LD_INT 12
19672: PUSH
19673: LD_INT 13
19675: PUSH
19676: LD_INT 14
19678: PUSH
19679: LD_INT 15
19681: PUSH
19682: LD_INT 29
19684: PUSH
19685: LD_INT 30
19687: PUSH
19688: LD_INT 32
19690: PUSH
19691: EMPTY
19692: LIST
19693: LIST
19694: LIST
19695: LIST
19696: LIST
19697: LIST
19698: LIST
19699: LIST
19700: LIST
19701: LIST
19702: LIST
19703: LIST
19704: LIST
19705: LIST
19706: LIST
19707: LIST
19708: ST_TO_ADDR
// for i in zbudovy do
19709: LD_ADDR_VAR 0 3
19713: PUSH
19714: LD_VAR 0 4
19718: PUSH
19719: FOR_IN
19720: IFFALSE 19741
// SetRestrict ( i , side , state_disabled ) ;
19722: LD_VAR 0 3
19726: PPUSH
19727: LD_VAR 0 1
19731: PPUSH
19732: LD_INT 0
19734: PPUSH
19735: CALL_OW 324
19739: GO 19719
19741: POP
19742: POP
// Tech_Level = 0 ;
19743: LD_ADDR_EXP 56
19747: PUSH
19748: LD_INT 0
19750: ST_TO_ADDR
// end ;
19751: LD_VAR 0 2
19755: RET
// function ur_1 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
19756: LD_INT 0
19758: PPUSH
19759: PPUSH
19760: PPUSH
19761: PPUSH
19762: PPUSH
// narodnost := Side_Nations [ side ] ;
19763: LD_ADDR_VAR 0 3
19767: PUSH
19768: LD_EXP 76
19772: PUSH
19773: LD_VAR 0 1
19777: ARRAY
19778: ST_TO_ADDR
// case narodnost of 1 :
19779: LD_VAR 0 3
19783: PUSH
19784: LD_INT 1
19786: DOUBLE
19787: EQUAL
19788: IFTRUE 19792
19790: GO 19901
19792: POP
// begin pbudovy = [ 2 , 29 ] ;
19793: LD_ADDR_VAR 0 5
19797: PUSH
19798: LD_INT 2
19800: PUSH
19801: LD_INT 29
19803: PUSH
19804: EMPTY
19805: LIST
19806: LIST
19807: ST_TO_ADDR
// for i in pbudovy do
19808: LD_ADDR_VAR 0 6
19812: PUSH
19813: LD_VAR 0 5
19817: PUSH
19818: FOR_IN
19819: IFFALSE 19840
// EnableBuilding ( i , side , state_enabled ) ;
19821: LD_VAR 0 6
19825: PPUSH
19826: LD_VAR 0 1
19830: PPUSH
19831: LD_INT 1
19833: PPUSH
19834: CALL 22457 0 3
19838: GO 19818
19840: POP
19841: POP
// ptech = [ 46 , 35 , 45 , 48 ] ;
19842: LD_ADDR_VAR 0 4
19846: PUSH
19847: LD_INT 46
19849: PUSH
19850: LD_INT 35
19852: PUSH
19853: LD_INT 45
19855: PUSH
19856: LD_INT 48
19858: PUSH
19859: EMPTY
19860: LIST
19861: LIST
19862: LIST
19863: LIST
19864: ST_TO_ADDR
// for i in ptech do
19865: LD_ADDR_VAR 0 6
19869: PUSH
19870: LD_VAR 0 4
19874: PUSH
19875: FOR_IN
19876: IFFALSE 19897
// EnableTech ( i , side , state_enabled ) ;
19878: LD_VAR 0 6
19882: PPUSH
19883: LD_VAR 0 1
19887: PPUSH
19888: LD_INT 1
19890: PPUSH
19891: CALL 22378 0 3
19895: GO 19875
19897: POP
19898: POP
// end ; 2 :
19899: GO 20128
19901: LD_INT 2
19903: DOUBLE
19904: EQUAL
19905: IFTRUE 19909
19907: GO 20018
19909: POP
// begin pbudovy = [ 2 , 29 ] ;
19910: LD_ADDR_VAR 0 5
19914: PUSH
19915: LD_INT 2
19917: PUSH
19918: LD_INT 29
19920: PUSH
19921: EMPTY
19922: LIST
19923: LIST
19924: ST_TO_ADDR
// for i in pbudovy do
19925: LD_ADDR_VAR 0 6
19929: PUSH
19930: LD_VAR 0 5
19934: PUSH
19935: FOR_IN
19936: IFFALSE 19957
// EnableBuilding ( i , side , state_enabled ) ;
19938: LD_VAR 0 6
19942: PPUSH
19943: LD_VAR 0 1
19947: PPUSH
19948: LD_INT 1
19950: PPUSH
19951: CALL 22457 0 3
19955: GO 19935
19957: POP
19958: POP
// ptech = [ 46 , 35 , 45 , 48 ] ;
19959: LD_ADDR_VAR 0 4
19963: PUSH
19964: LD_INT 46
19966: PUSH
19967: LD_INT 35
19969: PUSH
19970: LD_INT 45
19972: PUSH
19973: LD_INT 48
19975: PUSH
19976: EMPTY
19977: LIST
19978: LIST
19979: LIST
19980: LIST
19981: ST_TO_ADDR
// for i in ptech do
19982: LD_ADDR_VAR 0 6
19986: PUSH
19987: LD_VAR 0 4
19991: PUSH
19992: FOR_IN
19993: IFFALSE 20014
// EnableTech ( i , side , state_enabled ) ;
19995: LD_VAR 0 6
19999: PPUSH
20000: LD_VAR 0 1
20004: PPUSH
20005: LD_INT 1
20007: PPUSH
20008: CALL 22378 0 3
20012: GO 19992
20014: POP
20015: POP
// end ; 3 :
20016: GO 20128
20018: LD_INT 3
20020: DOUBLE
20021: EQUAL
20022: IFTRUE 20026
20024: GO 20127
20026: POP
// begin pbudovy = [ 2 , 29 ] ;
20027: LD_ADDR_VAR 0 5
20031: PUSH
20032: LD_INT 2
20034: PUSH
20035: LD_INT 29
20037: PUSH
20038: EMPTY
20039: LIST
20040: LIST
20041: ST_TO_ADDR
// for i in pbudovy do
20042: LD_ADDR_VAR 0 6
20046: PUSH
20047: LD_VAR 0 5
20051: PUSH
20052: FOR_IN
20053: IFFALSE 20074
// EnableBuilding ( i , side , state_enabled ) ;
20055: LD_VAR 0 6
20059: PPUSH
20060: LD_VAR 0 1
20064: PPUSH
20065: LD_INT 1
20067: PPUSH
20068: CALL 22457 0 3
20072: GO 20052
20074: POP
20075: POP
// ptech = [ 46 , 47 ] ;
20076: LD_ADDR_VAR 0 4
20080: PUSH
20081: LD_INT 46
20083: PUSH
20084: LD_INT 47
20086: PUSH
20087: EMPTY
20088: LIST
20089: LIST
20090: ST_TO_ADDR
// for i in ptech do
20091: LD_ADDR_VAR 0 6
20095: PUSH
20096: LD_VAR 0 4
20100: PUSH
20101: FOR_IN
20102: IFFALSE 20123
// EnableTech ( i , side , state_enabled ) ;
20104: LD_VAR 0 6
20108: PPUSH
20109: LD_VAR 0 1
20113: PPUSH
20114: LD_INT 1
20116: PPUSH
20117: CALL 22378 0 3
20121: GO 20101
20123: POP
20124: POP
// end ; end ;
20125: GO 20128
20127: POP
// Tech_Level = 1 ;
20128: LD_ADDR_EXP 56
20132: PUSH
20133: LD_INT 1
20135: ST_TO_ADDR
// end ;
20136: LD_VAR 0 2
20140: RET
// function ur_2 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
20141: LD_INT 0
20143: PPUSH
20144: PPUSH
20145: PPUSH
20146: PPUSH
20147: PPUSH
// narodnost := Side_Nations [ side ] ;
20148: LD_ADDR_VAR 0 3
20152: PUSH
20153: LD_EXP 76
20157: PUSH
20158: LD_VAR 0 1
20162: ARRAY
20163: ST_TO_ADDR
// case narodnost of 1 :
20164: LD_VAR 0 3
20168: PUSH
20169: LD_INT 1
20171: DOUBLE
20172: EQUAL
20173: IFTRUE 20177
20175: GO 20286
20177: POP
// begin pbudovy = [ 10 , 3 ] ;
20178: LD_ADDR_VAR 0 5
20182: PUSH
20183: LD_INT 10
20185: PUSH
20186: LD_INT 3
20188: PUSH
20189: EMPTY
20190: LIST
20191: LIST
20192: ST_TO_ADDR
// for i in pbudovy do
20193: LD_ADDR_VAR 0 6
20197: PUSH
20198: LD_VAR 0 5
20202: PUSH
20203: FOR_IN
20204: IFFALSE 20225
// EnableBuilding ( i , side , state_enabled ) ;
20206: LD_VAR 0 6
20210: PPUSH
20211: LD_VAR 0 1
20215: PPUSH
20216: LD_INT 1
20218: PPUSH
20219: CALL 22457 0 3
20223: GO 20203
20225: POP
20226: POP
// ptech = [ 1 , 47 , 69 , 2 ] ;
20227: LD_ADDR_VAR 0 4
20231: PUSH
20232: LD_INT 1
20234: PUSH
20235: LD_INT 47
20237: PUSH
20238: LD_INT 69
20240: PUSH
20241: LD_INT 2
20243: PUSH
20244: EMPTY
20245: LIST
20246: LIST
20247: LIST
20248: LIST
20249: ST_TO_ADDR
// for i in ptech do
20250: LD_ADDR_VAR 0 6
20254: PUSH
20255: LD_VAR 0 4
20259: PUSH
20260: FOR_IN
20261: IFFALSE 20282
// EnableTech ( i , side , state_enabled ) ;
20263: LD_VAR 0 6
20267: PPUSH
20268: LD_VAR 0 1
20272: PPUSH
20273: LD_INT 1
20275: PPUSH
20276: CALL 22378 0 3
20280: GO 20260
20282: POP
20283: POP
// end ; 2 :
20284: GO 20517
20286: LD_INT 2
20288: DOUBLE
20289: EQUAL
20290: IFTRUE 20294
20292: GO 20403
20294: POP
// begin pbudovy = [ 10 , 3 ] ;
20295: LD_ADDR_VAR 0 5
20299: PUSH
20300: LD_INT 10
20302: PUSH
20303: LD_INT 3
20305: PUSH
20306: EMPTY
20307: LIST
20308: LIST
20309: ST_TO_ADDR
// for i in pbudovy do
20310: LD_ADDR_VAR 0 6
20314: PUSH
20315: LD_VAR 0 5
20319: PUSH
20320: FOR_IN
20321: IFFALSE 20342
// EnableBuilding ( i , side , state_enabled ) ;
20323: LD_VAR 0 6
20327: PPUSH
20328: LD_VAR 0 1
20332: PPUSH
20333: LD_INT 1
20335: PPUSH
20336: CALL 22457 0 3
20340: GO 20320
20342: POP
20343: POP
// ptech = [ 1 , 47 , 69 , 11 ] ;
20344: LD_ADDR_VAR 0 4
20348: PUSH
20349: LD_INT 1
20351: PUSH
20352: LD_INT 47
20354: PUSH
20355: LD_INT 69
20357: PUSH
20358: LD_INT 11
20360: PUSH
20361: EMPTY
20362: LIST
20363: LIST
20364: LIST
20365: LIST
20366: ST_TO_ADDR
// for i in ptech do
20367: LD_ADDR_VAR 0 6
20371: PUSH
20372: LD_VAR 0 4
20376: PUSH
20377: FOR_IN
20378: IFFALSE 20399
// EnableTech ( i , side , state_enabled ) ;
20380: LD_VAR 0 6
20384: PPUSH
20385: LD_VAR 0 1
20389: PPUSH
20390: LD_INT 1
20392: PPUSH
20393: CALL 22378 0 3
20397: GO 20377
20399: POP
20400: POP
// end ; 3 :
20401: GO 20517
20403: LD_INT 3
20405: DOUBLE
20406: EQUAL
20407: IFTRUE 20411
20409: GO 20516
20411: POP
// begin pbudovy = [ 10 ] ;
20412: LD_ADDR_VAR 0 5
20416: PUSH
20417: LD_INT 10
20419: PUSH
20420: EMPTY
20421: LIST
20422: ST_TO_ADDR
// for i in pbudovy do
20423: LD_ADDR_VAR 0 6
20427: PUSH
20428: LD_VAR 0 5
20432: PUSH
20433: FOR_IN
20434: IFFALSE 20455
// EnableBuilding ( i , side , state_enabled ) ;
20436: LD_VAR 0 6
20440: PPUSH
20441: LD_VAR 0 1
20445: PPUSH
20446: LD_INT 1
20448: PPUSH
20449: CALL 22457 0 3
20453: GO 20433
20455: POP
20456: POP
// ptech = [ 1 , 2 , 48 , 51 ] ;
20457: LD_ADDR_VAR 0 4
20461: PUSH
20462: LD_INT 1
20464: PUSH
20465: LD_INT 2
20467: PUSH
20468: LD_INT 48
20470: PUSH
20471: LD_INT 51
20473: PUSH
20474: EMPTY
20475: LIST
20476: LIST
20477: LIST
20478: LIST
20479: ST_TO_ADDR
// for i in ptech do
20480: LD_ADDR_VAR 0 6
20484: PUSH
20485: LD_VAR 0 4
20489: PUSH
20490: FOR_IN
20491: IFFALSE 20512
// EnableTech ( i , side , state_enabled ) ;
20493: LD_VAR 0 6
20497: PPUSH
20498: LD_VAR 0 1
20502: PPUSH
20503: LD_INT 1
20505: PPUSH
20506: CALL 22378 0 3
20510: GO 20490
20512: POP
20513: POP
// end ; end ;
20514: GO 20517
20516: POP
// Tech_Level = 2 ;
20517: LD_ADDR_EXP 56
20521: PUSH
20522: LD_INT 2
20524: ST_TO_ADDR
// end ;
20525: LD_VAR 0 2
20529: RET
// function ur_3 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
20530: LD_INT 0
20532: PPUSH
20533: PPUSH
20534: PPUSH
20535: PPUSH
20536: PPUSH
// narodnost := Side_Nations [ side ] ;
20537: LD_ADDR_VAR 0 3
20541: PUSH
20542: LD_EXP 76
20546: PUSH
20547: LD_VAR 0 1
20551: ARRAY
20552: ST_TO_ADDR
// case narodnost of 1 :
20553: LD_VAR 0 3
20557: PUSH
20558: LD_INT 1
20560: DOUBLE
20561: EQUAL
20562: IFTRUE 20566
20564: GO 20691
20566: POP
// begin pbudovy = [ 32 , 19 , 5 , 16 , 15 ] ;
20567: LD_ADDR_VAR 0 5
20571: PUSH
20572: LD_INT 32
20574: PUSH
20575: LD_INT 19
20577: PUSH
20578: LD_INT 5
20580: PUSH
20581: LD_INT 16
20583: PUSH
20584: LD_INT 15
20586: PUSH
20587: EMPTY
20588: LIST
20589: LIST
20590: LIST
20591: LIST
20592: LIST
20593: ST_TO_ADDR
// for i in pbudovy do
20594: LD_ADDR_VAR 0 6
20598: PUSH
20599: LD_VAR 0 5
20603: PUSH
20604: FOR_IN
20605: IFFALSE 20626
// EnableBuilding ( i , side , state_enabled ) ;
20607: LD_VAR 0 6
20611: PPUSH
20612: LD_VAR 0 1
20616: PPUSH
20617: LD_INT 1
20619: PPUSH
20620: CALL 22457 0 3
20624: GO 20604
20626: POP
20627: POP
// ptech = [ 39 , 49 , 6 , 12 , 51 ] ;
20628: LD_ADDR_VAR 0 4
20632: PUSH
20633: LD_INT 39
20635: PUSH
20636: LD_INT 49
20638: PUSH
20639: LD_INT 6
20641: PUSH
20642: LD_INT 12
20644: PUSH
20645: LD_INT 51
20647: PUSH
20648: EMPTY
20649: LIST
20650: LIST
20651: LIST
20652: LIST
20653: LIST
20654: ST_TO_ADDR
// for i in ptech do
20655: LD_ADDR_VAR 0 6
20659: PUSH
20660: LD_VAR 0 4
20664: PUSH
20665: FOR_IN
20666: IFFALSE 20687
// EnableTech ( i , side , state_enabled ) ;
20668: LD_VAR 0 6
20672: PPUSH
20673: LD_VAR 0 1
20677: PPUSH
20678: LD_INT 1
20680: PPUSH
20681: CALL 22378 0 3
20685: GO 20665
20687: POP
20688: POP
// end ; 2 :
20689: GO 20978
20691: LD_INT 2
20693: DOUBLE
20694: EQUAL
20695: IFTRUE 20699
20697: GO 20832
20699: POP
// begin pbudovy = [ 32 , 23 , 5 , 16 , 15 ] ;
20700: LD_ADDR_VAR 0 5
20704: PUSH
20705: LD_INT 32
20707: PUSH
20708: LD_INT 23
20710: PUSH
20711: LD_INT 5
20713: PUSH
20714: LD_INT 16
20716: PUSH
20717: LD_INT 15
20719: PUSH
20720: EMPTY
20721: LIST
20722: LIST
20723: LIST
20724: LIST
20725: LIST
20726: ST_TO_ADDR
// for i in pbudovy do
20727: LD_ADDR_VAR 0 6
20731: PUSH
20732: LD_VAR 0 5
20736: PUSH
20737: FOR_IN
20738: IFFALSE 20759
// EnableBuilding ( i , side , state_enabled ) ;
20740: LD_VAR 0 6
20744: PPUSH
20745: LD_VAR 0 1
20749: PPUSH
20750: LD_INT 1
20752: PPUSH
20753: CALL 22457 0 3
20757: GO 20737
20759: POP
20760: POP
// ptech = [ 39 , 49 , 6 , 51 , 17 , 42 , 70 ] ;
20761: LD_ADDR_VAR 0 4
20765: PUSH
20766: LD_INT 39
20768: PUSH
20769: LD_INT 49
20771: PUSH
20772: LD_INT 6
20774: PUSH
20775: LD_INT 51
20777: PUSH
20778: LD_INT 17
20780: PUSH
20781: LD_INT 42
20783: PUSH
20784: LD_INT 70
20786: PUSH
20787: EMPTY
20788: LIST
20789: LIST
20790: LIST
20791: LIST
20792: LIST
20793: LIST
20794: LIST
20795: ST_TO_ADDR
// for i in ptech do
20796: LD_ADDR_VAR 0 6
20800: PUSH
20801: LD_VAR 0 4
20805: PUSH
20806: FOR_IN
20807: IFFALSE 20828
// EnableTech ( i , side , state_enabled ) ;
20809: LD_VAR 0 6
20813: PPUSH
20814: LD_VAR 0 1
20818: PPUSH
20819: LD_INT 1
20821: PPUSH
20822: CALL 22378 0 3
20826: GO 20806
20828: POP
20829: POP
// end ; 3 :
20830: GO 20978
20832: LD_INT 3
20834: DOUBLE
20835: EQUAL
20836: IFTRUE 20840
20838: GO 20977
20840: POP
// begin pbudovy = [ 3 , 32 , 19 , 5 , 14 , 30 ] ;
20841: LD_ADDR_VAR 0 5
20845: PUSH
20846: LD_INT 3
20848: PUSH
20849: LD_INT 32
20851: PUSH
20852: LD_INT 19
20854: PUSH
20855: LD_INT 5
20857: PUSH
20858: LD_INT 14
20860: PUSH
20861: LD_INT 30
20863: PUSH
20864: EMPTY
20865: LIST
20866: LIST
20867: LIST
20868: LIST
20869: LIST
20870: LIST
20871: ST_TO_ADDR
// for i in pbudovy do
20872: LD_ADDR_VAR 0 6
20876: PUSH
20877: LD_VAR 0 5
20881: PUSH
20882: FOR_IN
20883: IFFALSE 20904
// EnableBuilding ( i , side , state_enabled ) ;
20885: LD_VAR 0 6
20889: PPUSH
20890: LD_VAR 0 1
20894: PPUSH
20895: LD_INT 1
20897: PPUSH
20898: CALL 22457 0 3
20902: GO 20882
20904: POP
20905: POP
// ptech = [ 39 , 49 , 69 , 40 , 30 , 11 , 20 ] ;
20906: LD_ADDR_VAR 0 4
20910: PUSH
20911: LD_INT 39
20913: PUSH
20914: LD_INT 49
20916: PUSH
20917: LD_INT 69
20919: PUSH
20920: LD_INT 40
20922: PUSH
20923: LD_INT 30
20925: PUSH
20926: LD_INT 11
20928: PUSH
20929: LD_INT 20
20931: PUSH
20932: EMPTY
20933: LIST
20934: LIST
20935: LIST
20936: LIST
20937: LIST
20938: LIST
20939: LIST
20940: ST_TO_ADDR
// for i in ptech do
20941: LD_ADDR_VAR 0 6
20945: PUSH
20946: LD_VAR 0 4
20950: PUSH
20951: FOR_IN
20952: IFFALSE 20973
// EnableTech ( i , side , state_enabled ) ;
20954: LD_VAR 0 6
20958: PPUSH
20959: LD_VAR 0 1
20963: PPUSH
20964: LD_INT 1
20966: PPUSH
20967: CALL 22378 0 3
20971: GO 20951
20973: POP
20974: POP
// end ; end ;
20975: GO 20978
20977: POP
// Tech_Level = 3 ;
20978: LD_ADDR_EXP 56
20982: PUSH
20983: LD_INT 3
20985: ST_TO_ADDR
// end ;
20986: LD_VAR 0 2
20990: RET
// function ur_4 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
20991: LD_INT 0
20993: PPUSH
20994: PPUSH
20995: PPUSH
20996: PPUSH
20997: PPUSH
// narodnost := Side_Nations [ side ] ;
20998: LD_ADDR_VAR 0 3
21002: PUSH
21003: LD_EXP 76
21007: PUSH
21008: LD_VAR 0 1
21012: ARRAY
21013: ST_TO_ADDR
// case narodnost of 1 :
21014: LD_VAR 0 3
21018: PUSH
21019: LD_INT 1
21021: DOUBLE
21022: EQUAL
21023: IFTRUE 21027
21025: GO 21164
21027: POP
// begin pbudovy = [ 30 , 12 , 11 , 1 ] ;
21028: LD_ADDR_VAR 0 5
21032: PUSH
21033: LD_INT 30
21035: PUSH
21036: LD_INT 12
21038: PUSH
21039: LD_INT 11
21041: PUSH
21042: LD_INT 1
21044: PUSH
21045: EMPTY
21046: LIST
21047: LIST
21048: LIST
21049: LIST
21050: ST_TO_ADDR
// for i in pbudovy do
21051: LD_ADDR_VAR 0 6
21055: PUSH
21056: LD_VAR 0 5
21060: PUSH
21061: FOR_IN
21062: IFFALSE 21083
// EnableBuilding ( i , side , state_enabled ) ;
21064: LD_VAR 0 6
21068: PPUSH
21069: LD_VAR 0 1
21073: PPUSH
21074: LD_INT 1
21076: PPUSH
21077: CALL 22457 0 3
21081: GO 21061
21083: POP
21084: POP
// ptech = [ 21 , 22 , 7 , 20 , 32 , 40 , 10 , 60 , 52 ] ;
21085: LD_ADDR_VAR 0 4
21089: PUSH
21090: LD_INT 21
21092: PUSH
21093: LD_INT 22
21095: PUSH
21096: LD_INT 7
21098: PUSH
21099: LD_INT 20
21101: PUSH
21102: LD_INT 32
21104: PUSH
21105: LD_INT 40
21107: PUSH
21108: LD_INT 10
21110: PUSH
21111: LD_INT 60
21113: PUSH
21114: LD_INT 52
21116: PUSH
21117: EMPTY
21118: LIST
21119: LIST
21120: LIST
21121: LIST
21122: LIST
21123: LIST
21124: LIST
21125: LIST
21126: LIST
21127: ST_TO_ADDR
// for i in ptech do
21128: LD_ADDR_VAR 0 6
21132: PUSH
21133: LD_VAR 0 4
21137: PUSH
21138: FOR_IN
21139: IFFALSE 21160
// EnableTech ( i , side , state_enabled ) ;
21141: LD_VAR 0 6
21145: PPUSH
21146: LD_VAR 0 1
21150: PPUSH
21151: LD_INT 1
21153: PPUSH
21154: CALL 22378 0 3
21158: GO 21138
21160: POP
21161: POP
// end ; 2 :
21162: GO 21455
21164: LD_INT 2
21166: DOUBLE
21167: EQUAL
21168: IFTRUE 21172
21170: GO 21313
21172: POP
// begin pbudovy = [ 30 , 11 , 13 , 1 ] ;
21173: LD_ADDR_VAR 0 5
21177: PUSH
21178: LD_INT 30
21180: PUSH
21181: LD_INT 11
21183: PUSH
21184: LD_INT 13
21186: PUSH
21187: LD_INT 1
21189: PUSH
21190: EMPTY
21191: LIST
21192: LIST
21193: LIST
21194: LIST
21195: ST_TO_ADDR
// for i in pbudovy do
21196: LD_ADDR_VAR 0 6
21200: PUSH
21201: LD_VAR 0 5
21205: PUSH
21206: FOR_IN
21207: IFFALSE 21228
// EnableBuilding ( i , side , state_enabled ) ;
21209: LD_VAR 0 6
21213: PPUSH
21214: LD_VAR 0 1
21218: PPUSH
21219: LD_INT 1
21221: PPUSH
21222: CALL 22457 0 3
21226: GO 21206
21228: POP
21229: POP
// ptech = [ 21 , 22 , 3 , 5 , 7 , 60 , 40 , 41 , 20 , 52 ] ;
21230: LD_ADDR_VAR 0 4
21234: PUSH
21235: LD_INT 21
21237: PUSH
21238: LD_INT 22
21240: PUSH
21241: LD_INT 3
21243: PUSH
21244: LD_INT 5
21246: PUSH
21247: LD_INT 7
21249: PUSH
21250: LD_INT 60
21252: PUSH
21253: LD_INT 40
21255: PUSH
21256: LD_INT 41
21258: PUSH
21259: LD_INT 20
21261: PUSH
21262: LD_INT 52
21264: PUSH
21265: EMPTY
21266: LIST
21267: LIST
21268: LIST
21269: LIST
21270: LIST
21271: LIST
21272: LIST
21273: LIST
21274: LIST
21275: LIST
21276: ST_TO_ADDR
// for i in ptech do
21277: LD_ADDR_VAR 0 6
21281: PUSH
21282: LD_VAR 0 4
21286: PUSH
21287: FOR_IN
21288: IFFALSE 21309
// EnableTech ( i , side , state_enabled ) ;
21290: LD_VAR 0 6
21294: PPUSH
21295: LD_VAR 0 1
21299: PPUSH
21300: LD_INT 1
21302: PPUSH
21303: CALL 22378 0 3
21307: GO 21287
21309: POP
21310: POP
// end ; 3 :
21311: GO 21455
21313: LD_INT 3
21315: DOUBLE
21316: EQUAL
21317: IFTRUE 21321
21319: GO 21454
21321: POP
// begin pbudovy = [ 12 , 11 , 16 , 1 ] ;
21322: LD_ADDR_VAR 0 5
21326: PUSH
21327: LD_INT 12
21329: PUSH
21330: LD_INT 11
21332: PUSH
21333: LD_INT 16
21335: PUSH
21336: LD_INT 1
21338: PUSH
21339: EMPTY
21340: LIST
21341: LIST
21342: LIST
21343: LIST
21344: ST_TO_ADDR
// for i in pbudovy do
21345: LD_ADDR_VAR 0 6
21349: PUSH
21350: LD_VAR 0 5
21354: PUSH
21355: FOR_IN
21356: IFFALSE 21377
// EnableBuilding ( i , side , state_enabled ) ;
21358: LD_VAR 0 6
21362: PPUSH
21363: LD_VAR 0 1
21367: PPUSH
21368: LD_INT 1
21370: PPUSH
21371: CALL 22457 0 3
21375: GO 21355
21377: POP
21378: POP
// ptech = [ 21 , 22 , 44 , 9 , 37 , 32 , 63 , 52 ] ;
21379: LD_ADDR_VAR 0 4
21383: PUSH
21384: LD_INT 21
21386: PUSH
21387: LD_INT 22
21389: PUSH
21390: LD_INT 44
21392: PUSH
21393: LD_INT 9
21395: PUSH
21396: LD_INT 37
21398: PUSH
21399: LD_INT 32
21401: PUSH
21402: LD_INT 63
21404: PUSH
21405: LD_INT 52
21407: PUSH
21408: EMPTY
21409: LIST
21410: LIST
21411: LIST
21412: LIST
21413: LIST
21414: LIST
21415: LIST
21416: LIST
21417: ST_TO_ADDR
// for i in ptech do
21418: LD_ADDR_VAR 0 6
21422: PUSH
21423: LD_VAR 0 4
21427: PUSH
21428: FOR_IN
21429: IFFALSE 21450
// EnableTech ( i , side , state_enabled ) ;
21431: LD_VAR 0 6
21435: PPUSH
21436: LD_VAR 0 1
21440: PPUSH
21441: LD_INT 1
21443: PPUSH
21444: CALL 22378 0 3
21448: GO 21428
21450: POP
21451: POP
// end ; end ;
21452: GO 21455
21454: POP
// Tech_Level = 4 ;
21455: LD_ADDR_EXP 56
21459: PUSH
21460: LD_INT 4
21462: ST_TO_ADDR
// end ;
21463: LD_VAR 0 2
21467: RET
// function ur_5 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
21468: LD_INT 0
21470: PPUSH
21471: PPUSH
21472: PPUSH
21473: PPUSH
21474: PPUSH
// narodnost := Side_Nations [ side ] ;
21475: LD_ADDR_VAR 0 3
21479: PUSH
21480: LD_EXP 76
21484: PUSH
21485: LD_VAR 0 1
21489: ARRAY
21490: ST_TO_ADDR
// case narodnost of 1 :
21491: LD_VAR 0 3
21495: PUSH
21496: LD_INT 1
21498: DOUBLE
21499: EQUAL
21500: IFTRUE 21504
21502: GO 21576
21504: POP
// begin ptech = [ 50 , 54 , 15 , 13 , 34 , 36 , 57 ] ;
21505: LD_ADDR_VAR 0 4
21509: PUSH
21510: LD_INT 50
21512: PUSH
21513: LD_INT 54
21515: PUSH
21516: LD_INT 15
21518: PUSH
21519: LD_INT 13
21521: PUSH
21522: LD_INT 34
21524: PUSH
21525: LD_INT 36
21527: PUSH
21528: LD_INT 57
21530: PUSH
21531: EMPTY
21532: LIST
21533: LIST
21534: LIST
21535: LIST
21536: LIST
21537: LIST
21538: LIST
21539: ST_TO_ADDR
// for i in ptech do
21540: LD_ADDR_VAR 0 6
21544: PUSH
21545: LD_VAR 0 4
21549: PUSH
21550: FOR_IN
21551: IFFALSE 21572
// EnableTech ( i , side , state_enabled ) ;
21553: LD_VAR 0 6
21557: PPUSH
21558: LD_VAR 0 1
21562: PPUSH
21563: LD_INT 1
21565: PPUSH
21566: CALL 22378 0 3
21570: GO 21550
21572: POP
21573: POP
// end ; 2 :
21574: GO 21749
21576: LD_INT 2
21578: DOUBLE
21579: EQUAL
21580: IFTRUE 21584
21582: GO 21656
21584: POP
// begin ptech = [ 50 , 54 , 66 , 18 , 15 , 43 , 26 , ] ;
21585: LD_ADDR_VAR 0 4
21589: PUSH
21590: LD_INT 50
21592: PUSH
21593: LD_INT 54
21595: PUSH
21596: LD_INT 66
21598: PUSH
21599: LD_INT 18
21601: PUSH
21602: LD_INT 15
21604: PUSH
21605: LD_INT 43
21607: PUSH
21608: LD_INT 26
21610: PUSH
21611: EMPTY
21612: LIST
21613: LIST
21614: LIST
21615: LIST
21616: LIST
21617: LIST
21618: LIST
21619: ST_TO_ADDR
// for i in ptech do
21620: LD_ADDR_VAR 0 6
21624: PUSH
21625: LD_VAR 0 4
21629: PUSH
21630: FOR_IN
21631: IFFALSE 21652
// EnableTech ( i , side , state_enabled ) ;
21633: LD_VAR 0 6
21637: PPUSH
21638: LD_VAR 0 1
21642: PPUSH
21643: LD_INT 1
21645: PPUSH
21646: CALL 22378 0 3
21650: GO 21630
21652: POP
21653: POP
// end ; 3 :
21654: GO 21749
21656: LD_INT 3
21658: DOUBLE
21659: EQUAL
21660: IFTRUE 21664
21662: GO 21748
21664: POP
// begin ptech = [ 50 , 54 , 57 , 29 , 28 , 33 , 34 , 19 , 27 , 38 ] ;
21665: LD_ADDR_VAR 0 4
21669: PUSH
21670: LD_INT 50
21672: PUSH
21673: LD_INT 54
21675: PUSH
21676: LD_INT 57
21678: PUSH
21679: LD_INT 29
21681: PUSH
21682: LD_INT 28
21684: PUSH
21685: LD_INT 33
21687: PUSH
21688: LD_INT 34
21690: PUSH
21691: LD_INT 19
21693: PUSH
21694: LD_INT 27
21696: PUSH
21697: LD_INT 38
21699: PUSH
21700: EMPTY
21701: LIST
21702: LIST
21703: LIST
21704: LIST
21705: LIST
21706: LIST
21707: LIST
21708: LIST
21709: LIST
21710: LIST
21711: ST_TO_ADDR
// for i in ptech do
21712: LD_ADDR_VAR 0 6
21716: PUSH
21717: LD_VAR 0 4
21721: PUSH
21722: FOR_IN
21723: IFFALSE 21744
// EnableTech ( i , side , state_enabled ) ;
21725: LD_VAR 0 6
21729: PPUSH
21730: LD_VAR 0 1
21734: PPUSH
21735: LD_INT 1
21737: PPUSH
21738: CALL 22378 0 3
21742: GO 21722
21744: POP
21745: POP
// end ; end ;
21746: GO 21749
21748: POP
// Tech_Level = 5 ;
21749: LD_ADDR_EXP 56
21753: PUSH
21754: LD_INT 5
21756: ST_TO_ADDR
// end ;
21757: LD_VAR 0 2
21761: RET
// function ur_6 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
21762: LD_INT 0
21764: PPUSH
21765: PPUSH
21766: PPUSH
21767: PPUSH
21768: PPUSH
// narodnost := Side_Nations [ side ] ;
21769: LD_ADDR_VAR 0 3
21773: PUSH
21774: LD_EXP 76
21778: PUSH
21779: LD_VAR 0 1
21783: ARRAY
21784: ST_TO_ADDR
// case narodnost of 1 :
21785: LD_VAR 0 3
21789: PUSH
21790: LD_INT 1
21792: DOUBLE
21793: EQUAL
21794: IFTRUE 21798
21796: GO 21866
21798: POP
// begin ptech = [ 53 , 55 , 16 , 61 , 58 , 27 ] ;
21799: LD_ADDR_VAR 0 4
21803: PUSH
21804: LD_INT 53
21806: PUSH
21807: LD_INT 55
21809: PUSH
21810: LD_INT 16
21812: PUSH
21813: LD_INT 61
21815: PUSH
21816: LD_INT 58
21818: PUSH
21819: LD_INT 27
21821: PUSH
21822: EMPTY
21823: LIST
21824: LIST
21825: LIST
21826: LIST
21827: LIST
21828: LIST
21829: ST_TO_ADDR
// for i in ptech do
21830: LD_ADDR_VAR 0 6
21834: PUSH
21835: LD_VAR 0 4
21839: PUSH
21840: FOR_IN
21841: IFFALSE 21862
// EnableTech ( i , side , state_enabled ) ;
21843: LD_VAR 0 6
21847: PPUSH
21848: LD_VAR 0 1
21852: PPUSH
21853: LD_INT 1
21855: PPUSH
21856: CALL 22378 0 3
21860: GO 21840
21862: POP
21863: POP
// end ; 2 :
21864: GO 22019
21866: LD_INT 2
21868: DOUBLE
21869: EQUAL
21870: IFTRUE 21874
21872: GO 21942
21874: POP
// begin ptech = [ 53 , 55 , 61 , 67 , 4 , 8 ] ;
21875: LD_ADDR_VAR 0 4
21879: PUSH
21880: LD_INT 53
21882: PUSH
21883: LD_INT 55
21885: PUSH
21886: LD_INT 61
21888: PUSH
21889: LD_INT 67
21891: PUSH
21892: LD_INT 4
21894: PUSH
21895: LD_INT 8
21897: PUSH
21898: EMPTY
21899: LIST
21900: LIST
21901: LIST
21902: LIST
21903: LIST
21904: LIST
21905: ST_TO_ADDR
// for i in ptech do
21906: LD_ADDR_VAR 0 6
21910: PUSH
21911: LD_VAR 0 4
21915: PUSH
21916: FOR_IN
21917: IFFALSE 21938
// EnableTech ( i , side , state_enabled ) ;
21919: LD_VAR 0 6
21923: PPUSH
21924: LD_VAR 0 1
21928: PPUSH
21929: LD_INT 1
21931: PPUSH
21932: CALL 22378 0 3
21936: GO 21916
21938: POP
21939: POP
// end ; 3 :
21940: GO 22019
21942: LD_INT 3
21944: DOUBLE
21945: EQUAL
21946: IFTRUE 21950
21948: GO 22018
21950: POP
// begin ptech = [ 53 , 55 , 58 , 64 , 71 , 31 ] ;
21951: LD_ADDR_VAR 0 4
21955: PUSH
21956: LD_INT 53
21958: PUSH
21959: LD_INT 55
21961: PUSH
21962: LD_INT 58
21964: PUSH
21965: LD_INT 64
21967: PUSH
21968: LD_INT 71
21970: PUSH
21971: LD_INT 31
21973: PUSH
21974: EMPTY
21975: LIST
21976: LIST
21977: LIST
21978: LIST
21979: LIST
21980: LIST
21981: ST_TO_ADDR
// for i in ptech do
21982: LD_ADDR_VAR 0 6
21986: PUSH
21987: LD_VAR 0 4
21991: PUSH
21992: FOR_IN
21993: IFFALSE 22014
// EnableTech ( i , side , state_enabled ) ;
21995: LD_VAR 0 6
21999: PPUSH
22000: LD_VAR 0 1
22004: PPUSH
22005: LD_INT 1
22007: PPUSH
22008: CALL 22378 0 3
22012: GO 21992
22014: POP
22015: POP
// end ; end ;
22016: GO 22019
22018: POP
// Tech_Level = 6 ;
22019: LD_ADDR_EXP 56
22023: PUSH
22024: LD_INT 6
22026: ST_TO_ADDR
// end ;
22027: LD_VAR 0 2
22031: RET
// function ur_7 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
22032: LD_INT 0
22034: PPUSH
22035: PPUSH
22036: PPUSH
22037: PPUSH
22038: PPUSH
// narodnost := Side_Nations [ side ] ;
22039: LD_ADDR_VAR 0 3
22043: PUSH
22044: LD_EXP 76
22048: PUSH
22049: LD_VAR 0 1
22053: ARRAY
22054: ST_TO_ADDR
// case narodnost of 1 :
22055: LD_VAR 0 3
22059: PUSH
22060: LD_INT 1
22062: DOUBLE
22063: EQUAL
22064: IFTRUE 22068
22066: GO 22128
22068: POP
// begin ptech = [ 56 , 62 , 59 , 14 ] ;
22069: LD_ADDR_VAR 0 4
22073: PUSH
22074: LD_INT 56
22076: PUSH
22077: LD_INT 62
22079: PUSH
22080: LD_INT 59
22082: PUSH
22083: LD_INT 14
22085: PUSH
22086: EMPTY
22087: LIST
22088: LIST
22089: LIST
22090: LIST
22091: ST_TO_ADDR
// for i in ptech do
22092: LD_ADDR_VAR 0 6
22096: PUSH
22097: LD_VAR 0 4
22101: PUSH
22102: FOR_IN
22103: IFFALSE 22124
// EnableTech ( i , side , state_enabled ) ;
22105: LD_VAR 0 6
22109: PPUSH
22110: LD_VAR 0 1
22114: PPUSH
22115: LD_INT 1
22117: PPUSH
22118: CALL 22378 0 3
22122: GO 22102
22124: POP
22125: POP
// end ; 2 :
22126: GO 22265
22128: LD_INT 2
22130: DOUBLE
22131: EQUAL
22132: IFTRUE 22136
22134: GO 22196
22136: POP
// begin ptech = [ 56 , 62 , 68 , 72 ] ;
22137: LD_ADDR_VAR 0 4
22141: PUSH
22142: LD_INT 56
22144: PUSH
22145: LD_INT 62
22147: PUSH
22148: LD_INT 68
22150: PUSH
22151: LD_INT 72
22153: PUSH
22154: EMPTY
22155: LIST
22156: LIST
22157: LIST
22158: LIST
22159: ST_TO_ADDR
// for i in ptech do
22160: LD_ADDR_VAR 0 6
22164: PUSH
22165: LD_VAR 0 4
22169: PUSH
22170: FOR_IN
22171: IFFALSE 22192
// EnableTech ( i , side , state_enabled ) ;
22173: LD_VAR 0 6
22177: PPUSH
22178: LD_VAR 0 1
22182: PPUSH
22183: LD_INT 1
22185: PPUSH
22186: CALL 22378 0 3
22190: GO 22170
22192: POP
22193: POP
// end ; 3 :
22194: GO 22265
22196: LD_INT 3
22198: DOUBLE
22199: EQUAL
22200: IFTRUE 22204
22202: GO 22264
22204: POP
// begin ptech = [ 56 , 59 , 65 , 23 ] ;
22205: LD_ADDR_VAR 0 4
22209: PUSH
22210: LD_INT 56
22212: PUSH
22213: LD_INT 59
22215: PUSH
22216: LD_INT 65
22218: PUSH
22219: LD_INT 23
22221: PUSH
22222: EMPTY
22223: LIST
22224: LIST
22225: LIST
22226: LIST
22227: ST_TO_ADDR
// for i in ptech do
22228: LD_ADDR_VAR 0 6
22232: PUSH
22233: LD_VAR 0 4
22237: PUSH
22238: FOR_IN
22239: IFFALSE 22260
// EnableTech ( i , side , state_enabled ) ;
22241: LD_VAR 0 6
22245: PPUSH
22246: LD_VAR 0 1
22250: PPUSH
22251: LD_INT 1
22253: PPUSH
22254: CALL 22378 0 3
22258: GO 22238
22260: POP
22261: POP
// end ; end ;
22262: GO 22265
22264: POP
// Tech_Level = 7 ;
22265: LD_ADDR_EXP 56
22269: PUSH
22270: LD_INT 7
22272: ST_TO_ADDR
// end ;
22273: LD_VAR 0 2
22277: RET
// function ur_8 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
22278: LD_INT 0
22280: PPUSH
22281: PPUSH
22282: PPUSH
22283: PPUSH
22284: PPUSH
// narodnost := Side_Nations [ side ] ;
22285: LD_ADDR_VAR 0 3
22289: PUSH
22290: LD_EXP 76
22294: PUSH
22295: LD_VAR 0 1
22299: ARRAY
22300: ST_TO_ADDR
// case narodnost of 1 , 3 :
22301: LD_VAR 0 3
22305: PUSH
22306: LD_INT 1
22308: DOUBLE
22309: EQUAL
22310: IFTRUE 22320
22312: LD_INT 3
22314: DOUBLE
22315: EQUAL
22316: IFTRUE 22320
22318: GO 22338
22320: POP
// EnableTech ( 25 , side , state_enabled ) ; 2 :
22321: LD_INT 25
22323: PPUSH
22324: LD_VAR 0 1
22328: PPUSH
22329: LD_INT 1
22331: PPUSH
22332: CALL 22378 0 3
22336: GO 22365
22338: LD_INT 2
22340: DOUBLE
22341: EQUAL
22342: IFTRUE 22346
22344: GO 22364
22346: POP
// EnableTech ( 73 , side , state_enabled ) ; end ;
22347: LD_INT 73
22349: PPUSH
22350: LD_VAR 0 1
22354: PPUSH
22355: LD_INT 1
22357: PPUSH
22358: CALL 22378 0 3
22362: GO 22365
22364: POP
// Tech_Level = 8 ;
22365: LD_ADDR_EXP 56
22369: PUSH
22370: LD_INT 8
22372: ST_TO_ADDR
// end ;
22373: LD_VAR 0 2
22377: RET
// function EnableTech ( id , side , state ) ; begin
22378: LD_INT 0
22380: PPUSH
// if state in [ state_enabled , state_researched ] then
22381: LD_VAR 0 3
22385: PUSH
22386: LD_INT 1
22388: PUSH
22389: LD_INT 2
22391: PUSH
22392: EMPTY
22393: LIST
22394: LIST
22395: IN
22396: IFFALSE 22433
// begin if GetRestrictions ( false , id ) then
22398: LD_INT 0
22400: PPUSH
22401: LD_VAR 0 1
22405: PPUSH
22406: CALL_OW 565
22410: IFFALSE 22431
// SetTech ( id , side , state ) ;
22412: LD_VAR 0 1
22416: PPUSH
22417: LD_VAR 0 2
22421: PPUSH
22422: LD_VAR 0 3
22426: PPUSH
22427: CALL_OW 322
// end else
22431: GO 22452
// setTech ( id , side , state ) ;
22433: LD_VAR 0 1
22437: PPUSH
22438: LD_VAR 0 2
22442: PPUSH
22443: LD_VAR 0 3
22447: PPUSH
22448: CALL_OW 322
// end ;
22452: LD_VAR 0 4
22456: RET
// function EnableBuilding ( id , side , state ) ; begin
22457: LD_INT 0
22459: PPUSH
// if state in [ state_enabled ] then
22460: LD_VAR 0 3
22464: PUSH
22465: LD_INT 1
22467: PUSH
22468: EMPTY
22469: LIST
22470: IN
22471: IFFALSE 22508
// begin if GetRestrictions ( true , id ) then
22473: LD_INT 1
22475: PPUSH
22476: LD_VAR 0 1
22480: PPUSH
22481: CALL_OW 565
22485: IFFALSE 22506
// SetRestrict ( id , side , state ) ;
22487: LD_VAR 0 1
22491: PPUSH
22492: LD_VAR 0 2
22496: PPUSH
22497: LD_VAR 0 3
22501: PPUSH
22502: CALL_OW 324
// end else
22506: GO 22527
// SetRestrict ( id , side , state ) ;
22508: LD_VAR 0 1
22512: PPUSH
22513: LD_VAR 0 2
22517: PPUSH
22518: LD_VAR 0 3
22522: PPUSH
22523: CALL_OW 324
// end ; end_of_file
22527: LD_VAR 0 4
22531: RET
// var win ; export function init_kings_counting ; var i ; begin
22532: LD_INT 0
22534: PPUSH
22535: PPUSH
// mp_with_score := true ;
22536: LD_ADDR_OWVAR 14
22540: PUSH
22541: LD_INT 1
22543: ST_TO_ADDR
// ResetMultiScore ;
22544: CALL_OW 508
// SetAreaMapShow ( king_territory , true ) ;
22548: LD_EXP 92
22552: PPUSH
22553: LD_INT 1
22555: PPUSH
22556: CALL_OW 424
// enable ( 2 ) ;
22560: LD_INT 2
22562: ENABLE_MARKED
// end ;
22563: LD_VAR 0 1
22567: RET
// function show_public_points ; var side , vypis , i , red , blue , yel , green , p ; begin
22568: LD_INT 0
22570: PPUSH
22571: PPUSH
22572: PPUSH
22573: PPUSH
22574: PPUSH
22575: PPUSH
22576: PPUSH
22577: PPUSH
22578: PPUSH
// vypis := [ ] ;
22579: LD_ADDR_VAR 0 3
22583: PUSH
22584: EMPTY
22585: ST_TO_ADDR
// red = 0 ;
22586: LD_ADDR_VAR 0 5
22590: PUSH
22591: LD_INT 0
22593: ST_TO_ADDR
// blue = 0 ;
22594: LD_ADDR_VAR 0 6
22598: PUSH
22599: LD_INT 0
22601: ST_TO_ADDR
// yel = 0 ;
22602: LD_ADDR_VAR 0 7
22606: PUSH
22607: LD_INT 0
22609: ST_TO_ADDR
// green = 0 ;
22610: LD_ADDR_VAR 0 8
22614: PUSH
22615: LD_INT 0
22617: ST_TO_ADDR
// if def_public_score or isSGUI then
22618: LD_EXP 34
22622: PUSH
22623: LD_OWVAR 83
22627: OR
22628: IFFALSE 23225
// if not Team_Game then
22630: LD_EXP 80
22634: NOT
22635: IFFALSE 22757
// begin for side = 1 to Side_Positions do
22637: LD_ADDR_VAR 0 2
22641: PUSH
22642: DOUBLE
22643: LD_INT 1
22645: DEC
22646: ST_TO_ADDR
22647: LD_EXP 75
22651: PUSH
22652: FOR_TO
22653: IFFALSE 22753
// if Side_Positions [ side ] then
22655: LD_EXP 75
22659: PUSH
22660: LD_VAR 0 2
22664: ARRAY
22665: IFFALSE 22751
// begin vypis := vypis ^ [ #KingoftheHill-Public , side , side , ( GetTag ( side + 10 ) div 3 ) , final_count ] ;
22667: LD_ADDR_VAR 0 3
22671: PUSH
22672: LD_VAR 0 3
22676: PUSH
22677: LD_STRING #KingoftheHill-Public
22679: PUSH
22680: LD_VAR 0 2
22684: PUSH
22685: LD_VAR 0 2
22689: PUSH
22690: LD_VAR 0 2
22694: PUSH
22695: LD_INT 10
22697: PLUS
22698: PPUSH
22699: CALL_OW 110
22703: PUSH
22704: LD_INT 3
22706: DIV
22707: PUSH
22708: LD_EXP 57
22712: PUSH
22713: EMPTY
22714: LIST
22715: LIST
22716: LIST
22717: LIST
22718: LIST
22719: ADD
22720: ST_TO_ADDR
// LScore_Update_Points ( 2 , side , ( GetTag ( side + 10 ) div 3 ) ) ;
22721: LD_INT 2
22723: PPUSH
22724: LD_VAR 0 2
22728: PPUSH
22729: LD_VAR 0 2
22733: PUSH
22734: LD_INT 10
22736: PLUS
22737: PPUSH
22738: CALL_OW 110
22742: PUSH
22743: LD_INT 3
22745: DIV
22746: PPUSH
22747: CALL 36717 0 3
// end ;
22751: GO 22652
22753: POP
22754: POP
// end else
22755: GO 23223
// begin if Teams [ 1 ] then
22757: LD_EXP 73
22761: PUSH
22762: LD_INT 1
22764: ARRAY
22765: IFFALSE 22817
// for i in Teams [ 1 ] do
22767: LD_ADDR_VAR 0 4
22771: PUSH
22772: LD_EXP 73
22776: PUSH
22777: LD_INT 1
22779: ARRAY
22780: PUSH
22781: FOR_IN
22782: IFFALSE 22815
// red = red + ( GetTag ( i + 10 ) div 3 ) ;
22784: LD_ADDR_VAR 0 5
22788: PUSH
22789: LD_VAR 0 5
22793: PUSH
22794: LD_VAR 0 4
22798: PUSH
22799: LD_INT 10
22801: PLUS
22802: PPUSH
22803: CALL_OW 110
22807: PUSH
22808: LD_INT 3
22810: DIV
22811: PLUS
22812: ST_TO_ADDR
22813: GO 22781
22815: POP
22816: POP
// if Teams [ 2 ] then
22817: LD_EXP 73
22821: PUSH
22822: LD_INT 2
22824: ARRAY
22825: IFFALSE 22877
// for i in Teams [ 2 ] do
22827: LD_ADDR_VAR 0 4
22831: PUSH
22832: LD_EXP 73
22836: PUSH
22837: LD_INT 2
22839: ARRAY
22840: PUSH
22841: FOR_IN
22842: IFFALSE 22875
// blue = blue + ( GetTag ( i + 10 ) div 3 ) ;
22844: LD_ADDR_VAR 0 6
22848: PUSH
22849: LD_VAR 0 6
22853: PUSH
22854: LD_VAR 0 4
22858: PUSH
22859: LD_INT 10
22861: PLUS
22862: PPUSH
22863: CALL_OW 110
22867: PUSH
22868: LD_INT 3
22870: DIV
22871: PLUS
22872: ST_TO_ADDR
22873: GO 22841
22875: POP
22876: POP
// if Teams [ 3 ] then
22877: LD_EXP 73
22881: PUSH
22882: LD_INT 3
22884: ARRAY
22885: IFFALSE 22937
// for i in Teams [ 3 ] do
22887: LD_ADDR_VAR 0 4
22891: PUSH
22892: LD_EXP 73
22896: PUSH
22897: LD_INT 3
22899: ARRAY
22900: PUSH
22901: FOR_IN
22902: IFFALSE 22935
// yel = yel + ( GetTag ( i + 10 ) div 3 ) ;
22904: LD_ADDR_VAR 0 7
22908: PUSH
22909: LD_VAR 0 7
22913: PUSH
22914: LD_VAR 0 4
22918: PUSH
22919: LD_INT 10
22921: PLUS
22922: PPUSH
22923: CALL_OW 110
22927: PUSH
22928: LD_INT 3
22930: DIV
22931: PLUS
22932: ST_TO_ADDR
22933: GO 22901
22935: POP
22936: POP
// if Teams [ 4 ] then
22937: LD_EXP 73
22941: PUSH
22942: LD_INT 4
22944: ARRAY
22945: IFFALSE 22997
// for i in Teams [ 4 ] do
22947: LD_ADDR_VAR 0 4
22951: PUSH
22952: LD_EXP 73
22956: PUSH
22957: LD_INT 4
22959: ARRAY
22960: PUSH
22961: FOR_IN
22962: IFFALSE 22995
// green = green + ( GetTag ( i + 10 ) div 3 ) ;
22964: LD_ADDR_VAR 0 8
22968: PUSH
22969: LD_VAR 0 8
22973: PUSH
22974: LD_VAR 0 4
22978: PUSH
22979: LD_INT 10
22981: PLUS
22982: PPUSH
22983: CALL_OW 110
22987: PUSH
22988: LD_INT 3
22990: DIV
22991: PLUS
22992: ST_TO_ADDR
22993: GO 22961
22995: POP
22996: POP
// if Teams [ 1 ] then
22997: LD_EXP 73
23001: PUSH
23002: LD_INT 1
23004: ARRAY
23005: IFFALSE 23034
// vypis := [ #KingoftheHill-Public-red , 3 , Red , final_count ] ;
23007: LD_ADDR_VAR 0 3
23011: PUSH
23012: LD_STRING #KingoftheHill-Public-red
23014: PUSH
23015: LD_INT 3
23017: PUSH
23018: LD_VAR 0 5
23022: PUSH
23023: LD_EXP 57
23027: PUSH
23028: EMPTY
23029: LIST
23030: LIST
23031: LIST
23032: LIST
23033: ST_TO_ADDR
// if Teams [ 2 ] then
23034: LD_EXP 73
23038: PUSH
23039: LD_INT 2
23041: ARRAY
23042: IFFALSE 23077
// vypis := vypis ^ [ #KingoftheHill-Public-blue , 1 , Blue , final_count ] ;
23044: LD_ADDR_VAR 0 3
23048: PUSH
23049: LD_VAR 0 3
23053: PUSH
23054: LD_STRING #KingoftheHill-Public-blue
23056: PUSH
23057: LD_INT 1
23059: PUSH
23060: LD_VAR 0 6
23064: PUSH
23065: LD_EXP 57
23069: PUSH
23070: EMPTY
23071: LIST
23072: LIST
23073: LIST
23074: LIST
23075: ADD
23076: ST_TO_ADDR
// if Teams [ 3 ] then
23077: LD_EXP 73
23081: PUSH
23082: LD_INT 3
23084: ARRAY
23085: IFFALSE 23120
// vypis := vypis ^ [ #KingoftheHill-Public-yell , 2 , yel , final_count ] ;
23087: LD_ADDR_VAR 0 3
23091: PUSH
23092: LD_VAR 0 3
23096: PUSH
23097: LD_STRING #KingoftheHill-Public-yell
23099: PUSH
23100: LD_INT 2
23102: PUSH
23103: LD_VAR 0 7
23107: PUSH
23108: LD_EXP 57
23112: PUSH
23113: EMPTY
23114: LIST
23115: LIST
23116: LIST
23117: LIST
23118: ADD
23119: ST_TO_ADDR
// if Teams [ 4 ] then
23120: LD_EXP 73
23124: PUSH
23125: LD_INT 4
23127: ARRAY
23128: IFFALSE 23163
// vypis := vypis ^ [ #KingoftheHill-Public-green , 7 , green , final_count ] ;
23130: LD_ADDR_VAR 0 3
23134: PUSH
23135: LD_VAR 0 3
23139: PUSH
23140: LD_STRING #KingoftheHill-Public-green
23142: PUSH
23143: LD_INT 7
23145: PUSH
23146: LD_VAR 0 8
23150: PUSH
23151: LD_EXP 57
23155: PUSH
23156: EMPTY
23157: LIST
23158: LIST
23159: LIST
23160: LIST
23161: ADD
23162: ST_TO_ADDR
// LScore_Update_Points ( 2 , 3 , red ) ;
23163: LD_INT 2
23165: PPUSH
23166: LD_INT 3
23168: PPUSH
23169: LD_VAR 0 5
23173: PPUSH
23174: CALL 36717 0 3
// LScore_Update_Points ( 2 , 1 , blue ) ;
23178: LD_INT 2
23180: PPUSH
23181: LD_INT 1
23183: PPUSH
23184: LD_VAR 0 6
23188: PPUSH
23189: CALL 36717 0 3
// LScore_Update_Points ( 2 , 2 , yel ) ;
23193: LD_INT 2
23195: PPUSH
23196: LD_INT 2
23198: PPUSH
23199: LD_VAR 0 7
23203: PPUSH
23204: CALL 36717 0 3
// LScore_Update_Points ( 2 , 7 , green ) ;
23208: LD_INT 2
23210: PPUSH
23211: LD_INT 7
23213: PPUSH
23214: LD_VAR 0 8
23218: PPUSH
23219: CALL 36717 0 3
// end else
23223: GO 23660
// if not Team_Game then
23225: LD_EXP 80
23229: NOT
23230: IFFALSE 23288
// vypis := vypis ^ [ #KingoftheHill-Private , your_side , your_side , ( GetTag ( side + 10 ) div 3 ) , final_count ] else
23232: LD_ADDR_VAR 0 3
23236: PUSH
23237: LD_VAR 0 3
23241: PUSH
23242: LD_STRING #KingoftheHill-Private
23244: PUSH
23245: LD_OWVAR 2
23249: PUSH
23250: LD_OWVAR 2
23254: PUSH
23255: LD_VAR 0 2
23259: PUSH
23260: LD_INT 10
23262: PLUS
23263: PPUSH
23264: CALL_OW 110
23268: PUSH
23269: LD_INT 3
23271: DIV
23272: PUSH
23273: LD_EXP 57
23277: PUSH
23278: EMPTY
23279: LIST
23280: LIST
23281: LIST
23282: LIST
23283: LIST
23284: ADD
23285: ST_TO_ADDR
23286: GO 23660
// begin for i in Teams [ 1 ] do
23288: LD_ADDR_VAR 0 4
23292: PUSH
23293: LD_EXP 73
23297: PUSH
23298: LD_INT 1
23300: ARRAY
23301: PUSH
23302: FOR_IN
23303: IFFALSE 23336
// red = red + ( GetTag ( i + 10 ) div 3 ) ;
23305: LD_ADDR_VAR 0 5
23309: PUSH
23310: LD_VAR 0 5
23314: PUSH
23315: LD_VAR 0 4
23319: PUSH
23320: LD_INT 10
23322: PLUS
23323: PPUSH
23324: CALL_OW 110
23328: PUSH
23329: LD_INT 3
23331: DIV
23332: PLUS
23333: ST_TO_ADDR
23334: GO 23302
23336: POP
23337: POP
// for i in Teams [ 2 ] do
23338: LD_ADDR_VAR 0 4
23342: PUSH
23343: LD_EXP 73
23347: PUSH
23348: LD_INT 2
23350: ARRAY
23351: PUSH
23352: FOR_IN
23353: IFFALSE 23386
// blue = blue + ( GetTag ( i + 10 ) div 3 ) ;
23355: LD_ADDR_VAR 0 6
23359: PUSH
23360: LD_VAR 0 6
23364: PUSH
23365: LD_VAR 0 4
23369: PUSH
23370: LD_INT 10
23372: PLUS
23373: PPUSH
23374: CALL_OW 110
23378: PUSH
23379: LD_INT 3
23381: DIV
23382: PLUS
23383: ST_TO_ADDR
23384: GO 23352
23386: POP
23387: POP
// for i in Teams [ 3 ] do
23388: LD_ADDR_VAR 0 4
23392: PUSH
23393: LD_EXP 73
23397: PUSH
23398: LD_INT 3
23400: ARRAY
23401: PUSH
23402: FOR_IN
23403: IFFALSE 23436
// yel = yel + ( GetTag ( i + 10 ) div 3 ) ;
23405: LD_ADDR_VAR 0 7
23409: PUSH
23410: LD_VAR 0 7
23414: PUSH
23415: LD_VAR 0 4
23419: PUSH
23420: LD_INT 10
23422: PLUS
23423: PPUSH
23424: CALL_OW 110
23428: PUSH
23429: LD_INT 3
23431: DIV
23432: PLUS
23433: ST_TO_ADDR
23434: GO 23402
23436: POP
23437: POP
// for i in Teams [ 4 ] do
23438: LD_ADDR_VAR 0 4
23442: PUSH
23443: LD_EXP 73
23447: PUSH
23448: LD_INT 4
23450: ARRAY
23451: PUSH
23452: FOR_IN
23453: IFFALSE 23486
// green = green + ( GetTag ( i + 10 ) div 3 ) ;
23455: LD_ADDR_VAR 0 8
23459: PUSH
23460: LD_VAR 0 8
23464: PUSH
23465: LD_VAR 0 4
23469: PUSH
23470: LD_INT 10
23472: PLUS
23473: PPUSH
23474: CALL_OW 110
23478: PUSH
23479: LD_INT 3
23481: DIV
23482: PLUS
23483: ST_TO_ADDR
23484: GO 23452
23486: POP
23487: POP
// if your_side in Teams [ 1 ] then
23488: LD_OWVAR 2
23492: PUSH
23493: LD_EXP 73
23497: PUSH
23498: LD_INT 1
23500: ARRAY
23501: IN
23502: IFFALSE 23531
// vypis := [ #KingoftheHill-Public-red , 3 , Red , final_count ] ;
23504: LD_ADDR_VAR 0 3
23508: PUSH
23509: LD_STRING #KingoftheHill-Public-red
23511: PUSH
23512: LD_INT 3
23514: PUSH
23515: LD_VAR 0 5
23519: PUSH
23520: LD_EXP 57
23524: PUSH
23525: EMPTY
23526: LIST
23527: LIST
23528: LIST
23529: LIST
23530: ST_TO_ADDR
// if your_side in Teams [ 2 ] then
23531: LD_OWVAR 2
23535: PUSH
23536: LD_EXP 73
23540: PUSH
23541: LD_INT 2
23543: ARRAY
23544: IN
23545: IFFALSE 23574
// vypis := [ #KingoftheHill-Public-blue , 1 , Blue , final_count ] ;
23547: LD_ADDR_VAR 0 3
23551: PUSH
23552: LD_STRING #KingoftheHill-Public-blue
23554: PUSH
23555: LD_INT 1
23557: PUSH
23558: LD_VAR 0 6
23562: PUSH
23563: LD_EXP 57
23567: PUSH
23568: EMPTY
23569: LIST
23570: LIST
23571: LIST
23572: LIST
23573: ST_TO_ADDR
// if your_side in Teams [ 3 ] then
23574: LD_OWVAR 2
23578: PUSH
23579: LD_EXP 73
23583: PUSH
23584: LD_INT 3
23586: ARRAY
23587: IN
23588: IFFALSE 23617
// vypis := [ #KingoftheHill-Public-yell , 2 , yel , final_count ] ;
23590: LD_ADDR_VAR 0 3
23594: PUSH
23595: LD_STRING #KingoftheHill-Public-yell
23597: PUSH
23598: LD_INT 2
23600: PUSH
23601: LD_VAR 0 7
23605: PUSH
23606: LD_EXP 57
23610: PUSH
23611: EMPTY
23612: LIST
23613: LIST
23614: LIST
23615: LIST
23616: ST_TO_ADDR
// if your_side in Teams [ 4 ] then
23617: LD_OWVAR 2
23621: PUSH
23622: LD_EXP 73
23626: PUSH
23627: LD_INT 4
23629: ARRAY
23630: IN
23631: IFFALSE 23660
// vypis := [ #KingoftheHill-Public-green , 7 , green , final_count ] ;
23633: LD_ADDR_VAR 0 3
23637: PUSH
23638: LD_STRING #KingoftheHill-Public-green
23640: PUSH
23641: LD_INT 7
23643: PUSH
23644: LD_VAR 0 8
23648: PUSH
23649: LD_EXP 57
23653: PUSH
23654: EMPTY
23655: LIST
23656: LIST
23657: LIST
23658: LIST
23659: ST_TO_ADDR
// end ; Display_kings := vypis ;
23660: LD_ADDR_EXP 108
23664: PUSH
23665: LD_VAR 0 3
23669: ST_TO_ADDR
// end ;
23670: LD_VAR 0 1
23674: RET
// function count_king ; var side , list , un , red , blue , yel , green , i ; begin
23675: LD_INT 0
23677: PPUSH
23678: PPUSH
23679: PPUSH
23680: PPUSH
23681: PPUSH
23682: PPUSH
23683: PPUSH
23684: PPUSH
23685: PPUSH
// side := [ ] ;
23686: LD_ADDR_VAR 0 2
23690: PUSH
23691: EMPTY
23692: ST_TO_ADDR
// red = 0 ;
23693: LD_ADDR_VAR 0 5
23697: PUSH
23698: LD_INT 0
23700: ST_TO_ADDR
// blue = 0 ;
23701: LD_ADDR_VAR 0 6
23705: PUSH
23706: LD_INT 0
23708: ST_TO_ADDR
// yel = 0 ;
23709: LD_ADDR_VAR 0 7
23713: PUSH
23714: LD_INT 0
23716: ST_TO_ADDR
// green = 0 ;
23717: LD_ADDR_VAR 0 8
23721: PUSH
23722: LD_INT 0
23724: ST_TO_ADDR
// list := FilterUnitsInArea ( king_territory , [ [ f_type , unit_building ] , [ f_ready ] ] ) ;
23725: LD_ADDR_VAR 0 3
23729: PUSH
23730: LD_EXP 92
23734: PPUSH
23735: LD_INT 21
23737: PUSH
23738: LD_INT 3
23740: PUSH
23741: EMPTY
23742: LIST
23743: LIST
23744: PUSH
23745: LD_INT 53
23747: PUSH
23748: EMPTY
23749: LIST
23750: PUSH
23751: EMPTY
23752: LIST
23753: LIST
23754: PPUSH
23755: CALL_OW 70
23759: ST_TO_ADDR
// for un in list do
23760: LD_ADDR_VAR 0 4
23764: PUSH
23765: LD_VAR 0 3
23769: PUSH
23770: FOR_IN
23771: IFFALSE 23796
// side := side union GetSide ( un ) ;
23773: LD_ADDR_VAR 0 2
23777: PUSH
23778: LD_VAR 0 2
23782: PUSH
23783: LD_VAR 0 4
23787: PPUSH
23788: CALL_OW 255
23792: UNION
23793: ST_TO_ADDR
23794: GO 23770
23796: POP
23797: POP
// if side <> 1 then
23798: LD_VAR 0 2
23802: PUSH
23803: LD_INT 1
23805: NONEQUAL
23806: IFFALSE 23810
// exit ;
23808: GO 24173
// side := side [ 1 ] ;
23810: LD_ADDR_VAR 0 2
23814: PUSH
23815: LD_VAR 0 2
23819: PUSH
23820: LD_INT 1
23822: ARRAY
23823: ST_TO_ADDR
// SetTag ( side + 10 , GetTag ( side + 10 ) + 1 ) ;
23824: LD_VAR 0 2
23828: PUSH
23829: LD_INT 10
23831: PLUS
23832: PPUSH
23833: LD_VAR 0 2
23837: PUSH
23838: LD_INT 10
23840: PLUS
23841: PPUSH
23842: CALL_OW 110
23846: PUSH
23847: LD_INT 1
23849: PLUS
23850: PPUSH
23851: CALL_OW 109
// SetSharedMultiScore ( side , GetTag ( side + 10 ) div 3 , 2 ) ;
23855: LD_VAR 0 2
23859: PPUSH
23860: LD_VAR 0 2
23864: PUSH
23865: LD_INT 10
23867: PLUS
23868: PPUSH
23869: CALL_OW 110
23873: PUSH
23874: LD_INT 3
23876: DIV
23877: PPUSH
23878: LD_INT 2
23880: PPUSH
23881: CALL 35268 0 3
// if not Team_Game then
23885: LD_EXP 80
23889: NOT
23890: IFFALSE 24173
// if GetTag ( side + 10 ) >= final_count * 3 then
23892: LD_VAR 0 2
23896: PUSH
23897: LD_INT 10
23899: PLUS
23900: PPUSH
23901: CALL_OW 110
23905: PUSH
23906: LD_EXP 57
23910: PUSH
23911: LD_INT 3
23913: MUL
23914: GREATEREQUAL
23915: IFFALSE 23922
// enable ( 3 ) else
23917: LD_INT 3
23919: ENABLE_MARKED
23920: GO 24173
// begin for i in Teams [ 1 ] do
23922: LD_ADDR_VAR 0 9
23926: PUSH
23927: LD_EXP 73
23931: PUSH
23932: LD_INT 1
23934: ARRAY
23935: PUSH
23936: FOR_IN
23937: IFFALSE 23970
// red = red + ( GetTag ( i + 10 ) div 3 ) ;
23939: LD_ADDR_VAR 0 5
23943: PUSH
23944: LD_VAR 0 5
23948: PUSH
23949: LD_VAR 0 9
23953: PUSH
23954: LD_INT 10
23956: PLUS
23957: PPUSH
23958: CALL_OW 110
23962: PUSH
23963: LD_INT 3
23965: DIV
23966: PLUS
23967: ST_TO_ADDR
23968: GO 23936
23970: POP
23971: POP
// for i in Teams [ 2 ] do
23972: LD_ADDR_VAR 0 9
23976: PUSH
23977: LD_EXP 73
23981: PUSH
23982: LD_INT 2
23984: ARRAY
23985: PUSH
23986: FOR_IN
23987: IFFALSE 24020
// blue = blue + ( GetTag ( i + 10 ) div 3 ) ;
23989: LD_ADDR_VAR 0 6
23993: PUSH
23994: LD_VAR 0 6
23998: PUSH
23999: LD_VAR 0 9
24003: PUSH
24004: LD_INT 10
24006: PLUS
24007: PPUSH
24008: CALL_OW 110
24012: PUSH
24013: LD_INT 3
24015: DIV
24016: PLUS
24017: ST_TO_ADDR
24018: GO 23986
24020: POP
24021: POP
// for i in Teams [ 3 ] do
24022: LD_ADDR_VAR 0 9
24026: PUSH
24027: LD_EXP 73
24031: PUSH
24032: LD_INT 3
24034: ARRAY
24035: PUSH
24036: FOR_IN
24037: IFFALSE 24070
// yel = yel + ( GetTag ( i + 10 ) div 3 ) ;
24039: LD_ADDR_VAR 0 7
24043: PUSH
24044: LD_VAR 0 7
24048: PUSH
24049: LD_VAR 0 9
24053: PUSH
24054: LD_INT 10
24056: PLUS
24057: PPUSH
24058: CALL_OW 110
24062: PUSH
24063: LD_INT 3
24065: DIV
24066: PLUS
24067: ST_TO_ADDR
24068: GO 24036
24070: POP
24071: POP
// for i in Teams [ 4 ] do
24072: LD_ADDR_VAR 0 9
24076: PUSH
24077: LD_EXP 73
24081: PUSH
24082: LD_INT 4
24084: ARRAY
24085: PUSH
24086: FOR_IN
24087: IFFALSE 24120
// green = green + ( GetTag ( i + 10 ) div 3 ) ;
24089: LD_ADDR_VAR 0 8
24093: PUSH
24094: LD_VAR 0 8
24098: PUSH
24099: LD_VAR 0 9
24103: PUSH
24104: LD_INT 10
24106: PLUS
24107: PPUSH
24108: CALL_OW 110
24112: PUSH
24113: LD_INT 3
24115: DIV
24116: PLUS
24117: ST_TO_ADDR
24118: GO 24086
24120: POP
24121: POP
// if red >= final_count or blue >= final_count or yel >= final_count or green >= final_count then
24122: LD_VAR 0 5
24126: PUSH
24127: LD_EXP 57
24131: GREATEREQUAL
24132: PUSH
24133: LD_VAR 0 6
24137: PUSH
24138: LD_EXP 57
24142: GREATEREQUAL
24143: OR
24144: PUSH
24145: LD_VAR 0 7
24149: PUSH
24150: LD_EXP 57
24154: GREATEREQUAL
24155: OR
24156: PUSH
24157: LD_VAR 0 8
24161: PUSH
24162: LD_EXP 57
24166: GREATEREQUAL
24167: OR
24168: IFFALSE 24173
// enable ( 3 ) ;
24170: LD_INT 3
24172: ENABLE_MARKED
// end ; end ;
24173: LD_VAR 0 1
24177: RET
// every 0 0$1 marked 2 do
24178: GO 24180
24180: DISABLE
// begin count_king ;
24181: CALL 23675 0 0
// show_public_points ;
24185: CALL 22568 0 0
// enable ;
24189: ENABLE
// end ;
24190: END
// every 0 0$1 marked 3 do var side , red , blue , yel , green , i ;
24191: GO 24193
24193: DISABLE
24194: LD_INT 0
24196: PPUSH
24197: PPUSH
24198: PPUSH
24199: PPUSH
24200: PPUSH
24201: PPUSH
// begin win := [ ] ;
24202: LD_ADDR_LOC 19
24206: PUSH
24207: EMPTY
24208: ST_TO_ADDR
// red = 0 ;
24209: LD_ADDR_VAR 0 2
24213: PUSH
24214: LD_INT 0
24216: ST_TO_ADDR
// blue = 0 ;
24217: LD_ADDR_VAR 0 3
24221: PUSH
24222: LD_INT 0
24224: ST_TO_ADDR
// yel = 0 ;
24225: LD_ADDR_VAR 0 4
24229: PUSH
24230: LD_INT 0
24232: ST_TO_ADDR
// green = 0 ;
24233: LD_ADDR_VAR 0 5
24237: PUSH
24238: LD_INT 0
24240: ST_TO_ADDR
// if not Team_Game then
24241: LD_EXP 80
24245: NOT
24246: IFFALSE 24323
// begin for side = 1 to 8 do
24248: LD_ADDR_VAR 0 1
24252: PUSH
24253: DOUBLE
24254: LD_INT 1
24256: DEC
24257: ST_TO_ADDR
24258: LD_INT 8
24260: PUSH
24261: FOR_TO
24262: IFFALSE 24307
// if GetTag ( side + 10 ) >= final_count * 3 then
24264: LD_VAR 0 1
24268: PUSH
24269: LD_INT 10
24271: PLUS
24272: PPUSH
24273: CALL_OW 110
24277: PUSH
24278: LD_EXP 57
24282: PUSH
24283: LD_INT 3
24285: MUL
24286: GREATEREQUAL
24287: IFFALSE 24305
// win := win ^ side ;
24289: LD_ADDR_LOC 19
24293: PUSH
24294: LD_LOC 19
24298: PUSH
24299: LD_VAR 0 1
24303: ADD
24304: ST_TO_ADDR
24305: GO 24261
24307: POP
24308: POP
// if win then
24309: LD_LOC 19
24313: IFFALSE 24320
// enable ( 4 ) else
24315: LD_INT 4
24317: ENABLE_MARKED
24318: GO 24321
// enable ;
24320: ENABLE
// end else
24321: GO 24639
// begin for i in Teams [ 1 ] do
24323: LD_ADDR_VAR 0 6
24327: PUSH
24328: LD_EXP 73
24332: PUSH
24333: LD_INT 1
24335: ARRAY
24336: PUSH
24337: FOR_IN
24338: IFFALSE 24371
// red = red + ( GetTag ( i + 10 ) div 3 ) ;
24340: LD_ADDR_VAR 0 2
24344: PUSH
24345: LD_VAR 0 2
24349: PUSH
24350: LD_VAR 0 6
24354: PUSH
24355: LD_INT 10
24357: PLUS
24358: PPUSH
24359: CALL_OW 110
24363: PUSH
24364: LD_INT 3
24366: DIV
24367: PLUS
24368: ST_TO_ADDR
24369: GO 24337
24371: POP
24372: POP
// for i in Teams [ 2 ] do
24373: LD_ADDR_VAR 0 6
24377: PUSH
24378: LD_EXP 73
24382: PUSH
24383: LD_INT 2
24385: ARRAY
24386: PUSH
24387: FOR_IN
24388: IFFALSE 24421
// blue = blue + ( GetTag ( i + 10 ) div 3 ) ;
24390: LD_ADDR_VAR 0 3
24394: PUSH
24395: LD_VAR 0 3
24399: PUSH
24400: LD_VAR 0 6
24404: PUSH
24405: LD_INT 10
24407: PLUS
24408: PPUSH
24409: CALL_OW 110
24413: PUSH
24414: LD_INT 3
24416: DIV
24417: PLUS
24418: ST_TO_ADDR
24419: GO 24387
24421: POP
24422: POP
// for i in Teams [ 3 ] do
24423: LD_ADDR_VAR 0 6
24427: PUSH
24428: LD_EXP 73
24432: PUSH
24433: LD_INT 3
24435: ARRAY
24436: PUSH
24437: FOR_IN
24438: IFFALSE 24471
// yel = yel + ( GetTag ( i + 10 ) div 3 ) ;
24440: LD_ADDR_VAR 0 4
24444: PUSH
24445: LD_VAR 0 4
24449: PUSH
24450: LD_VAR 0 6
24454: PUSH
24455: LD_INT 10
24457: PLUS
24458: PPUSH
24459: CALL_OW 110
24463: PUSH
24464: LD_INT 3
24466: DIV
24467: PLUS
24468: ST_TO_ADDR
24469: GO 24437
24471: POP
24472: POP
// for i in Teams [ 4 ] do
24473: LD_ADDR_VAR 0 6
24477: PUSH
24478: LD_EXP 73
24482: PUSH
24483: LD_INT 4
24485: ARRAY
24486: PUSH
24487: FOR_IN
24488: IFFALSE 24521
// green = green + ( GetTag ( i + 10 ) div 3 ) ;
24490: LD_ADDR_VAR 0 5
24494: PUSH
24495: LD_VAR 0 5
24499: PUSH
24500: LD_VAR 0 6
24504: PUSH
24505: LD_INT 10
24507: PLUS
24508: PPUSH
24509: CALL_OW 110
24513: PUSH
24514: LD_INT 3
24516: DIV
24517: PLUS
24518: ST_TO_ADDR
24519: GO 24487
24521: POP
24522: POP
// if red >= final_count then
24523: LD_VAR 0 2
24527: PUSH
24528: LD_EXP 57
24532: GREATEREQUAL
24533: IFFALSE 24549
// win = teams [ 1 ] ;
24535: LD_ADDR_LOC 19
24539: PUSH
24540: LD_EXP 73
24544: PUSH
24545: LD_INT 1
24547: ARRAY
24548: ST_TO_ADDR
// if blue >= final_count then
24549: LD_VAR 0 3
24553: PUSH
24554: LD_EXP 57
24558: GREATEREQUAL
24559: IFFALSE 24575
// win = teams [ 2 ] ;
24561: LD_ADDR_LOC 19
24565: PUSH
24566: LD_EXP 73
24570: PUSH
24571: LD_INT 2
24573: ARRAY
24574: ST_TO_ADDR
// if yel >= final_count then
24575: LD_VAR 0 4
24579: PUSH
24580: LD_EXP 57
24584: GREATEREQUAL
24585: IFFALSE 24601
// win = teams [ 3 ] ;
24587: LD_ADDR_LOC 19
24591: PUSH
24592: LD_EXP 73
24596: PUSH
24597: LD_INT 3
24599: ARRAY
24600: ST_TO_ADDR
// if green >= final_count then
24601: LD_VAR 0 5
24605: PUSH
24606: LD_EXP 57
24610: GREATEREQUAL
24611: IFFALSE 24627
// win = teams [ 4 ] ;
24613: LD_ADDR_LOC 19
24617: PUSH
24618: LD_EXP 73
24622: PUSH
24623: LD_INT 4
24625: ARRAY
24626: ST_TO_ADDR
// if win then
24627: LD_LOC 19
24631: IFFALSE 24638
// enable ( 4 ) else
24633: LD_INT 4
24635: ENABLE_MARKED
24636: GO 24639
// enable ;
24638: ENABLE
// end ; end ;
24639: PPOPN 6
24641: END
// every 0 0$1 marked 4 do
24642: GO 24644
24644: DISABLE
// begin if Player_Side in win then
24645: LD_EXP 70
24649: PUSH
24650: LD_LOC 19
24654: IN
24655: IFFALSE 24671
// begin wait ( 0 0$2 ) ;
24657: LD_INT 70
24659: PPUSH
24660: CALL_OW 67
// enable ( 401 ) ;
24664: LD_INT 401
24666: ENABLE_MARKED
// exit ;
24667: GO 24687
// end else
24669: GO 24687
// begin wait ( 0 0$2 ) ;
24671: LD_INT 70
24673: PPUSH
24674: CALL_OW 67
// Multiplayer_Loose_Message ;
24678: CALL_OW 521
// enable ( 400 ) ;
24682: LD_INT 400
24684: ENABLE_MARKED
// exit ;
24685: GO 24687
// end ; end ; end_of_file
24687: END
// var Month ; export function init_Daily ; begin
24688: LD_INT 0
24690: PPUSH
// if not CurrentTime then
24691: LD_EXP 111
24695: NOT
24696: IFFALSE 24768
// begin CurrentTime = Rand ( daily_start [ 1 ] , daily_start [ 2 ] ) div 0 0$01 ;
24698: LD_ADDR_EXP 111
24702: PUSH
24703: LD_EXP 58
24707: PUSH
24708: LD_INT 1
24710: ARRAY
24711: PPUSH
24712: LD_EXP 58
24716: PUSH
24717: LD_INT 2
24719: ARRAY
24720: PPUSH
24721: CALL_OW 12
24725: PUSH
24726: LD_INT 35
24728: DIV
24729: ST_TO_ADDR
// CurrentTime = CurrentTime * 0 0$01 ;
24730: LD_ADDR_EXP 111
24734: PUSH
24735: LD_EXP 111
24739: PUSH
24740: LD_INT 35
24742: MUL
24743: ST_TO_ADDR
// if CurrentTime >= 24 24$00 then
24744: LD_EXP 111
24748: PUSH
24749: LD_INT 50400
24751: GREATEREQUAL
24752: IFFALSE 24768
// CurrentTime = CurrentTime - 24 24$00 ;
24754: LD_ADDR_EXP 111
24758: PUSH
24759: LD_EXP 111
24763: PUSH
24764: LD_INT 50400
24766: MINUS
24767: ST_TO_ADDR
// end ; case CurrentTime of 0 0$00 .. TimePhase [ 1 ] , TimePhase [ 10 ] + 1 .. 24 24$00 :
24768: LD_EXP 111
24772: PUSH
24773: LD_INT 0
24775: DOUBLE
24776: GREATEREQUAL
24777: IFFALSE 24791
24779: LD_EXP 60
24783: PUSH
24784: LD_INT 1
24786: ARRAY
24787: DOUBLE
24788: LESSEQUAL
24789: IFTRUE 24815
24791: LD_EXP 60
24795: PUSH
24796: LD_INT 10
24798: ARRAY
24799: PUSH
24800: LD_INT 1
24802: PLUS
24803: DOUBLE
24804: GREATEREQUAL
24805: IFFALSE 24813
24807: LD_INT 50400
24809: DOUBLE
24810: LESSEQUAL
24811: IFTRUE 24815
24813: GO 24834
24815: POP
// begin ChangePhase ( DailyPhase [ 6 ] , 35 ) ;
24816: LD_EXP 61
24820: PUSH
24821: LD_INT 6
24823: ARRAY
24824: PPUSH
24825: LD_INT 35
24827: PPUSH
24828: CALL 25471 0 2
// end ; TimePhase [ 1 ] + 1 .. TimePhase [ 2 ] , TimePhase [ 9 ] + 1 .. TimePhase [ 10 ] :
24832: GO 25159
24834: LD_EXP 60
24838: PUSH
24839: LD_INT 1
24841: ARRAY
24842: PUSH
24843: LD_INT 1
24845: PLUS
24846: DOUBLE
24847: GREATEREQUAL
24848: IFFALSE 24862
24850: LD_EXP 60
24854: PUSH
24855: LD_INT 2
24857: ARRAY
24858: DOUBLE
24859: LESSEQUAL
24860: IFTRUE 24892
24862: LD_EXP 60
24866: PUSH
24867: LD_INT 9
24869: ARRAY
24870: PUSH
24871: LD_INT 1
24873: PLUS
24874: DOUBLE
24875: GREATEREQUAL
24876: IFFALSE 24890
24878: LD_EXP 60
24882: PUSH
24883: LD_INT 10
24885: ARRAY
24886: DOUBLE
24887: LESSEQUAL
24888: IFTRUE 24892
24890: GO 24911
24892: POP
// begin ChangePhase ( DailyPhase [ 5 ] , 50 ) ;
24893: LD_EXP 61
24897: PUSH
24898: LD_INT 5
24900: ARRAY
24901: PPUSH
24902: LD_INT 50
24904: PPUSH
24905: CALL 25471 0 2
// end ; TimePhase [ 2 ] + 1 .. TimePhase [ 3 ] , TimePhase [ 8 ] + 1 .. TimePhase [ 9 ] :
24909: GO 25159
24911: LD_EXP 60
24915: PUSH
24916: LD_INT 2
24918: ARRAY
24919: PUSH
24920: LD_INT 1
24922: PLUS
24923: DOUBLE
24924: GREATEREQUAL
24925: IFFALSE 24939
24927: LD_EXP 60
24931: PUSH
24932: LD_INT 3
24934: ARRAY
24935: DOUBLE
24936: LESSEQUAL
24937: IFTRUE 24969
24939: LD_EXP 60
24943: PUSH
24944: LD_INT 8
24946: ARRAY
24947: PUSH
24948: LD_INT 1
24950: PLUS
24951: DOUBLE
24952: GREATEREQUAL
24953: IFFALSE 24967
24955: LD_EXP 60
24959: PUSH
24960: LD_INT 9
24962: ARRAY
24963: DOUBLE
24964: LESSEQUAL
24965: IFTRUE 24969
24967: GO 24988
24969: POP
// begin ChangePhase ( DailyPhase [ 4 ] , 60 ) ;
24970: LD_EXP 61
24974: PUSH
24975: LD_INT 4
24977: ARRAY
24978: PPUSH
24979: LD_INT 60
24981: PPUSH
24982: CALL 25471 0 2
// end ; TimePhase [ 3 ] + 1 .. TimePhase [ 4 ] , TimePhase [ 7 ] + 1 .. TimePhase [ 8 ] :
24986: GO 25159
24988: LD_EXP 60
24992: PUSH
24993: LD_INT 3
24995: ARRAY
24996: PUSH
24997: LD_INT 1
24999: PLUS
25000: DOUBLE
25001: GREATEREQUAL
25002: IFFALSE 25016
25004: LD_EXP 60
25008: PUSH
25009: LD_INT 4
25011: ARRAY
25012: DOUBLE
25013: LESSEQUAL
25014: IFTRUE 25046
25016: LD_EXP 60
25020: PUSH
25021: LD_INT 7
25023: ARRAY
25024: PUSH
25025: LD_INT 1
25027: PLUS
25028: DOUBLE
25029: GREATEREQUAL
25030: IFFALSE 25044
25032: LD_EXP 60
25036: PUSH
25037: LD_INT 8
25039: ARRAY
25040: DOUBLE
25041: LESSEQUAL
25042: IFTRUE 25046
25044: GO 25065
25046: POP
// begin ChangePhase ( DailyPhase [ 3 ] , 80 ) ;
25047: LD_EXP 61
25051: PUSH
25052: LD_INT 3
25054: ARRAY
25055: PPUSH
25056: LD_INT 80
25058: PPUSH
25059: CALL 25471 0 2
// end ; TimePhase [ 4 ] + 1 .. TimePhase [ 5 ] , TimePhase [ 6 ] + 1 .. TimePhase [ 7 ] :
25063: GO 25159
25065: LD_EXP 60
25069: PUSH
25070: LD_INT 4
25072: ARRAY
25073: PUSH
25074: LD_INT 1
25076: PLUS
25077: DOUBLE
25078: GREATEREQUAL
25079: IFFALSE 25093
25081: LD_EXP 60
25085: PUSH
25086: LD_INT 5
25088: ARRAY
25089: DOUBLE
25090: LESSEQUAL
25091: IFTRUE 25123
25093: LD_EXP 60
25097: PUSH
25098: LD_INT 6
25100: ARRAY
25101: PUSH
25102: LD_INT 1
25104: PLUS
25105: DOUBLE
25106: GREATEREQUAL
25107: IFFALSE 25121
25109: LD_EXP 60
25113: PUSH
25114: LD_INT 7
25116: ARRAY
25117: DOUBLE
25118: LESSEQUAL
25119: IFTRUE 25123
25121: GO 25142
25123: POP
// begin ChangePhase ( DailyPhase [ 2 ] , 95 ) ;
25124: LD_EXP 61
25128: PUSH
25129: LD_INT 2
25131: ARRAY
25132: PPUSH
25133: LD_INT 95
25135: PPUSH
25136: CALL 25471 0 2
// end ; else
25140: GO 25159
25142: POP
// begin ChangePhase ( DailyPhase [ 1 ] , 110 ) ;
25143: LD_EXP 61
25147: PUSH
25148: LD_INT 1
25150: ARRAY
25151: PPUSH
25152: LD_INT 110
25154: PPUSH
25155: CALL 25471 0 2
// end ; end ; enable ( 31 ) ;
25159: LD_INT 31
25161: ENABLE_MARKED
// end ;
25162: LD_VAR 0 1
25166: RET
// every 0 0$01 marked 31 do
25167: GO 25169
25169: DISABLE
// begin if daily_speed then
25170: LD_EXP 59
25174: IFFALSE 25185
// wait ( daily_speed ) ;
25176: LD_EXP 59
25180: PPUSH
25181: CALL_OW 67
// CurrentTime = CurrentTime + 0 0$01 ;
25185: LD_ADDR_EXP 111
25189: PUSH
25190: LD_EXP 111
25194: PUSH
25195: LD_INT 35
25197: PLUS
25198: ST_TO_ADDR
// case CurrentTIme of TimePhase [ 5 ] :
25199: LD_EXP 111
25203: PUSH
25204: LD_EXP 60
25208: PUSH
25209: LD_INT 5
25211: ARRAY
25212: DOUBLE
25213: EQUAL
25214: IFTRUE 25218
25216: GO 25237
25218: POP
// begin ChangePhase ( DailyPhase [ 1 ] , 110 ) ;
25219: LD_EXP 61
25223: PUSH
25224: LD_INT 1
25226: ARRAY
25227: PPUSH
25228: LD_INT 110
25230: PPUSH
25231: CALL 25471 0 2
// end ; TimePhase [ 4 ] , TimePhase [ 6 ] :
25235: GO 25451
25237: LD_EXP 60
25241: PUSH
25242: LD_INT 4
25244: ARRAY
25245: DOUBLE
25246: EQUAL
25247: IFTRUE 25263
25249: LD_EXP 60
25253: PUSH
25254: LD_INT 6
25256: ARRAY
25257: DOUBLE
25258: EQUAL
25259: IFTRUE 25263
25261: GO 25282
25263: POP
// begin ChangePhase ( DailyPhase [ 2 ] , 95 ) ;
25264: LD_EXP 61
25268: PUSH
25269: LD_INT 2
25271: ARRAY
25272: PPUSH
25273: LD_INT 95
25275: PPUSH
25276: CALL 25471 0 2
// end ; TimePhase [ 3 ] , TimePhase [ 7 ] :
25280: GO 25451
25282: LD_EXP 60
25286: PUSH
25287: LD_INT 3
25289: ARRAY
25290: DOUBLE
25291: EQUAL
25292: IFTRUE 25308
25294: LD_EXP 60
25298: PUSH
25299: LD_INT 7
25301: ARRAY
25302: DOUBLE
25303: EQUAL
25304: IFTRUE 25308
25306: GO 25327
25308: POP
// begin ChangePhase ( DailyPhase [ 3 ] , 80 ) ;
25309: LD_EXP 61
25313: PUSH
25314: LD_INT 3
25316: ARRAY
25317: PPUSH
25318: LD_INT 80
25320: PPUSH
25321: CALL 25471 0 2
// end ; TimePhase [ 2 ] , TimePhase [ 8 ] :
25325: GO 25451
25327: LD_EXP 60
25331: PUSH
25332: LD_INT 2
25334: ARRAY
25335: DOUBLE
25336: EQUAL
25337: IFTRUE 25353
25339: LD_EXP 60
25343: PUSH
25344: LD_INT 8
25346: ARRAY
25347: DOUBLE
25348: EQUAL
25349: IFTRUE 25353
25351: GO 25372
25353: POP
// begin ChangePhase ( DailyPhase [ 4 ] , 60 ) ;
25354: LD_EXP 61
25358: PUSH
25359: LD_INT 4
25361: ARRAY
25362: PPUSH
25363: LD_INT 60
25365: PPUSH
25366: CALL 25471 0 2
// end ; TimePhase [ 1 ] , TimePhase [ 9 ] :
25370: GO 25451
25372: LD_EXP 60
25376: PUSH
25377: LD_INT 1
25379: ARRAY
25380: DOUBLE
25381: EQUAL
25382: IFTRUE 25398
25384: LD_EXP 60
25388: PUSH
25389: LD_INT 9
25391: ARRAY
25392: DOUBLE
25393: EQUAL
25394: IFTRUE 25398
25396: GO 25417
25398: POP
// begin ChangePhase ( DailyPhase [ 5 ] , 50 ) ;
25399: LD_EXP 61
25403: PUSH
25404: LD_INT 5
25406: ARRAY
25407: PPUSH
25408: LD_INT 50
25410: PPUSH
25411: CALL 25471 0 2
// end ; TimePhase [ 10 ] :
25415: GO 25451
25417: LD_EXP 60
25421: PUSH
25422: LD_INT 10
25424: ARRAY
25425: DOUBLE
25426: EQUAL
25427: IFTRUE 25431
25429: GO 25450
25431: POP
// begin ChangePhase ( DailyPhase [ 6 ] , 35 ) ;
25432: LD_EXP 61
25436: PUSH
25437: LD_INT 6
25439: ARRAY
25440: PPUSH
25441: LD_INT 35
25443: PPUSH
25444: CALL 25471 0 2
// end ; end ;
25448: GO 25451
25450: POP
// if CurrentTime >= 24 24$00 then
25451: LD_EXP 111
25455: PUSH
25456: LD_INT 50400
25458: GREATEREQUAL
25459: IFFALSE 25469
// CurrentTime = 0 0$00 ;
25461: LD_ADDR_EXP 111
25465: PUSH
25466: LD_INT 0
25468: ST_TO_ADDR
// enable ;
25469: ENABLE
// end ;
25470: END
// function changePhase ( dp , srp ) ; begin
25471: LD_INT 0
25473: PPUSH
// solar_recharge_percent = srp ;
25474: LD_ADDR_OWVAR 79
25478: PUSH
25479: LD_VAR 0 2
25483: ST_TO_ADDR
// LoadColorsTXT ( dp ) ;
25484: LD_VAR 0 1
25488: PPUSH
25489: CALL_OW 544
// end ; end_of_file
25493: LD_VAR 0 3
25497: RET
// export BuildUpAreas , BuildUp ; export function BeginBuildUp ; var i , j ; begin
25498: LD_INT 0
25500: PPUSH
25501: PPUSH
25502: PPUSH
// enable ( 600 ) ;
25503: LD_INT 600
25505: ENABLE_MARKED
// BuildUp = true ;
25506: LD_ADDR_EXP 117
25510: PUSH
25511: LD_INT 1
25513: ST_TO_ADDR
// for i := 1 to BuildUpAreas do
25514: LD_ADDR_VAR 0 2
25518: PUSH
25519: DOUBLE
25520: LD_INT 1
25522: DEC
25523: ST_TO_ADDR
25524: LD_EXP 116
25528: PUSH
25529: FOR_TO
25530: IFFALSE 25685
// if Position_Sides [ i ] then
25532: LD_EXP 62
25536: PUSH
25537: LD_VAR 0 2
25541: ARRAY
25542: IFFALSE 25683
// for j := 1 to 8 do
25544: LD_ADDR_VAR 0 3
25548: PUSH
25549: DOUBLE
25550: LD_INT 1
25552: DEC
25553: ST_TO_ADDR
25554: LD_INT 8
25556: PUSH
25557: FOR_TO
25558: IFFALSE 25681
// if Side_Positions [ j ] and ( ( Side_Teams [ Position_Sides [ i ] ] <> Side_Teams [ j ] ) or ( not Team_Game ) and ( Position_Sides [ i ] <> j ) ) then
25560: LD_EXP 75
25564: PUSH
25565: LD_VAR 0 3
25569: ARRAY
25570: PUSH
25571: LD_EXP 72
25575: PUSH
25576: LD_EXP 62
25580: PUSH
25581: LD_VAR 0 2
25585: ARRAY
25586: ARRAY
25587: PUSH
25588: LD_EXP 72
25592: PUSH
25593: LD_VAR 0 3
25597: ARRAY
25598: NONEQUAL
25599: PUSH
25600: LD_EXP 80
25604: NOT
25605: PUSH
25606: LD_EXP 62
25610: PUSH
25611: LD_VAR 0 2
25615: ARRAY
25616: PUSH
25617: LD_VAR 0 3
25621: NONEQUAL
25622: AND
25623: OR
25624: AND
25625: IFFALSE 25649
// HideArea ( j , BuildUpAreas [ i ] ) else
25627: LD_VAR 0 3
25631: PPUSH
25632: LD_EXP 116
25636: PUSH
25637: LD_VAR 0 2
25641: ARRAY
25642: PPUSH
25643: CALL_OW 333
25647: GO 25679
// if ( j = your_side ) then
25649: LD_VAR 0 3
25653: PUSH
25654: LD_OWVAR 2
25658: EQUAL
25659: IFFALSE 25679
// SetAreaMapShow ( BuildUpAreas [ i ] , 3 ) ;
25661: LD_EXP 116
25665: PUSH
25666: LD_VAR 0 2
25670: ARRAY
25671: PPUSH
25672: LD_INT 3
25674: PPUSH
25675: CALL_OW 424
25679: GO 25557
25681: POP
25682: POP
25683: GO 25529
25685: POP
25686: POP
// end ;
25687: LD_VAR 0 1
25691: RET
// export function EndBuildUp ; var i , j ; begin
25692: LD_INT 0
25694: PPUSH
25695: PPUSH
25696: PPUSH
// disable ( 600 ) ;
25697: LD_INT 600
25699: DISABLE_MARKED
// BuildUp = false ;
25700: LD_ADDR_EXP 117
25704: PUSH
25705: LD_INT 0
25707: ST_TO_ADDR
// for i := 1 to BuildUpAreas do
25708: LD_ADDR_VAR 0 2
25712: PUSH
25713: DOUBLE
25714: LD_INT 1
25716: DEC
25717: ST_TO_ADDR
25718: LD_EXP 116
25722: PUSH
25723: FOR_TO
25724: IFFALSE 25879
// if Position_Sides [ i ] then
25726: LD_EXP 62
25730: PUSH
25731: LD_VAR 0 2
25735: ARRAY
25736: IFFALSE 25877
// for j := 1 to 8 do
25738: LD_ADDR_VAR 0 3
25742: PUSH
25743: DOUBLE
25744: LD_INT 1
25746: DEC
25747: ST_TO_ADDR
25748: LD_INT 8
25750: PUSH
25751: FOR_TO
25752: IFFALSE 25875
// if Side_Positions [ j ] and ( ( Side_Teams [ Position_Sides [ i ] ] <> Side_Teams [ j ] ) or ( not Team_Game ) and ( Position_Sides [ i ] <> j ) ) then
25754: LD_EXP 75
25758: PUSH
25759: LD_VAR 0 3
25763: ARRAY
25764: PUSH
25765: LD_EXP 72
25769: PUSH
25770: LD_EXP 62
25774: PUSH
25775: LD_VAR 0 2
25779: ARRAY
25780: ARRAY
25781: PUSH
25782: LD_EXP 72
25786: PUSH
25787: LD_VAR 0 3
25791: ARRAY
25792: NONEQUAL
25793: PUSH
25794: LD_EXP 80
25798: NOT
25799: PUSH
25800: LD_EXP 62
25804: PUSH
25805: LD_VAR 0 2
25809: ARRAY
25810: PUSH
25811: LD_VAR 0 3
25815: NONEQUAL
25816: AND
25817: OR
25818: AND
25819: IFFALSE 25843
// ShowArea ( j , BuildUpAreas [ i ] ) else
25821: LD_VAR 0 3
25825: PPUSH
25826: LD_EXP 116
25830: PUSH
25831: LD_VAR 0 2
25835: ARRAY
25836: PPUSH
25837: CALL_OW 334
25841: GO 25873
// if ( j = your_side ) then
25843: LD_VAR 0 3
25847: PUSH
25848: LD_OWVAR 2
25852: EQUAL
25853: IFFALSE 25873
// SetAreaMapShow ( BuildUpAreas [ i ] , 0 ) ;
25855: LD_EXP 116
25859: PUSH
25860: LD_VAR 0 2
25864: ARRAY
25865: PPUSH
25866: LD_INT 0
25868: PPUSH
25869: CALL_OW 424
25873: GO 25751
25875: POP
25876: POP
25877: GO 25723
25879: POP
25880: POP
// end ;
25881: LD_VAR 0 1
25885: RET
// every 1 marked 600 do var i , un ;
25886: GO 25888
25888: DISABLE
25889: LD_INT 0
25891: PPUSH
25892: PPUSH
// begin for i := 1 to BuildUpAreas do
25893: LD_ADDR_VAR 0 1
25897: PUSH
25898: DOUBLE
25899: LD_INT 1
25901: DEC
25902: ST_TO_ADDR
25903: LD_EXP 116
25907: PUSH
25908: FOR_TO
25909: IFFALSE 26079
// if Position_Sides [ i ] then
25911: LD_EXP 62
25915: PUSH
25916: LD_VAR 0 1
25920: ARRAY
25921: IFFALSE 26077
// for un in FilterUnitsInArea ( BuildUpAreas [ i ] , [ [ f_or , [ f_type , unit_human ] , [ f_type , unit_vehicle ] ] , [ f_not , [ f_side , 0 ] ] ] ) do
25923: LD_ADDR_VAR 0 2
25927: PUSH
25928: LD_EXP 116
25932: PUSH
25933: LD_VAR 0 1
25937: ARRAY
25938: PPUSH
25939: LD_INT 2
25941: PUSH
25942: LD_INT 21
25944: PUSH
25945: LD_INT 1
25947: PUSH
25948: EMPTY
25949: LIST
25950: LIST
25951: PUSH
25952: LD_INT 21
25954: PUSH
25955: LD_INT 2
25957: PUSH
25958: EMPTY
25959: LIST
25960: LIST
25961: PUSH
25962: EMPTY
25963: LIST
25964: LIST
25965: LIST
25966: PUSH
25967: LD_INT 3
25969: PUSH
25970: LD_INT 22
25972: PUSH
25973: LD_INT 0
25975: PUSH
25976: EMPTY
25977: LIST
25978: LIST
25979: PUSH
25980: EMPTY
25981: LIST
25982: LIST
25983: PUSH
25984: EMPTY
25985: LIST
25986: LIST
25987: PPUSH
25988: CALL_OW 70
25992: PUSH
25993: FOR_IN
25994: IFFALSE 26075
// if ( ( Side_Teams [ Position_Sides [ i ] ] <> Side_Teams [ GetSide ( un ) ] ) or ( not Team_Game ) and ( Position_Sides [ i ] <> GetSide ( un ) ) ) then
25996: LD_EXP 72
26000: PUSH
26001: LD_EXP 62
26005: PUSH
26006: LD_VAR 0 1
26010: ARRAY
26011: ARRAY
26012: PUSH
26013: LD_EXP 72
26017: PUSH
26018: LD_VAR 0 2
26022: PPUSH
26023: CALL_OW 255
26027: ARRAY
26028: NONEQUAL
26029: PUSH
26030: LD_EXP 80
26034: NOT
26035: PUSH
26036: LD_EXP 62
26040: PUSH
26041: LD_VAR 0 1
26045: ARRAY
26046: PUSH
26047: LD_VAR 0 2
26051: PPUSH
26052: CALL_OW 255
26056: NONEQUAL
26057: AND
26058: OR
26059: IFFALSE 26073
// ComMoveToArea ( un , BuildUpEscape ) ;
26061: LD_VAR 0 2
26065: PPUSH
26066: LD_INT 33
26068: PPUSH
26069: CALL_OW 113
26073: GO 25993
26075: POP
26076: POP
26077: GO 25908
26079: POP
26080: POP
// if BuildUp then
26081: LD_EXP 117
26085: IFFALSE 26088
// enable ;
26087: ENABLE
// end ;
26088: PPOPN 2
26090: END
// every 1 do
26091: GO 26093
26093: DISABLE
// if ( def_builduptime > 0 ) then
26094: LD_EXP 30
26098: PUSH
26099: LD_INT 0
26101: GREATER
26102: IFFALSE 26123
// begin if buildUpTime_Delay then
26104: LD_EXP 66
26108: IFFALSE 26119
// wait ( buildUpTime_Delay ) ;
26110: LD_EXP 66
26114: PPUSH
26115: CALL_OW 67
// EndBuildUp ;
26119: CALL 25692 0 0
// end ; end_of_file
26123: END
// var Restricted_Builds , Restricted_Builds_Amount ; var Banned_Weapons , Banned_Chassis , Banned_Controls , Banned_Engines ; var Already_Built ; var Limits_Info , Cheaters ; every 0 0$1 do
26124: GO 26126
26126: DISABLE
// begin fLimitsStrings ;
26127: CALL 26133 0 0
// enable ;
26131: ENABLE
// end ;
26132: END
// export function fLimitsStrings ; var i ; begin
26133: LD_INT 0
26135: PPUSH
26136: PPUSH
// if ( not IAmSpec ) then
26137: CALL_OW 531
26141: NOT
26142: IFFALSE 26158
// LimitsStrings := Limits_Info ^  ;
26144: LD_ADDR_EXP 110
26148: PUSH
26149: LD_LOC 28
26153: PUSH
26154: LD_STRING 
26156: ADD
26157: ST_TO_ADDR
// for i := 1 to 8 do
26158: LD_ADDR_VAR 0 2
26162: PUSH
26163: DOUBLE
26164: LD_INT 1
26166: DEC
26167: ST_TO_ADDR
26168: LD_INT 8
26170: PUSH
26171: FOR_TO
26172: IFFALSE 26217
// if Cheaters [ i ] then
26174: LD_LOC 29
26178: PUSH
26179: LD_VAR 0 2
26183: ARRAY
26184: IFFALSE 26215
// LimitsStrings := LimitsStrings ^ [ #Cheater , i , i ] ;
26186: LD_ADDR_EXP 110
26190: PUSH
26191: LD_EXP 110
26195: PUSH
26196: LD_STRING #Cheater
26198: PUSH
26199: LD_VAR 0 2
26203: PUSH
26204: LD_VAR 0 2
26208: PUSH
26209: EMPTY
26210: LIST
26211: LIST
26212: LIST
26213: ADD
26214: ST_TO_ADDR
26215: GO 26171
26217: POP
26218: POP
// end ;
26219: LD_VAR 0 1
26223: RET
// export function InitGameRules ; var Unavailable_Techs , Unavailable_Builds ; var i , j ; begin
26224: LD_INT 0
26226: PPUSH
26227: PPUSH
26228: PPUSH
26229: PPUSH
26230: PPUSH
// Cheaters := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
26231: LD_ADDR_LOC 29
26235: PUSH
26236: LD_INT 0
26238: PUSH
26239: LD_INT 0
26241: PUSH
26242: LD_INT 0
26244: PUSH
26245: LD_INT 0
26247: PUSH
26248: LD_INT 0
26250: PUSH
26251: LD_INT 0
26253: PUSH
26254: LD_INT 0
26256: PUSH
26257: LD_INT 0
26259: PUSH
26260: EMPTY
26261: LIST
26262: LIST
26263: LIST
26264: LIST
26265: LIST
26266: LIST
26267: LIST
26268: LIST
26269: ST_TO_ADDR
// case def_game_rules of 0 :
26270: LD_EXP 9
26274: PUSH
26275: LD_INT 0
26277: DOUBLE
26278: EQUAL
26279: IFTRUE 26283
26281: GO 26288
26283: POP
// exit ; 1 :
26284: GO 28924
26286: GO 28824
26288: LD_INT 1
26290: DOUBLE
26291: EQUAL
26292: IFTRUE 26296
26294: GO 26599
26296: POP
// begin def_base_level := 2 ;
26297: LD_ADDR_EXP 10
26301: PUSH
26302: LD_INT 2
26304: ST_TO_ADDR
// def_amount_of_people := 10 ;
26305: LD_ADDR_EXP 11
26309: PUSH
26310: LD_INT 10
26312: ST_TO_ADDR
// def_initial_level := 1 ;
26313: LD_ADDR_EXP 13
26317: PUSH
26318: LD_INT 1
26320: ST_TO_ADDR
// def_starting_resources := 2 ;
26321: LD_ADDR_EXP 15
26325: PUSH
26326: LD_INT 2
26328: ST_TO_ADDR
// def_shipments_density := 1 ;
26329: LD_ADDR_EXP 16
26333: PUSH
26334: LD_INT 1
26336: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
26337: LD_ADDR_EXP 17
26341: PUSH
26342: LD_INT 0
26344: ST_TO_ADDR
// def_extra_sib_deposits := 1 ;
26345: LD_ADDR_EXP 18
26349: PUSH
26350: LD_INT 1
26352: ST_TO_ADDR
// def_shared_vision := 1 ;
26353: LD_ADDR_EXP 19
26357: PUSH
26358: LD_INT 1
26360: ST_TO_ADDR
// def_morale_flags := 3 ;
26361: LD_ADDR_EXP 20
26365: PUSH
26366: LD_INT 3
26368: ST_TO_ADDR
// def_siberite_detection := 1 ;
26369: LD_ADDR_EXP 28
26373: PUSH
26374: LD_INT 1
26376: ST_TO_ADDR
// def_people_respawning := 1 ;
26377: LD_ADDR_EXP 25
26381: PUSH
26382: LD_INT 1
26384: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
26385: LD_ADDR_EXP 22
26389: PUSH
26390: LD_INT 1
26392: ST_TO_ADDR
// def_siberite_bomb := 0 ;
26393: LD_ADDR_EXP 29
26397: PUSH
26398: LD_INT 0
26400: ST_TO_ADDR
// def_builduptime := 2 ;
26401: LD_ADDR_EXP 30
26405: PUSH
26406: LD_INT 2
26408: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
26409: LD_ADDR_EXP 12
26413: PUSH
26414: LD_INT 0
26416: ST_TO_ADDR
// def_amount_of_tiger := 0 ;
26417: LD_ADDR_EXP 23
26421: PUSH
26422: LD_INT 0
26424: ST_TO_ADDR
// def_respawining_type := 3 ;
26425: LD_ADDR_EXP 24
26429: PUSH
26430: LD_INT 3
26432: ST_TO_ADDR
// def_tech_level := 8 ;
26433: LD_ADDR_EXP 26
26437: PUSH
26438: LD_INT 8
26440: ST_TO_ADDR
// def_upgrade_tl := 0 ;
26441: LD_ADDR_EXP 27
26445: PUSH
26446: LD_INT 0
26448: ST_TO_ADDR
// def_desert_warior := 0 ;
26449: LD_ADDR_EXP 31
26453: PUSH
26454: LD_INT 0
26456: ST_TO_ADDR
// Unavailable_Techs := [ ] ;
26457: LD_ADDR_VAR 0 2
26461: PUSH
26462: EMPTY
26463: ST_TO_ADDR
// Unavailable_Builds := [ ] ;
26464: LD_ADDR_VAR 0 3
26468: PUSH
26469: EMPTY
26470: ST_TO_ADDR
// Banned_Weapons := [ ] ;
26471: LD_ADDR_LOC 23
26475: PUSH
26476: EMPTY
26477: ST_TO_ADDR
// Banned_Chassis := [ ] ;
26478: LD_ADDR_LOC 24
26482: PUSH
26483: EMPTY
26484: ST_TO_ADDR
// Banned_Controls := [ ] ;
26485: LD_ADDR_LOC 25
26489: PUSH
26490: EMPTY
26491: ST_TO_ADDR
// Banned_Engines := [ ] ;
26492: LD_ADDR_LOC 26
26496: PUSH
26497: EMPTY
26498: ST_TO_ADDR
// Restricted_Builds := [ [ b_Behemoth ] , [ b_Armoury , b_Barracks ] , [ b_Breastwork , b_Bunker , b_Turret ] ] ;
26499: LD_ADDR_LOC 21
26503: PUSH
26504: LD_INT 37
26506: PUSH
26507: EMPTY
26508: LIST
26509: PUSH
26510: LD_INT 4
26512: PUSH
26513: LD_INT 5
26515: PUSH
26516: EMPTY
26517: LIST
26518: LIST
26519: PUSH
26520: LD_INT 31
26522: PUSH
26523: LD_INT 32
26525: PUSH
26526: LD_INT 33
26528: PUSH
26529: EMPTY
26530: LIST
26531: LIST
26532: LIST
26533: PUSH
26534: EMPTY
26535: LIST
26536: LIST
26537: LIST
26538: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
26539: LD_EXP 1
26543: PUSH
26544: LD_EXP 3
26548: PUSH
26549: LD_EXP 4
26553: ADD
26554: IN
26555: IFFALSE 26578
// Restricted_Builds_Amount := [ 4 , 4 , 8 ] else
26557: LD_ADDR_LOC 22
26561: PUSH
26562: LD_INT 4
26564: PUSH
26565: LD_INT 4
26567: PUSH
26568: LD_INT 8
26570: PUSH
26571: EMPTY
26572: LIST
26573: LIST
26574: LIST
26575: ST_TO_ADDR
26576: GO 26597
// Restricted_Builds_Amount := [ 2 , 2 , 4 ] ;
26578: LD_ADDR_LOC 22
26582: PUSH
26583: LD_INT 2
26585: PUSH
26586: LD_INT 2
26588: PUSH
26589: LD_INT 4
26591: PUSH
26592: EMPTY
26593: LIST
26594: LIST
26595: LIST
26596: ST_TO_ADDR
// end ; 2 :
26597: GO 28824
26599: LD_INT 2
26601: DOUBLE
26602: EQUAL
26603: IFTRUE 26607
26605: GO 26899
26607: POP
// begin def_base_level := 1 ;
26608: LD_ADDR_EXP 10
26612: PUSH
26613: LD_INT 1
26615: ST_TO_ADDR
// def_amount_of_people := 2 ;
26616: LD_ADDR_EXP 11
26620: PUSH
26621: LD_INT 2
26623: ST_TO_ADDR
// def_initial_level := 3 ;
26624: LD_ADDR_EXP 13
26628: PUSH
26629: LD_INT 3
26631: ST_TO_ADDR
// def_starting_resources := 3 ;
26632: LD_ADDR_EXP 15
26636: PUSH
26637: LD_INT 3
26639: ST_TO_ADDR
// def_shipments_density := 2 ;
26640: LD_ADDR_EXP 16
26644: PUSH
26645: LD_INT 2
26647: ST_TO_ADDR
// def_extra_oil_deposits := 1 ;
26648: LD_ADDR_EXP 17
26652: PUSH
26653: LD_INT 1
26655: ST_TO_ADDR
// def_extra_sib_deposits := 2 ;
26656: LD_ADDR_EXP 18
26660: PUSH
26661: LD_INT 2
26663: ST_TO_ADDR
// def_shared_vision := 1 ;
26664: LD_ADDR_EXP 19
26668: PUSH
26669: LD_INT 1
26671: ST_TO_ADDR
// def_morale_flags := 0 ;
26672: LD_ADDR_EXP 20
26676: PUSH
26677: LD_INT 0
26679: ST_TO_ADDR
// def_siberite_detection := 1 ;
26680: LD_ADDR_EXP 28
26684: PUSH
26685: LD_INT 1
26687: ST_TO_ADDR
// def_people_respawning := 0 ;
26688: LD_ADDR_EXP 25
26692: PUSH
26693: LD_INT 0
26695: ST_TO_ADDR
// def_amount_of_apemen := 0 ;
26696: LD_ADDR_EXP 22
26700: PUSH
26701: LD_INT 0
26703: ST_TO_ADDR
// def_siberite_bomb := 0 ;
26704: LD_ADDR_EXP 29
26708: PUSH
26709: LD_INT 0
26711: ST_TO_ADDR
// def_builduptime := 2 ;
26712: LD_ADDR_EXP 30
26716: PUSH
26717: LD_INT 2
26719: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
26720: LD_ADDR_EXP 12
26724: PUSH
26725: LD_INT 0
26727: ST_TO_ADDR
// def_amount_of_tiger := 0 ;
26728: LD_ADDR_EXP 23
26732: PUSH
26733: LD_INT 0
26735: ST_TO_ADDR
// def_respawining_type := 3 ;
26736: LD_ADDR_EXP 24
26740: PUSH
26741: LD_INT 3
26743: ST_TO_ADDR
// def_tech_level := 8 ;
26744: LD_ADDR_EXP 26
26748: PUSH
26749: LD_INT 8
26751: ST_TO_ADDR
// def_upgrade_tl := 0 ;
26752: LD_ADDR_EXP 27
26756: PUSH
26757: LD_INT 0
26759: ST_TO_ADDR
// def_desert_warior := 0 ;
26760: LD_ADDR_EXP 31
26764: PUSH
26765: LD_INT 0
26767: ST_TO_ADDR
// Unavailable_Techs := [ tech_ApeLang ] ;
26768: LD_ADDR_VAR 0 2
26772: PUSH
26773: LD_INT 1
26775: PUSH
26776: EMPTY
26777: LIST
26778: ST_TO_ADDR
// Unavailable_Builds := [ ] ;
26779: LD_ADDR_VAR 0 3
26783: PUSH
26784: EMPTY
26785: ST_TO_ADDR
// Banned_Weapons := [ ] ;
26786: LD_ADDR_LOC 23
26790: PUSH
26791: EMPTY
26792: ST_TO_ADDR
// Banned_Chassis := [ ] ;
26793: LD_ADDR_LOC 24
26797: PUSH
26798: EMPTY
26799: ST_TO_ADDR
// Banned_Controls := [ ] ;
26800: LD_ADDR_LOC 25
26804: PUSH
26805: EMPTY
26806: ST_TO_ADDR
// Banned_Engines := [ ] ;
26807: LD_ADDR_LOC 26
26811: PUSH
26812: EMPTY
26813: ST_TO_ADDR
// Restricted_Builds := [ [ b_Armoury , b_Barracks ] , [ b_Breastwork , b_Bunker , b_Turret ] ] ;
26814: LD_ADDR_LOC 21
26818: PUSH
26819: LD_INT 4
26821: PUSH
26822: LD_INT 5
26824: PUSH
26825: EMPTY
26826: LIST
26827: LIST
26828: PUSH
26829: LD_INT 31
26831: PUSH
26832: LD_INT 32
26834: PUSH
26835: LD_INT 33
26837: PUSH
26838: EMPTY
26839: LIST
26840: LIST
26841: LIST
26842: PUSH
26843: EMPTY
26844: LIST
26845: LIST
26846: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
26847: LD_EXP 1
26851: PUSH
26852: LD_EXP 3
26856: PUSH
26857: LD_EXP 4
26861: ADD
26862: IN
26863: IFFALSE 26882
// Restricted_Builds_Amount := [ 2 , 4 ] else
26865: LD_ADDR_LOC 22
26869: PUSH
26870: LD_INT 2
26872: PUSH
26873: LD_INT 4
26875: PUSH
26876: EMPTY
26877: LIST
26878: LIST
26879: ST_TO_ADDR
26880: GO 26897
// Restricted_Builds_Amount := [ 1 , 2 ] ;
26882: LD_ADDR_LOC 22
26886: PUSH
26887: LD_INT 1
26889: PUSH
26890: LD_INT 2
26892: PUSH
26893: EMPTY
26894: LIST
26895: LIST
26896: ST_TO_ADDR
// end ; 3 :
26897: GO 28824
26899: LD_INT 3
26901: DOUBLE
26902: EQUAL
26903: IFTRUE 26907
26905: GO 27190
26907: POP
// begin def_base_level := 1 ;
26908: LD_ADDR_EXP 10
26912: PUSH
26913: LD_INT 1
26915: ST_TO_ADDR
// def_amount_of_people := 10 ;
26916: LD_ADDR_EXP 11
26920: PUSH
26921: LD_INT 10
26923: ST_TO_ADDR
// def_initial_level := 3 ;
26924: LD_ADDR_EXP 13
26928: PUSH
26929: LD_INT 3
26931: ST_TO_ADDR
// def_starting_resources := 3 ;
26932: LD_ADDR_EXP 15
26936: PUSH
26937: LD_INT 3
26939: ST_TO_ADDR
// def_shipments_density := 1 ;
26940: LD_ADDR_EXP 16
26944: PUSH
26945: LD_INT 1
26947: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
26948: LD_ADDR_EXP 17
26952: PUSH
26953: LD_INT 0
26955: ST_TO_ADDR
// def_extra_sib_deposits := 1 ;
26956: LD_ADDR_EXP 18
26960: PUSH
26961: LD_INT 1
26963: ST_TO_ADDR
// def_shared_vision := 1 ;
26964: LD_ADDR_EXP 19
26968: PUSH
26969: LD_INT 1
26971: ST_TO_ADDR
// def_morale_flags := 0 ;
26972: LD_ADDR_EXP 20
26976: PUSH
26977: LD_INT 0
26979: ST_TO_ADDR
// def_siberite_detection := 1 ;
26980: LD_ADDR_EXP 28
26984: PUSH
26985: LD_INT 1
26987: ST_TO_ADDR
// def_people_respawning := 0 ;
26988: LD_ADDR_EXP 25
26992: PUSH
26993: LD_INT 0
26995: ST_TO_ADDR
// def_amount_of_apemen := 2 ;
26996: LD_ADDR_EXP 22
27000: PUSH
27001: LD_INT 2
27003: ST_TO_ADDR
// def_siberite_bomb := 0 ;
27004: LD_ADDR_EXP 29
27008: PUSH
27009: LD_INT 0
27011: ST_TO_ADDR
// def_builduptime := 1 ;
27012: LD_ADDR_EXP 30
27016: PUSH
27017: LD_INT 1
27019: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
27020: LD_ADDR_EXP 12
27024: PUSH
27025: LD_INT 0
27027: ST_TO_ADDR
// def_amount_of_tiger := 1 ;
27028: LD_ADDR_EXP 23
27032: PUSH
27033: LD_INT 1
27035: ST_TO_ADDR
// def_respawining_type := 3 ;
27036: LD_ADDR_EXP 24
27040: PUSH
27041: LD_INT 3
27043: ST_TO_ADDR
// def_tech_level := 8 ;
27044: LD_ADDR_EXP 26
27048: PUSH
27049: LD_INT 8
27051: ST_TO_ADDR
// def_upgrade_tl := 0 ;
27052: LD_ADDR_EXP 27
27056: PUSH
27057: LD_INT 0
27059: ST_TO_ADDR
// def_desert_warior := 0 ;
27060: LD_ADDR_EXP 31
27064: PUSH
27065: LD_INT 0
27067: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth ] ;
27068: LD_ADDR_VAR 0 2
27072: PUSH
27073: LD_INT 23
27075: PUSH
27076: EMPTY
27077: LIST
27078: ST_TO_ADDR
// Unavailable_Builds := [ b_Workshop , b_Behemoth , b_Bunker , b_Turret , b_Control_Tower , b_ext_track , b_ext_stitch , b_ext_siberium , b_ext_rocket , b_ext_radio , b_ext_radar , b_ext_noncombat , b_ext_laser , b_ext_gun , b_ext_computer ] ;
27079: LD_ADDR_VAR 0 3
27083: PUSH
27084: LD_INT 2
27086: PUSH
27087: LD_INT 37
27089: PUSH
27090: LD_INT 32
27092: PUSH
27093: LD_INT 33
27095: PUSH
27096: LD_INT 36
27098: PUSH
27099: LD_INT 16
27101: PUSH
27102: LD_INT 23
27104: PUSH
27105: LD_INT 21
27107: PUSH
27108: LD_INT 18
27110: PUSH
27111: LD_INT 22
27113: PUSH
27114: LD_INT 20
27116: PUSH
27117: LD_INT 19
27119: PUSH
27120: LD_INT 25
27122: PUSH
27123: LD_INT 17
27125: PUSH
27126: LD_INT 24
27128: PUSH
27129: EMPTY
27130: LIST
27131: LIST
27132: LIST
27133: LIST
27134: LIST
27135: LIST
27136: LIST
27137: LIST
27138: LIST
27139: LIST
27140: LIST
27141: LIST
27142: LIST
27143: LIST
27144: LIST
27145: ST_TO_ADDR
// Banned_Weapons := [ ] ;
27146: LD_ADDR_LOC 23
27150: PUSH
27151: EMPTY
27152: ST_TO_ADDR
// Banned_Chassis := [ ] ;
27153: LD_ADDR_LOC 24
27157: PUSH
27158: EMPTY
27159: ST_TO_ADDR
// Banned_Controls := [ ] ;
27160: LD_ADDR_LOC 25
27164: PUSH
27165: EMPTY
27166: ST_TO_ADDR
// Banned_Engines := [ ] ;
27167: LD_ADDR_LOC 26
27171: PUSH
27172: EMPTY
27173: ST_TO_ADDR
// Restricted_Builds := [ ] ;
27174: LD_ADDR_LOC 21
27178: PUSH
27179: EMPTY
27180: ST_TO_ADDR
// Restricted_Builds_Amount := [ ] ;
27181: LD_ADDR_LOC 22
27185: PUSH
27186: EMPTY
27187: ST_TO_ADDR
// end ; 4 :
27188: GO 28824
27190: LD_INT 4
27192: DOUBLE
27193: EQUAL
27194: IFTRUE 27198
27196: GO 27421
27198: POP
// begin def_base_level := 1 ;
27199: LD_ADDR_EXP 10
27203: PUSH
27204: LD_INT 1
27206: ST_TO_ADDR
// def_amount_of_people := 10 ;
27207: LD_ADDR_EXP 11
27211: PUSH
27212: LD_INT 10
27214: ST_TO_ADDR
// def_initial_level := 3 ;
27215: LD_ADDR_EXP 13
27219: PUSH
27220: LD_INT 3
27222: ST_TO_ADDR
// def_starting_resources := 3 ;
27223: LD_ADDR_EXP 15
27227: PUSH
27228: LD_INT 3
27230: ST_TO_ADDR
// def_shipments_density := 2 ;
27231: LD_ADDR_EXP 16
27235: PUSH
27236: LD_INT 2
27238: ST_TO_ADDR
// def_extra_oil_deposits := 1 ;
27239: LD_ADDR_EXP 17
27243: PUSH
27244: LD_INT 1
27246: ST_TO_ADDR
// def_extra_sib_deposits := 2 ;
27247: LD_ADDR_EXP 18
27251: PUSH
27252: LD_INT 2
27254: ST_TO_ADDR
// def_shared_vision := 1 ;
27255: LD_ADDR_EXP 19
27259: PUSH
27260: LD_INT 1
27262: ST_TO_ADDR
// def_morale_flags := 0 ;
27263: LD_ADDR_EXP 20
27267: PUSH
27268: LD_INT 0
27270: ST_TO_ADDR
// def_siberite_detection := 1 ;
27271: LD_ADDR_EXP 28
27275: PUSH
27276: LD_INT 1
27278: ST_TO_ADDR
// def_people_respawning := 0 ;
27279: LD_ADDR_EXP 25
27283: PUSH
27284: LD_INT 0
27286: ST_TO_ADDR
// def_amount_of_apemen := 0 ;
27287: LD_ADDR_EXP 22
27291: PUSH
27292: LD_INT 0
27294: ST_TO_ADDR
// def_siberite_bomb := 1 ;
27295: LD_ADDR_EXP 29
27299: PUSH
27300: LD_INT 1
27302: ST_TO_ADDR
// def_builduptime := 3 ;
27303: LD_ADDR_EXP 30
27307: PUSH
27308: LD_INT 3
27310: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
27311: LD_ADDR_EXP 12
27315: PUSH
27316: LD_INT 0
27318: ST_TO_ADDR
// def_amount_of_tiger := 0 ;
27319: LD_ADDR_EXP 23
27323: PUSH
27324: LD_INT 0
27326: ST_TO_ADDR
// def_respawining_type := 3 ;
27327: LD_ADDR_EXP 24
27331: PUSH
27332: LD_INT 3
27334: ST_TO_ADDR
// def_tech_level := 8 ;
27335: LD_ADDR_EXP 26
27339: PUSH
27340: LD_INT 8
27342: ST_TO_ADDR
// def_upgrade_tl := 0 ;
27343: LD_ADDR_EXP 27
27347: PUSH
27348: LD_INT 0
27350: ST_TO_ADDR
// def_desert_warior := 0 ;
27351: LD_ADDR_EXP 31
27355: PUSH
27356: LD_INT 0
27358: ST_TO_ADDR
// Unavailable_Techs := [ tech_ApeLang ] ;
27359: LD_ADDR_VAR 0 2
27363: PUSH
27364: LD_INT 1
27366: PUSH
27367: EMPTY
27368: LIST
27369: ST_TO_ADDR
// Unavailable_Builds := [ ] ;
27370: LD_ADDR_VAR 0 3
27374: PUSH
27375: EMPTY
27376: ST_TO_ADDR
// Banned_Weapons := [ ] ;
27377: LD_ADDR_LOC 23
27381: PUSH
27382: EMPTY
27383: ST_TO_ADDR
// Banned_Chassis := [ ] ;
27384: LD_ADDR_LOC 24
27388: PUSH
27389: EMPTY
27390: ST_TO_ADDR
// Banned_Controls := [ ] ;
27391: LD_ADDR_LOC 25
27395: PUSH
27396: EMPTY
27397: ST_TO_ADDR
// Banned_Engines := [ ] ;
27398: LD_ADDR_LOC 26
27402: PUSH
27403: EMPTY
27404: ST_TO_ADDR
// Restricted_Builds := [ ] ;
27405: LD_ADDR_LOC 21
27409: PUSH
27410: EMPTY
27411: ST_TO_ADDR
// Restricted_Builds_Amount := [ ] ;
27412: LD_ADDR_LOC 22
27416: PUSH
27417: EMPTY
27418: ST_TO_ADDR
// end ; 5 :
27419: GO 28824
27421: LD_INT 5
27423: DOUBLE
27424: EQUAL
27425: IFTRUE 27429
27427: GO 27761
27429: POP
// begin def_base_level := 0 ;
27430: LD_ADDR_EXP 10
27434: PUSH
27435: LD_INT 0
27437: ST_TO_ADDR
// def_amount_of_people := 3 ;
27438: LD_ADDR_EXP 11
27442: PUSH
27443: LD_INT 3
27445: ST_TO_ADDR
// def_initial_level := 0 ;
27446: LD_ADDR_EXP 13
27450: PUSH
27451: LD_INT 0
27453: ST_TO_ADDR
// def_starting_resources := 0 ;
27454: LD_ADDR_EXP 15
27458: PUSH
27459: LD_INT 0
27461: ST_TO_ADDR
// def_shipments_density := 0 ;
27462: LD_ADDR_EXP 16
27466: PUSH
27467: LD_INT 0
27469: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
27470: LD_ADDR_EXP 17
27474: PUSH
27475: LD_INT 0
27477: ST_TO_ADDR
// def_extra_sib_deposits := 0 ;
27478: LD_ADDR_EXP 18
27482: PUSH
27483: LD_INT 0
27485: ST_TO_ADDR
// def_shared_vision := 1 ;
27486: LD_ADDR_EXP 19
27490: PUSH
27491: LD_INT 1
27493: ST_TO_ADDR
// def_morale_flags := 0 ;
27494: LD_ADDR_EXP 20
27498: PUSH
27499: LD_INT 0
27501: ST_TO_ADDR
// def_siberite_detection := 0 ;
27502: LD_ADDR_EXP 28
27506: PUSH
27507: LD_INT 0
27509: ST_TO_ADDR
// def_people_respawning := 1 ;
27510: LD_ADDR_EXP 25
27514: PUSH
27515: LD_INT 1
27517: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
27518: LD_ADDR_EXP 22
27522: PUSH
27523: LD_INT 1
27525: ST_TO_ADDR
// def_siberite_bomb := 0 ;
27526: LD_ADDR_EXP 29
27530: PUSH
27531: LD_INT 0
27533: ST_TO_ADDR
// def_builduptime := 0 ;
27534: LD_ADDR_EXP 30
27538: PUSH
27539: LD_INT 0
27541: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
27542: LD_ADDR_EXP 12
27546: PUSH
27547: LD_INT 0
27549: ST_TO_ADDR
// def_amount_of_tiger := 2 ;
27550: LD_ADDR_EXP 23
27554: PUSH
27555: LD_INT 2
27557: ST_TO_ADDR
// def_respawining_type := 3 ;
27558: LD_ADDR_EXP 24
27562: PUSH
27563: LD_INT 3
27565: ST_TO_ADDR
// def_tech_level := 8 ;
27566: LD_ADDR_EXP 26
27570: PUSH
27571: LD_INT 8
27573: ST_TO_ADDR
// def_upgrade_tl := 0 ;
27574: LD_ADDR_EXP 27
27578: PUSH
27579: LD_INT 0
27581: ST_TO_ADDR
// def_desert_warior := 0 ;
27582: LD_ADDR_EXP 31
27586: PUSH
27587: LD_INT 0
27589: ST_TO_ADDR
// Unavailable_Techs := [ tech_Laser , tech_ApeNeural ] ;
27590: LD_ADDR_VAR 0 2
27594: PUSH
27595: LD_INT 10
27597: PUSH
27598: LD_INT 3
27600: PUSH
27601: EMPTY
27602: LIST
27603: LIST
27604: ST_TO_ADDR
// Unavailable_Builds := [ b_Lab_Computer , b_Lab_Siberium , b_Lab_Spacetime , b_Lab_Biological , b_Barracks , b_ext_Computer , b_ext_Siberium , b_Turret , b_Control_Tower ] ;
27605: LD_ADDR_VAR 0 3
27609: PUSH
27610: LD_INT 12
27612: PUSH
27613: LD_INT 11
27615: PUSH
27616: LD_INT 14
27618: PUSH
27619: LD_INT 13
27621: PUSH
27622: LD_INT 5
27624: PUSH
27625: LD_INT 24
27627: PUSH
27628: LD_INT 21
27630: PUSH
27631: LD_INT 33
27633: PUSH
27634: LD_INT 36
27636: PUSH
27637: EMPTY
27638: LIST
27639: LIST
27640: LIST
27641: LIST
27642: LIST
27643: LIST
27644: LIST
27645: LIST
27646: LIST
27647: ST_TO_ADDR
// Banned_Weapons := [ ar_Control_Tower ] ;
27648: LD_ADDR_LOC 23
27652: PUSH
27653: LD_INT 31
27655: PUSH
27656: EMPTY
27657: LIST
27658: ST_TO_ADDR
// Banned_Chassis := [ ] ;
27659: LD_ADDR_LOC 24
27663: PUSH
27664: EMPTY
27665: ST_TO_ADDR
// Banned_Controls := [ control_Remote ] ;
27666: LD_ADDR_LOC 25
27670: PUSH
27671: LD_INT 2
27673: PUSH
27674: EMPTY
27675: LIST
27676: ST_TO_ADDR
// Banned_Engines := [ ] ;
27677: LD_ADDR_LOC 26
27681: PUSH
27682: EMPTY
27683: ST_TO_ADDR
// Restricted_Builds := [ [ b_Armoury ] , [ b_Breastwork , b_Bunker ] ] ;
27684: LD_ADDR_LOC 21
27688: PUSH
27689: LD_INT 4
27691: PUSH
27692: EMPTY
27693: LIST
27694: PUSH
27695: LD_INT 31
27697: PUSH
27698: LD_INT 32
27700: PUSH
27701: EMPTY
27702: LIST
27703: LIST
27704: PUSH
27705: EMPTY
27706: LIST
27707: LIST
27708: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
27709: LD_EXP 1
27713: PUSH
27714: LD_EXP 3
27718: PUSH
27719: LD_EXP 4
27723: ADD
27724: IN
27725: IFFALSE 27744
// Restricted_Builds_Amount := [ 2 , 2 ] else
27727: LD_ADDR_LOC 22
27731: PUSH
27732: LD_INT 2
27734: PUSH
27735: LD_INT 2
27737: PUSH
27738: EMPTY
27739: LIST
27740: LIST
27741: ST_TO_ADDR
27742: GO 27759
// Restricted_Builds_Amount := [ 1 , 1 ] ;
27744: LD_ADDR_LOC 22
27748: PUSH
27749: LD_INT 1
27751: PUSH
27752: LD_INT 1
27754: PUSH
27755: EMPTY
27756: LIST
27757: LIST
27758: ST_TO_ADDR
// end ; 6 :
27759: GO 28824
27761: LD_INT 6
27763: DOUBLE
27764: EQUAL
27765: IFTRUE 27769
27767: GO 28047
27769: POP
// begin def_base_level := 1 ;
27770: LD_ADDR_EXP 10
27774: PUSH
27775: LD_INT 1
27777: ST_TO_ADDR
// def_amount_of_people := 10 ;
27778: LD_ADDR_EXP 11
27782: PUSH
27783: LD_INT 10
27785: ST_TO_ADDR
// def_initial_level := 3 ;
27786: LD_ADDR_EXP 13
27790: PUSH
27791: LD_INT 3
27793: ST_TO_ADDR
// def_starting_resources := 3 ;
27794: LD_ADDR_EXP 15
27798: PUSH
27799: LD_INT 3
27801: ST_TO_ADDR
// def_shipments_density := 1 ;
27802: LD_ADDR_EXP 16
27806: PUSH
27807: LD_INT 1
27809: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
27810: LD_ADDR_EXP 17
27814: PUSH
27815: LD_INT 0
27817: ST_TO_ADDR
// def_extra_sib_deposits := 1 ;
27818: LD_ADDR_EXP 18
27822: PUSH
27823: LD_INT 1
27825: ST_TO_ADDR
// def_shared_vision := 1 ;
27826: LD_ADDR_EXP 19
27830: PUSH
27831: LD_INT 1
27833: ST_TO_ADDR
// def_morale_flags := 0 ;
27834: LD_ADDR_EXP 20
27838: PUSH
27839: LD_INT 0
27841: ST_TO_ADDR
// def_siberite_detection := 1 ;
27842: LD_ADDR_EXP 28
27846: PUSH
27847: LD_INT 1
27849: ST_TO_ADDR
// def_people_respawning := 2 ;
27850: LD_ADDR_EXP 25
27854: PUSH
27855: LD_INT 2
27857: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
27858: LD_ADDR_EXP 22
27862: PUSH
27863: LD_INT 1
27865: ST_TO_ADDR
// def_siberite_bomb := 0 ;
27866: LD_ADDR_EXP 29
27870: PUSH
27871: LD_INT 0
27873: ST_TO_ADDR
// def_builduptime := 1 ;
27874: LD_ADDR_EXP 30
27878: PUSH
27879: LD_INT 1
27881: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
27882: LD_ADDR_EXP 12
27886: PUSH
27887: LD_INT 0
27889: ST_TO_ADDR
// def_amount_of_tiger := 1 ;
27890: LD_ADDR_EXP 23
27894: PUSH
27895: LD_INT 1
27897: ST_TO_ADDR
// def_respawining_type := 3 ;
27898: LD_ADDR_EXP 24
27902: PUSH
27903: LD_INT 3
27905: ST_TO_ADDR
// def_tech_level := 8 ;
27906: LD_ADDR_EXP 26
27910: PUSH
27911: LD_INT 8
27913: ST_TO_ADDR
// def_upgrade_tl := 0 ;
27914: LD_ADDR_EXP 27
27918: PUSH
27919: LD_INT 0
27921: ST_TO_ADDR
// def_desert_warior := 0 ;
27922: LD_ADDR_EXP 31
27926: PUSH
27927: LD_INT 0
27929: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth ] ;
27930: LD_ADDR_VAR 0 2
27934: PUSH
27935: LD_INT 23
27937: PUSH
27938: EMPTY
27939: LIST
27940: ST_TO_ADDR
// Unavailable_Builds := [ b_Workshop , b_Behemoth , b_Breastwork , b_Bunker , b_Turret ] ;
27941: LD_ADDR_VAR 0 3
27945: PUSH
27946: LD_INT 2
27948: PUSH
27949: LD_INT 37
27951: PUSH
27952: LD_INT 31
27954: PUSH
27955: LD_INT 32
27957: PUSH
27958: LD_INT 33
27960: PUSH
27961: EMPTY
27962: LIST
27963: LIST
27964: LIST
27965: LIST
27966: LIST
27967: ST_TO_ADDR
// Banned_Weapons := [ ] ;
27968: LD_ADDR_LOC 23
27972: PUSH
27973: EMPTY
27974: ST_TO_ADDR
// Banned_Chassis := [ ] ;
27975: LD_ADDR_LOC 24
27979: PUSH
27980: EMPTY
27981: ST_TO_ADDR
// Banned_Controls := [ ] ;
27982: LD_ADDR_LOC 25
27986: PUSH
27987: EMPTY
27988: ST_TO_ADDR
// Banned_Engines := [ ] ;
27989: LD_ADDR_LOC 26
27993: PUSH
27994: EMPTY
27995: ST_TO_ADDR
// Restricted_Builds := [ [ b_Armoury , b_barracks ] ] ;
27996: LD_ADDR_LOC 21
28000: PUSH
28001: LD_INT 4
28003: PUSH
28004: LD_INT 5
28006: PUSH
28007: EMPTY
28008: LIST
28009: LIST
28010: PUSH
28011: EMPTY
28012: LIST
28013: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
28014: LD_EXP 1
28018: PUSH
28019: LD_EXP 3
28023: PUSH
28024: LD_EXP 4
28028: ADD
28029: IN
28030: IFFALSE 28034
// else
28032: GO 28045
// Restricted_Builds_Amount := [ 1 ] ;
28034: LD_ADDR_LOC 22
28038: PUSH
28039: LD_INT 1
28041: PUSH
28042: EMPTY
28043: LIST
28044: ST_TO_ADDR
// end ; 7 :
28045: GO 28824
28047: LD_INT 7
28049: DOUBLE
28050: EQUAL
28051: IFTRUE 28055
28053: GO 28332
28055: POP
// begin def_base_level := 1 ;
28056: LD_ADDR_EXP 10
28060: PUSH
28061: LD_INT 1
28063: ST_TO_ADDR
// def_amount_of_people := 10 ;
28064: LD_ADDR_EXP 11
28068: PUSH
28069: LD_INT 10
28071: ST_TO_ADDR
// def_initial_level := 3 ;
28072: LD_ADDR_EXP 13
28076: PUSH
28077: LD_INT 3
28079: ST_TO_ADDR
// def_starting_resources := 3 ;
28080: LD_ADDR_EXP 15
28084: PUSH
28085: LD_INT 3
28087: ST_TO_ADDR
// def_shipments_density := 1 ;
28088: LD_ADDR_EXP 16
28092: PUSH
28093: LD_INT 1
28095: ST_TO_ADDR
// def_extra_oil_deposits := 1 ;
28096: LD_ADDR_EXP 17
28100: PUSH
28101: LD_INT 1
28103: ST_TO_ADDR
// def_extra_sib_deposits := 2 ;
28104: LD_ADDR_EXP 18
28108: PUSH
28109: LD_INT 2
28111: ST_TO_ADDR
// def_shared_vision := 1 ;
28112: LD_ADDR_EXP 19
28116: PUSH
28117: LD_INT 1
28119: ST_TO_ADDR
// def_morale_flags := 0 ;
28120: LD_ADDR_EXP 20
28124: PUSH
28125: LD_INT 0
28127: ST_TO_ADDR
// def_siberite_detection := 1 ;
28128: LD_ADDR_EXP 28
28132: PUSH
28133: LD_INT 1
28135: ST_TO_ADDR
// def_people_respawning := 0 ;
28136: LD_ADDR_EXP 25
28140: PUSH
28141: LD_INT 0
28143: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
28144: LD_ADDR_EXP 22
28148: PUSH
28149: LD_INT 1
28151: ST_TO_ADDR
// def_siberite_bomb := 0 ;
28152: LD_ADDR_EXP 29
28156: PUSH
28157: LD_INT 0
28159: ST_TO_ADDR
// def_builduptime := 3 ;
28160: LD_ADDR_EXP 30
28164: PUSH
28165: LD_INT 3
28167: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
28168: LD_ADDR_EXP 12
28172: PUSH
28173: LD_INT 0
28175: ST_TO_ADDR
// def_amount_of_tiger := 1 ;
28176: LD_ADDR_EXP 23
28180: PUSH
28181: LD_INT 1
28183: ST_TO_ADDR
// def_respawining_type := 3 ;
28184: LD_ADDR_EXP 24
28188: PUSH
28189: LD_INT 3
28191: ST_TO_ADDR
// def_tech_level := 8 ;
28192: LD_ADDR_EXP 26
28196: PUSH
28197: LD_INT 8
28199: ST_TO_ADDR
// def_upgrade_tl := 0 ;
28200: LD_ADDR_EXP 27
28204: PUSH
28205: LD_INT 0
28207: ST_TO_ADDR
// def_desert_warior := 0 ;
28208: LD_ADDR_EXP 31
28212: PUSH
28213: LD_INT 0
28215: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth ] ;
28216: LD_ADDR_VAR 0 2
28220: PUSH
28221: LD_INT 23
28223: PUSH
28224: EMPTY
28225: LIST
28226: ST_TO_ADDR
// Unavailable_Builds := [ b_Behemoth ] ;
28227: LD_ADDR_VAR 0 3
28231: PUSH
28232: LD_INT 37
28234: PUSH
28235: EMPTY
28236: LIST
28237: ST_TO_ADDR
// Banned_Weapons := [ ] ;
28238: LD_ADDR_LOC 23
28242: PUSH
28243: EMPTY
28244: ST_TO_ADDR
// Banned_Chassis := [ ] ;
28245: LD_ADDR_LOC 24
28249: PUSH
28250: EMPTY
28251: ST_TO_ADDR
// Banned_Controls := [ ] ;
28252: LD_ADDR_LOC 25
28256: PUSH
28257: EMPTY
28258: ST_TO_ADDR
// Banned_Engines := [ ] ;
28259: LD_ADDR_LOC 26
28263: PUSH
28264: EMPTY
28265: ST_TO_ADDR
// Restricted_Builds := [ [ b_Breastwork , b_Bunker , b_Turret ] ] ;
28266: LD_ADDR_LOC 21
28270: PUSH
28271: LD_INT 31
28273: PUSH
28274: LD_INT 32
28276: PUSH
28277: LD_INT 33
28279: PUSH
28280: EMPTY
28281: LIST
28282: LIST
28283: LIST
28284: PUSH
28285: EMPTY
28286: LIST
28287: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
28288: LD_EXP 1
28292: PUSH
28293: LD_EXP 3
28297: PUSH
28298: LD_EXP 4
28302: ADD
28303: IN
28304: IFFALSE 28319
// Restricted_Builds_Amount := [ 20 ] else
28306: LD_ADDR_LOC 22
28310: PUSH
28311: LD_INT 20
28313: PUSH
28314: EMPTY
28315: LIST
28316: ST_TO_ADDR
28317: GO 28330
// Restricted_Builds_Amount := [ 10 ] ;
28319: LD_ADDR_LOC 22
28323: PUSH
28324: LD_INT 10
28326: PUSH
28327: EMPTY
28328: LIST
28329: ST_TO_ADDR
// end ; 8 :
28330: GO 28824
28332: LD_INT 8
28334: DOUBLE
28335: EQUAL
28336: IFTRUE 28340
28338: GO 28823
28340: POP
// begin def_base_level := 0 ;
28341: LD_ADDR_EXP 10
28345: PUSH
28346: LD_INT 0
28348: ST_TO_ADDR
// def_amount_of_people := Rand ( 4 , 8 ) ;
28349: LD_ADDR_EXP 11
28353: PUSH
28354: LD_INT 4
28356: PPUSH
28357: LD_INT 8
28359: PPUSH
28360: CALL_OW 12
28364: ST_TO_ADDR
// def_initial_level := 0 ;
28365: LD_ADDR_EXP 13
28369: PUSH
28370: LD_INT 0
28372: ST_TO_ADDR
// def_starting_resources := 2 ;
28373: LD_ADDR_EXP 15
28377: PUSH
28378: LD_INT 2
28380: ST_TO_ADDR
// def_shipments_density := 1 ;
28381: LD_ADDR_EXP 16
28385: PUSH
28386: LD_INT 1
28388: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
28389: LD_ADDR_EXP 17
28393: PUSH
28394: LD_INT 0
28396: ST_TO_ADDR
// def_extra_sib_deposits := 0 ;
28397: LD_ADDR_EXP 18
28401: PUSH
28402: LD_INT 0
28404: ST_TO_ADDR
// def_shared_vision := 1 ;
28405: LD_ADDR_EXP 19
28409: PUSH
28410: LD_INT 1
28412: ST_TO_ADDR
// def_morale_flags := Rand ( 0 , 2 ) ;
28413: LD_ADDR_EXP 20
28417: PUSH
28418: LD_INT 0
28420: PPUSH
28421: LD_INT 2
28423: PPUSH
28424: CALL_OW 12
28428: ST_TO_ADDR
// def_siberite_detection := 0 ;
28429: LD_ADDR_EXP 28
28433: PUSH
28434: LD_INT 0
28436: ST_TO_ADDR
// def_people_respawning := 0 ;
28437: LD_ADDR_EXP 25
28441: PUSH
28442: LD_INT 0
28444: ST_TO_ADDR
// def_amount_of_apemen := 2 ;
28445: LD_ADDR_EXP 22
28449: PUSH
28450: LD_INT 2
28452: ST_TO_ADDR
// def_siberite_bomb := 0 ;
28453: LD_ADDR_EXP 29
28457: PUSH
28458: LD_INT 0
28460: ST_TO_ADDR
// def_builduptime := 0 ;
28461: LD_ADDR_EXP 30
28465: PUSH
28466: LD_INT 0
28468: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
28469: LD_ADDR_EXP 12
28473: PUSH
28474: LD_INT 0
28476: ST_TO_ADDR
// def_amount_of_tiger := 2 ;
28477: LD_ADDR_EXP 23
28481: PUSH
28482: LD_INT 2
28484: ST_TO_ADDR
// def_respawining_type := 3 ;
28485: LD_ADDR_EXP 24
28489: PUSH
28490: LD_INT 3
28492: ST_TO_ADDR
// def_tech_level := 8 ;
28493: LD_ADDR_EXP 26
28497: PUSH
28498: LD_INT 8
28500: ST_TO_ADDR
// def_upgrade_tl := 0 ;
28501: LD_ADDR_EXP 27
28505: PUSH
28506: LD_INT 0
28508: ST_TO_ADDR
// def_desert_warior := 0 ;
28509: LD_ADDR_EXP 31
28513: PUSH
28514: LD_INT 0
28516: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth , tech_SibDet , tech_Rocket , tech_OilEng , tech_OilPow , tech_Gun , tech_AdvRocket , tech_AdvMet , tech_Mortar , tech_Bazooka , tech_HidCam , tech_PartInvis ] ;
28517: LD_ADDR_VAR 0 2
28521: PUSH
28522: LD_INT 23
28524: PUSH
28525: LD_INT 20
28527: PUSH
28528: LD_INT 40
28530: PUSH
28531: LD_INT 47
28533: PUSH
28534: LD_INT 46
28536: PUSH
28537: LD_INT 39
28539: PUSH
28540: LD_INT 71
28542: PUSH
28543: LD_INT 34
28545: PUSH
28546: LD_INT 41
28548: PUSH
28549: LD_INT 44
28551: PUSH
28552: LD_INT 17
28554: PUSH
28555: LD_INT 16
28557: PUSH
28558: EMPTY
28559: LIST
28560: LIST
28561: LIST
28562: LIST
28563: LIST
28564: LIST
28565: LIST
28566: LIST
28567: LIST
28568: LIST
28569: LIST
28570: LIST
28571: ST_TO_ADDR
// Unavailable_Builds := [ b_Behemoth , b_Barracks , b_Lab_Biological , b_Teleport , b_Lab_Computer , b_Lab_Opto , b_Lab_Siberium , b_Lab_Spacetime , b_Oil_Mine , b_Siberite_Mine , b_Siberite_Power , b_Ext_Computer , b_Ext_Laser , b_Ext_Radar , b_Ext_Siberium , b_Ext_Radio , b_Control_Tower ] ;
28572: LD_ADDR_VAR 0 3
28576: PUSH
28577: LD_INT 37
28579: PUSH
28580: LD_INT 5
28582: PUSH
28583: LD_INT 13
28585: PUSH
28586: LD_INT 34
28588: PUSH
28589: LD_INT 12
28591: PUSH
28592: LD_INT 15
28594: PUSH
28595: LD_INT 11
28597: PUSH
28598: LD_INT 14
28600: PUSH
28601: LD_INT 29
28603: PUSH
28604: LD_INT 30
28606: PUSH
28607: LD_INT 28
28609: PUSH
28610: LD_INT 24
28612: PUSH
28613: LD_INT 25
28615: PUSH
28616: LD_INT 20
28618: PUSH
28619: LD_INT 21
28621: PUSH
28622: LD_INT 22
28624: PUSH
28625: LD_INT 36
28627: PUSH
28628: EMPTY
28629: LIST
28630: LIST
28631: LIST
28632: LIST
28633: LIST
28634: LIST
28635: LIST
28636: LIST
28637: LIST
28638: LIST
28639: LIST
28640: LIST
28641: LIST
28642: LIST
28643: LIST
28644: LIST
28645: LIST
28646: ST_TO_ADDR
// Banned_Weapons := [ ] ;
28647: LD_ADDR_LOC 23
28651: PUSH
28652: EMPTY
28653: ST_TO_ADDR
// Banned_Chassis := [ ar_half_tracked ] ;
28654: LD_ADDR_LOC 24
28658: PUSH
28659: LD_INT 14
28661: PUSH
28662: EMPTY
28663: LIST
28664: ST_TO_ADDR
// Banned_Controls := [ ] ;
28665: LD_ADDR_LOC 25
28669: PUSH
28670: EMPTY
28671: ST_TO_ADDR
// Banned_Engines := [ ] ;
28672: LD_ADDR_LOC 26
28676: PUSH
28677: EMPTY
28678: ST_TO_ADDR
// Restricted_Builds := [ [ b_Breastwork , b_Bunker ] , [ b_Armoury ] ] ;
28679: LD_ADDR_LOC 21
28683: PUSH
28684: LD_INT 31
28686: PUSH
28687: LD_INT 32
28689: PUSH
28690: EMPTY
28691: LIST
28692: LIST
28693: PUSH
28694: LD_INT 4
28696: PUSH
28697: EMPTY
28698: LIST
28699: PUSH
28700: EMPTY
28701: LIST
28702: LIST
28703: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
28704: LD_EXP 1
28708: PUSH
28709: LD_EXP 3
28713: PUSH
28714: LD_EXP 4
28718: ADD
28719: IN
28720: IFFALSE 28739
// Restricted_Builds_Amount := [ 4 , 2 ] else
28722: LD_ADDR_LOC 22
28726: PUSH
28727: LD_INT 4
28729: PUSH
28730: LD_INT 2
28732: PUSH
28733: EMPTY
28734: LIST
28735: LIST
28736: ST_TO_ADDR
28737: GO 28754
// Restricted_Builds_Amount := [ 2 , 1 ] ;
28739: LD_ADDR_LOC 22
28743: PUSH
28744: LD_INT 2
28746: PUSH
28747: LD_INT 1
28749: PUSH
28750: EMPTY
28751: LIST
28752: LIST
28753: ST_TO_ADDR
// for i := 1 to 8 do
28754: LD_ADDR_VAR 0 4
28758: PUSH
28759: DOUBLE
28760: LD_INT 1
28762: DEC
28763: ST_TO_ADDR
28764: LD_INT 8
28766: PUSH
28767: FOR_TO
28768: IFFALSE 28819
// if ( Side_Nations [ i ] = 3 ) then
28770: LD_EXP 76
28774: PUSH
28775: LD_VAR 0 4
28779: ARRAY
28780: PUSH
28781: LD_INT 3
28783: EQUAL
28784: IFFALSE 28817
// Side_Nations := Replace ( Side_Nations , i , Rand ( 1 , 2 ) ) ;
28786: LD_ADDR_EXP 76
28790: PUSH
28791: LD_EXP 76
28795: PPUSH
28796: LD_VAR 0 4
28800: PPUSH
28801: LD_INT 1
28803: PPUSH
28804: LD_INT 2
28806: PPUSH
28807: CALL_OW 12
28811: PPUSH
28812: CALL_OW 1
28816: ST_TO_ADDR
28817: GO 28767
28819: POP
28820: POP
// end ; end ;
28821: GO 28824
28823: POP
// for i := 1 to 8 do
28824: LD_ADDR_VAR 0 4
28828: PUSH
28829: DOUBLE
28830: LD_INT 1
28832: DEC
28833: ST_TO_ADDR
28834: LD_INT 8
28836: PUSH
28837: FOR_TO
28838: IFFALSE 28922
// if Side_Positions [ i ] then
28840: LD_EXP 75
28844: PUSH
28845: LD_VAR 0 4
28849: ARRAY
28850: IFFALSE 28920
// begin for j in Unavailable_Techs do
28852: LD_ADDR_VAR 0 5
28856: PUSH
28857: LD_VAR 0 2
28861: PUSH
28862: FOR_IN
28863: IFFALSE 28884
// SetTech ( j , i , 0 ) ;
28865: LD_VAR 0 5
28869: PPUSH
28870: LD_VAR 0 4
28874: PPUSH
28875: LD_INT 0
28877: PPUSH
28878: CALL_OW 322
28882: GO 28862
28884: POP
28885: POP
// for j in Unavailable_Builds do
28886: LD_ADDR_VAR 0 5
28890: PUSH
28891: LD_VAR 0 3
28895: PUSH
28896: FOR_IN
28897: IFFALSE 28918
// SetRestrict ( j , i , 0 ) ;
28899: LD_VAR 0 5
28903: PPUSH
28904: LD_VAR 0 4
28908: PPUSH
28909: LD_INT 0
28911: PPUSH
28912: CALL_OW 324
28916: GO 28896
28918: POP
28919: POP
// end ;
28920: GO 28837
28922: POP
28923: POP
// end ;
28924: LD_VAR 0 1
28928: RET
// export function InitLimits ; var i , j , k , amount , btype , list ; begin
28929: LD_INT 0
28931: PPUSH
28932: PPUSH
28933: PPUSH
28934: PPUSH
28935: PPUSH
28936: PPUSH
28937: PPUSH
// for i := 1 to Restricted_Builds do
28938: LD_ADDR_VAR 0 2
28942: PUSH
28943: DOUBLE
28944: LD_INT 1
28946: DEC
28947: ST_TO_ADDR
28948: LD_LOC 21
28952: PUSH
28953: FOR_TO
28954: IFFALSE 29264
// begin case Restricted_Builds [ i ] [ 1 ] of b_Breastwork , b_Bunker , b_Turret :
28956: LD_LOC 21
28960: PUSH
28961: LD_VAR 0 2
28965: ARRAY
28966: PUSH
28967: LD_INT 1
28969: ARRAY
28970: PUSH
28971: LD_INT 31
28973: DOUBLE
28974: EQUAL
28975: IFTRUE 28991
28977: LD_INT 32
28979: DOUBLE
28980: EQUAL
28981: IFTRUE 28991
28983: LD_INT 33
28985: DOUBLE
28986: EQUAL
28987: IFTRUE 28991
28989: GO 29002
28991: POP
// btype := #Turrets ; b_Armoury , b_Barracks :
28992: LD_ADDR_VAR 0 6
28996: PUSH
28997: LD_STRING #Turrets
28999: ST_TO_ADDR
29000: GO 29047
29002: LD_INT 4
29004: DOUBLE
29005: EQUAL
29006: IFTRUE 29016
29008: LD_INT 5
29010: DOUBLE
29011: EQUAL
29012: IFTRUE 29016
29014: GO 29027
29016: POP
// btype := #Armouries ; b_Behemoth :
29017: LD_ADDR_VAR 0 6
29021: PUSH
29022: LD_STRING #Armouries
29024: ST_TO_ADDR
29025: GO 29047
29027: LD_INT 37
29029: DOUBLE
29030: EQUAL
29031: IFTRUE 29035
29033: GO 29046
29035: POP
// btype := #Behemoths ; end ;
29036: LD_ADDR_VAR 0 6
29040: PUSH
29041: LD_STRING #Behemoths
29043: ST_TO_ADDR
29044: GO 29047
29046: POP
// list := [ ] ;
29047: LD_ADDR_VAR 0 7
29051: PUSH
29052: EMPTY
29053: ST_TO_ADDR
// for j := 1 to 8 do
29054: LD_ADDR_VAR 0 3
29058: PUSH
29059: DOUBLE
29060: LD_INT 1
29062: DEC
29063: ST_TO_ADDR
29064: LD_INT 8
29066: PUSH
29067: FOR_TO
29068: IFFALSE 29161
// if Side_Positions [ j ] then
29070: LD_EXP 75
29074: PUSH
29075: LD_VAR 0 3
29079: ARRAY
29080: IFFALSE 29159
// begin amount := 0 ;
29082: LD_ADDR_VAR 0 5
29086: PUSH
29087: LD_INT 0
29089: ST_TO_ADDR
// for k in Restricted_Builds [ i ] do
29090: LD_ADDR_VAR 0 4
29094: PUSH
29095: LD_LOC 21
29099: PUSH
29100: LD_VAR 0 2
29104: ARRAY
29105: PUSH
29106: FOR_IN
29107: IFFALSE 29155
// amount := amount + FilterAllUnits ( [ [ f_side , j ] , [ f_btype , k ] ] ) ;
29109: LD_ADDR_VAR 0 5
29113: PUSH
29114: LD_VAR 0 5
29118: PUSH
29119: LD_INT 22
29121: PUSH
29122: LD_VAR 0 3
29126: PUSH
29127: EMPTY
29128: LIST
29129: LIST
29130: PUSH
29131: LD_INT 30
29133: PUSH
29134: LD_VAR 0 4
29138: PUSH
29139: EMPTY
29140: LIST
29141: LIST
29142: PUSH
29143: EMPTY
29144: LIST
29145: LIST
29146: PPUSH
29147: CALL_OW 69
29151: PLUS
29152: ST_TO_ADDR
29153: GO 29106
29155: POP
29156: POP
// continue ;
29157: GO 29067
// end ;
29159: GO 29067
29161: POP
29162: POP
// list := [ ] ;
29163: LD_ADDR_VAR 0 7
29167: PUSH
29168: EMPTY
29169: ST_TO_ADDR
// for j := 1 to 8 do
29170: LD_ADDR_VAR 0 3
29174: PUSH
29175: DOUBLE
29176: LD_INT 1
29178: DEC
29179: ST_TO_ADDR
29180: LD_INT 8
29182: PUSH
29183: FOR_TO
29184: IFFALSE 29204
// list := list ^ amount ;
29186: LD_ADDR_VAR 0 7
29190: PUSH
29191: LD_VAR 0 7
29195: PUSH
29196: LD_VAR 0 5
29200: ADD
29201: ST_TO_ADDR
29202: GO 29183
29204: POP
29205: POP
// Already_Built := Already_Built ^ [ list ] ;
29206: LD_ADDR_LOC 27
29210: PUSH
29211: LD_LOC 27
29215: PUSH
29216: LD_VAR 0 7
29220: PUSH
29221: EMPTY
29222: LIST
29223: ADD
29224: ST_TO_ADDR
// Limits_Info := Limits_Info ^ [ btype , amount , Restricted_Builds_Amount [ i ] ] ;
29225: LD_ADDR_LOC 28
29229: PUSH
29230: LD_LOC 28
29234: PUSH
29235: LD_VAR 0 6
29239: PUSH
29240: LD_VAR 0 5
29244: PUSH
29245: LD_LOC 22
29249: PUSH
29250: LD_VAR 0 2
29254: ARRAY
29255: PUSH
29256: EMPTY
29257: LIST
29258: LIST
29259: LIST
29260: ADD
29261: ST_TO_ADDR
// end ;
29262: GO 28953
29264: POP
29265: POP
// Cheaters := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
29266: LD_ADDR_LOC 29
29270: PUSH
29271: LD_INT 0
29273: PUSH
29274: LD_INT 0
29276: PUSH
29277: LD_INT 0
29279: PUSH
29280: LD_INT 0
29282: PUSH
29283: LD_INT 0
29285: PUSH
29286: LD_INT 0
29288: PUSH
29289: LD_INT 0
29291: PUSH
29292: LD_INT 0
29294: PUSH
29295: EMPTY
29296: LIST
29297: LIST
29298: LIST
29299: LIST
29300: LIST
29301: LIST
29302: LIST
29303: LIST
29304: ST_TO_ADDR
// if Limits_Info then
29305: LD_LOC 28
29309: IFFALSE 29325
// Limits_Info := #Limits ^ Limits_Info ;
29311: LD_ADDR_LOC 28
29315: PUSH
29316: LD_STRING #Limits
29318: PUSH
29319: LD_LOC 28
29323: ADD
29324: ST_TO_ADDR
// end ;
29325: LD_VAR 0 1
29329: RET
// export function ExecuteLimits ( un , BType , side , old_side , count ) ; var i , j , Is_Cheater ; begin
29330: LD_INT 0
29332: PPUSH
29333: PPUSH
29334: PPUSH
29335: PPUSH
// for i := 1 to Restricted_Builds do
29336: LD_ADDR_VAR 0 7
29340: PUSH
29341: DOUBLE
29342: LD_INT 1
29344: DEC
29345: ST_TO_ADDR
29346: LD_LOC 21
29350: PUSH
29351: FOR_TO
29352: IFFALSE 29775
// if BType in Restricted_Builds [ i ] then
29354: LD_VAR 0 2
29358: PUSH
29359: LD_LOC 21
29363: PUSH
29364: LD_VAR 0 7
29368: ARRAY
29369: IN
29370: IFFALSE 29773
// begin if old_side then
29372: LD_VAR 0 4
29376: IFFALSE 29502
// if Already_Built [ i ] [ side ] + count > Restricted_Builds_Amount [ i ] then
29378: LD_LOC 27
29382: PUSH
29383: LD_VAR 0 7
29387: ARRAY
29388: PUSH
29389: LD_VAR 0 3
29393: ARRAY
29394: PUSH
29395: LD_VAR 0 5
29399: PLUS
29400: PUSH
29401: LD_LOC 22
29405: PUSH
29406: LD_VAR 0 7
29410: ARRAY
29411: GREATER
29412: IFFALSE 29438
// begin SetSide ( un , old_side ) ;
29414: LD_VAR 0 1
29418: PPUSH
29419: LD_VAR 0 4
29423: PPUSH
29424: CALL_OW 235
// count := 0 ;
29428: LD_ADDR_VAR 0 5
29432: PUSH
29433: LD_INT 0
29435: ST_TO_ADDR
// end else
29436: GO 29502
// Already_Built := Replace ( Already_Built , i , Replace ( Already_Built [ i ] , old_side , Already_Built [ i ] [ old_side ] - count ) ) ;
29438: LD_ADDR_LOC 27
29442: PUSH
29443: LD_LOC 27
29447: PPUSH
29448: LD_VAR 0 7
29452: PPUSH
29453: LD_LOC 27
29457: PUSH
29458: LD_VAR 0 7
29462: ARRAY
29463: PPUSH
29464: LD_VAR 0 4
29468: PPUSH
29469: LD_LOC 27
29473: PUSH
29474: LD_VAR 0 7
29478: ARRAY
29479: PUSH
29480: LD_VAR 0 4
29484: ARRAY
29485: PUSH
29486: LD_VAR 0 5
29490: MINUS
29491: PPUSH
29492: CALL_OW 1
29496: PPUSH
29497: CALL_OW 1
29501: ST_TO_ADDR
// Already_Built := Replace ( Already_Built , i , Replace ( Already_Built [ i ] , side , Already_Built [ i ] [ side ] + count ) ) ;
29502: LD_ADDR_LOC 27
29506: PUSH
29507: LD_LOC 27
29511: PPUSH
29512: LD_VAR 0 7
29516: PPUSH
29517: LD_LOC 27
29521: PUSH
29522: LD_VAR 0 7
29526: ARRAY
29527: PPUSH
29528: LD_VAR 0 3
29532: PPUSH
29533: LD_LOC 27
29537: PUSH
29538: LD_VAR 0 7
29542: ARRAY
29543: PUSH
29544: LD_VAR 0 3
29548: ARRAY
29549: PUSH
29550: LD_VAR 0 5
29554: PLUS
29555: PPUSH
29556: CALL_OW 1
29560: PPUSH
29561: CALL_OW 1
29565: ST_TO_ADDR
// if count <> 0 and ( side = your_side ) then
29566: LD_VAR 0 5
29570: PUSH
29571: LD_INT 0
29573: NONEQUAL
29574: PUSH
29575: LD_VAR 0 3
29579: PUSH
29580: LD_OWVAR 2
29584: EQUAL
29585: AND
29586: IFFALSE 29629
// Limits_Info := Replace ( Limits_Info , 3 * i , Already_Built [ i ] [ side ] ) ;
29588: LD_ADDR_LOC 28
29592: PUSH
29593: LD_LOC 28
29597: PPUSH
29598: LD_INT 3
29600: PUSH
29601: LD_VAR 0 7
29605: MUL
29606: PPUSH
29607: LD_LOC 27
29611: PUSH
29612: LD_VAR 0 7
29616: ARRAY
29617: PUSH
29618: LD_VAR 0 3
29622: ARRAY
29623: PPUSH
29624: CALL_OW 1
29628: ST_TO_ADDR
// if Already_Built [ i ] [ side ] > Restricted_Builds_Amount [ i ] then
29629: LD_LOC 27
29633: PUSH
29634: LD_VAR 0 7
29638: ARRAY
29639: PUSH
29640: LD_VAR 0 3
29644: ARRAY
29645: PUSH
29646: LD_LOC 22
29650: PUSH
29651: LD_VAR 0 7
29655: ARRAY
29656: GREATER
29657: IFFALSE 29684
// begin Cheaters := Replace ( Cheaters , side , 1 ) ;
29659: LD_ADDR_LOC 29
29663: PUSH
29664: LD_LOC 29
29668: PPUSH
29669: LD_VAR 0 3
29673: PPUSH
29674: LD_INT 1
29676: PPUSH
29677: CALL_OW 1
29681: ST_TO_ADDR
// end else
29682: GO 29771
// begin for j := 1 to Restricted_Builds do
29684: LD_ADDR_VAR 0 8
29688: PUSH
29689: DOUBLE
29690: LD_INT 1
29692: DEC
29693: ST_TO_ADDR
29694: LD_LOC 21
29698: PUSH
29699: FOR_TO
29700: IFFALSE 29744
// if Already_Built [ j ] [ side ] > Restricted_Builds_Amount [ j ] then
29702: LD_LOC 27
29706: PUSH
29707: LD_VAR 0 8
29711: ARRAY
29712: PUSH
29713: LD_VAR 0 3
29717: ARRAY
29718: PUSH
29719: LD_LOC 22
29723: PUSH
29724: LD_VAR 0 8
29728: ARRAY
29729: GREATER
29730: IFFALSE 29742
// begin Is_Cheater := true ;
29732: LD_ADDR_VAR 0 9
29736: PUSH
29737: LD_INT 1
29739: ST_TO_ADDR
// break ;
29740: GO 29744
// end ;
29742: GO 29699
29744: POP
29745: POP
// Cheaters := Replace ( Cheaters , side , Is_Cheater ) ;
29746: LD_ADDR_LOC 29
29750: PUSH
29751: LD_LOC 29
29755: PPUSH
29756: LD_VAR 0 3
29760: PPUSH
29761: LD_VAR 0 9
29765: PPUSH
29766: CALL_OW 1
29770: ST_TO_ADDR
// end ; break ;
29771: GO 29775
// end ;
29773: GO 29351
29775: POP
29776: POP
// end ;
29777: LD_VAR 0 6
29781: RET
// export function RestrictVehicleConstructionStarted ( factory , chassis , engine , control , weapon ) ; begin
29782: LD_INT 0
29784: PPUSH
// if ( weapon in Banned_Weapons ) or ( chassis in Banned_Chassis ) or ( control in Banned_Controls ) or ( engine in Banned_Engines ) then
29785: LD_VAR 0 5
29789: PUSH
29790: LD_LOC 23
29794: IN
29795: PUSH
29796: LD_VAR 0 2
29800: PUSH
29801: LD_LOC 24
29805: IN
29806: OR
29807: PUSH
29808: LD_VAR 0 4
29812: PUSH
29813: LD_LOC 25
29817: IN
29818: OR
29819: PUSH
29820: LD_VAR 0 3
29824: PUSH
29825: LD_LOC 26
29829: IN
29830: OR
29831: IFFALSE 29842
// ComCancel ( factory ) ;
29833: LD_VAR 0 1
29837: PPUSH
29838: CALL_OW 127
// end ;
29842: LD_VAR 0 6
29846: RET
// export function RestrictWeaponPlaced ( building , weapon ) ; begin
29847: LD_INT 0
29849: PPUSH
// if ( weapon in Banned_Weapons ) then
29850: LD_VAR 0 2
29854: PUSH
29855: LD_LOC 23
29859: IN
29860: IFFALSE 29871
// ComCancel ( building ) ;
29862: LD_VAR 0 1
29866: PPUSH
29867: CALL_OW 127
// end ;
29871: LD_VAR 0 3
29875: RET
// export function RestrictBuildingStarted ( building , builder ) ; var i , BType , b , side , count , k ; begin
29876: LD_INT 0
29878: PPUSH
29879: PPUSH
29880: PPUSH
29881: PPUSH
29882: PPUSH
29883: PPUSH
29884: PPUSH
// count = 0 ;
29885: LD_ADDR_VAR 0 8
29889: PUSH
29890: LD_INT 0
29892: ST_TO_ADDR
// BType = GetBType ( Building ) ;
29893: LD_ADDR_VAR 0 5
29897: PUSH
29898: LD_VAR 0 1
29902: PPUSH
29903: CALL_OW 266
29907: ST_TO_ADDR
// side = GetSide ( Building ) ;
29908: LD_ADDR_VAR 0 7
29912: PUSH
29913: LD_VAR 0 1
29917: PPUSH
29918: CALL_OW 255
29922: ST_TO_ADDR
// for i := 1 to Restricted_Builds do
29923: LD_ADDR_VAR 0 4
29927: PUSH
29928: DOUBLE
29929: LD_INT 1
29931: DEC
29932: ST_TO_ADDR
29933: LD_LOC 21
29937: PUSH
29938: FOR_TO
29939: IFFALSE 30082
// begin if BType in Restricted_Builds [ i ] then
29941: LD_VAR 0 5
29945: PUSH
29946: LD_LOC 21
29950: PUSH
29951: LD_VAR 0 4
29955: ARRAY
29956: IN
29957: IFFALSE 30049
// for k in Restricted_Builds [ i ] do
29959: LD_ADDR_VAR 0 9
29963: PUSH
29964: LD_LOC 21
29968: PUSH
29969: LD_VAR 0 4
29973: ARRAY
29974: PUSH
29975: FOR_IN
29976: IFFALSE 30047
// begin b = FilterAllunits ( [ [ f_side , side ] , [ f_type , building ] , [ f_btype , k ] ] ) ;
29978: LD_ADDR_VAR 0 6
29982: PUSH
29983: LD_INT 22
29985: PUSH
29986: LD_VAR 0 7
29990: PUSH
29991: EMPTY
29992: LIST
29993: LIST
29994: PUSH
29995: LD_INT 21
29997: PUSH
29998: LD_VAR 0 1
30002: PUSH
30003: EMPTY
30004: LIST
30005: LIST
30006: PUSH
30007: LD_INT 30
30009: PUSH
30010: LD_VAR 0 9
30014: PUSH
30015: EMPTY
30016: LIST
30017: LIST
30018: PUSH
30019: EMPTY
30020: LIST
30021: LIST
30022: LIST
30023: PPUSH
30024: CALL_OW 69
30028: ST_TO_ADDR
// count = count + b ;
30029: LD_ADDR_VAR 0 8
30033: PUSH
30034: LD_VAR 0 8
30038: PUSH
30039: LD_VAR 0 6
30043: PLUS
30044: ST_TO_ADDR
// end ;
30045: GO 29975
30047: POP
30048: POP
// if count + 0 > Restricted_Builds_Amount [ i ] then
30049: LD_VAR 0 8
30053: PUSH
30054: LD_INT 0
30056: PLUS
30057: PUSH
30058: LD_LOC 22
30062: PUSH
30063: LD_VAR 0 4
30067: ARRAY
30068: GREATER
30069: IFFALSE 30080
// DestroyUnit ( building ) ;
30071: LD_VAR 0 1
30075: PPUSH
30076: CALL_OW 65
// end ;
30080: GO 29938
30082: POP
30083: POP
// end ;
30084: LD_VAR 0 3
30088: RET
// export function CallExecuteLimits ( j ) ; begin
30089: LD_INT 0
30091: PPUSH
// if ( GetType ( j ) = 3 ) then
30092: LD_VAR 0 1
30096: PPUSH
30097: CALL_OW 247
30101: PUSH
30102: LD_INT 3
30104: EQUAL
30105: IFFALSE 30145
// ExecuteLimits ( j , GetBType ( j ) , GetSide ( j ) , 0 , - 1 ) else
30107: LD_VAR 0 1
30111: PPUSH
30112: LD_VAR 0 1
30116: PPUSH
30117: CALL_OW 266
30121: PPUSH
30122: LD_VAR 0 1
30126: PPUSH
30127: CALL_OW 255
30131: PPUSH
30132: LD_INT 0
30134: PPUSH
30135: LD_INT 1
30137: NEG
30138: PPUSH
30139: CALL 29330 0 5
30143: GO 30189
// if ( GetChassis ( j ) = 25 ) then
30145: LD_VAR 0 1
30149: PPUSH
30150: CALL_OW 265
30154: PUSH
30155: LD_INT 25
30157: EQUAL
30158: IFFALSE 30189
// ExecuteLimits ( j , b_behemoth , GetSide ( j ) , 0 , - 1 ) ;
30160: LD_VAR 0 1
30164: PPUSH
30165: LD_INT 37
30167: PPUSH
30168: LD_VAR 0 1
30172: PPUSH
30173: CALL_OW 255
30177: PPUSH
30178: LD_INT 0
30180: PPUSH
30181: LD_INT 1
30183: NEG
30184: PPUSH
30185: CALL 29330 0 5
// end ; end_of_file
30189: LD_VAR 0 2
30193: RET
// var FLAGY ; export FLAGY_AREA ; export FLAGY_XY ; export FLAGY_AREA1 ; var teams_p ; var WFT_Goal ; export WFT_Points_MP ; var WFT_FlagOnTop ; var WFT_FlagHeight ; export function Init_WarForTerritory ; var flag , i , p ; begin
30194: LD_INT 0
30196: PPUSH
30197: PPUSH
30198: PPUSH
30199: PPUSH
// if not def_WarForTerritory then
30200: LD_EXP 36
30204: NOT
30205: IFFALSE 30209
// exit ;
30207: GO 30549
// FLAGY = [ ] ;
30209: LD_ADDR_LOC 30
30213: PUSH
30214: EMPTY
30215: ST_TO_ADDR
// WFT_FlagOnTop = [ ] ;
30216: LD_ADDR_LOC 33
30220: PUSH
30221: EMPTY
30222: ST_TO_ADDR
// WFT_FlagHeight = [ ] ;
30223: LD_ADDR_LOC 34
30227: PUSH
30228: EMPTY
30229: ST_TO_ADDR
// teams_p = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
30230: LD_ADDR_LOC 31
30234: PUSH
30235: LD_INT 0
30237: PUSH
30238: LD_INT 0
30240: PUSH
30241: LD_INT 0
30243: PUSH
30244: LD_INT 0
30246: PUSH
30247: LD_INT 0
30249: PUSH
30250: LD_INT 0
30252: PUSH
30253: LD_INT 0
30255: PUSH
30256: LD_INT 0
30258: PUSH
30259: EMPTY
30260: LIST
30261: LIST
30262: LIST
30263: LIST
30264: LIST
30265: LIST
30266: LIST
30267: LIST
30268: ST_TO_ADDR
// for i = 1 to FLAGY_AREA do
30269: LD_ADDR_VAR 0 3
30273: PUSH
30274: DOUBLE
30275: LD_INT 1
30277: DEC
30278: ST_TO_ADDR
30279: LD_EXP 118
30283: PUSH
30284: FOR_TO
30285: IFFALSE 30378
// begin flag = SetBattleFlag ( 0 , FLAGY_XY [ i ] [ 1 ] , FLAGY_XY [ i ] [ 2 ] , [ ] ) ;
30287: LD_ADDR_VAR 0 2
30291: PUSH
30292: LD_INT 0
30294: PPUSH
30295: LD_EXP 119
30299: PUSH
30300: LD_VAR 0 3
30304: ARRAY
30305: PUSH
30306: LD_INT 1
30308: ARRAY
30309: PPUSH
30310: LD_EXP 119
30314: PUSH
30315: LD_VAR 0 3
30319: ARRAY
30320: PUSH
30321: LD_INT 2
30323: ARRAY
30324: PPUSH
30325: EMPTY
30326: PPUSH
30327: CALL_OW 418
30331: ST_TO_ADDR
// FLAGY = FLAGY ^ flag ;
30332: LD_ADDR_LOC 30
30336: PUSH
30337: LD_LOC 30
30341: PUSH
30342: LD_VAR 0 2
30346: ADD
30347: ST_TO_ADDR
// WFT_FlagOnTop = WFT_FlagOnTop ^ true ;
30348: LD_ADDR_LOC 33
30352: PUSH
30353: LD_LOC 33
30357: PUSH
30358: LD_INT 1
30360: ADD
30361: ST_TO_ADDR
// WFT_FlagHeight = WFT_FlagHeight ^ 100 ;
30362: LD_ADDR_LOC 34
30366: PUSH
30367: LD_LOC 34
30371: PUSH
30372: LD_INT 100
30374: ADD
30375: ST_TO_ADDR
// end ;
30376: GO 30284
30378: POP
30379: POP
// if WarForTerritory_Flags then
30380: LD_EXP 65
30384: IFFALSE 30398
// WFT_Goal = WarForTerritory_Flags else
30386: LD_ADDR_LOC 32
30390: PUSH
30391: LD_EXP 65
30395: ST_TO_ADDR
30396: GO 30408
// WFT_Goal = WarForTerritory_Points ;
30398: LD_ADDR_LOC 32
30402: PUSH
30403: LD_EXP 64
30407: ST_TO_ADDR
// for i = 1 to flagy_area do
30408: LD_ADDR_VAR 0 3
30412: PUSH
30413: DOUBLE
30414: LD_INT 1
30416: DEC
30417: ST_TO_ADDR
30418: LD_EXP 118
30422: PUSH
30423: FOR_TO
30424: IFFALSE 30526
// begin SetAreaMapShow ( flagy_area [ i ] , 1 ) ;
30426: LD_EXP 118
30430: PUSH
30431: LD_VAR 0 3
30435: ARRAY
30436: PPUSH
30437: LD_INT 1
30439: PPUSH
30440: CALL_OW 424
// SetAreaMapShow ( flagy_area1 [ i ] , 5 ) ;
30444: LD_EXP 120
30448: PUSH
30449: LD_VAR 0 3
30453: ARRAY
30454: PPUSH
30455: LD_INT 5
30457: PPUSH
30458: CALL_OW 424
// for p = 1 to 8 do
30462: LD_ADDR_VAR 0 4
30466: PUSH
30467: DOUBLE
30468: LD_INT 1
30470: DEC
30471: ST_TO_ADDR
30472: LD_INT 8
30474: PUSH
30475: FOR_TO
30476: IFFALSE 30522
// PlaceSeeing ( flagy_xy [ i ] [ 1 ] , flagy_xy [ i ] [ 2 ] , p , 1 ) ;
30478: LD_EXP 119
30482: PUSH
30483: LD_VAR 0 3
30487: ARRAY
30488: PUSH
30489: LD_INT 1
30491: ARRAY
30492: PPUSH
30493: LD_EXP 119
30497: PUSH
30498: LD_VAR 0 3
30502: ARRAY
30503: PUSH
30504: LD_INT 2
30506: ARRAY
30507: PPUSH
30508: LD_VAR 0 4
30512: PPUSH
30513: LD_INT 1
30515: PPUSH
30516: CALL_OW 330
30520: GO 30475
30522: POP
30523: POP
// end ;
30524: GO 30423
30526: POP
30527: POP
// if WFT_Points_MP < 1 then
30528: LD_EXP 121
30532: PUSH
30533: LD_INT 1
30535: LESS
30536: IFFALSE 30546
// WFT_Points_MP = 1 ;
30538: LD_ADDR_EXP 121
30542: PUSH
30543: LD_INT 1
30545: ST_TO_ADDR
// enable ( 60 ) ;
30546: LD_INT 60
30548: ENABLE_MARKED
// end ;
30549: LD_VAR 0 1
30553: RET
// every 0 0$1 marked 60 do var i , p , pom , pom1 ; var side , sideNumber , flagSide ;
30554: GO 30556
30556: DISABLE
30557: LD_INT 0
30559: PPUSH
30560: PPUSH
30561: PPUSH
30562: PPUSH
30563: PPUSH
30564: PPUSH
30565: PPUSH
// begin zkontroluj_body ;
30566: CALL 31865 0 0
// for i := 1 to flagy + 0 do
30570: LD_ADDR_VAR 0 1
30574: PUSH
30575: DOUBLE
30576: LD_INT 1
30578: DEC
30579: ST_TO_ADDR
30580: LD_LOC 30
30584: PUSH
30585: LD_INT 0
30587: PLUS
30588: PUSH
30589: FOR_TO
30590: IFFALSE 31342
// begin sideNumber = 0 ;
30592: LD_ADDR_VAR 0 6
30596: PUSH
30597: LD_INT 0
30599: ST_TO_ADDR
// for p = 1 to 8 do
30600: LD_ADDR_VAR 0 2
30604: PUSH
30605: DOUBLE
30606: LD_INT 1
30608: DEC
30609: ST_TO_ADDR
30610: LD_INT 8
30612: PUSH
30613: FOR_TO
30614: IFFALSE 30694
// begin pom = FilterUnitsInArea ( FLAGY_AREA1 [ i ] , [ f_side , p ] ) ;
30616: LD_ADDR_VAR 0 3
30620: PUSH
30621: LD_EXP 120
30625: PUSH
30626: LD_VAR 0 1
30630: ARRAY
30631: PPUSH
30632: LD_INT 22
30634: PUSH
30635: LD_VAR 0 2
30639: PUSH
30640: EMPTY
30641: LIST
30642: LIST
30643: PPUSH
30644: CALL_OW 70
30648: ST_TO_ADDR
// if pom > 0 then
30649: LD_VAR 0 3
30653: PUSH
30654: LD_INT 0
30656: GREATER
30657: IFFALSE 30692
// begin side = getSide ( pom [ 1 ] ) ;
30659: LD_ADDR_VAR 0 5
30663: PUSH
30664: LD_VAR 0 3
30668: PUSH
30669: LD_INT 1
30671: ARRAY
30672: PPUSH
30673: CALL_OW 255
30677: ST_TO_ADDR
// sideNumber = sideNumber + 1 ;
30678: LD_ADDR_VAR 0 6
30682: PUSH
30683: LD_VAR 0 6
30687: PUSH
30688: LD_INT 1
30690: PLUS
30691: ST_TO_ADDR
// end ; end ;
30692: GO 30613
30694: POP
30695: POP
// if sideNumber = 1 then
30696: LD_VAR 0 6
30700: PUSH
30701: LD_INT 1
30703: EQUAL
30704: IFFALSE 30981
// begin flagSide = getBattleFlagSide ( FLAGY [ i ] ) ;
30706: LD_ADDR_VAR 0 7
30710: PUSH
30711: LD_LOC 30
30715: PUSH
30716: LD_VAR 0 1
30720: ARRAY
30721: PPUSH
30722: CALL_OW 421
30726: ST_TO_ADDR
// if flagSide = side then
30727: LD_VAR 0 7
30731: PUSH
30732: LD_VAR 0 5
30736: EQUAL
30737: IFFALSE 30853
// begin if WFT_FlagHeight [ i ] < 100 then
30739: LD_LOC 34
30743: PUSH
30744: LD_VAR 0 1
30748: ARRAY
30749: PUSH
30750: LD_INT 100
30752: LESS
30753: IFFALSE 30828
// begin WFT_FlagHeight = replace ( WFT_FlagHeight , i , WFT_FlagHeight [ i ] + 10 ) ;
30755: LD_ADDR_LOC 34
30759: PUSH
30760: LD_LOC 34
30764: PPUSH
30765: LD_VAR 0 1
30769: PPUSH
30770: LD_LOC 34
30774: PUSH
30775: LD_VAR 0 1
30779: ARRAY
30780: PUSH
30781: LD_INT 10
30783: PLUS
30784: PPUSH
30785: CALL_OW 1
30789: ST_TO_ADDR
// ChangeBattleFlagOptions ( FLAGY [ i ] , [ [ bfo_height , WFT_FlagHeight [ i ] ] ] ) ;
30790: LD_LOC 30
30794: PUSH
30795: LD_VAR 0 1
30799: ARRAY
30800: PPUSH
30801: LD_INT 20
30803: PUSH
30804: LD_LOC 34
30808: PUSH
30809: LD_VAR 0 1
30813: ARRAY
30814: PUSH
30815: EMPTY
30816: LIST
30817: LIST
30818: PUSH
30819: EMPTY
30820: LIST
30821: PPUSH
30822: CALL_OW 423
// end else
30826: GO 30851
// WFT_FlagOnTop = replace ( WFT_FlagOnTop , i , true ) ;
30828: LD_ADDR_LOC 33
30832: PUSH
30833: LD_LOC 33
30837: PPUSH
30838: LD_VAR 0 1
30842: PPUSH
30843: LD_INT 1
30845: PPUSH
30846: CALL_OW 1
30850: ST_TO_ADDR
// end else
30851: GO 30979
// begin if WFT_FlagHeight [ i ] > 0 then
30853: LD_LOC 34
30857: PUSH
30858: LD_VAR 0 1
30862: ARRAY
30863: PUSH
30864: LD_INT 0
30866: GREATER
30867: IFFALSE 30942
// begin WFT_FlagHeight = replace ( WFT_FlagHeight , i , WFT_FlagHeight [ i ] - 10 ) ;
30869: LD_ADDR_LOC 34
30873: PUSH
30874: LD_LOC 34
30878: PPUSH
30879: LD_VAR 0 1
30883: PPUSH
30884: LD_LOC 34
30888: PUSH
30889: LD_VAR 0 1
30893: ARRAY
30894: PUSH
30895: LD_INT 10
30897: MINUS
30898: PPUSH
30899: CALL_OW 1
30903: ST_TO_ADDR
// ChangeBattleFlagOptions ( FLAGY [ i ] , [ [ bfo_height , WFT_FlagHeight [ i ] ] ] ) ;
30904: LD_LOC 30
30908: PUSH
30909: LD_VAR 0 1
30913: ARRAY
30914: PPUSH
30915: LD_INT 20
30917: PUSH
30918: LD_LOC 34
30922: PUSH
30923: LD_VAR 0 1
30927: ARRAY
30928: PUSH
30929: EMPTY
30930: LIST
30931: LIST
30932: PUSH
30933: EMPTY
30934: LIST
30935: PPUSH
30936: CALL_OW 423
// end else
30940: GO 30979
// begin zmen_vlajku ( i , side ) ;
30942: LD_VAR 0 1
30946: PPUSH
30947: LD_VAR 0 5
30951: PPUSH
30952: CALL 31348 0 2
// WFT_FlagOnTop = replace ( WFT_FlagOnTop , i , false ) ;
30956: LD_ADDR_LOC 33
30960: PUSH
30961: LD_LOC 33
30965: PPUSH
30966: LD_VAR 0 1
30970: PPUSH
30971: LD_INT 0
30973: PPUSH
30974: CALL_OW 1
30978: ST_TO_ADDR
// end ; end ; end else
30979: GO 31340
// if sideNumber = 0 then
30981: LD_VAR 0 6
30985: PUSH
30986: LD_INT 0
30988: EQUAL
30989: IFFALSE 31340
// begin if getBattleFlagSide ( FLAGY [ i ] ) <> 0 then
30991: LD_LOC 30
30995: PUSH
30996: LD_VAR 0 1
31000: ARRAY
31001: PPUSH
31002: CALL_OW 421
31006: PUSH
31007: LD_INT 0
31009: NONEQUAL
31010: IFFALSE 31217
// begin if WFT_FlagHeight [ i ] > 0 and WFT_FlagHeight [ i ] < 100 then
31012: LD_LOC 34
31016: PUSH
31017: LD_VAR 0 1
31021: ARRAY
31022: PUSH
31023: LD_INT 0
31025: GREATER
31026: PUSH
31027: LD_LOC 34
31031: PUSH
31032: LD_VAR 0 1
31036: ARRAY
31037: PUSH
31038: LD_INT 100
31040: LESS
31041: AND
31042: IFFALSE 31166
// begin if WFT_FlagOnTop [ i ] then
31044: LD_LOC 33
31048: PUSH
31049: LD_VAR 0 1
31053: ARRAY
31054: IFFALSE 31093
// WFT_FlagHeight = replace ( WFT_FlagHeight , i , WFT_FlagHeight [ i ] + 10 ) else
31056: LD_ADDR_LOC 34
31060: PUSH
31061: LD_LOC 34
31065: PPUSH
31066: LD_VAR 0 1
31070: PPUSH
31071: LD_LOC 34
31075: PUSH
31076: LD_VAR 0 1
31080: ARRAY
31081: PUSH
31082: LD_INT 10
31084: PLUS
31085: PPUSH
31086: CALL_OW 1
31090: ST_TO_ADDR
31091: GO 31128
// WFT_FlagHeight = replace ( WFT_FlagHeight , i , WFT_FlagHeight [ i ] - 10 ) ;
31093: LD_ADDR_LOC 34
31097: PUSH
31098: LD_LOC 34
31102: PPUSH
31103: LD_VAR 0 1
31107: PPUSH
31108: LD_LOC 34
31112: PUSH
31113: LD_VAR 0 1
31117: ARRAY
31118: PUSH
31119: LD_INT 10
31121: MINUS
31122: PPUSH
31123: CALL_OW 1
31127: ST_TO_ADDR
// ChangeBattleFlagOptions ( FLAGY [ i ] , [ [ bfo_height , WFT_FlagHeight [ i ] ] ] ) ;
31128: LD_LOC 30
31132: PUSH
31133: LD_VAR 0 1
31137: ARRAY
31138: PPUSH
31139: LD_INT 20
31141: PUSH
31142: LD_LOC 34
31146: PUSH
31147: LD_VAR 0 1
31151: ARRAY
31152: PUSH
31153: EMPTY
31154: LIST
31155: LIST
31156: PUSH
31157: EMPTY
31158: LIST
31159: PPUSH
31160: CALL_OW 423
// end else
31164: GO 31215
// if WFT_FlagHeight [ i ] = 0 and getBattleFlagSide ( FLAGY [ i ] ) <> 0 then
31166: LD_LOC 34
31170: PUSH
31171: LD_VAR 0 1
31175: ARRAY
31176: PUSH
31177: LD_INT 0
31179: EQUAL
31180: PUSH
31181: LD_LOC 30
31185: PUSH
31186: LD_VAR 0 1
31190: ARRAY
31191: PPUSH
31192: CALL_OW 421
31196: PUSH
31197: LD_INT 0
31199: NONEQUAL
31200: AND
31201: IFFALSE 31215
// zmen_vlajku ( i , 0 ) ;
31203: LD_VAR 0 1
31207: PPUSH
31208: LD_INT 0
31210: PPUSH
31211: CALL 31348 0 2
// end else
31215: GO 31340
// if WFT_FlagHeight [ i ] < 100 then
31217: LD_LOC 34
31221: PUSH
31222: LD_VAR 0 1
31226: ARRAY
31227: PUSH
31228: LD_INT 100
31230: LESS
31231: IFFALSE 31340
// begin if not WFT_FlagOnTop [ i ] then
31233: LD_LOC 33
31237: PUSH
31238: LD_VAR 0 1
31242: ARRAY
31243: NOT
31244: IFFALSE 31269
// WFT_FlagOnTop = replace ( WFT_FlagOnTop , i , true ) ;
31246: LD_ADDR_LOC 33
31250: PUSH
31251: LD_LOC 33
31255: PPUSH
31256: LD_VAR 0 1
31260: PPUSH
31261: LD_INT 1
31263: PPUSH
31264: CALL_OW 1
31268: ST_TO_ADDR
// WFT_FlagHeight = replace ( WFT_FlagHeight , i , WFT_FlagHeight [ i ] + 10 ) ;
31269: LD_ADDR_LOC 34
31273: PUSH
31274: LD_LOC 34
31278: PPUSH
31279: LD_VAR 0 1
31283: PPUSH
31284: LD_LOC 34
31288: PUSH
31289: LD_VAR 0 1
31293: ARRAY
31294: PUSH
31295: LD_INT 10
31297: PLUS
31298: PPUSH
31299: CALL_OW 1
31303: ST_TO_ADDR
// ChangeBattleFlagOptions ( FLAGY [ i ] , [ [ bfo_height , WFT_FlagHeight [ i ] ] ] ) ;
31304: LD_LOC 30
31308: PUSH
31309: LD_VAR 0 1
31313: ARRAY
31314: PPUSH
31315: LD_INT 20
31317: PUSH
31318: LD_LOC 34
31322: PUSH
31323: LD_VAR 0 1
31327: ARRAY
31328: PUSH
31329: EMPTY
31330: LIST
31331: LIST
31332: PUSH
31333: EMPTY
31334: LIST
31335: PPUSH
31336: CALL_OW 423
// end ; end ; end ;
31340: GO 30589
31342: POP
31343: POP
// enable ;
31344: ENABLE
// end ;
31345: PPOPN 7
31347: END
// function zmen_vlajku ( pozice , side ) ; var i ; begin
31348: LD_INT 0
31350: PPUSH
31351: PPUSH
// if FLAGY [ pozice ] and side >= 0 and side <= 8 then
31352: LD_LOC 30
31356: PUSH
31357: LD_VAR 0 1
31361: ARRAY
31362: PUSH
31363: LD_VAR 0 2
31367: PUSH
31368: LD_INT 0
31370: GREATEREQUAL
31371: AND
31372: PUSH
31373: LD_VAR 0 2
31377: PUSH
31378: LD_INT 8
31380: LESSEQUAL
31381: AND
31382: IFFALSE 31404
// changeBattleFlagSide ( FLAGY [ pozice ] , side ) ;
31384: LD_LOC 30
31388: PUSH
31389: LD_VAR 0 1
31393: ARRAY
31394: PPUSH
31395: LD_VAR 0 2
31399: PPUSH
31400: CALL_OW 422
// end ;
31404: LD_VAR 0 3
31408: RET
// export function vloz_na_pozici ( co , cislo , pozice ) ; var ii ; var pom ; begin
31409: LD_INT 0
31411: PPUSH
31412: PPUSH
31413: PPUSH
// pom = [ ] ;
31414: LD_ADDR_VAR 0 6
31418: PUSH
31419: EMPTY
31420: ST_TO_ADDR
// for ii := 1 to pozice do
31421: LD_ADDR_VAR 0 5
31425: PUSH
31426: DOUBLE
31427: LD_INT 1
31429: DEC
31430: ST_TO_ADDR
31431: LD_VAR 0 3
31435: PUSH
31436: FOR_TO
31437: IFFALSE 31493
// if ii <> cislo then
31439: LD_VAR 0 5
31443: PUSH
31444: LD_VAR 0 2
31448: NONEQUAL
31449: IFFALSE 31475
// pom = pom ^ pozice [ ii ] else
31451: LD_ADDR_VAR 0 6
31455: PUSH
31456: LD_VAR 0 6
31460: PUSH
31461: LD_VAR 0 3
31465: PUSH
31466: LD_VAR 0 5
31470: ARRAY
31471: ADD
31472: ST_TO_ADDR
31473: GO 31491
// pom = pom ^ co ;
31475: LD_ADDR_VAR 0 6
31479: PUSH
31480: LD_VAR 0 6
31484: PUSH
31485: LD_VAR 0 1
31489: ADD
31490: ST_TO_ADDR
31491: GO 31436
31493: POP
31494: POP
// result := pom ;
31495: LD_ADDR_VAR 0 4
31499: PUSH
31500: LD_VAR 0 6
31504: ST_TO_ADDR
// end ;
31505: LD_VAR 0 4
31509: RET
// function budovy_ok ( bud ) ; var a ; var i ; begin
31510: LD_INT 0
31512: PPUSH
31513: PPUSH
31514: PPUSH
// a = false ;
31515: LD_ADDR_VAR 0 3
31519: PUSH
31520: LD_INT 0
31522: ST_TO_ADDR
// for i in bud do
31523: LD_ADDR_VAR 0 4
31527: PUSH
31528: LD_VAR 0 1
31532: PUSH
31533: FOR_IN
31534: IFFALSE 31557
// if IsOK ( i ) then
31536: LD_VAR 0 4
31540: PPUSH
31541: CALL_OW 302
31545: IFFALSE 31555
// a = true ;
31547: LD_ADDR_VAR 0 3
31551: PUSH
31552: LD_INT 1
31554: ST_TO_ADDR
31555: GO 31533
31557: POP
31558: POP
// result := a ;
31559: LD_ADDR_VAR 0 2
31563: PUSH
31564: LD_VAR 0 3
31568: ST_TO_ADDR
// end ;
31569: LD_VAR 0 2
31573: RET
// every 0 0$3 marked 60 do var i , j ; var pom , goal , p ;
31574: GO 31576
31576: DISABLE
31577: LD_INT 0
31579: PPUSH
31580: PPUSH
31581: PPUSH
31582: PPUSH
31583: PPUSH
// begin if WarForTerritory_points then
31584: LD_EXP 64
31588: IFFALSE 31612
// goal = WFT_Goal * ( 3 * WFT_Points_MP ) else
31590: LD_ADDR_VAR 0 4
31594: PUSH
31595: LD_LOC 32
31599: PUSH
31600: LD_INT 3
31602: PUSH
31603: LD_EXP 121
31607: MUL
31608: MUL
31609: ST_TO_ADDR
31610: GO 31622
// goal = WFT_goal ;
31612: LD_ADDR_VAR 0 4
31616: PUSH
31617: LD_LOC 32
31621: ST_TO_ADDR
// for i := 1 to teams_p do
31622: LD_ADDR_VAR 0 1
31626: PUSH
31627: DOUBLE
31628: LD_INT 1
31630: DEC
31631: ST_TO_ADDR
31632: LD_LOC 31
31636: PUSH
31637: FOR_TO
31638: IFFALSE 31859
// if teams_p [ i ] >= Goal then
31640: LD_LOC 31
31644: PUSH
31645: LD_VAR 0 1
31649: ARRAY
31650: PUSH
31651: LD_VAR 0 4
31655: GREATEREQUAL
31656: IFFALSE 31857
// begin if not Team_Game then
31658: LD_EXP 80
31662: NOT
31663: IFFALSE 31687
// begin if i = your_side then
31665: LD_VAR 0 1
31669: PUSH
31670: LD_OWVAR 2
31674: EQUAL
31675: IFFALSE 31682
// enable ( 401 ) else
31677: LD_INT 401
31679: ENABLE_MARKED
31680: GO 31685
// enable ( 400 ) ;
31682: LD_INT 400
31684: ENABLE_MARKED
// end else
31685: GO 31707
// if i = Player_Team then
31687: LD_VAR 0 1
31691: PUSH
31692: LD_EXP 71
31696: EQUAL
31697: IFFALSE 31704
// enable ( 401 ) else
31699: LD_INT 401
31701: ENABLE_MARKED
31702: GO 31707
// enable ( 400 ) ;
31704: LD_INT 400
31706: ENABLE_MARKED
// if WarForTerritory_points then
31707: LD_EXP 64
31711: IFFALSE 31785
// begin for p = 1 to side_positions do
31713: LD_ADDR_VAR 0 5
31717: PUSH
31718: DOUBLE
31719: LD_INT 1
31721: DEC
31722: ST_TO_ADDR
31723: LD_EXP 75
31727: PUSH
31728: FOR_TO
31729: IFFALSE 31781
// if Side_Positions [ p ] then
31731: LD_EXP 75
31735: PUSH
31736: LD_VAR 0 5
31740: ARRAY
31741: IFFALSE 31779
// SetSharedMultiScore ( p , GetTag ( p + 20 ) div ( 3 * WFT_points_MP ) , 3 ) ;
31743: LD_VAR 0 5
31747: PPUSH
31748: LD_VAR 0 5
31752: PUSH
31753: LD_INT 20
31755: PLUS
31756: PPUSH
31757: CALL_OW 110
31761: PUSH
31762: LD_INT 3
31764: PUSH
31765: LD_EXP 121
31769: MUL
31770: DIV
31771: PPUSH
31772: LD_INT 3
31774: PPUSH
31775: CALL 35268 0 3
31779: GO 31728
31781: POP
31782: POP
// end else
31783: GO 31849
// for p = 1 to side_positions do
31785: LD_ADDR_VAR 0 5
31789: PUSH
31790: DOUBLE
31791: LD_INT 1
31793: DEC
31794: ST_TO_ADDR
31795: LD_EXP 75
31799: PUSH
31800: FOR_TO
31801: IFFALSE 31847
// if Side_Positions [ p ] then
31803: LD_EXP 75
31807: PUSH
31808: LD_VAR 0 5
31812: ARRAY
31813: IFFALSE 31845
// SetSharedMultiScore ( p , GetTag ( i + 20 ) * 1000 , 3 ) ;
31815: LD_VAR 0 5
31819: PPUSH
31820: LD_VAR 0 1
31824: PUSH
31825: LD_INT 20
31827: PLUS
31828: PPUSH
31829: CALL_OW 110
31833: PUSH
31834: LD_INT 1000
31836: MUL
31837: PPUSH
31838: LD_INT 3
31840: PPUSH
31841: CALL 35268 0 3
31845: GO 31800
31847: POP
31848: POP
// MakeGameEnd ;
31849: CALL 14187 0 0
// exit ;
31853: POP
31854: POP
31855: GO 31862
// end ;
31857: GO 31637
31859: POP
31860: POP
// enable ;
31861: ENABLE
// end ;
31862: PPOPN 5
31864: END
// function zkontroluj_body ; var side , list , un , red , blue , yel , green , i , pom ; begin
31865: LD_INT 0
31867: PPUSH
31868: PPUSH
31869: PPUSH
31870: PPUSH
31871: PPUSH
31872: PPUSH
31873: PPUSH
31874: PPUSH
31875: PPUSH
31876: PPUSH
// list = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
31877: LD_ADDR_VAR 0 3
31881: PUSH
31882: LD_INT 0
31884: PUSH
31885: LD_INT 0
31887: PUSH
31888: LD_INT 0
31890: PUSH
31891: LD_INT 0
31893: PUSH
31894: LD_INT 0
31896: PUSH
31897: LD_INT 0
31899: PUSH
31900: LD_INT 0
31902: PUSH
31903: LD_INT 0
31905: PUSH
31906: EMPTY
31907: LIST
31908: LIST
31909: LIST
31910: LIST
31911: LIST
31912: LIST
31913: LIST
31914: LIST
31915: ST_TO_ADDR
// red = 0 ;
31916: LD_ADDR_VAR 0 5
31920: PUSH
31921: LD_INT 0
31923: ST_TO_ADDR
// blue = 0 ;
31924: LD_ADDR_VAR 0 6
31928: PUSH
31929: LD_INT 0
31931: ST_TO_ADDR
// yel = 0 ;
31932: LD_ADDR_VAR 0 7
31936: PUSH
31937: LD_INT 0
31939: ST_TO_ADDR
// green = 0 ;
31940: LD_ADDR_VAR 0 8
31944: PUSH
31945: LD_INT 0
31947: ST_TO_ADDR
// if WarForTerritory_flags then
31948: LD_EXP 65
31952: IFFALSE 32318
// begin for i = 1 to FLAGY + 0 do
31954: LD_ADDR_VAR 0 9
31958: PUSH
31959: DOUBLE
31960: LD_INT 1
31962: DEC
31963: ST_TO_ADDR
31964: LD_LOC 30
31968: PUSH
31969: LD_INT 0
31971: PLUS
31972: PUSH
31973: FOR_TO
31974: IFFALSE 32046
// if WFT_FlagOnTop [ i ] then
31976: LD_LOC 33
31980: PUSH
31981: LD_VAR 0 9
31985: ARRAY
31986: IFFALSE 32044
// begin pom = GetBattleFlagSide ( FLAGY [ i ] ) ;
31988: LD_ADDR_VAR 0 10
31992: PUSH
31993: LD_LOC 30
31997: PUSH
31998: LD_VAR 0 9
32002: ARRAY
32003: PPUSH
32004: CALL_OW 421
32008: ST_TO_ADDR
// list = vloz_na_pozici ( list [ pom ] + 1 , pom , list ) ;
32009: LD_ADDR_VAR 0 3
32013: PUSH
32014: LD_VAR 0 3
32018: PUSH
32019: LD_VAR 0 10
32023: ARRAY
32024: PUSH
32025: LD_INT 1
32027: PLUS
32028: PPUSH
32029: LD_VAR 0 10
32033: PPUSH
32034: LD_VAR 0 3
32038: PPUSH
32039: CALL 31409 0 3
32043: ST_TO_ADDR
// end ;
32044: GO 31973
32046: POP
32047: POP
// if not Team_Game then
32048: LD_EXP 80
32052: NOT
32053: IFFALSE 32067
// teams_p = list else
32055: LD_ADDR_LOC 31
32059: PUSH
32060: LD_VAR 0 3
32064: ST_TO_ADDR
32065: GO 32270
// begin for i in Teams [ 1 ] do
32067: LD_ADDR_VAR 0 9
32071: PUSH
32072: LD_EXP 73
32076: PUSH
32077: LD_INT 1
32079: ARRAY
32080: PUSH
32081: FOR_IN
32082: IFFALSE 32108
// red = red + list [ i ] ;
32084: LD_ADDR_VAR 0 5
32088: PUSH
32089: LD_VAR 0 5
32093: PUSH
32094: LD_VAR 0 3
32098: PUSH
32099: LD_VAR 0 9
32103: ARRAY
32104: PLUS
32105: ST_TO_ADDR
32106: GO 32081
32108: POP
32109: POP
// for i in Teams [ 2 ] do
32110: LD_ADDR_VAR 0 9
32114: PUSH
32115: LD_EXP 73
32119: PUSH
32120: LD_INT 2
32122: ARRAY
32123: PUSH
32124: FOR_IN
32125: IFFALSE 32151
// blue = blue + list [ i ] ;
32127: LD_ADDR_VAR 0 6
32131: PUSH
32132: LD_VAR 0 6
32136: PUSH
32137: LD_VAR 0 3
32141: PUSH
32142: LD_VAR 0 9
32146: ARRAY
32147: PLUS
32148: ST_TO_ADDR
32149: GO 32124
32151: POP
32152: POP
// for i in Teams [ 3 ] do
32153: LD_ADDR_VAR 0 9
32157: PUSH
32158: LD_EXP 73
32162: PUSH
32163: LD_INT 3
32165: ARRAY
32166: PUSH
32167: FOR_IN
32168: IFFALSE 32194
// yel = yel + list [ i ] ;
32170: LD_ADDR_VAR 0 7
32174: PUSH
32175: LD_VAR 0 7
32179: PUSH
32180: LD_VAR 0 3
32184: PUSH
32185: LD_VAR 0 9
32189: ARRAY
32190: PLUS
32191: ST_TO_ADDR
32192: GO 32167
32194: POP
32195: POP
// for i in Teams [ 4 ] do
32196: LD_ADDR_VAR 0 9
32200: PUSH
32201: LD_EXP 73
32205: PUSH
32206: LD_INT 4
32208: ARRAY
32209: PUSH
32210: FOR_IN
32211: IFFALSE 32237
// green = green + list [ i ] ;
32213: LD_ADDR_VAR 0 8
32217: PUSH
32218: LD_VAR 0 8
32222: PUSH
32223: LD_VAR 0 3
32227: PUSH
32228: LD_VAR 0 9
32232: ARRAY
32233: PLUS
32234: ST_TO_ADDR
32235: GO 32210
32237: POP
32238: POP
// teams_p = [ red , blue , yel , green ] ;
32239: LD_ADDR_LOC 31
32243: PUSH
32244: LD_VAR 0 5
32248: PUSH
32249: LD_VAR 0 6
32253: PUSH
32254: LD_VAR 0 7
32258: PUSH
32259: LD_VAR 0 8
32263: PUSH
32264: EMPTY
32265: LIST
32266: LIST
32267: LIST
32268: LIST
32269: ST_TO_ADDR
// end ; for i = 1 to list do
32270: LD_ADDR_VAR 0 9
32274: PUSH
32275: DOUBLE
32276: LD_INT 1
32278: DEC
32279: ST_TO_ADDR
32280: LD_VAR 0 3
32284: PUSH
32285: FOR_TO
32286: IFFALSE 32314
// SetTag ( i + 20 , list [ i ] ) ;
32288: LD_VAR 0 9
32292: PUSH
32293: LD_INT 20
32295: PLUS
32296: PPUSH
32297: LD_VAR 0 3
32301: PUSH
32302: LD_VAR 0 9
32306: ARRAY
32307: PPUSH
32308: CALL_OW 109
32312: GO 32285
32314: POP
32315: POP
// end else
32316: GO 32796
// if WarForTerritory_points then
32318: LD_EXP 64
32322: IFFALSE 32796
// begin for i = 1 to FLAGY + 0 do
32324: LD_ADDR_VAR 0 9
32328: PUSH
32329: DOUBLE
32330: LD_INT 1
32332: DEC
32333: ST_TO_ADDR
32334: LD_LOC 30
32338: PUSH
32339: LD_INT 0
32341: PLUS
32342: PUSH
32343: FOR_TO
32344: IFFALSE 32416
// if WFT_FlagOnTop [ i ] then
32346: LD_LOC 33
32350: PUSH
32351: LD_VAR 0 9
32355: ARRAY
32356: IFFALSE 32414
// begin pom = GetBattleFlagSide ( FLAGY [ i ] ) ;
32358: LD_ADDR_VAR 0 10
32362: PUSH
32363: LD_LOC 30
32367: PUSH
32368: LD_VAR 0 9
32372: ARRAY
32373: PPUSH
32374: CALL_OW 421
32378: ST_TO_ADDR
// list = vloz_na_pozici ( list [ pom ] + 1 , pom , list ) ;
32379: LD_ADDR_VAR 0 3
32383: PUSH
32384: LD_VAR 0 3
32388: PUSH
32389: LD_VAR 0 10
32393: ARRAY
32394: PUSH
32395: LD_INT 1
32397: PLUS
32398: PPUSH
32399: LD_VAR 0 10
32403: PPUSH
32404: LD_VAR 0 3
32408: PPUSH
32409: CALL 31409 0 3
32413: ST_TO_ADDR
// end ;
32414: GO 32343
32416: POP
32417: POP
// if not Team_Game then
32418: LD_EXP 80
32422: NOT
32423: IFFALSE 32492
// for i = 1 to side_positions do
32425: LD_ADDR_VAR 0 9
32429: PUSH
32430: DOUBLE
32431: LD_INT 1
32433: DEC
32434: ST_TO_ADDR
32435: LD_EXP 75
32439: PUSH
32440: FOR_TO
32441: IFFALSE 32488
// teams_p = vloz_na_pozici ( teams_p [ i ] + ( list [ i ] ) , i , teams_p ) else
32443: LD_ADDR_LOC 31
32447: PUSH
32448: LD_LOC 31
32452: PUSH
32453: LD_VAR 0 9
32457: ARRAY
32458: PUSH
32459: LD_VAR 0 3
32463: PUSH
32464: LD_VAR 0 9
32468: ARRAY
32469: PLUS
32470: PPUSH
32471: LD_VAR 0 9
32475: PPUSH
32476: LD_LOC 31
32480: PPUSH
32481: CALL 31409 0 3
32485: ST_TO_ADDR
32486: GO 32440
32488: POP
32489: POP
32490: GO 32735
// begin for i in Teams [ 1 ] do
32492: LD_ADDR_VAR 0 9
32496: PUSH
32497: LD_EXP 73
32501: PUSH
32502: LD_INT 1
32504: ARRAY
32505: PUSH
32506: FOR_IN
32507: IFFALSE 32533
// red = red + list [ i ] ;
32509: LD_ADDR_VAR 0 5
32513: PUSH
32514: LD_VAR 0 5
32518: PUSH
32519: LD_VAR 0 3
32523: PUSH
32524: LD_VAR 0 9
32528: ARRAY
32529: PLUS
32530: ST_TO_ADDR
32531: GO 32506
32533: POP
32534: POP
// for i in Teams [ 2 ] do
32535: LD_ADDR_VAR 0 9
32539: PUSH
32540: LD_EXP 73
32544: PUSH
32545: LD_INT 2
32547: ARRAY
32548: PUSH
32549: FOR_IN
32550: IFFALSE 32576
// blue = blue + list [ i ] ;
32552: LD_ADDR_VAR 0 6
32556: PUSH
32557: LD_VAR 0 6
32561: PUSH
32562: LD_VAR 0 3
32566: PUSH
32567: LD_VAR 0 9
32571: ARRAY
32572: PLUS
32573: ST_TO_ADDR
32574: GO 32549
32576: POP
32577: POP
// for i in Teams [ 3 ] do
32578: LD_ADDR_VAR 0 9
32582: PUSH
32583: LD_EXP 73
32587: PUSH
32588: LD_INT 3
32590: ARRAY
32591: PUSH
32592: FOR_IN
32593: IFFALSE 32619
// yel = yel + list [ i ] ;
32595: LD_ADDR_VAR 0 7
32599: PUSH
32600: LD_VAR 0 7
32604: PUSH
32605: LD_VAR 0 3
32609: PUSH
32610: LD_VAR 0 9
32614: ARRAY
32615: PLUS
32616: ST_TO_ADDR
32617: GO 32592
32619: POP
32620: POP
// for i in Teams [ 4 ] do
32621: LD_ADDR_VAR 0 9
32625: PUSH
32626: LD_EXP 73
32630: PUSH
32631: LD_INT 4
32633: ARRAY
32634: PUSH
32635: FOR_IN
32636: IFFALSE 32662
// green = green + list [ i ] ;
32638: LD_ADDR_VAR 0 8
32642: PUSH
32643: LD_VAR 0 8
32647: PUSH
32648: LD_VAR 0 3
32652: PUSH
32653: LD_VAR 0 9
32657: ARRAY
32658: PLUS
32659: ST_TO_ADDR
32660: GO 32635
32662: POP
32663: POP
// teams_p = [ teams_p [ 1 ] + red , teams_p [ 2 ] + blue , teams_p [ 3 ] + yel , teams_p [ 4 ] + green ] ;
32664: LD_ADDR_LOC 31
32668: PUSH
32669: LD_LOC 31
32673: PUSH
32674: LD_INT 1
32676: ARRAY
32677: PUSH
32678: LD_VAR 0 5
32682: PLUS
32683: PUSH
32684: LD_LOC 31
32688: PUSH
32689: LD_INT 2
32691: ARRAY
32692: PUSH
32693: LD_VAR 0 6
32697: PLUS
32698: PUSH
32699: LD_LOC 31
32703: PUSH
32704: LD_INT 3
32706: ARRAY
32707: PUSH
32708: LD_VAR 0 7
32712: PLUS
32713: PUSH
32714: LD_LOC 31
32718: PUSH
32719: LD_INT 4
32721: ARRAY
32722: PUSH
32723: LD_VAR 0 8
32727: PLUS
32728: PUSH
32729: EMPTY
32730: LIST
32731: LIST
32732: LIST
32733: LIST
32734: ST_TO_ADDR
// end ; for i = 1 to list do
32735: LD_ADDR_VAR 0 9
32739: PUSH
32740: DOUBLE
32741: LD_INT 1
32743: DEC
32744: ST_TO_ADDR
32745: LD_VAR 0 3
32749: PUSH
32750: FOR_TO
32751: IFFALSE 32794
// SetTag ( i + 20 , getTag ( i + 20 ) + list [ i ] ) ;
32753: LD_VAR 0 9
32757: PUSH
32758: LD_INT 20
32760: PLUS
32761: PPUSH
32762: LD_VAR 0 9
32766: PUSH
32767: LD_INT 20
32769: PLUS
32770: PPUSH
32771: CALL_OW 110
32775: PUSH
32776: LD_VAR 0 3
32780: PUSH
32781: LD_VAR 0 9
32785: ARRAY
32786: PLUS
32787: PPUSH
32788: CALL_OW 109
32792: GO 32750
32794: POP
32795: POP
// end ; if WarForTerritory_points then
32796: LD_EXP 64
32800: IFFALSE 32874
// begin for i = 1 to side_positions do
32802: LD_ADDR_VAR 0 9
32806: PUSH
32807: DOUBLE
32808: LD_INT 1
32810: DEC
32811: ST_TO_ADDR
32812: LD_EXP 75
32816: PUSH
32817: FOR_TO
32818: IFFALSE 32870
// if Side_Positions [ i ] then
32820: LD_EXP 75
32824: PUSH
32825: LD_VAR 0 9
32829: ARRAY
32830: IFFALSE 32868
// SetSharedMultiScore ( i , GetTag ( i + 20 ) div ( 3 * WFT_points_MP ) , 3 ) ;
32832: LD_VAR 0 9
32836: PPUSH
32837: LD_VAR 0 9
32841: PUSH
32842: LD_INT 20
32844: PLUS
32845: PPUSH
32846: CALL_OW 110
32850: PUSH
32851: LD_INT 3
32853: PUSH
32854: LD_EXP 121
32858: MUL
32859: DIV
32860: PPUSH
32861: LD_INT 3
32863: PPUSH
32864: CALL 35268 0 3
32868: GO 32817
32870: POP
32871: POP
// end else
32872: GO 32938
// for i = 1 to side_positions do
32874: LD_ADDR_VAR 0 9
32878: PUSH
32879: DOUBLE
32880: LD_INT 1
32882: DEC
32883: ST_TO_ADDR
32884: LD_EXP 75
32888: PUSH
32889: FOR_TO
32890: IFFALSE 32936
// if Side_Positions [ i ] then
32892: LD_EXP 75
32896: PUSH
32897: LD_VAR 0 9
32901: ARRAY
32902: IFFALSE 32934
// SetSharedMultiScore ( i , GetTag ( i + 20 ) * 1000 , 3 ) ;
32904: LD_VAR 0 9
32908: PPUSH
32909: LD_VAR 0 9
32913: PUSH
32914: LD_INT 20
32916: PLUS
32917: PPUSH
32918: CALL_OW 110
32922: PUSH
32923: LD_INT 1000
32925: MUL
32926: PPUSH
32927: LD_INT 3
32929: PPUSH
32930: CALL 35268 0 3
32934: GO 32889
32936: POP
32937: POP
// show_points ;
32938: CALL 32947 0 0
// end ;
32942: LD_VAR 0 1
32946: RET
// function show_points ; var side , vypis , i , red , blue , yel , green , s ; begin
32947: LD_INT 0
32949: PPUSH
32950: PPUSH
32951: PPUSH
32952: PPUSH
32953: PPUSH
32954: PPUSH
32955: PPUSH
32956: PPUSH
32957: PPUSH
// vypis := [ ] ;
32958: LD_ADDR_VAR 0 3
32962: PUSH
32963: EMPTY
32964: ST_TO_ADDR
// red = 0 ;
32965: LD_ADDR_VAR 0 5
32969: PUSH
32970: LD_INT 0
32972: ST_TO_ADDR
// blue = 0 ;
32973: LD_ADDR_VAR 0 6
32977: PUSH
32978: LD_INT 0
32980: ST_TO_ADDR
// yel = 0 ;
32981: LD_ADDR_VAR 0 7
32985: PUSH
32986: LD_INT 0
32988: ST_TO_ADDR
// green = 0 ;
32989: LD_ADDR_VAR 0 8
32993: PUSH
32994: LD_INT 0
32996: ST_TO_ADDR
// if WarForTerritory_flags then
32997: LD_EXP 65
33001: IFFALSE 33663
// begin if def_public_score or isSGUI then
33003: LD_EXP 34
33007: PUSH
33008: LD_OWVAR 83
33012: OR
33013: IFFALSE 33417
// begin if not Team_Game then
33015: LD_EXP 80
33019: NOT
33020: IFFALSE 33162
// begin s = [ ] ;
33022: LD_ADDR_VAR 0 9
33026: PUSH
33027: EMPTY
33028: ST_TO_ADDR
// for side = 1 to Side_Positions do
33029: LD_ADDR_VAR 0 2
33033: PUSH
33034: DOUBLE
33035: LD_INT 1
33037: DEC
33038: ST_TO_ADDR
33039: LD_EXP 75
33043: PUSH
33044: FOR_TO
33045: IFFALSE 33146
// if Side_Positions [ side ] then
33047: LD_EXP 75
33051: PUSH
33052: LD_VAR 0 2
33056: ARRAY
33057: IFFALSE 33130
// begin vypis := vypis ^ [ #WarForTerritory-Flags-Public , side , side , teams_p [ side ] , WFT_Goal ] ;
33059: LD_ADDR_VAR 0 3
33063: PUSH
33064: LD_VAR 0 3
33068: PUSH
33069: LD_STRING #WarForTerritory-Flags-Public
33071: PUSH
33072: LD_VAR 0 2
33076: PUSH
33077: LD_VAR 0 2
33081: PUSH
33082: LD_LOC 31
33086: PUSH
33087: LD_VAR 0 2
33091: ARRAY
33092: PUSH
33093: LD_LOC 32
33097: PUSH
33098: EMPTY
33099: LIST
33100: LIST
33101: LIST
33102: LIST
33103: LIST
33104: ADD
33105: ST_TO_ADDR
// s = s ^ teams_p [ side ] ;
33106: LD_ADDR_VAR 0 9
33110: PUSH
33111: LD_VAR 0 9
33115: PUSH
33116: LD_LOC 31
33120: PUSH
33121: LD_VAR 0 2
33125: ARRAY
33126: ADD
33127: ST_TO_ADDR
// end else
33128: GO 33144
// s = s ^ 0 ;
33130: LD_ADDR_VAR 0 9
33134: PUSH
33135: LD_VAR 0 9
33139: PUSH
33140: LD_INT 0
33142: ADD
33143: ST_TO_ADDR
33144: GO 33044
33146: POP
33147: POP
// LScore_Update_Peices ( 3 , s ) ;
33148: LD_INT 3
33150: PPUSH
33151: LD_VAR 0 9
33155: PPUSH
33156: CALL 36889 0 2
// end else
33160: GO 33415
// begin if Teams [ 1 ] then
33162: LD_EXP 73
33166: PUSH
33167: LD_INT 1
33169: ARRAY
33170: IFFALSE 33209
// vypis := vypis ^ [ #WarForTerritory-Flags-Public-red , 3 , teams_p [ 1 ] , WFT_Goal ] ;
33172: LD_ADDR_VAR 0 3
33176: PUSH
33177: LD_VAR 0 3
33181: PUSH
33182: LD_STRING #WarForTerritory-Flags-Public-red
33184: PUSH
33185: LD_INT 3
33187: PUSH
33188: LD_LOC 31
33192: PUSH
33193: LD_INT 1
33195: ARRAY
33196: PUSH
33197: LD_LOC 32
33201: PUSH
33202: EMPTY
33203: LIST
33204: LIST
33205: LIST
33206: LIST
33207: ADD
33208: ST_TO_ADDR
// if Teams [ 2 ] then
33209: LD_EXP 73
33213: PUSH
33214: LD_INT 2
33216: ARRAY
33217: IFFALSE 33256
// vypis := vypis ^ [ #WarForTerritory-Flags-Public-blue , 1 , teams_p [ 2 ] , WFT_Goal ] ;
33219: LD_ADDR_VAR 0 3
33223: PUSH
33224: LD_VAR 0 3
33228: PUSH
33229: LD_STRING #WarForTerritory-Flags-Public-blue
33231: PUSH
33232: LD_INT 1
33234: PUSH
33235: LD_LOC 31
33239: PUSH
33240: LD_INT 2
33242: ARRAY
33243: PUSH
33244: LD_LOC 32
33248: PUSH
33249: EMPTY
33250: LIST
33251: LIST
33252: LIST
33253: LIST
33254: ADD
33255: ST_TO_ADDR
// if Teams [ 3 ] then
33256: LD_EXP 73
33260: PUSH
33261: LD_INT 3
33263: ARRAY
33264: IFFALSE 33303
// vypis := vypis ^ [ #WarForTerritory-Flags-Public-yell , 2 , teams_p [ 3 ] , WFT_Goal ] ;
33266: LD_ADDR_VAR 0 3
33270: PUSH
33271: LD_VAR 0 3
33275: PUSH
33276: LD_STRING #WarForTerritory-Flags-Public-yell
33278: PUSH
33279: LD_INT 2
33281: PUSH
33282: LD_LOC 31
33286: PUSH
33287: LD_INT 3
33289: ARRAY
33290: PUSH
33291: LD_LOC 32
33295: PUSH
33296: EMPTY
33297: LIST
33298: LIST
33299: LIST
33300: LIST
33301: ADD
33302: ST_TO_ADDR
// if Teams [ 4 ] then
33303: LD_EXP 73
33307: PUSH
33308: LD_INT 4
33310: ARRAY
33311: IFFALSE 33350
// vypis := vypis ^ [ #WarForTerritory-Flags-Public-green , 7 , teams_p [ 4 ] , WFT_Goal ] ;
33313: LD_ADDR_VAR 0 3
33317: PUSH
33318: LD_VAR 0 3
33322: PUSH
33323: LD_STRING #WarForTerritory-Flags-Public-green
33325: PUSH
33326: LD_INT 7
33328: PUSH
33329: LD_LOC 31
33333: PUSH
33334: LD_INT 4
33336: ARRAY
33337: PUSH
33338: LD_LOC 32
33342: PUSH
33343: EMPTY
33344: LIST
33345: LIST
33346: LIST
33347: LIST
33348: ADD
33349: ST_TO_ADDR
// LScore_Update_Peices ( 3 , [ teams_p [ 2 ] , teams_p [ 3 ] , teams_p [ 1 ] , 0 , 0 , 0 , teams_p [ 4 ] , 0 ] ) ;
33350: LD_INT 3
33352: PPUSH
33353: LD_LOC 31
33357: PUSH
33358: LD_INT 2
33360: ARRAY
33361: PUSH
33362: LD_LOC 31
33366: PUSH
33367: LD_INT 3
33369: ARRAY
33370: PUSH
33371: LD_LOC 31
33375: PUSH
33376: LD_INT 1
33378: ARRAY
33379: PUSH
33380: LD_INT 0
33382: PUSH
33383: LD_INT 0
33385: PUSH
33386: LD_INT 0
33388: PUSH
33389: LD_LOC 31
33393: PUSH
33394: LD_INT 4
33396: ARRAY
33397: PUSH
33398: LD_INT 0
33400: PUSH
33401: EMPTY
33402: LIST
33403: LIST
33404: LIST
33405: LIST
33406: LIST
33407: LIST
33408: LIST
33409: LIST
33410: PPUSH
33411: CALL 36889 0 2
// end ; end else
33415: GO 33661
// begin if not Team_Game then
33417: LD_EXP 80
33421: NOT
33422: IFFALSE 33473
// begin vypis := vypis ^ [ #WarForTerritory-Flags-Private , your_side , your_side , teams_p [ side ] , WFT_Goal ] ;
33424: LD_ADDR_VAR 0 3
33428: PUSH
33429: LD_VAR 0 3
33433: PUSH
33434: LD_STRING #WarForTerritory-Flags-Private
33436: PUSH
33437: LD_OWVAR 2
33441: PUSH
33442: LD_OWVAR 2
33446: PUSH
33447: LD_LOC 31
33451: PUSH
33452: LD_VAR 0 2
33456: ARRAY
33457: PUSH
33458: LD_LOC 32
33462: PUSH
33463: EMPTY
33464: LIST
33465: LIST
33466: LIST
33467: LIST
33468: LIST
33469: ADD
33470: ST_TO_ADDR
// end else
33471: GO 33661
// begin if your_side in Teams [ 1 ] then
33473: LD_OWVAR 2
33477: PUSH
33478: LD_EXP 73
33482: PUSH
33483: LD_INT 1
33485: ARRAY
33486: IN
33487: IFFALSE 33520
// vypis := [ #WarForTerritory-points-Flags-red , 3 , teams_p [ 1 ] , WFT_Goal ] ;
33489: LD_ADDR_VAR 0 3
33493: PUSH
33494: LD_STRING #WarForTerritory-points-Flags-red
33496: PUSH
33497: LD_INT 3
33499: PUSH
33500: LD_LOC 31
33504: PUSH
33505: LD_INT 1
33507: ARRAY
33508: PUSH
33509: LD_LOC 32
33513: PUSH
33514: EMPTY
33515: LIST
33516: LIST
33517: LIST
33518: LIST
33519: ST_TO_ADDR
// if your_side in Teams [ 2 ] then
33520: LD_OWVAR 2
33524: PUSH
33525: LD_EXP 73
33529: PUSH
33530: LD_INT 2
33532: ARRAY
33533: IN
33534: IFFALSE 33567
// vypis := [ #WarForTerritory-points-Flags-blue , 1 , teams_p [ 2 ] , WFT_Goal ] ;
33536: LD_ADDR_VAR 0 3
33540: PUSH
33541: LD_STRING #WarForTerritory-points-Flags-blue
33543: PUSH
33544: LD_INT 1
33546: PUSH
33547: LD_LOC 31
33551: PUSH
33552: LD_INT 2
33554: ARRAY
33555: PUSH
33556: LD_LOC 32
33560: PUSH
33561: EMPTY
33562: LIST
33563: LIST
33564: LIST
33565: LIST
33566: ST_TO_ADDR
// if your_side in Teams [ 3 ] then
33567: LD_OWVAR 2
33571: PUSH
33572: LD_EXP 73
33576: PUSH
33577: LD_INT 3
33579: ARRAY
33580: IN
33581: IFFALSE 33614
// vypis := [ #WarForTerritory-points-Flags-yell , 2 , teams_p [ 3 ] , WFT_Goal ] ;
33583: LD_ADDR_VAR 0 3
33587: PUSH
33588: LD_STRING #WarForTerritory-points-Flags-yell
33590: PUSH
33591: LD_INT 2
33593: PUSH
33594: LD_LOC 31
33598: PUSH
33599: LD_INT 3
33601: ARRAY
33602: PUSH
33603: LD_LOC 32
33607: PUSH
33608: EMPTY
33609: LIST
33610: LIST
33611: LIST
33612: LIST
33613: ST_TO_ADDR
// if your_side in Teams [ 4 ] then
33614: LD_OWVAR 2
33618: PUSH
33619: LD_EXP 73
33623: PUSH
33624: LD_INT 4
33626: ARRAY
33627: IN
33628: IFFALSE 33661
// vypis := [ #WarForTerritory-points-Flags-green , 7 , teams_p [ 4 ] , WFT_Goal ] ;
33630: LD_ADDR_VAR 0 3
33634: PUSH
33635: LD_STRING #WarForTerritory-points-Flags-green
33637: PUSH
33638: LD_INT 7
33640: PUSH
33641: LD_LOC 31
33645: PUSH
33646: LD_INT 4
33648: ARRAY
33649: PUSH
33650: LD_LOC 32
33654: PUSH
33655: EMPTY
33656: LIST
33657: LIST
33658: LIST
33659: LIST
33660: ST_TO_ADDR
// end ; end ; end else
33661: GO 34414
// if def_public_score or isSGUI then
33663: LD_EXP 34
33667: PUSH
33668: LD_OWVAR 83
33672: OR
33673: IFFALSE 34120
// begin if not Team_Game then
33675: LD_EXP 80
33679: NOT
33680: IFFALSE 33808
// begin for side = 1 to Side_Positions do
33682: LD_ADDR_VAR 0 2
33686: PUSH
33687: DOUBLE
33688: LD_INT 1
33690: DEC
33691: ST_TO_ADDR
33692: LD_EXP 75
33696: PUSH
33697: FOR_TO
33698: IFFALSE 33804
// if Side_Positions [ side ] then
33700: LD_EXP 75
33704: PUSH
33705: LD_VAR 0 2
33709: ARRAY
33710: IFFALSE 33802
// begin vypis := vypis ^ [ #WarForTerritory-points-Public , side , side , teams_p [ side ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
33712: LD_ADDR_VAR 0 3
33716: PUSH
33717: LD_VAR 0 3
33721: PUSH
33722: LD_STRING #WarForTerritory-points-Public
33724: PUSH
33725: LD_VAR 0 2
33729: PUSH
33730: LD_VAR 0 2
33734: PUSH
33735: LD_LOC 31
33739: PUSH
33740: LD_VAR 0 2
33744: ARRAY
33745: PUSH
33746: LD_INT 3
33748: PUSH
33749: LD_EXP 121
33753: MUL
33754: DIV
33755: PUSH
33756: LD_LOC 32
33760: PUSH
33761: EMPTY
33762: LIST
33763: LIST
33764: LIST
33765: LIST
33766: LIST
33767: ADD
33768: ST_TO_ADDR
// LScore_Update_Points ( 3 , side , ( teams_p [ side ] div ( 3 * WFT_Points_MP ) ) ) ;
33769: LD_INT 3
33771: PPUSH
33772: LD_VAR 0 2
33776: PPUSH
33777: LD_LOC 31
33781: PUSH
33782: LD_VAR 0 2
33786: ARRAY
33787: PUSH
33788: LD_INT 3
33790: PUSH
33791: LD_EXP 121
33795: MUL
33796: DIV
33797: PPUSH
33798: CALL 36717 0 3
// end ;
33802: GO 33697
33804: POP
33805: POP
// end else
33806: GO 34118
// begin if Teams [ 1 ] then
33808: LD_EXP 73
33812: PUSH
33813: LD_INT 1
33815: ARRAY
33816: IFFALSE 33865
// vypis := vypis ^ [ #WarForTerritory-points-Public-red , 3 , teams_p [ 1 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
33818: LD_ADDR_VAR 0 3
33822: PUSH
33823: LD_VAR 0 3
33827: PUSH
33828: LD_STRING #WarForTerritory-points-Public-red
33830: PUSH
33831: LD_INT 3
33833: PUSH
33834: LD_LOC 31
33838: PUSH
33839: LD_INT 1
33841: ARRAY
33842: PUSH
33843: LD_INT 3
33845: PUSH
33846: LD_EXP 121
33850: MUL
33851: DIV
33852: PUSH
33853: LD_LOC 32
33857: PUSH
33858: EMPTY
33859: LIST
33860: LIST
33861: LIST
33862: LIST
33863: ADD
33864: ST_TO_ADDR
// if Teams [ 2 ] then
33865: LD_EXP 73
33869: PUSH
33870: LD_INT 2
33872: ARRAY
33873: IFFALSE 33922
// vypis := vypis ^ [ #WarForTerritory-points-Public-blue , 1 , teams_p [ 2 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
33875: LD_ADDR_VAR 0 3
33879: PUSH
33880: LD_VAR 0 3
33884: PUSH
33885: LD_STRING #WarForTerritory-points-Public-blue
33887: PUSH
33888: LD_INT 1
33890: PUSH
33891: LD_LOC 31
33895: PUSH
33896: LD_INT 2
33898: ARRAY
33899: PUSH
33900: LD_INT 3
33902: PUSH
33903: LD_EXP 121
33907: MUL
33908: DIV
33909: PUSH
33910: LD_LOC 32
33914: PUSH
33915: EMPTY
33916: LIST
33917: LIST
33918: LIST
33919: LIST
33920: ADD
33921: ST_TO_ADDR
// if Teams [ 3 ] then
33922: LD_EXP 73
33926: PUSH
33927: LD_INT 3
33929: ARRAY
33930: IFFALSE 33979
// vypis := vypis ^ [ #WarForTerritory-points-Public-yell , 2 , teams_p [ 3 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
33932: LD_ADDR_VAR 0 3
33936: PUSH
33937: LD_VAR 0 3
33941: PUSH
33942: LD_STRING #WarForTerritory-points-Public-yell
33944: PUSH
33945: LD_INT 2
33947: PUSH
33948: LD_LOC 31
33952: PUSH
33953: LD_INT 3
33955: ARRAY
33956: PUSH
33957: LD_INT 3
33959: PUSH
33960: LD_EXP 121
33964: MUL
33965: DIV
33966: PUSH
33967: LD_LOC 32
33971: PUSH
33972: EMPTY
33973: LIST
33974: LIST
33975: LIST
33976: LIST
33977: ADD
33978: ST_TO_ADDR
// if Teams [ 4 ] then
33979: LD_EXP 73
33983: PUSH
33984: LD_INT 4
33986: ARRAY
33987: IFFALSE 34036
// vypis := vypis ^ [ #WarForTerritory-points-Public-green , 7 , teams_p [ 4 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
33989: LD_ADDR_VAR 0 3
33993: PUSH
33994: LD_VAR 0 3
33998: PUSH
33999: LD_STRING #WarForTerritory-points-Public-green
34001: PUSH
34002: LD_INT 7
34004: PUSH
34005: LD_LOC 31
34009: PUSH
34010: LD_INT 4
34012: ARRAY
34013: PUSH
34014: LD_INT 3
34016: PUSH
34017: LD_EXP 121
34021: MUL
34022: DIV
34023: PUSH
34024: LD_LOC 32
34028: PUSH
34029: EMPTY
34030: LIST
34031: LIST
34032: LIST
34033: LIST
34034: ADD
34035: ST_TO_ADDR
// s = [ 3 , 1 , 2 , 7 ] ;
34036: LD_ADDR_VAR 0 9
34040: PUSH
34041: LD_INT 3
34043: PUSH
34044: LD_INT 1
34046: PUSH
34047: LD_INT 2
34049: PUSH
34050: LD_INT 7
34052: PUSH
34053: EMPTY
34054: LIST
34055: LIST
34056: LIST
34057: LIST
34058: ST_TO_ADDR
// for i = 1 to 4 do
34059: LD_ADDR_VAR 0 4
34063: PUSH
34064: DOUBLE
34065: LD_INT 1
34067: DEC
34068: ST_TO_ADDR
34069: LD_INT 4
34071: PUSH
34072: FOR_TO
34073: IFFALSE 34116
// LScore_Update_Points ( 3 , s [ i ] , ( teams_p [ i ] div ( 3 * WFT_Points_MP ) ) ) ;
34075: LD_INT 3
34077: PPUSH
34078: LD_VAR 0 9
34082: PUSH
34083: LD_VAR 0 4
34087: ARRAY
34088: PPUSH
34089: LD_LOC 31
34093: PUSH
34094: LD_VAR 0 4
34098: ARRAY
34099: PUSH
34100: LD_INT 3
34102: PUSH
34103: LD_EXP 121
34107: MUL
34108: DIV
34109: PPUSH
34110: CALL 36717 0 3
34114: GO 34072
34116: POP
34117: POP
// end ; end else
34118: GO 34414
// if not Team_Game then
34120: LD_EXP 80
34124: NOT
34125: IFFALSE 34186
// begin vypis := vypis ^ [ #WarForTerritory-points-Private , your_side , your_side , teams_p [ side ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] end else
34127: LD_ADDR_VAR 0 3
34131: PUSH
34132: LD_VAR 0 3
34136: PUSH
34137: LD_STRING #WarForTerritory-points-Private
34139: PUSH
34140: LD_OWVAR 2
34144: PUSH
34145: LD_OWVAR 2
34149: PUSH
34150: LD_LOC 31
34154: PUSH
34155: LD_VAR 0 2
34159: ARRAY
34160: PUSH
34161: LD_INT 3
34163: PUSH
34164: LD_EXP 121
34168: MUL
34169: DIV
34170: PUSH
34171: LD_LOC 32
34175: PUSH
34176: EMPTY
34177: LIST
34178: LIST
34179: LIST
34180: LIST
34181: LIST
34182: ADD
34183: ST_TO_ADDR
34184: GO 34414
// begin if your_side in Teams [ 1 ] then
34186: LD_OWVAR 2
34190: PUSH
34191: LD_EXP 73
34195: PUSH
34196: LD_INT 1
34198: ARRAY
34199: IN
34200: IFFALSE 34243
// vypis := [ #WarForTerritory-points-Public-red , 3 , teams_p [ 1 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
34202: LD_ADDR_VAR 0 3
34206: PUSH
34207: LD_STRING #WarForTerritory-points-Public-red
34209: PUSH
34210: LD_INT 3
34212: PUSH
34213: LD_LOC 31
34217: PUSH
34218: LD_INT 1
34220: ARRAY
34221: PUSH
34222: LD_INT 3
34224: PUSH
34225: LD_EXP 121
34229: MUL
34230: DIV
34231: PUSH
34232: LD_LOC 32
34236: PUSH
34237: EMPTY
34238: LIST
34239: LIST
34240: LIST
34241: LIST
34242: ST_TO_ADDR
// if your_side in Teams [ 2 ] then
34243: LD_OWVAR 2
34247: PUSH
34248: LD_EXP 73
34252: PUSH
34253: LD_INT 2
34255: ARRAY
34256: IN
34257: IFFALSE 34300
// vypis := [ #WarForTerritory-points-Public-blue , 1 , teams_p [ 2 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
34259: LD_ADDR_VAR 0 3
34263: PUSH
34264: LD_STRING #WarForTerritory-points-Public-blue
34266: PUSH
34267: LD_INT 1
34269: PUSH
34270: LD_LOC 31
34274: PUSH
34275: LD_INT 2
34277: ARRAY
34278: PUSH
34279: LD_INT 3
34281: PUSH
34282: LD_EXP 121
34286: MUL
34287: DIV
34288: PUSH
34289: LD_LOC 32
34293: PUSH
34294: EMPTY
34295: LIST
34296: LIST
34297: LIST
34298: LIST
34299: ST_TO_ADDR
// if your_side in Teams [ 3 ] then
34300: LD_OWVAR 2
34304: PUSH
34305: LD_EXP 73
34309: PUSH
34310: LD_INT 3
34312: ARRAY
34313: IN
34314: IFFALSE 34357
// vypis := [ #WarForTerritory-points-Public-yell , 2 , teams_p [ 3 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
34316: LD_ADDR_VAR 0 3
34320: PUSH
34321: LD_STRING #WarForTerritory-points-Public-yell
34323: PUSH
34324: LD_INT 2
34326: PUSH
34327: LD_LOC 31
34331: PUSH
34332: LD_INT 3
34334: ARRAY
34335: PUSH
34336: LD_INT 3
34338: PUSH
34339: LD_EXP 121
34343: MUL
34344: DIV
34345: PUSH
34346: LD_LOC 32
34350: PUSH
34351: EMPTY
34352: LIST
34353: LIST
34354: LIST
34355: LIST
34356: ST_TO_ADDR
// if your_side in Teams [ 4 ] then
34357: LD_OWVAR 2
34361: PUSH
34362: LD_EXP 73
34366: PUSH
34367: LD_INT 4
34369: ARRAY
34370: IN
34371: IFFALSE 34414
// vypis := [ #WarForTerritory-points-Public-green , 7 , teams_p [ 4 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
34373: LD_ADDR_VAR 0 3
34377: PUSH
34378: LD_STRING #WarForTerritory-points-Public-green
34380: PUSH
34381: LD_INT 7
34383: PUSH
34384: LD_LOC 31
34388: PUSH
34389: LD_INT 4
34391: ARRAY
34392: PUSH
34393: LD_INT 3
34395: PUSH
34396: LD_EXP 121
34400: MUL
34401: DIV
34402: PUSH
34403: LD_LOC 32
34407: PUSH
34408: EMPTY
34409: LIST
34410: LIST
34411: LIST
34412: LIST
34413: ST_TO_ADDR
// end ; Display_WFG := vypis ;
34414: LD_ADDR_EXP 113
34418: PUSH
34419: LD_VAR 0 3
34423: ST_TO_ADDR
// end ; end_of_file
34424: LD_VAR 0 1
34428: RET
// export function SA_OnSiberiteRocketExploded ( siberite_rocket_vehicle , target_x , target_y , requestSide ) ; begin
34429: LD_INT 0
34431: PPUSH
// if GetSide ( siberite_rocket_vehicle ) = requestSide then
34432: LD_VAR 0 1
34436: PPUSH
34437: CALL_OW 255
34441: PUSH
34442: LD_VAR 0 4
34446: EQUAL
34447: IFFALSE 34466
// begin SetAchievement ( ACH_RAD ) ;
34449: LD_STRING ACH_RAD
34451: PPUSH
34452: CALL_OW 543
// SetAchievementEx ( ACH_NL , 1 ) ;
34456: LD_STRING ACH_NL
34458: PPUSH
34459: LD_INT 1
34461: PPUSH
34462: CALL_OW 564
// end end ;
34466: LD_VAR 0 5
34470: RET
// export function SA_Win ( side ) ; begin
34471: LD_INT 0
34473: PPUSH
// case side of 1 :
34474: LD_VAR 0 1
34478: PUSH
34479: LD_INT 1
34481: DOUBLE
34482: EQUAL
34483: IFTRUE 34487
34485: GO 34500
34487: POP
// SetAchievementEx ( ACH_AH , 1 ) ; 2 :
34488: LD_STRING ACH_AH
34490: PPUSH
34491: LD_INT 1
34493: PPUSH
34494: CALL_OW 564
34498: GO 34663
34500: LD_INT 2
34502: DOUBLE
34503: EQUAL
34504: IFTRUE 34508
34506: GO 34521
34508: POP
// SetAchievementEx ( ACH_E , 1 ) ; 3 :
34509: LD_STRING ACH_E
34511: PPUSH
34512: LD_INT 1
34514: PPUSH
34515: CALL_OW 564
34519: GO 34663
34521: LD_INT 3
34523: DOUBLE
34524: EQUAL
34525: IFTRUE 34529
34527: GO 34542
34529: POP
// SetAchievementEx ( ACH_OOL , 1 ) ; [ 1 , 2 ] :
34530: LD_STRING ACH_OOL
34532: PPUSH
34533: LD_INT 1
34535: PPUSH
34536: CALL_OW 564
34540: GO 34663
34542: LD_INT 1
34544: PUSH
34545: LD_INT 2
34547: PUSH
34548: EMPTY
34549: LIST
34550: LIST
34551: DOUBLE
34552: EQUAL
34553: IFTRUE 34557
34555: GO 34582
34557: POP
// begin SetAchievementEx ( ACH_AH , 0.5 ) ;
34558: LD_STRING ACH_AH
34560: PPUSH
34561: LD_REAL  5.00000000000000E-0001
34564: PPUSH
34565: CALL_OW 564
// SetAchievementEx ( ACH_E , 0.5 ) ;
34569: LD_STRING ACH_E
34571: PPUSH
34572: LD_REAL  5.00000000000000E-0001
34575: PPUSH
34576: CALL_OW 564
// end ; [ 2 , 3 ] :
34580: GO 34663
34582: LD_INT 2
34584: PUSH
34585: LD_INT 3
34587: PUSH
34588: EMPTY
34589: LIST
34590: LIST
34591: DOUBLE
34592: EQUAL
34593: IFTRUE 34597
34595: GO 34622
34597: POP
// begin SetAchievementEx ( ACH_OOL , 0.5 ) ;
34598: LD_STRING ACH_OOL
34600: PPUSH
34601: LD_REAL  5.00000000000000E-0001
34604: PPUSH
34605: CALL_OW 564
// SetAchievementEx ( ACH_E , 0.5 ) ;
34609: LD_STRING ACH_E
34611: PPUSH
34612: LD_REAL  5.00000000000000E-0001
34615: PPUSH
34616: CALL_OW 564
// end ; [ 3 , 1 ] :
34620: GO 34663
34622: LD_INT 3
34624: PUSH
34625: LD_INT 1
34627: PUSH
34628: EMPTY
34629: LIST
34630: LIST
34631: DOUBLE
34632: EQUAL
34633: IFTRUE 34637
34635: GO 34662
34637: POP
// begin SetAchievementEx ( ACH_AH , 0.5 ) ;
34638: LD_STRING ACH_AH
34640: PPUSH
34641: LD_REAL  5.00000000000000E-0001
34644: PPUSH
34645: CALL_OW 564
// SetAchievementEx ( ACH_OOL , 0.5 ) ;
34649: LD_STRING ACH_OOL
34651: PPUSH
34652: LD_REAL  5.00000000000000E-0001
34655: PPUSH
34656: CALL_OW 564
// end ; end ;
34660: GO 34663
34662: POP
// end ; end_of_file
34663: LD_VAR 0 2
34667: RET
// var sharedPoints1 , sharedPoints2 , sharedPoints3 ; var pointGame ; export function InitPoints ( ) ; var i , d ; begin
34668: LD_INT 0
34670: PPUSH
34671: PPUSH
34672: PPUSH
// sharedPoints1 = [ ] ;
34673: LD_ADDR_LOC 35
34677: PUSH
34678: EMPTY
34679: ST_TO_ADDR
// sharedPoints2 = [ ] ;
34680: LD_ADDR_LOC 36
34684: PUSH
34685: EMPTY
34686: ST_TO_ADDR
// sharedPoints3 = [ ] ;
34687: LD_ADDR_LOC 37
34691: PUSH
34692: EMPTY
34693: ST_TO_ADDR
// for i = 1 to Side_Positions + 0 do
34694: LD_ADDR_VAR 0 2
34698: PUSH
34699: DOUBLE
34700: LD_INT 1
34702: DEC
34703: ST_TO_ADDR
34704: LD_EXP 75
34708: PUSH
34709: LD_INT 0
34711: PLUS
34712: PUSH
34713: FOR_TO
34714: IFFALSE 34816
// begin if not Side_Positions [ i ] = 0 then
34716: LD_EXP 75
34720: PUSH
34721: LD_VAR 0 2
34725: ARRAY
34726: PUSH
34727: LD_INT 0
34729: EQUAL
34730: NOT
34731: IFFALSE 34745
// SetMultiScore ( i , 0 ) ;
34733: LD_VAR 0 2
34737: PPUSH
34738: LD_INT 0
34740: PPUSH
34741: CALL_OW 506
// sharedPoints1 = Replace ( sharedPoints1 , i , 0 ) ;
34745: LD_ADDR_LOC 35
34749: PUSH
34750: LD_LOC 35
34754: PPUSH
34755: LD_VAR 0 2
34759: PPUSH
34760: LD_INT 0
34762: PPUSH
34763: CALL_OW 1
34767: ST_TO_ADDR
// sharedPoints2 = Replace ( sharedPoints2 , i , 0 ) ;
34768: LD_ADDR_LOC 36
34772: PUSH
34773: LD_LOC 36
34777: PPUSH
34778: LD_VAR 0 2
34782: PPUSH
34783: LD_INT 0
34785: PPUSH
34786: CALL_OW 1
34790: ST_TO_ADDR
// sharedPoints3 = Replace ( sharedPoints3 , i , 0 ) ;
34791: LD_ADDR_LOC 37
34795: PUSH
34796: LD_LOC 37
34800: PPUSH
34801: LD_VAR 0 2
34805: PPUSH
34806: LD_INT 0
34808: PPUSH
34809: CALL_OW 1
34813: ST_TO_ADDR
// end ;
34814: GO 34713
34816: POP
34817: POP
// pointGame = true ;
34818: LD_ADDR_LOC 38
34822: PUSH
34823: LD_INT 1
34825: ST_TO_ADDR
// end ;
34826: LD_VAR 0 1
34830: RET
// every 0 0$1 trigger pointGame do var i , red , blue , yel , green , redN , blueN , yelN , greenN , s , n , p , you ;
34831: LD_LOC 38
34835: IFFALSE 35265
34837: GO 34839
34839: DISABLE
34840: LD_INT 0
34842: PPUSH
34843: PPUSH
34844: PPUSH
34845: PPUSH
34846: PPUSH
34847: PPUSH
34848: PPUSH
34849: PPUSH
34850: PPUSH
34851: PPUSH
34852: PPUSH
34853: PPUSH
34854: PPUSH
// begin if isSGUI then
34855: LD_OWVAR 83
34859: IFFALSE 35265
// begin if Teams [ 1 ] then
34861: LD_EXP 73
34865: PUSH
34866: LD_INT 1
34868: ARRAY
34869: IFFALSE 34881
// red = true else
34871: LD_ADDR_VAR 0 2
34875: PUSH
34876: LD_INT 1
34878: ST_TO_ADDR
34879: GO 34889
// red = false ;
34881: LD_ADDR_VAR 0 2
34885: PUSH
34886: LD_INT 0
34888: ST_TO_ADDR
// if Teams [ 2 ] then
34889: LD_EXP 73
34893: PUSH
34894: LD_INT 2
34896: ARRAY
34897: IFFALSE 34909
// blue = true else
34899: LD_ADDR_VAR 0 3
34903: PUSH
34904: LD_INT 1
34906: ST_TO_ADDR
34907: GO 34917
// blue = false ;
34909: LD_ADDR_VAR 0 3
34913: PUSH
34914: LD_INT 0
34916: ST_TO_ADDR
// if Teams [ 3 ] then
34917: LD_EXP 73
34921: PUSH
34922: LD_INT 3
34924: ARRAY
34925: IFFALSE 34937
// yel = true else
34927: LD_ADDR_VAR 0 4
34931: PUSH
34932: LD_INT 1
34934: ST_TO_ADDR
34935: GO 34945
// yel = false ;
34937: LD_ADDR_VAR 0 4
34941: PUSH
34942: LD_INT 0
34944: ST_TO_ADDR
// if Teams [ 4 ] then
34945: LD_EXP 73
34949: PUSH
34950: LD_INT 4
34952: ARRAY
34953: IFFALSE 34965
// green = true else
34955: LD_ADDR_VAR 0 5
34959: PUSH
34960: LD_INT 1
34962: ST_TO_ADDR
34963: GO 34973
// green = false ;
34965: LD_ADDR_VAR 0 5
34969: PUSH
34970: LD_INT 0
34972: ST_TO_ADDR
// if def_public_score then
34973: LD_EXP 34
34977: IFFALSE 34989
// p = true else
34979: LD_ADDR_VAR 0 12
34983: PUSH
34984: LD_INT 1
34986: ST_TO_ADDR
34987: GO 34997
// p = false ;
34989: LD_ADDR_VAR 0 12
34993: PUSH
34994: LD_INT 0
34996: ST_TO_ADDR
// if team_game then
34997: LD_EXP 80
35001: IFFALSE 35081
// begin you = [ 3 , 1 , 2 , 7 ] [ player_team ] ;
35003: LD_ADDR_VAR 0 13
35007: PUSH
35008: LD_INT 3
35010: PUSH
35011: LD_INT 1
35013: PUSH
35014: LD_INT 2
35016: PUSH
35017: LD_INT 7
35019: PUSH
35020: EMPTY
35021: LIST
35022: LIST
35023: LIST
35024: LIST
35025: PUSH
35026: LD_EXP 71
35030: ARRAY
35031: ST_TO_ADDR
// s = [ blue , yel , red , false , false , false , green , false ] ;
35032: LD_ADDR_VAR 0 10
35036: PUSH
35037: LD_VAR 0 3
35041: PUSH
35042: LD_VAR 0 4
35046: PUSH
35047: LD_VAR 0 2
35051: PUSH
35052: LD_INT 0
35054: PUSH
35055: LD_INT 0
35057: PUSH
35058: LD_INT 0
35060: PUSH
35061: LD_VAR 0 5
35065: PUSH
35066: LD_INT 0
35068: PUSH
35069: EMPTY
35070: LIST
35071: LIST
35072: LIST
35073: LIST
35074: LIST
35075: LIST
35076: LIST
35077: LIST
35078: ST_TO_ADDR
// end else
35079: GO 35166
// begin you = your_side ;
35081: LD_ADDR_VAR 0 13
35085: PUSH
35086: LD_OWVAR 2
35090: ST_TO_ADDR
// s = [ ] ;
35091: LD_ADDR_VAR 0 10
35095: PUSH
35096: EMPTY
35097: ST_TO_ADDR
// for i = 1 to side_positions + 0 do
35098: LD_ADDR_VAR 0 1
35102: PUSH
35103: DOUBLE
35104: LD_INT 1
35106: DEC
35107: ST_TO_ADDR
35108: LD_EXP 75
35112: PUSH
35113: LD_INT 0
35115: PLUS
35116: PUSH
35117: FOR_TO
35118: IFFALSE 35164
// if side_positions [ i ] then
35120: LD_EXP 75
35124: PUSH
35125: LD_VAR 0 1
35129: ARRAY
35130: IFFALSE 35148
// s = s ^ true else
35132: LD_ADDR_VAR 0 10
35136: PUSH
35137: LD_VAR 0 10
35141: PUSH
35142: LD_INT 1
35144: ADD
35145: ST_TO_ADDR
35146: GO 35162
// s = s ^ false ;
35148: LD_ADDR_VAR 0 10
35152: PUSH
35153: LD_VAR 0 10
35157: PUSH
35158: LD_INT 0
35160: ADD
35161: ST_TO_ADDR
35162: GO 35117
35164: POP
35165: POP
// end ; LScore_Init ( s , p , you ) ;
35166: LD_VAR 0 10
35170: PPUSH
35171: LD_VAR 0 12
35175: PPUSH
35176: LD_VAR 0 13
35180: PPUSH
35181: CALL 35445 0 3
// if def_warForTerritory and WarForTerritory_flags then
35185: LD_EXP 36
35189: PUSH
35190: LD_EXP 65
35194: AND
35195: IFFALSE 35217
// LScore_Add_Pieces ( 3 , 3 , WarForTerritory_flags , MaxFlags ) ;
35197: LD_INT 3
35199: PPUSH
35200: LD_INT 3
35202: PPUSH
35203: LD_EXP 65
35207: PPUSH
35208: LD_EXP 114
35212: PPUSH
35213: CALL 36834 0 4
// if def_warForTerritory and WarForTerritory_Points then
35217: LD_EXP 36
35221: PUSH
35222: LD_EXP 64
35226: AND
35227: IFFALSE 35244
// LScore_Add_Points ( 3 , 3 , WarForTerritory_Points ) ;
35229: LD_INT 3
35231: PPUSH
35232: LD_INT 3
35234: PPUSH
35235: LD_EXP 64
35239: PPUSH
35240: CALL 36672 0 3
// if def_kings_age then
35244: LD_EXP 35
35248: IFFALSE 35265
// LScore_Add_Points ( 2 , 2 , final_count ) ;
35250: LD_INT 2
35252: PPUSH
35253: LD_INT 2
35255: PPUSH
35256: LD_EXP 57
35260: PPUSH
35261: CALL 36672 0 3
// end ; end ;
35265: PPOPN 13
35267: END
// export function SetSharedMultiScore ( side , points , typ ) ; var p ; begin
35268: LD_INT 0
35270: PPUSH
35271: PPUSH
// case typ of 1 :
35272: LD_VAR 0 3
35276: PUSH
35277: LD_INT 1
35279: DOUBLE
35280: EQUAL
35281: IFTRUE 35285
35283: GO 35313
35285: POP
// sharedPoints1 = Replace ( sharedPoints1 , side , points ) ; 2 :
35286: LD_ADDR_LOC 35
35290: PUSH
35291: LD_LOC 35
35295: PPUSH
35296: LD_VAR 0 1
35300: PPUSH
35301: LD_VAR 0 2
35305: PPUSH
35306: CALL_OW 1
35310: ST_TO_ADDR
35311: GO 35386
35313: LD_INT 2
35315: DOUBLE
35316: EQUAL
35317: IFTRUE 35321
35319: GO 35349
35321: POP
// sharedPoints2 = Replace ( sharedPoints2 , side , points ) ; 3 :
35322: LD_ADDR_LOC 36
35326: PUSH
35327: LD_LOC 36
35331: PPUSH
35332: LD_VAR 0 1
35336: PPUSH
35337: LD_VAR 0 2
35341: PPUSH
35342: CALL_OW 1
35346: ST_TO_ADDR
35347: GO 35386
35349: LD_INT 3
35351: DOUBLE
35352: EQUAL
35353: IFTRUE 35357
35355: GO 35385
35357: POP
// sharedPoints3 = Replace ( sharedPoints3 , side , points ) ; end ;
35358: LD_ADDR_LOC 37
35362: PUSH
35363: LD_LOC 37
35367: PPUSH
35368: LD_VAR 0 1
35372: PPUSH
35373: LD_VAR 0 2
35377: PPUSH
35378: CALL_OW 1
35382: ST_TO_ADDR
35383: GO 35386
35385: POP
// p = sharedPoints1 [ side ] + sharedPoints2 [ side ] + sharedPoints3 [ side ] ;
35386: LD_ADDR_VAR 0 5
35390: PUSH
35391: LD_LOC 35
35395: PUSH
35396: LD_VAR 0 1
35400: ARRAY
35401: PUSH
35402: LD_LOC 36
35406: PUSH
35407: LD_VAR 0 1
35411: ARRAY
35412: PLUS
35413: PUSH
35414: LD_LOC 37
35418: PUSH
35419: LD_VAR 0 1
35423: ARRAY
35424: PLUS
35425: ST_TO_ADDR
// SetMultiScore ( side , p ) ;
35426: LD_VAR 0 1
35430: PPUSH
35431: LD_VAR 0 5
35435: PPUSH
35436: CALL_OW 506
// end ; end_of_file
35440: LD_VAR 0 4
35444: RET
// export function LScore_Init ( sides , ifPScore , yourSide ) ; begin
35445: LD_INT 0
35447: PPUSH
// LScore_Init2 ( sides , ifPScore , yourSide , false ) ;
35448: LD_VAR 0 1
35452: PPUSH
35453: LD_VAR 0 2
35457: PPUSH
35458: LD_VAR 0 3
35462: PPUSH
35463: LD_INT 0
35465: PPUSH
35466: CALL 35475 0 4
// end ;
35470: LD_VAR 0 4
35474: RET
// export function LScore_Init2 ( sides , ifPScore , yourSide , lockTeam ) ; begin
35475: LD_INT 0
35477: PPUSH
// ToLua ( initScore({ & sides [ 1 ] & , & sides [ 2 ] & , & sides [ 3 ] & , & sides [ 4 ] & , & sides [ 5 ] & , & sides [ 6 ] & , & sides [ 7 ] & , & sides [ 8 ] & }, & ifPScore & , & yourSide & , & lockTeam & ); ) ;
35478: LD_STRING initScore({
35480: PUSH
35481: LD_VAR 0 1
35485: PUSH
35486: LD_INT 1
35488: ARRAY
35489: STR
35490: PUSH
35491: LD_STRING ,
35493: STR
35494: PUSH
35495: LD_VAR 0 1
35499: PUSH
35500: LD_INT 2
35502: ARRAY
35503: STR
35504: PUSH
35505: LD_STRING ,
35507: STR
35508: PUSH
35509: LD_VAR 0 1
35513: PUSH
35514: LD_INT 3
35516: ARRAY
35517: STR
35518: PUSH
35519: LD_STRING ,
35521: STR
35522: PUSH
35523: LD_VAR 0 1
35527: PUSH
35528: LD_INT 4
35530: ARRAY
35531: STR
35532: PUSH
35533: LD_STRING ,
35535: STR
35536: PUSH
35537: LD_VAR 0 1
35541: PUSH
35542: LD_INT 5
35544: ARRAY
35545: STR
35546: PUSH
35547: LD_STRING ,
35549: STR
35550: PUSH
35551: LD_VAR 0 1
35555: PUSH
35556: LD_INT 6
35558: ARRAY
35559: STR
35560: PUSH
35561: LD_STRING ,
35563: STR
35564: PUSH
35565: LD_VAR 0 1
35569: PUSH
35570: LD_INT 7
35572: ARRAY
35573: STR
35574: PUSH
35575: LD_STRING ,
35577: STR
35578: PUSH
35579: LD_VAR 0 1
35583: PUSH
35584: LD_INT 8
35586: ARRAY
35587: STR
35588: PUSH
35589: LD_STRING },
35591: STR
35592: PUSH
35593: LD_VAR 0 2
35597: STR
35598: PUSH
35599: LD_STRING ,
35601: STR
35602: PUSH
35603: LD_VAR 0 3
35607: STR
35608: PUSH
35609: LD_STRING ,
35611: STR
35612: PUSH
35613: LD_VAR 0 4
35617: STR
35618: PUSH
35619: LD_STRING );
35621: STR
35622: PPUSH
35623: CALL_OW 559
// end ;
35627: LD_VAR 0 5
35631: RET
// export function LScore_Reset ( ) ; begin
35632: LD_INT 0
35634: PPUSH
// ToLua ( ResetScorebar(); ) ;
35635: LD_STRING ResetScorebar();
35637: PPUSH
35638: CALL_OW 559
// end ;
35642: LD_VAR 0 1
35646: RET
// export function LScore_Delete ( ID ) ; begin
35647: LD_INT 0
35649: PPUSH
// ToLua ( deleteScore( & ID & ); ) ;
35650: LD_STRING deleteScore(
35652: PUSH
35653: LD_VAR 0 1
35657: STR
35658: PUSH
35659: LD_STRING );
35661: STR
35662: PPUSH
35663: CALL_OW 559
// end ;
35667: LD_VAR 0 2
35671: RET
// export function LScore_Add_Timer ( ID , typ , totalTime ) ; begin
35672: LD_INT 0
35674: PPUSH
// ToLua ( AST( & ID & , & typ & , & totalTime & ,); ) ;
35675: LD_STRING AST(
35677: PUSH
35678: LD_VAR 0 1
35682: STR
35683: PUSH
35684: LD_STRING ,
35686: STR
35687: PUSH
35688: LD_VAR 0 2
35692: STR
35693: PUSH
35694: LD_STRING ,
35696: STR
35697: PUSH
35698: LD_VAR 0 3
35702: STR
35703: PUSH
35704: LD_STRING ,);
35706: STR
35707: PPUSH
35708: CALL_OW 559
// end ;
35712: LD_VAR 0 4
35716: RET
// export function LScore_Add_Timer2 ( ID , typ , totalTime , show_total ) ; begin
35717: LD_INT 0
35719: PPUSH
// ToLua ( AST( & ID & , & typ & , & totalTime & , & show_total & ); ) ;
35720: LD_STRING AST(
35722: PUSH
35723: LD_VAR 0 1
35727: STR
35728: PUSH
35729: LD_STRING ,
35731: STR
35732: PUSH
35733: LD_VAR 0 2
35737: STR
35738: PUSH
35739: LD_STRING ,
35741: STR
35742: PUSH
35743: LD_VAR 0 3
35747: STR
35748: PUSH
35749: LD_STRING ,
35751: STR
35752: PUSH
35753: LD_VAR 0 4
35757: STR
35758: PUSH
35759: LD_STRING );
35761: STR
35762: PPUSH
35763: CALL_OW 559
// end ;
35767: LD_VAR 0 5
35771: RET
// export function LScore_Add_Timer3 ( ID , typ , totalTime , show_total , currentTime ) ; begin
35772: LD_INT 0
35774: PPUSH
// ToLua ( AST( & ID & , & typ & , & totalTime & , & show_total & , & currentTime & ); ) ;
35775: LD_STRING AST(
35777: PUSH
35778: LD_VAR 0 1
35782: STR
35783: PUSH
35784: LD_STRING ,
35786: STR
35787: PUSH
35788: LD_VAR 0 2
35792: STR
35793: PUSH
35794: LD_STRING ,
35796: STR
35797: PUSH
35798: LD_VAR 0 3
35802: STR
35803: PUSH
35804: LD_STRING ,
35806: STR
35807: PUSH
35808: LD_VAR 0 4
35812: STR
35813: PUSH
35814: LD_STRING ,
35816: STR
35817: PUSH
35818: LD_VAR 0 5
35822: STR
35823: PUSH
35824: LD_STRING );
35826: STR
35827: PPUSH
35828: CALL_OW 559
// end ;
35832: LD_VAR 0 6
35836: RET
// export function LScore_Add_ReverseTimer ( ID , typ , totalTime ) ; begin
35837: LD_INT 0
35839: PPUSH
// ToLua ( ASRT( & ID & , & typ & , & totalTime & ,); ) ;
35840: LD_STRING ASRT(
35842: PUSH
35843: LD_VAR 0 1
35847: STR
35848: PUSH
35849: LD_STRING ,
35851: STR
35852: PUSH
35853: LD_VAR 0 2
35857: STR
35858: PUSH
35859: LD_STRING ,
35861: STR
35862: PUSH
35863: LD_VAR 0 3
35867: STR
35868: PUSH
35869: LD_STRING ,);
35871: STR
35872: PPUSH
35873: CALL_OW 559
// end ;
35877: LD_VAR 0 4
35881: RET
// export function LScore_Add_ReverseTimer2 ( ID , typ , totalTime , show_total ) ; begin
35882: LD_INT 0
35884: PPUSH
// ToLua ( ASRT( & ID & , & typ & , & totalTime & , & show_total & ); ) ;
35885: LD_STRING ASRT(
35887: PUSH
35888: LD_VAR 0 1
35892: STR
35893: PUSH
35894: LD_STRING ,
35896: STR
35897: PUSH
35898: LD_VAR 0 2
35902: STR
35903: PUSH
35904: LD_STRING ,
35906: STR
35907: PUSH
35908: LD_VAR 0 3
35912: STR
35913: PUSH
35914: LD_STRING ,
35916: STR
35917: PUSH
35918: LD_VAR 0 4
35922: STR
35923: PUSH
35924: LD_STRING );
35926: STR
35927: PPUSH
35928: CALL_OW 559
// end ;
35932: LD_VAR 0 5
35936: RET
// export function LScore_Add_ReverseTimer3 ( ID , typ , totalTime , show_total , currentTime ) ; begin
35937: LD_INT 0
35939: PPUSH
// ToLua ( ASRT( & ID & , & typ & , & totalTime & , & show_total & , & currentTime & ); ) ;
35940: LD_STRING ASRT(
35942: PUSH
35943: LD_VAR 0 1
35947: STR
35948: PUSH
35949: LD_STRING ,
35951: STR
35952: PUSH
35953: LD_VAR 0 2
35957: STR
35958: PUSH
35959: LD_STRING ,
35961: STR
35962: PUSH
35963: LD_VAR 0 3
35967: STR
35968: PUSH
35969: LD_STRING ,
35971: STR
35972: PUSH
35973: LD_VAR 0 4
35977: STR
35978: PUSH
35979: LD_STRING ,
35981: STR
35982: PUSH
35983: LD_VAR 0 5
35987: STR
35988: PUSH
35989: LD_STRING );
35991: STR
35992: PPUSH
35993: CALL_OW 559
// end ;
35997: LD_VAR 0 6
36001: RET
// export function LScore_update_Timer ( ID , currentTime ) ; begin
36002: LD_INT 0
36004: PPUSH
// ToLua ( UST( & id & , & currentTime & ); ) ;
36005: LD_STRING UST(
36007: PUSH
36008: LD_VAR 0 1
36012: STR
36013: PUSH
36014: LD_STRING ,
36016: STR
36017: PUSH
36018: LD_VAR 0 2
36022: STR
36023: PUSH
36024: LD_STRING );
36026: STR
36027: PPUSH
36028: CALL_OW 559
// end ;
36032: LD_VAR 0 3
36036: RET
// export function LScore_update_Timer2 ( ID , currentTime , totalTime ) ; begin
36037: LD_INT 0
36039: PPUSH
// ToLua ( UST( & id & , & currentTime & , & totalTime & ); ) ;
36040: LD_STRING UST(
36042: PUSH
36043: LD_VAR 0 1
36047: STR
36048: PUSH
36049: LD_STRING ,
36051: STR
36052: PUSH
36053: LD_VAR 0 2
36057: STR
36058: PUSH
36059: LD_STRING ,
36061: STR
36062: PUSH
36063: LD_VAR 0 3
36067: STR
36068: PUSH
36069: LD_STRING );
36071: STR
36072: PPUSH
36073: CALL_OW 559
// end ;
36077: LD_VAR 0 4
36081: RET
// export function LScore_Change_TimerColourRGB ( id , red , green , blue ) ; begin
36082: LD_INT 0
36084: PPUSH
// ToLua ( CCST( & id & ,{ & red & , & green & , & blue & }); ) ;
36085: LD_STRING CCST(
36087: PUSH
36088: LD_VAR 0 1
36092: STR
36093: PUSH
36094: LD_STRING ,{
36096: STR
36097: PUSH
36098: LD_VAR 0 2
36102: STR
36103: PUSH
36104: LD_STRING ,
36106: STR
36107: PUSH
36108: LD_VAR 0 3
36112: STR
36113: PUSH
36114: LD_STRING ,
36116: STR
36117: PUSH
36118: LD_VAR 0 4
36122: STR
36123: PUSH
36124: LD_STRING });
36126: STR
36127: PPUSH
36128: CALL_OW 559
// end ;
36132: LD_VAR 0 5
36136: RET
// export function LScore_Change_TimerColour ( id , side ) ; begin
36137: LD_INT 0
36139: PPUSH
// ToLua ( CCST( & id & , & side & ); ) ;
36140: LD_STRING CCST(
36142: PUSH
36143: LD_VAR 0 1
36147: STR
36148: PUSH
36149: LD_STRING ,
36151: STR
36152: PUSH
36153: LD_VAR 0 2
36157: STR
36158: PUSH
36159: LD_STRING );
36161: STR
36162: PPUSH
36163: CALL_OW 559
// end ;
36167: LD_VAR 0 3
36171: RET
// export function LScore_Add_SinglePoints ( ID , typ , totalPoints ) ; begin
36172: LD_INT 0
36174: PPUSH
// ToLua ( ASSP( & ID & , & typ & , & totalPoints & ,); ) ;
36175: LD_STRING ASSP(
36177: PUSH
36178: LD_VAR 0 1
36182: STR
36183: PUSH
36184: LD_STRING ,
36186: STR
36187: PUSH
36188: LD_VAR 0 2
36192: STR
36193: PUSH
36194: LD_STRING ,
36196: STR
36197: PUSH
36198: LD_VAR 0 3
36202: STR
36203: PUSH
36204: LD_STRING ,);
36206: STR
36207: PPUSH
36208: CALL_OW 559
// end ;
36212: LD_VAR 0 4
36216: RET
// export function LScore_Add_SinglePoints2 ( ID , typ , totalPoints , show_total ) ; begin
36217: LD_INT 0
36219: PPUSH
// ToLua ( ASSP( & ID & , & typ & , & totalPoints & , & show_total & ); ) ;
36220: LD_STRING ASSP(
36222: PUSH
36223: LD_VAR 0 1
36227: STR
36228: PUSH
36229: LD_STRING ,
36231: STR
36232: PUSH
36233: LD_VAR 0 2
36237: STR
36238: PUSH
36239: LD_STRING ,
36241: STR
36242: PUSH
36243: LD_VAR 0 3
36247: STR
36248: PUSH
36249: LD_STRING ,
36251: STR
36252: PUSH
36253: LD_VAR 0 4
36257: STR
36258: PUSH
36259: LD_STRING );
36261: STR
36262: PPUSH
36263: CALL_OW 559
// end ;
36267: LD_VAR 0 5
36271: RET
// export function LScore_Add_SinglePoints3 ( ID , typ , totalPoints , show_total , currentPoints ) ; begin
36272: LD_INT 0
36274: PPUSH
// ToLua ( ASSP( & ID & , & typ & , & totalPoints & , & show_total & , & currentPoints & ); ) ;
36275: LD_STRING ASSP(
36277: PUSH
36278: LD_VAR 0 1
36282: STR
36283: PUSH
36284: LD_STRING ,
36286: STR
36287: PUSH
36288: LD_VAR 0 2
36292: STR
36293: PUSH
36294: LD_STRING ,
36296: STR
36297: PUSH
36298: LD_VAR 0 3
36302: STR
36303: PUSH
36304: LD_STRING ,
36306: STR
36307: PUSH
36308: LD_VAR 0 4
36312: STR
36313: PUSH
36314: LD_STRING ,
36316: STR
36317: PUSH
36318: LD_VAR 0 5
36322: STR
36323: PUSH
36324: LD_STRING );
36326: STR
36327: PPUSH
36328: CALL_OW 559
// end ;
36332: LD_VAR 0 6
36336: RET
// export function LScore_Add_ReverseSinglePoints ( ID , typ , totalPoints ) ; begin
36337: LD_INT 0
36339: PPUSH
// ToLua ( ASRSP( & ID & , & typ & , & totalPoints & ,); ) ;
36340: LD_STRING ASRSP(
36342: PUSH
36343: LD_VAR 0 1
36347: STR
36348: PUSH
36349: LD_STRING ,
36351: STR
36352: PUSH
36353: LD_VAR 0 2
36357: STR
36358: PUSH
36359: LD_STRING ,
36361: STR
36362: PUSH
36363: LD_VAR 0 3
36367: STR
36368: PUSH
36369: LD_STRING ,);
36371: STR
36372: PPUSH
36373: CALL_OW 559
// end ;
36377: LD_VAR 0 4
36381: RET
// export function LScore_Add_ReverseSinglePoints2 ( ID , typ , totalPoints , show_total ) ; begin
36382: LD_INT 0
36384: PPUSH
// ToLua ( ASRSP( & ID & , & typ & , & totalPoints & , & show_total & ); ) ;
36385: LD_STRING ASRSP(
36387: PUSH
36388: LD_VAR 0 1
36392: STR
36393: PUSH
36394: LD_STRING ,
36396: STR
36397: PUSH
36398: LD_VAR 0 2
36402: STR
36403: PUSH
36404: LD_STRING ,
36406: STR
36407: PUSH
36408: LD_VAR 0 3
36412: STR
36413: PUSH
36414: LD_STRING ,
36416: STR
36417: PUSH
36418: LD_VAR 0 4
36422: STR
36423: PUSH
36424: LD_STRING );
36426: STR
36427: PPUSH
36428: CALL_OW 559
// end ;
36432: LD_VAR 0 5
36436: RET
// export function LScore_Add_ReverseSinglePoints3 ( ID , typ , totalPoints , show_total , currentPoints ) ; begin
36437: LD_INT 0
36439: PPUSH
// ToLua ( ASRSP( & ID & , & typ & , & totalPoints & , & show_total & , & currentPoints & ); ) ;
36440: LD_STRING ASRSP(
36442: PUSH
36443: LD_VAR 0 1
36447: STR
36448: PUSH
36449: LD_STRING ,
36451: STR
36452: PUSH
36453: LD_VAR 0 2
36457: STR
36458: PUSH
36459: LD_STRING ,
36461: STR
36462: PUSH
36463: LD_VAR 0 3
36467: STR
36468: PUSH
36469: LD_STRING ,
36471: STR
36472: PUSH
36473: LD_VAR 0 4
36477: STR
36478: PUSH
36479: LD_STRING ,
36481: STR
36482: PUSH
36483: LD_VAR 0 5
36487: STR
36488: PUSH
36489: LD_STRING );
36491: STR
36492: PPUSH
36493: CALL_OW 559
// end ;
36497: LD_VAR 0 6
36501: RET
// export function LScore_update_SinglePoints ( ID , currentPoints ) ; begin
36502: LD_INT 0
36504: PPUSH
// ToLua ( USSP( & id & , & currentPoints & ); ) ;
36505: LD_STRING USSP(
36507: PUSH
36508: LD_VAR 0 1
36512: STR
36513: PUSH
36514: LD_STRING ,
36516: STR
36517: PUSH
36518: LD_VAR 0 2
36522: STR
36523: PUSH
36524: LD_STRING );
36526: STR
36527: PPUSH
36528: CALL_OW 559
// end ;
36532: LD_VAR 0 3
36536: RET
// export function LScore_update_SinglePoints2 ( ID , currentPoints , totalPoints ) ; begin
36537: LD_INT 0
36539: PPUSH
// ToLua ( USSP( & id & , & currentPoints & , & totalPoints & ); ) ;
36540: LD_STRING USSP(
36542: PUSH
36543: LD_VAR 0 1
36547: STR
36548: PUSH
36549: LD_STRING ,
36551: STR
36552: PUSH
36553: LD_VAR 0 2
36557: STR
36558: PUSH
36559: LD_STRING ,
36561: STR
36562: PUSH
36563: LD_VAR 0 3
36567: STR
36568: PUSH
36569: LD_STRING );
36571: STR
36572: PPUSH
36573: CALL_OW 559
// end ;
36577: LD_VAR 0 4
36581: RET
// export function LScore_Change_SinglePointsRGB ( id , red , green , blue ) ; begin
36582: LD_INT 0
36584: PPUSH
// ToLua ( CCSSP( & id & ,{ & red & , & green & , & blue & }); ) ;
36585: LD_STRING CCSSP(
36587: PUSH
36588: LD_VAR 0 1
36592: STR
36593: PUSH
36594: LD_STRING ,{
36596: STR
36597: PUSH
36598: LD_VAR 0 2
36602: STR
36603: PUSH
36604: LD_STRING ,
36606: STR
36607: PUSH
36608: LD_VAR 0 3
36612: STR
36613: PUSH
36614: LD_STRING ,
36616: STR
36617: PUSH
36618: LD_VAR 0 4
36622: STR
36623: PUSH
36624: LD_STRING });
36626: STR
36627: PPUSH
36628: CALL_OW 559
// end ;
36632: LD_VAR 0 5
36636: RET
// export function LScore_Change_SinglePoints ( id , side ) ; begin
36637: LD_INT 0
36639: PPUSH
// ToLua ( CCSSP( & id & , & side & ); ) ;
36640: LD_STRING CCSSP(
36642: PUSH
36643: LD_VAR 0 1
36647: STR
36648: PUSH
36649: LD_STRING ,
36651: STR
36652: PUSH
36653: LD_VAR 0 2
36657: STR
36658: PUSH
36659: LD_STRING );
36661: STR
36662: PPUSH
36663: CALL_OW 559
// end ;
36667: LD_VAR 0 3
36671: RET
// export function LScore_Add_Points ( ID , typ , goal ) ; begin
36672: LD_INT 0
36674: PPUSH
// ToLua ( ASP( & id & , & typ & , & goal & ); ) ;
36675: LD_STRING ASP(
36677: PUSH
36678: LD_VAR 0 1
36682: STR
36683: PUSH
36684: LD_STRING ,
36686: STR
36687: PUSH
36688: LD_VAR 0 2
36692: STR
36693: PUSH
36694: LD_STRING ,
36696: STR
36697: PUSH
36698: LD_VAR 0 3
36702: STR
36703: PUSH
36704: LD_STRING );
36706: STR
36707: PPUSH
36708: CALL_OW 559
// end ;
36712: LD_VAR 0 4
36716: RET
// export function LScore_Update_Points ( ID , side , points ) ; begin
36717: LD_INT 0
36719: PPUSH
// ToLua ( USP( & id & , & side & , & points & ); ) ;
36720: LD_STRING USP(
36722: PUSH
36723: LD_VAR 0 1
36727: STR
36728: PUSH
36729: LD_STRING ,
36731: STR
36732: PUSH
36733: LD_VAR 0 2
36737: STR
36738: PUSH
36739: LD_STRING ,
36741: STR
36742: PUSH
36743: LD_VAR 0 3
36747: STR
36748: PUSH
36749: LD_STRING );
36751: STR
36752: PPUSH
36753: CALL_OW 559
// end ;
36757: LD_VAR 0 4
36761: RET
// export function LScore_Update_PointsAll ( ID , score ) ; var i ; begin
36762: LD_INT 0
36764: PPUSH
36765: PPUSH
// for i = 1 to 8 do
36766: LD_ADDR_VAR 0 4
36770: PUSH
36771: DOUBLE
36772: LD_INT 1
36774: DEC
36775: ST_TO_ADDR
36776: LD_INT 8
36778: PUSH
36779: FOR_TO
36780: IFFALSE 36827
// ToLua ( USP( & ID & , & i & , & score [ i ] & ); ) ;
36782: LD_STRING USP(
36784: PUSH
36785: LD_VAR 0 1
36789: STR
36790: PUSH
36791: LD_STRING ,
36793: STR
36794: PUSH
36795: LD_VAR 0 4
36799: STR
36800: PUSH
36801: LD_STRING ,
36803: STR
36804: PUSH
36805: LD_VAR 0 2
36809: PUSH
36810: LD_VAR 0 4
36814: ARRAY
36815: STR
36816: PUSH
36817: LD_STRING );
36819: STR
36820: PPUSH
36821: CALL_OW 559
36825: GO 36779
36827: POP
36828: POP
// end ;
36829: LD_VAR 0 3
36833: RET
// export function LScore_Add_Pieces ( id , typ , goal , total ) ; begin
36834: LD_INT 0
36836: PPUSH
// ToLua ( ASC( & id & , & typ & , & goal & , & total & ); ) ;
36837: LD_STRING ASC(
36839: PUSH
36840: LD_VAR 0 1
36844: STR
36845: PUSH
36846: LD_STRING ,
36848: STR
36849: PUSH
36850: LD_VAR 0 2
36854: STR
36855: PUSH
36856: LD_STRING ,
36858: STR
36859: PUSH
36860: LD_VAR 0 3
36864: STR
36865: PUSH
36866: LD_STRING ,
36868: STR
36869: PUSH
36870: LD_VAR 0 4
36874: STR
36875: PUSH
36876: LD_STRING );
36878: STR
36879: PPUSH
36880: CALL_OW 559
// end ;
36884: LD_VAR 0 5
36888: RET
// export function LScore_Update_Peices ( id , sidesChunks ) ; begin
36889: LD_INT 0
36891: PPUSH
// ToLua ( USC( & id & ,{ & sidesChunks [ 1 ] & , & sidesChunks [ 2 ] & , & sidesChunks [ 3 ] & , & sidesChunks [ 4 ] & , & sidesChunks [ 5 ] & , & sidesChunks [ 6 ] & , & sidesChunks [ 7 ] & , & sidesChunks [ 8 ] & }); ) ;
36892: LD_STRING USC(
36894: PUSH
36895: LD_VAR 0 1
36899: STR
36900: PUSH
36901: LD_STRING ,{
36903: STR
36904: PUSH
36905: LD_VAR 0 2
36909: PUSH
36910: LD_INT 1
36912: ARRAY
36913: STR
36914: PUSH
36915: LD_STRING ,
36917: STR
36918: PUSH
36919: LD_VAR 0 2
36923: PUSH
36924: LD_INT 2
36926: ARRAY
36927: STR
36928: PUSH
36929: LD_STRING ,
36931: STR
36932: PUSH
36933: LD_VAR 0 2
36937: PUSH
36938: LD_INT 3
36940: ARRAY
36941: STR
36942: PUSH
36943: LD_STRING ,
36945: STR
36946: PUSH
36947: LD_VAR 0 2
36951: PUSH
36952: LD_INT 4
36954: ARRAY
36955: STR
36956: PUSH
36957: LD_STRING ,
36959: STR
36960: PUSH
36961: LD_VAR 0 2
36965: PUSH
36966: LD_INT 5
36968: ARRAY
36969: STR
36970: PUSH
36971: LD_STRING ,
36973: STR
36974: PUSH
36975: LD_VAR 0 2
36979: PUSH
36980: LD_INT 6
36982: ARRAY
36983: STR
36984: PUSH
36985: LD_STRING ,
36987: STR
36988: PUSH
36989: LD_VAR 0 2
36993: PUSH
36994: LD_INT 7
36996: ARRAY
36997: STR
36998: PUSH
36999: LD_STRING ,
37001: STR
37002: PUSH
37003: LD_VAR 0 2
37007: PUSH
37008: LD_INT 8
37010: ARRAY
37011: STR
37012: PUSH
37013: LD_STRING });
37015: STR
37016: PPUSH
37017: CALL_OW 559
// end ;
37021: LD_VAR 0 3
37025: RET
