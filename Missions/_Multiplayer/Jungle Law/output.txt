// starting begin GT_DoubleNat = [ ] ;
   0: LD_ADDR_EXP 3
   4: PUSH
   5: EMPTY
   6: ST_TO_ADDR
// GT_DoublePeople = [ ] ;
   7: LD_ADDR_EXP 4
  11: PUSH
  12: EMPTY
  13: ST_TO_ADDR
// GT_TripleNat = [ ] ;
  14: LD_ADDR_EXP 5
  18: PUSH
  19: EMPTY
  20: ST_TO_ADDR
// GT_Survival = [ 24 , 23 , 22 , 21 ] ;
  21: LD_ADDR_EXP 6
  25: PUSH
  26: LD_INT 24
  28: PUSH
  29: LD_INT 23
  31: PUSH
  32: LD_INT 22
  34: PUSH
  35: LD_INT 21
  37: PUSH
  38: EMPTY
  39: LIST
  40: LIST
  41: LIST
  42: LIST
  43: ST_TO_ADDR
// GT_Mine = [ ] ;
  44: LD_ADDR_EXP 2
  48: PUSH
  49: EMPTY
  50: ST_TO_ADDR
// GT_RankedGames = [ 10 , 11 ] ;
  51: LD_ADDR_EXP 7
  55: PUSH
  56: LD_INT 10
  58: PUSH
  59: LD_INT 11
  61: PUSH
  62: EMPTY
  63: LIST
  64: LIST
  65: ST_TO_ADDR
// enable_human_prediction := true ;
  66: LD_ADDR_OWVAR 51
  70: PUSH
  71: LD_INT 1
  73: ST_TO_ADDR
// Disable_All_Games ;
  74: CALL 350 0 0
// mp_selectmsg = true ;
  78: LD_ADDR_OWVAR 13
  82: PUSH
  83: LD_INT 1
  85: ST_TO_ADDR
// read_multiplayer_and_game_parameters ;
  86: CALL 2753 0 0
// specialParameters ;
  90: CALL 362 0 0
// standartSets ;
  94: CALL 3371 0 0
// prepare_map_coordinates ;
  98: CALL 393 0 0
// InitGameRules ;
 102: CALL 26254 0 0
// set_shared_visions_and_alliances ;
 106: CALL 5312 0 0
// ResetFog ;
 110: CALL_OW 335
// ClearAllFogForSide ( Player_Side ) ;
 114: LD_EXP 70
 118: PPUSH
 119: CALL_OW 520
// init_map ;
 123: CALL 4467 0 0
// if Game_Type in GT_DoubleNat ^ GT_TripleNat then
 127: LD_EXP 1
 131: PUSH
 132: LD_EXP 3
 136: PUSH
 137: LD_EXP 5
 141: ADD
 142: IN
 143: IFFALSE 149
// modify_nations ;
 145: CALL 6165 0 0
// if not def_game_rules then
 149: LD_EXP 9
 153: NOT
 154: IFFALSE 163
// begin Start_tech_ur ;
 156: CALL 18529 0 0
// enable ( 30 ) ;
 160: LD_INT 30
 162: ENABLE_MARKED
// end ; prepare_sides ;
 163: CALL 5621 0 0
// InitLimits ;
 167: CALL 28959 0 0
// if def_kings_age or def_warForTerritory then
 171: LD_EXP 35
 175: PUSH
 176: LD_EXP 36
 180: OR
 181: IFFALSE 187
// InitPoints ;
 183: CALL 34698 0 0
// if def_kings_age then
 187: LD_EXP 35
 191: IFFALSE 197
// init_kings_counting ;
 193: CALL 22562 0 0
// init_respawn ;
 197: CALL 10517 0 0
// Init_Win_Condition ;
 201: CALL 13014 0 0
// mastodonti ;
 205: CALL 9145 0 0
// Start_Zvirata ;
 209: CALL 9464 0 0
// init_Daily ;
 213: CALL 24718 0 0
// your_side := Player_Side ;
 217: LD_ADDR_OWVAR 2
 221: PUSH
 222: LD_EXP 70
 226: ST_TO_ADDR
// music_nat := Side_Nations [ your_side ] ;
 227: LD_ADDR_OWVAR 71
 231: PUSH
 232: LD_EXP 76
 236: PUSH
 237: LD_OWVAR 2
 241: ARRAY
 242: ST_TO_ADDR
// if IAmSpec then
 243: CALL_OW 531
 247: IFFALSE 271
// begin FogOff ( true ) ;
 249: LD_INT 1
 251: PPUSH
 252: CALL_OW 344
// CenterNowOnXY ( 120 , 80 ) ;
 256: LD_INT 120
 258: PPUSH
 259: LD_INT 80
 261: PPUSH
 262: CALL_OW 86
// enable ( 400 ) ;
 266: LD_INT 400
 268: ENABLE_MARKED
// end else
 269: GO 321
// begin CenterNowOnXY ( start_def [ Side_Positions [ your_side ] ] [ 1 ] , start_def [ Side_Positions [ your_side ] ] [ 2 ] ) ;
 271: LD_EXP 83
 275: PUSH
 276: LD_EXP 75
 280: PUSH
 281: LD_OWVAR 2
 285: ARRAY
 286: ARRAY
 287: PUSH
 288: LD_INT 1
 290: ARRAY
 291: PPUSH
 292: LD_EXP 83
 296: PUSH
 297: LD_EXP 75
 301: PUSH
 302: LD_OWVAR 2
 306: ARRAY
 307: ARRAY
 308: PUSH
 309: LD_INT 2
 311: ARRAY
 312: PPUSH
 313: CALL_OW 86
// Init_Win_Condition ;
 317: CALL 13014 0 0
// end ; if def_builduptime then
 321: LD_EXP 30
 325: IFFALSE 331
// BeginBuildUp ;
 327: CALL 25528 0 0
// if def_warForTerritory then
 331: LD_EXP 36
 335: IFFALSE 341
// Init_WarForTerritory ;
 337: CALL 30224 0 0
// InitDisplayNames ;
 341: CALL 15887 0 0
// InitMultiplayerTime ;
 345: CALL 16557 0 0
// end ;
 349: END
// function Disable_All_Games ; begin
 350: LD_INT 0
 352: PPUSH
// Disable_Standard_Games ;
 353: CALL 9506 0 0
// end ;
 357: LD_VAR 0 1
 361: RET
// function specialParameters ; var d ; begin
 362: LD_INT 0
 364: PPUSH
 365: PPUSH
// if not isSGUI then
 366: LD_OWVAR 83
 370: NOT
 371: IFFALSE 388
// begin if not game_type in GT_Survival then
 373: LD_EXP 1
 377: PUSH
 378: LD_EXP 6
 382: IN
 383: NOT
 384: IFFALSE 386
// begin end ; end else
 386: GO 388
// begin end ; end ;
 388: LD_VAR 0 1
 392: RET
// function prepare_map_coordinates ; begin
 393: LD_INT 0
 395: PPUSH
// depot_def := [ [ 12 , 8 , 2 ] , [ 83 , 146 , 0 ] , [ 156 , 9 , 3 ] , [ 225 , 149 , 5 ] ] ;
 396: LD_ADDR_EXP 81
 400: PUSH
 401: LD_INT 12
 403: PUSH
 404: LD_INT 8
 406: PUSH
 407: LD_INT 2
 409: PUSH
 410: EMPTY
 411: LIST
 412: LIST
 413: LIST
 414: PUSH
 415: LD_INT 83
 417: PUSH
 418: LD_INT 146
 420: PUSH
 421: LD_INT 0
 423: PUSH
 424: EMPTY
 425: LIST
 426: LIST
 427: LIST
 428: PUSH
 429: LD_INT 156
 431: PUSH
 432: LD_INT 9
 434: PUSH
 435: LD_INT 3
 437: PUSH
 438: EMPTY
 439: LIST
 440: LIST
 441: LIST
 442: PUSH
 443: LD_INT 225
 445: PUSH
 446: LD_INT 149
 448: PUSH
 449: LD_INT 5
 451: PUSH
 452: EMPTY
 453: LIST
 454: LIST
 455: LIST
 456: PUSH
 457: EMPTY
 458: LIST
 459: LIST
 460: LIST
 461: LIST
 462: ST_TO_ADDR
// oil_deposits_locations := [ [ 20 , 4 ] , [ 93 , 153 ] , [ 141 , 4 ] , [ 220 , 155 ] , ] ;
 463: LD_ADDR_EXP 86
 467: PUSH
 468: LD_INT 20
 470: PUSH
 471: LD_INT 4
 473: PUSH
 474: EMPTY
 475: LIST
 476: LIST
 477: PUSH
 478: LD_INT 93
 480: PUSH
 481: LD_INT 153
 483: PUSH
 484: EMPTY
 485: LIST
 486: LIST
 487: PUSH
 488: LD_INT 141
 490: PUSH
 491: LD_INT 4
 493: PUSH
 494: EMPTY
 495: LIST
 496: LIST
 497: PUSH
 498: LD_INT 220
 500: PUSH
 501: LD_INT 155
 503: PUSH
 504: EMPTY
 505: LIST
 506: LIST
 507: PUSH
 508: EMPTY
 509: LIST
 510: LIST
 511: LIST
 512: LIST
 513: ST_TO_ADDR
// siberite_deposits_locations := [ [ 18 , 27 ] , [ 70 , 133 ] , [ 169 , 29 ] , [ 221 , 130 ] , ] ;
 514: LD_ADDR_EXP 88
 518: PUSH
 519: LD_INT 18
 521: PUSH
 522: LD_INT 27
 524: PUSH
 525: EMPTY
 526: LIST
 527: LIST
 528: PUSH
 529: LD_INT 70
 531: PUSH
 532: LD_INT 133
 534: PUSH
 535: EMPTY
 536: LIST
 537: LIST
 538: PUSH
 539: LD_INT 169
 541: PUSH
 542: LD_INT 29
 544: PUSH
 545: EMPTY
 546: LIST
 547: LIST
 548: PUSH
 549: LD_INT 221
 551: PUSH
 552: LD_INT 130
 554: PUSH
 555: EMPTY
 556: LIST
 557: LIST
 558: PUSH
 559: EMPTY
 560: LIST
 561: LIST
 562: LIST
 563: LIST
 564: ST_TO_ADDR
// extra_oil_deposits_locations := [ [ 53 , 26 ] , [ 187 , 139 ] , [ 129 , 20 ] , [ 106 , 135 ] ] ;
 565: LD_ADDR_EXP 85
 569: PUSH
 570: LD_INT 53
 572: PUSH
 573: LD_INT 26
 575: PUSH
 576: EMPTY
 577: LIST
 578: LIST
 579: PUSH
 580: LD_INT 187
 582: PUSH
 583: LD_INT 139
 585: PUSH
 586: EMPTY
 587: LIST
 588: LIST
 589: PUSH
 590: LD_INT 129
 592: PUSH
 593: LD_INT 20
 595: PUSH
 596: EMPTY
 597: LIST
 598: LIST
 599: PUSH
 600: LD_INT 106
 602: PUSH
 603: LD_INT 135
 605: PUSH
 606: EMPTY
 607: LIST
 608: LIST
 609: PUSH
 610: EMPTY
 611: LIST
 612: LIST
 613: LIST
 614: LIST
 615: ST_TO_ADDR
// extra_sib_deposits_locations := [ [ 51 , 53 ] , [ 183 , 107 ] , [ 155 , 53 ] , [ 80 , 106 ] ] ;
 616: LD_ADDR_EXP 87
 620: PUSH
 621: LD_INT 51
 623: PUSH
 624: LD_INT 53
 626: PUSH
 627: EMPTY
 628: LIST
 629: LIST
 630: PUSH
 631: LD_INT 183
 633: PUSH
 634: LD_INT 107
 636: PUSH
 637: EMPTY
 638: LIST
 639: LIST
 640: PUSH
 641: LD_INT 155
 643: PUSH
 644: LD_INT 53
 646: PUSH
 647: EMPTY
 648: LIST
 649: LIST
 650: PUSH
 651: LD_INT 80
 653: PUSH
 654: LD_INT 106
 656: PUSH
 657: EMPTY
 658: LIST
 659: LIST
 660: PUSH
 661: EMPTY
 662: LIST
 663: LIST
 664: LIST
 665: LIST
 666: ST_TO_ADDR
// for_show_near_resources = [ [ [ oil_deposits_locations [ 1 ] ] , [ siberite_deposits_locations [ 1 ] ] ] , [ [ oil_deposits_locations [ 2 ] ] , [ siberite_deposits_locations [ 2 ] ] ] , [ [ oil_deposits_locations [ 3 ] ] , [ siberite_deposits_locations [ 3 ] ] ] , [ [ oil_deposits_locations [ 4 ] ] , [ siberite_deposits_locations [ 4 ] ] ] , ] ;
 667: LD_ADDR_EXP 63
 671: PUSH
 672: LD_EXP 86
 676: PUSH
 677: LD_INT 1
 679: ARRAY
 680: PUSH
 681: EMPTY
 682: LIST
 683: PUSH
 684: LD_EXP 88
 688: PUSH
 689: LD_INT 1
 691: ARRAY
 692: PUSH
 693: EMPTY
 694: LIST
 695: PUSH
 696: EMPTY
 697: LIST
 698: LIST
 699: PUSH
 700: LD_EXP 86
 704: PUSH
 705: LD_INT 2
 707: ARRAY
 708: PUSH
 709: EMPTY
 710: LIST
 711: PUSH
 712: LD_EXP 88
 716: PUSH
 717: LD_INT 2
 719: ARRAY
 720: PUSH
 721: EMPTY
 722: LIST
 723: PUSH
 724: EMPTY
 725: LIST
 726: LIST
 727: PUSH
 728: LD_EXP 86
 732: PUSH
 733: LD_INT 3
 735: ARRAY
 736: PUSH
 737: EMPTY
 738: LIST
 739: PUSH
 740: LD_EXP 88
 744: PUSH
 745: LD_INT 3
 747: ARRAY
 748: PUSH
 749: EMPTY
 750: LIST
 751: PUSH
 752: EMPTY
 753: LIST
 754: LIST
 755: PUSH
 756: LD_EXP 86
 760: PUSH
 761: LD_INT 4
 763: ARRAY
 764: PUSH
 765: EMPTY
 766: LIST
 767: PUSH
 768: LD_EXP 88
 772: PUSH
 773: LD_INT 4
 775: ARRAY
 776: PUSH
 777: EMPTY
 778: LIST
 779: PUSH
 780: EMPTY
 781: LIST
 782: LIST
 783: PUSH
 784: EMPTY
 785: LIST
 786: LIST
 787: LIST
 788: LIST
 789: ST_TO_ADDR
// case def_base_level of 0 :
 790: LD_EXP 10
 794: PUSH
 795: LD_INT 0
 797: DOUBLE
 798: EQUAL
 799: IFTRUE 803
 801: GO 837
 803: POP
// begin buildings_def = [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
 804: LD_ADDR_EXP 39
 808: PUSH
 809: EMPTY
 810: PUSH
 811: EMPTY
 812: PUSH
 813: EMPTY
 814: PUSH
 815: EMPTY
 816: PUSH
 817: EMPTY
 818: PUSH
 819: EMPTY
 820: PUSH
 821: EMPTY
 822: PUSH
 823: EMPTY
 824: PUSH
 825: EMPTY
 826: LIST
 827: LIST
 828: LIST
 829: LIST
 830: LIST
 831: LIST
 832: LIST
 833: LIST
 834: ST_TO_ADDR
// end ; 1 :
 835: GO 1218
 837: LD_INT 1
 839: DOUBLE
 840: EQUAL
 841: IFTRUE 845
 843: GO 879
 845: POP
// begin buildings_def = [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
 846: LD_ADDR_EXP 39
 850: PUSH
 851: EMPTY
 852: PUSH
 853: EMPTY
 854: PUSH
 855: EMPTY
 856: PUSH
 857: EMPTY
 858: PUSH
 859: EMPTY
 860: PUSH
 861: EMPTY
 862: PUSH
 863: EMPTY
 864: PUSH
 865: EMPTY
 866: PUSH
 867: EMPTY
 868: LIST
 869: LIST
 870: LIST
 871: LIST
 872: LIST
 873: LIST
 874: LIST
 875: LIST
 876: ST_TO_ADDR
// end ; 2 :
 877: GO 1218
 879: LD_INT 2
 881: DOUBLE
 882: EQUAL
 883: IFTRUE 887
 885: GO 1217
 887: POP
// begin buildings_def = [ [ [ b_oil_mine , oil_deposits_locations [ 1 ] [ 1 ] , oil_deposits_locations [ 1 ] [ 2 ] , 4 ] , [ b_breastwork , 31 , 34 , 5 ] , [ b_breastwork , 40 , 16 , 4 ] ] , [ [ b_oil_mine , oil_deposits_locations [ 2 ] [ 1 ] , oil_deposits_locations [ 2 ] [ 2 ] , 0 ] , [ b_breastwork , 77 , 125 , 3 ] , [ b_breastwork , 77 , 126 , 4 ] ] , [ [ b_oil_mine , oil_deposits_locations [ 3 ] [ 1 ] , oil_deposits_locations [ 3 ] [ 2 ] , 4 ] , [ b_breastwork , 133 , 16 , 1 ] , [ b_breastwork , 161 , 34 , 0 ] ] , [ [ b_oil_mine , oil_deposits_locations [ 4 ] [ 1 ] , oil_deposits_locations [ 4 ] [ 2 ] , 0 ] , [ b_breastwork , 200 , 144 , 2 ] , [ b_breastwork , 210 , 126 , 2 ] ] ] ;
 888: LD_ADDR_EXP 39
 892: PUSH
 893: LD_INT 29
 895: PUSH
 896: LD_EXP 86
 900: PUSH
 901: LD_INT 1
 903: ARRAY
 904: PUSH
 905: LD_INT 1
 907: ARRAY
 908: PUSH
 909: LD_EXP 86
 913: PUSH
 914: LD_INT 1
 916: ARRAY
 917: PUSH
 918: LD_INT 2
 920: ARRAY
 921: PUSH
 922: LD_INT 4
 924: PUSH
 925: EMPTY
 926: LIST
 927: LIST
 928: LIST
 929: LIST
 930: PUSH
 931: LD_INT 31
 933: PUSH
 934: LD_INT 31
 936: PUSH
 937: LD_INT 34
 939: PUSH
 940: LD_INT 5
 942: PUSH
 943: EMPTY
 944: LIST
 945: LIST
 946: LIST
 947: LIST
 948: PUSH
 949: LD_INT 31
 951: PUSH
 952: LD_INT 40
 954: PUSH
 955: LD_INT 16
 957: PUSH
 958: LD_INT 4
 960: PUSH
 961: EMPTY
 962: LIST
 963: LIST
 964: LIST
 965: LIST
 966: PUSH
 967: EMPTY
 968: LIST
 969: LIST
 970: LIST
 971: PUSH
 972: LD_INT 29
 974: PUSH
 975: LD_EXP 86
 979: PUSH
 980: LD_INT 2
 982: ARRAY
 983: PUSH
 984: LD_INT 1
 986: ARRAY
 987: PUSH
 988: LD_EXP 86
 992: PUSH
 993: LD_INT 2
 995: ARRAY
 996: PUSH
 997: LD_INT 2
 999: ARRAY
1000: PUSH
1001: LD_INT 0
1003: PUSH
1004: EMPTY
1005: LIST
1006: LIST
1007: LIST
1008: LIST
1009: PUSH
1010: LD_INT 31
1012: PUSH
1013: LD_INT 77
1015: PUSH
1016: LD_INT 125
1018: PUSH
1019: LD_INT 3
1021: PUSH
1022: EMPTY
1023: LIST
1024: LIST
1025: LIST
1026: LIST
1027: PUSH
1028: LD_INT 31
1030: PUSH
1031: LD_INT 77
1033: PUSH
1034: LD_INT 126
1036: PUSH
1037: LD_INT 4
1039: PUSH
1040: EMPTY
1041: LIST
1042: LIST
1043: LIST
1044: LIST
1045: PUSH
1046: EMPTY
1047: LIST
1048: LIST
1049: LIST
1050: PUSH
1051: LD_INT 29
1053: PUSH
1054: LD_EXP 86
1058: PUSH
1059: LD_INT 3
1061: ARRAY
1062: PUSH
1063: LD_INT 1
1065: ARRAY
1066: PUSH
1067: LD_EXP 86
1071: PUSH
1072: LD_INT 3
1074: ARRAY
1075: PUSH
1076: LD_INT 2
1078: ARRAY
1079: PUSH
1080: LD_INT 4
1082: PUSH
1083: EMPTY
1084: LIST
1085: LIST
1086: LIST
1087: LIST
1088: PUSH
1089: LD_INT 31
1091: PUSH
1092: LD_INT 133
1094: PUSH
1095: LD_INT 16
1097: PUSH
1098: LD_INT 1
1100: PUSH
1101: EMPTY
1102: LIST
1103: LIST
1104: LIST
1105: LIST
1106: PUSH
1107: LD_INT 31
1109: PUSH
1110: LD_INT 161
1112: PUSH
1113: LD_INT 34
1115: PUSH
1116: LD_INT 0
1118: PUSH
1119: EMPTY
1120: LIST
1121: LIST
1122: LIST
1123: LIST
1124: PUSH
1125: EMPTY
1126: LIST
1127: LIST
1128: LIST
1129: PUSH
1130: LD_INT 29
1132: PUSH
1133: LD_EXP 86
1137: PUSH
1138: LD_INT 4
1140: ARRAY
1141: PUSH
1142: LD_INT 1
1144: ARRAY
1145: PUSH
1146: LD_EXP 86
1150: PUSH
1151: LD_INT 4
1153: ARRAY
1154: PUSH
1155: LD_INT 2
1157: ARRAY
1158: PUSH
1159: LD_INT 0
1161: PUSH
1162: EMPTY
1163: LIST
1164: LIST
1165: LIST
1166: LIST
1167: PUSH
1168: LD_INT 31
1170: PUSH
1171: LD_INT 200
1173: PUSH
1174: LD_INT 144
1176: PUSH
1177: LD_INT 2
1179: PUSH
1180: EMPTY
1181: LIST
1182: LIST
1183: LIST
1184: LIST
1185: PUSH
1186: LD_INT 31
1188: PUSH
1189: LD_INT 210
1191: PUSH
1192: LD_INT 126
1194: PUSH
1195: LD_INT 2
1197: PUSH
1198: EMPTY
1199: LIST
1200: LIST
1201: LIST
1202: LIST
1203: PUSH
1204: EMPTY
1205: LIST
1206: LIST
1207: LIST
1208: PUSH
1209: EMPTY
1210: LIST
1211: LIST
1212: LIST
1213: LIST
1214: ST_TO_ADDR
// end ; end ;
1215: GO 1218
1217: POP
// Cela_mapa = celamapa ;
1218: LD_ADDR_EXP 91
1222: PUSH
1223: LD_INT 32
1225: ST_TO_ADDR
// king_territory = stred ;
1226: LD_ADDR_EXP 92
1230: PUSH
1231: LD_INT 30
1233: ST_TO_ADDR
// oblasti_beden := [ ctverec1 , ctverec2 , ctverec3 , ctverec4 ] ;
1234: LD_ADDR_EXP 98
1238: PUSH
1239: LD_INT 12
1241: PUSH
1242: LD_INT 13
1244: PUSH
1245: LD_INT 15
1247: PUSH
1248: LD_INT 14
1250: PUSH
1251: EMPTY
1252: LIST
1253: LIST
1254: LIST
1255: LIST
1256: ST_TO_ADDR
// dalsi_oblasti_beden := [ map_center ] ;
1257: LD_ADDR_EXP 100
1261: PUSH
1262: LD_INT 16
1264: PUSH
1265: EMPTY
1266: LIST
1267: ST_TO_ADDR
// koof_bedny = 1.5 ;
1268: LD_ADDR_EXP 101
1272: PUSH
1273: LD_REAL  1.50000000000000E+0000
1276: ST_TO_ADDR
// BuildUpAreas := [ AR_ZaklLH , AR_ZaklLD , AR_ZaklPH , AR_ZaklPD ] ;
1277: LD_ADDR_EXP 116
1281: PUSH
1282: LD_INT 4
1284: PUSH
1285: LD_INT 6
1287: PUSH
1288: LD_INT 5
1290: PUSH
1291: LD_INT 7
1293: PUSH
1294: EMPTY
1295: LIST
1296: LIST
1297: LIST
1298: LIST
1299: ST_TO_ADDR
// DailyPhase = [ [ colors1.txt , colors2.txt , colors3.txt , colors4.txt , colors5.txt , colors6.txt ] , [ colors21.txt , colors22.txt , colors23.txt , colors24.txt , colors25.txt , colors26.txt ] , [ colors31.txt , colors32.txt , colors33.txt , colors34.txt , colors35.txt , colors36.txt ] ] [ rand ( 1 , 3 ) ] ;
1300: LD_ADDR_EXP 61
1304: PUSH
1305: LD_STRING colors1.txt
1307: PUSH
1308: LD_STRING colors2.txt
1310: PUSH
1311: LD_STRING colors3.txt
1313: PUSH
1314: LD_STRING colors4.txt
1316: PUSH
1317: LD_STRING colors5.txt
1319: PUSH
1320: LD_STRING colors6.txt
1322: PUSH
1323: EMPTY
1324: LIST
1325: LIST
1326: LIST
1327: LIST
1328: LIST
1329: LIST
1330: PUSH
1331: LD_STRING colors21.txt
1333: PUSH
1334: LD_STRING colors22.txt
1336: PUSH
1337: LD_STRING colors23.txt
1339: PUSH
1340: LD_STRING colors24.txt
1342: PUSH
1343: LD_STRING colors25.txt
1345: PUSH
1346: LD_STRING colors26.txt
1348: PUSH
1349: EMPTY
1350: LIST
1351: LIST
1352: LIST
1353: LIST
1354: LIST
1355: LIST
1356: PUSH
1357: LD_STRING colors31.txt
1359: PUSH
1360: LD_STRING colors32.txt
1362: PUSH
1363: LD_STRING colors33.txt
1365: PUSH
1366: LD_STRING colors34.txt
1368: PUSH
1369: LD_STRING colors35.txt
1371: PUSH
1372: LD_STRING colors36.txt
1374: PUSH
1375: EMPTY
1376: LIST
1377: LIST
1378: LIST
1379: LIST
1380: LIST
1381: LIST
1382: PUSH
1383: EMPTY
1384: LIST
1385: LIST
1386: LIST
1387: PUSH
1388: LD_INT 1
1390: PPUSH
1391: LD_INT 3
1393: PPUSH
1394: CALL_OW 12
1398: ARRAY
1399: ST_TO_ADDR
// WFT_Points_MP = 2 ;
1400: LD_ADDR_EXP 121
1404: PUSH
1405: LD_INT 2
1407: ST_TO_ADDR
// FLAGY_AREA = [ f1 , f2 , f3 , f4 , f5 , f6 , f7 , f8 , f9 ] ;
1408: LD_ADDR_EXP 118
1412: PUSH
1413: LD_INT 39
1415: PUSH
1416: LD_INT 40
1418: PUSH
1419: LD_INT 41
1421: PUSH
1422: LD_INT 42
1424: PUSH
1425: LD_INT 43
1427: PUSH
1428: LD_INT 48
1430: PUSH
1431: LD_INT 49
1433: PUSH
1434: LD_INT 50
1436: PUSH
1437: LD_INT 51
1439: PUSH
1440: EMPTY
1441: LIST
1442: LIST
1443: LIST
1444: LIST
1445: LIST
1446: LIST
1447: LIST
1448: LIST
1449: LIST
1450: ST_TO_ADDR
// FLAGY_XY = [ [ 118 , 73 ] , [ 147 , 55 ] , [ 78 , 30 ] , [ 86 , 99 ] , [ 157 , 124 ] , [ 106 , 19 ] , [ 172 , 98 ] , [ 133 , 140 ] , [ 70 , 61 ] , ] ;
1451: LD_ADDR_EXP 119
1455: PUSH
1456: LD_INT 118
1458: PUSH
1459: LD_INT 73
1461: PUSH
1462: EMPTY
1463: LIST
1464: LIST
1465: PUSH
1466: LD_INT 147
1468: PUSH
1469: LD_INT 55
1471: PUSH
1472: EMPTY
1473: LIST
1474: LIST
1475: PUSH
1476: LD_INT 78
1478: PUSH
1479: LD_INT 30
1481: PUSH
1482: EMPTY
1483: LIST
1484: LIST
1485: PUSH
1486: LD_INT 86
1488: PUSH
1489: LD_INT 99
1491: PUSH
1492: EMPTY
1493: LIST
1494: LIST
1495: PUSH
1496: LD_INT 157
1498: PUSH
1499: LD_INT 124
1501: PUSH
1502: EMPTY
1503: LIST
1504: LIST
1505: PUSH
1506: LD_INT 106
1508: PUSH
1509: LD_INT 19
1511: PUSH
1512: EMPTY
1513: LIST
1514: LIST
1515: PUSH
1516: LD_INT 172
1518: PUSH
1519: LD_INT 98
1521: PUSH
1522: EMPTY
1523: LIST
1524: LIST
1525: PUSH
1526: LD_INT 133
1528: PUSH
1529: LD_INT 140
1531: PUSH
1532: EMPTY
1533: LIST
1534: LIST
1535: PUSH
1536: LD_INT 70
1538: PUSH
1539: LD_INT 61
1541: PUSH
1542: EMPTY
1543: LIST
1544: LIST
1545: PUSH
1546: EMPTY
1547: LIST
1548: LIST
1549: LIST
1550: LIST
1551: LIST
1552: LIST
1553: LIST
1554: LIST
1555: LIST
1556: ST_TO_ADDR
// FLAGY_AREA1 = [ ff1 , ff2 , ff3 , ff4 , ff5 , ff6 , ff7 , ff8 , ff9 ] ;
1557: LD_ADDR_EXP 120
1561: PUSH
1562: LD_INT 34
1564: PUSH
1565: LD_INT 35
1567: PUSH
1568: LD_INT 36
1570: PUSH
1571: LD_INT 37
1573: PUSH
1574: LD_INT 38
1576: PUSH
1577: LD_INT 44
1579: PUSH
1580: LD_INT 45
1582: PUSH
1583: LD_INT 46
1585: PUSH
1586: LD_INT 47
1588: PUSH
1589: EMPTY
1590: LIST
1591: LIST
1592: LIST
1593: LIST
1594: LIST
1595: LIST
1596: LIST
1597: LIST
1598: LIST
1599: ST_TO_ADDR
// MaxFlags = 9 ;
1600: LD_ADDR_EXP 114
1604: PUSH
1605: LD_INT 9
1607: ST_TO_ADDR
// WarForTerritory_flags = [ 0 , 5 , 7 , 9 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
1608: LD_ADDR_EXP 65
1612: PUSH
1613: LD_INT 0
1615: PUSH
1616: LD_INT 5
1618: PUSH
1619: LD_INT 7
1621: PUSH
1622: LD_INT 9
1624: PUSH
1625: LD_INT 0
1627: PUSH
1628: LD_INT 0
1630: PUSH
1631: LD_INT 0
1633: PUSH
1634: LD_INT 0
1636: PUSH
1637: LD_INT 0
1639: PUSH
1640: LD_INT 0
1642: PUSH
1643: LD_INT 0
1645: PUSH
1646: EMPTY
1647: LIST
1648: LIST
1649: LIST
1650: LIST
1651: LIST
1652: LIST
1653: LIST
1654: LIST
1655: LIST
1656: LIST
1657: LIST
1658: ST_TO_ADDR
// WarForTerritory_Points = [ 0 , 0 , 0 , 0 , 300 , 500 , 700 , 1000 , 1500 , 2000 , 3000 ] ;
1659: LD_ADDR_EXP 64
1663: PUSH
1664: LD_INT 0
1666: PUSH
1667: LD_INT 0
1669: PUSH
1670: LD_INT 0
1672: PUSH
1673: LD_INT 0
1675: PUSH
1676: LD_INT 300
1678: PUSH
1679: LD_INT 500
1681: PUSH
1682: LD_INT 700
1684: PUSH
1685: LD_INT 1000
1687: PUSH
1688: LD_INT 1500
1690: PUSH
1691: LD_INT 2000
1693: PUSH
1694: LD_INT 3000
1696: PUSH
1697: EMPTY
1698: LIST
1699: LIST
1700: LIST
1701: LIST
1702: LIST
1703: LIST
1704: LIST
1705: LIST
1706: LIST
1707: LIST
1708: LIST
1709: ST_TO_ADDR
// end ;
1710: LD_VAR 0 1
1714: RET
// export function SimMPDefinition ; begin
1715: LD_INT 0
1717: PPUSH
// Game_Type = 1 ;
1718: LD_ADDR_EXP 1
1722: PUSH
1723: LD_INT 1
1725: ST_TO_ADDR
// Player_Side = 3 ;
1726: LD_ADDR_EXP 70
1730: PUSH
1731: LD_INT 3
1733: ST_TO_ADDR
// Player_Team = 2 ;
1734: LD_ADDR_EXP 71
1738: PUSH
1739: LD_INT 2
1741: ST_TO_ADDR
// Side_Positions = [ 1 , 2 , 3 , 4 , 0 , 0 , 0 , 0 ] ;
1742: LD_ADDR_EXP 75
1746: PUSH
1747: LD_INT 1
1749: PUSH
1750: LD_INT 2
1752: PUSH
1753: LD_INT 3
1755: PUSH
1756: LD_INT 4
1758: PUSH
1759: LD_INT 0
1761: PUSH
1762: LD_INT 0
1764: PUSH
1765: LD_INT 0
1767: PUSH
1768: LD_INT 0
1770: PUSH
1771: EMPTY
1772: LIST
1773: LIST
1774: LIST
1775: LIST
1776: LIST
1777: LIST
1778: LIST
1779: LIST
1780: ST_TO_ADDR
// Side_Teams = [ 1 , 1 , 2 , 2 , 0 , 0 , 0 , 0 ] ;
1781: LD_ADDR_EXP 72
1785: PUSH
1786: LD_INT 1
1788: PUSH
1789: LD_INT 1
1791: PUSH
1792: LD_INT 2
1794: PUSH
1795: LD_INT 2
1797: PUSH
1798: LD_INT 0
1800: PUSH
1801: LD_INT 0
1803: PUSH
1804: LD_INT 0
1806: PUSH
1807: LD_INT 0
1809: PUSH
1810: EMPTY
1811: LIST
1812: LIST
1813: LIST
1814: LIST
1815: LIST
1816: LIST
1817: LIST
1818: LIST
1819: ST_TO_ADDR
// Side_Nations = [ 1 , 2 , 2 , 1 , 0 , 0 , 0 , 0 ] ;
1820: LD_ADDR_EXP 76
1824: PUSH
1825: LD_INT 1
1827: PUSH
1828: LD_INT 2
1830: PUSH
1831: LD_INT 2
1833: PUSH
1834: LD_INT 1
1836: PUSH
1837: LD_INT 0
1839: PUSH
1840: LD_INT 0
1842: PUSH
1843: LD_INT 0
1845: PUSH
1846: LD_INT 0
1848: PUSH
1849: EMPTY
1850: LIST
1851: LIST
1852: LIST
1853: LIST
1854: LIST
1855: LIST
1856: LIST
1857: LIST
1858: ST_TO_ADDR
// Side_Comps = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
1859: LD_ADDR_EXP 78
1863: PUSH
1864: LD_INT 0
1866: PUSH
1867: LD_INT 0
1869: PUSH
1870: LD_INT 0
1872: PUSH
1873: LD_INT 0
1875: PUSH
1876: LD_INT 0
1878: PUSH
1879: LD_INT 0
1881: PUSH
1882: LD_INT 0
1884: PUSH
1885: LD_INT 0
1887: PUSH
1888: EMPTY
1889: LIST
1890: LIST
1891: LIST
1892: LIST
1893: LIST
1894: LIST
1895: LIST
1896: LIST
1897: ST_TO_ADDR
// Teams = [ [ 1 , 2 ] , [ 3 , 4 ] , [ 0 ] ] diff [ 0 ] ;
1898: LD_ADDR_EXP 73
1902: PUSH
1903: LD_INT 1
1905: PUSH
1906: LD_INT 2
1908: PUSH
1909: EMPTY
1910: LIST
1911: LIST
1912: PUSH
1913: LD_INT 3
1915: PUSH
1916: LD_INT 4
1918: PUSH
1919: EMPTY
1920: LIST
1921: LIST
1922: PUSH
1923: LD_INT 0
1925: PUSH
1926: EMPTY
1927: LIST
1928: PUSH
1929: EMPTY
1930: LIST
1931: LIST
1932: LIST
1933: PUSH
1934: LD_INT 0
1936: PUSH
1937: EMPTY
1938: LIST
1939: DIFF
1940: ST_TO_ADDR
// end ;
1941: LD_VAR 0 1
1945: RET
// export function SimMPOptions ; begin
1946: LD_INT 0
1948: PPUSH
// def_game_rules = 0 ;
1949: LD_ADDR_EXP 9
1953: PUSH
1954: LD_INT 0
1956: ST_TO_ADDR
// def_base_level = 2 ;
1957: LD_ADDR_EXP 10
1961: PUSH
1962: LD_INT 2
1964: ST_TO_ADDR
// def_amount_of_people = 5 ;
1965: LD_ADDR_EXP 11
1969: PUSH
1970: LD_INT 5
1972: ST_TO_ADDR
// def_amount_of_apemen_in_team = 2 ;
1973: LD_ADDR_EXP 12
1977: PUSH
1978: LD_INT 2
1980: ST_TO_ADDR
// def_initial_level = 1 ;
1981: LD_ADDR_EXP 13
1985: PUSH
1986: LD_INT 1
1988: ST_TO_ADDR
// def_classes = 0 ;
1989: LD_ADDR_EXP 14
1993: PUSH
1994: LD_INT 0
1996: ST_TO_ADDR
// def_starting_resources = 2 ;
1997: LD_ADDR_EXP 15
2001: PUSH
2002: LD_INT 2
2004: ST_TO_ADDR
// def_shipments_density = 2 ;
2005: LD_ADDR_EXP 16
2009: PUSH
2010: LD_INT 2
2012: ST_TO_ADDR
// def_extra_oil_deposits = 1 ;
2013: LD_ADDR_EXP 17
2017: PUSH
2018: LD_INT 1
2020: ST_TO_ADDR
// def_extra_sib_deposits = 1 ;
2021: LD_ADDR_EXP 18
2025: PUSH
2026: LD_INT 1
2028: ST_TO_ADDR
// def_shared_vision = 1 ;
2029: LD_ADDR_EXP 19
2033: PUSH
2034: LD_INT 1
2036: ST_TO_ADDR
// def_morale_flags = 1 ;
2037: LD_ADDR_EXP 20
2041: PUSH
2042: LD_INT 1
2044: ST_TO_ADDR
// def_win_rules = 2 ;
2045: LD_ADDR_EXP 21
2049: PUSH
2050: LD_INT 2
2052: ST_TO_ADDR
// def_amount_of_apemen = 1 ;
2053: LD_ADDR_EXP 22
2057: PUSH
2058: LD_INT 1
2060: ST_TO_ADDR
// def_amount_of_tiger = 1 ;
2061: LD_ADDR_EXP 23
2065: PUSH
2066: LD_INT 1
2068: ST_TO_ADDR
// def_respawining_type = 1 ;
2069: LD_ADDR_EXP 24
2073: PUSH
2074: LD_INT 1
2076: ST_TO_ADDR
// def_people_respawning = 1 ;
2077: LD_ADDR_EXP 25
2081: PUSH
2082: LD_INT 1
2084: ST_TO_ADDR
// def_tech_level = 8 ;
2085: LD_ADDR_EXP 26
2089: PUSH
2090: LD_INT 8
2092: ST_TO_ADDR
// def_upgrade_tl = 1 ;
2093: LD_ADDR_EXP 27
2097: PUSH
2098: LD_INT 1
2100: ST_TO_ADDR
// def_siberite_detection = 1 ;
2101: LD_ADDR_EXP 28
2105: PUSH
2106: LD_INT 1
2108: ST_TO_ADDR
// def_siberite_bomb = 3 ;
2109: LD_ADDR_EXP 29
2113: PUSH
2114: LD_INT 3
2116: ST_TO_ADDR
// def_builduptime = 1 ;
2117: LD_ADDR_EXP 30
2121: PUSH
2122: LD_INT 1
2124: ST_TO_ADDR
// def_desert_warior = 2 ;
2125: LD_ADDR_EXP 31
2129: PUSH
2130: LD_INT 2
2132: ST_TO_ADDR
// def_daily_start = 2 ;
2133: LD_ADDR_EXP 32
2137: PUSH
2138: LD_INT 2
2140: ST_TO_ADDR
// def_daily_speed = 3 ;
2141: LD_ADDR_EXP 33
2145: PUSH
2146: LD_INT 3
2148: ST_TO_ADDR
// def_public_score = 1 ;
2149: LD_ADDR_EXP 34
2153: PUSH
2154: LD_INT 1
2156: ST_TO_ADDR
// def_kings_age = 1 ;
2157: LD_ADDR_EXP 35
2161: PUSH
2162: LD_INT 1
2164: ST_TO_ADDR
// def_warForTerritory = 5 ;
2165: LD_ADDR_EXP 36
2169: PUSH
2170: LD_INT 5
2172: ST_TO_ADDR
// end ;
2173: LD_VAR 0 1
2177: RET
// export function Hustota_Zasilek ; var i ; begin
2178: LD_INT 0
2180: PPUSH
2181: PPUSH
// if def_game_rules then
2182: LD_EXP 9
2186: IFFALSE 2196
// tech_level = 8 ;
2188: LD_ADDR_EXP 56
2192: PUSH
2193: LD_INT 8
2195: ST_TO_ADDR
// case def_shipments_density of 0 :
2196: LD_EXP 16
2200: PUSH
2201: LD_INT 0
2203: DOUBLE
2204: EQUAL
2205: IFTRUE 2209
2207: GO 2220
2209: POP
// shipments_density := 40 ; 1 :
2210: LD_ADDR_EXP 45
2214: PUSH
2215: LD_INT 40
2217: ST_TO_ADDR
2218: GO 2259
2220: LD_INT 1
2222: DOUBLE
2223: EQUAL
2224: IFTRUE 2228
2226: GO 2239
2228: POP
// shipments_density := 60 ; 2 :
2229: LD_ADDR_EXP 45
2233: PUSH
2234: LD_INT 60
2236: ST_TO_ADDR
2237: GO 2259
2239: LD_INT 2
2241: DOUBLE
2242: EQUAL
2243: IFTRUE 2247
2245: GO 2258
2247: POP
// shipments_density := 90 ; end ;
2248: LD_ADDR_EXP 45
2252: PUSH
2253: LD_INT 90
2255: ST_TO_ADDR
2256: GO 2259
2258: POP
// if tech_level < 7 then
2259: LD_EXP 56
2263: PUSH
2264: LD_INT 7
2266: LESS
2267: IFFALSE 2286
// shipments_density := shipments_density * 0.85 else
2269: LD_ADDR_EXP 45
2273: PUSH
2274: LD_EXP 45
2278: PUSH
2279: LD_REAL  8.50000000000000E-0001
2282: MUL
2283: ST_TO_ADDR
2284: GO 2338
// if tech_level < 5 then
2286: LD_EXP 56
2290: PUSH
2291: LD_INT 5
2293: LESS
2294: IFFALSE 2313
// shipments_density := shipments_density * 0.7 else
2296: LD_ADDR_EXP 45
2300: PUSH
2301: LD_EXP 45
2305: PUSH
2306: LD_REAL  7.00000000000000E-0001
2309: MUL
2310: ST_TO_ADDR
2311: GO 2338
// if tech_level < 3 then
2313: LD_EXP 56
2317: PUSH
2318: LD_INT 3
2320: LESS
2321: IFFALSE 2338
// shipments_density := shipments_density * 0.6 ;
2323: LD_ADDR_EXP 45
2327: PUSH
2328: LD_EXP 45
2332: PUSH
2333: LD_REAL  6.00000000000000E-0001
2336: MUL
2337: ST_TO_ADDR
// end ; end_of_file
2338: LD_VAR 0 1
2342: RET
// on VehicleConstructionStarted ( factory , chassis , engine , control , weapon ) do RestrictVehicleConstructionStarted ( factory , chassis , engine , control , weapon ) ;
2343: LD_VAR 0 1
2347: PPUSH
2348: LD_VAR 0 2
2352: PPUSH
2353: LD_VAR 0 3
2357: PPUSH
2358: LD_VAR 0 4
2362: PPUSH
2363: LD_VAR 0 5
2367: PPUSH
2368: CALL 29812 0 5
2372: PPOPN 5
2374: END
// on WeaponPlaced ( building , weapon ) do RestrictWeaponPlaced ( building , weapon ) ;
2375: LD_VAR 0 1
2379: PPUSH
2380: LD_VAR 0 2
2384: PPUSH
2385: CALL 29877 0 2
2389: PPOPN 2
2391: END
// on BuildingStarted ( b , h ) do begin if def_game_rules then
2392: LD_EXP 9
2396: IFFALSE 2433
// begin ExecuteLimits ( b , GetBType ( b ) , GetSide ( b ) , 0 , 1 ) ;
2398: LD_VAR 0 1
2402: PPUSH
2403: LD_VAR 0 1
2407: PPUSH
2408: CALL_OW 266
2412: PPUSH
2413: LD_VAR 0 1
2417: PPUSH
2418: CALL_OW 255
2422: PPUSH
2423: LD_INT 0
2425: PPUSH
2426: LD_INT 1
2428: PPUSH
2429: CALL 29360 0 5
// end ; if GetBType ( b ) in [ b_depot , b_warehouse ] then
2433: LD_VAR 0 1
2437: PPUSH
2438: CALL_OW 266
2442: PUSH
2443: LD_INT 0
2445: PUSH
2446: LD_INT 1
2448: PUSH
2449: EMPTY
2450: LIST
2451: LIST
2452: IN
2453: IFFALSE 2469
// NameBuildingStarted ( b , h ) ;
2455: LD_VAR 0 1
2459: PPUSH
2460: LD_VAR 0 2
2464: PPUSH
2465: CALL 16236 0 2
// end ;
2469: PPOPN 2
2471: END
// on BuildingComplete ( b ) do begin if GetBType ( b ) in [ b_depot , b_warehouse ] then
2472: LD_VAR 0 1
2476: PPUSH
2477: CALL_OW 266
2481: PUSH
2482: LD_INT 0
2484: PUSH
2485: LD_INT 1
2487: PUSH
2488: EMPTY
2489: LIST
2490: LIST
2491: IN
2492: IFFALSE 2503
// NameBuildingComplete ( b ) ;
2494: LD_VAR 0 1
2498: PPUSH
2499: CALL 16228 0 1
// end ;
2503: PPOPN 1
2505: END
// on BuildingCaptured ( b , o , e ) do begin if def_game_rules then
2506: LD_EXP 9
2510: IFFALSE 2547
// begin ExecuteLimits ( b , GetBType ( b ) , GetSide ( b ) , 0 , 1 ) ;
2512: LD_VAR 0 1
2516: PPUSH
2517: LD_VAR 0 1
2521: PPUSH
2522: CALL_OW 266
2526: PPUSH
2527: LD_VAR 0 1
2531: PPUSH
2532: CALL_OW 255
2536: PPUSH
2537: LD_INT 0
2539: PPUSH
2540: LD_INT 1
2542: PPUSH
2543: CALL 29360 0 5
// end ; if GetBType ( b ) in [ b_depot , b_warehouse ] then
2547: LD_VAR 0 1
2551: PPUSH
2552: CALL_OW 266
2556: PUSH
2557: LD_INT 0
2559: PUSH
2560: LD_INT 1
2562: PUSH
2563: EMPTY
2564: LIST
2565: LIST
2566: IN
2567: IFFALSE 2588
// NameBuildingCaptured ( b , o , e ) ;
2569: LD_VAR 0 1
2573: PPUSH
2574: LD_VAR 0 2
2578: PPUSH
2579: LD_VAR 0 3
2583: PPUSH
2584: CALL 16315 0 3
// end ;
2588: PPOPN 3
2590: END
// on UnitDestroyed ( j ) do var x , y , pos , dir ;
2591: LD_INT 0
2593: PPUSH
2594: PPUSH
2595: PPUSH
2596: PPUSH
// begin if def_game_rules then
2597: LD_EXP 9
2601: IFFALSE 2612
// CallExecuteLimits ( j ) ;
2603: LD_VAR 0 1
2607: PPUSH
2608: CALL 30119 0 1
// end ;
2612: PPOPN 5
2614: END
// on VehicleCaptured ( j , i1 , o , i2 ) do begin if def_game_rules and ( GetChassis ( j ) = 25 ) then
2615: LD_EXP 9
2619: PUSH
2620: LD_VAR 0 1
2624: PPUSH
2625: CALL_OW 265
2629: PUSH
2630: LD_INT 25
2632: EQUAL
2633: AND
2634: IFFALSE 2666
// ExecuteLimits ( j , b_behemoth , GetSide ( j ) , o , 1 ) ;
2636: LD_VAR 0 1
2640: PPUSH
2641: LD_INT 37
2643: PPUSH
2644: LD_VAR 0 1
2648: PPUSH
2649: CALL_OW 255
2653: PPUSH
2654: LD_VAR 0 3
2658: PPUSH
2659: LD_INT 1
2661: PPUSH
2662: CALL 29360 0 5
// end ;
2666: PPOPN 4
2668: END
// on HumanDestroyed ( identifier , side , nation , x , y , direction , sex , cl ) do if def_respawining_type > 1 then
2669: LD_EXP 24
2673: PUSH
2674: LD_INT 1
2676: GREATER
2677: IFFALSE 2723
// RespawnHumanDestroyed ( identifier , side , nation , x , y , direction , sex , cl ) ;
2679: LD_VAR 0 1
2683: PPUSH
2684: LD_VAR 0 2
2688: PPUSH
2689: LD_VAR 0 3
2693: PPUSH
2694: LD_VAR 0 4
2698: PPUSH
2699: LD_VAR 0 5
2703: PPUSH
2704: LD_VAR 0 6
2708: PPUSH
2709: LD_VAR 0 7
2713: PPUSH
2714: LD_VAR 0 8
2718: PPUSH
2719: CALL 11442 0 8
2723: PPOPN 8
2725: END
// on siberiterocketexploded ( un , x , y ) do SA_OnSiberiteRocketExploded ( un , x , y , Your_Side ) ; end_of_file
2726: LD_VAR 0 1
2730: PPUSH
2731: LD_VAR 0 2
2735: PPUSH
2736: LD_VAR 0 3
2740: PPUSH
2741: LD_OWVAR 2
2745: PPUSH
2746: CALL 34459 0 4
2750: PPOPN 3
2752: END
// export game_type , GT_Mine , GT_doubleNat , GT_doublePeople , GT_tripleNat , GT_Survival , GT_RankedGames , pozice_beden ; export def_game_rules , def_base_level , def_amount_of_people , def_amount_of_apemen_in_team , def_initial_level , def_classes , def_starting_resources , def_shipments_density , def_extra_oil_deposits , def_extra_sib_deposits , def_shared_vision , def_morale_flags , def_win_rules , def_amount_of_apemen , def_amount_of_tiger , def_respawining_type , def_people_respawning , def_tech_level , def_upgrade_tl , def_siberite_detection , def_siberite_bomb , def_builduptime , def_desert_warior , def_daily_start , def_daily_speed , def_public_score , def_kings_age , def_WarForTerritory ; export base_level , number_of_breastworks , buildings_def , number_of_people , number_of_apemen , initial_level , starting_crates , starting_resources , shipments_density , morale_decreasing_time , spawning_koef_of_apemen , spawning_koef_of_tiger , respawning_time_min , heroes , respawning_time_max , Position_Nations , respawning_time_delay_min , respawning_time_delay_max , commander , tech_level , final_count , daily_start , daily_speed , TimePhase , DailyPhase , Position_Sides , for_show_near_resources , WarForTerritory_Points , WarForTerritory_flags , buildUpTime_Delay , siberite_bomb_Delay ; export Side_Count , Team_Count , Player_Side , Player_Team , Side_Teams , Teams , Side_IsSpec ; export Side_Positions , Side_Nations , Side_Names , Side_Comps , Team_Names , Team_Game ; export depot_def , breastworks_def , start_def , pocet_hracu , extra_oil_deposits_locations , oil_deposits_locations , extra_sib_deposits_locations , siberite_deposits_locations , battle_flags_id , def_max_sides ; export Cela_Mapa , king_territory ; export global_units , global_defined , soldiers_created , global_count , global_classes ; export function read_multiplayer_and_game_parameters ; var side , dep , br1 , br2 , br3 , un , i ; begin
2753: LD_INT 0
2755: PPUSH
2756: PPUSH
2757: PPUSH
2758: PPUSH
2759: PPUSH
2760: PPUSH
2761: PPUSH
2762: PPUSH
// if MultiPlayer then
2763: LD_OWVAR 4
2767: IFFALSE 2851
// begin Game_Type = mp_game_type ;
2769: LD_ADDR_EXP 1
2773: PUSH
2774: LD_OWVAR 6
2778: ST_TO_ADDR
// Player_Side = mp_player_side ;
2779: LD_ADDR_EXP 70
2783: PUSH
2784: LD_OWVAR 7
2788: ST_TO_ADDR
// Player_Team = mp_player_team ;
2789: LD_ADDR_EXP 71
2793: PUSH
2794: LD_OWVAR 8
2798: ST_TO_ADDR
// Side_Positions = mp_sides_positions ;
2799: LD_ADDR_EXP 75
2803: PUSH
2804: LD_OWVAR 17
2808: ST_TO_ADDR
// Side_Teams = mp_sides_teams ;
2809: LD_ADDR_EXP 72
2813: PUSH
2814: LD_OWVAR 15
2818: ST_TO_ADDR
// Side_Nations = mp_sides_nations ;
2819: LD_ADDR_EXP 76
2823: PUSH
2824: LD_OWVAR 16
2828: ST_TO_ADDR
// Side_Comps = mp_sides_comps ;
2829: LD_ADDR_EXP 78
2833: PUSH
2834: CALL 3303 0 0
2838: ST_TO_ADDR
// Teams = mp_teams ;
2839: LD_ADDR_EXP 73
2843: PUSH
2844: LD_OWVAR 12
2848: ST_TO_ADDR
// end else
2849: GO 2855
// begin SimMPDefinition ;
2851: CALL 1715 0 0
// end ; Side_Count = ( Side_Positions diff [ 0 ] ) + 0 ;
2855: LD_ADDR_EXP 68
2859: PUSH
2860: LD_EXP 75
2864: PUSH
2865: LD_INT 0
2867: PUSH
2868: EMPTY
2869: LIST
2870: DIFF
2871: PUSH
2872: LD_INT 0
2874: PLUS
2875: ST_TO_ADDR
// Team_Count = ( Side_Teams diff [ 0 ] ) + 0 ;
2876: LD_ADDR_EXP 69
2880: PUSH
2881: LD_EXP 72
2885: PUSH
2886: LD_INT 0
2888: PUSH
2889: EMPTY
2890: LIST
2891: DIFF
2892: PUSH
2893: LD_INT 0
2895: PLUS
2896: ST_TO_ADDR
// if MultiPlayer then
2897: LD_OWVAR 4
2901: IFFALSE 3264
// begin def_game_rules = GetMultiplayerSetting ( 0 ) ;
2903: LD_ADDR_EXP 9
2907: PUSH
2908: LD_INT 0
2910: PPUSH
2911: CALL_OW 426
2915: ST_TO_ADDR
// def_base_level = GetMultiplayerSetting ( 1 ) ;
2916: LD_ADDR_EXP 10
2920: PUSH
2921: LD_INT 1
2923: PPUSH
2924: CALL_OW 426
2928: ST_TO_ADDR
// def_amount_of_people = GetMultiplayerSetting ( 2 ) ;
2929: LD_ADDR_EXP 11
2933: PUSH
2934: LD_INT 2
2936: PPUSH
2937: CALL_OW 426
2941: ST_TO_ADDR
// def_amount_of_apemen_in_team = GetMultiplayerSetting ( 3 ) ;
2942: LD_ADDR_EXP 12
2946: PUSH
2947: LD_INT 3
2949: PPUSH
2950: CALL_OW 426
2954: ST_TO_ADDR
// def_initial_level = GetMultiplayerSetting ( 4 ) ;
2955: LD_ADDR_EXP 13
2959: PUSH
2960: LD_INT 4
2962: PPUSH
2963: CALL_OW 426
2967: ST_TO_ADDR
// def_classes = GetMultiplayerSetting ( 5 ) ;
2968: LD_ADDR_EXP 14
2972: PUSH
2973: LD_INT 5
2975: PPUSH
2976: CALL_OW 426
2980: ST_TO_ADDR
// def_starting_resources = GetMultiplayerSetting ( 6 ) ;
2981: LD_ADDR_EXP 15
2985: PUSH
2986: LD_INT 6
2988: PPUSH
2989: CALL_OW 426
2993: ST_TO_ADDR
// def_shipments_density = GetMultiplayerSetting ( 7 ) ;
2994: LD_ADDR_EXP 16
2998: PUSH
2999: LD_INT 7
3001: PPUSH
3002: CALL_OW 426
3006: ST_TO_ADDR
// def_extra_oil_deposits = GetMultiplayerSetting ( 8 ) ;
3007: LD_ADDR_EXP 17
3011: PUSH
3012: LD_INT 8
3014: PPUSH
3015: CALL_OW 426
3019: ST_TO_ADDR
// def_extra_sib_deposits = GetMultiplayerSetting ( 9 ) ;
3020: LD_ADDR_EXP 18
3024: PUSH
3025: LD_INT 9
3027: PPUSH
3028: CALL_OW 426
3032: ST_TO_ADDR
// def_morale_flags = GetMultiplayerSetting ( 10 ) ;
3033: LD_ADDR_EXP 20
3037: PUSH
3038: LD_INT 10
3040: PPUSH
3041: CALL_OW 426
3045: ST_TO_ADDR
// def_win_rules = GetMultiplayerSetting ( 11 ) ;
3046: LD_ADDR_EXP 21
3050: PUSH
3051: LD_INT 11
3053: PPUSH
3054: CALL_OW 426
3058: ST_TO_ADDR
// def_amount_of_apemen = GetMultiplayerSetting ( 12 ) ;
3059: LD_ADDR_EXP 22
3063: PUSH
3064: LD_INT 12
3066: PPUSH
3067: CALL_OW 426
3071: ST_TO_ADDR
// def_amount_of_tiger = GetMultiplayerSetting ( 13 ) ;
3072: LD_ADDR_EXP 23
3076: PUSH
3077: LD_INT 13
3079: PPUSH
3080: CALL_OW 426
3084: ST_TO_ADDR
// def_respawining_type = GetMultiplayerSetting ( 14 ) ;
3085: LD_ADDR_EXP 24
3089: PUSH
3090: LD_INT 14
3092: PPUSH
3093: CALL_OW 426
3097: ST_TO_ADDR
// def_people_respawning = GetMultiplayerSetting ( 15 ) ;
3098: LD_ADDR_EXP 25
3102: PUSH
3103: LD_INT 15
3105: PPUSH
3106: CALL_OW 426
3110: ST_TO_ADDR
// def_tech_level = GetMultiplayerSetting ( 16 ) ;
3111: LD_ADDR_EXP 26
3115: PUSH
3116: LD_INT 16
3118: PPUSH
3119: CALL_OW 426
3123: ST_TO_ADDR
// def_upgrade_tl = GetMultiplayerSetting ( 17 ) ;
3124: LD_ADDR_EXP 27
3128: PUSH
3129: LD_INT 17
3131: PPUSH
3132: CALL_OW 426
3136: ST_TO_ADDR
// def_siberite_detection = GetMultiplayerSetting ( 18 ) ;
3137: LD_ADDR_EXP 28
3141: PUSH
3142: LD_INT 18
3144: PPUSH
3145: CALL_OW 426
3149: ST_TO_ADDR
// def_siberite_bomb = GetMultiplayerSetting ( 19 ) ;
3150: LD_ADDR_EXP 29
3154: PUSH
3155: LD_INT 19
3157: PPUSH
3158: CALL_OW 426
3162: ST_TO_ADDR
// def_builduptime = GetMultiplayerSetting ( 20 ) ;
3163: LD_ADDR_EXP 30
3167: PUSH
3168: LD_INT 20
3170: PPUSH
3171: CALL_OW 426
3175: ST_TO_ADDR
// def_desert_warior = GetMultiplayerSetting ( 21 ) ;
3176: LD_ADDR_EXP 31
3180: PUSH
3181: LD_INT 21
3183: PPUSH
3184: CALL_OW 426
3188: ST_TO_ADDR
// def_daily_start = GetMultiplayerSetting ( 22 ) ;
3189: LD_ADDR_EXP 32
3193: PUSH
3194: LD_INT 22
3196: PPUSH
3197: CALL_OW 426
3201: ST_TO_ADDR
// def_daily_speed = GetMultiplayerSetting ( 23 ) ;
3202: LD_ADDR_EXP 33
3206: PUSH
3207: LD_INT 23
3209: PPUSH
3210: CALL_OW 426
3214: ST_TO_ADDR
// def_public_score = GetMultiplayerSetting ( 24 ) ;
3215: LD_ADDR_EXP 34
3219: PUSH
3220: LD_INT 24
3222: PPUSH
3223: CALL_OW 426
3227: ST_TO_ADDR
// def_kings_age = GetMultiplayerSetting ( 25 ) ;
3228: LD_ADDR_EXP 35
3232: PUSH
3233: LD_INT 25
3235: PPUSH
3236: CALL_OW 426
3240: ST_TO_ADDR
// def_warForTerritory = GetMultiplayerSetting ( 26 ) ;
3241: LD_ADDR_EXP 36
3245: PUSH
3246: LD_INT 26
3248: PPUSH
3249: CALL_OW 426
3253: ST_TO_ADDR
// def_shared_vision = true ;
3254: LD_ADDR_EXP 19
3258: PUSH
3259: LD_INT 1
3261: ST_TO_ADDR
// end else
3262: GO 3272
// begin randomizeAll ;
3264: CALL_OW 11
// SimMPOptions ;
3268: CALL 1946 0 0
// end ; if Game_Type in GT_RankedGames then
3272: LD_EXP 1
3276: PUSH
3277: LD_EXP 7
3281: IN
3282: IFFALSE 3298
// def_game_rules = def_game_rules + 1 ;
3284: LD_ADDR_EXP 9
3288: PUSH
3289: LD_EXP 9
3293: PUSH
3294: LD_INT 1
3296: PLUS
3297: ST_TO_ADDR
// end ;
3298: LD_VAR 0 1
3302: RET
// function mp_sides_comps ; var c , i ; begin
3303: LD_INT 0
3305: PPUSH
3306: PPUSH
3307: PPUSH
// c = [ ] ;
3308: LD_ADDR_VAR 0 2
3312: PUSH
3313: EMPTY
3314: ST_TO_ADDR
// for i = 1 to 8 do
3315: LD_ADDR_VAR 0 3
3319: PUSH
3320: DOUBLE
3321: LD_INT 1
3323: DEC
3324: ST_TO_ADDR
3325: LD_INT 8
3327: PUSH
3328: FOR_TO
3329: IFFALSE 3354
// c = c ^ Multiplayer_GetPlayerIsComp ( i ) ;
3331: LD_ADDR_VAR 0 2
3335: PUSH
3336: LD_VAR 0 2
3340: PUSH
3341: LD_VAR 0 3
3345: PPUSH
3346: CALL_OW 532
3350: ADD
3351: ST_TO_ADDR
3352: GO 3328
3354: POP
3355: POP
// result = c ;
3356: LD_ADDR_VAR 0 1
3360: PUSH
3361: LD_VAR 0 2
3365: ST_TO_ADDR
// end ;
3366: LD_VAR 0 1
3370: RET
// export function standartSets ; begin
3371: LD_INT 0
3373: PPUSH
// if Game_Type in GT_Survival then
3374: LD_EXP 1
3378: PUSH
3379: LD_EXP 6
3383: IN
3384: IFFALSE 3527
// begin base_level = [ 1 , 1 , 1 , 2 ] ;
3386: LD_ADDR_EXP 37
3390: PUSH
3391: LD_INT 1
3393: PUSH
3394: LD_INT 1
3396: PUSH
3397: LD_INT 1
3399: PUSH
3400: LD_INT 2
3402: PUSH
3403: EMPTY
3404: LIST
3405: LIST
3406: LIST
3407: LIST
3408: ST_TO_ADDR
// starting_resources := [ [ 1000 , 100 , 100 ] , [ 2000 , 200 , 200 ] , [ 5000 , 500 , 500 ] , [ 10000 , 1000 , 1000 ] , [ 25000 , 2500 , 2500 ] , [ 50000 , 5000 , 5000 ] ] ;
3409: LD_ADDR_EXP 44
3413: PUSH
3414: LD_INT 1000
3416: PUSH
3417: LD_INT 100
3419: PUSH
3420: LD_INT 100
3422: PUSH
3423: EMPTY
3424: LIST
3425: LIST
3426: LIST
3427: PUSH
3428: LD_INT 2000
3430: PUSH
3431: LD_INT 200
3433: PUSH
3434: LD_INT 200
3436: PUSH
3437: EMPTY
3438: LIST
3439: LIST
3440: LIST
3441: PUSH
3442: LD_INT 5000
3444: PUSH
3445: LD_INT 500
3447: PUSH
3448: LD_INT 500
3450: PUSH
3451: EMPTY
3452: LIST
3453: LIST
3454: LIST
3455: PUSH
3456: LD_INT 10000
3458: PUSH
3459: LD_INT 1000
3461: PUSH
3462: LD_INT 1000
3464: PUSH
3465: EMPTY
3466: LIST
3467: LIST
3468: LIST
3469: PUSH
3470: LD_INT 25000
3472: PUSH
3473: LD_INT 2500
3475: PUSH
3476: LD_INT 2500
3478: PUSH
3479: EMPTY
3480: LIST
3481: LIST
3482: LIST
3483: PUSH
3484: LD_INT 50000
3486: PUSH
3487: LD_INT 5000
3489: PUSH
3490: LD_INT 5000
3492: PUSH
3493: EMPTY
3494: LIST
3495: LIST
3496: LIST
3497: PUSH
3498: EMPTY
3499: LIST
3500: LIST
3501: LIST
3502: LIST
3503: LIST
3504: LIST
3505: ST_TO_ADDR
// starting_crates := [ [ ] , [ ] , [ ] , [ ] ] ;
3506: LD_ADDR_EXP 43
3510: PUSH
3511: EMPTY
3512: PUSH
3513: EMPTY
3514: PUSH
3515: EMPTY
3516: PUSH
3517: EMPTY
3518: PUSH
3519: EMPTY
3520: LIST
3521: LIST
3522: LIST
3523: LIST
3524: ST_TO_ADDR
// end else
3525: GO 3680
// begin base_level = [ 0 , 1 , 1 , 1 , 2 ] ;
3527: LD_ADDR_EXP 37
3531: PUSH
3532: LD_INT 0
3534: PUSH
3535: LD_INT 1
3537: PUSH
3538: LD_INT 1
3540: PUSH
3541: LD_INT 1
3543: PUSH
3544: LD_INT 2
3546: PUSH
3547: EMPTY
3548: LIST
3549: LIST
3550: LIST
3551: LIST
3552: LIST
3553: ST_TO_ADDR
// starting_resources := [ [ 0 , 0 , 0 ] , [ 30 , 0 , 0 ] , [ 50 , 20 , 0 ] , [ 80 , 40 , 20 ] ] ;
3554: LD_ADDR_EXP 44
3558: PUSH
3559: LD_INT 0
3561: PUSH
3562: LD_INT 0
3564: PUSH
3565: LD_INT 0
3567: PUSH
3568: EMPTY
3569: LIST
3570: LIST
3571: LIST
3572: PUSH
3573: LD_INT 30
3575: PUSH
3576: LD_INT 0
3578: PUSH
3579: LD_INT 0
3581: PUSH
3582: EMPTY
3583: LIST
3584: LIST
3585: LIST
3586: PUSH
3587: LD_INT 50
3589: PUSH
3590: LD_INT 20
3592: PUSH
3593: LD_INT 0
3595: PUSH
3596: EMPTY
3597: LIST
3598: LIST
3599: LIST
3600: PUSH
3601: LD_INT 80
3603: PUSH
3604: LD_INT 40
3606: PUSH
3607: LD_INT 20
3609: PUSH
3610: EMPTY
3611: LIST
3612: LIST
3613: LIST
3614: PUSH
3615: EMPTY
3616: LIST
3617: LIST
3618: LIST
3619: LIST
3620: ST_TO_ADDR
// starting_crates := [ [ 10 ] , [ 7 , 14 ] , [ 6 , 12 , 18 ] , [ 5 , 10 , 15 , 20 ] ] ;
3621: LD_ADDR_EXP 43
3625: PUSH
3626: LD_INT 10
3628: PUSH
3629: EMPTY
3630: LIST
3631: PUSH
3632: LD_INT 7
3634: PUSH
3635: LD_INT 14
3637: PUSH
3638: EMPTY
3639: LIST
3640: LIST
3641: PUSH
3642: LD_INT 6
3644: PUSH
3645: LD_INT 12
3647: PUSH
3648: LD_INT 18
3650: PUSH
3651: EMPTY
3652: LIST
3653: LIST
3654: LIST
3655: PUSH
3656: LD_INT 5
3658: PUSH
3659: LD_INT 10
3661: PUSH
3662: LD_INT 15
3664: PUSH
3665: LD_INT 20
3667: PUSH
3668: EMPTY
3669: LIST
3670: LIST
3671: LIST
3672: LIST
3673: PUSH
3674: EMPTY
3675: LIST
3676: LIST
3677: LIST
3678: LIST
3679: ST_TO_ADDR
// end ; number_of_people = [ 4 , 5 , 6 , 7 , 8 , 9 , 10 , 11 , 12 , 13 , 14 , 15 , 16 , 17 , 18 , 19 , 20 , 21 , 22 , 23 , 24 ] ;
3680: LD_ADDR_EXP 40
3684: PUSH
3685: LD_INT 4
3687: PUSH
3688: LD_INT 5
3690: PUSH
3691: LD_INT 6
3693: PUSH
3694: LD_INT 7
3696: PUSH
3697: LD_INT 8
3699: PUSH
3700: LD_INT 9
3702: PUSH
3703: LD_INT 10
3705: PUSH
3706: LD_INT 11
3708: PUSH
3709: LD_INT 12
3711: PUSH
3712: LD_INT 13
3714: PUSH
3715: LD_INT 14
3717: PUSH
3718: LD_INT 15
3720: PUSH
3721: LD_INT 16
3723: PUSH
3724: LD_INT 17
3726: PUSH
3727: LD_INT 18
3729: PUSH
3730: LD_INT 19
3732: PUSH
3733: LD_INT 20
3735: PUSH
3736: LD_INT 21
3738: PUSH
3739: LD_INT 22
3741: PUSH
3742: LD_INT 23
3744: PUSH
3745: LD_INT 24
3747: PUSH
3748: EMPTY
3749: LIST
3750: LIST
3751: LIST
3752: LIST
3753: LIST
3754: LIST
3755: LIST
3756: LIST
3757: LIST
3758: LIST
3759: LIST
3760: LIST
3761: LIST
3762: LIST
3763: LIST
3764: LIST
3765: LIST
3766: LIST
3767: LIST
3768: LIST
3769: LIST
3770: ST_TO_ADDR
// number_of_apemen = [ 0 , 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 , 9 , 10 , 11 , 12 ] ;
3771: LD_ADDR_EXP 41
3775: PUSH
3776: LD_INT 0
3778: PUSH
3779: LD_INT 1
3781: PUSH
3782: LD_INT 2
3784: PUSH
3785: LD_INT 3
3787: PUSH
3788: LD_INT 4
3790: PUSH
3791: LD_INT 5
3793: PUSH
3794: LD_INT 6
3796: PUSH
3797: LD_INT 7
3799: PUSH
3800: LD_INT 8
3802: PUSH
3803: LD_INT 9
3805: PUSH
3806: LD_INT 10
3808: PUSH
3809: LD_INT 11
3811: PUSH
3812: LD_INT 12
3814: PUSH
3815: EMPTY
3816: LIST
3817: LIST
3818: LIST
3819: LIST
3820: LIST
3821: LIST
3822: LIST
3823: LIST
3824: LIST
3825: LIST
3826: LIST
3827: LIST
3828: LIST
3829: ST_TO_ADDR
// initial_level = [ 2 , 3 , 4 , 5 ] ;
3830: LD_ADDR_EXP 42
3834: PUSH
3835: LD_INT 2
3837: PUSH
3838: LD_INT 3
3840: PUSH
3841: LD_INT 4
3843: PUSH
3844: LD_INT 5
3846: PUSH
3847: EMPTY
3848: LIST
3849: LIST
3850: LIST
3851: LIST
3852: ST_TO_ADDR
// if def_game_rules then
3853: LD_EXP 9
3857: IFFALSE 3869
// tech_level = 8 else
3859: LD_ADDR_EXP 56
3863: PUSH
3864: LD_INT 8
3866: ST_TO_ADDR
3867: GO 3907
// if game_type in GT_mine then
3869: LD_EXP 1
3873: PUSH
3874: LD_EXP 2
3878: IN
3879: IFFALSE 3897
// tech_level = def_tech_level + 4 else
3881: LD_ADDR_EXP 56
3885: PUSH
3886: LD_EXP 26
3890: PUSH
3891: LD_INT 4
3893: PLUS
3894: ST_TO_ADDR
3895: GO 3907
// Tech_Level = def_tech_level ;
3897: LD_ADDR_EXP 56
3901: PUSH
3902: LD_EXP 26
3906: ST_TO_ADDR
// Hustota_Zasilek ;
3907: CALL 2178 0 0
// spawning_koef_of_apemen = [ 0 , 5 , 10 , 15 ] ;
3911: LD_ADDR_EXP 47
3915: PUSH
3916: LD_INT 0
3918: PUSH
3919: LD_INT 5
3921: PUSH
3922: LD_INT 10
3924: PUSH
3925: LD_INT 15
3927: PUSH
3928: EMPTY
3929: LIST
3930: LIST
3931: LIST
3932: LIST
3933: ST_TO_ADDR
// spawning_koef_of_tiger = [ 0 , 5 , 10 , 15 ] ;
3934: LD_ADDR_EXP 48
3938: PUSH
3939: LD_INT 0
3941: PUSH
3942: LD_INT 5
3944: PUSH
3945: LD_INT 10
3947: PUSH
3948: LD_INT 15
3950: PUSH
3951: EMPTY
3952: LIST
3953: LIST
3954: LIST
3955: LIST
3956: ST_TO_ADDR
// respawning_time_min = [ 8 8$0 , 3 3$00 , 1 1$00 ] ;
3957: LD_ADDR_EXP 49
3961: PUSH
3962: LD_INT 16800
3964: PUSH
3965: LD_INT 6300
3967: PUSH
3968: LD_INT 2100
3970: PUSH
3971: EMPTY
3972: LIST
3973: LIST
3974: LIST
3975: ST_TO_ADDR
// respawning_time_max = [ 10 10$10 , 6 6$00 , 2 2$00 ] ;
3976: LD_ADDR_EXP 51
3980: PUSH
3981: LD_INT 21350
3983: PUSH
3984: LD_INT 12600
3986: PUSH
3987: LD_INT 4200
3989: PUSH
3990: EMPTY
3991: LIST
3992: LIST
3993: LIST
3994: ST_TO_ADDR
// respawning_time_delay_min = [ 0 0$45 , 0 0$30 , 0 0$15 ] ;
3995: LD_ADDR_EXP 53
3999: PUSH
4000: LD_INT 1575
4002: PUSH
4003: LD_INT 1050
4005: PUSH
4006: LD_INT 525
4008: PUSH
4009: EMPTY
4010: LIST
4011: LIST
4012: LIST
4013: ST_TO_ADDR
// respawning_time_delay_max = [ 1 1$00 , 0 0$45 , 0 0$30 ] ;
4014: LD_ADDR_EXP 54
4018: PUSH
4019: LD_INT 2100
4021: PUSH
4022: LD_INT 1575
4024: PUSH
4025: LD_INT 1050
4027: PUSH
4028: EMPTY
4029: LIST
4030: LIST
4031: LIST
4032: ST_TO_ADDR
// daily_start = [ [ 4 4$00 , 7 7$00 ] , [ 8 8$00 , 12 12$00 ] , [ 13 13$00 , 17 17$00 ] , [ 18 18$00 , 22 22$00 ] , [ 23 23$00 , 27 27$00 ] ] ;
4033: LD_ADDR_EXP 58
4037: PUSH
4038: LD_INT 8400
4040: PUSH
4041: LD_INT 14700
4043: PUSH
4044: EMPTY
4045: LIST
4046: LIST
4047: PUSH
4048: LD_INT 16800
4050: PUSH
4051: LD_INT 25200
4053: PUSH
4054: EMPTY
4055: LIST
4056: LIST
4057: PUSH
4058: LD_INT 27300
4060: PUSH
4061: LD_INT 35700
4063: PUSH
4064: EMPTY
4065: LIST
4066: LIST
4067: PUSH
4068: LD_INT 37800
4070: PUSH
4071: LD_INT 46200
4073: PUSH
4074: EMPTY
4075: LIST
4076: LIST
4077: PUSH
4078: LD_INT 48300
4080: PUSH
4081: LD_INT 56700
4083: PUSH
4084: EMPTY
4085: LIST
4086: LIST
4087: PUSH
4088: EMPTY
4089: LIST
4090: LIST
4091: LIST
4092: LIST
4093: LIST
4094: ST_TO_ADDR
// daily_speed = [ 0 0$59 , 0 0$25 , 0 0$9 , 0 0$2 , 0 ] ;
4095: LD_ADDR_EXP 59
4099: PUSH
4100: LD_INT 2065
4102: PUSH
4103: LD_INT 875
4105: PUSH
4106: LD_INT 315
4108: PUSH
4109: LD_INT 70
4111: PUSH
4112: LD_INT 0
4114: PUSH
4115: EMPTY
4116: LIST
4117: LIST
4118: LIST
4119: LIST
4120: LIST
4121: ST_TO_ADDR
// TimePhase = [ 4 4$00 , 6 6$00 , 7 7$00 , 8 8$00 , 12 12$00 , 17 17$00 , 18 18$00 , 19 19$00 , 20 20$00 , 22 22$00 ] ;
4122: LD_ADDR_EXP 60
4126: PUSH
4127: LD_INT 8400
4129: PUSH
4130: LD_INT 12600
4132: PUSH
4133: LD_INT 14700
4135: PUSH
4136: LD_INT 16800
4138: PUSH
4139: LD_INT 25200
4141: PUSH
4142: LD_INT 35700
4144: PUSH
4145: LD_INT 37800
4147: PUSH
4148: LD_INT 39900
4150: PUSH
4151: LD_INT 42000
4153: PUSH
4154: LD_INT 46200
4156: PUSH
4157: EMPTY
4158: LIST
4159: LIST
4160: LIST
4161: LIST
4162: LIST
4163: LIST
4164: LIST
4165: LIST
4166: LIST
4167: LIST
4168: ST_TO_ADDR
// DailyPhase = [ colors1.txt , colors2.txt , colors3.txt , colors4.txt , colors5.txt , colors6.txt ] ;
4169: LD_ADDR_EXP 61
4173: PUSH
4174: LD_STRING colors1.txt
4176: PUSH
4177: LD_STRING colors2.txt
4179: PUSH
4180: LD_STRING colors3.txt
4182: PUSH
4183: LD_STRING colors4.txt
4185: PUSH
4186: LD_STRING colors5.txt
4188: PUSH
4189: LD_STRING colors6.txt
4191: PUSH
4192: EMPTY
4193: LIST
4194: LIST
4195: LIST
4196: LIST
4197: LIST
4198: LIST
4199: ST_TO_ADDR
// morale_decreasing_time = [ - 1 , 0 0$10 , 0 0$20 , 0 0$40 , 0 0$0 ] ;
4200: LD_ADDR_EXP 46
4204: PUSH
4205: LD_INT 1
4207: NEG
4208: PUSH
4209: LD_INT 350
4211: PUSH
4212: LD_INT 700
4214: PUSH
4215: LD_INT 1400
4217: PUSH
4218: LD_INT 0
4220: PUSH
4221: EMPTY
4222: LIST
4223: LIST
4224: LIST
4225: LIST
4226: LIST
4227: ST_TO_ADDR
// final_count = [ 0 , 200 , 300 , 500 , 700 , 1000 , 1500 , 2000 ] ;
4228: LD_ADDR_EXP 57
4232: PUSH
4233: LD_INT 0
4235: PUSH
4236: LD_INT 200
4238: PUSH
4239: LD_INT 300
4241: PUSH
4242: LD_INT 500
4244: PUSH
4245: LD_INT 700
4247: PUSH
4248: LD_INT 1000
4250: PUSH
4251: LD_INT 1500
4253: PUSH
4254: LD_INT 2000
4256: PUSH
4257: EMPTY
4258: LIST
4259: LIST
4260: LIST
4261: LIST
4262: LIST
4263: LIST
4264: LIST
4265: LIST
4266: ST_TO_ADDR
// WarForTerritory_flags = [ 0 , 3 , 4 , 5 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
4267: LD_ADDR_EXP 65
4271: PUSH
4272: LD_INT 0
4274: PUSH
4275: LD_INT 3
4277: PUSH
4278: LD_INT 4
4280: PUSH
4281: LD_INT 5
4283: PUSH
4284: LD_INT 0
4286: PUSH
4287: LD_INT 0
4289: PUSH
4290: LD_INT 0
4292: PUSH
4293: LD_INT 0
4295: PUSH
4296: LD_INT 0
4298: PUSH
4299: LD_INT 0
4301: PUSH
4302: LD_INT 0
4304: PUSH
4305: EMPTY
4306: LIST
4307: LIST
4308: LIST
4309: LIST
4310: LIST
4311: LIST
4312: LIST
4313: LIST
4314: LIST
4315: LIST
4316: LIST
4317: ST_TO_ADDR
// WarForTerritory_Points = [ 0 , 0 , 0 , 0 , 200 , 300 , 500 , 700 , 1000 , 1500 , 2000 ] ;
4318: LD_ADDR_EXP 64
4322: PUSH
4323: LD_INT 0
4325: PUSH
4326: LD_INT 0
4328: PUSH
4329: LD_INT 0
4331: PUSH
4332: LD_INT 0
4334: PUSH
4335: LD_INT 200
4337: PUSH
4338: LD_INT 300
4340: PUSH
4341: LD_INT 500
4343: PUSH
4344: LD_INT 700
4346: PUSH
4347: LD_INT 1000
4349: PUSH
4350: LD_INT 1500
4352: PUSH
4353: LD_INT 2000
4355: PUSH
4356: EMPTY
4357: LIST
4358: LIST
4359: LIST
4360: LIST
4361: LIST
4362: LIST
4363: LIST
4364: LIST
4365: LIST
4366: LIST
4367: LIST
4368: ST_TO_ADDR
// Position_Sides := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
4369: LD_ADDR_EXP 62
4373: PUSH
4374: LD_INT 0
4376: PUSH
4377: LD_INT 0
4379: PUSH
4380: LD_INT 0
4382: PUSH
4383: LD_INT 0
4385: PUSH
4386: LD_INT 0
4388: PUSH
4389: LD_INT 0
4391: PUSH
4392: LD_INT 0
4394: PUSH
4395: LD_INT 0
4397: PUSH
4398: EMPTY
4399: LIST
4400: LIST
4401: LIST
4402: LIST
4403: LIST
4404: LIST
4405: LIST
4406: LIST
4407: ST_TO_ADDR
// buildUpTime_Delay := [ 0 , 5 5$00 , 10 10$00 , 15 15$00 ] ;
4408: LD_ADDR_EXP 66
4412: PUSH
4413: LD_INT 0
4415: PUSH
4416: LD_INT 10500
4418: PUSH
4419: LD_INT 21000
4421: PUSH
4422: LD_INT 31500
4424: PUSH
4425: EMPTY
4426: LIST
4427: LIST
4428: LIST
4429: LIST
4430: ST_TO_ADDR
// siberite_bomb_Delay := [ 0 , 1 , 30 30$00 , 60 60$00 , 90 90$00 , 120 120$00 ] ;
4431: LD_ADDR_EXP 67
4435: PUSH
4436: LD_INT 0
4438: PUSH
4439: LD_INT 1
4441: PUSH
4442: LD_INT 63000
4444: PUSH
4445: LD_INT 126000
4447: PUSH
4448: LD_INT 189000
4450: PUSH
4451: LD_INT 252000
4453: PUSH
4454: EMPTY
4455: LIST
4456: LIST
4457: LIST
4458: LIST
4459: LIST
4460: LIST
4461: ST_TO_ADDR
// end ;
4462: LD_VAR 0 1
4466: RET
// export function init_map ; var i ; begin
4467: LD_INT 0
4469: PPUSH
4470: PPUSH
// base_level = base_level [ def_base_level + 1 ] ;
4471: LD_ADDR_EXP 37
4475: PUSH
4476: LD_EXP 37
4480: PUSH
4481: LD_EXP 10
4485: PUSH
4486: LD_INT 1
4488: PLUS
4489: ARRAY
4490: ST_TO_ADDR
// number_of_people = number_of_people [ def_amount_of_people + 1 ] ;
4491: LD_ADDR_EXP 40
4495: PUSH
4496: LD_EXP 40
4500: PUSH
4501: LD_EXP 11
4505: PUSH
4506: LD_INT 1
4508: PLUS
4509: ARRAY
4510: ST_TO_ADDR
// number_of_apemen = number_of_apemen [ def_amount_of_apemen_in_team + 1 ] ;
4511: LD_ADDR_EXP 41
4515: PUSH
4516: LD_EXP 41
4520: PUSH
4521: LD_EXP 12
4525: PUSH
4526: LD_INT 1
4528: PLUS
4529: ARRAY
4530: ST_TO_ADDR
// initial_level = initial_level [ def_initial_level + 1 ] ;
4531: LD_ADDR_EXP 42
4535: PUSH
4536: LD_EXP 42
4540: PUSH
4541: LD_EXP 13
4545: PUSH
4546: LD_INT 1
4548: PLUS
4549: ARRAY
4550: ST_TO_ADDR
// starting_resources = starting_resources [ def_starting_resources + 1 ] ;
4551: LD_ADDR_EXP 44
4555: PUSH
4556: LD_EXP 44
4560: PUSH
4561: LD_EXP 15
4565: PUSH
4566: LD_INT 1
4568: PLUS
4569: ARRAY
4570: ST_TO_ADDR
// starting_crates = starting_crates [ def_starting_resources + 1 ] ;
4571: LD_ADDR_EXP 43
4575: PUSH
4576: LD_EXP 43
4580: PUSH
4581: LD_EXP 15
4585: PUSH
4586: LD_INT 1
4588: PLUS
4589: ARRAY
4590: ST_TO_ADDR
// Tech_Level = def_tech_level ;
4591: LD_ADDR_EXP 56
4595: PUSH
4596: LD_EXP 26
4600: ST_TO_ADDR
// Hustota_Zasilek ;
4601: CALL 2178 0 0
// spawning_koef_of_apemen = spawning_koef_of_apemen [ def_amount_of_apemen + 1 ] ;
4605: LD_ADDR_EXP 47
4609: PUSH
4610: LD_EXP 47
4614: PUSH
4615: LD_EXP 22
4619: PUSH
4620: LD_INT 1
4622: PLUS
4623: ARRAY
4624: ST_TO_ADDR
// spawning_koef_of_tiger = spawning_koef_of_tiger [ def_amount_of_tiger + 1 ] ;
4625: LD_ADDR_EXP 48
4629: PUSH
4630: LD_EXP 48
4634: PUSH
4635: LD_EXP 23
4639: PUSH
4640: LD_INT 1
4642: PLUS
4643: ARRAY
4644: ST_TO_ADDR
// respawning_time_min = respawning_time_min [ def_people_respawning + 1 ] ;
4645: LD_ADDR_EXP 49
4649: PUSH
4650: LD_EXP 49
4654: PUSH
4655: LD_EXP 25
4659: PUSH
4660: LD_INT 1
4662: PLUS
4663: ARRAY
4664: ST_TO_ADDR
// respawning_time_max = respawning_time_max [ def_people_respawning + 1 ] ;
4665: LD_ADDR_EXP 51
4669: PUSH
4670: LD_EXP 51
4674: PUSH
4675: LD_EXP 25
4679: PUSH
4680: LD_INT 1
4682: PLUS
4683: ARRAY
4684: ST_TO_ADDR
// respawning_time_delay_min = respawning_time_delay_min [ def_people_respawning + 1 ] ;
4685: LD_ADDR_EXP 53
4689: PUSH
4690: LD_EXP 53
4694: PUSH
4695: LD_EXP 25
4699: PUSH
4700: LD_INT 1
4702: PLUS
4703: ARRAY
4704: ST_TO_ADDR
// respawning_time_delay_max = respawning_time_delay_max [ def_people_respawning + 1 ] ;
4705: LD_ADDR_EXP 54
4709: PUSH
4710: LD_EXP 54
4714: PUSH
4715: LD_EXP 25
4719: PUSH
4720: LD_INT 1
4722: PLUS
4723: ARRAY
4724: ST_TO_ADDR
// daily_start = daily_start [ def_daily_start + 1 ] ;
4725: LD_ADDR_EXP 58
4729: PUSH
4730: LD_EXP 58
4734: PUSH
4735: LD_EXP 32
4739: PUSH
4740: LD_INT 1
4742: PLUS
4743: ARRAY
4744: ST_TO_ADDR
// daily_speed = daily_speed [ def_daily_speed + 1 ] ;
4745: LD_ADDR_EXP 59
4749: PUSH
4750: LD_EXP 59
4754: PUSH
4755: LD_EXP 33
4759: PUSH
4760: LD_INT 1
4762: PLUS
4763: ARRAY
4764: ST_TO_ADDR
// morale_decreasing_time = morale_decreasing_time [ def_morale_flags + 1 ] ;
4765: LD_ADDR_EXP 46
4769: PUSH
4770: LD_EXP 46
4774: PUSH
4775: LD_EXP 20
4779: PUSH
4780: LD_INT 1
4782: PLUS
4783: ARRAY
4784: ST_TO_ADDR
// battle_flags_id = [ ] ;
4785: LD_ADDR_EXP 89
4789: PUSH
4790: EMPTY
4791: ST_TO_ADDR
// heroes = [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
4792: LD_ADDR_EXP 50
4796: PUSH
4797: EMPTY
4798: PUSH
4799: EMPTY
4800: PUSH
4801: EMPTY
4802: PUSH
4803: EMPTY
4804: PUSH
4805: EMPTY
4806: PUSH
4807: EMPTY
4808: PUSH
4809: EMPTY
4810: PUSH
4811: EMPTY
4812: PUSH
4813: EMPTY
4814: LIST
4815: LIST
4816: LIST
4817: LIST
4818: LIST
4819: LIST
4820: LIST
4821: LIST
4822: ST_TO_ADDR
// final_count = final_count [ def_kings_age + 1 ] ;
4823: LD_ADDR_EXP 57
4827: PUSH
4828: LD_EXP 57
4832: PUSH
4833: LD_EXP 35
4837: PUSH
4838: LD_INT 1
4840: PLUS
4841: ARRAY
4842: ST_TO_ADDR
// WarForTerritory_flags = WarForTerritory_flags [ def_warForTerritory + 1 ] ;
4843: LD_ADDR_EXP 65
4847: PUSH
4848: LD_EXP 65
4852: PUSH
4853: LD_EXP 36
4857: PUSH
4858: LD_INT 1
4860: PLUS
4861: ARRAY
4862: ST_TO_ADDR
// WarForTerritory_Points = WarForTerritory_Points [ def_warForTerritory + 1 ] ;
4863: LD_ADDR_EXP 64
4867: PUSH
4868: LD_EXP 64
4872: PUSH
4873: LD_EXP 36
4877: PUSH
4878: LD_INT 1
4880: PLUS
4881: ARRAY
4882: ST_TO_ADDR
// buildUpTime_Delay := buildUpTime_Delay [ def_builduptime + 1 ] ;
4883: LD_ADDR_EXP 66
4887: PUSH
4888: LD_EXP 66
4892: PUSH
4893: LD_EXP 30
4897: PUSH
4898: LD_INT 1
4900: PLUS
4901: ARRAY
4902: ST_TO_ADDR
// siberite_bomb_Delay := siberite_bomb_Delay [ def_siberite_bomb + 1 ] ;
4903: LD_ADDR_EXP 67
4907: PUSH
4908: LD_EXP 67
4912: PUSH
4913: LD_EXP 29
4917: PUSH
4918: LD_INT 1
4920: PLUS
4921: ARRAY
4922: ST_TO_ADDR
// for i = 1 to depot_def + 0 do
4923: LD_ADDR_VAR 0 2
4927: PUSH
4928: DOUBLE
4929: LD_INT 1
4931: DEC
4932: ST_TO_ADDR
4933: LD_EXP 81
4937: PUSH
4938: LD_INT 0
4940: PLUS
4941: PUSH
4942: FOR_TO
4943: IFFALSE 5049
// start_def := start_def ^ [ [ ShiftX ( depot_def [ i ] [ 1 ] , depot_def [ i ] [ 3 ] mod 6 , 6 ) , ShiftY ( depot_def [ i ] [ 2 ] , depot_def [ i ] [ 3 ] mod 6 , 6 ) ] ] ;
4945: LD_ADDR_EXP 83
4949: PUSH
4950: LD_EXP 83
4954: PUSH
4955: LD_EXP 81
4959: PUSH
4960: LD_VAR 0 2
4964: ARRAY
4965: PUSH
4966: LD_INT 1
4968: ARRAY
4969: PPUSH
4970: LD_EXP 81
4974: PUSH
4975: LD_VAR 0 2
4979: ARRAY
4980: PUSH
4981: LD_INT 3
4983: ARRAY
4984: PUSH
4985: LD_INT 6
4987: MOD
4988: PPUSH
4989: LD_INT 6
4991: PPUSH
4992: CALL_OW 272
4996: PUSH
4997: LD_EXP 81
5001: PUSH
5002: LD_VAR 0 2
5006: ARRAY
5007: PUSH
5008: LD_INT 2
5010: ARRAY
5011: PPUSH
5012: LD_EXP 81
5016: PUSH
5017: LD_VAR 0 2
5021: ARRAY
5022: PUSH
5023: LD_INT 3
5025: ARRAY
5026: PUSH
5027: LD_INT 6
5029: MOD
5030: PPUSH
5031: LD_INT 6
5033: PPUSH
5034: CALL_OW 273
5038: PUSH
5039: EMPTY
5040: LIST
5041: LIST
5042: PUSH
5043: EMPTY
5044: LIST
5045: ADD
5046: ST_TO_ADDR
5047: GO 4942
5049: POP
5050: POP
// if not Game_Type in GT_Survival then
5051: LD_EXP 1
5055: PUSH
5056: LD_EXP 6
5060: IN
5061: NOT
5062: IFFALSE 5244
// begin for i in oil_deposits_locations do
5064: LD_ADDR_VAR 0 2
5068: PUSH
5069: LD_EXP 86
5073: PUSH
5074: FOR_IN
5075: IFFALSE 5104
// CreateDepositXY ( i [ 1 ] , i [ 2 ] , mat_oil ) ;
5077: LD_VAR 0 2
5081: PUSH
5082: LD_INT 1
5084: ARRAY
5085: PPUSH
5086: LD_VAR 0 2
5090: PUSH
5091: LD_INT 2
5093: ARRAY
5094: PPUSH
5095: LD_INT 2
5097: PPUSH
5098: CALL_OW 62
5102: GO 5074
5104: POP
5105: POP
// for i in siberite_deposits_locations do
5106: LD_ADDR_VAR 0 2
5110: PUSH
5111: LD_EXP 88
5115: PUSH
5116: FOR_IN
5117: IFFALSE 5146
// CreateDepositXY ( i [ 1 ] , i [ 2 ] , mat_siberit ) ;
5119: LD_VAR 0 2
5123: PUSH
5124: LD_INT 1
5126: ARRAY
5127: PPUSH
5128: LD_VAR 0 2
5132: PUSH
5133: LD_INT 2
5135: ARRAY
5136: PPUSH
5137: LD_INT 3
5139: PPUSH
5140: CALL_OW 62
5144: GO 5116
5146: POP
5147: POP
// if def_extra_oil_deposits then
5148: LD_EXP 17
5152: IFFALSE 5196
// for i in extra_oil_deposits_locations do
5154: LD_ADDR_VAR 0 2
5158: PUSH
5159: LD_EXP 85
5163: PUSH
5164: FOR_IN
5165: IFFALSE 5194
// CreateDepositXY ( i [ 1 ] , i [ 2 ] , mat_oil ) ;
5167: LD_VAR 0 2
5171: PUSH
5172: LD_INT 1
5174: ARRAY
5175: PPUSH
5176: LD_VAR 0 2
5180: PUSH
5181: LD_INT 2
5183: ARRAY
5184: PPUSH
5185: LD_INT 2
5187: PPUSH
5188: CALL_OW 62
5192: GO 5164
5194: POP
5195: POP
// if def_extra_sib_deposits then
5196: LD_EXP 18
5200: IFFALSE 5244
// for i in extra_sib_deposits_locations do
5202: LD_ADDR_VAR 0 2
5206: PUSH
5207: LD_EXP 87
5211: PUSH
5212: FOR_IN
5213: IFFALSE 5242
// CreateDepositXY ( i [ 1 ] , i [ 2 ] , mat_siberit ) ;
5215: LD_VAR 0 2
5219: PUSH
5220: LD_INT 1
5222: ARRAY
5223: PPUSH
5224: LD_VAR 0 2
5228: PUSH
5229: LD_INT 2
5231: ARRAY
5232: PPUSH
5233: LD_INT 3
5235: PPUSH
5236: CALL_OW 62
5240: GO 5212
5242: POP
5243: POP
// end ; for i := 1 to 8 do
5244: LD_ADDR_VAR 0 2
5248: PUSH
5249: DOUBLE
5250: LD_INT 1
5252: DEC
5253: ST_TO_ADDR
5254: LD_INT 8
5256: PUSH
5257: FOR_TO
5258: IFFALSE 5305
// if Side_Positions [ i ] then
5260: LD_EXP 75
5264: PUSH
5265: LD_VAR 0 2
5269: ARRAY
5270: IFFALSE 5303
// Position_Sides := Replace ( Position_Sides , Side_Positions [ i ] , i ) ;
5272: LD_ADDR_EXP 62
5276: PUSH
5277: LD_EXP 62
5281: PPUSH
5282: LD_EXP 75
5286: PUSH
5287: LD_VAR 0 2
5291: ARRAY
5292: PPUSH
5293: LD_VAR 0 2
5297: PPUSH
5298: CALL_OW 1
5302: ST_TO_ADDR
5303: GO 5257
5305: POP
5306: POP
// end ;
5307: LD_VAR 0 1
5311: RET
// export function set_shared_visions_and_alliances ; var i , j ; begin
5312: LD_INT 0
5314: PPUSH
5315: PPUSH
5316: PPUSH
// Team_Game := ( Side_Teams diff [ 0 ] ) > 1 ;
5317: LD_ADDR_EXP 80
5321: PUSH
5322: LD_EXP 72
5326: PUSH
5327: LD_INT 0
5329: PUSH
5330: EMPTY
5331: LIST
5332: DIFF
5333: PUSH
5334: LD_INT 1
5336: GREATER
5337: ST_TO_ADDR
// if not Team_Game then
5338: LD_EXP 80
5342: NOT
5343: IFFALSE 5441
// begin for i = 1 to 8 do
5345: LD_ADDR_VAR 0 2
5349: PUSH
5350: DOUBLE
5351: LD_INT 1
5353: DEC
5354: ST_TO_ADDR
5355: LD_INT 8
5357: PUSH
5358: FOR_TO
5359: IFFALSE 5437
// for j = 1 to 8 do
5361: LD_ADDR_VAR 0 3
5365: PUSH
5366: DOUBLE
5367: LD_INT 1
5369: DEC
5370: ST_TO_ADDR
5371: LD_INT 8
5373: PUSH
5374: FOR_TO
5375: IFFALSE 5433
// if i <> j then
5377: LD_VAR 0 2
5381: PUSH
5382: LD_VAR 0 3
5386: NONEQUAL
5387: IFFALSE 5411
// SetAttitude ( i , j , att_neutral , true ) else
5389: LD_VAR 0 2
5393: PPUSH
5394: LD_VAR 0 3
5398: PPUSH
5399: LD_INT 0
5401: PPUSH
5402: LD_INT 1
5404: PPUSH
5405: CALL_OW 80
5409: GO 5431
// SetAttitude ( i , j , att_friend , true ) ;
5411: LD_VAR 0 2
5415: PPUSH
5416: LD_VAR 0 3
5420: PPUSH
5421: LD_INT 1
5423: PPUSH
5424: LD_INT 1
5426: PPUSH
5427: CALL_OW 80
5431: GO 5374
5433: POP
5434: POP
5435: GO 5358
5437: POP
5438: POP
// end else
5439: GO 5616
// begin if def_shared_vision then
5441: LD_EXP 19
5445: IFFALSE 5510
// begin for i in Teams do
5447: LD_ADDR_VAR 0 2
5451: PUSH
5452: LD_EXP 73
5456: PUSH
5457: FOR_IN
5458: IFFALSE 5508
// for j = 2 to i do
5460: LD_ADDR_VAR 0 3
5464: PUSH
5465: DOUBLE
5466: LD_INT 2
5468: DEC
5469: ST_TO_ADDR
5470: LD_VAR 0 2
5474: PUSH
5475: FOR_TO
5476: IFFALSE 5504
// ChangeSideFog ( i [ j ] , i [ 1 ] ) ;
5478: LD_VAR 0 2
5482: PUSH
5483: LD_VAR 0 3
5487: ARRAY
5488: PPUSH
5489: LD_VAR 0 2
5493: PUSH
5494: LD_INT 1
5496: ARRAY
5497: PPUSH
5498: CALL_OW 343
5502: GO 5475
5504: POP
5505: POP
5506: GO 5457
5508: POP
5509: POP
// end ; for i = 1 to 8 do
5510: LD_ADDR_VAR 0 2
5514: PUSH
5515: DOUBLE
5516: LD_INT 1
5518: DEC
5519: ST_TO_ADDR
5520: LD_INT 8
5522: PUSH
5523: FOR_TO
5524: IFFALSE 5614
// for j = 1 to 8 do
5526: LD_ADDR_VAR 0 3
5530: PUSH
5531: DOUBLE
5532: LD_INT 1
5534: DEC
5535: ST_TO_ADDR
5536: LD_INT 8
5538: PUSH
5539: FOR_TO
5540: IFFALSE 5610
// if Side_Teams [ i ] = Side_Teams [ j ] then
5542: LD_EXP 72
5546: PUSH
5547: LD_VAR 0 2
5551: ARRAY
5552: PUSH
5553: LD_EXP 72
5557: PUSH
5558: LD_VAR 0 3
5562: ARRAY
5563: EQUAL
5564: IFFALSE 5588
// SetAttitude ( i , j , att_friend , true ) else
5566: LD_VAR 0 2
5570: PPUSH
5571: LD_VAR 0 3
5575: PPUSH
5576: LD_INT 1
5578: PPUSH
5579: LD_INT 1
5581: PPUSH
5582: CALL_OW 80
5586: GO 5608
// SetAttitude ( i , j , att_enemy , true ) ;
5588: LD_VAR 0 2
5592: PPUSH
5593: LD_VAR 0 3
5597: PPUSH
5598: LD_INT 2
5600: PPUSH
5601: LD_INT 1
5603: PPUSH
5604: CALL_OW 80
5608: GO 5539
5610: POP
5611: POP
5612: GO 5523
5614: POP
5615: POP
// end ; end ;
5616: LD_VAR 0 1
5620: RET
// export function prepare_sides ; var i , pos ; begin
5621: LD_INT 0
5623: PPUSH
5624: PPUSH
5625: PPUSH
// global_units = [ ] ;
5626: LD_ADDR_EXP 93
5630: PUSH
5631: EMPTY
5632: ST_TO_ADDR
// global_classes = [ ] ;
5633: LD_ADDR_EXP 97
5637: PUSH
5638: EMPTY
5639: ST_TO_ADDR
// global_defined := false ;
5640: LD_ADDR_EXP 94
5644: PUSH
5645: LD_INT 0
5647: ST_TO_ADDR
// pozice_beden = [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
5648: LD_ADDR_EXP 8
5652: PUSH
5653: EMPTY
5654: PUSH
5655: EMPTY
5656: PUSH
5657: EMPTY
5658: PUSH
5659: EMPTY
5660: PUSH
5661: EMPTY
5662: PUSH
5663: EMPTY
5664: PUSH
5665: EMPTY
5666: PUSH
5667: EMPTY
5668: PUSH
5669: EMPTY
5670: LIST
5671: LIST
5672: LIST
5673: LIST
5674: LIST
5675: LIST
5676: LIST
5677: LIST
5678: ST_TO_ADDR
// for i := 1 to 8 do
5679: LD_ADDR_VAR 0 2
5683: PUSH
5684: DOUBLE
5685: LD_INT 1
5687: DEC
5688: ST_TO_ADDR
5689: LD_INT 8
5691: PUSH
5692: FOR_TO
5693: IFFALSE 6158
// if Side_Positions [ i ] then
5695: LD_EXP 75
5699: PUSH
5700: LD_VAR 0 2
5704: ARRAY
5705: IFFALSE 6156
// begin pos := Side_Positions [ i ] ;
5707: LD_ADDR_VAR 0 3
5711: PUSH
5712: LD_EXP 75
5716: PUSH
5717: LD_VAR 0 2
5721: ARRAY
5722: ST_TO_ADDR
// if Game_Type in GT_DoubleNat ^ GT_DoublePeople then
5723: LD_EXP 1
5727: PUSH
5728: LD_EXP 3
5732: PUSH
5733: LD_EXP 4
5737: ADD
5738: IN
5739: IFFALSE 5949
// begin if Game_Type in GT_DoubleNat then
5741: LD_EXP 1
5745: PUSH
5746: LD_EXP 3
5750: IN
5751: IFFALSE 5855
// begin prepare_side ( i , pos , Position_Nations [ i ] [ 1 ] ) ;
5753: LD_VAR 0 2
5757: PPUSH
5758: LD_VAR 0 3
5762: PPUSH
5763: LD_EXP 52
5767: PUSH
5768: LD_VAR 0 2
5772: ARRAY
5773: PUSH
5774: LD_INT 1
5776: ARRAY
5777: PPUSH
5778: CALL 6538 0 3
// prepare_side ( i , pos + 1 , Position_Nations [ i ] [ 2 ] ) ;
5782: LD_VAR 0 2
5786: PPUSH
5787: LD_VAR 0 3
5791: PUSH
5792: LD_INT 1
5794: PLUS
5795: PPUSH
5796: LD_EXP 52
5800: PUSH
5801: LD_VAR 0 2
5805: ARRAY
5806: PUSH
5807: LD_INT 2
5809: ARRAY
5810: PPUSH
5811: CALL 6538 0 3
// pozice_beden = replace ( pozice_beden , i , [ pos , pos + 1 ] ) ;
5815: LD_ADDR_EXP 8
5819: PUSH
5820: LD_EXP 8
5824: PPUSH
5825: LD_VAR 0 2
5829: PPUSH
5830: LD_VAR 0 3
5834: PUSH
5835: LD_VAR 0 3
5839: PUSH
5840: LD_INT 1
5842: PLUS
5843: PUSH
5844: EMPTY
5845: LIST
5846: LIST
5847: PPUSH
5848: CALL_OW 1
5852: ST_TO_ADDR
// end else
5853: GO 5947
// begin prepare_side ( i , pos , Side_Nations [ i ] ) ;
5855: LD_VAR 0 2
5859: PPUSH
5860: LD_VAR 0 3
5864: PPUSH
5865: LD_EXP 76
5869: PUSH
5870: LD_VAR 0 2
5874: ARRAY
5875: PPUSH
5876: CALL 6538 0 3
// prepare_side ( i , pos + 1 , Side_Nations [ i ] ) ;
5880: LD_VAR 0 2
5884: PPUSH
5885: LD_VAR 0 3
5889: PUSH
5890: LD_INT 1
5892: PLUS
5893: PPUSH
5894: LD_EXP 76
5898: PUSH
5899: LD_VAR 0 2
5903: ARRAY
5904: PPUSH
5905: CALL 6538 0 3
// pozice_beden = replace ( pozice_beden , i , [ pos , pos + 1 ] ) ;
5909: LD_ADDR_EXP 8
5913: PUSH
5914: LD_EXP 8
5918: PPUSH
5919: LD_VAR 0 2
5923: PPUSH
5924: LD_VAR 0 3
5928: PUSH
5929: LD_VAR 0 3
5933: PUSH
5934: LD_INT 1
5936: PLUS
5937: PUSH
5938: EMPTY
5939: LIST
5940: LIST
5941: PPUSH
5942: CALL_OW 1
5946: ST_TO_ADDR
// end ; end else
5947: GO 6131
// if game_type in GT_TripleNat then
5949: LD_EXP 1
5953: PUSH
5954: LD_EXP 5
5958: IN
5959: IFFALSE 6106
// begin prepare_side ( i , pos , Position_Nations [ i ] [ 1 ] ) ;
5961: LD_VAR 0 2
5965: PPUSH
5966: LD_VAR 0 3
5970: PPUSH
5971: LD_EXP 52
5975: PUSH
5976: LD_VAR 0 2
5980: ARRAY
5981: PUSH
5982: LD_INT 1
5984: ARRAY
5985: PPUSH
5986: CALL 6538 0 3
// prepare_side ( i , pos + 1 , Position_Nations [ i ] [ 2 ] ) ;
5990: LD_VAR 0 2
5994: PPUSH
5995: LD_VAR 0 3
5999: PUSH
6000: LD_INT 1
6002: PLUS
6003: PPUSH
6004: LD_EXP 52
6008: PUSH
6009: LD_VAR 0 2
6013: ARRAY
6014: PUSH
6015: LD_INT 2
6017: ARRAY
6018: PPUSH
6019: CALL 6538 0 3
// prepare_side ( i , pos + 2 , Position_Nations [ i ] [ 3 ] ) ;
6023: LD_VAR 0 2
6027: PPUSH
6028: LD_VAR 0 3
6032: PUSH
6033: LD_INT 2
6035: PLUS
6036: PPUSH
6037: LD_EXP 52
6041: PUSH
6042: LD_VAR 0 2
6046: ARRAY
6047: PUSH
6048: LD_INT 3
6050: ARRAY
6051: PPUSH
6052: CALL 6538 0 3
// pozice_beden = replace ( pozice_beden , i , [ pos , pos + 1 , pos + 2 ] ) ;
6056: LD_ADDR_EXP 8
6060: PUSH
6061: LD_EXP 8
6065: PPUSH
6066: LD_VAR 0 2
6070: PPUSH
6071: LD_VAR 0 3
6075: PUSH
6076: LD_VAR 0 3
6080: PUSH
6081: LD_INT 1
6083: PLUS
6084: PUSH
6085: LD_VAR 0 3
6089: PUSH
6090: LD_INT 2
6092: PLUS
6093: PUSH
6094: EMPTY
6095: LIST
6096: LIST
6097: LIST
6098: PPUSH
6099: CALL_OW 1
6103: ST_TO_ADDR
// end else
6104: GO 6131
// prepare_side ( i , pos , Side_Nations [ i ] ) ;
6106: LD_VAR 0 2
6110: PPUSH
6111: LD_VAR 0 3
6115: PPUSH
6116: LD_EXP 76
6120: PUSH
6121: LD_VAR 0 2
6125: ARRAY
6126: PPUSH
6127: CALL 6538 0 3
// pozice_beden = replace ( pozice_beden , i , pos ) ;
6131: LD_ADDR_EXP 8
6135: PUSH
6136: LD_EXP 8
6140: PPUSH
6141: LD_VAR 0 2
6145: PPUSH
6146: LD_VAR 0 3
6150: PPUSH
6151: CALL_OW 1
6155: ST_TO_ADDR
// end ;
6156: GO 5692
6158: POP
6159: POP
// end ;
6160: LD_VAR 0 1
6164: RET
// export function Modify_Nations ; var i , n ; begin
6165: LD_INT 0
6167: PPUSH
6168: PPUSH
6169: PPUSH
// Position_Nations := [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
6170: LD_ADDR_EXP 52
6174: PUSH
6175: EMPTY
6176: PUSH
6177: EMPTY
6178: PUSH
6179: EMPTY
6180: PUSH
6181: EMPTY
6182: PUSH
6183: EMPTY
6184: PUSH
6185: EMPTY
6186: PUSH
6187: EMPTY
6188: PUSH
6189: EMPTY
6190: PUSH
6191: EMPTY
6192: LIST
6193: LIST
6194: LIST
6195: LIST
6196: LIST
6197: LIST
6198: LIST
6199: LIST
6200: ST_TO_ADDR
// if game_type in GT_doublenat then
6201: LD_EXP 1
6205: PUSH
6206: LD_EXP 3
6210: IN
6211: IFFALSE 6362
// begin for i = 1 to 8 do
6213: LD_ADDR_VAR 0 2
6217: PUSH
6218: DOUBLE
6219: LD_INT 1
6221: DEC
6222: ST_TO_ADDR
6223: LD_INT 8
6225: PUSH
6226: FOR_TO
6227: IFFALSE 6358
// if side_positions [ i ] then
6229: LD_EXP 75
6233: PUSH
6234: LD_VAR 0 2
6238: ARRAY
6239: IFFALSE 6356
// begin case side_nations [ i ] of 1 :
6241: LD_EXP 76
6245: PUSH
6246: LD_VAR 0 2
6250: ARRAY
6251: PUSH
6252: LD_INT 1
6254: DOUBLE
6255: EQUAL
6256: IFTRUE 6260
6258: GO 6278
6260: POP
// n = [ 1 , 2 ] ; 2 :
6261: LD_ADDR_VAR 0 3
6265: PUSH
6266: LD_INT 1
6268: PUSH
6269: LD_INT 2
6271: PUSH
6272: EMPTY
6273: LIST
6274: LIST
6275: ST_TO_ADDR
6276: GO 6331
6278: LD_INT 2
6280: DOUBLE
6281: EQUAL
6282: IFTRUE 6286
6284: GO 6304
6286: POP
// n = [ 2 , 3 ] ; 3 :
6287: LD_ADDR_VAR 0 3
6291: PUSH
6292: LD_INT 2
6294: PUSH
6295: LD_INT 3
6297: PUSH
6298: EMPTY
6299: LIST
6300: LIST
6301: ST_TO_ADDR
6302: GO 6331
6304: LD_INT 3
6306: DOUBLE
6307: EQUAL
6308: IFTRUE 6312
6310: GO 6330
6312: POP
// n = [ 3 , 1 ] ; end ;
6313: LD_ADDR_VAR 0 3
6317: PUSH
6318: LD_INT 3
6320: PUSH
6321: LD_INT 1
6323: PUSH
6324: EMPTY
6325: LIST
6326: LIST
6327: ST_TO_ADDR
6328: GO 6331
6330: POP
// Position_Nations = replace ( position_nations , i , n ) ;
6331: LD_ADDR_EXP 52
6335: PUSH
6336: LD_EXP 52
6340: PPUSH
6341: LD_VAR 0 2
6345: PPUSH
6346: LD_VAR 0 3
6350: PPUSH
6351: CALL_OW 1
6355: ST_TO_ADDR
// end ;
6356: GO 6226
6358: POP
6359: POP
// end else
6360: GO 6533
// if game_type in GT_triplenat then
6362: LD_EXP 1
6366: PUSH
6367: LD_EXP 5
6371: IN
6372: IFFALSE 6533
// begin for i = 1 to 8 do
6374: LD_ADDR_VAR 0 2
6378: PUSH
6379: DOUBLE
6380: LD_INT 1
6382: DEC
6383: ST_TO_ADDR
6384: LD_INT 8
6386: PUSH
6387: FOR_TO
6388: IFFALSE 6531
// if side_positions [ i ] then
6390: LD_EXP 75
6394: PUSH
6395: LD_VAR 0 2
6399: ARRAY
6400: IFFALSE 6529
// begin case side_nations [ i ] of 1 :
6402: LD_EXP 76
6406: PUSH
6407: LD_VAR 0 2
6411: ARRAY
6412: PUSH
6413: LD_INT 1
6415: DOUBLE
6416: EQUAL
6417: IFTRUE 6421
6419: GO 6443
6421: POP
// n = [ 1 , 2 , 3 ] ; 2 :
6422: LD_ADDR_VAR 0 3
6426: PUSH
6427: LD_INT 1
6429: PUSH
6430: LD_INT 2
6432: PUSH
6433: LD_INT 3
6435: PUSH
6436: EMPTY
6437: LIST
6438: LIST
6439: LIST
6440: ST_TO_ADDR
6441: GO 6504
6443: LD_INT 2
6445: DOUBLE
6446: EQUAL
6447: IFTRUE 6451
6449: GO 6473
6451: POP
// n = [ 2 , 3 , 1 ] ; 3 :
6452: LD_ADDR_VAR 0 3
6456: PUSH
6457: LD_INT 2
6459: PUSH
6460: LD_INT 3
6462: PUSH
6463: LD_INT 1
6465: PUSH
6466: EMPTY
6467: LIST
6468: LIST
6469: LIST
6470: ST_TO_ADDR
6471: GO 6504
6473: LD_INT 3
6475: DOUBLE
6476: EQUAL
6477: IFTRUE 6481
6479: GO 6503
6481: POP
// n = [ 3 , 1 , 2 ] ; end ;
6482: LD_ADDR_VAR 0 3
6486: PUSH
6487: LD_INT 3
6489: PUSH
6490: LD_INT 1
6492: PUSH
6493: LD_INT 2
6495: PUSH
6496: EMPTY
6497: LIST
6498: LIST
6499: LIST
6500: ST_TO_ADDR
6501: GO 6504
6503: POP
// Position_Nations = replace ( position_nations , i , n ) ;
6504: LD_ADDR_EXP 52
6508: PUSH
6509: LD_EXP 52
6513: PPUSH
6514: LD_VAR 0 2
6518: PPUSH
6519: LD_VAR 0 3
6523: PPUSH
6524: CALL_OW 1
6528: ST_TO_ADDR
// end ;
6529: GO 6387
6531: POP
6532: POP
// end ; end ;
6533: LD_VAR 0 1
6537: RET
// export function prepare_side ( side , pos , nation ) ; var x , y , i , r , sol , br , dep , neng , nsci , nmech , nsol ; begin
6538: LD_INT 0
6540: PPUSH
6541: PPUSH
6542: PPUSH
6543: PPUSH
6544: PPUSH
6545: PPUSH
6546: PPUSH
6547: PPUSH
6548: PPUSH
6549: PPUSH
6550: PPUSH
6551: PPUSH
// global_count = 0 ;
6552: LD_ADDR_EXP 96
6556: PUSH
6557: LD_INT 0
6559: ST_TO_ADDR
// uc_nation := nation ;
6560: LD_ADDR_OWVAR 21
6564: PUSH
6565: LD_VAR 0 3
6569: ST_TO_ADDR
// uc_side := side ;
6570: LD_ADDR_OWVAR 20
6574: PUSH
6575: LD_VAR 0 1
6579: ST_TO_ADDR
// x := depot_def [ pos ] [ 1 ] ;
6580: LD_ADDR_VAR 0 5
6584: PUSH
6585: LD_EXP 81
6589: PUSH
6590: LD_VAR 0 2
6594: ARRAY
6595: PUSH
6596: LD_INT 1
6598: ARRAY
6599: ST_TO_ADDR
// y := depot_def [ pos ] [ 2 ] ;
6600: LD_ADDR_VAR 0 6
6604: PUSH
6605: LD_EXP 81
6609: PUSH
6610: LD_VAR 0 2
6614: ARRAY
6615: PUSH
6616: LD_INT 2
6618: ARRAY
6619: ST_TO_ADDR
// case base_level of 0 :
6620: LD_EXP 37
6624: PUSH
6625: LD_INT 0
6627: DOUBLE
6628: EQUAL
6629: IFTRUE 6633
6631: GO 6780
6633: POP
// begin for i := 1 to 3 do
6634: LD_ADDR_VAR 0 7
6638: PUSH
6639: DOUBLE
6640: LD_INT 1
6642: DEC
6643: ST_TO_ADDR
6644: LD_INT 3
6646: PUSH
6647: FOR_TO
6648: IFFALSE 6776
// begin r := starting_resources [ i ] ;
6650: LD_ADDR_VAR 0 8
6654: PUSH
6655: LD_EXP 44
6659: PUSH
6660: LD_VAR 0 7
6664: ARRAY
6665: ST_TO_ADDR
// while r >= 10 do
6666: LD_VAR 0 8
6670: PUSH
6671: LD_INT 10
6673: GREATEREQUAL
6674: IFFALSE 6774
// if r > 50 then
6676: LD_VAR 0 8
6680: PUSH
6681: LD_INT 50
6683: GREATER
6684: IFFALSE 6730
// begin CreateResourcesXYR ( i , 5 , x , y , 4 , false ) ;
6686: LD_VAR 0 7
6690: PPUSH
6691: LD_INT 5
6693: PPUSH
6694: LD_VAR 0 5
6698: PPUSH
6699: LD_VAR 0 6
6703: PPUSH
6704: LD_INT 4
6706: PPUSH
6707: LD_INT 0
6709: PPUSH
6710: CALL_OW 60
// r := r - 50 ;
6714: LD_ADDR_VAR 0 8
6718: PUSH
6719: LD_VAR 0 8
6723: PUSH
6724: LD_INT 50
6726: MINUS
6727: ST_TO_ADDR
// end else
6728: GO 6772
// begin CreateResourcesXYR ( i , r div 10 , x , y , 4 , false ) ;
6730: LD_VAR 0 7
6734: PPUSH
6735: LD_VAR 0 8
6739: PUSH
6740: LD_INT 10
6742: DIV
6743: PPUSH
6744: LD_VAR 0 5
6748: PPUSH
6749: LD_VAR 0 6
6753: PPUSH
6754: LD_INT 4
6756: PPUSH
6757: LD_INT 0
6759: PPUSH
6760: CALL_OW 60
// r := 0 ;
6764: LD_ADDR_VAR 0 8
6768: PUSH
6769: LD_INT 0
6771: ST_TO_ADDR
// end ;
6772: GO 6666
// end ;
6774: GO 6647
6776: POP
6777: POP
// end ; 1 :
6778: GO 7045
6780: LD_INT 1
6782: DOUBLE
6783: EQUAL
6784: IFTRUE 6788
6786: GO 6912
6788: POP
// begin bc_type = b_depot ;
6789: LD_ADDR_OWVAR 42
6793: PUSH
6794: LD_INT 0
6796: ST_TO_ADDR
// dep := CreateAndPlaceBuildingXYD ( x , y , Depot_Def [ pos ] [ 3 ] ) ;
6797: LD_ADDR_VAR 0 11
6801: PUSH
6802: LD_VAR 0 5
6806: PPUSH
6807: LD_VAR 0 6
6811: PPUSH
6812: LD_EXP 81
6816: PUSH
6817: LD_VAR 0 2
6821: ARRAY
6822: PUSH
6823: LD_INT 3
6825: ARRAY
6826: PPUSH
6827: CALL_OW 47
6831: ST_TO_ADDR
// SetResourceType ( GetBase ( dep ) , mat_cans , starting_resources [ mat_cans ] ) ;
6832: LD_VAR 0 11
6836: PPUSH
6837: CALL_OW 274
6841: PPUSH
6842: LD_INT 1
6844: PPUSH
6845: LD_EXP 44
6849: PUSH
6850: LD_INT 1
6852: ARRAY
6853: PPUSH
6854: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_oil , starting_resources [ mat_oil ] ) ;
6858: LD_VAR 0 11
6862: PPUSH
6863: CALL_OW 274
6867: PPUSH
6868: LD_INT 2
6870: PPUSH
6871: LD_EXP 44
6875: PUSH
6876: LD_INT 2
6878: ARRAY
6879: PPUSH
6880: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_siberit , starting_resources [ mat_siberit ] ) ;
6884: LD_VAR 0 11
6888: PPUSH
6889: CALL_OW 274
6893: PPUSH
6894: LD_INT 3
6896: PPUSH
6897: LD_EXP 44
6901: PUSH
6902: LD_INT 3
6904: ARRAY
6905: PPUSH
6906: CALL_OW 277
// end ; 2 :
6910: GO 7045
6912: LD_INT 2
6914: DOUBLE
6915: EQUAL
6916: IFTRUE 6920
6918: GO 7044
6920: POP
// begin bc_type = b_warehouse ;
6921: LD_ADDR_OWVAR 42
6925: PUSH
6926: LD_INT 1
6928: ST_TO_ADDR
// dep := CreateAndPlaceBuildingXYD ( x , y , Depot_Def [ pos ] [ 3 ] ) ;
6929: LD_ADDR_VAR 0 11
6933: PUSH
6934: LD_VAR 0 5
6938: PPUSH
6939: LD_VAR 0 6
6943: PPUSH
6944: LD_EXP 81
6948: PUSH
6949: LD_VAR 0 2
6953: ARRAY
6954: PUSH
6955: LD_INT 3
6957: ARRAY
6958: PPUSH
6959: CALL_OW 47
6963: ST_TO_ADDR
// SetResourceType ( GetBase ( dep ) , mat_cans , starting_resources [ mat_cans ] ) ;
6964: LD_VAR 0 11
6968: PPUSH
6969: CALL_OW 274
6973: PPUSH
6974: LD_INT 1
6976: PPUSH
6977: LD_EXP 44
6981: PUSH
6982: LD_INT 1
6984: ARRAY
6985: PPUSH
6986: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_oil , starting_resources [ mat_oil ] ) ;
6990: LD_VAR 0 11
6994: PPUSH
6995: CALL_OW 274
6999: PPUSH
7000: LD_INT 2
7002: PPUSH
7003: LD_EXP 44
7007: PUSH
7008: LD_INT 2
7010: ARRAY
7011: PPUSH
7012: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_siberit , starting_resources [ mat_siberit ] ) ;
7016: LD_VAR 0 11
7020: PPUSH
7021: CALL_OW 274
7025: PPUSH
7026: LD_INT 3
7028: PPUSH
7029: LD_EXP 44
7033: PUSH
7034: LD_INT 3
7036: ARRAY
7037: PPUSH
7038: CALL_OW 277
// end ; end ;
7042: GO 7045
7044: POP
// x := start_def [ pos ] [ 1 ] ;
7045: LD_ADDR_VAR 0 5
7049: PUSH
7050: LD_EXP 83
7054: PUSH
7055: LD_VAR 0 2
7059: ARRAY
7060: PUSH
7061: LD_INT 1
7063: ARRAY
7064: ST_TO_ADDR
// y := start_def [ pos ] [ 2 ] ;
7065: LD_ADDR_VAR 0 6
7069: PUSH
7070: LD_EXP 83
7074: PUSH
7075: LD_VAR 0 2
7079: ARRAY
7080: PUSH
7081: LD_INT 2
7083: ARRAY
7084: ST_TO_ADDR
// for r in starting_crates do
7085: LD_ADDR_VAR 0 8
7089: PUSH
7090: LD_EXP 43
7094: PUSH
7095: FOR_IN
7096: IFFALSE 7128
// CreateResourcesXYR ( mat_cans , 5 , x , y , r , false ) ;
7098: LD_INT 1
7100: PPUSH
7101: LD_INT 5
7103: PPUSH
7104: LD_VAR 0 5
7108: PPUSH
7109: LD_VAR 0 6
7113: PPUSH
7114: LD_VAR 0 8
7118: PPUSH
7119: LD_INT 0
7121: PPUSH
7122: CALL_OW 60
7126: GO 7095
7128: POP
7129: POP
// if def_morale_flags then
7130: LD_EXP 20
7134: IFFALSE 7299
// if not def_WarForTerritory then
7136: LD_EXP 36
7140: NOT
7141: IFFALSE 7222
// battle_flags_id := battle_flags_id ^ SetBattleFlag ( side , x , y , [ [ bfo_defend_bonus_human , 100 ] , [ bfo_defend_bonus_vehicle , 50 ] , [ bfo_defend_bonus_building , 20 ] , [ bfo_height , 100 ] ] ) else
7143: LD_ADDR_EXP 89
7147: PUSH
7148: LD_EXP 89
7152: PUSH
7153: LD_VAR 0 1
7157: PPUSH
7158: LD_VAR 0 5
7162: PPUSH
7163: LD_VAR 0 6
7167: PPUSH
7168: LD_INT 1
7170: PUSH
7171: LD_INT 100
7173: PUSH
7174: EMPTY
7175: LIST
7176: LIST
7177: PUSH
7178: LD_INT 2
7180: PUSH
7181: LD_INT 50
7183: PUSH
7184: EMPTY
7185: LIST
7186: LIST
7187: PUSH
7188: LD_INT 3
7190: PUSH
7191: LD_INT 20
7193: PUSH
7194: EMPTY
7195: LIST
7196: LIST
7197: PUSH
7198: LD_INT 20
7200: PUSH
7201: LD_INT 100
7203: PUSH
7204: EMPTY
7205: LIST
7206: LIST
7207: PUSH
7208: EMPTY
7209: LIST
7210: LIST
7211: LIST
7212: LIST
7213: PPUSH
7214: CALL_OW 418
7218: ADD
7219: ST_TO_ADDR
7220: GO 7299
// battle_flags_id := battle_flags_id ^ SetBattleFlag ( side , x , y , [ [ bfo_defend_bonus_human , 200 ] , [ bfo_defend_bonus_vehicle , 100 ] , [ bfo_defend_bonus_building , 50 ] , [ bfo_height , 100 ] ] ) ;
7222: LD_ADDR_EXP 89
7226: PUSH
7227: LD_EXP 89
7231: PUSH
7232: LD_VAR 0 1
7236: PPUSH
7237: LD_VAR 0 5
7241: PPUSH
7242: LD_VAR 0 6
7246: PPUSH
7247: LD_INT 1
7249: PUSH
7250: LD_INT 200
7252: PUSH
7253: EMPTY
7254: LIST
7255: LIST
7256: PUSH
7257: LD_INT 2
7259: PUSH
7260: LD_INT 100
7262: PUSH
7263: EMPTY
7264: LIST
7265: LIST
7266: PUSH
7267: LD_INT 3
7269: PUSH
7270: LD_INT 50
7272: PUSH
7273: EMPTY
7274: LIST
7275: LIST
7276: PUSH
7277: LD_INT 20
7279: PUSH
7280: LD_INT 100
7282: PUSH
7283: EMPTY
7284: LIST
7285: LIST
7286: PUSH
7287: EMPTY
7288: LIST
7289: LIST
7290: LIST
7291: LIST
7292: PPUSH
7293: CALL_OW 418
7297: ADD
7298: ST_TO_ADDR
// if for_show_near_resources then
7299: LD_EXP 63
7303: IFFALSE 7437
// begin for i in for_show_near_resources [ pos ] [ 1 ] do
7305: LD_ADDR_VAR 0 7
7309: PUSH
7310: LD_EXP 63
7314: PUSH
7315: LD_VAR 0 2
7319: ARRAY
7320: PUSH
7321: LD_INT 1
7323: ARRAY
7324: PUSH
7325: FOR_IN
7326: IFFALSE 7357
// SetResourceVisibility ( i [ 1 ] , i [ 2 ] , side ) ;
7328: LD_VAR 0 7
7332: PUSH
7333: LD_INT 1
7335: ARRAY
7336: PPUSH
7337: LD_VAR 0 7
7341: PUSH
7342: LD_INT 2
7344: ARRAY
7345: PPUSH
7346: LD_VAR 0 1
7350: PPUSH
7351: CALL_OW 441
7355: GO 7325
7357: POP
7358: POP
// if def_siberite_detection and GetTech ( tech_sibdet , side ) = state_enabled then
7359: LD_EXP 28
7363: PUSH
7364: LD_INT 20
7366: PPUSH
7367: LD_VAR 0 1
7371: PPUSH
7372: CALL_OW 321
7376: PUSH
7377: LD_INT 1
7379: EQUAL
7380: AND
7381: IFFALSE 7437
// for i in for_show_near_resources [ pos ] [ 2 ] do
7383: LD_ADDR_VAR 0 7
7387: PUSH
7388: LD_EXP 63
7392: PUSH
7393: LD_VAR 0 2
7397: ARRAY
7398: PUSH
7399: LD_INT 2
7401: ARRAY
7402: PUSH
7403: FOR_IN
7404: IFFALSE 7435
// SetResourceVisibility ( i [ 1 ] , i [ 2 ] , side ) ;
7406: LD_VAR 0 7
7410: PUSH
7411: LD_INT 1
7413: ARRAY
7414: PPUSH
7415: LD_VAR 0 7
7419: PUSH
7420: LD_INT 2
7422: ARRAY
7423: PPUSH
7424: LD_VAR 0 1
7428: PPUSH
7429: CALL_OW 441
7433: GO 7403
7435: POP
7436: POP
// end ; bc_kind1 = b_lab_basic ;
7437: LD_ADDR_OWVAR 44
7441: PUSH
7442: LD_INT 9
7444: ST_TO_ADDR
// bc_kind2 = b_lab_basic ;
7445: LD_ADDR_OWVAR 45
7449: PUSH
7450: LD_INT 9
7452: ST_TO_ADDR
// for i in buildings_def [ pos ] do
7453: LD_ADDR_VAR 0 7
7457: PUSH
7458: LD_EXP 39
7462: PUSH
7463: LD_VAR 0 2
7467: ARRAY
7468: PUSH
7469: FOR_IN
7470: IFFALSE 7615
// begin if i [ 1 ] in [ b_oil_mine , b_siberite_mine ] then
7472: LD_VAR 0 7
7476: PUSH
7477: LD_INT 1
7479: ARRAY
7480: PUSH
7481: LD_INT 29
7483: PUSH
7484: LD_INT 30
7486: PUSH
7487: EMPTY
7488: LIST
7489: LIST
7490: IN
7491: IFFALSE 7520
// SetResourceVisibility ( i [ 2 ] , i [ 3 ] , side ) ;
7493: LD_VAR 0 7
7497: PUSH
7498: LD_INT 2
7500: ARRAY
7501: PPUSH
7502: LD_VAR 0 7
7506: PUSH
7507: LD_INT 3
7509: ARRAY
7510: PPUSH
7511: LD_VAR 0 1
7515: PPUSH
7516: CALL_OW 441
// bc_type = i [ 1 ] ;
7520: LD_ADDR_OWVAR 42
7524: PUSH
7525: LD_VAR 0 7
7529: PUSH
7530: LD_INT 1
7532: ARRAY
7533: ST_TO_ADDR
// CreateAndPlaceBuildingXYD ( i [ 2 ] , i [ 3 ] , i [ 4 ] ) ;
7534: LD_VAR 0 7
7538: PUSH
7539: LD_INT 2
7541: ARRAY
7542: PPUSH
7543: LD_VAR 0 7
7547: PUSH
7548: LD_INT 3
7550: ARRAY
7551: PPUSH
7552: LD_VAR 0 7
7556: PUSH
7557: LD_INT 4
7559: ARRAY
7560: PPUSH
7561: CALL_OW 47
// x := buildings_def [ pos ] [ 1 ] [ 2 ] ;
7565: LD_ADDR_VAR 0 5
7569: PUSH
7570: LD_EXP 39
7574: PUSH
7575: LD_VAR 0 2
7579: ARRAY
7580: PUSH
7581: LD_INT 1
7583: ARRAY
7584: PUSH
7585: LD_INT 2
7587: ARRAY
7588: ST_TO_ADDR
// y := buildings_def [ pos ] [ 1 ] [ 2 ] ;
7589: LD_ADDR_VAR 0 6
7593: PUSH
7594: LD_EXP 39
7598: PUSH
7599: LD_VAR 0 2
7603: ARRAY
7604: PUSH
7605: LD_INT 1
7607: ARRAY
7608: PUSH
7609: LD_INT 2
7611: ARRAY
7612: ST_TO_ADDR
// end ;
7613: GO 7469
7615: POP
7616: POP
// commander := true ;
7617: LD_ADDR_EXP 55
7621: PUSH
7622: LD_INT 1
7624: ST_TO_ADDR
// x := start_def [ pos ] [ 1 ] ;
7625: LD_ADDR_VAR 0 5
7629: PUSH
7630: LD_EXP 83
7634: PUSH
7635: LD_VAR 0 2
7639: ARRAY
7640: PUSH
7641: LD_INT 1
7643: ARRAY
7644: ST_TO_ADDR
// y := start_def [ pos ] [ 2 ] ;
7645: LD_ADDR_VAR 0 6
7649: PUSH
7650: LD_EXP 83
7654: PUSH
7655: LD_VAR 0 2
7659: ARRAY
7660: PUSH
7661: LD_INT 2
7663: ARRAY
7664: ST_TO_ADDR
// if def_classes then
7665: LD_EXP 14
7669: IFFALSE 7965
// begin neng := number_of_people ;
7671: LD_ADDR_VAR 0 12
7675: PUSH
7676: LD_EXP 40
7680: ST_TO_ADDR
// if nsol < neng div 4 then
7681: LD_VAR 0 15
7685: PUSH
7686: LD_VAR 0 12
7690: PUSH
7691: LD_INT 4
7693: DIV
7694: LESS
7695: IFFALSE 7711
// nsol := neng div 4 ;
7697: LD_ADDR_VAR 0 15
7701: PUSH
7702: LD_VAR 0 12
7706: PUSH
7707: LD_INT 4
7709: DIV
7710: ST_TO_ADDR
// neng := neng - nsol ;
7711: LD_ADDR_VAR 0 12
7715: PUSH
7716: LD_VAR 0 12
7720: PUSH
7721: LD_VAR 0 15
7725: MINUS
7726: ST_TO_ADDR
// nsci := neng div 3 ;
7727: LD_ADDR_VAR 0 13
7731: PUSH
7732: LD_VAR 0 12
7736: PUSH
7737: LD_INT 3
7739: DIV
7740: ST_TO_ADDR
// if nsci < 1 then
7741: LD_VAR 0 13
7745: PUSH
7746: LD_INT 1
7748: LESS
7749: IFFALSE 7759
// nsci := 1 ;
7751: LD_ADDR_VAR 0 13
7755: PUSH
7756: LD_INT 1
7758: ST_TO_ADDR
// neng := neng - nsci ;
7759: LD_ADDR_VAR 0 12
7763: PUSH
7764: LD_VAR 0 12
7768: PUSH
7769: LD_VAR 0 13
7773: MINUS
7774: ST_TO_ADDR
// nmech := neng div 2 ;
7775: LD_ADDR_VAR 0 14
7779: PUSH
7780: LD_VAR 0 12
7784: PUSH
7785: LD_INT 2
7787: DIV
7788: ST_TO_ADDR
// neng := neng - nmech ;
7789: LD_ADDR_VAR 0 12
7793: PUSH
7794: LD_VAR 0 12
7798: PUSH
7799: LD_VAR 0 14
7803: MINUS
7804: ST_TO_ADDR
// if neng < 1 then
7805: LD_VAR 0 12
7809: PUSH
7810: LD_INT 1
7812: LESS
7813: IFFALSE 7823
// neng := 1 ;
7815: LD_ADDR_VAR 0 12
7819: PUSH
7820: LD_INT 1
7822: ST_TO_ADDR
// prepare_people ( side , nsol , class_soldier , x , y , 5 , commander ) ;
7823: LD_VAR 0 1
7827: PPUSH
7828: LD_VAR 0 15
7832: PPUSH
7833: LD_INT 1
7835: PPUSH
7836: LD_VAR 0 5
7840: PPUSH
7841: LD_VAR 0 6
7845: PPUSH
7846: LD_INT 5
7848: PPUSH
7849: LD_ADDR_EXP 55
7853: PPUSH
7854: CALL 8511 0 7
// prepare_people ( side , neng , class_engineer , x , y , 5 , commander ) ;
7858: LD_VAR 0 1
7862: PPUSH
7863: LD_VAR 0 12
7867: PPUSH
7868: LD_INT 2
7870: PPUSH
7871: LD_VAR 0 5
7875: PPUSH
7876: LD_VAR 0 6
7880: PPUSH
7881: LD_INT 5
7883: PPUSH
7884: LD_ADDR_EXP 55
7888: PPUSH
7889: CALL 8511 0 7
// prepare_people ( side , nmech , class_mechanic , x , y , 5 , commander ) ;
7893: LD_VAR 0 1
7897: PPUSH
7898: LD_VAR 0 14
7902: PPUSH
7903: LD_INT 3
7905: PPUSH
7906: LD_VAR 0 5
7910: PPUSH
7911: LD_VAR 0 6
7915: PPUSH
7916: LD_INT 5
7918: PPUSH
7919: LD_ADDR_EXP 55
7923: PPUSH
7924: CALL 8511 0 7
// prepare_people ( side , nsci , class_scientistic , x , y , 5 , commander ) ;
7928: LD_VAR 0 1
7932: PPUSH
7933: LD_VAR 0 13
7937: PPUSH
7938: LD_INT 4
7940: PPUSH
7941: LD_VAR 0 5
7945: PPUSH
7946: LD_VAR 0 6
7950: PPUSH
7951: LD_INT 5
7953: PPUSH
7954: LD_ADDR_EXP 55
7958: PPUSH
7959: CALL 8511 0 7
// end else
7963: GO 8037
// begin prepare_people ( side , number_of_people - 1 , 0 , x , y , 5 , commander ) ;
7965: LD_VAR 0 1
7969: PPUSH
7970: LD_EXP 40
7974: PUSH
7975: LD_INT 1
7977: MINUS
7978: PPUSH
7979: LD_INT 0
7981: PPUSH
7982: LD_VAR 0 5
7986: PPUSH
7987: LD_VAR 0 6
7991: PPUSH
7992: LD_INT 5
7994: PPUSH
7995: LD_ADDR_EXP 55
7999: PPUSH
8000: CALL 8511 0 7
// prepare_people ( side , 1 , class_engineer , x , y , 5 , commander ) ;
8004: LD_VAR 0 1
8008: PPUSH
8009: LD_INT 1
8011: PPUSH
8012: LD_INT 2
8014: PPUSH
8015: LD_VAR 0 5
8019: PPUSH
8020: LD_VAR 0 6
8024: PPUSH
8025: LD_INT 5
8027: PPUSH
8028: LD_ADDR_EXP 55
8032: PPUSH
8033: CALL 8511 0 7
// end ; if number_of_apemen then
8037: LD_EXP 41
8041: IFFALSE 8399
// begin uc_nation = nation_nature ;
8043: LD_ADDR_OWVAR 21
8047: PUSH
8048: LD_INT 0
8050: ST_TO_ADDR
// prepare_people ( side , number_of_apemen , class_apeman , x , y , 5 , commander ) ;
8051: LD_VAR 0 1
8055: PPUSH
8056: LD_EXP 41
8060: PPUSH
8061: LD_INT 12
8063: PPUSH
8064: LD_VAR 0 5
8068: PPUSH
8069: LD_VAR 0 6
8073: PPUSH
8074: LD_INT 5
8076: PPUSH
8077: LD_ADDR_EXP 55
8081: PPUSH
8082: CALL 8511 0 7
// uc_nation = nation ;
8086: LD_ADDR_OWVAR 21
8090: PUSH
8091: LD_VAR 0 3
8095: ST_TO_ADDR
// case nation of 1 :
8096: LD_VAR 0 3
8100: PUSH
8101: LD_INT 1
8103: DOUBLE
8104: EQUAL
8105: IFTRUE 8109
8107: GO 8178
8109: POP
// begin if GetTech ( tech_ApeLang , side ) = state_enabled then
8110: LD_INT 1
8112: PPUSH
8113: LD_VAR 0 1
8117: PPUSH
8118: CALL_OW 321
8122: PUSH
8123: LD_INT 1
8125: EQUAL
8126: IFFALSE 8143
// SetTech ( tech_ApeLang , side , state_researched ) ;
8128: LD_INT 1
8130: PPUSH
8131: LD_VAR 0 1
8135: PPUSH
8136: LD_INT 2
8138: PPUSH
8139: CALL_OW 322
// if GetTech ( tech_ApePsych , side ) = state_enabled then
8143: LD_INT 2
8145: PPUSH
8146: LD_VAR 0 1
8150: PPUSH
8151: CALL_OW 321
8155: PUSH
8156: LD_INT 1
8158: EQUAL
8159: IFFALSE 8176
// SetTech ( tech_ApePsych , side , state_researched ) ;
8161: LD_INT 2
8163: PPUSH
8164: LD_VAR 0 1
8168: PPUSH
8169: LD_INT 2
8171: PPUSH
8172: CALL_OW 322
// end ; 2 :
8176: GO 8399
8178: LD_INT 2
8180: DOUBLE
8181: EQUAL
8182: IFTRUE 8186
8184: GO 8288
8186: POP
// begin if GetTech ( tech_ApeLang , side ) = state_enabled then
8187: LD_INT 1
8189: PPUSH
8190: LD_VAR 0 1
8194: PPUSH
8195: CALL_OW 321
8199: PUSH
8200: LD_INT 1
8202: EQUAL
8203: IFFALSE 8220
// SetTech ( tech_ApeLang , side , state_researched ) ;
8205: LD_INT 1
8207: PPUSH
8208: LD_VAR 0 1
8212: PPUSH
8213: LD_INT 2
8215: PPUSH
8216: CALL_OW 322
// if GetTech ( tech_ApeAgres , side ) = state_enabled then
8220: LD_INT 11
8222: PPUSH
8223: LD_VAR 0 1
8227: PPUSH
8228: CALL_OW 321
8232: PUSH
8233: LD_INT 1
8235: EQUAL
8236: IFFALSE 8253
// SetTech ( tech_ApeAgres , side , state_researched ) ;
8238: LD_INT 11
8240: PPUSH
8241: LD_VAR 0 1
8245: PPUSH
8246: LD_INT 2
8248: PPUSH
8249: CALL_OW 322
// if GetTech ( tech_ApeNeural , side ) = state_enabled then
8253: LD_INT 3
8255: PPUSH
8256: LD_VAR 0 1
8260: PPUSH
8261: CALL_OW 321
8265: PUSH
8266: LD_INT 1
8268: EQUAL
8269: IFFALSE 8286
// SetTech ( tech_ApeNeural , side , state_researched ) ;
8271: LD_INT 3
8273: PPUSH
8274: LD_VAR 0 1
8278: PPUSH
8279: LD_INT 2
8281: PPUSH
8282: CALL_OW 322
// end ; 3 :
8286: GO 8399
8288: LD_INT 3
8290: DOUBLE
8291: EQUAL
8292: IFTRUE 8296
8294: GO 8398
8296: POP
// begin if GetTech ( tech_ApeLang , side ) = state_enabled then
8297: LD_INT 1
8299: PPUSH
8300: LD_VAR 0 1
8304: PPUSH
8305: CALL_OW 321
8309: PUSH
8310: LD_INT 1
8312: EQUAL
8313: IFFALSE 8330
// SetTech ( tech_ApeLang , side , state_researched ) ;
8315: LD_INT 1
8317: PPUSH
8318: LD_VAR 0 1
8322: PPUSH
8323: LD_INT 2
8325: PPUSH
8326: CALL_OW 322
// if GetTech ( tech_ApePsych , side ) = state_enabled then
8330: LD_INT 2
8332: PPUSH
8333: LD_VAR 0 1
8337: PPUSH
8338: CALL_OW 321
8342: PUSH
8343: LD_INT 1
8345: EQUAL
8346: IFFALSE 8363
// SetTech ( tech_ApePsych , side , state_researched ) ;
8348: LD_INT 2
8350: PPUSH
8351: LD_VAR 0 1
8355: PPUSH
8356: LD_INT 2
8358: PPUSH
8359: CALL_OW 322
// if GetTech ( tech_ApeAgres , side ) = state_enabled then
8363: LD_INT 11
8365: PPUSH
8366: LD_VAR 0 1
8370: PPUSH
8371: CALL_OW 321
8375: PUSH
8376: LD_INT 1
8378: EQUAL
8379: IFFALSE 8396
// SetTech ( tech_ApeAgres , side , state_researched ) ;
8381: LD_INT 11
8383: PPUSH
8384: LD_VAR 0 1
8388: PPUSH
8389: LD_INT 2
8391: PPUSH
8392: CALL_OW 322
// end ; end ;
8396: GO 8399
8398: POP
// end ; if def_desert_warior = 2 and nation = nation_arabian then
8399: LD_EXP 31
8403: PUSH
8404: LD_INT 2
8406: EQUAL
8407: PUSH
8408: LD_VAR 0 3
8412: PUSH
8413: LD_INT 2
8415: EQUAL
8416: AND
8417: IFFALSE 8452
// prepare_people ( side , 1 , class_desert_warior , x , y , 5 , commander ) ;
8419: LD_VAR 0 1
8423: PPUSH
8424: LD_INT 1
8426: PPUSH
8427: LD_INT 11
8429: PPUSH
8430: LD_VAR 0 5
8434: PPUSH
8435: LD_VAR 0 6
8439: PPUSH
8440: LD_INT 5
8442: PPUSH
8443: LD_ADDR_EXP 55
8447: PPUSH
8448: CALL 8511 0 7
// if not global_defined then
8452: LD_EXP 94
8456: NOT
8457: IFFALSE 8467
// global_defined := true ;
8459: LD_ADDR_EXP 94
8463: PUSH
8464: LD_INT 1
8466: ST_TO_ADDR
// if def_siberite_detection and GetTech ( tech_sibdet , side ) = state_enabled then
8467: LD_EXP 28
8471: PUSH
8472: LD_INT 20
8474: PPUSH
8475: LD_VAR 0 1
8479: PPUSH
8480: CALL_OW 321
8484: PUSH
8485: LD_INT 1
8487: EQUAL
8488: AND
8489: IFFALSE 8506
// SetTech ( tech_SibDet , side , state_researched ) ;
8491: LD_INT 20
8493: PPUSH
8494: LD_VAR 0 1
8498: PPUSH
8499: LD_INT 2
8501: PPUSH
8502: CALL_OW 322
// end ;
8506: LD_VAR 0 4
8510: RET
// export function prepare_people ( side , count , pre_cl , x , y , r , var commander ) ; var i , j , un , cl ; begin
8511: LD_INT 0
8513: PPUSH
8514: PPUSH
8515: PPUSH
8516: PPUSH
8517: PPUSH
// for i := 1 to count do
8518: LD_ADDR_VAR 0 9
8522: PUSH
8523: DOUBLE
8524: LD_INT 1
8526: DEC
8527: ST_TO_ADDR
8528: LD_VAR 0 2
8532: PUSH
8533: FOR_TO
8534: IFFALSE 9138
// begin global_count = global_count + 1 ;
8536: LD_ADDR_EXP 96
8540: PUSH
8541: LD_EXP 96
8545: PUSH
8546: LD_INT 1
8548: PLUS
8549: ST_TO_ADDR
// if not def_classes and global_count <= global_classes then
8550: LD_EXP 14
8554: NOT
8555: PUSH
8556: LD_EXP 96
8560: PUSH
8561: LD_EXP 97
8565: LESSEQUAL
8566: AND
8567: IFFALSE 8587
// cl = global_classes [ global_count ] else
8569: LD_ADDR_VAR 0 12
8573: PUSH
8574: LD_EXP 97
8578: PUSH
8579: LD_EXP 96
8583: ARRAY
8584: ST_TO_ADDR
8585: GO 8625
// if pre_cl = 0 then
8587: LD_VAR 0 3
8591: PUSH
8592: LD_INT 0
8594: EQUAL
8595: IFFALSE 8615
// cl = rand ( 1 , 4 ) else
8597: LD_ADDR_VAR 0 12
8601: PUSH
8602: LD_INT 1
8604: PPUSH
8605: LD_INT 4
8607: PPUSH
8608: CALL_OW 12
8612: ST_TO_ADDR
8613: GO 8625
// cl = pre_cl ;
8615: LD_ADDR_VAR 0 12
8619: PUSH
8620: LD_VAR 0 3
8624: ST_TO_ADDR
// uc_direction := Rand ( 0 , 5 ) ;
8625: LD_ADDR_OWVAR 24
8629: PUSH
8630: LD_INT 0
8632: PPUSH
8633: LD_INT 5
8635: PPUSH
8636: CALL_OW 12
8640: ST_TO_ADDR
// if commander then
8641: LD_FROM_VAR 0 7
8645: IFFALSE 8774
// begin hc_name := mp_sides_players_names [ side ] ;
8647: LD_ADDR_OWVAR 26
8651: PUSH
8652: LD_OWVAR 19
8656: PUSH
8657: LD_VAR 0 1
8661: ARRAY
8662: ST_TO_ADDR
// PrepareHuman ( Rand ( 1 , 2 ) , cl , initial_level + 2 ) ;
8663: LD_INT 1
8665: PPUSH
8666: LD_INT 2
8668: PPUSH
8669: CALL_OW 12
8673: PPUSH
8674: LD_VAR 0 12
8678: PPUSH
8679: LD_EXP 42
8683: PUSH
8684: LD_INT 2
8686: PLUS
8687: PPUSH
8688: CALL_OW 380
// if def_desert_warior = 1 and uc_nation = nation_arabian then
8692: LD_EXP 31
8696: PUSH
8697: LD_INT 1
8699: EQUAL
8700: PUSH
8701: LD_OWVAR 21
8705: PUSH
8706: LD_INT 2
8708: EQUAL
8709: AND
8710: IFFALSE 8720
// hc_class = class_desert_warior ;
8712: LD_ADDR_OWVAR 28
8716: PUSH
8717: LD_INT 11
8719: ST_TO_ADDR
// hc_importance := 105 ;
8720: LD_ADDR_OWVAR 32
8724: PUSH
8725: LD_INT 105
8727: ST_TO_ADDR
// if Multiplayer then
8728: LD_OWVAR 4
8732: IFFALSE 8772
// begin hc_gallery := MULTIAVATARS ;
8734: LD_ADDR_OWVAR 33
8738: PUSH
8739: LD_STRING MULTIAVATARS
8741: ST_TO_ADDR
// hc_face_number := Multiplayer_GetPlayerSideNum ( Side ) ;
8742: LD_ADDR_OWVAR 34
8746: PUSH
8747: LD_VAR 0 1
8751: PPUSH
8752: CALL_OW 525
8756: ST_TO_ADDR
// hc_sex := Multiplayer_GetPlayerSex ( Side ) ;
8757: LD_ADDR_OWVAR 27
8761: PUSH
8762: LD_VAR 0 1
8766: PPUSH
8767: CALL_OW 526
8771: ST_TO_ADDR
// end ; end else
8772: GO 8880
// begin hc_name :=  ;
8774: LD_ADDR_OWVAR 26
8778: PUSH
8779: LD_STRING 
8781: ST_TO_ADDR
// if cl = class_desert_warior then
8782: LD_VAR 0 12
8786: PUSH
8787: LD_INT 11
8789: EQUAL
8790: IFFALSE 8825
// begin PrepareHuman ( rand ( 1 , 2 ) , class_soldier , initial_level ) ;
8792: LD_INT 1
8794: PPUSH
8795: LD_INT 2
8797: PPUSH
8798: CALL_OW 12
8802: PPUSH
8803: LD_INT 1
8805: PPUSH
8806: LD_EXP 42
8810: PPUSH
8811: CALL_OW 380
// hc_class = class_desert_warior end else
8815: LD_ADDR_OWVAR 28
8819: PUSH
8820: LD_INT 11
8822: ST_TO_ADDR
8823: GO 8850
// PrepareHuman ( rand ( 1 , 2 ) , cl , initial_level ) ;
8825: LD_INT 1
8827: PPUSH
8828: LD_INT 2
8830: PPUSH
8831: CALL_OW 12
8835: PPUSH
8836: LD_VAR 0 12
8840: PPUSH
8841: LD_EXP 42
8845: PPUSH
8846: CALL_OW 380
// hc_importance := 0 ;
8850: LD_ADDR_OWVAR 32
8854: PUSH
8855: LD_INT 0
8857: ST_TO_ADDR
// if Multiplayer then
8858: LD_OWVAR 4
8862: IFFALSE 8880
// begin hc_gallery :=  ;
8864: LD_ADDR_OWVAR 33
8868: PUSH
8869: LD_STRING 
8871: ST_TO_ADDR
// hc_face_number := 0 ;
8872: LD_ADDR_OWVAR 34
8876: PUSH
8877: LD_INT 0
8879: ST_TO_ADDR
// end ; end ; if hc_class = class_desert_warior then
8880: LD_OWVAR 28
8884: PUSH
8885: LD_INT 11
8887: EQUAL
8888: IFFALSE 8898
// hc_importance := 100 ;
8890: LD_ADDR_OWVAR 32
8894: PUSH
8895: LD_INT 100
8897: ST_TO_ADDR
// un := CreateHuman ;
8898: LD_ADDR_VAR 0 11
8902: PUSH
8903: CALL_OW 44
8907: ST_TO_ADDR
// if global_count <= global_units then
8908: LD_EXP 96
8912: PUSH
8913: LD_EXP 93
8917: LESSEQUAL
8918: IFFALSE 9002
// begin CopySkills ( global_units [ global_count ] , un ) ;
8920: LD_EXP 93
8924: PUSH
8925: LD_EXP 96
8929: ARRAY
8930: PPUSH
8931: LD_VAR 0 11
8935: PPUSH
8936: CALL_OW 510
// SetAttr ( un , attr_speed , GetAttr ( global_units [ global_count ] , attr_speed ) ) ;
8940: LD_VAR 0 11
8944: PPUSH
8945: LD_INT 2
8947: PPUSH
8948: LD_EXP 93
8952: PUSH
8953: LD_EXP 96
8957: ARRAY
8958: PPUSH
8959: LD_INT 2
8961: PPUSH
8962: CALL_OW 260
8966: PPUSH
8967: CALL_OW 239
// SetAttr ( un , attr_stamina , GetAttr ( global_units [ global_count ] , attr_stamina ) ) ;
8971: LD_VAR 0 11
8975: PPUSH
8976: LD_INT 1
8978: PPUSH
8979: LD_EXP 93
8983: PUSH
8984: LD_EXP 96
8988: ARRAY
8989: PPUSH
8990: LD_INT 1
8992: PPUSH
8993: CALL_OW 260
8997: PPUSH
8998: CALL_OW 239
// end ; PlaceUnitXYR ( un , x , y , r , false ) ;
9002: LD_VAR 0 11
9006: PPUSH
9007: LD_VAR 0 4
9011: PPUSH
9012: LD_VAR 0 5
9016: PPUSH
9017: LD_VAR 0 6
9021: PPUSH
9022: LD_INT 0
9024: PPUSH
9025: CALL_OW 50
// if global_classes < global_count then
9029: LD_EXP 97
9033: PUSH
9034: LD_EXP 96
9038: LESS
9039: IFFALSE 9057
// global_classes = global_classes ^ cl ;
9041: LD_ADDR_EXP 97
9045: PUSH
9046: LD_EXP 97
9050: PUSH
9051: LD_VAR 0 12
9055: ADD
9056: ST_TO_ADDR
// if global_units < global_count then
9057: LD_EXP 93
9061: PUSH
9062: LD_EXP 96
9066: LESS
9067: IFFALSE 9085
// global_units = global_units ^ un ;
9069: LD_ADDR_EXP 93
9073: PUSH
9074: LD_EXP 93
9078: PUSH
9079: LD_VAR 0 11
9083: ADD
9084: ST_TO_ADDR
// if commander then
9085: LD_FROM_VAR 0 7
9089: IFFALSE 9136
// begin heroes = replace ( heroes , side , heroes [ side ] ^ un ) ;
9091: LD_ADDR_EXP 50
9095: PUSH
9096: LD_EXP 50
9100: PPUSH
9101: LD_VAR 0 1
9105: PPUSH
9106: LD_EXP 50
9110: PUSH
9111: LD_VAR 0 1
9115: ARRAY
9116: PUSH
9117: LD_VAR 0 11
9121: ADD
9122: PPUSH
9123: CALL_OW 1
9127: ST_TO_ADDR
// commander := false ;
9128: LD_VAR 0 7
9132: PUSH
9133: LD_INT 0
9135: ST_TO_ADDR
// end ; end ;
9136: GO 8533
9138: POP
9139: POP
// end ;
9140: LD_VAR 0 8
9144: RET
// export function mastodonti ; var i , c , k ; begin
9145: LD_INT 0
9147: PPUSH
9148: PPUSH
9149: PPUSH
9150: PPUSH
// if def_desert_warior then
9151: LD_EXP 31
9155: IFFALSE 9220
// begin c = FilterAllUnits ( [ [ f_class , class_desert_warior ] ] ) ;
9157: LD_ADDR_VAR 0 3
9161: PUSH
9162: LD_INT 25
9164: PUSH
9165: LD_INT 11
9167: PUSH
9168: EMPTY
9169: LIST
9170: LIST
9171: PUSH
9172: EMPTY
9173: LIST
9174: PPUSH
9175: CALL_OW 69
9179: ST_TO_ADDR
// if c then
9180: LD_VAR 0 3
9184: IFFALSE 9216
// for c = 1 to c + 0 do
9186: LD_ADDR_VAR 0 3
9190: PUSH
9191: DOUBLE
9192: LD_INT 1
9194: DEC
9195: ST_TO_ADDR
9196: LD_VAR 0 3
9200: PUSH
9201: LD_INT 0
9203: PLUS
9204: PUSH
9205: FOR_TO
9206: IFFALSE 9214
// begin comms_mastodont ;
9208: CALL 9225 0 0
// end ;
9212: GO 9205
9214: POP
9215: POP
// comms_mastodont ;
9216: CALL 9225 0 0
// end ; end ;
9220: LD_VAR 0 1
9224: RET
// export function comms_mastodont ; var un ; begin
9225: LD_INT 0
9227: PPUSH
9228: PPUSH
// uc_nation := 0 ;
9229: LD_ADDR_OWVAR 21
9233: PUSH
9234: LD_INT 0
9236: ST_TO_ADDR
// uc_side := nation_nature ;
9237: LD_ADDR_OWVAR 20
9241: PUSH
9242: LD_INT 0
9244: ST_TO_ADDR
// vc_chassis = 31 ;
9245: LD_ADDR_OWVAR 37
9249: PUSH
9250: LD_INT 31
9252: ST_TO_ADDR
// un := createvehicle ;
9253: LD_ADDR_VAR 0 2
9257: PUSH
9258: CALL_OW 45
9262: ST_TO_ADDR
// PlaceUnitArea ( un , stred , false ) ;
9263: LD_VAR 0 2
9267: PPUSH
9268: LD_INT 30
9270: PPUSH
9271: LD_INT 0
9273: PPUSH
9274: CALL_OW 49
// end ;
9278: LD_VAR 0 1
9282: RET
// every 0 0$1 marked 31 do var i ;
9283: GO 9285
9285: DISABLE
9286: LD_INT 0
9288: PPUSH
// begin if not tech_level = 8 then
9289: LD_EXP 56
9293: PUSH
9294: LD_INT 8
9296: EQUAL
9297: NOT
9298: IFFALSE 9302
// exit ;
9300: GO 9321
// if siberite_bomb_delay then
9302: LD_EXP 67
9306: IFFALSE 9317
// wait ( siberite_bomb_Delay ) ;
9308: LD_EXP 67
9312: PPUSH
9313: CALL_OW 67
// EnableSibFiss ;
9317: CALL 9324 0 0
// end ;
9321: PPOPN 1
9323: END
// function EnableSibFiss ( ) ; var side , narodnost ; begin
9324: LD_INT 0
9326: PPUSH
9327: PPUSH
9328: PPUSH
// for side = 1 to side_positions + 0 do
9329: LD_ADDR_VAR 0 2
9333: PUSH
9334: DOUBLE
9335: LD_INT 1
9337: DEC
9338: ST_TO_ADDR
9339: LD_EXP 75
9343: PUSH
9344: LD_INT 0
9346: PLUS
9347: PUSH
9348: FOR_TO
9349: IFFALSE 9449
// begin narodnost := Side_Nations [ side ] ;
9351: LD_ADDR_VAR 0 3
9355: PUSH
9356: LD_EXP 76
9360: PUSH
9361: LD_VAR 0 2
9365: ARRAY
9366: ST_TO_ADDR
// case narodnost of 1 , 3 :
9367: LD_VAR 0 3
9371: PUSH
9372: LD_INT 1
9374: DOUBLE
9375: EQUAL
9376: IFTRUE 9386
9378: LD_INT 3
9380: DOUBLE
9381: EQUAL
9382: IFTRUE 9386
9384: GO 9412
9386: POP
// SetTech ( 25 , side , GetRestrictions ( false , 25 ) ) ; 2 :
9387: LD_INT 25
9389: PPUSH
9390: LD_VAR 0 2
9394: PPUSH
9395: LD_INT 0
9397: PPUSH
9398: LD_INT 25
9400: PPUSH
9401: CALL_OW 565
9405: PPUSH
9406: CALL_OW 322
9410: GO 9447
9412: LD_INT 2
9414: DOUBLE
9415: EQUAL
9416: IFTRUE 9420
9418: GO 9446
9420: POP
// SetTech ( 73 , side , GetRestrictions ( false , 73 ) ) ; end ;
9421: LD_INT 73
9423: PPUSH
9424: LD_VAR 0 2
9428: PPUSH
9429: LD_INT 0
9431: PPUSH
9432: LD_INT 73
9434: PPUSH
9435: CALL_OW 565
9439: PPUSH
9440: CALL_OW 322
9444: GO 9447
9446: POP
// end ;
9447: GO 9348
9449: POP
9450: POP
// Tech_Level = 8 ;
9451: LD_ADDR_EXP 56
9455: PUSH
9456: LD_INT 8
9458: ST_TO_ADDR
// end ;
9459: LD_VAR 0 1
9463: RET
// export function Start_Zvirata ; begin
9464: LD_INT 0
9466: PPUSH
// if def_amount_of_apemen > 0 then
9467: LD_EXP 22
9471: PUSH
9472: LD_INT 0
9474: GREATER
9475: IFFALSE 9484
// begin StartApe ;
9477: CALL 15073 0 0
// enable ( 493 ) ;
9481: LD_INT 493
9483: ENABLE_MARKED
// end ; if def_amount_of_tiger > 0 then
9484: LD_EXP 23
9488: PUSH
9489: LD_INT 0
9491: GREATER
9492: IFFALSE 9501
// begin StartTig ;
9494: CALL 15823 0 0
// enable ( 494 ) ;
9498: LD_INT 494
9500: ENABLE_MARKED
// end ; end ;
9501: LD_VAR 0 1
9505: RET
// export function Disable_Standard_Games ; begin
9506: LD_INT 0
9508: PPUSH
// disable ( 2 ) ;
9509: LD_INT 2
9511: DISABLE_MARKED
// disable ( 3 ) ;
9512: LD_INT 3
9514: DISABLE_MARKED
// disable ( 4 ) ;
9515: LD_INT 4
9517: DISABLE_MARKED
// disable ( 30 ) ;
9518: LD_INT 30
9520: DISABLE_MARKED
// disable ( 31 ) ;
9521: LD_INT 31
9523: DISABLE_MARKED
// disable ( 60 ) ;
9524: LD_INT 60
9526: DISABLE_MARKED
// disable ( 98 ) ;
9527: LD_INT 98
9529: DISABLE_MARKED
// disable ( 99 ) ;
9530: LD_INT 99
9532: DISABLE_MARKED
// disable ( 100 ) ;
9533: LD_INT 100
9535: DISABLE_MARKED
// disable ( 400 ) ;
9536: LD_INT 400
9538: DISABLE_MARKED
// disable ( 401 ) ;
9539: LD_INT 401
9541: DISABLE_MARKED
// disable ( 493 ) ;
9542: LD_INT 493
9544: DISABLE_MARKED
// disable ( 494 ) ;
9545: LD_INT 494
9547: DISABLE_MARKED
// disable ( 600 ) end ; end_of_file
9548: LD_INT 600
9550: DISABLE_MARKED
9551: LD_VAR 0 1
9555: RET
// export oblasti_beden , start_oblasti_beden , dalsi_oblasti_beden , koof_bedny ; var kontrolni_pocet ; every 1 1$0 + 0 0$1 do
9556: GO 9558
9558: DISABLE
// begin if game_type = GT_Survival then
9559: LD_EXP 1
9563: PUSH
9564: LD_EXP 6
9568: EQUAL
9569: IFFALSE 9573
// exit ;
9571: GO 9592
// CreateCratesAnywhere ( Rand ( 1 , 2 ) , true ) ;
9573: LD_INT 1
9575: PPUSH
9576: LD_INT 2
9578: PPUSH
9579: CALL_OW 12
9583: PPUSH
9584: LD_INT 1
9586: PPUSH
9587: CALL_OW 57
// enable ;
9591: ENABLE
// end ;
9592: END
// every 0 0$20 do var i , d , shipment , tictac , k , p ;
9593: GO 9595
9595: DISABLE
9596: LD_INT 0
9598: PPUSH
9599: PPUSH
9600: PPUSH
9601: PPUSH
9602: PPUSH
9603: PPUSH
// begin if game_type in GT_Survival then
9604: LD_EXP 1
9608: PUSH
9609: LD_EXP 6
9613: IN
9614: IFFALSE 9618
// exit ;
9616: GO 10514
// shipment := Rand ( 0 , 3 ) ;
9618: LD_ADDR_VAR 0 3
9622: PUSH
9623: LD_INT 0
9625: PPUSH
9626: LD_INT 3
9628: PPUSH
9629: CALL_OW 12
9633: ST_TO_ADDR
// tictac := 0 ;
9634: LD_ADDR_VAR 0 4
9638: PUSH
9639: LD_INT 0
9641: ST_TO_ADDR
// case tick of 1 .. 2 2$0 :
9642: LD_OWVAR 1
9646: PUSH
9647: LD_INT 1
9649: DOUBLE
9650: GREATEREQUAL
9651: IFFALSE 9659
9653: LD_INT 4200
9655: DOUBLE
9656: LESSEQUAL
9657: IFTRUE 9661
9659: GO 9672
9661: POP
// d := 150 ; 2 2$0 + 1 .. 4 4$0 :
9662: LD_ADDR_VAR 0 2
9666: PUSH
9667: LD_INT 150
9669: ST_TO_ADDR
9670: GO 9855
9672: LD_INT 4200
9674: PUSH
9675: LD_INT 1
9677: PLUS
9678: DOUBLE
9679: GREATEREQUAL
9680: IFFALSE 9688
9682: LD_INT 8400
9684: DOUBLE
9685: LESSEQUAL
9686: IFTRUE 9690
9688: GO 9701
9690: POP
// d := 120 ; 4 4$0 + 1 .. 6 6$0 :
9691: LD_ADDR_VAR 0 2
9695: PUSH
9696: LD_INT 120
9698: ST_TO_ADDR
9699: GO 9855
9701: LD_INT 8400
9703: PUSH
9704: LD_INT 1
9706: PLUS
9707: DOUBLE
9708: GREATEREQUAL
9709: IFFALSE 9717
9711: LD_INT 12600
9713: DOUBLE
9714: LESSEQUAL
9715: IFTRUE 9719
9717: GO 9730
9719: POP
// d := 100 ; 6 6$0 + 1 .. 7 7$0 :
9720: LD_ADDR_VAR 0 2
9724: PUSH
9725: LD_INT 100
9727: ST_TO_ADDR
9728: GO 9855
9730: LD_INT 12600
9732: PUSH
9733: LD_INT 1
9735: PLUS
9736: DOUBLE
9737: GREATEREQUAL
9738: IFFALSE 9746
9740: LD_INT 14700
9742: DOUBLE
9743: LESSEQUAL
9744: IFTRUE 9748
9746: GO 9759
9748: POP
// d := 80 ; 7 7$0 + 1 .. 9 9$0 :
9749: LD_ADDR_VAR 0 2
9753: PUSH
9754: LD_INT 80
9756: ST_TO_ADDR
9757: GO 9855
9759: LD_INT 14700
9761: PUSH
9762: LD_INT 1
9764: PLUS
9765: DOUBLE
9766: GREATEREQUAL
9767: IFFALSE 9775
9769: LD_INT 18900
9771: DOUBLE
9772: LESSEQUAL
9773: IFTRUE 9777
9775: GO 9788
9777: POP
// d := 70 ; 9 9$0 + 1 .. 15 15$0 :
9778: LD_ADDR_VAR 0 2
9782: PUSH
9783: LD_INT 70
9785: ST_TO_ADDR
9786: GO 9855
9788: LD_INT 18900
9790: PUSH
9791: LD_INT 1
9793: PLUS
9794: DOUBLE
9795: GREATEREQUAL
9796: IFFALSE 9804
9798: LD_INT 31500
9800: DOUBLE
9801: LESSEQUAL
9802: IFTRUE 9806
9804: GO 9817
9806: POP
// d := 45 ; 15 15$0 + 1 .. 30 30$0 :
9807: LD_ADDR_VAR 0 2
9811: PUSH
9812: LD_INT 45
9814: ST_TO_ADDR
9815: GO 9855
9817: LD_INT 31500
9819: PUSH
9820: LD_INT 1
9822: PLUS
9823: DOUBLE
9824: GREATEREQUAL
9825: IFFALSE 9833
9827: LD_INT 63000
9829: DOUBLE
9830: LESSEQUAL
9831: IFTRUE 9835
9833: GO 9846
9835: POP
// d := 30 ; else
9836: LD_ADDR_VAR 0 2
9840: PUSH
9841: LD_INT 30
9843: ST_TO_ADDR
9844: GO 9855
9846: POP
// d := 20 ; end ;
9847: LD_ADDR_VAR 0 2
9851: PUSH
9852: LD_INT 20
9854: ST_TO_ADDR
// if GetResourceArea ( celamapa , mat_cans ) < ( 100 + shipments_density * koof_bedny ) then
9855: LD_INT 32
9857: PPUSH
9858: LD_INT 1
9860: PPUSH
9861: CALL_OW 287
9865: PUSH
9866: LD_INT 100
9868: PUSH
9869: LD_EXP 45
9873: PUSH
9874: LD_EXP 101
9878: MUL
9879: PLUS
9880: LESS
9881: IFFALSE 10513
// if rand ( 1 , 10000 ) <= d * shipments_density then
9883: LD_INT 1
9885: PPUSH
9886: LD_INT 10000
9888: PPUSH
9889: CALL_OW 12
9893: PUSH
9894: LD_VAR 0 2
9898: PUSH
9899: LD_EXP 45
9903: MUL
9904: LESSEQUAL
9905: IFFALSE 10149
// begin k = Rand ( 2 , 4 ) ;
9907: LD_ADDR_VAR 0 5
9911: PUSH
9912: LD_INT 2
9914: PPUSH
9915: LD_INT 4
9917: PPUSH
9918: CALL_OW 12
9922: ST_TO_ADDR
// if start_oblasti_beden then
9923: LD_EXP 99
9927: IFFALSE 10028
// begin for i := 1 to 8 do
9929: LD_ADDR_VAR 0 1
9933: PUSH
9934: DOUBLE
9935: LD_INT 1
9937: DEC
9938: ST_TO_ADDR
9939: LD_INT 8
9941: PUSH
9942: FOR_TO
9943: IFFALSE 10024
// if side_positions [ i ] <> 0 then
9945: LD_EXP 75
9949: PUSH
9950: LD_VAR 0 1
9954: ARRAY
9955: PUSH
9956: LD_INT 0
9958: NONEQUAL
9959: IFFALSE 10022
// for p in pozice_beden [ i ] do
9961: LD_ADDR_VAR 0 6
9965: PUSH
9966: LD_EXP 8
9970: PUSH
9971: LD_VAR 0 1
9975: ARRAY
9976: PUSH
9977: FOR_IN
9978: IFFALSE 10020
// begin CreateCratesArea ( k , start_oblasti_beden [ p ] , true ) ;
9980: LD_VAR 0 5
9984: PPUSH
9985: LD_EXP 99
9989: PUSH
9990: LD_VAR 0 6
9994: ARRAY
9995: PPUSH
9996: LD_INT 1
9998: PPUSH
9999: CALL_OW 55
// Wait ( rand ( 2 , 0 0$2 ) ) ;
10003: LD_INT 2
10005: PPUSH
10006: LD_INT 70
10008: PPUSH
10009: CALL_OW 12
10013: PPUSH
10014: CALL_OW 67
// end ;
10018: GO 9977
10020: POP
10021: POP
10022: GO 9942
10024: POP
10025: POP
// end else
10026: GO 10147
// begin for i := 1 to 8 do
10028: LD_ADDR_VAR 0 1
10032: PUSH
10033: DOUBLE
10034: LD_INT 1
10036: DEC
10037: ST_TO_ADDR
10038: LD_INT 8
10040: PUSH
10041: FOR_TO
10042: IFFALSE 10145
// if side_positions [ i ] <> 0 then
10044: LD_EXP 75
10048: PUSH
10049: LD_VAR 0 1
10053: ARRAY
10054: PUSH
10055: LD_INT 0
10057: NONEQUAL
10058: IFFALSE 10143
// for p in pozice_beden [ i ] do
10060: LD_ADDR_VAR 0 6
10064: PUSH
10065: LD_EXP 8
10069: PUSH
10070: LD_VAR 0 1
10074: ARRAY
10075: PUSH
10076: FOR_IN
10077: IFFALSE 10141
// begin CreateCratesXYR ( k , start_def [ p ] [ 1 ] , start_def [ p ] [ 2 ] , 20 , true ) ;
10079: LD_VAR 0 5
10083: PPUSH
10084: LD_EXP 83
10088: PUSH
10089: LD_VAR 0 6
10093: ARRAY
10094: PUSH
10095: LD_INT 1
10097: ARRAY
10098: PPUSH
10099: LD_EXP 83
10103: PUSH
10104: LD_VAR 0 6
10108: ARRAY
10109: PUSH
10110: LD_INT 2
10112: ARRAY
10113: PPUSH
10114: LD_INT 20
10116: PPUSH
10117: LD_INT 1
10119: PPUSH
10120: CALL_OW 56
// wait ( rand ( 2 , 0 0$2 ) ) ;
10124: LD_INT 2
10126: PPUSH
10127: LD_INT 70
10129: PPUSH
10130: CALL_OW 12
10134: PPUSH
10135: CALL_OW 67
// end ;
10139: GO 10076
10141: POP
10142: POP
10143: GO 10041
10145: POP
10146: POP
// end ; end else
10147: GO 10513
// if rand ( 1 , 10000 ) <= ( 150 - d ) * shipments_density then
10149: LD_INT 1
10151: PPUSH
10152: LD_INT 10000
10154: PPUSH
10155: CALL_OW 12
10159: PUSH
10160: LD_INT 150
10162: PUSH
10163: LD_VAR 0 2
10167: MINUS
10168: PUSH
10169: LD_EXP 45
10173: MUL
10174: LESSEQUAL
10175: IFFALSE 10513
// begin k := Rand ( 1 , 4 ) ;
10177: LD_ADDR_VAR 0 5
10181: PUSH
10182: LD_INT 1
10184: PPUSH
10185: LD_INT 4
10187: PPUSH
10188: CALL_OW 12
10192: ST_TO_ADDR
// wait ( rand ( 2 , 0 0$4 ) ) ;
10193: LD_INT 2
10195: PPUSH
10196: LD_INT 140
10198: PPUSH
10199: CALL_OW 12
10203: PPUSH
10204: CALL_OW 67
// if oblasti_beden then
10208: LD_EXP 98
10212: IFFALSE 10313
// begin for i := 1 to 8 do
10214: LD_ADDR_VAR 0 1
10218: PUSH
10219: DOUBLE
10220: LD_INT 1
10222: DEC
10223: ST_TO_ADDR
10224: LD_INT 8
10226: PUSH
10227: FOR_TO
10228: IFFALSE 10309
// if side_positions [ i ] <> 0 then
10230: LD_EXP 75
10234: PUSH
10235: LD_VAR 0 1
10239: ARRAY
10240: PUSH
10241: LD_INT 0
10243: NONEQUAL
10244: IFFALSE 10307
// for p in pozice_beden [ i ] do
10246: LD_ADDR_VAR 0 6
10250: PUSH
10251: LD_EXP 8
10255: PUSH
10256: LD_VAR 0 1
10260: ARRAY
10261: PUSH
10262: FOR_IN
10263: IFFALSE 10305
// begin CreateCratesArea ( k , oblasti_beden [ p ] , true ) ;
10265: LD_VAR 0 5
10269: PPUSH
10270: LD_EXP 98
10274: PUSH
10275: LD_VAR 0 6
10279: ARRAY
10280: PPUSH
10281: LD_INT 1
10283: PPUSH
10284: CALL_OW 55
// Wait ( rand ( 2 , 0 0$1 ) ) ;
10288: LD_INT 2
10290: PPUSH
10291: LD_INT 35
10293: PPUSH
10294: CALL_OW 12
10298: PPUSH
10299: CALL_OW 67
// end ;
10303: GO 10262
10305: POP
10306: POP
10307: GO 10227
10309: POP
10310: POP
// end else
10311: GO 10432
// begin for i := 1 to 8 do
10313: LD_ADDR_VAR 0 1
10317: PUSH
10318: DOUBLE
10319: LD_INT 1
10321: DEC
10322: ST_TO_ADDR
10323: LD_INT 8
10325: PUSH
10326: FOR_TO
10327: IFFALSE 10430
// if side_positions [ i ] <> 0 then
10329: LD_EXP 75
10333: PUSH
10334: LD_VAR 0 1
10338: ARRAY
10339: PUSH
10340: LD_INT 0
10342: NONEQUAL
10343: IFFALSE 10428
// for p in pozice_beden [ i ] do
10345: LD_ADDR_VAR 0 6
10349: PUSH
10350: LD_EXP 8
10354: PUSH
10355: LD_VAR 0 1
10359: ARRAY
10360: PUSH
10361: FOR_IN
10362: IFFALSE 10426
// begin CreateCratesXYR ( k , start_def [ p ] [ 1 ] , start_def [ p ] [ 2 ] , 20 , true ) ;
10364: LD_VAR 0 5
10368: PPUSH
10369: LD_EXP 83
10373: PUSH
10374: LD_VAR 0 6
10378: ARRAY
10379: PUSH
10380: LD_INT 1
10382: ARRAY
10383: PPUSH
10384: LD_EXP 83
10388: PUSH
10389: LD_VAR 0 6
10393: ARRAY
10394: PUSH
10395: LD_INT 2
10397: ARRAY
10398: PPUSH
10399: LD_INT 20
10401: PPUSH
10402: LD_INT 1
10404: PPUSH
10405: CALL_OW 56
// wait ( rand ( 2 , 0 0$2 ) ) ;
10409: LD_INT 2
10411: PPUSH
10412: LD_INT 70
10414: PPUSH
10415: CALL_OW 12
10419: PPUSH
10420: CALL_OW 67
// end ;
10424: GO 10361
10426: POP
10427: POP
10428: GO 10326
10430: POP
10431: POP
// end ; if dalsi_oblasti_beden then
10432: LD_EXP 100
10436: IFFALSE 10513
// for k in dalsi_oblasti_beden do
10438: LD_ADDR_VAR 0 5
10442: PUSH
10443: LD_EXP 100
10447: PUSH
10448: FOR_IN
10449: IFFALSE 10511
// for i := 1 to Rand ( 1 , 3 ) do
10451: LD_ADDR_VAR 0 1
10455: PUSH
10456: DOUBLE
10457: LD_INT 1
10459: DEC
10460: ST_TO_ADDR
10461: LD_INT 1
10463: PPUSH
10464: LD_INT 3
10466: PPUSH
10467: CALL_OW 12
10471: PUSH
10472: FOR_TO
10473: IFFALSE 10507
// begin CreateCratesArea ( Rand ( 3 , 5 ) , k , true ) ;
10475: LD_INT 3
10477: PPUSH
10478: LD_INT 5
10480: PPUSH
10481: CALL_OW 12
10485: PPUSH
10486: LD_VAR 0 5
10490: PPUSH
10491: LD_INT 1
10493: PPUSH
10494: CALL_OW 55
// Wait ( 2 ) ;
10498: LD_INT 2
10500: PPUSH
10501: CALL_OW 67
// end ;
10505: GO 10472
10507: POP
10508: POP
10509: GO 10448
10511: POP
10512: POP
// end ; enable ;
10513: ENABLE
// end ; end_of_file
10514: PPOPN 6
10516: END
// var respawn , inqueue , nation , nations , noposn ; export function init_respawn ; var i , pos ; begin
10517: LD_INT 0
10519: PPUSH
10520: PPUSH
10521: PPUSH
// nation := rand ( 1 , 3 ) ;
10522: LD_ADDR_LOC 4
10526: PUSH
10527: LD_INT 1
10529: PPUSH
10530: LD_INT 3
10532: PPUSH
10533: CALL_OW 12
10537: ST_TO_ADDR
// respawn := Rand ( 1 , 8 ) ;
10538: LD_ADDR_LOC 2
10542: PUSH
10543: LD_INT 1
10545: PPUSH
10546: LD_INT 8
10548: PPUSH
10549: CALL_OW 12
10553: ST_TO_ADDR
// Nations = [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
10554: LD_ADDR_LOC 5
10558: PUSH
10559: EMPTY
10560: PUSH
10561: EMPTY
10562: PUSH
10563: EMPTY
10564: PUSH
10565: EMPTY
10566: PUSH
10567: EMPTY
10568: PUSH
10569: EMPTY
10570: PUSH
10571: EMPTY
10572: PUSH
10573: EMPTY
10574: PUSH
10575: EMPTY
10576: LIST
10577: LIST
10578: LIST
10579: LIST
10580: LIST
10581: LIST
10582: LIST
10583: LIST
10584: ST_TO_ADDR
// inqueue := [ [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] ] ;
10585: LD_ADDR_LOC 3
10589: PUSH
10590: LD_INT 0
10592: PUSH
10593: LD_INT 0
10595: PUSH
10596: LD_INT 0
10598: PUSH
10599: EMPTY
10600: LIST
10601: LIST
10602: LIST
10603: PUSH
10604: LD_INT 0
10606: PUSH
10607: LD_INT 0
10609: PUSH
10610: LD_INT 0
10612: PUSH
10613: EMPTY
10614: LIST
10615: LIST
10616: LIST
10617: PUSH
10618: LD_INT 0
10620: PUSH
10621: LD_INT 0
10623: PUSH
10624: LD_INT 0
10626: PUSH
10627: EMPTY
10628: LIST
10629: LIST
10630: LIST
10631: PUSH
10632: LD_INT 0
10634: PUSH
10635: LD_INT 0
10637: PUSH
10638: LD_INT 0
10640: PUSH
10641: EMPTY
10642: LIST
10643: LIST
10644: LIST
10645: PUSH
10646: LD_INT 0
10648: PUSH
10649: LD_INT 0
10651: PUSH
10652: LD_INT 0
10654: PUSH
10655: EMPTY
10656: LIST
10657: LIST
10658: LIST
10659: PUSH
10660: LD_INT 0
10662: PUSH
10663: LD_INT 0
10665: PUSH
10666: LD_INT 0
10668: PUSH
10669: EMPTY
10670: LIST
10671: LIST
10672: LIST
10673: PUSH
10674: LD_INT 0
10676: PUSH
10677: LD_INT 0
10679: PUSH
10680: LD_INT 0
10682: PUSH
10683: EMPTY
10684: LIST
10685: LIST
10686: LIST
10687: PUSH
10688: LD_INT 0
10690: PUSH
10691: LD_INT 0
10693: PUSH
10694: LD_INT 0
10696: PUSH
10697: EMPTY
10698: LIST
10699: LIST
10700: LIST
10701: PUSH
10702: EMPTY
10703: LIST
10704: LIST
10705: LIST
10706: LIST
10707: LIST
10708: LIST
10709: LIST
10710: LIST
10711: ST_TO_ADDR
// for i := 1 to 8 do
10712: LD_ADDR_VAR 0 2
10716: PUSH
10717: DOUBLE
10718: LD_INT 1
10720: DEC
10721: ST_TO_ADDR
10722: LD_INT 8
10724: PUSH
10725: FOR_TO
10726: IFFALSE 10831
// if Side_Positions [ i ] then
10728: LD_EXP 75
10732: PUSH
10733: LD_VAR 0 2
10737: ARRAY
10738: IFFALSE 10829
// begin if Game_Type in GT_DoubleNat ^ GT_TripleNat then
10740: LD_EXP 1
10744: PUSH
10745: LD_EXP 3
10749: PUSH
10750: LD_EXP 5
10754: ADD
10755: IN
10756: IFFALSE 10795
// nations = replace ( nations , i , Position_Nations [ i ] diff 0 ) else
10758: LD_ADDR_LOC 5
10762: PUSH
10763: LD_LOC 5
10767: PPUSH
10768: LD_VAR 0 2
10772: PPUSH
10773: LD_EXP 52
10777: PUSH
10778: LD_VAR 0 2
10782: ARRAY
10783: PUSH
10784: LD_INT 0
10786: DIFF
10787: PPUSH
10788: CALL_OW 1
10792: ST_TO_ADDR
10793: GO 10829
// nations = replace ( nations , i , [ Side_Nations [ i ] ] ) ;
10795: LD_ADDR_LOC 5
10799: PUSH
10800: LD_LOC 5
10804: PPUSH
10805: LD_VAR 0 2
10809: PPUSH
10810: LD_EXP 76
10814: PUSH
10815: LD_VAR 0 2
10819: ARRAY
10820: PUSH
10821: EMPTY
10822: LIST
10823: PPUSH
10824: CALL_OW 1
10828: ST_TO_ADDR
// end ;
10829: GO 10725
10831: POP
10832: POP
// if Game_Type in GT_DoublePeople then
10833: LD_EXP 1
10837: PUSH
10838: LD_EXP 4
10842: IN
10843: IFFALSE 10861
// noposn = number_of_people * 2 else
10845: LD_ADDR_LOC 6
10849: PUSH
10850: LD_EXP 40
10854: PUSH
10855: LD_INT 2
10857: MUL
10858: ST_TO_ADDR
10859: GO 10871
// noposn = number_of_people ;
10861: LD_ADDR_LOC 6
10865: PUSH
10866: LD_EXP 40
10870: ST_TO_ADDR
// SetRespawningTime ( respawning_time_min , respawning_time_max , respawning_time_delay_min , respawning_time_delay_max ) ;
10871: LD_EXP 49
10875: PPUSH
10876: LD_EXP 51
10880: PPUSH
10881: LD_EXP 53
10885: PPUSH
10886: LD_EXP 54
10890: PPUSH
10891: CALL 11631 0 4
// end ;
10895: LD_VAR 0 1
10899: RET
// every 0 0$1 + 0 0$0.5 do var n , building_list , aktresp , b , skills , k ;
10900: GO 10902
10902: DISABLE
10903: LD_INT 0
10905: PPUSH
10906: PPUSH
10907: PPUSH
10908: PPUSH
10909: PPUSH
10910: PPUSH
// begin if def_respawining_type = 0 then
10911: LD_EXP 24
10915: PUSH
10916: LD_INT 0
10918: EQUAL
10919: IFFALSE 10925
// exit else
10921: GO 11330
10923: GO 11330
// if def_respawining_type in [ 2 , 3 ] then
10925: LD_EXP 24
10929: PUSH
10930: LD_INT 2
10932: PUSH
10933: LD_INT 3
10935: PUSH
10936: EMPTY
10937: LIST
10938: LIST
10939: IN
10940: IFFALSE 11296
// begin if respawn = 8 then
10942: LD_LOC 2
10946: PUSH
10947: LD_INT 8
10949: EQUAL
10950: IFFALSE 10996
// begin respawn := 1 ;
10952: LD_ADDR_LOC 2
10956: PUSH
10957: LD_INT 1
10959: ST_TO_ADDR
// if nation = 3 then
10960: LD_LOC 4
10964: PUSH
10965: LD_INT 3
10967: EQUAL
10968: IFFALSE 10980
// nation := 1 else
10970: LD_ADDR_LOC 4
10974: PUSH
10975: LD_INT 1
10977: ST_TO_ADDR
10978: GO 10994
// nation := nation + 1 ;
10980: LD_ADDR_LOC 4
10984: PUSH
10985: LD_LOC 4
10989: PUSH
10990: LD_INT 1
10992: PLUS
10993: ST_TO_ADDR
// end else
10994: GO 11010
// respawn := respawn + 1 ;
10996: LD_ADDR_LOC 2
11000: PUSH
11001: LD_LOC 2
11005: PUSH
11006: LD_INT 1
11008: PLUS
11009: ST_TO_ADDR
// if Side_Positions [ respawn ] then
11010: LD_EXP 75
11014: PUSH
11015: LD_LOC 2
11019: ARRAY
11020: IFFALSE 11293
// begin if nation in nations [ respawn ] then
11022: LD_LOC 4
11026: PUSH
11027: LD_LOC 5
11031: PUSH
11032: LD_LOC 2
11036: ARRAY
11037: IN
11038: IFFALSE 11290
// begin if def_desert_warior < 2 then
11040: LD_EXP 31
11044: PUSH
11045: LD_INT 2
11047: LESS
11048: IFFALSE 11101
// n := FilterAllUnits ( [ [ f_type , unit_human ] , [ f_side , respawn ] , [ f_nation , nation ] , ] ) else
11050: LD_ADDR_VAR 0 1
11054: PUSH
11055: LD_INT 21
11057: PUSH
11058: LD_INT 1
11060: PUSH
11061: EMPTY
11062: LIST
11063: LIST
11064: PUSH
11065: LD_INT 22
11067: PUSH
11068: LD_LOC 2
11072: PUSH
11073: EMPTY
11074: LIST
11075: LIST
11076: PUSH
11077: LD_INT 23
11079: PUSH
11080: LD_LOC 4
11084: PUSH
11085: EMPTY
11086: LIST
11087: LIST
11088: PUSH
11089: EMPTY
11090: LIST
11091: LIST
11092: LIST
11093: PPUSH
11094: CALL_OW 69
11098: ST_TO_ADDR
11099: GO 11165
// n := FilterAllUnits ( [ [ f_type , unit_human ] , [ f_side , respawn ] , [ f_nation , nation ] , f_not , [ f_class , class_desert_warior ] , ] ) ;
11101: LD_ADDR_VAR 0 1
11105: PUSH
11106: LD_INT 21
11108: PUSH
11109: LD_INT 1
11111: PUSH
11112: EMPTY
11113: LIST
11114: LIST
11115: PUSH
11116: LD_INT 22
11118: PUSH
11119: LD_LOC 2
11123: PUSH
11124: EMPTY
11125: LIST
11126: LIST
11127: PUSH
11128: LD_INT 23
11130: PUSH
11131: LD_LOC 4
11135: PUSH
11136: EMPTY
11137: LIST
11138: LIST
11139: PUSH
11140: LD_INT 3
11142: PUSH
11143: LD_INT 25
11145: PUSH
11146: LD_INT 11
11148: PUSH
11149: EMPTY
11150: LIST
11151: LIST
11152: PUSH
11153: EMPTY
11154: LIST
11155: LIST
11156: LIST
11157: LIST
11158: LIST
11159: PPUSH
11160: CALL_OW 69
11164: ST_TO_ADDR
// if ( n + inqueue [ respawn ] [ nation ] ) < noposn then
11165: LD_VAR 0 1
11169: PUSH
11170: LD_LOC 3
11174: PUSH
11175: LD_LOC 2
11179: ARRAY
11180: PUSH
11181: LD_LOC 4
11185: ARRAY
11186: PLUS
11187: PUSH
11188: LD_LOC 6
11192: LESS
11193: IFFALSE 11287
// begin aktresp := respawn ;
11195: LD_ADDR_VAR 0 3
11199: PUSH
11200: LD_LOC 2
11204: ST_TO_ADDR
// inqueue := Replace ( inqueue , aktresp , replace ( inqueue [ aktresp ] , nation , inqueue [ aktresp ] [ nation ] + 1 ) ) ;
11205: LD_ADDR_LOC 3
11209: PUSH
11210: LD_LOC 3
11214: PPUSH
11215: LD_VAR 0 3
11219: PPUSH
11220: LD_LOC 3
11224: PUSH
11225: LD_VAR 0 3
11229: ARRAY
11230: PPUSH
11231: LD_LOC 4
11235: PPUSH
11236: LD_LOC 3
11240: PUSH
11241: LD_VAR 0 3
11245: ARRAY
11246: PUSH
11247: LD_LOC 4
11251: ARRAY
11252: PUSH
11253: LD_INT 1
11255: PLUS
11256: PPUSH
11257: CALL_OW 1
11261: PPUSH
11262: CALL_OW 1
11266: ST_TO_ADDR
// enable ;
11267: ENABLE
// ObnovCloveka ( aktresp , nation , false ) ;
11268: LD_VAR 0 3
11272: PPUSH
11273: LD_LOC 4
11277: PPUSH
11278: LD_INT 0
11280: PPUSH
11281: CALL 11745 0 3
// end else
11285: GO 11288
// enable ;
11287: ENABLE
// end else
11288: GO 11291
// enable ;
11290: ENABLE
// end else
11291: GO 11294
// enable ;
11293: ENABLE
// end else
11294: GO 11330
// if def_respawining_type = 1 then
11296: LD_EXP 24
11300: PUSH
11301: LD_INT 1
11303: EQUAL
11304: IFFALSE 11330
// begin wait ( rand ( respawning_time_min , respawning_time_max ) ) ;
11306: LD_EXP 49
11310: PPUSH
11311: LD_EXP 51
11315: PPUSH
11316: CALL_OW 12
11320: PPUSH
11321: CALL_OW 67
// Vytvor_noveho_cloveka_pro_vsechny ;
11325: CALL 12830 0 0
// enable ;
11329: ENABLE
// end end ;
11330: PPOPN 6
11332: END
// export function OnHumanRespawned ( un ) ; var side , nation ; begin
11333: LD_INT 0
11335: PPUSH
11336: PPUSH
11337: PPUSH
// wait ( 0 0$30 ) ;
11338: LD_INT 1050
11340: PPUSH
11341: CALL_OW 67
// side = GetSide ( un ) ;
11345: LD_ADDR_VAR 0 3
11349: PUSH
11350: LD_VAR 0 1
11354: PPUSH
11355: CALL_OW 255
11359: ST_TO_ADDR
// nation = GetNation ( un ) ;
11360: LD_ADDR_VAR 0 4
11364: PUSH
11365: LD_VAR 0 1
11369: PPUSH
11370: CALL_OW 248
11374: ST_TO_ADDR
// inqueue := Replace ( inqueue , side , replace ( inqueue [ side ] , nation , inqueue [ side ] [ nation ] - 1 ) ) ;
11375: LD_ADDR_LOC 3
11379: PUSH
11380: LD_LOC 3
11384: PPUSH
11385: LD_VAR 0 3
11389: PPUSH
11390: LD_LOC 3
11394: PUSH
11395: LD_VAR 0 3
11399: ARRAY
11400: PPUSH
11401: LD_VAR 0 4
11405: PPUSH
11406: LD_LOC 3
11410: PUSH
11411: LD_VAR 0 3
11415: ARRAY
11416: PUSH
11417: LD_VAR 0 4
11421: ARRAY
11422: PUSH
11423: LD_INT 1
11425: MINUS
11426: PPUSH
11427: CALL_OW 1
11431: PPUSH
11432: CALL_OW 1
11436: ST_TO_ADDR
// end ;
11437: LD_VAR 0 2
11441: RET
// export function RespawnHumanDestroyed ( identifier , side , nation , x , y , direction , sex , cl ) ; begin
11442: LD_INT 0
11444: PPUSH
// if def_respawining_type < 2 then
11445: LD_EXP 24
11449: PUSH
11450: LD_INT 2
11452: LESS
11453: IFFALSE 11457
// exit ;
11455: GO 11626
// if nation = nation_nature or side = 0 then
11457: LD_VAR 0 3
11461: PUSH
11462: LD_INT 0
11464: EQUAL
11465: PUSH
11466: LD_VAR 0 2
11470: PUSH
11471: LD_INT 0
11473: EQUAL
11474: OR
11475: IFFALSE 11479
// exit ;
11477: GO 11626
// if not Side_Positions [ side ] then
11479: LD_EXP 75
11483: PUSH
11484: LD_VAR 0 2
11488: ARRAY
11489: NOT
11490: IFFALSE 11494
// exit ;
11492: GO 11626
// if def_desert_warior = 2 then
11494: LD_EXP 31
11498: PUSH
11499: LD_INT 2
11501: EQUAL
11502: IFFALSE 11516
// if cl = class_desert_warior then
11504: LD_VAR 0 8
11508: PUSH
11509: LD_INT 11
11511: EQUAL
11512: IFFALSE 11516
// exit ;
11514: GO 11626
// inqueue := Replace ( inqueue , side , replace ( inqueue [ side ] , nation , inqueue [ side ] [ nation ] + 1 ) ) ;
11516: LD_ADDR_LOC 3
11520: PUSH
11521: LD_LOC 3
11525: PPUSH
11526: LD_VAR 0 2
11530: PPUSH
11531: LD_LOC 3
11535: PUSH
11536: LD_VAR 0 2
11540: ARRAY
11541: PPUSH
11542: LD_VAR 0 3
11546: PPUSH
11547: LD_LOC 3
11551: PUSH
11552: LD_VAR 0 2
11556: ARRAY
11557: PUSH
11558: LD_VAR 0 3
11562: ARRAY
11563: PUSH
11564: LD_INT 1
11566: PLUS
11567: PPUSH
11568: CALL_OW 1
11572: PPUSH
11573: CALL_OW 1
11577: ST_TO_ADDR
// if def_respawining_type = 2 then
11578: LD_EXP 24
11582: PUSH
11583: LD_INT 2
11585: EQUAL
11586: IFFALSE 11609
// ObnovCloveka ( side , nation , identifier ) else
11588: LD_VAR 0 2
11592: PPUSH
11593: LD_VAR 0 3
11597: PPUSH
11598: LD_VAR 0 1
11602: PPUSH
11603: CALL 11745 0 3
11607: GO 11626
// ObnovCloveka ( side , nation , false ) ;
11609: LD_VAR 0 2
11613: PPUSH
11614: LD_VAR 0 3
11618: PPUSH
11619: LD_INT 0
11621: PPUSH
11622: CALL 11745 0 3
// end ;
11626: LD_VAR 0 9
11630: RET
// export ObnovCas , ObnovZpozdeni ; export function SetRespawningTime ( minBTime , maxBTime , MinDelay , MaxDelay ) ; var k ; begin
11631: LD_INT 0
11633: PPUSH
11634: PPUSH
// k = Rand ( minBTime , maxBTime ) ;
11635: LD_ADDR_VAR 0 6
11639: PUSH
11640: LD_VAR 0 1
11644: PPUSH
11645: LD_VAR 0 2
11649: PPUSH
11650: CALL_OW 12
11654: ST_TO_ADDR
// ObnovCas = [ k , k , k , k , k , k , k , k ] ;
11655: LD_ADDR_EXP 102
11659: PUSH
11660: LD_VAR 0 6
11664: PUSH
11665: LD_VAR 0 6
11669: PUSH
11670: LD_VAR 0 6
11674: PUSH
11675: LD_VAR 0 6
11679: PUSH
11680: LD_VAR 0 6
11684: PUSH
11685: LD_VAR 0 6
11689: PUSH
11690: LD_VAR 0 6
11694: PUSH
11695: LD_VAR 0 6
11699: PUSH
11700: EMPTY
11701: LIST
11702: LIST
11703: LIST
11704: LIST
11705: LIST
11706: LIST
11707: LIST
11708: LIST
11709: ST_TO_ADDR
// k = Rand ( minDelay , MaxDelay ) ;
11710: LD_ADDR_VAR 0 6
11714: PUSH
11715: LD_VAR 0 3
11719: PPUSH
11720: LD_VAR 0 4
11724: PPUSH
11725: CALL_OW 12
11729: ST_TO_ADDR
// ObnovZpozdeni = k ;
11730: LD_ADDR_EXP 103
11734: PUSH
11735: LD_VAR 0 6
11739: ST_TO_ADDR
// end ;
11740: LD_VAR 0 5
11744: RET
// export unit_list ; export function ObnovCloveka ( side , nation , restored ) ; var building_list , b , n , un , k , i , base_skills , speed , def ; begin
11745: LD_INT 0
11747: PPUSH
11748: PPUSH
11749: PPUSH
11750: PPUSH
11751: PPUSH
11752: PPUSH
11753: PPUSH
11754: PPUSH
11755: PPUSH
11756: PPUSH
// if ObnovCas [ side ] = 0 then
11757: LD_EXP 102
11761: PUSH
11762: LD_VAR 0 1
11766: ARRAY
11767: PUSH
11768: LD_INT 0
11770: EQUAL
11771: IFFALSE 11775
// exit ;
11773: GO 12420
// uc_nation := nation ;
11775: LD_ADDR_OWVAR 21
11779: PUSH
11780: LD_VAR 0 2
11784: ST_TO_ADDR
// uc_side := side ;
11785: LD_ADDR_OWVAR 20
11789: PUSH
11790: LD_VAR 0 1
11794: ST_TO_ADDR
// uc_direction := Rand ( 0 , 5 ) ;
11795: LD_ADDR_OWVAR 24
11799: PUSH
11800: LD_INT 0
11802: PPUSH
11803: LD_INT 5
11805: PPUSH
11806: CALL_OW 12
11810: ST_TO_ADDR
// if restored then
11811: LD_VAR 0 3
11815: IFFALSE 11898
// begin hc_class = GetClass ( restored ) ;
11817: LD_ADDR_OWVAR 28
11821: PUSH
11822: LD_VAR 0 3
11826: PPUSH
11827: CALL_OW 257
11831: ST_TO_ADDR
// hc_attr = [ GetAttr ( restored , attr_stamina ) , GetAttr ( restored , attr_speed ) ] ;
11832: LD_ADDR_OWVAR 29
11836: PUSH
11837: LD_VAR 0 3
11841: PPUSH
11842: LD_INT 1
11844: PPUSH
11845: CALL_OW 260
11849: PUSH
11850: LD_VAR 0 3
11854: PPUSH
11855: LD_INT 2
11857: PPUSH
11858: CALL_OW 260
11862: PUSH
11863: EMPTY
11864: LIST
11865: LIST
11866: ST_TO_ADDR
// if hc_class in [ class_sniper , class_bazooker , class_mortar ] then
11867: LD_OWVAR 28
11871: PUSH
11872: LD_INT 5
11874: PUSH
11875: LD_INT 9
11877: PUSH
11878: LD_INT 8
11880: PUSH
11881: EMPTY
11882: LIST
11883: LIST
11884: LIST
11885: IN
11886: IFFALSE 11896
// hc_class = class_soldier ;
11888: LD_ADDR_OWVAR 28
11892: PUSH
11893: LD_INT 1
11895: ST_TO_ADDR
// end else
11896: GO 11907
// randomHumanStats ( initial_level ) ;
11898: LD_EXP 42
11902: PPUSH
11903: CALL 17282 0 1
// hc_importance := 0 ;
11907: LD_ADDR_OWVAR 32
11911: PUSH
11912: LD_INT 0
11914: ST_TO_ADDR
// hc_gallery :=  ;
11915: LD_ADDR_OWVAR 33
11919: PUSH
11920: LD_STRING 
11922: ST_TO_ADDR
// hc_face_number := 0 ;
11923: LD_ADDR_OWVAR 34
11927: PUSH
11928: LD_INT 0
11930: ST_TO_ADDR
// hc_name =  ;
11931: LD_ADDR_OWVAR 26
11935: PUSH
11936: LD_STRING 
11938: ST_TO_ADDR
// un := CreateHuman ;
11939: LD_ADDR_VAR 0 8
11943: PUSH
11944: CALL_OW 44
11948: ST_TO_ADDR
// if restored then
11949: LD_VAR 0 3
11953: IFFALSE 11969
// CopySkills ( restored , un ) ;
11955: LD_VAR 0 3
11959: PPUSH
11960: LD_VAR 0 8
11964: PPUSH
11965: CALL_OW 510
// k = ObnovCas [ side ] + ObnovZpozdeni ;
11969: LD_ADDR_VAR 0 9
11973: PUSH
11974: LD_EXP 102
11978: PUSH
11979: LD_VAR 0 1
11983: ARRAY
11984: PUSH
11985: LD_EXP 103
11989: PLUS
11990: ST_TO_ADDR
// ObnovCas = Replace ( ObnovCas , side , k ) ;
11991: LD_ADDR_EXP 102
11995: PUSH
11996: LD_EXP 102
12000: PPUSH
12001: LD_VAR 0 1
12005: PPUSH
12006: LD_VAR 0 9
12010: PPUSH
12011: CALL_OW 1
12015: ST_TO_ADDR
// wait ( ObnovCas [ side ] - ObnovZpozdeni ) ;
12016: LD_EXP 102
12020: PUSH
12021: LD_VAR 0 1
12025: ARRAY
12026: PUSH
12027: LD_EXP 103
12031: MINUS
12032: PPUSH
12033: CALL_OW 67
// if not ( HasPower ( side ) ) then
12037: LD_VAR 0 1
12041: PPUSH
12042: CALL 13210 0 1
12046: NOT
12047: IFFALSE 12051
// exit ;
12049: GO 12420
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_ok ] , [ f_side , side ] , [ f_nation , nation ] ] ) ;
12051: LD_ADDR_VAR 0 5
12055: PUSH
12056: LD_INT 21
12058: PUSH
12059: LD_INT 3
12061: PUSH
12062: EMPTY
12063: LIST
12064: LIST
12065: PUSH
12066: LD_INT 2
12068: PUSH
12069: LD_INT 30
12071: PUSH
12072: LD_INT 0
12074: PUSH
12075: EMPTY
12076: LIST
12077: LIST
12078: PUSH
12079: LD_INT 30
12081: PUSH
12082: LD_INT 1
12084: PUSH
12085: EMPTY
12086: LIST
12087: LIST
12088: PUSH
12089: EMPTY
12090: LIST
12091: LIST
12092: LIST
12093: PUSH
12094: LD_INT 50
12096: PUSH
12097: EMPTY
12098: LIST
12099: PUSH
12100: LD_INT 22
12102: PUSH
12103: LD_VAR 0 1
12107: PUSH
12108: EMPTY
12109: LIST
12110: LIST
12111: PUSH
12112: LD_INT 23
12114: PUSH
12115: LD_VAR 0 2
12119: PUSH
12120: EMPTY
12121: LIST
12122: LIST
12123: PUSH
12124: EMPTY
12125: LIST
12126: LIST
12127: LIST
12128: LIST
12129: LIST
12130: PPUSH
12131: CALL_OW 69
12135: ST_TO_ADDR
// if building_list = 0 then
12136: LD_VAR 0 5
12140: PUSH
12141: LD_INT 0
12143: EQUAL
12144: IFFALSE 12218
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_ok ] , [ f_side , side ] ] ) ;
12146: LD_ADDR_VAR 0 5
12150: PUSH
12151: LD_INT 21
12153: PUSH
12154: LD_INT 3
12156: PUSH
12157: EMPTY
12158: LIST
12159: LIST
12160: PUSH
12161: LD_INT 2
12163: PUSH
12164: LD_INT 30
12166: PUSH
12167: LD_INT 0
12169: PUSH
12170: EMPTY
12171: LIST
12172: LIST
12173: PUSH
12174: LD_INT 30
12176: PUSH
12177: LD_INT 1
12179: PUSH
12180: EMPTY
12181: LIST
12182: LIST
12183: PUSH
12184: EMPTY
12185: LIST
12186: LIST
12187: LIST
12188: PUSH
12189: LD_INT 50
12191: PUSH
12192: EMPTY
12193: LIST
12194: PUSH
12195: LD_INT 22
12197: PUSH
12198: LD_VAR 0 1
12202: PUSH
12203: EMPTY
12204: LIST
12205: LIST
12206: PUSH
12207: EMPTY
12208: LIST
12209: LIST
12210: LIST
12211: LIST
12212: PPUSH
12213: CALL_OW 69
12217: ST_TO_ADDR
// if building_list = 0 then
12218: LD_VAR 0 5
12222: PUSH
12223: LD_INT 0
12225: EQUAL
12226: IFFALSE 12271
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_ok ] , [ f_side , side ] ] ) ;
12228: LD_ADDR_VAR 0 5
12232: PUSH
12233: LD_INT 21
12235: PUSH
12236: LD_INT 3
12238: PUSH
12239: EMPTY
12240: LIST
12241: LIST
12242: PUSH
12243: LD_INT 50
12245: PUSH
12246: EMPTY
12247: LIST
12248: PUSH
12249: LD_INT 22
12251: PUSH
12252: LD_VAR 0 1
12256: PUSH
12257: EMPTY
12258: LIST
12259: LIST
12260: PUSH
12261: EMPTY
12262: LIST
12263: LIST
12264: LIST
12265: PPUSH
12266: CALL_OW 69
12270: ST_TO_ADDR
// if building_list > 0 then
12271: LD_VAR 0 5
12275: PUSH
12276: LD_INT 0
12278: GREATER
12279: IFFALSE 12397
// begin b := building_list [ Rand ( 1 , building_list + 0 ) ] ;
12281: LD_ADDR_VAR 0 6
12285: PUSH
12286: LD_VAR 0 5
12290: PUSH
12291: LD_INT 1
12293: PPUSH
12294: LD_VAR 0 5
12298: PUSH
12299: LD_INT 0
12301: PLUS
12302: PPUSH
12303: CALL_OW 12
12307: ARRAY
12308: ST_TO_ADDR
// if GetBType ( b ) in [ b_depot , b_warehouse ] then
12309: LD_VAR 0 6
12313: PPUSH
12314: CALL_OW 266
12318: PUSH
12319: LD_INT 0
12321: PUSH
12322: LD_INT 1
12324: PUSH
12325: EMPTY
12326: LIST
12327: LIST
12328: IN
12329: IFFALSE 12341
// n = 25 else
12331: LD_ADDR_VAR 0 7
12335: PUSH
12336: LD_INT 25
12338: ST_TO_ADDR
12339: GO 12349
// n = 10 ;
12341: LD_ADDR_VAR 0 7
12345: PUSH
12346: LD_INT 10
12348: ST_TO_ADDR
// PlaceUnitXYR ( un , GetX ( b ) , GetY ( b ) , n , true ) ;
12349: LD_VAR 0 8
12353: PPUSH
12354: LD_VAR 0 6
12358: PPUSH
12359: CALL_OW 250
12363: PPUSH
12364: LD_VAR 0 6
12368: PPUSH
12369: CALL_OW 251
12373: PPUSH
12374: LD_VAR 0 7
12378: PPUSH
12379: LD_INT 1
12381: PPUSH
12382: CALL_OW 50
// OnHumanRespawned ( un ) ;
12386: LD_VAR 0 8
12390: PPUSH
12391: CALL 11333 0 1
// end else
12395: GO 12420
// begin ObnovOpozdilceCloveka ( un , side , k / 2 ) ;
12397: LD_VAR 0 8
12401: PPUSH
12402: LD_VAR 0 1
12406: PPUSH
12407: LD_VAR 0 9
12411: PUSH
12412: LD_INT 2
12414: DIVREAL
12415: PPUSH
12416: CALL 12425 0 3
// end ; end ;
12420: LD_VAR 0 4
12424: RET
// function ObnovOpozdilceCloveka ( un , side , waitTime ) ; var building_list , n , unit_list , b ; begin
12425: LD_INT 0
12427: PPUSH
12428: PPUSH
12429: PPUSH
12430: PPUSH
12431: PPUSH
// wait ( waitTime ) ;
12432: LD_VAR 0 3
12436: PPUSH
12437: CALL_OW 67
// if not ( HasPower ( side ) ) then
12441: LD_VAR 0 2
12445: PPUSH
12446: CALL 13210 0 1
12450: NOT
12451: IFFALSE 12455
// exit ;
12453: GO 12825
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_ok ] , [ f_side , side ] , [ f_nation , GetNation ( un ) ] ] ) ;
12455: LD_ADDR_VAR 0 5
12459: PUSH
12460: LD_INT 21
12462: PUSH
12463: LD_INT 3
12465: PUSH
12466: EMPTY
12467: LIST
12468: LIST
12469: PUSH
12470: LD_INT 2
12472: PUSH
12473: LD_INT 30
12475: PUSH
12476: LD_INT 0
12478: PUSH
12479: EMPTY
12480: LIST
12481: LIST
12482: PUSH
12483: LD_INT 30
12485: PUSH
12486: LD_INT 1
12488: PUSH
12489: EMPTY
12490: LIST
12491: LIST
12492: PUSH
12493: EMPTY
12494: LIST
12495: LIST
12496: LIST
12497: PUSH
12498: LD_INT 50
12500: PUSH
12501: EMPTY
12502: LIST
12503: PUSH
12504: LD_INT 22
12506: PUSH
12507: LD_VAR 0 2
12511: PUSH
12512: EMPTY
12513: LIST
12514: LIST
12515: PUSH
12516: LD_INT 23
12518: PUSH
12519: LD_VAR 0 1
12523: PPUSH
12524: CALL_OW 248
12528: PUSH
12529: EMPTY
12530: LIST
12531: LIST
12532: PUSH
12533: EMPTY
12534: LIST
12535: LIST
12536: LIST
12537: LIST
12538: LIST
12539: PPUSH
12540: CALL_OW 69
12544: ST_TO_ADDR
// if building_list = 0 then
12545: LD_VAR 0 5
12549: PUSH
12550: LD_INT 0
12552: EQUAL
12553: IFFALSE 12627
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_ok ] , [ f_side , side ] ] ) ;
12555: LD_ADDR_VAR 0 5
12559: PUSH
12560: LD_INT 21
12562: PUSH
12563: LD_INT 3
12565: PUSH
12566: EMPTY
12567: LIST
12568: LIST
12569: PUSH
12570: LD_INT 2
12572: PUSH
12573: LD_INT 30
12575: PUSH
12576: LD_INT 0
12578: PUSH
12579: EMPTY
12580: LIST
12581: LIST
12582: PUSH
12583: LD_INT 30
12585: PUSH
12586: LD_INT 1
12588: PUSH
12589: EMPTY
12590: LIST
12591: LIST
12592: PUSH
12593: EMPTY
12594: LIST
12595: LIST
12596: LIST
12597: PUSH
12598: LD_INT 50
12600: PUSH
12601: EMPTY
12602: LIST
12603: PUSH
12604: LD_INT 22
12606: PUSH
12607: LD_VAR 0 2
12611: PUSH
12612: EMPTY
12613: LIST
12614: LIST
12615: PUSH
12616: EMPTY
12617: LIST
12618: LIST
12619: LIST
12620: LIST
12621: PPUSH
12622: CALL_OW 69
12626: ST_TO_ADDR
// if building_list = 0 then
12627: LD_VAR 0 5
12631: PUSH
12632: LD_INT 0
12634: EQUAL
12635: IFFALSE 12680
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_ok ] , [ f_side , side ] ] ) ;
12637: LD_ADDR_VAR 0 5
12641: PUSH
12642: LD_INT 21
12644: PUSH
12645: LD_INT 3
12647: PUSH
12648: EMPTY
12649: LIST
12650: LIST
12651: PUSH
12652: LD_INT 50
12654: PUSH
12655: EMPTY
12656: LIST
12657: PUSH
12658: LD_INT 22
12660: PUSH
12661: LD_VAR 0 2
12665: PUSH
12666: EMPTY
12667: LIST
12668: LIST
12669: PUSH
12670: EMPTY
12671: LIST
12672: LIST
12673: LIST
12674: PPUSH
12675: CALL_OW 69
12679: ST_TO_ADDR
// if building_list > 0 then
12680: LD_VAR 0 5
12684: PUSH
12685: LD_INT 0
12687: GREATER
12688: IFFALSE 12806
// begin b := building_list [ Rand ( 1 , building_list + 0 ) ] ;
12690: LD_ADDR_VAR 0 8
12694: PUSH
12695: LD_VAR 0 5
12699: PUSH
12700: LD_INT 1
12702: PPUSH
12703: LD_VAR 0 5
12707: PUSH
12708: LD_INT 0
12710: PLUS
12711: PPUSH
12712: CALL_OW 12
12716: ARRAY
12717: ST_TO_ADDR
// if GetBType ( b ) in [ b_depot , b_warehouse ] then
12718: LD_VAR 0 8
12722: PPUSH
12723: CALL_OW 266
12727: PUSH
12728: LD_INT 0
12730: PUSH
12731: LD_INT 1
12733: PUSH
12734: EMPTY
12735: LIST
12736: LIST
12737: IN
12738: IFFALSE 12750
// n = 25 else
12740: LD_ADDR_VAR 0 6
12744: PUSH
12745: LD_INT 25
12747: ST_TO_ADDR
12748: GO 12758
// n = 10 ;
12750: LD_ADDR_VAR 0 6
12754: PUSH
12755: LD_INT 10
12757: ST_TO_ADDR
// PlaceUnitXYR ( un , GetX ( b ) , GetY ( b ) , n , true ) ;
12758: LD_VAR 0 1
12762: PPUSH
12763: LD_VAR 0 8
12767: PPUSH
12768: CALL_OW 250
12772: PPUSH
12773: LD_VAR 0 8
12777: PPUSH
12778: CALL_OW 251
12782: PPUSH
12783: LD_VAR 0 6
12787: PPUSH
12788: LD_INT 1
12790: PPUSH
12791: CALL_OW 50
// OnHumanRespawned ( un ) ;
12795: LD_VAR 0 1
12799: PPUSH
12800: CALL 11333 0 1
// end else
12804: GO 12825
// ObnovOpozdilceCloveka ( un , side , waitTime ) ;
12806: LD_VAR 0 1
12810: PPUSH
12811: LD_VAR 0 2
12815: PPUSH
12816: LD_VAR 0 3
12820: PPUSH
12821: CALL 12425 0 3
// end ;
12825: LD_VAR 0 4
12829: RET
// export function Vytvor_noveho_cloveka_pro_vsechny ; var nat , side , sidy , i , k ; begin
12830: LD_INT 0
12832: PPUSH
12833: PPUSH
12834: PPUSH
12835: PPUSH
12836: PPUSH
12837: PPUSH
// randomHumanStats ( initial_level ) ;
12838: LD_EXP 42
12842: PPUSH
12843: CALL 17282 0 1
// sidy = [ ] ;
12847: LD_ADDR_VAR 0 4
12851: PUSH
12852: EMPTY
12853: ST_TO_ADDR
// for i = 1 to Side_positions + 0 do
12854: LD_ADDR_VAR 0 5
12858: PUSH
12859: DOUBLE
12860: LD_INT 1
12862: DEC
12863: ST_TO_ADDR
12864: LD_EXP 75
12868: PUSH
12869: LD_INT 0
12871: PLUS
12872: PUSH
12873: FOR_TO
12874: IFFALSE 12942
// if Side_positions [ i ] > 0 then
12876: LD_EXP 75
12880: PUSH
12881: LD_VAR 0 5
12885: ARRAY
12886: PUSH
12887: LD_INT 0
12889: GREATER
12890: IFFALSE 12940
// if HasPower ( i ) then
12892: LD_VAR 0 5
12896: PPUSH
12897: CALL 13210 0 1
12901: IFFALSE 12940
// for k in nations [ i ] do
12903: LD_ADDR_VAR 0 6
12907: PUSH
12908: LD_LOC 5
12912: PUSH
12913: LD_VAR 0 5
12917: ARRAY
12918: PUSH
12919: FOR_IN
12920: IFFALSE 12938
// vytvor_cloveka ( i , k ) ;
12922: LD_VAR 0 5
12926: PPUSH
12927: LD_VAR 0 6
12931: PPUSH
12932: CALL 12949 0 2
12936: GO 12919
12938: POP
12939: POP
12940: GO 12873
12942: POP
12943: POP
// end ;
12944: LD_VAR 0 1
12948: RET
// function vytvor_cloveka ( side , nat ) ; var pom ; begin
12949: LD_INT 0
12951: PPUSH
12952: PPUSH
// uc_side = side ;
12953: LD_ADDR_OWVAR 20
12957: PUSH
12958: LD_VAR 0 1
12962: ST_TO_ADDR
// uc_nation = nat ;
12963: LD_ADDR_OWVAR 21
12967: PUSH
12968: LD_VAR 0 2
12972: ST_TO_ADDR
// PlaceUnitAnywhere ( CreateHuman , true ) ;
12973: CALL_OW 44
12977: PPUSH
12978: LD_INT 1
12980: PPUSH
12981: CALL_OW 51
// if game_type in GT_DoublePeople then
12985: LD_EXP 1
12989: PUSH
12990: LD_EXP 4
12994: IN
12995: IFFALSE 13009
// PlaceUnitAnywhere ( CreateHuman , true ) ;
12997: CALL_OW 44
13001: PPUSH
13002: LD_INT 1
13004: PPUSH
13005: CALL_OW 51
// end ; end_of_file
13009: LD_VAR 0 3
13013: RET
// var defaited , GameEnded , unfoged , defeated_specs ; export function Init_Win_Condition ; var i ; begin
13014: LD_INT 0
13016: PPUSH
13017: PPUSH
// enable ( 98 ) ;
13018: LD_INT 98
13020: ENABLE_MARKED
// GameEnded = false ;
13021: LD_ADDR_LOC 8
13025: PUSH
13026: LD_INT 0
13028: ST_TO_ADDR
// defaited = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
13029: LD_ADDR_LOC 7
13033: PUSH
13034: LD_INT 0
13036: PUSH
13037: LD_INT 0
13039: PUSH
13040: LD_INT 0
13042: PUSH
13043: LD_INT 0
13045: PUSH
13046: LD_INT 0
13048: PUSH
13049: LD_INT 0
13051: PUSH
13052: LD_INT 0
13054: PUSH
13055: LD_INT 0
13057: PUSH
13058: EMPTY
13059: LIST
13060: LIST
13061: LIST
13062: LIST
13063: LIST
13064: LIST
13065: LIST
13066: LIST
13067: ST_TO_ADDR
// unfoged = false ;
13068: LD_ADDR_LOC 9
13072: PUSH
13073: LD_INT 0
13075: ST_TO_ADDR
// defeated_specs := [ ] ;
13076: LD_ADDR_LOC 10
13080: PUSH
13081: EMPTY
13082: ST_TO_ADDR
// for i = 1 to side_positions do
13083: LD_ADDR_VAR 0 2
13087: PUSH
13088: DOUBLE
13089: LD_INT 1
13091: DEC
13092: ST_TO_ADDR
13093: LD_EXP 75
13097: PUSH
13098: FOR_TO
13099: IFFALSE 13139
// if not side_positions [ i ] then
13101: LD_EXP 75
13105: PUSH
13106: LD_VAR 0 2
13110: ARRAY
13111: NOT
13112: IFFALSE 13137
// defaited = replace ( defaited , i , true ) ;
13114: LD_ADDR_LOC 7
13118: PUSH
13119: LD_LOC 7
13123: PPUSH
13124: LD_VAR 0 2
13128: PPUSH
13129: LD_INT 1
13131: PPUSH
13132: CALL_OW 1
13136: ST_TO_ADDR
13137: GO 13098
13139: POP
13140: POP
// end ;
13141: LD_VAR 0 1
13145: RET
// function CanWinLoose ; begin
13146: LD_INT 0
13148: PPUSH
// Result := true ;
13149: LD_ADDR_VAR 0 1
13153: PUSH
13154: LD_INT 1
13156: ST_TO_ADDR
// if IAmServer and PlayerCount > 0 then
13157: CALL_OW 518
13161: PUSH
13162: CALL_OW 519
13166: PUSH
13167: LD_INT 0
13169: GREATER
13170: AND
13171: IFFALSE 13181
// Result := false ;
13173: LD_ADDR_VAR 0 1
13177: PUSH
13178: LD_INT 0
13180: ST_TO_ADDR
// if IAmSpec and PlayerCount > 1 then
13181: CALL_OW 531
13185: PUSH
13186: CALL_OW 519
13190: PUSH
13191: LD_INT 1
13193: GREATER
13194: AND
13195: IFFALSE 13205
// Result := false ;
13197: LD_ADDR_VAR 0 1
13201: PUSH
13202: LD_INT 0
13204: ST_TO_ADDR
// end ;
13205: LD_VAR 0 1
13209: RET
// export function HasPower ( i ) ; var k , h ; begin
13210: LD_INT 0
13212: PPUSH
13213: PPUSH
13214: PPUSH
// if not MultiplayerSideAlive ( i ) and not Side_Comps [ i ] and MultiPlayer then
13215: LD_VAR 0 1
13219: PPUSH
13220: CALL_OW 108
13224: NOT
13225: PUSH
13226: LD_EXP 78
13230: PUSH
13231: LD_VAR 0 1
13235: ARRAY
13236: NOT
13237: AND
13238: PUSH
13239: LD_OWVAR 4
13243: AND
13244: IFFALSE 13256
// begin result = false ;
13246: LD_ADDR_VAR 0 2
13250: PUSH
13251: LD_INT 0
13253: ST_TO_ADDR
// end else
13254: GO 13551
// case def_win_rules of 0 :
13256: LD_EXP 21
13260: PUSH
13261: LD_INT 0
13263: DOUBLE
13264: EQUAL
13265: IFTRUE 13269
13267: GO 13432
13269: POP
// if def_people_respawning then
13270: LD_EXP 25
13274: IFFALSE 13365
// Result := FilterAllUnits ( [ [ f_side , i ] , [ f_or , [ f_type , unit_human ] , [ f_control , control_computer ] , [ f_control , control_apeman ] , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) else
13276: LD_ADDR_VAR 0 2
13280: PUSH
13281: LD_INT 22
13283: PUSH
13284: LD_VAR 0 1
13288: PUSH
13289: EMPTY
13290: LIST
13291: LIST
13292: PUSH
13293: LD_INT 2
13295: PUSH
13296: LD_INT 21
13298: PUSH
13299: LD_INT 1
13301: PUSH
13302: EMPTY
13303: LIST
13304: LIST
13305: PUSH
13306: LD_INT 33
13308: PUSH
13309: LD_INT 3
13311: PUSH
13312: EMPTY
13313: LIST
13314: LIST
13315: PUSH
13316: LD_INT 33
13318: PUSH
13319: LD_INT 5
13321: PUSH
13322: EMPTY
13323: LIST
13324: LIST
13325: PUSH
13326: LD_INT 30
13328: PUSH
13329: LD_INT 0
13331: PUSH
13332: EMPTY
13333: LIST
13334: LIST
13335: PUSH
13336: LD_INT 30
13338: PUSH
13339: LD_INT 1
13341: PUSH
13342: EMPTY
13343: LIST
13344: LIST
13345: PUSH
13346: EMPTY
13347: LIST
13348: LIST
13349: LIST
13350: LIST
13351: LIST
13352: LIST
13353: PUSH
13354: EMPTY
13355: LIST
13356: LIST
13357: PPUSH
13358: CALL_OW 69
13362: ST_TO_ADDR
13363: GO 13430
// Result := FilterAllUnits ( [ [ f_side , i ] , [ f_or , [ f_type , unit_human ] , [ f_control , control_computer ] , [ f_control , control_apeman ] ] ] ) ; 1 :
13365: LD_ADDR_VAR 0 2
13369: PUSH
13370: LD_INT 22
13372: PUSH
13373: LD_VAR 0 1
13377: PUSH
13378: EMPTY
13379: LIST
13380: LIST
13381: PUSH
13382: LD_INT 2
13384: PUSH
13385: LD_INT 21
13387: PUSH
13388: LD_INT 1
13390: PUSH
13391: EMPTY
13392: LIST
13393: LIST
13394: PUSH
13395: LD_INT 33
13397: PUSH
13398: LD_INT 3
13400: PUSH
13401: EMPTY
13402: LIST
13403: LIST
13404: PUSH
13405: LD_INT 33
13407: PUSH
13408: LD_INT 5
13410: PUSH
13411: EMPTY
13412: LIST
13413: LIST
13414: PUSH
13415: EMPTY
13416: LIST
13417: LIST
13418: LIST
13419: LIST
13420: PUSH
13421: EMPTY
13422: LIST
13423: LIST
13424: PPUSH
13425: CALL_OW 69
13429: ST_TO_ADDR
13430: GO 13551
13432: LD_INT 1
13434: DOUBLE
13435: EQUAL
13436: IFTRUE 13440
13438: GO 13479
13440: POP
// Result = FilterAllUnits ( [ [ f_side , i ] , [ f_type , unit_human ] ] ) ; 2 :
13441: LD_ADDR_VAR 0 2
13445: PUSH
13446: LD_INT 22
13448: PUSH
13449: LD_VAR 0 1
13453: PUSH
13454: EMPTY
13455: LIST
13456: LIST
13457: PUSH
13458: LD_INT 21
13460: PUSH
13461: LD_INT 1
13463: PUSH
13464: EMPTY
13465: LIST
13466: LIST
13467: PUSH
13468: EMPTY
13469: LIST
13470: LIST
13471: PPUSH
13472: CALL_OW 69
13476: ST_TO_ADDR
13477: GO 13551
13479: LD_INT 2
13481: DOUBLE
13482: EQUAL
13483: IFTRUE 13487
13485: GO 13550
13487: POP
// begin h = false ;
13488: LD_ADDR_VAR 0 4
13492: PUSH
13493: LD_INT 0
13495: ST_TO_ADDR
// for k in heroes [ i ] do
13496: LD_ADDR_VAR 0 3
13500: PUSH
13501: LD_EXP 50
13505: PUSH
13506: LD_VAR 0 1
13510: ARRAY
13511: PUSH
13512: FOR_IN
13513: IFFALSE 13536
// if IsLive ( k ) then
13515: LD_VAR 0 3
13519: PPUSH
13520: CALL_OW 300
13524: IFFALSE 13534
// h = true ;
13526: LD_ADDR_VAR 0 4
13530: PUSH
13531: LD_INT 1
13533: ST_TO_ADDR
13534: GO 13512
13536: POP
13537: POP
// Result := h ;
13538: LD_ADDR_VAR 0 2
13542: PUSH
13543: LD_VAR 0 4
13547: ST_TO_ADDR
// end ; end ;
13548: GO 13551
13550: POP
// end ;
13551: LD_VAR 0 2
13555: RET
// function AlliedSides ( i , j ) ; begin
13556: LD_INT 0
13558: PPUSH
// Result := false ;
13559: LD_ADDR_VAR 0 3
13563: PUSH
13564: LD_INT 0
13566: ST_TO_ADDR
// if ( GetAttitude ( i , j ) = att_friend ) and ( GetAttitude ( j , i ) = att_friend ) and GetAlliedVictory ( i ) and GetAlliedVictory ( j ) then
13567: LD_VAR 0 1
13571: PPUSH
13572: LD_VAR 0 2
13576: PPUSH
13577: CALL_OW 81
13581: PUSH
13582: LD_INT 1
13584: EQUAL
13585: PUSH
13586: LD_VAR 0 2
13590: PPUSH
13591: LD_VAR 0 1
13595: PPUSH
13596: CALL_OW 81
13600: PUSH
13601: LD_INT 1
13603: EQUAL
13604: AND
13605: PUSH
13606: LD_VAR 0 1
13610: PPUSH
13611: CALL_OW 83
13615: AND
13616: PUSH
13617: LD_VAR 0 2
13621: PPUSH
13622: CALL_OW 83
13626: AND
13627: IFFALSE 13637
// Result := true ;
13629: LD_ADDR_VAR 0 3
13633: PUSH
13634: LD_INT 1
13636: ST_TO_ADDR
// end ;
13637: LD_VAR 0 3
13641: RET
// every 100 trigger CanWinLoose and not GameEnded marked 400 do
13642: CALL 13146 0 0
13646: PUSH
13647: LD_LOC 8
13651: NOT
13652: AND
13653: IFFALSE 13669
13655: GO 13657
13657: DISABLE
// WaitServerStrings = [ #Player-Ended ] ;
13658: LD_ADDR_EXP 107
13662: PUSH
13663: LD_STRING #Player-Ended
13665: PUSH
13666: EMPTY
13667: LIST
13668: ST_TO_ADDR
13669: END
// every 100 trigger CanWinLoose and GameEnded marked 400 do
13670: CALL 13146 0 0
13674: PUSH
13675: LD_LOC 8
13679: AND
13680: IFFALSE 13689
13682: GO 13684
13684: DISABLE
// YouLostInMultiplayer ;
13685: CALL_OW 107
13689: END
// every 100 trigger not CanWinLoose and not IAmSpec marked 400 do
13690: CALL 13146 0 0
13694: NOT
13695: PUSH
13696: CALL_OW 531
13700: NOT
13701: AND
13702: IFFALSE 13718
13704: GO 13706
13706: DISABLE
// WaitServerStrings = [ #server-wait ] ;
13707: LD_ADDR_EXP 107
13711: PUSH
13712: LD_STRING #server-wait
13714: PUSH
13715: EMPTY
13716: LIST
13717: ST_TO_ADDR
13718: END
// every 100 trigger IAmSpec do
13719: CALL_OW 531
13723: IFFALSE 13739
13725: GO 13727
13727: DISABLE
// WaitServerStrings = [ #Player-IAmSpec ] ;
13728: LD_ADDR_EXP 107
13732: PUSH
13733: LD_STRING #Player-IAmSpec
13735: PUSH
13736: EMPTY
13737: LIST
13738: ST_TO_ADDR
13739: END
// every 100 trigger GameEnded and IAmSpec do
13740: LD_LOC 8
13744: PUSH
13745: CALL_OW 531
13749: AND
13750: IFFALSE 13759
13752: GO 13754
13754: DISABLE
// YouLostInMultiplayer ;
13755: CALL_OW 107
13759: END
// every 100 trigger CanWinLoose and not GameEnded marked 401 do
13760: CALL 13146 0 0
13764: PUSH
13765: LD_LOC 8
13769: NOT
13770: AND
13771: IFFALSE 13787
13773: GO 13775
13775: DISABLE
// WaitServerStrings = [ $player-win ] ;
13776: LD_ADDR_EXP 107
13780: PUSH
13781: LD_STRING $player-win
13783: PUSH
13784: EMPTY
13785: LIST
13786: ST_TO_ADDR
13787: END
// every 100 trigger CanWinLoose and GameEnded marked 401 do
13788: CALL 13146 0 0
13792: PUSH
13793: LD_LOC 8
13797: AND
13798: IFFALSE 13822
13800: GO 13802
13802: DISABLE
// begin SA_Win ( Side_Nations [ Your_side ] ) ;
13803: LD_EXP 76
13807: PUSH
13808: LD_OWVAR 2
13812: ARRAY
13813: PPUSH
13814: CALL 34501 0 1
// YouWinInMultiplayer ;
13818: CALL_OW 106
// end ;
13822: END
// every 100 trigger isEditor marked 401 do
13823: LD_OWVAR 84
13827: IFFALSE 13843
13829: GO 13831
13831: DISABLE
// Debug_Strings = [ You won ] ;
13832: LD_ADDR_OWVAR 48
13836: PUSH
13837: LD_STRING You won
13839: PUSH
13840: EMPTY
13841: LIST
13842: ST_TO_ADDR
13843: END
// every 100 trigger isEditor marked 400 do
13844: LD_OWVAR 84
13848: IFFALSE 13864
13850: GO 13852
13852: DISABLE
// Debug_Strings = [ You loss ] ;
13853: LD_ADDR_OWVAR 48
13857: PUSH
13858: LD_STRING You loss
13860: PUSH
13861: EMPTY
13862: LIST
13863: ST_TO_ADDR
13864: END
// every 100 marked 98 do var i , un ;
13865: GO 13867
13867: DISABLE
13868: LD_INT 0
13870: PPUSH
13871: PPUSH
// begin for i = 1 to side_positions do
13872: LD_ADDR_VAR 0 1
13876: PUSH
13877: DOUBLE
13878: LD_INT 1
13880: DEC
13881: ST_TO_ADDR
13882: LD_EXP 75
13886: PUSH
13887: FOR_TO
13888: IFFALSE 14017
// begin if side_positions [ i ] then
13890: LD_EXP 75
13894: PUSH
13895: LD_VAR 0 1
13899: ARRAY
13900: IFFALSE 14015
// if not HasPower ( i ) and not Defaited [ i ] then
13902: LD_VAR 0 1
13906: PPUSH
13907: CALL 13210 0 1
13911: NOT
13912: PUSH
13913: LD_LOC 7
13917: PUSH
13918: LD_VAR 0 1
13922: ARRAY
13923: NOT
13924: AND
13925: IFFALSE 14015
// begin Defaited = replace ( Defaited , i , true ) ;
13927: LD_ADDR_LOC 7
13931: PUSH
13932: LD_LOC 7
13936: PPUSH
13937: LD_VAR 0 1
13941: PPUSH
13942: LD_INT 1
13944: PPUSH
13945: CALL_OW 1
13949: ST_TO_ADDR
// if not i in defeated_specs then
13950: LD_VAR 0 1
13954: PUSH
13955: LD_LOC 10
13959: IN
13960: NOT
13961: IFFALSE 13996
// begin SetPlayerSpectator ( ) ;
13963: CALL_OW 572
// defeated_specs := Replace ( defeated_specs , defeated_specs + 1 , i ) ;
13967: LD_ADDR_LOC 10
13971: PUSH
13972: LD_LOC 10
13976: PPUSH
13977: LD_LOC 10
13981: PUSH
13982: LD_INT 1
13984: PLUS
13985: PPUSH
13986: LD_VAR 0 1
13990: PPUSH
13991: CALL_OW 1
13995: ST_TO_ADDR
// end ; if i = your_side then
13996: LD_VAR 0 1
14000: PUSH
14001: LD_OWVAR 2
14005: EQUAL
14006: IFFALSE 14015
// begin Multiplayer_Loose_Message ;
14008: CALL_OW 521
// enable ( 400 ) ;
14012: LD_INT 400
14014: ENABLE_MARKED
// end ; end ; end ;
14015: GO 13887
14017: POP
14018: POP
// DidGameEnd ;
14019: CALL 14034 0 0
// if not GameEnded then
14023: LD_LOC 8
14027: NOT
14028: IFFALSE 14031
// enable ;
14030: ENABLE
// end ;
14031: PPOPN 2
14033: END
// function DidGameEnd ; var i , k , enemy ; begin
14034: LD_INT 0
14036: PPUSH
14037: PPUSH
14038: PPUSH
14039: PPUSH
// enemy = [ ] ;
14040: LD_ADDR_VAR 0 4
14044: PUSH
14045: EMPTY
14046: ST_TO_ADDR
// for i = 1 to side_positions do
14047: LD_ADDR_VAR 0 2
14051: PUSH
14052: DOUBLE
14053: LD_INT 1
14055: DEC
14056: ST_TO_ADDR
14057: LD_EXP 75
14061: PUSH
14062: FOR_TO
14063: IFFALSE 14157
// if not defaited [ i ] then
14065: LD_LOC 7
14069: PUSH
14070: LD_VAR 0 2
14074: ARRAY
14075: NOT
14076: IFFALSE 14155
// for k = 1 to side_positions do
14078: LD_ADDR_VAR 0 3
14082: PUSH
14083: DOUBLE
14084: LD_INT 1
14086: DEC
14087: ST_TO_ADDR
14088: LD_EXP 75
14092: PUSH
14093: FOR_TO
14094: IFFALSE 14153
// if not defaited [ k ] then
14096: LD_LOC 7
14100: PUSH
14101: LD_VAR 0 3
14105: ARRAY
14106: NOT
14107: IFFALSE 14151
// if not AlliedSides ( i , k ) then
14109: LD_VAR 0 2
14113: PPUSH
14114: LD_VAR 0 3
14118: PPUSH
14119: CALL 13556 0 2
14123: NOT
14124: IFFALSE 14151
// enemy = enemy ^ [ i , k ] ;
14126: LD_ADDR_VAR 0 4
14130: PUSH
14131: LD_VAR 0 4
14135: PUSH
14136: LD_VAR 0 2
14140: PUSH
14141: LD_VAR 0 3
14145: PUSH
14146: EMPTY
14147: LIST
14148: LIST
14149: ADD
14150: ST_TO_ADDR
14151: GO 14093
14153: POP
14154: POP
14155: GO 14062
14157: POP
14158: POP
// if not enemy then
14159: LD_VAR 0 4
14163: NOT
14164: IFFALSE 14190
// begin GameEnded = true ;
14166: LD_ADDR_LOC 8
14170: PUSH
14171: LD_INT 1
14173: ST_TO_ADDR
// if not defaited [ your_side ] then
14174: LD_LOC 7
14178: PUSH
14179: LD_OWVAR 2
14183: ARRAY
14184: NOT
14185: IFFALSE 14190
// enable ( 401 ) ;
14187: LD_INT 401
14189: ENABLE_MARKED
// end ; end ;
14190: LD_VAR 0 1
14194: RET
// function unfog ; var k , friends ; begin
14195: LD_INT 0
14197: PPUSH
14198: PPUSH
14199: PPUSH
// SetPlayerSpectator ( ) ;
14200: CALL_OW 572
// unfoged = true ;
14204: LD_ADDR_LOC 9
14208: PUSH
14209: LD_INT 1
14211: ST_TO_ADDR
// end ;
14212: LD_VAR 0 1
14216: RET
// export function MakeGameEnd ; begin
14217: LD_INT 0
14219: PPUSH
// SetPlayerSpectator ( ) ;
14220: CALL_OW 572
// unfoged = true ;
14224: LD_ADDR_LOC 9
14228: PUSH
14229: LD_INT 1
14231: ST_TO_ADDR
// wait ( 0 0$5 ) ;
14232: LD_INT 175
14234: PPUSH
14235: CALL_OW 67
// GameEnded = true ;
14239: LD_ADDR_LOC 8
14243: PUSH
14244: LD_INT 1
14246: ST_TO_ADDR
// end ;
14247: LD_VAR 0 1
14251: RET
// export function GetGameEnded ; begin
14252: LD_INT 0
14254: PPUSH
// result = GameEnded ;
14255: LD_ADDR_VAR 0 1
14259: PUSH
14260: LD_LOC 8
14264: ST_TO_ADDR
// end ; end_of_file
14265: LD_VAR 0 1
14269: RET
// var nations , amount_of_players ; export ApesAreas ; function apeman_init ; var ape_names ; begin
14270: LD_INT 0
14272: PPUSH
14273: PPUSH
// uc_side := 0 ;
14274: LD_ADDR_OWVAR 20
14278: PUSH
14279: LD_INT 0
14281: ST_TO_ADDR
// uc_nation := nation_nature ;
14282: LD_ADDR_OWVAR 21
14286: PUSH
14287: LD_INT 0
14289: ST_TO_ADDR
// ape_names = [ Tupoun , Opoce , Opka , Butrus , Bubu , Condor , Kuklajs , Simon , Ugh , Urgh , Argh , Aargh , Hrumph , Grumph , Oorg , Eghrr , Rrrr , Bark , Wraughrr , :-) , Semik , Hrgh , Hur , Havran , Nazghul , Brutal , Kato Zluta Opoce , Monkey , Yeargh , Marta , Batman , Barkman , Xcenovsk , David Love , Freon , Stoupik , Quik , Jam Prckovic Laren , CFC , Kvakous , Sumys , Agent , Nazghul , Havran , Vrana , Havranek , Carlos Frank , Tekar , Andy , Angela , Janina , Shipanze , Simpan , Nazghulik , Potrusil , Potrus , Butrus , Potrusil , Simon , Auuu , NEMO , Silena opice , Meuznenapadazadnejmeno , Uhrun , Marmelada , Negr , Fnuk , Slim , Kvak , Dave , Bruntal , Arnie , Polda , Jen , Siddha , Silnickar , Bukvice , Zalud , Elvis , Nazghul , Chruadfa , Nazghul , Kato Yellow Ape , Cpt. Ape , King Of The Hill , Pterinochilus , Bad Platypus , Really Bad Ape , Looser , Looser , Looser , Megadeth , Mad Ape , Wraughhhh , ":) ] ;
14290: LD_ADDR_VAR 0 2
14294: PUSH
14295: LD_STRING Tupoun
14297: PUSH
14298: LD_STRING Opoce
14300: PUSH
14301: LD_STRING Opka
14303: PUSH
14304: LD_STRING Butrus
14306: PUSH
14307: LD_STRING Bubu
14309: PUSH
14310: LD_STRING Condor
14312: PUSH
14313: LD_STRING Kuklajs
14315: PUSH
14316: LD_STRING Simon
14318: PUSH
14319: LD_STRING Ugh
14321: PUSH
14322: LD_STRING Urgh
14324: PUSH
14325: LD_STRING Argh
14327: PUSH
14328: LD_STRING Aargh
14330: PUSH
14331: LD_STRING Hrumph
14333: PUSH
14334: LD_STRING Grumph
14336: PUSH
14337: LD_STRING Oorg
14339: PUSH
14340: LD_STRING Eghrr
14342: PUSH
14343: LD_STRING Rrrr
14345: PUSH
14346: LD_STRING Bark
14348: PUSH
14349: LD_STRING Wraughrr
14351: PUSH
14352: LD_STRING :-)
14354: PUSH
14355: LD_STRING Semik
14357: PUSH
14358: LD_STRING Hrgh
14360: PUSH
14361: LD_STRING Hur
14363: PUSH
14364: LD_STRING Havran
14366: PUSH
14367: LD_STRING Nazghul
14369: PUSH
14370: LD_STRING Brutal
14372: PUSH
14373: LD_STRING Kato Zluta Opoce
14375: PUSH
14376: LD_STRING Monkey
14378: PUSH
14379: LD_STRING Yeargh
14381: PUSH
14382: LD_STRING Marta
14384: PUSH
14385: LD_STRING Batman
14387: PUSH
14388: LD_STRING Barkman
14390: PUSH
14391: LD_STRING Xcenovsk
14393: PUSH
14394: LD_STRING David Love
14396: PUSH
14397: LD_STRING Freon
14399: PUSH
14400: LD_STRING Stoupik
14402: PUSH
14403: LD_STRING Quik
14405: PUSH
14406: LD_STRING Jam Prckovic Laren
14408: PUSH
14409: LD_STRING CFC
14411: PUSH
14412: LD_STRING Kvakous
14414: PUSH
14415: LD_STRING Sumys
14417: PUSH
14418: LD_STRING Agent
14420: PUSH
14421: LD_STRING Nazghul
14423: PUSH
14424: LD_STRING Havran
14426: PUSH
14427: LD_STRING Vrana
14429: PUSH
14430: LD_STRING Havranek
14432: PUSH
14433: LD_STRING Carlos Frank
14435: PUSH
14436: LD_STRING Tekar
14438: PUSH
14439: LD_STRING Andy
14441: PUSH
14442: LD_STRING Angela
14444: PUSH
14445: LD_STRING Janina
14447: PUSH
14448: LD_STRING Shipanze
14450: PUSH
14451: LD_STRING Simpan
14453: PUSH
14454: LD_STRING Nazghulik
14456: PUSH
14457: LD_STRING Potrusil
14459: PUSH
14460: LD_STRING Potrus
14462: PUSH
14463: LD_STRING Butrus
14465: PUSH
14466: LD_STRING Potrusil
14468: PUSH
14469: LD_STRING Simon
14471: PUSH
14472: LD_STRING Auuu
14474: PUSH
14475: LD_STRING NEMO
14477: PUSH
14478: LD_STRING Silena opice
14480: PUSH
14481: LD_STRING Meuznenapadazadnejmeno
14483: PUSH
14484: LD_STRING Uhrun
14486: PUSH
14487: LD_STRING Marmelada
14489: PUSH
14490: LD_STRING Negr
14492: PUSH
14493: LD_STRING Fnuk
14495: PUSH
14496: LD_STRING Slim
14498: PUSH
14499: LD_STRING Kvak
14501: PUSH
14502: LD_STRING Dave
14504: PUSH
14505: LD_STRING Bruntal
14507: PUSH
14508: LD_STRING Arnie
14510: PUSH
14511: LD_STRING Polda
14513: PUSH
14514: LD_STRING Jen
14516: PUSH
14517: LD_STRING Siddha
14519: PUSH
14520: LD_STRING Silnickar
14522: PUSH
14523: LD_STRING Bukvice
14525: PUSH
14526: LD_STRING Zalud
14528: PUSH
14529: LD_STRING Elvis
14531: PUSH
14532: LD_STRING Nazghul
14534: PUSH
14535: LD_STRING Chruadfa
14537: PUSH
14538: LD_STRING Nazghul
14540: PUSH
14541: LD_STRING Kato Yellow Ape
14543: PUSH
14544: LD_STRING Cpt. Ape
14546: PUSH
14547: LD_STRING King Of The Hill
14549: PUSH
14550: LD_STRING Pterinochilus
14552: PUSH
14553: LD_STRING Bad Platypus
14555: PUSH
14556: LD_STRING Really Bad Ape
14558: PUSH
14559: LD_STRING Looser
14561: PUSH
14562: LD_STRING Looser
14564: PUSH
14565: LD_STRING Looser
14567: PUSH
14568: LD_STRING Megadeth
14570: PUSH
14571: LD_STRING Mad Ape
14573: PUSH
14574: LD_STRING Wraughhhh
14576: PUSH
14577: LD_STRING ":)
14579: PUSH
14580: EMPTY
14581: LIST
14582: LIST
14583: LIST
14584: LIST
14585: LIST
14586: LIST
14587: LIST
14588: LIST
14589: LIST
14590: LIST
14591: LIST
14592: LIST
14593: LIST
14594: LIST
14595: LIST
14596: LIST
14597: LIST
14598: LIST
14599: LIST
14600: LIST
14601: LIST
14602: LIST
14603: LIST
14604: LIST
14605: LIST
14606: LIST
14607: LIST
14608: LIST
14609: LIST
14610: LIST
14611: LIST
14612: LIST
14613: LIST
14614: LIST
14615: LIST
14616: LIST
14617: LIST
14618: LIST
14619: LIST
14620: LIST
14621: LIST
14622: LIST
14623: LIST
14624: LIST
14625: LIST
14626: LIST
14627: LIST
14628: LIST
14629: LIST
14630: LIST
14631: LIST
14632: LIST
14633: LIST
14634: LIST
14635: LIST
14636: LIST
14637: LIST
14638: LIST
14639: LIST
14640: LIST
14641: LIST
14642: LIST
14643: LIST
14644: LIST
14645: LIST
14646: LIST
14647: LIST
14648: LIST
14649: LIST
14650: LIST
14651: LIST
14652: LIST
14653: LIST
14654: LIST
14655: LIST
14656: LIST
14657: LIST
14658: LIST
14659: LIST
14660: LIST
14661: LIST
14662: LIST
14663: LIST
14664: LIST
14665: LIST
14666: LIST
14667: LIST
14668: LIST
14669: LIST
14670: LIST
14671: LIST
14672: LIST
14673: LIST
14674: LIST
14675: LIST
14676: ST_TO_ADDR
// hc_name = ape_names [ Rand ( 1 , ape_names ) ] ;
14677: LD_ADDR_OWVAR 26
14681: PUSH
14682: LD_VAR 0 2
14686: PUSH
14687: LD_INT 1
14689: PPUSH
14690: LD_VAR 0 2
14694: PPUSH
14695: CALL_OW 12
14699: ARRAY
14700: ST_TO_ADDR
// randomHumanStats ( initial_level - 2 ) ;
14701: LD_EXP 42
14705: PUSH
14706: LD_INT 2
14708: MINUS
14709: PPUSH
14710: CALL 17282 0 1
// hc_class := class_apeman ;
14714: LD_ADDR_OWVAR 28
14718: PUSH
14719: LD_INT 12
14721: ST_TO_ADDR
// if hc_attr [ 2 ] < 12 then
14722: LD_OWVAR 29
14726: PUSH
14727: LD_INT 2
14729: ARRAY
14730: PUSH
14731: LD_INT 12
14733: LESS
14734: IFFALSE 14773
// hc_attr = [ hc_attr [ 1 ] + 5 , hc_attr [ 2 ] + 1 ] else
14736: LD_ADDR_OWVAR 29
14740: PUSH
14741: LD_OWVAR 29
14745: PUSH
14746: LD_INT 1
14748: ARRAY
14749: PUSH
14750: LD_INT 5
14752: PLUS
14753: PUSH
14754: LD_OWVAR 29
14758: PUSH
14759: LD_INT 2
14761: ARRAY
14762: PUSH
14763: LD_INT 1
14765: PLUS
14766: PUSH
14767: EMPTY
14768: LIST
14769: LIST
14770: ST_TO_ADDR
14771: GO 14804
// hc_attr = [ hc_attr [ 1 ] + 5 , hc_attr [ 2 ] ] ;
14773: LD_ADDR_OWVAR 29
14777: PUSH
14778: LD_OWVAR 29
14782: PUSH
14783: LD_INT 1
14785: ARRAY
14786: PUSH
14787: LD_INT 5
14789: PLUS
14790: PUSH
14791: LD_OWVAR 29
14795: PUSH
14796: LD_INT 2
14798: ARRAY
14799: PUSH
14800: EMPTY
14801: LIST
14802: LIST
14803: ST_TO_ADDR
// hc_sex := sex_male ;
14804: LD_ADDR_OWVAR 27
14808: PUSH
14809: LD_INT 1
14811: ST_TO_ADDR
// hc_importance := 0 ;
14812: LD_ADDR_OWVAR 32
14816: PUSH
14817: LD_INT 0
14819: ST_TO_ADDR
// hc_agressivity := Rand ( - 20 , 20 ) ;
14820: LD_ADDR_OWVAR 35
14824: PUSH
14825: LD_INT 20
14827: NEG
14828: PPUSH
14829: LD_INT 20
14831: PPUSH
14832: CALL_OW 12
14836: ST_TO_ADDR
// end ;
14837: LD_VAR 0 1
14841: RET
// every 0 0$15 + 0 0$1 marked 493 do var i , a , ape ;
14842: GO 14844
14844: DISABLE
14845: LD_INT 0
14847: PPUSH
14848: PPUSH
14849: PPUSH
// begin repeat ape = FilterAllUnits ( [ [ f_side , 0 ] , [ f_class , class_apeman ] ] ) ;
14850: LD_ADDR_VAR 0 3
14854: PUSH
14855: LD_INT 22
14857: PUSH
14858: LD_INT 0
14860: PUSH
14861: EMPTY
14862: LIST
14863: LIST
14864: PUSH
14865: LD_INT 25
14867: PUSH
14868: LD_INT 12
14870: PUSH
14871: EMPTY
14872: LIST
14873: LIST
14874: PUSH
14875: EMPTY
14876: LIST
14877: LIST
14878: PPUSH
14879: CALL_OW 69
14883: ST_TO_ADDR
// Wait ( ( ape + 1 ) * Rand ( 0 0$10 , 1 1$0 ) ) ;
14884: LD_VAR 0 3
14888: PUSH
14889: LD_INT 1
14891: PLUS
14892: PUSH
14893: LD_INT 350
14895: PPUSH
14896: LD_INT 2100
14898: PPUSH
14899: CALL_OW 12
14903: MUL
14904: PPUSH
14905: CALL_OW 67
// until ape <= ( spawning_koef_of_apemen / 6 ) * amount_of_players ;
14909: LD_VAR 0 3
14913: PUSH
14914: LD_EXP 47
14918: PUSH
14919: LD_INT 6
14921: DIVREAL
14922: PUSH
14923: LD_LOC 12
14927: MUL
14928: LESSEQUAL
14929: IFFALSE 14850
// for i = 1 to spawning_koef_of_apemen / 5 do
14931: LD_ADDR_VAR 0 1
14935: PUSH
14936: DOUBLE
14937: LD_INT 1
14939: DEC
14940: ST_TO_ADDR
14941: LD_EXP 47
14945: PUSH
14946: LD_INT 5
14948: DIVREAL
14949: PUSH
14950: FOR_TO
14951: IFFALSE 15053
// if ApesAreas then
14953: LD_EXP 105
14957: IFFALSE 15006
// begin for a in ApesAreas do
14959: LD_ADDR_VAR 0 2
14963: PUSH
14964: LD_EXP 105
14968: PUSH
14969: FOR_IN
14970: IFFALSE 15002
// begin apeman_init ;
14972: CALL 14270 0 0
// PlaceUnitArea ( CreateHuman , a , false ) ;
14976: CALL_OW 44
14980: PPUSH
14981: LD_VAR 0 2
14985: PPUSH
14986: LD_INT 0
14988: PPUSH
14989: CALL_OW 49
// Wait ( 3 ) ;
14993: LD_INT 3
14995: PPUSH
14996: CALL_OW 67
// end ;
15000: GO 14969
15002: POP
15003: POP
// end else
15004: GO 15051
// begin for a = 1 to amount_of_players do
15006: LD_ADDR_VAR 0 2
15010: PUSH
15011: DOUBLE
15012: LD_INT 1
15014: DEC
15015: ST_TO_ADDR
15016: LD_LOC 12
15020: PUSH
15021: FOR_TO
15022: IFFALSE 15049
// begin apeman_init ;
15024: CALL 14270 0 0
// PlaceUnitAnywhere ( CreateHuman , false ) ;
15028: CALL_OW 44
15032: PPUSH
15033: LD_INT 0
15035: PPUSH
15036: CALL_OW 51
// Wait ( 3 ) ;
15040: LD_INT 3
15042: PPUSH
15043: CALL_OW 67
// end ;
15047: GO 15021
15049: POP
15050: POP
// end ;
15051: GO 14950
15053: POP
15054: POP
// wait ( rand ( 1 1$0 , 5 5$0 ) ) ;
15055: LD_INT 2100
15057: PPUSH
15058: LD_INT 10500
15060: PPUSH
15061: CALL_OW 12
15065: PPUSH
15066: CALL_OW 67
// end ;
15070: PPOPN 3
15072: END
// export function StartApe ; var i , ape ; begin
15073: LD_INT 0
15075: PPUSH
15076: PPUSH
15077: PPUSH
// for i := 1 to 8 do
15078: LD_ADDR_VAR 0 2
15082: PUSH
15083: DOUBLE
15084: LD_INT 1
15086: DEC
15087: ST_TO_ADDR
15088: LD_INT 8
15090: PUSH
15091: FOR_TO
15092: IFFALSE 15126
// if Side_Positions [ i ] <> 0 then
15094: LD_EXP 75
15098: PUSH
15099: LD_VAR 0 2
15103: ARRAY
15104: PUSH
15105: LD_INT 0
15107: NONEQUAL
15108: IFFALSE 15124
// amount_of_players := amount_of_players + 1 ;
15110: LD_ADDR_LOC 12
15114: PUSH
15115: LD_LOC 12
15119: PUSH
15120: LD_INT 1
15122: PLUS
15123: ST_TO_ADDR
15124: GO 15091
15126: POP
15127: POP
// if game_type in GT_doublenat ^ GT_doublepeople then
15128: LD_EXP 1
15132: PUSH
15133: LD_EXP 3
15137: PUSH
15138: LD_EXP 4
15142: ADD
15143: IN
15144: IFFALSE 15162
// amount_of_players = amount_of_players * 2 else
15146: LD_ADDR_LOC 12
15150: PUSH
15151: LD_LOC 12
15155: PUSH
15156: LD_INT 2
15158: MUL
15159: ST_TO_ADDR
15160: GO 15188
// if game_type = GT_TripleNat then
15162: LD_EXP 1
15166: PUSH
15167: LD_EXP 5
15171: EQUAL
15172: IFFALSE 15188
// amount_of_players = amount_of_players * 3 ;
15174: LD_ADDR_LOC 12
15178: PUSH
15179: LD_LOC 12
15183: PUSH
15184: LD_INT 3
15186: MUL
15187: ST_TO_ADDR
// for i = 1 to Rand ( 2 , 7 ) do
15188: LD_ADDR_VAR 0 2
15192: PUSH
15193: DOUBLE
15194: LD_INT 1
15196: DEC
15197: ST_TO_ADDR
15198: LD_INT 2
15200: PPUSH
15201: LD_INT 7
15203: PPUSH
15204: CALL_OW 12
15208: PUSH
15209: FOR_TO
15210: IFFALSE 15240
// begin apeman_init ;
15212: CALL 14270 0 0
// ape := CreateHuman ;
15216: LD_ADDR_VAR 0 3
15220: PUSH
15221: CALL_OW 44
15225: ST_TO_ADDR
// PlaceUnitAnywhere ( ape , false ) ;
15226: LD_VAR 0 3
15230: PPUSH
15231: LD_INT 0
15233: PPUSH
15234: CALL_OW 51
// end ;
15238: GO 15209
15240: POP
15241: POP
// end ;
15242: LD_VAR 0 1
15246: RET
// function tiger_init ; var tiger_names ; begin
15247: LD_INT 0
15249: PPUSH
15250: PPUSH
// uc_side := 0 ;
15251: LD_ADDR_OWVAR 20
15255: PUSH
15256: LD_INT 0
15258: ST_TO_ADDR
// uc_nation := nation_nature ;
15259: LD_ADDR_OWVAR 21
15263: PUSH
15264: LD_INT 0
15266: ST_TO_ADDR
// tiger_names = [ Fredy , Montana , Pishkot , Sikorski , Riko , Kowalrski , Neo , Kessi , Riko , Lulu , Edie , Edy , Roxy , Roxas , Beast , Drago , Draco , Ali , Lessie , White Fang , Chess , Nora , Shriek , Bl Tesk , Barkman , Meuznenapadazadnejmeno , Ihavenotthinkofanyname , Hiro , Scooby , Fantasy , Troll , Baltazar , Pamella , Kleopatra , Ceasar , Gimmy , Scooby Dooby Doo , Yogi , Brutal , Brutus , Janina , Crazy , Jen , Jenova , Kiosuke , Akamaru ] ;
15267: LD_ADDR_VAR 0 2
15271: PUSH
15272: LD_STRING Fredy
15274: PUSH
15275: LD_STRING Montana
15277: PUSH
15278: LD_STRING Pishkot
15280: PUSH
15281: LD_STRING Sikorski
15283: PUSH
15284: LD_STRING Riko
15286: PUSH
15287: LD_STRING Kowalrski
15289: PUSH
15290: LD_STRING Neo
15292: PUSH
15293: LD_STRING Kessi
15295: PUSH
15296: LD_STRING Riko
15298: PUSH
15299: LD_STRING Lulu
15301: PUSH
15302: LD_STRING Edie
15304: PUSH
15305: LD_STRING Edy
15307: PUSH
15308: LD_STRING Roxy
15310: PUSH
15311: LD_STRING Roxas
15313: PUSH
15314: LD_STRING Beast
15316: PUSH
15317: LD_STRING Drago
15319: PUSH
15320: LD_STRING Draco
15322: PUSH
15323: LD_STRING Ali
15325: PUSH
15326: LD_STRING Lessie
15328: PUSH
15329: LD_STRING White Fang
15331: PUSH
15332: LD_STRING Chess
15334: PUSH
15335: LD_STRING Nora
15337: PUSH
15338: LD_STRING Shriek
15340: PUSH
15341: LD_STRING Bl Tesk
15343: PUSH
15344: LD_STRING Barkman
15346: PUSH
15347: LD_STRING Meuznenapadazadnejmeno
15349: PUSH
15350: LD_STRING Ihavenotthinkofanyname
15352: PUSH
15353: LD_STRING Hiro
15355: PUSH
15356: LD_STRING Scooby
15358: PUSH
15359: LD_STRING Fantasy
15361: PUSH
15362: LD_STRING Troll
15364: PUSH
15365: LD_STRING Baltazar
15367: PUSH
15368: LD_STRING Pamella
15370: PUSH
15371: LD_STRING Kleopatra
15373: PUSH
15374: LD_STRING Ceasar
15376: PUSH
15377: LD_STRING Gimmy
15379: PUSH
15380: LD_STRING Scooby Dooby Doo
15382: PUSH
15383: LD_STRING Yogi
15385: PUSH
15386: LD_STRING Brutal
15388: PUSH
15389: LD_STRING Brutus
15391: PUSH
15392: LD_STRING Janina
15394: PUSH
15395: LD_STRING Crazy
15397: PUSH
15398: LD_STRING Jen
15400: PUSH
15401: LD_STRING Jenova
15403: PUSH
15404: LD_STRING Kiosuke
15406: PUSH
15407: LD_STRING Akamaru
15409: PUSH
15410: EMPTY
15411: LIST
15412: LIST
15413: LIST
15414: LIST
15415: LIST
15416: LIST
15417: LIST
15418: LIST
15419: LIST
15420: LIST
15421: LIST
15422: LIST
15423: LIST
15424: LIST
15425: LIST
15426: LIST
15427: LIST
15428: LIST
15429: LIST
15430: LIST
15431: LIST
15432: LIST
15433: LIST
15434: LIST
15435: LIST
15436: LIST
15437: LIST
15438: LIST
15439: LIST
15440: LIST
15441: LIST
15442: LIST
15443: LIST
15444: LIST
15445: LIST
15446: LIST
15447: LIST
15448: LIST
15449: LIST
15450: LIST
15451: LIST
15452: LIST
15453: LIST
15454: LIST
15455: LIST
15456: LIST
15457: ST_TO_ADDR
// hc_name = tiger_names [ Rand ( 1 , tiger_names ) ] ;
15458: LD_ADDR_OWVAR 26
15462: PUSH
15463: LD_VAR 0 2
15467: PUSH
15468: LD_INT 1
15470: PPUSH
15471: LD_VAR 0 2
15475: PPUSH
15476: CALL_OW 12
15480: ARRAY
15481: ST_TO_ADDR
// randomHumanStats ( initial_level - 2 ) ;
15482: LD_EXP 42
15486: PUSH
15487: LD_INT 2
15489: MINUS
15490: PPUSH
15491: CALL 17282 0 1
// hc_class := class_tiger ;
15495: LD_ADDR_OWVAR 28
15499: PUSH
15500: LD_INT 14
15502: ST_TO_ADDR
// hc_attr = [ hc_attr [ 1 ] + 2 , hc_attr [ 2 ] + 1 ] ;
15503: LD_ADDR_OWVAR 29
15507: PUSH
15508: LD_OWVAR 29
15512: PUSH
15513: LD_INT 1
15515: ARRAY
15516: PUSH
15517: LD_INT 2
15519: PLUS
15520: PUSH
15521: LD_OWVAR 29
15525: PUSH
15526: LD_INT 2
15528: ARRAY
15529: PUSH
15530: LD_INT 1
15532: PLUS
15533: PUSH
15534: EMPTY
15535: LIST
15536: LIST
15537: ST_TO_ADDR
// hc_sex := sex_male ;
15538: LD_ADDR_OWVAR 27
15542: PUSH
15543: LD_INT 1
15545: ST_TO_ADDR
// hc_importance := 0 ;
15546: LD_ADDR_OWVAR 32
15550: PUSH
15551: LD_INT 0
15553: ST_TO_ADDR
// hc_agressivity := Rand ( 10 , 50 ) ;
15554: LD_ADDR_OWVAR 35
15558: PUSH
15559: LD_INT 10
15561: PPUSH
15562: LD_INT 50
15564: PPUSH
15565: CALL_OW 12
15569: ST_TO_ADDR
// end ;
15570: LD_VAR 0 1
15574: RET
// every 0 0$15 + 0 0$1 marked 494 do var i , d , tig ;
15575: GO 15577
15577: DISABLE
15578: LD_INT 0
15580: PPUSH
15581: PPUSH
15582: PPUSH
// begin case tick of 1 .. 1 1$0 :
15583: LD_OWVAR 1
15587: PUSH
15588: LD_INT 1
15590: DOUBLE
15591: GREATEREQUAL
15592: IFFALSE 15600
15594: LD_INT 2100
15596: DOUBLE
15597: LESSEQUAL
15598: IFTRUE 15602
15600: GO 15613
15602: POP
// d := 15 ; 1 1$0 + 1 .. 2 2$0 :
15603: LD_ADDR_VAR 0 2
15607: PUSH
15608: LD_INT 15
15610: ST_TO_ADDR
15611: GO 15709
15613: LD_INT 2100
15615: PUSH
15616: LD_INT 1
15618: PLUS
15619: DOUBLE
15620: GREATEREQUAL
15621: IFFALSE 15629
15623: LD_INT 4200
15625: DOUBLE
15626: LESSEQUAL
15627: IFTRUE 15631
15629: GO 15642
15631: POP
// d := 14 ; 20 20$0 + 1 .. 50 50$0 :
15632: LD_ADDR_VAR 0 2
15636: PUSH
15637: LD_INT 14
15639: ST_TO_ADDR
15640: GO 15709
15642: LD_INT 42000
15644: PUSH
15645: LD_INT 1
15647: PLUS
15648: DOUBLE
15649: GREATEREQUAL
15650: IFFALSE 15658
15652: LD_INT 105000
15654: DOUBLE
15655: LESSEQUAL
15656: IFTRUE 15660
15658: GO 15671
15660: POP
// d := 12 ; 50 50$0 + 1 .. 300 300$0 :
15661: LD_ADDR_VAR 0 2
15665: PUSH
15666: LD_INT 12
15668: ST_TO_ADDR
15669: GO 15709
15671: LD_INT 105000
15673: PUSH
15674: LD_INT 1
15676: PLUS
15677: DOUBLE
15678: GREATEREQUAL
15679: IFFALSE 15687
15681: LD_INT 630000
15683: DOUBLE
15684: LESSEQUAL
15685: IFTRUE 15689
15687: GO 15700
15689: POP
// d := 11 ; else
15690: LD_ADDR_VAR 0 2
15694: PUSH
15695: LD_INT 11
15697: ST_TO_ADDR
15698: GO 15709
15700: POP
// d := 9 ; end ;
15701: LD_ADDR_VAR 0 2
15705: PUSH
15706: LD_INT 9
15708: ST_TO_ADDR
// i = FilterAllUnits ( [ [ f_side , 0 ] , [ f_class , class_tiger ] ] ) ;
15709: LD_ADDR_VAR 0 1
15713: PUSH
15714: LD_INT 22
15716: PUSH
15717: LD_INT 0
15719: PUSH
15720: EMPTY
15721: LIST
15722: LIST
15723: PUSH
15724: LD_INT 25
15726: PUSH
15727: LD_INT 14
15729: PUSH
15730: EMPTY
15731: LIST
15732: LIST
15733: PUSH
15734: EMPTY
15735: LIST
15736: LIST
15737: PPUSH
15738: CALL_OW 69
15742: ST_TO_ADDR
// if i < ( spawning_koef_of_tiger / 14 * d ) then
15743: LD_VAR 0 1
15747: PUSH
15748: LD_EXP 48
15752: PUSH
15753: LD_INT 14
15755: DIVREAL
15756: PUSH
15757: LD_VAR 0 2
15761: MUL
15762: LESS
15763: IFFALSE 15819
// for i = 1 to Rand ( 1 , 2 ) do
15765: LD_ADDR_VAR 0 1
15769: PUSH
15770: DOUBLE
15771: LD_INT 1
15773: DEC
15774: ST_TO_ADDR
15775: LD_INT 1
15777: PPUSH
15778: LD_INT 2
15780: PPUSH
15781: CALL_OW 12
15785: PUSH
15786: FOR_TO
15787: IFFALSE 15817
// begin tiger_init ;
15789: CALL 15247 0 0
// tig := CreateHuman ;
15793: LD_ADDR_VAR 0 3
15797: PUSH
15798: CALL_OW 44
15802: ST_TO_ADDR
// PlaceUnitAnywhere ( tig , false ) ;
15803: LD_VAR 0 3
15807: PPUSH
15808: LD_INT 0
15810: PPUSH
15811: CALL_OW 51
// end ;
15815: GO 15786
15817: POP
15818: POP
// enable ;
15819: ENABLE
// end ;
15820: PPOPN 3
15822: END
// export function StartTig ; var i , tig ; begin
15823: LD_INT 0
15825: PPUSH
15826: PPUSH
15827: PPUSH
// for i = 1 to Rand ( 1 , 3 ) do
15828: LD_ADDR_VAR 0 2
15832: PUSH
15833: DOUBLE
15834: LD_INT 1
15836: DEC
15837: ST_TO_ADDR
15838: LD_INT 1
15840: PPUSH
15841: LD_INT 3
15843: PPUSH
15844: CALL_OW 12
15848: PUSH
15849: FOR_TO
15850: IFFALSE 15880
// begin tiger_init ;
15852: CALL 15247 0 0
// tig := CreateHuman ;
15856: LD_ADDR_VAR 0 3
15860: PUSH
15861: CALL_OW 44
15865: ST_TO_ADDR
// PlaceUnitAnywhere ( tig , false ) ;
15866: LD_VAR 0 3
15870: PPUSH
15871: LD_INT 0
15873: PPUSH
15874: CALL_OW 51
// end ;
15878: GO 15849
15880: POP
15881: POP
// end ; end_of_file
15882: LD_VAR 0 1
15886: RET
// var BaseNames ; export function InitDisplayNames ; var i , n , u , a , r ; begin
15887: LD_INT 0
15889: PPUSH
15890: PPUSH
15891: PPUSH
15892: PPUSH
15893: PPUSH
15894: PPUSH
// for i in FilterAllUnits ( [ [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_not , [ f_side , 0 ] ] ] ) do
15895: LD_ADDR_VAR 0 2
15899: PUSH
15900: LD_INT 2
15902: PUSH
15903: LD_INT 30
15905: PUSH
15906: LD_INT 0
15908: PUSH
15909: EMPTY
15910: LIST
15911: LIST
15912: PUSH
15913: LD_INT 30
15915: PUSH
15916: LD_INT 1
15918: PUSH
15919: EMPTY
15920: LIST
15921: LIST
15922: PUSH
15923: EMPTY
15924: LIST
15925: LIST
15926: LIST
15927: PUSH
15928: LD_INT 3
15930: PUSH
15931: LD_INT 22
15933: PUSH
15934: LD_INT 0
15936: PUSH
15937: EMPTY
15938: LIST
15939: LIST
15940: PUSH
15941: EMPTY
15942: LIST
15943: LIST
15944: PUSH
15945: EMPTY
15946: LIST
15947: LIST
15948: PPUSH
15949: CALL_OW 69
15953: PUSH
15954: FOR_IN
15955: IFFALSE 15982
// SetBName ( i , @ & GetSide ( i ) ) ;
15957: LD_VAR 0 2
15961: PPUSH
15962: LD_STRING @
15964: PUSH
15965: LD_VAR 0 2
15969: PPUSH
15970: CALL_OW 255
15974: STR
15975: PPUSH
15976: CALL_OW 500
15980: GO 15954
15982: POP
15983: POP
// n = [ Kasyr , Cabal , Nitheim , Vanidas , Adjun , Alcon , Anthara , Denebola , Izard , Kaus , Mira , Procyon , Sirius , Tyr , Revoria , Eterna , Korigul , freedom ] ;
15984: LD_ADDR_VAR 0 3
15988: PUSH
15989: LD_STRING Kasyr
15991: PUSH
15992: LD_STRING Cabal
15994: PUSH
15995: LD_STRING Nitheim
15997: PUSH
15998: LD_STRING Vanidas
16000: PUSH
16001: LD_STRING Adjun
16003: PUSH
16004: LD_STRING Alcon
16006: PUSH
16007: LD_STRING Anthara
16009: PUSH
16010: LD_STRING Denebola
16012: PUSH
16013: LD_STRING Izard
16015: PUSH
16016: LD_STRING Kaus
16018: PUSH
16019: LD_STRING Mira
16021: PUSH
16022: LD_STRING Procyon
16024: PUSH
16025: LD_STRING Sirius
16027: PUSH
16028: LD_STRING Tyr
16030: PUSH
16031: LD_STRING Revoria
16033: PUSH
16034: LD_STRING Eterna
16036: PUSH
16037: LD_STRING Korigul
16039: PUSH
16040: LD_STRING freedom
16042: PUSH
16043: EMPTY
16044: LIST
16045: LIST
16046: LIST
16047: LIST
16048: LIST
16049: LIST
16050: LIST
16051: LIST
16052: LIST
16053: LIST
16054: LIST
16055: LIST
16056: LIST
16057: LIST
16058: LIST
16059: LIST
16060: LIST
16061: LIST
16062: ST_TO_ADDR
// u = [ alpha , gamma , delta , epsilon , Kappa , omikron , terminal , viper ] ^ n ;
16063: LD_ADDR_VAR 0 4
16067: PUSH
16068: LD_STRING alpha
16070: PUSH
16071: LD_STRING gamma
16073: PUSH
16074: LD_STRING delta
16076: PUSH
16077: LD_STRING epsilon
16079: PUSH
16080: LD_STRING Kappa
16082: PUSH
16083: LD_STRING omikron
16085: PUSH
16086: LD_STRING terminal
16088: PUSH
16089: LD_STRING viper
16091: PUSH
16092: EMPTY
16093: LIST
16094: LIST
16095: LIST
16096: LIST
16097: LIST
16098: LIST
16099: LIST
16100: LIST
16101: PUSH
16102: LD_VAR 0 3
16106: ADD
16107: ST_TO_ADDR
// r = [ beria , kirov , kagan , ovsyenko , gorkij , trockij , bluekher , yegorob , ryutin , budonny , yakir ] ^ n ;
16108: LD_ADDR_VAR 0 6
16112: PUSH
16113: LD_STRING beria
16115: PUSH
16116: LD_STRING kirov
16118: PUSH
16119: LD_STRING kagan
16121: PUSH
16122: LD_STRING ovsyenko
16124: PUSH
16125: LD_STRING gorkij
16127: PUSH
16128: LD_STRING trockij
16130: PUSH
16131: LD_STRING bluekher
16133: PUSH
16134: LD_STRING yegorob
16136: PUSH
16137: LD_STRING ryutin
16139: PUSH
16140: LD_STRING budonny
16142: PUSH
16143: LD_STRING yakir
16145: PUSH
16146: EMPTY
16147: LIST
16148: LIST
16149: LIST
16150: LIST
16151: LIST
16152: LIST
16153: LIST
16154: LIST
16155: LIST
16156: LIST
16157: LIST
16158: PUSH
16159: LD_VAR 0 3
16163: ADD
16164: ST_TO_ADDR
// a = [ newkabul , newsamark , riyadh , jeddah , dammam ] ^ n ;
16165: LD_ADDR_VAR 0 5
16169: PUSH
16170: LD_STRING newkabul
16172: PUSH
16173: LD_STRING newsamark
16175: PUSH
16176: LD_STRING riyadh
16178: PUSH
16179: LD_STRING jeddah
16181: PUSH
16182: LD_STRING dammam
16184: PUSH
16185: EMPTY
16186: LIST
16187: LIST
16188: LIST
16189: LIST
16190: LIST
16191: PUSH
16192: LD_VAR 0 3
16196: ADD
16197: ST_TO_ADDR
// BaseNames = [ u , a , r ] ;
16198: LD_ADDR_LOC 13
16202: PUSH
16203: LD_VAR 0 4
16207: PUSH
16208: LD_VAR 0 5
16212: PUSH
16213: LD_VAR 0 6
16217: PUSH
16218: EMPTY
16219: LIST
16220: LIST
16221: LIST
16222: ST_TO_ADDR
// end ;
16223: LD_VAR 0 1
16227: RET
// export function NameBuildingComplete ( b ) ; begin
16228: LD_INT 0
16230: PPUSH
// end ;
16231: LD_VAR 0 2
16235: RET
// export function NameBuildingStarted ( b , h ) ; var n , i ; begin
16236: LD_INT 0
16238: PPUSH
16239: PPUSH
16240: PPUSH
// n = getNation ( b ) ;
16241: LD_ADDR_VAR 0 4
16245: PUSH
16246: LD_VAR 0 1
16250: PPUSH
16251: CALL_OW 248
16255: ST_TO_ADDR
// i = rand ( 1 , BaseNames [ n ] + 0 ) ;
16256: LD_ADDR_VAR 0 5
16260: PUSH
16261: LD_INT 1
16263: PPUSH
16264: LD_LOC 13
16268: PUSH
16269: LD_VAR 0 4
16273: ARRAY
16274: PUSH
16275: LD_INT 0
16277: PLUS
16278: PPUSH
16279: CALL_OW 12
16283: ST_TO_ADDR
// setBName ( b , BaseNames [ n ] [ i ] ) ;
16284: LD_VAR 0 1
16288: PPUSH
16289: LD_LOC 13
16293: PUSH
16294: LD_VAR 0 4
16298: ARRAY
16299: PUSH
16300: LD_VAR 0 5
16304: ARRAY
16305: PPUSH
16306: CALL_OW 500
// end ;
16310: LD_VAR 0 3
16314: RET
// export function NameBuildingCaptured ( b , o , e ) ; begin
16315: LD_INT 0
16317: PPUSH
// end ; end_of_file
16318: LD_VAR 0 4
16322: RET
// var strength , lastxwin , lastywin , lastxlost , lastylost ; function Update_Flags ; var un ; begin
16323: LD_INT 0
16325: PPUSH
16326: PPUSH
// for un in battle_flags_id do
16327: LD_ADDR_VAR 0 2
16331: PUSH
16332: LD_EXP 89
16336: PUSH
16337: FOR_IN
16338: IFFALSE 16413
// ChangeBattleFlagOptions ( un , [ [ bfo_defend_bonus_human , strength ] , [ bfo_defend_bonus_vehicle , strength div 2 ] , [ bfo_defend_bonus_building , strength div 5 ] , [ bfo_height , strength ] ] ) ;
16340: LD_VAR 0 2
16344: PPUSH
16345: LD_INT 1
16347: PUSH
16348: LD_LOC 14
16352: PUSH
16353: EMPTY
16354: LIST
16355: LIST
16356: PUSH
16357: LD_INT 2
16359: PUSH
16360: LD_LOC 14
16364: PUSH
16365: LD_INT 2
16367: DIV
16368: PUSH
16369: EMPTY
16370: LIST
16371: LIST
16372: PUSH
16373: LD_INT 3
16375: PUSH
16376: LD_LOC 14
16380: PUSH
16381: LD_INT 5
16383: DIV
16384: PUSH
16385: EMPTY
16386: LIST
16387: LIST
16388: PUSH
16389: LD_INT 20
16391: PUSH
16392: LD_LOC 14
16396: PUSH
16397: EMPTY
16398: LIST
16399: LIST
16400: PUSH
16401: EMPTY
16402: LIST
16403: LIST
16404: LIST
16405: LIST
16406: PPUSH
16407: CALL_OW 423
16411: GO 16337
16413: POP
16414: POP
// end ;
16415: LD_VAR 0 1
16419: RET
// every 0 0$0.1 do var un ;
16420: GO 16422
16422: DISABLE
16423: LD_INT 0
16425: PPUSH
// begin if not def_morale_flags then
16426: LD_EXP 20
16430: NOT
16431: IFFALSE 16435
// exit ;
16433: GO 16512
// if not morale_decreasing_time then
16435: LD_EXP 46
16439: NOT
16440: IFFALSE 16444
// exit ;
16442: GO 16512
// strength = 100 ;
16444: LD_ADDR_LOC 14
16448: PUSH
16449: LD_INT 100
16451: ST_TO_ADDR
// repeat wait ( morale_decreasing_time ) ;
16452: LD_EXP 46
16456: PPUSH
16457: CALL_OW 67
// strength := strength - 1 ;
16461: LD_ADDR_LOC 14
16465: PUSH
16466: LD_LOC 14
16470: PUSH
16471: LD_INT 1
16473: MINUS
16474: ST_TO_ADDR
// Update_Flags ;
16475: CALL 16323 0 0
// until not strength ;
16479: LD_LOC 14
16483: NOT
16484: IFFALSE 16452
// for un in battle_flags_id do
16486: LD_ADDR_VAR 0 1
16490: PUSH
16491: LD_EXP 89
16495: PUSH
16496: FOR_IN
16497: IFFALSE 16510
// KillBattleFlag ( un ) ;
16499: LD_VAR 0 1
16503: PPUSH
16504: CALL_OW 419
16508: GO 16496
16510: POP
16511: POP
// end ; end_of_file
16512: PPOPN 1
16514: END
// export MultiplayerTimeEnabled , WaitServerStrings , Display_kings , extraStrings , limitsStrings , CurrentTime , DebugStrings , Display_WFG ; export function GetMultiplayerTime ; begin
16515: LD_INT 0
16517: PPUSH
// Result = [ #gamespeed , game_speed - 4 ] ^ [ #Multi1x1-Time , tick ] ;
16518: LD_ADDR_VAR 0 1
16522: PUSH
16523: LD_STRING #gamespeed
16525: PUSH
16526: LD_OWVAR 65
16530: PUSH
16531: LD_INT 4
16533: MINUS
16534: PUSH
16535: EMPTY
16536: LIST
16537: LIST
16538: PUSH
16539: LD_STRING #Multi1x1-Time
16541: PUSH
16542: LD_OWVAR 1
16546: PUSH
16547: EMPTY
16548: LIST
16549: LIST
16550: ADD
16551: ST_TO_ADDR
// end ;
16552: LD_VAR 0 1
16556: RET
// export function InitMultiplayerTime ; begin
16557: LD_INT 0
16559: PPUSH
// MultiplayerTimeEnabled := true ;
16560: LD_ADDR_EXP 106
16564: PUSH
16565: LD_INT 1
16567: ST_TO_ADDR
// display_strings = GetMultiplayerTime ;
16568: LD_ADDR_OWVAR 47
16572: PUSH
16573: CALL 16515 0 0
16577: ST_TO_ADDR
// end ;
16578: LD_VAR 0 1
16582: RET
// export function ShowTimer ; var AllStrings ; begin
16583: LD_INT 0
16585: PPUSH
16586: PPUSH
// AllStrings = GetMultiplayerTime ;
16587: LD_ADDR_VAR 0 2
16591: PUSH
16592: CALL 16515 0 0
16596: ST_TO_ADDR
// if debug_strings then
16597: LD_OWVAR 48
16601: IFFALSE 16619
// AllStrings = AllStrings ^ debug_strings ;
16603: LD_ADDR_VAR 0 2
16607: PUSH
16608: LD_VAR 0 2
16612: PUSH
16613: LD_OWVAR 48
16617: ADD
16618: ST_TO_ADDR
// if 0 <= siberite_bomb_Delay - tick then
16619: LD_INT 0
16621: PUSH
16622: LD_EXP 67
16626: PUSH
16627: LD_OWVAR 1
16631: MINUS
16632: LESSEQUAL
16633: IFFALSE 16664
// AllStrings := AllStrings ^ [ #allowedsibbomb , siberite_bomb_Delay - tick ] ;
16635: LD_ADDR_VAR 0 2
16639: PUSH
16640: LD_VAR 0 2
16644: PUSH
16645: LD_STRING #allowedsibbomb
16647: PUSH
16648: LD_EXP 67
16652: PUSH
16653: LD_OWVAR 1
16657: MINUS
16658: PUSH
16659: EMPTY
16660: LIST
16661: LIST
16662: ADD
16663: ST_TO_ADDR
// if 0 <= buildUpTime_Delay - tick then
16664: LD_INT 0
16666: PUSH
16667: LD_EXP 66
16671: PUSH
16672: LD_OWVAR 1
16676: MINUS
16677: LESSEQUAL
16678: IFFALSE 16709
// AllStrings := AllStrings ^ [ #builduptime , buildUpTime_Delay - tick ] ;
16680: LD_ADDR_VAR 0 2
16684: PUSH
16685: LD_VAR 0 2
16689: PUSH
16690: LD_STRING #builduptime
16692: PUSH
16693: LD_EXP 66
16697: PUSH
16698: LD_OWVAR 1
16702: MINUS
16703: PUSH
16704: EMPTY
16705: LIST
16706: LIST
16707: ADD
16708: ST_TO_ADDR
// AllStrings := AllStrings ^ [ #TechLevel , Tech_Level ] ;
16709: LD_ADDR_VAR 0 2
16713: PUSH
16714: LD_VAR 0 2
16718: PUSH
16719: LD_STRING #TechLevel
16721: PUSH
16722: LD_EXP 56
16726: PUSH
16727: EMPTY
16728: LIST
16729: LIST
16730: ADD
16731: ST_TO_ADDR
// if ( CurrentTime ) then
16732: LD_EXP 111
16736: IFFALSE 16765
// AllStrings = AllStrings ^ [ #Daily-Time , CurrentTime ] ^  ;
16738: LD_ADDR_VAR 0 2
16742: PUSH
16743: LD_VAR 0 2
16747: PUSH
16748: LD_STRING #Daily-Time
16750: PUSH
16751: LD_EXP 111
16755: PUSH
16756: EMPTY
16757: LIST
16758: LIST
16759: ADD
16760: PUSH
16761: LD_STRING 
16763: ADD
16764: ST_TO_ADDR
// if ( WaitServerStrings ) then
16765: LD_EXP 107
16769: IFFALSE 16787
// AllStrings := AllStrings ^ WaitServerStrings ;
16771: LD_ADDR_VAR 0 2
16775: PUSH
16776: LD_VAR 0 2
16780: PUSH
16781: LD_EXP 107
16785: ADD
16786: ST_TO_ADDR
// if not isSGUI and ( Display_kings or Display_WFG ) then
16787: LD_OWVAR 83
16791: NOT
16792: PUSH
16793: LD_EXP 108
16797: PUSH
16798: LD_EXP 113
16802: OR
16803: AND
16804: IFFALSE 16904
// begin if def_public_score and Team_game then
16806: LD_EXP 34
16810: PUSH
16811: LD_EXP 80
16815: AND
16816: IFFALSE 16860
// AllStrings := AllStrings ^ [ #yourTeam , [ 3 , 1 , 2 , 7 ] [ player_team ] ] ;
16818: LD_ADDR_VAR 0 2
16822: PUSH
16823: LD_VAR 0 2
16827: PUSH
16828: LD_STRING #yourTeam
16830: PUSH
16831: LD_INT 3
16833: PUSH
16834: LD_INT 1
16836: PUSH
16837: LD_INT 2
16839: PUSH
16840: LD_INT 7
16842: PUSH
16843: EMPTY
16844: LIST
16845: LIST
16846: LIST
16847: LIST
16848: PUSH
16849: LD_EXP 71
16853: ARRAY
16854: PUSH
16855: EMPTY
16856: LIST
16857: LIST
16858: ADD
16859: ST_TO_ADDR
// if ( Display_kings ) then
16860: LD_EXP 108
16864: IFFALSE 16882
// AllStrings := AllStrings ^ Display_kings ;
16866: LD_ADDR_VAR 0 2
16870: PUSH
16871: LD_VAR 0 2
16875: PUSH
16876: LD_EXP 108
16880: ADD
16881: ST_TO_ADDR
// if ( Display_WFG ) then
16882: LD_EXP 113
16886: IFFALSE 16904
// AllStrings := AllStrings ^ Display_WFG ;
16888: LD_ADDR_VAR 0 2
16892: PUSH
16893: LD_VAR 0 2
16897: PUSH
16898: LD_EXP 113
16902: ADD
16903: ST_TO_ADDR
// end ; if ( ExtraStrings ) then
16904: LD_EXP 109
16908: IFFALSE 16930
// AllStrings := AllStrings ^  ^ ExtraStrings ;
16910: LD_ADDR_VAR 0 2
16914: PUSH
16915: LD_VAR 0 2
16919: PUSH
16920: LD_STRING 
16922: ADD
16923: PUSH
16924: LD_EXP 109
16928: ADD
16929: ST_TO_ADDR
// if ( LimitsStrings ) then
16930: LD_EXP 110
16934: IFFALSE 16956
// AllStrings := AllStrings ^  ^ LimitsStrings ;
16936: LD_ADDR_VAR 0 2
16940: PUSH
16941: LD_VAR 0 2
16945: PUSH
16946: LD_STRING 
16948: ADD
16949: PUSH
16950: LD_EXP 110
16954: ADD
16955: ST_TO_ADDR
// if ( DebugStrings ) then
16956: LD_EXP 112
16960: IFFALSE 16982
// AllStrings := AllStrings ^  ^ DebugStrings ;
16962: LD_ADDR_VAR 0 2
16966: PUSH
16967: LD_VAR 0 2
16971: PUSH
16972: LD_STRING 
16974: ADD
16975: PUSH
16976: LD_EXP 112
16980: ADD
16981: ST_TO_ADDR
// Display_Strings := AllStrings ;
16982: LD_ADDR_OWVAR 47
16986: PUSH
16987: LD_VAR 0 2
16991: ST_TO_ADDR
// end ;
16992: LD_VAR 0 1
16996: RET
// every 0 0$1 trigger MultiplayerTimeEnabled do
16997: LD_EXP 106
17001: IFFALSE 17011
17003: GO 17005
17005: DISABLE
// begin ShowTimer ;
17006: CALL 16583 0 0
// enable ;
17010: ENABLE
// end ; end_of_file
17011: END
// export MaxFlags ; export function ShowResources ( FullMapArea , EnableSiberitResurces , Range ) ; var k , k2 , i , d , r , u ; begin
17012: LD_INT 0
17014: PPUSH
17015: PPUSH
17016: PPUSH
17017: PPUSH
17018: PPUSH
17019: PPUSH
17020: PPUSH
// if range = 0 then
17021: LD_VAR 0 3
17025: PUSH
17026: LD_INT 0
17028: EQUAL
17029: IFFALSE 17039
// range = 400 ;
17031: LD_ADDR_VAR 0 3
17035: PUSH
17036: LD_INT 400
17038: ST_TO_ADDR
// r = range ;
17039: LD_ADDR_VAR 0 9
17043: PUSH
17044: LD_VAR 0 3
17048: ST_TO_ADDR
// d = GetListOfResourcesInArea ( FullMapArea ) ;
17049: LD_ADDR_VAR 0 8
17053: PUSH
17054: LD_VAR 0 1
17058: PPUSH
17059: CALL_OW 442
17063: ST_TO_ADDR
// for k = 1 to ( d / 3 ) do
17064: LD_ADDR_VAR 0 5
17068: PUSH
17069: DOUBLE
17070: LD_INT 1
17072: DEC
17073: ST_TO_ADDR
17074: LD_VAR 0 8
17078: PUSH
17079: LD_INT 3
17081: DIVREAL
17082: PUSH
17083: FOR_TO
17084: IFFALSE 17275
// begin k2 = k * 3 ;
17086: LD_ADDR_VAR 0 6
17090: PUSH
17091: LD_VAR 0 5
17095: PUSH
17096: LD_INT 3
17098: MUL
17099: ST_TO_ADDR
// for i = 1 to 8 do
17100: LD_ADDR_VAR 0 7
17104: PUSH
17105: DOUBLE
17106: LD_INT 1
17108: DEC
17109: ST_TO_ADDR
17110: LD_INT 8
17112: PUSH
17113: FOR_TO
17114: IFFALSE 17271
// begin if d [ k2 ] = 1 or ( d [ k2 ] = 2 and EnableSiberitResurces ) then
17116: LD_VAR 0 8
17120: PUSH
17121: LD_VAR 0 6
17125: ARRAY
17126: PUSH
17127: LD_INT 1
17129: EQUAL
17130: PUSH
17131: LD_VAR 0 8
17135: PUSH
17136: LD_VAR 0 6
17140: ARRAY
17141: PUSH
17142: LD_INT 2
17144: EQUAL
17145: PUSH
17146: LD_VAR 0 2
17150: AND
17151: OR
17152: IFFALSE 17269
// begin u = filterAllUnits ( [ [ f_side , i ] , [ f_distxy , d [ k2 - 2 ] , d [ k2 - 1 ] , r ] ] ) ;
17154: LD_ADDR_VAR 0 10
17158: PUSH
17159: LD_INT 22
17161: PUSH
17162: LD_VAR 0 7
17166: PUSH
17167: EMPTY
17168: LIST
17169: LIST
17170: PUSH
17171: LD_INT 92
17173: PUSH
17174: LD_VAR 0 8
17178: PUSH
17179: LD_VAR 0 6
17183: PUSH
17184: LD_INT 2
17186: MINUS
17187: ARRAY
17188: PUSH
17189: LD_VAR 0 8
17193: PUSH
17194: LD_VAR 0 6
17198: PUSH
17199: LD_INT 1
17201: MINUS
17202: ARRAY
17203: PUSH
17204: LD_VAR 0 9
17208: PUSH
17209: EMPTY
17210: LIST
17211: LIST
17212: LIST
17213: LIST
17214: PUSH
17215: EMPTY
17216: LIST
17217: LIST
17218: PPUSH
17219: CALL_OW 69
17223: ST_TO_ADDR
// if u then
17224: LD_VAR 0 10
17228: IFFALSE 17269
// SetResourceVisibility ( d [ k2 - 2 ] , d [ k2 - 1 ] , i ) ;
17230: LD_VAR 0 8
17234: PUSH
17235: LD_VAR 0 6
17239: PUSH
17240: LD_INT 2
17242: MINUS
17243: ARRAY
17244: PPUSH
17245: LD_VAR 0 8
17249: PUSH
17250: LD_VAR 0 6
17254: PUSH
17255: LD_INT 1
17257: MINUS
17258: ARRAY
17259: PPUSH
17260: LD_VAR 0 7
17264: PPUSH
17265: CALL_OW 441
// end ; end ;
17269: GO 17113
17271: POP
17272: POP
// end ;
17273: GO 17083
17275: POP
17276: POP
// end ;
17277: LD_VAR 0 4
17281: RET
// export function randomHumanStats ( init_level ) ; var cl , combat , eng , mech , sci , skills , base_skills , attr ; var i , k , base , n , def , speed ; begin
17282: LD_INT 0
17284: PPUSH
17285: PPUSH
17286: PPUSH
17287: PPUSH
17288: PPUSH
17289: PPUSH
17290: PPUSH
17291: PPUSH
17292: PPUSH
17293: PPUSH
17294: PPUSH
17295: PPUSH
17296: PPUSH
17297: PPUSH
17298: PPUSH
// cl = rand ( 1 , 4 ) ;
17299: LD_ADDR_VAR 0 3
17303: PUSH
17304: LD_INT 1
17306: PPUSH
17307: LD_INT 4
17309: PPUSH
17310: CALL_OW 12
17314: ST_TO_ADDR
// base = init_level ;
17315: LD_ADDR_VAR 0 13
17319: PUSH
17320: LD_VAR 0 1
17324: ST_TO_ADDR
// case tick of 0 .. 5 5$00 :
17325: LD_OWVAR 1
17329: PUSH
17330: LD_INT 0
17332: DOUBLE
17333: GREATEREQUAL
17334: IFFALSE 17342
17336: LD_INT 10500
17338: DOUBLE
17339: LESSEQUAL
17340: IFTRUE 17344
17342: GO 17355
17344: POP
// i = 1 ; 5 5$01 .. 9 9$00 :
17345: LD_ADDR_VAR 0 11
17349: PUSH
17350: LD_INT 1
17352: ST_TO_ADDR
17353: GO 17614
17355: LD_INT 10535
17357: DOUBLE
17358: GREATEREQUAL
17359: IFFALSE 17367
17361: LD_INT 18900
17363: DOUBLE
17364: LESSEQUAL
17365: IFTRUE 17369
17367: GO 17380
17369: POP
// i = 2 ; 9 9$01 .. 15 15$00 :
17370: LD_ADDR_VAR 0 11
17374: PUSH
17375: LD_INT 2
17377: ST_TO_ADDR
17378: GO 17614
17380: LD_INT 18935
17382: DOUBLE
17383: GREATEREQUAL
17384: IFFALSE 17392
17386: LD_INT 31500
17388: DOUBLE
17389: LESSEQUAL
17390: IFTRUE 17394
17392: GO 17405
17394: POP
// i = 3 ; 15 15$01 .. 22 22$00 :
17395: LD_ADDR_VAR 0 11
17399: PUSH
17400: LD_INT 3
17402: ST_TO_ADDR
17403: GO 17614
17405: LD_INT 31535
17407: DOUBLE
17408: GREATEREQUAL
17409: IFFALSE 17417
17411: LD_INT 46200
17413: DOUBLE
17414: LESSEQUAL
17415: IFTRUE 17419
17417: GO 17430
17419: POP
// i = 4 ; 22 22$01 .. 30 30$00 :
17420: LD_ADDR_VAR 0 11
17424: PUSH
17425: LD_INT 4
17427: ST_TO_ADDR
17428: GO 17614
17430: LD_INT 46235
17432: DOUBLE
17433: GREATEREQUAL
17434: IFFALSE 17442
17436: LD_INT 63000
17438: DOUBLE
17439: LESSEQUAL
17440: IFTRUE 17444
17442: GO 17455
17444: POP
// i = 5 ; 30 30$01 .. 40 40$00 :
17445: LD_ADDR_VAR 0 11
17449: PUSH
17450: LD_INT 5
17452: ST_TO_ADDR
17453: GO 17614
17455: LD_INT 63035
17457: DOUBLE
17458: GREATEREQUAL
17459: IFFALSE 17467
17461: LD_INT 84000
17463: DOUBLE
17464: LESSEQUAL
17465: IFTRUE 17469
17467: GO 17480
17469: POP
// i = 6 ; 40 40$01 .. 52 52$00 :
17470: LD_ADDR_VAR 0 11
17474: PUSH
17475: LD_INT 6
17477: ST_TO_ADDR
17478: GO 17614
17480: LD_INT 84035
17482: DOUBLE
17483: GREATEREQUAL
17484: IFFALSE 17492
17486: LD_INT 109200
17488: DOUBLE
17489: LESSEQUAL
17490: IFTRUE 17494
17492: GO 17505
17494: POP
// i = 7 ; 52 52$01 .. 66 66$00 :
17495: LD_ADDR_VAR 0 11
17499: PUSH
17500: LD_INT 7
17502: ST_TO_ADDR
17503: GO 17614
17505: LD_INT 109235
17507: DOUBLE
17508: GREATEREQUAL
17509: IFFALSE 17517
17511: LD_INT 138600
17513: DOUBLE
17514: LESSEQUAL
17515: IFTRUE 17519
17517: GO 17530
17519: POP
// i = 8 ; 66 66$01 .. 88 88$00 :
17520: LD_ADDR_VAR 0 11
17524: PUSH
17525: LD_INT 8
17527: ST_TO_ADDR
17528: GO 17614
17530: LD_INT 138635
17532: DOUBLE
17533: GREATEREQUAL
17534: IFFALSE 17542
17536: LD_INT 184800
17538: DOUBLE
17539: LESSEQUAL
17540: IFTRUE 17544
17542: GO 17555
17544: POP
// i = 9 ; 88 88$01 .. 100 100$00 :
17545: LD_ADDR_VAR 0 11
17549: PUSH
17550: LD_INT 9
17552: ST_TO_ADDR
17553: GO 17614
17555: LD_INT 184835
17557: DOUBLE
17558: GREATEREQUAL
17559: IFFALSE 17567
17561: LD_INT 210000
17563: DOUBLE
17564: LESSEQUAL
17565: IFTRUE 17569
17567: GO 17580
17569: POP
// i = 10 ; 100 100$01 .. 120 120$00 :
17570: LD_ADDR_VAR 0 11
17574: PUSH
17575: LD_INT 10
17577: ST_TO_ADDR
17578: GO 17614
17580: LD_INT 210035
17582: DOUBLE
17583: GREATEREQUAL
17584: IFFALSE 17592
17586: LD_INT 252000
17588: DOUBLE
17589: LESSEQUAL
17590: IFTRUE 17594
17592: GO 17605
17594: POP
// i = 11 ; else
17595: LD_ADDR_VAR 0 11
17599: PUSH
17600: LD_INT 11
17602: ST_TO_ADDR
17603: GO 17614
17605: POP
// i = 12 ; end ;
17606: LD_ADDR_VAR 0 11
17610: PUSH
17611: LD_INT 12
17613: ST_TO_ADDR
// i = i - base div 2 ;
17614: LD_ADDR_VAR 0 11
17618: PUSH
17619: LD_VAR 0 11
17623: PUSH
17624: LD_VAR 0 13
17628: PUSH
17629: LD_INT 2
17631: DIV
17632: MINUS
17633: ST_TO_ADDR
// if i < 0 then
17634: LD_VAR 0 11
17638: PUSH
17639: LD_INT 0
17641: LESS
17642: IFFALSE 17652
// i = 0 ;
17644: LD_ADDR_VAR 0 11
17648: PUSH
17649: LD_INT 0
17651: ST_TO_ADDR
// if cl = 1 then
17652: LD_VAR 0 3
17656: PUSH
17657: LD_INT 1
17659: EQUAL
17660: IFFALSE 17700
// combat = rand ( base + i - 1 , base + i ) else
17662: LD_ADDR_VAR 0 4
17666: PUSH
17667: LD_VAR 0 13
17671: PUSH
17672: LD_VAR 0 11
17676: PLUS
17677: PUSH
17678: LD_INT 1
17680: MINUS
17681: PPUSH
17682: LD_VAR 0 13
17686: PUSH
17687: LD_VAR 0 11
17691: PLUS
17692: PPUSH
17693: CALL_OW 12
17697: ST_TO_ADDR
17698: GO 17740
// combat = rand ( base + i - 4 , base + i - 1 ) ;
17700: LD_ADDR_VAR 0 4
17704: PUSH
17705: LD_VAR 0 13
17709: PUSH
17710: LD_VAR 0 11
17714: PLUS
17715: PUSH
17716: LD_INT 4
17718: MINUS
17719: PPUSH
17720: LD_VAR 0 13
17724: PUSH
17725: LD_VAR 0 11
17729: PLUS
17730: PUSH
17731: LD_INT 1
17733: MINUS
17734: PPUSH
17735: CALL_OW 12
17739: ST_TO_ADDR
// if cl = 2 then
17740: LD_VAR 0 3
17744: PUSH
17745: LD_INT 2
17747: EQUAL
17748: IFFALSE 17788
// eng = rand ( base + i - 1 , base + i ) else
17750: LD_ADDR_VAR 0 5
17754: PUSH
17755: LD_VAR 0 13
17759: PUSH
17760: LD_VAR 0 11
17764: PLUS
17765: PUSH
17766: LD_INT 1
17768: MINUS
17769: PPUSH
17770: LD_VAR 0 13
17774: PUSH
17775: LD_VAR 0 11
17779: PLUS
17780: PPUSH
17781: CALL_OW 12
17785: ST_TO_ADDR
17786: GO 17828
// eng = rand ( base + i - 4 , base + i - 1 ) ;
17788: LD_ADDR_VAR 0 5
17792: PUSH
17793: LD_VAR 0 13
17797: PUSH
17798: LD_VAR 0 11
17802: PLUS
17803: PUSH
17804: LD_INT 4
17806: MINUS
17807: PPUSH
17808: LD_VAR 0 13
17812: PUSH
17813: LD_VAR 0 11
17817: PLUS
17818: PUSH
17819: LD_INT 1
17821: MINUS
17822: PPUSH
17823: CALL_OW 12
17827: ST_TO_ADDR
// if cl = 3 then
17828: LD_VAR 0 3
17832: PUSH
17833: LD_INT 3
17835: EQUAL
17836: IFFALSE 17876
// mech = rand ( base + i - 1 , base + i ) else
17838: LD_ADDR_VAR 0 6
17842: PUSH
17843: LD_VAR 0 13
17847: PUSH
17848: LD_VAR 0 11
17852: PLUS
17853: PUSH
17854: LD_INT 1
17856: MINUS
17857: PPUSH
17858: LD_VAR 0 13
17862: PUSH
17863: LD_VAR 0 11
17867: PLUS
17868: PPUSH
17869: CALL_OW 12
17873: ST_TO_ADDR
17874: GO 17916
// mech = rand ( base + i - 4 , base + i - 1 ) ;
17876: LD_ADDR_VAR 0 6
17880: PUSH
17881: LD_VAR 0 13
17885: PUSH
17886: LD_VAR 0 11
17890: PLUS
17891: PUSH
17892: LD_INT 4
17894: MINUS
17895: PPUSH
17896: LD_VAR 0 13
17900: PUSH
17901: LD_VAR 0 11
17905: PLUS
17906: PUSH
17907: LD_INT 1
17909: MINUS
17910: PPUSH
17911: CALL_OW 12
17915: ST_TO_ADDR
// if cl = 4 then
17916: LD_VAR 0 3
17920: PUSH
17921: LD_INT 4
17923: EQUAL
17924: IFFALSE 17964
// sci = rand ( base + i - 1 , base + i ) else
17926: LD_ADDR_VAR 0 7
17930: PUSH
17931: LD_VAR 0 13
17935: PUSH
17936: LD_VAR 0 11
17940: PLUS
17941: PUSH
17942: LD_INT 1
17944: MINUS
17945: PPUSH
17946: LD_VAR 0 13
17950: PUSH
17951: LD_VAR 0 11
17955: PLUS
17956: PPUSH
17957: CALL_OW 12
17961: ST_TO_ADDR
17962: GO 18004
// sci = rand ( base + i - 4 , base + i - 1 ) ;
17964: LD_ADDR_VAR 0 7
17968: PUSH
17969: LD_VAR 0 13
17973: PUSH
17974: LD_VAR 0 11
17978: PLUS
17979: PUSH
17980: LD_INT 4
17982: MINUS
17983: PPUSH
17984: LD_VAR 0 13
17988: PUSH
17989: LD_VAR 0 11
17993: PLUS
17994: PUSH
17995: LD_INT 1
17997: MINUS
17998: PPUSH
17999: CALL_OW 12
18003: ST_TO_ADDR
// skills = [ combat , eng , mech , sci ] ;
18004: LD_ADDR_VAR 0 8
18008: PUSH
18009: LD_VAR 0 4
18013: PUSH
18014: LD_VAR 0 5
18018: PUSH
18019: LD_VAR 0 6
18023: PUSH
18024: LD_VAR 0 7
18028: PUSH
18029: EMPTY
18030: LIST
18031: LIST
18032: LIST
18033: LIST
18034: ST_TO_ADDR
// for i = 1 to 4 do
18035: LD_ADDR_VAR 0 11
18039: PUSH
18040: DOUBLE
18041: LD_INT 1
18043: DEC
18044: ST_TO_ADDR
18045: LD_INT 4
18047: PUSH
18048: FOR_TO
18049: IFFALSE 18204
// begin if skills [ i ] < 0 then
18051: LD_VAR 0 8
18055: PUSH
18056: LD_VAR 0 11
18060: ARRAY
18061: PUSH
18062: LD_INT 0
18064: LESS
18065: IFFALSE 18090
// skills = replace ( skills , i , 0 ) ;
18067: LD_ADDR_VAR 0 8
18071: PUSH
18072: LD_VAR 0 8
18076: PPUSH
18077: LD_VAR 0 11
18081: PPUSH
18082: LD_INT 0
18084: PPUSH
18085: CALL_OW 1
18089: ST_TO_ADDR
// n = [ 0 , 1 , 0 , 1 , 0 , 2 , 0 , 0 , 1 , 0 ] [ rand ( 1 , 10 ) ] ;
18090: LD_ADDR_VAR 0 14
18094: PUSH
18095: LD_INT 0
18097: PUSH
18098: LD_INT 1
18100: PUSH
18101: LD_INT 0
18103: PUSH
18104: LD_INT 1
18106: PUSH
18107: LD_INT 0
18109: PUSH
18110: LD_INT 2
18112: PUSH
18113: LD_INT 0
18115: PUSH
18116: LD_INT 0
18118: PUSH
18119: LD_INT 1
18121: PUSH
18122: LD_INT 0
18124: PUSH
18125: EMPTY
18126: LIST
18127: LIST
18128: LIST
18129: LIST
18130: LIST
18131: LIST
18132: LIST
18133: LIST
18134: LIST
18135: LIST
18136: PUSH
18137: LD_INT 1
18139: PPUSH
18140: LD_INT 10
18142: PPUSH
18143: CALL_OW 12
18147: ARRAY
18148: ST_TO_ADDR
// if n > skills [ i ] then
18149: LD_VAR 0 14
18153: PUSH
18154: LD_VAR 0 8
18158: PUSH
18159: LD_VAR 0 11
18163: ARRAY
18164: GREATER
18165: IFFALSE 18183
// n = skills [ i ] ;
18167: LD_ADDR_VAR 0 14
18171: PUSH
18172: LD_VAR 0 8
18176: PUSH
18177: LD_VAR 0 11
18181: ARRAY
18182: ST_TO_ADDR
// replace ( base_skills , i , n ) ;
18183: LD_VAR 0 9
18187: PPUSH
18188: LD_VAR 0 11
18192: PPUSH
18193: LD_VAR 0 14
18197: PPUSH
18198: CALL_OW 1
// end ;
18202: GO 18048
18204: POP
18205: POP
// n = rand ( 1 , 100 ) ;
18206: LD_ADDR_VAR 0 14
18210: PUSH
18211: LD_INT 1
18213: PPUSH
18214: LD_INT 100
18216: PPUSH
18217: CALL_OW 12
18221: ST_TO_ADDR
// case n of 1 .. 32 :
18222: LD_VAR 0 14
18226: PUSH
18227: LD_INT 1
18229: DOUBLE
18230: GREATEREQUAL
18231: IFFALSE 18239
18233: LD_INT 32
18235: DOUBLE
18236: LESSEQUAL
18237: IFTRUE 18241
18239: GO 18252
18241: POP
// def = 10 ; 31 .. 54 :
18242: LD_ADDR_VAR 0 15
18246: PUSH
18247: LD_INT 10
18249: ST_TO_ADDR
18250: GO 18353
18252: LD_INT 31
18254: DOUBLE
18255: GREATEREQUAL
18256: IFFALSE 18264
18258: LD_INT 54
18260: DOUBLE
18261: LESSEQUAL
18262: IFTRUE 18266
18264: GO 18277
18266: POP
// def = 9 ; 55 .. 76 :
18267: LD_ADDR_VAR 0 15
18271: PUSH
18272: LD_INT 9
18274: ST_TO_ADDR
18275: GO 18353
18277: LD_INT 55
18279: DOUBLE
18280: GREATEREQUAL
18281: IFFALSE 18289
18283: LD_INT 76
18285: DOUBLE
18286: LESSEQUAL
18287: IFTRUE 18291
18289: GO 18302
18291: POP
// def = 11 ; 77 .. 88 :
18292: LD_ADDR_VAR 0 15
18296: PUSH
18297: LD_INT 11
18299: ST_TO_ADDR
18300: GO 18353
18302: LD_INT 77
18304: DOUBLE
18305: GREATEREQUAL
18306: IFFALSE 18314
18308: LD_INT 88
18310: DOUBLE
18311: LESSEQUAL
18312: IFTRUE 18316
18314: GO 18327
18316: POP
// def = 8 ; 89 .. 100 :
18317: LD_ADDR_VAR 0 15
18321: PUSH
18322: LD_INT 8
18324: ST_TO_ADDR
18325: GO 18353
18327: LD_INT 89
18329: DOUBLE
18330: GREATEREQUAL
18331: IFFALSE 18339
18333: LD_INT 100
18335: DOUBLE
18336: LESSEQUAL
18337: IFTRUE 18341
18339: GO 18352
18341: POP
// def = 12 ; end ;
18342: LD_ADDR_VAR 0 15
18346: PUSH
18347: LD_INT 12
18349: ST_TO_ADDR
18350: GO 18353
18352: POP
// n = rand ( 1 , 100 ) ;
18353: LD_ADDR_VAR 0 14
18357: PUSH
18358: LD_INT 1
18360: PPUSH
18361: LD_INT 100
18363: PPUSH
18364: CALL_OW 12
18368: ST_TO_ADDR
// case n of 1 .. 44 :
18369: LD_VAR 0 14
18373: PUSH
18374: LD_INT 1
18376: DOUBLE
18377: GREATEREQUAL
18378: IFFALSE 18386
18380: LD_INT 44
18382: DOUBLE
18383: LESSEQUAL
18384: IFTRUE 18388
18386: GO 18399
18388: POP
// speed = 10 ; 45 .. 76 :
18389: LD_ADDR_VAR 0 16
18393: PUSH
18394: LD_INT 10
18396: ST_TO_ADDR
18397: GO 18475
18399: LD_INT 45
18401: DOUBLE
18402: GREATEREQUAL
18403: IFFALSE 18411
18405: LD_INT 76
18407: DOUBLE
18408: LESSEQUAL
18409: IFTRUE 18413
18411: GO 18424
18413: POP
// speed = 9 ; 77 .. 94 :
18414: LD_ADDR_VAR 0 16
18418: PUSH
18419: LD_INT 9
18421: ST_TO_ADDR
18422: GO 18475
18424: LD_INT 77
18426: DOUBLE
18427: GREATEREQUAL
18428: IFFALSE 18436
18430: LD_INT 94
18432: DOUBLE
18433: LESSEQUAL
18434: IFTRUE 18438
18436: GO 18449
18438: POP
// speed = 11 ; 95 .. 100 :
18439: LD_ADDR_VAR 0 16
18443: PUSH
18444: LD_INT 11
18446: ST_TO_ADDR
18447: GO 18475
18449: LD_INT 95
18451: DOUBLE
18452: GREATEREQUAL
18453: IFFALSE 18461
18455: LD_INT 100
18457: DOUBLE
18458: LESSEQUAL
18459: IFTRUE 18463
18461: GO 18474
18463: POP
// speed = 12 ; end ;
18464: LD_ADDR_VAR 0 16
18468: PUSH
18469: LD_INT 12
18471: ST_TO_ADDR
18472: GO 18475
18474: POP
// hc_attr = [ def , speed ] ;
18475: LD_ADDR_OWVAR 29
18479: PUSH
18480: LD_VAR 0 15
18484: PUSH
18485: LD_VAR 0 16
18489: PUSH
18490: EMPTY
18491: LIST
18492: LIST
18493: ST_TO_ADDR
// hc_basic_skills = base_skills ;
18494: LD_ADDR_OWVAR 30
18498: PUSH
18499: LD_VAR 0 9
18503: ST_TO_ADDR
// hc_skills := skills ;
18504: LD_ADDR_OWVAR 31
18508: PUSH
18509: LD_VAR 0 8
18513: ST_TO_ADDR
// hc_class = cl ;
18514: LD_ADDR_OWVAR 28
18518: PUSH
18519: LD_VAR 0 3
18523: ST_TO_ADDR
// end ; end_of_file
18524: LD_VAR 0 2
18528: RET
// var strany ; export maxTechLevel ; export function Start_tech_ur ; var i ; begin
18529: LD_INT 0
18531: PPUSH
18532: PPUSH
// if not maxTechLevel then
18533: LD_EXP 115
18537: NOT
18538: IFFALSE 18548
// maxTechLevel = 8 ;
18540: LD_ADDR_EXP 115
18544: PUSH
18545: LD_INT 8
18547: ST_TO_ADDR
// strany = [ ] ;
18548: LD_ADDR_LOC 19
18552: PUSH
18553: EMPTY
18554: ST_TO_ADDR
// if def_tech_level > maxTechLevel then
18555: LD_EXP 26
18559: PUSH
18560: LD_EXP 115
18564: GREATER
18565: IFFALSE 18577
// def_tech_level = maxTechLevel ;
18567: LD_ADDR_EXP 26
18571: PUSH
18572: LD_EXP 115
18576: ST_TO_ADDR
// for i := 1 to Side_Positions do
18577: LD_ADDR_VAR 0 2
18581: PUSH
18582: DOUBLE
18583: LD_INT 1
18585: DEC
18586: ST_TO_ADDR
18587: LD_EXP 75
18591: PUSH
18592: FOR_TO
18593: IFFALSE 18625
// if Side_Positions [ i ] then
18595: LD_EXP 75
18599: PUSH
18600: LD_VAR 0 2
18604: ARRAY
18605: IFFALSE 18623
// strany = strany ^ i ;
18607: LD_ADDR_LOC 19
18611: PUSH
18612: LD_LOC 19
18616: PUSH
18617: LD_VAR 0 2
18621: ADD
18622: ST_TO_ADDR
18623: GO 18592
18625: POP
18626: POP
// for i in strany do
18627: LD_ADDR_VAR 0 2
18631: PUSH
18632: LD_LOC 19
18636: PUSH
18637: FOR_IN
18638: IFFALSE 18651
// Vse_zakaz ( i ) ;
18640: LD_VAR 0 2
18644: PPUSH
18645: CALL 19626 0 1
18649: GO 18637
18651: POP
18652: POP
// for i in strany do
18653: LD_ADDR_VAR 0 2
18657: PUSH
18658: LD_LOC 19
18662: PUSH
18663: FOR_IN
18664: IFFALSE 19086
// case def_tech_level of 1 :
18666: LD_EXP 26
18670: PUSH
18671: LD_INT 1
18673: DOUBLE
18674: EQUAL
18675: IFTRUE 18679
18677: GO 18691
18679: POP
// ur_1 ( i ) ; 2 :
18680: LD_VAR 0 2
18684: PPUSH
18685: CALL 19786 0 1
18689: GO 19084
18691: LD_INT 2
18693: DOUBLE
18694: EQUAL
18695: IFTRUE 18699
18697: GO 18720
18699: POP
// begin ur_1 ( i ) ;
18700: LD_VAR 0 2
18704: PPUSH
18705: CALL 19786 0 1
// ur_2 ( i ) ;
18709: LD_VAR 0 2
18713: PPUSH
18714: CALL 20171 0 1
// end ; 3 :
18718: GO 19084
18720: LD_INT 3
18722: DOUBLE
18723: EQUAL
18724: IFTRUE 18728
18726: GO 18758
18728: POP
// begin ur_1 ( i ) ;
18729: LD_VAR 0 2
18733: PPUSH
18734: CALL 19786 0 1
// ur_2 ( i ) ;
18738: LD_VAR 0 2
18742: PPUSH
18743: CALL 20171 0 1
// ur_3 ( i ) ;
18747: LD_VAR 0 2
18751: PPUSH
18752: CALL 20560 0 1
// end ; 4 :
18756: GO 19084
18758: LD_INT 4
18760: DOUBLE
18761: EQUAL
18762: IFTRUE 18766
18764: GO 18805
18766: POP
// begin ur_1 ( i ) ;
18767: LD_VAR 0 2
18771: PPUSH
18772: CALL 19786 0 1
// ur_2 ( i ) ;
18776: LD_VAR 0 2
18780: PPUSH
18781: CALL 20171 0 1
// ur_3 ( i ) ;
18785: LD_VAR 0 2
18789: PPUSH
18790: CALL 20560 0 1
// ur_4 ( i ) ;
18794: LD_VAR 0 2
18798: PPUSH
18799: CALL 21021 0 1
// end ; 5 :
18803: GO 19084
18805: LD_INT 5
18807: DOUBLE
18808: EQUAL
18809: IFTRUE 18813
18811: GO 18861
18813: POP
// begin ur_1 ( i ) ;
18814: LD_VAR 0 2
18818: PPUSH
18819: CALL 19786 0 1
// ur_2 ( i ) ;
18823: LD_VAR 0 2
18827: PPUSH
18828: CALL 20171 0 1
// ur_3 ( i ) ;
18832: LD_VAR 0 2
18836: PPUSH
18837: CALL 20560 0 1
// ur_4 ( i ) ;
18841: LD_VAR 0 2
18845: PPUSH
18846: CALL 21021 0 1
// ur_5 ( i ) ;
18850: LD_VAR 0 2
18854: PPUSH
18855: CALL 21498 0 1
// end ; 6 :
18859: GO 19084
18861: LD_INT 6
18863: DOUBLE
18864: EQUAL
18865: IFTRUE 18869
18867: GO 18926
18869: POP
// begin ur_1 ( i ) ;
18870: LD_VAR 0 2
18874: PPUSH
18875: CALL 19786 0 1
// ur_2 ( i ) ;
18879: LD_VAR 0 2
18883: PPUSH
18884: CALL 20171 0 1
// ur_3 ( i ) ;
18888: LD_VAR 0 2
18892: PPUSH
18893: CALL 20560 0 1
// ur_4 ( i ) ;
18897: LD_VAR 0 2
18901: PPUSH
18902: CALL 21021 0 1
// ur_5 ( i ) ;
18906: LD_VAR 0 2
18910: PPUSH
18911: CALL 21498 0 1
// ur_6 ( i ) ;
18915: LD_VAR 0 2
18919: PPUSH
18920: CALL 21792 0 1
// end ; 7 :
18924: GO 19084
18926: LD_INT 7
18928: DOUBLE
18929: EQUAL
18930: IFTRUE 18934
18932: GO 19000
18934: POP
// begin ur_1 ( i ) ;
18935: LD_VAR 0 2
18939: PPUSH
18940: CALL 19786 0 1
// ur_2 ( i ) ;
18944: LD_VAR 0 2
18948: PPUSH
18949: CALL 20171 0 1
// ur_3 ( i ) ;
18953: LD_VAR 0 2
18957: PPUSH
18958: CALL 20560 0 1
// ur_4 ( i ) ;
18962: LD_VAR 0 2
18966: PPUSH
18967: CALL 21021 0 1
// ur_5 ( i ) ;
18971: LD_VAR 0 2
18975: PPUSH
18976: CALL 21498 0 1
// ur_6 ( i ) ;
18980: LD_VAR 0 2
18984: PPUSH
18985: CALL 21792 0 1
// ur_7 ( i ) ;
18989: LD_VAR 0 2
18993: PPUSH
18994: CALL 22062 0 1
// end ; 8 :
18998: GO 19084
19000: LD_INT 8
19002: DOUBLE
19003: EQUAL
19004: IFTRUE 19008
19006: GO 19083
19008: POP
// begin ur_1 ( i ) ;
19009: LD_VAR 0 2
19013: PPUSH
19014: CALL 19786 0 1
// ur_2 ( i ) ;
19018: LD_VAR 0 2
19022: PPUSH
19023: CALL 20171 0 1
// ur_3 ( i ) ;
19027: LD_VAR 0 2
19031: PPUSH
19032: CALL 20560 0 1
// ur_4 ( i ) ;
19036: LD_VAR 0 2
19040: PPUSH
19041: CALL 21021 0 1
// ur_5 ( i ) ;
19045: LD_VAR 0 2
19049: PPUSH
19050: CALL 21498 0 1
// ur_6 ( i ) ;
19054: LD_VAR 0 2
19058: PPUSH
19059: CALL 21792 0 1
// ur_7 ( i ) ;
19063: LD_VAR 0 2
19067: PPUSH
19068: CALL 22062 0 1
// ur_8 ( i ) ;
19072: LD_VAR 0 2
19076: PPUSH
19077: CALL 22308 0 1
// end ; end ;
19081: GO 19084
19083: POP
19084: GO 18663
19086: POP
19087: POP
// end ;
19088: LD_VAR 0 1
19092: RET
// every 0 0$01 marked 30 do var i ;
19093: GO 19095
19095: DISABLE
19096: LD_INT 0
19098: PPUSH
// begin if def_upgrade_tl = 0 then
19099: LD_EXP 27
19103: PUSH
19104: LD_INT 0
19106: EQUAL
19107: IFFALSE 19111
// exit ;
19109: GO 19623
// if def_tech_level < 1 and not maxTechLevel < 1 then
19111: LD_EXP 26
19115: PUSH
19116: LD_INT 1
19118: LESS
19119: PUSH
19120: LD_EXP 115
19124: PUSH
19125: LD_INT 1
19127: LESS
19128: NOT
19129: AND
19130: IFFALSE 19175
// begin wait ( 0 0$50 * def_upgrade_tl ) ;
19132: LD_INT 1750
19134: PUSH
19135: LD_EXP 27
19139: MUL
19140: PPUSH
19141: CALL_OW 67
// for i in strany do
19145: LD_ADDR_VAR 0 1
19149: PUSH
19150: LD_LOC 19
19154: PUSH
19155: FOR_IN
19156: IFFALSE 19169
// ur_1 ( i ) ;
19158: LD_VAR 0 1
19162: PPUSH
19163: CALL 19786 0 1
19167: GO 19155
19169: POP
19170: POP
// Hustota_Zasilek ;
19171: CALL 2178 0 0
// end ; if def_tech_level < 2 and not maxTechLevel < 2 then
19175: LD_EXP 26
19179: PUSH
19180: LD_INT 2
19182: LESS
19183: PUSH
19184: LD_EXP 115
19188: PUSH
19189: LD_INT 2
19191: LESS
19192: NOT
19193: AND
19194: IFFALSE 19239
// begin wait ( 1 1$00 * def_upgrade_tl ) ;
19196: LD_INT 2100
19198: PUSH
19199: LD_EXP 27
19203: MUL
19204: PPUSH
19205: CALL_OW 67
// for i in strany do
19209: LD_ADDR_VAR 0 1
19213: PUSH
19214: LD_LOC 19
19218: PUSH
19219: FOR_IN
19220: IFFALSE 19233
// ur_2 ( i ) ;
19222: LD_VAR 0 1
19226: PPUSH
19227: CALL 20171 0 1
19231: GO 19219
19233: POP
19234: POP
// Hustota_Zasilek ;
19235: CALL 2178 0 0
// end ; if def_tech_level < 3 and not maxTechLevel < 3 then
19239: LD_EXP 26
19243: PUSH
19244: LD_INT 3
19246: LESS
19247: PUSH
19248: LD_EXP 115
19252: PUSH
19253: LD_INT 3
19255: LESS
19256: NOT
19257: AND
19258: IFFALSE 19303
// begin wait ( 3 3$30 * def_upgrade_tl ) ;
19260: LD_INT 7350
19262: PUSH
19263: LD_EXP 27
19267: MUL
19268: PPUSH
19269: CALL_OW 67
// for i in strany do
19273: LD_ADDR_VAR 0 1
19277: PUSH
19278: LD_LOC 19
19282: PUSH
19283: FOR_IN
19284: IFFALSE 19297
// ur_3 ( i ) ;
19286: LD_VAR 0 1
19290: PPUSH
19291: CALL 20560 0 1
19295: GO 19283
19297: POP
19298: POP
// Hustota_Zasilek ;
19299: CALL 2178 0 0
// end ; if def_tech_level < 4 and not maxTechLevel < 4 then
19303: LD_EXP 26
19307: PUSH
19308: LD_INT 4
19310: LESS
19311: PUSH
19312: LD_EXP 115
19316: PUSH
19317: LD_INT 4
19319: LESS
19320: NOT
19321: AND
19322: IFFALSE 19367
// begin wait ( 4 4$30 * def_upgrade_tl ) ;
19324: LD_INT 9450
19326: PUSH
19327: LD_EXP 27
19331: MUL
19332: PPUSH
19333: CALL_OW 67
// for i in strany do
19337: LD_ADDR_VAR 0 1
19341: PUSH
19342: LD_LOC 19
19346: PUSH
19347: FOR_IN
19348: IFFALSE 19361
// ur_4 ( i ) ;
19350: LD_VAR 0 1
19354: PPUSH
19355: CALL 21021 0 1
19359: GO 19347
19361: POP
19362: POP
// Hustota_Zasilek ;
19363: CALL 2178 0 0
// end ; if def_tech_level < 5 and not maxTechLevel < 5 then
19367: LD_EXP 26
19371: PUSH
19372: LD_INT 5
19374: LESS
19375: PUSH
19376: LD_EXP 115
19380: PUSH
19381: LD_INT 5
19383: LESS
19384: NOT
19385: AND
19386: IFFALSE 19431
// begin wait ( 3 3$30 * def_upgrade_tl ) ;
19388: LD_INT 7350
19390: PUSH
19391: LD_EXP 27
19395: MUL
19396: PPUSH
19397: CALL_OW 67
// for i in strany do
19401: LD_ADDR_VAR 0 1
19405: PUSH
19406: LD_LOC 19
19410: PUSH
19411: FOR_IN
19412: IFFALSE 19425
// ur_5 ( i ) ;
19414: LD_VAR 0 1
19418: PPUSH
19419: CALL 21498 0 1
19423: GO 19411
19425: POP
19426: POP
// Hustota_Zasilek ;
19427: CALL 2178 0 0
// end ; if def_tech_level < 6 and not maxTechLevel < 6 then
19431: LD_EXP 26
19435: PUSH
19436: LD_INT 6
19438: LESS
19439: PUSH
19440: LD_EXP 115
19444: PUSH
19445: LD_INT 6
19447: LESS
19448: NOT
19449: AND
19450: IFFALSE 19495
// begin wait ( 4 4$15 * def_upgrade_tl ) ;
19452: LD_INT 8925
19454: PUSH
19455: LD_EXP 27
19459: MUL
19460: PPUSH
19461: CALL_OW 67
// for i in strany do
19465: LD_ADDR_VAR 0 1
19469: PUSH
19470: LD_LOC 19
19474: PUSH
19475: FOR_IN
19476: IFFALSE 19489
// ur_6 ( i ) ;
19478: LD_VAR 0 1
19482: PPUSH
19483: CALL 21792 0 1
19487: GO 19475
19489: POP
19490: POP
// Hustota_Zasilek ;
19491: CALL 2178 0 0
// end ; if def_tech_level < 7 and not maxTechLevel < 7 then
19495: LD_EXP 26
19499: PUSH
19500: LD_INT 7
19502: LESS
19503: PUSH
19504: LD_EXP 115
19508: PUSH
19509: LD_INT 7
19511: LESS
19512: NOT
19513: AND
19514: IFFALSE 19559
// begin wait ( 4 4$45 * def_upgrade_tl ) ;
19516: LD_INT 9975
19518: PUSH
19519: LD_EXP 27
19523: MUL
19524: PPUSH
19525: CALL_OW 67
// for i in strany do
19529: LD_ADDR_VAR 0 1
19533: PUSH
19534: LD_LOC 19
19538: PUSH
19539: FOR_IN
19540: IFFALSE 19553
// ur_7 ( i ) ;
19542: LD_VAR 0 1
19546: PPUSH
19547: CALL 22062 0 1
19551: GO 19539
19553: POP
19554: POP
// Hustota_Zasilek ;
19555: CALL 2178 0 0
// end ; if def_tech_level < 8 and not maxTechLevel < 8 then
19559: LD_EXP 26
19563: PUSH
19564: LD_INT 8
19566: LESS
19567: PUSH
19568: LD_EXP 115
19572: PUSH
19573: LD_INT 8
19575: LESS
19576: NOT
19577: AND
19578: IFFALSE 19623
// begin wait ( 6 6$00 * def_upgrade_tl ) ;
19580: LD_INT 12600
19582: PUSH
19583: LD_EXP 27
19587: MUL
19588: PPUSH
19589: CALL_OW 67
// for i in strany do
19593: LD_ADDR_VAR 0 1
19597: PUSH
19598: LD_LOC 19
19602: PUSH
19603: FOR_IN
19604: IFFALSE 19617
// ur_8 ( i ) ;
19606: LD_VAR 0 1
19610: PPUSH
19611: CALL 22308 0 1
19615: GO 19603
19617: POP
19618: POP
// Hustota_Zasilek ;
19619: CALL 2178 0 0
// end ; end ;
19623: PPOPN 1
19625: END
// function Vse_zakaz ( side ) ; var i , zbudovy ; begin
19626: LD_INT 0
19628: PPUSH
19629: PPUSH
19630: PPUSH
// for i = 1 to 72 do
19631: LD_ADDR_VAR 0 3
19635: PUSH
19636: DOUBLE
19637: LD_INT 1
19639: DEC
19640: ST_TO_ADDR
19641: LD_INT 72
19643: PUSH
19644: FOR_TO
19645: IFFALSE 19666
// SetTech ( i , side , state_disabled ) ;
19647: LD_VAR 0 3
19651: PPUSH
19652: LD_VAR 0 1
19656: PPUSH
19657: LD_INT 0
19659: PPUSH
19660: CALL_OW 322
19664: GO 19644
19666: POP
19667: POP
// zbudovy = [ 1 , 5 , 2 , 3 , 16 , 19 , 23 , 10 , 11 , 12 , 13 , 14 , 15 , 29 , 30 , 32 ] ;
19668: LD_ADDR_VAR 0 4
19672: PUSH
19673: LD_INT 1
19675: PUSH
19676: LD_INT 5
19678: PUSH
19679: LD_INT 2
19681: PUSH
19682: LD_INT 3
19684: PUSH
19685: LD_INT 16
19687: PUSH
19688: LD_INT 19
19690: PUSH
19691: LD_INT 23
19693: PUSH
19694: LD_INT 10
19696: PUSH
19697: LD_INT 11
19699: PUSH
19700: LD_INT 12
19702: PUSH
19703: LD_INT 13
19705: PUSH
19706: LD_INT 14
19708: PUSH
19709: LD_INT 15
19711: PUSH
19712: LD_INT 29
19714: PUSH
19715: LD_INT 30
19717: PUSH
19718: LD_INT 32
19720: PUSH
19721: EMPTY
19722: LIST
19723: LIST
19724: LIST
19725: LIST
19726: LIST
19727: LIST
19728: LIST
19729: LIST
19730: LIST
19731: LIST
19732: LIST
19733: LIST
19734: LIST
19735: LIST
19736: LIST
19737: LIST
19738: ST_TO_ADDR
// for i in zbudovy do
19739: LD_ADDR_VAR 0 3
19743: PUSH
19744: LD_VAR 0 4
19748: PUSH
19749: FOR_IN
19750: IFFALSE 19771
// SetRestrict ( i , side , state_disabled ) ;
19752: LD_VAR 0 3
19756: PPUSH
19757: LD_VAR 0 1
19761: PPUSH
19762: LD_INT 0
19764: PPUSH
19765: CALL_OW 324
19769: GO 19749
19771: POP
19772: POP
// Tech_Level = 0 ;
19773: LD_ADDR_EXP 56
19777: PUSH
19778: LD_INT 0
19780: ST_TO_ADDR
// end ;
19781: LD_VAR 0 2
19785: RET
// function ur_1 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
19786: LD_INT 0
19788: PPUSH
19789: PPUSH
19790: PPUSH
19791: PPUSH
19792: PPUSH
// narodnost := Side_Nations [ side ] ;
19793: LD_ADDR_VAR 0 3
19797: PUSH
19798: LD_EXP 76
19802: PUSH
19803: LD_VAR 0 1
19807: ARRAY
19808: ST_TO_ADDR
// case narodnost of 1 :
19809: LD_VAR 0 3
19813: PUSH
19814: LD_INT 1
19816: DOUBLE
19817: EQUAL
19818: IFTRUE 19822
19820: GO 19931
19822: POP
// begin pbudovy = [ 2 , 29 ] ;
19823: LD_ADDR_VAR 0 5
19827: PUSH
19828: LD_INT 2
19830: PUSH
19831: LD_INT 29
19833: PUSH
19834: EMPTY
19835: LIST
19836: LIST
19837: ST_TO_ADDR
// for i in pbudovy do
19838: LD_ADDR_VAR 0 6
19842: PUSH
19843: LD_VAR 0 5
19847: PUSH
19848: FOR_IN
19849: IFFALSE 19870
// EnableBuilding ( i , side , state_enabled ) ;
19851: LD_VAR 0 6
19855: PPUSH
19856: LD_VAR 0 1
19860: PPUSH
19861: LD_INT 1
19863: PPUSH
19864: CALL 22487 0 3
19868: GO 19848
19870: POP
19871: POP
// ptech = [ 46 , 35 , 45 , 48 ] ;
19872: LD_ADDR_VAR 0 4
19876: PUSH
19877: LD_INT 46
19879: PUSH
19880: LD_INT 35
19882: PUSH
19883: LD_INT 45
19885: PUSH
19886: LD_INT 48
19888: PUSH
19889: EMPTY
19890: LIST
19891: LIST
19892: LIST
19893: LIST
19894: ST_TO_ADDR
// for i in ptech do
19895: LD_ADDR_VAR 0 6
19899: PUSH
19900: LD_VAR 0 4
19904: PUSH
19905: FOR_IN
19906: IFFALSE 19927
// EnableTech ( i , side , state_enabled ) ;
19908: LD_VAR 0 6
19912: PPUSH
19913: LD_VAR 0 1
19917: PPUSH
19918: LD_INT 1
19920: PPUSH
19921: CALL 22408 0 3
19925: GO 19905
19927: POP
19928: POP
// end ; 2 :
19929: GO 20158
19931: LD_INT 2
19933: DOUBLE
19934: EQUAL
19935: IFTRUE 19939
19937: GO 20048
19939: POP
// begin pbudovy = [ 2 , 29 ] ;
19940: LD_ADDR_VAR 0 5
19944: PUSH
19945: LD_INT 2
19947: PUSH
19948: LD_INT 29
19950: PUSH
19951: EMPTY
19952: LIST
19953: LIST
19954: ST_TO_ADDR
// for i in pbudovy do
19955: LD_ADDR_VAR 0 6
19959: PUSH
19960: LD_VAR 0 5
19964: PUSH
19965: FOR_IN
19966: IFFALSE 19987
// EnableBuilding ( i , side , state_enabled ) ;
19968: LD_VAR 0 6
19972: PPUSH
19973: LD_VAR 0 1
19977: PPUSH
19978: LD_INT 1
19980: PPUSH
19981: CALL 22487 0 3
19985: GO 19965
19987: POP
19988: POP
// ptech = [ 46 , 35 , 45 , 48 ] ;
19989: LD_ADDR_VAR 0 4
19993: PUSH
19994: LD_INT 46
19996: PUSH
19997: LD_INT 35
19999: PUSH
20000: LD_INT 45
20002: PUSH
20003: LD_INT 48
20005: PUSH
20006: EMPTY
20007: LIST
20008: LIST
20009: LIST
20010: LIST
20011: ST_TO_ADDR
// for i in ptech do
20012: LD_ADDR_VAR 0 6
20016: PUSH
20017: LD_VAR 0 4
20021: PUSH
20022: FOR_IN
20023: IFFALSE 20044
// EnableTech ( i , side , state_enabled ) ;
20025: LD_VAR 0 6
20029: PPUSH
20030: LD_VAR 0 1
20034: PPUSH
20035: LD_INT 1
20037: PPUSH
20038: CALL 22408 0 3
20042: GO 20022
20044: POP
20045: POP
// end ; 3 :
20046: GO 20158
20048: LD_INT 3
20050: DOUBLE
20051: EQUAL
20052: IFTRUE 20056
20054: GO 20157
20056: POP
// begin pbudovy = [ 2 , 29 ] ;
20057: LD_ADDR_VAR 0 5
20061: PUSH
20062: LD_INT 2
20064: PUSH
20065: LD_INT 29
20067: PUSH
20068: EMPTY
20069: LIST
20070: LIST
20071: ST_TO_ADDR
// for i in pbudovy do
20072: LD_ADDR_VAR 0 6
20076: PUSH
20077: LD_VAR 0 5
20081: PUSH
20082: FOR_IN
20083: IFFALSE 20104
// EnableBuilding ( i , side , state_enabled ) ;
20085: LD_VAR 0 6
20089: PPUSH
20090: LD_VAR 0 1
20094: PPUSH
20095: LD_INT 1
20097: PPUSH
20098: CALL 22487 0 3
20102: GO 20082
20104: POP
20105: POP
// ptech = [ 46 , 47 ] ;
20106: LD_ADDR_VAR 0 4
20110: PUSH
20111: LD_INT 46
20113: PUSH
20114: LD_INT 47
20116: PUSH
20117: EMPTY
20118: LIST
20119: LIST
20120: ST_TO_ADDR
// for i in ptech do
20121: LD_ADDR_VAR 0 6
20125: PUSH
20126: LD_VAR 0 4
20130: PUSH
20131: FOR_IN
20132: IFFALSE 20153
// EnableTech ( i , side , state_enabled ) ;
20134: LD_VAR 0 6
20138: PPUSH
20139: LD_VAR 0 1
20143: PPUSH
20144: LD_INT 1
20146: PPUSH
20147: CALL 22408 0 3
20151: GO 20131
20153: POP
20154: POP
// end ; end ;
20155: GO 20158
20157: POP
// Tech_Level = 1 ;
20158: LD_ADDR_EXP 56
20162: PUSH
20163: LD_INT 1
20165: ST_TO_ADDR
// end ;
20166: LD_VAR 0 2
20170: RET
// function ur_2 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
20171: LD_INT 0
20173: PPUSH
20174: PPUSH
20175: PPUSH
20176: PPUSH
20177: PPUSH
// narodnost := Side_Nations [ side ] ;
20178: LD_ADDR_VAR 0 3
20182: PUSH
20183: LD_EXP 76
20187: PUSH
20188: LD_VAR 0 1
20192: ARRAY
20193: ST_TO_ADDR
// case narodnost of 1 :
20194: LD_VAR 0 3
20198: PUSH
20199: LD_INT 1
20201: DOUBLE
20202: EQUAL
20203: IFTRUE 20207
20205: GO 20316
20207: POP
// begin pbudovy = [ 10 , 3 ] ;
20208: LD_ADDR_VAR 0 5
20212: PUSH
20213: LD_INT 10
20215: PUSH
20216: LD_INT 3
20218: PUSH
20219: EMPTY
20220: LIST
20221: LIST
20222: ST_TO_ADDR
// for i in pbudovy do
20223: LD_ADDR_VAR 0 6
20227: PUSH
20228: LD_VAR 0 5
20232: PUSH
20233: FOR_IN
20234: IFFALSE 20255
// EnableBuilding ( i , side , state_enabled ) ;
20236: LD_VAR 0 6
20240: PPUSH
20241: LD_VAR 0 1
20245: PPUSH
20246: LD_INT 1
20248: PPUSH
20249: CALL 22487 0 3
20253: GO 20233
20255: POP
20256: POP
// ptech = [ 1 , 47 , 69 , 2 ] ;
20257: LD_ADDR_VAR 0 4
20261: PUSH
20262: LD_INT 1
20264: PUSH
20265: LD_INT 47
20267: PUSH
20268: LD_INT 69
20270: PUSH
20271: LD_INT 2
20273: PUSH
20274: EMPTY
20275: LIST
20276: LIST
20277: LIST
20278: LIST
20279: ST_TO_ADDR
// for i in ptech do
20280: LD_ADDR_VAR 0 6
20284: PUSH
20285: LD_VAR 0 4
20289: PUSH
20290: FOR_IN
20291: IFFALSE 20312
// EnableTech ( i , side , state_enabled ) ;
20293: LD_VAR 0 6
20297: PPUSH
20298: LD_VAR 0 1
20302: PPUSH
20303: LD_INT 1
20305: PPUSH
20306: CALL 22408 0 3
20310: GO 20290
20312: POP
20313: POP
// end ; 2 :
20314: GO 20547
20316: LD_INT 2
20318: DOUBLE
20319: EQUAL
20320: IFTRUE 20324
20322: GO 20433
20324: POP
// begin pbudovy = [ 10 , 3 ] ;
20325: LD_ADDR_VAR 0 5
20329: PUSH
20330: LD_INT 10
20332: PUSH
20333: LD_INT 3
20335: PUSH
20336: EMPTY
20337: LIST
20338: LIST
20339: ST_TO_ADDR
// for i in pbudovy do
20340: LD_ADDR_VAR 0 6
20344: PUSH
20345: LD_VAR 0 5
20349: PUSH
20350: FOR_IN
20351: IFFALSE 20372
// EnableBuilding ( i , side , state_enabled ) ;
20353: LD_VAR 0 6
20357: PPUSH
20358: LD_VAR 0 1
20362: PPUSH
20363: LD_INT 1
20365: PPUSH
20366: CALL 22487 0 3
20370: GO 20350
20372: POP
20373: POP
// ptech = [ 1 , 47 , 69 , 11 ] ;
20374: LD_ADDR_VAR 0 4
20378: PUSH
20379: LD_INT 1
20381: PUSH
20382: LD_INT 47
20384: PUSH
20385: LD_INT 69
20387: PUSH
20388: LD_INT 11
20390: PUSH
20391: EMPTY
20392: LIST
20393: LIST
20394: LIST
20395: LIST
20396: ST_TO_ADDR
// for i in ptech do
20397: LD_ADDR_VAR 0 6
20401: PUSH
20402: LD_VAR 0 4
20406: PUSH
20407: FOR_IN
20408: IFFALSE 20429
// EnableTech ( i , side , state_enabled ) ;
20410: LD_VAR 0 6
20414: PPUSH
20415: LD_VAR 0 1
20419: PPUSH
20420: LD_INT 1
20422: PPUSH
20423: CALL 22408 0 3
20427: GO 20407
20429: POP
20430: POP
// end ; 3 :
20431: GO 20547
20433: LD_INT 3
20435: DOUBLE
20436: EQUAL
20437: IFTRUE 20441
20439: GO 20546
20441: POP
// begin pbudovy = [ 10 ] ;
20442: LD_ADDR_VAR 0 5
20446: PUSH
20447: LD_INT 10
20449: PUSH
20450: EMPTY
20451: LIST
20452: ST_TO_ADDR
// for i in pbudovy do
20453: LD_ADDR_VAR 0 6
20457: PUSH
20458: LD_VAR 0 5
20462: PUSH
20463: FOR_IN
20464: IFFALSE 20485
// EnableBuilding ( i , side , state_enabled ) ;
20466: LD_VAR 0 6
20470: PPUSH
20471: LD_VAR 0 1
20475: PPUSH
20476: LD_INT 1
20478: PPUSH
20479: CALL 22487 0 3
20483: GO 20463
20485: POP
20486: POP
// ptech = [ 1 , 2 , 48 , 51 ] ;
20487: LD_ADDR_VAR 0 4
20491: PUSH
20492: LD_INT 1
20494: PUSH
20495: LD_INT 2
20497: PUSH
20498: LD_INT 48
20500: PUSH
20501: LD_INT 51
20503: PUSH
20504: EMPTY
20505: LIST
20506: LIST
20507: LIST
20508: LIST
20509: ST_TO_ADDR
// for i in ptech do
20510: LD_ADDR_VAR 0 6
20514: PUSH
20515: LD_VAR 0 4
20519: PUSH
20520: FOR_IN
20521: IFFALSE 20542
// EnableTech ( i , side , state_enabled ) ;
20523: LD_VAR 0 6
20527: PPUSH
20528: LD_VAR 0 1
20532: PPUSH
20533: LD_INT 1
20535: PPUSH
20536: CALL 22408 0 3
20540: GO 20520
20542: POP
20543: POP
// end ; end ;
20544: GO 20547
20546: POP
// Tech_Level = 2 ;
20547: LD_ADDR_EXP 56
20551: PUSH
20552: LD_INT 2
20554: ST_TO_ADDR
// end ;
20555: LD_VAR 0 2
20559: RET
// function ur_3 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
20560: LD_INT 0
20562: PPUSH
20563: PPUSH
20564: PPUSH
20565: PPUSH
20566: PPUSH
// narodnost := Side_Nations [ side ] ;
20567: LD_ADDR_VAR 0 3
20571: PUSH
20572: LD_EXP 76
20576: PUSH
20577: LD_VAR 0 1
20581: ARRAY
20582: ST_TO_ADDR
// case narodnost of 1 :
20583: LD_VAR 0 3
20587: PUSH
20588: LD_INT 1
20590: DOUBLE
20591: EQUAL
20592: IFTRUE 20596
20594: GO 20721
20596: POP
// begin pbudovy = [ 32 , 19 , 5 , 16 , 15 ] ;
20597: LD_ADDR_VAR 0 5
20601: PUSH
20602: LD_INT 32
20604: PUSH
20605: LD_INT 19
20607: PUSH
20608: LD_INT 5
20610: PUSH
20611: LD_INT 16
20613: PUSH
20614: LD_INT 15
20616: PUSH
20617: EMPTY
20618: LIST
20619: LIST
20620: LIST
20621: LIST
20622: LIST
20623: ST_TO_ADDR
// for i in pbudovy do
20624: LD_ADDR_VAR 0 6
20628: PUSH
20629: LD_VAR 0 5
20633: PUSH
20634: FOR_IN
20635: IFFALSE 20656
// EnableBuilding ( i , side , state_enabled ) ;
20637: LD_VAR 0 6
20641: PPUSH
20642: LD_VAR 0 1
20646: PPUSH
20647: LD_INT 1
20649: PPUSH
20650: CALL 22487 0 3
20654: GO 20634
20656: POP
20657: POP
// ptech = [ 39 , 49 , 6 , 12 , 51 ] ;
20658: LD_ADDR_VAR 0 4
20662: PUSH
20663: LD_INT 39
20665: PUSH
20666: LD_INT 49
20668: PUSH
20669: LD_INT 6
20671: PUSH
20672: LD_INT 12
20674: PUSH
20675: LD_INT 51
20677: PUSH
20678: EMPTY
20679: LIST
20680: LIST
20681: LIST
20682: LIST
20683: LIST
20684: ST_TO_ADDR
// for i in ptech do
20685: LD_ADDR_VAR 0 6
20689: PUSH
20690: LD_VAR 0 4
20694: PUSH
20695: FOR_IN
20696: IFFALSE 20717
// EnableTech ( i , side , state_enabled ) ;
20698: LD_VAR 0 6
20702: PPUSH
20703: LD_VAR 0 1
20707: PPUSH
20708: LD_INT 1
20710: PPUSH
20711: CALL 22408 0 3
20715: GO 20695
20717: POP
20718: POP
// end ; 2 :
20719: GO 21008
20721: LD_INT 2
20723: DOUBLE
20724: EQUAL
20725: IFTRUE 20729
20727: GO 20862
20729: POP
// begin pbudovy = [ 32 , 23 , 5 , 16 , 15 ] ;
20730: LD_ADDR_VAR 0 5
20734: PUSH
20735: LD_INT 32
20737: PUSH
20738: LD_INT 23
20740: PUSH
20741: LD_INT 5
20743: PUSH
20744: LD_INT 16
20746: PUSH
20747: LD_INT 15
20749: PUSH
20750: EMPTY
20751: LIST
20752: LIST
20753: LIST
20754: LIST
20755: LIST
20756: ST_TO_ADDR
// for i in pbudovy do
20757: LD_ADDR_VAR 0 6
20761: PUSH
20762: LD_VAR 0 5
20766: PUSH
20767: FOR_IN
20768: IFFALSE 20789
// EnableBuilding ( i , side , state_enabled ) ;
20770: LD_VAR 0 6
20774: PPUSH
20775: LD_VAR 0 1
20779: PPUSH
20780: LD_INT 1
20782: PPUSH
20783: CALL 22487 0 3
20787: GO 20767
20789: POP
20790: POP
// ptech = [ 39 , 49 , 6 , 51 , 17 , 42 , 70 ] ;
20791: LD_ADDR_VAR 0 4
20795: PUSH
20796: LD_INT 39
20798: PUSH
20799: LD_INT 49
20801: PUSH
20802: LD_INT 6
20804: PUSH
20805: LD_INT 51
20807: PUSH
20808: LD_INT 17
20810: PUSH
20811: LD_INT 42
20813: PUSH
20814: LD_INT 70
20816: PUSH
20817: EMPTY
20818: LIST
20819: LIST
20820: LIST
20821: LIST
20822: LIST
20823: LIST
20824: LIST
20825: ST_TO_ADDR
// for i in ptech do
20826: LD_ADDR_VAR 0 6
20830: PUSH
20831: LD_VAR 0 4
20835: PUSH
20836: FOR_IN
20837: IFFALSE 20858
// EnableTech ( i , side , state_enabled ) ;
20839: LD_VAR 0 6
20843: PPUSH
20844: LD_VAR 0 1
20848: PPUSH
20849: LD_INT 1
20851: PPUSH
20852: CALL 22408 0 3
20856: GO 20836
20858: POP
20859: POP
// end ; 3 :
20860: GO 21008
20862: LD_INT 3
20864: DOUBLE
20865: EQUAL
20866: IFTRUE 20870
20868: GO 21007
20870: POP
// begin pbudovy = [ 3 , 32 , 19 , 5 , 14 , 30 ] ;
20871: LD_ADDR_VAR 0 5
20875: PUSH
20876: LD_INT 3
20878: PUSH
20879: LD_INT 32
20881: PUSH
20882: LD_INT 19
20884: PUSH
20885: LD_INT 5
20887: PUSH
20888: LD_INT 14
20890: PUSH
20891: LD_INT 30
20893: PUSH
20894: EMPTY
20895: LIST
20896: LIST
20897: LIST
20898: LIST
20899: LIST
20900: LIST
20901: ST_TO_ADDR
// for i in pbudovy do
20902: LD_ADDR_VAR 0 6
20906: PUSH
20907: LD_VAR 0 5
20911: PUSH
20912: FOR_IN
20913: IFFALSE 20934
// EnableBuilding ( i , side , state_enabled ) ;
20915: LD_VAR 0 6
20919: PPUSH
20920: LD_VAR 0 1
20924: PPUSH
20925: LD_INT 1
20927: PPUSH
20928: CALL 22487 0 3
20932: GO 20912
20934: POP
20935: POP
// ptech = [ 39 , 49 , 69 , 40 , 30 , 11 , 20 ] ;
20936: LD_ADDR_VAR 0 4
20940: PUSH
20941: LD_INT 39
20943: PUSH
20944: LD_INT 49
20946: PUSH
20947: LD_INT 69
20949: PUSH
20950: LD_INT 40
20952: PUSH
20953: LD_INT 30
20955: PUSH
20956: LD_INT 11
20958: PUSH
20959: LD_INT 20
20961: PUSH
20962: EMPTY
20963: LIST
20964: LIST
20965: LIST
20966: LIST
20967: LIST
20968: LIST
20969: LIST
20970: ST_TO_ADDR
// for i in ptech do
20971: LD_ADDR_VAR 0 6
20975: PUSH
20976: LD_VAR 0 4
20980: PUSH
20981: FOR_IN
20982: IFFALSE 21003
// EnableTech ( i , side , state_enabled ) ;
20984: LD_VAR 0 6
20988: PPUSH
20989: LD_VAR 0 1
20993: PPUSH
20994: LD_INT 1
20996: PPUSH
20997: CALL 22408 0 3
21001: GO 20981
21003: POP
21004: POP
// end ; end ;
21005: GO 21008
21007: POP
// Tech_Level = 3 ;
21008: LD_ADDR_EXP 56
21012: PUSH
21013: LD_INT 3
21015: ST_TO_ADDR
// end ;
21016: LD_VAR 0 2
21020: RET
// function ur_4 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
21021: LD_INT 0
21023: PPUSH
21024: PPUSH
21025: PPUSH
21026: PPUSH
21027: PPUSH
// narodnost := Side_Nations [ side ] ;
21028: LD_ADDR_VAR 0 3
21032: PUSH
21033: LD_EXP 76
21037: PUSH
21038: LD_VAR 0 1
21042: ARRAY
21043: ST_TO_ADDR
// case narodnost of 1 :
21044: LD_VAR 0 3
21048: PUSH
21049: LD_INT 1
21051: DOUBLE
21052: EQUAL
21053: IFTRUE 21057
21055: GO 21194
21057: POP
// begin pbudovy = [ 30 , 12 , 11 , 1 ] ;
21058: LD_ADDR_VAR 0 5
21062: PUSH
21063: LD_INT 30
21065: PUSH
21066: LD_INT 12
21068: PUSH
21069: LD_INT 11
21071: PUSH
21072: LD_INT 1
21074: PUSH
21075: EMPTY
21076: LIST
21077: LIST
21078: LIST
21079: LIST
21080: ST_TO_ADDR
// for i in pbudovy do
21081: LD_ADDR_VAR 0 6
21085: PUSH
21086: LD_VAR 0 5
21090: PUSH
21091: FOR_IN
21092: IFFALSE 21113
// EnableBuilding ( i , side , state_enabled ) ;
21094: LD_VAR 0 6
21098: PPUSH
21099: LD_VAR 0 1
21103: PPUSH
21104: LD_INT 1
21106: PPUSH
21107: CALL 22487 0 3
21111: GO 21091
21113: POP
21114: POP
// ptech = [ 21 , 22 , 7 , 20 , 32 , 40 , 10 , 60 , 52 ] ;
21115: LD_ADDR_VAR 0 4
21119: PUSH
21120: LD_INT 21
21122: PUSH
21123: LD_INT 22
21125: PUSH
21126: LD_INT 7
21128: PUSH
21129: LD_INT 20
21131: PUSH
21132: LD_INT 32
21134: PUSH
21135: LD_INT 40
21137: PUSH
21138: LD_INT 10
21140: PUSH
21141: LD_INT 60
21143: PUSH
21144: LD_INT 52
21146: PUSH
21147: EMPTY
21148: LIST
21149: LIST
21150: LIST
21151: LIST
21152: LIST
21153: LIST
21154: LIST
21155: LIST
21156: LIST
21157: ST_TO_ADDR
// for i in ptech do
21158: LD_ADDR_VAR 0 6
21162: PUSH
21163: LD_VAR 0 4
21167: PUSH
21168: FOR_IN
21169: IFFALSE 21190
// EnableTech ( i , side , state_enabled ) ;
21171: LD_VAR 0 6
21175: PPUSH
21176: LD_VAR 0 1
21180: PPUSH
21181: LD_INT 1
21183: PPUSH
21184: CALL 22408 0 3
21188: GO 21168
21190: POP
21191: POP
// end ; 2 :
21192: GO 21485
21194: LD_INT 2
21196: DOUBLE
21197: EQUAL
21198: IFTRUE 21202
21200: GO 21343
21202: POP
// begin pbudovy = [ 30 , 11 , 13 , 1 ] ;
21203: LD_ADDR_VAR 0 5
21207: PUSH
21208: LD_INT 30
21210: PUSH
21211: LD_INT 11
21213: PUSH
21214: LD_INT 13
21216: PUSH
21217: LD_INT 1
21219: PUSH
21220: EMPTY
21221: LIST
21222: LIST
21223: LIST
21224: LIST
21225: ST_TO_ADDR
// for i in pbudovy do
21226: LD_ADDR_VAR 0 6
21230: PUSH
21231: LD_VAR 0 5
21235: PUSH
21236: FOR_IN
21237: IFFALSE 21258
// EnableBuilding ( i , side , state_enabled ) ;
21239: LD_VAR 0 6
21243: PPUSH
21244: LD_VAR 0 1
21248: PPUSH
21249: LD_INT 1
21251: PPUSH
21252: CALL 22487 0 3
21256: GO 21236
21258: POP
21259: POP
// ptech = [ 21 , 22 , 3 , 5 , 7 , 60 , 40 , 41 , 20 , 52 ] ;
21260: LD_ADDR_VAR 0 4
21264: PUSH
21265: LD_INT 21
21267: PUSH
21268: LD_INT 22
21270: PUSH
21271: LD_INT 3
21273: PUSH
21274: LD_INT 5
21276: PUSH
21277: LD_INT 7
21279: PUSH
21280: LD_INT 60
21282: PUSH
21283: LD_INT 40
21285: PUSH
21286: LD_INT 41
21288: PUSH
21289: LD_INT 20
21291: PUSH
21292: LD_INT 52
21294: PUSH
21295: EMPTY
21296: LIST
21297: LIST
21298: LIST
21299: LIST
21300: LIST
21301: LIST
21302: LIST
21303: LIST
21304: LIST
21305: LIST
21306: ST_TO_ADDR
// for i in ptech do
21307: LD_ADDR_VAR 0 6
21311: PUSH
21312: LD_VAR 0 4
21316: PUSH
21317: FOR_IN
21318: IFFALSE 21339
// EnableTech ( i , side , state_enabled ) ;
21320: LD_VAR 0 6
21324: PPUSH
21325: LD_VAR 0 1
21329: PPUSH
21330: LD_INT 1
21332: PPUSH
21333: CALL 22408 0 3
21337: GO 21317
21339: POP
21340: POP
// end ; 3 :
21341: GO 21485
21343: LD_INT 3
21345: DOUBLE
21346: EQUAL
21347: IFTRUE 21351
21349: GO 21484
21351: POP
// begin pbudovy = [ 12 , 11 , 16 , 1 ] ;
21352: LD_ADDR_VAR 0 5
21356: PUSH
21357: LD_INT 12
21359: PUSH
21360: LD_INT 11
21362: PUSH
21363: LD_INT 16
21365: PUSH
21366: LD_INT 1
21368: PUSH
21369: EMPTY
21370: LIST
21371: LIST
21372: LIST
21373: LIST
21374: ST_TO_ADDR
// for i in pbudovy do
21375: LD_ADDR_VAR 0 6
21379: PUSH
21380: LD_VAR 0 5
21384: PUSH
21385: FOR_IN
21386: IFFALSE 21407
// EnableBuilding ( i , side , state_enabled ) ;
21388: LD_VAR 0 6
21392: PPUSH
21393: LD_VAR 0 1
21397: PPUSH
21398: LD_INT 1
21400: PPUSH
21401: CALL 22487 0 3
21405: GO 21385
21407: POP
21408: POP
// ptech = [ 21 , 22 , 44 , 9 , 37 , 32 , 63 , 52 ] ;
21409: LD_ADDR_VAR 0 4
21413: PUSH
21414: LD_INT 21
21416: PUSH
21417: LD_INT 22
21419: PUSH
21420: LD_INT 44
21422: PUSH
21423: LD_INT 9
21425: PUSH
21426: LD_INT 37
21428: PUSH
21429: LD_INT 32
21431: PUSH
21432: LD_INT 63
21434: PUSH
21435: LD_INT 52
21437: PUSH
21438: EMPTY
21439: LIST
21440: LIST
21441: LIST
21442: LIST
21443: LIST
21444: LIST
21445: LIST
21446: LIST
21447: ST_TO_ADDR
// for i in ptech do
21448: LD_ADDR_VAR 0 6
21452: PUSH
21453: LD_VAR 0 4
21457: PUSH
21458: FOR_IN
21459: IFFALSE 21480
// EnableTech ( i , side , state_enabled ) ;
21461: LD_VAR 0 6
21465: PPUSH
21466: LD_VAR 0 1
21470: PPUSH
21471: LD_INT 1
21473: PPUSH
21474: CALL 22408 0 3
21478: GO 21458
21480: POP
21481: POP
// end ; end ;
21482: GO 21485
21484: POP
// Tech_Level = 4 ;
21485: LD_ADDR_EXP 56
21489: PUSH
21490: LD_INT 4
21492: ST_TO_ADDR
// end ;
21493: LD_VAR 0 2
21497: RET
// function ur_5 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
21498: LD_INT 0
21500: PPUSH
21501: PPUSH
21502: PPUSH
21503: PPUSH
21504: PPUSH
// narodnost := Side_Nations [ side ] ;
21505: LD_ADDR_VAR 0 3
21509: PUSH
21510: LD_EXP 76
21514: PUSH
21515: LD_VAR 0 1
21519: ARRAY
21520: ST_TO_ADDR
// case narodnost of 1 :
21521: LD_VAR 0 3
21525: PUSH
21526: LD_INT 1
21528: DOUBLE
21529: EQUAL
21530: IFTRUE 21534
21532: GO 21606
21534: POP
// begin ptech = [ 50 , 54 , 15 , 13 , 34 , 36 , 57 ] ;
21535: LD_ADDR_VAR 0 4
21539: PUSH
21540: LD_INT 50
21542: PUSH
21543: LD_INT 54
21545: PUSH
21546: LD_INT 15
21548: PUSH
21549: LD_INT 13
21551: PUSH
21552: LD_INT 34
21554: PUSH
21555: LD_INT 36
21557: PUSH
21558: LD_INT 57
21560: PUSH
21561: EMPTY
21562: LIST
21563: LIST
21564: LIST
21565: LIST
21566: LIST
21567: LIST
21568: LIST
21569: ST_TO_ADDR
// for i in ptech do
21570: LD_ADDR_VAR 0 6
21574: PUSH
21575: LD_VAR 0 4
21579: PUSH
21580: FOR_IN
21581: IFFALSE 21602
// EnableTech ( i , side , state_enabled ) ;
21583: LD_VAR 0 6
21587: PPUSH
21588: LD_VAR 0 1
21592: PPUSH
21593: LD_INT 1
21595: PPUSH
21596: CALL 22408 0 3
21600: GO 21580
21602: POP
21603: POP
// end ; 2 :
21604: GO 21779
21606: LD_INT 2
21608: DOUBLE
21609: EQUAL
21610: IFTRUE 21614
21612: GO 21686
21614: POP
// begin ptech = [ 50 , 54 , 66 , 18 , 15 , 43 , 26 , ] ;
21615: LD_ADDR_VAR 0 4
21619: PUSH
21620: LD_INT 50
21622: PUSH
21623: LD_INT 54
21625: PUSH
21626: LD_INT 66
21628: PUSH
21629: LD_INT 18
21631: PUSH
21632: LD_INT 15
21634: PUSH
21635: LD_INT 43
21637: PUSH
21638: LD_INT 26
21640: PUSH
21641: EMPTY
21642: LIST
21643: LIST
21644: LIST
21645: LIST
21646: LIST
21647: LIST
21648: LIST
21649: ST_TO_ADDR
// for i in ptech do
21650: LD_ADDR_VAR 0 6
21654: PUSH
21655: LD_VAR 0 4
21659: PUSH
21660: FOR_IN
21661: IFFALSE 21682
// EnableTech ( i , side , state_enabled ) ;
21663: LD_VAR 0 6
21667: PPUSH
21668: LD_VAR 0 1
21672: PPUSH
21673: LD_INT 1
21675: PPUSH
21676: CALL 22408 0 3
21680: GO 21660
21682: POP
21683: POP
// end ; 3 :
21684: GO 21779
21686: LD_INT 3
21688: DOUBLE
21689: EQUAL
21690: IFTRUE 21694
21692: GO 21778
21694: POP
// begin ptech = [ 50 , 54 , 57 , 29 , 28 , 33 , 34 , 19 , 27 , 38 ] ;
21695: LD_ADDR_VAR 0 4
21699: PUSH
21700: LD_INT 50
21702: PUSH
21703: LD_INT 54
21705: PUSH
21706: LD_INT 57
21708: PUSH
21709: LD_INT 29
21711: PUSH
21712: LD_INT 28
21714: PUSH
21715: LD_INT 33
21717: PUSH
21718: LD_INT 34
21720: PUSH
21721: LD_INT 19
21723: PUSH
21724: LD_INT 27
21726: PUSH
21727: LD_INT 38
21729: PUSH
21730: EMPTY
21731: LIST
21732: LIST
21733: LIST
21734: LIST
21735: LIST
21736: LIST
21737: LIST
21738: LIST
21739: LIST
21740: LIST
21741: ST_TO_ADDR
// for i in ptech do
21742: LD_ADDR_VAR 0 6
21746: PUSH
21747: LD_VAR 0 4
21751: PUSH
21752: FOR_IN
21753: IFFALSE 21774
// EnableTech ( i , side , state_enabled ) ;
21755: LD_VAR 0 6
21759: PPUSH
21760: LD_VAR 0 1
21764: PPUSH
21765: LD_INT 1
21767: PPUSH
21768: CALL 22408 0 3
21772: GO 21752
21774: POP
21775: POP
// end ; end ;
21776: GO 21779
21778: POP
// Tech_Level = 5 ;
21779: LD_ADDR_EXP 56
21783: PUSH
21784: LD_INT 5
21786: ST_TO_ADDR
// end ;
21787: LD_VAR 0 2
21791: RET
// function ur_6 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
21792: LD_INT 0
21794: PPUSH
21795: PPUSH
21796: PPUSH
21797: PPUSH
21798: PPUSH
// narodnost := Side_Nations [ side ] ;
21799: LD_ADDR_VAR 0 3
21803: PUSH
21804: LD_EXP 76
21808: PUSH
21809: LD_VAR 0 1
21813: ARRAY
21814: ST_TO_ADDR
// case narodnost of 1 :
21815: LD_VAR 0 3
21819: PUSH
21820: LD_INT 1
21822: DOUBLE
21823: EQUAL
21824: IFTRUE 21828
21826: GO 21896
21828: POP
// begin ptech = [ 53 , 55 , 16 , 61 , 58 , 27 ] ;
21829: LD_ADDR_VAR 0 4
21833: PUSH
21834: LD_INT 53
21836: PUSH
21837: LD_INT 55
21839: PUSH
21840: LD_INT 16
21842: PUSH
21843: LD_INT 61
21845: PUSH
21846: LD_INT 58
21848: PUSH
21849: LD_INT 27
21851: PUSH
21852: EMPTY
21853: LIST
21854: LIST
21855: LIST
21856: LIST
21857: LIST
21858: LIST
21859: ST_TO_ADDR
// for i in ptech do
21860: LD_ADDR_VAR 0 6
21864: PUSH
21865: LD_VAR 0 4
21869: PUSH
21870: FOR_IN
21871: IFFALSE 21892
// EnableTech ( i , side , state_enabled ) ;
21873: LD_VAR 0 6
21877: PPUSH
21878: LD_VAR 0 1
21882: PPUSH
21883: LD_INT 1
21885: PPUSH
21886: CALL 22408 0 3
21890: GO 21870
21892: POP
21893: POP
// end ; 2 :
21894: GO 22049
21896: LD_INT 2
21898: DOUBLE
21899: EQUAL
21900: IFTRUE 21904
21902: GO 21972
21904: POP
// begin ptech = [ 53 , 55 , 61 , 67 , 4 , 8 ] ;
21905: LD_ADDR_VAR 0 4
21909: PUSH
21910: LD_INT 53
21912: PUSH
21913: LD_INT 55
21915: PUSH
21916: LD_INT 61
21918: PUSH
21919: LD_INT 67
21921: PUSH
21922: LD_INT 4
21924: PUSH
21925: LD_INT 8
21927: PUSH
21928: EMPTY
21929: LIST
21930: LIST
21931: LIST
21932: LIST
21933: LIST
21934: LIST
21935: ST_TO_ADDR
// for i in ptech do
21936: LD_ADDR_VAR 0 6
21940: PUSH
21941: LD_VAR 0 4
21945: PUSH
21946: FOR_IN
21947: IFFALSE 21968
// EnableTech ( i , side , state_enabled ) ;
21949: LD_VAR 0 6
21953: PPUSH
21954: LD_VAR 0 1
21958: PPUSH
21959: LD_INT 1
21961: PPUSH
21962: CALL 22408 0 3
21966: GO 21946
21968: POP
21969: POP
// end ; 3 :
21970: GO 22049
21972: LD_INT 3
21974: DOUBLE
21975: EQUAL
21976: IFTRUE 21980
21978: GO 22048
21980: POP
// begin ptech = [ 53 , 55 , 58 , 64 , 71 , 31 ] ;
21981: LD_ADDR_VAR 0 4
21985: PUSH
21986: LD_INT 53
21988: PUSH
21989: LD_INT 55
21991: PUSH
21992: LD_INT 58
21994: PUSH
21995: LD_INT 64
21997: PUSH
21998: LD_INT 71
22000: PUSH
22001: LD_INT 31
22003: PUSH
22004: EMPTY
22005: LIST
22006: LIST
22007: LIST
22008: LIST
22009: LIST
22010: LIST
22011: ST_TO_ADDR
// for i in ptech do
22012: LD_ADDR_VAR 0 6
22016: PUSH
22017: LD_VAR 0 4
22021: PUSH
22022: FOR_IN
22023: IFFALSE 22044
// EnableTech ( i , side , state_enabled ) ;
22025: LD_VAR 0 6
22029: PPUSH
22030: LD_VAR 0 1
22034: PPUSH
22035: LD_INT 1
22037: PPUSH
22038: CALL 22408 0 3
22042: GO 22022
22044: POP
22045: POP
// end ; end ;
22046: GO 22049
22048: POP
// Tech_Level = 6 ;
22049: LD_ADDR_EXP 56
22053: PUSH
22054: LD_INT 6
22056: ST_TO_ADDR
// end ;
22057: LD_VAR 0 2
22061: RET
// function ur_7 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
22062: LD_INT 0
22064: PPUSH
22065: PPUSH
22066: PPUSH
22067: PPUSH
22068: PPUSH
// narodnost := Side_Nations [ side ] ;
22069: LD_ADDR_VAR 0 3
22073: PUSH
22074: LD_EXP 76
22078: PUSH
22079: LD_VAR 0 1
22083: ARRAY
22084: ST_TO_ADDR
// case narodnost of 1 :
22085: LD_VAR 0 3
22089: PUSH
22090: LD_INT 1
22092: DOUBLE
22093: EQUAL
22094: IFTRUE 22098
22096: GO 22158
22098: POP
// begin ptech = [ 56 , 62 , 59 , 14 ] ;
22099: LD_ADDR_VAR 0 4
22103: PUSH
22104: LD_INT 56
22106: PUSH
22107: LD_INT 62
22109: PUSH
22110: LD_INT 59
22112: PUSH
22113: LD_INT 14
22115: PUSH
22116: EMPTY
22117: LIST
22118: LIST
22119: LIST
22120: LIST
22121: ST_TO_ADDR
// for i in ptech do
22122: LD_ADDR_VAR 0 6
22126: PUSH
22127: LD_VAR 0 4
22131: PUSH
22132: FOR_IN
22133: IFFALSE 22154
// EnableTech ( i , side , state_enabled ) ;
22135: LD_VAR 0 6
22139: PPUSH
22140: LD_VAR 0 1
22144: PPUSH
22145: LD_INT 1
22147: PPUSH
22148: CALL 22408 0 3
22152: GO 22132
22154: POP
22155: POP
// end ; 2 :
22156: GO 22295
22158: LD_INT 2
22160: DOUBLE
22161: EQUAL
22162: IFTRUE 22166
22164: GO 22226
22166: POP
// begin ptech = [ 56 , 62 , 68 , 72 ] ;
22167: LD_ADDR_VAR 0 4
22171: PUSH
22172: LD_INT 56
22174: PUSH
22175: LD_INT 62
22177: PUSH
22178: LD_INT 68
22180: PUSH
22181: LD_INT 72
22183: PUSH
22184: EMPTY
22185: LIST
22186: LIST
22187: LIST
22188: LIST
22189: ST_TO_ADDR
// for i in ptech do
22190: LD_ADDR_VAR 0 6
22194: PUSH
22195: LD_VAR 0 4
22199: PUSH
22200: FOR_IN
22201: IFFALSE 22222
// EnableTech ( i , side , state_enabled ) ;
22203: LD_VAR 0 6
22207: PPUSH
22208: LD_VAR 0 1
22212: PPUSH
22213: LD_INT 1
22215: PPUSH
22216: CALL 22408 0 3
22220: GO 22200
22222: POP
22223: POP
// end ; 3 :
22224: GO 22295
22226: LD_INT 3
22228: DOUBLE
22229: EQUAL
22230: IFTRUE 22234
22232: GO 22294
22234: POP
// begin ptech = [ 56 , 59 , 65 , 23 ] ;
22235: LD_ADDR_VAR 0 4
22239: PUSH
22240: LD_INT 56
22242: PUSH
22243: LD_INT 59
22245: PUSH
22246: LD_INT 65
22248: PUSH
22249: LD_INT 23
22251: PUSH
22252: EMPTY
22253: LIST
22254: LIST
22255: LIST
22256: LIST
22257: ST_TO_ADDR
// for i in ptech do
22258: LD_ADDR_VAR 0 6
22262: PUSH
22263: LD_VAR 0 4
22267: PUSH
22268: FOR_IN
22269: IFFALSE 22290
// EnableTech ( i , side , state_enabled ) ;
22271: LD_VAR 0 6
22275: PPUSH
22276: LD_VAR 0 1
22280: PPUSH
22281: LD_INT 1
22283: PPUSH
22284: CALL 22408 0 3
22288: GO 22268
22290: POP
22291: POP
// end ; end ;
22292: GO 22295
22294: POP
// Tech_Level = 7 ;
22295: LD_ADDR_EXP 56
22299: PUSH
22300: LD_INT 7
22302: ST_TO_ADDR
// end ;
22303: LD_VAR 0 2
22307: RET
// function ur_8 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
22308: LD_INT 0
22310: PPUSH
22311: PPUSH
22312: PPUSH
22313: PPUSH
22314: PPUSH
// narodnost := Side_Nations [ side ] ;
22315: LD_ADDR_VAR 0 3
22319: PUSH
22320: LD_EXP 76
22324: PUSH
22325: LD_VAR 0 1
22329: ARRAY
22330: ST_TO_ADDR
// case narodnost of 1 , 3 :
22331: LD_VAR 0 3
22335: PUSH
22336: LD_INT 1
22338: DOUBLE
22339: EQUAL
22340: IFTRUE 22350
22342: LD_INT 3
22344: DOUBLE
22345: EQUAL
22346: IFTRUE 22350
22348: GO 22368
22350: POP
// EnableTech ( 25 , side , state_enabled ) ; 2 :
22351: LD_INT 25
22353: PPUSH
22354: LD_VAR 0 1
22358: PPUSH
22359: LD_INT 1
22361: PPUSH
22362: CALL 22408 0 3
22366: GO 22395
22368: LD_INT 2
22370: DOUBLE
22371: EQUAL
22372: IFTRUE 22376
22374: GO 22394
22376: POP
// EnableTech ( 73 , side , state_enabled ) ; end ;
22377: LD_INT 73
22379: PPUSH
22380: LD_VAR 0 1
22384: PPUSH
22385: LD_INT 1
22387: PPUSH
22388: CALL 22408 0 3
22392: GO 22395
22394: POP
// Tech_Level = 8 ;
22395: LD_ADDR_EXP 56
22399: PUSH
22400: LD_INT 8
22402: ST_TO_ADDR
// end ;
22403: LD_VAR 0 2
22407: RET
// function EnableTech ( id , side , state ) ; begin
22408: LD_INT 0
22410: PPUSH
// if state in [ state_enabled , state_researched ] then
22411: LD_VAR 0 3
22415: PUSH
22416: LD_INT 1
22418: PUSH
22419: LD_INT 2
22421: PUSH
22422: EMPTY
22423: LIST
22424: LIST
22425: IN
22426: IFFALSE 22463
// begin if GetRestrictions ( false , id ) then
22428: LD_INT 0
22430: PPUSH
22431: LD_VAR 0 1
22435: PPUSH
22436: CALL_OW 565
22440: IFFALSE 22461
// SetTech ( id , side , state ) ;
22442: LD_VAR 0 1
22446: PPUSH
22447: LD_VAR 0 2
22451: PPUSH
22452: LD_VAR 0 3
22456: PPUSH
22457: CALL_OW 322
// end else
22461: GO 22482
// setTech ( id , side , state ) ;
22463: LD_VAR 0 1
22467: PPUSH
22468: LD_VAR 0 2
22472: PPUSH
22473: LD_VAR 0 3
22477: PPUSH
22478: CALL_OW 322
// end ;
22482: LD_VAR 0 4
22486: RET
// function EnableBuilding ( id , side , state ) ; begin
22487: LD_INT 0
22489: PPUSH
// if state in [ state_enabled ] then
22490: LD_VAR 0 3
22494: PUSH
22495: LD_INT 1
22497: PUSH
22498: EMPTY
22499: LIST
22500: IN
22501: IFFALSE 22538
// begin if GetRestrictions ( true , id ) then
22503: LD_INT 1
22505: PPUSH
22506: LD_VAR 0 1
22510: PPUSH
22511: CALL_OW 565
22515: IFFALSE 22536
// SetRestrict ( id , side , state ) ;
22517: LD_VAR 0 1
22521: PPUSH
22522: LD_VAR 0 2
22526: PPUSH
22527: LD_VAR 0 3
22531: PPUSH
22532: CALL_OW 324
// end else
22536: GO 22557
// SetRestrict ( id , side , state ) ;
22538: LD_VAR 0 1
22542: PPUSH
22543: LD_VAR 0 2
22547: PPUSH
22548: LD_VAR 0 3
22552: PPUSH
22553: CALL_OW 324
// end ; end_of_file
22557: LD_VAR 0 4
22561: RET
// var win ; export function init_kings_counting ; var i ; begin
22562: LD_INT 0
22564: PPUSH
22565: PPUSH
// mp_with_score := true ;
22566: LD_ADDR_OWVAR 14
22570: PUSH
22571: LD_INT 1
22573: ST_TO_ADDR
// ResetMultiScore ;
22574: CALL_OW 508
// SetAreaMapShow ( king_territory , true ) ;
22578: LD_EXP 92
22582: PPUSH
22583: LD_INT 1
22585: PPUSH
22586: CALL_OW 424
// enable ( 2 ) ;
22590: LD_INT 2
22592: ENABLE_MARKED
// end ;
22593: LD_VAR 0 1
22597: RET
// function show_public_points ; var side , vypis , i , red , blue , yel , green , p ; begin
22598: LD_INT 0
22600: PPUSH
22601: PPUSH
22602: PPUSH
22603: PPUSH
22604: PPUSH
22605: PPUSH
22606: PPUSH
22607: PPUSH
22608: PPUSH
// vypis := [ ] ;
22609: LD_ADDR_VAR 0 3
22613: PUSH
22614: EMPTY
22615: ST_TO_ADDR
// red = 0 ;
22616: LD_ADDR_VAR 0 5
22620: PUSH
22621: LD_INT 0
22623: ST_TO_ADDR
// blue = 0 ;
22624: LD_ADDR_VAR 0 6
22628: PUSH
22629: LD_INT 0
22631: ST_TO_ADDR
// yel = 0 ;
22632: LD_ADDR_VAR 0 7
22636: PUSH
22637: LD_INT 0
22639: ST_TO_ADDR
// green = 0 ;
22640: LD_ADDR_VAR 0 8
22644: PUSH
22645: LD_INT 0
22647: ST_TO_ADDR
// if def_public_score or isSGUI then
22648: LD_EXP 34
22652: PUSH
22653: LD_OWVAR 83
22657: OR
22658: IFFALSE 23255
// if not Team_Game then
22660: LD_EXP 80
22664: NOT
22665: IFFALSE 22787
// begin for side = 1 to Side_Positions do
22667: LD_ADDR_VAR 0 2
22671: PUSH
22672: DOUBLE
22673: LD_INT 1
22675: DEC
22676: ST_TO_ADDR
22677: LD_EXP 75
22681: PUSH
22682: FOR_TO
22683: IFFALSE 22783
// if Side_Positions [ side ] then
22685: LD_EXP 75
22689: PUSH
22690: LD_VAR 0 2
22694: ARRAY
22695: IFFALSE 22781
// begin vypis := vypis ^ [ #KingoftheHill-Public , side , side , ( GetTag ( side + 10 ) div 3 ) , final_count ] ;
22697: LD_ADDR_VAR 0 3
22701: PUSH
22702: LD_VAR 0 3
22706: PUSH
22707: LD_STRING #KingoftheHill-Public
22709: PUSH
22710: LD_VAR 0 2
22714: PUSH
22715: LD_VAR 0 2
22719: PUSH
22720: LD_VAR 0 2
22724: PUSH
22725: LD_INT 10
22727: PLUS
22728: PPUSH
22729: CALL_OW 110
22733: PUSH
22734: LD_INT 3
22736: DIV
22737: PUSH
22738: LD_EXP 57
22742: PUSH
22743: EMPTY
22744: LIST
22745: LIST
22746: LIST
22747: LIST
22748: LIST
22749: ADD
22750: ST_TO_ADDR
// LScore_Update_Points ( 2 , side , ( GetTag ( side + 10 ) div 3 ) ) ;
22751: LD_INT 2
22753: PPUSH
22754: LD_VAR 0 2
22758: PPUSH
22759: LD_VAR 0 2
22763: PUSH
22764: LD_INT 10
22766: PLUS
22767: PPUSH
22768: CALL_OW 110
22772: PUSH
22773: LD_INT 3
22775: DIV
22776: PPUSH
22777: CALL 36747 0 3
// end ;
22781: GO 22682
22783: POP
22784: POP
// end else
22785: GO 23253
// begin if Teams [ 1 ] then
22787: LD_EXP 73
22791: PUSH
22792: LD_INT 1
22794: ARRAY
22795: IFFALSE 22847
// for i in Teams [ 1 ] do
22797: LD_ADDR_VAR 0 4
22801: PUSH
22802: LD_EXP 73
22806: PUSH
22807: LD_INT 1
22809: ARRAY
22810: PUSH
22811: FOR_IN
22812: IFFALSE 22845
// red = red + ( GetTag ( i + 10 ) div 3 ) ;
22814: LD_ADDR_VAR 0 5
22818: PUSH
22819: LD_VAR 0 5
22823: PUSH
22824: LD_VAR 0 4
22828: PUSH
22829: LD_INT 10
22831: PLUS
22832: PPUSH
22833: CALL_OW 110
22837: PUSH
22838: LD_INT 3
22840: DIV
22841: PLUS
22842: ST_TO_ADDR
22843: GO 22811
22845: POP
22846: POP
// if Teams [ 2 ] then
22847: LD_EXP 73
22851: PUSH
22852: LD_INT 2
22854: ARRAY
22855: IFFALSE 22907
// for i in Teams [ 2 ] do
22857: LD_ADDR_VAR 0 4
22861: PUSH
22862: LD_EXP 73
22866: PUSH
22867: LD_INT 2
22869: ARRAY
22870: PUSH
22871: FOR_IN
22872: IFFALSE 22905
// blue = blue + ( GetTag ( i + 10 ) div 3 ) ;
22874: LD_ADDR_VAR 0 6
22878: PUSH
22879: LD_VAR 0 6
22883: PUSH
22884: LD_VAR 0 4
22888: PUSH
22889: LD_INT 10
22891: PLUS
22892: PPUSH
22893: CALL_OW 110
22897: PUSH
22898: LD_INT 3
22900: DIV
22901: PLUS
22902: ST_TO_ADDR
22903: GO 22871
22905: POP
22906: POP
// if Teams [ 3 ] then
22907: LD_EXP 73
22911: PUSH
22912: LD_INT 3
22914: ARRAY
22915: IFFALSE 22967
// for i in Teams [ 3 ] do
22917: LD_ADDR_VAR 0 4
22921: PUSH
22922: LD_EXP 73
22926: PUSH
22927: LD_INT 3
22929: ARRAY
22930: PUSH
22931: FOR_IN
22932: IFFALSE 22965
// yel = yel + ( GetTag ( i + 10 ) div 3 ) ;
22934: LD_ADDR_VAR 0 7
22938: PUSH
22939: LD_VAR 0 7
22943: PUSH
22944: LD_VAR 0 4
22948: PUSH
22949: LD_INT 10
22951: PLUS
22952: PPUSH
22953: CALL_OW 110
22957: PUSH
22958: LD_INT 3
22960: DIV
22961: PLUS
22962: ST_TO_ADDR
22963: GO 22931
22965: POP
22966: POP
// if Teams [ 4 ] then
22967: LD_EXP 73
22971: PUSH
22972: LD_INT 4
22974: ARRAY
22975: IFFALSE 23027
// for i in Teams [ 4 ] do
22977: LD_ADDR_VAR 0 4
22981: PUSH
22982: LD_EXP 73
22986: PUSH
22987: LD_INT 4
22989: ARRAY
22990: PUSH
22991: FOR_IN
22992: IFFALSE 23025
// green = green + ( GetTag ( i + 10 ) div 3 ) ;
22994: LD_ADDR_VAR 0 8
22998: PUSH
22999: LD_VAR 0 8
23003: PUSH
23004: LD_VAR 0 4
23008: PUSH
23009: LD_INT 10
23011: PLUS
23012: PPUSH
23013: CALL_OW 110
23017: PUSH
23018: LD_INT 3
23020: DIV
23021: PLUS
23022: ST_TO_ADDR
23023: GO 22991
23025: POP
23026: POP
// if Teams [ 1 ] then
23027: LD_EXP 73
23031: PUSH
23032: LD_INT 1
23034: ARRAY
23035: IFFALSE 23064
// vypis := [ #KingoftheHill-Public-red , 3 , Red , final_count ] ;
23037: LD_ADDR_VAR 0 3
23041: PUSH
23042: LD_STRING #KingoftheHill-Public-red
23044: PUSH
23045: LD_INT 3
23047: PUSH
23048: LD_VAR 0 5
23052: PUSH
23053: LD_EXP 57
23057: PUSH
23058: EMPTY
23059: LIST
23060: LIST
23061: LIST
23062: LIST
23063: ST_TO_ADDR
// if Teams [ 2 ] then
23064: LD_EXP 73
23068: PUSH
23069: LD_INT 2
23071: ARRAY
23072: IFFALSE 23107
// vypis := vypis ^ [ #KingoftheHill-Public-blue , 1 , Blue , final_count ] ;
23074: LD_ADDR_VAR 0 3
23078: PUSH
23079: LD_VAR 0 3
23083: PUSH
23084: LD_STRING #KingoftheHill-Public-blue
23086: PUSH
23087: LD_INT 1
23089: PUSH
23090: LD_VAR 0 6
23094: PUSH
23095: LD_EXP 57
23099: PUSH
23100: EMPTY
23101: LIST
23102: LIST
23103: LIST
23104: LIST
23105: ADD
23106: ST_TO_ADDR
// if Teams [ 3 ] then
23107: LD_EXP 73
23111: PUSH
23112: LD_INT 3
23114: ARRAY
23115: IFFALSE 23150
// vypis := vypis ^ [ #KingoftheHill-Public-yell , 2 , yel , final_count ] ;
23117: LD_ADDR_VAR 0 3
23121: PUSH
23122: LD_VAR 0 3
23126: PUSH
23127: LD_STRING #KingoftheHill-Public-yell
23129: PUSH
23130: LD_INT 2
23132: PUSH
23133: LD_VAR 0 7
23137: PUSH
23138: LD_EXP 57
23142: PUSH
23143: EMPTY
23144: LIST
23145: LIST
23146: LIST
23147: LIST
23148: ADD
23149: ST_TO_ADDR
// if Teams [ 4 ] then
23150: LD_EXP 73
23154: PUSH
23155: LD_INT 4
23157: ARRAY
23158: IFFALSE 23193
// vypis := vypis ^ [ #KingoftheHill-Public-green , 7 , green , final_count ] ;
23160: LD_ADDR_VAR 0 3
23164: PUSH
23165: LD_VAR 0 3
23169: PUSH
23170: LD_STRING #KingoftheHill-Public-green
23172: PUSH
23173: LD_INT 7
23175: PUSH
23176: LD_VAR 0 8
23180: PUSH
23181: LD_EXP 57
23185: PUSH
23186: EMPTY
23187: LIST
23188: LIST
23189: LIST
23190: LIST
23191: ADD
23192: ST_TO_ADDR
// LScore_Update_Points ( 2 , 3 , red ) ;
23193: LD_INT 2
23195: PPUSH
23196: LD_INT 3
23198: PPUSH
23199: LD_VAR 0 5
23203: PPUSH
23204: CALL 36747 0 3
// LScore_Update_Points ( 2 , 1 , blue ) ;
23208: LD_INT 2
23210: PPUSH
23211: LD_INT 1
23213: PPUSH
23214: LD_VAR 0 6
23218: PPUSH
23219: CALL 36747 0 3
// LScore_Update_Points ( 2 , 2 , yel ) ;
23223: LD_INT 2
23225: PPUSH
23226: LD_INT 2
23228: PPUSH
23229: LD_VAR 0 7
23233: PPUSH
23234: CALL 36747 0 3
// LScore_Update_Points ( 2 , 7 , green ) ;
23238: LD_INT 2
23240: PPUSH
23241: LD_INT 7
23243: PPUSH
23244: LD_VAR 0 8
23248: PPUSH
23249: CALL 36747 0 3
// end else
23253: GO 23690
// if not Team_Game then
23255: LD_EXP 80
23259: NOT
23260: IFFALSE 23318
// vypis := vypis ^ [ #KingoftheHill-Private , your_side , your_side , ( GetTag ( side + 10 ) div 3 ) , final_count ] else
23262: LD_ADDR_VAR 0 3
23266: PUSH
23267: LD_VAR 0 3
23271: PUSH
23272: LD_STRING #KingoftheHill-Private
23274: PUSH
23275: LD_OWVAR 2
23279: PUSH
23280: LD_OWVAR 2
23284: PUSH
23285: LD_VAR 0 2
23289: PUSH
23290: LD_INT 10
23292: PLUS
23293: PPUSH
23294: CALL_OW 110
23298: PUSH
23299: LD_INT 3
23301: DIV
23302: PUSH
23303: LD_EXP 57
23307: PUSH
23308: EMPTY
23309: LIST
23310: LIST
23311: LIST
23312: LIST
23313: LIST
23314: ADD
23315: ST_TO_ADDR
23316: GO 23690
// begin for i in Teams [ 1 ] do
23318: LD_ADDR_VAR 0 4
23322: PUSH
23323: LD_EXP 73
23327: PUSH
23328: LD_INT 1
23330: ARRAY
23331: PUSH
23332: FOR_IN
23333: IFFALSE 23366
// red = red + ( GetTag ( i + 10 ) div 3 ) ;
23335: LD_ADDR_VAR 0 5
23339: PUSH
23340: LD_VAR 0 5
23344: PUSH
23345: LD_VAR 0 4
23349: PUSH
23350: LD_INT 10
23352: PLUS
23353: PPUSH
23354: CALL_OW 110
23358: PUSH
23359: LD_INT 3
23361: DIV
23362: PLUS
23363: ST_TO_ADDR
23364: GO 23332
23366: POP
23367: POP
// for i in Teams [ 2 ] do
23368: LD_ADDR_VAR 0 4
23372: PUSH
23373: LD_EXP 73
23377: PUSH
23378: LD_INT 2
23380: ARRAY
23381: PUSH
23382: FOR_IN
23383: IFFALSE 23416
// blue = blue + ( GetTag ( i + 10 ) div 3 ) ;
23385: LD_ADDR_VAR 0 6
23389: PUSH
23390: LD_VAR 0 6
23394: PUSH
23395: LD_VAR 0 4
23399: PUSH
23400: LD_INT 10
23402: PLUS
23403: PPUSH
23404: CALL_OW 110
23408: PUSH
23409: LD_INT 3
23411: DIV
23412: PLUS
23413: ST_TO_ADDR
23414: GO 23382
23416: POP
23417: POP
// for i in Teams [ 3 ] do
23418: LD_ADDR_VAR 0 4
23422: PUSH
23423: LD_EXP 73
23427: PUSH
23428: LD_INT 3
23430: ARRAY
23431: PUSH
23432: FOR_IN
23433: IFFALSE 23466
// yel = yel + ( GetTag ( i + 10 ) div 3 ) ;
23435: LD_ADDR_VAR 0 7
23439: PUSH
23440: LD_VAR 0 7
23444: PUSH
23445: LD_VAR 0 4
23449: PUSH
23450: LD_INT 10
23452: PLUS
23453: PPUSH
23454: CALL_OW 110
23458: PUSH
23459: LD_INT 3
23461: DIV
23462: PLUS
23463: ST_TO_ADDR
23464: GO 23432
23466: POP
23467: POP
// for i in Teams [ 4 ] do
23468: LD_ADDR_VAR 0 4
23472: PUSH
23473: LD_EXP 73
23477: PUSH
23478: LD_INT 4
23480: ARRAY
23481: PUSH
23482: FOR_IN
23483: IFFALSE 23516
// green = green + ( GetTag ( i + 10 ) div 3 ) ;
23485: LD_ADDR_VAR 0 8
23489: PUSH
23490: LD_VAR 0 8
23494: PUSH
23495: LD_VAR 0 4
23499: PUSH
23500: LD_INT 10
23502: PLUS
23503: PPUSH
23504: CALL_OW 110
23508: PUSH
23509: LD_INT 3
23511: DIV
23512: PLUS
23513: ST_TO_ADDR
23514: GO 23482
23516: POP
23517: POP
// if your_side in Teams [ 1 ] then
23518: LD_OWVAR 2
23522: PUSH
23523: LD_EXP 73
23527: PUSH
23528: LD_INT 1
23530: ARRAY
23531: IN
23532: IFFALSE 23561
// vypis := [ #KingoftheHill-Public-red , 3 , Red , final_count ] ;
23534: LD_ADDR_VAR 0 3
23538: PUSH
23539: LD_STRING #KingoftheHill-Public-red
23541: PUSH
23542: LD_INT 3
23544: PUSH
23545: LD_VAR 0 5
23549: PUSH
23550: LD_EXP 57
23554: PUSH
23555: EMPTY
23556: LIST
23557: LIST
23558: LIST
23559: LIST
23560: ST_TO_ADDR
// if your_side in Teams [ 2 ] then
23561: LD_OWVAR 2
23565: PUSH
23566: LD_EXP 73
23570: PUSH
23571: LD_INT 2
23573: ARRAY
23574: IN
23575: IFFALSE 23604
// vypis := [ #KingoftheHill-Public-blue , 1 , Blue , final_count ] ;
23577: LD_ADDR_VAR 0 3
23581: PUSH
23582: LD_STRING #KingoftheHill-Public-blue
23584: PUSH
23585: LD_INT 1
23587: PUSH
23588: LD_VAR 0 6
23592: PUSH
23593: LD_EXP 57
23597: PUSH
23598: EMPTY
23599: LIST
23600: LIST
23601: LIST
23602: LIST
23603: ST_TO_ADDR
// if your_side in Teams [ 3 ] then
23604: LD_OWVAR 2
23608: PUSH
23609: LD_EXP 73
23613: PUSH
23614: LD_INT 3
23616: ARRAY
23617: IN
23618: IFFALSE 23647
// vypis := [ #KingoftheHill-Public-yell , 2 , yel , final_count ] ;
23620: LD_ADDR_VAR 0 3
23624: PUSH
23625: LD_STRING #KingoftheHill-Public-yell
23627: PUSH
23628: LD_INT 2
23630: PUSH
23631: LD_VAR 0 7
23635: PUSH
23636: LD_EXP 57
23640: PUSH
23641: EMPTY
23642: LIST
23643: LIST
23644: LIST
23645: LIST
23646: ST_TO_ADDR
// if your_side in Teams [ 4 ] then
23647: LD_OWVAR 2
23651: PUSH
23652: LD_EXP 73
23656: PUSH
23657: LD_INT 4
23659: ARRAY
23660: IN
23661: IFFALSE 23690
// vypis := [ #KingoftheHill-Public-green , 7 , green , final_count ] ;
23663: LD_ADDR_VAR 0 3
23667: PUSH
23668: LD_STRING #KingoftheHill-Public-green
23670: PUSH
23671: LD_INT 7
23673: PUSH
23674: LD_VAR 0 8
23678: PUSH
23679: LD_EXP 57
23683: PUSH
23684: EMPTY
23685: LIST
23686: LIST
23687: LIST
23688: LIST
23689: ST_TO_ADDR
// end ; Display_kings := vypis ;
23690: LD_ADDR_EXP 108
23694: PUSH
23695: LD_VAR 0 3
23699: ST_TO_ADDR
// end ;
23700: LD_VAR 0 1
23704: RET
// function count_king ; var side , list , un , red , blue , yel , green , i ; begin
23705: LD_INT 0
23707: PPUSH
23708: PPUSH
23709: PPUSH
23710: PPUSH
23711: PPUSH
23712: PPUSH
23713: PPUSH
23714: PPUSH
23715: PPUSH
// side := [ ] ;
23716: LD_ADDR_VAR 0 2
23720: PUSH
23721: EMPTY
23722: ST_TO_ADDR
// red = 0 ;
23723: LD_ADDR_VAR 0 5
23727: PUSH
23728: LD_INT 0
23730: ST_TO_ADDR
// blue = 0 ;
23731: LD_ADDR_VAR 0 6
23735: PUSH
23736: LD_INT 0
23738: ST_TO_ADDR
// yel = 0 ;
23739: LD_ADDR_VAR 0 7
23743: PUSH
23744: LD_INT 0
23746: ST_TO_ADDR
// green = 0 ;
23747: LD_ADDR_VAR 0 8
23751: PUSH
23752: LD_INT 0
23754: ST_TO_ADDR
// list := FilterUnitsInArea ( king_territory , [ [ f_type , unit_building ] , [ f_ready ] ] ) ;
23755: LD_ADDR_VAR 0 3
23759: PUSH
23760: LD_EXP 92
23764: PPUSH
23765: LD_INT 21
23767: PUSH
23768: LD_INT 3
23770: PUSH
23771: EMPTY
23772: LIST
23773: LIST
23774: PUSH
23775: LD_INT 53
23777: PUSH
23778: EMPTY
23779: LIST
23780: PUSH
23781: EMPTY
23782: LIST
23783: LIST
23784: PPUSH
23785: CALL_OW 70
23789: ST_TO_ADDR
// for un in list do
23790: LD_ADDR_VAR 0 4
23794: PUSH
23795: LD_VAR 0 3
23799: PUSH
23800: FOR_IN
23801: IFFALSE 23826
// side := side union GetSide ( un ) ;
23803: LD_ADDR_VAR 0 2
23807: PUSH
23808: LD_VAR 0 2
23812: PUSH
23813: LD_VAR 0 4
23817: PPUSH
23818: CALL_OW 255
23822: UNION
23823: ST_TO_ADDR
23824: GO 23800
23826: POP
23827: POP
// if side <> 1 then
23828: LD_VAR 0 2
23832: PUSH
23833: LD_INT 1
23835: NONEQUAL
23836: IFFALSE 23840
// exit ;
23838: GO 24203
// side := side [ 1 ] ;
23840: LD_ADDR_VAR 0 2
23844: PUSH
23845: LD_VAR 0 2
23849: PUSH
23850: LD_INT 1
23852: ARRAY
23853: ST_TO_ADDR
// SetTag ( side + 10 , GetTag ( side + 10 ) + 1 ) ;
23854: LD_VAR 0 2
23858: PUSH
23859: LD_INT 10
23861: PLUS
23862: PPUSH
23863: LD_VAR 0 2
23867: PUSH
23868: LD_INT 10
23870: PLUS
23871: PPUSH
23872: CALL_OW 110
23876: PUSH
23877: LD_INT 1
23879: PLUS
23880: PPUSH
23881: CALL_OW 109
// SetSharedMultiScore ( side , GetTag ( side + 10 ) div 3 , 2 ) ;
23885: LD_VAR 0 2
23889: PPUSH
23890: LD_VAR 0 2
23894: PUSH
23895: LD_INT 10
23897: PLUS
23898: PPUSH
23899: CALL_OW 110
23903: PUSH
23904: LD_INT 3
23906: DIV
23907: PPUSH
23908: LD_INT 2
23910: PPUSH
23911: CALL 35298 0 3
// if not Team_Game then
23915: LD_EXP 80
23919: NOT
23920: IFFALSE 24203
// if GetTag ( side + 10 ) >= final_count * 3 then
23922: LD_VAR 0 2
23926: PUSH
23927: LD_INT 10
23929: PLUS
23930: PPUSH
23931: CALL_OW 110
23935: PUSH
23936: LD_EXP 57
23940: PUSH
23941: LD_INT 3
23943: MUL
23944: GREATEREQUAL
23945: IFFALSE 23952
// enable ( 3 ) else
23947: LD_INT 3
23949: ENABLE_MARKED
23950: GO 24203
// begin for i in Teams [ 1 ] do
23952: LD_ADDR_VAR 0 9
23956: PUSH
23957: LD_EXP 73
23961: PUSH
23962: LD_INT 1
23964: ARRAY
23965: PUSH
23966: FOR_IN
23967: IFFALSE 24000
// red = red + ( GetTag ( i + 10 ) div 3 ) ;
23969: LD_ADDR_VAR 0 5
23973: PUSH
23974: LD_VAR 0 5
23978: PUSH
23979: LD_VAR 0 9
23983: PUSH
23984: LD_INT 10
23986: PLUS
23987: PPUSH
23988: CALL_OW 110
23992: PUSH
23993: LD_INT 3
23995: DIV
23996: PLUS
23997: ST_TO_ADDR
23998: GO 23966
24000: POP
24001: POP
// for i in Teams [ 2 ] do
24002: LD_ADDR_VAR 0 9
24006: PUSH
24007: LD_EXP 73
24011: PUSH
24012: LD_INT 2
24014: ARRAY
24015: PUSH
24016: FOR_IN
24017: IFFALSE 24050
// blue = blue + ( GetTag ( i + 10 ) div 3 ) ;
24019: LD_ADDR_VAR 0 6
24023: PUSH
24024: LD_VAR 0 6
24028: PUSH
24029: LD_VAR 0 9
24033: PUSH
24034: LD_INT 10
24036: PLUS
24037: PPUSH
24038: CALL_OW 110
24042: PUSH
24043: LD_INT 3
24045: DIV
24046: PLUS
24047: ST_TO_ADDR
24048: GO 24016
24050: POP
24051: POP
// for i in Teams [ 3 ] do
24052: LD_ADDR_VAR 0 9
24056: PUSH
24057: LD_EXP 73
24061: PUSH
24062: LD_INT 3
24064: ARRAY
24065: PUSH
24066: FOR_IN
24067: IFFALSE 24100
// yel = yel + ( GetTag ( i + 10 ) div 3 ) ;
24069: LD_ADDR_VAR 0 7
24073: PUSH
24074: LD_VAR 0 7
24078: PUSH
24079: LD_VAR 0 9
24083: PUSH
24084: LD_INT 10
24086: PLUS
24087: PPUSH
24088: CALL_OW 110
24092: PUSH
24093: LD_INT 3
24095: DIV
24096: PLUS
24097: ST_TO_ADDR
24098: GO 24066
24100: POP
24101: POP
// for i in Teams [ 4 ] do
24102: LD_ADDR_VAR 0 9
24106: PUSH
24107: LD_EXP 73
24111: PUSH
24112: LD_INT 4
24114: ARRAY
24115: PUSH
24116: FOR_IN
24117: IFFALSE 24150
// green = green + ( GetTag ( i + 10 ) div 3 ) ;
24119: LD_ADDR_VAR 0 8
24123: PUSH
24124: LD_VAR 0 8
24128: PUSH
24129: LD_VAR 0 9
24133: PUSH
24134: LD_INT 10
24136: PLUS
24137: PPUSH
24138: CALL_OW 110
24142: PUSH
24143: LD_INT 3
24145: DIV
24146: PLUS
24147: ST_TO_ADDR
24148: GO 24116
24150: POP
24151: POP
// if red >= final_count or blue >= final_count or yel >= final_count or green >= final_count then
24152: LD_VAR 0 5
24156: PUSH
24157: LD_EXP 57
24161: GREATEREQUAL
24162: PUSH
24163: LD_VAR 0 6
24167: PUSH
24168: LD_EXP 57
24172: GREATEREQUAL
24173: OR
24174: PUSH
24175: LD_VAR 0 7
24179: PUSH
24180: LD_EXP 57
24184: GREATEREQUAL
24185: OR
24186: PUSH
24187: LD_VAR 0 8
24191: PUSH
24192: LD_EXP 57
24196: GREATEREQUAL
24197: OR
24198: IFFALSE 24203
// enable ( 3 ) ;
24200: LD_INT 3
24202: ENABLE_MARKED
// end ; end ;
24203: LD_VAR 0 1
24207: RET
// every 0 0$1 marked 2 do
24208: GO 24210
24210: DISABLE
// begin count_king ;
24211: CALL 23705 0 0
// show_public_points ;
24215: CALL 22598 0 0
// enable ;
24219: ENABLE
// end ;
24220: END
// every 0 0$1 marked 3 do var side , red , blue , yel , green , i ;
24221: GO 24223
24223: DISABLE
24224: LD_INT 0
24226: PPUSH
24227: PPUSH
24228: PPUSH
24229: PPUSH
24230: PPUSH
24231: PPUSH
// begin win := [ ] ;
24232: LD_ADDR_LOC 20
24236: PUSH
24237: EMPTY
24238: ST_TO_ADDR
// red = 0 ;
24239: LD_ADDR_VAR 0 2
24243: PUSH
24244: LD_INT 0
24246: ST_TO_ADDR
// blue = 0 ;
24247: LD_ADDR_VAR 0 3
24251: PUSH
24252: LD_INT 0
24254: ST_TO_ADDR
// yel = 0 ;
24255: LD_ADDR_VAR 0 4
24259: PUSH
24260: LD_INT 0
24262: ST_TO_ADDR
// green = 0 ;
24263: LD_ADDR_VAR 0 5
24267: PUSH
24268: LD_INT 0
24270: ST_TO_ADDR
// if not Team_Game then
24271: LD_EXP 80
24275: NOT
24276: IFFALSE 24353
// begin for side = 1 to 8 do
24278: LD_ADDR_VAR 0 1
24282: PUSH
24283: DOUBLE
24284: LD_INT 1
24286: DEC
24287: ST_TO_ADDR
24288: LD_INT 8
24290: PUSH
24291: FOR_TO
24292: IFFALSE 24337
// if GetTag ( side + 10 ) >= final_count * 3 then
24294: LD_VAR 0 1
24298: PUSH
24299: LD_INT 10
24301: PLUS
24302: PPUSH
24303: CALL_OW 110
24307: PUSH
24308: LD_EXP 57
24312: PUSH
24313: LD_INT 3
24315: MUL
24316: GREATEREQUAL
24317: IFFALSE 24335
// win := win ^ side ;
24319: LD_ADDR_LOC 20
24323: PUSH
24324: LD_LOC 20
24328: PUSH
24329: LD_VAR 0 1
24333: ADD
24334: ST_TO_ADDR
24335: GO 24291
24337: POP
24338: POP
// if win then
24339: LD_LOC 20
24343: IFFALSE 24350
// enable ( 4 ) else
24345: LD_INT 4
24347: ENABLE_MARKED
24348: GO 24351
// enable ;
24350: ENABLE
// end else
24351: GO 24669
// begin for i in Teams [ 1 ] do
24353: LD_ADDR_VAR 0 6
24357: PUSH
24358: LD_EXP 73
24362: PUSH
24363: LD_INT 1
24365: ARRAY
24366: PUSH
24367: FOR_IN
24368: IFFALSE 24401
// red = red + ( GetTag ( i + 10 ) div 3 ) ;
24370: LD_ADDR_VAR 0 2
24374: PUSH
24375: LD_VAR 0 2
24379: PUSH
24380: LD_VAR 0 6
24384: PUSH
24385: LD_INT 10
24387: PLUS
24388: PPUSH
24389: CALL_OW 110
24393: PUSH
24394: LD_INT 3
24396: DIV
24397: PLUS
24398: ST_TO_ADDR
24399: GO 24367
24401: POP
24402: POP
// for i in Teams [ 2 ] do
24403: LD_ADDR_VAR 0 6
24407: PUSH
24408: LD_EXP 73
24412: PUSH
24413: LD_INT 2
24415: ARRAY
24416: PUSH
24417: FOR_IN
24418: IFFALSE 24451
// blue = blue + ( GetTag ( i + 10 ) div 3 ) ;
24420: LD_ADDR_VAR 0 3
24424: PUSH
24425: LD_VAR 0 3
24429: PUSH
24430: LD_VAR 0 6
24434: PUSH
24435: LD_INT 10
24437: PLUS
24438: PPUSH
24439: CALL_OW 110
24443: PUSH
24444: LD_INT 3
24446: DIV
24447: PLUS
24448: ST_TO_ADDR
24449: GO 24417
24451: POP
24452: POP
// for i in Teams [ 3 ] do
24453: LD_ADDR_VAR 0 6
24457: PUSH
24458: LD_EXP 73
24462: PUSH
24463: LD_INT 3
24465: ARRAY
24466: PUSH
24467: FOR_IN
24468: IFFALSE 24501
// yel = yel + ( GetTag ( i + 10 ) div 3 ) ;
24470: LD_ADDR_VAR 0 4
24474: PUSH
24475: LD_VAR 0 4
24479: PUSH
24480: LD_VAR 0 6
24484: PUSH
24485: LD_INT 10
24487: PLUS
24488: PPUSH
24489: CALL_OW 110
24493: PUSH
24494: LD_INT 3
24496: DIV
24497: PLUS
24498: ST_TO_ADDR
24499: GO 24467
24501: POP
24502: POP
// for i in Teams [ 4 ] do
24503: LD_ADDR_VAR 0 6
24507: PUSH
24508: LD_EXP 73
24512: PUSH
24513: LD_INT 4
24515: ARRAY
24516: PUSH
24517: FOR_IN
24518: IFFALSE 24551
// green = green + ( GetTag ( i + 10 ) div 3 ) ;
24520: LD_ADDR_VAR 0 5
24524: PUSH
24525: LD_VAR 0 5
24529: PUSH
24530: LD_VAR 0 6
24534: PUSH
24535: LD_INT 10
24537: PLUS
24538: PPUSH
24539: CALL_OW 110
24543: PUSH
24544: LD_INT 3
24546: DIV
24547: PLUS
24548: ST_TO_ADDR
24549: GO 24517
24551: POP
24552: POP
// if red >= final_count then
24553: LD_VAR 0 2
24557: PUSH
24558: LD_EXP 57
24562: GREATEREQUAL
24563: IFFALSE 24579
// win = teams [ 1 ] ;
24565: LD_ADDR_LOC 20
24569: PUSH
24570: LD_EXP 73
24574: PUSH
24575: LD_INT 1
24577: ARRAY
24578: ST_TO_ADDR
// if blue >= final_count then
24579: LD_VAR 0 3
24583: PUSH
24584: LD_EXP 57
24588: GREATEREQUAL
24589: IFFALSE 24605
// win = teams [ 2 ] ;
24591: LD_ADDR_LOC 20
24595: PUSH
24596: LD_EXP 73
24600: PUSH
24601: LD_INT 2
24603: ARRAY
24604: ST_TO_ADDR
// if yel >= final_count then
24605: LD_VAR 0 4
24609: PUSH
24610: LD_EXP 57
24614: GREATEREQUAL
24615: IFFALSE 24631
// win = teams [ 3 ] ;
24617: LD_ADDR_LOC 20
24621: PUSH
24622: LD_EXP 73
24626: PUSH
24627: LD_INT 3
24629: ARRAY
24630: ST_TO_ADDR
// if green >= final_count then
24631: LD_VAR 0 5
24635: PUSH
24636: LD_EXP 57
24640: GREATEREQUAL
24641: IFFALSE 24657
// win = teams [ 4 ] ;
24643: LD_ADDR_LOC 20
24647: PUSH
24648: LD_EXP 73
24652: PUSH
24653: LD_INT 4
24655: ARRAY
24656: ST_TO_ADDR
// if win then
24657: LD_LOC 20
24661: IFFALSE 24668
// enable ( 4 ) else
24663: LD_INT 4
24665: ENABLE_MARKED
24666: GO 24669
// enable ;
24668: ENABLE
// end ; end ;
24669: PPOPN 6
24671: END
// every 0 0$1 marked 4 do
24672: GO 24674
24674: DISABLE
// begin if Player_Side in win then
24675: LD_EXP 70
24679: PUSH
24680: LD_LOC 20
24684: IN
24685: IFFALSE 24701
// begin wait ( 0 0$2 ) ;
24687: LD_INT 70
24689: PPUSH
24690: CALL_OW 67
// enable ( 401 ) ;
24694: LD_INT 401
24696: ENABLE_MARKED
// exit ;
24697: GO 24717
// end else
24699: GO 24717
// begin wait ( 0 0$2 ) ;
24701: LD_INT 70
24703: PPUSH
24704: CALL_OW 67
// Multiplayer_Loose_Message ;
24708: CALL_OW 521
// enable ( 400 ) ;
24712: LD_INT 400
24714: ENABLE_MARKED
// exit ;
24715: GO 24717
// end ; end ; end_of_file
24717: END
// var Month ; export function init_Daily ; begin
24718: LD_INT 0
24720: PPUSH
// if not CurrentTime then
24721: LD_EXP 111
24725: NOT
24726: IFFALSE 24798
// begin CurrentTime = Rand ( daily_start [ 1 ] , daily_start [ 2 ] ) div 0 0$01 ;
24728: LD_ADDR_EXP 111
24732: PUSH
24733: LD_EXP 58
24737: PUSH
24738: LD_INT 1
24740: ARRAY
24741: PPUSH
24742: LD_EXP 58
24746: PUSH
24747: LD_INT 2
24749: ARRAY
24750: PPUSH
24751: CALL_OW 12
24755: PUSH
24756: LD_INT 35
24758: DIV
24759: ST_TO_ADDR
// CurrentTime = CurrentTime * 0 0$01 ;
24760: LD_ADDR_EXP 111
24764: PUSH
24765: LD_EXP 111
24769: PUSH
24770: LD_INT 35
24772: MUL
24773: ST_TO_ADDR
// if CurrentTime >= 24 24$00 then
24774: LD_EXP 111
24778: PUSH
24779: LD_INT 50400
24781: GREATEREQUAL
24782: IFFALSE 24798
// CurrentTime = CurrentTime - 24 24$00 ;
24784: LD_ADDR_EXP 111
24788: PUSH
24789: LD_EXP 111
24793: PUSH
24794: LD_INT 50400
24796: MINUS
24797: ST_TO_ADDR
// end ; case CurrentTime of 0 0$00 .. TimePhase [ 1 ] , TimePhase [ 10 ] + 1 .. 24 24$00 :
24798: LD_EXP 111
24802: PUSH
24803: LD_INT 0
24805: DOUBLE
24806: GREATEREQUAL
24807: IFFALSE 24821
24809: LD_EXP 60
24813: PUSH
24814: LD_INT 1
24816: ARRAY
24817: DOUBLE
24818: LESSEQUAL
24819: IFTRUE 24845
24821: LD_EXP 60
24825: PUSH
24826: LD_INT 10
24828: ARRAY
24829: PUSH
24830: LD_INT 1
24832: PLUS
24833: DOUBLE
24834: GREATEREQUAL
24835: IFFALSE 24843
24837: LD_INT 50400
24839: DOUBLE
24840: LESSEQUAL
24841: IFTRUE 24845
24843: GO 24864
24845: POP
// begin ChangePhase ( DailyPhase [ 6 ] , 35 ) ;
24846: LD_EXP 61
24850: PUSH
24851: LD_INT 6
24853: ARRAY
24854: PPUSH
24855: LD_INT 35
24857: PPUSH
24858: CALL 25501 0 2
// end ; TimePhase [ 1 ] + 1 .. TimePhase [ 2 ] , TimePhase [ 9 ] + 1 .. TimePhase [ 10 ] :
24862: GO 25189
24864: LD_EXP 60
24868: PUSH
24869: LD_INT 1
24871: ARRAY
24872: PUSH
24873: LD_INT 1
24875: PLUS
24876: DOUBLE
24877: GREATEREQUAL
24878: IFFALSE 24892
24880: LD_EXP 60
24884: PUSH
24885: LD_INT 2
24887: ARRAY
24888: DOUBLE
24889: LESSEQUAL
24890: IFTRUE 24922
24892: LD_EXP 60
24896: PUSH
24897: LD_INT 9
24899: ARRAY
24900: PUSH
24901: LD_INT 1
24903: PLUS
24904: DOUBLE
24905: GREATEREQUAL
24906: IFFALSE 24920
24908: LD_EXP 60
24912: PUSH
24913: LD_INT 10
24915: ARRAY
24916: DOUBLE
24917: LESSEQUAL
24918: IFTRUE 24922
24920: GO 24941
24922: POP
// begin ChangePhase ( DailyPhase [ 5 ] , 50 ) ;
24923: LD_EXP 61
24927: PUSH
24928: LD_INT 5
24930: ARRAY
24931: PPUSH
24932: LD_INT 50
24934: PPUSH
24935: CALL 25501 0 2
// end ; TimePhase [ 2 ] + 1 .. TimePhase [ 3 ] , TimePhase [ 8 ] + 1 .. TimePhase [ 9 ] :
24939: GO 25189
24941: LD_EXP 60
24945: PUSH
24946: LD_INT 2
24948: ARRAY
24949: PUSH
24950: LD_INT 1
24952: PLUS
24953: DOUBLE
24954: GREATEREQUAL
24955: IFFALSE 24969
24957: LD_EXP 60
24961: PUSH
24962: LD_INT 3
24964: ARRAY
24965: DOUBLE
24966: LESSEQUAL
24967: IFTRUE 24999
24969: LD_EXP 60
24973: PUSH
24974: LD_INT 8
24976: ARRAY
24977: PUSH
24978: LD_INT 1
24980: PLUS
24981: DOUBLE
24982: GREATEREQUAL
24983: IFFALSE 24997
24985: LD_EXP 60
24989: PUSH
24990: LD_INT 9
24992: ARRAY
24993: DOUBLE
24994: LESSEQUAL
24995: IFTRUE 24999
24997: GO 25018
24999: POP
// begin ChangePhase ( DailyPhase [ 4 ] , 60 ) ;
25000: LD_EXP 61
25004: PUSH
25005: LD_INT 4
25007: ARRAY
25008: PPUSH
25009: LD_INT 60
25011: PPUSH
25012: CALL 25501 0 2
// end ; TimePhase [ 3 ] + 1 .. TimePhase [ 4 ] , TimePhase [ 7 ] + 1 .. TimePhase [ 8 ] :
25016: GO 25189
25018: LD_EXP 60
25022: PUSH
25023: LD_INT 3
25025: ARRAY
25026: PUSH
25027: LD_INT 1
25029: PLUS
25030: DOUBLE
25031: GREATEREQUAL
25032: IFFALSE 25046
25034: LD_EXP 60
25038: PUSH
25039: LD_INT 4
25041: ARRAY
25042: DOUBLE
25043: LESSEQUAL
25044: IFTRUE 25076
25046: LD_EXP 60
25050: PUSH
25051: LD_INT 7
25053: ARRAY
25054: PUSH
25055: LD_INT 1
25057: PLUS
25058: DOUBLE
25059: GREATEREQUAL
25060: IFFALSE 25074
25062: LD_EXP 60
25066: PUSH
25067: LD_INT 8
25069: ARRAY
25070: DOUBLE
25071: LESSEQUAL
25072: IFTRUE 25076
25074: GO 25095
25076: POP
// begin ChangePhase ( DailyPhase [ 3 ] , 80 ) ;
25077: LD_EXP 61
25081: PUSH
25082: LD_INT 3
25084: ARRAY
25085: PPUSH
25086: LD_INT 80
25088: PPUSH
25089: CALL 25501 0 2
// end ; TimePhase [ 4 ] + 1 .. TimePhase [ 5 ] , TimePhase [ 6 ] + 1 .. TimePhase [ 7 ] :
25093: GO 25189
25095: LD_EXP 60
25099: PUSH
25100: LD_INT 4
25102: ARRAY
25103: PUSH
25104: LD_INT 1
25106: PLUS
25107: DOUBLE
25108: GREATEREQUAL
25109: IFFALSE 25123
25111: LD_EXP 60
25115: PUSH
25116: LD_INT 5
25118: ARRAY
25119: DOUBLE
25120: LESSEQUAL
25121: IFTRUE 25153
25123: LD_EXP 60
25127: PUSH
25128: LD_INT 6
25130: ARRAY
25131: PUSH
25132: LD_INT 1
25134: PLUS
25135: DOUBLE
25136: GREATEREQUAL
25137: IFFALSE 25151
25139: LD_EXP 60
25143: PUSH
25144: LD_INT 7
25146: ARRAY
25147: DOUBLE
25148: LESSEQUAL
25149: IFTRUE 25153
25151: GO 25172
25153: POP
// begin ChangePhase ( DailyPhase [ 2 ] , 95 ) ;
25154: LD_EXP 61
25158: PUSH
25159: LD_INT 2
25161: ARRAY
25162: PPUSH
25163: LD_INT 95
25165: PPUSH
25166: CALL 25501 0 2
// end ; else
25170: GO 25189
25172: POP
// begin ChangePhase ( DailyPhase [ 1 ] , 110 ) ;
25173: LD_EXP 61
25177: PUSH
25178: LD_INT 1
25180: ARRAY
25181: PPUSH
25182: LD_INT 110
25184: PPUSH
25185: CALL 25501 0 2
// end ; end ; enable ( 31 ) ;
25189: LD_INT 31
25191: ENABLE_MARKED
// end ;
25192: LD_VAR 0 1
25196: RET
// every 0 0$01 marked 31 do
25197: GO 25199
25199: DISABLE
// begin if daily_speed then
25200: LD_EXP 59
25204: IFFALSE 25215
// wait ( daily_speed ) ;
25206: LD_EXP 59
25210: PPUSH
25211: CALL_OW 67
// CurrentTime = CurrentTime + 0 0$01 ;
25215: LD_ADDR_EXP 111
25219: PUSH
25220: LD_EXP 111
25224: PUSH
25225: LD_INT 35
25227: PLUS
25228: ST_TO_ADDR
// case CurrentTIme of TimePhase [ 5 ] :
25229: LD_EXP 111
25233: PUSH
25234: LD_EXP 60
25238: PUSH
25239: LD_INT 5
25241: ARRAY
25242: DOUBLE
25243: EQUAL
25244: IFTRUE 25248
25246: GO 25267
25248: POP
// begin ChangePhase ( DailyPhase [ 1 ] , 110 ) ;
25249: LD_EXP 61
25253: PUSH
25254: LD_INT 1
25256: ARRAY
25257: PPUSH
25258: LD_INT 110
25260: PPUSH
25261: CALL 25501 0 2
// end ; TimePhase [ 4 ] , TimePhase [ 6 ] :
25265: GO 25481
25267: LD_EXP 60
25271: PUSH
25272: LD_INT 4
25274: ARRAY
25275: DOUBLE
25276: EQUAL
25277: IFTRUE 25293
25279: LD_EXP 60
25283: PUSH
25284: LD_INT 6
25286: ARRAY
25287: DOUBLE
25288: EQUAL
25289: IFTRUE 25293
25291: GO 25312
25293: POP
// begin ChangePhase ( DailyPhase [ 2 ] , 95 ) ;
25294: LD_EXP 61
25298: PUSH
25299: LD_INT 2
25301: ARRAY
25302: PPUSH
25303: LD_INT 95
25305: PPUSH
25306: CALL 25501 0 2
// end ; TimePhase [ 3 ] , TimePhase [ 7 ] :
25310: GO 25481
25312: LD_EXP 60
25316: PUSH
25317: LD_INT 3
25319: ARRAY
25320: DOUBLE
25321: EQUAL
25322: IFTRUE 25338
25324: LD_EXP 60
25328: PUSH
25329: LD_INT 7
25331: ARRAY
25332: DOUBLE
25333: EQUAL
25334: IFTRUE 25338
25336: GO 25357
25338: POP
// begin ChangePhase ( DailyPhase [ 3 ] , 80 ) ;
25339: LD_EXP 61
25343: PUSH
25344: LD_INT 3
25346: ARRAY
25347: PPUSH
25348: LD_INT 80
25350: PPUSH
25351: CALL 25501 0 2
// end ; TimePhase [ 2 ] , TimePhase [ 8 ] :
25355: GO 25481
25357: LD_EXP 60
25361: PUSH
25362: LD_INT 2
25364: ARRAY
25365: DOUBLE
25366: EQUAL
25367: IFTRUE 25383
25369: LD_EXP 60
25373: PUSH
25374: LD_INT 8
25376: ARRAY
25377: DOUBLE
25378: EQUAL
25379: IFTRUE 25383
25381: GO 25402
25383: POP
// begin ChangePhase ( DailyPhase [ 4 ] , 60 ) ;
25384: LD_EXP 61
25388: PUSH
25389: LD_INT 4
25391: ARRAY
25392: PPUSH
25393: LD_INT 60
25395: PPUSH
25396: CALL 25501 0 2
// end ; TimePhase [ 1 ] , TimePhase [ 9 ] :
25400: GO 25481
25402: LD_EXP 60
25406: PUSH
25407: LD_INT 1
25409: ARRAY
25410: DOUBLE
25411: EQUAL
25412: IFTRUE 25428
25414: LD_EXP 60
25418: PUSH
25419: LD_INT 9
25421: ARRAY
25422: DOUBLE
25423: EQUAL
25424: IFTRUE 25428
25426: GO 25447
25428: POP
// begin ChangePhase ( DailyPhase [ 5 ] , 50 ) ;
25429: LD_EXP 61
25433: PUSH
25434: LD_INT 5
25436: ARRAY
25437: PPUSH
25438: LD_INT 50
25440: PPUSH
25441: CALL 25501 0 2
// end ; TimePhase [ 10 ] :
25445: GO 25481
25447: LD_EXP 60
25451: PUSH
25452: LD_INT 10
25454: ARRAY
25455: DOUBLE
25456: EQUAL
25457: IFTRUE 25461
25459: GO 25480
25461: POP
// begin ChangePhase ( DailyPhase [ 6 ] , 35 ) ;
25462: LD_EXP 61
25466: PUSH
25467: LD_INT 6
25469: ARRAY
25470: PPUSH
25471: LD_INT 35
25473: PPUSH
25474: CALL 25501 0 2
// end ; end ;
25478: GO 25481
25480: POP
// if CurrentTime >= 24 24$00 then
25481: LD_EXP 111
25485: PUSH
25486: LD_INT 50400
25488: GREATEREQUAL
25489: IFFALSE 25499
// CurrentTime = 0 0$00 ;
25491: LD_ADDR_EXP 111
25495: PUSH
25496: LD_INT 0
25498: ST_TO_ADDR
// enable ;
25499: ENABLE
// end ;
25500: END
// function changePhase ( dp , srp ) ; begin
25501: LD_INT 0
25503: PPUSH
// solar_recharge_percent = srp ;
25504: LD_ADDR_OWVAR 79
25508: PUSH
25509: LD_VAR 0 2
25513: ST_TO_ADDR
// LoadColorsTXT ( dp ) ;
25514: LD_VAR 0 1
25518: PPUSH
25519: CALL_OW 544
// end ; end_of_file
25523: LD_VAR 0 3
25527: RET
// export BuildUpAreas , BuildUp ; export function BeginBuildUp ; var i , j ; begin
25528: LD_INT 0
25530: PPUSH
25531: PPUSH
25532: PPUSH
// enable ( 600 ) ;
25533: LD_INT 600
25535: ENABLE_MARKED
// BuildUp = true ;
25536: LD_ADDR_EXP 117
25540: PUSH
25541: LD_INT 1
25543: ST_TO_ADDR
// for i := 1 to BuildUpAreas do
25544: LD_ADDR_VAR 0 2
25548: PUSH
25549: DOUBLE
25550: LD_INT 1
25552: DEC
25553: ST_TO_ADDR
25554: LD_EXP 116
25558: PUSH
25559: FOR_TO
25560: IFFALSE 25715
// if Position_Sides [ i ] then
25562: LD_EXP 62
25566: PUSH
25567: LD_VAR 0 2
25571: ARRAY
25572: IFFALSE 25713
// for j := 1 to 8 do
25574: LD_ADDR_VAR 0 3
25578: PUSH
25579: DOUBLE
25580: LD_INT 1
25582: DEC
25583: ST_TO_ADDR
25584: LD_INT 8
25586: PUSH
25587: FOR_TO
25588: IFFALSE 25711
// if Side_Positions [ j ] and ( ( Side_Teams [ Position_Sides [ i ] ] <> Side_Teams [ j ] ) or ( not Team_Game ) and ( Position_Sides [ i ] <> j ) ) then
25590: LD_EXP 75
25594: PUSH
25595: LD_VAR 0 3
25599: ARRAY
25600: PUSH
25601: LD_EXP 72
25605: PUSH
25606: LD_EXP 62
25610: PUSH
25611: LD_VAR 0 2
25615: ARRAY
25616: ARRAY
25617: PUSH
25618: LD_EXP 72
25622: PUSH
25623: LD_VAR 0 3
25627: ARRAY
25628: NONEQUAL
25629: PUSH
25630: LD_EXP 80
25634: NOT
25635: PUSH
25636: LD_EXP 62
25640: PUSH
25641: LD_VAR 0 2
25645: ARRAY
25646: PUSH
25647: LD_VAR 0 3
25651: NONEQUAL
25652: AND
25653: OR
25654: AND
25655: IFFALSE 25679
// HideArea ( j , BuildUpAreas [ i ] ) else
25657: LD_VAR 0 3
25661: PPUSH
25662: LD_EXP 116
25666: PUSH
25667: LD_VAR 0 2
25671: ARRAY
25672: PPUSH
25673: CALL_OW 333
25677: GO 25709
// if ( j = your_side ) then
25679: LD_VAR 0 3
25683: PUSH
25684: LD_OWVAR 2
25688: EQUAL
25689: IFFALSE 25709
// SetAreaMapShow ( BuildUpAreas [ i ] , 3 ) ;
25691: LD_EXP 116
25695: PUSH
25696: LD_VAR 0 2
25700: ARRAY
25701: PPUSH
25702: LD_INT 3
25704: PPUSH
25705: CALL_OW 424
25709: GO 25587
25711: POP
25712: POP
25713: GO 25559
25715: POP
25716: POP
// end ;
25717: LD_VAR 0 1
25721: RET
// export function EndBuildUp ; var i , j ; begin
25722: LD_INT 0
25724: PPUSH
25725: PPUSH
25726: PPUSH
// disable ( 600 ) ;
25727: LD_INT 600
25729: DISABLE_MARKED
// BuildUp = false ;
25730: LD_ADDR_EXP 117
25734: PUSH
25735: LD_INT 0
25737: ST_TO_ADDR
// for i := 1 to BuildUpAreas do
25738: LD_ADDR_VAR 0 2
25742: PUSH
25743: DOUBLE
25744: LD_INT 1
25746: DEC
25747: ST_TO_ADDR
25748: LD_EXP 116
25752: PUSH
25753: FOR_TO
25754: IFFALSE 25909
// if Position_Sides [ i ] then
25756: LD_EXP 62
25760: PUSH
25761: LD_VAR 0 2
25765: ARRAY
25766: IFFALSE 25907
// for j := 1 to 8 do
25768: LD_ADDR_VAR 0 3
25772: PUSH
25773: DOUBLE
25774: LD_INT 1
25776: DEC
25777: ST_TO_ADDR
25778: LD_INT 8
25780: PUSH
25781: FOR_TO
25782: IFFALSE 25905
// if Side_Positions [ j ] and ( ( Side_Teams [ Position_Sides [ i ] ] <> Side_Teams [ j ] ) or ( not Team_Game ) and ( Position_Sides [ i ] <> j ) ) then
25784: LD_EXP 75
25788: PUSH
25789: LD_VAR 0 3
25793: ARRAY
25794: PUSH
25795: LD_EXP 72
25799: PUSH
25800: LD_EXP 62
25804: PUSH
25805: LD_VAR 0 2
25809: ARRAY
25810: ARRAY
25811: PUSH
25812: LD_EXP 72
25816: PUSH
25817: LD_VAR 0 3
25821: ARRAY
25822: NONEQUAL
25823: PUSH
25824: LD_EXP 80
25828: NOT
25829: PUSH
25830: LD_EXP 62
25834: PUSH
25835: LD_VAR 0 2
25839: ARRAY
25840: PUSH
25841: LD_VAR 0 3
25845: NONEQUAL
25846: AND
25847: OR
25848: AND
25849: IFFALSE 25873
// ShowArea ( j , BuildUpAreas [ i ] ) else
25851: LD_VAR 0 3
25855: PPUSH
25856: LD_EXP 116
25860: PUSH
25861: LD_VAR 0 2
25865: ARRAY
25866: PPUSH
25867: CALL_OW 334
25871: GO 25903
// if ( j = your_side ) then
25873: LD_VAR 0 3
25877: PUSH
25878: LD_OWVAR 2
25882: EQUAL
25883: IFFALSE 25903
// SetAreaMapShow ( BuildUpAreas [ i ] , 0 ) ;
25885: LD_EXP 116
25889: PUSH
25890: LD_VAR 0 2
25894: ARRAY
25895: PPUSH
25896: LD_INT 0
25898: PPUSH
25899: CALL_OW 424
25903: GO 25781
25905: POP
25906: POP
25907: GO 25753
25909: POP
25910: POP
// end ;
25911: LD_VAR 0 1
25915: RET
// every 1 marked 600 do var i , un ;
25916: GO 25918
25918: DISABLE
25919: LD_INT 0
25921: PPUSH
25922: PPUSH
// begin for i := 1 to BuildUpAreas do
25923: LD_ADDR_VAR 0 1
25927: PUSH
25928: DOUBLE
25929: LD_INT 1
25931: DEC
25932: ST_TO_ADDR
25933: LD_EXP 116
25937: PUSH
25938: FOR_TO
25939: IFFALSE 26109
// if Position_Sides [ i ] then
25941: LD_EXP 62
25945: PUSH
25946: LD_VAR 0 1
25950: ARRAY
25951: IFFALSE 26107
// for un in FilterUnitsInArea ( BuildUpAreas [ i ] , [ [ f_or , [ f_type , unit_human ] , [ f_type , unit_vehicle ] ] , [ f_not , [ f_side , 0 ] ] ] ) do
25953: LD_ADDR_VAR 0 2
25957: PUSH
25958: LD_EXP 116
25962: PUSH
25963: LD_VAR 0 1
25967: ARRAY
25968: PPUSH
25969: LD_INT 2
25971: PUSH
25972: LD_INT 21
25974: PUSH
25975: LD_INT 1
25977: PUSH
25978: EMPTY
25979: LIST
25980: LIST
25981: PUSH
25982: LD_INT 21
25984: PUSH
25985: LD_INT 2
25987: PUSH
25988: EMPTY
25989: LIST
25990: LIST
25991: PUSH
25992: EMPTY
25993: LIST
25994: LIST
25995: LIST
25996: PUSH
25997: LD_INT 3
25999: PUSH
26000: LD_INT 22
26002: PUSH
26003: LD_INT 0
26005: PUSH
26006: EMPTY
26007: LIST
26008: LIST
26009: PUSH
26010: EMPTY
26011: LIST
26012: LIST
26013: PUSH
26014: EMPTY
26015: LIST
26016: LIST
26017: PPUSH
26018: CALL_OW 70
26022: PUSH
26023: FOR_IN
26024: IFFALSE 26105
// if ( ( Side_Teams [ Position_Sides [ i ] ] <> Side_Teams [ GetSide ( un ) ] ) or ( not Team_Game ) and ( Position_Sides [ i ] <> GetSide ( un ) ) ) then
26026: LD_EXP 72
26030: PUSH
26031: LD_EXP 62
26035: PUSH
26036: LD_VAR 0 1
26040: ARRAY
26041: ARRAY
26042: PUSH
26043: LD_EXP 72
26047: PUSH
26048: LD_VAR 0 2
26052: PPUSH
26053: CALL_OW 255
26057: ARRAY
26058: NONEQUAL
26059: PUSH
26060: LD_EXP 80
26064: NOT
26065: PUSH
26066: LD_EXP 62
26070: PUSH
26071: LD_VAR 0 1
26075: ARRAY
26076: PUSH
26077: LD_VAR 0 2
26081: PPUSH
26082: CALL_OW 255
26086: NONEQUAL
26087: AND
26088: OR
26089: IFFALSE 26103
// ComMoveToArea ( un , BuildUpEscape ) ;
26091: LD_VAR 0 2
26095: PPUSH
26096: LD_INT 33
26098: PPUSH
26099: CALL_OW 113
26103: GO 26023
26105: POP
26106: POP
26107: GO 25938
26109: POP
26110: POP
// if BuildUp then
26111: LD_EXP 117
26115: IFFALSE 26118
// enable ;
26117: ENABLE
// end ;
26118: PPOPN 2
26120: END
// every 1 do
26121: GO 26123
26123: DISABLE
// if ( def_builduptime > 0 ) then
26124: LD_EXP 30
26128: PUSH
26129: LD_INT 0
26131: GREATER
26132: IFFALSE 26153
// begin if buildUpTime_Delay then
26134: LD_EXP 66
26138: IFFALSE 26149
// wait ( buildUpTime_Delay ) ;
26140: LD_EXP 66
26144: PPUSH
26145: CALL_OW 67
// EndBuildUp ;
26149: CALL 25722 0 0
// end ; end_of_file
26153: END
// var Restricted_Builds , Restricted_Builds_Amount ; var Banned_Weapons , Banned_Chassis , Banned_Controls , Banned_Engines ; var Already_Built ; var Limits_Info , Cheaters ; every 0 0$1 do
26154: GO 26156
26156: DISABLE
// begin fLimitsStrings ;
26157: CALL 26163 0 0
// enable ;
26161: ENABLE
// end ;
26162: END
// export function fLimitsStrings ; var i ; begin
26163: LD_INT 0
26165: PPUSH
26166: PPUSH
// if ( not IAmSpec ) then
26167: CALL_OW 531
26171: NOT
26172: IFFALSE 26188
// LimitsStrings := Limits_Info ^  ;
26174: LD_ADDR_EXP 110
26178: PUSH
26179: LD_LOC 29
26183: PUSH
26184: LD_STRING 
26186: ADD
26187: ST_TO_ADDR
// for i := 1 to 8 do
26188: LD_ADDR_VAR 0 2
26192: PUSH
26193: DOUBLE
26194: LD_INT 1
26196: DEC
26197: ST_TO_ADDR
26198: LD_INT 8
26200: PUSH
26201: FOR_TO
26202: IFFALSE 26247
// if Cheaters [ i ] then
26204: LD_LOC 30
26208: PUSH
26209: LD_VAR 0 2
26213: ARRAY
26214: IFFALSE 26245
// LimitsStrings := LimitsStrings ^ [ #Cheater , i , i ] ;
26216: LD_ADDR_EXP 110
26220: PUSH
26221: LD_EXP 110
26225: PUSH
26226: LD_STRING #Cheater
26228: PUSH
26229: LD_VAR 0 2
26233: PUSH
26234: LD_VAR 0 2
26238: PUSH
26239: EMPTY
26240: LIST
26241: LIST
26242: LIST
26243: ADD
26244: ST_TO_ADDR
26245: GO 26201
26247: POP
26248: POP
// end ;
26249: LD_VAR 0 1
26253: RET
// export function InitGameRules ; var Unavailable_Techs , Unavailable_Builds ; var i , j ; begin
26254: LD_INT 0
26256: PPUSH
26257: PPUSH
26258: PPUSH
26259: PPUSH
26260: PPUSH
// Cheaters := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
26261: LD_ADDR_LOC 30
26265: PUSH
26266: LD_INT 0
26268: PUSH
26269: LD_INT 0
26271: PUSH
26272: LD_INT 0
26274: PUSH
26275: LD_INT 0
26277: PUSH
26278: LD_INT 0
26280: PUSH
26281: LD_INT 0
26283: PUSH
26284: LD_INT 0
26286: PUSH
26287: LD_INT 0
26289: PUSH
26290: EMPTY
26291: LIST
26292: LIST
26293: LIST
26294: LIST
26295: LIST
26296: LIST
26297: LIST
26298: LIST
26299: ST_TO_ADDR
// case def_game_rules of 0 :
26300: LD_EXP 9
26304: PUSH
26305: LD_INT 0
26307: DOUBLE
26308: EQUAL
26309: IFTRUE 26313
26311: GO 26318
26313: POP
// exit ; 1 :
26314: GO 28954
26316: GO 28854
26318: LD_INT 1
26320: DOUBLE
26321: EQUAL
26322: IFTRUE 26326
26324: GO 26629
26326: POP
// begin def_base_level := 2 ;
26327: LD_ADDR_EXP 10
26331: PUSH
26332: LD_INT 2
26334: ST_TO_ADDR
// def_amount_of_people := 10 ;
26335: LD_ADDR_EXP 11
26339: PUSH
26340: LD_INT 10
26342: ST_TO_ADDR
// def_initial_level := 1 ;
26343: LD_ADDR_EXP 13
26347: PUSH
26348: LD_INT 1
26350: ST_TO_ADDR
// def_starting_resources := 2 ;
26351: LD_ADDR_EXP 15
26355: PUSH
26356: LD_INT 2
26358: ST_TO_ADDR
// def_shipments_density := 1 ;
26359: LD_ADDR_EXP 16
26363: PUSH
26364: LD_INT 1
26366: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
26367: LD_ADDR_EXP 17
26371: PUSH
26372: LD_INT 0
26374: ST_TO_ADDR
// def_extra_sib_deposits := 1 ;
26375: LD_ADDR_EXP 18
26379: PUSH
26380: LD_INT 1
26382: ST_TO_ADDR
// def_shared_vision := 1 ;
26383: LD_ADDR_EXP 19
26387: PUSH
26388: LD_INT 1
26390: ST_TO_ADDR
// def_morale_flags := 3 ;
26391: LD_ADDR_EXP 20
26395: PUSH
26396: LD_INT 3
26398: ST_TO_ADDR
// def_siberite_detection := 1 ;
26399: LD_ADDR_EXP 28
26403: PUSH
26404: LD_INT 1
26406: ST_TO_ADDR
// def_people_respawning := 1 ;
26407: LD_ADDR_EXP 25
26411: PUSH
26412: LD_INT 1
26414: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
26415: LD_ADDR_EXP 22
26419: PUSH
26420: LD_INT 1
26422: ST_TO_ADDR
// def_siberite_bomb := 0 ;
26423: LD_ADDR_EXP 29
26427: PUSH
26428: LD_INT 0
26430: ST_TO_ADDR
// def_builduptime := 2 ;
26431: LD_ADDR_EXP 30
26435: PUSH
26436: LD_INT 2
26438: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
26439: LD_ADDR_EXP 12
26443: PUSH
26444: LD_INT 0
26446: ST_TO_ADDR
// def_amount_of_tiger := 0 ;
26447: LD_ADDR_EXP 23
26451: PUSH
26452: LD_INT 0
26454: ST_TO_ADDR
// def_respawining_type := 3 ;
26455: LD_ADDR_EXP 24
26459: PUSH
26460: LD_INT 3
26462: ST_TO_ADDR
// def_tech_level := 8 ;
26463: LD_ADDR_EXP 26
26467: PUSH
26468: LD_INT 8
26470: ST_TO_ADDR
// def_upgrade_tl := 0 ;
26471: LD_ADDR_EXP 27
26475: PUSH
26476: LD_INT 0
26478: ST_TO_ADDR
// def_desert_warior := 0 ;
26479: LD_ADDR_EXP 31
26483: PUSH
26484: LD_INT 0
26486: ST_TO_ADDR
// Unavailable_Techs := [ ] ;
26487: LD_ADDR_VAR 0 2
26491: PUSH
26492: EMPTY
26493: ST_TO_ADDR
// Unavailable_Builds := [ ] ;
26494: LD_ADDR_VAR 0 3
26498: PUSH
26499: EMPTY
26500: ST_TO_ADDR
// Banned_Weapons := [ ] ;
26501: LD_ADDR_LOC 24
26505: PUSH
26506: EMPTY
26507: ST_TO_ADDR
// Banned_Chassis := [ ] ;
26508: LD_ADDR_LOC 25
26512: PUSH
26513: EMPTY
26514: ST_TO_ADDR
// Banned_Controls := [ ] ;
26515: LD_ADDR_LOC 26
26519: PUSH
26520: EMPTY
26521: ST_TO_ADDR
// Banned_Engines := [ ] ;
26522: LD_ADDR_LOC 27
26526: PUSH
26527: EMPTY
26528: ST_TO_ADDR
// Restricted_Builds := [ [ b_Behemoth ] , [ b_Armoury , b_Barracks ] , [ b_Breastwork , b_Bunker , b_Turret ] ] ;
26529: LD_ADDR_LOC 22
26533: PUSH
26534: LD_INT 37
26536: PUSH
26537: EMPTY
26538: LIST
26539: PUSH
26540: LD_INT 4
26542: PUSH
26543: LD_INT 5
26545: PUSH
26546: EMPTY
26547: LIST
26548: LIST
26549: PUSH
26550: LD_INT 31
26552: PUSH
26553: LD_INT 32
26555: PUSH
26556: LD_INT 33
26558: PUSH
26559: EMPTY
26560: LIST
26561: LIST
26562: LIST
26563: PUSH
26564: EMPTY
26565: LIST
26566: LIST
26567: LIST
26568: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
26569: LD_EXP 1
26573: PUSH
26574: LD_EXP 3
26578: PUSH
26579: LD_EXP 4
26583: ADD
26584: IN
26585: IFFALSE 26608
// Restricted_Builds_Amount := [ 4 , 4 , 8 ] else
26587: LD_ADDR_LOC 23
26591: PUSH
26592: LD_INT 4
26594: PUSH
26595: LD_INT 4
26597: PUSH
26598: LD_INT 8
26600: PUSH
26601: EMPTY
26602: LIST
26603: LIST
26604: LIST
26605: ST_TO_ADDR
26606: GO 26627
// Restricted_Builds_Amount := [ 2 , 2 , 4 ] ;
26608: LD_ADDR_LOC 23
26612: PUSH
26613: LD_INT 2
26615: PUSH
26616: LD_INT 2
26618: PUSH
26619: LD_INT 4
26621: PUSH
26622: EMPTY
26623: LIST
26624: LIST
26625: LIST
26626: ST_TO_ADDR
// end ; 2 :
26627: GO 28854
26629: LD_INT 2
26631: DOUBLE
26632: EQUAL
26633: IFTRUE 26637
26635: GO 26929
26637: POP
// begin def_base_level := 1 ;
26638: LD_ADDR_EXP 10
26642: PUSH
26643: LD_INT 1
26645: ST_TO_ADDR
// def_amount_of_people := 2 ;
26646: LD_ADDR_EXP 11
26650: PUSH
26651: LD_INT 2
26653: ST_TO_ADDR
// def_initial_level := 3 ;
26654: LD_ADDR_EXP 13
26658: PUSH
26659: LD_INT 3
26661: ST_TO_ADDR
// def_starting_resources := 3 ;
26662: LD_ADDR_EXP 15
26666: PUSH
26667: LD_INT 3
26669: ST_TO_ADDR
// def_shipments_density := 2 ;
26670: LD_ADDR_EXP 16
26674: PUSH
26675: LD_INT 2
26677: ST_TO_ADDR
// def_extra_oil_deposits := 1 ;
26678: LD_ADDR_EXP 17
26682: PUSH
26683: LD_INT 1
26685: ST_TO_ADDR
// def_extra_sib_deposits := 2 ;
26686: LD_ADDR_EXP 18
26690: PUSH
26691: LD_INT 2
26693: ST_TO_ADDR
// def_shared_vision := 1 ;
26694: LD_ADDR_EXP 19
26698: PUSH
26699: LD_INT 1
26701: ST_TO_ADDR
// def_morale_flags := 0 ;
26702: LD_ADDR_EXP 20
26706: PUSH
26707: LD_INT 0
26709: ST_TO_ADDR
// def_siberite_detection := 1 ;
26710: LD_ADDR_EXP 28
26714: PUSH
26715: LD_INT 1
26717: ST_TO_ADDR
// def_people_respawning := 0 ;
26718: LD_ADDR_EXP 25
26722: PUSH
26723: LD_INT 0
26725: ST_TO_ADDR
// def_amount_of_apemen := 0 ;
26726: LD_ADDR_EXP 22
26730: PUSH
26731: LD_INT 0
26733: ST_TO_ADDR
// def_siberite_bomb := 0 ;
26734: LD_ADDR_EXP 29
26738: PUSH
26739: LD_INT 0
26741: ST_TO_ADDR
// def_builduptime := 2 ;
26742: LD_ADDR_EXP 30
26746: PUSH
26747: LD_INT 2
26749: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
26750: LD_ADDR_EXP 12
26754: PUSH
26755: LD_INT 0
26757: ST_TO_ADDR
// def_amount_of_tiger := 0 ;
26758: LD_ADDR_EXP 23
26762: PUSH
26763: LD_INT 0
26765: ST_TO_ADDR
// def_respawining_type := 3 ;
26766: LD_ADDR_EXP 24
26770: PUSH
26771: LD_INT 3
26773: ST_TO_ADDR
// def_tech_level := 8 ;
26774: LD_ADDR_EXP 26
26778: PUSH
26779: LD_INT 8
26781: ST_TO_ADDR
// def_upgrade_tl := 0 ;
26782: LD_ADDR_EXP 27
26786: PUSH
26787: LD_INT 0
26789: ST_TO_ADDR
// def_desert_warior := 0 ;
26790: LD_ADDR_EXP 31
26794: PUSH
26795: LD_INT 0
26797: ST_TO_ADDR
// Unavailable_Techs := [ tech_ApeLang ] ;
26798: LD_ADDR_VAR 0 2
26802: PUSH
26803: LD_INT 1
26805: PUSH
26806: EMPTY
26807: LIST
26808: ST_TO_ADDR
// Unavailable_Builds := [ ] ;
26809: LD_ADDR_VAR 0 3
26813: PUSH
26814: EMPTY
26815: ST_TO_ADDR
// Banned_Weapons := [ ] ;
26816: LD_ADDR_LOC 24
26820: PUSH
26821: EMPTY
26822: ST_TO_ADDR
// Banned_Chassis := [ ] ;
26823: LD_ADDR_LOC 25
26827: PUSH
26828: EMPTY
26829: ST_TO_ADDR
// Banned_Controls := [ ] ;
26830: LD_ADDR_LOC 26
26834: PUSH
26835: EMPTY
26836: ST_TO_ADDR
// Banned_Engines := [ ] ;
26837: LD_ADDR_LOC 27
26841: PUSH
26842: EMPTY
26843: ST_TO_ADDR
// Restricted_Builds := [ [ b_Armoury , b_Barracks ] , [ b_Breastwork , b_Bunker , b_Turret ] ] ;
26844: LD_ADDR_LOC 22
26848: PUSH
26849: LD_INT 4
26851: PUSH
26852: LD_INT 5
26854: PUSH
26855: EMPTY
26856: LIST
26857: LIST
26858: PUSH
26859: LD_INT 31
26861: PUSH
26862: LD_INT 32
26864: PUSH
26865: LD_INT 33
26867: PUSH
26868: EMPTY
26869: LIST
26870: LIST
26871: LIST
26872: PUSH
26873: EMPTY
26874: LIST
26875: LIST
26876: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
26877: LD_EXP 1
26881: PUSH
26882: LD_EXP 3
26886: PUSH
26887: LD_EXP 4
26891: ADD
26892: IN
26893: IFFALSE 26912
// Restricted_Builds_Amount := [ 2 , 4 ] else
26895: LD_ADDR_LOC 23
26899: PUSH
26900: LD_INT 2
26902: PUSH
26903: LD_INT 4
26905: PUSH
26906: EMPTY
26907: LIST
26908: LIST
26909: ST_TO_ADDR
26910: GO 26927
// Restricted_Builds_Amount := [ 1 , 2 ] ;
26912: LD_ADDR_LOC 23
26916: PUSH
26917: LD_INT 1
26919: PUSH
26920: LD_INT 2
26922: PUSH
26923: EMPTY
26924: LIST
26925: LIST
26926: ST_TO_ADDR
// end ; 3 :
26927: GO 28854
26929: LD_INT 3
26931: DOUBLE
26932: EQUAL
26933: IFTRUE 26937
26935: GO 27220
26937: POP
// begin def_base_level := 1 ;
26938: LD_ADDR_EXP 10
26942: PUSH
26943: LD_INT 1
26945: ST_TO_ADDR
// def_amount_of_people := 10 ;
26946: LD_ADDR_EXP 11
26950: PUSH
26951: LD_INT 10
26953: ST_TO_ADDR
// def_initial_level := 3 ;
26954: LD_ADDR_EXP 13
26958: PUSH
26959: LD_INT 3
26961: ST_TO_ADDR
// def_starting_resources := 3 ;
26962: LD_ADDR_EXP 15
26966: PUSH
26967: LD_INT 3
26969: ST_TO_ADDR
// def_shipments_density := 1 ;
26970: LD_ADDR_EXP 16
26974: PUSH
26975: LD_INT 1
26977: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
26978: LD_ADDR_EXP 17
26982: PUSH
26983: LD_INT 0
26985: ST_TO_ADDR
// def_extra_sib_deposits := 1 ;
26986: LD_ADDR_EXP 18
26990: PUSH
26991: LD_INT 1
26993: ST_TO_ADDR
// def_shared_vision := 1 ;
26994: LD_ADDR_EXP 19
26998: PUSH
26999: LD_INT 1
27001: ST_TO_ADDR
// def_morale_flags := 0 ;
27002: LD_ADDR_EXP 20
27006: PUSH
27007: LD_INT 0
27009: ST_TO_ADDR
// def_siberite_detection := 1 ;
27010: LD_ADDR_EXP 28
27014: PUSH
27015: LD_INT 1
27017: ST_TO_ADDR
// def_people_respawning := 0 ;
27018: LD_ADDR_EXP 25
27022: PUSH
27023: LD_INT 0
27025: ST_TO_ADDR
// def_amount_of_apemen := 2 ;
27026: LD_ADDR_EXP 22
27030: PUSH
27031: LD_INT 2
27033: ST_TO_ADDR
// def_siberite_bomb := 0 ;
27034: LD_ADDR_EXP 29
27038: PUSH
27039: LD_INT 0
27041: ST_TO_ADDR
// def_builduptime := 1 ;
27042: LD_ADDR_EXP 30
27046: PUSH
27047: LD_INT 1
27049: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
27050: LD_ADDR_EXP 12
27054: PUSH
27055: LD_INT 0
27057: ST_TO_ADDR
// def_amount_of_tiger := 1 ;
27058: LD_ADDR_EXP 23
27062: PUSH
27063: LD_INT 1
27065: ST_TO_ADDR
// def_respawining_type := 3 ;
27066: LD_ADDR_EXP 24
27070: PUSH
27071: LD_INT 3
27073: ST_TO_ADDR
// def_tech_level := 8 ;
27074: LD_ADDR_EXP 26
27078: PUSH
27079: LD_INT 8
27081: ST_TO_ADDR
// def_upgrade_tl := 0 ;
27082: LD_ADDR_EXP 27
27086: PUSH
27087: LD_INT 0
27089: ST_TO_ADDR
// def_desert_warior := 0 ;
27090: LD_ADDR_EXP 31
27094: PUSH
27095: LD_INT 0
27097: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth ] ;
27098: LD_ADDR_VAR 0 2
27102: PUSH
27103: LD_INT 23
27105: PUSH
27106: EMPTY
27107: LIST
27108: ST_TO_ADDR
// Unavailable_Builds := [ b_Workshop , b_Behemoth , b_Bunker , b_Turret , b_Control_Tower , b_ext_track , b_ext_stitch , b_ext_siberium , b_ext_rocket , b_ext_radio , b_ext_radar , b_ext_noncombat , b_ext_laser , b_ext_gun , b_ext_computer ] ;
27109: LD_ADDR_VAR 0 3
27113: PUSH
27114: LD_INT 2
27116: PUSH
27117: LD_INT 37
27119: PUSH
27120: LD_INT 32
27122: PUSH
27123: LD_INT 33
27125: PUSH
27126: LD_INT 36
27128: PUSH
27129: LD_INT 16
27131: PUSH
27132: LD_INT 23
27134: PUSH
27135: LD_INT 21
27137: PUSH
27138: LD_INT 18
27140: PUSH
27141: LD_INT 22
27143: PUSH
27144: LD_INT 20
27146: PUSH
27147: LD_INT 19
27149: PUSH
27150: LD_INT 25
27152: PUSH
27153: LD_INT 17
27155: PUSH
27156: LD_INT 24
27158: PUSH
27159: EMPTY
27160: LIST
27161: LIST
27162: LIST
27163: LIST
27164: LIST
27165: LIST
27166: LIST
27167: LIST
27168: LIST
27169: LIST
27170: LIST
27171: LIST
27172: LIST
27173: LIST
27174: LIST
27175: ST_TO_ADDR
// Banned_Weapons := [ ] ;
27176: LD_ADDR_LOC 24
27180: PUSH
27181: EMPTY
27182: ST_TO_ADDR
// Banned_Chassis := [ ] ;
27183: LD_ADDR_LOC 25
27187: PUSH
27188: EMPTY
27189: ST_TO_ADDR
// Banned_Controls := [ ] ;
27190: LD_ADDR_LOC 26
27194: PUSH
27195: EMPTY
27196: ST_TO_ADDR
// Banned_Engines := [ ] ;
27197: LD_ADDR_LOC 27
27201: PUSH
27202: EMPTY
27203: ST_TO_ADDR
// Restricted_Builds := [ ] ;
27204: LD_ADDR_LOC 22
27208: PUSH
27209: EMPTY
27210: ST_TO_ADDR
// Restricted_Builds_Amount := [ ] ;
27211: LD_ADDR_LOC 23
27215: PUSH
27216: EMPTY
27217: ST_TO_ADDR
// end ; 4 :
27218: GO 28854
27220: LD_INT 4
27222: DOUBLE
27223: EQUAL
27224: IFTRUE 27228
27226: GO 27451
27228: POP
// begin def_base_level := 1 ;
27229: LD_ADDR_EXP 10
27233: PUSH
27234: LD_INT 1
27236: ST_TO_ADDR
// def_amount_of_people := 10 ;
27237: LD_ADDR_EXP 11
27241: PUSH
27242: LD_INT 10
27244: ST_TO_ADDR
// def_initial_level := 3 ;
27245: LD_ADDR_EXP 13
27249: PUSH
27250: LD_INT 3
27252: ST_TO_ADDR
// def_starting_resources := 3 ;
27253: LD_ADDR_EXP 15
27257: PUSH
27258: LD_INT 3
27260: ST_TO_ADDR
// def_shipments_density := 2 ;
27261: LD_ADDR_EXP 16
27265: PUSH
27266: LD_INT 2
27268: ST_TO_ADDR
// def_extra_oil_deposits := 1 ;
27269: LD_ADDR_EXP 17
27273: PUSH
27274: LD_INT 1
27276: ST_TO_ADDR
// def_extra_sib_deposits := 2 ;
27277: LD_ADDR_EXP 18
27281: PUSH
27282: LD_INT 2
27284: ST_TO_ADDR
// def_shared_vision := 1 ;
27285: LD_ADDR_EXP 19
27289: PUSH
27290: LD_INT 1
27292: ST_TO_ADDR
// def_morale_flags := 0 ;
27293: LD_ADDR_EXP 20
27297: PUSH
27298: LD_INT 0
27300: ST_TO_ADDR
// def_siberite_detection := 1 ;
27301: LD_ADDR_EXP 28
27305: PUSH
27306: LD_INT 1
27308: ST_TO_ADDR
// def_people_respawning := 0 ;
27309: LD_ADDR_EXP 25
27313: PUSH
27314: LD_INT 0
27316: ST_TO_ADDR
// def_amount_of_apemen := 0 ;
27317: LD_ADDR_EXP 22
27321: PUSH
27322: LD_INT 0
27324: ST_TO_ADDR
// def_siberite_bomb := 1 ;
27325: LD_ADDR_EXP 29
27329: PUSH
27330: LD_INT 1
27332: ST_TO_ADDR
// def_builduptime := 3 ;
27333: LD_ADDR_EXP 30
27337: PUSH
27338: LD_INT 3
27340: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
27341: LD_ADDR_EXP 12
27345: PUSH
27346: LD_INT 0
27348: ST_TO_ADDR
// def_amount_of_tiger := 0 ;
27349: LD_ADDR_EXP 23
27353: PUSH
27354: LD_INT 0
27356: ST_TO_ADDR
// def_respawining_type := 3 ;
27357: LD_ADDR_EXP 24
27361: PUSH
27362: LD_INT 3
27364: ST_TO_ADDR
// def_tech_level := 8 ;
27365: LD_ADDR_EXP 26
27369: PUSH
27370: LD_INT 8
27372: ST_TO_ADDR
// def_upgrade_tl := 0 ;
27373: LD_ADDR_EXP 27
27377: PUSH
27378: LD_INT 0
27380: ST_TO_ADDR
// def_desert_warior := 0 ;
27381: LD_ADDR_EXP 31
27385: PUSH
27386: LD_INT 0
27388: ST_TO_ADDR
// Unavailable_Techs := [ tech_ApeLang ] ;
27389: LD_ADDR_VAR 0 2
27393: PUSH
27394: LD_INT 1
27396: PUSH
27397: EMPTY
27398: LIST
27399: ST_TO_ADDR
// Unavailable_Builds := [ ] ;
27400: LD_ADDR_VAR 0 3
27404: PUSH
27405: EMPTY
27406: ST_TO_ADDR
// Banned_Weapons := [ ] ;
27407: LD_ADDR_LOC 24
27411: PUSH
27412: EMPTY
27413: ST_TO_ADDR
// Banned_Chassis := [ ] ;
27414: LD_ADDR_LOC 25
27418: PUSH
27419: EMPTY
27420: ST_TO_ADDR
// Banned_Controls := [ ] ;
27421: LD_ADDR_LOC 26
27425: PUSH
27426: EMPTY
27427: ST_TO_ADDR
// Banned_Engines := [ ] ;
27428: LD_ADDR_LOC 27
27432: PUSH
27433: EMPTY
27434: ST_TO_ADDR
// Restricted_Builds := [ ] ;
27435: LD_ADDR_LOC 22
27439: PUSH
27440: EMPTY
27441: ST_TO_ADDR
// Restricted_Builds_Amount := [ ] ;
27442: LD_ADDR_LOC 23
27446: PUSH
27447: EMPTY
27448: ST_TO_ADDR
// end ; 5 :
27449: GO 28854
27451: LD_INT 5
27453: DOUBLE
27454: EQUAL
27455: IFTRUE 27459
27457: GO 27791
27459: POP
// begin def_base_level := 0 ;
27460: LD_ADDR_EXP 10
27464: PUSH
27465: LD_INT 0
27467: ST_TO_ADDR
// def_amount_of_people := 3 ;
27468: LD_ADDR_EXP 11
27472: PUSH
27473: LD_INT 3
27475: ST_TO_ADDR
// def_initial_level := 0 ;
27476: LD_ADDR_EXP 13
27480: PUSH
27481: LD_INT 0
27483: ST_TO_ADDR
// def_starting_resources := 0 ;
27484: LD_ADDR_EXP 15
27488: PUSH
27489: LD_INT 0
27491: ST_TO_ADDR
// def_shipments_density := 0 ;
27492: LD_ADDR_EXP 16
27496: PUSH
27497: LD_INT 0
27499: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
27500: LD_ADDR_EXP 17
27504: PUSH
27505: LD_INT 0
27507: ST_TO_ADDR
// def_extra_sib_deposits := 0 ;
27508: LD_ADDR_EXP 18
27512: PUSH
27513: LD_INT 0
27515: ST_TO_ADDR
// def_shared_vision := 1 ;
27516: LD_ADDR_EXP 19
27520: PUSH
27521: LD_INT 1
27523: ST_TO_ADDR
// def_morale_flags := 0 ;
27524: LD_ADDR_EXP 20
27528: PUSH
27529: LD_INT 0
27531: ST_TO_ADDR
// def_siberite_detection := 0 ;
27532: LD_ADDR_EXP 28
27536: PUSH
27537: LD_INT 0
27539: ST_TO_ADDR
// def_people_respawning := 1 ;
27540: LD_ADDR_EXP 25
27544: PUSH
27545: LD_INT 1
27547: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
27548: LD_ADDR_EXP 22
27552: PUSH
27553: LD_INT 1
27555: ST_TO_ADDR
// def_siberite_bomb := 0 ;
27556: LD_ADDR_EXP 29
27560: PUSH
27561: LD_INT 0
27563: ST_TO_ADDR
// def_builduptime := 0 ;
27564: LD_ADDR_EXP 30
27568: PUSH
27569: LD_INT 0
27571: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
27572: LD_ADDR_EXP 12
27576: PUSH
27577: LD_INT 0
27579: ST_TO_ADDR
// def_amount_of_tiger := 2 ;
27580: LD_ADDR_EXP 23
27584: PUSH
27585: LD_INT 2
27587: ST_TO_ADDR
// def_respawining_type := 3 ;
27588: LD_ADDR_EXP 24
27592: PUSH
27593: LD_INT 3
27595: ST_TO_ADDR
// def_tech_level := 8 ;
27596: LD_ADDR_EXP 26
27600: PUSH
27601: LD_INT 8
27603: ST_TO_ADDR
// def_upgrade_tl := 0 ;
27604: LD_ADDR_EXP 27
27608: PUSH
27609: LD_INT 0
27611: ST_TO_ADDR
// def_desert_warior := 0 ;
27612: LD_ADDR_EXP 31
27616: PUSH
27617: LD_INT 0
27619: ST_TO_ADDR
// Unavailable_Techs := [ tech_Laser , tech_ApeNeural ] ;
27620: LD_ADDR_VAR 0 2
27624: PUSH
27625: LD_INT 10
27627: PUSH
27628: LD_INT 3
27630: PUSH
27631: EMPTY
27632: LIST
27633: LIST
27634: ST_TO_ADDR
// Unavailable_Builds := [ b_Lab_Computer , b_Lab_Siberium , b_Lab_Spacetime , b_Lab_Biological , b_Barracks , b_ext_Computer , b_ext_Siberium , b_Turret , b_Control_Tower ] ;
27635: LD_ADDR_VAR 0 3
27639: PUSH
27640: LD_INT 12
27642: PUSH
27643: LD_INT 11
27645: PUSH
27646: LD_INT 14
27648: PUSH
27649: LD_INT 13
27651: PUSH
27652: LD_INT 5
27654: PUSH
27655: LD_INT 24
27657: PUSH
27658: LD_INT 21
27660: PUSH
27661: LD_INT 33
27663: PUSH
27664: LD_INT 36
27666: PUSH
27667: EMPTY
27668: LIST
27669: LIST
27670: LIST
27671: LIST
27672: LIST
27673: LIST
27674: LIST
27675: LIST
27676: LIST
27677: ST_TO_ADDR
// Banned_Weapons := [ ar_Control_Tower ] ;
27678: LD_ADDR_LOC 24
27682: PUSH
27683: LD_INT 31
27685: PUSH
27686: EMPTY
27687: LIST
27688: ST_TO_ADDR
// Banned_Chassis := [ ] ;
27689: LD_ADDR_LOC 25
27693: PUSH
27694: EMPTY
27695: ST_TO_ADDR
// Banned_Controls := [ control_Remote ] ;
27696: LD_ADDR_LOC 26
27700: PUSH
27701: LD_INT 2
27703: PUSH
27704: EMPTY
27705: LIST
27706: ST_TO_ADDR
// Banned_Engines := [ ] ;
27707: LD_ADDR_LOC 27
27711: PUSH
27712: EMPTY
27713: ST_TO_ADDR
// Restricted_Builds := [ [ b_Armoury ] , [ b_Breastwork , b_Bunker ] ] ;
27714: LD_ADDR_LOC 22
27718: PUSH
27719: LD_INT 4
27721: PUSH
27722: EMPTY
27723: LIST
27724: PUSH
27725: LD_INT 31
27727: PUSH
27728: LD_INT 32
27730: PUSH
27731: EMPTY
27732: LIST
27733: LIST
27734: PUSH
27735: EMPTY
27736: LIST
27737: LIST
27738: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
27739: LD_EXP 1
27743: PUSH
27744: LD_EXP 3
27748: PUSH
27749: LD_EXP 4
27753: ADD
27754: IN
27755: IFFALSE 27774
// Restricted_Builds_Amount := [ 2 , 2 ] else
27757: LD_ADDR_LOC 23
27761: PUSH
27762: LD_INT 2
27764: PUSH
27765: LD_INT 2
27767: PUSH
27768: EMPTY
27769: LIST
27770: LIST
27771: ST_TO_ADDR
27772: GO 27789
// Restricted_Builds_Amount := [ 1 , 1 ] ;
27774: LD_ADDR_LOC 23
27778: PUSH
27779: LD_INT 1
27781: PUSH
27782: LD_INT 1
27784: PUSH
27785: EMPTY
27786: LIST
27787: LIST
27788: ST_TO_ADDR
// end ; 6 :
27789: GO 28854
27791: LD_INT 6
27793: DOUBLE
27794: EQUAL
27795: IFTRUE 27799
27797: GO 28077
27799: POP
// begin def_base_level := 1 ;
27800: LD_ADDR_EXP 10
27804: PUSH
27805: LD_INT 1
27807: ST_TO_ADDR
// def_amount_of_people := 10 ;
27808: LD_ADDR_EXP 11
27812: PUSH
27813: LD_INT 10
27815: ST_TO_ADDR
// def_initial_level := 3 ;
27816: LD_ADDR_EXP 13
27820: PUSH
27821: LD_INT 3
27823: ST_TO_ADDR
// def_starting_resources := 3 ;
27824: LD_ADDR_EXP 15
27828: PUSH
27829: LD_INT 3
27831: ST_TO_ADDR
// def_shipments_density := 1 ;
27832: LD_ADDR_EXP 16
27836: PUSH
27837: LD_INT 1
27839: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
27840: LD_ADDR_EXP 17
27844: PUSH
27845: LD_INT 0
27847: ST_TO_ADDR
// def_extra_sib_deposits := 1 ;
27848: LD_ADDR_EXP 18
27852: PUSH
27853: LD_INT 1
27855: ST_TO_ADDR
// def_shared_vision := 1 ;
27856: LD_ADDR_EXP 19
27860: PUSH
27861: LD_INT 1
27863: ST_TO_ADDR
// def_morale_flags := 0 ;
27864: LD_ADDR_EXP 20
27868: PUSH
27869: LD_INT 0
27871: ST_TO_ADDR
// def_siberite_detection := 1 ;
27872: LD_ADDR_EXP 28
27876: PUSH
27877: LD_INT 1
27879: ST_TO_ADDR
// def_people_respawning := 2 ;
27880: LD_ADDR_EXP 25
27884: PUSH
27885: LD_INT 2
27887: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
27888: LD_ADDR_EXP 22
27892: PUSH
27893: LD_INT 1
27895: ST_TO_ADDR
// def_siberite_bomb := 0 ;
27896: LD_ADDR_EXP 29
27900: PUSH
27901: LD_INT 0
27903: ST_TO_ADDR
// def_builduptime := 1 ;
27904: LD_ADDR_EXP 30
27908: PUSH
27909: LD_INT 1
27911: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
27912: LD_ADDR_EXP 12
27916: PUSH
27917: LD_INT 0
27919: ST_TO_ADDR
// def_amount_of_tiger := 1 ;
27920: LD_ADDR_EXP 23
27924: PUSH
27925: LD_INT 1
27927: ST_TO_ADDR
// def_respawining_type := 3 ;
27928: LD_ADDR_EXP 24
27932: PUSH
27933: LD_INT 3
27935: ST_TO_ADDR
// def_tech_level := 8 ;
27936: LD_ADDR_EXP 26
27940: PUSH
27941: LD_INT 8
27943: ST_TO_ADDR
// def_upgrade_tl := 0 ;
27944: LD_ADDR_EXP 27
27948: PUSH
27949: LD_INT 0
27951: ST_TO_ADDR
// def_desert_warior := 0 ;
27952: LD_ADDR_EXP 31
27956: PUSH
27957: LD_INT 0
27959: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth ] ;
27960: LD_ADDR_VAR 0 2
27964: PUSH
27965: LD_INT 23
27967: PUSH
27968: EMPTY
27969: LIST
27970: ST_TO_ADDR
// Unavailable_Builds := [ b_Workshop , b_Behemoth , b_Breastwork , b_Bunker , b_Turret ] ;
27971: LD_ADDR_VAR 0 3
27975: PUSH
27976: LD_INT 2
27978: PUSH
27979: LD_INT 37
27981: PUSH
27982: LD_INT 31
27984: PUSH
27985: LD_INT 32
27987: PUSH
27988: LD_INT 33
27990: PUSH
27991: EMPTY
27992: LIST
27993: LIST
27994: LIST
27995: LIST
27996: LIST
27997: ST_TO_ADDR
// Banned_Weapons := [ ] ;
27998: LD_ADDR_LOC 24
28002: PUSH
28003: EMPTY
28004: ST_TO_ADDR
// Banned_Chassis := [ ] ;
28005: LD_ADDR_LOC 25
28009: PUSH
28010: EMPTY
28011: ST_TO_ADDR
// Banned_Controls := [ ] ;
28012: LD_ADDR_LOC 26
28016: PUSH
28017: EMPTY
28018: ST_TO_ADDR
// Banned_Engines := [ ] ;
28019: LD_ADDR_LOC 27
28023: PUSH
28024: EMPTY
28025: ST_TO_ADDR
// Restricted_Builds := [ [ b_Armoury , b_barracks ] ] ;
28026: LD_ADDR_LOC 22
28030: PUSH
28031: LD_INT 4
28033: PUSH
28034: LD_INT 5
28036: PUSH
28037: EMPTY
28038: LIST
28039: LIST
28040: PUSH
28041: EMPTY
28042: LIST
28043: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
28044: LD_EXP 1
28048: PUSH
28049: LD_EXP 3
28053: PUSH
28054: LD_EXP 4
28058: ADD
28059: IN
28060: IFFALSE 28064
// else
28062: GO 28075
// Restricted_Builds_Amount := [ 1 ] ;
28064: LD_ADDR_LOC 23
28068: PUSH
28069: LD_INT 1
28071: PUSH
28072: EMPTY
28073: LIST
28074: ST_TO_ADDR
// end ; 7 :
28075: GO 28854
28077: LD_INT 7
28079: DOUBLE
28080: EQUAL
28081: IFTRUE 28085
28083: GO 28362
28085: POP
// begin def_base_level := 1 ;
28086: LD_ADDR_EXP 10
28090: PUSH
28091: LD_INT 1
28093: ST_TO_ADDR
// def_amount_of_people := 10 ;
28094: LD_ADDR_EXP 11
28098: PUSH
28099: LD_INT 10
28101: ST_TO_ADDR
// def_initial_level := 3 ;
28102: LD_ADDR_EXP 13
28106: PUSH
28107: LD_INT 3
28109: ST_TO_ADDR
// def_starting_resources := 3 ;
28110: LD_ADDR_EXP 15
28114: PUSH
28115: LD_INT 3
28117: ST_TO_ADDR
// def_shipments_density := 1 ;
28118: LD_ADDR_EXP 16
28122: PUSH
28123: LD_INT 1
28125: ST_TO_ADDR
// def_extra_oil_deposits := 1 ;
28126: LD_ADDR_EXP 17
28130: PUSH
28131: LD_INT 1
28133: ST_TO_ADDR
// def_extra_sib_deposits := 2 ;
28134: LD_ADDR_EXP 18
28138: PUSH
28139: LD_INT 2
28141: ST_TO_ADDR
// def_shared_vision := 1 ;
28142: LD_ADDR_EXP 19
28146: PUSH
28147: LD_INT 1
28149: ST_TO_ADDR
// def_morale_flags := 0 ;
28150: LD_ADDR_EXP 20
28154: PUSH
28155: LD_INT 0
28157: ST_TO_ADDR
// def_siberite_detection := 1 ;
28158: LD_ADDR_EXP 28
28162: PUSH
28163: LD_INT 1
28165: ST_TO_ADDR
// def_people_respawning := 0 ;
28166: LD_ADDR_EXP 25
28170: PUSH
28171: LD_INT 0
28173: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
28174: LD_ADDR_EXP 22
28178: PUSH
28179: LD_INT 1
28181: ST_TO_ADDR
// def_siberite_bomb := 0 ;
28182: LD_ADDR_EXP 29
28186: PUSH
28187: LD_INT 0
28189: ST_TO_ADDR
// def_builduptime := 3 ;
28190: LD_ADDR_EXP 30
28194: PUSH
28195: LD_INT 3
28197: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
28198: LD_ADDR_EXP 12
28202: PUSH
28203: LD_INT 0
28205: ST_TO_ADDR
// def_amount_of_tiger := 1 ;
28206: LD_ADDR_EXP 23
28210: PUSH
28211: LD_INT 1
28213: ST_TO_ADDR
// def_respawining_type := 3 ;
28214: LD_ADDR_EXP 24
28218: PUSH
28219: LD_INT 3
28221: ST_TO_ADDR
// def_tech_level := 8 ;
28222: LD_ADDR_EXP 26
28226: PUSH
28227: LD_INT 8
28229: ST_TO_ADDR
// def_upgrade_tl := 0 ;
28230: LD_ADDR_EXP 27
28234: PUSH
28235: LD_INT 0
28237: ST_TO_ADDR
// def_desert_warior := 0 ;
28238: LD_ADDR_EXP 31
28242: PUSH
28243: LD_INT 0
28245: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth ] ;
28246: LD_ADDR_VAR 0 2
28250: PUSH
28251: LD_INT 23
28253: PUSH
28254: EMPTY
28255: LIST
28256: ST_TO_ADDR
// Unavailable_Builds := [ b_Behemoth ] ;
28257: LD_ADDR_VAR 0 3
28261: PUSH
28262: LD_INT 37
28264: PUSH
28265: EMPTY
28266: LIST
28267: ST_TO_ADDR
// Banned_Weapons := [ ] ;
28268: LD_ADDR_LOC 24
28272: PUSH
28273: EMPTY
28274: ST_TO_ADDR
// Banned_Chassis := [ ] ;
28275: LD_ADDR_LOC 25
28279: PUSH
28280: EMPTY
28281: ST_TO_ADDR
// Banned_Controls := [ ] ;
28282: LD_ADDR_LOC 26
28286: PUSH
28287: EMPTY
28288: ST_TO_ADDR
// Banned_Engines := [ ] ;
28289: LD_ADDR_LOC 27
28293: PUSH
28294: EMPTY
28295: ST_TO_ADDR
// Restricted_Builds := [ [ b_Breastwork , b_Bunker , b_Turret ] ] ;
28296: LD_ADDR_LOC 22
28300: PUSH
28301: LD_INT 31
28303: PUSH
28304: LD_INT 32
28306: PUSH
28307: LD_INT 33
28309: PUSH
28310: EMPTY
28311: LIST
28312: LIST
28313: LIST
28314: PUSH
28315: EMPTY
28316: LIST
28317: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
28318: LD_EXP 1
28322: PUSH
28323: LD_EXP 3
28327: PUSH
28328: LD_EXP 4
28332: ADD
28333: IN
28334: IFFALSE 28349
// Restricted_Builds_Amount := [ 20 ] else
28336: LD_ADDR_LOC 23
28340: PUSH
28341: LD_INT 20
28343: PUSH
28344: EMPTY
28345: LIST
28346: ST_TO_ADDR
28347: GO 28360
// Restricted_Builds_Amount := [ 10 ] ;
28349: LD_ADDR_LOC 23
28353: PUSH
28354: LD_INT 10
28356: PUSH
28357: EMPTY
28358: LIST
28359: ST_TO_ADDR
// end ; 8 :
28360: GO 28854
28362: LD_INT 8
28364: DOUBLE
28365: EQUAL
28366: IFTRUE 28370
28368: GO 28853
28370: POP
// begin def_base_level := 0 ;
28371: LD_ADDR_EXP 10
28375: PUSH
28376: LD_INT 0
28378: ST_TO_ADDR
// def_amount_of_people := Rand ( 4 , 8 ) ;
28379: LD_ADDR_EXP 11
28383: PUSH
28384: LD_INT 4
28386: PPUSH
28387: LD_INT 8
28389: PPUSH
28390: CALL_OW 12
28394: ST_TO_ADDR
// def_initial_level := 0 ;
28395: LD_ADDR_EXP 13
28399: PUSH
28400: LD_INT 0
28402: ST_TO_ADDR
// def_starting_resources := 2 ;
28403: LD_ADDR_EXP 15
28407: PUSH
28408: LD_INT 2
28410: ST_TO_ADDR
// def_shipments_density := 1 ;
28411: LD_ADDR_EXP 16
28415: PUSH
28416: LD_INT 1
28418: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
28419: LD_ADDR_EXP 17
28423: PUSH
28424: LD_INT 0
28426: ST_TO_ADDR
// def_extra_sib_deposits := 0 ;
28427: LD_ADDR_EXP 18
28431: PUSH
28432: LD_INT 0
28434: ST_TO_ADDR
// def_shared_vision := 1 ;
28435: LD_ADDR_EXP 19
28439: PUSH
28440: LD_INT 1
28442: ST_TO_ADDR
// def_morale_flags := Rand ( 0 , 2 ) ;
28443: LD_ADDR_EXP 20
28447: PUSH
28448: LD_INT 0
28450: PPUSH
28451: LD_INT 2
28453: PPUSH
28454: CALL_OW 12
28458: ST_TO_ADDR
// def_siberite_detection := 0 ;
28459: LD_ADDR_EXP 28
28463: PUSH
28464: LD_INT 0
28466: ST_TO_ADDR
// def_people_respawning := 0 ;
28467: LD_ADDR_EXP 25
28471: PUSH
28472: LD_INT 0
28474: ST_TO_ADDR
// def_amount_of_apemen := 2 ;
28475: LD_ADDR_EXP 22
28479: PUSH
28480: LD_INT 2
28482: ST_TO_ADDR
// def_siberite_bomb := 0 ;
28483: LD_ADDR_EXP 29
28487: PUSH
28488: LD_INT 0
28490: ST_TO_ADDR
// def_builduptime := 0 ;
28491: LD_ADDR_EXP 30
28495: PUSH
28496: LD_INT 0
28498: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
28499: LD_ADDR_EXP 12
28503: PUSH
28504: LD_INT 0
28506: ST_TO_ADDR
// def_amount_of_tiger := 2 ;
28507: LD_ADDR_EXP 23
28511: PUSH
28512: LD_INT 2
28514: ST_TO_ADDR
// def_respawining_type := 3 ;
28515: LD_ADDR_EXP 24
28519: PUSH
28520: LD_INT 3
28522: ST_TO_ADDR
// def_tech_level := 8 ;
28523: LD_ADDR_EXP 26
28527: PUSH
28528: LD_INT 8
28530: ST_TO_ADDR
// def_upgrade_tl := 0 ;
28531: LD_ADDR_EXP 27
28535: PUSH
28536: LD_INT 0
28538: ST_TO_ADDR
// def_desert_warior := 0 ;
28539: LD_ADDR_EXP 31
28543: PUSH
28544: LD_INT 0
28546: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth , tech_SibDet , tech_Rocket , tech_OilEng , tech_OilPow , tech_Gun , tech_AdvRocket , tech_AdvMet , tech_Mortar , tech_Bazooka , tech_HidCam , tech_PartInvis ] ;
28547: LD_ADDR_VAR 0 2
28551: PUSH
28552: LD_INT 23
28554: PUSH
28555: LD_INT 20
28557: PUSH
28558: LD_INT 40
28560: PUSH
28561: LD_INT 47
28563: PUSH
28564: LD_INT 46
28566: PUSH
28567: LD_INT 39
28569: PUSH
28570: LD_INT 71
28572: PUSH
28573: LD_INT 34
28575: PUSH
28576: LD_INT 41
28578: PUSH
28579: LD_INT 44
28581: PUSH
28582: LD_INT 17
28584: PUSH
28585: LD_INT 16
28587: PUSH
28588: EMPTY
28589: LIST
28590: LIST
28591: LIST
28592: LIST
28593: LIST
28594: LIST
28595: LIST
28596: LIST
28597: LIST
28598: LIST
28599: LIST
28600: LIST
28601: ST_TO_ADDR
// Unavailable_Builds := [ b_Behemoth , b_Barracks , b_Lab_Biological , b_Teleport , b_Lab_Computer , b_Lab_Opto , b_Lab_Siberium , b_Lab_Spacetime , b_Oil_Mine , b_Siberite_Mine , b_Siberite_Power , b_Ext_Computer , b_Ext_Laser , b_Ext_Radar , b_Ext_Siberium , b_Ext_Radio , b_Control_Tower ] ;
28602: LD_ADDR_VAR 0 3
28606: PUSH
28607: LD_INT 37
28609: PUSH
28610: LD_INT 5
28612: PUSH
28613: LD_INT 13
28615: PUSH
28616: LD_INT 34
28618: PUSH
28619: LD_INT 12
28621: PUSH
28622: LD_INT 15
28624: PUSH
28625: LD_INT 11
28627: PUSH
28628: LD_INT 14
28630: PUSH
28631: LD_INT 29
28633: PUSH
28634: LD_INT 30
28636: PUSH
28637: LD_INT 28
28639: PUSH
28640: LD_INT 24
28642: PUSH
28643: LD_INT 25
28645: PUSH
28646: LD_INT 20
28648: PUSH
28649: LD_INT 21
28651: PUSH
28652: LD_INT 22
28654: PUSH
28655: LD_INT 36
28657: PUSH
28658: EMPTY
28659: LIST
28660: LIST
28661: LIST
28662: LIST
28663: LIST
28664: LIST
28665: LIST
28666: LIST
28667: LIST
28668: LIST
28669: LIST
28670: LIST
28671: LIST
28672: LIST
28673: LIST
28674: LIST
28675: LIST
28676: ST_TO_ADDR
// Banned_Weapons := [ ] ;
28677: LD_ADDR_LOC 24
28681: PUSH
28682: EMPTY
28683: ST_TO_ADDR
// Banned_Chassis := [ ar_half_tracked ] ;
28684: LD_ADDR_LOC 25
28688: PUSH
28689: LD_INT 14
28691: PUSH
28692: EMPTY
28693: LIST
28694: ST_TO_ADDR
// Banned_Controls := [ ] ;
28695: LD_ADDR_LOC 26
28699: PUSH
28700: EMPTY
28701: ST_TO_ADDR
// Banned_Engines := [ ] ;
28702: LD_ADDR_LOC 27
28706: PUSH
28707: EMPTY
28708: ST_TO_ADDR
// Restricted_Builds := [ [ b_Breastwork , b_Bunker ] , [ b_Armoury ] ] ;
28709: LD_ADDR_LOC 22
28713: PUSH
28714: LD_INT 31
28716: PUSH
28717: LD_INT 32
28719: PUSH
28720: EMPTY
28721: LIST
28722: LIST
28723: PUSH
28724: LD_INT 4
28726: PUSH
28727: EMPTY
28728: LIST
28729: PUSH
28730: EMPTY
28731: LIST
28732: LIST
28733: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
28734: LD_EXP 1
28738: PUSH
28739: LD_EXP 3
28743: PUSH
28744: LD_EXP 4
28748: ADD
28749: IN
28750: IFFALSE 28769
// Restricted_Builds_Amount := [ 4 , 2 ] else
28752: LD_ADDR_LOC 23
28756: PUSH
28757: LD_INT 4
28759: PUSH
28760: LD_INT 2
28762: PUSH
28763: EMPTY
28764: LIST
28765: LIST
28766: ST_TO_ADDR
28767: GO 28784
// Restricted_Builds_Amount := [ 2 , 1 ] ;
28769: LD_ADDR_LOC 23
28773: PUSH
28774: LD_INT 2
28776: PUSH
28777: LD_INT 1
28779: PUSH
28780: EMPTY
28781: LIST
28782: LIST
28783: ST_TO_ADDR
// for i := 1 to 8 do
28784: LD_ADDR_VAR 0 4
28788: PUSH
28789: DOUBLE
28790: LD_INT 1
28792: DEC
28793: ST_TO_ADDR
28794: LD_INT 8
28796: PUSH
28797: FOR_TO
28798: IFFALSE 28849
// if ( Side_Nations [ i ] = 3 ) then
28800: LD_EXP 76
28804: PUSH
28805: LD_VAR 0 4
28809: ARRAY
28810: PUSH
28811: LD_INT 3
28813: EQUAL
28814: IFFALSE 28847
// Side_Nations := Replace ( Side_Nations , i , Rand ( 1 , 2 ) ) ;
28816: LD_ADDR_EXP 76
28820: PUSH
28821: LD_EXP 76
28825: PPUSH
28826: LD_VAR 0 4
28830: PPUSH
28831: LD_INT 1
28833: PPUSH
28834: LD_INT 2
28836: PPUSH
28837: CALL_OW 12
28841: PPUSH
28842: CALL_OW 1
28846: ST_TO_ADDR
28847: GO 28797
28849: POP
28850: POP
// end ; end ;
28851: GO 28854
28853: POP
// for i := 1 to 8 do
28854: LD_ADDR_VAR 0 4
28858: PUSH
28859: DOUBLE
28860: LD_INT 1
28862: DEC
28863: ST_TO_ADDR
28864: LD_INT 8
28866: PUSH
28867: FOR_TO
28868: IFFALSE 28952
// if Side_Positions [ i ] then
28870: LD_EXP 75
28874: PUSH
28875: LD_VAR 0 4
28879: ARRAY
28880: IFFALSE 28950
// begin for j in Unavailable_Techs do
28882: LD_ADDR_VAR 0 5
28886: PUSH
28887: LD_VAR 0 2
28891: PUSH
28892: FOR_IN
28893: IFFALSE 28914
// SetTech ( j , i , 0 ) ;
28895: LD_VAR 0 5
28899: PPUSH
28900: LD_VAR 0 4
28904: PPUSH
28905: LD_INT 0
28907: PPUSH
28908: CALL_OW 322
28912: GO 28892
28914: POP
28915: POP
// for j in Unavailable_Builds do
28916: LD_ADDR_VAR 0 5
28920: PUSH
28921: LD_VAR 0 3
28925: PUSH
28926: FOR_IN
28927: IFFALSE 28948
// SetRestrict ( j , i , 0 ) ;
28929: LD_VAR 0 5
28933: PPUSH
28934: LD_VAR 0 4
28938: PPUSH
28939: LD_INT 0
28941: PPUSH
28942: CALL_OW 324
28946: GO 28926
28948: POP
28949: POP
// end ;
28950: GO 28867
28952: POP
28953: POP
// end ;
28954: LD_VAR 0 1
28958: RET
// export function InitLimits ; var i , j , k , amount , btype , list ; begin
28959: LD_INT 0
28961: PPUSH
28962: PPUSH
28963: PPUSH
28964: PPUSH
28965: PPUSH
28966: PPUSH
28967: PPUSH
// for i := 1 to Restricted_Builds do
28968: LD_ADDR_VAR 0 2
28972: PUSH
28973: DOUBLE
28974: LD_INT 1
28976: DEC
28977: ST_TO_ADDR
28978: LD_LOC 22
28982: PUSH
28983: FOR_TO
28984: IFFALSE 29294
// begin case Restricted_Builds [ i ] [ 1 ] of b_Breastwork , b_Bunker , b_Turret :
28986: LD_LOC 22
28990: PUSH
28991: LD_VAR 0 2
28995: ARRAY
28996: PUSH
28997: LD_INT 1
28999: ARRAY
29000: PUSH
29001: LD_INT 31
29003: DOUBLE
29004: EQUAL
29005: IFTRUE 29021
29007: LD_INT 32
29009: DOUBLE
29010: EQUAL
29011: IFTRUE 29021
29013: LD_INT 33
29015: DOUBLE
29016: EQUAL
29017: IFTRUE 29021
29019: GO 29032
29021: POP
// btype := #Turrets ; b_Armoury , b_Barracks :
29022: LD_ADDR_VAR 0 6
29026: PUSH
29027: LD_STRING #Turrets
29029: ST_TO_ADDR
29030: GO 29077
29032: LD_INT 4
29034: DOUBLE
29035: EQUAL
29036: IFTRUE 29046
29038: LD_INT 5
29040: DOUBLE
29041: EQUAL
29042: IFTRUE 29046
29044: GO 29057
29046: POP
// btype := #Armouries ; b_Behemoth :
29047: LD_ADDR_VAR 0 6
29051: PUSH
29052: LD_STRING #Armouries
29054: ST_TO_ADDR
29055: GO 29077
29057: LD_INT 37
29059: DOUBLE
29060: EQUAL
29061: IFTRUE 29065
29063: GO 29076
29065: POP
// btype := #Behemoths ; end ;
29066: LD_ADDR_VAR 0 6
29070: PUSH
29071: LD_STRING #Behemoths
29073: ST_TO_ADDR
29074: GO 29077
29076: POP
// list := [ ] ;
29077: LD_ADDR_VAR 0 7
29081: PUSH
29082: EMPTY
29083: ST_TO_ADDR
// for j := 1 to 8 do
29084: LD_ADDR_VAR 0 3
29088: PUSH
29089: DOUBLE
29090: LD_INT 1
29092: DEC
29093: ST_TO_ADDR
29094: LD_INT 8
29096: PUSH
29097: FOR_TO
29098: IFFALSE 29191
// if Side_Positions [ j ] then
29100: LD_EXP 75
29104: PUSH
29105: LD_VAR 0 3
29109: ARRAY
29110: IFFALSE 29189
// begin amount := 0 ;
29112: LD_ADDR_VAR 0 5
29116: PUSH
29117: LD_INT 0
29119: ST_TO_ADDR
// for k in Restricted_Builds [ i ] do
29120: LD_ADDR_VAR 0 4
29124: PUSH
29125: LD_LOC 22
29129: PUSH
29130: LD_VAR 0 2
29134: ARRAY
29135: PUSH
29136: FOR_IN
29137: IFFALSE 29185
// amount := amount + FilterAllUnits ( [ [ f_side , j ] , [ f_btype , k ] ] ) ;
29139: LD_ADDR_VAR 0 5
29143: PUSH
29144: LD_VAR 0 5
29148: PUSH
29149: LD_INT 22
29151: PUSH
29152: LD_VAR 0 3
29156: PUSH
29157: EMPTY
29158: LIST
29159: LIST
29160: PUSH
29161: LD_INT 30
29163: PUSH
29164: LD_VAR 0 4
29168: PUSH
29169: EMPTY
29170: LIST
29171: LIST
29172: PUSH
29173: EMPTY
29174: LIST
29175: LIST
29176: PPUSH
29177: CALL_OW 69
29181: PLUS
29182: ST_TO_ADDR
29183: GO 29136
29185: POP
29186: POP
// continue ;
29187: GO 29097
// end ;
29189: GO 29097
29191: POP
29192: POP
// list := [ ] ;
29193: LD_ADDR_VAR 0 7
29197: PUSH
29198: EMPTY
29199: ST_TO_ADDR
// for j := 1 to 8 do
29200: LD_ADDR_VAR 0 3
29204: PUSH
29205: DOUBLE
29206: LD_INT 1
29208: DEC
29209: ST_TO_ADDR
29210: LD_INT 8
29212: PUSH
29213: FOR_TO
29214: IFFALSE 29234
// list := list ^ amount ;
29216: LD_ADDR_VAR 0 7
29220: PUSH
29221: LD_VAR 0 7
29225: PUSH
29226: LD_VAR 0 5
29230: ADD
29231: ST_TO_ADDR
29232: GO 29213
29234: POP
29235: POP
// Already_Built := Already_Built ^ [ list ] ;
29236: LD_ADDR_LOC 28
29240: PUSH
29241: LD_LOC 28
29245: PUSH
29246: LD_VAR 0 7
29250: PUSH
29251: EMPTY
29252: LIST
29253: ADD
29254: ST_TO_ADDR
// Limits_Info := Limits_Info ^ [ btype , amount , Restricted_Builds_Amount [ i ] ] ;
29255: LD_ADDR_LOC 29
29259: PUSH
29260: LD_LOC 29
29264: PUSH
29265: LD_VAR 0 6
29269: PUSH
29270: LD_VAR 0 5
29274: PUSH
29275: LD_LOC 23
29279: PUSH
29280: LD_VAR 0 2
29284: ARRAY
29285: PUSH
29286: EMPTY
29287: LIST
29288: LIST
29289: LIST
29290: ADD
29291: ST_TO_ADDR
// end ;
29292: GO 28983
29294: POP
29295: POP
// Cheaters := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
29296: LD_ADDR_LOC 30
29300: PUSH
29301: LD_INT 0
29303: PUSH
29304: LD_INT 0
29306: PUSH
29307: LD_INT 0
29309: PUSH
29310: LD_INT 0
29312: PUSH
29313: LD_INT 0
29315: PUSH
29316: LD_INT 0
29318: PUSH
29319: LD_INT 0
29321: PUSH
29322: LD_INT 0
29324: PUSH
29325: EMPTY
29326: LIST
29327: LIST
29328: LIST
29329: LIST
29330: LIST
29331: LIST
29332: LIST
29333: LIST
29334: ST_TO_ADDR
// if Limits_Info then
29335: LD_LOC 29
29339: IFFALSE 29355
// Limits_Info := #Limits ^ Limits_Info ;
29341: LD_ADDR_LOC 29
29345: PUSH
29346: LD_STRING #Limits
29348: PUSH
29349: LD_LOC 29
29353: ADD
29354: ST_TO_ADDR
// end ;
29355: LD_VAR 0 1
29359: RET
// export function ExecuteLimits ( un , BType , side , old_side , count ) ; var i , j , Is_Cheater ; begin
29360: LD_INT 0
29362: PPUSH
29363: PPUSH
29364: PPUSH
29365: PPUSH
// for i := 1 to Restricted_Builds do
29366: LD_ADDR_VAR 0 7
29370: PUSH
29371: DOUBLE
29372: LD_INT 1
29374: DEC
29375: ST_TO_ADDR
29376: LD_LOC 22
29380: PUSH
29381: FOR_TO
29382: IFFALSE 29805
// if BType in Restricted_Builds [ i ] then
29384: LD_VAR 0 2
29388: PUSH
29389: LD_LOC 22
29393: PUSH
29394: LD_VAR 0 7
29398: ARRAY
29399: IN
29400: IFFALSE 29803
// begin if old_side then
29402: LD_VAR 0 4
29406: IFFALSE 29532
// if Already_Built [ i ] [ side ] + count > Restricted_Builds_Amount [ i ] then
29408: LD_LOC 28
29412: PUSH
29413: LD_VAR 0 7
29417: ARRAY
29418: PUSH
29419: LD_VAR 0 3
29423: ARRAY
29424: PUSH
29425: LD_VAR 0 5
29429: PLUS
29430: PUSH
29431: LD_LOC 23
29435: PUSH
29436: LD_VAR 0 7
29440: ARRAY
29441: GREATER
29442: IFFALSE 29468
// begin SetSide ( un , old_side ) ;
29444: LD_VAR 0 1
29448: PPUSH
29449: LD_VAR 0 4
29453: PPUSH
29454: CALL_OW 235
// count := 0 ;
29458: LD_ADDR_VAR 0 5
29462: PUSH
29463: LD_INT 0
29465: ST_TO_ADDR
// end else
29466: GO 29532
// Already_Built := Replace ( Already_Built , i , Replace ( Already_Built [ i ] , old_side , Already_Built [ i ] [ old_side ] - count ) ) ;
29468: LD_ADDR_LOC 28
29472: PUSH
29473: LD_LOC 28
29477: PPUSH
29478: LD_VAR 0 7
29482: PPUSH
29483: LD_LOC 28
29487: PUSH
29488: LD_VAR 0 7
29492: ARRAY
29493: PPUSH
29494: LD_VAR 0 4
29498: PPUSH
29499: LD_LOC 28
29503: PUSH
29504: LD_VAR 0 7
29508: ARRAY
29509: PUSH
29510: LD_VAR 0 4
29514: ARRAY
29515: PUSH
29516: LD_VAR 0 5
29520: MINUS
29521: PPUSH
29522: CALL_OW 1
29526: PPUSH
29527: CALL_OW 1
29531: ST_TO_ADDR
// Already_Built := Replace ( Already_Built , i , Replace ( Already_Built [ i ] , side , Already_Built [ i ] [ side ] + count ) ) ;
29532: LD_ADDR_LOC 28
29536: PUSH
29537: LD_LOC 28
29541: PPUSH
29542: LD_VAR 0 7
29546: PPUSH
29547: LD_LOC 28
29551: PUSH
29552: LD_VAR 0 7
29556: ARRAY
29557: PPUSH
29558: LD_VAR 0 3
29562: PPUSH
29563: LD_LOC 28
29567: PUSH
29568: LD_VAR 0 7
29572: ARRAY
29573: PUSH
29574: LD_VAR 0 3
29578: ARRAY
29579: PUSH
29580: LD_VAR 0 5
29584: PLUS
29585: PPUSH
29586: CALL_OW 1
29590: PPUSH
29591: CALL_OW 1
29595: ST_TO_ADDR
// if count <> 0 and ( side = your_side ) then
29596: LD_VAR 0 5
29600: PUSH
29601: LD_INT 0
29603: NONEQUAL
29604: PUSH
29605: LD_VAR 0 3
29609: PUSH
29610: LD_OWVAR 2
29614: EQUAL
29615: AND
29616: IFFALSE 29659
// Limits_Info := Replace ( Limits_Info , 3 * i , Already_Built [ i ] [ side ] ) ;
29618: LD_ADDR_LOC 29
29622: PUSH
29623: LD_LOC 29
29627: PPUSH
29628: LD_INT 3
29630: PUSH
29631: LD_VAR 0 7
29635: MUL
29636: PPUSH
29637: LD_LOC 28
29641: PUSH
29642: LD_VAR 0 7
29646: ARRAY
29647: PUSH
29648: LD_VAR 0 3
29652: ARRAY
29653: PPUSH
29654: CALL_OW 1
29658: ST_TO_ADDR
// if Already_Built [ i ] [ side ] > Restricted_Builds_Amount [ i ] then
29659: LD_LOC 28
29663: PUSH
29664: LD_VAR 0 7
29668: ARRAY
29669: PUSH
29670: LD_VAR 0 3
29674: ARRAY
29675: PUSH
29676: LD_LOC 23
29680: PUSH
29681: LD_VAR 0 7
29685: ARRAY
29686: GREATER
29687: IFFALSE 29714
// begin Cheaters := Replace ( Cheaters , side , 1 ) ;
29689: LD_ADDR_LOC 30
29693: PUSH
29694: LD_LOC 30
29698: PPUSH
29699: LD_VAR 0 3
29703: PPUSH
29704: LD_INT 1
29706: PPUSH
29707: CALL_OW 1
29711: ST_TO_ADDR
// end else
29712: GO 29801
// begin for j := 1 to Restricted_Builds do
29714: LD_ADDR_VAR 0 8
29718: PUSH
29719: DOUBLE
29720: LD_INT 1
29722: DEC
29723: ST_TO_ADDR
29724: LD_LOC 22
29728: PUSH
29729: FOR_TO
29730: IFFALSE 29774
// if Already_Built [ j ] [ side ] > Restricted_Builds_Amount [ j ] then
29732: LD_LOC 28
29736: PUSH
29737: LD_VAR 0 8
29741: ARRAY
29742: PUSH
29743: LD_VAR 0 3
29747: ARRAY
29748: PUSH
29749: LD_LOC 23
29753: PUSH
29754: LD_VAR 0 8
29758: ARRAY
29759: GREATER
29760: IFFALSE 29772
// begin Is_Cheater := true ;
29762: LD_ADDR_VAR 0 9
29766: PUSH
29767: LD_INT 1
29769: ST_TO_ADDR
// break ;
29770: GO 29774
// end ;
29772: GO 29729
29774: POP
29775: POP
// Cheaters := Replace ( Cheaters , side , Is_Cheater ) ;
29776: LD_ADDR_LOC 30
29780: PUSH
29781: LD_LOC 30
29785: PPUSH
29786: LD_VAR 0 3
29790: PPUSH
29791: LD_VAR 0 9
29795: PPUSH
29796: CALL_OW 1
29800: ST_TO_ADDR
// end ; break ;
29801: GO 29805
// end ;
29803: GO 29381
29805: POP
29806: POP
// end ;
29807: LD_VAR 0 6
29811: RET
// export function RestrictVehicleConstructionStarted ( factory , chassis , engine , control , weapon ) ; begin
29812: LD_INT 0
29814: PPUSH
// if ( weapon in Banned_Weapons ) or ( chassis in Banned_Chassis ) or ( control in Banned_Controls ) or ( engine in Banned_Engines ) then
29815: LD_VAR 0 5
29819: PUSH
29820: LD_LOC 24
29824: IN
29825: PUSH
29826: LD_VAR 0 2
29830: PUSH
29831: LD_LOC 25
29835: IN
29836: OR
29837: PUSH
29838: LD_VAR 0 4
29842: PUSH
29843: LD_LOC 26
29847: IN
29848: OR
29849: PUSH
29850: LD_VAR 0 3
29854: PUSH
29855: LD_LOC 27
29859: IN
29860: OR
29861: IFFALSE 29872
// ComCancel ( factory ) ;
29863: LD_VAR 0 1
29867: PPUSH
29868: CALL_OW 127
// end ;
29872: LD_VAR 0 6
29876: RET
// export function RestrictWeaponPlaced ( building , weapon ) ; begin
29877: LD_INT 0
29879: PPUSH
// if ( weapon in Banned_Weapons ) then
29880: LD_VAR 0 2
29884: PUSH
29885: LD_LOC 24
29889: IN
29890: IFFALSE 29901
// ComCancel ( building ) ;
29892: LD_VAR 0 1
29896: PPUSH
29897: CALL_OW 127
// end ;
29901: LD_VAR 0 3
29905: RET
// export function RestrictBuildingStarted ( building , builder ) ; var i , BType , b , side , count , k ; begin
29906: LD_INT 0
29908: PPUSH
29909: PPUSH
29910: PPUSH
29911: PPUSH
29912: PPUSH
29913: PPUSH
29914: PPUSH
// count = 0 ;
29915: LD_ADDR_VAR 0 8
29919: PUSH
29920: LD_INT 0
29922: ST_TO_ADDR
// BType = GetBType ( Building ) ;
29923: LD_ADDR_VAR 0 5
29927: PUSH
29928: LD_VAR 0 1
29932: PPUSH
29933: CALL_OW 266
29937: ST_TO_ADDR
// side = GetSide ( Building ) ;
29938: LD_ADDR_VAR 0 7
29942: PUSH
29943: LD_VAR 0 1
29947: PPUSH
29948: CALL_OW 255
29952: ST_TO_ADDR
// for i := 1 to Restricted_Builds do
29953: LD_ADDR_VAR 0 4
29957: PUSH
29958: DOUBLE
29959: LD_INT 1
29961: DEC
29962: ST_TO_ADDR
29963: LD_LOC 22
29967: PUSH
29968: FOR_TO
29969: IFFALSE 30112
// begin if BType in Restricted_Builds [ i ] then
29971: LD_VAR 0 5
29975: PUSH
29976: LD_LOC 22
29980: PUSH
29981: LD_VAR 0 4
29985: ARRAY
29986: IN
29987: IFFALSE 30079
// for k in Restricted_Builds [ i ] do
29989: LD_ADDR_VAR 0 9
29993: PUSH
29994: LD_LOC 22
29998: PUSH
29999: LD_VAR 0 4
30003: ARRAY
30004: PUSH
30005: FOR_IN
30006: IFFALSE 30077
// begin b = FilterAllunits ( [ [ f_side , side ] , [ f_type , building ] , [ f_btype , k ] ] ) ;
30008: LD_ADDR_VAR 0 6
30012: PUSH
30013: LD_INT 22
30015: PUSH
30016: LD_VAR 0 7
30020: PUSH
30021: EMPTY
30022: LIST
30023: LIST
30024: PUSH
30025: LD_INT 21
30027: PUSH
30028: LD_VAR 0 1
30032: PUSH
30033: EMPTY
30034: LIST
30035: LIST
30036: PUSH
30037: LD_INT 30
30039: PUSH
30040: LD_VAR 0 9
30044: PUSH
30045: EMPTY
30046: LIST
30047: LIST
30048: PUSH
30049: EMPTY
30050: LIST
30051: LIST
30052: LIST
30053: PPUSH
30054: CALL_OW 69
30058: ST_TO_ADDR
// count = count + b ;
30059: LD_ADDR_VAR 0 8
30063: PUSH
30064: LD_VAR 0 8
30068: PUSH
30069: LD_VAR 0 6
30073: PLUS
30074: ST_TO_ADDR
// end ;
30075: GO 30005
30077: POP
30078: POP
// if count + 0 > Restricted_Builds_Amount [ i ] then
30079: LD_VAR 0 8
30083: PUSH
30084: LD_INT 0
30086: PLUS
30087: PUSH
30088: LD_LOC 23
30092: PUSH
30093: LD_VAR 0 4
30097: ARRAY
30098: GREATER
30099: IFFALSE 30110
// DestroyUnit ( building ) ;
30101: LD_VAR 0 1
30105: PPUSH
30106: CALL_OW 65
// end ;
30110: GO 29968
30112: POP
30113: POP
// end ;
30114: LD_VAR 0 3
30118: RET
// export function CallExecuteLimits ( j ) ; begin
30119: LD_INT 0
30121: PPUSH
// if ( GetType ( j ) = 3 ) then
30122: LD_VAR 0 1
30126: PPUSH
30127: CALL_OW 247
30131: PUSH
30132: LD_INT 3
30134: EQUAL
30135: IFFALSE 30175
// ExecuteLimits ( j , GetBType ( j ) , GetSide ( j ) , 0 , - 1 ) else
30137: LD_VAR 0 1
30141: PPUSH
30142: LD_VAR 0 1
30146: PPUSH
30147: CALL_OW 266
30151: PPUSH
30152: LD_VAR 0 1
30156: PPUSH
30157: CALL_OW 255
30161: PPUSH
30162: LD_INT 0
30164: PPUSH
30165: LD_INT 1
30167: NEG
30168: PPUSH
30169: CALL 29360 0 5
30173: GO 30219
// if ( GetChassis ( j ) = 25 ) then
30175: LD_VAR 0 1
30179: PPUSH
30180: CALL_OW 265
30184: PUSH
30185: LD_INT 25
30187: EQUAL
30188: IFFALSE 30219
// ExecuteLimits ( j , b_behemoth , GetSide ( j ) , 0 , - 1 ) ;
30190: LD_VAR 0 1
30194: PPUSH
30195: LD_INT 37
30197: PPUSH
30198: LD_VAR 0 1
30202: PPUSH
30203: CALL_OW 255
30207: PPUSH
30208: LD_INT 0
30210: PPUSH
30211: LD_INT 1
30213: NEG
30214: PPUSH
30215: CALL 29360 0 5
// end ; end_of_file
30219: LD_VAR 0 2
30223: RET
// var FLAGY ; export FLAGY_AREA ; export FLAGY_XY ; export FLAGY_AREA1 ; var teams_p ; var WFT_Goal ; export WFT_Points_MP ; var WFT_FlagOnTop ; var WFT_FlagHeight ; export function Init_WarForTerritory ; var flag , i , p ; begin
30224: LD_INT 0
30226: PPUSH
30227: PPUSH
30228: PPUSH
30229: PPUSH
// if not def_WarForTerritory then
30230: LD_EXP 36
30234: NOT
30235: IFFALSE 30239
// exit ;
30237: GO 30579
// FLAGY = [ ] ;
30239: LD_ADDR_LOC 31
30243: PUSH
30244: EMPTY
30245: ST_TO_ADDR
// WFT_FlagOnTop = [ ] ;
30246: LD_ADDR_LOC 34
30250: PUSH
30251: EMPTY
30252: ST_TO_ADDR
// WFT_FlagHeight = [ ] ;
30253: LD_ADDR_LOC 35
30257: PUSH
30258: EMPTY
30259: ST_TO_ADDR
// teams_p = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
30260: LD_ADDR_LOC 32
30264: PUSH
30265: LD_INT 0
30267: PUSH
30268: LD_INT 0
30270: PUSH
30271: LD_INT 0
30273: PUSH
30274: LD_INT 0
30276: PUSH
30277: LD_INT 0
30279: PUSH
30280: LD_INT 0
30282: PUSH
30283: LD_INT 0
30285: PUSH
30286: LD_INT 0
30288: PUSH
30289: EMPTY
30290: LIST
30291: LIST
30292: LIST
30293: LIST
30294: LIST
30295: LIST
30296: LIST
30297: LIST
30298: ST_TO_ADDR
// for i = 1 to FLAGY_AREA do
30299: LD_ADDR_VAR 0 3
30303: PUSH
30304: DOUBLE
30305: LD_INT 1
30307: DEC
30308: ST_TO_ADDR
30309: LD_EXP 118
30313: PUSH
30314: FOR_TO
30315: IFFALSE 30408
// begin flag = SetBattleFlag ( 0 , FLAGY_XY [ i ] [ 1 ] , FLAGY_XY [ i ] [ 2 ] , [ ] ) ;
30317: LD_ADDR_VAR 0 2
30321: PUSH
30322: LD_INT 0
30324: PPUSH
30325: LD_EXP 119
30329: PUSH
30330: LD_VAR 0 3
30334: ARRAY
30335: PUSH
30336: LD_INT 1
30338: ARRAY
30339: PPUSH
30340: LD_EXP 119
30344: PUSH
30345: LD_VAR 0 3
30349: ARRAY
30350: PUSH
30351: LD_INT 2
30353: ARRAY
30354: PPUSH
30355: EMPTY
30356: PPUSH
30357: CALL_OW 418
30361: ST_TO_ADDR
// FLAGY = FLAGY ^ flag ;
30362: LD_ADDR_LOC 31
30366: PUSH
30367: LD_LOC 31
30371: PUSH
30372: LD_VAR 0 2
30376: ADD
30377: ST_TO_ADDR
// WFT_FlagOnTop = WFT_FlagOnTop ^ true ;
30378: LD_ADDR_LOC 34
30382: PUSH
30383: LD_LOC 34
30387: PUSH
30388: LD_INT 1
30390: ADD
30391: ST_TO_ADDR
// WFT_FlagHeight = WFT_FlagHeight ^ 100 ;
30392: LD_ADDR_LOC 35
30396: PUSH
30397: LD_LOC 35
30401: PUSH
30402: LD_INT 100
30404: ADD
30405: ST_TO_ADDR
// end ;
30406: GO 30314
30408: POP
30409: POP
// if WarForTerritory_Flags then
30410: LD_EXP 65
30414: IFFALSE 30428
// WFT_Goal = WarForTerritory_Flags else
30416: LD_ADDR_LOC 33
30420: PUSH
30421: LD_EXP 65
30425: ST_TO_ADDR
30426: GO 30438
// WFT_Goal = WarForTerritory_Points ;
30428: LD_ADDR_LOC 33
30432: PUSH
30433: LD_EXP 64
30437: ST_TO_ADDR
// for i = 1 to flagy_area do
30438: LD_ADDR_VAR 0 3
30442: PUSH
30443: DOUBLE
30444: LD_INT 1
30446: DEC
30447: ST_TO_ADDR
30448: LD_EXP 118
30452: PUSH
30453: FOR_TO
30454: IFFALSE 30556
// begin SetAreaMapShow ( flagy_area [ i ] , 1 ) ;
30456: LD_EXP 118
30460: PUSH
30461: LD_VAR 0 3
30465: ARRAY
30466: PPUSH
30467: LD_INT 1
30469: PPUSH
30470: CALL_OW 424
// SetAreaMapShow ( flagy_area1 [ i ] , 5 ) ;
30474: LD_EXP 120
30478: PUSH
30479: LD_VAR 0 3
30483: ARRAY
30484: PPUSH
30485: LD_INT 5
30487: PPUSH
30488: CALL_OW 424
// for p = 1 to 8 do
30492: LD_ADDR_VAR 0 4
30496: PUSH
30497: DOUBLE
30498: LD_INT 1
30500: DEC
30501: ST_TO_ADDR
30502: LD_INT 8
30504: PUSH
30505: FOR_TO
30506: IFFALSE 30552
// PlaceSeeing ( flagy_xy [ i ] [ 1 ] , flagy_xy [ i ] [ 2 ] , p , 1 ) ;
30508: LD_EXP 119
30512: PUSH
30513: LD_VAR 0 3
30517: ARRAY
30518: PUSH
30519: LD_INT 1
30521: ARRAY
30522: PPUSH
30523: LD_EXP 119
30527: PUSH
30528: LD_VAR 0 3
30532: ARRAY
30533: PUSH
30534: LD_INT 2
30536: ARRAY
30537: PPUSH
30538: LD_VAR 0 4
30542: PPUSH
30543: LD_INT 1
30545: PPUSH
30546: CALL_OW 330
30550: GO 30505
30552: POP
30553: POP
// end ;
30554: GO 30453
30556: POP
30557: POP
// if WFT_Points_MP < 1 then
30558: LD_EXP 121
30562: PUSH
30563: LD_INT 1
30565: LESS
30566: IFFALSE 30576
// WFT_Points_MP = 1 ;
30568: LD_ADDR_EXP 121
30572: PUSH
30573: LD_INT 1
30575: ST_TO_ADDR
// enable ( 60 ) ;
30576: LD_INT 60
30578: ENABLE_MARKED
// end ;
30579: LD_VAR 0 1
30583: RET
// every 0 0$1 marked 60 do var i , p , pom , pom1 ; var side , sideNumber , flagSide ;
30584: GO 30586
30586: DISABLE
30587: LD_INT 0
30589: PPUSH
30590: PPUSH
30591: PPUSH
30592: PPUSH
30593: PPUSH
30594: PPUSH
30595: PPUSH
// begin zkontroluj_body ;
30596: CALL 31895 0 0
// for i := 1 to flagy + 0 do
30600: LD_ADDR_VAR 0 1
30604: PUSH
30605: DOUBLE
30606: LD_INT 1
30608: DEC
30609: ST_TO_ADDR
30610: LD_LOC 31
30614: PUSH
30615: LD_INT 0
30617: PLUS
30618: PUSH
30619: FOR_TO
30620: IFFALSE 31372
// begin sideNumber = 0 ;
30622: LD_ADDR_VAR 0 6
30626: PUSH
30627: LD_INT 0
30629: ST_TO_ADDR
// for p = 1 to 8 do
30630: LD_ADDR_VAR 0 2
30634: PUSH
30635: DOUBLE
30636: LD_INT 1
30638: DEC
30639: ST_TO_ADDR
30640: LD_INT 8
30642: PUSH
30643: FOR_TO
30644: IFFALSE 30724
// begin pom = FilterUnitsInArea ( FLAGY_AREA1 [ i ] , [ f_side , p ] ) ;
30646: LD_ADDR_VAR 0 3
30650: PUSH
30651: LD_EXP 120
30655: PUSH
30656: LD_VAR 0 1
30660: ARRAY
30661: PPUSH
30662: LD_INT 22
30664: PUSH
30665: LD_VAR 0 2
30669: PUSH
30670: EMPTY
30671: LIST
30672: LIST
30673: PPUSH
30674: CALL_OW 70
30678: ST_TO_ADDR
// if pom > 0 then
30679: LD_VAR 0 3
30683: PUSH
30684: LD_INT 0
30686: GREATER
30687: IFFALSE 30722
// begin side = getSide ( pom [ 1 ] ) ;
30689: LD_ADDR_VAR 0 5
30693: PUSH
30694: LD_VAR 0 3
30698: PUSH
30699: LD_INT 1
30701: ARRAY
30702: PPUSH
30703: CALL_OW 255
30707: ST_TO_ADDR
// sideNumber = sideNumber + 1 ;
30708: LD_ADDR_VAR 0 6
30712: PUSH
30713: LD_VAR 0 6
30717: PUSH
30718: LD_INT 1
30720: PLUS
30721: ST_TO_ADDR
// end ; end ;
30722: GO 30643
30724: POP
30725: POP
// if sideNumber = 1 then
30726: LD_VAR 0 6
30730: PUSH
30731: LD_INT 1
30733: EQUAL
30734: IFFALSE 31011
// begin flagSide = getBattleFlagSide ( FLAGY [ i ] ) ;
30736: LD_ADDR_VAR 0 7
30740: PUSH
30741: LD_LOC 31
30745: PUSH
30746: LD_VAR 0 1
30750: ARRAY
30751: PPUSH
30752: CALL_OW 421
30756: ST_TO_ADDR
// if flagSide = side then
30757: LD_VAR 0 7
30761: PUSH
30762: LD_VAR 0 5
30766: EQUAL
30767: IFFALSE 30883
// begin if WFT_FlagHeight [ i ] < 100 then
30769: LD_LOC 35
30773: PUSH
30774: LD_VAR 0 1
30778: ARRAY
30779: PUSH
30780: LD_INT 100
30782: LESS
30783: IFFALSE 30858
// begin WFT_FlagHeight = replace ( WFT_FlagHeight , i , WFT_FlagHeight [ i ] + 10 ) ;
30785: LD_ADDR_LOC 35
30789: PUSH
30790: LD_LOC 35
30794: PPUSH
30795: LD_VAR 0 1
30799: PPUSH
30800: LD_LOC 35
30804: PUSH
30805: LD_VAR 0 1
30809: ARRAY
30810: PUSH
30811: LD_INT 10
30813: PLUS
30814: PPUSH
30815: CALL_OW 1
30819: ST_TO_ADDR
// ChangeBattleFlagOptions ( FLAGY [ i ] , [ [ bfo_height , WFT_FlagHeight [ i ] ] ] ) ;
30820: LD_LOC 31
30824: PUSH
30825: LD_VAR 0 1
30829: ARRAY
30830: PPUSH
30831: LD_INT 20
30833: PUSH
30834: LD_LOC 35
30838: PUSH
30839: LD_VAR 0 1
30843: ARRAY
30844: PUSH
30845: EMPTY
30846: LIST
30847: LIST
30848: PUSH
30849: EMPTY
30850: LIST
30851: PPUSH
30852: CALL_OW 423
// end else
30856: GO 30881
// WFT_FlagOnTop = replace ( WFT_FlagOnTop , i , true ) ;
30858: LD_ADDR_LOC 34
30862: PUSH
30863: LD_LOC 34
30867: PPUSH
30868: LD_VAR 0 1
30872: PPUSH
30873: LD_INT 1
30875: PPUSH
30876: CALL_OW 1
30880: ST_TO_ADDR
// end else
30881: GO 31009
// begin if WFT_FlagHeight [ i ] > 0 then
30883: LD_LOC 35
30887: PUSH
30888: LD_VAR 0 1
30892: ARRAY
30893: PUSH
30894: LD_INT 0
30896: GREATER
30897: IFFALSE 30972
// begin WFT_FlagHeight = replace ( WFT_FlagHeight , i , WFT_FlagHeight [ i ] - 10 ) ;
30899: LD_ADDR_LOC 35
30903: PUSH
30904: LD_LOC 35
30908: PPUSH
30909: LD_VAR 0 1
30913: PPUSH
30914: LD_LOC 35
30918: PUSH
30919: LD_VAR 0 1
30923: ARRAY
30924: PUSH
30925: LD_INT 10
30927: MINUS
30928: PPUSH
30929: CALL_OW 1
30933: ST_TO_ADDR
// ChangeBattleFlagOptions ( FLAGY [ i ] , [ [ bfo_height , WFT_FlagHeight [ i ] ] ] ) ;
30934: LD_LOC 31
30938: PUSH
30939: LD_VAR 0 1
30943: ARRAY
30944: PPUSH
30945: LD_INT 20
30947: PUSH
30948: LD_LOC 35
30952: PUSH
30953: LD_VAR 0 1
30957: ARRAY
30958: PUSH
30959: EMPTY
30960: LIST
30961: LIST
30962: PUSH
30963: EMPTY
30964: LIST
30965: PPUSH
30966: CALL_OW 423
// end else
30970: GO 31009
// begin zmen_vlajku ( i , side ) ;
30972: LD_VAR 0 1
30976: PPUSH
30977: LD_VAR 0 5
30981: PPUSH
30982: CALL 31378 0 2
// WFT_FlagOnTop = replace ( WFT_FlagOnTop , i , false ) ;
30986: LD_ADDR_LOC 34
30990: PUSH
30991: LD_LOC 34
30995: PPUSH
30996: LD_VAR 0 1
31000: PPUSH
31001: LD_INT 0
31003: PPUSH
31004: CALL_OW 1
31008: ST_TO_ADDR
// end ; end ; end else
31009: GO 31370
// if sideNumber = 0 then
31011: LD_VAR 0 6
31015: PUSH
31016: LD_INT 0
31018: EQUAL
31019: IFFALSE 31370
// begin if getBattleFlagSide ( FLAGY [ i ] ) <> 0 then
31021: LD_LOC 31
31025: PUSH
31026: LD_VAR 0 1
31030: ARRAY
31031: PPUSH
31032: CALL_OW 421
31036: PUSH
31037: LD_INT 0
31039: NONEQUAL
31040: IFFALSE 31247
// begin if WFT_FlagHeight [ i ] > 0 and WFT_FlagHeight [ i ] < 100 then
31042: LD_LOC 35
31046: PUSH
31047: LD_VAR 0 1
31051: ARRAY
31052: PUSH
31053: LD_INT 0
31055: GREATER
31056: PUSH
31057: LD_LOC 35
31061: PUSH
31062: LD_VAR 0 1
31066: ARRAY
31067: PUSH
31068: LD_INT 100
31070: LESS
31071: AND
31072: IFFALSE 31196
// begin if WFT_FlagOnTop [ i ] then
31074: LD_LOC 34
31078: PUSH
31079: LD_VAR 0 1
31083: ARRAY
31084: IFFALSE 31123
// WFT_FlagHeight = replace ( WFT_FlagHeight , i , WFT_FlagHeight [ i ] + 10 ) else
31086: LD_ADDR_LOC 35
31090: PUSH
31091: LD_LOC 35
31095: PPUSH
31096: LD_VAR 0 1
31100: PPUSH
31101: LD_LOC 35
31105: PUSH
31106: LD_VAR 0 1
31110: ARRAY
31111: PUSH
31112: LD_INT 10
31114: PLUS
31115: PPUSH
31116: CALL_OW 1
31120: ST_TO_ADDR
31121: GO 31158
// WFT_FlagHeight = replace ( WFT_FlagHeight , i , WFT_FlagHeight [ i ] - 10 ) ;
31123: LD_ADDR_LOC 35
31127: PUSH
31128: LD_LOC 35
31132: PPUSH
31133: LD_VAR 0 1
31137: PPUSH
31138: LD_LOC 35
31142: PUSH
31143: LD_VAR 0 1
31147: ARRAY
31148: PUSH
31149: LD_INT 10
31151: MINUS
31152: PPUSH
31153: CALL_OW 1
31157: ST_TO_ADDR
// ChangeBattleFlagOptions ( FLAGY [ i ] , [ [ bfo_height , WFT_FlagHeight [ i ] ] ] ) ;
31158: LD_LOC 31
31162: PUSH
31163: LD_VAR 0 1
31167: ARRAY
31168: PPUSH
31169: LD_INT 20
31171: PUSH
31172: LD_LOC 35
31176: PUSH
31177: LD_VAR 0 1
31181: ARRAY
31182: PUSH
31183: EMPTY
31184: LIST
31185: LIST
31186: PUSH
31187: EMPTY
31188: LIST
31189: PPUSH
31190: CALL_OW 423
// end else
31194: GO 31245
// if WFT_FlagHeight [ i ] = 0 and getBattleFlagSide ( FLAGY [ i ] ) <> 0 then
31196: LD_LOC 35
31200: PUSH
31201: LD_VAR 0 1
31205: ARRAY
31206: PUSH
31207: LD_INT 0
31209: EQUAL
31210: PUSH
31211: LD_LOC 31
31215: PUSH
31216: LD_VAR 0 1
31220: ARRAY
31221: PPUSH
31222: CALL_OW 421
31226: PUSH
31227: LD_INT 0
31229: NONEQUAL
31230: AND
31231: IFFALSE 31245
// zmen_vlajku ( i , 0 ) ;
31233: LD_VAR 0 1
31237: PPUSH
31238: LD_INT 0
31240: PPUSH
31241: CALL 31378 0 2
// end else
31245: GO 31370
// if WFT_FlagHeight [ i ] < 100 then
31247: LD_LOC 35
31251: PUSH
31252: LD_VAR 0 1
31256: ARRAY
31257: PUSH
31258: LD_INT 100
31260: LESS
31261: IFFALSE 31370
// begin if not WFT_FlagOnTop [ i ] then
31263: LD_LOC 34
31267: PUSH
31268: LD_VAR 0 1
31272: ARRAY
31273: NOT
31274: IFFALSE 31299
// WFT_FlagOnTop = replace ( WFT_FlagOnTop , i , true ) ;
31276: LD_ADDR_LOC 34
31280: PUSH
31281: LD_LOC 34
31285: PPUSH
31286: LD_VAR 0 1
31290: PPUSH
31291: LD_INT 1
31293: PPUSH
31294: CALL_OW 1
31298: ST_TO_ADDR
// WFT_FlagHeight = replace ( WFT_FlagHeight , i , WFT_FlagHeight [ i ] + 10 ) ;
31299: LD_ADDR_LOC 35
31303: PUSH
31304: LD_LOC 35
31308: PPUSH
31309: LD_VAR 0 1
31313: PPUSH
31314: LD_LOC 35
31318: PUSH
31319: LD_VAR 0 1
31323: ARRAY
31324: PUSH
31325: LD_INT 10
31327: PLUS
31328: PPUSH
31329: CALL_OW 1
31333: ST_TO_ADDR
// ChangeBattleFlagOptions ( FLAGY [ i ] , [ [ bfo_height , WFT_FlagHeight [ i ] ] ] ) ;
31334: LD_LOC 31
31338: PUSH
31339: LD_VAR 0 1
31343: ARRAY
31344: PPUSH
31345: LD_INT 20
31347: PUSH
31348: LD_LOC 35
31352: PUSH
31353: LD_VAR 0 1
31357: ARRAY
31358: PUSH
31359: EMPTY
31360: LIST
31361: LIST
31362: PUSH
31363: EMPTY
31364: LIST
31365: PPUSH
31366: CALL_OW 423
// end ; end ; end ;
31370: GO 30619
31372: POP
31373: POP
// enable ;
31374: ENABLE
// end ;
31375: PPOPN 7
31377: END
// function zmen_vlajku ( pozice , side ) ; var i ; begin
31378: LD_INT 0
31380: PPUSH
31381: PPUSH
// if FLAGY [ pozice ] and side >= 0 and side <= 8 then
31382: LD_LOC 31
31386: PUSH
31387: LD_VAR 0 1
31391: ARRAY
31392: PUSH
31393: LD_VAR 0 2
31397: PUSH
31398: LD_INT 0
31400: GREATEREQUAL
31401: AND
31402: PUSH
31403: LD_VAR 0 2
31407: PUSH
31408: LD_INT 8
31410: LESSEQUAL
31411: AND
31412: IFFALSE 31434
// changeBattleFlagSide ( FLAGY [ pozice ] , side ) ;
31414: LD_LOC 31
31418: PUSH
31419: LD_VAR 0 1
31423: ARRAY
31424: PPUSH
31425: LD_VAR 0 2
31429: PPUSH
31430: CALL_OW 422
// end ;
31434: LD_VAR 0 3
31438: RET
// export function vloz_na_pozici ( co , cislo , pozice ) ; var ii ; var pom ; begin
31439: LD_INT 0
31441: PPUSH
31442: PPUSH
31443: PPUSH
// pom = [ ] ;
31444: LD_ADDR_VAR 0 6
31448: PUSH
31449: EMPTY
31450: ST_TO_ADDR
// for ii := 1 to pozice do
31451: LD_ADDR_VAR 0 5
31455: PUSH
31456: DOUBLE
31457: LD_INT 1
31459: DEC
31460: ST_TO_ADDR
31461: LD_VAR 0 3
31465: PUSH
31466: FOR_TO
31467: IFFALSE 31523
// if ii <> cislo then
31469: LD_VAR 0 5
31473: PUSH
31474: LD_VAR 0 2
31478: NONEQUAL
31479: IFFALSE 31505
// pom = pom ^ pozice [ ii ] else
31481: LD_ADDR_VAR 0 6
31485: PUSH
31486: LD_VAR 0 6
31490: PUSH
31491: LD_VAR 0 3
31495: PUSH
31496: LD_VAR 0 5
31500: ARRAY
31501: ADD
31502: ST_TO_ADDR
31503: GO 31521
// pom = pom ^ co ;
31505: LD_ADDR_VAR 0 6
31509: PUSH
31510: LD_VAR 0 6
31514: PUSH
31515: LD_VAR 0 1
31519: ADD
31520: ST_TO_ADDR
31521: GO 31466
31523: POP
31524: POP
// result := pom ;
31525: LD_ADDR_VAR 0 4
31529: PUSH
31530: LD_VAR 0 6
31534: ST_TO_ADDR
// end ;
31535: LD_VAR 0 4
31539: RET
// function budovy_ok ( bud ) ; var a ; var i ; begin
31540: LD_INT 0
31542: PPUSH
31543: PPUSH
31544: PPUSH
// a = false ;
31545: LD_ADDR_VAR 0 3
31549: PUSH
31550: LD_INT 0
31552: ST_TO_ADDR
// for i in bud do
31553: LD_ADDR_VAR 0 4
31557: PUSH
31558: LD_VAR 0 1
31562: PUSH
31563: FOR_IN
31564: IFFALSE 31587
// if IsOK ( i ) then
31566: LD_VAR 0 4
31570: PPUSH
31571: CALL_OW 302
31575: IFFALSE 31585
// a = true ;
31577: LD_ADDR_VAR 0 3
31581: PUSH
31582: LD_INT 1
31584: ST_TO_ADDR
31585: GO 31563
31587: POP
31588: POP
// result := a ;
31589: LD_ADDR_VAR 0 2
31593: PUSH
31594: LD_VAR 0 3
31598: ST_TO_ADDR
// end ;
31599: LD_VAR 0 2
31603: RET
// every 0 0$3 marked 60 do var i , j ; var pom , goal , p ;
31604: GO 31606
31606: DISABLE
31607: LD_INT 0
31609: PPUSH
31610: PPUSH
31611: PPUSH
31612: PPUSH
31613: PPUSH
// begin if WarForTerritory_points then
31614: LD_EXP 64
31618: IFFALSE 31642
// goal = WFT_Goal * ( 3 * WFT_Points_MP ) else
31620: LD_ADDR_VAR 0 4
31624: PUSH
31625: LD_LOC 33
31629: PUSH
31630: LD_INT 3
31632: PUSH
31633: LD_EXP 121
31637: MUL
31638: MUL
31639: ST_TO_ADDR
31640: GO 31652
// goal = WFT_goal ;
31642: LD_ADDR_VAR 0 4
31646: PUSH
31647: LD_LOC 33
31651: ST_TO_ADDR
// for i := 1 to teams_p do
31652: LD_ADDR_VAR 0 1
31656: PUSH
31657: DOUBLE
31658: LD_INT 1
31660: DEC
31661: ST_TO_ADDR
31662: LD_LOC 32
31666: PUSH
31667: FOR_TO
31668: IFFALSE 31889
// if teams_p [ i ] >= Goal then
31670: LD_LOC 32
31674: PUSH
31675: LD_VAR 0 1
31679: ARRAY
31680: PUSH
31681: LD_VAR 0 4
31685: GREATEREQUAL
31686: IFFALSE 31887
// begin if not Team_Game then
31688: LD_EXP 80
31692: NOT
31693: IFFALSE 31717
// begin if i = your_side then
31695: LD_VAR 0 1
31699: PUSH
31700: LD_OWVAR 2
31704: EQUAL
31705: IFFALSE 31712
// enable ( 401 ) else
31707: LD_INT 401
31709: ENABLE_MARKED
31710: GO 31715
// enable ( 400 ) ;
31712: LD_INT 400
31714: ENABLE_MARKED
// end else
31715: GO 31737
// if i = Player_Team then
31717: LD_VAR 0 1
31721: PUSH
31722: LD_EXP 71
31726: EQUAL
31727: IFFALSE 31734
// enable ( 401 ) else
31729: LD_INT 401
31731: ENABLE_MARKED
31732: GO 31737
// enable ( 400 ) ;
31734: LD_INT 400
31736: ENABLE_MARKED
// if WarForTerritory_points then
31737: LD_EXP 64
31741: IFFALSE 31815
// begin for p = 1 to side_positions do
31743: LD_ADDR_VAR 0 5
31747: PUSH
31748: DOUBLE
31749: LD_INT 1
31751: DEC
31752: ST_TO_ADDR
31753: LD_EXP 75
31757: PUSH
31758: FOR_TO
31759: IFFALSE 31811
// if Side_Positions [ p ] then
31761: LD_EXP 75
31765: PUSH
31766: LD_VAR 0 5
31770: ARRAY
31771: IFFALSE 31809
// SetSharedMultiScore ( p , GetTag ( p + 20 ) div ( 3 * WFT_points_MP ) , 3 ) ;
31773: LD_VAR 0 5
31777: PPUSH
31778: LD_VAR 0 5
31782: PUSH
31783: LD_INT 20
31785: PLUS
31786: PPUSH
31787: CALL_OW 110
31791: PUSH
31792: LD_INT 3
31794: PUSH
31795: LD_EXP 121
31799: MUL
31800: DIV
31801: PPUSH
31802: LD_INT 3
31804: PPUSH
31805: CALL 35298 0 3
31809: GO 31758
31811: POP
31812: POP
// end else
31813: GO 31879
// for p = 1 to side_positions do
31815: LD_ADDR_VAR 0 5
31819: PUSH
31820: DOUBLE
31821: LD_INT 1
31823: DEC
31824: ST_TO_ADDR
31825: LD_EXP 75
31829: PUSH
31830: FOR_TO
31831: IFFALSE 31877
// if Side_Positions [ p ] then
31833: LD_EXP 75
31837: PUSH
31838: LD_VAR 0 5
31842: ARRAY
31843: IFFALSE 31875
// SetSharedMultiScore ( p , GetTag ( i + 20 ) * 1000 , 3 ) ;
31845: LD_VAR 0 5
31849: PPUSH
31850: LD_VAR 0 1
31854: PUSH
31855: LD_INT 20
31857: PLUS
31858: PPUSH
31859: CALL_OW 110
31863: PUSH
31864: LD_INT 1000
31866: MUL
31867: PPUSH
31868: LD_INT 3
31870: PPUSH
31871: CALL 35298 0 3
31875: GO 31830
31877: POP
31878: POP
// MakeGameEnd ;
31879: CALL 14217 0 0
// exit ;
31883: POP
31884: POP
31885: GO 31892
// end ;
31887: GO 31667
31889: POP
31890: POP
// enable ;
31891: ENABLE
// end ;
31892: PPOPN 5
31894: END
// function zkontroluj_body ; var side , list , un , red , blue , yel , green , i , pom ; begin
31895: LD_INT 0
31897: PPUSH
31898: PPUSH
31899: PPUSH
31900: PPUSH
31901: PPUSH
31902: PPUSH
31903: PPUSH
31904: PPUSH
31905: PPUSH
31906: PPUSH
// list = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
31907: LD_ADDR_VAR 0 3
31911: PUSH
31912: LD_INT 0
31914: PUSH
31915: LD_INT 0
31917: PUSH
31918: LD_INT 0
31920: PUSH
31921: LD_INT 0
31923: PUSH
31924: LD_INT 0
31926: PUSH
31927: LD_INT 0
31929: PUSH
31930: LD_INT 0
31932: PUSH
31933: LD_INT 0
31935: PUSH
31936: EMPTY
31937: LIST
31938: LIST
31939: LIST
31940: LIST
31941: LIST
31942: LIST
31943: LIST
31944: LIST
31945: ST_TO_ADDR
// red = 0 ;
31946: LD_ADDR_VAR 0 5
31950: PUSH
31951: LD_INT 0
31953: ST_TO_ADDR
// blue = 0 ;
31954: LD_ADDR_VAR 0 6
31958: PUSH
31959: LD_INT 0
31961: ST_TO_ADDR
// yel = 0 ;
31962: LD_ADDR_VAR 0 7
31966: PUSH
31967: LD_INT 0
31969: ST_TO_ADDR
// green = 0 ;
31970: LD_ADDR_VAR 0 8
31974: PUSH
31975: LD_INT 0
31977: ST_TO_ADDR
// if WarForTerritory_flags then
31978: LD_EXP 65
31982: IFFALSE 32348
// begin for i = 1 to FLAGY + 0 do
31984: LD_ADDR_VAR 0 9
31988: PUSH
31989: DOUBLE
31990: LD_INT 1
31992: DEC
31993: ST_TO_ADDR
31994: LD_LOC 31
31998: PUSH
31999: LD_INT 0
32001: PLUS
32002: PUSH
32003: FOR_TO
32004: IFFALSE 32076
// if WFT_FlagOnTop [ i ] then
32006: LD_LOC 34
32010: PUSH
32011: LD_VAR 0 9
32015: ARRAY
32016: IFFALSE 32074
// begin pom = GetBattleFlagSide ( FLAGY [ i ] ) ;
32018: LD_ADDR_VAR 0 10
32022: PUSH
32023: LD_LOC 31
32027: PUSH
32028: LD_VAR 0 9
32032: ARRAY
32033: PPUSH
32034: CALL_OW 421
32038: ST_TO_ADDR
// list = vloz_na_pozici ( list [ pom ] + 1 , pom , list ) ;
32039: LD_ADDR_VAR 0 3
32043: PUSH
32044: LD_VAR 0 3
32048: PUSH
32049: LD_VAR 0 10
32053: ARRAY
32054: PUSH
32055: LD_INT 1
32057: PLUS
32058: PPUSH
32059: LD_VAR 0 10
32063: PPUSH
32064: LD_VAR 0 3
32068: PPUSH
32069: CALL 31439 0 3
32073: ST_TO_ADDR
// end ;
32074: GO 32003
32076: POP
32077: POP
// if not Team_Game then
32078: LD_EXP 80
32082: NOT
32083: IFFALSE 32097
// teams_p = list else
32085: LD_ADDR_LOC 32
32089: PUSH
32090: LD_VAR 0 3
32094: ST_TO_ADDR
32095: GO 32300
// begin for i in Teams [ 1 ] do
32097: LD_ADDR_VAR 0 9
32101: PUSH
32102: LD_EXP 73
32106: PUSH
32107: LD_INT 1
32109: ARRAY
32110: PUSH
32111: FOR_IN
32112: IFFALSE 32138
// red = red + list [ i ] ;
32114: LD_ADDR_VAR 0 5
32118: PUSH
32119: LD_VAR 0 5
32123: PUSH
32124: LD_VAR 0 3
32128: PUSH
32129: LD_VAR 0 9
32133: ARRAY
32134: PLUS
32135: ST_TO_ADDR
32136: GO 32111
32138: POP
32139: POP
// for i in Teams [ 2 ] do
32140: LD_ADDR_VAR 0 9
32144: PUSH
32145: LD_EXP 73
32149: PUSH
32150: LD_INT 2
32152: ARRAY
32153: PUSH
32154: FOR_IN
32155: IFFALSE 32181
// blue = blue + list [ i ] ;
32157: LD_ADDR_VAR 0 6
32161: PUSH
32162: LD_VAR 0 6
32166: PUSH
32167: LD_VAR 0 3
32171: PUSH
32172: LD_VAR 0 9
32176: ARRAY
32177: PLUS
32178: ST_TO_ADDR
32179: GO 32154
32181: POP
32182: POP
// for i in Teams [ 3 ] do
32183: LD_ADDR_VAR 0 9
32187: PUSH
32188: LD_EXP 73
32192: PUSH
32193: LD_INT 3
32195: ARRAY
32196: PUSH
32197: FOR_IN
32198: IFFALSE 32224
// yel = yel + list [ i ] ;
32200: LD_ADDR_VAR 0 7
32204: PUSH
32205: LD_VAR 0 7
32209: PUSH
32210: LD_VAR 0 3
32214: PUSH
32215: LD_VAR 0 9
32219: ARRAY
32220: PLUS
32221: ST_TO_ADDR
32222: GO 32197
32224: POP
32225: POP
// for i in Teams [ 4 ] do
32226: LD_ADDR_VAR 0 9
32230: PUSH
32231: LD_EXP 73
32235: PUSH
32236: LD_INT 4
32238: ARRAY
32239: PUSH
32240: FOR_IN
32241: IFFALSE 32267
// green = green + list [ i ] ;
32243: LD_ADDR_VAR 0 8
32247: PUSH
32248: LD_VAR 0 8
32252: PUSH
32253: LD_VAR 0 3
32257: PUSH
32258: LD_VAR 0 9
32262: ARRAY
32263: PLUS
32264: ST_TO_ADDR
32265: GO 32240
32267: POP
32268: POP
// teams_p = [ red , blue , yel , green ] ;
32269: LD_ADDR_LOC 32
32273: PUSH
32274: LD_VAR 0 5
32278: PUSH
32279: LD_VAR 0 6
32283: PUSH
32284: LD_VAR 0 7
32288: PUSH
32289: LD_VAR 0 8
32293: PUSH
32294: EMPTY
32295: LIST
32296: LIST
32297: LIST
32298: LIST
32299: ST_TO_ADDR
// end ; for i = 1 to list do
32300: LD_ADDR_VAR 0 9
32304: PUSH
32305: DOUBLE
32306: LD_INT 1
32308: DEC
32309: ST_TO_ADDR
32310: LD_VAR 0 3
32314: PUSH
32315: FOR_TO
32316: IFFALSE 32344
// SetTag ( i + 20 , list [ i ] ) ;
32318: LD_VAR 0 9
32322: PUSH
32323: LD_INT 20
32325: PLUS
32326: PPUSH
32327: LD_VAR 0 3
32331: PUSH
32332: LD_VAR 0 9
32336: ARRAY
32337: PPUSH
32338: CALL_OW 109
32342: GO 32315
32344: POP
32345: POP
// end else
32346: GO 32826
// if WarForTerritory_points then
32348: LD_EXP 64
32352: IFFALSE 32826
// begin for i = 1 to FLAGY + 0 do
32354: LD_ADDR_VAR 0 9
32358: PUSH
32359: DOUBLE
32360: LD_INT 1
32362: DEC
32363: ST_TO_ADDR
32364: LD_LOC 31
32368: PUSH
32369: LD_INT 0
32371: PLUS
32372: PUSH
32373: FOR_TO
32374: IFFALSE 32446
// if WFT_FlagOnTop [ i ] then
32376: LD_LOC 34
32380: PUSH
32381: LD_VAR 0 9
32385: ARRAY
32386: IFFALSE 32444
// begin pom = GetBattleFlagSide ( FLAGY [ i ] ) ;
32388: LD_ADDR_VAR 0 10
32392: PUSH
32393: LD_LOC 31
32397: PUSH
32398: LD_VAR 0 9
32402: ARRAY
32403: PPUSH
32404: CALL_OW 421
32408: ST_TO_ADDR
// list = vloz_na_pozici ( list [ pom ] + 1 , pom , list ) ;
32409: LD_ADDR_VAR 0 3
32413: PUSH
32414: LD_VAR 0 3
32418: PUSH
32419: LD_VAR 0 10
32423: ARRAY
32424: PUSH
32425: LD_INT 1
32427: PLUS
32428: PPUSH
32429: LD_VAR 0 10
32433: PPUSH
32434: LD_VAR 0 3
32438: PPUSH
32439: CALL 31439 0 3
32443: ST_TO_ADDR
// end ;
32444: GO 32373
32446: POP
32447: POP
// if not Team_Game then
32448: LD_EXP 80
32452: NOT
32453: IFFALSE 32522
// for i = 1 to side_positions do
32455: LD_ADDR_VAR 0 9
32459: PUSH
32460: DOUBLE
32461: LD_INT 1
32463: DEC
32464: ST_TO_ADDR
32465: LD_EXP 75
32469: PUSH
32470: FOR_TO
32471: IFFALSE 32518
// teams_p = vloz_na_pozici ( teams_p [ i ] + ( list [ i ] ) , i , teams_p ) else
32473: LD_ADDR_LOC 32
32477: PUSH
32478: LD_LOC 32
32482: PUSH
32483: LD_VAR 0 9
32487: ARRAY
32488: PUSH
32489: LD_VAR 0 3
32493: PUSH
32494: LD_VAR 0 9
32498: ARRAY
32499: PLUS
32500: PPUSH
32501: LD_VAR 0 9
32505: PPUSH
32506: LD_LOC 32
32510: PPUSH
32511: CALL 31439 0 3
32515: ST_TO_ADDR
32516: GO 32470
32518: POP
32519: POP
32520: GO 32765
// begin for i in Teams [ 1 ] do
32522: LD_ADDR_VAR 0 9
32526: PUSH
32527: LD_EXP 73
32531: PUSH
32532: LD_INT 1
32534: ARRAY
32535: PUSH
32536: FOR_IN
32537: IFFALSE 32563
// red = red + list [ i ] ;
32539: LD_ADDR_VAR 0 5
32543: PUSH
32544: LD_VAR 0 5
32548: PUSH
32549: LD_VAR 0 3
32553: PUSH
32554: LD_VAR 0 9
32558: ARRAY
32559: PLUS
32560: ST_TO_ADDR
32561: GO 32536
32563: POP
32564: POP
// for i in Teams [ 2 ] do
32565: LD_ADDR_VAR 0 9
32569: PUSH
32570: LD_EXP 73
32574: PUSH
32575: LD_INT 2
32577: ARRAY
32578: PUSH
32579: FOR_IN
32580: IFFALSE 32606
// blue = blue + list [ i ] ;
32582: LD_ADDR_VAR 0 6
32586: PUSH
32587: LD_VAR 0 6
32591: PUSH
32592: LD_VAR 0 3
32596: PUSH
32597: LD_VAR 0 9
32601: ARRAY
32602: PLUS
32603: ST_TO_ADDR
32604: GO 32579
32606: POP
32607: POP
// for i in Teams [ 3 ] do
32608: LD_ADDR_VAR 0 9
32612: PUSH
32613: LD_EXP 73
32617: PUSH
32618: LD_INT 3
32620: ARRAY
32621: PUSH
32622: FOR_IN
32623: IFFALSE 32649
// yel = yel + list [ i ] ;
32625: LD_ADDR_VAR 0 7
32629: PUSH
32630: LD_VAR 0 7
32634: PUSH
32635: LD_VAR 0 3
32639: PUSH
32640: LD_VAR 0 9
32644: ARRAY
32645: PLUS
32646: ST_TO_ADDR
32647: GO 32622
32649: POP
32650: POP
// for i in Teams [ 4 ] do
32651: LD_ADDR_VAR 0 9
32655: PUSH
32656: LD_EXP 73
32660: PUSH
32661: LD_INT 4
32663: ARRAY
32664: PUSH
32665: FOR_IN
32666: IFFALSE 32692
// green = green + list [ i ] ;
32668: LD_ADDR_VAR 0 8
32672: PUSH
32673: LD_VAR 0 8
32677: PUSH
32678: LD_VAR 0 3
32682: PUSH
32683: LD_VAR 0 9
32687: ARRAY
32688: PLUS
32689: ST_TO_ADDR
32690: GO 32665
32692: POP
32693: POP
// teams_p = [ teams_p [ 1 ] + red , teams_p [ 2 ] + blue , teams_p [ 3 ] + yel , teams_p [ 4 ] + green ] ;
32694: LD_ADDR_LOC 32
32698: PUSH
32699: LD_LOC 32
32703: PUSH
32704: LD_INT 1
32706: ARRAY
32707: PUSH
32708: LD_VAR 0 5
32712: PLUS
32713: PUSH
32714: LD_LOC 32
32718: PUSH
32719: LD_INT 2
32721: ARRAY
32722: PUSH
32723: LD_VAR 0 6
32727: PLUS
32728: PUSH
32729: LD_LOC 32
32733: PUSH
32734: LD_INT 3
32736: ARRAY
32737: PUSH
32738: LD_VAR 0 7
32742: PLUS
32743: PUSH
32744: LD_LOC 32
32748: PUSH
32749: LD_INT 4
32751: ARRAY
32752: PUSH
32753: LD_VAR 0 8
32757: PLUS
32758: PUSH
32759: EMPTY
32760: LIST
32761: LIST
32762: LIST
32763: LIST
32764: ST_TO_ADDR
// end ; for i = 1 to list do
32765: LD_ADDR_VAR 0 9
32769: PUSH
32770: DOUBLE
32771: LD_INT 1
32773: DEC
32774: ST_TO_ADDR
32775: LD_VAR 0 3
32779: PUSH
32780: FOR_TO
32781: IFFALSE 32824
// SetTag ( i + 20 , getTag ( i + 20 ) + list [ i ] ) ;
32783: LD_VAR 0 9
32787: PUSH
32788: LD_INT 20
32790: PLUS
32791: PPUSH
32792: LD_VAR 0 9
32796: PUSH
32797: LD_INT 20
32799: PLUS
32800: PPUSH
32801: CALL_OW 110
32805: PUSH
32806: LD_VAR 0 3
32810: PUSH
32811: LD_VAR 0 9
32815: ARRAY
32816: PLUS
32817: PPUSH
32818: CALL_OW 109
32822: GO 32780
32824: POP
32825: POP
// end ; if WarForTerritory_points then
32826: LD_EXP 64
32830: IFFALSE 32904
// begin for i = 1 to side_positions do
32832: LD_ADDR_VAR 0 9
32836: PUSH
32837: DOUBLE
32838: LD_INT 1
32840: DEC
32841: ST_TO_ADDR
32842: LD_EXP 75
32846: PUSH
32847: FOR_TO
32848: IFFALSE 32900
// if Side_Positions [ i ] then
32850: LD_EXP 75
32854: PUSH
32855: LD_VAR 0 9
32859: ARRAY
32860: IFFALSE 32898
// SetSharedMultiScore ( i , GetTag ( i + 20 ) div ( 3 * WFT_points_MP ) , 3 ) ;
32862: LD_VAR 0 9
32866: PPUSH
32867: LD_VAR 0 9
32871: PUSH
32872: LD_INT 20
32874: PLUS
32875: PPUSH
32876: CALL_OW 110
32880: PUSH
32881: LD_INT 3
32883: PUSH
32884: LD_EXP 121
32888: MUL
32889: DIV
32890: PPUSH
32891: LD_INT 3
32893: PPUSH
32894: CALL 35298 0 3
32898: GO 32847
32900: POP
32901: POP
// end else
32902: GO 32968
// for i = 1 to side_positions do
32904: LD_ADDR_VAR 0 9
32908: PUSH
32909: DOUBLE
32910: LD_INT 1
32912: DEC
32913: ST_TO_ADDR
32914: LD_EXP 75
32918: PUSH
32919: FOR_TO
32920: IFFALSE 32966
// if Side_Positions [ i ] then
32922: LD_EXP 75
32926: PUSH
32927: LD_VAR 0 9
32931: ARRAY
32932: IFFALSE 32964
// SetSharedMultiScore ( i , GetTag ( i + 20 ) * 1000 , 3 ) ;
32934: LD_VAR 0 9
32938: PPUSH
32939: LD_VAR 0 9
32943: PUSH
32944: LD_INT 20
32946: PLUS
32947: PPUSH
32948: CALL_OW 110
32952: PUSH
32953: LD_INT 1000
32955: MUL
32956: PPUSH
32957: LD_INT 3
32959: PPUSH
32960: CALL 35298 0 3
32964: GO 32919
32966: POP
32967: POP
// show_points ;
32968: CALL 32977 0 0
// end ;
32972: LD_VAR 0 1
32976: RET
// function show_points ; var side , vypis , i , red , blue , yel , green , s ; begin
32977: LD_INT 0
32979: PPUSH
32980: PPUSH
32981: PPUSH
32982: PPUSH
32983: PPUSH
32984: PPUSH
32985: PPUSH
32986: PPUSH
32987: PPUSH
// vypis := [ ] ;
32988: LD_ADDR_VAR 0 3
32992: PUSH
32993: EMPTY
32994: ST_TO_ADDR
// red = 0 ;
32995: LD_ADDR_VAR 0 5
32999: PUSH
33000: LD_INT 0
33002: ST_TO_ADDR
// blue = 0 ;
33003: LD_ADDR_VAR 0 6
33007: PUSH
33008: LD_INT 0
33010: ST_TO_ADDR
// yel = 0 ;
33011: LD_ADDR_VAR 0 7
33015: PUSH
33016: LD_INT 0
33018: ST_TO_ADDR
// green = 0 ;
33019: LD_ADDR_VAR 0 8
33023: PUSH
33024: LD_INT 0
33026: ST_TO_ADDR
// if WarForTerritory_flags then
33027: LD_EXP 65
33031: IFFALSE 33693
// begin if def_public_score or isSGUI then
33033: LD_EXP 34
33037: PUSH
33038: LD_OWVAR 83
33042: OR
33043: IFFALSE 33447
// begin if not Team_Game then
33045: LD_EXP 80
33049: NOT
33050: IFFALSE 33192
// begin s = [ ] ;
33052: LD_ADDR_VAR 0 9
33056: PUSH
33057: EMPTY
33058: ST_TO_ADDR
// for side = 1 to Side_Positions do
33059: LD_ADDR_VAR 0 2
33063: PUSH
33064: DOUBLE
33065: LD_INT 1
33067: DEC
33068: ST_TO_ADDR
33069: LD_EXP 75
33073: PUSH
33074: FOR_TO
33075: IFFALSE 33176
// if Side_Positions [ side ] then
33077: LD_EXP 75
33081: PUSH
33082: LD_VAR 0 2
33086: ARRAY
33087: IFFALSE 33160
// begin vypis := vypis ^ [ #WarForTerritory-Flags-Public , side , side , teams_p [ side ] , WFT_Goal ] ;
33089: LD_ADDR_VAR 0 3
33093: PUSH
33094: LD_VAR 0 3
33098: PUSH
33099: LD_STRING #WarForTerritory-Flags-Public
33101: PUSH
33102: LD_VAR 0 2
33106: PUSH
33107: LD_VAR 0 2
33111: PUSH
33112: LD_LOC 32
33116: PUSH
33117: LD_VAR 0 2
33121: ARRAY
33122: PUSH
33123: LD_LOC 33
33127: PUSH
33128: EMPTY
33129: LIST
33130: LIST
33131: LIST
33132: LIST
33133: LIST
33134: ADD
33135: ST_TO_ADDR
// s = s ^ teams_p [ side ] ;
33136: LD_ADDR_VAR 0 9
33140: PUSH
33141: LD_VAR 0 9
33145: PUSH
33146: LD_LOC 32
33150: PUSH
33151: LD_VAR 0 2
33155: ARRAY
33156: ADD
33157: ST_TO_ADDR
// end else
33158: GO 33174
// s = s ^ 0 ;
33160: LD_ADDR_VAR 0 9
33164: PUSH
33165: LD_VAR 0 9
33169: PUSH
33170: LD_INT 0
33172: ADD
33173: ST_TO_ADDR
33174: GO 33074
33176: POP
33177: POP
// LScore_Update_Peices ( 3 , s ) ;
33178: LD_INT 3
33180: PPUSH
33181: LD_VAR 0 9
33185: PPUSH
33186: CALL 36919 0 2
// end else
33190: GO 33445
// begin if Teams [ 1 ] then
33192: LD_EXP 73
33196: PUSH
33197: LD_INT 1
33199: ARRAY
33200: IFFALSE 33239
// vypis := vypis ^ [ #WarForTerritory-Flags-Public-red , 3 , teams_p [ 1 ] , WFT_Goal ] ;
33202: LD_ADDR_VAR 0 3
33206: PUSH
33207: LD_VAR 0 3
33211: PUSH
33212: LD_STRING #WarForTerritory-Flags-Public-red
33214: PUSH
33215: LD_INT 3
33217: PUSH
33218: LD_LOC 32
33222: PUSH
33223: LD_INT 1
33225: ARRAY
33226: PUSH
33227: LD_LOC 33
33231: PUSH
33232: EMPTY
33233: LIST
33234: LIST
33235: LIST
33236: LIST
33237: ADD
33238: ST_TO_ADDR
// if Teams [ 2 ] then
33239: LD_EXP 73
33243: PUSH
33244: LD_INT 2
33246: ARRAY
33247: IFFALSE 33286
// vypis := vypis ^ [ #WarForTerritory-Flags-Public-blue , 1 , teams_p [ 2 ] , WFT_Goal ] ;
33249: LD_ADDR_VAR 0 3
33253: PUSH
33254: LD_VAR 0 3
33258: PUSH
33259: LD_STRING #WarForTerritory-Flags-Public-blue
33261: PUSH
33262: LD_INT 1
33264: PUSH
33265: LD_LOC 32
33269: PUSH
33270: LD_INT 2
33272: ARRAY
33273: PUSH
33274: LD_LOC 33
33278: PUSH
33279: EMPTY
33280: LIST
33281: LIST
33282: LIST
33283: LIST
33284: ADD
33285: ST_TO_ADDR
// if Teams [ 3 ] then
33286: LD_EXP 73
33290: PUSH
33291: LD_INT 3
33293: ARRAY
33294: IFFALSE 33333
// vypis := vypis ^ [ #WarForTerritory-Flags-Public-yell , 2 , teams_p [ 3 ] , WFT_Goal ] ;
33296: LD_ADDR_VAR 0 3
33300: PUSH
33301: LD_VAR 0 3
33305: PUSH
33306: LD_STRING #WarForTerritory-Flags-Public-yell
33308: PUSH
33309: LD_INT 2
33311: PUSH
33312: LD_LOC 32
33316: PUSH
33317: LD_INT 3
33319: ARRAY
33320: PUSH
33321: LD_LOC 33
33325: PUSH
33326: EMPTY
33327: LIST
33328: LIST
33329: LIST
33330: LIST
33331: ADD
33332: ST_TO_ADDR
// if Teams [ 4 ] then
33333: LD_EXP 73
33337: PUSH
33338: LD_INT 4
33340: ARRAY
33341: IFFALSE 33380
// vypis := vypis ^ [ #WarForTerritory-Flags-Public-green , 7 , teams_p [ 4 ] , WFT_Goal ] ;
33343: LD_ADDR_VAR 0 3
33347: PUSH
33348: LD_VAR 0 3
33352: PUSH
33353: LD_STRING #WarForTerritory-Flags-Public-green
33355: PUSH
33356: LD_INT 7
33358: PUSH
33359: LD_LOC 32
33363: PUSH
33364: LD_INT 4
33366: ARRAY
33367: PUSH
33368: LD_LOC 33
33372: PUSH
33373: EMPTY
33374: LIST
33375: LIST
33376: LIST
33377: LIST
33378: ADD
33379: ST_TO_ADDR
// LScore_Update_Peices ( 3 , [ teams_p [ 2 ] , teams_p [ 3 ] , teams_p [ 1 ] , 0 , 0 , 0 , teams_p [ 4 ] , 0 ] ) ;
33380: LD_INT 3
33382: PPUSH
33383: LD_LOC 32
33387: PUSH
33388: LD_INT 2
33390: ARRAY
33391: PUSH
33392: LD_LOC 32
33396: PUSH
33397: LD_INT 3
33399: ARRAY
33400: PUSH
33401: LD_LOC 32
33405: PUSH
33406: LD_INT 1
33408: ARRAY
33409: PUSH
33410: LD_INT 0
33412: PUSH
33413: LD_INT 0
33415: PUSH
33416: LD_INT 0
33418: PUSH
33419: LD_LOC 32
33423: PUSH
33424: LD_INT 4
33426: ARRAY
33427: PUSH
33428: LD_INT 0
33430: PUSH
33431: EMPTY
33432: LIST
33433: LIST
33434: LIST
33435: LIST
33436: LIST
33437: LIST
33438: LIST
33439: LIST
33440: PPUSH
33441: CALL 36919 0 2
// end ; end else
33445: GO 33691
// begin if not Team_Game then
33447: LD_EXP 80
33451: NOT
33452: IFFALSE 33503
// begin vypis := vypis ^ [ #WarForTerritory-Flags-Private , your_side , your_side , teams_p [ side ] , WFT_Goal ] ;
33454: LD_ADDR_VAR 0 3
33458: PUSH
33459: LD_VAR 0 3
33463: PUSH
33464: LD_STRING #WarForTerritory-Flags-Private
33466: PUSH
33467: LD_OWVAR 2
33471: PUSH
33472: LD_OWVAR 2
33476: PUSH
33477: LD_LOC 32
33481: PUSH
33482: LD_VAR 0 2
33486: ARRAY
33487: PUSH
33488: LD_LOC 33
33492: PUSH
33493: EMPTY
33494: LIST
33495: LIST
33496: LIST
33497: LIST
33498: LIST
33499: ADD
33500: ST_TO_ADDR
// end else
33501: GO 33691
// begin if your_side in Teams [ 1 ] then
33503: LD_OWVAR 2
33507: PUSH
33508: LD_EXP 73
33512: PUSH
33513: LD_INT 1
33515: ARRAY
33516: IN
33517: IFFALSE 33550
// vypis := [ #WarForTerritory-points-Flags-red , 3 , teams_p [ 1 ] , WFT_Goal ] ;
33519: LD_ADDR_VAR 0 3
33523: PUSH
33524: LD_STRING #WarForTerritory-points-Flags-red
33526: PUSH
33527: LD_INT 3
33529: PUSH
33530: LD_LOC 32
33534: PUSH
33535: LD_INT 1
33537: ARRAY
33538: PUSH
33539: LD_LOC 33
33543: PUSH
33544: EMPTY
33545: LIST
33546: LIST
33547: LIST
33548: LIST
33549: ST_TO_ADDR
// if your_side in Teams [ 2 ] then
33550: LD_OWVAR 2
33554: PUSH
33555: LD_EXP 73
33559: PUSH
33560: LD_INT 2
33562: ARRAY
33563: IN
33564: IFFALSE 33597
// vypis := [ #WarForTerritory-points-Flags-blue , 1 , teams_p [ 2 ] , WFT_Goal ] ;
33566: LD_ADDR_VAR 0 3
33570: PUSH
33571: LD_STRING #WarForTerritory-points-Flags-blue
33573: PUSH
33574: LD_INT 1
33576: PUSH
33577: LD_LOC 32
33581: PUSH
33582: LD_INT 2
33584: ARRAY
33585: PUSH
33586: LD_LOC 33
33590: PUSH
33591: EMPTY
33592: LIST
33593: LIST
33594: LIST
33595: LIST
33596: ST_TO_ADDR
// if your_side in Teams [ 3 ] then
33597: LD_OWVAR 2
33601: PUSH
33602: LD_EXP 73
33606: PUSH
33607: LD_INT 3
33609: ARRAY
33610: IN
33611: IFFALSE 33644
// vypis := [ #WarForTerritory-points-Flags-yell , 2 , teams_p [ 3 ] , WFT_Goal ] ;
33613: LD_ADDR_VAR 0 3
33617: PUSH
33618: LD_STRING #WarForTerritory-points-Flags-yell
33620: PUSH
33621: LD_INT 2
33623: PUSH
33624: LD_LOC 32
33628: PUSH
33629: LD_INT 3
33631: ARRAY
33632: PUSH
33633: LD_LOC 33
33637: PUSH
33638: EMPTY
33639: LIST
33640: LIST
33641: LIST
33642: LIST
33643: ST_TO_ADDR
// if your_side in Teams [ 4 ] then
33644: LD_OWVAR 2
33648: PUSH
33649: LD_EXP 73
33653: PUSH
33654: LD_INT 4
33656: ARRAY
33657: IN
33658: IFFALSE 33691
// vypis := [ #WarForTerritory-points-Flags-green , 7 , teams_p [ 4 ] , WFT_Goal ] ;
33660: LD_ADDR_VAR 0 3
33664: PUSH
33665: LD_STRING #WarForTerritory-points-Flags-green
33667: PUSH
33668: LD_INT 7
33670: PUSH
33671: LD_LOC 32
33675: PUSH
33676: LD_INT 4
33678: ARRAY
33679: PUSH
33680: LD_LOC 33
33684: PUSH
33685: EMPTY
33686: LIST
33687: LIST
33688: LIST
33689: LIST
33690: ST_TO_ADDR
// end ; end ; end else
33691: GO 34444
// if def_public_score or isSGUI then
33693: LD_EXP 34
33697: PUSH
33698: LD_OWVAR 83
33702: OR
33703: IFFALSE 34150
// begin if not Team_Game then
33705: LD_EXP 80
33709: NOT
33710: IFFALSE 33838
// begin for side = 1 to Side_Positions do
33712: LD_ADDR_VAR 0 2
33716: PUSH
33717: DOUBLE
33718: LD_INT 1
33720: DEC
33721: ST_TO_ADDR
33722: LD_EXP 75
33726: PUSH
33727: FOR_TO
33728: IFFALSE 33834
// if Side_Positions [ side ] then
33730: LD_EXP 75
33734: PUSH
33735: LD_VAR 0 2
33739: ARRAY
33740: IFFALSE 33832
// begin vypis := vypis ^ [ #WarForTerritory-points-Public , side , side , teams_p [ side ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
33742: LD_ADDR_VAR 0 3
33746: PUSH
33747: LD_VAR 0 3
33751: PUSH
33752: LD_STRING #WarForTerritory-points-Public
33754: PUSH
33755: LD_VAR 0 2
33759: PUSH
33760: LD_VAR 0 2
33764: PUSH
33765: LD_LOC 32
33769: PUSH
33770: LD_VAR 0 2
33774: ARRAY
33775: PUSH
33776: LD_INT 3
33778: PUSH
33779: LD_EXP 121
33783: MUL
33784: DIV
33785: PUSH
33786: LD_LOC 33
33790: PUSH
33791: EMPTY
33792: LIST
33793: LIST
33794: LIST
33795: LIST
33796: LIST
33797: ADD
33798: ST_TO_ADDR
// LScore_Update_Points ( 3 , side , ( teams_p [ side ] div ( 3 * WFT_Points_MP ) ) ) ;
33799: LD_INT 3
33801: PPUSH
33802: LD_VAR 0 2
33806: PPUSH
33807: LD_LOC 32
33811: PUSH
33812: LD_VAR 0 2
33816: ARRAY
33817: PUSH
33818: LD_INT 3
33820: PUSH
33821: LD_EXP 121
33825: MUL
33826: DIV
33827: PPUSH
33828: CALL 36747 0 3
// end ;
33832: GO 33727
33834: POP
33835: POP
// end else
33836: GO 34148
// begin if Teams [ 1 ] then
33838: LD_EXP 73
33842: PUSH
33843: LD_INT 1
33845: ARRAY
33846: IFFALSE 33895
// vypis := vypis ^ [ #WarForTerritory-points-Public-red , 3 , teams_p [ 1 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
33848: LD_ADDR_VAR 0 3
33852: PUSH
33853: LD_VAR 0 3
33857: PUSH
33858: LD_STRING #WarForTerritory-points-Public-red
33860: PUSH
33861: LD_INT 3
33863: PUSH
33864: LD_LOC 32
33868: PUSH
33869: LD_INT 1
33871: ARRAY
33872: PUSH
33873: LD_INT 3
33875: PUSH
33876: LD_EXP 121
33880: MUL
33881: DIV
33882: PUSH
33883: LD_LOC 33
33887: PUSH
33888: EMPTY
33889: LIST
33890: LIST
33891: LIST
33892: LIST
33893: ADD
33894: ST_TO_ADDR
// if Teams [ 2 ] then
33895: LD_EXP 73
33899: PUSH
33900: LD_INT 2
33902: ARRAY
33903: IFFALSE 33952
// vypis := vypis ^ [ #WarForTerritory-points-Public-blue , 1 , teams_p [ 2 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
33905: LD_ADDR_VAR 0 3
33909: PUSH
33910: LD_VAR 0 3
33914: PUSH
33915: LD_STRING #WarForTerritory-points-Public-blue
33917: PUSH
33918: LD_INT 1
33920: PUSH
33921: LD_LOC 32
33925: PUSH
33926: LD_INT 2
33928: ARRAY
33929: PUSH
33930: LD_INT 3
33932: PUSH
33933: LD_EXP 121
33937: MUL
33938: DIV
33939: PUSH
33940: LD_LOC 33
33944: PUSH
33945: EMPTY
33946: LIST
33947: LIST
33948: LIST
33949: LIST
33950: ADD
33951: ST_TO_ADDR
// if Teams [ 3 ] then
33952: LD_EXP 73
33956: PUSH
33957: LD_INT 3
33959: ARRAY
33960: IFFALSE 34009
// vypis := vypis ^ [ #WarForTerritory-points-Public-yell , 2 , teams_p [ 3 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
33962: LD_ADDR_VAR 0 3
33966: PUSH
33967: LD_VAR 0 3
33971: PUSH
33972: LD_STRING #WarForTerritory-points-Public-yell
33974: PUSH
33975: LD_INT 2
33977: PUSH
33978: LD_LOC 32
33982: PUSH
33983: LD_INT 3
33985: ARRAY
33986: PUSH
33987: LD_INT 3
33989: PUSH
33990: LD_EXP 121
33994: MUL
33995: DIV
33996: PUSH
33997: LD_LOC 33
34001: PUSH
34002: EMPTY
34003: LIST
34004: LIST
34005: LIST
34006: LIST
34007: ADD
34008: ST_TO_ADDR
// if Teams [ 4 ] then
34009: LD_EXP 73
34013: PUSH
34014: LD_INT 4
34016: ARRAY
34017: IFFALSE 34066
// vypis := vypis ^ [ #WarForTerritory-points-Public-green , 7 , teams_p [ 4 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
34019: LD_ADDR_VAR 0 3
34023: PUSH
34024: LD_VAR 0 3
34028: PUSH
34029: LD_STRING #WarForTerritory-points-Public-green
34031: PUSH
34032: LD_INT 7
34034: PUSH
34035: LD_LOC 32
34039: PUSH
34040: LD_INT 4
34042: ARRAY
34043: PUSH
34044: LD_INT 3
34046: PUSH
34047: LD_EXP 121
34051: MUL
34052: DIV
34053: PUSH
34054: LD_LOC 33
34058: PUSH
34059: EMPTY
34060: LIST
34061: LIST
34062: LIST
34063: LIST
34064: ADD
34065: ST_TO_ADDR
// s = [ 3 , 1 , 2 , 7 ] ;
34066: LD_ADDR_VAR 0 9
34070: PUSH
34071: LD_INT 3
34073: PUSH
34074: LD_INT 1
34076: PUSH
34077: LD_INT 2
34079: PUSH
34080: LD_INT 7
34082: PUSH
34083: EMPTY
34084: LIST
34085: LIST
34086: LIST
34087: LIST
34088: ST_TO_ADDR
// for i = 1 to 4 do
34089: LD_ADDR_VAR 0 4
34093: PUSH
34094: DOUBLE
34095: LD_INT 1
34097: DEC
34098: ST_TO_ADDR
34099: LD_INT 4
34101: PUSH
34102: FOR_TO
34103: IFFALSE 34146
// LScore_Update_Points ( 3 , s [ i ] , ( teams_p [ i ] div ( 3 * WFT_Points_MP ) ) ) ;
34105: LD_INT 3
34107: PPUSH
34108: LD_VAR 0 9
34112: PUSH
34113: LD_VAR 0 4
34117: ARRAY
34118: PPUSH
34119: LD_LOC 32
34123: PUSH
34124: LD_VAR 0 4
34128: ARRAY
34129: PUSH
34130: LD_INT 3
34132: PUSH
34133: LD_EXP 121
34137: MUL
34138: DIV
34139: PPUSH
34140: CALL 36747 0 3
34144: GO 34102
34146: POP
34147: POP
// end ; end else
34148: GO 34444
// if not Team_Game then
34150: LD_EXP 80
34154: NOT
34155: IFFALSE 34216
// begin vypis := vypis ^ [ #WarForTerritory-points-Private , your_side , your_side , teams_p [ side ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] end else
34157: LD_ADDR_VAR 0 3
34161: PUSH
34162: LD_VAR 0 3
34166: PUSH
34167: LD_STRING #WarForTerritory-points-Private
34169: PUSH
34170: LD_OWVAR 2
34174: PUSH
34175: LD_OWVAR 2
34179: PUSH
34180: LD_LOC 32
34184: PUSH
34185: LD_VAR 0 2
34189: ARRAY
34190: PUSH
34191: LD_INT 3
34193: PUSH
34194: LD_EXP 121
34198: MUL
34199: DIV
34200: PUSH
34201: LD_LOC 33
34205: PUSH
34206: EMPTY
34207: LIST
34208: LIST
34209: LIST
34210: LIST
34211: LIST
34212: ADD
34213: ST_TO_ADDR
34214: GO 34444
// begin if your_side in Teams [ 1 ] then
34216: LD_OWVAR 2
34220: PUSH
34221: LD_EXP 73
34225: PUSH
34226: LD_INT 1
34228: ARRAY
34229: IN
34230: IFFALSE 34273
// vypis := [ #WarForTerritory-points-Public-red , 3 , teams_p [ 1 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
34232: LD_ADDR_VAR 0 3
34236: PUSH
34237: LD_STRING #WarForTerritory-points-Public-red
34239: PUSH
34240: LD_INT 3
34242: PUSH
34243: LD_LOC 32
34247: PUSH
34248: LD_INT 1
34250: ARRAY
34251: PUSH
34252: LD_INT 3
34254: PUSH
34255: LD_EXP 121
34259: MUL
34260: DIV
34261: PUSH
34262: LD_LOC 33
34266: PUSH
34267: EMPTY
34268: LIST
34269: LIST
34270: LIST
34271: LIST
34272: ST_TO_ADDR
// if your_side in Teams [ 2 ] then
34273: LD_OWVAR 2
34277: PUSH
34278: LD_EXP 73
34282: PUSH
34283: LD_INT 2
34285: ARRAY
34286: IN
34287: IFFALSE 34330
// vypis := [ #WarForTerritory-points-Public-blue , 1 , teams_p [ 2 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
34289: LD_ADDR_VAR 0 3
34293: PUSH
34294: LD_STRING #WarForTerritory-points-Public-blue
34296: PUSH
34297: LD_INT 1
34299: PUSH
34300: LD_LOC 32
34304: PUSH
34305: LD_INT 2
34307: ARRAY
34308: PUSH
34309: LD_INT 3
34311: PUSH
34312: LD_EXP 121
34316: MUL
34317: DIV
34318: PUSH
34319: LD_LOC 33
34323: PUSH
34324: EMPTY
34325: LIST
34326: LIST
34327: LIST
34328: LIST
34329: ST_TO_ADDR
// if your_side in Teams [ 3 ] then
34330: LD_OWVAR 2
34334: PUSH
34335: LD_EXP 73
34339: PUSH
34340: LD_INT 3
34342: ARRAY
34343: IN
34344: IFFALSE 34387
// vypis := [ #WarForTerritory-points-Public-yell , 2 , teams_p [ 3 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
34346: LD_ADDR_VAR 0 3
34350: PUSH
34351: LD_STRING #WarForTerritory-points-Public-yell
34353: PUSH
34354: LD_INT 2
34356: PUSH
34357: LD_LOC 32
34361: PUSH
34362: LD_INT 3
34364: ARRAY
34365: PUSH
34366: LD_INT 3
34368: PUSH
34369: LD_EXP 121
34373: MUL
34374: DIV
34375: PUSH
34376: LD_LOC 33
34380: PUSH
34381: EMPTY
34382: LIST
34383: LIST
34384: LIST
34385: LIST
34386: ST_TO_ADDR
// if your_side in Teams [ 4 ] then
34387: LD_OWVAR 2
34391: PUSH
34392: LD_EXP 73
34396: PUSH
34397: LD_INT 4
34399: ARRAY
34400: IN
34401: IFFALSE 34444
// vypis := [ #WarForTerritory-points-Public-green , 7 , teams_p [ 4 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
34403: LD_ADDR_VAR 0 3
34407: PUSH
34408: LD_STRING #WarForTerritory-points-Public-green
34410: PUSH
34411: LD_INT 7
34413: PUSH
34414: LD_LOC 32
34418: PUSH
34419: LD_INT 4
34421: ARRAY
34422: PUSH
34423: LD_INT 3
34425: PUSH
34426: LD_EXP 121
34430: MUL
34431: DIV
34432: PUSH
34433: LD_LOC 33
34437: PUSH
34438: EMPTY
34439: LIST
34440: LIST
34441: LIST
34442: LIST
34443: ST_TO_ADDR
// end ; Display_WFG := vypis ;
34444: LD_ADDR_EXP 113
34448: PUSH
34449: LD_VAR 0 3
34453: ST_TO_ADDR
// end ; end_of_file
34454: LD_VAR 0 1
34458: RET
// export function SA_OnSiberiteRocketExploded ( siberite_rocket_vehicle , target_x , target_y , requestSide ) ; begin
34459: LD_INT 0
34461: PPUSH
// if GetSide ( siberite_rocket_vehicle ) = requestSide then
34462: LD_VAR 0 1
34466: PPUSH
34467: CALL_OW 255
34471: PUSH
34472: LD_VAR 0 4
34476: EQUAL
34477: IFFALSE 34496
// begin SetAchievement ( ACH_RAD ) ;
34479: LD_STRING ACH_RAD
34481: PPUSH
34482: CALL_OW 543
// SetAchievementEx ( ACH_NL , 1 ) ;
34486: LD_STRING ACH_NL
34488: PPUSH
34489: LD_INT 1
34491: PPUSH
34492: CALL_OW 564
// end end ;
34496: LD_VAR 0 5
34500: RET
// export function SA_Win ( side ) ; begin
34501: LD_INT 0
34503: PPUSH
// case side of 1 :
34504: LD_VAR 0 1
34508: PUSH
34509: LD_INT 1
34511: DOUBLE
34512: EQUAL
34513: IFTRUE 34517
34515: GO 34530
34517: POP
// SetAchievementEx ( ACH_AH , 1 ) ; 2 :
34518: LD_STRING ACH_AH
34520: PPUSH
34521: LD_INT 1
34523: PPUSH
34524: CALL_OW 564
34528: GO 34693
34530: LD_INT 2
34532: DOUBLE
34533: EQUAL
34534: IFTRUE 34538
34536: GO 34551
34538: POP
// SetAchievementEx ( ACH_E , 1 ) ; 3 :
34539: LD_STRING ACH_E
34541: PPUSH
34542: LD_INT 1
34544: PPUSH
34545: CALL_OW 564
34549: GO 34693
34551: LD_INT 3
34553: DOUBLE
34554: EQUAL
34555: IFTRUE 34559
34557: GO 34572
34559: POP
// SetAchievementEx ( ACH_OOL , 1 ) ; [ 1 , 2 ] :
34560: LD_STRING ACH_OOL
34562: PPUSH
34563: LD_INT 1
34565: PPUSH
34566: CALL_OW 564
34570: GO 34693
34572: LD_INT 1
34574: PUSH
34575: LD_INT 2
34577: PUSH
34578: EMPTY
34579: LIST
34580: LIST
34581: DOUBLE
34582: EQUAL
34583: IFTRUE 34587
34585: GO 34612
34587: POP
// begin SetAchievementEx ( ACH_AH , 0.5 ) ;
34588: LD_STRING ACH_AH
34590: PPUSH
34591: LD_REAL  5.00000000000000E-0001
34594: PPUSH
34595: CALL_OW 564
// SetAchievementEx ( ACH_E , 0.5 ) ;
34599: LD_STRING ACH_E
34601: PPUSH
34602: LD_REAL  5.00000000000000E-0001
34605: PPUSH
34606: CALL_OW 564
// end ; [ 2 , 3 ] :
34610: GO 34693
34612: LD_INT 2
34614: PUSH
34615: LD_INT 3
34617: PUSH
34618: EMPTY
34619: LIST
34620: LIST
34621: DOUBLE
34622: EQUAL
34623: IFTRUE 34627
34625: GO 34652
34627: POP
// begin SetAchievementEx ( ACH_OOL , 0.5 ) ;
34628: LD_STRING ACH_OOL
34630: PPUSH
34631: LD_REAL  5.00000000000000E-0001
34634: PPUSH
34635: CALL_OW 564
// SetAchievementEx ( ACH_E , 0.5 ) ;
34639: LD_STRING ACH_E
34641: PPUSH
34642: LD_REAL  5.00000000000000E-0001
34645: PPUSH
34646: CALL_OW 564
// end ; [ 3 , 1 ] :
34650: GO 34693
34652: LD_INT 3
34654: PUSH
34655: LD_INT 1
34657: PUSH
34658: EMPTY
34659: LIST
34660: LIST
34661: DOUBLE
34662: EQUAL
34663: IFTRUE 34667
34665: GO 34692
34667: POP
// begin SetAchievementEx ( ACH_AH , 0.5 ) ;
34668: LD_STRING ACH_AH
34670: PPUSH
34671: LD_REAL  5.00000000000000E-0001
34674: PPUSH
34675: CALL_OW 564
// SetAchievementEx ( ACH_OOL , 0.5 ) ;
34679: LD_STRING ACH_OOL
34681: PPUSH
34682: LD_REAL  5.00000000000000E-0001
34685: PPUSH
34686: CALL_OW 564
// end ; end ;
34690: GO 34693
34692: POP
// end ; end_of_file
34693: LD_VAR 0 2
34697: RET
// var sharedPoints1 , sharedPoints2 , sharedPoints3 ; var pointGame ; export function InitPoints ( ) ; var i , d ; begin
34698: LD_INT 0
34700: PPUSH
34701: PPUSH
34702: PPUSH
// sharedPoints1 = [ ] ;
34703: LD_ADDR_LOC 36
34707: PUSH
34708: EMPTY
34709: ST_TO_ADDR
// sharedPoints2 = [ ] ;
34710: LD_ADDR_LOC 37
34714: PUSH
34715: EMPTY
34716: ST_TO_ADDR
// sharedPoints3 = [ ] ;
34717: LD_ADDR_LOC 38
34721: PUSH
34722: EMPTY
34723: ST_TO_ADDR
// for i = 1 to Side_Positions + 0 do
34724: LD_ADDR_VAR 0 2
34728: PUSH
34729: DOUBLE
34730: LD_INT 1
34732: DEC
34733: ST_TO_ADDR
34734: LD_EXP 75
34738: PUSH
34739: LD_INT 0
34741: PLUS
34742: PUSH
34743: FOR_TO
34744: IFFALSE 34846
// begin if not Side_Positions [ i ] = 0 then
34746: LD_EXP 75
34750: PUSH
34751: LD_VAR 0 2
34755: ARRAY
34756: PUSH
34757: LD_INT 0
34759: EQUAL
34760: NOT
34761: IFFALSE 34775
// SetMultiScore ( i , 0 ) ;
34763: LD_VAR 0 2
34767: PPUSH
34768: LD_INT 0
34770: PPUSH
34771: CALL_OW 506
// sharedPoints1 = Replace ( sharedPoints1 , i , 0 ) ;
34775: LD_ADDR_LOC 36
34779: PUSH
34780: LD_LOC 36
34784: PPUSH
34785: LD_VAR 0 2
34789: PPUSH
34790: LD_INT 0
34792: PPUSH
34793: CALL_OW 1
34797: ST_TO_ADDR
// sharedPoints2 = Replace ( sharedPoints2 , i , 0 ) ;
34798: LD_ADDR_LOC 37
34802: PUSH
34803: LD_LOC 37
34807: PPUSH
34808: LD_VAR 0 2
34812: PPUSH
34813: LD_INT 0
34815: PPUSH
34816: CALL_OW 1
34820: ST_TO_ADDR
// sharedPoints3 = Replace ( sharedPoints3 , i , 0 ) ;
34821: LD_ADDR_LOC 38
34825: PUSH
34826: LD_LOC 38
34830: PPUSH
34831: LD_VAR 0 2
34835: PPUSH
34836: LD_INT 0
34838: PPUSH
34839: CALL_OW 1
34843: ST_TO_ADDR
// end ;
34844: GO 34743
34846: POP
34847: POP
// pointGame = true ;
34848: LD_ADDR_LOC 39
34852: PUSH
34853: LD_INT 1
34855: ST_TO_ADDR
// end ;
34856: LD_VAR 0 1
34860: RET
// every 0 0$1 trigger pointGame do var i , red , blue , yel , green , redN , blueN , yelN , greenN , s , n , p , you ;
34861: LD_LOC 39
34865: IFFALSE 35295
34867: GO 34869
34869: DISABLE
34870: LD_INT 0
34872: PPUSH
34873: PPUSH
34874: PPUSH
34875: PPUSH
34876: PPUSH
34877: PPUSH
34878: PPUSH
34879: PPUSH
34880: PPUSH
34881: PPUSH
34882: PPUSH
34883: PPUSH
34884: PPUSH
// begin if isSGUI then
34885: LD_OWVAR 83
34889: IFFALSE 35295
// begin if Teams [ 1 ] then
34891: LD_EXP 73
34895: PUSH
34896: LD_INT 1
34898: ARRAY
34899: IFFALSE 34911
// red = true else
34901: LD_ADDR_VAR 0 2
34905: PUSH
34906: LD_INT 1
34908: ST_TO_ADDR
34909: GO 34919
// red = false ;
34911: LD_ADDR_VAR 0 2
34915: PUSH
34916: LD_INT 0
34918: ST_TO_ADDR
// if Teams [ 2 ] then
34919: LD_EXP 73
34923: PUSH
34924: LD_INT 2
34926: ARRAY
34927: IFFALSE 34939
// blue = true else
34929: LD_ADDR_VAR 0 3
34933: PUSH
34934: LD_INT 1
34936: ST_TO_ADDR
34937: GO 34947
// blue = false ;
34939: LD_ADDR_VAR 0 3
34943: PUSH
34944: LD_INT 0
34946: ST_TO_ADDR
// if Teams [ 3 ] then
34947: LD_EXP 73
34951: PUSH
34952: LD_INT 3
34954: ARRAY
34955: IFFALSE 34967
// yel = true else
34957: LD_ADDR_VAR 0 4
34961: PUSH
34962: LD_INT 1
34964: ST_TO_ADDR
34965: GO 34975
// yel = false ;
34967: LD_ADDR_VAR 0 4
34971: PUSH
34972: LD_INT 0
34974: ST_TO_ADDR
// if Teams [ 4 ] then
34975: LD_EXP 73
34979: PUSH
34980: LD_INT 4
34982: ARRAY
34983: IFFALSE 34995
// green = true else
34985: LD_ADDR_VAR 0 5
34989: PUSH
34990: LD_INT 1
34992: ST_TO_ADDR
34993: GO 35003
// green = false ;
34995: LD_ADDR_VAR 0 5
34999: PUSH
35000: LD_INT 0
35002: ST_TO_ADDR
// if def_public_score then
35003: LD_EXP 34
35007: IFFALSE 35019
// p = true else
35009: LD_ADDR_VAR 0 12
35013: PUSH
35014: LD_INT 1
35016: ST_TO_ADDR
35017: GO 35027
// p = false ;
35019: LD_ADDR_VAR 0 12
35023: PUSH
35024: LD_INT 0
35026: ST_TO_ADDR
// if team_game then
35027: LD_EXP 80
35031: IFFALSE 35111
// begin you = [ 3 , 1 , 2 , 7 ] [ player_team ] ;
35033: LD_ADDR_VAR 0 13
35037: PUSH
35038: LD_INT 3
35040: PUSH
35041: LD_INT 1
35043: PUSH
35044: LD_INT 2
35046: PUSH
35047: LD_INT 7
35049: PUSH
35050: EMPTY
35051: LIST
35052: LIST
35053: LIST
35054: LIST
35055: PUSH
35056: LD_EXP 71
35060: ARRAY
35061: ST_TO_ADDR
// s = [ blue , yel , red , false , false , false , green , false ] ;
35062: LD_ADDR_VAR 0 10
35066: PUSH
35067: LD_VAR 0 3
35071: PUSH
35072: LD_VAR 0 4
35076: PUSH
35077: LD_VAR 0 2
35081: PUSH
35082: LD_INT 0
35084: PUSH
35085: LD_INT 0
35087: PUSH
35088: LD_INT 0
35090: PUSH
35091: LD_VAR 0 5
35095: PUSH
35096: LD_INT 0
35098: PUSH
35099: EMPTY
35100: LIST
35101: LIST
35102: LIST
35103: LIST
35104: LIST
35105: LIST
35106: LIST
35107: LIST
35108: ST_TO_ADDR
// end else
35109: GO 35196
// begin you = your_side ;
35111: LD_ADDR_VAR 0 13
35115: PUSH
35116: LD_OWVAR 2
35120: ST_TO_ADDR
// s = [ ] ;
35121: LD_ADDR_VAR 0 10
35125: PUSH
35126: EMPTY
35127: ST_TO_ADDR
// for i = 1 to side_positions + 0 do
35128: LD_ADDR_VAR 0 1
35132: PUSH
35133: DOUBLE
35134: LD_INT 1
35136: DEC
35137: ST_TO_ADDR
35138: LD_EXP 75
35142: PUSH
35143: LD_INT 0
35145: PLUS
35146: PUSH
35147: FOR_TO
35148: IFFALSE 35194
// if side_positions [ i ] then
35150: LD_EXP 75
35154: PUSH
35155: LD_VAR 0 1
35159: ARRAY
35160: IFFALSE 35178
// s = s ^ true else
35162: LD_ADDR_VAR 0 10
35166: PUSH
35167: LD_VAR 0 10
35171: PUSH
35172: LD_INT 1
35174: ADD
35175: ST_TO_ADDR
35176: GO 35192
// s = s ^ false ;
35178: LD_ADDR_VAR 0 10
35182: PUSH
35183: LD_VAR 0 10
35187: PUSH
35188: LD_INT 0
35190: ADD
35191: ST_TO_ADDR
35192: GO 35147
35194: POP
35195: POP
// end ; LScore_Init ( s , p , you ) ;
35196: LD_VAR 0 10
35200: PPUSH
35201: LD_VAR 0 12
35205: PPUSH
35206: LD_VAR 0 13
35210: PPUSH
35211: CALL 35475 0 3
// if def_warForTerritory and WarForTerritory_flags then
35215: LD_EXP 36
35219: PUSH
35220: LD_EXP 65
35224: AND
35225: IFFALSE 35247
// LScore_Add_Pieces ( 3 , 3 , WarForTerritory_flags , MaxFlags ) ;
35227: LD_INT 3
35229: PPUSH
35230: LD_INT 3
35232: PPUSH
35233: LD_EXP 65
35237: PPUSH
35238: LD_EXP 114
35242: PPUSH
35243: CALL 36864 0 4
// if def_warForTerritory and WarForTerritory_Points then
35247: LD_EXP 36
35251: PUSH
35252: LD_EXP 64
35256: AND
35257: IFFALSE 35274
// LScore_Add_Points ( 3 , 3 , WarForTerritory_Points ) ;
35259: LD_INT 3
35261: PPUSH
35262: LD_INT 3
35264: PPUSH
35265: LD_EXP 64
35269: PPUSH
35270: CALL 36702 0 3
// if def_kings_age then
35274: LD_EXP 35
35278: IFFALSE 35295
// LScore_Add_Points ( 2 , 2 , final_count ) ;
35280: LD_INT 2
35282: PPUSH
35283: LD_INT 2
35285: PPUSH
35286: LD_EXP 57
35290: PPUSH
35291: CALL 36702 0 3
// end ; end ;
35295: PPOPN 13
35297: END
// export function SetSharedMultiScore ( side , points , typ ) ; var p ; begin
35298: LD_INT 0
35300: PPUSH
35301: PPUSH
// case typ of 1 :
35302: LD_VAR 0 3
35306: PUSH
35307: LD_INT 1
35309: DOUBLE
35310: EQUAL
35311: IFTRUE 35315
35313: GO 35343
35315: POP
// sharedPoints1 = Replace ( sharedPoints1 , side , points ) ; 2 :
35316: LD_ADDR_LOC 36
35320: PUSH
35321: LD_LOC 36
35325: PPUSH
35326: LD_VAR 0 1
35330: PPUSH
35331: LD_VAR 0 2
35335: PPUSH
35336: CALL_OW 1
35340: ST_TO_ADDR
35341: GO 35416
35343: LD_INT 2
35345: DOUBLE
35346: EQUAL
35347: IFTRUE 35351
35349: GO 35379
35351: POP
// sharedPoints2 = Replace ( sharedPoints2 , side , points ) ; 3 :
35352: LD_ADDR_LOC 37
35356: PUSH
35357: LD_LOC 37
35361: PPUSH
35362: LD_VAR 0 1
35366: PPUSH
35367: LD_VAR 0 2
35371: PPUSH
35372: CALL_OW 1
35376: ST_TO_ADDR
35377: GO 35416
35379: LD_INT 3
35381: DOUBLE
35382: EQUAL
35383: IFTRUE 35387
35385: GO 35415
35387: POP
// sharedPoints3 = Replace ( sharedPoints3 , side , points ) ; end ;
35388: LD_ADDR_LOC 38
35392: PUSH
35393: LD_LOC 38
35397: PPUSH
35398: LD_VAR 0 1
35402: PPUSH
35403: LD_VAR 0 2
35407: PPUSH
35408: CALL_OW 1
35412: ST_TO_ADDR
35413: GO 35416
35415: POP
// p = sharedPoints1 [ side ] + sharedPoints2 [ side ] + sharedPoints3 [ side ] ;
35416: LD_ADDR_VAR 0 5
35420: PUSH
35421: LD_LOC 36
35425: PUSH
35426: LD_VAR 0 1
35430: ARRAY
35431: PUSH
35432: LD_LOC 37
35436: PUSH
35437: LD_VAR 0 1
35441: ARRAY
35442: PLUS
35443: PUSH
35444: LD_LOC 38
35448: PUSH
35449: LD_VAR 0 1
35453: ARRAY
35454: PLUS
35455: ST_TO_ADDR
// SetMultiScore ( side , p ) ;
35456: LD_VAR 0 1
35460: PPUSH
35461: LD_VAR 0 5
35465: PPUSH
35466: CALL_OW 506
// end ; end_of_file
35470: LD_VAR 0 4
35474: RET
// export function LScore_Init ( sides , ifPScore , yourSide ) ; begin
35475: LD_INT 0
35477: PPUSH
// LScore_Init2 ( sides , ifPScore , yourSide , false ) ;
35478: LD_VAR 0 1
35482: PPUSH
35483: LD_VAR 0 2
35487: PPUSH
35488: LD_VAR 0 3
35492: PPUSH
35493: LD_INT 0
35495: PPUSH
35496: CALL 35505 0 4
// end ;
35500: LD_VAR 0 4
35504: RET
// export function LScore_Init2 ( sides , ifPScore , yourSide , lockTeam ) ; begin
35505: LD_INT 0
35507: PPUSH
// ToLua ( initScore({ & sides [ 1 ] & , & sides [ 2 ] & , & sides [ 3 ] & , & sides [ 4 ] & , & sides [ 5 ] & , & sides [ 6 ] & , & sides [ 7 ] & , & sides [ 8 ] & }, & ifPScore & , & yourSide & , & lockTeam & ); ) ;
35508: LD_STRING initScore({
35510: PUSH
35511: LD_VAR 0 1
35515: PUSH
35516: LD_INT 1
35518: ARRAY
35519: STR
35520: PUSH
35521: LD_STRING ,
35523: STR
35524: PUSH
35525: LD_VAR 0 1
35529: PUSH
35530: LD_INT 2
35532: ARRAY
35533: STR
35534: PUSH
35535: LD_STRING ,
35537: STR
35538: PUSH
35539: LD_VAR 0 1
35543: PUSH
35544: LD_INT 3
35546: ARRAY
35547: STR
35548: PUSH
35549: LD_STRING ,
35551: STR
35552: PUSH
35553: LD_VAR 0 1
35557: PUSH
35558: LD_INT 4
35560: ARRAY
35561: STR
35562: PUSH
35563: LD_STRING ,
35565: STR
35566: PUSH
35567: LD_VAR 0 1
35571: PUSH
35572: LD_INT 5
35574: ARRAY
35575: STR
35576: PUSH
35577: LD_STRING ,
35579: STR
35580: PUSH
35581: LD_VAR 0 1
35585: PUSH
35586: LD_INT 6
35588: ARRAY
35589: STR
35590: PUSH
35591: LD_STRING ,
35593: STR
35594: PUSH
35595: LD_VAR 0 1
35599: PUSH
35600: LD_INT 7
35602: ARRAY
35603: STR
35604: PUSH
35605: LD_STRING ,
35607: STR
35608: PUSH
35609: LD_VAR 0 1
35613: PUSH
35614: LD_INT 8
35616: ARRAY
35617: STR
35618: PUSH
35619: LD_STRING },
35621: STR
35622: PUSH
35623: LD_VAR 0 2
35627: STR
35628: PUSH
35629: LD_STRING ,
35631: STR
35632: PUSH
35633: LD_VAR 0 3
35637: STR
35638: PUSH
35639: LD_STRING ,
35641: STR
35642: PUSH
35643: LD_VAR 0 4
35647: STR
35648: PUSH
35649: LD_STRING );
35651: STR
35652: PPUSH
35653: CALL_OW 559
// end ;
35657: LD_VAR 0 5
35661: RET
// export function LScore_Reset ( ) ; begin
35662: LD_INT 0
35664: PPUSH
// ToLua ( ResetScorebar(); ) ;
35665: LD_STRING ResetScorebar();
35667: PPUSH
35668: CALL_OW 559
// end ;
35672: LD_VAR 0 1
35676: RET
// export function LScore_Delete ( ID ) ; begin
35677: LD_INT 0
35679: PPUSH
// ToLua ( deleteScore( & ID & ); ) ;
35680: LD_STRING deleteScore(
35682: PUSH
35683: LD_VAR 0 1
35687: STR
35688: PUSH
35689: LD_STRING );
35691: STR
35692: PPUSH
35693: CALL_OW 559
// end ;
35697: LD_VAR 0 2
35701: RET
// export function LScore_Add_Timer ( ID , typ , totalTime ) ; begin
35702: LD_INT 0
35704: PPUSH
// ToLua ( AST( & ID & , & typ & , & totalTime & ,); ) ;
35705: LD_STRING AST(
35707: PUSH
35708: LD_VAR 0 1
35712: STR
35713: PUSH
35714: LD_STRING ,
35716: STR
35717: PUSH
35718: LD_VAR 0 2
35722: STR
35723: PUSH
35724: LD_STRING ,
35726: STR
35727: PUSH
35728: LD_VAR 0 3
35732: STR
35733: PUSH
35734: LD_STRING ,);
35736: STR
35737: PPUSH
35738: CALL_OW 559
// end ;
35742: LD_VAR 0 4
35746: RET
// export function LScore_Add_Timer2 ( ID , typ , totalTime , show_total ) ; begin
35747: LD_INT 0
35749: PPUSH
// ToLua ( AST( & ID & , & typ & , & totalTime & , & show_total & ); ) ;
35750: LD_STRING AST(
35752: PUSH
35753: LD_VAR 0 1
35757: STR
35758: PUSH
35759: LD_STRING ,
35761: STR
35762: PUSH
35763: LD_VAR 0 2
35767: STR
35768: PUSH
35769: LD_STRING ,
35771: STR
35772: PUSH
35773: LD_VAR 0 3
35777: STR
35778: PUSH
35779: LD_STRING ,
35781: STR
35782: PUSH
35783: LD_VAR 0 4
35787: STR
35788: PUSH
35789: LD_STRING );
35791: STR
35792: PPUSH
35793: CALL_OW 559
// end ;
35797: LD_VAR 0 5
35801: RET
// export function LScore_Add_Timer3 ( ID , typ , totalTime , show_total , currentTime ) ; begin
35802: LD_INT 0
35804: PPUSH
// ToLua ( AST( & ID & , & typ & , & totalTime & , & show_total & , & currentTime & ); ) ;
35805: LD_STRING AST(
35807: PUSH
35808: LD_VAR 0 1
35812: STR
35813: PUSH
35814: LD_STRING ,
35816: STR
35817: PUSH
35818: LD_VAR 0 2
35822: STR
35823: PUSH
35824: LD_STRING ,
35826: STR
35827: PUSH
35828: LD_VAR 0 3
35832: STR
35833: PUSH
35834: LD_STRING ,
35836: STR
35837: PUSH
35838: LD_VAR 0 4
35842: STR
35843: PUSH
35844: LD_STRING ,
35846: STR
35847: PUSH
35848: LD_VAR 0 5
35852: STR
35853: PUSH
35854: LD_STRING );
35856: STR
35857: PPUSH
35858: CALL_OW 559
// end ;
35862: LD_VAR 0 6
35866: RET
// export function LScore_Add_ReverseTimer ( ID , typ , totalTime ) ; begin
35867: LD_INT 0
35869: PPUSH
// ToLua ( ASRT( & ID & , & typ & , & totalTime & ,); ) ;
35870: LD_STRING ASRT(
35872: PUSH
35873: LD_VAR 0 1
35877: STR
35878: PUSH
35879: LD_STRING ,
35881: STR
35882: PUSH
35883: LD_VAR 0 2
35887: STR
35888: PUSH
35889: LD_STRING ,
35891: STR
35892: PUSH
35893: LD_VAR 0 3
35897: STR
35898: PUSH
35899: LD_STRING ,);
35901: STR
35902: PPUSH
35903: CALL_OW 559
// end ;
35907: LD_VAR 0 4
35911: RET
// export function LScore_Add_ReverseTimer2 ( ID , typ , totalTime , show_total ) ; begin
35912: LD_INT 0
35914: PPUSH
// ToLua ( ASRT( & ID & , & typ & , & totalTime & , & show_total & ); ) ;
35915: LD_STRING ASRT(
35917: PUSH
35918: LD_VAR 0 1
35922: STR
35923: PUSH
35924: LD_STRING ,
35926: STR
35927: PUSH
35928: LD_VAR 0 2
35932: STR
35933: PUSH
35934: LD_STRING ,
35936: STR
35937: PUSH
35938: LD_VAR 0 3
35942: STR
35943: PUSH
35944: LD_STRING ,
35946: STR
35947: PUSH
35948: LD_VAR 0 4
35952: STR
35953: PUSH
35954: LD_STRING );
35956: STR
35957: PPUSH
35958: CALL_OW 559
// end ;
35962: LD_VAR 0 5
35966: RET
// export function LScore_Add_ReverseTimer3 ( ID , typ , totalTime , show_total , currentTime ) ; begin
35967: LD_INT 0
35969: PPUSH
// ToLua ( ASRT( & ID & , & typ & , & totalTime & , & show_total & , & currentTime & ); ) ;
35970: LD_STRING ASRT(
35972: PUSH
35973: LD_VAR 0 1
35977: STR
35978: PUSH
35979: LD_STRING ,
35981: STR
35982: PUSH
35983: LD_VAR 0 2
35987: STR
35988: PUSH
35989: LD_STRING ,
35991: STR
35992: PUSH
35993: LD_VAR 0 3
35997: STR
35998: PUSH
35999: LD_STRING ,
36001: STR
36002: PUSH
36003: LD_VAR 0 4
36007: STR
36008: PUSH
36009: LD_STRING ,
36011: STR
36012: PUSH
36013: LD_VAR 0 5
36017: STR
36018: PUSH
36019: LD_STRING );
36021: STR
36022: PPUSH
36023: CALL_OW 559
// end ;
36027: LD_VAR 0 6
36031: RET
// export function LScore_update_Timer ( ID , currentTime ) ; begin
36032: LD_INT 0
36034: PPUSH
// ToLua ( UST( & id & , & currentTime & ); ) ;
36035: LD_STRING UST(
36037: PUSH
36038: LD_VAR 0 1
36042: STR
36043: PUSH
36044: LD_STRING ,
36046: STR
36047: PUSH
36048: LD_VAR 0 2
36052: STR
36053: PUSH
36054: LD_STRING );
36056: STR
36057: PPUSH
36058: CALL_OW 559
// end ;
36062: LD_VAR 0 3
36066: RET
// export function LScore_update_Timer2 ( ID , currentTime , totalTime ) ; begin
36067: LD_INT 0
36069: PPUSH
// ToLua ( UST( & id & , & currentTime & , & totalTime & ); ) ;
36070: LD_STRING UST(
36072: PUSH
36073: LD_VAR 0 1
36077: STR
36078: PUSH
36079: LD_STRING ,
36081: STR
36082: PUSH
36083: LD_VAR 0 2
36087: STR
36088: PUSH
36089: LD_STRING ,
36091: STR
36092: PUSH
36093: LD_VAR 0 3
36097: STR
36098: PUSH
36099: LD_STRING );
36101: STR
36102: PPUSH
36103: CALL_OW 559
// end ;
36107: LD_VAR 0 4
36111: RET
// export function LScore_Change_TimerColourRGB ( id , red , green , blue ) ; begin
36112: LD_INT 0
36114: PPUSH
// ToLua ( CCST( & id & ,{ & red & , & green & , & blue & }); ) ;
36115: LD_STRING CCST(
36117: PUSH
36118: LD_VAR 0 1
36122: STR
36123: PUSH
36124: LD_STRING ,{
36126: STR
36127: PUSH
36128: LD_VAR 0 2
36132: STR
36133: PUSH
36134: LD_STRING ,
36136: STR
36137: PUSH
36138: LD_VAR 0 3
36142: STR
36143: PUSH
36144: LD_STRING ,
36146: STR
36147: PUSH
36148: LD_VAR 0 4
36152: STR
36153: PUSH
36154: LD_STRING });
36156: STR
36157: PPUSH
36158: CALL_OW 559
// end ;
36162: LD_VAR 0 5
36166: RET
// export function LScore_Change_TimerColour ( id , side ) ; begin
36167: LD_INT 0
36169: PPUSH
// ToLua ( CCST( & id & , & side & ); ) ;
36170: LD_STRING CCST(
36172: PUSH
36173: LD_VAR 0 1
36177: STR
36178: PUSH
36179: LD_STRING ,
36181: STR
36182: PUSH
36183: LD_VAR 0 2
36187: STR
36188: PUSH
36189: LD_STRING );
36191: STR
36192: PPUSH
36193: CALL_OW 559
// end ;
36197: LD_VAR 0 3
36201: RET
// export function LScore_Add_SinglePoints ( ID , typ , totalPoints ) ; begin
36202: LD_INT 0
36204: PPUSH
// ToLua ( ASSP( & ID & , & typ & , & totalPoints & ,); ) ;
36205: LD_STRING ASSP(
36207: PUSH
36208: LD_VAR 0 1
36212: STR
36213: PUSH
36214: LD_STRING ,
36216: STR
36217: PUSH
36218: LD_VAR 0 2
36222: STR
36223: PUSH
36224: LD_STRING ,
36226: STR
36227: PUSH
36228: LD_VAR 0 3
36232: STR
36233: PUSH
36234: LD_STRING ,);
36236: STR
36237: PPUSH
36238: CALL_OW 559
// end ;
36242: LD_VAR 0 4
36246: RET
// export function LScore_Add_SinglePoints2 ( ID , typ , totalPoints , show_total ) ; begin
36247: LD_INT 0
36249: PPUSH
// ToLua ( ASSP( & ID & , & typ & , & totalPoints & , & show_total & ); ) ;
36250: LD_STRING ASSP(
36252: PUSH
36253: LD_VAR 0 1
36257: STR
36258: PUSH
36259: LD_STRING ,
36261: STR
36262: PUSH
36263: LD_VAR 0 2
36267: STR
36268: PUSH
36269: LD_STRING ,
36271: STR
36272: PUSH
36273: LD_VAR 0 3
36277: STR
36278: PUSH
36279: LD_STRING ,
36281: STR
36282: PUSH
36283: LD_VAR 0 4
36287: STR
36288: PUSH
36289: LD_STRING );
36291: STR
36292: PPUSH
36293: CALL_OW 559
// end ;
36297: LD_VAR 0 5
36301: RET
// export function LScore_Add_SinglePoints3 ( ID , typ , totalPoints , show_total , currentPoints ) ; begin
36302: LD_INT 0
36304: PPUSH
// ToLua ( ASSP( & ID & , & typ & , & totalPoints & , & show_total & , & currentPoints & ); ) ;
36305: LD_STRING ASSP(
36307: PUSH
36308: LD_VAR 0 1
36312: STR
36313: PUSH
36314: LD_STRING ,
36316: STR
36317: PUSH
36318: LD_VAR 0 2
36322: STR
36323: PUSH
36324: LD_STRING ,
36326: STR
36327: PUSH
36328: LD_VAR 0 3
36332: STR
36333: PUSH
36334: LD_STRING ,
36336: STR
36337: PUSH
36338: LD_VAR 0 4
36342: STR
36343: PUSH
36344: LD_STRING ,
36346: STR
36347: PUSH
36348: LD_VAR 0 5
36352: STR
36353: PUSH
36354: LD_STRING );
36356: STR
36357: PPUSH
36358: CALL_OW 559
// end ;
36362: LD_VAR 0 6
36366: RET
// export function LScore_Add_ReverseSinglePoints ( ID , typ , totalPoints ) ; begin
36367: LD_INT 0
36369: PPUSH
// ToLua ( ASRSP( & ID & , & typ & , & totalPoints & ,); ) ;
36370: LD_STRING ASRSP(
36372: PUSH
36373: LD_VAR 0 1
36377: STR
36378: PUSH
36379: LD_STRING ,
36381: STR
36382: PUSH
36383: LD_VAR 0 2
36387: STR
36388: PUSH
36389: LD_STRING ,
36391: STR
36392: PUSH
36393: LD_VAR 0 3
36397: STR
36398: PUSH
36399: LD_STRING ,);
36401: STR
36402: PPUSH
36403: CALL_OW 559
// end ;
36407: LD_VAR 0 4
36411: RET
// export function LScore_Add_ReverseSinglePoints2 ( ID , typ , totalPoints , show_total ) ; begin
36412: LD_INT 0
36414: PPUSH
// ToLua ( ASRSP( & ID & , & typ & , & totalPoints & , & show_total & ); ) ;
36415: LD_STRING ASRSP(
36417: PUSH
36418: LD_VAR 0 1
36422: STR
36423: PUSH
36424: LD_STRING ,
36426: STR
36427: PUSH
36428: LD_VAR 0 2
36432: STR
36433: PUSH
36434: LD_STRING ,
36436: STR
36437: PUSH
36438: LD_VAR 0 3
36442: STR
36443: PUSH
36444: LD_STRING ,
36446: STR
36447: PUSH
36448: LD_VAR 0 4
36452: STR
36453: PUSH
36454: LD_STRING );
36456: STR
36457: PPUSH
36458: CALL_OW 559
// end ;
36462: LD_VAR 0 5
36466: RET
// export function LScore_Add_ReverseSinglePoints3 ( ID , typ , totalPoints , show_total , currentPoints ) ; begin
36467: LD_INT 0
36469: PPUSH
// ToLua ( ASRSP( & ID & , & typ & , & totalPoints & , & show_total & , & currentPoints & ); ) ;
36470: LD_STRING ASRSP(
36472: PUSH
36473: LD_VAR 0 1
36477: STR
36478: PUSH
36479: LD_STRING ,
36481: STR
36482: PUSH
36483: LD_VAR 0 2
36487: STR
36488: PUSH
36489: LD_STRING ,
36491: STR
36492: PUSH
36493: LD_VAR 0 3
36497: STR
36498: PUSH
36499: LD_STRING ,
36501: STR
36502: PUSH
36503: LD_VAR 0 4
36507: STR
36508: PUSH
36509: LD_STRING ,
36511: STR
36512: PUSH
36513: LD_VAR 0 5
36517: STR
36518: PUSH
36519: LD_STRING );
36521: STR
36522: PPUSH
36523: CALL_OW 559
// end ;
36527: LD_VAR 0 6
36531: RET
// export function LScore_update_SinglePoints ( ID , currentPoints ) ; begin
36532: LD_INT 0
36534: PPUSH
// ToLua ( USSP( & id & , & currentPoints & ); ) ;
36535: LD_STRING USSP(
36537: PUSH
36538: LD_VAR 0 1
36542: STR
36543: PUSH
36544: LD_STRING ,
36546: STR
36547: PUSH
36548: LD_VAR 0 2
36552: STR
36553: PUSH
36554: LD_STRING );
36556: STR
36557: PPUSH
36558: CALL_OW 559
// end ;
36562: LD_VAR 0 3
36566: RET
// export function LScore_update_SinglePoints2 ( ID , currentPoints , totalPoints ) ; begin
36567: LD_INT 0
36569: PPUSH
// ToLua ( USSP( & id & , & currentPoints & , & totalPoints & ); ) ;
36570: LD_STRING USSP(
36572: PUSH
36573: LD_VAR 0 1
36577: STR
36578: PUSH
36579: LD_STRING ,
36581: STR
36582: PUSH
36583: LD_VAR 0 2
36587: STR
36588: PUSH
36589: LD_STRING ,
36591: STR
36592: PUSH
36593: LD_VAR 0 3
36597: STR
36598: PUSH
36599: LD_STRING );
36601: STR
36602: PPUSH
36603: CALL_OW 559
// end ;
36607: LD_VAR 0 4
36611: RET
// export function LScore_Change_SinglePointsRGB ( id , red , green , blue ) ; begin
36612: LD_INT 0
36614: PPUSH
// ToLua ( CCSSP( & id & ,{ & red & , & green & , & blue & }); ) ;
36615: LD_STRING CCSSP(
36617: PUSH
36618: LD_VAR 0 1
36622: STR
36623: PUSH
36624: LD_STRING ,{
36626: STR
36627: PUSH
36628: LD_VAR 0 2
36632: STR
36633: PUSH
36634: LD_STRING ,
36636: STR
36637: PUSH
36638: LD_VAR 0 3
36642: STR
36643: PUSH
36644: LD_STRING ,
36646: STR
36647: PUSH
36648: LD_VAR 0 4
36652: STR
36653: PUSH
36654: LD_STRING });
36656: STR
36657: PPUSH
36658: CALL_OW 559
// end ;
36662: LD_VAR 0 5
36666: RET
// export function LScore_Change_SinglePoints ( id , side ) ; begin
36667: LD_INT 0
36669: PPUSH
// ToLua ( CCSSP( & id & , & side & ); ) ;
36670: LD_STRING CCSSP(
36672: PUSH
36673: LD_VAR 0 1
36677: STR
36678: PUSH
36679: LD_STRING ,
36681: STR
36682: PUSH
36683: LD_VAR 0 2
36687: STR
36688: PUSH
36689: LD_STRING );
36691: STR
36692: PPUSH
36693: CALL_OW 559
// end ;
36697: LD_VAR 0 3
36701: RET
// export function LScore_Add_Points ( ID , typ , goal ) ; begin
36702: LD_INT 0
36704: PPUSH
// ToLua ( ASP( & id & , & typ & , & goal & ); ) ;
36705: LD_STRING ASP(
36707: PUSH
36708: LD_VAR 0 1
36712: STR
36713: PUSH
36714: LD_STRING ,
36716: STR
36717: PUSH
36718: LD_VAR 0 2
36722: STR
36723: PUSH
36724: LD_STRING ,
36726: STR
36727: PUSH
36728: LD_VAR 0 3
36732: STR
36733: PUSH
36734: LD_STRING );
36736: STR
36737: PPUSH
36738: CALL_OW 559
// end ;
36742: LD_VAR 0 4
36746: RET
// export function LScore_Update_Points ( ID , side , points ) ; begin
36747: LD_INT 0
36749: PPUSH
// ToLua ( USP( & id & , & side & , & points & ); ) ;
36750: LD_STRING USP(
36752: PUSH
36753: LD_VAR 0 1
36757: STR
36758: PUSH
36759: LD_STRING ,
36761: STR
36762: PUSH
36763: LD_VAR 0 2
36767: STR
36768: PUSH
36769: LD_STRING ,
36771: STR
36772: PUSH
36773: LD_VAR 0 3
36777: STR
36778: PUSH
36779: LD_STRING );
36781: STR
36782: PPUSH
36783: CALL_OW 559
// end ;
36787: LD_VAR 0 4
36791: RET
// export function LScore_Update_PointsAll ( ID , score ) ; var i ; begin
36792: LD_INT 0
36794: PPUSH
36795: PPUSH
// for i = 1 to 8 do
36796: LD_ADDR_VAR 0 4
36800: PUSH
36801: DOUBLE
36802: LD_INT 1
36804: DEC
36805: ST_TO_ADDR
36806: LD_INT 8
36808: PUSH
36809: FOR_TO
36810: IFFALSE 36857
// ToLua ( USP( & ID & , & i & , & score [ i ] & ); ) ;
36812: LD_STRING USP(
36814: PUSH
36815: LD_VAR 0 1
36819: STR
36820: PUSH
36821: LD_STRING ,
36823: STR
36824: PUSH
36825: LD_VAR 0 4
36829: STR
36830: PUSH
36831: LD_STRING ,
36833: STR
36834: PUSH
36835: LD_VAR 0 2
36839: PUSH
36840: LD_VAR 0 4
36844: ARRAY
36845: STR
36846: PUSH
36847: LD_STRING );
36849: STR
36850: PPUSH
36851: CALL_OW 559
36855: GO 36809
36857: POP
36858: POP
// end ;
36859: LD_VAR 0 3
36863: RET
// export function LScore_Add_Pieces ( id , typ , goal , total ) ; begin
36864: LD_INT 0
36866: PPUSH
// ToLua ( ASC( & id & , & typ & , & goal & , & total & ); ) ;
36867: LD_STRING ASC(
36869: PUSH
36870: LD_VAR 0 1
36874: STR
36875: PUSH
36876: LD_STRING ,
36878: STR
36879: PUSH
36880: LD_VAR 0 2
36884: STR
36885: PUSH
36886: LD_STRING ,
36888: STR
36889: PUSH
36890: LD_VAR 0 3
36894: STR
36895: PUSH
36896: LD_STRING ,
36898: STR
36899: PUSH
36900: LD_VAR 0 4
36904: STR
36905: PUSH
36906: LD_STRING );
36908: STR
36909: PPUSH
36910: CALL_OW 559
// end ;
36914: LD_VAR 0 5
36918: RET
// export function LScore_Update_Peices ( id , sidesChunks ) ; begin
36919: LD_INT 0
36921: PPUSH
// ToLua ( USC( & id & ,{ & sidesChunks [ 1 ] & , & sidesChunks [ 2 ] & , & sidesChunks [ 3 ] & , & sidesChunks [ 4 ] & , & sidesChunks [ 5 ] & , & sidesChunks [ 6 ] & , & sidesChunks [ 7 ] & , & sidesChunks [ 8 ] & }); ) ;
36922: LD_STRING USC(
36924: PUSH
36925: LD_VAR 0 1
36929: STR
36930: PUSH
36931: LD_STRING ,{
36933: STR
36934: PUSH
36935: LD_VAR 0 2
36939: PUSH
36940: LD_INT 1
36942: ARRAY
36943: STR
36944: PUSH
36945: LD_STRING ,
36947: STR
36948: PUSH
36949: LD_VAR 0 2
36953: PUSH
36954: LD_INT 2
36956: ARRAY
36957: STR
36958: PUSH
36959: LD_STRING ,
36961: STR
36962: PUSH
36963: LD_VAR 0 2
36967: PUSH
36968: LD_INT 3
36970: ARRAY
36971: STR
36972: PUSH
36973: LD_STRING ,
36975: STR
36976: PUSH
36977: LD_VAR 0 2
36981: PUSH
36982: LD_INT 4
36984: ARRAY
36985: STR
36986: PUSH
36987: LD_STRING ,
36989: STR
36990: PUSH
36991: LD_VAR 0 2
36995: PUSH
36996: LD_INT 5
36998: ARRAY
36999: STR
37000: PUSH
37001: LD_STRING ,
37003: STR
37004: PUSH
37005: LD_VAR 0 2
37009: PUSH
37010: LD_INT 6
37012: ARRAY
37013: STR
37014: PUSH
37015: LD_STRING ,
37017: STR
37018: PUSH
37019: LD_VAR 0 2
37023: PUSH
37024: LD_INT 7
37026: ARRAY
37027: STR
37028: PUSH
37029: LD_STRING ,
37031: STR
37032: PUSH
37033: LD_VAR 0 2
37037: PUSH
37038: LD_INT 8
37040: ARRAY
37041: STR
37042: PUSH
37043: LD_STRING });
37045: STR
37046: PPUSH
37047: CALL_OW 559
// end ;
37051: LD_VAR 0 3
37055: RET
