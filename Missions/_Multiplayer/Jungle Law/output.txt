// starting begin GT_DoubleNat = [ ] ;
   0: LD_ADDR_EXP 3
   4: PUSH
   5: EMPTY
   6: ST_TO_ADDR
// GT_DoublePeople = [ ] ;
   7: LD_ADDR_EXP 4
  11: PUSH
  12: EMPTY
  13: ST_TO_ADDR
// GT_TripleNat = [ ] ;
  14: LD_ADDR_EXP 5
  18: PUSH
  19: EMPTY
  20: ST_TO_ADDR
// GT_Survival = [ 24 , 23 , 22 , 21 ] ;
  21: LD_ADDR_EXP 6
  25: PUSH
  26: LD_INT 24
  28: PUSH
  29: LD_INT 23
  31: PUSH
  32: LD_INT 22
  34: PUSH
  35: LD_INT 21
  37: PUSH
  38: EMPTY
  39: LIST
  40: LIST
  41: LIST
  42: LIST
  43: ST_TO_ADDR
// GT_Mine = [ ] ;
  44: LD_ADDR_EXP 2
  48: PUSH
  49: EMPTY
  50: ST_TO_ADDR
// GT_RankedGames = [ 10 , 11 ] ;
  51: LD_ADDR_EXP 7
  55: PUSH
  56: LD_INT 10
  58: PUSH
  59: LD_INT 11
  61: PUSH
  62: EMPTY
  63: LIST
  64: LIST
  65: ST_TO_ADDR
// enable_human_prediction := true ;
  66: LD_ADDR_OWVAR 51
  70: PUSH
  71: LD_INT 1
  73: ST_TO_ADDR
// Disable_All_Games ;
  74: CALL 357 0 0
// mp_selectmsg = true ;
  78: LD_ADDR_OWVAR 13
  82: PUSH
  83: LD_INT 1
  85: ST_TO_ADDR
// read_multiplayer_and_game_parameters ;
  86: CALL 2760 0 0
// specialParameters ;
  90: CALL 369 0 0
// standartSets ;
  94: CALL 3378 0 0
// prepare_map_coordinates ;
  98: CALL 400 0 0
// InitGameRules ;
 102: CALL 26300 0 0
// set_shared_visions_and_alliances ;
 106: CALL 5319 0 0
// ResetFog ;
 110: CALL_OW 335
// ClearAllFogForSide ( Player_Side ) ;
 114: LD_EXP 70
 118: PPUSH
 119: CALL_OW 520
// AnimateTrees ( true ) ;
 123: LD_INT 1
 125: PPUSH
 126: CALL_OW 573
// init_map ;
 130: CALL 4474 0 0
// if Game_Type in GT_DoubleNat ^ GT_TripleNat then
 134: LD_EXP 1
 138: PUSH
 139: LD_EXP 3
 143: PUSH
 144: LD_EXP 5
 148: ADD
 149: IN
 150: IFFALSE 156
// modify_nations ;
 152: CALL 6172 0 0
// if not def_game_rules then
 156: LD_EXP 9
 160: NOT
 161: IFFALSE 170
// begin Start_tech_ur ;
 163: CALL 18575 0 0
// enable ( 30 ) ;
 167: LD_INT 30
 169: ENABLE_MARKED
// end ; prepare_sides ;
 170: CALL 5628 0 0
// InitLimits ;
 174: CALL 29005 0 0
// if def_kings_age or def_warForTerritory then
 178: LD_EXP 35
 182: PUSH
 183: LD_EXP 36
 187: OR
 188: IFFALSE 194
// InitPoints ;
 190: CALL 34744 0 0
// if def_kings_age then
 194: LD_EXP 35
 198: IFFALSE 204
// init_kings_counting ;
 200: CALL 22608 0 0
// init_respawn ;
 204: CALL 10524 0 0
// Init_Win_Condition ;
 208: CALL 13021 0 0
// mastodonti ;
 212: CALL 9152 0 0
// Start_Zvirata ;
 216: CALL 9471 0 0
// init_Daily ;
 220: CALL 24764 0 0
// your_side := Player_Side ;
 224: LD_ADDR_OWVAR 2
 228: PUSH
 229: LD_EXP 70
 233: ST_TO_ADDR
// music_nat := Side_Nations [ your_side ] ;
 234: LD_ADDR_OWVAR 71
 238: PUSH
 239: LD_EXP 76
 243: PUSH
 244: LD_OWVAR 2
 248: ARRAY
 249: ST_TO_ADDR
// if IAmSpec then
 250: CALL_OW 531
 254: IFFALSE 278
// begin FogOff ( true ) ;
 256: LD_INT 1
 258: PPUSH
 259: CALL_OW 344
// CenterNowOnXY ( 120 , 80 ) ;
 263: LD_INT 120
 265: PPUSH
 266: LD_INT 80
 268: PPUSH
 269: CALL_OW 86
// enable ( 400 ) ;
 273: LD_INT 400
 275: ENABLE_MARKED
// end else
 276: GO 328
// begin CenterNowOnXY ( start_def [ Side_Positions [ your_side ] ] [ 1 ] , start_def [ Side_Positions [ your_side ] ] [ 2 ] ) ;
 278: LD_EXP 83
 282: PUSH
 283: LD_EXP 75
 287: PUSH
 288: LD_OWVAR 2
 292: ARRAY
 293: ARRAY
 294: PUSH
 295: LD_INT 1
 297: ARRAY
 298: PPUSH
 299: LD_EXP 83
 303: PUSH
 304: LD_EXP 75
 308: PUSH
 309: LD_OWVAR 2
 313: ARRAY
 314: ARRAY
 315: PUSH
 316: LD_INT 2
 318: ARRAY
 319: PPUSH
 320: CALL_OW 86
// Init_Win_Condition ;
 324: CALL 13021 0 0
// end ; if def_builduptime then
 328: LD_EXP 30
 332: IFFALSE 338
// BeginBuildUp ;
 334: CALL 25574 0 0
// if def_warForTerritory then
 338: LD_EXP 36
 342: IFFALSE 348
// Init_WarForTerritory ;
 344: CALL 30270 0 0
// InitDisplayNames ;
 348: CALL 15933 0 0
// InitMultiplayerTime ;
 352: CALL 16603 0 0
// end ;
 356: END
// function Disable_All_Games ; begin
 357: LD_INT 0
 359: PPUSH
// Disable_Standard_Games ;
 360: CALL 9513 0 0
// end ;
 364: LD_VAR 0 1
 368: RET
// function specialParameters ; var d ; begin
 369: LD_INT 0
 371: PPUSH
 372: PPUSH
// if not isSGUI then
 373: LD_OWVAR 83
 377: NOT
 378: IFFALSE 395
// begin if not game_type in GT_Survival then
 380: LD_EXP 1
 384: PUSH
 385: LD_EXP 6
 389: IN
 390: NOT
 391: IFFALSE 393
// begin end ; end else
 393: GO 395
// begin end ; end ;
 395: LD_VAR 0 1
 399: RET
// function prepare_map_coordinates ; begin
 400: LD_INT 0
 402: PPUSH
// depot_def := [ [ 12 , 8 , 2 ] , [ 83 , 146 , 0 ] , [ 156 , 9 , 3 ] , [ 225 , 149 , 5 ] ] ;
 403: LD_ADDR_EXP 81
 407: PUSH
 408: LD_INT 12
 410: PUSH
 411: LD_INT 8
 413: PUSH
 414: LD_INT 2
 416: PUSH
 417: EMPTY
 418: LIST
 419: LIST
 420: LIST
 421: PUSH
 422: LD_INT 83
 424: PUSH
 425: LD_INT 146
 427: PUSH
 428: LD_INT 0
 430: PUSH
 431: EMPTY
 432: LIST
 433: LIST
 434: LIST
 435: PUSH
 436: LD_INT 156
 438: PUSH
 439: LD_INT 9
 441: PUSH
 442: LD_INT 3
 444: PUSH
 445: EMPTY
 446: LIST
 447: LIST
 448: LIST
 449: PUSH
 450: LD_INT 225
 452: PUSH
 453: LD_INT 149
 455: PUSH
 456: LD_INT 5
 458: PUSH
 459: EMPTY
 460: LIST
 461: LIST
 462: LIST
 463: PUSH
 464: EMPTY
 465: LIST
 466: LIST
 467: LIST
 468: LIST
 469: ST_TO_ADDR
// oil_deposits_locations := [ [ 20 , 4 ] , [ 93 , 153 ] , [ 141 , 4 ] , [ 220 , 155 ] , ] ;
 470: LD_ADDR_EXP 86
 474: PUSH
 475: LD_INT 20
 477: PUSH
 478: LD_INT 4
 480: PUSH
 481: EMPTY
 482: LIST
 483: LIST
 484: PUSH
 485: LD_INT 93
 487: PUSH
 488: LD_INT 153
 490: PUSH
 491: EMPTY
 492: LIST
 493: LIST
 494: PUSH
 495: LD_INT 141
 497: PUSH
 498: LD_INT 4
 500: PUSH
 501: EMPTY
 502: LIST
 503: LIST
 504: PUSH
 505: LD_INT 220
 507: PUSH
 508: LD_INT 155
 510: PUSH
 511: EMPTY
 512: LIST
 513: LIST
 514: PUSH
 515: EMPTY
 516: LIST
 517: LIST
 518: LIST
 519: LIST
 520: ST_TO_ADDR
// siberite_deposits_locations := [ [ 18 , 27 ] , [ 70 , 133 ] , [ 169 , 29 ] , [ 221 , 130 ] , ] ;
 521: LD_ADDR_EXP 88
 525: PUSH
 526: LD_INT 18
 528: PUSH
 529: LD_INT 27
 531: PUSH
 532: EMPTY
 533: LIST
 534: LIST
 535: PUSH
 536: LD_INT 70
 538: PUSH
 539: LD_INT 133
 541: PUSH
 542: EMPTY
 543: LIST
 544: LIST
 545: PUSH
 546: LD_INT 169
 548: PUSH
 549: LD_INT 29
 551: PUSH
 552: EMPTY
 553: LIST
 554: LIST
 555: PUSH
 556: LD_INT 221
 558: PUSH
 559: LD_INT 130
 561: PUSH
 562: EMPTY
 563: LIST
 564: LIST
 565: PUSH
 566: EMPTY
 567: LIST
 568: LIST
 569: LIST
 570: LIST
 571: ST_TO_ADDR
// extra_oil_deposits_locations := [ [ 53 , 26 ] , [ 187 , 139 ] , [ 129 , 20 ] , [ 106 , 135 ] ] ;
 572: LD_ADDR_EXP 85
 576: PUSH
 577: LD_INT 53
 579: PUSH
 580: LD_INT 26
 582: PUSH
 583: EMPTY
 584: LIST
 585: LIST
 586: PUSH
 587: LD_INT 187
 589: PUSH
 590: LD_INT 139
 592: PUSH
 593: EMPTY
 594: LIST
 595: LIST
 596: PUSH
 597: LD_INT 129
 599: PUSH
 600: LD_INT 20
 602: PUSH
 603: EMPTY
 604: LIST
 605: LIST
 606: PUSH
 607: LD_INT 106
 609: PUSH
 610: LD_INT 135
 612: PUSH
 613: EMPTY
 614: LIST
 615: LIST
 616: PUSH
 617: EMPTY
 618: LIST
 619: LIST
 620: LIST
 621: LIST
 622: ST_TO_ADDR
// extra_sib_deposits_locations := [ [ 51 , 53 ] , [ 183 , 107 ] , [ 155 , 53 ] , [ 80 , 106 ] ] ;
 623: LD_ADDR_EXP 87
 627: PUSH
 628: LD_INT 51
 630: PUSH
 631: LD_INT 53
 633: PUSH
 634: EMPTY
 635: LIST
 636: LIST
 637: PUSH
 638: LD_INT 183
 640: PUSH
 641: LD_INT 107
 643: PUSH
 644: EMPTY
 645: LIST
 646: LIST
 647: PUSH
 648: LD_INT 155
 650: PUSH
 651: LD_INT 53
 653: PUSH
 654: EMPTY
 655: LIST
 656: LIST
 657: PUSH
 658: LD_INT 80
 660: PUSH
 661: LD_INT 106
 663: PUSH
 664: EMPTY
 665: LIST
 666: LIST
 667: PUSH
 668: EMPTY
 669: LIST
 670: LIST
 671: LIST
 672: LIST
 673: ST_TO_ADDR
// for_show_near_resources = [ [ [ oil_deposits_locations [ 1 ] ] , [ siberite_deposits_locations [ 1 ] ] ] , [ [ oil_deposits_locations [ 2 ] ] , [ siberite_deposits_locations [ 2 ] ] ] , [ [ oil_deposits_locations [ 3 ] ] , [ siberite_deposits_locations [ 3 ] ] ] , [ [ oil_deposits_locations [ 4 ] ] , [ siberite_deposits_locations [ 4 ] ] ] , ] ;
 674: LD_ADDR_EXP 63
 678: PUSH
 679: LD_EXP 86
 683: PUSH
 684: LD_INT 1
 686: ARRAY
 687: PUSH
 688: EMPTY
 689: LIST
 690: PUSH
 691: LD_EXP 88
 695: PUSH
 696: LD_INT 1
 698: ARRAY
 699: PUSH
 700: EMPTY
 701: LIST
 702: PUSH
 703: EMPTY
 704: LIST
 705: LIST
 706: PUSH
 707: LD_EXP 86
 711: PUSH
 712: LD_INT 2
 714: ARRAY
 715: PUSH
 716: EMPTY
 717: LIST
 718: PUSH
 719: LD_EXP 88
 723: PUSH
 724: LD_INT 2
 726: ARRAY
 727: PUSH
 728: EMPTY
 729: LIST
 730: PUSH
 731: EMPTY
 732: LIST
 733: LIST
 734: PUSH
 735: LD_EXP 86
 739: PUSH
 740: LD_INT 3
 742: ARRAY
 743: PUSH
 744: EMPTY
 745: LIST
 746: PUSH
 747: LD_EXP 88
 751: PUSH
 752: LD_INT 3
 754: ARRAY
 755: PUSH
 756: EMPTY
 757: LIST
 758: PUSH
 759: EMPTY
 760: LIST
 761: LIST
 762: PUSH
 763: LD_EXP 86
 767: PUSH
 768: LD_INT 4
 770: ARRAY
 771: PUSH
 772: EMPTY
 773: LIST
 774: PUSH
 775: LD_EXP 88
 779: PUSH
 780: LD_INT 4
 782: ARRAY
 783: PUSH
 784: EMPTY
 785: LIST
 786: PUSH
 787: EMPTY
 788: LIST
 789: LIST
 790: PUSH
 791: EMPTY
 792: LIST
 793: LIST
 794: LIST
 795: LIST
 796: ST_TO_ADDR
// case def_base_level of 0 :
 797: LD_EXP 10
 801: PUSH
 802: LD_INT 0
 804: DOUBLE
 805: EQUAL
 806: IFTRUE 810
 808: GO 844
 810: POP
// begin buildings_def = [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
 811: LD_ADDR_EXP 39
 815: PUSH
 816: EMPTY
 817: PUSH
 818: EMPTY
 819: PUSH
 820: EMPTY
 821: PUSH
 822: EMPTY
 823: PUSH
 824: EMPTY
 825: PUSH
 826: EMPTY
 827: PUSH
 828: EMPTY
 829: PUSH
 830: EMPTY
 831: PUSH
 832: EMPTY
 833: LIST
 834: LIST
 835: LIST
 836: LIST
 837: LIST
 838: LIST
 839: LIST
 840: LIST
 841: ST_TO_ADDR
// end ; 1 :
 842: GO 1225
 844: LD_INT 1
 846: DOUBLE
 847: EQUAL
 848: IFTRUE 852
 850: GO 886
 852: POP
// begin buildings_def = [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
 853: LD_ADDR_EXP 39
 857: PUSH
 858: EMPTY
 859: PUSH
 860: EMPTY
 861: PUSH
 862: EMPTY
 863: PUSH
 864: EMPTY
 865: PUSH
 866: EMPTY
 867: PUSH
 868: EMPTY
 869: PUSH
 870: EMPTY
 871: PUSH
 872: EMPTY
 873: PUSH
 874: EMPTY
 875: LIST
 876: LIST
 877: LIST
 878: LIST
 879: LIST
 880: LIST
 881: LIST
 882: LIST
 883: ST_TO_ADDR
// end ; 2 :
 884: GO 1225
 886: LD_INT 2
 888: DOUBLE
 889: EQUAL
 890: IFTRUE 894
 892: GO 1224
 894: POP
// begin buildings_def = [ [ [ b_oil_mine , oil_deposits_locations [ 1 ] [ 1 ] , oil_deposits_locations [ 1 ] [ 2 ] , 4 ] , [ b_breastwork , 31 , 34 , 5 ] , [ b_breastwork , 40 , 16 , 4 ] ] , [ [ b_oil_mine , oil_deposits_locations [ 2 ] [ 1 ] , oil_deposits_locations [ 2 ] [ 2 ] , 0 ] , [ b_breastwork , 77 , 125 , 3 ] , [ b_breastwork , 77 , 126 , 4 ] ] , [ [ b_oil_mine , oil_deposits_locations [ 3 ] [ 1 ] , oil_deposits_locations [ 3 ] [ 2 ] , 4 ] , [ b_breastwork , 133 , 16 , 1 ] , [ b_breastwork , 161 , 34 , 0 ] ] , [ [ b_oil_mine , oil_deposits_locations [ 4 ] [ 1 ] , oil_deposits_locations [ 4 ] [ 2 ] , 0 ] , [ b_breastwork , 200 , 144 , 2 ] , [ b_breastwork , 210 , 126 , 2 ] ] ] ;
 895: LD_ADDR_EXP 39
 899: PUSH
 900: LD_INT 29
 902: PUSH
 903: LD_EXP 86
 907: PUSH
 908: LD_INT 1
 910: ARRAY
 911: PUSH
 912: LD_INT 1
 914: ARRAY
 915: PUSH
 916: LD_EXP 86
 920: PUSH
 921: LD_INT 1
 923: ARRAY
 924: PUSH
 925: LD_INT 2
 927: ARRAY
 928: PUSH
 929: LD_INT 4
 931: PUSH
 932: EMPTY
 933: LIST
 934: LIST
 935: LIST
 936: LIST
 937: PUSH
 938: LD_INT 31
 940: PUSH
 941: LD_INT 31
 943: PUSH
 944: LD_INT 34
 946: PUSH
 947: LD_INT 5
 949: PUSH
 950: EMPTY
 951: LIST
 952: LIST
 953: LIST
 954: LIST
 955: PUSH
 956: LD_INT 31
 958: PUSH
 959: LD_INT 40
 961: PUSH
 962: LD_INT 16
 964: PUSH
 965: LD_INT 4
 967: PUSH
 968: EMPTY
 969: LIST
 970: LIST
 971: LIST
 972: LIST
 973: PUSH
 974: EMPTY
 975: LIST
 976: LIST
 977: LIST
 978: PUSH
 979: LD_INT 29
 981: PUSH
 982: LD_EXP 86
 986: PUSH
 987: LD_INT 2
 989: ARRAY
 990: PUSH
 991: LD_INT 1
 993: ARRAY
 994: PUSH
 995: LD_EXP 86
 999: PUSH
1000: LD_INT 2
1002: ARRAY
1003: PUSH
1004: LD_INT 2
1006: ARRAY
1007: PUSH
1008: LD_INT 0
1010: PUSH
1011: EMPTY
1012: LIST
1013: LIST
1014: LIST
1015: LIST
1016: PUSH
1017: LD_INT 31
1019: PUSH
1020: LD_INT 77
1022: PUSH
1023: LD_INT 125
1025: PUSH
1026: LD_INT 3
1028: PUSH
1029: EMPTY
1030: LIST
1031: LIST
1032: LIST
1033: LIST
1034: PUSH
1035: LD_INT 31
1037: PUSH
1038: LD_INT 77
1040: PUSH
1041: LD_INT 126
1043: PUSH
1044: LD_INT 4
1046: PUSH
1047: EMPTY
1048: LIST
1049: LIST
1050: LIST
1051: LIST
1052: PUSH
1053: EMPTY
1054: LIST
1055: LIST
1056: LIST
1057: PUSH
1058: LD_INT 29
1060: PUSH
1061: LD_EXP 86
1065: PUSH
1066: LD_INT 3
1068: ARRAY
1069: PUSH
1070: LD_INT 1
1072: ARRAY
1073: PUSH
1074: LD_EXP 86
1078: PUSH
1079: LD_INT 3
1081: ARRAY
1082: PUSH
1083: LD_INT 2
1085: ARRAY
1086: PUSH
1087: LD_INT 4
1089: PUSH
1090: EMPTY
1091: LIST
1092: LIST
1093: LIST
1094: LIST
1095: PUSH
1096: LD_INT 31
1098: PUSH
1099: LD_INT 133
1101: PUSH
1102: LD_INT 16
1104: PUSH
1105: LD_INT 1
1107: PUSH
1108: EMPTY
1109: LIST
1110: LIST
1111: LIST
1112: LIST
1113: PUSH
1114: LD_INT 31
1116: PUSH
1117: LD_INT 161
1119: PUSH
1120: LD_INT 34
1122: PUSH
1123: LD_INT 0
1125: PUSH
1126: EMPTY
1127: LIST
1128: LIST
1129: LIST
1130: LIST
1131: PUSH
1132: EMPTY
1133: LIST
1134: LIST
1135: LIST
1136: PUSH
1137: LD_INT 29
1139: PUSH
1140: LD_EXP 86
1144: PUSH
1145: LD_INT 4
1147: ARRAY
1148: PUSH
1149: LD_INT 1
1151: ARRAY
1152: PUSH
1153: LD_EXP 86
1157: PUSH
1158: LD_INT 4
1160: ARRAY
1161: PUSH
1162: LD_INT 2
1164: ARRAY
1165: PUSH
1166: LD_INT 0
1168: PUSH
1169: EMPTY
1170: LIST
1171: LIST
1172: LIST
1173: LIST
1174: PUSH
1175: LD_INT 31
1177: PUSH
1178: LD_INT 200
1180: PUSH
1181: LD_INT 144
1183: PUSH
1184: LD_INT 2
1186: PUSH
1187: EMPTY
1188: LIST
1189: LIST
1190: LIST
1191: LIST
1192: PUSH
1193: LD_INT 31
1195: PUSH
1196: LD_INT 210
1198: PUSH
1199: LD_INT 126
1201: PUSH
1202: LD_INT 2
1204: PUSH
1205: EMPTY
1206: LIST
1207: LIST
1208: LIST
1209: LIST
1210: PUSH
1211: EMPTY
1212: LIST
1213: LIST
1214: LIST
1215: PUSH
1216: EMPTY
1217: LIST
1218: LIST
1219: LIST
1220: LIST
1221: ST_TO_ADDR
// end ; end ;
1222: GO 1225
1224: POP
// Cela_mapa = celamapa ;
1225: LD_ADDR_EXP 91
1229: PUSH
1230: LD_INT 32
1232: ST_TO_ADDR
// king_territory = stred ;
1233: LD_ADDR_EXP 92
1237: PUSH
1238: LD_INT 30
1240: ST_TO_ADDR
// oblasti_beden := [ ctverec1 , ctverec2 , ctverec3 , ctverec4 ] ;
1241: LD_ADDR_EXP 98
1245: PUSH
1246: LD_INT 12
1248: PUSH
1249: LD_INT 13
1251: PUSH
1252: LD_INT 15
1254: PUSH
1255: LD_INT 14
1257: PUSH
1258: EMPTY
1259: LIST
1260: LIST
1261: LIST
1262: LIST
1263: ST_TO_ADDR
// dalsi_oblasti_beden := [ map_center ] ;
1264: LD_ADDR_EXP 100
1268: PUSH
1269: LD_INT 16
1271: PUSH
1272: EMPTY
1273: LIST
1274: ST_TO_ADDR
// koof_bedny = 1.5 ;
1275: LD_ADDR_EXP 101
1279: PUSH
1280: LD_REAL  1.50000000000000E+0000
1283: ST_TO_ADDR
// BuildUpAreas := [ AR_ZaklLH , AR_ZaklLD , AR_ZaklPH , AR_ZaklPD ] ;
1284: LD_ADDR_EXP 116
1288: PUSH
1289: LD_INT 4
1291: PUSH
1292: LD_INT 6
1294: PUSH
1295: LD_INT 5
1297: PUSH
1298: LD_INT 7
1300: PUSH
1301: EMPTY
1302: LIST
1303: LIST
1304: LIST
1305: LIST
1306: ST_TO_ADDR
// DailyPhase = [ [ colors1.txt , colors2.txt , colors3.txt , colors4.txt , colors5.txt , colors6.txt ] , [ colors21.txt , colors22.txt , colors23.txt , colors24.txt , colors25.txt , colors26.txt ] , [ colors31.txt , colors32.txt , colors33.txt , colors34.txt , colors35.txt , colors36.txt ] ] [ rand ( 1 , 3 ) ] ;
1307: LD_ADDR_EXP 61
1311: PUSH
1312: LD_STRING colors1.txt
1314: PUSH
1315: LD_STRING colors2.txt
1317: PUSH
1318: LD_STRING colors3.txt
1320: PUSH
1321: LD_STRING colors4.txt
1323: PUSH
1324: LD_STRING colors5.txt
1326: PUSH
1327: LD_STRING colors6.txt
1329: PUSH
1330: EMPTY
1331: LIST
1332: LIST
1333: LIST
1334: LIST
1335: LIST
1336: LIST
1337: PUSH
1338: LD_STRING colors21.txt
1340: PUSH
1341: LD_STRING colors22.txt
1343: PUSH
1344: LD_STRING colors23.txt
1346: PUSH
1347: LD_STRING colors24.txt
1349: PUSH
1350: LD_STRING colors25.txt
1352: PUSH
1353: LD_STRING colors26.txt
1355: PUSH
1356: EMPTY
1357: LIST
1358: LIST
1359: LIST
1360: LIST
1361: LIST
1362: LIST
1363: PUSH
1364: LD_STRING colors31.txt
1366: PUSH
1367: LD_STRING colors32.txt
1369: PUSH
1370: LD_STRING colors33.txt
1372: PUSH
1373: LD_STRING colors34.txt
1375: PUSH
1376: LD_STRING colors35.txt
1378: PUSH
1379: LD_STRING colors36.txt
1381: PUSH
1382: EMPTY
1383: LIST
1384: LIST
1385: LIST
1386: LIST
1387: LIST
1388: LIST
1389: PUSH
1390: EMPTY
1391: LIST
1392: LIST
1393: LIST
1394: PUSH
1395: LD_INT 1
1397: PPUSH
1398: LD_INT 3
1400: PPUSH
1401: CALL_OW 12
1405: ARRAY
1406: ST_TO_ADDR
// WFT_Points_MP = 2 ;
1407: LD_ADDR_EXP 121
1411: PUSH
1412: LD_INT 2
1414: ST_TO_ADDR
// FLAGY_AREA = [ f1 , f2 , f3 , f4 , f5 , f6 , f7 , f8 , f9 ] ;
1415: LD_ADDR_EXP 118
1419: PUSH
1420: LD_INT 39
1422: PUSH
1423: LD_INT 40
1425: PUSH
1426: LD_INT 41
1428: PUSH
1429: LD_INT 42
1431: PUSH
1432: LD_INT 43
1434: PUSH
1435: LD_INT 48
1437: PUSH
1438: LD_INT 49
1440: PUSH
1441: LD_INT 50
1443: PUSH
1444: LD_INT 51
1446: PUSH
1447: EMPTY
1448: LIST
1449: LIST
1450: LIST
1451: LIST
1452: LIST
1453: LIST
1454: LIST
1455: LIST
1456: LIST
1457: ST_TO_ADDR
// FLAGY_XY = [ [ 118 , 73 ] , [ 147 , 55 ] , [ 78 , 30 ] , [ 86 , 99 ] , [ 157 , 124 ] , [ 106 , 19 ] , [ 172 , 98 ] , [ 133 , 140 ] , [ 70 , 61 ] , ] ;
1458: LD_ADDR_EXP 119
1462: PUSH
1463: LD_INT 118
1465: PUSH
1466: LD_INT 73
1468: PUSH
1469: EMPTY
1470: LIST
1471: LIST
1472: PUSH
1473: LD_INT 147
1475: PUSH
1476: LD_INT 55
1478: PUSH
1479: EMPTY
1480: LIST
1481: LIST
1482: PUSH
1483: LD_INT 78
1485: PUSH
1486: LD_INT 30
1488: PUSH
1489: EMPTY
1490: LIST
1491: LIST
1492: PUSH
1493: LD_INT 86
1495: PUSH
1496: LD_INT 99
1498: PUSH
1499: EMPTY
1500: LIST
1501: LIST
1502: PUSH
1503: LD_INT 157
1505: PUSH
1506: LD_INT 124
1508: PUSH
1509: EMPTY
1510: LIST
1511: LIST
1512: PUSH
1513: LD_INT 106
1515: PUSH
1516: LD_INT 19
1518: PUSH
1519: EMPTY
1520: LIST
1521: LIST
1522: PUSH
1523: LD_INT 172
1525: PUSH
1526: LD_INT 98
1528: PUSH
1529: EMPTY
1530: LIST
1531: LIST
1532: PUSH
1533: LD_INT 133
1535: PUSH
1536: LD_INT 140
1538: PUSH
1539: EMPTY
1540: LIST
1541: LIST
1542: PUSH
1543: LD_INT 70
1545: PUSH
1546: LD_INT 61
1548: PUSH
1549: EMPTY
1550: LIST
1551: LIST
1552: PUSH
1553: EMPTY
1554: LIST
1555: LIST
1556: LIST
1557: LIST
1558: LIST
1559: LIST
1560: LIST
1561: LIST
1562: LIST
1563: ST_TO_ADDR
// FLAGY_AREA1 = [ ff1 , ff2 , ff3 , ff4 , ff5 , ff6 , ff7 , ff8 , ff9 ] ;
1564: LD_ADDR_EXP 120
1568: PUSH
1569: LD_INT 34
1571: PUSH
1572: LD_INT 35
1574: PUSH
1575: LD_INT 36
1577: PUSH
1578: LD_INT 37
1580: PUSH
1581: LD_INT 38
1583: PUSH
1584: LD_INT 44
1586: PUSH
1587: LD_INT 45
1589: PUSH
1590: LD_INT 46
1592: PUSH
1593: LD_INT 47
1595: PUSH
1596: EMPTY
1597: LIST
1598: LIST
1599: LIST
1600: LIST
1601: LIST
1602: LIST
1603: LIST
1604: LIST
1605: LIST
1606: ST_TO_ADDR
// MaxFlags = 9 ;
1607: LD_ADDR_EXP 114
1611: PUSH
1612: LD_INT 9
1614: ST_TO_ADDR
// WarForTerritory_flags = [ 0 , 5 , 7 , 9 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
1615: LD_ADDR_EXP 65
1619: PUSH
1620: LD_INT 0
1622: PUSH
1623: LD_INT 5
1625: PUSH
1626: LD_INT 7
1628: PUSH
1629: LD_INT 9
1631: PUSH
1632: LD_INT 0
1634: PUSH
1635: LD_INT 0
1637: PUSH
1638: LD_INT 0
1640: PUSH
1641: LD_INT 0
1643: PUSH
1644: LD_INT 0
1646: PUSH
1647: LD_INT 0
1649: PUSH
1650: LD_INT 0
1652: PUSH
1653: EMPTY
1654: LIST
1655: LIST
1656: LIST
1657: LIST
1658: LIST
1659: LIST
1660: LIST
1661: LIST
1662: LIST
1663: LIST
1664: LIST
1665: ST_TO_ADDR
// WarForTerritory_Points = [ 0 , 0 , 0 , 0 , 300 , 500 , 700 , 1000 , 1500 , 2000 , 3000 ] ;
1666: LD_ADDR_EXP 64
1670: PUSH
1671: LD_INT 0
1673: PUSH
1674: LD_INT 0
1676: PUSH
1677: LD_INT 0
1679: PUSH
1680: LD_INT 0
1682: PUSH
1683: LD_INT 300
1685: PUSH
1686: LD_INT 500
1688: PUSH
1689: LD_INT 700
1691: PUSH
1692: LD_INT 1000
1694: PUSH
1695: LD_INT 1500
1697: PUSH
1698: LD_INT 2000
1700: PUSH
1701: LD_INT 3000
1703: PUSH
1704: EMPTY
1705: LIST
1706: LIST
1707: LIST
1708: LIST
1709: LIST
1710: LIST
1711: LIST
1712: LIST
1713: LIST
1714: LIST
1715: LIST
1716: ST_TO_ADDR
// end ;
1717: LD_VAR 0 1
1721: RET
// export function SimMPDefinition ; begin
1722: LD_INT 0
1724: PPUSH
// Game_Type = 1 ;
1725: LD_ADDR_EXP 1
1729: PUSH
1730: LD_INT 1
1732: ST_TO_ADDR
// Player_Side = 3 ;
1733: LD_ADDR_EXP 70
1737: PUSH
1738: LD_INT 3
1740: ST_TO_ADDR
// Player_Team = 2 ;
1741: LD_ADDR_EXP 71
1745: PUSH
1746: LD_INT 2
1748: ST_TO_ADDR
// Side_Positions = [ 1 , 2 , 3 , 4 , 0 , 0 , 0 , 0 ] ;
1749: LD_ADDR_EXP 75
1753: PUSH
1754: LD_INT 1
1756: PUSH
1757: LD_INT 2
1759: PUSH
1760: LD_INT 3
1762: PUSH
1763: LD_INT 4
1765: PUSH
1766: LD_INT 0
1768: PUSH
1769: LD_INT 0
1771: PUSH
1772: LD_INT 0
1774: PUSH
1775: LD_INT 0
1777: PUSH
1778: EMPTY
1779: LIST
1780: LIST
1781: LIST
1782: LIST
1783: LIST
1784: LIST
1785: LIST
1786: LIST
1787: ST_TO_ADDR
// Side_Teams = [ 1 , 1 , 2 , 2 , 0 , 0 , 0 , 0 ] ;
1788: LD_ADDR_EXP 72
1792: PUSH
1793: LD_INT 1
1795: PUSH
1796: LD_INT 1
1798: PUSH
1799: LD_INT 2
1801: PUSH
1802: LD_INT 2
1804: PUSH
1805: LD_INT 0
1807: PUSH
1808: LD_INT 0
1810: PUSH
1811: LD_INT 0
1813: PUSH
1814: LD_INT 0
1816: PUSH
1817: EMPTY
1818: LIST
1819: LIST
1820: LIST
1821: LIST
1822: LIST
1823: LIST
1824: LIST
1825: LIST
1826: ST_TO_ADDR
// Side_Nations = [ 1 , 2 , 2 , 1 , 0 , 0 , 0 , 0 ] ;
1827: LD_ADDR_EXP 76
1831: PUSH
1832: LD_INT 1
1834: PUSH
1835: LD_INT 2
1837: PUSH
1838: LD_INT 2
1840: PUSH
1841: LD_INT 1
1843: PUSH
1844: LD_INT 0
1846: PUSH
1847: LD_INT 0
1849: PUSH
1850: LD_INT 0
1852: PUSH
1853: LD_INT 0
1855: PUSH
1856: EMPTY
1857: LIST
1858: LIST
1859: LIST
1860: LIST
1861: LIST
1862: LIST
1863: LIST
1864: LIST
1865: ST_TO_ADDR
// Side_Comps = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
1866: LD_ADDR_EXP 78
1870: PUSH
1871: LD_INT 0
1873: PUSH
1874: LD_INT 0
1876: PUSH
1877: LD_INT 0
1879: PUSH
1880: LD_INT 0
1882: PUSH
1883: LD_INT 0
1885: PUSH
1886: LD_INT 0
1888: PUSH
1889: LD_INT 0
1891: PUSH
1892: LD_INT 0
1894: PUSH
1895: EMPTY
1896: LIST
1897: LIST
1898: LIST
1899: LIST
1900: LIST
1901: LIST
1902: LIST
1903: LIST
1904: ST_TO_ADDR
// Teams = [ [ 1 , 2 ] , [ 3 , 4 ] , [ 0 ] ] diff [ 0 ] ;
1905: LD_ADDR_EXP 73
1909: PUSH
1910: LD_INT 1
1912: PUSH
1913: LD_INT 2
1915: PUSH
1916: EMPTY
1917: LIST
1918: LIST
1919: PUSH
1920: LD_INT 3
1922: PUSH
1923: LD_INT 4
1925: PUSH
1926: EMPTY
1927: LIST
1928: LIST
1929: PUSH
1930: LD_INT 0
1932: PUSH
1933: EMPTY
1934: LIST
1935: PUSH
1936: EMPTY
1937: LIST
1938: LIST
1939: LIST
1940: PUSH
1941: LD_INT 0
1943: PUSH
1944: EMPTY
1945: LIST
1946: DIFF
1947: ST_TO_ADDR
// end ;
1948: LD_VAR 0 1
1952: RET
// export function SimMPOptions ; begin
1953: LD_INT 0
1955: PPUSH
// def_game_rules = 0 ;
1956: LD_ADDR_EXP 9
1960: PUSH
1961: LD_INT 0
1963: ST_TO_ADDR
// def_base_level = 2 ;
1964: LD_ADDR_EXP 10
1968: PUSH
1969: LD_INT 2
1971: ST_TO_ADDR
// def_amount_of_people = 5 ;
1972: LD_ADDR_EXP 11
1976: PUSH
1977: LD_INT 5
1979: ST_TO_ADDR
// def_amount_of_apemen_in_team = 2 ;
1980: LD_ADDR_EXP 12
1984: PUSH
1985: LD_INT 2
1987: ST_TO_ADDR
// def_initial_level = 1 ;
1988: LD_ADDR_EXP 13
1992: PUSH
1993: LD_INT 1
1995: ST_TO_ADDR
// def_classes = 0 ;
1996: LD_ADDR_EXP 14
2000: PUSH
2001: LD_INT 0
2003: ST_TO_ADDR
// def_starting_resources = 2 ;
2004: LD_ADDR_EXP 15
2008: PUSH
2009: LD_INT 2
2011: ST_TO_ADDR
// def_shipments_density = 2 ;
2012: LD_ADDR_EXP 16
2016: PUSH
2017: LD_INT 2
2019: ST_TO_ADDR
// def_extra_oil_deposits = 1 ;
2020: LD_ADDR_EXP 17
2024: PUSH
2025: LD_INT 1
2027: ST_TO_ADDR
// def_extra_sib_deposits = 1 ;
2028: LD_ADDR_EXP 18
2032: PUSH
2033: LD_INT 1
2035: ST_TO_ADDR
// def_shared_vision = 1 ;
2036: LD_ADDR_EXP 19
2040: PUSH
2041: LD_INT 1
2043: ST_TO_ADDR
// def_morale_flags = 1 ;
2044: LD_ADDR_EXP 20
2048: PUSH
2049: LD_INT 1
2051: ST_TO_ADDR
// def_win_rules = 2 ;
2052: LD_ADDR_EXP 21
2056: PUSH
2057: LD_INT 2
2059: ST_TO_ADDR
// def_amount_of_apemen = 1 ;
2060: LD_ADDR_EXP 22
2064: PUSH
2065: LD_INT 1
2067: ST_TO_ADDR
// def_amount_of_tiger = 1 ;
2068: LD_ADDR_EXP 23
2072: PUSH
2073: LD_INT 1
2075: ST_TO_ADDR
// def_respawining_type = 1 ;
2076: LD_ADDR_EXP 24
2080: PUSH
2081: LD_INT 1
2083: ST_TO_ADDR
// def_people_respawning = 1 ;
2084: LD_ADDR_EXP 25
2088: PUSH
2089: LD_INT 1
2091: ST_TO_ADDR
// def_tech_level = 8 ;
2092: LD_ADDR_EXP 26
2096: PUSH
2097: LD_INT 8
2099: ST_TO_ADDR
// def_upgrade_tl = 1 ;
2100: LD_ADDR_EXP 27
2104: PUSH
2105: LD_INT 1
2107: ST_TO_ADDR
// def_siberite_detection = 1 ;
2108: LD_ADDR_EXP 28
2112: PUSH
2113: LD_INT 1
2115: ST_TO_ADDR
// def_siberite_bomb = 3 ;
2116: LD_ADDR_EXP 29
2120: PUSH
2121: LD_INT 3
2123: ST_TO_ADDR
// def_builduptime = 1 ;
2124: LD_ADDR_EXP 30
2128: PUSH
2129: LD_INT 1
2131: ST_TO_ADDR
// def_desert_warior = 2 ;
2132: LD_ADDR_EXP 31
2136: PUSH
2137: LD_INT 2
2139: ST_TO_ADDR
// def_daily_start = 2 ;
2140: LD_ADDR_EXP 32
2144: PUSH
2145: LD_INT 2
2147: ST_TO_ADDR
// def_daily_speed = 3 ;
2148: LD_ADDR_EXP 33
2152: PUSH
2153: LD_INT 3
2155: ST_TO_ADDR
// def_public_score = 1 ;
2156: LD_ADDR_EXP 34
2160: PUSH
2161: LD_INT 1
2163: ST_TO_ADDR
// def_kings_age = 1 ;
2164: LD_ADDR_EXP 35
2168: PUSH
2169: LD_INT 1
2171: ST_TO_ADDR
// def_warForTerritory = 5 ;
2172: LD_ADDR_EXP 36
2176: PUSH
2177: LD_INT 5
2179: ST_TO_ADDR
// end ;
2180: LD_VAR 0 1
2184: RET
// export function Hustota_Zasilek ; var i ; begin
2185: LD_INT 0
2187: PPUSH
2188: PPUSH
// if def_game_rules then
2189: LD_EXP 9
2193: IFFALSE 2203
// tech_level = 8 ;
2195: LD_ADDR_EXP 56
2199: PUSH
2200: LD_INT 8
2202: ST_TO_ADDR
// case def_shipments_density of 0 :
2203: LD_EXP 16
2207: PUSH
2208: LD_INT 0
2210: DOUBLE
2211: EQUAL
2212: IFTRUE 2216
2214: GO 2227
2216: POP
// shipments_density := 40 ; 1 :
2217: LD_ADDR_EXP 45
2221: PUSH
2222: LD_INT 40
2224: ST_TO_ADDR
2225: GO 2266
2227: LD_INT 1
2229: DOUBLE
2230: EQUAL
2231: IFTRUE 2235
2233: GO 2246
2235: POP
// shipments_density := 60 ; 2 :
2236: LD_ADDR_EXP 45
2240: PUSH
2241: LD_INT 60
2243: ST_TO_ADDR
2244: GO 2266
2246: LD_INT 2
2248: DOUBLE
2249: EQUAL
2250: IFTRUE 2254
2252: GO 2265
2254: POP
// shipments_density := 90 ; end ;
2255: LD_ADDR_EXP 45
2259: PUSH
2260: LD_INT 90
2262: ST_TO_ADDR
2263: GO 2266
2265: POP
// if tech_level < 7 then
2266: LD_EXP 56
2270: PUSH
2271: LD_INT 7
2273: LESS
2274: IFFALSE 2293
// shipments_density := shipments_density * 0.85 else
2276: LD_ADDR_EXP 45
2280: PUSH
2281: LD_EXP 45
2285: PUSH
2286: LD_REAL  8.50000000000000E-0001
2289: MUL
2290: ST_TO_ADDR
2291: GO 2345
// if tech_level < 5 then
2293: LD_EXP 56
2297: PUSH
2298: LD_INT 5
2300: LESS
2301: IFFALSE 2320
// shipments_density := shipments_density * 0.7 else
2303: LD_ADDR_EXP 45
2307: PUSH
2308: LD_EXP 45
2312: PUSH
2313: LD_REAL  7.00000000000000E-0001
2316: MUL
2317: ST_TO_ADDR
2318: GO 2345
// if tech_level < 3 then
2320: LD_EXP 56
2324: PUSH
2325: LD_INT 3
2327: LESS
2328: IFFALSE 2345
// shipments_density := shipments_density * 0.6 ;
2330: LD_ADDR_EXP 45
2334: PUSH
2335: LD_EXP 45
2339: PUSH
2340: LD_REAL  6.00000000000000E-0001
2343: MUL
2344: ST_TO_ADDR
// end ; end_of_file
2345: LD_VAR 0 1
2349: RET
// on VehicleConstructionStarted ( factory , chassis , engine , control , weapon ) do RestrictVehicleConstructionStarted ( factory , chassis , engine , control , weapon ) ;
2350: LD_VAR 0 1
2354: PPUSH
2355: LD_VAR 0 2
2359: PPUSH
2360: LD_VAR 0 3
2364: PPUSH
2365: LD_VAR 0 4
2369: PPUSH
2370: LD_VAR 0 5
2374: PPUSH
2375: CALL 29858 0 5
2379: PPOPN 5
2381: END
// on WeaponPlaced ( building , weapon ) do RestrictWeaponPlaced ( building , weapon ) ;
2382: LD_VAR 0 1
2386: PPUSH
2387: LD_VAR 0 2
2391: PPUSH
2392: CALL 29923 0 2
2396: PPOPN 2
2398: END
// on BuildingStarted ( b , h ) do begin if def_game_rules then
2399: LD_EXP 9
2403: IFFALSE 2440
// begin ExecuteLimits ( b , GetBType ( b ) , GetSide ( b ) , 0 , 1 ) ;
2405: LD_VAR 0 1
2409: PPUSH
2410: LD_VAR 0 1
2414: PPUSH
2415: CALL_OW 266
2419: PPUSH
2420: LD_VAR 0 1
2424: PPUSH
2425: CALL_OW 255
2429: PPUSH
2430: LD_INT 0
2432: PPUSH
2433: LD_INT 1
2435: PPUSH
2436: CALL 29406 0 5
// end ; if GetBType ( b ) in [ b_depot , b_warehouse ] then
2440: LD_VAR 0 1
2444: PPUSH
2445: CALL_OW 266
2449: PUSH
2450: LD_INT 0
2452: PUSH
2453: LD_INT 1
2455: PUSH
2456: EMPTY
2457: LIST
2458: LIST
2459: IN
2460: IFFALSE 2476
// NameBuildingStarted ( b , h ) ;
2462: LD_VAR 0 1
2466: PPUSH
2467: LD_VAR 0 2
2471: PPUSH
2472: CALL 16282 0 2
// end ;
2476: PPOPN 2
2478: END
// on BuildingComplete ( b ) do begin if GetBType ( b ) in [ b_depot , b_warehouse ] then
2479: LD_VAR 0 1
2483: PPUSH
2484: CALL_OW 266
2488: PUSH
2489: LD_INT 0
2491: PUSH
2492: LD_INT 1
2494: PUSH
2495: EMPTY
2496: LIST
2497: LIST
2498: IN
2499: IFFALSE 2510
// NameBuildingComplete ( b ) ;
2501: LD_VAR 0 1
2505: PPUSH
2506: CALL 16274 0 1
// end ;
2510: PPOPN 1
2512: END
// on BuildingCaptured ( b , o , e ) do begin if def_game_rules then
2513: LD_EXP 9
2517: IFFALSE 2554
// begin ExecuteLimits ( b , GetBType ( b ) , GetSide ( b ) , 0 , 1 ) ;
2519: LD_VAR 0 1
2523: PPUSH
2524: LD_VAR 0 1
2528: PPUSH
2529: CALL_OW 266
2533: PPUSH
2534: LD_VAR 0 1
2538: PPUSH
2539: CALL_OW 255
2543: PPUSH
2544: LD_INT 0
2546: PPUSH
2547: LD_INT 1
2549: PPUSH
2550: CALL 29406 0 5
// end ; if GetBType ( b ) in [ b_depot , b_warehouse ] then
2554: LD_VAR 0 1
2558: PPUSH
2559: CALL_OW 266
2563: PUSH
2564: LD_INT 0
2566: PUSH
2567: LD_INT 1
2569: PUSH
2570: EMPTY
2571: LIST
2572: LIST
2573: IN
2574: IFFALSE 2595
// NameBuildingCaptured ( b , o , e ) ;
2576: LD_VAR 0 1
2580: PPUSH
2581: LD_VAR 0 2
2585: PPUSH
2586: LD_VAR 0 3
2590: PPUSH
2591: CALL 16361 0 3
// end ;
2595: PPOPN 3
2597: END
// on UnitDestroyed ( j ) do var x , y , pos , dir ;
2598: LD_INT 0
2600: PPUSH
2601: PPUSH
2602: PPUSH
2603: PPUSH
// begin if def_game_rules then
2604: LD_EXP 9
2608: IFFALSE 2619
// CallExecuteLimits ( j ) ;
2610: LD_VAR 0 1
2614: PPUSH
2615: CALL 30165 0 1
// end ;
2619: PPOPN 5
2621: END
// on VehicleCaptured ( j , i1 , o , i2 ) do begin if def_game_rules and ( GetChassis ( j ) = 25 ) then
2622: LD_EXP 9
2626: PUSH
2627: LD_VAR 0 1
2631: PPUSH
2632: CALL_OW 265
2636: PUSH
2637: LD_INT 25
2639: EQUAL
2640: AND
2641: IFFALSE 2673
// ExecuteLimits ( j , b_behemoth , GetSide ( j ) , o , 1 ) ;
2643: LD_VAR 0 1
2647: PPUSH
2648: LD_INT 37
2650: PPUSH
2651: LD_VAR 0 1
2655: PPUSH
2656: CALL_OW 255
2660: PPUSH
2661: LD_VAR 0 3
2665: PPUSH
2666: LD_INT 1
2668: PPUSH
2669: CALL 29406 0 5
// end ;
2673: PPOPN 4
2675: END
// on HumanDestroyed ( identifier , side , nation , x , y , direction , sex , cl ) do if def_respawining_type > 1 then
2676: LD_EXP 24
2680: PUSH
2681: LD_INT 1
2683: GREATER
2684: IFFALSE 2730
// RespawnHumanDestroyed ( identifier , side , nation , x , y , direction , sex , cl ) ;
2686: LD_VAR 0 1
2690: PPUSH
2691: LD_VAR 0 2
2695: PPUSH
2696: LD_VAR 0 3
2700: PPUSH
2701: LD_VAR 0 4
2705: PPUSH
2706: LD_VAR 0 5
2710: PPUSH
2711: LD_VAR 0 6
2715: PPUSH
2716: LD_VAR 0 7
2720: PPUSH
2721: LD_VAR 0 8
2725: PPUSH
2726: CALL 11449 0 8
2730: PPOPN 8
2732: END
// on siberiterocketexploded ( un , x , y ) do SA_OnSiberiteRocketExploded ( un , x , y , Your_Side ) ; end_of_file
2733: LD_VAR 0 1
2737: PPUSH
2738: LD_VAR 0 2
2742: PPUSH
2743: LD_VAR 0 3
2747: PPUSH
2748: LD_OWVAR 2
2752: PPUSH
2753: CALL 34505 0 4
2757: PPOPN 3
2759: END
// export game_type , GT_Mine , GT_doubleNat , GT_doublePeople , GT_tripleNat , GT_Survival , GT_RankedGames , pozice_beden ; export def_game_rules , def_base_level , def_amount_of_people , def_amount_of_apemen_in_team , def_initial_level , def_classes , def_starting_resources , def_shipments_density , def_extra_oil_deposits , def_extra_sib_deposits , def_shared_vision , def_morale_flags , def_win_rules , def_amount_of_apemen , def_amount_of_tiger , def_respawining_type , def_people_respawning , def_tech_level , def_upgrade_tl , def_siberite_detection , def_siberite_bomb , def_builduptime , def_desert_warior , def_daily_start , def_daily_speed , def_public_score , def_kings_age , def_WarForTerritory ; export base_level , number_of_breastworks , buildings_def , number_of_people , number_of_apemen , initial_level , starting_crates , starting_resources , shipments_density , morale_decreasing_time , spawning_koef_of_apemen , spawning_koef_of_tiger , respawning_time_min , heroes , respawning_time_max , Position_Nations , respawning_time_delay_min , respawning_time_delay_max , commander , tech_level , final_count , daily_start , daily_speed , TimePhase , DailyPhase , Position_Sides , for_show_near_resources , WarForTerritory_Points , WarForTerritory_flags , buildUpTime_Delay , siberite_bomb_Delay ; export Side_Count , Team_Count , Player_Side , Player_Team , Side_Teams , Teams , Side_IsSpec ; export Side_Positions , Side_Nations , Side_Names , Side_Comps , Team_Names , Team_Game ; export depot_def , breastworks_def , start_def , pocet_hracu , extra_oil_deposits_locations , oil_deposits_locations , extra_sib_deposits_locations , siberite_deposits_locations , battle_flags_id , def_max_sides ; export Cela_Mapa , king_territory ; export global_units , global_defined , soldiers_created , global_count , global_classes ; export function read_multiplayer_and_game_parameters ; var side , dep , br1 , br2 , br3 , un , i ; begin
2760: LD_INT 0
2762: PPUSH
2763: PPUSH
2764: PPUSH
2765: PPUSH
2766: PPUSH
2767: PPUSH
2768: PPUSH
2769: PPUSH
// if MultiPlayer then
2770: LD_OWVAR 4
2774: IFFALSE 2858
// begin Game_Type = mp_game_type ;
2776: LD_ADDR_EXP 1
2780: PUSH
2781: LD_OWVAR 6
2785: ST_TO_ADDR
// Player_Side = mp_player_side ;
2786: LD_ADDR_EXP 70
2790: PUSH
2791: LD_OWVAR 7
2795: ST_TO_ADDR
// Player_Team = mp_player_team ;
2796: LD_ADDR_EXP 71
2800: PUSH
2801: LD_OWVAR 8
2805: ST_TO_ADDR
// Side_Positions = mp_sides_positions ;
2806: LD_ADDR_EXP 75
2810: PUSH
2811: LD_OWVAR 17
2815: ST_TO_ADDR
// Side_Teams = mp_sides_teams ;
2816: LD_ADDR_EXP 72
2820: PUSH
2821: LD_OWVAR 15
2825: ST_TO_ADDR
// Side_Nations = mp_sides_nations ;
2826: LD_ADDR_EXP 76
2830: PUSH
2831: LD_OWVAR 16
2835: ST_TO_ADDR
// Side_Comps = mp_sides_comps ;
2836: LD_ADDR_EXP 78
2840: PUSH
2841: CALL 3310 0 0
2845: ST_TO_ADDR
// Teams = mp_teams ;
2846: LD_ADDR_EXP 73
2850: PUSH
2851: LD_OWVAR 12
2855: ST_TO_ADDR
// end else
2856: GO 2862
// begin SimMPDefinition ;
2858: CALL 1722 0 0
// end ; Side_Count = ( Side_Positions diff [ 0 ] ) + 0 ;
2862: LD_ADDR_EXP 68
2866: PUSH
2867: LD_EXP 75
2871: PUSH
2872: LD_INT 0
2874: PUSH
2875: EMPTY
2876: LIST
2877: DIFF
2878: PUSH
2879: LD_INT 0
2881: PLUS
2882: ST_TO_ADDR
// Team_Count = ( Side_Teams diff [ 0 ] ) + 0 ;
2883: LD_ADDR_EXP 69
2887: PUSH
2888: LD_EXP 72
2892: PUSH
2893: LD_INT 0
2895: PUSH
2896: EMPTY
2897: LIST
2898: DIFF
2899: PUSH
2900: LD_INT 0
2902: PLUS
2903: ST_TO_ADDR
// if MultiPlayer then
2904: LD_OWVAR 4
2908: IFFALSE 3271
// begin def_game_rules = GetMultiplayerSetting ( 0 ) ;
2910: LD_ADDR_EXP 9
2914: PUSH
2915: LD_INT 0
2917: PPUSH
2918: CALL_OW 426
2922: ST_TO_ADDR
// def_base_level = GetMultiplayerSetting ( 1 ) ;
2923: LD_ADDR_EXP 10
2927: PUSH
2928: LD_INT 1
2930: PPUSH
2931: CALL_OW 426
2935: ST_TO_ADDR
// def_amount_of_people = GetMultiplayerSetting ( 2 ) ;
2936: LD_ADDR_EXP 11
2940: PUSH
2941: LD_INT 2
2943: PPUSH
2944: CALL_OW 426
2948: ST_TO_ADDR
// def_amount_of_apemen_in_team = GetMultiplayerSetting ( 3 ) ;
2949: LD_ADDR_EXP 12
2953: PUSH
2954: LD_INT 3
2956: PPUSH
2957: CALL_OW 426
2961: ST_TO_ADDR
// def_initial_level = GetMultiplayerSetting ( 4 ) ;
2962: LD_ADDR_EXP 13
2966: PUSH
2967: LD_INT 4
2969: PPUSH
2970: CALL_OW 426
2974: ST_TO_ADDR
// def_classes = GetMultiplayerSetting ( 5 ) ;
2975: LD_ADDR_EXP 14
2979: PUSH
2980: LD_INT 5
2982: PPUSH
2983: CALL_OW 426
2987: ST_TO_ADDR
// def_starting_resources = GetMultiplayerSetting ( 6 ) ;
2988: LD_ADDR_EXP 15
2992: PUSH
2993: LD_INT 6
2995: PPUSH
2996: CALL_OW 426
3000: ST_TO_ADDR
// def_shipments_density = GetMultiplayerSetting ( 7 ) ;
3001: LD_ADDR_EXP 16
3005: PUSH
3006: LD_INT 7
3008: PPUSH
3009: CALL_OW 426
3013: ST_TO_ADDR
// def_extra_oil_deposits = GetMultiplayerSetting ( 8 ) ;
3014: LD_ADDR_EXP 17
3018: PUSH
3019: LD_INT 8
3021: PPUSH
3022: CALL_OW 426
3026: ST_TO_ADDR
// def_extra_sib_deposits = GetMultiplayerSetting ( 9 ) ;
3027: LD_ADDR_EXP 18
3031: PUSH
3032: LD_INT 9
3034: PPUSH
3035: CALL_OW 426
3039: ST_TO_ADDR
// def_morale_flags = GetMultiplayerSetting ( 10 ) ;
3040: LD_ADDR_EXP 20
3044: PUSH
3045: LD_INT 10
3047: PPUSH
3048: CALL_OW 426
3052: ST_TO_ADDR
// def_win_rules = GetMultiplayerSetting ( 11 ) ;
3053: LD_ADDR_EXP 21
3057: PUSH
3058: LD_INT 11
3060: PPUSH
3061: CALL_OW 426
3065: ST_TO_ADDR
// def_amount_of_apemen = GetMultiplayerSetting ( 12 ) ;
3066: LD_ADDR_EXP 22
3070: PUSH
3071: LD_INT 12
3073: PPUSH
3074: CALL_OW 426
3078: ST_TO_ADDR
// def_amount_of_tiger = GetMultiplayerSetting ( 13 ) ;
3079: LD_ADDR_EXP 23
3083: PUSH
3084: LD_INT 13
3086: PPUSH
3087: CALL_OW 426
3091: ST_TO_ADDR
// def_respawining_type = GetMultiplayerSetting ( 14 ) ;
3092: LD_ADDR_EXP 24
3096: PUSH
3097: LD_INT 14
3099: PPUSH
3100: CALL_OW 426
3104: ST_TO_ADDR
// def_people_respawning = GetMultiplayerSetting ( 15 ) ;
3105: LD_ADDR_EXP 25
3109: PUSH
3110: LD_INT 15
3112: PPUSH
3113: CALL_OW 426
3117: ST_TO_ADDR
// def_tech_level = GetMultiplayerSetting ( 16 ) ;
3118: LD_ADDR_EXP 26
3122: PUSH
3123: LD_INT 16
3125: PPUSH
3126: CALL_OW 426
3130: ST_TO_ADDR
// def_upgrade_tl = GetMultiplayerSetting ( 17 ) ;
3131: LD_ADDR_EXP 27
3135: PUSH
3136: LD_INT 17
3138: PPUSH
3139: CALL_OW 426
3143: ST_TO_ADDR
// def_siberite_detection = GetMultiplayerSetting ( 18 ) ;
3144: LD_ADDR_EXP 28
3148: PUSH
3149: LD_INT 18
3151: PPUSH
3152: CALL_OW 426
3156: ST_TO_ADDR
// def_siberite_bomb = GetMultiplayerSetting ( 19 ) ;
3157: LD_ADDR_EXP 29
3161: PUSH
3162: LD_INT 19
3164: PPUSH
3165: CALL_OW 426
3169: ST_TO_ADDR
// def_builduptime = GetMultiplayerSetting ( 20 ) ;
3170: LD_ADDR_EXP 30
3174: PUSH
3175: LD_INT 20
3177: PPUSH
3178: CALL_OW 426
3182: ST_TO_ADDR
// def_desert_warior = GetMultiplayerSetting ( 21 ) ;
3183: LD_ADDR_EXP 31
3187: PUSH
3188: LD_INT 21
3190: PPUSH
3191: CALL_OW 426
3195: ST_TO_ADDR
// def_daily_start = GetMultiplayerSetting ( 22 ) ;
3196: LD_ADDR_EXP 32
3200: PUSH
3201: LD_INT 22
3203: PPUSH
3204: CALL_OW 426
3208: ST_TO_ADDR
// def_daily_speed = GetMultiplayerSetting ( 23 ) ;
3209: LD_ADDR_EXP 33
3213: PUSH
3214: LD_INT 23
3216: PPUSH
3217: CALL_OW 426
3221: ST_TO_ADDR
// def_public_score = GetMultiplayerSetting ( 24 ) ;
3222: LD_ADDR_EXP 34
3226: PUSH
3227: LD_INT 24
3229: PPUSH
3230: CALL_OW 426
3234: ST_TO_ADDR
// def_kings_age = GetMultiplayerSetting ( 25 ) ;
3235: LD_ADDR_EXP 35
3239: PUSH
3240: LD_INT 25
3242: PPUSH
3243: CALL_OW 426
3247: ST_TO_ADDR
// def_warForTerritory = GetMultiplayerSetting ( 26 ) ;
3248: LD_ADDR_EXP 36
3252: PUSH
3253: LD_INT 26
3255: PPUSH
3256: CALL_OW 426
3260: ST_TO_ADDR
// def_shared_vision = true ;
3261: LD_ADDR_EXP 19
3265: PUSH
3266: LD_INT 1
3268: ST_TO_ADDR
// end else
3269: GO 3279
// begin randomizeAll ;
3271: CALL_OW 11
// SimMPOptions ;
3275: CALL 1953 0 0
// end ; if Game_Type in GT_RankedGames then
3279: LD_EXP 1
3283: PUSH
3284: LD_EXP 7
3288: IN
3289: IFFALSE 3305
// def_game_rules = def_game_rules + 1 ;
3291: LD_ADDR_EXP 9
3295: PUSH
3296: LD_EXP 9
3300: PUSH
3301: LD_INT 1
3303: PLUS
3304: ST_TO_ADDR
// end ;
3305: LD_VAR 0 1
3309: RET
// function mp_sides_comps ; var c , i ; begin
3310: LD_INT 0
3312: PPUSH
3313: PPUSH
3314: PPUSH
// c = [ ] ;
3315: LD_ADDR_VAR 0 2
3319: PUSH
3320: EMPTY
3321: ST_TO_ADDR
// for i = 1 to 8 do
3322: LD_ADDR_VAR 0 3
3326: PUSH
3327: DOUBLE
3328: LD_INT 1
3330: DEC
3331: ST_TO_ADDR
3332: LD_INT 8
3334: PUSH
3335: FOR_TO
3336: IFFALSE 3361
// c = c ^ Multiplayer_GetPlayerIsComp ( i ) ;
3338: LD_ADDR_VAR 0 2
3342: PUSH
3343: LD_VAR 0 2
3347: PUSH
3348: LD_VAR 0 3
3352: PPUSH
3353: CALL_OW 532
3357: ADD
3358: ST_TO_ADDR
3359: GO 3335
3361: POP
3362: POP
// result = c ;
3363: LD_ADDR_VAR 0 1
3367: PUSH
3368: LD_VAR 0 2
3372: ST_TO_ADDR
// end ;
3373: LD_VAR 0 1
3377: RET
// export function standartSets ; begin
3378: LD_INT 0
3380: PPUSH
// if Game_Type in GT_Survival then
3381: LD_EXP 1
3385: PUSH
3386: LD_EXP 6
3390: IN
3391: IFFALSE 3534
// begin base_level = [ 1 , 1 , 1 , 2 ] ;
3393: LD_ADDR_EXP 37
3397: PUSH
3398: LD_INT 1
3400: PUSH
3401: LD_INT 1
3403: PUSH
3404: LD_INT 1
3406: PUSH
3407: LD_INT 2
3409: PUSH
3410: EMPTY
3411: LIST
3412: LIST
3413: LIST
3414: LIST
3415: ST_TO_ADDR
// starting_resources := [ [ 1000 , 100 , 100 ] , [ 2000 , 200 , 200 ] , [ 5000 , 500 , 500 ] , [ 10000 , 1000 , 1000 ] , [ 25000 , 2500 , 2500 ] , [ 50000 , 5000 , 5000 ] ] ;
3416: LD_ADDR_EXP 44
3420: PUSH
3421: LD_INT 1000
3423: PUSH
3424: LD_INT 100
3426: PUSH
3427: LD_INT 100
3429: PUSH
3430: EMPTY
3431: LIST
3432: LIST
3433: LIST
3434: PUSH
3435: LD_INT 2000
3437: PUSH
3438: LD_INT 200
3440: PUSH
3441: LD_INT 200
3443: PUSH
3444: EMPTY
3445: LIST
3446: LIST
3447: LIST
3448: PUSH
3449: LD_INT 5000
3451: PUSH
3452: LD_INT 500
3454: PUSH
3455: LD_INT 500
3457: PUSH
3458: EMPTY
3459: LIST
3460: LIST
3461: LIST
3462: PUSH
3463: LD_INT 10000
3465: PUSH
3466: LD_INT 1000
3468: PUSH
3469: LD_INT 1000
3471: PUSH
3472: EMPTY
3473: LIST
3474: LIST
3475: LIST
3476: PUSH
3477: LD_INT 25000
3479: PUSH
3480: LD_INT 2500
3482: PUSH
3483: LD_INT 2500
3485: PUSH
3486: EMPTY
3487: LIST
3488: LIST
3489: LIST
3490: PUSH
3491: LD_INT 50000
3493: PUSH
3494: LD_INT 5000
3496: PUSH
3497: LD_INT 5000
3499: PUSH
3500: EMPTY
3501: LIST
3502: LIST
3503: LIST
3504: PUSH
3505: EMPTY
3506: LIST
3507: LIST
3508: LIST
3509: LIST
3510: LIST
3511: LIST
3512: ST_TO_ADDR
// starting_crates := [ [ ] , [ ] , [ ] , [ ] ] ;
3513: LD_ADDR_EXP 43
3517: PUSH
3518: EMPTY
3519: PUSH
3520: EMPTY
3521: PUSH
3522: EMPTY
3523: PUSH
3524: EMPTY
3525: PUSH
3526: EMPTY
3527: LIST
3528: LIST
3529: LIST
3530: LIST
3531: ST_TO_ADDR
// end else
3532: GO 3687
// begin base_level = [ 0 , 1 , 1 , 1 , 2 ] ;
3534: LD_ADDR_EXP 37
3538: PUSH
3539: LD_INT 0
3541: PUSH
3542: LD_INT 1
3544: PUSH
3545: LD_INT 1
3547: PUSH
3548: LD_INT 1
3550: PUSH
3551: LD_INT 2
3553: PUSH
3554: EMPTY
3555: LIST
3556: LIST
3557: LIST
3558: LIST
3559: LIST
3560: ST_TO_ADDR
// starting_resources := [ [ 0 , 0 , 0 ] , [ 30 , 0 , 0 ] , [ 50 , 20 , 0 ] , [ 80 , 40 , 20 ] ] ;
3561: LD_ADDR_EXP 44
3565: PUSH
3566: LD_INT 0
3568: PUSH
3569: LD_INT 0
3571: PUSH
3572: LD_INT 0
3574: PUSH
3575: EMPTY
3576: LIST
3577: LIST
3578: LIST
3579: PUSH
3580: LD_INT 30
3582: PUSH
3583: LD_INT 0
3585: PUSH
3586: LD_INT 0
3588: PUSH
3589: EMPTY
3590: LIST
3591: LIST
3592: LIST
3593: PUSH
3594: LD_INT 50
3596: PUSH
3597: LD_INT 20
3599: PUSH
3600: LD_INT 0
3602: PUSH
3603: EMPTY
3604: LIST
3605: LIST
3606: LIST
3607: PUSH
3608: LD_INT 80
3610: PUSH
3611: LD_INT 40
3613: PUSH
3614: LD_INT 20
3616: PUSH
3617: EMPTY
3618: LIST
3619: LIST
3620: LIST
3621: PUSH
3622: EMPTY
3623: LIST
3624: LIST
3625: LIST
3626: LIST
3627: ST_TO_ADDR
// starting_crates := [ [ 10 ] , [ 7 , 14 ] , [ 6 , 12 , 18 ] , [ 5 , 10 , 15 , 20 ] ] ;
3628: LD_ADDR_EXP 43
3632: PUSH
3633: LD_INT 10
3635: PUSH
3636: EMPTY
3637: LIST
3638: PUSH
3639: LD_INT 7
3641: PUSH
3642: LD_INT 14
3644: PUSH
3645: EMPTY
3646: LIST
3647: LIST
3648: PUSH
3649: LD_INT 6
3651: PUSH
3652: LD_INT 12
3654: PUSH
3655: LD_INT 18
3657: PUSH
3658: EMPTY
3659: LIST
3660: LIST
3661: LIST
3662: PUSH
3663: LD_INT 5
3665: PUSH
3666: LD_INT 10
3668: PUSH
3669: LD_INT 15
3671: PUSH
3672: LD_INT 20
3674: PUSH
3675: EMPTY
3676: LIST
3677: LIST
3678: LIST
3679: LIST
3680: PUSH
3681: EMPTY
3682: LIST
3683: LIST
3684: LIST
3685: LIST
3686: ST_TO_ADDR
// end ; number_of_people = [ 4 , 5 , 6 , 7 , 8 , 9 , 10 , 11 , 12 , 13 , 14 , 15 , 16 , 17 , 18 , 19 , 20 , 21 , 22 , 23 , 24 ] ;
3687: LD_ADDR_EXP 40
3691: PUSH
3692: LD_INT 4
3694: PUSH
3695: LD_INT 5
3697: PUSH
3698: LD_INT 6
3700: PUSH
3701: LD_INT 7
3703: PUSH
3704: LD_INT 8
3706: PUSH
3707: LD_INT 9
3709: PUSH
3710: LD_INT 10
3712: PUSH
3713: LD_INT 11
3715: PUSH
3716: LD_INT 12
3718: PUSH
3719: LD_INT 13
3721: PUSH
3722: LD_INT 14
3724: PUSH
3725: LD_INT 15
3727: PUSH
3728: LD_INT 16
3730: PUSH
3731: LD_INT 17
3733: PUSH
3734: LD_INT 18
3736: PUSH
3737: LD_INT 19
3739: PUSH
3740: LD_INT 20
3742: PUSH
3743: LD_INT 21
3745: PUSH
3746: LD_INT 22
3748: PUSH
3749: LD_INT 23
3751: PUSH
3752: LD_INT 24
3754: PUSH
3755: EMPTY
3756: LIST
3757: LIST
3758: LIST
3759: LIST
3760: LIST
3761: LIST
3762: LIST
3763: LIST
3764: LIST
3765: LIST
3766: LIST
3767: LIST
3768: LIST
3769: LIST
3770: LIST
3771: LIST
3772: LIST
3773: LIST
3774: LIST
3775: LIST
3776: LIST
3777: ST_TO_ADDR
// number_of_apemen = [ 0 , 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 , 9 , 10 , 11 , 12 ] ;
3778: LD_ADDR_EXP 41
3782: PUSH
3783: LD_INT 0
3785: PUSH
3786: LD_INT 1
3788: PUSH
3789: LD_INT 2
3791: PUSH
3792: LD_INT 3
3794: PUSH
3795: LD_INT 4
3797: PUSH
3798: LD_INT 5
3800: PUSH
3801: LD_INT 6
3803: PUSH
3804: LD_INT 7
3806: PUSH
3807: LD_INT 8
3809: PUSH
3810: LD_INT 9
3812: PUSH
3813: LD_INT 10
3815: PUSH
3816: LD_INT 11
3818: PUSH
3819: LD_INT 12
3821: PUSH
3822: EMPTY
3823: LIST
3824: LIST
3825: LIST
3826: LIST
3827: LIST
3828: LIST
3829: LIST
3830: LIST
3831: LIST
3832: LIST
3833: LIST
3834: LIST
3835: LIST
3836: ST_TO_ADDR
// initial_level = [ 2 , 3 , 4 , 5 ] ;
3837: LD_ADDR_EXP 42
3841: PUSH
3842: LD_INT 2
3844: PUSH
3845: LD_INT 3
3847: PUSH
3848: LD_INT 4
3850: PUSH
3851: LD_INT 5
3853: PUSH
3854: EMPTY
3855: LIST
3856: LIST
3857: LIST
3858: LIST
3859: ST_TO_ADDR
// if def_game_rules then
3860: LD_EXP 9
3864: IFFALSE 3876
// tech_level = 8 else
3866: LD_ADDR_EXP 56
3870: PUSH
3871: LD_INT 8
3873: ST_TO_ADDR
3874: GO 3914
// if game_type in GT_mine then
3876: LD_EXP 1
3880: PUSH
3881: LD_EXP 2
3885: IN
3886: IFFALSE 3904
// tech_level = def_tech_level + 4 else
3888: LD_ADDR_EXP 56
3892: PUSH
3893: LD_EXP 26
3897: PUSH
3898: LD_INT 4
3900: PLUS
3901: ST_TO_ADDR
3902: GO 3914
// Tech_Level = def_tech_level ;
3904: LD_ADDR_EXP 56
3908: PUSH
3909: LD_EXP 26
3913: ST_TO_ADDR
// Hustota_Zasilek ;
3914: CALL 2185 0 0
// spawning_koef_of_apemen = [ 0 , 5 , 10 , 15 ] ;
3918: LD_ADDR_EXP 47
3922: PUSH
3923: LD_INT 0
3925: PUSH
3926: LD_INT 5
3928: PUSH
3929: LD_INT 10
3931: PUSH
3932: LD_INT 15
3934: PUSH
3935: EMPTY
3936: LIST
3937: LIST
3938: LIST
3939: LIST
3940: ST_TO_ADDR
// spawning_koef_of_tiger = [ 0 , 5 , 10 , 15 ] ;
3941: LD_ADDR_EXP 48
3945: PUSH
3946: LD_INT 0
3948: PUSH
3949: LD_INT 5
3951: PUSH
3952: LD_INT 10
3954: PUSH
3955: LD_INT 15
3957: PUSH
3958: EMPTY
3959: LIST
3960: LIST
3961: LIST
3962: LIST
3963: ST_TO_ADDR
// respawning_time_min = [ 8 8$0 , 3 3$00 , 1 1$00 ] ;
3964: LD_ADDR_EXP 49
3968: PUSH
3969: LD_INT 16800
3971: PUSH
3972: LD_INT 6300
3974: PUSH
3975: LD_INT 2100
3977: PUSH
3978: EMPTY
3979: LIST
3980: LIST
3981: LIST
3982: ST_TO_ADDR
// respawning_time_max = [ 10 10$10 , 6 6$00 , 2 2$00 ] ;
3983: LD_ADDR_EXP 51
3987: PUSH
3988: LD_INT 21350
3990: PUSH
3991: LD_INT 12600
3993: PUSH
3994: LD_INT 4200
3996: PUSH
3997: EMPTY
3998: LIST
3999: LIST
4000: LIST
4001: ST_TO_ADDR
// respawning_time_delay_min = [ 0 0$45 , 0 0$30 , 0 0$15 ] ;
4002: LD_ADDR_EXP 53
4006: PUSH
4007: LD_INT 1575
4009: PUSH
4010: LD_INT 1050
4012: PUSH
4013: LD_INT 525
4015: PUSH
4016: EMPTY
4017: LIST
4018: LIST
4019: LIST
4020: ST_TO_ADDR
// respawning_time_delay_max = [ 1 1$00 , 0 0$45 , 0 0$30 ] ;
4021: LD_ADDR_EXP 54
4025: PUSH
4026: LD_INT 2100
4028: PUSH
4029: LD_INT 1575
4031: PUSH
4032: LD_INT 1050
4034: PUSH
4035: EMPTY
4036: LIST
4037: LIST
4038: LIST
4039: ST_TO_ADDR
// daily_start = [ [ 4 4$00 , 7 7$00 ] , [ 8 8$00 , 12 12$00 ] , [ 13 13$00 , 17 17$00 ] , [ 18 18$00 , 22 22$00 ] , [ 23 23$00 , 27 27$00 ] ] ;
4040: LD_ADDR_EXP 58
4044: PUSH
4045: LD_INT 8400
4047: PUSH
4048: LD_INT 14700
4050: PUSH
4051: EMPTY
4052: LIST
4053: LIST
4054: PUSH
4055: LD_INT 16800
4057: PUSH
4058: LD_INT 25200
4060: PUSH
4061: EMPTY
4062: LIST
4063: LIST
4064: PUSH
4065: LD_INT 27300
4067: PUSH
4068: LD_INT 35700
4070: PUSH
4071: EMPTY
4072: LIST
4073: LIST
4074: PUSH
4075: LD_INT 37800
4077: PUSH
4078: LD_INT 46200
4080: PUSH
4081: EMPTY
4082: LIST
4083: LIST
4084: PUSH
4085: LD_INT 48300
4087: PUSH
4088: LD_INT 56700
4090: PUSH
4091: EMPTY
4092: LIST
4093: LIST
4094: PUSH
4095: EMPTY
4096: LIST
4097: LIST
4098: LIST
4099: LIST
4100: LIST
4101: ST_TO_ADDR
// daily_speed = [ 0 0$59 , 0 0$25 , 0 0$9 , 0 0$2 , 0 ] ;
4102: LD_ADDR_EXP 59
4106: PUSH
4107: LD_INT 2065
4109: PUSH
4110: LD_INT 875
4112: PUSH
4113: LD_INT 315
4115: PUSH
4116: LD_INT 70
4118: PUSH
4119: LD_INT 0
4121: PUSH
4122: EMPTY
4123: LIST
4124: LIST
4125: LIST
4126: LIST
4127: LIST
4128: ST_TO_ADDR
// TimePhase = [ 4 4$00 , 6 6$00 , 7 7$00 , 8 8$00 , 12 12$00 , 17 17$00 , 18 18$00 , 19 19$00 , 20 20$00 , 22 22$00 ] ;
4129: LD_ADDR_EXP 60
4133: PUSH
4134: LD_INT 8400
4136: PUSH
4137: LD_INT 12600
4139: PUSH
4140: LD_INT 14700
4142: PUSH
4143: LD_INT 16800
4145: PUSH
4146: LD_INT 25200
4148: PUSH
4149: LD_INT 35700
4151: PUSH
4152: LD_INT 37800
4154: PUSH
4155: LD_INT 39900
4157: PUSH
4158: LD_INT 42000
4160: PUSH
4161: LD_INT 46200
4163: PUSH
4164: EMPTY
4165: LIST
4166: LIST
4167: LIST
4168: LIST
4169: LIST
4170: LIST
4171: LIST
4172: LIST
4173: LIST
4174: LIST
4175: ST_TO_ADDR
// DailyPhase = [ colors1.txt , colors2.txt , colors3.txt , colors4.txt , colors5.txt , colors6.txt ] ;
4176: LD_ADDR_EXP 61
4180: PUSH
4181: LD_STRING colors1.txt
4183: PUSH
4184: LD_STRING colors2.txt
4186: PUSH
4187: LD_STRING colors3.txt
4189: PUSH
4190: LD_STRING colors4.txt
4192: PUSH
4193: LD_STRING colors5.txt
4195: PUSH
4196: LD_STRING colors6.txt
4198: PUSH
4199: EMPTY
4200: LIST
4201: LIST
4202: LIST
4203: LIST
4204: LIST
4205: LIST
4206: ST_TO_ADDR
// morale_decreasing_time = [ - 1 , 0 0$10 , 0 0$20 , 0 0$40 , 0 0$0 ] ;
4207: LD_ADDR_EXP 46
4211: PUSH
4212: LD_INT 1
4214: NEG
4215: PUSH
4216: LD_INT 350
4218: PUSH
4219: LD_INT 700
4221: PUSH
4222: LD_INT 1400
4224: PUSH
4225: LD_INT 0
4227: PUSH
4228: EMPTY
4229: LIST
4230: LIST
4231: LIST
4232: LIST
4233: LIST
4234: ST_TO_ADDR
// final_count = [ 0 , 200 , 300 , 500 , 700 , 1000 , 1500 , 2000 ] ;
4235: LD_ADDR_EXP 57
4239: PUSH
4240: LD_INT 0
4242: PUSH
4243: LD_INT 200
4245: PUSH
4246: LD_INT 300
4248: PUSH
4249: LD_INT 500
4251: PUSH
4252: LD_INT 700
4254: PUSH
4255: LD_INT 1000
4257: PUSH
4258: LD_INT 1500
4260: PUSH
4261: LD_INT 2000
4263: PUSH
4264: EMPTY
4265: LIST
4266: LIST
4267: LIST
4268: LIST
4269: LIST
4270: LIST
4271: LIST
4272: LIST
4273: ST_TO_ADDR
// WarForTerritory_flags = [ 0 , 3 , 4 , 5 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
4274: LD_ADDR_EXP 65
4278: PUSH
4279: LD_INT 0
4281: PUSH
4282: LD_INT 3
4284: PUSH
4285: LD_INT 4
4287: PUSH
4288: LD_INT 5
4290: PUSH
4291: LD_INT 0
4293: PUSH
4294: LD_INT 0
4296: PUSH
4297: LD_INT 0
4299: PUSH
4300: LD_INT 0
4302: PUSH
4303: LD_INT 0
4305: PUSH
4306: LD_INT 0
4308: PUSH
4309: LD_INT 0
4311: PUSH
4312: EMPTY
4313: LIST
4314: LIST
4315: LIST
4316: LIST
4317: LIST
4318: LIST
4319: LIST
4320: LIST
4321: LIST
4322: LIST
4323: LIST
4324: ST_TO_ADDR
// WarForTerritory_Points = [ 0 , 0 , 0 , 0 , 200 , 300 , 500 , 700 , 1000 , 1500 , 2000 ] ;
4325: LD_ADDR_EXP 64
4329: PUSH
4330: LD_INT 0
4332: PUSH
4333: LD_INT 0
4335: PUSH
4336: LD_INT 0
4338: PUSH
4339: LD_INT 0
4341: PUSH
4342: LD_INT 200
4344: PUSH
4345: LD_INT 300
4347: PUSH
4348: LD_INT 500
4350: PUSH
4351: LD_INT 700
4353: PUSH
4354: LD_INT 1000
4356: PUSH
4357: LD_INT 1500
4359: PUSH
4360: LD_INT 2000
4362: PUSH
4363: EMPTY
4364: LIST
4365: LIST
4366: LIST
4367: LIST
4368: LIST
4369: LIST
4370: LIST
4371: LIST
4372: LIST
4373: LIST
4374: LIST
4375: ST_TO_ADDR
// Position_Sides := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
4376: LD_ADDR_EXP 62
4380: PUSH
4381: LD_INT 0
4383: PUSH
4384: LD_INT 0
4386: PUSH
4387: LD_INT 0
4389: PUSH
4390: LD_INT 0
4392: PUSH
4393: LD_INT 0
4395: PUSH
4396: LD_INT 0
4398: PUSH
4399: LD_INT 0
4401: PUSH
4402: LD_INT 0
4404: PUSH
4405: EMPTY
4406: LIST
4407: LIST
4408: LIST
4409: LIST
4410: LIST
4411: LIST
4412: LIST
4413: LIST
4414: ST_TO_ADDR
// buildUpTime_Delay := [ 0 , 5 5$00 , 10 10$00 , 15 15$00 ] ;
4415: LD_ADDR_EXP 66
4419: PUSH
4420: LD_INT 0
4422: PUSH
4423: LD_INT 10500
4425: PUSH
4426: LD_INT 21000
4428: PUSH
4429: LD_INT 31500
4431: PUSH
4432: EMPTY
4433: LIST
4434: LIST
4435: LIST
4436: LIST
4437: ST_TO_ADDR
// siberite_bomb_Delay := [ 0 , 1 , 30 30$00 , 60 60$00 , 90 90$00 , 120 120$00 ] ;
4438: LD_ADDR_EXP 67
4442: PUSH
4443: LD_INT 0
4445: PUSH
4446: LD_INT 1
4448: PUSH
4449: LD_INT 63000
4451: PUSH
4452: LD_INT 126000
4454: PUSH
4455: LD_INT 189000
4457: PUSH
4458: LD_INT 252000
4460: PUSH
4461: EMPTY
4462: LIST
4463: LIST
4464: LIST
4465: LIST
4466: LIST
4467: LIST
4468: ST_TO_ADDR
// end ;
4469: LD_VAR 0 1
4473: RET
// export function init_map ; var i ; begin
4474: LD_INT 0
4476: PPUSH
4477: PPUSH
// base_level = base_level [ def_base_level + 1 ] ;
4478: LD_ADDR_EXP 37
4482: PUSH
4483: LD_EXP 37
4487: PUSH
4488: LD_EXP 10
4492: PUSH
4493: LD_INT 1
4495: PLUS
4496: ARRAY
4497: ST_TO_ADDR
// number_of_people = number_of_people [ def_amount_of_people + 1 ] ;
4498: LD_ADDR_EXP 40
4502: PUSH
4503: LD_EXP 40
4507: PUSH
4508: LD_EXP 11
4512: PUSH
4513: LD_INT 1
4515: PLUS
4516: ARRAY
4517: ST_TO_ADDR
// number_of_apemen = number_of_apemen [ def_amount_of_apemen_in_team + 1 ] ;
4518: LD_ADDR_EXP 41
4522: PUSH
4523: LD_EXP 41
4527: PUSH
4528: LD_EXP 12
4532: PUSH
4533: LD_INT 1
4535: PLUS
4536: ARRAY
4537: ST_TO_ADDR
// initial_level = initial_level [ def_initial_level + 1 ] ;
4538: LD_ADDR_EXP 42
4542: PUSH
4543: LD_EXP 42
4547: PUSH
4548: LD_EXP 13
4552: PUSH
4553: LD_INT 1
4555: PLUS
4556: ARRAY
4557: ST_TO_ADDR
// starting_resources = starting_resources [ def_starting_resources + 1 ] ;
4558: LD_ADDR_EXP 44
4562: PUSH
4563: LD_EXP 44
4567: PUSH
4568: LD_EXP 15
4572: PUSH
4573: LD_INT 1
4575: PLUS
4576: ARRAY
4577: ST_TO_ADDR
// starting_crates = starting_crates [ def_starting_resources + 1 ] ;
4578: LD_ADDR_EXP 43
4582: PUSH
4583: LD_EXP 43
4587: PUSH
4588: LD_EXP 15
4592: PUSH
4593: LD_INT 1
4595: PLUS
4596: ARRAY
4597: ST_TO_ADDR
// Tech_Level = def_tech_level ;
4598: LD_ADDR_EXP 56
4602: PUSH
4603: LD_EXP 26
4607: ST_TO_ADDR
// Hustota_Zasilek ;
4608: CALL 2185 0 0
// spawning_koef_of_apemen = spawning_koef_of_apemen [ def_amount_of_apemen + 1 ] ;
4612: LD_ADDR_EXP 47
4616: PUSH
4617: LD_EXP 47
4621: PUSH
4622: LD_EXP 22
4626: PUSH
4627: LD_INT 1
4629: PLUS
4630: ARRAY
4631: ST_TO_ADDR
// spawning_koef_of_tiger = spawning_koef_of_tiger [ def_amount_of_tiger + 1 ] ;
4632: LD_ADDR_EXP 48
4636: PUSH
4637: LD_EXP 48
4641: PUSH
4642: LD_EXP 23
4646: PUSH
4647: LD_INT 1
4649: PLUS
4650: ARRAY
4651: ST_TO_ADDR
// respawning_time_min = respawning_time_min [ def_people_respawning + 1 ] ;
4652: LD_ADDR_EXP 49
4656: PUSH
4657: LD_EXP 49
4661: PUSH
4662: LD_EXP 25
4666: PUSH
4667: LD_INT 1
4669: PLUS
4670: ARRAY
4671: ST_TO_ADDR
// respawning_time_max = respawning_time_max [ def_people_respawning + 1 ] ;
4672: LD_ADDR_EXP 51
4676: PUSH
4677: LD_EXP 51
4681: PUSH
4682: LD_EXP 25
4686: PUSH
4687: LD_INT 1
4689: PLUS
4690: ARRAY
4691: ST_TO_ADDR
// respawning_time_delay_min = respawning_time_delay_min [ def_people_respawning + 1 ] ;
4692: LD_ADDR_EXP 53
4696: PUSH
4697: LD_EXP 53
4701: PUSH
4702: LD_EXP 25
4706: PUSH
4707: LD_INT 1
4709: PLUS
4710: ARRAY
4711: ST_TO_ADDR
// respawning_time_delay_max = respawning_time_delay_max [ def_people_respawning + 1 ] ;
4712: LD_ADDR_EXP 54
4716: PUSH
4717: LD_EXP 54
4721: PUSH
4722: LD_EXP 25
4726: PUSH
4727: LD_INT 1
4729: PLUS
4730: ARRAY
4731: ST_TO_ADDR
// daily_start = daily_start [ def_daily_start + 1 ] ;
4732: LD_ADDR_EXP 58
4736: PUSH
4737: LD_EXP 58
4741: PUSH
4742: LD_EXP 32
4746: PUSH
4747: LD_INT 1
4749: PLUS
4750: ARRAY
4751: ST_TO_ADDR
// daily_speed = daily_speed [ def_daily_speed + 1 ] ;
4752: LD_ADDR_EXP 59
4756: PUSH
4757: LD_EXP 59
4761: PUSH
4762: LD_EXP 33
4766: PUSH
4767: LD_INT 1
4769: PLUS
4770: ARRAY
4771: ST_TO_ADDR
// morale_decreasing_time = morale_decreasing_time [ def_morale_flags + 1 ] ;
4772: LD_ADDR_EXP 46
4776: PUSH
4777: LD_EXP 46
4781: PUSH
4782: LD_EXP 20
4786: PUSH
4787: LD_INT 1
4789: PLUS
4790: ARRAY
4791: ST_TO_ADDR
// battle_flags_id = [ ] ;
4792: LD_ADDR_EXP 89
4796: PUSH
4797: EMPTY
4798: ST_TO_ADDR
// heroes = [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
4799: LD_ADDR_EXP 50
4803: PUSH
4804: EMPTY
4805: PUSH
4806: EMPTY
4807: PUSH
4808: EMPTY
4809: PUSH
4810: EMPTY
4811: PUSH
4812: EMPTY
4813: PUSH
4814: EMPTY
4815: PUSH
4816: EMPTY
4817: PUSH
4818: EMPTY
4819: PUSH
4820: EMPTY
4821: LIST
4822: LIST
4823: LIST
4824: LIST
4825: LIST
4826: LIST
4827: LIST
4828: LIST
4829: ST_TO_ADDR
// final_count = final_count [ def_kings_age + 1 ] ;
4830: LD_ADDR_EXP 57
4834: PUSH
4835: LD_EXP 57
4839: PUSH
4840: LD_EXP 35
4844: PUSH
4845: LD_INT 1
4847: PLUS
4848: ARRAY
4849: ST_TO_ADDR
// WarForTerritory_flags = WarForTerritory_flags [ def_warForTerritory + 1 ] ;
4850: LD_ADDR_EXP 65
4854: PUSH
4855: LD_EXP 65
4859: PUSH
4860: LD_EXP 36
4864: PUSH
4865: LD_INT 1
4867: PLUS
4868: ARRAY
4869: ST_TO_ADDR
// WarForTerritory_Points = WarForTerritory_Points [ def_warForTerritory + 1 ] ;
4870: LD_ADDR_EXP 64
4874: PUSH
4875: LD_EXP 64
4879: PUSH
4880: LD_EXP 36
4884: PUSH
4885: LD_INT 1
4887: PLUS
4888: ARRAY
4889: ST_TO_ADDR
// buildUpTime_Delay := buildUpTime_Delay [ def_builduptime + 1 ] ;
4890: LD_ADDR_EXP 66
4894: PUSH
4895: LD_EXP 66
4899: PUSH
4900: LD_EXP 30
4904: PUSH
4905: LD_INT 1
4907: PLUS
4908: ARRAY
4909: ST_TO_ADDR
// siberite_bomb_Delay := siberite_bomb_Delay [ def_siberite_bomb + 1 ] ;
4910: LD_ADDR_EXP 67
4914: PUSH
4915: LD_EXP 67
4919: PUSH
4920: LD_EXP 29
4924: PUSH
4925: LD_INT 1
4927: PLUS
4928: ARRAY
4929: ST_TO_ADDR
// for i = 1 to depot_def + 0 do
4930: LD_ADDR_VAR 0 2
4934: PUSH
4935: DOUBLE
4936: LD_INT 1
4938: DEC
4939: ST_TO_ADDR
4940: LD_EXP 81
4944: PUSH
4945: LD_INT 0
4947: PLUS
4948: PUSH
4949: FOR_TO
4950: IFFALSE 5056
// start_def := start_def ^ [ [ ShiftX ( depot_def [ i ] [ 1 ] , depot_def [ i ] [ 3 ] mod 6 , 6 ) , ShiftY ( depot_def [ i ] [ 2 ] , depot_def [ i ] [ 3 ] mod 6 , 6 ) ] ] ;
4952: LD_ADDR_EXP 83
4956: PUSH
4957: LD_EXP 83
4961: PUSH
4962: LD_EXP 81
4966: PUSH
4967: LD_VAR 0 2
4971: ARRAY
4972: PUSH
4973: LD_INT 1
4975: ARRAY
4976: PPUSH
4977: LD_EXP 81
4981: PUSH
4982: LD_VAR 0 2
4986: ARRAY
4987: PUSH
4988: LD_INT 3
4990: ARRAY
4991: PUSH
4992: LD_INT 6
4994: MOD
4995: PPUSH
4996: LD_INT 6
4998: PPUSH
4999: CALL_OW 272
5003: PUSH
5004: LD_EXP 81
5008: PUSH
5009: LD_VAR 0 2
5013: ARRAY
5014: PUSH
5015: LD_INT 2
5017: ARRAY
5018: PPUSH
5019: LD_EXP 81
5023: PUSH
5024: LD_VAR 0 2
5028: ARRAY
5029: PUSH
5030: LD_INT 3
5032: ARRAY
5033: PUSH
5034: LD_INT 6
5036: MOD
5037: PPUSH
5038: LD_INT 6
5040: PPUSH
5041: CALL_OW 273
5045: PUSH
5046: EMPTY
5047: LIST
5048: LIST
5049: PUSH
5050: EMPTY
5051: LIST
5052: ADD
5053: ST_TO_ADDR
5054: GO 4949
5056: POP
5057: POP
// if not Game_Type in GT_Survival then
5058: LD_EXP 1
5062: PUSH
5063: LD_EXP 6
5067: IN
5068: NOT
5069: IFFALSE 5251
// begin for i in oil_deposits_locations do
5071: LD_ADDR_VAR 0 2
5075: PUSH
5076: LD_EXP 86
5080: PUSH
5081: FOR_IN
5082: IFFALSE 5111
// CreateDepositXY ( i [ 1 ] , i [ 2 ] , mat_oil ) ;
5084: LD_VAR 0 2
5088: PUSH
5089: LD_INT 1
5091: ARRAY
5092: PPUSH
5093: LD_VAR 0 2
5097: PUSH
5098: LD_INT 2
5100: ARRAY
5101: PPUSH
5102: LD_INT 2
5104: PPUSH
5105: CALL_OW 62
5109: GO 5081
5111: POP
5112: POP
// for i in siberite_deposits_locations do
5113: LD_ADDR_VAR 0 2
5117: PUSH
5118: LD_EXP 88
5122: PUSH
5123: FOR_IN
5124: IFFALSE 5153
// CreateDepositXY ( i [ 1 ] , i [ 2 ] , mat_siberit ) ;
5126: LD_VAR 0 2
5130: PUSH
5131: LD_INT 1
5133: ARRAY
5134: PPUSH
5135: LD_VAR 0 2
5139: PUSH
5140: LD_INT 2
5142: ARRAY
5143: PPUSH
5144: LD_INT 3
5146: PPUSH
5147: CALL_OW 62
5151: GO 5123
5153: POP
5154: POP
// if def_extra_oil_deposits then
5155: LD_EXP 17
5159: IFFALSE 5203
// for i in extra_oil_deposits_locations do
5161: LD_ADDR_VAR 0 2
5165: PUSH
5166: LD_EXP 85
5170: PUSH
5171: FOR_IN
5172: IFFALSE 5201
// CreateDepositXY ( i [ 1 ] , i [ 2 ] , mat_oil ) ;
5174: LD_VAR 0 2
5178: PUSH
5179: LD_INT 1
5181: ARRAY
5182: PPUSH
5183: LD_VAR 0 2
5187: PUSH
5188: LD_INT 2
5190: ARRAY
5191: PPUSH
5192: LD_INT 2
5194: PPUSH
5195: CALL_OW 62
5199: GO 5171
5201: POP
5202: POP
// if def_extra_sib_deposits then
5203: LD_EXP 18
5207: IFFALSE 5251
// for i in extra_sib_deposits_locations do
5209: LD_ADDR_VAR 0 2
5213: PUSH
5214: LD_EXP 87
5218: PUSH
5219: FOR_IN
5220: IFFALSE 5249
// CreateDepositXY ( i [ 1 ] , i [ 2 ] , mat_siberit ) ;
5222: LD_VAR 0 2
5226: PUSH
5227: LD_INT 1
5229: ARRAY
5230: PPUSH
5231: LD_VAR 0 2
5235: PUSH
5236: LD_INT 2
5238: ARRAY
5239: PPUSH
5240: LD_INT 3
5242: PPUSH
5243: CALL_OW 62
5247: GO 5219
5249: POP
5250: POP
// end ; for i := 1 to 8 do
5251: LD_ADDR_VAR 0 2
5255: PUSH
5256: DOUBLE
5257: LD_INT 1
5259: DEC
5260: ST_TO_ADDR
5261: LD_INT 8
5263: PUSH
5264: FOR_TO
5265: IFFALSE 5312
// if Side_Positions [ i ] then
5267: LD_EXP 75
5271: PUSH
5272: LD_VAR 0 2
5276: ARRAY
5277: IFFALSE 5310
// Position_Sides := Replace ( Position_Sides , Side_Positions [ i ] , i ) ;
5279: LD_ADDR_EXP 62
5283: PUSH
5284: LD_EXP 62
5288: PPUSH
5289: LD_EXP 75
5293: PUSH
5294: LD_VAR 0 2
5298: ARRAY
5299: PPUSH
5300: LD_VAR 0 2
5304: PPUSH
5305: CALL_OW 1
5309: ST_TO_ADDR
5310: GO 5264
5312: POP
5313: POP
// end ;
5314: LD_VAR 0 1
5318: RET
// export function set_shared_visions_and_alliances ; var i , j ; begin
5319: LD_INT 0
5321: PPUSH
5322: PPUSH
5323: PPUSH
// Team_Game := ( Side_Teams diff [ 0 ] ) > 1 ;
5324: LD_ADDR_EXP 80
5328: PUSH
5329: LD_EXP 72
5333: PUSH
5334: LD_INT 0
5336: PUSH
5337: EMPTY
5338: LIST
5339: DIFF
5340: PUSH
5341: LD_INT 1
5343: GREATER
5344: ST_TO_ADDR
// if not Team_Game then
5345: LD_EXP 80
5349: NOT
5350: IFFALSE 5448
// begin for i = 1 to 8 do
5352: LD_ADDR_VAR 0 2
5356: PUSH
5357: DOUBLE
5358: LD_INT 1
5360: DEC
5361: ST_TO_ADDR
5362: LD_INT 8
5364: PUSH
5365: FOR_TO
5366: IFFALSE 5444
// for j = 1 to 8 do
5368: LD_ADDR_VAR 0 3
5372: PUSH
5373: DOUBLE
5374: LD_INT 1
5376: DEC
5377: ST_TO_ADDR
5378: LD_INT 8
5380: PUSH
5381: FOR_TO
5382: IFFALSE 5440
// if i <> j then
5384: LD_VAR 0 2
5388: PUSH
5389: LD_VAR 0 3
5393: NONEQUAL
5394: IFFALSE 5418
// SetAttitude ( i , j , att_neutral , true ) else
5396: LD_VAR 0 2
5400: PPUSH
5401: LD_VAR 0 3
5405: PPUSH
5406: LD_INT 0
5408: PPUSH
5409: LD_INT 1
5411: PPUSH
5412: CALL_OW 80
5416: GO 5438
// SetAttitude ( i , j , att_friend , true ) ;
5418: LD_VAR 0 2
5422: PPUSH
5423: LD_VAR 0 3
5427: PPUSH
5428: LD_INT 1
5430: PPUSH
5431: LD_INT 1
5433: PPUSH
5434: CALL_OW 80
5438: GO 5381
5440: POP
5441: POP
5442: GO 5365
5444: POP
5445: POP
// end else
5446: GO 5623
// begin if def_shared_vision then
5448: LD_EXP 19
5452: IFFALSE 5517
// begin for i in Teams do
5454: LD_ADDR_VAR 0 2
5458: PUSH
5459: LD_EXP 73
5463: PUSH
5464: FOR_IN
5465: IFFALSE 5515
// for j = 2 to i do
5467: LD_ADDR_VAR 0 3
5471: PUSH
5472: DOUBLE
5473: LD_INT 2
5475: DEC
5476: ST_TO_ADDR
5477: LD_VAR 0 2
5481: PUSH
5482: FOR_TO
5483: IFFALSE 5511
// ChangeSideFog ( i [ j ] , i [ 1 ] ) ;
5485: LD_VAR 0 2
5489: PUSH
5490: LD_VAR 0 3
5494: ARRAY
5495: PPUSH
5496: LD_VAR 0 2
5500: PUSH
5501: LD_INT 1
5503: ARRAY
5504: PPUSH
5505: CALL_OW 343
5509: GO 5482
5511: POP
5512: POP
5513: GO 5464
5515: POP
5516: POP
// end ; for i = 1 to 8 do
5517: LD_ADDR_VAR 0 2
5521: PUSH
5522: DOUBLE
5523: LD_INT 1
5525: DEC
5526: ST_TO_ADDR
5527: LD_INT 8
5529: PUSH
5530: FOR_TO
5531: IFFALSE 5621
// for j = 1 to 8 do
5533: LD_ADDR_VAR 0 3
5537: PUSH
5538: DOUBLE
5539: LD_INT 1
5541: DEC
5542: ST_TO_ADDR
5543: LD_INT 8
5545: PUSH
5546: FOR_TO
5547: IFFALSE 5617
// if Side_Teams [ i ] = Side_Teams [ j ] then
5549: LD_EXP 72
5553: PUSH
5554: LD_VAR 0 2
5558: ARRAY
5559: PUSH
5560: LD_EXP 72
5564: PUSH
5565: LD_VAR 0 3
5569: ARRAY
5570: EQUAL
5571: IFFALSE 5595
// SetAttitude ( i , j , att_friend , true ) else
5573: LD_VAR 0 2
5577: PPUSH
5578: LD_VAR 0 3
5582: PPUSH
5583: LD_INT 1
5585: PPUSH
5586: LD_INT 1
5588: PPUSH
5589: CALL_OW 80
5593: GO 5615
// SetAttitude ( i , j , att_enemy , true ) ;
5595: LD_VAR 0 2
5599: PPUSH
5600: LD_VAR 0 3
5604: PPUSH
5605: LD_INT 2
5607: PPUSH
5608: LD_INT 1
5610: PPUSH
5611: CALL_OW 80
5615: GO 5546
5617: POP
5618: POP
5619: GO 5530
5621: POP
5622: POP
// end ; end ;
5623: LD_VAR 0 1
5627: RET
// export function prepare_sides ; var i , pos ; begin
5628: LD_INT 0
5630: PPUSH
5631: PPUSH
5632: PPUSH
// global_units = [ ] ;
5633: LD_ADDR_EXP 93
5637: PUSH
5638: EMPTY
5639: ST_TO_ADDR
// global_classes = [ ] ;
5640: LD_ADDR_EXP 97
5644: PUSH
5645: EMPTY
5646: ST_TO_ADDR
// global_defined := false ;
5647: LD_ADDR_EXP 94
5651: PUSH
5652: LD_INT 0
5654: ST_TO_ADDR
// pozice_beden = [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
5655: LD_ADDR_EXP 8
5659: PUSH
5660: EMPTY
5661: PUSH
5662: EMPTY
5663: PUSH
5664: EMPTY
5665: PUSH
5666: EMPTY
5667: PUSH
5668: EMPTY
5669: PUSH
5670: EMPTY
5671: PUSH
5672: EMPTY
5673: PUSH
5674: EMPTY
5675: PUSH
5676: EMPTY
5677: LIST
5678: LIST
5679: LIST
5680: LIST
5681: LIST
5682: LIST
5683: LIST
5684: LIST
5685: ST_TO_ADDR
// for i := 1 to 8 do
5686: LD_ADDR_VAR 0 2
5690: PUSH
5691: DOUBLE
5692: LD_INT 1
5694: DEC
5695: ST_TO_ADDR
5696: LD_INT 8
5698: PUSH
5699: FOR_TO
5700: IFFALSE 6165
// if Side_Positions [ i ] then
5702: LD_EXP 75
5706: PUSH
5707: LD_VAR 0 2
5711: ARRAY
5712: IFFALSE 6163
// begin pos := Side_Positions [ i ] ;
5714: LD_ADDR_VAR 0 3
5718: PUSH
5719: LD_EXP 75
5723: PUSH
5724: LD_VAR 0 2
5728: ARRAY
5729: ST_TO_ADDR
// if Game_Type in GT_DoubleNat ^ GT_DoublePeople then
5730: LD_EXP 1
5734: PUSH
5735: LD_EXP 3
5739: PUSH
5740: LD_EXP 4
5744: ADD
5745: IN
5746: IFFALSE 5956
// begin if Game_Type in GT_DoubleNat then
5748: LD_EXP 1
5752: PUSH
5753: LD_EXP 3
5757: IN
5758: IFFALSE 5862
// begin prepare_side ( i , pos , Position_Nations [ i ] [ 1 ] ) ;
5760: LD_VAR 0 2
5764: PPUSH
5765: LD_VAR 0 3
5769: PPUSH
5770: LD_EXP 52
5774: PUSH
5775: LD_VAR 0 2
5779: ARRAY
5780: PUSH
5781: LD_INT 1
5783: ARRAY
5784: PPUSH
5785: CALL 6545 0 3
// prepare_side ( i , pos + 1 , Position_Nations [ i ] [ 2 ] ) ;
5789: LD_VAR 0 2
5793: PPUSH
5794: LD_VAR 0 3
5798: PUSH
5799: LD_INT 1
5801: PLUS
5802: PPUSH
5803: LD_EXP 52
5807: PUSH
5808: LD_VAR 0 2
5812: ARRAY
5813: PUSH
5814: LD_INT 2
5816: ARRAY
5817: PPUSH
5818: CALL 6545 0 3
// pozice_beden = replace ( pozice_beden , i , [ pos , pos + 1 ] ) ;
5822: LD_ADDR_EXP 8
5826: PUSH
5827: LD_EXP 8
5831: PPUSH
5832: LD_VAR 0 2
5836: PPUSH
5837: LD_VAR 0 3
5841: PUSH
5842: LD_VAR 0 3
5846: PUSH
5847: LD_INT 1
5849: PLUS
5850: PUSH
5851: EMPTY
5852: LIST
5853: LIST
5854: PPUSH
5855: CALL_OW 1
5859: ST_TO_ADDR
// end else
5860: GO 5954
// begin prepare_side ( i , pos , Side_Nations [ i ] ) ;
5862: LD_VAR 0 2
5866: PPUSH
5867: LD_VAR 0 3
5871: PPUSH
5872: LD_EXP 76
5876: PUSH
5877: LD_VAR 0 2
5881: ARRAY
5882: PPUSH
5883: CALL 6545 0 3
// prepare_side ( i , pos + 1 , Side_Nations [ i ] ) ;
5887: LD_VAR 0 2
5891: PPUSH
5892: LD_VAR 0 3
5896: PUSH
5897: LD_INT 1
5899: PLUS
5900: PPUSH
5901: LD_EXP 76
5905: PUSH
5906: LD_VAR 0 2
5910: ARRAY
5911: PPUSH
5912: CALL 6545 0 3
// pozice_beden = replace ( pozice_beden , i , [ pos , pos + 1 ] ) ;
5916: LD_ADDR_EXP 8
5920: PUSH
5921: LD_EXP 8
5925: PPUSH
5926: LD_VAR 0 2
5930: PPUSH
5931: LD_VAR 0 3
5935: PUSH
5936: LD_VAR 0 3
5940: PUSH
5941: LD_INT 1
5943: PLUS
5944: PUSH
5945: EMPTY
5946: LIST
5947: LIST
5948: PPUSH
5949: CALL_OW 1
5953: ST_TO_ADDR
// end ; end else
5954: GO 6138
// if game_type in GT_TripleNat then
5956: LD_EXP 1
5960: PUSH
5961: LD_EXP 5
5965: IN
5966: IFFALSE 6113
// begin prepare_side ( i , pos , Position_Nations [ i ] [ 1 ] ) ;
5968: LD_VAR 0 2
5972: PPUSH
5973: LD_VAR 0 3
5977: PPUSH
5978: LD_EXP 52
5982: PUSH
5983: LD_VAR 0 2
5987: ARRAY
5988: PUSH
5989: LD_INT 1
5991: ARRAY
5992: PPUSH
5993: CALL 6545 0 3
// prepare_side ( i , pos + 1 , Position_Nations [ i ] [ 2 ] ) ;
5997: LD_VAR 0 2
6001: PPUSH
6002: LD_VAR 0 3
6006: PUSH
6007: LD_INT 1
6009: PLUS
6010: PPUSH
6011: LD_EXP 52
6015: PUSH
6016: LD_VAR 0 2
6020: ARRAY
6021: PUSH
6022: LD_INT 2
6024: ARRAY
6025: PPUSH
6026: CALL 6545 0 3
// prepare_side ( i , pos + 2 , Position_Nations [ i ] [ 3 ] ) ;
6030: LD_VAR 0 2
6034: PPUSH
6035: LD_VAR 0 3
6039: PUSH
6040: LD_INT 2
6042: PLUS
6043: PPUSH
6044: LD_EXP 52
6048: PUSH
6049: LD_VAR 0 2
6053: ARRAY
6054: PUSH
6055: LD_INT 3
6057: ARRAY
6058: PPUSH
6059: CALL 6545 0 3
// pozice_beden = replace ( pozice_beden , i , [ pos , pos + 1 , pos + 2 ] ) ;
6063: LD_ADDR_EXP 8
6067: PUSH
6068: LD_EXP 8
6072: PPUSH
6073: LD_VAR 0 2
6077: PPUSH
6078: LD_VAR 0 3
6082: PUSH
6083: LD_VAR 0 3
6087: PUSH
6088: LD_INT 1
6090: PLUS
6091: PUSH
6092: LD_VAR 0 3
6096: PUSH
6097: LD_INT 2
6099: PLUS
6100: PUSH
6101: EMPTY
6102: LIST
6103: LIST
6104: LIST
6105: PPUSH
6106: CALL_OW 1
6110: ST_TO_ADDR
// end else
6111: GO 6138
// prepare_side ( i , pos , Side_Nations [ i ] ) ;
6113: LD_VAR 0 2
6117: PPUSH
6118: LD_VAR 0 3
6122: PPUSH
6123: LD_EXP 76
6127: PUSH
6128: LD_VAR 0 2
6132: ARRAY
6133: PPUSH
6134: CALL 6545 0 3
// pozice_beden = replace ( pozice_beden , i , pos ) ;
6138: LD_ADDR_EXP 8
6142: PUSH
6143: LD_EXP 8
6147: PPUSH
6148: LD_VAR 0 2
6152: PPUSH
6153: LD_VAR 0 3
6157: PPUSH
6158: CALL_OW 1
6162: ST_TO_ADDR
// end ;
6163: GO 5699
6165: POP
6166: POP
// end ;
6167: LD_VAR 0 1
6171: RET
// export function Modify_Nations ; var i , n ; begin
6172: LD_INT 0
6174: PPUSH
6175: PPUSH
6176: PPUSH
// Position_Nations := [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
6177: LD_ADDR_EXP 52
6181: PUSH
6182: EMPTY
6183: PUSH
6184: EMPTY
6185: PUSH
6186: EMPTY
6187: PUSH
6188: EMPTY
6189: PUSH
6190: EMPTY
6191: PUSH
6192: EMPTY
6193: PUSH
6194: EMPTY
6195: PUSH
6196: EMPTY
6197: PUSH
6198: EMPTY
6199: LIST
6200: LIST
6201: LIST
6202: LIST
6203: LIST
6204: LIST
6205: LIST
6206: LIST
6207: ST_TO_ADDR
// if game_type in GT_doublenat then
6208: LD_EXP 1
6212: PUSH
6213: LD_EXP 3
6217: IN
6218: IFFALSE 6369
// begin for i = 1 to 8 do
6220: LD_ADDR_VAR 0 2
6224: PUSH
6225: DOUBLE
6226: LD_INT 1
6228: DEC
6229: ST_TO_ADDR
6230: LD_INT 8
6232: PUSH
6233: FOR_TO
6234: IFFALSE 6365
// if side_positions [ i ] then
6236: LD_EXP 75
6240: PUSH
6241: LD_VAR 0 2
6245: ARRAY
6246: IFFALSE 6363
// begin case side_nations [ i ] of 1 :
6248: LD_EXP 76
6252: PUSH
6253: LD_VAR 0 2
6257: ARRAY
6258: PUSH
6259: LD_INT 1
6261: DOUBLE
6262: EQUAL
6263: IFTRUE 6267
6265: GO 6285
6267: POP
// n = [ 1 , 2 ] ; 2 :
6268: LD_ADDR_VAR 0 3
6272: PUSH
6273: LD_INT 1
6275: PUSH
6276: LD_INT 2
6278: PUSH
6279: EMPTY
6280: LIST
6281: LIST
6282: ST_TO_ADDR
6283: GO 6338
6285: LD_INT 2
6287: DOUBLE
6288: EQUAL
6289: IFTRUE 6293
6291: GO 6311
6293: POP
// n = [ 2 , 3 ] ; 3 :
6294: LD_ADDR_VAR 0 3
6298: PUSH
6299: LD_INT 2
6301: PUSH
6302: LD_INT 3
6304: PUSH
6305: EMPTY
6306: LIST
6307: LIST
6308: ST_TO_ADDR
6309: GO 6338
6311: LD_INT 3
6313: DOUBLE
6314: EQUAL
6315: IFTRUE 6319
6317: GO 6337
6319: POP
// n = [ 3 , 1 ] ; end ;
6320: LD_ADDR_VAR 0 3
6324: PUSH
6325: LD_INT 3
6327: PUSH
6328: LD_INT 1
6330: PUSH
6331: EMPTY
6332: LIST
6333: LIST
6334: ST_TO_ADDR
6335: GO 6338
6337: POP
// Position_Nations = replace ( position_nations , i , n ) ;
6338: LD_ADDR_EXP 52
6342: PUSH
6343: LD_EXP 52
6347: PPUSH
6348: LD_VAR 0 2
6352: PPUSH
6353: LD_VAR 0 3
6357: PPUSH
6358: CALL_OW 1
6362: ST_TO_ADDR
// end ;
6363: GO 6233
6365: POP
6366: POP
// end else
6367: GO 6540
// if game_type in GT_triplenat then
6369: LD_EXP 1
6373: PUSH
6374: LD_EXP 5
6378: IN
6379: IFFALSE 6540
// begin for i = 1 to 8 do
6381: LD_ADDR_VAR 0 2
6385: PUSH
6386: DOUBLE
6387: LD_INT 1
6389: DEC
6390: ST_TO_ADDR
6391: LD_INT 8
6393: PUSH
6394: FOR_TO
6395: IFFALSE 6538
// if side_positions [ i ] then
6397: LD_EXP 75
6401: PUSH
6402: LD_VAR 0 2
6406: ARRAY
6407: IFFALSE 6536
// begin case side_nations [ i ] of 1 :
6409: LD_EXP 76
6413: PUSH
6414: LD_VAR 0 2
6418: ARRAY
6419: PUSH
6420: LD_INT 1
6422: DOUBLE
6423: EQUAL
6424: IFTRUE 6428
6426: GO 6450
6428: POP
// n = [ 1 , 2 , 3 ] ; 2 :
6429: LD_ADDR_VAR 0 3
6433: PUSH
6434: LD_INT 1
6436: PUSH
6437: LD_INT 2
6439: PUSH
6440: LD_INT 3
6442: PUSH
6443: EMPTY
6444: LIST
6445: LIST
6446: LIST
6447: ST_TO_ADDR
6448: GO 6511
6450: LD_INT 2
6452: DOUBLE
6453: EQUAL
6454: IFTRUE 6458
6456: GO 6480
6458: POP
// n = [ 2 , 3 , 1 ] ; 3 :
6459: LD_ADDR_VAR 0 3
6463: PUSH
6464: LD_INT 2
6466: PUSH
6467: LD_INT 3
6469: PUSH
6470: LD_INT 1
6472: PUSH
6473: EMPTY
6474: LIST
6475: LIST
6476: LIST
6477: ST_TO_ADDR
6478: GO 6511
6480: LD_INT 3
6482: DOUBLE
6483: EQUAL
6484: IFTRUE 6488
6486: GO 6510
6488: POP
// n = [ 3 , 1 , 2 ] ; end ;
6489: LD_ADDR_VAR 0 3
6493: PUSH
6494: LD_INT 3
6496: PUSH
6497: LD_INT 1
6499: PUSH
6500: LD_INT 2
6502: PUSH
6503: EMPTY
6504: LIST
6505: LIST
6506: LIST
6507: ST_TO_ADDR
6508: GO 6511
6510: POP
// Position_Nations = replace ( position_nations , i , n ) ;
6511: LD_ADDR_EXP 52
6515: PUSH
6516: LD_EXP 52
6520: PPUSH
6521: LD_VAR 0 2
6525: PPUSH
6526: LD_VAR 0 3
6530: PPUSH
6531: CALL_OW 1
6535: ST_TO_ADDR
// end ;
6536: GO 6394
6538: POP
6539: POP
// end ; end ;
6540: LD_VAR 0 1
6544: RET
// export function prepare_side ( side , pos , nation ) ; var x , y , i , r , sol , br , dep , neng , nsci , nmech , nsol ; begin
6545: LD_INT 0
6547: PPUSH
6548: PPUSH
6549: PPUSH
6550: PPUSH
6551: PPUSH
6552: PPUSH
6553: PPUSH
6554: PPUSH
6555: PPUSH
6556: PPUSH
6557: PPUSH
6558: PPUSH
// global_count = 0 ;
6559: LD_ADDR_EXP 96
6563: PUSH
6564: LD_INT 0
6566: ST_TO_ADDR
// uc_nation := nation ;
6567: LD_ADDR_OWVAR 21
6571: PUSH
6572: LD_VAR 0 3
6576: ST_TO_ADDR
// uc_side := side ;
6577: LD_ADDR_OWVAR 20
6581: PUSH
6582: LD_VAR 0 1
6586: ST_TO_ADDR
// x := depot_def [ pos ] [ 1 ] ;
6587: LD_ADDR_VAR 0 5
6591: PUSH
6592: LD_EXP 81
6596: PUSH
6597: LD_VAR 0 2
6601: ARRAY
6602: PUSH
6603: LD_INT 1
6605: ARRAY
6606: ST_TO_ADDR
// y := depot_def [ pos ] [ 2 ] ;
6607: LD_ADDR_VAR 0 6
6611: PUSH
6612: LD_EXP 81
6616: PUSH
6617: LD_VAR 0 2
6621: ARRAY
6622: PUSH
6623: LD_INT 2
6625: ARRAY
6626: ST_TO_ADDR
// case base_level of 0 :
6627: LD_EXP 37
6631: PUSH
6632: LD_INT 0
6634: DOUBLE
6635: EQUAL
6636: IFTRUE 6640
6638: GO 6787
6640: POP
// begin for i := 1 to 3 do
6641: LD_ADDR_VAR 0 7
6645: PUSH
6646: DOUBLE
6647: LD_INT 1
6649: DEC
6650: ST_TO_ADDR
6651: LD_INT 3
6653: PUSH
6654: FOR_TO
6655: IFFALSE 6783
// begin r := starting_resources [ i ] ;
6657: LD_ADDR_VAR 0 8
6661: PUSH
6662: LD_EXP 44
6666: PUSH
6667: LD_VAR 0 7
6671: ARRAY
6672: ST_TO_ADDR
// while r >= 10 do
6673: LD_VAR 0 8
6677: PUSH
6678: LD_INT 10
6680: GREATEREQUAL
6681: IFFALSE 6781
// if r > 50 then
6683: LD_VAR 0 8
6687: PUSH
6688: LD_INT 50
6690: GREATER
6691: IFFALSE 6737
// begin CreateResourcesXYR ( i , 5 , x , y , 4 , false ) ;
6693: LD_VAR 0 7
6697: PPUSH
6698: LD_INT 5
6700: PPUSH
6701: LD_VAR 0 5
6705: PPUSH
6706: LD_VAR 0 6
6710: PPUSH
6711: LD_INT 4
6713: PPUSH
6714: LD_INT 0
6716: PPUSH
6717: CALL_OW 60
// r := r - 50 ;
6721: LD_ADDR_VAR 0 8
6725: PUSH
6726: LD_VAR 0 8
6730: PUSH
6731: LD_INT 50
6733: MINUS
6734: ST_TO_ADDR
// end else
6735: GO 6779
// begin CreateResourcesXYR ( i , r div 10 , x , y , 4 , false ) ;
6737: LD_VAR 0 7
6741: PPUSH
6742: LD_VAR 0 8
6746: PUSH
6747: LD_INT 10
6749: DIV
6750: PPUSH
6751: LD_VAR 0 5
6755: PPUSH
6756: LD_VAR 0 6
6760: PPUSH
6761: LD_INT 4
6763: PPUSH
6764: LD_INT 0
6766: PPUSH
6767: CALL_OW 60
// r := 0 ;
6771: LD_ADDR_VAR 0 8
6775: PUSH
6776: LD_INT 0
6778: ST_TO_ADDR
// end ;
6779: GO 6673
// end ;
6781: GO 6654
6783: POP
6784: POP
// end ; 1 :
6785: GO 7052
6787: LD_INT 1
6789: DOUBLE
6790: EQUAL
6791: IFTRUE 6795
6793: GO 6919
6795: POP
// begin bc_type = b_depot ;
6796: LD_ADDR_OWVAR 42
6800: PUSH
6801: LD_INT 0
6803: ST_TO_ADDR
// dep := CreateAndPlaceBuildingXYD ( x , y , Depot_Def [ pos ] [ 3 ] ) ;
6804: LD_ADDR_VAR 0 11
6808: PUSH
6809: LD_VAR 0 5
6813: PPUSH
6814: LD_VAR 0 6
6818: PPUSH
6819: LD_EXP 81
6823: PUSH
6824: LD_VAR 0 2
6828: ARRAY
6829: PUSH
6830: LD_INT 3
6832: ARRAY
6833: PPUSH
6834: CALL_OW 47
6838: ST_TO_ADDR
// SetResourceType ( GetBase ( dep ) , mat_cans , starting_resources [ mat_cans ] ) ;
6839: LD_VAR 0 11
6843: PPUSH
6844: CALL_OW 274
6848: PPUSH
6849: LD_INT 1
6851: PPUSH
6852: LD_EXP 44
6856: PUSH
6857: LD_INT 1
6859: ARRAY
6860: PPUSH
6861: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_oil , starting_resources [ mat_oil ] ) ;
6865: LD_VAR 0 11
6869: PPUSH
6870: CALL_OW 274
6874: PPUSH
6875: LD_INT 2
6877: PPUSH
6878: LD_EXP 44
6882: PUSH
6883: LD_INT 2
6885: ARRAY
6886: PPUSH
6887: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_siberit , starting_resources [ mat_siberit ] ) ;
6891: LD_VAR 0 11
6895: PPUSH
6896: CALL_OW 274
6900: PPUSH
6901: LD_INT 3
6903: PPUSH
6904: LD_EXP 44
6908: PUSH
6909: LD_INT 3
6911: ARRAY
6912: PPUSH
6913: CALL_OW 277
// end ; 2 :
6917: GO 7052
6919: LD_INT 2
6921: DOUBLE
6922: EQUAL
6923: IFTRUE 6927
6925: GO 7051
6927: POP
// begin bc_type = b_warehouse ;
6928: LD_ADDR_OWVAR 42
6932: PUSH
6933: LD_INT 1
6935: ST_TO_ADDR
// dep := CreateAndPlaceBuildingXYD ( x , y , Depot_Def [ pos ] [ 3 ] ) ;
6936: LD_ADDR_VAR 0 11
6940: PUSH
6941: LD_VAR 0 5
6945: PPUSH
6946: LD_VAR 0 6
6950: PPUSH
6951: LD_EXP 81
6955: PUSH
6956: LD_VAR 0 2
6960: ARRAY
6961: PUSH
6962: LD_INT 3
6964: ARRAY
6965: PPUSH
6966: CALL_OW 47
6970: ST_TO_ADDR
// SetResourceType ( GetBase ( dep ) , mat_cans , starting_resources [ mat_cans ] ) ;
6971: LD_VAR 0 11
6975: PPUSH
6976: CALL_OW 274
6980: PPUSH
6981: LD_INT 1
6983: PPUSH
6984: LD_EXP 44
6988: PUSH
6989: LD_INT 1
6991: ARRAY
6992: PPUSH
6993: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_oil , starting_resources [ mat_oil ] ) ;
6997: LD_VAR 0 11
7001: PPUSH
7002: CALL_OW 274
7006: PPUSH
7007: LD_INT 2
7009: PPUSH
7010: LD_EXP 44
7014: PUSH
7015: LD_INT 2
7017: ARRAY
7018: PPUSH
7019: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_siberit , starting_resources [ mat_siberit ] ) ;
7023: LD_VAR 0 11
7027: PPUSH
7028: CALL_OW 274
7032: PPUSH
7033: LD_INT 3
7035: PPUSH
7036: LD_EXP 44
7040: PUSH
7041: LD_INT 3
7043: ARRAY
7044: PPUSH
7045: CALL_OW 277
// end ; end ;
7049: GO 7052
7051: POP
// x := start_def [ pos ] [ 1 ] ;
7052: LD_ADDR_VAR 0 5
7056: PUSH
7057: LD_EXP 83
7061: PUSH
7062: LD_VAR 0 2
7066: ARRAY
7067: PUSH
7068: LD_INT 1
7070: ARRAY
7071: ST_TO_ADDR
// y := start_def [ pos ] [ 2 ] ;
7072: LD_ADDR_VAR 0 6
7076: PUSH
7077: LD_EXP 83
7081: PUSH
7082: LD_VAR 0 2
7086: ARRAY
7087: PUSH
7088: LD_INT 2
7090: ARRAY
7091: ST_TO_ADDR
// for r in starting_crates do
7092: LD_ADDR_VAR 0 8
7096: PUSH
7097: LD_EXP 43
7101: PUSH
7102: FOR_IN
7103: IFFALSE 7135
// CreateResourcesXYR ( mat_cans , 5 , x , y , r , false ) ;
7105: LD_INT 1
7107: PPUSH
7108: LD_INT 5
7110: PPUSH
7111: LD_VAR 0 5
7115: PPUSH
7116: LD_VAR 0 6
7120: PPUSH
7121: LD_VAR 0 8
7125: PPUSH
7126: LD_INT 0
7128: PPUSH
7129: CALL_OW 60
7133: GO 7102
7135: POP
7136: POP
// if def_morale_flags then
7137: LD_EXP 20
7141: IFFALSE 7306
// if not def_WarForTerritory then
7143: LD_EXP 36
7147: NOT
7148: IFFALSE 7229
// battle_flags_id := battle_flags_id ^ SetBattleFlag ( side , x , y , [ [ bfo_defend_bonus_human , 100 ] , [ bfo_defend_bonus_vehicle , 50 ] , [ bfo_defend_bonus_building , 20 ] , [ bfo_height , 100 ] ] ) else
7150: LD_ADDR_EXP 89
7154: PUSH
7155: LD_EXP 89
7159: PUSH
7160: LD_VAR 0 1
7164: PPUSH
7165: LD_VAR 0 5
7169: PPUSH
7170: LD_VAR 0 6
7174: PPUSH
7175: LD_INT 1
7177: PUSH
7178: LD_INT 100
7180: PUSH
7181: EMPTY
7182: LIST
7183: LIST
7184: PUSH
7185: LD_INT 2
7187: PUSH
7188: LD_INT 50
7190: PUSH
7191: EMPTY
7192: LIST
7193: LIST
7194: PUSH
7195: LD_INT 3
7197: PUSH
7198: LD_INT 20
7200: PUSH
7201: EMPTY
7202: LIST
7203: LIST
7204: PUSH
7205: LD_INT 20
7207: PUSH
7208: LD_INT 100
7210: PUSH
7211: EMPTY
7212: LIST
7213: LIST
7214: PUSH
7215: EMPTY
7216: LIST
7217: LIST
7218: LIST
7219: LIST
7220: PPUSH
7221: CALL_OW 418
7225: ADD
7226: ST_TO_ADDR
7227: GO 7306
// battle_flags_id := battle_flags_id ^ SetBattleFlag ( side , x , y , [ [ bfo_defend_bonus_human , 200 ] , [ bfo_defend_bonus_vehicle , 100 ] , [ bfo_defend_bonus_building , 50 ] , [ bfo_height , 100 ] ] ) ;
7229: LD_ADDR_EXP 89
7233: PUSH
7234: LD_EXP 89
7238: PUSH
7239: LD_VAR 0 1
7243: PPUSH
7244: LD_VAR 0 5
7248: PPUSH
7249: LD_VAR 0 6
7253: PPUSH
7254: LD_INT 1
7256: PUSH
7257: LD_INT 200
7259: PUSH
7260: EMPTY
7261: LIST
7262: LIST
7263: PUSH
7264: LD_INT 2
7266: PUSH
7267: LD_INT 100
7269: PUSH
7270: EMPTY
7271: LIST
7272: LIST
7273: PUSH
7274: LD_INT 3
7276: PUSH
7277: LD_INT 50
7279: PUSH
7280: EMPTY
7281: LIST
7282: LIST
7283: PUSH
7284: LD_INT 20
7286: PUSH
7287: LD_INT 100
7289: PUSH
7290: EMPTY
7291: LIST
7292: LIST
7293: PUSH
7294: EMPTY
7295: LIST
7296: LIST
7297: LIST
7298: LIST
7299: PPUSH
7300: CALL_OW 418
7304: ADD
7305: ST_TO_ADDR
// if for_show_near_resources then
7306: LD_EXP 63
7310: IFFALSE 7444
// begin for i in for_show_near_resources [ pos ] [ 1 ] do
7312: LD_ADDR_VAR 0 7
7316: PUSH
7317: LD_EXP 63
7321: PUSH
7322: LD_VAR 0 2
7326: ARRAY
7327: PUSH
7328: LD_INT 1
7330: ARRAY
7331: PUSH
7332: FOR_IN
7333: IFFALSE 7364
// SetResourceVisibility ( i [ 1 ] , i [ 2 ] , side ) ;
7335: LD_VAR 0 7
7339: PUSH
7340: LD_INT 1
7342: ARRAY
7343: PPUSH
7344: LD_VAR 0 7
7348: PUSH
7349: LD_INT 2
7351: ARRAY
7352: PPUSH
7353: LD_VAR 0 1
7357: PPUSH
7358: CALL_OW 441
7362: GO 7332
7364: POP
7365: POP
// if def_siberite_detection and GetTech ( tech_sibdet , side ) = state_enabled then
7366: LD_EXP 28
7370: PUSH
7371: LD_INT 20
7373: PPUSH
7374: LD_VAR 0 1
7378: PPUSH
7379: CALL_OW 321
7383: PUSH
7384: LD_INT 1
7386: EQUAL
7387: AND
7388: IFFALSE 7444
// for i in for_show_near_resources [ pos ] [ 2 ] do
7390: LD_ADDR_VAR 0 7
7394: PUSH
7395: LD_EXP 63
7399: PUSH
7400: LD_VAR 0 2
7404: ARRAY
7405: PUSH
7406: LD_INT 2
7408: ARRAY
7409: PUSH
7410: FOR_IN
7411: IFFALSE 7442
// SetResourceVisibility ( i [ 1 ] , i [ 2 ] , side ) ;
7413: LD_VAR 0 7
7417: PUSH
7418: LD_INT 1
7420: ARRAY
7421: PPUSH
7422: LD_VAR 0 7
7426: PUSH
7427: LD_INT 2
7429: ARRAY
7430: PPUSH
7431: LD_VAR 0 1
7435: PPUSH
7436: CALL_OW 441
7440: GO 7410
7442: POP
7443: POP
// end ; bc_kind1 = b_lab_basic ;
7444: LD_ADDR_OWVAR 44
7448: PUSH
7449: LD_INT 9
7451: ST_TO_ADDR
// bc_kind2 = b_lab_basic ;
7452: LD_ADDR_OWVAR 45
7456: PUSH
7457: LD_INT 9
7459: ST_TO_ADDR
// for i in buildings_def [ pos ] do
7460: LD_ADDR_VAR 0 7
7464: PUSH
7465: LD_EXP 39
7469: PUSH
7470: LD_VAR 0 2
7474: ARRAY
7475: PUSH
7476: FOR_IN
7477: IFFALSE 7622
// begin if i [ 1 ] in [ b_oil_mine , b_siberite_mine ] then
7479: LD_VAR 0 7
7483: PUSH
7484: LD_INT 1
7486: ARRAY
7487: PUSH
7488: LD_INT 29
7490: PUSH
7491: LD_INT 30
7493: PUSH
7494: EMPTY
7495: LIST
7496: LIST
7497: IN
7498: IFFALSE 7527
// SetResourceVisibility ( i [ 2 ] , i [ 3 ] , side ) ;
7500: LD_VAR 0 7
7504: PUSH
7505: LD_INT 2
7507: ARRAY
7508: PPUSH
7509: LD_VAR 0 7
7513: PUSH
7514: LD_INT 3
7516: ARRAY
7517: PPUSH
7518: LD_VAR 0 1
7522: PPUSH
7523: CALL_OW 441
// bc_type = i [ 1 ] ;
7527: LD_ADDR_OWVAR 42
7531: PUSH
7532: LD_VAR 0 7
7536: PUSH
7537: LD_INT 1
7539: ARRAY
7540: ST_TO_ADDR
// CreateAndPlaceBuildingXYD ( i [ 2 ] , i [ 3 ] , i [ 4 ] ) ;
7541: LD_VAR 0 7
7545: PUSH
7546: LD_INT 2
7548: ARRAY
7549: PPUSH
7550: LD_VAR 0 7
7554: PUSH
7555: LD_INT 3
7557: ARRAY
7558: PPUSH
7559: LD_VAR 0 7
7563: PUSH
7564: LD_INT 4
7566: ARRAY
7567: PPUSH
7568: CALL_OW 47
// x := buildings_def [ pos ] [ 1 ] [ 2 ] ;
7572: LD_ADDR_VAR 0 5
7576: PUSH
7577: LD_EXP 39
7581: PUSH
7582: LD_VAR 0 2
7586: ARRAY
7587: PUSH
7588: LD_INT 1
7590: ARRAY
7591: PUSH
7592: LD_INT 2
7594: ARRAY
7595: ST_TO_ADDR
// y := buildings_def [ pos ] [ 1 ] [ 2 ] ;
7596: LD_ADDR_VAR 0 6
7600: PUSH
7601: LD_EXP 39
7605: PUSH
7606: LD_VAR 0 2
7610: ARRAY
7611: PUSH
7612: LD_INT 1
7614: ARRAY
7615: PUSH
7616: LD_INT 2
7618: ARRAY
7619: ST_TO_ADDR
// end ;
7620: GO 7476
7622: POP
7623: POP
// commander := true ;
7624: LD_ADDR_EXP 55
7628: PUSH
7629: LD_INT 1
7631: ST_TO_ADDR
// x := start_def [ pos ] [ 1 ] ;
7632: LD_ADDR_VAR 0 5
7636: PUSH
7637: LD_EXP 83
7641: PUSH
7642: LD_VAR 0 2
7646: ARRAY
7647: PUSH
7648: LD_INT 1
7650: ARRAY
7651: ST_TO_ADDR
// y := start_def [ pos ] [ 2 ] ;
7652: LD_ADDR_VAR 0 6
7656: PUSH
7657: LD_EXP 83
7661: PUSH
7662: LD_VAR 0 2
7666: ARRAY
7667: PUSH
7668: LD_INT 2
7670: ARRAY
7671: ST_TO_ADDR
// if def_classes then
7672: LD_EXP 14
7676: IFFALSE 7972
// begin neng := number_of_people ;
7678: LD_ADDR_VAR 0 12
7682: PUSH
7683: LD_EXP 40
7687: ST_TO_ADDR
// if nsol < neng div 4 then
7688: LD_VAR 0 15
7692: PUSH
7693: LD_VAR 0 12
7697: PUSH
7698: LD_INT 4
7700: DIV
7701: LESS
7702: IFFALSE 7718
// nsol := neng div 4 ;
7704: LD_ADDR_VAR 0 15
7708: PUSH
7709: LD_VAR 0 12
7713: PUSH
7714: LD_INT 4
7716: DIV
7717: ST_TO_ADDR
// neng := neng - nsol ;
7718: LD_ADDR_VAR 0 12
7722: PUSH
7723: LD_VAR 0 12
7727: PUSH
7728: LD_VAR 0 15
7732: MINUS
7733: ST_TO_ADDR
// nsci := neng div 3 ;
7734: LD_ADDR_VAR 0 13
7738: PUSH
7739: LD_VAR 0 12
7743: PUSH
7744: LD_INT 3
7746: DIV
7747: ST_TO_ADDR
// if nsci < 1 then
7748: LD_VAR 0 13
7752: PUSH
7753: LD_INT 1
7755: LESS
7756: IFFALSE 7766
// nsci := 1 ;
7758: LD_ADDR_VAR 0 13
7762: PUSH
7763: LD_INT 1
7765: ST_TO_ADDR
// neng := neng - nsci ;
7766: LD_ADDR_VAR 0 12
7770: PUSH
7771: LD_VAR 0 12
7775: PUSH
7776: LD_VAR 0 13
7780: MINUS
7781: ST_TO_ADDR
// nmech := neng div 2 ;
7782: LD_ADDR_VAR 0 14
7786: PUSH
7787: LD_VAR 0 12
7791: PUSH
7792: LD_INT 2
7794: DIV
7795: ST_TO_ADDR
// neng := neng - nmech ;
7796: LD_ADDR_VAR 0 12
7800: PUSH
7801: LD_VAR 0 12
7805: PUSH
7806: LD_VAR 0 14
7810: MINUS
7811: ST_TO_ADDR
// if neng < 1 then
7812: LD_VAR 0 12
7816: PUSH
7817: LD_INT 1
7819: LESS
7820: IFFALSE 7830
// neng := 1 ;
7822: LD_ADDR_VAR 0 12
7826: PUSH
7827: LD_INT 1
7829: ST_TO_ADDR
// prepare_people ( side , nsol , class_soldier , x , y , 5 , commander ) ;
7830: LD_VAR 0 1
7834: PPUSH
7835: LD_VAR 0 15
7839: PPUSH
7840: LD_INT 1
7842: PPUSH
7843: LD_VAR 0 5
7847: PPUSH
7848: LD_VAR 0 6
7852: PPUSH
7853: LD_INT 5
7855: PPUSH
7856: LD_ADDR_EXP 55
7860: PPUSH
7861: CALL 8518 0 7
// prepare_people ( side , neng , class_engineer , x , y , 5 , commander ) ;
7865: LD_VAR 0 1
7869: PPUSH
7870: LD_VAR 0 12
7874: PPUSH
7875: LD_INT 2
7877: PPUSH
7878: LD_VAR 0 5
7882: PPUSH
7883: LD_VAR 0 6
7887: PPUSH
7888: LD_INT 5
7890: PPUSH
7891: LD_ADDR_EXP 55
7895: PPUSH
7896: CALL 8518 0 7
// prepare_people ( side , nmech , class_mechanic , x , y , 5 , commander ) ;
7900: LD_VAR 0 1
7904: PPUSH
7905: LD_VAR 0 14
7909: PPUSH
7910: LD_INT 3
7912: PPUSH
7913: LD_VAR 0 5
7917: PPUSH
7918: LD_VAR 0 6
7922: PPUSH
7923: LD_INT 5
7925: PPUSH
7926: LD_ADDR_EXP 55
7930: PPUSH
7931: CALL 8518 0 7
// prepare_people ( side , nsci , class_scientistic , x , y , 5 , commander ) ;
7935: LD_VAR 0 1
7939: PPUSH
7940: LD_VAR 0 13
7944: PPUSH
7945: LD_INT 4
7947: PPUSH
7948: LD_VAR 0 5
7952: PPUSH
7953: LD_VAR 0 6
7957: PPUSH
7958: LD_INT 5
7960: PPUSH
7961: LD_ADDR_EXP 55
7965: PPUSH
7966: CALL 8518 0 7
// end else
7970: GO 8044
// begin prepare_people ( side , number_of_people - 1 , 0 , x , y , 5 , commander ) ;
7972: LD_VAR 0 1
7976: PPUSH
7977: LD_EXP 40
7981: PUSH
7982: LD_INT 1
7984: MINUS
7985: PPUSH
7986: LD_INT 0
7988: PPUSH
7989: LD_VAR 0 5
7993: PPUSH
7994: LD_VAR 0 6
7998: PPUSH
7999: LD_INT 5
8001: PPUSH
8002: LD_ADDR_EXP 55
8006: PPUSH
8007: CALL 8518 0 7
// prepare_people ( side , 1 , class_engineer , x , y , 5 , commander ) ;
8011: LD_VAR 0 1
8015: PPUSH
8016: LD_INT 1
8018: PPUSH
8019: LD_INT 2
8021: PPUSH
8022: LD_VAR 0 5
8026: PPUSH
8027: LD_VAR 0 6
8031: PPUSH
8032: LD_INT 5
8034: PPUSH
8035: LD_ADDR_EXP 55
8039: PPUSH
8040: CALL 8518 0 7
// end ; if number_of_apemen then
8044: LD_EXP 41
8048: IFFALSE 8406
// begin uc_nation = nation_nature ;
8050: LD_ADDR_OWVAR 21
8054: PUSH
8055: LD_INT 0
8057: ST_TO_ADDR
// prepare_people ( side , number_of_apemen , class_apeman , x , y , 5 , commander ) ;
8058: LD_VAR 0 1
8062: PPUSH
8063: LD_EXP 41
8067: PPUSH
8068: LD_INT 12
8070: PPUSH
8071: LD_VAR 0 5
8075: PPUSH
8076: LD_VAR 0 6
8080: PPUSH
8081: LD_INT 5
8083: PPUSH
8084: LD_ADDR_EXP 55
8088: PPUSH
8089: CALL 8518 0 7
// uc_nation = nation ;
8093: LD_ADDR_OWVAR 21
8097: PUSH
8098: LD_VAR 0 3
8102: ST_TO_ADDR
// case nation of 1 :
8103: LD_VAR 0 3
8107: PUSH
8108: LD_INT 1
8110: DOUBLE
8111: EQUAL
8112: IFTRUE 8116
8114: GO 8185
8116: POP
// begin if GetTech ( tech_ApeLang , side ) = state_enabled then
8117: LD_INT 1
8119: PPUSH
8120: LD_VAR 0 1
8124: PPUSH
8125: CALL_OW 321
8129: PUSH
8130: LD_INT 1
8132: EQUAL
8133: IFFALSE 8150
// SetTech ( tech_ApeLang , side , state_researched ) ;
8135: LD_INT 1
8137: PPUSH
8138: LD_VAR 0 1
8142: PPUSH
8143: LD_INT 2
8145: PPUSH
8146: CALL_OW 322
// if GetTech ( tech_ApePsych , side ) = state_enabled then
8150: LD_INT 2
8152: PPUSH
8153: LD_VAR 0 1
8157: PPUSH
8158: CALL_OW 321
8162: PUSH
8163: LD_INT 1
8165: EQUAL
8166: IFFALSE 8183
// SetTech ( tech_ApePsych , side , state_researched ) ;
8168: LD_INT 2
8170: PPUSH
8171: LD_VAR 0 1
8175: PPUSH
8176: LD_INT 2
8178: PPUSH
8179: CALL_OW 322
// end ; 2 :
8183: GO 8406
8185: LD_INT 2
8187: DOUBLE
8188: EQUAL
8189: IFTRUE 8193
8191: GO 8295
8193: POP
// begin if GetTech ( tech_ApeLang , side ) = state_enabled then
8194: LD_INT 1
8196: PPUSH
8197: LD_VAR 0 1
8201: PPUSH
8202: CALL_OW 321
8206: PUSH
8207: LD_INT 1
8209: EQUAL
8210: IFFALSE 8227
// SetTech ( tech_ApeLang , side , state_researched ) ;
8212: LD_INT 1
8214: PPUSH
8215: LD_VAR 0 1
8219: PPUSH
8220: LD_INT 2
8222: PPUSH
8223: CALL_OW 322
// if GetTech ( tech_ApeAgres , side ) = state_enabled then
8227: LD_INT 11
8229: PPUSH
8230: LD_VAR 0 1
8234: PPUSH
8235: CALL_OW 321
8239: PUSH
8240: LD_INT 1
8242: EQUAL
8243: IFFALSE 8260
// SetTech ( tech_ApeAgres , side , state_researched ) ;
8245: LD_INT 11
8247: PPUSH
8248: LD_VAR 0 1
8252: PPUSH
8253: LD_INT 2
8255: PPUSH
8256: CALL_OW 322
// if GetTech ( tech_ApeNeural , side ) = state_enabled then
8260: LD_INT 3
8262: PPUSH
8263: LD_VAR 0 1
8267: PPUSH
8268: CALL_OW 321
8272: PUSH
8273: LD_INT 1
8275: EQUAL
8276: IFFALSE 8293
// SetTech ( tech_ApeNeural , side , state_researched ) ;
8278: LD_INT 3
8280: PPUSH
8281: LD_VAR 0 1
8285: PPUSH
8286: LD_INT 2
8288: PPUSH
8289: CALL_OW 322
// end ; 3 :
8293: GO 8406
8295: LD_INT 3
8297: DOUBLE
8298: EQUAL
8299: IFTRUE 8303
8301: GO 8405
8303: POP
// begin if GetTech ( tech_ApeLang , side ) = state_enabled then
8304: LD_INT 1
8306: PPUSH
8307: LD_VAR 0 1
8311: PPUSH
8312: CALL_OW 321
8316: PUSH
8317: LD_INT 1
8319: EQUAL
8320: IFFALSE 8337
// SetTech ( tech_ApeLang , side , state_researched ) ;
8322: LD_INT 1
8324: PPUSH
8325: LD_VAR 0 1
8329: PPUSH
8330: LD_INT 2
8332: PPUSH
8333: CALL_OW 322
// if GetTech ( tech_ApePsych , side ) = state_enabled then
8337: LD_INT 2
8339: PPUSH
8340: LD_VAR 0 1
8344: PPUSH
8345: CALL_OW 321
8349: PUSH
8350: LD_INT 1
8352: EQUAL
8353: IFFALSE 8370
// SetTech ( tech_ApePsych , side , state_researched ) ;
8355: LD_INT 2
8357: PPUSH
8358: LD_VAR 0 1
8362: PPUSH
8363: LD_INT 2
8365: PPUSH
8366: CALL_OW 322
// if GetTech ( tech_ApeAgres , side ) = state_enabled then
8370: LD_INT 11
8372: PPUSH
8373: LD_VAR 0 1
8377: PPUSH
8378: CALL_OW 321
8382: PUSH
8383: LD_INT 1
8385: EQUAL
8386: IFFALSE 8403
// SetTech ( tech_ApeAgres , side , state_researched ) ;
8388: LD_INT 11
8390: PPUSH
8391: LD_VAR 0 1
8395: PPUSH
8396: LD_INT 2
8398: PPUSH
8399: CALL_OW 322
// end ; end ;
8403: GO 8406
8405: POP
// end ; if def_desert_warior = 2 and nation = nation_arabian then
8406: LD_EXP 31
8410: PUSH
8411: LD_INT 2
8413: EQUAL
8414: PUSH
8415: LD_VAR 0 3
8419: PUSH
8420: LD_INT 2
8422: EQUAL
8423: AND
8424: IFFALSE 8459
// prepare_people ( side , 1 , class_desert_warior , x , y , 5 , commander ) ;
8426: LD_VAR 0 1
8430: PPUSH
8431: LD_INT 1
8433: PPUSH
8434: LD_INT 11
8436: PPUSH
8437: LD_VAR 0 5
8441: PPUSH
8442: LD_VAR 0 6
8446: PPUSH
8447: LD_INT 5
8449: PPUSH
8450: LD_ADDR_EXP 55
8454: PPUSH
8455: CALL 8518 0 7
// if not global_defined then
8459: LD_EXP 94
8463: NOT
8464: IFFALSE 8474
// global_defined := true ;
8466: LD_ADDR_EXP 94
8470: PUSH
8471: LD_INT 1
8473: ST_TO_ADDR
// if def_siberite_detection and GetTech ( tech_sibdet , side ) = state_enabled then
8474: LD_EXP 28
8478: PUSH
8479: LD_INT 20
8481: PPUSH
8482: LD_VAR 0 1
8486: PPUSH
8487: CALL_OW 321
8491: PUSH
8492: LD_INT 1
8494: EQUAL
8495: AND
8496: IFFALSE 8513
// SetTech ( tech_SibDet , side , state_researched ) ;
8498: LD_INT 20
8500: PPUSH
8501: LD_VAR 0 1
8505: PPUSH
8506: LD_INT 2
8508: PPUSH
8509: CALL_OW 322
// end ;
8513: LD_VAR 0 4
8517: RET
// export function prepare_people ( side , count , pre_cl , x , y , r , var commander ) ; var i , j , un , cl ; begin
8518: LD_INT 0
8520: PPUSH
8521: PPUSH
8522: PPUSH
8523: PPUSH
8524: PPUSH
// for i := 1 to count do
8525: LD_ADDR_VAR 0 9
8529: PUSH
8530: DOUBLE
8531: LD_INT 1
8533: DEC
8534: ST_TO_ADDR
8535: LD_VAR 0 2
8539: PUSH
8540: FOR_TO
8541: IFFALSE 9145
// begin global_count = global_count + 1 ;
8543: LD_ADDR_EXP 96
8547: PUSH
8548: LD_EXP 96
8552: PUSH
8553: LD_INT 1
8555: PLUS
8556: ST_TO_ADDR
// if not def_classes and global_count <= global_classes then
8557: LD_EXP 14
8561: NOT
8562: PUSH
8563: LD_EXP 96
8567: PUSH
8568: LD_EXP 97
8572: LESSEQUAL
8573: AND
8574: IFFALSE 8594
// cl = global_classes [ global_count ] else
8576: LD_ADDR_VAR 0 12
8580: PUSH
8581: LD_EXP 97
8585: PUSH
8586: LD_EXP 96
8590: ARRAY
8591: ST_TO_ADDR
8592: GO 8632
// if pre_cl = 0 then
8594: LD_VAR 0 3
8598: PUSH
8599: LD_INT 0
8601: EQUAL
8602: IFFALSE 8622
// cl = rand ( 1 , 4 ) else
8604: LD_ADDR_VAR 0 12
8608: PUSH
8609: LD_INT 1
8611: PPUSH
8612: LD_INT 4
8614: PPUSH
8615: CALL_OW 12
8619: ST_TO_ADDR
8620: GO 8632
// cl = pre_cl ;
8622: LD_ADDR_VAR 0 12
8626: PUSH
8627: LD_VAR 0 3
8631: ST_TO_ADDR
// uc_direction := Rand ( 0 , 5 ) ;
8632: LD_ADDR_OWVAR 24
8636: PUSH
8637: LD_INT 0
8639: PPUSH
8640: LD_INT 5
8642: PPUSH
8643: CALL_OW 12
8647: ST_TO_ADDR
// if commander then
8648: LD_FROM_VAR 0 7
8652: IFFALSE 8781
// begin hc_name := mp_sides_players_names [ side ] ;
8654: LD_ADDR_OWVAR 26
8658: PUSH
8659: LD_OWVAR 19
8663: PUSH
8664: LD_VAR 0 1
8668: ARRAY
8669: ST_TO_ADDR
// PrepareHuman ( Rand ( 1 , 2 ) , cl , initial_level + 2 ) ;
8670: LD_INT 1
8672: PPUSH
8673: LD_INT 2
8675: PPUSH
8676: CALL_OW 12
8680: PPUSH
8681: LD_VAR 0 12
8685: PPUSH
8686: LD_EXP 42
8690: PUSH
8691: LD_INT 2
8693: PLUS
8694: PPUSH
8695: CALL_OW 380
// if def_desert_warior = 1 and uc_nation = nation_arabian then
8699: LD_EXP 31
8703: PUSH
8704: LD_INT 1
8706: EQUAL
8707: PUSH
8708: LD_OWVAR 21
8712: PUSH
8713: LD_INT 2
8715: EQUAL
8716: AND
8717: IFFALSE 8727
// hc_class = class_desert_warior ;
8719: LD_ADDR_OWVAR 28
8723: PUSH
8724: LD_INT 11
8726: ST_TO_ADDR
// hc_importance := 105 ;
8727: LD_ADDR_OWVAR 32
8731: PUSH
8732: LD_INT 105
8734: ST_TO_ADDR
// if Multiplayer then
8735: LD_OWVAR 4
8739: IFFALSE 8779
// begin hc_gallery := MULTIAVATARS ;
8741: LD_ADDR_OWVAR 33
8745: PUSH
8746: LD_STRING MULTIAVATARS
8748: ST_TO_ADDR
// hc_face_number := Multiplayer_GetPlayerSideNum ( Side ) ;
8749: LD_ADDR_OWVAR 34
8753: PUSH
8754: LD_VAR 0 1
8758: PPUSH
8759: CALL_OW 525
8763: ST_TO_ADDR
// hc_sex := Multiplayer_GetPlayerSex ( Side ) ;
8764: LD_ADDR_OWVAR 27
8768: PUSH
8769: LD_VAR 0 1
8773: PPUSH
8774: CALL_OW 526
8778: ST_TO_ADDR
// end ; end else
8779: GO 8887
// begin hc_name :=  ;
8781: LD_ADDR_OWVAR 26
8785: PUSH
8786: LD_STRING 
8788: ST_TO_ADDR
// if cl = class_desert_warior then
8789: LD_VAR 0 12
8793: PUSH
8794: LD_INT 11
8796: EQUAL
8797: IFFALSE 8832
// begin PrepareHuman ( rand ( 1 , 2 ) , class_soldier , initial_level ) ;
8799: LD_INT 1
8801: PPUSH
8802: LD_INT 2
8804: PPUSH
8805: CALL_OW 12
8809: PPUSH
8810: LD_INT 1
8812: PPUSH
8813: LD_EXP 42
8817: PPUSH
8818: CALL_OW 380
// hc_class = class_desert_warior end else
8822: LD_ADDR_OWVAR 28
8826: PUSH
8827: LD_INT 11
8829: ST_TO_ADDR
8830: GO 8857
// PrepareHuman ( rand ( 1 , 2 ) , cl , initial_level ) ;
8832: LD_INT 1
8834: PPUSH
8835: LD_INT 2
8837: PPUSH
8838: CALL_OW 12
8842: PPUSH
8843: LD_VAR 0 12
8847: PPUSH
8848: LD_EXP 42
8852: PPUSH
8853: CALL_OW 380
// hc_importance := 0 ;
8857: LD_ADDR_OWVAR 32
8861: PUSH
8862: LD_INT 0
8864: ST_TO_ADDR
// if Multiplayer then
8865: LD_OWVAR 4
8869: IFFALSE 8887
// begin hc_gallery :=  ;
8871: LD_ADDR_OWVAR 33
8875: PUSH
8876: LD_STRING 
8878: ST_TO_ADDR
// hc_face_number := 0 ;
8879: LD_ADDR_OWVAR 34
8883: PUSH
8884: LD_INT 0
8886: ST_TO_ADDR
// end ; end ; if hc_class = class_desert_warior then
8887: LD_OWVAR 28
8891: PUSH
8892: LD_INT 11
8894: EQUAL
8895: IFFALSE 8905
// hc_importance := 100 ;
8897: LD_ADDR_OWVAR 32
8901: PUSH
8902: LD_INT 100
8904: ST_TO_ADDR
// un := CreateHuman ;
8905: LD_ADDR_VAR 0 11
8909: PUSH
8910: CALL_OW 44
8914: ST_TO_ADDR
// if global_count <= global_units then
8915: LD_EXP 96
8919: PUSH
8920: LD_EXP 93
8924: LESSEQUAL
8925: IFFALSE 9009
// begin CopySkills ( global_units [ global_count ] , un ) ;
8927: LD_EXP 93
8931: PUSH
8932: LD_EXP 96
8936: ARRAY
8937: PPUSH
8938: LD_VAR 0 11
8942: PPUSH
8943: CALL_OW 510
// SetAttr ( un , attr_speed , GetAttr ( global_units [ global_count ] , attr_speed ) ) ;
8947: LD_VAR 0 11
8951: PPUSH
8952: LD_INT 2
8954: PPUSH
8955: LD_EXP 93
8959: PUSH
8960: LD_EXP 96
8964: ARRAY
8965: PPUSH
8966: LD_INT 2
8968: PPUSH
8969: CALL_OW 260
8973: PPUSH
8974: CALL_OW 239
// SetAttr ( un , attr_stamina , GetAttr ( global_units [ global_count ] , attr_stamina ) ) ;
8978: LD_VAR 0 11
8982: PPUSH
8983: LD_INT 1
8985: PPUSH
8986: LD_EXP 93
8990: PUSH
8991: LD_EXP 96
8995: ARRAY
8996: PPUSH
8997: LD_INT 1
8999: PPUSH
9000: CALL_OW 260
9004: PPUSH
9005: CALL_OW 239
// end ; PlaceUnitXYR ( un , x , y , r , false ) ;
9009: LD_VAR 0 11
9013: PPUSH
9014: LD_VAR 0 4
9018: PPUSH
9019: LD_VAR 0 5
9023: PPUSH
9024: LD_VAR 0 6
9028: PPUSH
9029: LD_INT 0
9031: PPUSH
9032: CALL_OW 50
// if global_classes < global_count then
9036: LD_EXP 97
9040: PUSH
9041: LD_EXP 96
9045: LESS
9046: IFFALSE 9064
// global_classes = global_classes ^ cl ;
9048: LD_ADDR_EXP 97
9052: PUSH
9053: LD_EXP 97
9057: PUSH
9058: LD_VAR 0 12
9062: ADD
9063: ST_TO_ADDR
// if global_units < global_count then
9064: LD_EXP 93
9068: PUSH
9069: LD_EXP 96
9073: LESS
9074: IFFALSE 9092
// global_units = global_units ^ un ;
9076: LD_ADDR_EXP 93
9080: PUSH
9081: LD_EXP 93
9085: PUSH
9086: LD_VAR 0 11
9090: ADD
9091: ST_TO_ADDR
// if commander then
9092: LD_FROM_VAR 0 7
9096: IFFALSE 9143
// begin heroes = replace ( heroes , side , heroes [ side ] ^ un ) ;
9098: LD_ADDR_EXP 50
9102: PUSH
9103: LD_EXP 50
9107: PPUSH
9108: LD_VAR 0 1
9112: PPUSH
9113: LD_EXP 50
9117: PUSH
9118: LD_VAR 0 1
9122: ARRAY
9123: PUSH
9124: LD_VAR 0 11
9128: ADD
9129: PPUSH
9130: CALL_OW 1
9134: ST_TO_ADDR
// commander := false ;
9135: LD_VAR 0 7
9139: PUSH
9140: LD_INT 0
9142: ST_TO_ADDR
// end ; end ;
9143: GO 8540
9145: POP
9146: POP
// end ;
9147: LD_VAR 0 8
9151: RET
// export function mastodonti ; var i , c , k ; begin
9152: LD_INT 0
9154: PPUSH
9155: PPUSH
9156: PPUSH
9157: PPUSH
// if def_desert_warior then
9158: LD_EXP 31
9162: IFFALSE 9227
// begin c = FilterAllUnits ( [ [ f_class , class_desert_warior ] ] ) ;
9164: LD_ADDR_VAR 0 3
9168: PUSH
9169: LD_INT 25
9171: PUSH
9172: LD_INT 11
9174: PUSH
9175: EMPTY
9176: LIST
9177: LIST
9178: PUSH
9179: EMPTY
9180: LIST
9181: PPUSH
9182: CALL_OW 69
9186: ST_TO_ADDR
// if c then
9187: LD_VAR 0 3
9191: IFFALSE 9223
// for c = 1 to c + 0 do
9193: LD_ADDR_VAR 0 3
9197: PUSH
9198: DOUBLE
9199: LD_INT 1
9201: DEC
9202: ST_TO_ADDR
9203: LD_VAR 0 3
9207: PUSH
9208: LD_INT 0
9210: PLUS
9211: PUSH
9212: FOR_TO
9213: IFFALSE 9221
// begin comms_mastodont ;
9215: CALL 9232 0 0
// end ;
9219: GO 9212
9221: POP
9222: POP
// comms_mastodont ;
9223: CALL 9232 0 0
// end ; end ;
9227: LD_VAR 0 1
9231: RET
// export function comms_mastodont ; var un ; begin
9232: LD_INT 0
9234: PPUSH
9235: PPUSH
// uc_nation := 0 ;
9236: LD_ADDR_OWVAR 21
9240: PUSH
9241: LD_INT 0
9243: ST_TO_ADDR
// uc_side := nation_nature ;
9244: LD_ADDR_OWVAR 20
9248: PUSH
9249: LD_INT 0
9251: ST_TO_ADDR
// vc_chassis = 31 ;
9252: LD_ADDR_OWVAR 37
9256: PUSH
9257: LD_INT 31
9259: ST_TO_ADDR
// un := createvehicle ;
9260: LD_ADDR_VAR 0 2
9264: PUSH
9265: CALL_OW 45
9269: ST_TO_ADDR
// PlaceUnitArea ( un , stred , false ) ;
9270: LD_VAR 0 2
9274: PPUSH
9275: LD_INT 30
9277: PPUSH
9278: LD_INT 0
9280: PPUSH
9281: CALL_OW 49
// end ;
9285: LD_VAR 0 1
9289: RET
// every 0 0$1 marked 31 do var i ;
9290: GO 9292
9292: DISABLE
9293: LD_INT 0
9295: PPUSH
// begin if not tech_level = 8 then
9296: LD_EXP 56
9300: PUSH
9301: LD_INT 8
9303: EQUAL
9304: NOT
9305: IFFALSE 9309
// exit ;
9307: GO 9328
// if siberite_bomb_delay then
9309: LD_EXP 67
9313: IFFALSE 9324
// wait ( siberite_bomb_Delay ) ;
9315: LD_EXP 67
9319: PPUSH
9320: CALL_OW 67
// EnableSibFiss ;
9324: CALL 9331 0 0
// end ;
9328: PPOPN 1
9330: END
// function EnableSibFiss ( ) ; var side , narodnost ; begin
9331: LD_INT 0
9333: PPUSH
9334: PPUSH
9335: PPUSH
// for side = 1 to side_positions + 0 do
9336: LD_ADDR_VAR 0 2
9340: PUSH
9341: DOUBLE
9342: LD_INT 1
9344: DEC
9345: ST_TO_ADDR
9346: LD_EXP 75
9350: PUSH
9351: LD_INT 0
9353: PLUS
9354: PUSH
9355: FOR_TO
9356: IFFALSE 9456
// begin narodnost := Side_Nations [ side ] ;
9358: LD_ADDR_VAR 0 3
9362: PUSH
9363: LD_EXP 76
9367: PUSH
9368: LD_VAR 0 2
9372: ARRAY
9373: ST_TO_ADDR
// case narodnost of 1 , 3 :
9374: LD_VAR 0 3
9378: PUSH
9379: LD_INT 1
9381: DOUBLE
9382: EQUAL
9383: IFTRUE 9393
9385: LD_INT 3
9387: DOUBLE
9388: EQUAL
9389: IFTRUE 9393
9391: GO 9419
9393: POP
// SetTech ( 25 , side , GetRestrictions ( false , 25 ) ) ; 2 :
9394: LD_INT 25
9396: PPUSH
9397: LD_VAR 0 2
9401: PPUSH
9402: LD_INT 0
9404: PPUSH
9405: LD_INT 25
9407: PPUSH
9408: CALL_OW 565
9412: PPUSH
9413: CALL_OW 322
9417: GO 9454
9419: LD_INT 2
9421: DOUBLE
9422: EQUAL
9423: IFTRUE 9427
9425: GO 9453
9427: POP
// SetTech ( 73 , side , GetRestrictions ( false , 73 ) ) ; end ;
9428: LD_INT 73
9430: PPUSH
9431: LD_VAR 0 2
9435: PPUSH
9436: LD_INT 0
9438: PPUSH
9439: LD_INT 73
9441: PPUSH
9442: CALL_OW 565
9446: PPUSH
9447: CALL_OW 322
9451: GO 9454
9453: POP
// end ;
9454: GO 9355
9456: POP
9457: POP
// Tech_Level = 8 ;
9458: LD_ADDR_EXP 56
9462: PUSH
9463: LD_INT 8
9465: ST_TO_ADDR
// end ;
9466: LD_VAR 0 1
9470: RET
// export function Start_Zvirata ; begin
9471: LD_INT 0
9473: PPUSH
// if def_amount_of_apemen > 0 then
9474: LD_EXP 22
9478: PUSH
9479: LD_INT 0
9481: GREATER
9482: IFFALSE 9491
// begin StartApe ;
9484: CALL 15119 0 0
// enable ( 493 ) ;
9488: LD_INT 493
9490: ENABLE_MARKED
// end ; if def_amount_of_tiger > 0 then
9491: LD_EXP 23
9495: PUSH
9496: LD_INT 0
9498: GREATER
9499: IFFALSE 9508
// begin StartTig ;
9501: CALL 15869 0 0
// enable ( 494 ) ;
9505: LD_INT 494
9507: ENABLE_MARKED
// end ; end ;
9508: LD_VAR 0 1
9512: RET
// export function Disable_Standard_Games ; begin
9513: LD_INT 0
9515: PPUSH
// disable ( 2 ) ;
9516: LD_INT 2
9518: DISABLE_MARKED
// disable ( 3 ) ;
9519: LD_INT 3
9521: DISABLE_MARKED
// disable ( 4 ) ;
9522: LD_INT 4
9524: DISABLE_MARKED
// disable ( 30 ) ;
9525: LD_INT 30
9527: DISABLE_MARKED
// disable ( 31 ) ;
9528: LD_INT 31
9530: DISABLE_MARKED
// disable ( 60 ) ;
9531: LD_INT 60
9533: DISABLE_MARKED
// disable ( 98 ) ;
9534: LD_INT 98
9536: DISABLE_MARKED
// disable ( 99 ) ;
9537: LD_INT 99
9539: DISABLE_MARKED
// disable ( 100 ) ;
9540: LD_INT 100
9542: DISABLE_MARKED
// disable ( 400 ) ;
9543: LD_INT 400
9545: DISABLE_MARKED
// disable ( 401 ) ;
9546: LD_INT 401
9548: DISABLE_MARKED
// disable ( 493 ) ;
9549: LD_INT 493
9551: DISABLE_MARKED
// disable ( 494 ) ;
9552: LD_INT 494
9554: DISABLE_MARKED
// disable ( 600 ) end ; end_of_file
9555: LD_INT 600
9557: DISABLE_MARKED
9558: LD_VAR 0 1
9562: RET
// export oblasti_beden , start_oblasti_beden , dalsi_oblasti_beden , koof_bedny ; var kontrolni_pocet ; every 1 1$0 + 0 0$1 do
9563: GO 9565
9565: DISABLE
// begin if game_type = GT_Survival then
9566: LD_EXP 1
9570: PUSH
9571: LD_EXP 6
9575: EQUAL
9576: IFFALSE 9580
// exit ;
9578: GO 9599
// CreateCratesAnywhere ( Rand ( 1 , 2 ) , true ) ;
9580: LD_INT 1
9582: PPUSH
9583: LD_INT 2
9585: PPUSH
9586: CALL_OW 12
9590: PPUSH
9591: LD_INT 1
9593: PPUSH
9594: CALL_OW 57
// enable ;
9598: ENABLE
// end ;
9599: END
// every 0 0$20 do var i , d , shipment , tictac , k , p ;
9600: GO 9602
9602: DISABLE
9603: LD_INT 0
9605: PPUSH
9606: PPUSH
9607: PPUSH
9608: PPUSH
9609: PPUSH
9610: PPUSH
// begin if game_type in GT_Survival then
9611: LD_EXP 1
9615: PUSH
9616: LD_EXP 6
9620: IN
9621: IFFALSE 9625
// exit ;
9623: GO 10521
// shipment := Rand ( 0 , 3 ) ;
9625: LD_ADDR_VAR 0 3
9629: PUSH
9630: LD_INT 0
9632: PPUSH
9633: LD_INT 3
9635: PPUSH
9636: CALL_OW 12
9640: ST_TO_ADDR
// tictac := 0 ;
9641: LD_ADDR_VAR 0 4
9645: PUSH
9646: LD_INT 0
9648: ST_TO_ADDR
// case tick of 1 .. 2 2$0 :
9649: LD_OWVAR 1
9653: PUSH
9654: LD_INT 1
9656: DOUBLE
9657: GREATEREQUAL
9658: IFFALSE 9666
9660: LD_INT 4200
9662: DOUBLE
9663: LESSEQUAL
9664: IFTRUE 9668
9666: GO 9679
9668: POP
// d := 150 ; 2 2$0 + 1 .. 4 4$0 :
9669: LD_ADDR_VAR 0 2
9673: PUSH
9674: LD_INT 150
9676: ST_TO_ADDR
9677: GO 9862
9679: LD_INT 4200
9681: PUSH
9682: LD_INT 1
9684: PLUS
9685: DOUBLE
9686: GREATEREQUAL
9687: IFFALSE 9695
9689: LD_INT 8400
9691: DOUBLE
9692: LESSEQUAL
9693: IFTRUE 9697
9695: GO 9708
9697: POP
// d := 120 ; 4 4$0 + 1 .. 6 6$0 :
9698: LD_ADDR_VAR 0 2
9702: PUSH
9703: LD_INT 120
9705: ST_TO_ADDR
9706: GO 9862
9708: LD_INT 8400
9710: PUSH
9711: LD_INT 1
9713: PLUS
9714: DOUBLE
9715: GREATEREQUAL
9716: IFFALSE 9724
9718: LD_INT 12600
9720: DOUBLE
9721: LESSEQUAL
9722: IFTRUE 9726
9724: GO 9737
9726: POP
// d := 100 ; 6 6$0 + 1 .. 7 7$0 :
9727: LD_ADDR_VAR 0 2
9731: PUSH
9732: LD_INT 100
9734: ST_TO_ADDR
9735: GO 9862
9737: LD_INT 12600
9739: PUSH
9740: LD_INT 1
9742: PLUS
9743: DOUBLE
9744: GREATEREQUAL
9745: IFFALSE 9753
9747: LD_INT 14700
9749: DOUBLE
9750: LESSEQUAL
9751: IFTRUE 9755
9753: GO 9766
9755: POP
// d := 80 ; 7 7$0 + 1 .. 9 9$0 :
9756: LD_ADDR_VAR 0 2
9760: PUSH
9761: LD_INT 80
9763: ST_TO_ADDR
9764: GO 9862
9766: LD_INT 14700
9768: PUSH
9769: LD_INT 1
9771: PLUS
9772: DOUBLE
9773: GREATEREQUAL
9774: IFFALSE 9782
9776: LD_INT 18900
9778: DOUBLE
9779: LESSEQUAL
9780: IFTRUE 9784
9782: GO 9795
9784: POP
// d := 70 ; 9 9$0 + 1 .. 15 15$0 :
9785: LD_ADDR_VAR 0 2
9789: PUSH
9790: LD_INT 70
9792: ST_TO_ADDR
9793: GO 9862
9795: LD_INT 18900
9797: PUSH
9798: LD_INT 1
9800: PLUS
9801: DOUBLE
9802: GREATEREQUAL
9803: IFFALSE 9811
9805: LD_INT 31500
9807: DOUBLE
9808: LESSEQUAL
9809: IFTRUE 9813
9811: GO 9824
9813: POP
// d := 45 ; 15 15$0 + 1 .. 30 30$0 :
9814: LD_ADDR_VAR 0 2
9818: PUSH
9819: LD_INT 45
9821: ST_TO_ADDR
9822: GO 9862
9824: LD_INT 31500
9826: PUSH
9827: LD_INT 1
9829: PLUS
9830: DOUBLE
9831: GREATEREQUAL
9832: IFFALSE 9840
9834: LD_INT 63000
9836: DOUBLE
9837: LESSEQUAL
9838: IFTRUE 9842
9840: GO 9853
9842: POP
// d := 30 ; else
9843: LD_ADDR_VAR 0 2
9847: PUSH
9848: LD_INT 30
9850: ST_TO_ADDR
9851: GO 9862
9853: POP
// d := 20 ; end ;
9854: LD_ADDR_VAR 0 2
9858: PUSH
9859: LD_INT 20
9861: ST_TO_ADDR
// if GetResourceArea ( celamapa , mat_cans ) < ( 100 + shipments_density * koof_bedny ) then
9862: LD_INT 32
9864: PPUSH
9865: LD_INT 1
9867: PPUSH
9868: CALL_OW 287
9872: PUSH
9873: LD_INT 100
9875: PUSH
9876: LD_EXP 45
9880: PUSH
9881: LD_EXP 101
9885: MUL
9886: PLUS
9887: LESS
9888: IFFALSE 10520
// if rand ( 1 , 10000 ) <= d * shipments_density then
9890: LD_INT 1
9892: PPUSH
9893: LD_INT 10000
9895: PPUSH
9896: CALL_OW 12
9900: PUSH
9901: LD_VAR 0 2
9905: PUSH
9906: LD_EXP 45
9910: MUL
9911: LESSEQUAL
9912: IFFALSE 10156
// begin k = Rand ( 2 , 4 ) ;
9914: LD_ADDR_VAR 0 5
9918: PUSH
9919: LD_INT 2
9921: PPUSH
9922: LD_INT 4
9924: PPUSH
9925: CALL_OW 12
9929: ST_TO_ADDR
// if start_oblasti_beden then
9930: LD_EXP 99
9934: IFFALSE 10035
// begin for i := 1 to 8 do
9936: LD_ADDR_VAR 0 1
9940: PUSH
9941: DOUBLE
9942: LD_INT 1
9944: DEC
9945: ST_TO_ADDR
9946: LD_INT 8
9948: PUSH
9949: FOR_TO
9950: IFFALSE 10031
// if side_positions [ i ] <> 0 then
9952: LD_EXP 75
9956: PUSH
9957: LD_VAR 0 1
9961: ARRAY
9962: PUSH
9963: LD_INT 0
9965: NONEQUAL
9966: IFFALSE 10029
// for p in pozice_beden [ i ] do
9968: LD_ADDR_VAR 0 6
9972: PUSH
9973: LD_EXP 8
9977: PUSH
9978: LD_VAR 0 1
9982: ARRAY
9983: PUSH
9984: FOR_IN
9985: IFFALSE 10027
// begin CreateCratesArea ( k , start_oblasti_beden [ p ] , true ) ;
9987: LD_VAR 0 5
9991: PPUSH
9992: LD_EXP 99
9996: PUSH
9997: LD_VAR 0 6
10001: ARRAY
10002: PPUSH
10003: LD_INT 1
10005: PPUSH
10006: CALL_OW 55
// Wait ( rand ( 2 , 0 0$2 ) ) ;
10010: LD_INT 2
10012: PPUSH
10013: LD_INT 70
10015: PPUSH
10016: CALL_OW 12
10020: PPUSH
10021: CALL_OW 67
// end ;
10025: GO 9984
10027: POP
10028: POP
10029: GO 9949
10031: POP
10032: POP
// end else
10033: GO 10154
// begin for i := 1 to 8 do
10035: LD_ADDR_VAR 0 1
10039: PUSH
10040: DOUBLE
10041: LD_INT 1
10043: DEC
10044: ST_TO_ADDR
10045: LD_INT 8
10047: PUSH
10048: FOR_TO
10049: IFFALSE 10152
// if side_positions [ i ] <> 0 then
10051: LD_EXP 75
10055: PUSH
10056: LD_VAR 0 1
10060: ARRAY
10061: PUSH
10062: LD_INT 0
10064: NONEQUAL
10065: IFFALSE 10150
// for p in pozice_beden [ i ] do
10067: LD_ADDR_VAR 0 6
10071: PUSH
10072: LD_EXP 8
10076: PUSH
10077: LD_VAR 0 1
10081: ARRAY
10082: PUSH
10083: FOR_IN
10084: IFFALSE 10148
// begin CreateCratesXYR ( k , start_def [ p ] [ 1 ] , start_def [ p ] [ 2 ] , 20 , true ) ;
10086: LD_VAR 0 5
10090: PPUSH
10091: LD_EXP 83
10095: PUSH
10096: LD_VAR 0 6
10100: ARRAY
10101: PUSH
10102: LD_INT 1
10104: ARRAY
10105: PPUSH
10106: LD_EXP 83
10110: PUSH
10111: LD_VAR 0 6
10115: ARRAY
10116: PUSH
10117: LD_INT 2
10119: ARRAY
10120: PPUSH
10121: LD_INT 20
10123: PPUSH
10124: LD_INT 1
10126: PPUSH
10127: CALL_OW 56
// wait ( rand ( 2 , 0 0$2 ) ) ;
10131: LD_INT 2
10133: PPUSH
10134: LD_INT 70
10136: PPUSH
10137: CALL_OW 12
10141: PPUSH
10142: CALL_OW 67
// end ;
10146: GO 10083
10148: POP
10149: POP
10150: GO 10048
10152: POP
10153: POP
// end ; end else
10154: GO 10520
// if rand ( 1 , 10000 ) <= ( 150 - d ) * shipments_density then
10156: LD_INT 1
10158: PPUSH
10159: LD_INT 10000
10161: PPUSH
10162: CALL_OW 12
10166: PUSH
10167: LD_INT 150
10169: PUSH
10170: LD_VAR 0 2
10174: MINUS
10175: PUSH
10176: LD_EXP 45
10180: MUL
10181: LESSEQUAL
10182: IFFALSE 10520
// begin k := Rand ( 1 , 4 ) ;
10184: LD_ADDR_VAR 0 5
10188: PUSH
10189: LD_INT 1
10191: PPUSH
10192: LD_INT 4
10194: PPUSH
10195: CALL_OW 12
10199: ST_TO_ADDR
// wait ( rand ( 2 , 0 0$4 ) ) ;
10200: LD_INT 2
10202: PPUSH
10203: LD_INT 140
10205: PPUSH
10206: CALL_OW 12
10210: PPUSH
10211: CALL_OW 67
// if oblasti_beden then
10215: LD_EXP 98
10219: IFFALSE 10320
// begin for i := 1 to 8 do
10221: LD_ADDR_VAR 0 1
10225: PUSH
10226: DOUBLE
10227: LD_INT 1
10229: DEC
10230: ST_TO_ADDR
10231: LD_INT 8
10233: PUSH
10234: FOR_TO
10235: IFFALSE 10316
// if side_positions [ i ] <> 0 then
10237: LD_EXP 75
10241: PUSH
10242: LD_VAR 0 1
10246: ARRAY
10247: PUSH
10248: LD_INT 0
10250: NONEQUAL
10251: IFFALSE 10314
// for p in pozice_beden [ i ] do
10253: LD_ADDR_VAR 0 6
10257: PUSH
10258: LD_EXP 8
10262: PUSH
10263: LD_VAR 0 1
10267: ARRAY
10268: PUSH
10269: FOR_IN
10270: IFFALSE 10312
// begin CreateCratesArea ( k , oblasti_beden [ p ] , true ) ;
10272: LD_VAR 0 5
10276: PPUSH
10277: LD_EXP 98
10281: PUSH
10282: LD_VAR 0 6
10286: ARRAY
10287: PPUSH
10288: LD_INT 1
10290: PPUSH
10291: CALL_OW 55
// Wait ( rand ( 2 , 0 0$1 ) ) ;
10295: LD_INT 2
10297: PPUSH
10298: LD_INT 35
10300: PPUSH
10301: CALL_OW 12
10305: PPUSH
10306: CALL_OW 67
// end ;
10310: GO 10269
10312: POP
10313: POP
10314: GO 10234
10316: POP
10317: POP
// end else
10318: GO 10439
// begin for i := 1 to 8 do
10320: LD_ADDR_VAR 0 1
10324: PUSH
10325: DOUBLE
10326: LD_INT 1
10328: DEC
10329: ST_TO_ADDR
10330: LD_INT 8
10332: PUSH
10333: FOR_TO
10334: IFFALSE 10437
// if side_positions [ i ] <> 0 then
10336: LD_EXP 75
10340: PUSH
10341: LD_VAR 0 1
10345: ARRAY
10346: PUSH
10347: LD_INT 0
10349: NONEQUAL
10350: IFFALSE 10435
// for p in pozice_beden [ i ] do
10352: LD_ADDR_VAR 0 6
10356: PUSH
10357: LD_EXP 8
10361: PUSH
10362: LD_VAR 0 1
10366: ARRAY
10367: PUSH
10368: FOR_IN
10369: IFFALSE 10433
// begin CreateCratesXYR ( k , start_def [ p ] [ 1 ] , start_def [ p ] [ 2 ] , 20 , true ) ;
10371: LD_VAR 0 5
10375: PPUSH
10376: LD_EXP 83
10380: PUSH
10381: LD_VAR 0 6
10385: ARRAY
10386: PUSH
10387: LD_INT 1
10389: ARRAY
10390: PPUSH
10391: LD_EXP 83
10395: PUSH
10396: LD_VAR 0 6
10400: ARRAY
10401: PUSH
10402: LD_INT 2
10404: ARRAY
10405: PPUSH
10406: LD_INT 20
10408: PPUSH
10409: LD_INT 1
10411: PPUSH
10412: CALL_OW 56
// wait ( rand ( 2 , 0 0$2 ) ) ;
10416: LD_INT 2
10418: PPUSH
10419: LD_INT 70
10421: PPUSH
10422: CALL_OW 12
10426: PPUSH
10427: CALL_OW 67
// end ;
10431: GO 10368
10433: POP
10434: POP
10435: GO 10333
10437: POP
10438: POP
// end ; if dalsi_oblasti_beden then
10439: LD_EXP 100
10443: IFFALSE 10520
// for k in dalsi_oblasti_beden do
10445: LD_ADDR_VAR 0 5
10449: PUSH
10450: LD_EXP 100
10454: PUSH
10455: FOR_IN
10456: IFFALSE 10518
// for i := 1 to Rand ( 1 , 3 ) do
10458: LD_ADDR_VAR 0 1
10462: PUSH
10463: DOUBLE
10464: LD_INT 1
10466: DEC
10467: ST_TO_ADDR
10468: LD_INT 1
10470: PPUSH
10471: LD_INT 3
10473: PPUSH
10474: CALL_OW 12
10478: PUSH
10479: FOR_TO
10480: IFFALSE 10514
// begin CreateCratesArea ( Rand ( 3 , 5 ) , k , true ) ;
10482: LD_INT 3
10484: PPUSH
10485: LD_INT 5
10487: PPUSH
10488: CALL_OW 12
10492: PPUSH
10493: LD_VAR 0 5
10497: PPUSH
10498: LD_INT 1
10500: PPUSH
10501: CALL_OW 55
// Wait ( 2 ) ;
10505: LD_INT 2
10507: PPUSH
10508: CALL_OW 67
// end ;
10512: GO 10479
10514: POP
10515: POP
10516: GO 10455
10518: POP
10519: POP
// end ; enable ;
10520: ENABLE
// end ; end_of_file
10521: PPOPN 6
10523: END
// var respawn , inqueue , nation , nations , noposn ; export function init_respawn ; var i , pos ; begin
10524: LD_INT 0
10526: PPUSH
10527: PPUSH
10528: PPUSH
// nation := rand ( 1 , 3 ) ;
10529: LD_ADDR_LOC 4
10533: PUSH
10534: LD_INT 1
10536: PPUSH
10537: LD_INT 3
10539: PPUSH
10540: CALL_OW 12
10544: ST_TO_ADDR
// respawn := Rand ( 1 , 8 ) ;
10545: LD_ADDR_LOC 2
10549: PUSH
10550: LD_INT 1
10552: PPUSH
10553: LD_INT 8
10555: PPUSH
10556: CALL_OW 12
10560: ST_TO_ADDR
// Nations = [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
10561: LD_ADDR_LOC 5
10565: PUSH
10566: EMPTY
10567: PUSH
10568: EMPTY
10569: PUSH
10570: EMPTY
10571: PUSH
10572: EMPTY
10573: PUSH
10574: EMPTY
10575: PUSH
10576: EMPTY
10577: PUSH
10578: EMPTY
10579: PUSH
10580: EMPTY
10581: PUSH
10582: EMPTY
10583: LIST
10584: LIST
10585: LIST
10586: LIST
10587: LIST
10588: LIST
10589: LIST
10590: LIST
10591: ST_TO_ADDR
// inqueue := [ [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] ] ;
10592: LD_ADDR_LOC 3
10596: PUSH
10597: LD_INT 0
10599: PUSH
10600: LD_INT 0
10602: PUSH
10603: LD_INT 0
10605: PUSH
10606: EMPTY
10607: LIST
10608: LIST
10609: LIST
10610: PUSH
10611: LD_INT 0
10613: PUSH
10614: LD_INT 0
10616: PUSH
10617: LD_INT 0
10619: PUSH
10620: EMPTY
10621: LIST
10622: LIST
10623: LIST
10624: PUSH
10625: LD_INT 0
10627: PUSH
10628: LD_INT 0
10630: PUSH
10631: LD_INT 0
10633: PUSH
10634: EMPTY
10635: LIST
10636: LIST
10637: LIST
10638: PUSH
10639: LD_INT 0
10641: PUSH
10642: LD_INT 0
10644: PUSH
10645: LD_INT 0
10647: PUSH
10648: EMPTY
10649: LIST
10650: LIST
10651: LIST
10652: PUSH
10653: LD_INT 0
10655: PUSH
10656: LD_INT 0
10658: PUSH
10659: LD_INT 0
10661: PUSH
10662: EMPTY
10663: LIST
10664: LIST
10665: LIST
10666: PUSH
10667: LD_INT 0
10669: PUSH
10670: LD_INT 0
10672: PUSH
10673: LD_INT 0
10675: PUSH
10676: EMPTY
10677: LIST
10678: LIST
10679: LIST
10680: PUSH
10681: LD_INT 0
10683: PUSH
10684: LD_INT 0
10686: PUSH
10687: LD_INT 0
10689: PUSH
10690: EMPTY
10691: LIST
10692: LIST
10693: LIST
10694: PUSH
10695: LD_INT 0
10697: PUSH
10698: LD_INT 0
10700: PUSH
10701: LD_INT 0
10703: PUSH
10704: EMPTY
10705: LIST
10706: LIST
10707: LIST
10708: PUSH
10709: EMPTY
10710: LIST
10711: LIST
10712: LIST
10713: LIST
10714: LIST
10715: LIST
10716: LIST
10717: LIST
10718: ST_TO_ADDR
// for i := 1 to 8 do
10719: LD_ADDR_VAR 0 2
10723: PUSH
10724: DOUBLE
10725: LD_INT 1
10727: DEC
10728: ST_TO_ADDR
10729: LD_INT 8
10731: PUSH
10732: FOR_TO
10733: IFFALSE 10838
// if Side_Positions [ i ] then
10735: LD_EXP 75
10739: PUSH
10740: LD_VAR 0 2
10744: ARRAY
10745: IFFALSE 10836
// begin if Game_Type in GT_DoubleNat ^ GT_TripleNat then
10747: LD_EXP 1
10751: PUSH
10752: LD_EXP 3
10756: PUSH
10757: LD_EXP 5
10761: ADD
10762: IN
10763: IFFALSE 10802
// nations = replace ( nations , i , Position_Nations [ i ] diff 0 ) else
10765: LD_ADDR_LOC 5
10769: PUSH
10770: LD_LOC 5
10774: PPUSH
10775: LD_VAR 0 2
10779: PPUSH
10780: LD_EXP 52
10784: PUSH
10785: LD_VAR 0 2
10789: ARRAY
10790: PUSH
10791: LD_INT 0
10793: DIFF
10794: PPUSH
10795: CALL_OW 1
10799: ST_TO_ADDR
10800: GO 10836
// nations = replace ( nations , i , [ Side_Nations [ i ] ] ) ;
10802: LD_ADDR_LOC 5
10806: PUSH
10807: LD_LOC 5
10811: PPUSH
10812: LD_VAR 0 2
10816: PPUSH
10817: LD_EXP 76
10821: PUSH
10822: LD_VAR 0 2
10826: ARRAY
10827: PUSH
10828: EMPTY
10829: LIST
10830: PPUSH
10831: CALL_OW 1
10835: ST_TO_ADDR
// end ;
10836: GO 10732
10838: POP
10839: POP
// if Game_Type in GT_DoublePeople then
10840: LD_EXP 1
10844: PUSH
10845: LD_EXP 4
10849: IN
10850: IFFALSE 10868
// noposn = number_of_people * 2 else
10852: LD_ADDR_LOC 6
10856: PUSH
10857: LD_EXP 40
10861: PUSH
10862: LD_INT 2
10864: MUL
10865: ST_TO_ADDR
10866: GO 10878
// noposn = number_of_people ;
10868: LD_ADDR_LOC 6
10872: PUSH
10873: LD_EXP 40
10877: ST_TO_ADDR
// SetRespawningTime ( respawning_time_min , respawning_time_max , respawning_time_delay_min , respawning_time_delay_max ) ;
10878: LD_EXP 49
10882: PPUSH
10883: LD_EXP 51
10887: PPUSH
10888: LD_EXP 53
10892: PPUSH
10893: LD_EXP 54
10897: PPUSH
10898: CALL 11638 0 4
// end ;
10902: LD_VAR 0 1
10906: RET
// every 0 0$1 + 0 0$0.5 do var n , building_list , aktresp , b , skills , k ;
10907: GO 10909
10909: DISABLE
10910: LD_INT 0
10912: PPUSH
10913: PPUSH
10914: PPUSH
10915: PPUSH
10916: PPUSH
10917: PPUSH
// begin if def_respawining_type = 0 then
10918: LD_EXP 24
10922: PUSH
10923: LD_INT 0
10925: EQUAL
10926: IFFALSE 10932
// exit else
10928: GO 11337
10930: GO 11337
// if def_respawining_type in [ 2 , 3 ] then
10932: LD_EXP 24
10936: PUSH
10937: LD_INT 2
10939: PUSH
10940: LD_INT 3
10942: PUSH
10943: EMPTY
10944: LIST
10945: LIST
10946: IN
10947: IFFALSE 11303
// begin if respawn = 8 then
10949: LD_LOC 2
10953: PUSH
10954: LD_INT 8
10956: EQUAL
10957: IFFALSE 11003
// begin respawn := 1 ;
10959: LD_ADDR_LOC 2
10963: PUSH
10964: LD_INT 1
10966: ST_TO_ADDR
// if nation = 3 then
10967: LD_LOC 4
10971: PUSH
10972: LD_INT 3
10974: EQUAL
10975: IFFALSE 10987
// nation := 1 else
10977: LD_ADDR_LOC 4
10981: PUSH
10982: LD_INT 1
10984: ST_TO_ADDR
10985: GO 11001
// nation := nation + 1 ;
10987: LD_ADDR_LOC 4
10991: PUSH
10992: LD_LOC 4
10996: PUSH
10997: LD_INT 1
10999: PLUS
11000: ST_TO_ADDR
// end else
11001: GO 11017
// respawn := respawn + 1 ;
11003: LD_ADDR_LOC 2
11007: PUSH
11008: LD_LOC 2
11012: PUSH
11013: LD_INT 1
11015: PLUS
11016: ST_TO_ADDR
// if Side_Positions [ respawn ] then
11017: LD_EXP 75
11021: PUSH
11022: LD_LOC 2
11026: ARRAY
11027: IFFALSE 11300
// begin if nation in nations [ respawn ] then
11029: LD_LOC 4
11033: PUSH
11034: LD_LOC 5
11038: PUSH
11039: LD_LOC 2
11043: ARRAY
11044: IN
11045: IFFALSE 11297
// begin if def_desert_warior < 2 then
11047: LD_EXP 31
11051: PUSH
11052: LD_INT 2
11054: LESS
11055: IFFALSE 11108
// n := FilterAllUnits ( [ [ f_type , unit_human ] , [ f_side , respawn ] , [ f_nation , nation ] , ] ) else
11057: LD_ADDR_VAR 0 1
11061: PUSH
11062: LD_INT 21
11064: PUSH
11065: LD_INT 1
11067: PUSH
11068: EMPTY
11069: LIST
11070: LIST
11071: PUSH
11072: LD_INT 22
11074: PUSH
11075: LD_LOC 2
11079: PUSH
11080: EMPTY
11081: LIST
11082: LIST
11083: PUSH
11084: LD_INT 23
11086: PUSH
11087: LD_LOC 4
11091: PUSH
11092: EMPTY
11093: LIST
11094: LIST
11095: PUSH
11096: EMPTY
11097: LIST
11098: LIST
11099: LIST
11100: PPUSH
11101: CALL_OW 69
11105: ST_TO_ADDR
11106: GO 11172
// n := FilterAllUnits ( [ [ f_type , unit_human ] , [ f_side , respawn ] , [ f_nation , nation ] , f_not , [ f_class , class_desert_warior ] , ] ) ;
11108: LD_ADDR_VAR 0 1
11112: PUSH
11113: LD_INT 21
11115: PUSH
11116: LD_INT 1
11118: PUSH
11119: EMPTY
11120: LIST
11121: LIST
11122: PUSH
11123: LD_INT 22
11125: PUSH
11126: LD_LOC 2
11130: PUSH
11131: EMPTY
11132: LIST
11133: LIST
11134: PUSH
11135: LD_INT 23
11137: PUSH
11138: LD_LOC 4
11142: PUSH
11143: EMPTY
11144: LIST
11145: LIST
11146: PUSH
11147: LD_INT 3
11149: PUSH
11150: LD_INT 25
11152: PUSH
11153: LD_INT 11
11155: PUSH
11156: EMPTY
11157: LIST
11158: LIST
11159: PUSH
11160: EMPTY
11161: LIST
11162: LIST
11163: LIST
11164: LIST
11165: LIST
11166: PPUSH
11167: CALL_OW 69
11171: ST_TO_ADDR
// if ( n + inqueue [ respawn ] [ nation ] ) < noposn then
11172: LD_VAR 0 1
11176: PUSH
11177: LD_LOC 3
11181: PUSH
11182: LD_LOC 2
11186: ARRAY
11187: PUSH
11188: LD_LOC 4
11192: ARRAY
11193: PLUS
11194: PUSH
11195: LD_LOC 6
11199: LESS
11200: IFFALSE 11294
// begin aktresp := respawn ;
11202: LD_ADDR_VAR 0 3
11206: PUSH
11207: LD_LOC 2
11211: ST_TO_ADDR
// inqueue := Replace ( inqueue , aktresp , replace ( inqueue [ aktresp ] , nation , inqueue [ aktresp ] [ nation ] + 1 ) ) ;
11212: LD_ADDR_LOC 3
11216: PUSH
11217: LD_LOC 3
11221: PPUSH
11222: LD_VAR 0 3
11226: PPUSH
11227: LD_LOC 3
11231: PUSH
11232: LD_VAR 0 3
11236: ARRAY
11237: PPUSH
11238: LD_LOC 4
11242: PPUSH
11243: LD_LOC 3
11247: PUSH
11248: LD_VAR 0 3
11252: ARRAY
11253: PUSH
11254: LD_LOC 4
11258: ARRAY
11259: PUSH
11260: LD_INT 1
11262: PLUS
11263: PPUSH
11264: CALL_OW 1
11268: PPUSH
11269: CALL_OW 1
11273: ST_TO_ADDR
// enable ;
11274: ENABLE
// ObnovCloveka ( aktresp , nation , false ) ;
11275: LD_VAR 0 3
11279: PPUSH
11280: LD_LOC 4
11284: PPUSH
11285: LD_INT 0
11287: PPUSH
11288: CALL 11752 0 3
// end else
11292: GO 11295
// enable ;
11294: ENABLE
// end else
11295: GO 11298
// enable ;
11297: ENABLE
// end else
11298: GO 11301
// enable ;
11300: ENABLE
// end else
11301: GO 11337
// if def_respawining_type = 1 then
11303: LD_EXP 24
11307: PUSH
11308: LD_INT 1
11310: EQUAL
11311: IFFALSE 11337
// begin wait ( rand ( respawning_time_min , respawning_time_max ) ) ;
11313: LD_EXP 49
11317: PPUSH
11318: LD_EXP 51
11322: PPUSH
11323: CALL_OW 12
11327: PPUSH
11328: CALL_OW 67
// Vytvor_noveho_cloveka_pro_vsechny ;
11332: CALL 12837 0 0
// enable ;
11336: ENABLE
// end end ;
11337: PPOPN 6
11339: END
// export function OnHumanRespawned ( un ) ; var side , nation ; begin
11340: LD_INT 0
11342: PPUSH
11343: PPUSH
11344: PPUSH
// wait ( 0 0$30 ) ;
11345: LD_INT 1050
11347: PPUSH
11348: CALL_OW 67
// side = GetSide ( un ) ;
11352: LD_ADDR_VAR 0 3
11356: PUSH
11357: LD_VAR 0 1
11361: PPUSH
11362: CALL_OW 255
11366: ST_TO_ADDR
// nation = GetNation ( un ) ;
11367: LD_ADDR_VAR 0 4
11371: PUSH
11372: LD_VAR 0 1
11376: PPUSH
11377: CALL_OW 248
11381: ST_TO_ADDR
// inqueue := Replace ( inqueue , side , replace ( inqueue [ side ] , nation , inqueue [ side ] [ nation ] - 1 ) ) ;
11382: LD_ADDR_LOC 3
11386: PUSH
11387: LD_LOC 3
11391: PPUSH
11392: LD_VAR 0 3
11396: PPUSH
11397: LD_LOC 3
11401: PUSH
11402: LD_VAR 0 3
11406: ARRAY
11407: PPUSH
11408: LD_VAR 0 4
11412: PPUSH
11413: LD_LOC 3
11417: PUSH
11418: LD_VAR 0 3
11422: ARRAY
11423: PUSH
11424: LD_VAR 0 4
11428: ARRAY
11429: PUSH
11430: LD_INT 1
11432: MINUS
11433: PPUSH
11434: CALL_OW 1
11438: PPUSH
11439: CALL_OW 1
11443: ST_TO_ADDR
// end ;
11444: LD_VAR 0 2
11448: RET
// export function RespawnHumanDestroyed ( identifier , side , nation , x , y , direction , sex , cl ) ; begin
11449: LD_INT 0
11451: PPUSH
// if def_respawining_type < 2 then
11452: LD_EXP 24
11456: PUSH
11457: LD_INT 2
11459: LESS
11460: IFFALSE 11464
// exit ;
11462: GO 11633
// if nation = nation_nature or side = 0 then
11464: LD_VAR 0 3
11468: PUSH
11469: LD_INT 0
11471: EQUAL
11472: PUSH
11473: LD_VAR 0 2
11477: PUSH
11478: LD_INT 0
11480: EQUAL
11481: OR
11482: IFFALSE 11486
// exit ;
11484: GO 11633
// if not Side_Positions [ side ] then
11486: LD_EXP 75
11490: PUSH
11491: LD_VAR 0 2
11495: ARRAY
11496: NOT
11497: IFFALSE 11501
// exit ;
11499: GO 11633
// if def_desert_warior = 2 then
11501: LD_EXP 31
11505: PUSH
11506: LD_INT 2
11508: EQUAL
11509: IFFALSE 11523
// if cl = class_desert_warior then
11511: LD_VAR 0 8
11515: PUSH
11516: LD_INT 11
11518: EQUAL
11519: IFFALSE 11523
// exit ;
11521: GO 11633
// inqueue := Replace ( inqueue , side , replace ( inqueue [ side ] , nation , inqueue [ side ] [ nation ] + 1 ) ) ;
11523: LD_ADDR_LOC 3
11527: PUSH
11528: LD_LOC 3
11532: PPUSH
11533: LD_VAR 0 2
11537: PPUSH
11538: LD_LOC 3
11542: PUSH
11543: LD_VAR 0 2
11547: ARRAY
11548: PPUSH
11549: LD_VAR 0 3
11553: PPUSH
11554: LD_LOC 3
11558: PUSH
11559: LD_VAR 0 2
11563: ARRAY
11564: PUSH
11565: LD_VAR 0 3
11569: ARRAY
11570: PUSH
11571: LD_INT 1
11573: PLUS
11574: PPUSH
11575: CALL_OW 1
11579: PPUSH
11580: CALL_OW 1
11584: ST_TO_ADDR
// if def_respawining_type = 2 then
11585: LD_EXP 24
11589: PUSH
11590: LD_INT 2
11592: EQUAL
11593: IFFALSE 11616
// ObnovCloveka ( side , nation , identifier ) else
11595: LD_VAR 0 2
11599: PPUSH
11600: LD_VAR 0 3
11604: PPUSH
11605: LD_VAR 0 1
11609: PPUSH
11610: CALL 11752 0 3
11614: GO 11633
// ObnovCloveka ( side , nation , false ) ;
11616: LD_VAR 0 2
11620: PPUSH
11621: LD_VAR 0 3
11625: PPUSH
11626: LD_INT 0
11628: PPUSH
11629: CALL 11752 0 3
// end ;
11633: LD_VAR 0 9
11637: RET
// export ObnovCas , ObnovZpozdeni ; export function SetRespawningTime ( minBTime , maxBTime , MinDelay , MaxDelay ) ; var k ; begin
11638: LD_INT 0
11640: PPUSH
11641: PPUSH
// k = Rand ( minBTime , maxBTime ) ;
11642: LD_ADDR_VAR 0 6
11646: PUSH
11647: LD_VAR 0 1
11651: PPUSH
11652: LD_VAR 0 2
11656: PPUSH
11657: CALL_OW 12
11661: ST_TO_ADDR
// ObnovCas = [ k , k , k , k , k , k , k , k ] ;
11662: LD_ADDR_EXP 102
11666: PUSH
11667: LD_VAR 0 6
11671: PUSH
11672: LD_VAR 0 6
11676: PUSH
11677: LD_VAR 0 6
11681: PUSH
11682: LD_VAR 0 6
11686: PUSH
11687: LD_VAR 0 6
11691: PUSH
11692: LD_VAR 0 6
11696: PUSH
11697: LD_VAR 0 6
11701: PUSH
11702: LD_VAR 0 6
11706: PUSH
11707: EMPTY
11708: LIST
11709: LIST
11710: LIST
11711: LIST
11712: LIST
11713: LIST
11714: LIST
11715: LIST
11716: ST_TO_ADDR
// k = Rand ( minDelay , MaxDelay ) ;
11717: LD_ADDR_VAR 0 6
11721: PUSH
11722: LD_VAR 0 3
11726: PPUSH
11727: LD_VAR 0 4
11731: PPUSH
11732: CALL_OW 12
11736: ST_TO_ADDR
// ObnovZpozdeni = k ;
11737: LD_ADDR_EXP 103
11741: PUSH
11742: LD_VAR 0 6
11746: ST_TO_ADDR
// end ;
11747: LD_VAR 0 5
11751: RET
// export unit_list ; export function ObnovCloveka ( side , nation , restored ) ; var building_list , b , n , un , k , i , base_skills , speed , def ; begin
11752: LD_INT 0
11754: PPUSH
11755: PPUSH
11756: PPUSH
11757: PPUSH
11758: PPUSH
11759: PPUSH
11760: PPUSH
11761: PPUSH
11762: PPUSH
11763: PPUSH
// if ObnovCas [ side ] = 0 then
11764: LD_EXP 102
11768: PUSH
11769: LD_VAR 0 1
11773: ARRAY
11774: PUSH
11775: LD_INT 0
11777: EQUAL
11778: IFFALSE 11782
// exit ;
11780: GO 12427
// uc_nation := nation ;
11782: LD_ADDR_OWVAR 21
11786: PUSH
11787: LD_VAR 0 2
11791: ST_TO_ADDR
// uc_side := side ;
11792: LD_ADDR_OWVAR 20
11796: PUSH
11797: LD_VAR 0 1
11801: ST_TO_ADDR
// uc_direction := Rand ( 0 , 5 ) ;
11802: LD_ADDR_OWVAR 24
11806: PUSH
11807: LD_INT 0
11809: PPUSH
11810: LD_INT 5
11812: PPUSH
11813: CALL_OW 12
11817: ST_TO_ADDR
// if restored then
11818: LD_VAR 0 3
11822: IFFALSE 11905
// begin hc_class = GetClass ( restored ) ;
11824: LD_ADDR_OWVAR 28
11828: PUSH
11829: LD_VAR 0 3
11833: PPUSH
11834: CALL_OW 257
11838: ST_TO_ADDR
// hc_attr = [ GetAttr ( restored , attr_stamina ) , GetAttr ( restored , attr_speed ) ] ;
11839: LD_ADDR_OWVAR 29
11843: PUSH
11844: LD_VAR 0 3
11848: PPUSH
11849: LD_INT 1
11851: PPUSH
11852: CALL_OW 260
11856: PUSH
11857: LD_VAR 0 3
11861: PPUSH
11862: LD_INT 2
11864: PPUSH
11865: CALL_OW 260
11869: PUSH
11870: EMPTY
11871: LIST
11872: LIST
11873: ST_TO_ADDR
// if hc_class in [ class_sniper , class_bazooker , class_mortar ] then
11874: LD_OWVAR 28
11878: PUSH
11879: LD_INT 5
11881: PUSH
11882: LD_INT 9
11884: PUSH
11885: LD_INT 8
11887: PUSH
11888: EMPTY
11889: LIST
11890: LIST
11891: LIST
11892: IN
11893: IFFALSE 11903
// hc_class = class_soldier ;
11895: LD_ADDR_OWVAR 28
11899: PUSH
11900: LD_INT 1
11902: ST_TO_ADDR
// end else
11903: GO 11914
// randomHumanStats ( initial_level ) ;
11905: LD_EXP 42
11909: PPUSH
11910: CALL 17328 0 1
// hc_importance := 0 ;
11914: LD_ADDR_OWVAR 32
11918: PUSH
11919: LD_INT 0
11921: ST_TO_ADDR
// hc_gallery :=  ;
11922: LD_ADDR_OWVAR 33
11926: PUSH
11927: LD_STRING 
11929: ST_TO_ADDR
// hc_face_number := 0 ;
11930: LD_ADDR_OWVAR 34
11934: PUSH
11935: LD_INT 0
11937: ST_TO_ADDR
// hc_name =  ;
11938: LD_ADDR_OWVAR 26
11942: PUSH
11943: LD_STRING 
11945: ST_TO_ADDR
// un := CreateHuman ;
11946: LD_ADDR_VAR 0 8
11950: PUSH
11951: CALL_OW 44
11955: ST_TO_ADDR
// if restored then
11956: LD_VAR 0 3
11960: IFFALSE 11976
// CopySkills ( restored , un ) ;
11962: LD_VAR 0 3
11966: PPUSH
11967: LD_VAR 0 8
11971: PPUSH
11972: CALL_OW 510
// k = ObnovCas [ side ] + ObnovZpozdeni ;
11976: LD_ADDR_VAR 0 9
11980: PUSH
11981: LD_EXP 102
11985: PUSH
11986: LD_VAR 0 1
11990: ARRAY
11991: PUSH
11992: LD_EXP 103
11996: PLUS
11997: ST_TO_ADDR
// ObnovCas = Replace ( ObnovCas , side , k ) ;
11998: LD_ADDR_EXP 102
12002: PUSH
12003: LD_EXP 102
12007: PPUSH
12008: LD_VAR 0 1
12012: PPUSH
12013: LD_VAR 0 9
12017: PPUSH
12018: CALL_OW 1
12022: ST_TO_ADDR
// wait ( ObnovCas [ side ] - ObnovZpozdeni ) ;
12023: LD_EXP 102
12027: PUSH
12028: LD_VAR 0 1
12032: ARRAY
12033: PUSH
12034: LD_EXP 103
12038: MINUS
12039: PPUSH
12040: CALL_OW 67
// if not ( HasPower ( side ) ) then
12044: LD_VAR 0 1
12048: PPUSH
12049: CALL 13217 0 1
12053: NOT
12054: IFFALSE 12058
// exit ;
12056: GO 12427
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_ok ] , [ f_side , side ] , [ f_nation , nation ] ] ) ;
12058: LD_ADDR_VAR 0 5
12062: PUSH
12063: LD_INT 21
12065: PUSH
12066: LD_INT 3
12068: PUSH
12069: EMPTY
12070: LIST
12071: LIST
12072: PUSH
12073: LD_INT 2
12075: PUSH
12076: LD_INT 30
12078: PUSH
12079: LD_INT 0
12081: PUSH
12082: EMPTY
12083: LIST
12084: LIST
12085: PUSH
12086: LD_INT 30
12088: PUSH
12089: LD_INT 1
12091: PUSH
12092: EMPTY
12093: LIST
12094: LIST
12095: PUSH
12096: EMPTY
12097: LIST
12098: LIST
12099: LIST
12100: PUSH
12101: LD_INT 50
12103: PUSH
12104: EMPTY
12105: LIST
12106: PUSH
12107: LD_INT 22
12109: PUSH
12110: LD_VAR 0 1
12114: PUSH
12115: EMPTY
12116: LIST
12117: LIST
12118: PUSH
12119: LD_INT 23
12121: PUSH
12122: LD_VAR 0 2
12126: PUSH
12127: EMPTY
12128: LIST
12129: LIST
12130: PUSH
12131: EMPTY
12132: LIST
12133: LIST
12134: LIST
12135: LIST
12136: LIST
12137: PPUSH
12138: CALL_OW 69
12142: ST_TO_ADDR
// if building_list = 0 then
12143: LD_VAR 0 5
12147: PUSH
12148: LD_INT 0
12150: EQUAL
12151: IFFALSE 12225
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_ok ] , [ f_side , side ] ] ) ;
12153: LD_ADDR_VAR 0 5
12157: PUSH
12158: LD_INT 21
12160: PUSH
12161: LD_INT 3
12163: PUSH
12164: EMPTY
12165: LIST
12166: LIST
12167: PUSH
12168: LD_INT 2
12170: PUSH
12171: LD_INT 30
12173: PUSH
12174: LD_INT 0
12176: PUSH
12177: EMPTY
12178: LIST
12179: LIST
12180: PUSH
12181: LD_INT 30
12183: PUSH
12184: LD_INT 1
12186: PUSH
12187: EMPTY
12188: LIST
12189: LIST
12190: PUSH
12191: EMPTY
12192: LIST
12193: LIST
12194: LIST
12195: PUSH
12196: LD_INT 50
12198: PUSH
12199: EMPTY
12200: LIST
12201: PUSH
12202: LD_INT 22
12204: PUSH
12205: LD_VAR 0 1
12209: PUSH
12210: EMPTY
12211: LIST
12212: LIST
12213: PUSH
12214: EMPTY
12215: LIST
12216: LIST
12217: LIST
12218: LIST
12219: PPUSH
12220: CALL_OW 69
12224: ST_TO_ADDR
// if building_list = 0 then
12225: LD_VAR 0 5
12229: PUSH
12230: LD_INT 0
12232: EQUAL
12233: IFFALSE 12278
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_ok ] , [ f_side , side ] ] ) ;
12235: LD_ADDR_VAR 0 5
12239: PUSH
12240: LD_INT 21
12242: PUSH
12243: LD_INT 3
12245: PUSH
12246: EMPTY
12247: LIST
12248: LIST
12249: PUSH
12250: LD_INT 50
12252: PUSH
12253: EMPTY
12254: LIST
12255: PUSH
12256: LD_INT 22
12258: PUSH
12259: LD_VAR 0 1
12263: PUSH
12264: EMPTY
12265: LIST
12266: LIST
12267: PUSH
12268: EMPTY
12269: LIST
12270: LIST
12271: LIST
12272: PPUSH
12273: CALL_OW 69
12277: ST_TO_ADDR
// if building_list > 0 then
12278: LD_VAR 0 5
12282: PUSH
12283: LD_INT 0
12285: GREATER
12286: IFFALSE 12404
// begin b := building_list [ Rand ( 1 , building_list + 0 ) ] ;
12288: LD_ADDR_VAR 0 6
12292: PUSH
12293: LD_VAR 0 5
12297: PUSH
12298: LD_INT 1
12300: PPUSH
12301: LD_VAR 0 5
12305: PUSH
12306: LD_INT 0
12308: PLUS
12309: PPUSH
12310: CALL_OW 12
12314: ARRAY
12315: ST_TO_ADDR
// if GetBType ( b ) in [ b_depot , b_warehouse ] then
12316: LD_VAR 0 6
12320: PPUSH
12321: CALL_OW 266
12325: PUSH
12326: LD_INT 0
12328: PUSH
12329: LD_INT 1
12331: PUSH
12332: EMPTY
12333: LIST
12334: LIST
12335: IN
12336: IFFALSE 12348
// n = 25 else
12338: LD_ADDR_VAR 0 7
12342: PUSH
12343: LD_INT 25
12345: ST_TO_ADDR
12346: GO 12356
// n = 10 ;
12348: LD_ADDR_VAR 0 7
12352: PUSH
12353: LD_INT 10
12355: ST_TO_ADDR
// PlaceUnitXYR ( un , GetX ( b ) , GetY ( b ) , n , true ) ;
12356: LD_VAR 0 8
12360: PPUSH
12361: LD_VAR 0 6
12365: PPUSH
12366: CALL_OW 250
12370: PPUSH
12371: LD_VAR 0 6
12375: PPUSH
12376: CALL_OW 251
12380: PPUSH
12381: LD_VAR 0 7
12385: PPUSH
12386: LD_INT 1
12388: PPUSH
12389: CALL_OW 50
// OnHumanRespawned ( un ) ;
12393: LD_VAR 0 8
12397: PPUSH
12398: CALL 11340 0 1
// end else
12402: GO 12427
// begin ObnovOpozdilceCloveka ( un , side , k / 2 ) ;
12404: LD_VAR 0 8
12408: PPUSH
12409: LD_VAR 0 1
12413: PPUSH
12414: LD_VAR 0 9
12418: PUSH
12419: LD_INT 2
12421: DIVREAL
12422: PPUSH
12423: CALL 12432 0 3
// end ; end ;
12427: LD_VAR 0 4
12431: RET
// function ObnovOpozdilceCloveka ( un , side , waitTime ) ; var building_list , n , unit_list , b ; begin
12432: LD_INT 0
12434: PPUSH
12435: PPUSH
12436: PPUSH
12437: PPUSH
12438: PPUSH
// wait ( waitTime ) ;
12439: LD_VAR 0 3
12443: PPUSH
12444: CALL_OW 67
// if not ( HasPower ( side ) ) then
12448: LD_VAR 0 2
12452: PPUSH
12453: CALL 13217 0 1
12457: NOT
12458: IFFALSE 12462
// exit ;
12460: GO 12832
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_ok ] , [ f_side , side ] , [ f_nation , GetNation ( un ) ] ] ) ;
12462: LD_ADDR_VAR 0 5
12466: PUSH
12467: LD_INT 21
12469: PUSH
12470: LD_INT 3
12472: PUSH
12473: EMPTY
12474: LIST
12475: LIST
12476: PUSH
12477: LD_INT 2
12479: PUSH
12480: LD_INT 30
12482: PUSH
12483: LD_INT 0
12485: PUSH
12486: EMPTY
12487: LIST
12488: LIST
12489: PUSH
12490: LD_INT 30
12492: PUSH
12493: LD_INT 1
12495: PUSH
12496: EMPTY
12497: LIST
12498: LIST
12499: PUSH
12500: EMPTY
12501: LIST
12502: LIST
12503: LIST
12504: PUSH
12505: LD_INT 50
12507: PUSH
12508: EMPTY
12509: LIST
12510: PUSH
12511: LD_INT 22
12513: PUSH
12514: LD_VAR 0 2
12518: PUSH
12519: EMPTY
12520: LIST
12521: LIST
12522: PUSH
12523: LD_INT 23
12525: PUSH
12526: LD_VAR 0 1
12530: PPUSH
12531: CALL_OW 248
12535: PUSH
12536: EMPTY
12537: LIST
12538: LIST
12539: PUSH
12540: EMPTY
12541: LIST
12542: LIST
12543: LIST
12544: LIST
12545: LIST
12546: PPUSH
12547: CALL_OW 69
12551: ST_TO_ADDR
// if building_list = 0 then
12552: LD_VAR 0 5
12556: PUSH
12557: LD_INT 0
12559: EQUAL
12560: IFFALSE 12634
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_ok ] , [ f_side , side ] ] ) ;
12562: LD_ADDR_VAR 0 5
12566: PUSH
12567: LD_INT 21
12569: PUSH
12570: LD_INT 3
12572: PUSH
12573: EMPTY
12574: LIST
12575: LIST
12576: PUSH
12577: LD_INT 2
12579: PUSH
12580: LD_INT 30
12582: PUSH
12583: LD_INT 0
12585: PUSH
12586: EMPTY
12587: LIST
12588: LIST
12589: PUSH
12590: LD_INT 30
12592: PUSH
12593: LD_INT 1
12595: PUSH
12596: EMPTY
12597: LIST
12598: LIST
12599: PUSH
12600: EMPTY
12601: LIST
12602: LIST
12603: LIST
12604: PUSH
12605: LD_INT 50
12607: PUSH
12608: EMPTY
12609: LIST
12610: PUSH
12611: LD_INT 22
12613: PUSH
12614: LD_VAR 0 2
12618: PUSH
12619: EMPTY
12620: LIST
12621: LIST
12622: PUSH
12623: EMPTY
12624: LIST
12625: LIST
12626: LIST
12627: LIST
12628: PPUSH
12629: CALL_OW 69
12633: ST_TO_ADDR
// if building_list = 0 then
12634: LD_VAR 0 5
12638: PUSH
12639: LD_INT 0
12641: EQUAL
12642: IFFALSE 12687
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_ok ] , [ f_side , side ] ] ) ;
12644: LD_ADDR_VAR 0 5
12648: PUSH
12649: LD_INT 21
12651: PUSH
12652: LD_INT 3
12654: PUSH
12655: EMPTY
12656: LIST
12657: LIST
12658: PUSH
12659: LD_INT 50
12661: PUSH
12662: EMPTY
12663: LIST
12664: PUSH
12665: LD_INT 22
12667: PUSH
12668: LD_VAR 0 2
12672: PUSH
12673: EMPTY
12674: LIST
12675: LIST
12676: PUSH
12677: EMPTY
12678: LIST
12679: LIST
12680: LIST
12681: PPUSH
12682: CALL_OW 69
12686: ST_TO_ADDR
// if building_list > 0 then
12687: LD_VAR 0 5
12691: PUSH
12692: LD_INT 0
12694: GREATER
12695: IFFALSE 12813
// begin b := building_list [ Rand ( 1 , building_list + 0 ) ] ;
12697: LD_ADDR_VAR 0 8
12701: PUSH
12702: LD_VAR 0 5
12706: PUSH
12707: LD_INT 1
12709: PPUSH
12710: LD_VAR 0 5
12714: PUSH
12715: LD_INT 0
12717: PLUS
12718: PPUSH
12719: CALL_OW 12
12723: ARRAY
12724: ST_TO_ADDR
// if GetBType ( b ) in [ b_depot , b_warehouse ] then
12725: LD_VAR 0 8
12729: PPUSH
12730: CALL_OW 266
12734: PUSH
12735: LD_INT 0
12737: PUSH
12738: LD_INT 1
12740: PUSH
12741: EMPTY
12742: LIST
12743: LIST
12744: IN
12745: IFFALSE 12757
// n = 25 else
12747: LD_ADDR_VAR 0 6
12751: PUSH
12752: LD_INT 25
12754: ST_TO_ADDR
12755: GO 12765
// n = 10 ;
12757: LD_ADDR_VAR 0 6
12761: PUSH
12762: LD_INT 10
12764: ST_TO_ADDR
// PlaceUnitXYR ( un , GetX ( b ) , GetY ( b ) , n , true ) ;
12765: LD_VAR 0 1
12769: PPUSH
12770: LD_VAR 0 8
12774: PPUSH
12775: CALL_OW 250
12779: PPUSH
12780: LD_VAR 0 8
12784: PPUSH
12785: CALL_OW 251
12789: PPUSH
12790: LD_VAR 0 6
12794: PPUSH
12795: LD_INT 1
12797: PPUSH
12798: CALL_OW 50
// OnHumanRespawned ( un ) ;
12802: LD_VAR 0 1
12806: PPUSH
12807: CALL 11340 0 1
// end else
12811: GO 12832
// ObnovOpozdilceCloveka ( un , side , waitTime ) ;
12813: LD_VAR 0 1
12817: PPUSH
12818: LD_VAR 0 2
12822: PPUSH
12823: LD_VAR 0 3
12827: PPUSH
12828: CALL 12432 0 3
// end ;
12832: LD_VAR 0 4
12836: RET
// export function Vytvor_noveho_cloveka_pro_vsechny ; var nat , side , sidy , i , k ; begin
12837: LD_INT 0
12839: PPUSH
12840: PPUSH
12841: PPUSH
12842: PPUSH
12843: PPUSH
12844: PPUSH
// randomHumanStats ( initial_level ) ;
12845: LD_EXP 42
12849: PPUSH
12850: CALL 17328 0 1
// sidy = [ ] ;
12854: LD_ADDR_VAR 0 4
12858: PUSH
12859: EMPTY
12860: ST_TO_ADDR
// for i = 1 to Side_positions + 0 do
12861: LD_ADDR_VAR 0 5
12865: PUSH
12866: DOUBLE
12867: LD_INT 1
12869: DEC
12870: ST_TO_ADDR
12871: LD_EXP 75
12875: PUSH
12876: LD_INT 0
12878: PLUS
12879: PUSH
12880: FOR_TO
12881: IFFALSE 12949
// if Side_positions [ i ] > 0 then
12883: LD_EXP 75
12887: PUSH
12888: LD_VAR 0 5
12892: ARRAY
12893: PUSH
12894: LD_INT 0
12896: GREATER
12897: IFFALSE 12947
// if HasPower ( i ) then
12899: LD_VAR 0 5
12903: PPUSH
12904: CALL 13217 0 1
12908: IFFALSE 12947
// for k in nations [ i ] do
12910: LD_ADDR_VAR 0 6
12914: PUSH
12915: LD_LOC 5
12919: PUSH
12920: LD_VAR 0 5
12924: ARRAY
12925: PUSH
12926: FOR_IN
12927: IFFALSE 12945
// vytvor_cloveka ( i , k ) ;
12929: LD_VAR 0 5
12933: PPUSH
12934: LD_VAR 0 6
12938: PPUSH
12939: CALL 12956 0 2
12943: GO 12926
12945: POP
12946: POP
12947: GO 12880
12949: POP
12950: POP
// end ;
12951: LD_VAR 0 1
12955: RET
// function vytvor_cloveka ( side , nat ) ; var pom ; begin
12956: LD_INT 0
12958: PPUSH
12959: PPUSH
// uc_side = side ;
12960: LD_ADDR_OWVAR 20
12964: PUSH
12965: LD_VAR 0 1
12969: ST_TO_ADDR
// uc_nation = nat ;
12970: LD_ADDR_OWVAR 21
12974: PUSH
12975: LD_VAR 0 2
12979: ST_TO_ADDR
// PlaceUnitAnywhere ( CreateHuman , true ) ;
12980: CALL_OW 44
12984: PPUSH
12985: LD_INT 1
12987: PPUSH
12988: CALL_OW 51
// if game_type in GT_DoublePeople then
12992: LD_EXP 1
12996: PUSH
12997: LD_EXP 4
13001: IN
13002: IFFALSE 13016
// PlaceUnitAnywhere ( CreateHuman , true ) ;
13004: CALL_OW 44
13008: PPUSH
13009: LD_INT 1
13011: PPUSH
13012: CALL_OW 51
// end ; end_of_file
13016: LD_VAR 0 3
13020: RET
// var defeated , GameEnded , unfoged , defeated_specs ; export function Init_Win_Condition ; var i ; begin
13021: LD_INT 0
13023: PPUSH
13024: PPUSH
// enable ( 98 ) ;
13025: LD_INT 98
13027: ENABLE_MARKED
// GameEnded = false ;
13028: LD_ADDR_LOC 8
13032: PUSH
13033: LD_INT 0
13035: ST_TO_ADDR
// defeated = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
13036: LD_ADDR_LOC 7
13040: PUSH
13041: LD_INT 0
13043: PUSH
13044: LD_INT 0
13046: PUSH
13047: LD_INT 0
13049: PUSH
13050: LD_INT 0
13052: PUSH
13053: LD_INT 0
13055: PUSH
13056: LD_INT 0
13058: PUSH
13059: LD_INT 0
13061: PUSH
13062: LD_INT 0
13064: PUSH
13065: EMPTY
13066: LIST
13067: LIST
13068: LIST
13069: LIST
13070: LIST
13071: LIST
13072: LIST
13073: LIST
13074: ST_TO_ADDR
// unfoged = false ;
13075: LD_ADDR_LOC 9
13079: PUSH
13080: LD_INT 0
13082: ST_TO_ADDR
// defeated_specs := [ ] ;
13083: LD_ADDR_LOC 10
13087: PUSH
13088: EMPTY
13089: ST_TO_ADDR
// for i = 1 to side_positions do
13090: LD_ADDR_VAR 0 2
13094: PUSH
13095: DOUBLE
13096: LD_INT 1
13098: DEC
13099: ST_TO_ADDR
13100: LD_EXP 75
13104: PUSH
13105: FOR_TO
13106: IFFALSE 13146
// if not side_positions [ i ] then
13108: LD_EXP 75
13112: PUSH
13113: LD_VAR 0 2
13117: ARRAY
13118: NOT
13119: IFFALSE 13144
// defeated = replace ( defeated , i , true ) ;
13121: LD_ADDR_LOC 7
13125: PUSH
13126: LD_LOC 7
13130: PPUSH
13131: LD_VAR 0 2
13135: PPUSH
13136: LD_INT 1
13138: PPUSH
13139: CALL_OW 1
13143: ST_TO_ADDR
13144: GO 13105
13146: POP
13147: POP
// end ;
13148: LD_VAR 0 1
13152: RET
// function CanWinLoose ; begin
13153: LD_INT 0
13155: PPUSH
// Result := true ;
13156: LD_ADDR_VAR 0 1
13160: PUSH
13161: LD_INT 1
13163: ST_TO_ADDR
// if IAmServer and PlayerCount > 0 then
13164: CALL_OW 518
13168: PUSH
13169: CALL_OW 519
13173: PUSH
13174: LD_INT 0
13176: GREATER
13177: AND
13178: IFFALSE 13188
// Result := false ;
13180: LD_ADDR_VAR 0 1
13184: PUSH
13185: LD_INT 0
13187: ST_TO_ADDR
// if IAmSpec and PlayerCount > 1 then
13188: CALL_OW 531
13192: PUSH
13193: CALL_OW 519
13197: PUSH
13198: LD_INT 1
13200: GREATER
13201: AND
13202: IFFALSE 13212
// Result := false ;
13204: LD_ADDR_VAR 0 1
13208: PUSH
13209: LD_INT 0
13211: ST_TO_ADDR
// end ;
13212: LD_VAR 0 1
13216: RET
// export function HasPower ( i ) ; var k , h ; begin
13217: LD_INT 0
13219: PPUSH
13220: PPUSH
13221: PPUSH
// if not MultiplayerSideAlive ( i ) and not Side_Comps [ i ] and MultiPlayer then
13222: LD_VAR 0 1
13226: PPUSH
13227: CALL_OW 108
13231: NOT
13232: PUSH
13233: LD_EXP 78
13237: PUSH
13238: LD_VAR 0 1
13242: ARRAY
13243: NOT
13244: AND
13245: PUSH
13246: LD_OWVAR 4
13250: AND
13251: IFFALSE 13263
// begin result = false ;
13253: LD_ADDR_VAR 0 2
13257: PUSH
13258: LD_INT 0
13260: ST_TO_ADDR
// end else
13261: GO 13558
// case def_win_rules of 0 :
13263: LD_EXP 21
13267: PUSH
13268: LD_INT 0
13270: DOUBLE
13271: EQUAL
13272: IFTRUE 13276
13274: GO 13439
13276: POP
// if def_people_respawning then
13277: LD_EXP 25
13281: IFFALSE 13372
// Result := FilterAllUnits ( [ [ f_side , i ] , [ f_or , [ f_type , unit_human ] , [ f_control , control_computer ] , [ f_control , control_apeman ] , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) else
13283: LD_ADDR_VAR 0 2
13287: PUSH
13288: LD_INT 22
13290: PUSH
13291: LD_VAR 0 1
13295: PUSH
13296: EMPTY
13297: LIST
13298: LIST
13299: PUSH
13300: LD_INT 2
13302: PUSH
13303: LD_INT 21
13305: PUSH
13306: LD_INT 1
13308: PUSH
13309: EMPTY
13310: LIST
13311: LIST
13312: PUSH
13313: LD_INT 33
13315: PUSH
13316: LD_INT 3
13318: PUSH
13319: EMPTY
13320: LIST
13321: LIST
13322: PUSH
13323: LD_INT 33
13325: PUSH
13326: LD_INT 5
13328: PUSH
13329: EMPTY
13330: LIST
13331: LIST
13332: PUSH
13333: LD_INT 30
13335: PUSH
13336: LD_INT 0
13338: PUSH
13339: EMPTY
13340: LIST
13341: LIST
13342: PUSH
13343: LD_INT 30
13345: PUSH
13346: LD_INT 1
13348: PUSH
13349: EMPTY
13350: LIST
13351: LIST
13352: PUSH
13353: EMPTY
13354: LIST
13355: LIST
13356: LIST
13357: LIST
13358: LIST
13359: LIST
13360: PUSH
13361: EMPTY
13362: LIST
13363: LIST
13364: PPUSH
13365: CALL_OW 69
13369: ST_TO_ADDR
13370: GO 13437
// Result := FilterAllUnits ( [ [ f_side , i ] , [ f_or , [ f_type , unit_human ] , [ f_control , control_computer ] , [ f_control , control_apeman ] ] ] ) ; 1 :
13372: LD_ADDR_VAR 0 2
13376: PUSH
13377: LD_INT 22
13379: PUSH
13380: LD_VAR 0 1
13384: PUSH
13385: EMPTY
13386: LIST
13387: LIST
13388: PUSH
13389: LD_INT 2
13391: PUSH
13392: LD_INT 21
13394: PUSH
13395: LD_INT 1
13397: PUSH
13398: EMPTY
13399: LIST
13400: LIST
13401: PUSH
13402: LD_INT 33
13404: PUSH
13405: LD_INT 3
13407: PUSH
13408: EMPTY
13409: LIST
13410: LIST
13411: PUSH
13412: LD_INT 33
13414: PUSH
13415: LD_INT 5
13417: PUSH
13418: EMPTY
13419: LIST
13420: LIST
13421: PUSH
13422: EMPTY
13423: LIST
13424: LIST
13425: LIST
13426: LIST
13427: PUSH
13428: EMPTY
13429: LIST
13430: LIST
13431: PPUSH
13432: CALL_OW 69
13436: ST_TO_ADDR
13437: GO 13558
13439: LD_INT 1
13441: DOUBLE
13442: EQUAL
13443: IFTRUE 13447
13445: GO 13486
13447: POP
// Result = FilterAllUnits ( [ [ f_side , i ] , [ f_type , unit_human ] ] ) ; 2 :
13448: LD_ADDR_VAR 0 2
13452: PUSH
13453: LD_INT 22
13455: PUSH
13456: LD_VAR 0 1
13460: PUSH
13461: EMPTY
13462: LIST
13463: LIST
13464: PUSH
13465: LD_INT 21
13467: PUSH
13468: LD_INT 1
13470: PUSH
13471: EMPTY
13472: LIST
13473: LIST
13474: PUSH
13475: EMPTY
13476: LIST
13477: LIST
13478: PPUSH
13479: CALL_OW 69
13483: ST_TO_ADDR
13484: GO 13558
13486: LD_INT 2
13488: DOUBLE
13489: EQUAL
13490: IFTRUE 13494
13492: GO 13557
13494: POP
// begin h = false ;
13495: LD_ADDR_VAR 0 4
13499: PUSH
13500: LD_INT 0
13502: ST_TO_ADDR
// for k in heroes [ i ] do
13503: LD_ADDR_VAR 0 3
13507: PUSH
13508: LD_EXP 50
13512: PUSH
13513: LD_VAR 0 1
13517: ARRAY
13518: PUSH
13519: FOR_IN
13520: IFFALSE 13543
// if IsLive ( k ) then
13522: LD_VAR 0 3
13526: PPUSH
13527: CALL_OW 300
13531: IFFALSE 13541
// h = true ;
13533: LD_ADDR_VAR 0 4
13537: PUSH
13538: LD_INT 1
13540: ST_TO_ADDR
13541: GO 13519
13543: POP
13544: POP
// Result := h ;
13545: LD_ADDR_VAR 0 2
13549: PUSH
13550: LD_VAR 0 4
13554: ST_TO_ADDR
// end ; end ;
13555: GO 13558
13557: POP
// end ;
13558: LD_VAR 0 2
13562: RET
// function AlliedSides ( i , j ) ; begin
13563: LD_INT 0
13565: PPUSH
// Result := false ;
13566: LD_ADDR_VAR 0 3
13570: PUSH
13571: LD_INT 0
13573: ST_TO_ADDR
// if ( GetAttitude ( i , j ) = att_friend ) and ( GetAttitude ( j , i ) = att_friend ) and GetAlliedVictory ( i ) and GetAlliedVictory ( j ) then
13574: LD_VAR 0 1
13578: PPUSH
13579: LD_VAR 0 2
13583: PPUSH
13584: CALL_OW 81
13588: PUSH
13589: LD_INT 1
13591: EQUAL
13592: PUSH
13593: LD_VAR 0 2
13597: PPUSH
13598: LD_VAR 0 1
13602: PPUSH
13603: CALL_OW 81
13607: PUSH
13608: LD_INT 1
13610: EQUAL
13611: AND
13612: PUSH
13613: LD_VAR 0 1
13617: PPUSH
13618: CALL_OW 83
13622: AND
13623: PUSH
13624: LD_VAR 0 2
13628: PPUSH
13629: CALL_OW 83
13633: AND
13634: IFFALSE 13644
// Result := true ;
13636: LD_ADDR_VAR 0 3
13640: PUSH
13641: LD_INT 1
13643: ST_TO_ADDR
// end ;
13644: LD_VAR 0 3
13648: RET
// every 100 trigger CanWinLoose and not GameEnded marked 400 do
13649: CALL 13153 0 0
13653: PUSH
13654: LD_LOC 8
13658: NOT
13659: AND
13660: IFFALSE 13676
13662: GO 13664
13664: DISABLE
// WaitServerStrings = [ #Player-Ended ] ;
13665: LD_ADDR_EXP 107
13669: PUSH
13670: LD_STRING #Player-Ended
13672: PUSH
13673: EMPTY
13674: LIST
13675: ST_TO_ADDR
13676: END
// every 100 trigger CanWinLoose and GameEnded marked 400 do
13677: CALL 13153 0 0
13681: PUSH
13682: LD_LOC 8
13686: AND
13687: IFFALSE 13696
13689: GO 13691
13691: DISABLE
// YouLostInMultiplayer ;
13692: CALL_OW 107
13696: END
// every 100 trigger not CanWinLoose and not IAmSpec marked 400 do
13697: CALL 13153 0 0
13701: NOT
13702: PUSH
13703: CALL_OW 531
13707: NOT
13708: AND
13709: IFFALSE 13725
13711: GO 13713
13713: DISABLE
// WaitServerStrings = [ #server-wait ] ;
13714: LD_ADDR_EXP 107
13718: PUSH
13719: LD_STRING #server-wait
13721: PUSH
13722: EMPTY
13723: LIST
13724: ST_TO_ADDR
13725: END
// every 100 trigger IAmSpec do
13726: CALL_OW 531
13730: IFFALSE 13746
13732: GO 13734
13734: DISABLE
// WaitServerStrings = [ #Player-IAmSpec ] ;
13735: LD_ADDR_EXP 107
13739: PUSH
13740: LD_STRING #Player-IAmSpec
13742: PUSH
13743: EMPTY
13744: LIST
13745: ST_TO_ADDR
13746: END
// every 100 trigger GameEnded and IAmSpec do
13747: LD_LOC 8
13751: PUSH
13752: CALL_OW 531
13756: AND
13757: IFFALSE 13766
13759: GO 13761
13761: DISABLE
// YouLostInMultiplayer ;
13762: CALL_OW 107
13766: END
// every 100 trigger CanWinLoose and not GameEnded marked 401 do
13767: CALL 13153 0 0
13771: PUSH
13772: LD_LOC 8
13776: NOT
13777: AND
13778: IFFALSE 13794
13780: GO 13782
13782: DISABLE
// WaitServerStrings = [ $player-win ] ;
13783: LD_ADDR_EXP 107
13787: PUSH
13788: LD_STRING $player-win
13790: PUSH
13791: EMPTY
13792: LIST
13793: ST_TO_ADDR
13794: END
// every 100 trigger CanWinLoose and GameEnded marked 401 do
13795: CALL 13153 0 0
13799: PUSH
13800: LD_LOC 8
13804: AND
13805: IFFALSE 13829
13807: GO 13809
13809: DISABLE
// begin SA_Win ( Side_Nations [ mp_player_side ] ) ;
13810: LD_EXP 76
13814: PUSH
13815: LD_OWVAR 7
13819: ARRAY
13820: PPUSH
13821: CALL 34547 0 1
// YouWinInMultiplayer ;
13825: CALL_OW 106
// end ;
13829: END
// every 100 trigger isEditor marked 401 do
13830: LD_OWVAR 84
13834: IFFALSE 13850
13836: GO 13838
13838: DISABLE
// Debug_Strings = [ You won ] ;
13839: LD_ADDR_OWVAR 48
13843: PUSH
13844: LD_STRING You won
13846: PUSH
13847: EMPTY
13848: LIST
13849: ST_TO_ADDR
13850: END
// every 100 trigger isEditor marked 400 do
13851: LD_OWVAR 84
13855: IFFALSE 13871
13857: GO 13859
13859: DISABLE
// Debug_Strings = [ You loss ] ;
13860: LD_ADDR_OWVAR 48
13864: PUSH
13865: LD_STRING You loss
13867: PUSH
13868: EMPTY
13869: LIST
13870: ST_TO_ADDR
13871: END
// every 100 marked 98 do var i , un ;
13872: GO 13874
13874: DISABLE
13875: LD_INT 0
13877: PPUSH
13878: PPUSH
// begin for i = 1 to side_positions do
13879: LD_ADDR_VAR 0 1
13883: PUSH
13884: DOUBLE
13885: LD_INT 1
13887: DEC
13888: ST_TO_ADDR
13889: LD_EXP 75
13893: PUSH
13894: FOR_TO
13895: IFFALSE 13982
// begin if side_positions [ i ] then
13897: LD_EXP 75
13901: PUSH
13902: LD_VAR 0 1
13906: ARRAY
13907: IFFALSE 13980
// if not HasPower ( i ) and not defeated [ i ] then
13909: LD_VAR 0 1
13913: PPUSH
13914: CALL 13217 0 1
13918: NOT
13919: PUSH
13920: LD_LOC 7
13924: PUSH
13925: LD_VAR 0 1
13929: ARRAY
13930: NOT
13931: AND
13932: IFFALSE 13980
// begin defeated = replace ( defeated , i , true ) ;
13934: LD_ADDR_LOC 7
13938: PUSH
13939: LD_LOC 7
13943: PPUSH
13944: LD_VAR 0 1
13948: PPUSH
13949: LD_INT 1
13951: PPUSH
13952: CALL_OW 1
13956: ST_TO_ADDR
// if i = mp_player_side then
13957: LD_VAR 0 1
13961: PUSH
13962: LD_OWVAR 7
13966: EQUAL
13967: IFFALSE 13980
// begin Multiplayer_Loose_Message ;
13969: CALL_OW 521
// SetPlayerSpectator ( ) ;
13973: CALL_OW 572
// enable ( 400 ) ;
13977: LD_INT 400
13979: ENABLE_MARKED
// end ; end ; end ;
13980: GO 13894
13982: POP
13983: POP
// DidGameEnd ;
13984: CALL 13999 0 0
// if not GameEnded then
13988: LD_LOC 8
13992: NOT
13993: IFFALSE 13996
// enable ;
13995: ENABLE
// end ;
13996: PPOPN 2
13998: END
// function DidGameEnd ; var i , k , enemy ; begin
13999: LD_INT 0
14001: PPUSH
14002: PPUSH
14003: PPUSH
14004: PPUSH
// enemy = [ ] ;
14005: LD_ADDR_VAR 0 4
14009: PUSH
14010: EMPTY
14011: ST_TO_ADDR
// for i = 1 to side_positions do
14012: LD_ADDR_VAR 0 2
14016: PUSH
14017: DOUBLE
14018: LD_INT 1
14020: DEC
14021: ST_TO_ADDR
14022: LD_EXP 75
14026: PUSH
14027: FOR_TO
14028: IFFALSE 14122
// if not defeated [ i ] then
14030: LD_LOC 7
14034: PUSH
14035: LD_VAR 0 2
14039: ARRAY
14040: NOT
14041: IFFALSE 14120
// for k = 1 to side_positions do
14043: LD_ADDR_VAR 0 3
14047: PUSH
14048: DOUBLE
14049: LD_INT 1
14051: DEC
14052: ST_TO_ADDR
14053: LD_EXP 75
14057: PUSH
14058: FOR_TO
14059: IFFALSE 14118
// if not defeated [ k ] then
14061: LD_LOC 7
14065: PUSH
14066: LD_VAR 0 3
14070: ARRAY
14071: NOT
14072: IFFALSE 14116
// if not AlliedSides ( i , k ) then
14074: LD_VAR 0 2
14078: PPUSH
14079: LD_VAR 0 3
14083: PPUSH
14084: CALL 13563 0 2
14088: NOT
14089: IFFALSE 14116
// enemy = enemy ^ [ i , k ] ;
14091: LD_ADDR_VAR 0 4
14095: PUSH
14096: LD_VAR 0 4
14100: PUSH
14101: LD_VAR 0 2
14105: PUSH
14106: LD_VAR 0 3
14110: PUSH
14111: EMPTY
14112: LIST
14113: LIST
14114: ADD
14115: ST_TO_ADDR
14116: GO 14058
14118: POP
14119: POP
14120: GO 14027
14122: POP
14123: POP
// if not enemy then
14124: LD_VAR 0 4
14128: NOT
14129: IFFALSE 14155
// begin GameEnded = true ;
14131: LD_ADDR_LOC 8
14135: PUSH
14136: LD_INT 1
14138: ST_TO_ADDR
// if not defeated [ mp_player_side ] then
14139: LD_LOC 7
14143: PUSH
14144: LD_OWVAR 7
14148: ARRAY
14149: NOT
14150: IFFALSE 14155
// enable ( 401 ) ;
14152: LD_INT 401
14154: ENABLE_MARKED
// end ; end ;
14155: LD_VAR 0 1
14159: RET
// function unfog ; var k , friends ; begin
14160: LD_INT 0
14162: PPUSH
14163: PPUSH
14164: PPUSH
// for k = 1 to side_positions do
14165: LD_ADDR_VAR 0 2
14169: PUSH
14170: DOUBLE
14171: LD_INT 1
14173: DEC
14174: ST_TO_ADDR
14175: LD_EXP 75
14179: PUSH
14180: FOR_TO
14181: IFFALSE 14237
// if not defeated [ k ] then
14183: LD_LOC 7
14187: PUSH
14188: LD_VAR 0 2
14192: ARRAY
14193: NOT
14194: IFFALSE 14235
// if GetAttitude ( mp_player_side , k ) in [ att_friend ] then
14196: LD_OWVAR 7
14200: PPUSH
14201: LD_VAR 0 2
14205: PPUSH
14206: CALL_OW 81
14210: PUSH
14211: LD_INT 1
14213: PUSH
14214: EMPTY
14215: LIST
14216: IN
14217: IFFALSE 14235
// friends = friends ^ k ;
14219: LD_ADDR_VAR 0 3
14223: PUSH
14224: LD_VAR 0 3
14228: PUSH
14229: LD_VAR 0 2
14233: ADD
14234: ST_TO_ADDR
14235: GO 14180
14237: POP
14238: POP
// if not friends then
14239: LD_VAR 0 3
14243: NOT
14244: IFFALSE 14258
// begin SetPlayerSpectator ( ) ;
14246: CALL_OW 572
// unfoged = true ;
14250: LD_ADDR_LOC 9
14254: PUSH
14255: LD_INT 1
14257: ST_TO_ADDR
// end ; end ;
14258: LD_VAR 0 1
14262: RET
// export function MakeGameEnd ; begin
14263: LD_INT 0
14265: PPUSH
// SetPlayerSpectator ( ) ;
14266: CALL_OW 572
// unfoged = true ;
14270: LD_ADDR_LOC 9
14274: PUSH
14275: LD_INT 1
14277: ST_TO_ADDR
// wait ( 0 0$5 ) ;
14278: LD_INT 175
14280: PPUSH
14281: CALL_OW 67
// GameEnded = true ;
14285: LD_ADDR_LOC 8
14289: PUSH
14290: LD_INT 1
14292: ST_TO_ADDR
// end ;
14293: LD_VAR 0 1
14297: RET
// export function GetGameEnded ; begin
14298: LD_INT 0
14300: PPUSH
// result = GameEnded ;
14301: LD_ADDR_VAR 0 1
14305: PUSH
14306: LD_LOC 8
14310: ST_TO_ADDR
// end ; end_of_file
14311: LD_VAR 0 1
14315: RET
// var nations , amount_of_players ; export ApesAreas ; function apeman_init ; var ape_names ; begin
14316: LD_INT 0
14318: PPUSH
14319: PPUSH
// uc_side := 0 ;
14320: LD_ADDR_OWVAR 20
14324: PUSH
14325: LD_INT 0
14327: ST_TO_ADDR
// uc_nation := nation_nature ;
14328: LD_ADDR_OWVAR 21
14332: PUSH
14333: LD_INT 0
14335: ST_TO_ADDR
// ape_names = [ Tupoun , Opoce , Opka , Butrus , Bubu , Condor , Kuklajs , Simon , Ugh , Urgh , Argh , Aargh , Hrumph , Grumph , Oorg , Eghrr , Rrrr , Bark , Wraughrr , :-) , Semik , Hrgh , Hur , Havran , Nazghul , Brutal , Kato Zluta Opoce , Monkey , Yeargh , Marta , Batman , Barkman , Xcenovsk , David Love , Freon , Stoupik , Quik , Jam Prckovic Laren , CFC , Kvakous , Sumys , Agent , Nazghul , Havran , Vrana , Havranek , Carlos Frank , Tekar , Andy , Angela , Janina , Shipanze , Simpan , Nazghulik , Potrusil , Potrus , Butrus , Potrusil , Simon , Auuu , NEMO , Silena opice , Meuznenapadazadnejmeno , Uhrun , Marmelada , Negr , Fnuk , Slim , Kvak , Dave , Bruntal , Arnie , Polda , Jen , Siddha , Silnickar , Bukvice , Zalud , Elvis , Nazghul , Chruadfa , Nazghul , Kato Yellow Ape , Cpt. Ape , King Of The Hill , Pterinochilus , Bad Platypus , Really Bad Ape , Looser , Looser , Looser , Megadeth , Mad Ape , Wraughhhh , ":) ] ;
14336: LD_ADDR_VAR 0 2
14340: PUSH
14341: LD_STRING Tupoun
14343: PUSH
14344: LD_STRING Opoce
14346: PUSH
14347: LD_STRING Opka
14349: PUSH
14350: LD_STRING Butrus
14352: PUSH
14353: LD_STRING Bubu
14355: PUSH
14356: LD_STRING Condor
14358: PUSH
14359: LD_STRING Kuklajs
14361: PUSH
14362: LD_STRING Simon
14364: PUSH
14365: LD_STRING Ugh
14367: PUSH
14368: LD_STRING Urgh
14370: PUSH
14371: LD_STRING Argh
14373: PUSH
14374: LD_STRING Aargh
14376: PUSH
14377: LD_STRING Hrumph
14379: PUSH
14380: LD_STRING Grumph
14382: PUSH
14383: LD_STRING Oorg
14385: PUSH
14386: LD_STRING Eghrr
14388: PUSH
14389: LD_STRING Rrrr
14391: PUSH
14392: LD_STRING Bark
14394: PUSH
14395: LD_STRING Wraughrr
14397: PUSH
14398: LD_STRING :-)
14400: PUSH
14401: LD_STRING Semik
14403: PUSH
14404: LD_STRING Hrgh
14406: PUSH
14407: LD_STRING Hur
14409: PUSH
14410: LD_STRING Havran
14412: PUSH
14413: LD_STRING Nazghul
14415: PUSH
14416: LD_STRING Brutal
14418: PUSH
14419: LD_STRING Kato Zluta Opoce
14421: PUSH
14422: LD_STRING Monkey
14424: PUSH
14425: LD_STRING Yeargh
14427: PUSH
14428: LD_STRING Marta
14430: PUSH
14431: LD_STRING Batman
14433: PUSH
14434: LD_STRING Barkman
14436: PUSH
14437: LD_STRING Xcenovsk
14439: PUSH
14440: LD_STRING David Love
14442: PUSH
14443: LD_STRING Freon
14445: PUSH
14446: LD_STRING Stoupik
14448: PUSH
14449: LD_STRING Quik
14451: PUSH
14452: LD_STRING Jam Prckovic Laren
14454: PUSH
14455: LD_STRING CFC
14457: PUSH
14458: LD_STRING Kvakous
14460: PUSH
14461: LD_STRING Sumys
14463: PUSH
14464: LD_STRING Agent
14466: PUSH
14467: LD_STRING Nazghul
14469: PUSH
14470: LD_STRING Havran
14472: PUSH
14473: LD_STRING Vrana
14475: PUSH
14476: LD_STRING Havranek
14478: PUSH
14479: LD_STRING Carlos Frank
14481: PUSH
14482: LD_STRING Tekar
14484: PUSH
14485: LD_STRING Andy
14487: PUSH
14488: LD_STRING Angela
14490: PUSH
14491: LD_STRING Janina
14493: PUSH
14494: LD_STRING Shipanze
14496: PUSH
14497: LD_STRING Simpan
14499: PUSH
14500: LD_STRING Nazghulik
14502: PUSH
14503: LD_STRING Potrusil
14505: PUSH
14506: LD_STRING Potrus
14508: PUSH
14509: LD_STRING Butrus
14511: PUSH
14512: LD_STRING Potrusil
14514: PUSH
14515: LD_STRING Simon
14517: PUSH
14518: LD_STRING Auuu
14520: PUSH
14521: LD_STRING NEMO
14523: PUSH
14524: LD_STRING Silena opice
14526: PUSH
14527: LD_STRING Meuznenapadazadnejmeno
14529: PUSH
14530: LD_STRING Uhrun
14532: PUSH
14533: LD_STRING Marmelada
14535: PUSH
14536: LD_STRING Negr
14538: PUSH
14539: LD_STRING Fnuk
14541: PUSH
14542: LD_STRING Slim
14544: PUSH
14545: LD_STRING Kvak
14547: PUSH
14548: LD_STRING Dave
14550: PUSH
14551: LD_STRING Bruntal
14553: PUSH
14554: LD_STRING Arnie
14556: PUSH
14557: LD_STRING Polda
14559: PUSH
14560: LD_STRING Jen
14562: PUSH
14563: LD_STRING Siddha
14565: PUSH
14566: LD_STRING Silnickar
14568: PUSH
14569: LD_STRING Bukvice
14571: PUSH
14572: LD_STRING Zalud
14574: PUSH
14575: LD_STRING Elvis
14577: PUSH
14578: LD_STRING Nazghul
14580: PUSH
14581: LD_STRING Chruadfa
14583: PUSH
14584: LD_STRING Nazghul
14586: PUSH
14587: LD_STRING Kato Yellow Ape
14589: PUSH
14590: LD_STRING Cpt. Ape
14592: PUSH
14593: LD_STRING King Of The Hill
14595: PUSH
14596: LD_STRING Pterinochilus
14598: PUSH
14599: LD_STRING Bad Platypus
14601: PUSH
14602: LD_STRING Really Bad Ape
14604: PUSH
14605: LD_STRING Looser
14607: PUSH
14608: LD_STRING Looser
14610: PUSH
14611: LD_STRING Looser
14613: PUSH
14614: LD_STRING Megadeth
14616: PUSH
14617: LD_STRING Mad Ape
14619: PUSH
14620: LD_STRING Wraughhhh
14622: PUSH
14623: LD_STRING ":)
14625: PUSH
14626: EMPTY
14627: LIST
14628: LIST
14629: LIST
14630: LIST
14631: LIST
14632: LIST
14633: LIST
14634: LIST
14635: LIST
14636: LIST
14637: LIST
14638: LIST
14639: LIST
14640: LIST
14641: LIST
14642: LIST
14643: LIST
14644: LIST
14645: LIST
14646: LIST
14647: LIST
14648: LIST
14649: LIST
14650: LIST
14651: LIST
14652: LIST
14653: LIST
14654: LIST
14655: LIST
14656: LIST
14657: LIST
14658: LIST
14659: LIST
14660: LIST
14661: LIST
14662: LIST
14663: LIST
14664: LIST
14665: LIST
14666: LIST
14667: LIST
14668: LIST
14669: LIST
14670: LIST
14671: LIST
14672: LIST
14673: LIST
14674: LIST
14675: LIST
14676: LIST
14677: LIST
14678: LIST
14679: LIST
14680: LIST
14681: LIST
14682: LIST
14683: LIST
14684: LIST
14685: LIST
14686: LIST
14687: LIST
14688: LIST
14689: LIST
14690: LIST
14691: LIST
14692: LIST
14693: LIST
14694: LIST
14695: LIST
14696: LIST
14697: LIST
14698: LIST
14699: LIST
14700: LIST
14701: LIST
14702: LIST
14703: LIST
14704: LIST
14705: LIST
14706: LIST
14707: LIST
14708: LIST
14709: LIST
14710: LIST
14711: LIST
14712: LIST
14713: LIST
14714: LIST
14715: LIST
14716: LIST
14717: LIST
14718: LIST
14719: LIST
14720: LIST
14721: LIST
14722: ST_TO_ADDR
// hc_name = ape_names [ Rand ( 1 , ape_names ) ] ;
14723: LD_ADDR_OWVAR 26
14727: PUSH
14728: LD_VAR 0 2
14732: PUSH
14733: LD_INT 1
14735: PPUSH
14736: LD_VAR 0 2
14740: PPUSH
14741: CALL_OW 12
14745: ARRAY
14746: ST_TO_ADDR
// randomHumanStats ( initial_level - 2 ) ;
14747: LD_EXP 42
14751: PUSH
14752: LD_INT 2
14754: MINUS
14755: PPUSH
14756: CALL 17328 0 1
// hc_class := class_apeman ;
14760: LD_ADDR_OWVAR 28
14764: PUSH
14765: LD_INT 12
14767: ST_TO_ADDR
// if hc_attr [ 2 ] < 12 then
14768: LD_OWVAR 29
14772: PUSH
14773: LD_INT 2
14775: ARRAY
14776: PUSH
14777: LD_INT 12
14779: LESS
14780: IFFALSE 14819
// hc_attr = [ hc_attr [ 1 ] + 5 , hc_attr [ 2 ] + 1 ] else
14782: LD_ADDR_OWVAR 29
14786: PUSH
14787: LD_OWVAR 29
14791: PUSH
14792: LD_INT 1
14794: ARRAY
14795: PUSH
14796: LD_INT 5
14798: PLUS
14799: PUSH
14800: LD_OWVAR 29
14804: PUSH
14805: LD_INT 2
14807: ARRAY
14808: PUSH
14809: LD_INT 1
14811: PLUS
14812: PUSH
14813: EMPTY
14814: LIST
14815: LIST
14816: ST_TO_ADDR
14817: GO 14850
// hc_attr = [ hc_attr [ 1 ] + 5 , hc_attr [ 2 ] ] ;
14819: LD_ADDR_OWVAR 29
14823: PUSH
14824: LD_OWVAR 29
14828: PUSH
14829: LD_INT 1
14831: ARRAY
14832: PUSH
14833: LD_INT 5
14835: PLUS
14836: PUSH
14837: LD_OWVAR 29
14841: PUSH
14842: LD_INT 2
14844: ARRAY
14845: PUSH
14846: EMPTY
14847: LIST
14848: LIST
14849: ST_TO_ADDR
// hc_sex := sex_male ;
14850: LD_ADDR_OWVAR 27
14854: PUSH
14855: LD_INT 1
14857: ST_TO_ADDR
// hc_importance := 0 ;
14858: LD_ADDR_OWVAR 32
14862: PUSH
14863: LD_INT 0
14865: ST_TO_ADDR
// hc_agressivity := Rand ( - 20 , 20 ) ;
14866: LD_ADDR_OWVAR 35
14870: PUSH
14871: LD_INT 20
14873: NEG
14874: PPUSH
14875: LD_INT 20
14877: PPUSH
14878: CALL_OW 12
14882: ST_TO_ADDR
// end ;
14883: LD_VAR 0 1
14887: RET
// every 0 0$15 + 0 0$1 marked 493 do var i , a , ape ;
14888: GO 14890
14890: DISABLE
14891: LD_INT 0
14893: PPUSH
14894: PPUSH
14895: PPUSH
// begin repeat ape = FilterAllUnits ( [ [ f_side , 0 ] , [ f_class , class_apeman ] ] ) ;
14896: LD_ADDR_VAR 0 3
14900: PUSH
14901: LD_INT 22
14903: PUSH
14904: LD_INT 0
14906: PUSH
14907: EMPTY
14908: LIST
14909: LIST
14910: PUSH
14911: LD_INT 25
14913: PUSH
14914: LD_INT 12
14916: PUSH
14917: EMPTY
14918: LIST
14919: LIST
14920: PUSH
14921: EMPTY
14922: LIST
14923: LIST
14924: PPUSH
14925: CALL_OW 69
14929: ST_TO_ADDR
// Wait ( ( ape + 1 ) * Rand ( 0 0$10 , 1 1$0 ) ) ;
14930: LD_VAR 0 3
14934: PUSH
14935: LD_INT 1
14937: PLUS
14938: PUSH
14939: LD_INT 350
14941: PPUSH
14942: LD_INT 2100
14944: PPUSH
14945: CALL_OW 12
14949: MUL
14950: PPUSH
14951: CALL_OW 67
// until ape <= ( spawning_koef_of_apemen / 6 ) * amount_of_players ;
14955: LD_VAR 0 3
14959: PUSH
14960: LD_EXP 47
14964: PUSH
14965: LD_INT 6
14967: DIVREAL
14968: PUSH
14969: LD_LOC 12
14973: MUL
14974: LESSEQUAL
14975: IFFALSE 14896
// for i = 1 to spawning_koef_of_apemen / 5 do
14977: LD_ADDR_VAR 0 1
14981: PUSH
14982: DOUBLE
14983: LD_INT 1
14985: DEC
14986: ST_TO_ADDR
14987: LD_EXP 47
14991: PUSH
14992: LD_INT 5
14994: DIVREAL
14995: PUSH
14996: FOR_TO
14997: IFFALSE 15099
// if ApesAreas then
14999: LD_EXP 105
15003: IFFALSE 15052
// begin for a in ApesAreas do
15005: LD_ADDR_VAR 0 2
15009: PUSH
15010: LD_EXP 105
15014: PUSH
15015: FOR_IN
15016: IFFALSE 15048
// begin apeman_init ;
15018: CALL 14316 0 0
// PlaceUnitArea ( CreateHuman , a , false ) ;
15022: CALL_OW 44
15026: PPUSH
15027: LD_VAR 0 2
15031: PPUSH
15032: LD_INT 0
15034: PPUSH
15035: CALL_OW 49
// Wait ( 3 ) ;
15039: LD_INT 3
15041: PPUSH
15042: CALL_OW 67
// end ;
15046: GO 15015
15048: POP
15049: POP
// end else
15050: GO 15097
// begin for a = 1 to amount_of_players do
15052: LD_ADDR_VAR 0 2
15056: PUSH
15057: DOUBLE
15058: LD_INT 1
15060: DEC
15061: ST_TO_ADDR
15062: LD_LOC 12
15066: PUSH
15067: FOR_TO
15068: IFFALSE 15095
// begin apeman_init ;
15070: CALL 14316 0 0
// PlaceUnitAnywhere ( CreateHuman , false ) ;
15074: CALL_OW 44
15078: PPUSH
15079: LD_INT 0
15081: PPUSH
15082: CALL_OW 51
// Wait ( 3 ) ;
15086: LD_INT 3
15088: PPUSH
15089: CALL_OW 67
// end ;
15093: GO 15067
15095: POP
15096: POP
// end ;
15097: GO 14996
15099: POP
15100: POP
// wait ( rand ( 1 1$0 , 5 5$0 ) ) ;
15101: LD_INT 2100
15103: PPUSH
15104: LD_INT 10500
15106: PPUSH
15107: CALL_OW 12
15111: PPUSH
15112: CALL_OW 67
// end ;
15116: PPOPN 3
15118: END
// export function StartApe ; var i , ape ; begin
15119: LD_INT 0
15121: PPUSH
15122: PPUSH
15123: PPUSH
// for i := 1 to 8 do
15124: LD_ADDR_VAR 0 2
15128: PUSH
15129: DOUBLE
15130: LD_INT 1
15132: DEC
15133: ST_TO_ADDR
15134: LD_INT 8
15136: PUSH
15137: FOR_TO
15138: IFFALSE 15172
// if Side_Positions [ i ] <> 0 then
15140: LD_EXP 75
15144: PUSH
15145: LD_VAR 0 2
15149: ARRAY
15150: PUSH
15151: LD_INT 0
15153: NONEQUAL
15154: IFFALSE 15170
// amount_of_players := amount_of_players + 1 ;
15156: LD_ADDR_LOC 12
15160: PUSH
15161: LD_LOC 12
15165: PUSH
15166: LD_INT 1
15168: PLUS
15169: ST_TO_ADDR
15170: GO 15137
15172: POP
15173: POP
// if game_type in GT_doublenat ^ GT_doublepeople then
15174: LD_EXP 1
15178: PUSH
15179: LD_EXP 3
15183: PUSH
15184: LD_EXP 4
15188: ADD
15189: IN
15190: IFFALSE 15208
// amount_of_players = amount_of_players * 2 else
15192: LD_ADDR_LOC 12
15196: PUSH
15197: LD_LOC 12
15201: PUSH
15202: LD_INT 2
15204: MUL
15205: ST_TO_ADDR
15206: GO 15234
// if game_type = GT_TripleNat then
15208: LD_EXP 1
15212: PUSH
15213: LD_EXP 5
15217: EQUAL
15218: IFFALSE 15234
// amount_of_players = amount_of_players * 3 ;
15220: LD_ADDR_LOC 12
15224: PUSH
15225: LD_LOC 12
15229: PUSH
15230: LD_INT 3
15232: MUL
15233: ST_TO_ADDR
// for i = 1 to Rand ( 2 , 7 ) do
15234: LD_ADDR_VAR 0 2
15238: PUSH
15239: DOUBLE
15240: LD_INT 1
15242: DEC
15243: ST_TO_ADDR
15244: LD_INT 2
15246: PPUSH
15247: LD_INT 7
15249: PPUSH
15250: CALL_OW 12
15254: PUSH
15255: FOR_TO
15256: IFFALSE 15286
// begin apeman_init ;
15258: CALL 14316 0 0
// ape := CreateHuman ;
15262: LD_ADDR_VAR 0 3
15266: PUSH
15267: CALL_OW 44
15271: ST_TO_ADDR
// PlaceUnitAnywhere ( ape , false ) ;
15272: LD_VAR 0 3
15276: PPUSH
15277: LD_INT 0
15279: PPUSH
15280: CALL_OW 51
// end ;
15284: GO 15255
15286: POP
15287: POP
// end ;
15288: LD_VAR 0 1
15292: RET
// function tiger_init ; var tiger_names ; begin
15293: LD_INT 0
15295: PPUSH
15296: PPUSH
// uc_side := 0 ;
15297: LD_ADDR_OWVAR 20
15301: PUSH
15302: LD_INT 0
15304: ST_TO_ADDR
// uc_nation := nation_nature ;
15305: LD_ADDR_OWVAR 21
15309: PUSH
15310: LD_INT 0
15312: ST_TO_ADDR
// tiger_names = [ Fredy , Montana , Pishkot , Sikorski , Riko , Kowalrski , Neo , Kessi , Riko , Lulu , Edie , Edy , Roxy , Roxas , Beast , Drago , Draco , Ali , Lessie , White Fang , Chess , Nora , Shriek , Bl Tesk , Barkman , Meuznenapadazadnejmeno , Ihavenotthinkofanyname , Hiro , Scooby , Fantasy , Troll , Baltazar , Pamella , Kleopatra , Ceasar , Gimmy , Scooby Dooby Doo , Yogi , Brutal , Brutus , Janina , Crazy , Jen , Jenova , Kiosuke , Akamaru ] ;
15313: LD_ADDR_VAR 0 2
15317: PUSH
15318: LD_STRING Fredy
15320: PUSH
15321: LD_STRING Montana
15323: PUSH
15324: LD_STRING Pishkot
15326: PUSH
15327: LD_STRING Sikorski
15329: PUSH
15330: LD_STRING Riko
15332: PUSH
15333: LD_STRING Kowalrski
15335: PUSH
15336: LD_STRING Neo
15338: PUSH
15339: LD_STRING Kessi
15341: PUSH
15342: LD_STRING Riko
15344: PUSH
15345: LD_STRING Lulu
15347: PUSH
15348: LD_STRING Edie
15350: PUSH
15351: LD_STRING Edy
15353: PUSH
15354: LD_STRING Roxy
15356: PUSH
15357: LD_STRING Roxas
15359: PUSH
15360: LD_STRING Beast
15362: PUSH
15363: LD_STRING Drago
15365: PUSH
15366: LD_STRING Draco
15368: PUSH
15369: LD_STRING Ali
15371: PUSH
15372: LD_STRING Lessie
15374: PUSH
15375: LD_STRING White Fang
15377: PUSH
15378: LD_STRING Chess
15380: PUSH
15381: LD_STRING Nora
15383: PUSH
15384: LD_STRING Shriek
15386: PUSH
15387: LD_STRING Bl Tesk
15389: PUSH
15390: LD_STRING Barkman
15392: PUSH
15393: LD_STRING Meuznenapadazadnejmeno
15395: PUSH
15396: LD_STRING Ihavenotthinkofanyname
15398: PUSH
15399: LD_STRING Hiro
15401: PUSH
15402: LD_STRING Scooby
15404: PUSH
15405: LD_STRING Fantasy
15407: PUSH
15408: LD_STRING Troll
15410: PUSH
15411: LD_STRING Baltazar
15413: PUSH
15414: LD_STRING Pamella
15416: PUSH
15417: LD_STRING Kleopatra
15419: PUSH
15420: LD_STRING Ceasar
15422: PUSH
15423: LD_STRING Gimmy
15425: PUSH
15426: LD_STRING Scooby Dooby Doo
15428: PUSH
15429: LD_STRING Yogi
15431: PUSH
15432: LD_STRING Brutal
15434: PUSH
15435: LD_STRING Brutus
15437: PUSH
15438: LD_STRING Janina
15440: PUSH
15441: LD_STRING Crazy
15443: PUSH
15444: LD_STRING Jen
15446: PUSH
15447: LD_STRING Jenova
15449: PUSH
15450: LD_STRING Kiosuke
15452: PUSH
15453: LD_STRING Akamaru
15455: PUSH
15456: EMPTY
15457: LIST
15458: LIST
15459: LIST
15460: LIST
15461: LIST
15462: LIST
15463: LIST
15464: LIST
15465: LIST
15466: LIST
15467: LIST
15468: LIST
15469: LIST
15470: LIST
15471: LIST
15472: LIST
15473: LIST
15474: LIST
15475: LIST
15476: LIST
15477: LIST
15478: LIST
15479: LIST
15480: LIST
15481: LIST
15482: LIST
15483: LIST
15484: LIST
15485: LIST
15486: LIST
15487: LIST
15488: LIST
15489: LIST
15490: LIST
15491: LIST
15492: LIST
15493: LIST
15494: LIST
15495: LIST
15496: LIST
15497: LIST
15498: LIST
15499: LIST
15500: LIST
15501: LIST
15502: LIST
15503: ST_TO_ADDR
// hc_name = tiger_names [ Rand ( 1 , tiger_names ) ] ;
15504: LD_ADDR_OWVAR 26
15508: PUSH
15509: LD_VAR 0 2
15513: PUSH
15514: LD_INT 1
15516: PPUSH
15517: LD_VAR 0 2
15521: PPUSH
15522: CALL_OW 12
15526: ARRAY
15527: ST_TO_ADDR
// randomHumanStats ( initial_level - 2 ) ;
15528: LD_EXP 42
15532: PUSH
15533: LD_INT 2
15535: MINUS
15536: PPUSH
15537: CALL 17328 0 1
// hc_class := class_tiger ;
15541: LD_ADDR_OWVAR 28
15545: PUSH
15546: LD_INT 14
15548: ST_TO_ADDR
// hc_attr = [ hc_attr [ 1 ] + 2 , hc_attr [ 2 ] + 1 ] ;
15549: LD_ADDR_OWVAR 29
15553: PUSH
15554: LD_OWVAR 29
15558: PUSH
15559: LD_INT 1
15561: ARRAY
15562: PUSH
15563: LD_INT 2
15565: PLUS
15566: PUSH
15567: LD_OWVAR 29
15571: PUSH
15572: LD_INT 2
15574: ARRAY
15575: PUSH
15576: LD_INT 1
15578: PLUS
15579: PUSH
15580: EMPTY
15581: LIST
15582: LIST
15583: ST_TO_ADDR
// hc_sex := sex_male ;
15584: LD_ADDR_OWVAR 27
15588: PUSH
15589: LD_INT 1
15591: ST_TO_ADDR
// hc_importance := 0 ;
15592: LD_ADDR_OWVAR 32
15596: PUSH
15597: LD_INT 0
15599: ST_TO_ADDR
// hc_agressivity := Rand ( 10 , 50 ) ;
15600: LD_ADDR_OWVAR 35
15604: PUSH
15605: LD_INT 10
15607: PPUSH
15608: LD_INT 50
15610: PPUSH
15611: CALL_OW 12
15615: ST_TO_ADDR
// end ;
15616: LD_VAR 0 1
15620: RET
// every 0 0$15 + 0 0$1 marked 494 do var i , d , tig ;
15621: GO 15623
15623: DISABLE
15624: LD_INT 0
15626: PPUSH
15627: PPUSH
15628: PPUSH
// begin case tick of 1 .. 1 1$0 :
15629: LD_OWVAR 1
15633: PUSH
15634: LD_INT 1
15636: DOUBLE
15637: GREATEREQUAL
15638: IFFALSE 15646
15640: LD_INT 2100
15642: DOUBLE
15643: LESSEQUAL
15644: IFTRUE 15648
15646: GO 15659
15648: POP
// d := 15 ; 1 1$0 + 1 .. 2 2$0 :
15649: LD_ADDR_VAR 0 2
15653: PUSH
15654: LD_INT 15
15656: ST_TO_ADDR
15657: GO 15755
15659: LD_INT 2100
15661: PUSH
15662: LD_INT 1
15664: PLUS
15665: DOUBLE
15666: GREATEREQUAL
15667: IFFALSE 15675
15669: LD_INT 4200
15671: DOUBLE
15672: LESSEQUAL
15673: IFTRUE 15677
15675: GO 15688
15677: POP
// d := 14 ; 20 20$0 + 1 .. 50 50$0 :
15678: LD_ADDR_VAR 0 2
15682: PUSH
15683: LD_INT 14
15685: ST_TO_ADDR
15686: GO 15755
15688: LD_INT 42000
15690: PUSH
15691: LD_INT 1
15693: PLUS
15694: DOUBLE
15695: GREATEREQUAL
15696: IFFALSE 15704
15698: LD_INT 105000
15700: DOUBLE
15701: LESSEQUAL
15702: IFTRUE 15706
15704: GO 15717
15706: POP
// d := 12 ; 50 50$0 + 1 .. 300 300$0 :
15707: LD_ADDR_VAR 0 2
15711: PUSH
15712: LD_INT 12
15714: ST_TO_ADDR
15715: GO 15755
15717: LD_INT 105000
15719: PUSH
15720: LD_INT 1
15722: PLUS
15723: DOUBLE
15724: GREATEREQUAL
15725: IFFALSE 15733
15727: LD_INT 630000
15729: DOUBLE
15730: LESSEQUAL
15731: IFTRUE 15735
15733: GO 15746
15735: POP
// d := 11 ; else
15736: LD_ADDR_VAR 0 2
15740: PUSH
15741: LD_INT 11
15743: ST_TO_ADDR
15744: GO 15755
15746: POP
// d := 9 ; end ;
15747: LD_ADDR_VAR 0 2
15751: PUSH
15752: LD_INT 9
15754: ST_TO_ADDR
// i = FilterAllUnits ( [ [ f_side , 0 ] , [ f_class , class_tiger ] ] ) ;
15755: LD_ADDR_VAR 0 1
15759: PUSH
15760: LD_INT 22
15762: PUSH
15763: LD_INT 0
15765: PUSH
15766: EMPTY
15767: LIST
15768: LIST
15769: PUSH
15770: LD_INT 25
15772: PUSH
15773: LD_INT 14
15775: PUSH
15776: EMPTY
15777: LIST
15778: LIST
15779: PUSH
15780: EMPTY
15781: LIST
15782: LIST
15783: PPUSH
15784: CALL_OW 69
15788: ST_TO_ADDR
// if i < ( spawning_koef_of_tiger / 14 * d ) then
15789: LD_VAR 0 1
15793: PUSH
15794: LD_EXP 48
15798: PUSH
15799: LD_INT 14
15801: DIVREAL
15802: PUSH
15803: LD_VAR 0 2
15807: MUL
15808: LESS
15809: IFFALSE 15865
// for i = 1 to Rand ( 1 , 2 ) do
15811: LD_ADDR_VAR 0 1
15815: PUSH
15816: DOUBLE
15817: LD_INT 1
15819: DEC
15820: ST_TO_ADDR
15821: LD_INT 1
15823: PPUSH
15824: LD_INT 2
15826: PPUSH
15827: CALL_OW 12
15831: PUSH
15832: FOR_TO
15833: IFFALSE 15863
// begin tiger_init ;
15835: CALL 15293 0 0
// tig := CreateHuman ;
15839: LD_ADDR_VAR 0 3
15843: PUSH
15844: CALL_OW 44
15848: ST_TO_ADDR
// PlaceUnitAnywhere ( tig , false ) ;
15849: LD_VAR 0 3
15853: PPUSH
15854: LD_INT 0
15856: PPUSH
15857: CALL_OW 51
// end ;
15861: GO 15832
15863: POP
15864: POP
// enable ;
15865: ENABLE
// end ;
15866: PPOPN 3
15868: END
// export function StartTig ; var i , tig ; begin
15869: LD_INT 0
15871: PPUSH
15872: PPUSH
15873: PPUSH
// for i = 1 to Rand ( 1 , 3 ) do
15874: LD_ADDR_VAR 0 2
15878: PUSH
15879: DOUBLE
15880: LD_INT 1
15882: DEC
15883: ST_TO_ADDR
15884: LD_INT 1
15886: PPUSH
15887: LD_INT 3
15889: PPUSH
15890: CALL_OW 12
15894: PUSH
15895: FOR_TO
15896: IFFALSE 15926
// begin tiger_init ;
15898: CALL 15293 0 0
// tig := CreateHuman ;
15902: LD_ADDR_VAR 0 3
15906: PUSH
15907: CALL_OW 44
15911: ST_TO_ADDR
// PlaceUnitAnywhere ( tig , false ) ;
15912: LD_VAR 0 3
15916: PPUSH
15917: LD_INT 0
15919: PPUSH
15920: CALL_OW 51
// end ;
15924: GO 15895
15926: POP
15927: POP
// end ; end_of_file
15928: LD_VAR 0 1
15932: RET
// var BaseNames ; export function InitDisplayNames ; var i , n , u , a , r ; begin
15933: LD_INT 0
15935: PPUSH
15936: PPUSH
15937: PPUSH
15938: PPUSH
15939: PPUSH
15940: PPUSH
// for i in FilterAllUnits ( [ [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_not , [ f_side , 0 ] ] ] ) do
15941: LD_ADDR_VAR 0 2
15945: PUSH
15946: LD_INT 2
15948: PUSH
15949: LD_INT 30
15951: PUSH
15952: LD_INT 0
15954: PUSH
15955: EMPTY
15956: LIST
15957: LIST
15958: PUSH
15959: LD_INT 30
15961: PUSH
15962: LD_INT 1
15964: PUSH
15965: EMPTY
15966: LIST
15967: LIST
15968: PUSH
15969: EMPTY
15970: LIST
15971: LIST
15972: LIST
15973: PUSH
15974: LD_INT 3
15976: PUSH
15977: LD_INT 22
15979: PUSH
15980: LD_INT 0
15982: PUSH
15983: EMPTY
15984: LIST
15985: LIST
15986: PUSH
15987: EMPTY
15988: LIST
15989: LIST
15990: PUSH
15991: EMPTY
15992: LIST
15993: LIST
15994: PPUSH
15995: CALL_OW 69
15999: PUSH
16000: FOR_IN
16001: IFFALSE 16028
// SetBName ( i , @ & GetSide ( i ) ) ;
16003: LD_VAR 0 2
16007: PPUSH
16008: LD_STRING @
16010: PUSH
16011: LD_VAR 0 2
16015: PPUSH
16016: CALL_OW 255
16020: STR
16021: PPUSH
16022: CALL_OW 500
16026: GO 16000
16028: POP
16029: POP
// n = [ Kasyr , Cabal , Nitheim , Vanidas , Adjun , Alcon , Anthara , Denebola , Izard , Kaus , Mira , Procyon , Sirius , Tyr , Revoria , Eterna , Korigul , freedom ] ;
16030: LD_ADDR_VAR 0 3
16034: PUSH
16035: LD_STRING Kasyr
16037: PUSH
16038: LD_STRING Cabal
16040: PUSH
16041: LD_STRING Nitheim
16043: PUSH
16044: LD_STRING Vanidas
16046: PUSH
16047: LD_STRING Adjun
16049: PUSH
16050: LD_STRING Alcon
16052: PUSH
16053: LD_STRING Anthara
16055: PUSH
16056: LD_STRING Denebola
16058: PUSH
16059: LD_STRING Izard
16061: PUSH
16062: LD_STRING Kaus
16064: PUSH
16065: LD_STRING Mira
16067: PUSH
16068: LD_STRING Procyon
16070: PUSH
16071: LD_STRING Sirius
16073: PUSH
16074: LD_STRING Tyr
16076: PUSH
16077: LD_STRING Revoria
16079: PUSH
16080: LD_STRING Eterna
16082: PUSH
16083: LD_STRING Korigul
16085: PUSH
16086: LD_STRING freedom
16088: PUSH
16089: EMPTY
16090: LIST
16091: LIST
16092: LIST
16093: LIST
16094: LIST
16095: LIST
16096: LIST
16097: LIST
16098: LIST
16099: LIST
16100: LIST
16101: LIST
16102: LIST
16103: LIST
16104: LIST
16105: LIST
16106: LIST
16107: LIST
16108: ST_TO_ADDR
// u = [ alpha , gamma , delta , epsilon , Kappa , omikron , terminal , viper ] ^ n ;
16109: LD_ADDR_VAR 0 4
16113: PUSH
16114: LD_STRING alpha
16116: PUSH
16117: LD_STRING gamma
16119: PUSH
16120: LD_STRING delta
16122: PUSH
16123: LD_STRING epsilon
16125: PUSH
16126: LD_STRING Kappa
16128: PUSH
16129: LD_STRING omikron
16131: PUSH
16132: LD_STRING terminal
16134: PUSH
16135: LD_STRING viper
16137: PUSH
16138: EMPTY
16139: LIST
16140: LIST
16141: LIST
16142: LIST
16143: LIST
16144: LIST
16145: LIST
16146: LIST
16147: PUSH
16148: LD_VAR 0 3
16152: ADD
16153: ST_TO_ADDR
// r = [ beria , kirov , kagan , ovsyenko , gorkij , trockij , bluekher , yegorob , ryutin , budonny , yakir ] ^ n ;
16154: LD_ADDR_VAR 0 6
16158: PUSH
16159: LD_STRING beria
16161: PUSH
16162: LD_STRING kirov
16164: PUSH
16165: LD_STRING kagan
16167: PUSH
16168: LD_STRING ovsyenko
16170: PUSH
16171: LD_STRING gorkij
16173: PUSH
16174: LD_STRING trockij
16176: PUSH
16177: LD_STRING bluekher
16179: PUSH
16180: LD_STRING yegorob
16182: PUSH
16183: LD_STRING ryutin
16185: PUSH
16186: LD_STRING budonny
16188: PUSH
16189: LD_STRING yakir
16191: PUSH
16192: EMPTY
16193: LIST
16194: LIST
16195: LIST
16196: LIST
16197: LIST
16198: LIST
16199: LIST
16200: LIST
16201: LIST
16202: LIST
16203: LIST
16204: PUSH
16205: LD_VAR 0 3
16209: ADD
16210: ST_TO_ADDR
// a = [ newkabul , newsamark , riyadh , jeddah , dammam ] ^ n ;
16211: LD_ADDR_VAR 0 5
16215: PUSH
16216: LD_STRING newkabul
16218: PUSH
16219: LD_STRING newsamark
16221: PUSH
16222: LD_STRING riyadh
16224: PUSH
16225: LD_STRING jeddah
16227: PUSH
16228: LD_STRING dammam
16230: PUSH
16231: EMPTY
16232: LIST
16233: LIST
16234: LIST
16235: LIST
16236: LIST
16237: PUSH
16238: LD_VAR 0 3
16242: ADD
16243: ST_TO_ADDR
// BaseNames = [ u , a , r ] ;
16244: LD_ADDR_LOC 13
16248: PUSH
16249: LD_VAR 0 4
16253: PUSH
16254: LD_VAR 0 5
16258: PUSH
16259: LD_VAR 0 6
16263: PUSH
16264: EMPTY
16265: LIST
16266: LIST
16267: LIST
16268: ST_TO_ADDR
// end ;
16269: LD_VAR 0 1
16273: RET
// export function NameBuildingComplete ( b ) ; begin
16274: LD_INT 0
16276: PPUSH
// end ;
16277: LD_VAR 0 2
16281: RET
// export function NameBuildingStarted ( b , h ) ; var n , i ; begin
16282: LD_INT 0
16284: PPUSH
16285: PPUSH
16286: PPUSH
// n = getNation ( b ) ;
16287: LD_ADDR_VAR 0 4
16291: PUSH
16292: LD_VAR 0 1
16296: PPUSH
16297: CALL_OW 248
16301: ST_TO_ADDR
// i = rand ( 1 , BaseNames [ n ] + 0 ) ;
16302: LD_ADDR_VAR 0 5
16306: PUSH
16307: LD_INT 1
16309: PPUSH
16310: LD_LOC 13
16314: PUSH
16315: LD_VAR 0 4
16319: ARRAY
16320: PUSH
16321: LD_INT 0
16323: PLUS
16324: PPUSH
16325: CALL_OW 12
16329: ST_TO_ADDR
// setBName ( b , BaseNames [ n ] [ i ] ) ;
16330: LD_VAR 0 1
16334: PPUSH
16335: LD_LOC 13
16339: PUSH
16340: LD_VAR 0 4
16344: ARRAY
16345: PUSH
16346: LD_VAR 0 5
16350: ARRAY
16351: PPUSH
16352: CALL_OW 500
// end ;
16356: LD_VAR 0 3
16360: RET
// export function NameBuildingCaptured ( b , o , e ) ; begin
16361: LD_INT 0
16363: PPUSH
// end ; end_of_file
16364: LD_VAR 0 4
16368: RET
// var strength , lastxwin , lastywin , lastxlost , lastylost ; function Update_Flags ; var un ; begin
16369: LD_INT 0
16371: PPUSH
16372: PPUSH
// for un in battle_flags_id do
16373: LD_ADDR_VAR 0 2
16377: PUSH
16378: LD_EXP 89
16382: PUSH
16383: FOR_IN
16384: IFFALSE 16459
// ChangeBattleFlagOptions ( un , [ [ bfo_defend_bonus_human , strength ] , [ bfo_defend_bonus_vehicle , strength div 2 ] , [ bfo_defend_bonus_building , strength div 5 ] , [ bfo_height , strength ] ] ) ;
16386: LD_VAR 0 2
16390: PPUSH
16391: LD_INT 1
16393: PUSH
16394: LD_LOC 14
16398: PUSH
16399: EMPTY
16400: LIST
16401: LIST
16402: PUSH
16403: LD_INT 2
16405: PUSH
16406: LD_LOC 14
16410: PUSH
16411: LD_INT 2
16413: DIV
16414: PUSH
16415: EMPTY
16416: LIST
16417: LIST
16418: PUSH
16419: LD_INT 3
16421: PUSH
16422: LD_LOC 14
16426: PUSH
16427: LD_INT 5
16429: DIV
16430: PUSH
16431: EMPTY
16432: LIST
16433: LIST
16434: PUSH
16435: LD_INT 20
16437: PUSH
16438: LD_LOC 14
16442: PUSH
16443: EMPTY
16444: LIST
16445: LIST
16446: PUSH
16447: EMPTY
16448: LIST
16449: LIST
16450: LIST
16451: LIST
16452: PPUSH
16453: CALL_OW 423
16457: GO 16383
16459: POP
16460: POP
// end ;
16461: LD_VAR 0 1
16465: RET
// every 0 0$0.1 do var un ;
16466: GO 16468
16468: DISABLE
16469: LD_INT 0
16471: PPUSH
// begin if not def_morale_flags then
16472: LD_EXP 20
16476: NOT
16477: IFFALSE 16481
// exit ;
16479: GO 16558
// if not morale_decreasing_time then
16481: LD_EXP 46
16485: NOT
16486: IFFALSE 16490
// exit ;
16488: GO 16558
// strength = 100 ;
16490: LD_ADDR_LOC 14
16494: PUSH
16495: LD_INT 100
16497: ST_TO_ADDR
// repeat wait ( morale_decreasing_time ) ;
16498: LD_EXP 46
16502: PPUSH
16503: CALL_OW 67
// strength := strength - 1 ;
16507: LD_ADDR_LOC 14
16511: PUSH
16512: LD_LOC 14
16516: PUSH
16517: LD_INT 1
16519: MINUS
16520: ST_TO_ADDR
// Update_Flags ;
16521: CALL 16369 0 0
// until not strength ;
16525: LD_LOC 14
16529: NOT
16530: IFFALSE 16498
// for un in battle_flags_id do
16532: LD_ADDR_VAR 0 1
16536: PUSH
16537: LD_EXP 89
16541: PUSH
16542: FOR_IN
16543: IFFALSE 16556
// KillBattleFlag ( un ) ;
16545: LD_VAR 0 1
16549: PPUSH
16550: CALL_OW 419
16554: GO 16542
16556: POP
16557: POP
// end ; end_of_file
16558: PPOPN 1
16560: END
// export MultiplayerTimeEnabled , WaitServerStrings , Display_kings , extraStrings , limitsStrings , CurrentTime , DebugStrings , Display_WFG ; export function GetMultiplayerTime ; begin
16561: LD_INT 0
16563: PPUSH
// Result = [ #gamespeed , game_speed - 4 ] ^ [ #Multi1x1-Time , tick ] ;
16564: LD_ADDR_VAR 0 1
16568: PUSH
16569: LD_STRING #gamespeed
16571: PUSH
16572: LD_OWVAR 65
16576: PUSH
16577: LD_INT 4
16579: MINUS
16580: PUSH
16581: EMPTY
16582: LIST
16583: LIST
16584: PUSH
16585: LD_STRING #Multi1x1-Time
16587: PUSH
16588: LD_OWVAR 1
16592: PUSH
16593: EMPTY
16594: LIST
16595: LIST
16596: ADD
16597: ST_TO_ADDR
// end ;
16598: LD_VAR 0 1
16602: RET
// export function InitMultiplayerTime ; begin
16603: LD_INT 0
16605: PPUSH
// MultiplayerTimeEnabled := true ;
16606: LD_ADDR_EXP 106
16610: PUSH
16611: LD_INT 1
16613: ST_TO_ADDR
// display_strings = GetMultiplayerTime ;
16614: LD_ADDR_OWVAR 47
16618: PUSH
16619: CALL 16561 0 0
16623: ST_TO_ADDR
// end ;
16624: LD_VAR 0 1
16628: RET
// export function ShowTimer ; var AllStrings ; begin
16629: LD_INT 0
16631: PPUSH
16632: PPUSH
// AllStrings = GetMultiplayerTime ;
16633: LD_ADDR_VAR 0 2
16637: PUSH
16638: CALL 16561 0 0
16642: ST_TO_ADDR
// if debug_strings then
16643: LD_OWVAR 48
16647: IFFALSE 16665
// AllStrings = AllStrings ^ debug_strings ;
16649: LD_ADDR_VAR 0 2
16653: PUSH
16654: LD_VAR 0 2
16658: PUSH
16659: LD_OWVAR 48
16663: ADD
16664: ST_TO_ADDR
// if 0 <= siberite_bomb_Delay - tick then
16665: LD_INT 0
16667: PUSH
16668: LD_EXP 67
16672: PUSH
16673: LD_OWVAR 1
16677: MINUS
16678: LESSEQUAL
16679: IFFALSE 16710
// AllStrings := AllStrings ^ [ #allowedsibbomb , siberite_bomb_Delay - tick ] ;
16681: LD_ADDR_VAR 0 2
16685: PUSH
16686: LD_VAR 0 2
16690: PUSH
16691: LD_STRING #allowedsibbomb
16693: PUSH
16694: LD_EXP 67
16698: PUSH
16699: LD_OWVAR 1
16703: MINUS
16704: PUSH
16705: EMPTY
16706: LIST
16707: LIST
16708: ADD
16709: ST_TO_ADDR
// if 0 <= buildUpTime_Delay - tick then
16710: LD_INT 0
16712: PUSH
16713: LD_EXP 66
16717: PUSH
16718: LD_OWVAR 1
16722: MINUS
16723: LESSEQUAL
16724: IFFALSE 16755
// AllStrings := AllStrings ^ [ #builduptime , buildUpTime_Delay - tick ] ;
16726: LD_ADDR_VAR 0 2
16730: PUSH
16731: LD_VAR 0 2
16735: PUSH
16736: LD_STRING #builduptime
16738: PUSH
16739: LD_EXP 66
16743: PUSH
16744: LD_OWVAR 1
16748: MINUS
16749: PUSH
16750: EMPTY
16751: LIST
16752: LIST
16753: ADD
16754: ST_TO_ADDR
// AllStrings := AllStrings ^ [ #TechLevel , Tech_Level ] ;
16755: LD_ADDR_VAR 0 2
16759: PUSH
16760: LD_VAR 0 2
16764: PUSH
16765: LD_STRING #TechLevel
16767: PUSH
16768: LD_EXP 56
16772: PUSH
16773: EMPTY
16774: LIST
16775: LIST
16776: ADD
16777: ST_TO_ADDR
// if ( CurrentTime ) then
16778: LD_EXP 111
16782: IFFALSE 16811
// AllStrings = AllStrings ^ [ #Daily-Time , CurrentTime ] ^  ;
16784: LD_ADDR_VAR 0 2
16788: PUSH
16789: LD_VAR 0 2
16793: PUSH
16794: LD_STRING #Daily-Time
16796: PUSH
16797: LD_EXP 111
16801: PUSH
16802: EMPTY
16803: LIST
16804: LIST
16805: ADD
16806: PUSH
16807: LD_STRING 
16809: ADD
16810: ST_TO_ADDR
// if ( WaitServerStrings ) then
16811: LD_EXP 107
16815: IFFALSE 16833
// AllStrings := AllStrings ^ WaitServerStrings ;
16817: LD_ADDR_VAR 0 2
16821: PUSH
16822: LD_VAR 0 2
16826: PUSH
16827: LD_EXP 107
16831: ADD
16832: ST_TO_ADDR
// if not isSGUI and ( Display_kings or Display_WFG ) then
16833: LD_OWVAR 83
16837: NOT
16838: PUSH
16839: LD_EXP 108
16843: PUSH
16844: LD_EXP 113
16848: OR
16849: AND
16850: IFFALSE 16950
// begin if def_public_score and Team_game then
16852: LD_EXP 34
16856: PUSH
16857: LD_EXP 80
16861: AND
16862: IFFALSE 16906
// AllStrings := AllStrings ^ [ #yourTeam , [ 3 , 1 , 2 , 7 ] [ player_team ] ] ;
16864: LD_ADDR_VAR 0 2
16868: PUSH
16869: LD_VAR 0 2
16873: PUSH
16874: LD_STRING #yourTeam
16876: PUSH
16877: LD_INT 3
16879: PUSH
16880: LD_INT 1
16882: PUSH
16883: LD_INT 2
16885: PUSH
16886: LD_INT 7
16888: PUSH
16889: EMPTY
16890: LIST
16891: LIST
16892: LIST
16893: LIST
16894: PUSH
16895: LD_EXP 71
16899: ARRAY
16900: PUSH
16901: EMPTY
16902: LIST
16903: LIST
16904: ADD
16905: ST_TO_ADDR
// if ( Display_kings ) then
16906: LD_EXP 108
16910: IFFALSE 16928
// AllStrings := AllStrings ^ Display_kings ;
16912: LD_ADDR_VAR 0 2
16916: PUSH
16917: LD_VAR 0 2
16921: PUSH
16922: LD_EXP 108
16926: ADD
16927: ST_TO_ADDR
// if ( Display_WFG ) then
16928: LD_EXP 113
16932: IFFALSE 16950
// AllStrings := AllStrings ^ Display_WFG ;
16934: LD_ADDR_VAR 0 2
16938: PUSH
16939: LD_VAR 0 2
16943: PUSH
16944: LD_EXP 113
16948: ADD
16949: ST_TO_ADDR
// end ; if ( ExtraStrings ) then
16950: LD_EXP 109
16954: IFFALSE 16976
// AllStrings := AllStrings ^  ^ ExtraStrings ;
16956: LD_ADDR_VAR 0 2
16960: PUSH
16961: LD_VAR 0 2
16965: PUSH
16966: LD_STRING 
16968: ADD
16969: PUSH
16970: LD_EXP 109
16974: ADD
16975: ST_TO_ADDR
// if ( LimitsStrings ) then
16976: LD_EXP 110
16980: IFFALSE 17002
// AllStrings := AllStrings ^  ^ LimitsStrings ;
16982: LD_ADDR_VAR 0 2
16986: PUSH
16987: LD_VAR 0 2
16991: PUSH
16992: LD_STRING 
16994: ADD
16995: PUSH
16996: LD_EXP 110
17000: ADD
17001: ST_TO_ADDR
// if ( DebugStrings ) then
17002: LD_EXP 112
17006: IFFALSE 17028
// AllStrings := AllStrings ^  ^ DebugStrings ;
17008: LD_ADDR_VAR 0 2
17012: PUSH
17013: LD_VAR 0 2
17017: PUSH
17018: LD_STRING 
17020: ADD
17021: PUSH
17022: LD_EXP 112
17026: ADD
17027: ST_TO_ADDR
// Display_Strings := AllStrings ;
17028: LD_ADDR_OWVAR 47
17032: PUSH
17033: LD_VAR 0 2
17037: ST_TO_ADDR
// end ;
17038: LD_VAR 0 1
17042: RET
// every 0 0$1 trigger MultiplayerTimeEnabled do
17043: LD_EXP 106
17047: IFFALSE 17057
17049: GO 17051
17051: DISABLE
// begin ShowTimer ;
17052: CALL 16629 0 0
// enable ;
17056: ENABLE
// end ; end_of_file
17057: END
// export MaxFlags ; export function ShowResources ( FullMapArea , EnableSiberitResurces , Range ) ; var k , k2 , i , d , r , u ; begin
17058: LD_INT 0
17060: PPUSH
17061: PPUSH
17062: PPUSH
17063: PPUSH
17064: PPUSH
17065: PPUSH
17066: PPUSH
// if range = 0 then
17067: LD_VAR 0 3
17071: PUSH
17072: LD_INT 0
17074: EQUAL
17075: IFFALSE 17085
// range = 400 ;
17077: LD_ADDR_VAR 0 3
17081: PUSH
17082: LD_INT 400
17084: ST_TO_ADDR
// r = range ;
17085: LD_ADDR_VAR 0 9
17089: PUSH
17090: LD_VAR 0 3
17094: ST_TO_ADDR
// d = GetListOfResourcesInArea ( FullMapArea ) ;
17095: LD_ADDR_VAR 0 8
17099: PUSH
17100: LD_VAR 0 1
17104: PPUSH
17105: CALL_OW 442
17109: ST_TO_ADDR
// for k = 1 to ( d / 3 ) do
17110: LD_ADDR_VAR 0 5
17114: PUSH
17115: DOUBLE
17116: LD_INT 1
17118: DEC
17119: ST_TO_ADDR
17120: LD_VAR 0 8
17124: PUSH
17125: LD_INT 3
17127: DIVREAL
17128: PUSH
17129: FOR_TO
17130: IFFALSE 17321
// begin k2 = k * 3 ;
17132: LD_ADDR_VAR 0 6
17136: PUSH
17137: LD_VAR 0 5
17141: PUSH
17142: LD_INT 3
17144: MUL
17145: ST_TO_ADDR
// for i = 1 to 8 do
17146: LD_ADDR_VAR 0 7
17150: PUSH
17151: DOUBLE
17152: LD_INT 1
17154: DEC
17155: ST_TO_ADDR
17156: LD_INT 8
17158: PUSH
17159: FOR_TO
17160: IFFALSE 17317
// begin if d [ k2 ] = 1 or ( d [ k2 ] = 2 and EnableSiberitResurces ) then
17162: LD_VAR 0 8
17166: PUSH
17167: LD_VAR 0 6
17171: ARRAY
17172: PUSH
17173: LD_INT 1
17175: EQUAL
17176: PUSH
17177: LD_VAR 0 8
17181: PUSH
17182: LD_VAR 0 6
17186: ARRAY
17187: PUSH
17188: LD_INT 2
17190: EQUAL
17191: PUSH
17192: LD_VAR 0 2
17196: AND
17197: OR
17198: IFFALSE 17315
// begin u = filterAllUnits ( [ [ f_side , i ] , [ f_distxy , d [ k2 - 2 ] , d [ k2 - 1 ] , r ] ] ) ;
17200: LD_ADDR_VAR 0 10
17204: PUSH
17205: LD_INT 22
17207: PUSH
17208: LD_VAR 0 7
17212: PUSH
17213: EMPTY
17214: LIST
17215: LIST
17216: PUSH
17217: LD_INT 92
17219: PUSH
17220: LD_VAR 0 8
17224: PUSH
17225: LD_VAR 0 6
17229: PUSH
17230: LD_INT 2
17232: MINUS
17233: ARRAY
17234: PUSH
17235: LD_VAR 0 8
17239: PUSH
17240: LD_VAR 0 6
17244: PUSH
17245: LD_INT 1
17247: MINUS
17248: ARRAY
17249: PUSH
17250: LD_VAR 0 9
17254: PUSH
17255: EMPTY
17256: LIST
17257: LIST
17258: LIST
17259: LIST
17260: PUSH
17261: EMPTY
17262: LIST
17263: LIST
17264: PPUSH
17265: CALL_OW 69
17269: ST_TO_ADDR
// if u then
17270: LD_VAR 0 10
17274: IFFALSE 17315
// SetResourceVisibility ( d [ k2 - 2 ] , d [ k2 - 1 ] , i ) ;
17276: LD_VAR 0 8
17280: PUSH
17281: LD_VAR 0 6
17285: PUSH
17286: LD_INT 2
17288: MINUS
17289: ARRAY
17290: PPUSH
17291: LD_VAR 0 8
17295: PUSH
17296: LD_VAR 0 6
17300: PUSH
17301: LD_INT 1
17303: MINUS
17304: ARRAY
17305: PPUSH
17306: LD_VAR 0 7
17310: PPUSH
17311: CALL_OW 441
// end ; end ;
17315: GO 17159
17317: POP
17318: POP
// end ;
17319: GO 17129
17321: POP
17322: POP
// end ;
17323: LD_VAR 0 4
17327: RET
// export function randomHumanStats ( init_level ) ; var cl , combat , eng , mech , sci , skills , base_skills , attr ; var i , k , base , n , def , speed ; begin
17328: LD_INT 0
17330: PPUSH
17331: PPUSH
17332: PPUSH
17333: PPUSH
17334: PPUSH
17335: PPUSH
17336: PPUSH
17337: PPUSH
17338: PPUSH
17339: PPUSH
17340: PPUSH
17341: PPUSH
17342: PPUSH
17343: PPUSH
17344: PPUSH
// cl = rand ( 1 , 4 ) ;
17345: LD_ADDR_VAR 0 3
17349: PUSH
17350: LD_INT 1
17352: PPUSH
17353: LD_INT 4
17355: PPUSH
17356: CALL_OW 12
17360: ST_TO_ADDR
// base = init_level ;
17361: LD_ADDR_VAR 0 13
17365: PUSH
17366: LD_VAR 0 1
17370: ST_TO_ADDR
// case tick of 0 .. 5 5$00 :
17371: LD_OWVAR 1
17375: PUSH
17376: LD_INT 0
17378: DOUBLE
17379: GREATEREQUAL
17380: IFFALSE 17388
17382: LD_INT 10500
17384: DOUBLE
17385: LESSEQUAL
17386: IFTRUE 17390
17388: GO 17401
17390: POP
// i = 1 ; 5 5$01 .. 9 9$00 :
17391: LD_ADDR_VAR 0 11
17395: PUSH
17396: LD_INT 1
17398: ST_TO_ADDR
17399: GO 17660
17401: LD_INT 10535
17403: DOUBLE
17404: GREATEREQUAL
17405: IFFALSE 17413
17407: LD_INT 18900
17409: DOUBLE
17410: LESSEQUAL
17411: IFTRUE 17415
17413: GO 17426
17415: POP
// i = 2 ; 9 9$01 .. 15 15$00 :
17416: LD_ADDR_VAR 0 11
17420: PUSH
17421: LD_INT 2
17423: ST_TO_ADDR
17424: GO 17660
17426: LD_INT 18935
17428: DOUBLE
17429: GREATEREQUAL
17430: IFFALSE 17438
17432: LD_INT 31500
17434: DOUBLE
17435: LESSEQUAL
17436: IFTRUE 17440
17438: GO 17451
17440: POP
// i = 3 ; 15 15$01 .. 22 22$00 :
17441: LD_ADDR_VAR 0 11
17445: PUSH
17446: LD_INT 3
17448: ST_TO_ADDR
17449: GO 17660
17451: LD_INT 31535
17453: DOUBLE
17454: GREATEREQUAL
17455: IFFALSE 17463
17457: LD_INT 46200
17459: DOUBLE
17460: LESSEQUAL
17461: IFTRUE 17465
17463: GO 17476
17465: POP
// i = 4 ; 22 22$01 .. 30 30$00 :
17466: LD_ADDR_VAR 0 11
17470: PUSH
17471: LD_INT 4
17473: ST_TO_ADDR
17474: GO 17660
17476: LD_INT 46235
17478: DOUBLE
17479: GREATEREQUAL
17480: IFFALSE 17488
17482: LD_INT 63000
17484: DOUBLE
17485: LESSEQUAL
17486: IFTRUE 17490
17488: GO 17501
17490: POP
// i = 5 ; 30 30$01 .. 40 40$00 :
17491: LD_ADDR_VAR 0 11
17495: PUSH
17496: LD_INT 5
17498: ST_TO_ADDR
17499: GO 17660
17501: LD_INT 63035
17503: DOUBLE
17504: GREATEREQUAL
17505: IFFALSE 17513
17507: LD_INT 84000
17509: DOUBLE
17510: LESSEQUAL
17511: IFTRUE 17515
17513: GO 17526
17515: POP
// i = 6 ; 40 40$01 .. 52 52$00 :
17516: LD_ADDR_VAR 0 11
17520: PUSH
17521: LD_INT 6
17523: ST_TO_ADDR
17524: GO 17660
17526: LD_INT 84035
17528: DOUBLE
17529: GREATEREQUAL
17530: IFFALSE 17538
17532: LD_INT 109200
17534: DOUBLE
17535: LESSEQUAL
17536: IFTRUE 17540
17538: GO 17551
17540: POP
// i = 7 ; 52 52$01 .. 66 66$00 :
17541: LD_ADDR_VAR 0 11
17545: PUSH
17546: LD_INT 7
17548: ST_TO_ADDR
17549: GO 17660
17551: LD_INT 109235
17553: DOUBLE
17554: GREATEREQUAL
17555: IFFALSE 17563
17557: LD_INT 138600
17559: DOUBLE
17560: LESSEQUAL
17561: IFTRUE 17565
17563: GO 17576
17565: POP
// i = 8 ; 66 66$01 .. 88 88$00 :
17566: LD_ADDR_VAR 0 11
17570: PUSH
17571: LD_INT 8
17573: ST_TO_ADDR
17574: GO 17660
17576: LD_INT 138635
17578: DOUBLE
17579: GREATEREQUAL
17580: IFFALSE 17588
17582: LD_INT 184800
17584: DOUBLE
17585: LESSEQUAL
17586: IFTRUE 17590
17588: GO 17601
17590: POP
// i = 9 ; 88 88$01 .. 100 100$00 :
17591: LD_ADDR_VAR 0 11
17595: PUSH
17596: LD_INT 9
17598: ST_TO_ADDR
17599: GO 17660
17601: LD_INT 184835
17603: DOUBLE
17604: GREATEREQUAL
17605: IFFALSE 17613
17607: LD_INT 210000
17609: DOUBLE
17610: LESSEQUAL
17611: IFTRUE 17615
17613: GO 17626
17615: POP
// i = 10 ; 100 100$01 .. 120 120$00 :
17616: LD_ADDR_VAR 0 11
17620: PUSH
17621: LD_INT 10
17623: ST_TO_ADDR
17624: GO 17660
17626: LD_INT 210035
17628: DOUBLE
17629: GREATEREQUAL
17630: IFFALSE 17638
17632: LD_INT 252000
17634: DOUBLE
17635: LESSEQUAL
17636: IFTRUE 17640
17638: GO 17651
17640: POP
// i = 11 ; else
17641: LD_ADDR_VAR 0 11
17645: PUSH
17646: LD_INT 11
17648: ST_TO_ADDR
17649: GO 17660
17651: POP
// i = 12 ; end ;
17652: LD_ADDR_VAR 0 11
17656: PUSH
17657: LD_INT 12
17659: ST_TO_ADDR
// i = i - base div 2 ;
17660: LD_ADDR_VAR 0 11
17664: PUSH
17665: LD_VAR 0 11
17669: PUSH
17670: LD_VAR 0 13
17674: PUSH
17675: LD_INT 2
17677: DIV
17678: MINUS
17679: ST_TO_ADDR
// if i < 0 then
17680: LD_VAR 0 11
17684: PUSH
17685: LD_INT 0
17687: LESS
17688: IFFALSE 17698
// i = 0 ;
17690: LD_ADDR_VAR 0 11
17694: PUSH
17695: LD_INT 0
17697: ST_TO_ADDR
// if cl = 1 then
17698: LD_VAR 0 3
17702: PUSH
17703: LD_INT 1
17705: EQUAL
17706: IFFALSE 17746
// combat = rand ( base + i - 1 , base + i ) else
17708: LD_ADDR_VAR 0 4
17712: PUSH
17713: LD_VAR 0 13
17717: PUSH
17718: LD_VAR 0 11
17722: PLUS
17723: PUSH
17724: LD_INT 1
17726: MINUS
17727: PPUSH
17728: LD_VAR 0 13
17732: PUSH
17733: LD_VAR 0 11
17737: PLUS
17738: PPUSH
17739: CALL_OW 12
17743: ST_TO_ADDR
17744: GO 17786
// combat = rand ( base + i - 4 , base + i - 1 ) ;
17746: LD_ADDR_VAR 0 4
17750: PUSH
17751: LD_VAR 0 13
17755: PUSH
17756: LD_VAR 0 11
17760: PLUS
17761: PUSH
17762: LD_INT 4
17764: MINUS
17765: PPUSH
17766: LD_VAR 0 13
17770: PUSH
17771: LD_VAR 0 11
17775: PLUS
17776: PUSH
17777: LD_INT 1
17779: MINUS
17780: PPUSH
17781: CALL_OW 12
17785: ST_TO_ADDR
// if cl = 2 then
17786: LD_VAR 0 3
17790: PUSH
17791: LD_INT 2
17793: EQUAL
17794: IFFALSE 17834
// eng = rand ( base + i - 1 , base + i ) else
17796: LD_ADDR_VAR 0 5
17800: PUSH
17801: LD_VAR 0 13
17805: PUSH
17806: LD_VAR 0 11
17810: PLUS
17811: PUSH
17812: LD_INT 1
17814: MINUS
17815: PPUSH
17816: LD_VAR 0 13
17820: PUSH
17821: LD_VAR 0 11
17825: PLUS
17826: PPUSH
17827: CALL_OW 12
17831: ST_TO_ADDR
17832: GO 17874
// eng = rand ( base + i - 4 , base + i - 1 ) ;
17834: LD_ADDR_VAR 0 5
17838: PUSH
17839: LD_VAR 0 13
17843: PUSH
17844: LD_VAR 0 11
17848: PLUS
17849: PUSH
17850: LD_INT 4
17852: MINUS
17853: PPUSH
17854: LD_VAR 0 13
17858: PUSH
17859: LD_VAR 0 11
17863: PLUS
17864: PUSH
17865: LD_INT 1
17867: MINUS
17868: PPUSH
17869: CALL_OW 12
17873: ST_TO_ADDR
// if cl = 3 then
17874: LD_VAR 0 3
17878: PUSH
17879: LD_INT 3
17881: EQUAL
17882: IFFALSE 17922
// mech = rand ( base + i - 1 , base + i ) else
17884: LD_ADDR_VAR 0 6
17888: PUSH
17889: LD_VAR 0 13
17893: PUSH
17894: LD_VAR 0 11
17898: PLUS
17899: PUSH
17900: LD_INT 1
17902: MINUS
17903: PPUSH
17904: LD_VAR 0 13
17908: PUSH
17909: LD_VAR 0 11
17913: PLUS
17914: PPUSH
17915: CALL_OW 12
17919: ST_TO_ADDR
17920: GO 17962
// mech = rand ( base + i - 4 , base + i - 1 ) ;
17922: LD_ADDR_VAR 0 6
17926: PUSH
17927: LD_VAR 0 13
17931: PUSH
17932: LD_VAR 0 11
17936: PLUS
17937: PUSH
17938: LD_INT 4
17940: MINUS
17941: PPUSH
17942: LD_VAR 0 13
17946: PUSH
17947: LD_VAR 0 11
17951: PLUS
17952: PUSH
17953: LD_INT 1
17955: MINUS
17956: PPUSH
17957: CALL_OW 12
17961: ST_TO_ADDR
// if cl = 4 then
17962: LD_VAR 0 3
17966: PUSH
17967: LD_INT 4
17969: EQUAL
17970: IFFALSE 18010
// sci = rand ( base + i - 1 , base + i ) else
17972: LD_ADDR_VAR 0 7
17976: PUSH
17977: LD_VAR 0 13
17981: PUSH
17982: LD_VAR 0 11
17986: PLUS
17987: PUSH
17988: LD_INT 1
17990: MINUS
17991: PPUSH
17992: LD_VAR 0 13
17996: PUSH
17997: LD_VAR 0 11
18001: PLUS
18002: PPUSH
18003: CALL_OW 12
18007: ST_TO_ADDR
18008: GO 18050
// sci = rand ( base + i - 4 , base + i - 1 ) ;
18010: LD_ADDR_VAR 0 7
18014: PUSH
18015: LD_VAR 0 13
18019: PUSH
18020: LD_VAR 0 11
18024: PLUS
18025: PUSH
18026: LD_INT 4
18028: MINUS
18029: PPUSH
18030: LD_VAR 0 13
18034: PUSH
18035: LD_VAR 0 11
18039: PLUS
18040: PUSH
18041: LD_INT 1
18043: MINUS
18044: PPUSH
18045: CALL_OW 12
18049: ST_TO_ADDR
// skills = [ combat , eng , mech , sci ] ;
18050: LD_ADDR_VAR 0 8
18054: PUSH
18055: LD_VAR 0 4
18059: PUSH
18060: LD_VAR 0 5
18064: PUSH
18065: LD_VAR 0 6
18069: PUSH
18070: LD_VAR 0 7
18074: PUSH
18075: EMPTY
18076: LIST
18077: LIST
18078: LIST
18079: LIST
18080: ST_TO_ADDR
// for i = 1 to 4 do
18081: LD_ADDR_VAR 0 11
18085: PUSH
18086: DOUBLE
18087: LD_INT 1
18089: DEC
18090: ST_TO_ADDR
18091: LD_INT 4
18093: PUSH
18094: FOR_TO
18095: IFFALSE 18250
// begin if skills [ i ] < 0 then
18097: LD_VAR 0 8
18101: PUSH
18102: LD_VAR 0 11
18106: ARRAY
18107: PUSH
18108: LD_INT 0
18110: LESS
18111: IFFALSE 18136
// skills = replace ( skills , i , 0 ) ;
18113: LD_ADDR_VAR 0 8
18117: PUSH
18118: LD_VAR 0 8
18122: PPUSH
18123: LD_VAR 0 11
18127: PPUSH
18128: LD_INT 0
18130: PPUSH
18131: CALL_OW 1
18135: ST_TO_ADDR
// n = [ 0 , 1 , 0 , 1 , 0 , 2 , 0 , 0 , 1 , 0 ] [ rand ( 1 , 10 ) ] ;
18136: LD_ADDR_VAR 0 14
18140: PUSH
18141: LD_INT 0
18143: PUSH
18144: LD_INT 1
18146: PUSH
18147: LD_INT 0
18149: PUSH
18150: LD_INT 1
18152: PUSH
18153: LD_INT 0
18155: PUSH
18156: LD_INT 2
18158: PUSH
18159: LD_INT 0
18161: PUSH
18162: LD_INT 0
18164: PUSH
18165: LD_INT 1
18167: PUSH
18168: LD_INT 0
18170: PUSH
18171: EMPTY
18172: LIST
18173: LIST
18174: LIST
18175: LIST
18176: LIST
18177: LIST
18178: LIST
18179: LIST
18180: LIST
18181: LIST
18182: PUSH
18183: LD_INT 1
18185: PPUSH
18186: LD_INT 10
18188: PPUSH
18189: CALL_OW 12
18193: ARRAY
18194: ST_TO_ADDR
// if n > skills [ i ] then
18195: LD_VAR 0 14
18199: PUSH
18200: LD_VAR 0 8
18204: PUSH
18205: LD_VAR 0 11
18209: ARRAY
18210: GREATER
18211: IFFALSE 18229
// n = skills [ i ] ;
18213: LD_ADDR_VAR 0 14
18217: PUSH
18218: LD_VAR 0 8
18222: PUSH
18223: LD_VAR 0 11
18227: ARRAY
18228: ST_TO_ADDR
// replace ( base_skills , i , n ) ;
18229: LD_VAR 0 9
18233: PPUSH
18234: LD_VAR 0 11
18238: PPUSH
18239: LD_VAR 0 14
18243: PPUSH
18244: CALL_OW 1
// end ;
18248: GO 18094
18250: POP
18251: POP
// n = rand ( 1 , 100 ) ;
18252: LD_ADDR_VAR 0 14
18256: PUSH
18257: LD_INT 1
18259: PPUSH
18260: LD_INT 100
18262: PPUSH
18263: CALL_OW 12
18267: ST_TO_ADDR
// case n of 1 .. 32 :
18268: LD_VAR 0 14
18272: PUSH
18273: LD_INT 1
18275: DOUBLE
18276: GREATEREQUAL
18277: IFFALSE 18285
18279: LD_INT 32
18281: DOUBLE
18282: LESSEQUAL
18283: IFTRUE 18287
18285: GO 18298
18287: POP
// def = 10 ; 31 .. 54 :
18288: LD_ADDR_VAR 0 15
18292: PUSH
18293: LD_INT 10
18295: ST_TO_ADDR
18296: GO 18399
18298: LD_INT 31
18300: DOUBLE
18301: GREATEREQUAL
18302: IFFALSE 18310
18304: LD_INT 54
18306: DOUBLE
18307: LESSEQUAL
18308: IFTRUE 18312
18310: GO 18323
18312: POP
// def = 9 ; 55 .. 76 :
18313: LD_ADDR_VAR 0 15
18317: PUSH
18318: LD_INT 9
18320: ST_TO_ADDR
18321: GO 18399
18323: LD_INT 55
18325: DOUBLE
18326: GREATEREQUAL
18327: IFFALSE 18335
18329: LD_INT 76
18331: DOUBLE
18332: LESSEQUAL
18333: IFTRUE 18337
18335: GO 18348
18337: POP
// def = 11 ; 77 .. 88 :
18338: LD_ADDR_VAR 0 15
18342: PUSH
18343: LD_INT 11
18345: ST_TO_ADDR
18346: GO 18399
18348: LD_INT 77
18350: DOUBLE
18351: GREATEREQUAL
18352: IFFALSE 18360
18354: LD_INT 88
18356: DOUBLE
18357: LESSEQUAL
18358: IFTRUE 18362
18360: GO 18373
18362: POP
// def = 8 ; 89 .. 100 :
18363: LD_ADDR_VAR 0 15
18367: PUSH
18368: LD_INT 8
18370: ST_TO_ADDR
18371: GO 18399
18373: LD_INT 89
18375: DOUBLE
18376: GREATEREQUAL
18377: IFFALSE 18385
18379: LD_INT 100
18381: DOUBLE
18382: LESSEQUAL
18383: IFTRUE 18387
18385: GO 18398
18387: POP
// def = 12 ; end ;
18388: LD_ADDR_VAR 0 15
18392: PUSH
18393: LD_INT 12
18395: ST_TO_ADDR
18396: GO 18399
18398: POP
// n = rand ( 1 , 100 ) ;
18399: LD_ADDR_VAR 0 14
18403: PUSH
18404: LD_INT 1
18406: PPUSH
18407: LD_INT 100
18409: PPUSH
18410: CALL_OW 12
18414: ST_TO_ADDR
// case n of 1 .. 44 :
18415: LD_VAR 0 14
18419: PUSH
18420: LD_INT 1
18422: DOUBLE
18423: GREATEREQUAL
18424: IFFALSE 18432
18426: LD_INT 44
18428: DOUBLE
18429: LESSEQUAL
18430: IFTRUE 18434
18432: GO 18445
18434: POP
// speed = 10 ; 45 .. 76 :
18435: LD_ADDR_VAR 0 16
18439: PUSH
18440: LD_INT 10
18442: ST_TO_ADDR
18443: GO 18521
18445: LD_INT 45
18447: DOUBLE
18448: GREATEREQUAL
18449: IFFALSE 18457
18451: LD_INT 76
18453: DOUBLE
18454: LESSEQUAL
18455: IFTRUE 18459
18457: GO 18470
18459: POP
// speed = 9 ; 77 .. 94 :
18460: LD_ADDR_VAR 0 16
18464: PUSH
18465: LD_INT 9
18467: ST_TO_ADDR
18468: GO 18521
18470: LD_INT 77
18472: DOUBLE
18473: GREATEREQUAL
18474: IFFALSE 18482
18476: LD_INT 94
18478: DOUBLE
18479: LESSEQUAL
18480: IFTRUE 18484
18482: GO 18495
18484: POP
// speed = 11 ; 95 .. 100 :
18485: LD_ADDR_VAR 0 16
18489: PUSH
18490: LD_INT 11
18492: ST_TO_ADDR
18493: GO 18521
18495: LD_INT 95
18497: DOUBLE
18498: GREATEREQUAL
18499: IFFALSE 18507
18501: LD_INT 100
18503: DOUBLE
18504: LESSEQUAL
18505: IFTRUE 18509
18507: GO 18520
18509: POP
// speed = 12 ; end ;
18510: LD_ADDR_VAR 0 16
18514: PUSH
18515: LD_INT 12
18517: ST_TO_ADDR
18518: GO 18521
18520: POP
// hc_attr = [ def , speed ] ;
18521: LD_ADDR_OWVAR 29
18525: PUSH
18526: LD_VAR 0 15
18530: PUSH
18531: LD_VAR 0 16
18535: PUSH
18536: EMPTY
18537: LIST
18538: LIST
18539: ST_TO_ADDR
// hc_basic_skills = base_skills ;
18540: LD_ADDR_OWVAR 30
18544: PUSH
18545: LD_VAR 0 9
18549: ST_TO_ADDR
// hc_skills := skills ;
18550: LD_ADDR_OWVAR 31
18554: PUSH
18555: LD_VAR 0 8
18559: ST_TO_ADDR
// hc_class = cl ;
18560: LD_ADDR_OWVAR 28
18564: PUSH
18565: LD_VAR 0 3
18569: ST_TO_ADDR
// end ; end_of_file
18570: LD_VAR 0 2
18574: RET
// var strany ; export maxTechLevel ; export function Start_tech_ur ; var i ; begin
18575: LD_INT 0
18577: PPUSH
18578: PPUSH
// if not maxTechLevel then
18579: LD_EXP 115
18583: NOT
18584: IFFALSE 18594
// maxTechLevel = 8 ;
18586: LD_ADDR_EXP 115
18590: PUSH
18591: LD_INT 8
18593: ST_TO_ADDR
// strany = [ ] ;
18594: LD_ADDR_LOC 19
18598: PUSH
18599: EMPTY
18600: ST_TO_ADDR
// if def_tech_level > maxTechLevel then
18601: LD_EXP 26
18605: PUSH
18606: LD_EXP 115
18610: GREATER
18611: IFFALSE 18623
// def_tech_level = maxTechLevel ;
18613: LD_ADDR_EXP 26
18617: PUSH
18618: LD_EXP 115
18622: ST_TO_ADDR
// for i := 1 to Side_Positions do
18623: LD_ADDR_VAR 0 2
18627: PUSH
18628: DOUBLE
18629: LD_INT 1
18631: DEC
18632: ST_TO_ADDR
18633: LD_EXP 75
18637: PUSH
18638: FOR_TO
18639: IFFALSE 18671
// if Side_Positions [ i ] then
18641: LD_EXP 75
18645: PUSH
18646: LD_VAR 0 2
18650: ARRAY
18651: IFFALSE 18669
// strany = strany ^ i ;
18653: LD_ADDR_LOC 19
18657: PUSH
18658: LD_LOC 19
18662: PUSH
18663: LD_VAR 0 2
18667: ADD
18668: ST_TO_ADDR
18669: GO 18638
18671: POP
18672: POP
// for i in strany do
18673: LD_ADDR_VAR 0 2
18677: PUSH
18678: LD_LOC 19
18682: PUSH
18683: FOR_IN
18684: IFFALSE 18697
// Vse_zakaz ( i ) ;
18686: LD_VAR 0 2
18690: PPUSH
18691: CALL 19672 0 1
18695: GO 18683
18697: POP
18698: POP
// for i in strany do
18699: LD_ADDR_VAR 0 2
18703: PUSH
18704: LD_LOC 19
18708: PUSH
18709: FOR_IN
18710: IFFALSE 19132
// case def_tech_level of 1 :
18712: LD_EXP 26
18716: PUSH
18717: LD_INT 1
18719: DOUBLE
18720: EQUAL
18721: IFTRUE 18725
18723: GO 18737
18725: POP
// ur_1 ( i ) ; 2 :
18726: LD_VAR 0 2
18730: PPUSH
18731: CALL 19832 0 1
18735: GO 19130
18737: LD_INT 2
18739: DOUBLE
18740: EQUAL
18741: IFTRUE 18745
18743: GO 18766
18745: POP
// begin ur_1 ( i ) ;
18746: LD_VAR 0 2
18750: PPUSH
18751: CALL 19832 0 1
// ur_2 ( i ) ;
18755: LD_VAR 0 2
18759: PPUSH
18760: CALL 20217 0 1
// end ; 3 :
18764: GO 19130
18766: LD_INT 3
18768: DOUBLE
18769: EQUAL
18770: IFTRUE 18774
18772: GO 18804
18774: POP
// begin ur_1 ( i ) ;
18775: LD_VAR 0 2
18779: PPUSH
18780: CALL 19832 0 1
// ur_2 ( i ) ;
18784: LD_VAR 0 2
18788: PPUSH
18789: CALL 20217 0 1
// ur_3 ( i ) ;
18793: LD_VAR 0 2
18797: PPUSH
18798: CALL 20606 0 1
// end ; 4 :
18802: GO 19130
18804: LD_INT 4
18806: DOUBLE
18807: EQUAL
18808: IFTRUE 18812
18810: GO 18851
18812: POP
// begin ur_1 ( i ) ;
18813: LD_VAR 0 2
18817: PPUSH
18818: CALL 19832 0 1
// ur_2 ( i ) ;
18822: LD_VAR 0 2
18826: PPUSH
18827: CALL 20217 0 1
// ur_3 ( i ) ;
18831: LD_VAR 0 2
18835: PPUSH
18836: CALL 20606 0 1
// ur_4 ( i ) ;
18840: LD_VAR 0 2
18844: PPUSH
18845: CALL 21067 0 1
// end ; 5 :
18849: GO 19130
18851: LD_INT 5
18853: DOUBLE
18854: EQUAL
18855: IFTRUE 18859
18857: GO 18907
18859: POP
// begin ur_1 ( i ) ;
18860: LD_VAR 0 2
18864: PPUSH
18865: CALL 19832 0 1
// ur_2 ( i ) ;
18869: LD_VAR 0 2
18873: PPUSH
18874: CALL 20217 0 1
// ur_3 ( i ) ;
18878: LD_VAR 0 2
18882: PPUSH
18883: CALL 20606 0 1
// ur_4 ( i ) ;
18887: LD_VAR 0 2
18891: PPUSH
18892: CALL 21067 0 1
// ur_5 ( i ) ;
18896: LD_VAR 0 2
18900: PPUSH
18901: CALL 21544 0 1
// end ; 6 :
18905: GO 19130
18907: LD_INT 6
18909: DOUBLE
18910: EQUAL
18911: IFTRUE 18915
18913: GO 18972
18915: POP
// begin ur_1 ( i ) ;
18916: LD_VAR 0 2
18920: PPUSH
18921: CALL 19832 0 1
// ur_2 ( i ) ;
18925: LD_VAR 0 2
18929: PPUSH
18930: CALL 20217 0 1
// ur_3 ( i ) ;
18934: LD_VAR 0 2
18938: PPUSH
18939: CALL 20606 0 1
// ur_4 ( i ) ;
18943: LD_VAR 0 2
18947: PPUSH
18948: CALL 21067 0 1
// ur_5 ( i ) ;
18952: LD_VAR 0 2
18956: PPUSH
18957: CALL 21544 0 1
// ur_6 ( i ) ;
18961: LD_VAR 0 2
18965: PPUSH
18966: CALL 21838 0 1
// end ; 7 :
18970: GO 19130
18972: LD_INT 7
18974: DOUBLE
18975: EQUAL
18976: IFTRUE 18980
18978: GO 19046
18980: POP
// begin ur_1 ( i ) ;
18981: LD_VAR 0 2
18985: PPUSH
18986: CALL 19832 0 1
// ur_2 ( i ) ;
18990: LD_VAR 0 2
18994: PPUSH
18995: CALL 20217 0 1
// ur_3 ( i ) ;
18999: LD_VAR 0 2
19003: PPUSH
19004: CALL 20606 0 1
// ur_4 ( i ) ;
19008: LD_VAR 0 2
19012: PPUSH
19013: CALL 21067 0 1
// ur_5 ( i ) ;
19017: LD_VAR 0 2
19021: PPUSH
19022: CALL 21544 0 1
// ur_6 ( i ) ;
19026: LD_VAR 0 2
19030: PPUSH
19031: CALL 21838 0 1
// ur_7 ( i ) ;
19035: LD_VAR 0 2
19039: PPUSH
19040: CALL 22108 0 1
// end ; 8 :
19044: GO 19130
19046: LD_INT 8
19048: DOUBLE
19049: EQUAL
19050: IFTRUE 19054
19052: GO 19129
19054: POP
// begin ur_1 ( i ) ;
19055: LD_VAR 0 2
19059: PPUSH
19060: CALL 19832 0 1
// ur_2 ( i ) ;
19064: LD_VAR 0 2
19068: PPUSH
19069: CALL 20217 0 1
// ur_3 ( i ) ;
19073: LD_VAR 0 2
19077: PPUSH
19078: CALL 20606 0 1
// ur_4 ( i ) ;
19082: LD_VAR 0 2
19086: PPUSH
19087: CALL 21067 0 1
// ur_5 ( i ) ;
19091: LD_VAR 0 2
19095: PPUSH
19096: CALL 21544 0 1
// ur_6 ( i ) ;
19100: LD_VAR 0 2
19104: PPUSH
19105: CALL 21838 0 1
// ur_7 ( i ) ;
19109: LD_VAR 0 2
19113: PPUSH
19114: CALL 22108 0 1
// ur_8 ( i ) ;
19118: LD_VAR 0 2
19122: PPUSH
19123: CALL 22354 0 1
// end ; end ;
19127: GO 19130
19129: POP
19130: GO 18709
19132: POP
19133: POP
// end ;
19134: LD_VAR 0 1
19138: RET
// every 0 0$01 marked 30 do var i ;
19139: GO 19141
19141: DISABLE
19142: LD_INT 0
19144: PPUSH
// begin if def_upgrade_tl = 0 then
19145: LD_EXP 27
19149: PUSH
19150: LD_INT 0
19152: EQUAL
19153: IFFALSE 19157
// exit ;
19155: GO 19669
// if def_tech_level < 1 and not maxTechLevel < 1 then
19157: LD_EXP 26
19161: PUSH
19162: LD_INT 1
19164: LESS
19165: PUSH
19166: LD_EXP 115
19170: PUSH
19171: LD_INT 1
19173: LESS
19174: NOT
19175: AND
19176: IFFALSE 19221
// begin wait ( 0 0$50 * def_upgrade_tl ) ;
19178: LD_INT 1750
19180: PUSH
19181: LD_EXP 27
19185: MUL
19186: PPUSH
19187: CALL_OW 67
// for i in strany do
19191: LD_ADDR_VAR 0 1
19195: PUSH
19196: LD_LOC 19
19200: PUSH
19201: FOR_IN
19202: IFFALSE 19215
// ur_1 ( i ) ;
19204: LD_VAR 0 1
19208: PPUSH
19209: CALL 19832 0 1
19213: GO 19201
19215: POP
19216: POP
// Hustota_Zasilek ;
19217: CALL 2185 0 0
// end ; if def_tech_level < 2 and not maxTechLevel < 2 then
19221: LD_EXP 26
19225: PUSH
19226: LD_INT 2
19228: LESS
19229: PUSH
19230: LD_EXP 115
19234: PUSH
19235: LD_INT 2
19237: LESS
19238: NOT
19239: AND
19240: IFFALSE 19285
// begin wait ( 1 1$00 * def_upgrade_tl ) ;
19242: LD_INT 2100
19244: PUSH
19245: LD_EXP 27
19249: MUL
19250: PPUSH
19251: CALL_OW 67
// for i in strany do
19255: LD_ADDR_VAR 0 1
19259: PUSH
19260: LD_LOC 19
19264: PUSH
19265: FOR_IN
19266: IFFALSE 19279
// ur_2 ( i ) ;
19268: LD_VAR 0 1
19272: PPUSH
19273: CALL 20217 0 1
19277: GO 19265
19279: POP
19280: POP
// Hustota_Zasilek ;
19281: CALL 2185 0 0
// end ; if def_tech_level < 3 and not maxTechLevel < 3 then
19285: LD_EXP 26
19289: PUSH
19290: LD_INT 3
19292: LESS
19293: PUSH
19294: LD_EXP 115
19298: PUSH
19299: LD_INT 3
19301: LESS
19302: NOT
19303: AND
19304: IFFALSE 19349
// begin wait ( 3 3$30 * def_upgrade_tl ) ;
19306: LD_INT 7350
19308: PUSH
19309: LD_EXP 27
19313: MUL
19314: PPUSH
19315: CALL_OW 67
// for i in strany do
19319: LD_ADDR_VAR 0 1
19323: PUSH
19324: LD_LOC 19
19328: PUSH
19329: FOR_IN
19330: IFFALSE 19343
// ur_3 ( i ) ;
19332: LD_VAR 0 1
19336: PPUSH
19337: CALL 20606 0 1
19341: GO 19329
19343: POP
19344: POP
// Hustota_Zasilek ;
19345: CALL 2185 0 0
// end ; if def_tech_level < 4 and not maxTechLevel < 4 then
19349: LD_EXP 26
19353: PUSH
19354: LD_INT 4
19356: LESS
19357: PUSH
19358: LD_EXP 115
19362: PUSH
19363: LD_INT 4
19365: LESS
19366: NOT
19367: AND
19368: IFFALSE 19413
// begin wait ( 4 4$30 * def_upgrade_tl ) ;
19370: LD_INT 9450
19372: PUSH
19373: LD_EXP 27
19377: MUL
19378: PPUSH
19379: CALL_OW 67
// for i in strany do
19383: LD_ADDR_VAR 0 1
19387: PUSH
19388: LD_LOC 19
19392: PUSH
19393: FOR_IN
19394: IFFALSE 19407
// ur_4 ( i ) ;
19396: LD_VAR 0 1
19400: PPUSH
19401: CALL 21067 0 1
19405: GO 19393
19407: POP
19408: POP
// Hustota_Zasilek ;
19409: CALL 2185 0 0
// end ; if def_tech_level < 5 and not maxTechLevel < 5 then
19413: LD_EXP 26
19417: PUSH
19418: LD_INT 5
19420: LESS
19421: PUSH
19422: LD_EXP 115
19426: PUSH
19427: LD_INT 5
19429: LESS
19430: NOT
19431: AND
19432: IFFALSE 19477
// begin wait ( 3 3$30 * def_upgrade_tl ) ;
19434: LD_INT 7350
19436: PUSH
19437: LD_EXP 27
19441: MUL
19442: PPUSH
19443: CALL_OW 67
// for i in strany do
19447: LD_ADDR_VAR 0 1
19451: PUSH
19452: LD_LOC 19
19456: PUSH
19457: FOR_IN
19458: IFFALSE 19471
// ur_5 ( i ) ;
19460: LD_VAR 0 1
19464: PPUSH
19465: CALL 21544 0 1
19469: GO 19457
19471: POP
19472: POP
// Hustota_Zasilek ;
19473: CALL 2185 0 0
// end ; if def_tech_level < 6 and not maxTechLevel < 6 then
19477: LD_EXP 26
19481: PUSH
19482: LD_INT 6
19484: LESS
19485: PUSH
19486: LD_EXP 115
19490: PUSH
19491: LD_INT 6
19493: LESS
19494: NOT
19495: AND
19496: IFFALSE 19541
// begin wait ( 4 4$15 * def_upgrade_tl ) ;
19498: LD_INT 8925
19500: PUSH
19501: LD_EXP 27
19505: MUL
19506: PPUSH
19507: CALL_OW 67
// for i in strany do
19511: LD_ADDR_VAR 0 1
19515: PUSH
19516: LD_LOC 19
19520: PUSH
19521: FOR_IN
19522: IFFALSE 19535
// ur_6 ( i ) ;
19524: LD_VAR 0 1
19528: PPUSH
19529: CALL 21838 0 1
19533: GO 19521
19535: POP
19536: POP
// Hustota_Zasilek ;
19537: CALL 2185 0 0
// end ; if def_tech_level < 7 and not maxTechLevel < 7 then
19541: LD_EXP 26
19545: PUSH
19546: LD_INT 7
19548: LESS
19549: PUSH
19550: LD_EXP 115
19554: PUSH
19555: LD_INT 7
19557: LESS
19558: NOT
19559: AND
19560: IFFALSE 19605
// begin wait ( 4 4$45 * def_upgrade_tl ) ;
19562: LD_INT 9975
19564: PUSH
19565: LD_EXP 27
19569: MUL
19570: PPUSH
19571: CALL_OW 67
// for i in strany do
19575: LD_ADDR_VAR 0 1
19579: PUSH
19580: LD_LOC 19
19584: PUSH
19585: FOR_IN
19586: IFFALSE 19599
// ur_7 ( i ) ;
19588: LD_VAR 0 1
19592: PPUSH
19593: CALL 22108 0 1
19597: GO 19585
19599: POP
19600: POP
// Hustota_Zasilek ;
19601: CALL 2185 0 0
// end ; if def_tech_level < 8 and not maxTechLevel < 8 then
19605: LD_EXP 26
19609: PUSH
19610: LD_INT 8
19612: LESS
19613: PUSH
19614: LD_EXP 115
19618: PUSH
19619: LD_INT 8
19621: LESS
19622: NOT
19623: AND
19624: IFFALSE 19669
// begin wait ( 6 6$00 * def_upgrade_tl ) ;
19626: LD_INT 12600
19628: PUSH
19629: LD_EXP 27
19633: MUL
19634: PPUSH
19635: CALL_OW 67
// for i in strany do
19639: LD_ADDR_VAR 0 1
19643: PUSH
19644: LD_LOC 19
19648: PUSH
19649: FOR_IN
19650: IFFALSE 19663
// ur_8 ( i ) ;
19652: LD_VAR 0 1
19656: PPUSH
19657: CALL 22354 0 1
19661: GO 19649
19663: POP
19664: POP
// Hustota_Zasilek ;
19665: CALL 2185 0 0
// end ; end ;
19669: PPOPN 1
19671: END
// function Vse_zakaz ( side ) ; var i , zbudovy ; begin
19672: LD_INT 0
19674: PPUSH
19675: PPUSH
19676: PPUSH
// for i = 1 to 72 do
19677: LD_ADDR_VAR 0 3
19681: PUSH
19682: DOUBLE
19683: LD_INT 1
19685: DEC
19686: ST_TO_ADDR
19687: LD_INT 72
19689: PUSH
19690: FOR_TO
19691: IFFALSE 19712
// SetTech ( i , side , state_disabled ) ;
19693: LD_VAR 0 3
19697: PPUSH
19698: LD_VAR 0 1
19702: PPUSH
19703: LD_INT 0
19705: PPUSH
19706: CALL_OW 322
19710: GO 19690
19712: POP
19713: POP
// zbudovy = [ 1 , 5 , 2 , 3 , 16 , 19 , 23 , 10 , 11 , 12 , 13 , 14 , 15 , 29 , 30 , 32 ] ;
19714: LD_ADDR_VAR 0 4
19718: PUSH
19719: LD_INT 1
19721: PUSH
19722: LD_INT 5
19724: PUSH
19725: LD_INT 2
19727: PUSH
19728: LD_INT 3
19730: PUSH
19731: LD_INT 16
19733: PUSH
19734: LD_INT 19
19736: PUSH
19737: LD_INT 23
19739: PUSH
19740: LD_INT 10
19742: PUSH
19743: LD_INT 11
19745: PUSH
19746: LD_INT 12
19748: PUSH
19749: LD_INT 13
19751: PUSH
19752: LD_INT 14
19754: PUSH
19755: LD_INT 15
19757: PUSH
19758: LD_INT 29
19760: PUSH
19761: LD_INT 30
19763: PUSH
19764: LD_INT 32
19766: PUSH
19767: EMPTY
19768: LIST
19769: LIST
19770: LIST
19771: LIST
19772: LIST
19773: LIST
19774: LIST
19775: LIST
19776: LIST
19777: LIST
19778: LIST
19779: LIST
19780: LIST
19781: LIST
19782: LIST
19783: LIST
19784: ST_TO_ADDR
// for i in zbudovy do
19785: LD_ADDR_VAR 0 3
19789: PUSH
19790: LD_VAR 0 4
19794: PUSH
19795: FOR_IN
19796: IFFALSE 19817
// SetRestrict ( i , side , state_disabled ) ;
19798: LD_VAR 0 3
19802: PPUSH
19803: LD_VAR 0 1
19807: PPUSH
19808: LD_INT 0
19810: PPUSH
19811: CALL_OW 324
19815: GO 19795
19817: POP
19818: POP
// Tech_Level = 0 ;
19819: LD_ADDR_EXP 56
19823: PUSH
19824: LD_INT 0
19826: ST_TO_ADDR
// end ;
19827: LD_VAR 0 2
19831: RET
// function ur_1 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
19832: LD_INT 0
19834: PPUSH
19835: PPUSH
19836: PPUSH
19837: PPUSH
19838: PPUSH
// narodnost := Side_Nations [ side ] ;
19839: LD_ADDR_VAR 0 3
19843: PUSH
19844: LD_EXP 76
19848: PUSH
19849: LD_VAR 0 1
19853: ARRAY
19854: ST_TO_ADDR
// case narodnost of 1 :
19855: LD_VAR 0 3
19859: PUSH
19860: LD_INT 1
19862: DOUBLE
19863: EQUAL
19864: IFTRUE 19868
19866: GO 19977
19868: POP
// begin pbudovy = [ 2 , 29 ] ;
19869: LD_ADDR_VAR 0 5
19873: PUSH
19874: LD_INT 2
19876: PUSH
19877: LD_INT 29
19879: PUSH
19880: EMPTY
19881: LIST
19882: LIST
19883: ST_TO_ADDR
// for i in pbudovy do
19884: LD_ADDR_VAR 0 6
19888: PUSH
19889: LD_VAR 0 5
19893: PUSH
19894: FOR_IN
19895: IFFALSE 19916
// EnableBuilding ( i , side , state_enabled ) ;
19897: LD_VAR 0 6
19901: PPUSH
19902: LD_VAR 0 1
19906: PPUSH
19907: LD_INT 1
19909: PPUSH
19910: CALL 22533 0 3
19914: GO 19894
19916: POP
19917: POP
// ptech = [ 46 , 35 , 45 , 48 ] ;
19918: LD_ADDR_VAR 0 4
19922: PUSH
19923: LD_INT 46
19925: PUSH
19926: LD_INT 35
19928: PUSH
19929: LD_INT 45
19931: PUSH
19932: LD_INT 48
19934: PUSH
19935: EMPTY
19936: LIST
19937: LIST
19938: LIST
19939: LIST
19940: ST_TO_ADDR
// for i in ptech do
19941: LD_ADDR_VAR 0 6
19945: PUSH
19946: LD_VAR 0 4
19950: PUSH
19951: FOR_IN
19952: IFFALSE 19973
// EnableTech ( i , side , state_enabled ) ;
19954: LD_VAR 0 6
19958: PPUSH
19959: LD_VAR 0 1
19963: PPUSH
19964: LD_INT 1
19966: PPUSH
19967: CALL 22454 0 3
19971: GO 19951
19973: POP
19974: POP
// end ; 2 :
19975: GO 20204
19977: LD_INT 2
19979: DOUBLE
19980: EQUAL
19981: IFTRUE 19985
19983: GO 20094
19985: POP
// begin pbudovy = [ 2 , 29 ] ;
19986: LD_ADDR_VAR 0 5
19990: PUSH
19991: LD_INT 2
19993: PUSH
19994: LD_INT 29
19996: PUSH
19997: EMPTY
19998: LIST
19999: LIST
20000: ST_TO_ADDR
// for i in pbudovy do
20001: LD_ADDR_VAR 0 6
20005: PUSH
20006: LD_VAR 0 5
20010: PUSH
20011: FOR_IN
20012: IFFALSE 20033
// EnableBuilding ( i , side , state_enabled ) ;
20014: LD_VAR 0 6
20018: PPUSH
20019: LD_VAR 0 1
20023: PPUSH
20024: LD_INT 1
20026: PPUSH
20027: CALL 22533 0 3
20031: GO 20011
20033: POP
20034: POP
// ptech = [ 46 , 35 , 45 , 48 ] ;
20035: LD_ADDR_VAR 0 4
20039: PUSH
20040: LD_INT 46
20042: PUSH
20043: LD_INT 35
20045: PUSH
20046: LD_INT 45
20048: PUSH
20049: LD_INT 48
20051: PUSH
20052: EMPTY
20053: LIST
20054: LIST
20055: LIST
20056: LIST
20057: ST_TO_ADDR
// for i in ptech do
20058: LD_ADDR_VAR 0 6
20062: PUSH
20063: LD_VAR 0 4
20067: PUSH
20068: FOR_IN
20069: IFFALSE 20090
// EnableTech ( i , side , state_enabled ) ;
20071: LD_VAR 0 6
20075: PPUSH
20076: LD_VAR 0 1
20080: PPUSH
20081: LD_INT 1
20083: PPUSH
20084: CALL 22454 0 3
20088: GO 20068
20090: POP
20091: POP
// end ; 3 :
20092: GO 20204
20094: LD_INT 3
20096: DOUBLE
20097: EQUAL
20098: IFTRUE 20102
20100: GO 20203
20102: POP
// begin pbudovy = [ 2 , 29 ] ;
20103: LD_ADDR_VAR 0 5
20107: PUSH
20108: LD_INT 2
20110: PUSH
20111: LD_INT 29
20113: PUSH
20114: EMPTY
20115: LIST
20116: LIST
20117: ST_TO_ADDR
// for i in pbudovy do
20118: LD_ADDR_VAR 0 6
20122: PUSH
20123: LD_VAR 0 5
20127: PUSH
20128: FOR_IN
20129: IFFALSE 20150
// EnableBuilding ( i , side , state_enabled ) ;
20131: LD_VAR 0 6
20135: PPUSH
20136: LD_VAR 0 1
20140: PPUSH
20141: LD_INT 1
20143: PPUSH
20144: CALL 22533 0 3
20148: GO 20128
20150: POP
20151: POP
// ptech = [ 46 , 47 ] ;
20152: LD_ADDR_VAR 0 4
20156: PUSH
20157: LD_INT 46
20159: PUSH
20160: LD_INT 47
20162: PUSH
20163: EMPTY
20164: LIST
20165: LIST
20166: ST_TO_ADDR
// for i in ptech do
20167: LD_ADDR_VAR 0 6
20171: PUSH
20172: LD_VAR 0 4
20176: PUSH
20177: FOR_IN
20178: IFFALSE 20199
// EnableTech ( i , side , state_enabled ) ;
20180: LD_VAR 0 6
20184: PPUSH
20185: LD_VAR 0 1
20189: PPUSH
20190: LD_INT 1
20192: PPUSH
20193: CALL 22454 0 3
20197: GO 20177
20199: POP
20200: POP
// end ; end ;
20201: GO 20204
20203: POP
// Tech_Level = 1 ;
20204: LD_ADDR_EXP 56
20208: PUSH
20209: LD_INT 1
20211: ST_TO_ADDR
// end ;
20212: LD_VAR 0 2
20216: RET
// function ur_2 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
20217: LD_INT 0
20219: PPUSH
20220: PPUSH
20221: PPUSH
20222: PPUSH
20223: PPUSH
// narodnost := Side_Nations [ side ] ;
20224: LD_ADDR_VAR 0 3
20228: PUSH
20229: LD_EXP 76
20233: PUSH
20234: LD_VAR 0 1
20238: ARRAY
20239: ST_TO_ADDR
// case narodnost of 1 :
20240: LD_VAR 0 3
20244: PUSH
20245: LD_INT 1
20247: DOUBLE
20248: EQUAL
20249: IFTRUE 20253
20251: GO 20362
20253: POP
// begin pbudovy = [ 10 , 3 ] ;
20254: LD_ADDR_VAR 0 5
20258: PUSH
20259: LD_INT 10
20261: PUSH
20262: LD_INT 3
20264: PUSH
20265: EMPTY
20266: LIST
20267: LIST
20268: ST_TO_ADDR
// for i in pbudovy do
20269: LD_ADDR_VAR 0 6
20273: PUSH
20274: LD_VAR 0 5
20278: PUSH
20279: FOR_IN
20280: IFFALSE 20301
// EnableBuilding ( i , side , state_enabled ) ;
20282: LD_VAR 0 6
20286: PPUSH
20287: LD_VAR 0 1
20291: PPUSH
20292: LD_INT 1
20294: PPUSH
20295: CALL 22533 0 3
20299: GO 20279
20301: POP
20302: POP
// ptech = [ 1 , 47 , 69 , 2 ] ;
20303: LD_ADDR_VAR 0 4
20307: PUSH
20308: LD_INT 1
20310: PUSH
20311: LD_INT 47
20313: PUSH
20314: LD_INT 69
20316: PUSH
20317: LD_INT 2
20319: PUSH
20320: EMPTY
20321: LIST
20322: LIST
20323: LIST
20324: LIST
20325: ST_TO_ADDR
// for i in ptech do
20326: LD_ADDR_VAR 0 6
20330: PUSH
20331: LD_VAR 0 4
20335: PUSH
20336: FOR_IN
20337: IFFALSE 20358
// EnableTech ( i , side , state_enabled ) ;
20339: LD_VAR 0 6
20343: PPUSH
20344: LD_VAR 0 1
20348: PPUSH
20349: LD_INT 1
20351: PPUSH
20352: CALL 22454 0 3
20356: GO 20336
20358: POP
20359: POP
// end ; 2 :
20360: GO 20593
20362: LD_INT 2
20364: DOUBLE
20365: EQUAL
20366: IFTRUE 20370
20368: GO 20479
20370: POP
// begin pbudovy = [ 10 , 3 ] ;
20371: LD_ADDR_VAR 0 5
20375: PUSH
20376: LD_INT 10
20378: PUSH
20379: LD_INT 3
20381: PUSH
20382: EMPTY
20383: LIST
20384: LIST
20385: ST_TO_ADDR
// for i in pbudovy do
20386: LD_ADDR_VAR 0 6
20390: PUSH
20391: LD_VAR 0 5
20395: PUSH
20396: FOR_IN
20397: IFFALSE 20418
// EnableBuilding ( i , side , state_enabled ) ;
20399: LD_VAR 0 6
20403: PPUSH
20404: LD_VAR 0 1
20408: PPUSH
20409: LD_INT 1
20411: PPUSH
20412: CALL 22533 0 3
20416: GO 20396
20418: POP
20419: POP
// ptech = [ 1 , 47 , 69 , 11 ] ;
20420: LD_ADDR_VAR 0 4
20424: PUSH
20425: LD_INT 1
20427: PUSH
20428: LD_INT 47
20430: PUSH
20431: LD_INT 69
20433: PUSH
20434: LD_INT 11
20436: PUSH
20437: EMPTY
20438: LIST
20439: LIST
20440: LIST
20441: LIST
20442: ST_TO_ADDR
// for i in ptech do
20443: LD_ADDR_VAR 0 6
20447: PUSH
20448: LD_VAR 0 4
20452: PUSH
20453: FOR_IN
20454: IFFALSE 20475
// EnableTech ( i , side , state_enabled ) ;
20456: LD_VAR 0 6
20460: PPUSH
20461: LD_VAR 0 1
20465: PPUSH
20466: LD_INT 1
20468: PPUSH
20469: CALL 22454 0 3
20473: GO 20453
20475: POP
20476: POP
// end ; 3 :
20477: GO 20593
20479: LD_INT 3
20481: DOUBLE
20482: EQUAL
20483: IFTRUE 20487
20485: GO 20592
20487: POP
// begin pbudovy = [ 10 ] ;
20488: LD_ADDR_VAR 0 5
20492: PUSH
20493: LD_INT 10
20495: PUSH
20496: EMPTY
20497: LIST
20498: ST_TO_ADDR
// for i in pbudovy do
20499: LD_ADDR_VAR 0 6
20503: PUSH
20504: LD_VAR 0 5
20508: PUSH
20509: FOR_IN
20510: IFFALSE 20531
// EnableBuilding ( i , side , state_enabled ) ;
20512: LD_VAR 0 6
20516: PPUSH
20517: LD_VAR 0 1
20521: PPUSH
20522: LD_INT 1
20524: PPUSH
20525: CALL 22533 0 3
20529: GO 20509
20531: POP
20532: POP
// ptech = [ 1 , 2 , 48 , 51 ] ;
20533: LD_ADDR_VAR 0 4
20537: PUSH
20538: LD_INT 1
20540: PUSH
20541: LD_INT 2
20543: PUSH
20544: LD_INT 48
20546: PUSH
20547: LD_INT 51
20549: PUSH
20550: EMPTY
20551: LIST
20552: LIST
20553: LIST
20554: LIST
20555: ST_TO_ADDR
// for i in ptech do
20556: LD_ADDR_VAR 0 6
20560: PUSH
20561: LD_VAR 0 4
20565: PUSH
20566: FOR_IN
20567: IFFALSE 20588
// EnableTech ( i , side , state_enabled ) ;
20569: LD_VAR 0 6
20573: PPUSH
20574: LD_VAR 0 1
20578: PPUSH
20579: LD_INT 1
20581: PPUSH
20582: CALL 22454 0 3
20586: GO 20566
20588: POP
20589: POP
// end ; end ;
20590: GO 20593
20592: POP
// Tech_Level = 2 ;
20593: LD_ADDR_EXP 56
20597: PUSH
20598: LD_INT 2
20600: ST_TO_ADDR
// end ;
20601: LD_VAR 0 2
20605: RET
// function ur_3 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
20606: LD_INT 0
20608: PPUSH
20609: PPUSH
20610: PPUSH
20611: PPUSH
20612: PPUSH
// narodnost := Side_Nations [ side ] ;
20613: LD_ADDR_VAR 0 3
20617: PUSH
20618: LD_EXP 76
20622: PUSH
20623: LD_VAR 0 1
20627: ARRAY
20628: ST_TO_ADDR
// case narodnost of 1 :
20629: LD_VAR 0 3
20633: PUSH
20634: LD_INT 1
20636: DOUBLE
20637: EQUAL
20638: IFTRUE 20642
20640: GO 20767
20642: POP
// begin pbudovy = [ 32 , 19 , 5 , 16 , 15 ] ;
20643: LD_ADDR_VAR 0 5
20647: PUSH
20648: LD_INT 32
20650: PUSH
20651: LD_INT 19
20653: PUSH
20654: LD_INT 5
20656: PUSH
20657: LD_INT 16
20659: PUSH
20660: LD_INT 15
20662: PUSH
20663: EMPTY
20664: LIST
20665: LIST
20666: LIST
20667: LIST
20668: LIST
20669: ST_TO_ADDR
// for i in pbudovy do
20670: LD_ADDR_VAR 0 6
20674: PUSH
20675: LD_VAR 0 5
20679: PUSH
20680: FOR_IN
20681: IFFALSE 20702
// EnableBuilding ( i , side , state_enabled ) ;
20683: LD_VAR 0 6
20687: PPUSH
20688: LD_VAR 0 1
20692: PPUSH
20693: LD_INT 1
20695: PPUSH
20696: CALL 22533 0 3
20700: GO 20680
20702: POP
20703: POP
// ptech = [ 39 , 49 , 6 , 12 , 51 ] ;
20704: LD_ADDR_VAR 0 4
20708: PUSH
20709: LD_INT 39
20711: PUSH
20712: LD_INT 49
20714: PUSH
20715: LD_INT 6
20717: PUSH
20718: LD_INT 12
20720: PUSH
20721: LD_INT 51
20723: PUSH
20724: EMPTY
20725: LIST
20726: LIST
20727: LIST
20728: LIST
20729: LIST
20730: ST_TO_ADDR
// for i in ptech do
20731: LD_ADDR_VAR 0 6
20735: PUSH
20736: LD_VAR 0 4
20740: PUSH
20741: FOR_IN
20742: IFFALSE 20763
// EnableTech ( i , side , state_enabled ) ;
20744: LD_VAR 0 6
20748: PPUSH
20749: LD_VAR 0 1
20753: PPUSH
20754: LD_INT 1
20756: PPUSH
20757: CALL 22454 0 3
20761: GO 20741
20763: POP
20764: POP
// end ; 2 :
20765: GO 21054
20767: LD_INT 2
20769: DOUBLE
20770: EQUAL
20771: IFTRUE 20775
20773: GO 20908
20775: POP
// begin pbudovy = [ 32 , 23 , 5 , 16 , 15 ] ;
20776: LD_ADDR_VAR 0 5
20780: PUSH
20781: LD_INT 32
20783: PUSH
20784: LD_INT 23
20786: PUSH
20787: LD_INT 5
20789: PUSH
20790: LD_INT 16
20792: PUSH
20793: LD_INT 15
20795: PUSH
20796: EMPTY
20797: LIST
20798: LIST
20799: LIST
20800: LIST
20801: LIST
20802: ST_TO_ADDR
// for i in pbudovy do
20803: LD_ADDR_VAR 0 6
20807: PUSH
20808: LD_VAR 0 5
20812: PUSH
20813: FOR_IN
20814: IFFALSE 20835
// EnableBuilding ( i , side , state_enabled ) ;
20816: LD_VAR 0 6
20820: PPUSH
20821: LD_VAR 0 1
20825: PPUSH
20826: LD_INT 1
20828: PPUSH
20829: CALL 22533 0 3
20833: GO 20813
20835: POP
20836: POP
// ptech = [ 39 , 49 , 6 , 51 , 17 , 42 , 70 ] ;
20837: LD_ADDR_VAR 0 4
20841: PUSH
20842: LD_INT 39
20844: PUSH
20845: LD_INT 49
20847: PUSH
20848: LD_INT 6
20850: PUSH
20851: LD_INT 51
20853: PUSH
20854: LD_INT 17
20856: PUSH
20857: LD_INT 42
20859: PUSH
20860: LD_INT 70
20862: PUSH
20863: EMPTY
20864: LIST
20865: LIST
20866: LIST
20867: LIST
20868: LIST
20869: LIST
20870: LIST
20871: ST_TO_ADDR
// for i in ptech do
20872: LD_ADDR_VAR 0 6
20876: PUSH
20877: LD_VAR 0 4
20881: PUSH
20882: FOR_IN
20883: IFFALSE 20904
// EnableTech ( i , side , state_enabled ) ;
20885: LD_VAR 0 6
20889: PPUSH
20890: LD_VAR 0 1
20894: PPUSH
20895: LD_INT 1
20897: PPUSH
20898: CALL 22454 0 3
20902: GO 20882
20904: POP
20905: POP
// end ; 3 :
20906: GO 21054
20908: LD_INT 3
20910: DOUBLE
20911: EQUAL
20912: IFTRUE 20916
20914: GO 21053
20916: POP
// begin pbudovy = [ 3 , 32 , 19 , 5 , 14 , 30 ] ;
20917: LD_ADDR_VAR 0 5
20921: PUSH
20922: LD_INT 3
20924: PUSH
20925: LD_INT 32
20927: PUSH
20928: LD_INT 19
20930: PUSH
20931: LD_INT 5
20933: PUSH
20934: LD_INT 14
20936: PUSH
20937: LD_INT 30
20939: PUSH
20940: EMPTY
20941: LIST
20942: LIST
20943: LIST
20944: LIST
20945: LIST
20946: LIST
20947: ST_TO_ADDR
// for i in pbudovy do
20948: LD_ADDR_VAR 0 6
20952: PUSH
20953: LD_VAR 0 5
20957: PUSH
20958: FOR_IN
20959: IFFALSE 20980
// EnableBuilding ( i , side , state_enabled ) ;
20961: LD_VAR 0 6
20965: PPUSH
20966: LD_VAR 0 1
20970: PPUSH
20971: LD_INT 1
20973: PPUSH
20974: CALL 22533 0 3
20978: GO 20958
20980: POP
20981: POP
// ptech = [ 39 , 49 , 69 , 40 , 30 , 11 , 20 ] ;
20982: LD_ADDR_VAR 0 4
20986: PUSH
20987: LD_INT 39
20989: PUSH
20990: LD_INT 49
20992: PUSH
20993: LD_INT 69
20995: PUSH
20996: LD_INT 40
20998: PUSH
20999: LD_INT 30
21001: PUSH
21002: LD_INT 11
21004: PUSH
21005: LD_INT 20
21007: PUSH
21008: EMPTY
21009: LIST
21010: LIST
21011: LIST
21012: LIST
21013: LIST
21014: LIST
21015: LIST
21016: ST_TO_ADDR
// for i in ptech do
21017: LD_ADDR_VAR 0 6
21021: PUSH
21022: LD_VAR 0 4
21026: PUSH
21027: FOR_IN
21028: IFFALSE 21049
// EnableTech ( i , side , state_enabled ) ;
21030: LD_VAR 0 6
21034: PPUSH
21035: LD_VAR 0 1
21039: PPUSH
21040: LD_INT 1
21042: PPUSH
21043: CALL 22454 0 3
21047: GO 21027
21049: POP
21050: POP
// end ; end ;
21051: GO 21054
21053: POP
// Tech_Level = 3 ;
21054: LD_ADDR_EXP 56
21058: PUSH
21059: LD_INT 3
21061: ST_TO_ADDR
// end ;
21062: LD_VAR 0 2
21066: RET
// function ur_4 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
21067: LD_INT 0
21069: PPUSH
21070: PPUSH
21071: PPUSH
21072: PPUSH
21073: PPUSH
// narodnost := Side_Nations [ side ] ;
21074: LD_ADDR_VAR 0 3
21078: PUSH
21079: LD_EXP 76
21083: PUSH
21084: LD_VAR 0 1
21088: ARRAY
21089: ST_TO_ADDR
// case narodnost of 1 :
21090: LD_VAR 0 3
21094: PUSH
21095: LD_INT 1
21097: DOUBLE
21098: EQUAL
21099: IFTRUE 21103
21101: GO 21240
21103: POP
// begin pbudovy = [ 30 , 12 , 11 , 1 ] ;
21104: LD_ADDR_VAR 0 5
21108: PUSH
21109: LD_INT 30
21111: PUSH
21112: LD_INT 12
21114: PUSH
21115: LD_INT 11
21117: PUSH
21118: LD_INT 1
21120: PUSH
21121: EMPTY
21122: LIST
21123: LIST
21124: LIST
21125: LIST
21126: ST_TO_ADDR
// for i in pbudovy do
21127: LD_ADDR_VAR 0 6
21131: PUSH
21132: LD_VAR 0 5
21136: PUSH
21137: FOR_IN
21138: IFFALSE 21159
// EnableBuilding ( i , side , state_enabled ) ;
21140: LD_VAR 0 6
21144: PPUSH
21145: LD_VAR 0 1
21149: PPUSH
21150: LD_INT 1
21152: PPUSH
21153: CALL 22533 0 3
21157: GO 21137
21159: POP
21160: POP
// ptech = [ 21 , 22 , 7 , 20 , 32 , 40 , 10 , 60 , 52 ] ;
21161: LD_ADDR_VAR 0 4
21165: PUSH
21166: LD_INT 21
21168: PUSH
21169: LD_INT 22
21171: PUSH
21172: LD_INT 7
21174: PUSH
21175: LD_INT 20
21177: PUSH
21178: LD_INT 32
21180: PUSH
21181: LD_INT 40
21183: PUSH
21184: LD_INT 10
21186: PUSH
21187: LD_INT 60
21189: PUSH
21190: LD_INT 52
21192: PUSH
21193: EMPTY
21194: LIST
21195: LIST
21196: LIST
21197: LIST
21198: LIST
21199: LIST
21200: LIST
21201: LIST
21202: LIST
21203: ST_TO_ADDR
// for i in ptech do
21204: LD_ADDR_VAR 0 6
21208: PUSH
21209: LD_VAR 0 4
21213: PUSH
21214: FOR_IN
21215: IFFALSE 21236
// EnableTech ( i , side , state_enabled ) ;
21217: LD_VAR 0 6
21221: PPUSH
21222: LD_VAR 0 1
21226: PPUSH
21227: LD_INT 1
21229: PPUSH
21230: CALL 22454 0 3
21234: GO 21214
21236: POP
21237: POP
// end ; 2 :
21238: GO 21531
21240: LD_INT 2
21242: DOUBLE
21243: EQUAL
21244: IFTRUE 21248
21246: GO 21389
21248: POP
// begin pbudovy = [ 30 , 11 , 13 , 1 ] ;
21249: LD_ADDR_VAR 0 5
21253: PUSH
21254: LD_INT 30
21256: PUSH
21257: LD_INT 11
21259: PUSH
21260: LD_INT 13
21262: PUSH
21263: LD_INT 1
21265: PUSH
21266: EMPTY
21267: LIST
21268: LIST
21269: LIST
21270: LIST
21271: ST_TO_ADDR
// for i in pbudovy do
21272: LD_ADDR_VAR 0 6
21276: PUSH
21277: LD_VAR 0 5
21281: PUSH
21282: FOR_IN
21283: IFFALSE 21304
// EnableBuilding ( i , side , state_enabled ) ;
21285: LD_VAR 0 6
21289: PPUSH
21290: LD_VAR 0 1
21294: PPUSH
21295: LD_INT 1
21297: PPUSH
21298: CALL 22533 0 3
21302: GO 21282
21304: POP
21305: POP
// ptech = [ 21 , 22 , 3 , 5 , 7 , 60 , 40 , 41 , 20 , 52 ] ;
21306: LD_ADDR_VAR 0 4
21310: PUSH
21311: LD_INT 21
21313: PUSH
21314: LD_INT 22
21316: PUSH
21317: LD_INT 3
21319: PUSH
21320: LD_INT 5
21322: PUSH
21323: LD_INT 7
21325: PUSH
21326: LD_INT 60
21328: PUSH
21329: LD_INT 40
21331: PUSH
21332: LD_INT 41
21334: PUSH
21335: LD_INT 20
21337: PUSH
21338: LD_INT 52
21340: PUSH
21341: EMPTY
21342: LIST
21343: LIST
21344: LIST
21345: LIST
21346: LIST
21347: LIST
21348: LIST
21349: LIST
21350: LIST
21351: LIST
21352: ST_TO_ADDR
// for i in ptech do
21353: LD_ADDR_VAR 0 6
21357: PUSH
21358: LD_VAR 0 4
21362: PUSH
21363: FOR_IN
21364: IFFALSE 21385
// EnableTech ( i , side , state_enabled ) ;
21366: LD_VAR 0 6
21370: PPUSH
21371: LD_VAR 0 1
21375: PPUSH
21376: LD_INT 1
21378: PPUSH
21379: CALL 22454 0 3
21383: GO 21363
21385: POP
21386: POP
// end ; 3 :
21387: GO 21531
21389: LD_INT 3
21391: DOUBLE
21392: EQUAL
21393: IFTRUE 21397
21395: GO 21530
21397: POP
// begin pbudovy = [ 12 , 11 , 16 , 1 ] ;
21398: LD_ADDR_VAR 0 5
21402: PUSH
21403: LD_INT 12
21405: PUSH
21406: LD_INT 11
21408: PUSH
21409: LD_INT 16
21411: PUSH
21412: LD_INT 1
21414: PUSH
21415: EMPTY
21416: LIST
21417: LIST
21418: LIST
21419: LIST
21420: ST_TO_ADDR
// for i in pbudovy do
21421: LD_ADDR_VAR 0 6
21425: PUSH
21426: LD_VAR 0 5
21430: PUSH
21431: FOR_IN
21432: IFFALSE 21453
// EnableBuilding ( i , side , state_enabled ) ;
21434: LD_VAR 0 6
21438: PPUSH
21439: LD_VAR 0 1
21443: PPUSH
21444: LD_INT 1
21446: PPUSH
21447: CALL 22533 0 3
21451: GO 21431
21453: POP
21454: POP
// ptech = [ 21 , 22 , 44 , 9 , 37 , 32 , 63 , 52 ] ;
21455: LD_ADDR_VAR 0 4
21459: PUSH
21460: LD_INT 21
21462: PUSH
21463: LD_INT 22
21465: PUSH
21466: LD_INT 44
21468: PUSH
21469: LD_INT 9
21471: PUSH
21472: LD_INT 37
21474: PUSH
21475: LD_INT 32
21477: PUSH
21478: LD_INT 63
21480: PUSH
21481: LD_INT 52
21483: PUSH
21484: EMPTY
21485: LIST
21486: LIST
21487: LIST
21488: LIST
21489: LIST
21490: LIST
21491: LIST
21492: LIST
21493: ST_TO_ADDR
// for i in ptech do
21494: LD_ADDR_VAR 0 6
21498: PUSH
21499: LD_VAR 0 4
21503: PUSH
21504: FOR_IN
21505: IFFALSE 21526
// EnableTech ( i , side , state_enabled ) ;
21507: LD_VAR 0 6
21511: PPUSH
21512: LD_VAR 0 1
21516: PPUSH
21517: LD_INT 1
21519: PPUSH
21520: CALL 22454 0 3
21524: GO 21504
21526: POP
21527: POP
// end ; end ;
21528: GO 21531
21530: POP
// Tech_Level = 4 ;
21531: LD_ADDR_EXP 56
21535: PUSH
21536: LD_INT 4
21538: ST_TO_ADDR
// end ;
21539: LD_VAR 0 2
21543: RET
// function ur_5 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
21544: LD_INT 0
21546: PPUSH
21547: PPUSH
21548: PPUSH
21549: PPUSH
21550: PPUSH
// narodnost := Side_Nations [ side ] ;
21551: LD_ADDR_VAR 0 3
21555: PUSH
21556: LD_EXP 76
21560: PUSH
21561: LD_VAR 0 1
21565: ARRAY
21566: ST_TO_ADDR
// case narodnost of 1 :
21567: LD_VAR 0 3
21571: PUSH
21572: LD_INT 1
21574: DOUBLE
21575: EQUAL
21576: IFTRUE 21580
21578: GO 21652
21580: POP
// begin ptech = [ 50 , 54 , 15 , 13 , 34 , 36 , 57 ] ;
21581: LD_ADDR_VAR 0 4
21585: PUSH
21586: LD_INT 50
21588: PUSH
21589: LD_INT 54
21591: PUSH
21592: LD_INT 15
21594: PUSH
21595: LD_INT 13
21597: PUSH
21598: LD_INT 34
21600: PUSH
21601: LD_INT 36
21603: PUSH
21604: LD_INT 57
21606: PUSH
21607: EMPTY
21608: LIST
21609: LIST
21610: LIST
21611: LIST
21612: LIST
21613: LIST
21614: LIST
21615: ST_TO_ADDR
// for i in ptech do
21616: LD_ADDR_VAR 0 6
21620: PUSH
21621: LD_VAR 0 4
21625: PUSH
21626: FOR_IN
21627: IFFALSE 21648
// EnableTech ( i , side , state_enabled ) ;
21629: LD_VAR 0 6
21633: PPUSH
21634: LD_VAR 0 1
21638: PPUSH
21639: LD_INT 1
21641: PPUSH
21642: CALL 22454 0 3
21646: GO 21626
21648: POP
21649: POP
// end ; 2 :
21650: GO 21825
21652: LD_INT 2
21654: DOUBLE
21655: EQUAL
21656: IFTRUE 21660
21658: GO 21732
21660: POP
// begin ptech = [ 50 , 54 , 66 , 18 , 15 , 43 , 26 , ] ;
21661: LD_ADDR_VAR 0 4
21665: PUSH
21666: LD_INT 50
21668: PUSH
21669: LD_INT 54
21671: PUSH
21672: LD_INT 66
21674: PUSH
21675: LD_INT 18
21677: PUSH
21678: LD_INT 15
21680: PUSH
21681: LD_INT 43
21683: PUSH
21684: LD_INT 26
21686: PUSH
21687: EMPTY
21688: LIST
21689: LIST
21690: LIST
21691: LIST
21692: LIST
21693: LIST
21694: LIST
21695: ST_TO_ADDR
// for i in ptech do
21696: LD_ADDR_VAR 0 6
21700: PUSH
21701: LD_VAR 0 4
21705: PUSH
21706: FOR_IN
21707: IFFALSE 21728
// EnableTech ( i , side , state_enabled ) ;
21709: LD_VAR 0 6
21713: PPUSH
21714: LD_VAR 0 1
21718: PPUSH
21719: LD_INT 1
21721: PPUSH
21722: CALL 22454 0 3
21726: GO 21706
21728: POP
21729: POP
// end ; 3 :
21730: GO 21825
21732: LD_INT 3
21734: DOUBLE
21735: EQUAL
21736: IFTRUE 21740
21738: GO 21824
21740: POP
// begin ptech = [ 50 , 54 , 57 , 29 , 28 , 33 , 34 , 19 , 27 , 38 ] ;
21741: LD_ADDR_VAR 0 4
21745: PUSH
21746: LD_INT 50
21748: PUSH
21749: LD_INT 54
21751: PUSH
21752: LD_INT 57
21754: PUSH
21755: LD_INT 29
21757: PUSH
21758: LD_INT 28
21760: PUSH
21761: LD_INT 33
21763: PUSH
21764: LD_INT 34
21766: PUSH
21767: LD_INT 19
21769: PUSH
21770: LD_INT 27
21772: PUSH
21773: LD_INT 38
21775: PUSH
21776: EMPTY
21777: LIST
21778: LIST
21779: LIST
21780: LIST
21781: LIST
21782: LIST
21783: LIST
21784: LIST
21785: LIST
21786: LIST
21787: ST_TO_ADDR
// for i in ptech do
21788: LD_ADDR_VAR 0 6
21792: PUSH
21793: LD_VAR 0 4
21797: PUSH
21798: FOR_IN
21799: IFFALSE 21820
// EnableTech ( i , side , state_enabled ) ;
21801: LD_VAR 0 6
21805: PPUSH
21806: LD_VAR 0 1
21810: PPUSH
21811: LD_INT 1
21813: PPUSH
21814: CALL 22454 0 3
21818: GO 21798
21820: POP
21821: POP
// end ; end ;
21822: GO 21825
21824: POP
// Tech_Level = 5 ;
21825: LD_ADDR_EXP 56
21829: PUSH
21830: LD_INT 5
21832: ST_TO_ADDR
// end ;
21833: LD_VAR 0 2
21837: RET
// function ur_6 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
21838: LD_INT 0
21840: PPUSH
21841: PPUSH
21842: PPUSH
21843: PPUSH
21844: PPUSH
// narodnost := Side_Nations [ side ] ;
21845: LD_ADDR_VAR 0 3
21849: PUSH
21850: LD_EXP 76
21854: PUSH
21855: LD_VAR 0 1
21859: ARRAY
21860: ST_TO_ADDR
// case narodnost of 1 :
21861: LD_VAR 0 3
21865: PUSH
21866: LD_INT 1
21868: DOUBLE
21869: EQUAL
21870: IFTRUE 21874
21872: GO 21942
21874: POP
// begin ptech = [ 53 , 55 , 16 , 61 , 58 , 27 ] ;
21875: LD_ADDR_VAR 0 4
21879: PUSH
21880: LD_INT 53
21882: PUSH
21883: LD_INT 55
21885: PUSH
21886: LD_INT 16
21888: PUSH
21889: LD_INT 61
21891: PUSH
21892: LD_INT 58
21894: PUSH
21895: LD_INT 27
21897: PUSH
21898: EMPTY
21899: LIST
21900: LIST
21901: LIST
21902: LIST
21903: LIST
21904: LIST
21905: ST_TO_ADDR
// for i in ptech do
21906: LD_ADDR_VAR 0 6
21910: PUSH
21911: LD_VAR 0 4
21915: PUSH
21916: FOR_IN
21917: IFFALSE 21938
// EnableTech ( i , side , state_enabled ) ;
21919: LD_VAR 0 6
21923: PPUSH
21924: LD_VAR 0 1
21928: PPUSH
21929: LD_INT 1
21931: PPUSH
21932: CALL 22454 0 3
21936: GO 21916
21938: POP
21939: POP
// end ; 2 :
21940: GO 22095
21942: LD_INT 2
21944: DOUBLE
21945: EQUAL
21946: IFTRUE 21950
21948: GO 22018
21950: POP
// begin ptech = [ 53 , 55 , 61 , 67 , 4 , 8 ] ;
21951: LD_ADDR_VAR 0 4
21955: PUSH
21956: LD_INT 53
21958: PUSH
21959: LD_INT 55
21961: PUSH
21962: LD_INT 61
21964: PUSH
21965: LD_INT 67
21967: PUSH
21968: LD_INT 4
21970: PUSH
21971: LD_INT 8
21973: PUSH
21974: EMPTY
21975: LIST
21976: LIST
21977: LIST
21978: LIST
21979: LIST
21980: LIST
21981: ST_TO_ADDR
// for i in ptech do
21982: LD_ADDR_VAR 0 6
21986: PUSH
21987: LD_VAR 0 4
21991: PUSH
21992: FOR_IN
21993: IFFALSE 22014
// EnableTech ( i , side , state_enabled ) ;
21995: LD_VAR 0 6
21999: PPUSH
22000: LD_VAR 0 1
22004: PPUSH
22005: LD_INT 1
22007: PPUSH
22008: CALL 22454 0 3
22012: GO 21992
22014: POP
22015: POP
// end ; 3 :
22016: GO 22095
22018: LD_INT 3
22020: DOUBLE
22021: EQUAL
22022: IFTRUE 22026
22024: GO 22094
22026: POP
// begin ptech = [ 53 , 55 , 58 , 64 , 71 , 31 ] ;
22027: LD_ADDR_VAR 0 4
22031: PUSH
22032: LD_INT 53
22034: PUSH
22035: LD_INT 55
22037: PUSH
22038: LD_INT 58
22040: PUSH
22041: LD_INT 64
22043: PUSH
22044: LD_INT 71
22046: PUSH
22047: LD_INT 31
22049: PUSH
22050: EMPTY
22051: LIST
22052: LIST
22053: LIST
22054: LIST
22055: LIST
22056: LIST
22057: ST_TO_ADDR
// for i in ptech do
22058: LD_ADDR_VAR 0 6
22062: PUSH
22063: LD_VAR 0 4
22067: PUSH
22068: FOR_IN
22069: IFFALSE 22090
// EnableTech ( i , side , state_enabled ) ;
22071: LD_VAR 0 6
22075: PPUSH
22076: LD_VAR 0 1
22080: PPUSH
22081: LD_INT 1
22083: PPUSH
22084: CALL 22454 0 3
22088: GO 22068
22090: POP
22091: POP
// end ; end ;
22092: GO 22095
22094: POP
// Tech_Level = 6 ;
22095: LD_ADDR_EXP 56
22099: PUSH
22100: LD_INT 6
22102: ST_TO_ADDR
// end ;
22103: LD_VAR 0 2
22107: RET
// function ur_7 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
22108: LD_INT 0
22110: PPUSH
22111: PPUSH
22112: PPUSH
22113: PPUSH
22114: PPUSH
// narodnost := Side_Nations [ side ] ;
22115: LD_ADDR_VAR 0 3
22119: PUSH
22120: LD_EXP 76
22124: PUSH
22125: LD_VAR 0 1
22129: ARRAY
22130: ST_TO_ADDR
// case narodnost of 1 :
22131: LD_VAR 0 3
22135: PUSH
22136: LD_INT 1
22138: DOUBLE
22139: EQUAL
22140: IFTRUE 22144
22142: GO 22204
22144: POP
// begin ptech = [ 56 , 62 , 59 , 14 ] ;
22145: LD_ADDR_VAR 0 4
22149: PUSH
22150: LD_INT 56
22152: PUSH
22153: LD_INT 62
22155: PUSH
22156: LD_INT 59
22158: PUSH
22159: LD_INT 14
22161: PUSH
22162: EMPTY
22163: LIST
22164: LIST
22165: LIST
22166: LIST
22167: ST_TO_ADDR
// for i in ptech do
22168: LD_ADDR_VAR 0 6
22172: PUSH
22173: LD_VAR 0 4
22177: PUSH
22178: FOR_IN
22179: IFFALSE 22200
// EnableTech ( i , side , state_enabled ) ;
22181: LD_VAR 0 6
22185: PPUSH
22186: LD_VAR 0 1
22190: PPUSH
22191: LD_INT 1
22193: PPUSH
22194: CALL 22454 0 3
22198: GO 22178
22200: POP
22201: POP
// end ; 2 :
22202: GO 22341
22204: LD_INT 2
22206: DOUBLE
22207: EQUAL
22208: IFTRUE 22212
22210: GO 22272
22212: POP
// begin ptech = [ 56 , 62 , 68 , 72 ] ;
22213: LD_ADDR_VAR 0 4
22217: PUSH
22218: LD_INT 56
22220: PUSH
22221: LD_INT 62
22223: PUSH
22224: LD_INT 68
22226: PUSH
22227: LD_INT 72
22229: PUSH
22230: EMPTY
22231: LIST
22232: LIST
22233: LIST
22234: LIST
22235: ST_TO_ADDR
// for i in ptech do
22236: LD_ADDR_VAR 0 6
22240: PUSH
22241: LD_VAR 0 4
22245: PUSH
22246: FOR_IN
22247: IFFALSE 22268
// EnableTech ( i , side , state_enabled ) ;
22249: LD_VAR 0 6
22253: PPUSH
22254: LD_VAR 0 1
22258: PPUSH
22259: LD_INT 1
22261: PPUSH
22262: CALL 22454 0 3
22266: GO 22246
22268: POP
22269: POP
// end ; 3 :
22270: GO 22341
22272: LD_INT 3
22274: DOUBLE
22275: EQUAL
22276: IFTRUE 22280
22278: GO 22340
22280: POP
// begin ptech = [ 56 , 59 , 65 , 23 ] ;
22281: LD_ADDR_VAR 0 4
22285: PUSH
22286: LD_INT 56
22288: PUSH
22289: LD_INT 59
22291: PUSH
22292: LD_INT 65
22294: PUSH
22295: LD_INT 23
22297: PUSH
22298: EMPTY
22299: LIST
22300: LIST
22301: LIST
22302: LIST
22303: ST_TO_ADDR
// for i in ptech do
22304: LD_ADDR_VAR 0 6
22308: PUSH
22309: LD_VAR 0 4
22313: PUSH
22314: FOR_IN
22315: IFFALSE 22336
// EnableTech ( i , side , state_enabled ) ;
22317: LD_VAR 0 6
22321: PPUSH
22322: LD_VAR 0 1
22326: PPUSH
22327: LD_INT 1
22329: PPUSH
22330: CALL 22454 0 3
22334: GO 22314
22336: POP
22337: POP
// end ; end ;
22338: GO 22341
22340: POP
// Tech_Level = 7 ;
22341: LD_ADDR_EXP 56
22345: PUSH
22346: LD_INT 7
22348: ST_TO_ADDR
// end ;
22349: LD_VAR 0 2
22353: RET
// function ur_8 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
22354: LD_INT 0
22356: PPUSH
22357: PPUSH
22358: PPUSH
22359: PPUSH
22360: PPUSH
// narodnost := Side_Nations [ side ] ;
22361: LD_ADDR_VAR 0 3
22365: PUSH
22366: LD_EXP 76
22370: PUSH
22371: LD_VAR 0 1
22375: ARRAY
22376: ST_TO_ADDR
// case narodnost of 1 , 3 :
22377: LD_VAR 0 3
22381: PUSH
22382: LD_INT 1
22384: DOUBLE
22385: EQUAL
22386: IFTRUE 22396
22388: LD_INT 3
22390: DOUBLE
22391: EQUAL
22392: IFTRUE 22396
22394: GO 22414
22396: POP
// EnableTech ( 25 , side , state_enabled ) ; 2 :
22397: LD_INT 25
22399: PPUSH
22400: LD_VAR 0 1
22404: PPUSH
22405: LD_INT 1
22407: PPUSH
22408: CALL 22454 0 3
22412: GO 22441
22414: LD_INT 2
22416: DOUBLE
22417: EQUAL
22418: IFTRUE 22422
22420: GO 22440
22422: POP
// EnableTech ( 73 , side , state_enabled ) ; end ;
22423: LD_INT 73
22425: PPUSH
22426: LD_VAR 0 1
22430: PPUSH
22431: LD_INT 1
22433: PPUSH
22434: CALL 22454 0 3
22438: GO 22441
22440: POP
// Tech_Level = 8 ;
22441: LD_ADDR_EXP 56
22445: PUSH
22446: LD_INT 8
22448: ST_TO_ADDR
// end ;
22449: LD_VAR 0 2
22453: RET
// function EnableTech ( id , side , state ) ; begin
22454: LD_INT 0
22456: PPUSH
// if state in [ state_enabled , state_researched ] then
22457: LD_VAR 0 3
22461: PUSH
22462: LD_INT 1
22464: PUSH
22465: LD_INT 2
22467: PUSH
22468: EMPTY
22469: LIST
22470: LIST
22471: IN
22472: IFFALSE 22509
// begin if GetRestrictions ( false , id ) then
22474: LD_INT 0
22476: PPUSH
22477: LD_VAR 0 1
22481: PPUSH
22482: CALL_OW 565
22486: IFFALSE 22507
// SetTech ( id , side , state ) ;
22488: LD_VAR 0 1
22492: PPUSH
22493: LD_VAR 0 2
22497: PPUSH
22498: LD_VAR 0 3
22502: PPUSH
22503: CALL_OW 322
// end else
22507: GO 22528
// setTech ( id , side , state ) ;
22509: LD_VAR 0 1
22513: PPUSH
22514: LD_VAR 0 2
22518: PPUSH
22519: LD_VAR 0 3
22523: PPUSH
22524: CALL_OW 322
// end ;
22528: LD_VAR 0 4
22532: RET
// function EnableBuilding ( id , side , state ) ; begin
22533: LD_INT 0
22535: PPUSH
// if state in [ state_enabled ] then
22536: LD_VAR 0 3
22540: PUSH
22541: LD_INT 1
22543: PUSH
22544: EMPTY
22545: LIST
22546: IN
22547: IFFALSE 22584
// begin if GetRestrictions ( true , id ) then
22549: LD_INT 1
22551: PPUSH
22552: LD_VAR 0 1
22556: PPUSH
22557: CALL_OW 565
22561: IFFALSE 22582
// SetRestrict ( id , side , state ) ;
22563: LD_VAR 0 1
22567: PPUSH
22568: LD_VAR 0 2
22572: PPUSH
22573: LD_VAR 0 3
22577: PPUSH
22578: CALL_OW 324
// end else
22582: GO 22603
// SetRestrict ( id , side , state ) ;
22584: LD_VAR 0 1
22588: PPUSH
22589: LD_VAR 0 2
22593: PPUSH
22594: LD_VAR 0 3
22598: PPUSH
22599: CALL_OW 324
// end ; end_of_file
22603: LD_VAR 0 4
22607: RET
// var win ; export function init_kings_counting ; var i ; begin
22608: LD_INT 0
22610: PPUSH
22611: PPUSH
// mp_with_score := true ;
22612: LD_ADDR_OWVAR 14
22616: PUSH
22617: LD_INT 1
22619: ST_TO_ADDR
// ResetMultiScore ;
22620: CALL_OW 508
// SetAreaMapShow ( king_territory , true ) ;
22624: LD_EXP 92
22628: PPUSH
22629: LD_INT 1
22631: PPUSH
22632: CALL_OW 424
// enable ( 2 ) ;
22636: LD_INT 2
22638: ENABLE_MARKED
// end ;
22639: LD_VAR 0 1
22643: RET
// function show_public_points ; var side , vypis , i , red , blue , yel , green , p ; begin
22644: LD_INT 0
22646: PPUSH
22647: PPUSH
22648: PPUSH
22649: PPUSH
22650: PPUSH
22651: PPUSH
22652: PPUSH
22653: PPUSH
22654: PPUSH
// vypis := [ ] ;
22655: LD_ADDR_VAR 0 3
22659: PUSH
22660: EMPTY
22661: ST_TO_ADDR
// red = 0 ;
22662: LD_ADDR_VAR 0 5
22666: PUSH
22667: LD_INT 0
22669: ST_TO_ADDR
// blue = 0 ;
22670: LD_ADDR_VAR 0 6
22674: PUSH
22675: LD_INT 0
22677: ST_TO_ADDR
// yel = 0 ;
22678: LD_ADDR_VAR 0 7
22682: PUSH
22683: LD_INT 0
22685: ST_TO_ADDR
// green = 0 ;
22686: LD_ADDR_VAR 0 8
22690: PUSH
22691: LD_INT 0
22693: ST_TO_ADDR
// if def_public_score or isSGUI then
22694: LD_EXP 34
22698: PUSH
22699: LD_OWVAR 83
22703: OR
22704: IFFALSE 23301
// if not Team_Game then
22706: LD_EXP 80
22710: NOT
22711: IFFALSE 22833
// begin for side = 1 to Side_Positions do
22713: LD_ADDR_VAR 0 2
22717: PUSH
22718: DOUBLE
22719: LD_INT 1
22721: DEC
22722: ST_TO_ADDR
22723: LD_EXP 75
22727: PUSH
22728: FOR_TO
22729: IFFALSE 22829
// if Side_Positions [ side ] then
22731: LD_EXP 75
22735: PUSH
22736: LD_VAR 0 2
22740: ARRAY
22741: IFFALSE 22827
// begin vypis := vypis ^ [ #KingoftheHill-Public , side , side , ( GetTag ( side + 10 ) div 3 ) , final_count ] ;
22743: LD_ADDR_VAR 0 3
22747: PUSH
22748: LD_VAR 0 3
22752: PUSH
22753: LD_STRING #KingoftheHill-Public
22755: PUSH
22756: LD_VAR 0 2
22760: PUSH
22761: LD_VAR 0 2
22765: PUSH
22766: LD_VAR 0 2
22770: PUSH
22771: LD_INT 10
22773: PLUS
22774: PPUSH
22775: CALL_OW 110
22779: PUSH
22780: LD_INT 3
22782: DIV
22783: PUSH
22784: LD_EXP 57
22788: PUSH
22789: EMPTY
22790: LIST
22791: LIST
22792: LIST
22793: LIST
22794: LIST
22795: ADD
22796: ST_TO_ADDR
// LScore_Update_Points ( 2 , side , ( GetTag ( side + 10 ) div 3 ) ) ;
22797: LD_INT 2
22799: PPUSH
22800: LD_VAR 0 2
22804: PPUSH
22805: LD_VAR 0 2
22809: PUSH
22810: LD_INT 10
22812: PLUS
22813: PPUSH
22814: CALL_OW 110
22818: PUSH
22819: LD_INT 3
22821: DIV
22822: PPUSH
22823: CALL 36793 0 3
// end ;
22827: GO 22728
22829: POP
22830: POP
// end else
22831: GO 23299
// begin if Teams [ 1 ] then
22833: LD_EXP 73
22837: PUSH
22838: LD_INT 1
22840: ARRAY
22841: IFFALSE 22893
// for i in Teams [ 1 ] do
22843: LD_ADDR_VAR 0 4
22847: PUSH
22848: LD_EXP 73
22852: PUSH
22853: LD_INT 1
22855: ARRAY
22856: PUSH
22857: FOR_IN
22858: IFFALSE 22891
// red = red + ( GetTag ( i + 10 ) div 3 ) ;
22860: LD_ADDR_VAR 0 5
22864: PUSH
22865: LD_VAR 0 5
22869: PUSH
22870: LD_VAR 0 4
22874: PUSH
22875: LD_INT 10
22877: PLUS
22878: PPUSH
22879: CALL_OW 110
22883: PUSH
22884: LD_INT 3
22886: DIV
22887: PLUS
22888: ST_TO_ADDR
22889: GO 22857
22891: POP
22892: POP
// if Teams [ 2 ] then
22893: LD_EXP 73
22897: PUSH
22898: LD_INT 2
22900: ARRAY
22901: IFFALSE 22953
// for i in Teams [ 2 ] do
22903: LD_ADDR_VAR 0 4
22907: PUSH
22908: LD_EXP 73
22912: PUSH
22913: LD_INT 2
22915: ARRAY
22916: PUSH
22917: FOR_IN
22918: IFFALSE 22951
// blue = blue + ( GetTag ( i + 10 ) div 3 ) ;
22920: LD_ADDR_VAR 0 6
22924: PUSH
22925: LD_VAR 0 6
22929: PUSH
22930: LD_VAR 0 4
22934: PUSH
22935: LD_INT 10
22937: PLUS
22938: PPUSH
22939: CALL_OW 110
22943: PUSH
22944: LD_INT 3
22946: DIV
22947: PLUS
22948: ST_TO_ADDR
22949: GO 22917
22951: POP
22952: POP
// if Teams [ 3 ] then
22953: LD_EXP 73
22957: PUSH
22958: LD_INT 3
22960: ARRAY
22961: IFFALSE 23013
// for i in Teams [ 3 ] do
22963: LD_ADDR_VAR 0 4
22967: PUSH
22968: LD_EXP 73
22972: PUSH
22973: LD_INT 3
22975: ARRAY
22976: PUSH
22977: FOR_IN
22978: IFFALSE 23011
// yel = yel + ( GetTag ( i + 10 ) div 3 ) ;
22980: LD_ADDR_VAR 0 7
22984: PUSH
22985: LD_VAR 0 7
22989: PUSH
22990: LD_VAR 0 4
22994: PUSH
22995: LD_INT 10
22997: PLUS
22998: PPUSH
22999: CALL_OW 110
23003: PUSH
23004: LD_INT 3
23006: DIV
23007: PLUS
23008: ST_TO_ADDR
23009: GO 22977
23011: POP
23012: POP
// if Teams [ 4 ] then
23013: LD_EXP 73
23017: PUSH
23018: LD_INT 4
23020: ARRAY
23021: IFFALSE 23073
// for i in Teams [ 4 ] do
23023: LD_ADDR_VAR 0 4
23027: PUSH
23028: LD_EXP 73
23032: PUSH
23033: LD_INT 4
23035: ARRAY
23036: PUSH
23037: FOR_IN
23038: IFFALSE 23071
// green = green + ( GetTag ( i + 10 ) div 3 ) ;
23040: LD_ADDR_VAR 0 8
23044: PUSH
23045: LD_VAR 0 8
23049: PUSH
23050: LD_VAR 0 4
23054: PUSH
23055: LD_INT 10
23057: PLUS
23058: PPUSH
23059: CALL_OW 110
23063: PUSH
23064: LD_INT 3
23066: DIV
23067: PLUS
23068: ST_TO_ADDR
23069: GO 23037
23071: POP
23072: POP
// if Teams [ 1 ] then
23073: LD_EXP 73
23077: PUSH
23078: LD_INT 1
23080: ARRAY
23081: IFFALSE 23110
// vypis := [ #KingoftheHill-Public-red , 3 , Red , final_count ] ;
23083: LD_ADDR_VAR 0 3
23087: PUSH
23088: LD_STRING #KingoftheHill-Public-red
23090: PUSH
23091: LD_INT 3
23093: PUSH
23094: LD_VAR 0 5
23098: PUSH
23099: LD_EXP 57
23103: PUSH
23104: EMPTY
23105: LIST
23106: LIST
23107: LIST
23108: LIST
23109: ST_TO_ADDR
// if Teams [ 2 ] then
23110: LD_EXP 73
23114: PUSH
23115: LD_INT 2
23117: ARRAY
23118: IFFALSE 23153
// vypis := vypis ^ [ #KingoftheHill-Public-blue , 1 , Blue , final_count ] ;
23120: LD_ADDR_VAR 0 3
23124: PUSH
23125: LD_VAR 0 3
23129: PUSH
23130: LD_STRING #KingoftheHill-Public-blue
23132: PUSH
23133: LD_INT 1
23135: PUSH
23136: LD_VAR 0 6
23140: PUSH
23141: LD_EXP 57
23145: PUSH
23146: EMPTY
23147: LIST
23148: LIST
23149: LIST
23150: LIST
23151: ADD
23152: ST_TO_ADDR
// if Teams [ 3 ] then
23153: LD_EXP 73
23157: PUSH
23158: LD_INT 3
23160: ARRAY
23161: IFFALSE 23196
// vypis := vypis ^ [ #KingoftheHill-Public-yell , 2 , yel , final_count ] ;
23163: LD_ADDR_VAR 0 3
23167: PUSH
23168: LD_VAR 0 3
23172: PUSH
23173: LD_STRING #KingoftheHill-Public-yell
23175: PUSH
23176: LD_INT 2
23178: PUSH
23179: LD_VAR 0 7
23183: PUSH
23184: LD_EXP 57
23188: PUSH
23189: EMPTY
23190: LIST
23191: LIST
23192: LIST
23193: LIST
23194: ADD
23195: ST_TO_ADDR
// if Teams [ 4 ] then
23196: LD_EXP 73
23200: PUSH
23201: LD_INT 4
23203: ARRAY
23204: IFFALSE 23239
// vypis := vypis ^ [ #KingoftheHill-Public-green , 7 , green , final_count ] ;
23206: LD_ADDR_VAR 0 3
23210: PUSH
23211: LD_VAR 0 3
23215: PUSH
23216: LD_STRING #KingoftheHill-Public-green
23218: PUSH
23219: LD_INT 7
23221: PUSH
23222: LD_VAR 0 8
23226: PUSH
23227: LD_EXP 57
23231: PUSH
23232: EMPTY
23233: LIST
23234: LIST
23235: LIST
23236: LIST
23237: ADD
23238: ST_TO_ADDR
// LScore_Update_Points ( 2 , 3 , red ) ;
23239: LD_INT 2
23241: PPUSH
23242: LD_INT 3
23244: PPUSH
23245: LD_VAR 0 5
23249: PPUSH
23250: CALL 36793 0 3
// LScore_Update_Points ( 2 , 1 , blue ) ;
23254: LD_INT 2
23256: PPUSH
23257: LD_INT 1
23259: PPUSH
23260: LD_VAR 0 6
23264: PPUSH
23265: CALL 36793 0 3
// LScore_Update_Points ( 2 , 2 , yel ) ;
23269: LD_INT 2
23271: PPUSH
23272: LD_INT 2
23274: PPUSH
23275: LD_VAR 0 7
23279: PPUSH
23280: CALL 36793 0 3
// LScore_Update_Points ( 2 , 7 , green ) ;
23284: LD_INT 2
23286: PPUSH
23287: LD_INT 7
23289: PPUSH
23290: LD_VAR 0 8
23294: PPUSH
23295: CALL 36793 0 3
// end else
23299: GO 23736
// if not Team_Game then
23301: LD_EXP 80
23305: NOT
23306: IFFALSE 23364
// vypis := vypis ^ [ #KingoftheHill-Private , mp_player_side , mp_player_side , ( GetTag ( side + 10 ) div 3 ) , final_count ] else
23308: LD_ADDR_VAR 0 3
23312: PUSH
23313: LD_VAR 0 3
23317: PUSH
23318: LD_STRING #KingoftheHill-Private
23320: PUSH
23321: LD_OWVAR 7
23325: PUSH
23326: LD_OWVAR 7
23330: PUSH
23331: LD_VAR 0 2
23335: PUSH
23336: LD_INT 10
23338: PLUS
23339: PPUSH
23340: CALL_OW 110
23344: PUSH
23345: LD_INT 3
23347: DIV
23348: PUSH
23349: LD_EXP 57
23353: PUSH
23354: EMPTY
23355: LIST
23356: LIST
23357: LIST
23358: LIST
23359: LIST
23360: ADD
23361: ST_TO_ADDR
23362: GO 23736
// begin for i in Teams [ 1 ] do
23364: LD_ADDR_VAR 0 4
23368: PUSH
23369: LD_EXP 73
23373: PUSH
23374: LD_INT 1
23376: ARRAY
23377: PUSH
23378: FOR_IN
23379: IFFALSE 23412
// red = red + ( GetTag ( i + 10 ) div 3 ) ;
23381: LD_ADDR_VAR 0 5
23385: PUSH
23386: LD_VAR 0 5
23390: PUSH
23391: LD_VAR 0 4
23395: PUSH
23396: LD_INT 10
23398: PLUS
23399: PPUSH
23400: CALL_OW 110
23404: PUSH
23405: LD_INT 3
23407: DIV
23408: PLUS
23409: ST_TO_ADDR
23410: GO 23378
23412: POP
23413: POP
// for i in Teams [ 2 ] do
23414: LD_ADDR_VAR 0 4
23418: PUSH
23419: LD_EXP 73
23423: PUSH
23424: LD_INT 2
23426: ARRAY
23427: PUSH
23428: FOR_IN
23429: IFFALSE 23462
// blue = blue + ( GetTag ( i + 10 ) div 3 ) ;
23431: LD_ADDR_VAR 0 6
23435: PUSH
23436: LD_VAR 0 6
23440: PUSH
23441: LD_VAR 0 4
23445: PUSH
23446: LD_INT 10
23448: PLUS
23449: PPUSH
23450: CALL_OW 110
23454: PUSH
23455: LD_INT 3
23457: DIV
23458: PLUS
23459: ST_TO_ADDR
23460: GO 23428
23462: POP
23463: POP
// for i in Teams [ 3 ] do
23464: LD_ADDR_VAR 0 4
23468: PUSH
23469: LD_EXP 73
23473: PUSH
23474: LD_INT 3
23476: ARRAY
23477: PUSH
23478: FOR_IN
23479: IFFALSE 23512
// yel = yel + ( GetTag ( i + 10 ) div 3 ) ;
23481: LD_ADDR_VAR 0 7
23485: PUSH
23486: LD_VAR 0 7
23490: PUSH
23491: LD_VAR 0 4
23495: PUSH
23496: LD_INT 10
23498: PLUS
23499: PPUSH
23500: CALL_OW 110
23504: PUSH
23505: LD_INT 3
23507: DIV
23508: PLUS
23509: ST_TO_ADDR
23510: GO 23478
23512: POP
23513: POP
// for i in Teams [ 4 ] do
23514: LD_ADDR_VAR 0 4
23518: PUSH
23519: LD_EXP 73
23523: PUSH
23524: LD_INT 4
23526: ARRAY
23527: PUSH
23528: FOR_IN
23529: IFFALSE 23562
// green = green + ( GetTag ( i + 10 ) div 3 ) ;
23531: LD_ADDR_VAR 0 8
23535: PUSH
23536: LD_VAR 0 8
23540: PUSH
23541: LD_VAR 0 4
23545: PUSH
23546: LD_INT 10
23548: PLUS
23549: PPUSH
23550: CALL_OW 110
23554: PUSH
23555: LD_INT 3
23557: DIV
23558: PLUS
23559: ST_TO_ADDR
23560: GO 23528
23562: POP
23563: POP
// if mp_player_side in Teams [ 1 ] then
23564: LD_OWVAR 7
23568: PUSH
23569: LD_EXP 73
23573: PUSH
23574: LD_INT 1
23576: ARRAY
23577: IN
23578: IFFALSE 23607
// vypis := [ #KingoftheHill-Public-red , 3 , Red , final_count ] ;
23580: LD_ADDR_VAR 0 3
23584: PUSH
23585: LD_STRING #KingoftheHill-Public-red
23587: PUSH
23588: LD_INT 3
23590: PUSH
23591: LD_VAR 0 5
23595: PUSH
23596: LD_EXP 57
23600: PUSH
23601: EMPTY
23602: LIST
23603: LIST
23604: LIST
23605: LIST
23606: ST_TO_ADDR
// if mp_player_side in Teams [ 2 ] then
23607: LD_OWVAR 7
23611: PUSH
23612: LD_EXP 73
23616: PUSH
23617: LD_INT 2
23619: ARRAY
23620: IN
23621: IFFALSE 23650
// vypis := [ #KingoftheHill-Public-blue , 1 , Blue , final_count ] ;
23623: LD_ADDR_VAR 0 3
23627: PUSH
23628: LD_STRING #KingoftheHill-Public-blue
23630: PUSH
23631: LD_INT 1
23633: PUSH
23634: LD_VAR 0 6
23638: PUSH
23639: LD_EXP 57
23643: PUSH
23644: EMPTY
23645: LIST
23646: LIST
23647: LIST
23648: LIST
23649: ST_TO_ADDR
// if mp_player_side in Teams [ 3 ] then
23650: LD_OWVAR 7
23654: PUSH
23655: LD_EXP 73
23659: PUSH
23660: LD_INT 3
23662: ARRAY
23663: IN
23664: IFFALSE 23693
// vypis := [ #KingoftheHill-Public-yell , 2 , yel , final_count ] ;
23666: LD_ADDR_VAR 0 3
23670: PUSH
23671: LD_STRING #KingoftheHill-Public-yell
23673: PUSH
23674: LD_INT 2
23676: PUSH
23677: LD_VAR 0 7
23681: PUSH
23682: LD_EXP 57
23686: PUSH
23687: EMPTY
23688: LIST
23689: LIST
23690: LIST
23691: LIST
23692: ST_TO_ADDR
// if mp_player_side in Teams [ 4 ] then
23693: LD_OWVAR 7
23697: PUSH
23698: LD_EXP 73
23702: PUSH
23703: LD_INT 4
23705: ARRAY
23706: IN
23707: IFFALSE 23736
// vypis := [ #KingoftheHill-Public-green , 7 , green , final_count ] ;
23709: LD_ADDR_VAR 0 3
23713: PUSH
23714: LD_STRING #KingoftheHill-Public-green
23716: PUSH
23717: LD_INT 7
23719: PUSH
23720: LD_VAR 0 8
23724: PUSH
23725: LD_EXP 57
23729: PUSH
23730: EMPTY
23731: LIST
23732: LIST
23733: LIST
23734: LIST
23735: ST_TO_ADDR
// end ; Display_kings := vypis ;
23736: LD_ADDR_EXP 108
23740: PUSH
23741: LD_VAR 0 3
23745: ST_TO_ADDR
// end ;
23746: LD_VAR 0 1
23750: RET
// function count_king ; var side , list , un , red , blue , yel , green , i ; begin
23751: LD_INT 0
23753: PPUSH
23754: PPUSH
23755: PPUSH
23756: PPUSH
23757: PPUSH
23758: PPUSH
23759: PPUSH
23760: PPUSH
23761: PPUSH
// side := [ ] ;
23762: LD_ADDR_VAR 0 2
23766: PUSH
23767: EMPTY
23768: ST_TO_ADDR
// red = 0 ;
23769: LD_ADDR_VAR 0 5
23773: PUSH
23774: LD_INT 0
23776: ST_TO_ADDR
// blue = 0 ;
23777: LD_ADDR_VAR 0 6
23781: PUSH
23782: LD_INT 0
23784: ST_TO_ADDR
// yel = 0 ;
23785: LD_ADDR_VAR 0 7
23789: PUSH
23790: LD_INT 0
23792: ST_TO_ADDR
// green = 0 ;
23793: LD_ADDR_VAR 0 8
23797: PUSH
23798: LD_INT 0
23800: ST_TO_ADDR
// list := FilterUnitsInArea ( king_territory , [ [ f_type , unit_building ] , [ f_ready ] ] ) ;
23801: LD_ADDR_VAR 0 3
23805: PUSH
23806: LD_EXP 92
23810: PPUSH
23811: LD_INT 21
23813: PUSH
23814: LD_INT 3
23816: PUSH
23817: EMPTY
23818: LIST
23819: LIST
23820: PUSH
23821: LD_INT 53
23823: PUSH
23824: EMPTY
23825: LIST
23826: PUSH
23827: EMPTY
23828: LIST
23829: LIST
23830: PPUSH
23831: CALL_OW 70
23835: ST_TO_ADDR
// for un in list do
23836: LD_ADDR_VAR 0 4
23840: PUSH
23841: LD_VAR 0 3
23845: PUSH
23846: FOR_IN
23847: IFFALSE 23872
// side := side union GetSide ( un ) ;
23849: LD_ADDR_VAR 0 2
23853: PUSH
23854: LD_VAR 0 2
23858: PUSH
23859: LD_VAR 0 4
23863: PPUSH
23864: CALL_OW 255
23868: UNION
23869: ST_TO_ADDR
23870: GO 23846
23872: POP
23873: POP
// if side <> 1 then
23874: LD_VAR 0 2
23878: PUSH
23879: LD_INT 1
23881: NONEQUAL
23882: IFFALSE 23886
// exit ;
23884: GO 24249
// side := side [ 1 ] ;
23886: LD_ADDR_VAR 0 2
23890: PUSH
23891: LD_VAR 0 2
23895: PUSH
23896: LD_INT 1
23898: ARRAY
23899: ST_TO_ADDR
// SetTag ( side + 10 , GetTag ( side + 10 ) + 1 ) ;
23900: LD_VAR 0 2
23904: PUSH
23905: LD_INT 10
23907: PLUS
23908: PPUSH
23909: LD_VAR 0 2
23913: PUSH
23914: LD_INT 10
23916: PLUS
23917: PPUSH
23918: CALL_OW 110
23922: PUSH
23923: LD_INT 1
23925: PLUS
23926: PPUSH
23927: CALL_OW 109
// SetSharedMultiScore ( side , GetTag ( side + 10 ) div 3 , 2 ) ;
23931: LD_VAR 0 2
23935: PPUSH
23936: LD_VAR 0 2
23940: PUSH
23941: LD_INT 10
23943: PLUS
23944: PPUSH
23945: CALL_OW 110
23949: PUSH
23950: LD_INT 3
23952: DIV
23953: PPUSH
23954: LD_INT 2
23956: PPUSH
23957: CALL 35344 0 3
// if not Team_Game then
23961: LD_EXP 80
23965: NOT
23966: IFFALSE 24249
// if GetTag ( side + 10 ) >= final_count * 3 then
23968: LD_VAR 0 2
23972: PUSH
23973: LD_INT 10
23975: PLUS
23976: PPUSH
23977: CALL_OW 110
23981: PUSH
23982: LD_EXP 57
23986: PUSH
23987: LD_INT 3
23989: MUL
23990: GREATEREQUAL
23991: IFFALSE 23998
// enable ( 3 ) else
23993: LD_INT 3
23995: ENABLE_MARKED
23996: GO 24249
// begin for i in Teams [ 1 ] do
23998: LD_ADDR_VAR 0 9
24002: PUSH
24003: LD_EXP 73
24007: PUSH
24008: LD_INT 1
24010: ARRAY
24011: PUSH
24012: FOR_IN
24013: IFFALSE 24046
// red = red + ( GetTag ( i + 10 ) div 3 ) ;
24015: LD_ADDR_VAR 0 5
24019: PUSH
24020: LD_VAR 0 5
24024: PUSH
24025: LD_VAR 0 9
24029: PUSH
24030: LD_INT 10
24032: PLUS
24033: PPUSH
24034: CALL_OW 110
24038: PUSH
24039: LD_INT 3
24041: DIV
24042: PLUS
24043: ST_TO_ADDR
24044: GO 24012
24046: POP
24047: POP
// for i in Teams [ 2 ] do
24048: LD_ADDR_VAR 0 9
24052: PUSH
24053: LD_EXP 73
24057: PUSH
24058: LD_INT 2
24060: ARRAY
24061: PUSH
24062: FOR_IN
24063: IFFALSE 24096
// blue = blue + ( GetTag ( i + 10 ) div 3 ) ;
24065: LD_ADDR_VAR 0 6
24069: PUSH
24070: LD_VAR 0 6
24074: PUSH
24075: LD_VAR 0 9
24079: PUSH
24080: LD_INT 10
24082: PLUS
24083: PPUSH
24084: CALL_OW 110
24088: PUSH
24089: LD_INT 3
24091: DIV
24092: PLUS
24093: ST_TO_ADDR
24094: GO 24062
24096: POP
24097: POP
// for i in Teams [ 3 ] do
24098: LD_ADDR_VAR 0 9
24102: PUSH
24103: LD_EXP 73
24107: PUSH
24108: LD_INT 3
24110: ARRAY
24111: PUSH
24112: FOR_IN
24113: IFFALSE 24146
// yel = yel + ( GetTag ( i + 10 ) div 3 ) ;
24115: LD_ADDR_VAR 0 7
24119: PUSH
24120: LD_VAR 0 7
24124: PUSH
24125: LD_VAR 0 9
24129: PUSH
24130: LD_INT 10
24132: PLUS
24133: PPUSH
24134: CALL_OW 110
24138: PUSH
24139: LD_INT 3
24141: DIV
24142: PLUS
24143: ST_TO_ADDR
24144: GO 24112
24146: POP
24147: POP
// for i in Teams [ 4 ] do
24148: LD_ADDR_VAR 0 9
24152: PUSH
24153: LD_EXP 73
24157: PUSH
24158: LD_INT 4
24160: ARRAY
24161: PUSH
24162: FOR_IN
24163: IFFALSE 24196
// green = green + ( GetTag ( i + 10 ) div 3 ) ;
24165: LD_ADDR_VAR 0 8
24169: PUSH
24170: LD_VAR 0 8
24174: PUSH
24175: LD_VAR 0 9
24179: PUSH
24180: LD_INT 10
24182: PLUS
24183: PPUSH
24184: CALL_OW 110
24188: PUSH
24189: LD_INT 3
24191: DIV
24192: PLUS
24193: ST_TO_ADDR
24194: GO 24162
24196: POP
24197: POP
// if red >= final_count or blue >= final_count or yel >= final_count or green >= final_count then
24198: LD_VAR 0 5
24202: PUSH
24203: LD_EXP 57
24207: GREATEREQUAL
24208: PUSH
24209: LD_VAR 0 6
24213: PUSH
24214: LD_EXP 57
24218: GREATEREQUAL
24219: OR
24220: PUSH
24221: LD_VAR 0 7
24225: PUSH
24226: LD_EXP 57
24230: GREATEREQUAL
24231: OR
24232: PUSH
24233: LD_VAR 0 8
24237: PUSH
24238: LD_EXP 57
24242: GREATEREQUAL
24243: OR
24244: IFFALSE 24249
// enable ( 3 ) ;
24246: LD_INT 3
24248: ENABLE_MARKED
// end ; end ;
24249: LD_VAR 0 1
24253: RET
// every 0 0$1 marked 2 do
24254: GO 24256
24256: DISABLE
// begin count_king ;
24257: CALL 23751 0 0
// show_public_points ;
24261: CALL 22644 0 0
// enable ;
24265: ENABLE
// end ;
24266: END
// every 0 0$1 marked 3 do var side , red , blue , yel , green , i ;
24267: GO 24269
24269: DISABLE
24270: LD_INT 0
24272: PPUSH
24273: PPUSH
24274: PPUSH
24275: PPUSH
24276: PPUSH
24277: PPUSH
// begin win := [ ] ;
24278: LD_ADDR_LOC 20
24282: PUSH
24283: EMPTY
24284: ST_TO_ADDR
// red = 0 ;
24285: LD_ADDR_VAR 0 2
24289: PUSH
24290: LD_INT 0
24292: ST_TO_ADDR
// blue = 0 ;
24293: LD_ADDR_VAR 0 3
24297: PUSH
24298: LD_INT 0
24300: ST_TO_ADDR
// yel = 0 ;
24301: LD_ADDR_VAR 0 4
24305: PUSH
24306: LD_INT 0
24308: ST_TO_ADDR
// green = 0 ;
24309: LD_ADDR_VAR 0 5
24313: PUSH
24314: LD_INT 0
24316: ST_TO_ADDR
// if not Team_Game then
24317: LD_EXP 80
24321: NOT
24322: IFFALSE 24399
// begin for side = 1 to 8 do
24324: LD_ADDR_VAR 0 1
24328: PUSH
24329: DOUBLE
24330: LD_INT 1
24332: DEC
24333: ST_TO_ADDR
24334: LD_INT 8
24336: PUSH
24337: FOR_TO
24338: IFFALSE 24383
// if GetTag ( side + 10 ) >= final_count * 3 then
24340: LD_VAR 0 1
24344: PUSH
24345: LD_INT 10
24347: PLUS
24348: PPUSH
24349: CALL_OW 110
24353: PUSH
24354: LD_EXP 57
24358: PUSH
24359: LD_INT 3
24361: MUL
24362: GREATEREQUAL
24363: IFFALSE 24381
// win := win ^ side ;
24365: LD_ADDR_LOC 20
24369: PUSH
24370: LD_LOC 20
24374: PUSH
24375: LD_VAR 0 1
24379: ADD
24380: ST_TO_ADDR
24381: GO 24337
24383: POP
24384: POP
// if win then
24385: LD_LOC 20
24389: IFFALSE 24396
// enable ( 4 ) else
24391: LD_INT 4
24393: ENABLE_MARKED
24394: GO 24397
// enable ;
24396: ENABLE
// end else
24397: GO 24715
// begin for i in Teams [ 1 ] do
24399: LD_ADDR_VAR 0 6
24403: PUSH
24404: LD_EXP 73
24408: PUSH
24409: LD_INT 1
24411: ARRAY
24412: PUSH
24413: FOR_IN
24414: IFFALSE 24447
// red = red + ( GetTag ( i + 10 ) div 3 ) ;
24416: LD_ADDR_VAR 0 2
24420: PUSH
24421: LD_VAR 0 2
24425: PUSH
24426: LD_VAR 0 6
24430: PUSH
24431: LD_INT 10
24433: PLUS
24434: PPUSH
24435: CALL_OW 110
24439: PUSH
24440: LD_INT 3
24442: DIV
24443: PLUS
24444: ST_TO_ADDR
24445: GO 24413
24447: POP
24448: POP
// for i in Teams [ 2 ] do
24449: LD_ADDR_VAR 0 6
24453: PUSH
24454: LD_EXP 73
24458: PUSH
24459: LD_INT 2
24461: ARRAY
24462: PUSH
24463: FOR_IN
24464: IFFALSE 24497
// blue = blue + ( GetTag ( i + 10 ) div 3 ) ;
24466: LD_ADDR_VAR 0 3
24470: PUSH
24471: LD_VAR 0 3
24475: PUSH
24476: LD_VAR 0 6
24480: PUSH
24481: LD_INT 10
24483: PLUS
24484: PPUSH
24485: CALL_OW 110
24489: PUSH
24490: LD_INT 3
24492: DIV
24493: PLUS
24494: ST_TO_ADDR
24495: GO 24463
24497: POP
24498: POP
// for i in Teams [ 3 ] do
24499: LD_ADDR_VAR 0 6
24503: PUSH
24504: LD_EXP 73
24508: PUSH
24509: LD_INT 3
24511: ARRAY
24512: PUSH
24513: FOR_IN
24514: IFFALSE 24547
// yel = yel + ( GetTag ( i + 10 ) div 3 ) ;
24516: LD_ADDR_VAR 0 4
24520: PUSH
24521: LD_VAR 0 4
24525: PUSH
24526: LD_VAR 0 6
24530: PUSH
24531: LD_INT 10
24533: PLUS
24534: PPUSH
24535: CALL_OW 110
24539: PUSH
24540: LD_INT 3
24542: DIV
24543: PLUS
24544: ST_TO_ADDR
24545: GO 24513
24547: POP
24548: POP
// for i in Teams [ 4 ] do
24549: LD_ADDR_VAR 0 6
24553: PUSH
24554: LD_EXP 73
24558: PUSH
24559: LD_INT 4
24561: ARRAY
24562: PUSH
24563: FOR_IN
24564: IFFALSE 24597
// green = green + ( GetTag ( i + 10 ) div 3 ) ;
24566: LD_ADDR_VAR 0 5
24570: PUSH
24571: LD_VAR 0 5
24575: PUSH
24576: LD_VAR 0 6
24580: PUSH
24581: LD_INT 10
24583: PLUS
24584: PPUSH
24585: CALL_OW 110
24589: PUSH
24590: LD_INT 3
24592: DIV
24593: PLUS
24594: ST_TO_ADDR
24595: GO 24563
24597: POP
24598: POP
// if red >= final_count then
24599: LD_VAR 0 2
24603: PUSH
24604: LD_EXP 57
24608: GREATEREQUAL
24609: IFFALSE 24625
// win = teams [ 1 ] ;
24611: LD_ADDR_LOC 20
24615: PUSH
24616: LD_EXP 73
24620: PUSH
24621: LD_INT 1
24623: ARRAY
24624: ST_TO_ADDR
// if blue >= final_count then
24625: LD_VAR 0 3
24629: PUSH
24630: LD_EXP 57
24634: GREATEREQUAL
24635: IFFALSE 24651
// win = teams [ 2 ] ;
24637: LD_ADDR_LOC 20
24641: PUSH
24642: LD_EXP 73
24646: PUSH
24647: LD_INT 2
24649: ARRAY
24650: ST_TO_ADDR
// if yel >= final_count then
24651: LD_VAR 0 4
24655: PUSH
24656: LD_EXP 57
24660: GREATEREQUAL
24661: IFFALSE 24677
// win = teams [ 3 ] ;
24663: LD_ADDR_LOC 20
24667: PUSH
24668: LD_EXP 73
24672: PUSH
24673: LD_INT 3
24675: ARRAY
24676: ST_TO_ADDR
// if green >= final_count then
24677: LD_VAR 0 5
24681: PUSH
24682: LD_EXP 57
24686: GREATEREQUAL
24687: IFFALSE 24703
// win = teams [ 4 ] ;
24689: LD_ADDR_LOC 20
24693: PUSH
24694: LD_EXP 73
24698: PUSH
24699: LD_INT 4
24701: ARRAY
24702: ST_TO_ADDR
// if win then
24703: LD_LOC 20
24707: IFFALSE 24714
// enable ( 4 ) else
24709: LD_INT 4
24711: ENABLE_MARKED
24712: GO 24715
// enable ;
24714: ENABLE
// end ; end ;
24715: PPOPN 6
24717: END
// every 0 0$1 marked 4 do
24718: GO 24720
24720: DISABLE
// begin if Player_Side in win then
24721: LD_EXP 70
24725: PUSH
24726: LD_LOC 20
24730: IN
24731: IFFALSE 24747
// begin wait ( 0 0$2 ) ;
24733: LD_INT 70
24735: PPUSH
24736: CALL_OW 67
// enable ( 401 ) ;
24740: LD_INT 401
24742: ENABLE_MARKED
// exit ;
24743: GO 24763
// end else
24745: GO 24763
// begin wait ( 0 0$2 ) ;
24747: LD_INT 70
24749: PPUSH
24750: CALL_OW 67
// Multiplayer_Loose_Message ;
24754: CALL_OW 521
// enable ( 400 ) ;
24758: LD_INT 400
24760: ENABLE_MARKED
// exit ;
24761: GO 24763
// end ; end ; end_of_file
24763: END
// var Month ; export function init_Daily ; begin
24764: LD_INT 0
24766: PPUSH
// if not CurrentTime then
24767: LD_EXP 111
24771: NOT
24772: IFFALSE 24844
// begin CurrentTime = Rand ( daily_start [ 1 ] , daily_start [ 2 ] ) div 0 0$01 ;
24774: LD_ADDR_EXP 111
24778: PUSH
24779: LD_EXP 58
24783: PUSH
24784: LD_INT 1
24786: ARRAY
24787: PPUSH
24788: LD_EXP 58
24792: PUSH
24793: LD_INT 2
24795: ARRAY
24796: PPUSH
24797: CALL_OW 12
24801: PUSH
24802: LD_INT 35
24804: DIV
24805: ST_TO_ADDR
// CurrentTime = CurrentTime * 0 0$01 ;
24806: LD_ADDR_EXP 111
24810: PUSH
24811: LD_EXP 111
24815: PUSH
24816: LD_INT 35
24818: MUL
24819: ST_TO_ADDR
// if CurrentTime >= 24 24$00 then
24820: LD_EXP 111
24824: PUSH
24825: LD_INT 50400
24827: GREATEREQUAL
24828: IFFALSE 24844
// CurrentTime = CurrentTime - 24 24$00 ;
24830: LD_ADDR_EXP 111
24834: PUSH
24835: LD_EXP 111
24839: PUSH
24840: LD_INT 50400
24842: MINUS
24843: ST_TO_ADDR
// end ; case CurrentTime of 0 0$00 .. TimePhase [ 1 ] , TimePhase [ 10 ] + 1 .. 24 24$00 :
24844: LD_EXP 111
24848: PUSH
24849: LD_INT 0
24851: DOUBLE
24852: GREATEREQUAL
24853: IFFALSE 24867
24855: LD_EXP 60
24859: PUSH
24860: LD_INT 1
24862: ARRAY
24863: DOUBLE
24864: LESSEQUAL
24865: IFTRUE 24891
24867: LD_EXP 60
24871: PUSH
24872: LD_INT 10
24874: ARRAY
24875: PUSH
24876: LD_INT 1
24878: PLUS
24879: DOUBLE
24880: GREATEREQUAL
24881: IFFALSE 24889
24883: LD_INT 50400
24885: DOUBLE
24886: LESSEQUAL
24887: IFTRUE 24891
24889: GO 24910
24891: POP
// begin ChangePhase ( DailyPhase [ 6 ] , 35 ) ;
24892: LD_EXP 61
24896: PUSH
24897: LD_INT 6
24899: ARRAY
24900: PPUSH
24901: LD_INT 35
24903: PPUSH
24904: CALL 25547 0 2
// end ; TimePhase [ 1 ] + 1 .. TimePhase [ 2 ] , TimePhase [ 9 ] + 1 .. TimePhase [ 10 ] :
24908: GO 25235
24910: LD_EXP 60
24914: PUSH
24915: LD_INT 1
24917: ARRAY
24918: PUSH
24919: LD_INT 1
24921: PLUS
24922: DOUBLE
24923: GREATEREQUAL
24924: IFFALSE 24938
24926: LD_EXP 60
24930: PUSH
24931: LD_INT 2
24933: ARRAY
24934: DOUBLE
24935: LESSEQUAL
24936: IFTRUE 24968
24938: LD_EXP 60
24942: PUSH
24943: LD_INT 9
24945: ARRAY
24946: PUSH
24947: LD_INT 1
24949: PLUS
24950: DOUBLE
24951: GREATEREQUAL
24952: IFFALSE 24966
24954: LD_EXP 60
24958: PUSH
24959: LD_INT 10
24961: ARRAY
24962: DOUBLE
24963: LESSEQUAL
24964: IFTRUE 24968
24966: GO 24987
24968: POP
// begin ChangePhase ( DailyPhase [ 5 ] , 50 ) ;
24969: LD_EXP 61
24973: PUSH
24974: LD_INT 5
24976: ARRAY
24977: PPUSH
24978: LD_INT 50
24980: PPUSH
24981: CALL 25547 0 2
// end ; TimePhase [ 2 ] + 1 .. TimePhase [ 3 ] , TimePhase [ 8 ] + 1 .. TimePhase [ 9 ] :
24985: GO 25235
24987: LD_EXP 60
24991: PUSH
24992: LD_INT 2
24994: ARRAY
24995: PUSH
24996: LD_INT 1
24998: PLUS
24999: DOUBLE
25000: GREATEREQUAL
25001: IFFALSE 25015
25003: LD_EXP 60
25007: PUSH
25008: LD_INT 3
25010: ARRAY
25011: DOUBLE
25012: LESSEQUAL
25013: IFTRUE 25045
25015: LD_EXP 60
25019: PUSH
25020: LD_INT 8
25022: ARRAY
25023: PUSH
25024: LD_INT 1
25026: PLUS
25027: DOUBLE
25028: GREATEREQUAL
25029: IFFALSE 25043
25031: LD_EXP 60
25035: PUSH
25036: LD_INT 9
25038: ARRAY
25039: DOUBLE
25040: LESSEQUAL
25041: IFTRUE 25045
25043: GO 25064
25045: POP
// begin ChangePhase ( DailyPhase [ 4 ] , 60 ) ;
25046: LD_EXP 61
25050: PUSH
25051: LD_INT 4
25053: ARRAY
25054: PPUSH
25055: LD_INT 60
25057: PPUSH
25058: CALL 25547 0 2
// end ; TimePhase [ 3 ] + 1 .. TimePhase [ 4 ] , TimePhase [ 7 ] + 1 .. TimePhase [ 8 ] :
25062: GO 25235
25064: LD_EXP 60
25068: PUSH
25069: LD_INT 3
25071: ARRAY
25072: PUSH
25073: LD_INT 1
25075: PLUS
25076: DOUBLE
25077: GREATEREQUAL
25078: IFFALSE 25092
25080: LD_EXP 60
25084: PUSH
25085: LD_INT 4
25087: ARRAY
25088: DOUBLE
25089: LESSEQUAL
25090: IFTRUE 25122
25092: LD_EXP 60
25096: PUSH
25097: LD_INT 7
25099: ARRAY
25100: PUSH
25101: LD_INT 1
25103: PLUS
25104: DOUBLE
25105: GREATEREQUAL
25106: IFFALSE 25120
25108: LD_EXP 60
25112: PUSH
25113: LD_INT 8
25115: ARRAY
25116: DOUBLE
25117: LESSEQUAL
25118: IFTRUE 25122
25120: GO 25141
25122: POP
// begin ChangePhase ( DailyPhase [ 3 ] , 80 ) ;
25123: LD_EXP 61
25127: PUSH
25128: LD_INT 3
25130: ARRAY
25131: PPUSH
25132: LD_INT 80
25134: PPUSH
25135: CALL 25547 0 2
// end ; TimePhase [ 4 ] + 1 .. TimePhase [ 5 ] , TimePhase [ 6 ] + 1 .. TimePhase [ 7 ] :
25139: GO 25235
25141: LD_EXP 60
25145: PUSH
25146: LD_INT 4
25148: ARRAY
25149: PUSH
25150: LD_INT 1
25152: PLUS
25153: DOUBLE
25154: GREATEREQUAL
25155: IFFALSE 25169
25157: LD_EXP 60
25161: PUSH
25162: LD_INT 5
25164: ARRAY
25165: DOUBLE
25166: LESSEQUAL
25167: IFTRUE 25199
25169: LD_EXP 60
25173: PUSH
25174: LD_INT 6
25176: ARRAY
25177: PUSH
25178: LD_INT 1
25180: PLUS
25181: DOUBLE
25182: GREATEREQUAL
25183: IFFALSE 25197
25185: LD_EXP 60
25189: PUSH
25190: LD_INT 7
25192: ARRAY
25193: DOUBLE
25194: LESSEQUAL
25195: IFTRUE 25199
25197: GO 25218
25199: POP
// begin ChangePhase ( DailyPhase [ 2 ] , 95 ) ;
25200: LD_EXP 61
25204: PUSH
25205: LD_INT 2
25207: ARRAY
25208: PPUSH
25209: LD_INT 95
25211: PPUSH
25212: CALL 25547 0 2
// end ; else
25216: GO 25235
25218: POP
// begin ChangePhase ( DailyPhase [ 1 ] , 110 ) ;
25219: LD_EXP 61
25223: PUSH
25224: LD_INT 1
25226: ARRAY
25227: PPUSH
25228: LD_INT 110
25230: PPUSH
25231: CALL 25547 0 2
// end ; end ; enable ( 31 ) ;
25235: LD_INT 31
25237: ENABLE_MARKED
// end ;
25238: LD_VAR 0 1
25242: RET
// every 0 0$01 marked 31 do
25243: GO 25245
25245: DISABLE
// begin if daily_speed then
25246: LD_EXP 59
25250: IFFALSE 25261
// wait ( daily_speed ) ;
25252: LD_EXP 59
25256: PPUSH
25257: CALL_OW 67
// CurrentTime = CurrentTime + 0 0$01 ;
25261: LD_ADDR_EXP 111
25265: PUSH
25266: LD_EXP 111
25270: PUSH
25271: LD_INT 35
25273: PLUS
25274: ST_TO_ADDR
// case CurrentTIme of TimePhase [ 5 ] :
25275: LD_EXP 111
25279: PUSH
25280: LD_EXP 60
25284: PUSH
25285: LD_INT 5
25287: ARRAY
25288: DOUBLE
25289: EQUAL
25290: IFTRUE 25294
25292: GO 25313
25294: POP
// begin ChangePhase ( DailyPhase [ 1 ] , 110 ) ;
25295: LD_EXP 61
25299: PUSH
25300: LD_INT 1
25302: ARRAY
25303: PPUSH
25304: LD_INT 110
25306: PPUSH
25307: CALL 25547 0 2
// end ; TimePhase [ 4 ] , TimePhase [ 6 ] :
25311: GO 25527
25313: LD_EXP 60
25317: PUSH
25318: LD_INT 4
25320: ARRAY
25321: DOUBLE
25322: EQUAL
25323: IFTRUE 25339
25325: LD_EXP 60
25329: PUSH
25330: LD_INT 6
25332: ARRAY
25333: DOUBLE
25334: EQUAL
25335: IFTRUE 25339
25337: GO 25358
25339: POP
// begin ChangePhase ( DailyPhase [ 2 ] , 95 ) ;
25340: LD_EXP 61
25344: PUSH
25345: LD_INT 2
25347: ARRAY
25348: PPUSH
25349: LD_INT 95
25351: PPUSH
25352: CALL 25547 0 2
// end ; TimePhase [ 3 ] , TimePhase [ 7 ] :
25356: GO 25527
25358: LD_EXP 60
25362: PUSH
25363: LD_INT 3
25365: ARRAY
25366: DOUBLE
25367: EQUAL
25368: IFTRUE 25384
25370: LD_EXP 60
25374: PUSH
25375: LD_INT 7
25377: ARRAY
25378: DOUBLE
25379: EQUAL
25380: IFTRUE 25384
25382: GO 25403
25384: POP
// begin ChangePhase ( DailyPhase [ 3 ] , 80 ) ;
25385: LD_EXP 61
25389: PUSH
25390: LD_INT 3
25392: ARRAY
25393: PPUSH
25394: LD_INT 80
25396: PPUSH
25397: CALL 25547 0 2
// end ; TimePhase [ 2 ] , TimePhase [ 8 ] :
25401: GO 25527
25403: LD_EXP 60
25407: PUSH
25408: LD_INT 2
25410: ARRAY
25411: DOUBLE
25412: EQUAL
25413: IFTRUE 25429
25415: LD_EXP 60
25419: PUSH
25420: LD_INT 8
25422: ARRAY
25423: DOUBLE
25424: EQUAL
25425: IFTRUE 25429
25427: GO 25448
25429: POP
// begin ChangePhase ( DailyPhase [ 4 ] , 60 ) ;
25430: LD_EXP 61
25434: PUSH
25435: LD_INT 4
25437: ARRAY
25438: PPUSH
25439: LD_INT 60
25441: PPUSH
25442: CALL 25547 0 2
// end ; TimePhase [ 1 ] , TimePhase [ 9 ] :
25446: GO 25527
25448: LD_EXP 60
25452: PUSH
25453: LD_INT 1
25455: ARRAY
25456: DOUBLE
25457: EQUAL
25458: IFTRUE 25474
25460: LD_EXP 60
25464: PUSH
25465: LD_INT 9
25467: ARRAY
25468: DOUBLE
25469: EQUAL
25470: IFTRUE 25474
25472: GO 25493
25474: POP
// begin ChangePhase ( DailyPhase [ 5 ] , 50 ) ;
25475: LD_EXP 61
25479: PUSH
25480: LD_INT 5
25482: ARRAY
25483: PPUSH
25484: LD_INT 50
25486: PPUSH
25487: CALL 25547 0 2
// end ; TimePhase [ 10 ] :
25491: GO 25527
25493: LD_EXP 60
25497: PUSH
25498: LD_INT 10
25500: ARRAY
25501: DOUBLE
25502: EQUAL
25503: IFTRUE 25507
25505: GO 25526
25507: POP
// begin ChangePhase ( DailyPhase [ 6 ] , 35 ) ;
25508: LD_EXP 61
25512: PUSH
25513: LD_INT 6
25515: ARRAY
25516: PPUSH
25517: LD_INT 35
25519: PPUSH
25520: CALL 25547 0 2
// end ; end ;
25524: GO 25527
25526: POP
// if CurrentTime >= 24 24$00 then
25527: LD_EXP 111
25531: PUSH
25532: LD_INT 50400
25534: GREATEREQUAL
25535: IFFALSE 25545
// CurrentTime = 0 0$00 ;
25537: LD_ADDR_EXP 111
25541: PUSH
25542: LD_INT 0
25544: ST_TO_ADDR
// enable ;
25545: ENABLE
// end ;
25546: END
// function changePhase ( dp , srp ) ; begin
25547: LD_INT 0
25549: PPUSH
// solar_recharge_percent = srp ;
25550: LD_ADDR_OWVAR 79
25554: PUSH
25555: LD_VAR 0 2
25559: ST_TO_ADDR
// LoadColorsTXT ( dp ) ;
25560: LD_VAR 0 1
25564: PPUSH
25565: CALL_OW 544
// end ; end_of_file
25569: LD_VAR 0 3
25573: RET
// export BuildUpAreas , BuildUp ; export function BeginBuildUp ; var i , j ; begin
25574: LD_INT 0
25576: PPUSH
25577: PPUSH
25578: PPUSH
// enable ( 600 ) ;
25579: LD_INT 600
25581: ENABLE_MARKED
// BuildUp = true ;
25582: LD_ADDR_EXP 117
25586: PUSH
25587: LD_INT 1
25589: ST_TO_ADDR
// for i := 1 to BuildUpAreas do
25590: LD_ADDR_VAR 0 2
25594: PUSH
25595: DOUBLE
25596: LD_INT 1
25598: DEC
25599: ST_TO_ADDR
25600: LD_EXP 116
25604: PUSH
25605: FOR_TO
25606: IFFALSE 25761
// if Position_Sides [ i ] then
25608: LD_EXP 62
25612: PUSH
25613: LD_VAR 0 2
25617: ARRAY
25618: IFFALSE 25759
// for j := 1 to 8 do
25620: LD_ADDR_VAR 0 3
25624: PUSH
25625: DOUBLE
25626: LD_INT 1
25628: DEC
25629: ST_TO_ADDR
25630: LD_INT 8
25632: PUSH
25633: FOR_TO
25634: IFFALSE 25757
// if Side_Positions [ j ] and ( ( Side_Teams [ Position_Sides [ i ] ] <> Side_Teams [ j ] ) or ( not Team_Game ) and ( Position_Sides [ i ] <> j ) ) then
25636: LD_EXP 75
25640: PUSH
25641: LD_VAR 0 3
25645: ARRAY
25646: PUSH
25647: LD_EXP 72
25651: PUSH
25652: LD_EXP 62
25656: PUSH
25657: LD_VAR 0 2
25661: ARRAY
25662: ARRAY
25663: PUSH
25664: LD_EXP 72
25668: PUSH
25669: LD_VAR 0 3
25673: ARRAY
25674: NONEQUAL
25675: PUSH
25676: LD_EXP 80
25680: NOT
25681: PUSH
25682: LD_EXP 62
25686: PUSH
25687: LD_VAR 0 2
25691: ARRAY
25692: PUSH
25693: LD_VAR 0 3
25697: NONEQUAL
25698: AND
25699: OR
25700: AND
25701: IFFALSE 25725
// HideArea ( j , BuildUpAreas [ i ] ) else
25703: LD_VAR 0 3
25707: PPUSH
25708: LD_EXP 116
25712: PUSH
25713: LD_VAR 0 2
25717: ARRAY
25718: PPUSH
25719: CALL_OW 333
25723: GO 25755
// if ( j = mp_player_side ) then
25725: LD_VAR 0 3
25729: PUSH
25730: LD_OWVAR 7
25734: EQUAL
25735: IFFALSE 25755
// SetAreaMapShow ( BuildUpAreas [ i ] , 3 ) ;
25737: LD_EXP 116
25741: PUSH
25742: LD_VAR 0 2
25746: ARRAY
25747: PPUSH
25748: LD_INT 3
25750: PPUSH
25751: CALL_OW 424
25755: GO 25633
25757: POP
25758: POP
25759: GO 25605
25761: POP
25762: POP
// end ;
25763: LD_VAR 0 1
25767: RET
// export function EndBuildUp ; var i , j ; begin
25768: LD_INT 0
25770: PPUSH
25771: PPUSH
25772: PPUSH
// disable ( 600 ) ;
25773: LD_INT 600
25775: DISABLE_MARKED
// BuildUp = false ;
25776: LD_ADDR_EXP 117
25780: PUSH
25781: LD_INT 0
25783: ST_TO_ADDR
// for i := 1 to BuildUpAreas do
25784: LD_ADDR_VAR 0 2
25788: PUSH
25789: DOUBLE
25790: LD_INT 1
25792: DEC
25793: ST_TO_ADDR
25794: LD_EXP 116
25798: PUSH
25799: FOR_TO
25800: IFFALSE 25955
// if Position_Sides [ i ] then
25802: LD_EXP 62
25806: PUSH
25807: LD_VAR 0 2
25811: ARRAY
25812: IFFALSE 25953
// for j := 1 to 8 do
25814: LD_ADDR_VAR 0 3
25818: PUSH
25819: DOUBLE
25820: LD_INT 1
25822: DEC
25823: ST_TO_ADDR
25824: LD_INT 8
25826: PUSH
25827: FOR_TO
25828: IFFALSE 25951
// if Side_Positions [ j ] and ( ( Side_Teams [ Position_Sides [ i ] ] <> Side_Teams [ j ] ) or ( not Team_Game ) and ( Position_Sides [ i ] <> j ) ) then
25830: LD_EXP 75
25834: PUSH
25835: LD_VAR 0 3
25839: ARRAY
25840: PUSH
25841: LD_EXP 72
25845: PUSH
25846: LD_EXP 62
25850: PUSH
25851: LD_VAR 0 2
25855: ARRAY
25856: ARRAY
25857: PUSH
25858: LD_EXP 72
25862: PUSH
25863: LD_VAR 0 3
25867: ARRAY
25868: NONEQUAL
25869: PUSH
25870: LD_EXP 80
25874: NOT
25875: PUSH
25876: LD_EXP 62
25880: PUSH
25881: LD_VAR 0 2
25885: ARRAY
25886: PUSH
25887: LD_VAR 0 3
25891: NONEQUAL
25892: AND
25893: OR
25894: AND
25895: IFFALSE 25919
// ShowArea ( j , BuildUpAreas [ i ] ) else
25897: LD_VAR 0 3
25901: PPUSH
25902: LD_EXP 116
25906: PUSH
25907: LD_VAR 0 2
25911: ARRAY
25912: PPUSH
25913: CALL_OW 334
25917: GO 25949
// if ( j = mp_player_side ) then
25919: LD_VAR 0 3
25923: PUSH
25924: LD_OWVAR 7
25928: EQUAL
25929: IFFALSE 25949
// SetAreaMapShow ( BuildUpAreas [ i ] , 0 ) ;
25931: LD_EXP 116
25935: PUSH
25936: LD_VAR 0 2
25940: ARRAY
25941: PPUSH
25942: LD_INT 0
25944: PPUSH
25945: CALL_OW 424
25949: GO 25827
25951: POP
25952: POP
25953: GO 25799
25955: POP
25956: POP
// end ;
25957: LD_VAR 0 1
25961: RET
// every 1 marked 600 do var i , un ;
25962: GO 25964
25964: DISABLE
25965: LD_INT 0
25967: PPUSH
25968: PPUSH
// begin for i := 1 to BuildUpAreas do
25969: LD_ADDR_VAR 0 1
25973: PUSH
25974: DOUBLE
25975: LD_INT 1
25977: DEC
25978: ST_TO_ADDR
25979: LD_EXP 116
25983: PUSH
25984: FOR_TO
25985: IFFALSE 26155
// if Position_Sides [ i ] then
25987: LD_EXP 62
25991: PUSH
25992: LD_VAR 0 1
25996: ARRAY
25997: IFFALSE 26153
// for un in FilterUnitsInArea ( BuildUpAreas [ i ] , [ [ f_or , [ f_type , unit_human ] , [ f_type , unit_vehicle ] ] , [ f_not , [ f_side , 0 ] ] ] ) do
25999: LD_ADDR_VAR 0 2
26003: PUSH
26004: LD_EXP 116
26008: PUSH
26009: LD_VAR 0 1
26013: ARRAY
26014: PPUSH
26015: LD_INT 2
26017: PUSH
26018: LD_INT 21
26020: PUSH
26021: LD_INT 1
26023: PUSH
26024: EMPTY
26025: LIST
26026: LIST
26027: PUSH
26028: LD_INT 21
26030: PUSH
26031: LD_INT 2
26033: PUSH
26034: EMPTY
26035: LIST
26036: LIST
26037: PUSH
26038: EMPTY
26039: LIST
26040: LIST
26041: LIST
26042: PUSH
26043: LD_INT 3
26045: PUSH
26046: LD_INT 22
26048: PUSH
26049: LD_INT 0
26051: PUSH
26052: EMPTY
26053: LIST
26054: LIST
26055: PUSH
26056: EMPTY
26057: LIST
26058: LIST
26059: PUSH
26060: EMPTY
26061: LIST
26062: LIST
26063: PPUSH
26064: CALL_OW 70
26068: PUSH
26069: FOR_IN
26070: IFFALSE 26151
// if ( ( Side_Teams [ Position_Sides [ i ] ] <> Side_Teams [ GetSide ( un ) ] ) or ( not Team_Game ) and ( Position_Sides [ i ] <> GetSide ( un ) ) ) then
26072: LD_EXP 72
26076: PUSH
26077: LD_EXP 62
26081: PUSH
26082: LD_VAR 0 1
26086: ARRAY
26087: ARRAY
26088: PUSH
26089: LD_EXP 72
26093: PUSH
26094: LD_VAR 0 2
26098: PPUSH
26099: CALL_OW 255
26103: ARRAY
26104: NONEQUAL
26105: PUSH
26106: LD_EXP 80
26110: NOT
26111: PUSH
26112: LD_EXP 62
26116: PUSH
26117: LD_VAR 0 1
26121: ARRAY
26122: PUSH
26123: LD_VAR 0 2
26127: PPUSH
26128: CALL_OW 255
26132: NONEQUAL
26133: AND
26134: OR
26135: IFFALSE 26149
// ComMoveToArea ( un , BuildUpEscape ) ;
26137: LD_VAR 0 2
26141: PPUSH
26142: LD_INT 33
26144: PPUSH
26145: CALL_OW 113
26149: GO 26069
26151: POP
26152: POP
26153: GO 25984
26155: POP
26156: POP
// if BuildUp then
26157: LD_EXP 117
26161: IFFALSE 26164
// enable ;
26163: ENABLE
// end ;
26164: PPOPN 2
26166: END
// every 1 do
26167: GO 26169
26169: DISABLE
// if ( def_builduptime > 0 ) then
26170: LD_EXP 30
26174: PUSH
26175: LD_INT 0
26177: GREATER
26178: IFFALSE 26199
// begin if buildUpTime_Delay then
26180: LD_EXP 66
26184: IFFALSE 26195
// wait ( buildUpTime_Delay ) ;
26186: LD_EXP 66
26190: PPUSH
26191: CALL_OW 67
// EndBuildUp ;
26195: CALL 25768 0 0
// end ; end_of_file
26199: END
// var Restricted_Builds , Restricted_Builds_Amount ; var Banned_Weapons , Banned_Chassis , Banned_Controls , Banned_Engines ; var Already_Built ; var Limits_Info , Cheaters ; every 0 0$1 do
26200: GO 26202
26202: DISABLE
// begin fLimitsStrings ;
26203: CALL 26209 0 0
// enable ;
26207: ENABLE
// end ;
26208: END
// export function fLimitsStrings ; var i ; begin
26209: LD_INT 0
26211: PPUSH
26212: PPUSH
// if ( not IAmSpec ) then
26213: CALL_OW 531
26217: NOT
26218: IFFALSE 26234
// LimitsStrings := Limits_Info ^  ;
26220: LD_ADDR_EXP 110
26224: PUSH
26225: LD_LOC 29
26229: PUSH
26230: LD_STRING 
26232: ADD
26233: ST_TO_ADDR
// for i := 1 to 8 do
26234: LD_ADDR_VAR 0 2
26238: PUSH
26239: DOUBLE
26240: LD_INT 1
26242: DEC
26243: ST_TO_ADDR
26244: LD_INT 8
26246: PUSH
26247: FOR_TO
26248: IFFALSE 26293
// if Cheaters [ i ] then
26250: LD_LOC 30
26254: PUSH
26255: LD_VAR 0 2
26259: ARRAY
26260: IFFALSE 26291
// LimitsStrings := LimitsStrings ^ [ #Cheater , i , i ] ;
26262: LD_ADDR_EXP 110
26266: PUSH
26267: LD_EXP 110
26271: PUSH
26272: LD_STRING #Cheater
26274: PUSH
26275: LD_VAR 0 2
26279: PUSH
26280: LD_VAR 0 2
26284: PUSH
26285: EMPTY
26286: LIST
26287: LIST
26288: LIST
26289: ADD
26290: ST_TO_ADDR
26291: GO 26247
26293: POP
26294: POP
// end ;
26295: LD_VAR 0 1
26299: RET
// export function InitGameRules ; var Unavailable_Techs , Unavailable_Builds ; var i , j ; begin
26300: LD_INT 0
26302: PPUSH
26303: PPUSH
26304: PPUSH
26305: PPUSH
26306: PPUSH
// Cheaters := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
26307: LD_ADDR_LOC 30
26311: PUSH
26312: LD_INT 0
26314: PUSH
26315: LD_INT 0
26317: PUSH
26318: LD_INT 0
26320: PUSH
26321: LD_INT 0
26323: PUSH
26324: LD_INT 0
26326: PUSH
26327: LD_INT 0
26329: PUSH
26330: LD_INT 0
26332: PUSH
26333: LD_INT 0
26335: PUSH
26336: EMPTY
26337: LIST
26338: LIST
26339: LIST
26340: LIST
26341: LIST
26342: LIST
26343: LIST
26344: LIST
26345: ST_TO_ADDR
// case def_game_rules of 0 :
26346: LD_EXP 9
26350: PUSH
26351: LD_INT 0
26353: DOUBLE
26354: EQUAL
26355: IFTRUE 26359
26357: GO 26364
26359: POP
// exit ; 1 :
26360: GO 29000
26362: GO 28900
26364: LD_INT 1
26366: DOUBLE
26367: EQUAL
26368: IFTRUE 26372
26370: GO 26675
26372: POP
// begin def_base_level := 2 ;
26373: LD_ADDR_EXP 10
26377: PUSH
26378: LD_INT 2
26380: ST_TO_ADDR
// def_amount_of_people := 10 ;
26381: LD_ADDR_EXP 11
26385: PUSH
26386: LD_INT 10
26388: ST_TO_ADDR
// def_initial_level := 1 ;
26389: LD_ADDR_EXP 13
26393: PUSH
26394: LD_INT 1
26396: ST_TO_ADDR
// def_starting_resources := 2 ;
26397: LD_ADDR_EXP 15
26401: PUSH
26402: LD_INT 2
26404: ST_TO_ADDR
// def_shipments_density := 1 ;
26405: LD_ADDR_EXP 16
26409: PUSH
26410: LD_INT 1
26412: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
26413: LD_ADDR_EXP 17
26417: PUSH
26418: LD_INT 0
26420: ST_TO_ADDR
// def_extra_sib_deposits := 1 ;
26421: LD_ADDR_EXP 18
26425: PUSH
26426: LD_INT 1
26428: ST_TO_ADDR
// def_shared_vision := 1 ;
26429: LD_ADDR_EXP 19
26433: PUSH
26434: LD_INT 1
26436: ST_TO_ADDR
// def_morale_flags := 3 ;
26437: LD_ADDR_EXP 20
26441: PUSH
26442: LD_INT 3
26444: ST_TO_ADDR
// def_siberite_detection := 1 ;
26445: LD_ADDR_EXP 28
26449: PUSH
26450: LD_INT 1
26452: ST_TO_ADDR
// def_people_respawning := 1 ;
26453: LD_ADDR_EXP 25
26457: PUSH
26458: LD_INT 1
26460: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
26461: LD_ADDR_EXP 22
26465: PUSH
26466: LD_INT 1
26468: ST_TO_ADDR
// def_siberite_bomb := 0 ;
26469: LD_ADDR_EXP 29
26473: PUSH
26474: LD_INT 0
26476: ST_TO_ADDR
// def_builduptime := 2 ;
26477: LD_ADDR_EXP 30
26481: PUSH
26482: LD_INT 2
26484: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
26485: LD_ADDR_EXP 12
26489: PUSH
26490: LD_INT 0
26492: ST_TO_ADDR
// def_amount_of_tiger := 0 ;
26493: LD_ADDR_EXP 23
26497: PUSH
26498: LD_INT 0
26500: ST_TO_ADDR
// def_respawining_type := 3 ;
26501: LD_ADDR_EXP 24
26505: PUSH
26506: LD_INT 3
26508: ST_TO_ADDR
// def_tech_level := 8 ;
26509: LD_ADDR_EXP 26
26513: PUSH
26514: LD_INT 8
26516: ST_TO_ADDR
// def_upgrade_tl := 0 ;
26517: LD_ADDR_EXP 27
26521: PUSH
26522: LD_INT 0
26524: ST_TO_ADDR
// def_desert_warior := 0 ;
26525: LD_ADDR_EXP 31
26529: PUSH
26530: LD_INT 0
26532: ST_TO_ADDR
// Unavailable_Techs := [ ] ;
26533: LD_ADDR_VAR 0 2
26537: PUSH
26538: EMPTY
26539: ST_TO_ADDR
// Unavailable_Builds := [ ] ;
26540: LD_ADDR_VAR 0 3
26544: PUSH
26545: EMPTY
26546: ST_TO_ADDR
// Banned_Weapons := [ ] ;
26547: LD_ADDR_LOC 24
26551: PUSH
26552: EMPTY
26553: ST_TO_ADDR
// Banned_Chassis := [ ] ;
26554: LD_ADDR_LOC 25
26558: PUSH
26559: EMPTY
26560: ST_TO_ADDR
// Banned_Controls := [ ] ;
26561: LD_ADDR_LOC 26
26565: PUSH
26566: EMPTY
26567: ST_TO_ADDR
// Banned_Engines := [ ] ;
26568: LD_ADDR_LOC 27
26572: PUSH
26573: EMPTY
26574: ST_TO_ADDR
// Restricted_Builds := [ [ b_Behemoth ] , [ b_Armoury , b_Barracks ] , [ b_Breastwork , b_Bunker , b_Turret ] ] ;
26575: LD_ADDR_LOC 22
26579: PUSH
26580: LD_INT 37
26582: PUSH
26583: EMPTY
26584: LIST
26585: PUSH
26586: LD_INT 4
26588: PUSH
26589: LD_INT 5
26591: PUSH
26592: EMPTY
26593: LIST
26594: LIST
26595: PUSH
26596: LD_INT 31
26598: PUSH
26599: LD_INT 32
26601: PUSH
26602: LD_INT 33
26604: PUSH
26605: EMPTY
26606: LIST
26607: LIST
26608: LIST
26609: PUSH
26610: EMPTY
26611: LIST
26612: LIST
26613: LIST
26614: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
26615: LD_EXP 1
26619: PUSH
26620: LD_EXP 3
26624: PUSH
26625: LD_EXP 4
26629: ADD
26630: IN
26631: IFFALSE 26654
// Restricted_Builds_Amount := [ 4 , 4 , 8 ] else
26633: LD_ADDR_LOC 23
26637: PUSH
26638: LD_INT 4
26640: PUSH
26641: LD_INT 4
26643: PUSH
26644: LD_INT 8
26646: PUSH
26647: EMPTY
26648: LIST
26649: LIST
26650: LIST
26651: ST_TO_ADDR
26652: GO 26673
// Restricted_Builds_Amount := [ 2 , 2 , 4 ] ;
26654: LD_ADDR_LOC 23
26658: PUSH
26659: LD_INT 2
26661: PUSH
26662: LD_INT 2
26664: PUSH
26665: LD_INT 4
26667: PUSH
26668: EMPTY
26669: LIST
26670: LIST
26671: LIST
26672: ST_TO_ADDR
// end ; 2 :
26673: GO 28900
26675: LD_INT 2
26677: DOUBLE
26678: EQUAL
26679: IFTRUE 26683
26681: GO 26975
26683: POP
// begin def_base_level := 1 ;
26684: LD_ADDR_EXP 10
26688: PUSH
26689: LD_INT 1
26691: ST_TO_ADDR
// def_amount_of_people := 2 ;
26692: LD_ADDR_EXP 11
26696: PUSH
26697: LD_INT 2
26699: ST_TO_ADDR
// def_initial_level := 3 ;
26700: LD_ADDR_EXP 13
26704: PUSH
26705: LD_INT 3
26707: ST_TO_ADDR
// def_starting_resources := 3 ;
26708: LD_ADDR_EXP 15
26712: PUSH
26713: LD_INT 3
26715: ST_TO_ADDR
// def_shipments_density := 2 ;
26716: LD_ADDR_EXP 16
26720: PUSH
26721: LD_INT 2
26723: ST_TO_ADDR
// def_extra_oil_deposits := 1 ;
26724: LD_ADDR_EXP 17
26728: PUSH
26729: LD_INT 1
26731: ST_TO_ADDR
// def_extra_sib_deposits := 2 ;
26732: LD_ADDR_EXP 18
26736: PUSH
26737: LD_INT 2
26739: ST_TO_ADDR
// def_shared_vision := 1 ;
26740: LD_ADDR_EXP 19
26744: PUSH
26745: LD_INT 1
26747: ST_TO_ADDR
// def_morale_flags := 0 ;
26748: LD_ADDR_EXP 20
26752: PUSH
26753: LD_INT 0
26755: ST_TO_ADDR
// def_siberite_detection := 1 ;
26756: LD_ADDR_EXP 28
26760: PUSH
26761: LD_INT 1
26763: ST_TO_ADDR
// def_people_respawning := 0 ;
26764: LD_ADDR_EXP 25
26768: PUSH
26769: LD_INT 0
26771: ST_TO_ADDR
// def_amount_of_apemen := 0 ;
26772: LD_ADDR_EXP 22
26776: PUSH
26777: LD_INT 0
26779: ST_TO_ADDR
// def_siberite_bomb := 0 ;
26780: LD_ADDR_EXP 29
26784: PUSH
26785: LD_INT 0
26787: ST_TO_ADDR
// def_builduptime := 2 ;
26788: LD_ADDR_EXP 30
26792: PUSH
26793: LD_INT 2
26795: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
26796: LD_ADDR_EXP 12
26800: PUSH
26801: LD_INT 0
26803: ST_TO_ADDR
// def_amount_of_tiger := 0 ;
26804: LD_ADDR_EXP 23
26808: PUSH
26809: LD_INT 0
26811: ST_TO_ADDR
// def_respawining_type := 3 ;
26812: LD_ADDR_EXP 24
26816: PUSH
26817: LD_INT 3
26819: ST_TO_ADDR
// def_tech_level := 8 ;
26820: LD_ADDR_EXP 26
26824: PUSH
26825: LD_INT 8
26827: ST_TO_ADDR
// def_upgrade_tl := 0 ;
26828: LD_ADDR_EXP 27
26832: PUSH
26833: LD_INT 0
26835: ST_TO_ADDR
// def_desert_warior := 0 ;
26836: LD_ADDR_EXP 31
26840: PUSH
26841: LD_INT 0
26843: ST_TO_ADDR
// Unavailable_Techs := [ tech_ApeLang ] ;
26844: LD_ADDR_VAR 0 2
26848: PUSH
26849: LD_INT 1
26851: PUSH
26852: EMPTY
26853: LIST
26854: ST_TO_ADDR
// Unavailable_Builds := [ ] ;
26855: LD_ADDR_VAR 0 3
26859: PUSH
26860: EMPTY
26861: ST_TO_ADDR
// Banned_Weapons := [ ] ;
26862: LD_ADDR_LOC 24
26866: PUSH
26867: EMPTY
26868: ST_TO_ADDR
// Banned_Chassis := [ ] ;
26869: LD_ADDR_LOC 25
26873: PUSH
26874: EMPTY
26875: ST_TO_ADDR
// Banned_Controls := [ ] ;
26876: LD_ADDR_LOC 26
26880: PUSH
26881: EMPTY
26882: ST_TO_ADDR
// Banned_Engines := [ ] ;
26883: LD_ADDR_LOC 27
26887: PUSH
26888: EMPTY
26889: ST_TO_ADDR
// Restricted_Builds := [ [ b_Armoury , b_Barracks ] , [ b_Breastwork , b_Bunker , b_Turret ] ] ;
26890: LD_ADDR_LOC 22
26894: PUSH
26895: LD_INT 4
26897: PUSH
26898: LD_INT 5
26900: PUSH
26901: EMPTY
26902: LIST
26903: LIST
26904: PUSH
26905: LD_INT 31
26907: PUSH
26908: LD_INT 32
26910: PUSH
26911: LD_INT 33
26913: PUSH
26914: EMPTY
26915: LIST
26916: LIST
26917: LIST
26918: PUSH
26919: EMPTY
26920: LIST
26921: LIST
26922: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
26923: LD_EXP 1
26927: PUSH
26928: LD_EXP 3
26932: PUSH
26933: LD_EXP 4
26937: ADD
26938: IN
26939: IFFALSE 26958
// Restricted_Builds_Amount := [ 2 , 4 ] else
26941: LD_ADDR_LOC 23
26945: PUSH
26946: LD_INT 2
26948: PUSH
26949: LD_INT 4
26951: PUSH
26952: EMPTY
26953: LIST
26954: LIST
26955: ST_TO_ADDR
26956: GO 26973
// Restricted_Builds_Amount := [ 1 , 2 ] ;
26958: LD_ADDR_LOC 23
26962: PUSH
26963: LD_INT 1
26965: PUSH
26966: LD_INT 2
26968: PUSH
26969: EMPTY
26970: LIST
26971: LIST
26972: ST_TO_ADDR
// end ; 3 :
26973: GO 28900
26975: LD_INT 3
26977: DOUBLE
26978: EQUAL
26979: IFTRUE 26983
26981: GO 27266
26983: POP
// begin def_base_level := 1 ;
26984: LD_ADDR_EXP 10
26988: PUSH
26989: LD_INT 1
26991: ST_TO_ADDR
// def_amount_of_people := 10 ;
26992: LD_ADDR_EXP 11
26996: PUSH
26997: LD_INT 10
26999: ST_TO_ADDR
// def_initial_level := 3 ;
27000: LD_ADDR_EXP 13
27004: PUSH
27005: LD_INT 3
27007: ST_TO_ADDR
// def_starting_resources := 3 ;
27008: LD_ADDR_EXP 15
27012: PUSH
27013: LD_INT 3
27015: ST_TO_ADDR
// def_shipments_density := 1 ;
27016: LD_ADDR_EXP 16
27020: PUSH
27021: LD_INT 1
27023: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
27024: LD_ADDR_EXP 17
27028: PUSH
27029: LD_INT 0
27031: ST_TO_ADDR
// def_extra_sib_deposits := 1 ;
27032: LD_ADDR_EXP 18
27036: PUSH
27037: LD_INT 1
27039: ST_TO_ADDR
// def_shared_vision := 1 ;
27040: LD_ADDR_EXP 19
27044: PUSH
27045: LD_INT 1
27047: ST_TO_ADDR
// def_morale_flags := 0 ;
27048: LD_ADDR_EXP 20
27052: PUSH
27053: LD_INT 0
27055: ST_TO_ADDR
// def_siberite_detection := 1 ;
27056: LD_ADDR_EXP 28
27060: PUSH
27061: LD_INT 1
27063: ST_TO_ADDR
// def_people_respawning := 0 ;
27064: LD_ADDR_EXP 25
27068: PUSH
27069: LD_INT 0
27071: ST_TO_ADDR
// def_amount_of_apemen := 2 ;
27072: LD_ADDR_EXP 22
27076: PUSH
27077: LD_INT 2
27079: ST_TO_ADDR
// def_siberite_bomb := 0 ;
27080: LD_ADDR_EXP 29
27084: PUSH
27085: LD_INT 0
27087: ST_TO_ADDR
// def_builduptime := 1 ;
27088: LD_ADDR_EXP 30
27092: PUSH
27093: LD_INT 1
27095: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
27096: LD_ADDR_EXP 12
27100: PUSH
27101: LD_INT 0
27103: ST_TO_ADDR
// def_amount_of_tiger := 1 ;
27104: LD_ADDR_EXP 23
27108: PUSH
27109: LD_INT 1
27111: ST_TO_ADDR
// def_respawining_type := 3 ;
27112: LD_ADDR_EXP 24
27116: PUSH
27117: LD_INT 3
27119: ST_TO_ADDR
// def_tech_level := 8 ;
27120: LD_ADDR_EXP 26
27124: PUSH
27125: LD_INT 8
27127: ST_TO_ADDR
// def_upgrade_tl := 0 ;
27128: LD_ADDR_EXP 27
27132: PUSH
27133: LD_INT 0
27135: ST_TO_ADDR
// def_desert_warior := 0 ;
27136: LD_ADDR_EXP 31
27140: PUSH
27141: LD_INT 0
27143: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth ] ;
27144: LD_ADDR_VAR 0 2
27148: PUSH
27149: LD_INT 23
27151: PUSH
27152: EMPTY
27153: LIST
27154: ST_TO_ADDR
// Unavailable_Builds := [ b_Workshop , b_Behemoth , b_Bunker , b_Turret , b_Control_Tower , b_ext_track , b_ext_stitch , b_ext_siberium , b_ext_rocket , b_ext_radio , b_ext_radar , b_ext_noncombat , b_ext_laser , b_ext_gun , b_ext_computer ] ;
27155: LD_ADDR_VAR 0 3
27159: PUSH
27160: LD_INT 2
27162: PUSH
27163: LD_INT 37
27165: PUSH
27166: LD_INT 32
27168: PUSH
27169: LD_INT 33
27171: PUSH
27172: LD_INT 36
27174: PUSH
27175: LD_INT 16
27177: PUSH
27178: LD_INT 23
27180: PUSH
27181: LD_INT 21
27183: PUSH
27184: LD_INT 18
27186: PUSH
27187: LD_INT 22
27189: PUSH
27190: LD_INT 20
27192: PUSH
27193: LD_INT 19
27195: PUSH
27196: LD_INT 25
27198: PUSH
27199: LD_INT 17
27201: PUSH
27202: LD_INT 24
27204: PUSH
27205: EMPTY
27206: LIST
27207: LIST
27208: LIST
27209: LIST
27210: LIST
27211: LIST
27212: LIST
27213: LIST
27214: LIST
27215: LIST
27216: LIST
27217: LIST
27218: LIST
27219: LIST
27220: LIST
27221: ST_TO_ADDR
// Banned_Weapons := [ ] ;
27222: LD_ADDR_LOC 24
27226: PUSH
27227: EMPTY
27228: ST_TO_ADDR
// Banned_Chassis := [ ] ;
27229: LD_ADDR_LOC 25
27233: PUSH
27234: EMPTY
27235: ST_TO_ADDR
// Banned_Controls := [ ] ;
27236: LD_ADDR_LOC 26
27240: PUSH
27241: EMPTY
27242: ST_TO_ADDR
// Banned_Engines := [ ] ;
27243: LD_ADDR_LOC 27
27247: PUSH
27248: EMPTY
27249: ST_TO_ADDR
// Restricted_Builds := [ ] ;
27250: LD_ADDR_LOC 22
27254: PUSH
27255: EMPTY
27256: ST_TO_ADDR
// Restricted_Builds_Amount := [ ] ;
27257: LD_ADDR_LOC 23
27261: PUSH
27262: EMPTY
27263: ST_TO_ADDR
// end ; 4 :
27264: GO 28900
27266: LD_INT 4
27268: DOUBLE
27269: EQUAL
27270: IFTRUE 27274
27272: GO 27497
27274: POP
// begin def_base_level := 1 ;
27275: LD_ADDR_EXP 10
27279: PUSH
27280: LD_INT 1
27282: ST_TO_ADDR
// def_amount_of_people := 10 ;
27283: LD_ADDR_EXP 11
27287: PUSH
27288: LD_INT 10
27290: ST_TO_ADDR
// def_initial_level := 3 ;
27291: LD_ADDR_EXP 13
27295: PUSH
27296: LD_INT 3
27298: ST_TO_ADDR
// def_starting_resources := 3 ;
27299: LD_ADDR_EXP 15
27303: PUSH
27304: LD_INT 3
27306: ST_TO_ADDR
// def_shipments_density := 2 ;
27307: LD_ADDR_EXP 16
27311: PUSH
27312: LD_INT 2
27314: ST_TO_ADDR
// def_extra_oil_deposits := 1 ;
27315: LD_ADDR_EXP 17
27319: PUSH
27320: LD_INT 1
27322: ST_TO_ADDR
// def_extra_sib_deposits := 2 ;
27323: LD_ADDR_EXP 18
27327: PUSH
27328: LD_INT 2
27330: ST_TO_ADDR
// def_shared_vision := 1 ;
27331: LD_ADDR_EXP 19
27335: PUSH
27336: LD_INT 1
27338: ST_TO_ADDR
// def_morale_flags := 0 ;
27339: LD_ADDR_EXP 20
27343: PUSH
27344: LD_INT 0
27346: ST_TO_ADDR
// def_siberite_detection := 1 ;
27347: LD_ADDR_EXP 28
27351: PUSH
27352: LD_INT 1
27354: ST_TO_ADDR
// def_people_respawning := 0 ;
27355: LD_ADDR_EXP 25
27359: PUSH
27360: LD_INT 0
27362: ST_TO_ADDR
// def_amount_of_apemen := 0 ;
27363: LD_ADDR_EXP 22
27367: PUSH
27368: LD_INT 0
27370: ST_TO_ADDR
// def_siberite_bomb := 1 ;
27371: LD_ADDR_EXP 29
27375: PUSH
27376: LD_INT 1
27378: ST_TO_ADDR
// def_builduptime := 3 ;
27379: LD_ADDR_EXP 30
27383: PUSH
27384: LD_INT 3
27386: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
27387: LD_ADDR_EXP 12
27391: PUSH
27392: LD_INT 0
27394: ST_TO_ADDR
// def_amount_of_tiger := 0 ;
27395: LD_ADDR_EXP 23
27399: PUSH
27400: LD_INT 0
27402: ST_TO_ADDR
// def_respawining_type := 3 ;
27403: LD_ADDR_EXP 24
27407: PUSH
27408: LD_INT 3
27410: ST_TO_ADDR
// def_tech_level := 8 ;
27411: LD_ADDR_EXP 26
27415: PUSH
27416: LD_INT 8
27418: ST_TO_ADDR
// def_upgrade_tl := 0 ;
27419: LD_ADDR_EXP 27
27423: PUSH
27424: LD_INT 0
27426: ST_TO_ADDR
// def_desert_warior := 0 ;
27427: LD_ADDR_EXP 31
27431: PUSH
27432: LD_INT 0
27434: ST_TO_ADDR
// Unavailable_Techs := [ tech_ApeLang ] ;
27435: LD_ADDR_VAR 0 2
27439: PUSH
27440: LD_INT 1
27442: PUSH
27443: EMPTY
27444: LIST
27445: ST_TO_ADDR
// Unavailable_Builds := [ ] ;
27446: LD_ADDR_VAR 0 3
27450: PUSH
27451: EMPTY
27452: ST_TO_ADDR
// Banned_Weapons := [ ] ;
27453: LD_ADDR_LOC 24
27457: PUSH
27458: EMPTY
27459: ST_TO_ADDR
// Banned_Chassis := [ ] ;
27460: LD_ADDR_LOC 25
27464: PUSH
27465: EMPTY
27466: ST_TO_ADDR
// Banned_Controls := [ ] ;
27467: LD_ADDR_LOC 26
27471: PUSH
27472: EMPTY
27473: ST_TO_ADDR
// Banned_Engines := [ ] ;
27474: LD_ADDR_LOC 27
27478: PUSH
27479: EMPTY
27480: ST_TO_ADDR
// Restricted_Builds := [ ] ;
27481: LD_ADDR_LOC 22
27485: PUSH
27486: EMPTY
27487: ST_TO_ADDR
// Restricted_Builds_Amount := [ ] ;
27488: LD_ADDR_LOC 23
27492: PUSH
27493: EMPTY
27494: ST_TO_ADDR
// end ; 5 :
27495: GO 28900
27497: LD_INT 5
27499: DOUBLE
27500: EQUAL
27501: IFTRUE 27505
27503: GO 27837
27505: POP
// begin def_base_level := 0 ;
27506: LD_ADDR_EXP 10
27510: PUSH
27511: LD_INT 0
27513: ST_TO_ADDR
// def_amount_of_people := 3 ;
27514: LD_ADDR_EXP 11
27518: PUSH
27519: LD_INT 3
27521: ST_TO_ADDR
// def_initial_level := 0 ;
27522: LD_ADDR_EXP 13
27526: PUSH
27527: LD_INT 0
27529: ST_TO_ADDR
// def_starting_resources := 0 ;
27530: LD_ADDR_EXP 15
27534: PUSH
27535: LD_INT 0
27537: ST_TO_ADDR
// def_shipments_density := 0 ;
27538: LD_ADDR_EXP 16
27542: PUSH
27543: LD_INT 0
27545: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
27546: LD_ADDR_EXP 17
27550: PUSH
27551: LD_INT 0
27553: ST_TO_ADDR
// def_extra_sib_deposits := 0 ;
27554: LD_ADDR_EXP 18
27558: PUSH
27559: LD_INT 0
27561: ST_TO_ADDR
// def_shared_vision := 1 ;
27562: LD_ADDR_EXP 19
27566: PUSH
27567: LD_INT 1
27569: ST_TO_ADDR
// def_morale_flags := 0 ;
27570: LD_ADDR_EXP 20
27574: PUSH
27575: LD_INT 0
27577: ST_TO_ADDR
// def_siberite_detection := 0 ;
27578: LD_ADDR_EXP 28
27582: PUSH
27583: LD_INT 0
27585: ST_TO_ADDR
// def_people_respawning := 1 ;
27586: LD_ADDR_EXP 25
27590: PUSH
27591: LD_INT 1
27593: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
27594: LD_ADDR_EXP 22
27598: PUSH
27599: LD_INT 1
27601: ST_TO_ADDR
// def_siberite_bomb := 0 ;
27602: LD_ADDR_EXP 29
27606: PUSH
27607: LD_INT 0
27609: ST_TO_ADDR
// def_builduptime := 0 ;
27610: LD_ADDR_EXP 30
27614: PUSH
27615: LD_INT 0
27617: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
27618: LD_ADDR_EXP 12
27622: PUSH
27623: LD_INT 0
27625: ST_TO_ADDR
// def_amount_of_tiger := 2 ;
27626: LD_ADDR_EXP 23
27630: PUSH
27631: LD_INT 2
27633: ST_TO_ADDR
// def_respawining_type := 3 ;
27634: LD_ADDR_EXP 24
27638: PUSH
27639: LD_INT 3
27641: ST_TO_ADDR
// def_tech_level := 8 ;
27642: LD_ADDR_EXP 26
27646: PUSH
27647: LD_INT 8
27649: ST_TO_ADDR
// def_upgrade_tl := 0 ;
27650: LD_ADDR_EXP 27
27654: PUSH
27655: LD_INT 0
27657: ST_TO_ADDR
// def_desert_warior := 0 ;
27658: LD_ADDR_EXP 31
27662: PUSH
27663: LD_INT 0
27665: ST_TO_ADDR
// Unavailable_Techs := [ tech_Laser , tech_ApeNeural ] ;
27666: LD_ADDR_VAR 0 2
27670: PUSH
27671: LD_INT 10
27673: PUSH
27674: LD_INT 3
27676: PUSH
27677: EMPTY
27678: LIST
27679: LIST
27680: ST_TO_ADDR
// Unavailable_Builds := [ b_Lab_Computer , b_Lab_Siberium , b_Lab_Spacetime , b_Lab_Biological , b_Barracks , b_ext_Computer , b_ext_Siberium , b_Turret , b_Control_Tower ] ;
27681: LD_ADDR_VAR 0 3
27685: PUSH
27686: LD_INT 12
27688: PUSH
27689: LD_INT 11
27691: PUSH
27692: LD_INT 14
27694: PUSH
27695: LD_INT 13
27697: PUSH
27698: LD_INT 5
27700: PUSH
27701: LD_INT 24
27703: PUSH
27704: LD_INT 21
27706: PUSH
27707: LD_INT 33
27709: PUSH
27710: LD_INT 36
27712: PUSH
27713: EMPTY
27714: LIST
27715: LIST
27716: LIST
27717: LIST
27718: LIST
27719: LIST
27720: LIST
27721: LIST
27722: LIST
27723: ST_TO_ADDR
// Banned_Weapons := [ ar_Control_Tower ] ;
27724: LD_ADDR_LOC 24
27728: PUSH
27729: LD_INT 31
27731: PUSH
27732: EMPTY
27733: LIST
27734: ST_TO_ADDR
// Banned_Chassis := [ ] ;
27735: LD_ADDR_LOC 25
27739: PUSH
27740: EMPTY
27741: ST_TO_ADDR
// Banned_Controls := [ control_Remote ] ;
27742: LD_ADDR_LOC 26
27746: PUSH
27747: LD_INT 2
27749: PUSH
27750: EMPTY
27751: LIST
27752: ST_TO_ADDR
// Banned_Engines := [ ] ;
27753: LD_ADDR_LOC 27
27757: PUSH
27758: EMPTY
27759: ST_TO_ADDR
// Restricted_Builds := [ [ b_Armoury ] , [ b_Breastwork , b_Bunker ] ] ;
27760: LD_ADDR_LOC 22
27764: PUSH
27765: LD_INT 4
27767: PUSH
27768: EMPTY
27769: LIST
27770: PUSH
27771: LD_INT 31
27773: PUSH
27774: LD_INT 32
27776: PUSH
27777: EMPTY
27778: LIST
27779: LIST
27780: PUSH
27781: EMPTY
27782: LIST
27783: LIST
27784: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
27785: LD_EXP 1
27789: PUSH
27790: LD_EXP 3
27794: PUSH
27795: LD_EXP 4
27799: ADD
27800: IN
27801: IFFALSE 27820
// Restricted_Builds_Amount := [ 2 , 2 ] else
27803: LD_ADDR_LOC 23
27807: PUSH
27808: LD_INT 2
27810: PUSH
27811: LD_INT 2
27813: PUSH
27814: EMPTY
27815: LIST
27816: LIST
27817: ST_TO_ADDR
27818: GO 27835
// Restricted_Builds_Amount := [ 1 , 1 ] ;
27820: LD_ADDR_LOC 23
27824: PUSH
27825: LD_INT 1
27827: PUSH
27828: LD_INT 1
27830: PUSH
27831: EMPTY
27832: LIST
27833: LIST
27834: ST_TO_ADDR
// end ; 6 :
27835: GO 28900
27837: LD_INT 6
27839: DOUBLE
27840: EQUAL
27841: IFTRUE 27845
27843: GO 28123
27845: POP
// begin def_base_level := 1 ;
27846: LD_ADDR_EXP 10
27850: PUSH
27851: LD_INT 1
27853: ST_TO_ADDR
// def_amount_of_people := 10 ;
27854: LD_ADDR_EXP 11
27858: PUSH
27859: LD_INT 10
27861: ST_TO_ADDR
// def_initial_level := 3 ;
27862: LD_ADDR_EXP 13
27866: PUSH
27867: LD_INT 3
27869: ST_TO_ADDR
// def_starting_resources := 3 ;
27870: LD_ADDR_EXP 15
27874: PUSH
27875: LD_INT 3
27877: ST_TO_ADDR
// def_shipments_density := 1 ;
27878: LD_ADDR_EXP 16
27882: PUSH
27883: LD_INT 1
27885: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
27886: LD_ADDR_EXP 17
27890: PUSH
27891: LD_INT 0
27893: ST_TO_ADDR
// def_extra_sib_deposits := 1 ;
27894: LD_ADDR_EXP 18
27898: PUSH
27899: LD_INT 1
27901: ST_TO_ADDR
// def_shared_vision := 1 ;
27902: LD_ADDR_EXP 19
27906: PUSH
27907: LD_INT 1
27909: ST_TO_ADDR
// def_morale_flags := 0 ;
27910: LD_ADDR_EXP 20
27914: PUSH
27915: LD_INT 0
27917: ST_TO_ADDR
// def_siberite_detection := 1 ;
27918: LD_ADDR_EXP 28
27922: PUSH
27923: LD_INT 1
27925: ST_TO_ADDR
// def_people_respawning := 2 ;
27926: LD_ADDR_EXP 25
27930: PUSH
27931: LD_INT 2
27933: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
27934: LD_ADDR_EXP 22
27938: PUSH
27939: LD_INT 1
27941: ST_TO_ADDR
// def_siberite_bomb := 0 ;
27942: LD_ADDR_EXP 29
27946: PUSH
27947: LD_INT 0
27949: ST_TO_ADDR
// def_builduptime := 1 ;
27950: LD_ADDR_EXP 30
27954: PUSH
27955: LD_INT 1
27957: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
27958: LD_ADDR_EXP 12
27962: PUSH
27963: LD_INT 0
27965: ST_TO_ADDR
// def_amount_of_tiger := 1 ;
27966: LD_ADDR_EXP 23
27970: PUSH
27971: LD_INT 1
27973: ST_TO_ADDR
// def_respawining_type := 3 ;
27974: LD_ADDR_EXP 24
27978: PUSH
27979: LD_INT 3
27981: ST_TO_ADDR
// def_tech_level := 8 ;
27982: LD_ADDR_EXP 26
27986: PUSH
27987: LD_INT 8
27989: ST_TO_ADDR
// def_upgrade_tl := 0 ;
27990: LD_ADDR_EXP 27
27994: PUSH
27995: LD_INT 0
27997: ST_TO_ADDR
// def_desert_warior := 0 ;
27998: LD_ADDR_EXP 31
28002: PUSH
28003: LD_INT 0
28005: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth ] ;
28006: LD_ADDR_VAR 0 2
28010: PUSH
28011: LD_INT 23
28013: PUSH
28014: EMPTY
28015: LIST
28016: ST_TO_ADDR
// Unavailable_Builds := [ b_Workshop , b_Behemoth , b_Breastwork , b_Bunker , b_Turret ] ;
28017: LD_ADDR_VAR 0 3
28021: PUSH
28022: LD_INT 2
28024: PUSH
28025: LD_INT 37
28027: PUSH
28028: LD_INT 31
28030: PUSH
28031: LD_INT 32
28033: PUSH
28034: LD_INT 33
28036: PUSH
28037: EMPTY
28038: LIST
28039: LIST
28040: LIST
28041: LIST
28042: LIST
28043: ST_TO_ADDR
// Banned_Weapons := [ ] ;
28044: LD_ADDR_LOC 24
28048: PUSH
28049: EMPTY
28050: ST_TO_ADDR
// Banned_Chassis := [ ] ;
28051: LD_ADDR_LOC 25
28055: PUSH
28056: EMPTY
28057: ST_TO_ADDR
// Banned_Controls := [ ] ;
28058: LD_ADDR_LOC 26
28062: PUSH
28063: EMPTY
28064: ST_TO_ADDR
// Banned_Engines := [ ] ;
28065: LD_ADDR_LOC 27
28069: PUSH
28070: EMPTY
28071: ST_TO_ADDR
// Restricted_Builds := [ [ b_Armoury , b_barracks ] ] ;
28072: LD_ADDR_LOC 22
28076: PUSH
28077: LD_INT 4
28079: PUSH
28080: LD_INT 5
28082: PUSH
28083: EMPTY
28084: LIST
28085: LIST
28086: PUSH
28087: EMPTY
28088: LIST
28089: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
28090: LD_EXP 1
28094: PUSH
28095: LD_EXP 3
28099: PUSH
28100: LD_EXP 4
28104: ADD
28105: IN
28106: IFFALSE 28110
// else
28108: GO 28121
// Restricted_Builds_Amount := [ 1 ] ;
28110: LD_ADDR_LOC 23
28114: PUSH
28115: LD_INT 1
28117: PUSH
28118: EMPTY
28119: LIST
28120: ST_TO_ADDR
// end ; 7 :
28121: GO 28900
28123: LD_INT 7
28125: DOUBLE
28126: EQUAL
28127: IFTRUE 28131
28129: GO 28408
28131: POP
// begin def_base_level := 1 ;
28132: LD_ADDR_EXP 10
28136: PUSH
28137: LD_INT 1
28139: ST_TO_ADDR
// def_amount_of_people := 10 ;
28140: LD_ADDR_EXP 11
28144: PUSH
28145: LD_INT 10
28147: ST_TO_ADDR
// def_initial_level := 3 ;
28148: LD_ADDR_EXP 13
28152: PUSH
28153: LD_INT 3
28155: ST_TO_ADDR
// def_starting_resources := 3 ;
28156: LD_ADDR_EXP 15
28160: PUSH
28161: LD_INT 3
28163: ST_TO_ADDR
// def_shipments_density := 1 ;
28164: LD_ADDR_EXP 16
28168: PUSH
28169: LD_INT 1
28171: ST_TO_ADDR
// def_extra_oil_deposits := 1 ;
28172: LD_ADDR_EXP 17
28176: PUSH
28177: LD_INT 1
28179: ST_TO_ADDR
// def_extra_sib_deposits := 2 ;
28180: LD_ADDR_EXP 18
28184: PUSH
28185: LD_INT 2
28187: ST_TO_ADDR
// def_shared_vision := 1 ;
28188: LD_ADDR_EXP 19
28192: PUSH
28193: LD_INT 1
28195: ST_TO_ADDR
// def_morale_flags := 0 ;
28196: LD_ADDR_EXP 20
28200: PUSH
28201: LD_INT 0
28203: ST_TO_ADDR
// def_siberite_detection := 1 ;
28204: LD_ADDR_EXP 28
28208: PUSH
28209: LD_INT 1
28211: ST_TO_ADDR
// def_people_respawning := 0 ;
28212: LD_ADDR_EXP 25
28216: PUSH
28217: LD_INT 0
28219: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
28220: LD_ADDR_EXP 22
28224: PUSH
28225: LD_INT 1
28227: ST_TO_ADDR
// def_siberite_bomb := 0 ;
28228: LD_ADDR_EXP 29
28232: PUSH
28233: LD_INT 0
28235: ST_TO_ADDR
// def_builduptime := 3 ;
28236: LD_ADDR_EXP 30
28240: PUSH
28241: LD_INT 3
28243: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
28244: LD_ADDR_EXP 12
28248: PUSH
28249: LD_INT 0
28251: ST_TO_ADDR
// def_amount_of_tiger := 1 ;
28252: LD_ADDR_EXP 23
28256: PUSH
28257: LD_INT 1
28259: ST_TO_ADDR
// def_respawining_type := 3 ;
28260: LD_ADDR_EXP 24
28264: PUSH
28265: LD_INT 3
28267: ST_TO_ADDR
// def_tech_level := 8 ;
28268: LD_ADDR_EXP 26
28272: PUSH
28273: LD_INT 8
28275: ST_TO_ADDR
// def_upgrade_tl := 0 ;
28276: LD_ADDR_EXP 27
28280: PUSH
28281: LD_INT 0
28283: ST_TO_ADDR
// def_desert_warior := 0 ;
28284: LD_ADDR_EXP 31
28288: PUSH
28289: LD_INT 0
28291: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth ] ;
28292: LD_ADDR_VAR 0 2
28296: PUSH
28297: LD_INT 23
28299: PUSH
28300: EMPTY
28301: LIST
28302: ST_TO_ADDR
// Unavailable_Builds := [ b_Behemoth ] ;
28303: LD_ADDR_VAR 0 3
28307: PUSH
28308: LD_INT 37
28310: PUSH
28311: EMPTY
28312: LIST
28313: ST_TO_ADDR
// Banned_Weapons := [ ] ;
28314: LD_ADDR_LOC 24
28318: PUSH
28319: EMPTY
28320: ST_TO_ADDR
// Banned_Chassis := [ ] ;
28321: LD_ADDR_LOC 25
28325: PUSH
28326: EMPTY
28327: ST_TO_ADDR
// Banned_Controls := [ ] ;
28328: LD_ADDR_LOC 26
28332: PUSH
28333: EMPTY
28334: ST_TO_ADDR
// Banned_Engines := [ ] ;
28335: LD_ADDR_LOC 27
28339: PUSH
28340: EMPTY
28341: ST_TO_ADDR
// Restricted_Builds := [ [ b_Breastwork , b_Bunker , b_Turret ] ] ;
28342: LD_ADDR_LOC 22
28346: PUSH
28347: LD_INT 31
28349: PUSH
28350: LD_INT 32
28352: PUSH
28353: LD_INT 33
28355: PUSH
28356: EMPTY
28357: LIST
28358: LIST
28359: LIST
28360: PUSH
28361: EMPTY
28362: LIST
28363: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
28364: LD_EXP 1
28368: PUSH
28369: LD_EXP 3
28373: PUSH
28374: LD_EXP 4
28378: ADD
28379: IN
28380: IFFALSE 28395
// Restricted_Builds_Amount := [ 20 ] else
28382: LD_ADDR_LOC 23
28386: PUSH
28387: LD_INT 20
28389: PUSH
28390: EMPTY
28391: LIST
28392: ST_TO_ADDR
28393: GO 28406
// Restricted_Builds_Amount := [ 10 ] ;
28395: LD_ADDR_LOC 23
28399: PUSH
28400: LD_INT 10
28402: PUSH
28403: EMPTY
28404: LIST
28405: ST_TO_ADDR
// end ; 8 :
28406: GO 28900
28408: LD_INT 8
28410: DOUBLE
28411: EQUAL
28412: IFTRUE 28416
28414: GO 28899
28416: POP
// begin def_base_level := 0 ;
28417: LD_ADDR_EXP 10
28421: PUSH
28422: LD_INT 0
28424: ST_TO_ADDR
// def_amount_of_people := Rand ( 4 , 8 ) ;
28425: LD_ADDR_EXP 11
28429: PUSH
28430: LD_INT 4
28432: PPUSH
28433: LD_INT 8
28435: PPUSH
28436: CALL_OW 12
28440: ST_TO_ADDR
// def_initial_level := 0 ;
28441: LD_ADDR_EXP 13
28445: PUSH
28446: LD_INT 0
28448: ST_TO_ADDR
// def_starting_resources := 2 ;
28449: LD_ADDR_EXP 15
28453: PUSH
28454: LD_INT 2
28456: ST_TO_ADDR
// def_shipments_density := 1 ;
28457: LD_ADDR_EXP 16
28461: PUSH
28462: LD_INT 1
28464: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
28465: LD_ADDR_EXP 17
28469: PUSH
28470: LD_INT 0
28472: ST_TO_ADDR
// def_extra_sib_deposits := 0 ;
28473: LD_ADDR_EXP 18
28477: PUSH
28478: LD_INT 0
28480: ST_TO_ADDR
// def_shared_vision := 1 ;
28481: LD_ADDR_EXP 19
28485: PUSH
28486: LD_INT 1
28488: ST_TO_ADDR
// def_morale_flags := Rand ( 0 , 2 ) ;
28489: LD_ADDR_EXP 20
28493: PUSH
28494: LD_INT 0
28496: PPUSH
28497: LD_INT 2
28499: PPUSH
28500: CALL_OW 12
28504: ST_TO_ADDR
// def_siberite_detection := 0 ;
28505: LD_ADDR_EXP 28
28509: PUSH
28510: LD_INT 0
28512: ST_TO_ADDR
// def_people_respawning := 0 ;
28513: LD_ADDR_EXP 25
28517: PUSH
28518: LD_INT 0
28520: ST_TO_ADDR
// def_amount_of_apemen := 2 ;
28521: LD_ADDR_EXP 22
28525: PUSH
28526: LD_INT 2
28528: ST_TO_ADDR
// def_siberite_bomb := 0 ;
28529: LD_ADDR_EXP 29
28533: PUSH
28534: LD_INT 0
28536: ST_TO_ADDR
// def_builduptime := 0 ;
28537: LD_ADDR_EXP 30
28541: PUSH
28542: LD_INT 0
28544: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
28545: LD_ADDR_EXP 12
28549: PUSH
28550: LD_INT 0
28552: ST_TO_ADDR
// def_amount_of_tiger := 2 ;
28553: LD_ADDR_EXP 23
28557: PUSH
28558: LD_INT 2
28560: ST_TO_ADDR
// def_respawining_type := 3 ;
28561: LD_ADDR_EXP 24
28565: PUSH
28566: LD_INT 3
28568: ST_TO_ADDR
// def_tech_level := 8 ;
28569: LD_ADDR_EXP 26
28573: PUSH
28574: LD_INT 8
28576: ST_TO_ADDR
// def_upgrade_tl := 0 ;
28577: LD_ADDR_EXP 27
28581: PUSH
28582: LD_INT 0
28584: ST_TO_ADDR
// def_desert_warior := 0 ;
28585: LD_ADDR_EXP 31
28589: PUSH
28590: LD_INT 0
28592: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth , tech_SibDet , tech_Rocket , tech_OilEng , tech_OilPow , tech_Gun , tech_AdvRocket , tech_AdvMet , tech_Mortar , tech_Bazooka , tech_HidCam , tech_PartInvis ] ;
28593: LD_ADDR_VAR 0 2
28597: PUSH
28598: LD_INT 23
28600: PUSH
28601: LD_INT 20
28603: PUSH
28604: LD_INT 40
28606: PUSH
28607: LD_INT 47
28609: PUSH
28610: LD_INT 46
28612: PUSH
28613: LD_INT 39
28615: PUSH
28616: LD_INT 71
28618: PUSH
28619: LD_INT 34
28621: PUSH
28622: LD_INT 41
28624: PUSH
28625: LD_INT 44
28627: PUSH
28628: LD_INT 17
28630: PUSH
28631: LD_INT 16
28633: PUSH
28634: EMPTY
28635: LIST
28636: LIST
28637: LIST
28638: LIST
28639: LIST
28640: LIST
28641: LIST
28642: LIST
28643: LIST
28644: LIST
28645: LIST
28646: LIST
28647: ST_TO_ADDR
// Unavailable_Builds := [ b_Behemoth , b_Barracks , b_Lab_Biological , b_Teleport , b_Lab_Computer , b_Lab_Opto , b_Lab_Siberium , b_Lab_Spacetime , b_Oil_Mine , b_Siberite_Mine , b_Siberite_Power , b_Ext_Computer , b_Ext_Laser , b_Ext_Radar , b_Ext_Siberium , b_Ext_Radio , b_Control_Tower ] ;
28648: LD_ADDR_VAR 0 3
28652: PUSH
28653: LD_INT 37
28655: PUSH
28656: LD_INT 5
28658: PUSH
28659: LD_INT 13
28661: PUSH
28662: LD_INT 34
28664: PUSH
28665: LD_INT 12
28667: PUSH
28668: LD_INT 15
28670: PUSH
28671: LD_INT 11
28673: PUSH
28674: LD_INT 14
28676: PUSH
28677: LD_INT 29
28679: PUSH
28680: LD_INT 30
28682: PUSH
28683: LD_INT 28
28685: PUSH
28686: LD_INT 24
28688: PUSH
28689: LD_INT 25
28691: PUSH
28692: LD_INT 20
28694: PUSH
28695: LD_INT 21
28697: PUSH
28698: LD_INT 22
28700: PUSH
28701: LD_INT 36
28703: PUSH
28704: EMPTY
28705: LIST
28706: LIST
28707: LIST
28708: LIST
28709: LIST
28710: LIST
28711: LIST
28712: LIST
28713: LIST
28714: LIST
28715: LIST
28716: LIST
28717: LIST
28718: LIST
28719: LIST
28720: LIST
28721: LIST
28722: ST_TO_ADDR
// Banned_Weapons := [ ] ;
28723: LD_ADDR_LOC 24
28727: PUSH
28728: EMPTY
28729: ST_TO_ADDR
// Banned_Chassis := [ ar_half_tracked ] ;
28730: LD_ADDR_LOC 25
28734: PUSH
28735: LD_INT 14
28737: PUSH
28738: EMPTY
28739: LIST
28740: ST_TO_ADDR
// Banned_Controls := [ ] ;
28741: LD_ADDR_LOC 26
28745: PUSH
28746: EMPTY
28747: ST_TO_ADDR
// Banned_Engines := [ ] ;
28748: LD_ADDR_LOC 27
28752: PUSH
28753: EMPTY
28754: ST_TO_ADDR
// Restricted_Builds := [ [ b_Breastwork , b_Bunker ] , [ b_Armoury ] ] ;
28755: LD_ADDR_LOC 22
28759: PUSH
28760: LD_INT 31
28762: PUSH
28763: LD_INT 32
28765: PUSH
28766: EMPTY
28767: LIST
28768: LIST
28769: PUSH
28770: LD_INT 4
28772: PUSH
28773: EMPTY
28774: LIST
28775: PUSH
28776: EMPTY
28777: LIST
28778: LIST
28779: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
28780: LD_EXP 1
28784: PUSH
28785: LD_EXP 3
28789: PUSH
28790: LD_EXP 4
28794: ADD
28795: IN
28796: IFFALSE 28815
// Restricted_Builds_Amount := [ 4 , 2 ] else
28798: LD_ADDR_LOC 23
28802: PUSH
28803: LD_INT 4
28805: PUSH
28806: LD_INT 2
28808: PUSH
28809: EMPTY
28810: LIST
28811: LIST
28812: ST_TO_ADDR
28813: GO 28830
// Restricted_Builds_Amount := [ 2 , 1 ] ;
28815: LD_ADDR_LOC 23
28819: PUSH
28820: LD_INT 2
28822: PUSH
28823: LD_INT 1
28825: PUSH
28826: EMPTY
28827: LIST
28828: LIST
28829: ST_TO_ADDR
// for i := 1 to 8 do
28830: LD_ADDR_VAR 0 4
28834: PUSH
28835: DOUBLE
28836: LD_INT 1
28838: DEC
28839: ST_TO_ADDR
28840: LD_INT 8
28842: PUSH
28843: FOR_TO
28844: IFFALSE 28895
// if ( Side_Nations [ i ] = 3 ) then
28846: LD_EXP 76
28850: PUSH
28851: LD_VAR 0 4
28855: ARRAY
28856: PUSH
28857: LD_INT 3
28859: EQUAL
28860: IFFALSE 28893
// Side_Nations := Replace ( Side_Nations , i , Rand ( 1 , 2 ) ) ;
28862: LD_ADDR_EXP 76
28866: PUSH
28867: LD_EXP 76
28871: PPUSH
28872: LD_VAR 0 4
28876: PPUSH
28877: LD_INT 1
28879: PPUSH
28880: LD_INT 2
28882: PPUSH
28883: CALL_OW 12
28887: PPUSH
28888: CALL_OW 1
28892: ST_TO_ADDR
28893: GO 28843
28895: POP
28896: POP
// end ; end ;
28897: GO 28900
28899: POP
// for i := 1 to 8 do
28900: LD_ADDR_VAR 0 4
28904: PUSH
28905: DOUBLE
28906: LD_INT 1
28908: DEC
28909: ST_TO_ADDR
28910: LD_INT 8
28912: PUSH
28913: FOR_TO
28914: IFFALSE 28998
// if Side_Positions [ i ] then
28916: LD_EXP 75
28920: PUSH
28921: LD_VAR 0 4
28925: ARRAY
28926: IFFALSE 28996
// begin for j in Unavailable_Techs do
28928: LD_ADDR_VAR 0 5
28932: PUSH
28933: LD_VAR 0 2
28937: PUSH
28938: FOR_IN
28939: IFFALSE 28960
// SetTech ( j , i , 0 ) ;
28941: LD_VAR 0 5
28945: PPUSH
28946: LD_VAR 0 4
28950: PPUSH
28951: LD_INT 0
28953: PPUSH
28954: CALL_OW 322
28958: GO 28938
28960: POP
28961: POP
// for j in Unavailable_Builds do
28962: LD_ADDR_VAR 0 5
28966: PUSH
28967: LD_VAR 0 3
28971: PUSH
28972: FOR_IN
28973: IFFALSE 28994
// SetRestrict ( j , i , 0 ) ;
28975: LD_VAR 0 5
28979: PPUSH
28980: LD_VAR 0 4
28984: PPUSH
28985: LD_INT 0
28987: PPUSH
28988: CALL_OW 324
28992: GO 28972
28994: POP
28995: POP
// end ;
28996: GO 28913
28998: POP
28999: POP
// end ;
29000: LD_VAR 0 1
29004: RET
// export function InitLimits ; var i , j , k , amount , btype , list ; begin
29005: LD_INT 0
29007: PPUSH
29008: PPUSH
29009: PPUSH
29010: PPUSH
29011: PPUSH
29012: PPUSH
29013: PPUSH
// for i := 1 to Restricted_Builds do
29014: LD_ADDR_VAR 0 2
29018: PUSH
29019: DOUBLE
29020: LD_INT 1
29022: DEC
29023: ST_TO_ADDR
29024: LD_LOC 22
29028: PUSH
29029: FOR_TO
29030: IFFALSE 29340
// begin case Restricted_Builds [ i ] [ 1 ] of b_Breastwork , b_Bunker , b_Turret :
29032: LD_LOC 22
29036: PUSH
29037: LD_VAR 0 2
29041: ARRAY
29042: PUSH
29043: LD_INT 1
29045: ARRAY
29046: PUSH
29047: LD_INT 31
29049: DOUBLE
29050: EQUAL
29051: IFTRUE 29067
29053: LD_INT 32
29055: DOUBLE
29056: EQUAL
29057: IFTRUE 29067
29059: LD_INT 33
29061: DOUBLE
29062: EQUAL
29063: IFTRUE 29067
29065: GO 29078
29067: POP
// btype := #Turrets ; b_Armoury , b_Barracks :
29068: LD_ADDR_VAR 0 6
29072: PUSH
29073: LD_STRING #Turrets
29075: ST_TO_ADDR
29076: GO 29123
29078: LD_INT 4
29080: DOUBLE
29081: EQUAL
29082: IFTRUE 29092
29084: LD_INT 5
29086: DOUBLE
29087: EQUAL
29088: IFTRUE 29092
29090: GO 29103
29092: POP
// btype := #Armouries ; b_Behemoth :
29093: LD_ADDR_VAR 0 6
29097: PUSH
29098: LD_STRING #Armouries
29100: ST_TO_ADDR
29101: GO 29123
29103: LD_INT 37
29105: DOUBLE
29106: EQUAL
29107: IFTRUE 29111
29109: GO 29122
29111: POP
// btype := #Behemoths ; end ;
29112: LD_ADDR_VAR 0 6
29116: PUSH
29117: LD_STRING #Behemoths
29119: ST_TO_ADDR
29120: GO 29123
29122: POP
// list := [ ] ;
29123: LD_ADDR_VAR 0 7
29127: PUSH
29128: EMPTY
29129: ST_TO_ADDR
// for j := 1 to 8 do
29130: LD_ADDR_VAR 0 3
29134: PUSH
29135: DOUBLE
29136: LD_INT 1
29138: DEC
29139: ST_TO_ADDR
29140: LD_INT 8
29142: PUSH
29143: FOR_TO
29144: IFFALSE 29237
// if Side_Positions [ j ] then
29146: LD_EXP 75
29150: PUSH
29151: LD_VAR 0 3
29155: ARRAY
29156: IFFALSE 29235
// begin amount := 0 ;
29158: LD_ADDR_VAR 0 5
29162: PUSH
29163: LD_INT 0
29165: ST_TO_ADDR
// for k in Restricted_Builds [ i ] do
29166: LD_ADDR_VAR 0 4
29170: PUSH
29171: LD_LOC 22
29175: PUSH
29176: LD_VAR 0 2
29180: ARRAY
29181: PUSH
29182: FOR_IN
29183: IFFALSE 29231
// amount := amount + FilterAllUnits ( [ [ f_side , j ] , [ f_btype , k ] ] ) ;
29185: LD_ADDR_VAR 0 5
29189: PUSH
29190: LD_VAR 0 5
29194: PUSH
29195: LD_INT 22
29197: PUSH
29198: LD_VAR 0 3
29202: PUSH
29203: EMPTY
29204: LIST
29205: LIST
29206: PUSH
29207: LD_INT 30
29209: PUSH
29210: LD_VAR 0 4
29214: PUSH
29215: EMPTY
29216: LIST
29217: LIST
29218: PUSH
29219: EMPTY
29220: LIST
29221: LIST
29222: PPUSH
29223: CALL_OW 69
29227: PLUS
29228: ST_TO_ADDR
29229: GO 29182
29231: POP
29232: POP
// continue ;
29233: GO 29143
// end ;
29235: GO 29143
29237: POP
29238: POP
// list := [ ] ;
29239: LD_ADDR_VAR 0 7
29243: PUSH
29244: EMPTY
29245: ST_TO_ADDR
// for j := 1 to 8 do
29246: LD_ADDR_VAR 0 3
29250: PUSH
29251: DOUBLE
29252: LD_INT 1
29254: DEC
29255: ST_TO_ADDR
29256: LD_INT 8
29258: PUSH
29259: FOR_TO
29260: IFFALSE 29280
// list := list ^ amount ;
29262: LD_ADDR_VAR 0 7
29266: PUSH
29267: LD_VAR 0 7
29271: PUSH
29272: LD_VAR 0 5
29276: ADD
29277: ST_TO_ADDR
29278: GO 29259
29280: POP
29281: POP
// Already_Built := Already_Built ^ [ list ] ;
29282: LD_ADDR_LOC 28
29286: PUSH
29287: LD_LOC 28
29291: PUSH
29292: LD_VAR 0 7
29296: PUSH
29297: EMPTY
29298: LIST
29299: ADD
29300: ST_TO_ADDR
// Limits_Info := Limits_Info ^ [ btype , amount , Restricted_Builds_Amount [ i ] ] ;
29301: LD_ADDR_LOC 29
29305: PUSH
29306: LD_LOC 29
29310: PUSH
29311: LD_VAR 0 6
29315: PUSH
29316: LD_VAR 0 5
29320: PUSH
29321: LD_LOC 23
29325: PUSH
29326: LD_VAR 0 2
29330: ARRAY
29331: PUSH
29332: EMPTY
29333: LIST
29334: LIST
29335: LIST
29336: ADD
29337: ST_TO_ADDR
// end ;
29338: GO 29029
29340: POP
29341: POP
// Cheaters := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
29342: LD_ADDR_LOC 30
29346: PUSH
29347: LD_INT 0
29349: PUSH
29350: LD_INT 0
29352: PUSH
29353: LD_INT 0
29355: PUSH
29356: LD_INT 0
29358: PUSH
29359: LD_INT 0
29361: PUSH
29362: LD_INT 0
29364: PUSH
29365: LD_INT 0
29367: PUSH
29368: LD_INT 0
29370: PUSH
29371: EMPTY
29372: LIST
29373: LIST
29374: LIST
29375: LIST
29376: LIST
29377: LIST
29378: LIST
29379: LIST
29380: ST_TO_ADDR
// if Limits_Info then
29381: LD_LOC 29
29385: IFFALSE 29401
// Limits_Info := #Limits ^ Limits_Info ;
29387: LD_ADDR_LOC 29
29391: PUSH
29392: LD_STRING #Limits
29394: PUSH
29395: LD_LOC 29
29399: ADD
29400: ST_TO_ADDR
// end ;
29401: LD_VAR 0 1
29405: RET
// export function ExecuteLimits ( un , BType , side , old_side , count ) ; var i , j , Is_Cheater ; begin
29406: LD_INT 0
29408: PPUSH
29409: PPUSH
29410: PPUSH
29411: PPUSH
// for i := 1 to Restricted_Builds do
29412: LD_ADDR_VAR 0 7
29416: PUSH
29417: DOUBLE
29418: LD_INT 1
29420: DEC
29421: ST_TO_ADDR
29422: LD_LOC 22
29426: PUSH
29427: FOR_TO
29428: IFFALSE 29851
// if BType in Restricted_Builds [ i ] then
29430: LD_VAR 0 2
29434: PUSH
29435: LD_LOC 22
29439: PUSH
29440: LD_VAR 0 7
29444: ARRAY
29445: IN
29446: IFFALSE 29849
// begin if old_side then
29448: LD_VAR 0 4
29452: IFFALSE 29578
// if Already_Built [ i ] [ side ] + count > Restricted_Builds_Amount [ i ] then
29454: LD_LOC 28
29458: PUSH
29459: LD_VAR 0 7
29463: ARRAY
29464: PUSH
29465: LD_VAR 0 3
29469: ARRAY
29470: PUSH
29471: LD_VAR 0 5
29475: PLUS
29476: PUSH
29477: LD_LOC 23
29481: PUSH
29482: LD_VAR 0 7
29486: ARRAY
29487: GREATER
29488: IFFALSE 29514
// begin SetSide ( un , old_side ) ;
29490: LD_VAR 0 1
29494: PPUSH
29495: LD_VAR 0 4
29499: PPUSH
29500: CALL_OW 235
// count := 0 ;
29504: LD_ADDR_VAR 0 5
29508: PUSH
29509: LD_INT 0
29511: ST_TO_ADDR
// end else
29512: GO 29578
// Already_Built := Replace ( Already_Built , i , Replace ( Already_Built [ i ] , old_side , Already_Built [ i ] [ old_side ] - count ) ) ;
29514: LD_ADDR_LOC 28
29518: PUSH
29519: LD_LOC 28
29523: PPUSH
29524: LD_VAR 0 7
29528: PPUSH
29529: LD_LOC 28
29533: PUSH
29534: LD_VAR 0 7
29538: ARRAY
29539: PPUSH
29540: LD_VAR 0 4
29544: PPUSH
29545: LD_LOC 28
29549: PUSH
29550: LD_VAR 0 7
29554: ARRAY
29555: PUSH
29556: LD_VAR 0 4
29560: ARRAY
29561: PUSH
29562: LD_VAR 0 5
29566: MINUS
29567: PPUSH
29568: CALL_OW 1
29572: PPUSH
29573: CALL_OW 1
29577: ST_TO_ADDR
// Already_Built := Replace ( Already_Built , i , Replace ( Already_Built [ i ] , side , Already_Built [ i ] [ side ] + count ) ) ;
29578: LD_ADDR_LOC 28
29582: PUSH
29583: LD_LOC 28
29587: PPUSH
29588: LD_VAR 0 7
29592: PPUSH
29593: LD_LOC 28
29597: PUSH
29598: LD_VAR 0 7
29602: ARRAY
29603: PPUSH
29604: LD_VAR 0 3
29608: PPUSH
29609: LD_LOC 28
29613: PUSH
29614: LD_VAR 0 7
29618: ARRAY
29619: PUSH
29620: LD_VAR 0 3
29624: ARRAY
29625: PUSH
29626: LD_VAR 0 5
29630: PLUS
29631: PPUSH
29632: CALL_OW 1
29636: PPUSH
29637: CALL_OW 1
29641: ST_TO_ADDR
// if count <> 0 and ( side = mp_player_side ) then
29642: LD_VAR 0 5
29646: PUSH
29647: LD_INT 0
29649: NONEQUAL
29650: PUSH
29651: LD_VAR 0 3
29655: PUSH
29656: LD_OWVAR 7
29660: EQUAL
29661: AND
29662: IFFALSE 29705
// Limits_Info := Replace ( Limits_Info , 3 * i , Already_Built [ i ] [ side ] ) ;
29664: LD_ADDR_LOC 29
29668: PUSH
29669: LD_LOC 29
29673: PPUSH
29674: LD_INT 3
29676: PUSH
29677: LD_VAR 0 7
29681: MUL
29682: PPUSH
29683: LD_LOC 28
29687: PUSH
29688: LD_VAR 0 7
29692: ARRAY
29693: PUSH
29694: LD_VAR 0 3
29698: ARRAY
29699: PPUSH
29700: CALL_OW 1
29704: ST_TO_ADDR
// if Already_Built [ i ] [ side ] > Restricted_Builds_Amount [ i ] then
29705: LD_LOC 28
29709: PUSH
29710: LD_VAR 0 7
29714: ARRAY
29715: PUSH
29716: LD_VAR 0 3
29720: ARRAY
29721: PUSH
29722: LD_LOC 23
29726: PUSH
29727: LD_VAR 0 7
29731: ARRAY
29732: GREATER
29733: IFFALSE 29760
// begin Cheaters := Replace ( Cheaters , side , 1 ) ;
29735: LD_ADDR_LOC 30
29739: PUSH
29740: LD_LOC 30
29744: PPUSH
29745: LD_VAR 0 3
29749: PPUSH
29750: LD_INT 1
29752: PPUSH
29753: CALL_OW 1
29757: ST_TO_ADDR
// end else
29758: GO 29847
// begin for j := 1 to Restricted_Builds do
29760: LD_ADDR_VAR 0 8
29764: PUSH
29765: DOUBLE
29766: LD_INT 1
29768: DEC
29769: ST_TO_ADDR
29770: LD_LOC 22
29774: PUSH
29775: FOR_TO
29776: IFFALSE 29820
// if Already_Built [ j ] [ side ] > Restricted_Builds_Amount [ j ] then
29778: LD_LOC 28
29782: PUSH
29783: LD_VAR 0 8
29787: ARRAY
29788: PUSH
29789: LD_VAR 0 3
29793: ARRAY
29794: PUSH
29795: LD_LOC 23
29799: PUSH
29800: LD_VAR 0 8
29804: ARRAY
29805: GREATER
29806: IFFALSE 29818
// begin Is_Cheater := true ;
29808: LD_ADDR_VAR 0 9
29812: PUSH
29813: LD_INT 1
29815: ST_TO_ADDR
// break ;
29816: GO 29820
// end ;
29818: GO 29775
29820: POP
29821: POP
// Cheaters := Replace ( Cheaters , side , Is_Cheater ) ;
29822: LD_ADDR_LOC 30
29826: PUSH
29827: LD_LOC 30
29831: PPUSH
29832: LD_VAR 0 3
29836: PPUSH
29837: LD_VAR 0 9
29841: PPUSH
29842: CALL_OW 1
29846: ST_TO_ADDR
// end ; break ;
29847: GO 29851
// end ;
29849: GO 29427
29851: POP
29852: POP
// end ;
29853: LD_VAR 0 6
29857: RET
// export function RestrictVehicleConstructionStarted ( factory , chassis , engine , control , weapon ) ; begin
29858: LD_INT 0
29860: PPUSH
// if ( weapon in Banned_Weapons ) or ( chassis in Banned_Chassis ) or ( control in Banned_Controls ) or ( engine in Banned_Engines ) then
29861: LD_VAR 0 5
29865: PUSH
29866: LD_LOC 24
29870: IN
29871: PUSH
29872: LD_VAR 0 2
29876: PUSH
29877: LD_LOC 25
29881: IN
29882: OR
29883: PUSH
29884: LD_VAR 0 4
29888: PUSH
29889: LD_LOC 26
29893: IN
29894: OR
29895: PUSH
29896: LD_VAR 0 3
29900: PUSH
29901: LD_LOC 27
29905: IN
29906: OR
29907: IFFALSE 29918
// ComCancel ( factory ) ;
29909: LD_VAR 0 1
29913: PPUSH
29914: CALL_OW 127
// end ;
29918: LD_VAR 0 6
29922: RET
// export function RestrictWeaponPlaced ( building , weapon ) ; begin
29923: LD_INT 0
29925: PPUSH
// if ( weapon in Banned_Weapons ) then
29926: LD_VAR 0 2
29930: PUSH
29931: LD_LOC 24
29935: IN
29936: IFFALSE 29947
// ComCancel ( building ) ;
29938: LD_VAR 0 1
29942: PPUSH
29943: CALL_OW 127
// end ;
29947: LD_VAR 0 3
29951: RET
// export function RestrictBuildingStarted ( building , builder ) ; var i , BType , b , side , count , k ; begin
29952: LD_INT 0
29954: PPUSH
29955: PPUSH
29956: PPUSH
29957: PPUSH
29958: PPUSH
29959: PPUSH
29960: PPUSH
// count = 0 ;
29961: LD_ADDR_VAR 0 8
29965: PUSH
29966: LD_INT 0
29968: ST_TO_ADDR
// BType = GetBType ( Building ) ;
29969: LD_ADDR_VAR 0 5
29973: PUSH
29974: LD_VAR 0 1
29978: PPUSH
29979: CALL_OW 266
29983: ST_TO_ADDR
// side = GetSide ( Building ) ;
29984: LD_ADDR_VAR 0 7
29988: PUSH
29989: LD_VAR 0 1
29993: PPUSH
29994: CALL_OW 255
29998: ST_TO_ADDR
// for i := 1 to Restricted_Builds do
29999: LD_ADDR_VAR 0 4
30003: PUSH
30004: DOUBLE
30005: LD_INT 1
30007: DEC
30008: ST_TO_ADDR
30009: LD_LOC 22
30013: PUSH
30014: FOR_TO
30015: IFFALSE 30158
// begin if BType in Restricted_Builds [ i ] then
30017: LD_VAR 0 5
30021: PUSH
30022: LD_LOC 22
30026: PUSH
30027: LD_VAR 0 4
30031: ARRAY
30032: IN
30033: IFFALSE 30125
// for k in Restricted_Builds [ i ] do
30035: LD_ADDR_VAR 0 9
30039: PUSH
30040: LD_LOC 22
30044: PUSH
30045: LD_VAR 0 4
30049: ARRAY
30050: PUSH
30051: FOR_IN
30052: IFFALSE 30123
// begin b = FilterAllunits ( [ [ f_side , side ] , [ f_type , building ] , [ f_btype , k ] ] ) ;
30054: LD_ADDR_VAR 0 6
30058: PUSH
30059: LD_INT 22
30061: PUSH
30062: LD_VAR 0 7
30066: PUSH
30067: EMPTY
30068: LIST
30069: LIST
30070: PUSH
30071: LD_INT 21
30073: PUSH
30074: LD_VAR 0 1
30078: PUSH
30079: EMPTY
30080: LIST
30081: LIST
30082: PUSH
30083: LD_INT 30
30085: PUSH
30086: LD_VAR 0 9
30090: PUSH
30091: EMPTY
30092: LIST
30093: LIST
30094: PUSH
30095: EMPTY
30096: LIST
30097: LIST
30098: LIST
30099: PPUSH
30100: CALL_OW 69
30104: ST_TO_ADDR
// count = count + b ;
30105: LD_ADDR_VAR 0 8
30109: PUSH
30110: LD_VAR 0 8
30114: PUSH
30115: LD_VAR 0 6
30119: PLUS
30120: ST_TO_ADDR
// end ;
30121: GO 30051
30123: POP
30124: POP
// if count + 0 > Restricted_Builds_Amount [ i ] then
30125: LD_VAR 0 8
30129: PUSH
30130: LD_INT 0
30132: PLUS
30133: PUSH
30134: LD_LOC 23
30138: PUSH
30139: LD_VAR 0 4
30143: ARRAY
30144: GREATER
30145: IFFALSE 30156
// DestroyUnit ( building ) ;
30147: LD_VAR 0 1
30151: PPUSH
30152: CALL_OW 65
// end ;
30156: GO 30014
30158: POP
30159: POP
// end ;
30160: LD_VAR 0 3
30164: RET
// export function CallExecuteLimits ( j ) ; begin
30165: LD_INT 0
30167: PPUSH
// if ( GetType ( j ) = 3 ) then
30168: LD_VAR 0 1
30172: PPUSH
30173: CALL_OW 247
30177: PUSH
30178: LD_INT 3
30180: EQUAL
30181: IFFALSE 30221
// ExecuteLimits ( j , GetBType ( j ) , GetSide ( j ) , 0 , - 1 ) else
30183: LD_VAR 0 1
30187: PPUSH
30188: LD_VAR 0 1
30192: PPUSH
30193: CALL_OW 266
30197: PPUSH
30198: LD_VAR 0 1
30202: PPUSH
30203: CALL_OW 255
30207: PPUSH
30208: LD_INT 0
30210: PPUSH
30211: LD_INT 1
30213: NEG
30214: PPUSH
30215: CALL 29406 0 5
30219: GO 30265
// if ( GetChassis ( j ) = 25 ) then
30221: LD_VAR 0 1
30225: PPUSH
30226: CALL_OW 265
30230: PUSH
30231: LD_INT 25
30233: EQUAL
30234: IFFALSE 30265
// ExecuteLimits ( j , b_behemoth , GetSide ( j ) , 0 , - 1 ) ;
30236: LD_VAR 0 1
30240: PPUSH
30241: LD_INT 37
30243: PPUSH
30244: LD_VAR 0 1
30248: PPUSH
30249: CALL_OW 255
30253: PPUSH
30254: LD_INT 0
30256: PPUSH
30257: LD_INT 1
30259: NEG
30260: PPUSH
30261: CALL 29406 0 5
// end ; end_of_file
30265: LD_VAR 0 2
30269: RET
// var FLAGY ; export FLAGY_AREA ; export FLAGY_XY ; export FLAGY_AREA1 ; var teams_p ; var WFT_Goal ; export WFT_Points_MP ; var WFT_FlagOnTop ; var WFT_FlagHeight ; export function Init_WarForTerritory ; var flag , i , p ; begin
30270: LD_INT 0
30272: PPUSH
30273: PPUSH
30274: PPUSH
30275: PPUSH
// if not def_WarForTerritory then
30276: LD_EXP 36
30280: NOT
30281: IFFALSE 30285
// exit ;
30283: GO 30625
// FLAGY = [ ] ;
30285: LD_ADDR_LOC 31
30289: PUSH
30290: EMPTY
30291: ST_TO_ADDR
// WFT_FlagOnTop = [ ] ;
30292: LD_ADDR_LOC 34
30296: PUSH
30297: EMPTY
30298: ST_TO_ADDR
// WFT_FlagHeight = [ ] ;
30299: LD_ADDR_LOC 35
30303: PUSH
30304: EMPTY
30305: ST_TO_ADDR
// teams_p = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
30306: LD_ADDR_LOC 32
30310: PUSH
30311: LD_INT 0
30313: PUSH
30314: LD_INT 0
30316: PUSH
30317: LD_INT 0
30319: PUSH
30320: LD_INT 0
30322: PUSH
30323: LD_INT 0
30325: PUSH
30326: LD_INT 0
30328: PUSH
30329: LD_INT 0
30331: PUSH
30332: LD_INT 0
30334: PUSH
30335: EMPTY
30336: LIST
30337: LIST
30338: LIST
30339: LIST
30340: LIST
30341: LIST
30342: LIST
30343: LIST
30344: ST_TO_ADDR
// for i = 1 to FLAGY_AREA do
30345: LD_ADDR_VAR 0 3
30349: PUSH
30350: DOUBLE
30351: LD_INT 1
30353: DEC
30354: ST_TO_ADDR
30355: LD_EXP 118
30359: PUSH
30360: FOR_TO
30361: IFFALSE 30454
// begin flag = SetBattleFlag ( 0 , FLAGY_XY [ i ] [ 1 ] , FLAGY_XY [ i ] [ 2 ] , [ ] ) ;
30363: LD_ADDR_VAR 0 2
30367: PUSH
30368: LD_INT 0
30370: PPUSH
30371: LD_EXP 119
30375: PUSH
30376: LD_VAR 0 3
30380: ARRAY
30381: PUSH
30382: LD_INT 1
30384: ARRAY
30385: PPUSH
30386: LD_EXP 119
30390: PUSH
30391: LD_VAR 0 3
30395: ARRAY
30396: PUSH
30397: LD_INT 2
30399: ARRAY
30400: PPUSH
30401: EMPTY
30402: PPUSH
30403: CALL_OW 418
30407: ST_TO_ADDR
// FLAGY = FLAGY ^ flag ;
30408: LD_ADDR_LOC 31
30412: PUSH
30413: LD_LOC 31
30417: PUSH
30418: LD_VAR 0 2
30422: ADD
30423: ST_TO_ADDR
// WFT_FlagOnTop = WFT_FlagOnTop ^ true ;
30424: LD_ADDR_LOC 34
30428: PUSH
30429: LD_LOC 34
30433: PUSH
30434: LD_INT 1
30436: ADD
30437: ST_TO_ADDR
// WFT_FlagHeight = WFT_FlagHeight ^ 100 ;
30438: LD_ADDR_LOC 35
30442: PUSH
30443: LD_LOC 35
30447: PUSH
30448: LD_INT 100
30450: ADD
30451: ST_TO_ADDR
// end ;
30452: GO 30360
30454: POP
30455: POP
// if WarForTerritory_Flags then
30456: LD_EXP 65
30460: IFFALSE 30474
// WFT_Goal = WarForTerritory_Flags else
30462: LD_ADDR_LOC 33
30466: PUSH
30467: LD_EXP 65
30471: ST_TO_ADDR
30472: GO 30484
// WFT_Goal = WarForTerritory_Points ;
30474: LD_ADDR_LOC 33
30478: PUSH
30479: LD_EXP 64
30483: ST_TO_ADDR
// for i = 1 to flagy_area do
30484: LD_ADDR_VAR 0 3
30488: PUSH
30489: DOUBLE
30490: LD_INT 1
30492: DEC
30493: ST_TO_ADDR
30494: LD_EXP 118
30498: PUSH
30499: FOR_TO
30500: IFFALSE 30602
// begin SetAreaMapShow ( flagy_area [ i ] , 1 ) ;
30502: LD_EXP 118
30506: PUSH
30507: LD_VAR 0 3
30511: ARRAY
30512: PPUSH
30513: LD_INT 1
30515: PPUSH
30516: CALL_OW 424
// SetAreaMapShow ( flagy_area1 [ i ] , 5 ) ;
30520: LD_EXP 120
30524: PUSH
30525: LD_VAR 0 3
30529: ARRAY
30530: PPUSH
30531: LD_INT 5
30533: PPUSH
30534: CALL_OW 424
// for p = 1 to 8 do
30538: LD_ADDR_VAR 0 4
30542: PUSH
30543: DOUBLE
30544: LD_INT 1
30546: DEC
30547: ST_TO_ADDR
30548: LD_INT 8
30550: PUSH
30551: FOR_TO
30552: IFFALSE 30598
// PlaceSeeing ( flagy_xy [ i ] [ 1 ] , flagy_xy [ i ] [ 2 ] , p , 1 ) ;
30554: LD_EXP 119
30558: PUSH
30559: LD_VAR 0 3
30563: ARRAY
30564: PUSH
30565: LD_INT 1
30567: ARRAY
30568: PPUSH
30569: LD_EXP 119
30573: PUSH
30574: LD_VAR 0 3
30578: ARRAY
30579: PUSH
30580: LD_INT 2
30582: ARRAY
30583: PPUSH
30584: LD_VAR 0 4
30588: PPUSH
30589: LD_INT 1
30591: PPUSH
30592: CALL_OW 330
30596: GO 30551
30598: POP
30599: POP
// end ;
30600: GO 30499
30602: POP
30603: POP
// if WFT_Points_MP < 1 then
30604: LD_EXP 121
30608: PUSH
30609: LD_INT 1
30611: LESS
30612: IFFALSE 30622
// WFT_Points_MP = 1 ;
30614: LD_ADDR_EXP 121
30618: PUSH
30619: LD_INT 1
30621: ST_TO_ADDR
// enable ( 60 ) ;
30622: LD_INT 60
30624: ENABLE_MARKED
// end ;
30625: LD_VAR 0 1
30629: RET
// every 0 0$1 marked 60 do var i , p , pom , pom1 ; var side , sideNumber , flagSide ;
30630: GO 30632
30632: DISABLE
30633: LD_INT 0
30635: PPUSH
30636: PPUSH
30637: PPUSH
30638: PPUSH
30639: PPUSH
30640: PPUSH
30641: PPUSH
// begin zkontroluj_body ;
30642: CALL 31941 0 0
// for i := 1 to flagy + 0 do
30646: LD_ADDR_VAR 0 1
30650: PUSH
30651: DOUBLE
30652: LD_INT 1
30654: DEC
30655: ST_TO_ADDR
30656: LD_LOC 31
30660: PUSH
30661: LD_INT 0
30663: PLUS
30664: PUSH
30665: FOR_TO
30666: IFFALSE 31418
// begin sideNumber = 0 ;
30668: LD_ADDR_VAR 0 6
30672: PUSH
30673: LD_INT 0
30675: ST_TO_ADDR
// for p = 1 to 8 do
30676: LD_ADDR_VAR 0 2
30680: PUSH
30681: DOUBLE
30682: LD_INT 1
30684: DEC
30685: ST_TO_ADDR
30686: LD_INT 8
30688: PUSH
30689: FOR_TO
30690: IFFALSE 30770
// begin pom = FilterUnitsInArea ( FLAGY_AREA1 [ i ] , [ f_side , p ] ) ;
30692: LD_ADDR_VAR 0 3
30696: PUSH
30697: LD_EXP 120
30701: PUSH
30702: LD_VAR 0 1
30706: ARRAY
30707: PPUSH
30708: LD_INT 22
30710: PUSH
30711: LD_VAR 0 2
30715: PUSH
30716: EMPTY
30717: LIST
30718: LIST
30719: PPUSH
30720: CALL_OW 70
30724: ST_TO_ADDR
// if pom > 0 then
30725: LD_VAR 0 3
30729: PUSH
30730: LD_INT 0
30732: GREATER
30733: IFFALSE 30768
// begin side = getSide ( pom [ 1 ] ) ;
30735: LD_ADDR_VAR 0 5
30739: PUSH
30740: LD_VAR 0 3
30744: PUSH
30745: LD_INT 1
30747: ARRAY
30748: PPUSH
30749: CALL_OW 255
30753: ST_TO_ADDR
// sideNumber = sideNumber + 1 ;
30754: LD_ADDR_VAR 0 6
30758: PUSH
30759: LD_VAR 0 6
30763: PUSH
30764: LD_INT 1
30766: PLUS
30767: ST_TO_ADDR
// end ; end ;
30768: GO 30689
30770: POP
30771: POP
// if sideNumber = 1 then
30772: LD_VAR 0 6
30776: PUSH
30777: LD_INT 1
30779: EQUAL
30780: IFFALSE 31057
// begin flagSide = getBattleFlagSide ( FLAGY [ i ] ) ;
30782: LD_ADDR_VAR 0 7
30786: PUSH
30787: LD_LOC 31
30791: PUSH
30792: LD_VAR 0 1
30796: ARRAY
30797: PPUSH
30798: CALL_OW 421
30802: ST_TO_ADDR
// if flagSide = side then
30803: LD_VAR 0 7
30807: PUSH
30808: LD_VAR 0 5
30812: EQUAL
30813: IFFALSE 30929
// begin if WFT_FlagHeight [ i ] < 100 then
30815: LD_LOC 35
30819: PUSH
30820: LD_VAR 0 1
30824: ARRAY
30825: PUSH
30826: LD_INT 100
30828: LESS
30829: IFFALSE 30904
// begin WFT_FlagHeight = replace ( WFT_FlagHeight , i , WFT_FlagHeight [ i ] + 10 ) ;
30831: LD_ADDR_LOC 35
30835: PUSH
30836: LD_LOC 35
30840: PPUSH
30841: LD_VAR 0 1
30845: PPUSH
30846: LD_LOC 35
30850: PUSH
30851: LD_VAR 0 1
30855: ARRAY
30856: PUSH
30857: LD_INT 10
30859: PLUS
30860: PPUSH
30861: CALL_OW 1
30865: ST_TO_ADDR
// ChangeBattleFlagOptions ( FLAGY [ i ] , [ [ bfo_height , WFT_FlagHeight [ i ] ] ] ) ;
30866: LD_LOC 31
30870: PUSH
30871: LD_VAR 0 1
30875: ARRAY
30876: PPUSH
30877: LD_INT 20
30879: PUSH
30880: LD_LOC 35
30884: PUSH
30885: LD_VAR 0 1
30889: ARRAY
30890: PUSH
30891: EMPTY
30892: LIST
30893: LIST
30894: PUSH
30895: EMPTY
30896: LIST
30897: PPUSH
30898: CALL_OW 423
// end else
30902: GO 30927
// WFT_FlagOnTop = replace ( WFT_FlagOnTop , i , true ) ;
30904: LD_ADDR_LOC 34
30908: PUSH
30909: LD_LOC 34
30913: PPUSH
30914: LD_VAR 0 1
30918: PPUSH
30919: LD_INT 1
30921: PPUSH
30922: CALL_OW 1
30926: ST_TO_ADDR
// end else
30927: GO 31055
// begin if WFT_FlagHeight [ i ] > 0 then
30929: LD_LOC 35
30933: PUSH
30934: LD_VAR 0 1
30938: ARRAY
30939: PUSH
30940: LD_INT 0
30942: GREATER
30943: IFFALSE 31018
// begin WFT_FlagHeight = replace ( WFT_FlagHeight , i , WFT_FlagHeight [ i ] - 10 ) ;
30945: LD_ADDR_LOC 35
30949: PUSH
30950: LD_LOC 35
30954: PPUSH
30955: LD_VAR 0 1
30959: PPUSH
30960: LD_LOC 35
30964: PUSH
30965: LD_VAR 0 1
30969: ARRAY
30970: PUSH
30971: LD_INT 10
30973: MINUS
30974: PPUSH
30975: CALL_OW 1
30979: ST_TO_ADDR
// ChangeBattleFlagOptions ( FLAGY [ i ] , [ [ bfo_height , WFT_FlagHeight [ i ] ] ] ) ;
30980: LD_LOC 31
30984: PUSH
30985: LD_VAR 0 1
30989: ARRAY
30990: PPUSH
30991: LD_INT 20
30993: PUSH
30994: LD_LOC 35
30998: PUSH
30999: LD_VAR 0 1
31003: ARRAY
31004: PUSH
31005: EMPTY
31006: LIST
31007: LIST
31008: PUSH
31009: EMPTY
31010: LIST
31011: PPUSH
31012: CALL_OW 423
// end else
31016: GO 31055
// begin zmen_vlajku ( i , side ) ;
31018: LD_VAR 0 1
31022: PPUSH
31023: LD_VAR 0 5
31027: PPUSH
31028: CALL 31424 0 2
// WFT_FlagOnTop = replace ( WFT_FlagOnTop , i , false ) ;
31032: LD_ADDR_LOC 34
31036: PUSH
31037: LD_LOC 34
31041: PPUSH
31042: LD_VAR 0 1
31046: PPUSH
31047: LD_INT 0
31049: PPUSH
31050: CALL_OW 1
31054: ST_TO_ADDR
// end ; end ; end else
31055: GO 31416
// if sideNumber = 0 then
31057: LD_VAR 0 6
31061: PUSH
31062: LD_INT 0
31064: EQUAL
31065: IFFALSE 31416
// begin if getBattleFlagSide ( FLAGY [ i ] ) <> 0 then
31067: LD_LOC 31
31071: PUSH
31072: LD_VAR 0 1
31076: ARRAY
31077: PPUSH
31078: CALL_OW 421
31082: PUSH
31083: LD_INT 0
31085: NONEQUAL
31086: IFFALSE 31293
// begin if WFT_FlagHeight [ i ] > 0 and WFT_FlagHeight [ i ] < 100 then
31088: LD_LOC 35
31092: PUSH
31093: LD_VAR 0 1
31097: ARRAY
31098: PUSH
31099: LD_INT 0
31101: GREATER
31102: PUSH
31103: LD_LOC 35
31107: PUSH
31108: LD_VAR 0 1
31112: ARRAY
31113: PUSH
31114: LD_INT 100
31116: LESS
31117: AND
31118: IFFALSE 31242
// begin if WFT_FlagOnTop [ i ] then
31120: LD_LOC 34
31124: PUSH
31125: LD_VAR 0 1
31129: ARRAY
31130: IFFALSE 31169
// WFT_FlagHeight = replace ( WFT_FlagHeight , i , WFT_FlagHeight [ i ] + 10 ) else
31132: LD_ADDR_LOC 35
31136: PUSH
31137: LD_LOC 35
31141: PPUSH
31142: LD_VAR 0 1
31146: PPUSH
31147: LD_LOC 35
31151: PUSH
31152: LD_VAR 0 1
31156: ARRAY
31157: PUSH
31158: LD_INT 10
31160: PLUS
31161: PPUSH
31162: CALL_OW 1
31166: ST_TO_ADDR
31167: GO 31204
// WFT_FlagHeight = replace ( WFT_FlagHeight , i , WFT_FlagHeight [ i ] - 10 ) ;
31169: LD_ADDR_LOC 35
31173: PUSH
31174: LD_LOC 35
31178: PPUSH
31179: LD_VAR 0 1
31183: PPUSH
31184: LD_LOC 35
31188: PUSH
31189: LD_VAR 0 1
31193: ARRAY
31194: PUSH
31195: LD_INT 10
31197: MINUS
31198: PPUSH
31199: CALL_OW 1
31203: ST_TO_ADDR
// ChangeBattleFlagOptions ( FLAGY [ i ] , [ [ bfo_height , WFT_FlagHeight [ i ] ] ] ) ;
31204: LD_LOC 31
31208: PUSH
31209: LD_VAR 0 1
31213: ARRAY
31214: PPUSH
31215: LD_INT 20
31217: PUSH
31218: LD_LOC 35
31222: PUSH
31223: LD_VAR 0 1
31227: ARRAY
31228: PUSH
31229: EMPTY
31230: LIST
31231: LIST
31232: PUSH
31233: EMPTY
31234: LIST
31235: PPUSH
31236: CALL_OW 423
// end else
31240: GO 31291
// if WFT_FlagHeight [ i ] = 0 and getBattleFlagSide ( FLAGY [ i ] ) <> 0 then
31242: LD_LOC 35
31246: PUSH
31247: LD_VAR 0 1
31251: ARRAY
31252: PUSH
31253: LD_INT 0
31255: EQUAL
31256: PUSH
31257: LD_LOC 31
31261: PUSH
31262: LD_VAR 0 1
31266: ARRAY
31267: PPUSH
31268: CALL_OW 421
31272: PUSH
31273: LD_INT 0
31275: NONEQUAL
31276: AND
31277: IFFALSE 31291
// zmen_vlajku ( i , 0 ) ;
31279: LD_VAR 0 1
31283: PPUSH
31284: LD_INT 0
31286: PPUSH
31287: CALL 31424 0 2
// end else
31291: GO 31416
// if WFT_FlagHeight [ i ] < 100 then
31293: LD_LOC 35
31297: PUSH
31298: LD_VAR 0 1
31302: ARRAY
31303: PUSH
31304: LD_INT 100
31306: LESS
31307: IFFALSE 31416
// begin if not WFT_FlagOnTop [ i ] then
31309: LD_LOC 34
31313: PUSH
31314: LD_VAR 0 1
31318: ARRAY
31319: NOT
31320: IFFALSE 31345
// WFT_FlagOnTop = replace ( WFT_FlagOnTop , i , true ) ;
31322: LD_ADDR_LOC 34
31326: PUSH
31327: LD_LOC 34
31331: PPUSH
31332: LD_VAR 0 1
31336: PPUSH
31337: LD_INT 1
31339: PPUSH
31340: CALL_OW 1
31344: ST_TO_ADDR
// WFT_FlagHeight = replace ( WFT_FlagHeight , i , WFT_FlagHeight [ i ] + 10 ) ;
31345: LD_ADDR_LOC 35
31349: PUSH
31350: LD_LOC 35
31354: PPUSH
31355: LD_VAR 0 1
31359: PPUSH
31360: LD_LOC 35
31364: PUSH
31365: LD_VAR 0 1
31369: ARRAY
31370: PUSH
31371: LD_INT 10
31373: PLUS
31374: PPUSH
31375: CALL_OW 1
31379: ST_TO_ADDR
// ChangeBattleFlagOptions ( FLAGY [ i ] , [ [ bfo_height , WFT_FlagHeight [ i ] ] ] ) ;
31380: LD_LOC 31
31384: PUSH
31385: LD_VAR 0 1
31389: ARRAY
31390: PPUSH
31391: LD_INT 20
31393: PUSH
31394: LD_LOC 35
31398: PUSH
31399: LD_VAR 0 1
31403: ARRAY
31404: PUSH
31405: EMPTY
31406: LIST
31407: LIST
31408: PUSH
31409: EMPTY
31410: LIST
31411: PPUSH
31412: CALL_OW 423
// end ; end ; end ;
31416: GO 30665
31418: POP
31419: POP
// enable ;
31420: ENABLE
// end ;
31421: PPOPN 7
31423: END
// function zmen_vlajku ( pozice , side ) ; var i ; begin
31424: LD_INT 0
31426: PPUSH
31427: PPUSH
// if FLAGY [ pozice ] and side >= 0 and side <= 8 then
31428: LD_LOC 31
31432: PUSH
31433: LD_VAR 0 1
31437: ARRAY
31438: PUSH
31439: LD_VAR 0 2
31443: PUSH
31444: LD_INT 0
31446: GREATEREQUAL
31447: AND
31448: PUSH
31449: LD_VAR 0 2
31453: PUSH
31454: LD_INT 8
31456: LESSEQUAL
31457: AND
31458: IFFALSE 31480
// changeBattleFlagSide ( FLAGY [ pozice ] , side ) ;
31460: LD_LOC 31
31464: PUSH
31465: LD_VAR 0 1
31469: ARRAY
31470: PPUSH
31471: LD_VAR 0 2
31475: PPUSH
31476: CALL_OW 422
// end ;
31480: LD_VAR 0 3
31484: RET
// export function vloz_na_pozici ( co , cislo , pozice ) ; var ii ; var pom ; begin
31485: LD_INT 0
31487: PPUSH
31488: PPUSH
31489: PPUSH
// pom = [ ] ;
31490: LD_ADDR_VAR 0 6
31494: PUSH
31495: EMPTY
31496: ST_TO_ADDR
// for ii := 1 to pozice do
31497: LD_ADDR_VAR 0 5
31501: PUSH
31502: DOUBLE
31503: LD_INT 1
31505: DEC
31506: ST_TO_ADDR
31507: LD_VAR 0 3
31511: PUSH
31512: FOR_TO
31513: IFFALSE 31569
// if ii <> cislo then
31515: LD_VAR 0 5
31519: PUSH
31520: LD_VAR 0 2
31524: NONEQUAL
31525: IFFALSE 31551
// pom = pom ^ pozice [ ii ] else
31527: LD_ADDR_VAR 0 6
31531: PUSH
31532: LD_VAR 0 6
31536: PUSH
31537: LD_VAR 0 3
31541: PUSH
31542: LD_VAR 0 5
31546: ARRAY
31547: ADD
31548: ST_TO_ADDR
31549: GO 31567
// pom = pom ^ co ;
31551: LD_ADDR_VAR 0 6
31555: PUSH
31556: LD_VAR 0 6
31560: PUSH
31561: LD_VAR 0 1
31565: ADD
31566: ST_TO_ADDR
31567: GO 31512
31569: POP
31570: POP
// result := pom ;
31571: LD_ADDR_VAR 0 4
31575: PUSH
31576: LD_VAR 0 6
31580: ST_TO_ADDR
// end ;
31581: LD_VAR 0 4
31585: RET
// function budovy_ok ( bud ) ; var a ; var i ; begin
31586: LD_INT 0
31588: PPUSH
31589: PPUSH
31590: PPUSH
// a = false ;
31591: LD_ADDR_VAR 0 3
31595: PUSH
31596: LD_INT 0
31598: ST_TO_ADDR
// for i in bud do
31599: LD_ADDR_VAR 0 4
31603: PUSH
31604: LD_VAR 0 1
31608: PUSH
31609: FOR_IN
31610: IFFALSE 31633
// if IsOK ( i ) then
31612: LD_VAR 0 4
31616: PPUSH
31617: CALL_OW 302
31621: IFFALSE 31631
// a = true ;
31623: LD_ADDR_VAR 0 3
31627: PUSH
31628: LD_INT 1
31630: ST_TO_ADDR
31631: GO 31609
31633: POP
31634: POP
// result := a ;
31635: LD_ADDR_VAR 0 2
31639: PUSH
31640: LD_VAR 0 3
31644: ST_TO_ADDR
// end ;
31645: LD_VAR 0 2
31649: RET
// every 0 0$3 marked 60 do var i , j ; var pom , goal , p ;
31650: GO 31652
31652: DISABLE
31653: LD_INT 0
31655: PPUSH
31656: PPUSH
31657: PPUSH
31658: PPUSH
31659: PPUSH
// begin if WarForTerritory_points then
31660: LD_EXP 64
31664: IFFALSE 31688
// goal = WFT_Goal * ( 3 * WFT_Points_MP ) else
31666: LD_ADDR_VAR 0 4
31670: PUSH
31671: LD_LOC 33
31675: PUSH
31676: LD_INT 3
31678: PUSH
31679: LD_EXP 121
31683: MUL
31684: MUL
31685: ST_TO_ADDR
31686: GO 31698
// goal = WFT_goal ;
31688: LD_ADDR_VAR 0 4
31692: PUSH
31693: LD_LOC 33
31697: ST_TO_ADDR
// for i := 1 to teams_p do
31698: LD_ADDR_VAR 0 1
31702: PUSH
31703: DOUBLE
31704: LD_INT 1
31706: DEC
31707: ST_TO_ADDR
31708: LD_LOC 32
31712: PUSH
31713: FOR_TO
31714: IFFALSE 31935
// if teams_p [ i ] >= Goal then
31716: LD_LOC 32
31720: PUSH
31721: LD_VAR 0 1
31725: ARRAY
31726: PUSH
31727: LD_VAR 0 4
31731: GREATEREQUAL
31732: IFFALSE 31933
// begin if not Team_Game then
31734: LD_EXP 80
31738: NOT
31739: IFFALSE 31763
// begin if i = mp_player_side then
31741: LD_VAR 0 1
31745: PUSH
31746: LD_OWVAR 7
31750: EQUAL
31751: IFFALSE 31758
// enable ( 401 ) else
31753: LD_INT 401
31755: ENABLE_MARKED
31756: GO 31761
// enable ( 400 ) ;
31758: LD_INT 400
31760: ENABLE_MARKED
// end else
31761: GO 31783
// if i = Player_Team then
31763: LD_VAR 0 1
31767: PUSH
31768: LD_EXP 71
31772: EQUAL
31773: IFFALSE 31780
// enable ( 401 ) else
31775: LD_INT 401
31777: ENABLE_MARKED
31778: GO 31783
// enable ( 400 ) ;
31780: LD_INT 400
31782: ENABLE_MARKED
// if WarForTerritory_points then
31783: LD_EXP 64
31787: IFFALSE 31861
// begin for p = 1 to side_positions do
31789: LD_ADDR_VAR 0 5
31793: PUSH
31794: DOUBLE
31795: LD_INT 1
31797: DEC
31798: ST_TO_ADDR
31799: LD_EXP 75
31803: PUSH
31804: FOR_TO
31805: IFFALSE 31857
// if Side_Positions [ p ] then
31807: LD_EXP 75
31811: PUSH
31812: LD_VAR 0 5
31816: ARRAY
31817: IFFALSE 31855
// SetSharedMultiScore ( p , GetTag ( p + 20 ) div ( 3 * WFT_points_MP ) , 3 ) ;
31819: LD_VAR 0 5
31823: PPUSH
31824: LD_VAR 0 5
31828: PUSH
31829: LD_INT 20
31831: PLUS
31832: PPUSH
31833: CALL_OW 110
31837: PUSH
31838: LD_INT 3
31840: PUSH
31841: LD_EXP 121
31845: MUL
31846: DIV
31847: PPUSH
31848: LD_INT 3
31850: PPUSH
31851: CALL 35344 0 3
31855: GO 31804
31857: POP
31858: POP
// end else
31859: GO 31925
// for p = 1 to side_positions do
31861: LD_ADDR_VAR 0 5
31865: PUSH
31866: DOUBLE
31867: LD_INT 1
31869: DEC
31870: ST_TO_ADDR
31871: LD_EXP 75
31875: PUSH
31876: FOR_TO
31877: IFFALSE 31923
// if Side_Positions [ p ] then
31879: LD_EXP 75
31883: PUSH
31884: LD_VAR 0 5
31888: ARRAY
31889: IFFALSE 31921
// SetSharedMultiScore ( p , GetTag ( i + 20 ) * 1000 , 3 ) ;
31891: LD_VAR 0 5
31895: PPUSH
31896: LD_VAR 0 1
31900: PUSH
31901: LD_INT 20
31903: PLUS
31904: PPUSH
31905: CALL_OW 110
31909: PUSH
31910: LD_INT 1000
31912: MUL
31913: PPUSH
31914: LD_INT 3
31916: PPUSH
31917: CALL 35344 0 3
31921: GO 31876
31923: POP
31924: POP
// MakeGameEnd ;
31925: CALL 14263 0 0
// exit ;
31929: POP
31930: POP
31931: GO 31938
// end ;
31933: GO 31713
31935: POP
31936: POP
// enable ;
31937: ENABLE
// end ;
31938: PPOPN 5
31940: END
// function zkontroluj_body ; var side , list , un , red , blue , yel , green , i , pom ; begin
31941: LD_INT 0
31943: PPUSH
31944: PPUSH
31945: PPUSH
31946: PPUSH
31947: PPUSH
31948: PPUSH
31949: PPUSH
31950: PPUSH
31951: PPUSH
31952: PPUSH
// list = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
31953: LD_ADDR_VAR 0 3
31957: PUSH
31958: LD_INT 0
31960: PUSH
31961: LD_INT 0
31963: PUSH
31964: LD_INT 0
31966: PUSH
31967: LD_INT 0
31969: PUSH
31970: LD_INT 0
31972: PUSH
31973: LD_INT 0
31975: PUSH
31976: LD_INT 0
31978: PUSH
31979: LD_INT 0
31981: PUSH
31982: EMPTY
31983: LIST
31984: LIST
31985: LIST
31986: LIST
31987: LIST
31988: LIST
31989: LIST
31990: LIST
31991: ST_TO_ADDR
// red = 0 ;
31992: LD_ADDR_VAR 0 5
31996: PUSH
31997: LD_INT 0
31999: ST_TO_ADDR
// blue = 0 ;
32000: LD_ADDR_VAR 0 6
32004: PUSH
32005: LD_INT 0
32007: ST_TO_ADDR
// yel = 0 ;
32008: LD_ADDR_VAR 0 7
32012: PUSH
32013: LD_INT 0
32015: ST_TO_ADDR
// green = 0 ;
32016: LD_ADDR_VAR 0 8
32020: PUSH
32021: LD_INT 0
32023: ST_TO_ADDR
// if WarForTerritory_flags then
32024: LD_EXP 65
32028: IFFALSE 32394
// begin for i = 1 to FLAGY + 0 do
32030: LD_ADDR_VAR 0 9
32034: PUSH
32035: DOUBLE
32036: LD_INT 1
32038: DEC
32039: ST_TO_ADDR
32040: LD_LOC 31
32044: PUSH
32045: LD_INT 0
32047: PLUS
32048: PUSH
32049: FOR_TO
32050: IFFALSE 32122
// if WFT_FlagOnTop [ i ] then
32052: LD_LOC 34
32056: PUSH
32057: LD_VAR 0 9
32061: ARRAY
32062: IFFALSE 32120
// begin pom = GetBattleFlagSide ( FLAGY [ i ] ) ;
32064: LD_ADDR_VAR 0 10
32068: PUSH
32069: LD_LOC 31
32073: PUSH
32074: LD_VAR 0 9
32078: ARRAY
32079: PPUSH
32080: CALL_OW 421
32084: ST_TO_ADDR
// list = vloz_na_pozici ( list [ pom ] + 1 , pom , list ) ;
32085: LD_ADDR_VAR 0 3
32089: PUSH
32090: LD_VAR 0 3
32094: PUSH
32095: LD_VAR 0 10
32099: ARRAY
32100: PUSH
32101: LD_INT 1
32103: PLUS
32104: PPUSH
32105: LD_VAR 0 10
32109: PPUSH
32110: LD_VAR 0 3
32114: PPUSH
32115: CALL 31485 0 3
32119: ST_TO_ADDR
// end ;
32120: GO 32049
32122: POP
32123: POP
// if not Team_Game then
32124: LD_EXP 80
32128: NOT
32129: IFFALSE 32143
// teams_p = list else
32131: LD_ADDR_LOC 32
32135: PUSH
32136: LD_VAR 0 3
32140: ST_TO_ADDR
32141: GO 32346
// begin for i in Teams [ 1 ] do
32143: LD_ADDR_VAR 0 9
32147: PUSH
32148: LD_EXP 73
32152: PUSH
32153: LD_INT 1
32155: ARRAY
32156: PUSH
32157: FOR_IN
32158: IFFALSE 32184
// red = red + list [ i ] ;
32160: LD_ADDR_VAR 0 5
32164: PUSH
32165: LD_VAR 0 5
32169: PUSH
32170: LD_VAR 0 3
32174: PUSH
32175: LD_VAR 0 9
32179: ARRAY
32180: PLUS
32181: ST_TO_ADDR
32182: GO 32157
32184: POP
32185: POP
// for i in Teams [ 2 ] do
32186: LD_ADDR_VAR 0 9
32190: PUSH
32191: LD_EXP 73
32195: PUSH
32196: LD_INT 2
32198: ARRAY
32199: PUSH
32200: FOR_IN
32201: IFFALSE 32227
// blue = blue + list [ i ] ;
32203: LD_ADDR_VAR 0 6
32207: PUSH
32208: LD_VAR 0 6
32212: PUSH
32213: LD_VAR 0 3
32217: PUSH
32218: LD_VAR 0 9
32222: ARRAY
32223: PLUS
32224: ST_TO_ADDR
32225: GO 32200
32227: POP
32228: POP
// for i in Teams [ 3 ] do
32229: LD_ADDR_VAR 0 9
32233: PUSH
32234: LD_EXP 73
32238: PUSH
32239: LD_INT 3
32241: ARRAY
32242: PUSH
32243: FOR_IN
32244: IFFALSE 32270
// yel = yel + list [ i ] ;
32246: LD_ADDR_VAR 0 7
32250: PUSH
32251: LD_VAR 0 7
32255: PUSH
32256: LD_VAR 0 3
32260: PUSH
32261: LD_VAR 0 9
32265: ARRAY
32266: PLUS
32267: ST_TO_ADDR
32268: GO 32243
32270: POP
32271: POP
// for i in Teams [ 4 ] do
32272: LD_ADDR_VAR 0 9
32276: PUSH
32277: LD_EXP 73
32281: PUSH
32282: LD_INT 4
32284: ARRAY
32285: PUSH
32286: FOR_IN
32287: IFFALSE 32313
// green = green + list [ i ] ;
32289: LD_ADDR_VAR 0 8
32293: PUSH
32294: LD_VAR 0 8
32298: PUSH
32299: LD_VAR 0 3
32303: PUSH
32304: LD_VAR 0 9
32308: ARRAY
32309: PLUS
32310: ST_TO_ADDR
32311: GO 32286
32313: POP
32314: POP
// teams_p = [ red , blue , yel , green ] ;
32315: LD_ADDR_LOC 32
32319: PUSH
32320: LD_VAR 0 5
32324: PUSH
32325: LD_VAR 0 6
32329: PUSH
32330: LD_VAR 0 7
32334: PUSH
32335: LD_VAR 0 8
32339: PUSH
32340: EMPTY
32341: LIST
32342: LIST
32343: LIST
32344: LIST
32345: ST_TO_ADDR
// end ; for i = 1 to list do
32346: LD_ADDR_VAR 0 9
32350: PUSH
32351: DOUBLE
32352: LD_INT 1
32354: DEC
32355: ST_TO_ADDR
32356: LD_VAR 0 3
32360: PUSH
32361: FOR_TO
32362: IFFALSE 32390
// SetTag ( i + 20 , list [ i ] ) ;
32364: LD_VAR 0 9
32368: PUSH
32369: LD_INT 20
32371: PLUS
32372: PPUSH
32373: LD_VAR 0 3
32377: PUSH
32378: LD_VAR 0 9
32382: ARRAY
32383: PPUSH
32384: CALL_OW 109
32388: GO 32361
32390: POP
32391: POP
// end else
32392: GO 32872
// if WarForTerritory_points then
32394: LD_EXP 64
32398: IFFALSE 32872
// begin for i = 1 to FLAGY + 0 do
32400: LD_ADDR_VAR 0 9
32404: PUSH
32405: DOUBLE
32406: LD_INT 1
32408: DEC
32409: ST_TO_ADDR
32410: LD_LOC 31
32414: PUSH
32415: LD_INT 0
32417: PLUS
32418: PUSH
32419: FOR_TO
32420: IFFALSE 32492
// if WFT_FlagOnTop [ i ] then
32422: LD_LOC 34
32426: PUSH
32427: LD_VAR 0 9
32431: ARRAY
32432: IFFALSE 32490
// begin pom = GetBattleFlagSide ( FLAGY [ i ] ) ;
32434: LD_ADDR_VAR 0 10
32438: PUSH
32439: LD_LOC 31
32443: PUSH
32444: LD_VAR 0 9
32448: ARRAY
32449: PPUSH
32450: CALL_OW 421
32454: ST_TO_ADDR
// list = vloz_na_pozici ( list [ pom ] + 1 , pom , list ) ;
32455: LD_ADDR_VAR 0 3
32459: PUSH
32460: LD_VAR 0 3
32464: PUSH
32465: LD_VAR 0 10
32469: ARRAY
32470: PUSH
32471: LD_INT 1
32473: PLUS
32474: PPUSH
32475: LD_VAR 0 10
32479: PPUSH
32480: LD_VAR 0 3
32484: PPUSH
32485: CALL 31485 0 3
32489: ST_TO_ADDR
// end ;
32490: GO 32419
32492: POP
32493: POP
// if not Team_Game then
32494: LD_EXP 80
32498: NOT
32499: IFFALSE 32568
// for i = 1 to side_positions do
32501: LD_ADDR_VAR 0 9
32505: PUSH
32506: DOUBLE
32507: LD_INT 1
32509: DEC
32510: ST_TO_ADDR
32511: LD_EXP 75
32515: PUSH
32516: FOR_TO
32517: IFFALSE 32564
// teams_p = vloz_na_pozici ( teams_p [ i ] + ( list [ i ] ) , i , teams_p ) else
32519: LD_ADDR_LOC 32
32523: PUSH
32524: LD_LOC 32
32528: PUSH
32529: LD_VAR 0 9
32533: ARRAY
32534: PUSH
32535: LD_VAR 0 3
32539: PUSH
32540: LD_VAR 0 9
32544: ARRAY
32545: PLUS
32546: PPUSH
32547: LD_VAR 0 9
32551: PPUSH
32552: LD_LOC 32
32556: PPUSH
32557: CALL 31485 0 3
32561: ST_TO_ADDR
32562: GO 32516
32564: POP
32565: POP
32566: GO 32811
// begin for i in Teams [ 1 ] do
32568: LD_ADDR_VAR 0 9
32572: PUSH
32573: LD_EXP 73
32577: PUSH
32578: LD_INT 1
32580: ARRAY
32581: PUSH
32582: FOR_IN
32583: IFFALSE 32609
// red = red + list [ i ] ;
32585: LD_ADDR_VAR 0 5
32589: PUSH
32590: LD_VAR 0 5
32594: PUSH
32595: LD_VAR 0 3
32599: PUSH
32600: LD_VAR 0 9
32604: ARRAY
32605: PLUS
32606: ST_TO_ADDR
32607: GO 32582
32609: POP
32610: POP
// for i in Teams [ 2 ] do
32611: LD_ADDR_VAR 0 9
32615: PUSH
32616: LD_EXP 73
32620: PUSH
32621: LD_INT 2
32623: ARRAY
32624: PUSH
32625: FOR_IN
32626: IFFALSE 32652
// blue = blue + list [ i ] ;
32628: LD_ADDR_VAR 0 6
32632: PUSH
32633: LD_VAR 0 6
32637: PUSH
32638: LD_VAR 0 3
32642: PUSH
32643: LD_VAR 0 9
32647: ARRAY
32648: PLUS
32649: ST_TO_ADDR
32650: GO 32625
32652: POP
32653: POP
// for i in Teams [ 3 ] do
32654: LD_ADDR_VAR 0 9
32658: PUSH
32659: LD_EXP 73
32663: PUSH
32664: LD_INT 3
32666: ARRAY
32667: PUSH
32668: FOR_IN
32669: IFFALSE 32695
// yel = yel + list [ i ] ;
32671: LD_ADDR_VAR 0 7
32675: PUSH
32676: LD_VAR 0 7
32680: PUSH
32681: LD_VAR 0 3
32685: PUSH
32686: LD_VAR 0 9
32690: ARRAY
32691: PLUS
32692: ST_TO_ADDR
32693: GO 32668
32695: POP
32696: POP
// for i in Teams [ 4 ] do
32697: LD_ADDR_VAR 0 9
32701: PUSH
32702: LD_EXP 73
32706: PUSH
32707: LD_INT 4
32709: ARRAY
32710: PUSH
32711: FOR_IN
32712: IFFALSE 32738
// green = green + list [ i ] ;
32714: LD_ADDR_VAR 0 8
32718: PUSH
32719: LD_VAR 0 8
32723: PUSH
32724: LD_VAR 0 3
32728: PUSH
32729: LD_VAR 0 9
32733: ARRAY
32734: PLUS
32735: ST_TO_ADDR
32736: GO 32711
32738: POP
32739: POP
// teams_p = [ teams_p [ 1 ] + red , teams_p [ 2 ] + blue , teams_p [ 3 ] + yel , teams_p [ 4 ] + green ] ;
32740: LD_ADDR_LOC 32
32744: PUSH
32745: LD_LOC 32
32749: PUSH
32750: LD_INT 1
32752: ARRAY
32753: PUSH
32754: LD_VAR 0 5
32758: PLUS
32759: PUSH
32760: LD_LOC 32
32764: PUSH
32765: LD_INT 2
32767: ARRAY
32768: PUSH
32769: LD_VAR 0 6
32773: PLUS
32774: PUSH
32775: LD_LOC 32
32779: PUSH
32780: LD_INT 3
32782: ARRAY
32783: PUSH
32784: LD_VAR 0 7
32788: PLUS
32789: PUSH
32790: LD_LOC 32
32794: PUSH
32795: LD_INT 4
32797: ARRAY
32798: PUSH
32799: LD_VAR 0 8
32803: PLUS
32804: PUSH
32805: EMPTY
32806: LIST
32807: LIST
32808: LIST
32809: LIST
32810: ST_TO_ADDR
// end ; for i = 1 to list do
32811: LD_ADDR_VAR 0 9
32815: PUSH
32816: DOUBLE
32817: LD_INT 1
32819: DEC
32820: ST_TO_ADDR
32821: LD_VAR 0 3
32825: PUSH
32826: FOR_TO
32827: IFFALSE 32870
// SetTag ( i + 20 , getTag ( i + 20 ) + list [ i ] ) ;
32829: LD_VAR 0 9
32833: PUSH
32834: LD_INT 20
32836: PLUS
32837: PPUSH
32838: LD_VAR 0 9
32842: PUSH
32843: LD_INT 20
32845: PLUS
32846: PPUSH
32847: CALL_OW 110
32851: PUSH
32852: LD_VAR 0 3
32856: PUSH
32857: LD_VAR 0 9
32861: ARRAY
32862: PLUS
32863: PPUSH
32864: CALL_OW 109
32868: GO 32826
32870: POP
32871: POP
// end ; if WarForTerritory_points then
32872: LD_EXP 64
32876: IFFALSE 32950
// begin for i = 1 to side_positions do
32878: LD_ADDR_VAR 0 9
32882: PUSH
32883: DOUBLE
32884: LD_INT 1
32886: DEC
32887: ST_TO_ADDR
32888: LD_EXP 75
32892: PUSH
32893: FOR_TO
32894: IFFALSE 32946
// if Side_Positions [ i ] then
32896: LD_EXP 75
32900: PUSH
32901: LD_VAR 0 9
32905: ARRAY
32906: IFFALSE 32944
// SetSharedMultiScore ( i , GetTag ( i + 20 ) div ( 3 * WFT_points_MP ) , 3 ) ;
32908: LD_VAR 0 9
32912: PPUSH
32913: LD_VAR 0 9
32917: PUSH
32918: LD_INT 20
32920: PLUS
32921: PPUSH
32922: CALL_OW 110
32926: PUSH
32927: LD_INT 3
32929: PUSH
32930: LD_EXP 121
32934: MUL
32935: DIV
32936: PPUSH
32937: LD_INT 3
32939: PPUSH
32940: CALL 35344 0 3
32944: GO 32893
32946: POP
32947: POP
// end else
32948: GO 33014
// for i = 1 to side_positions do
32950: LD_ADDR_VAR 0 9
32954: PUSH
32955: DOUBLE
32956: LD_INT 1
32958: DEC
32959: ST_TO_ADDR
32960: LD_EXP 75
32964: PUSH
32965: FOR_TO
32966: IFFALSE 33012
// if Side_Positions [ i ] then
32968: LD_EXP 75
32972: PUSH
32973: LD_VAR 0 9
32977: ARRAY
32978: IFFALSE 33010
// SetSharedMultiScore ( i , GetTag ( i + 20 ) * 1000 , 3 ) ;
32980: LD_VAR 0 9
32984: PPUSH
32985: LD_VAR 0 9
32989: PUSH
32990: LD_INT 20
32992: PLUS
32993: PPUSH
32994: CALL_OW 110
32998: PUSH
32999: LD_INT 1000
33001: MUL
33002: PPUSH
33003: LD_INT 3
33005: PPUSH
33006: CALL 35344 0 3
33010: GO 32965
33012: POP
33013: POP
// show_points ;
33014: CALL 33023 0 0
// end ;
33018: LD_VAR 0 1
33022: RET
// function show_points ; var side , vypis , i , red , blue , yel , green , s ; begin
33023: LD_INT 0
33025: PPUSH
33026: PPUSH
33027: PPUSH
33028: PPUSH
33029: PPUSH
33030: PPUSH
33031: PPUSH
33032: PPUSH
33033: PPUSH
// vypis := [ ] ;
33034: LD_ADDR_VAR 0 3
33038: PUSH
33039: EMPTY
33040: ST_TO_ADDR
// red = 0 ;
33041: LD_ADDR_VAR 0 5
33045: PUSH
33046: LD_INT 0
33048: ST_TO_ADDR
// blue = 0 ;
33049: LD_ADDR_VAR 0 6
33053: PUSH
33054: LD_INT 0
33056: ST_TO_ADDR
// yel = 0 ;
33057: LD_ADDR_VAR 0 7
33061: PUSH
33062: LD_INT 0
33064: ST_TO_ADDR
// green = 0 ;
33065: LD_ADDR_VAR 0 8
33069: PUSH
33070: LD_INT 0
33072: ST_TO_ADDR
// if WarForTerritory_flags then
33073: LD_EXP 65
33077: IFFALSE 33739
// begin if def_public_score or isSGUI then
33079: LD_EXP 34
33083: PUSH
33084: LD_OWVAR 83
33088: OR
33089: IFFALSE 33493
// begin if not Team_Game then
33091: LD_EXP 80
33095: NOT
33096: IFFALSE 33238
// begin s = [ ] ;
33098: LD_ADDR_VAR 0 9
33102: PUSH
33103: EMPTY
33104: ST_TO_ADDR
// for side = 1 to Side_Positions do
33105: LD_ADDR_VAR 0 2
33109: PUSH
33110: DOUBLE
33111: LD_INT 1
33113: DEC
33114: ST_TO_ADDR
33115: LD_EXP 75
33119: PUSH
33120: FOR_TO
33121: IFFALSE 33222
// if Side_Positions [ side ] then
33123: LD_EXP 75
33127: PUSH
33128: LD_VAR 0 2
33132: ARRAY
33133: IFFALSE 33206
// begin vypis := vypis ^ [ #WarForTerritory-Flags-Public , side , side , teams_p [ side ] , WFT_Goal ] ;
33135: LD_ADDR_VAR 0 3
33139: PUSH
33140: LD_VAR 0 3
33144: PUSH
33145: LD_STRING #WarForTerritory-Flags-Public
33147: PUSH
33148: LD_VAR 0 2
33152: PUSH
33153: LD_VAR 0 2
33157: PUSH
33158: LD_LOC 32
33162: PUSH
33163: LD_VAR 0 2
33167: ARRAY
33168: PUSH
33169: LD_LOC 33
33173: PUSH
33174: EMPTY
33175: LIST
33176: LIST
33177: LIST
33178: LIST
33179: LIST
33180: ADD
33181: ST_TO_ADDR
// s = s ^ teams_p [ side ] ;
33182: LD_ADDR_VAR 0 9
33186: PUSH
33187: LD_VAR 0 9
33191: PUSH
33192: LD_LOC 32
33196: PUSH
33197: LD_VAR 0 2
33201: ARRAY
33202: ADD
33203: ST_TO_ADDR
// end else
33204: GO 33220
// s = s ^ 0 ;
33206: LD_ADDR_VAR 0 9
33210: PUSH
33211: LD_VAR 0 9
33215: PUSH
33216: LD_INT 0
33218: ADD
33219: ST_TO_ADDR
33220: GO 33120
33222: POP
33223: POP
// LScore_Update_Peices ( 3 , s ) ;
33224: LD_INT 3
33226: PPUSH
33227: LD_VAR 0 9
33231: PPUSH
33232: CALL 36965 0 2
// end else
33236: GO 33491
// begin if Teams [ 1 ] then
33238: LD_EXP 73
33242: PUSH
33243: LD_INT 1
33245: ARRAY
33246: IFFALSE 33285
// vypis := vypis ^ [ #WarForTerritory-Flags-Public-red , 3 , teams_p [ 1 ] , WFT_Goal ] ;
33248: LD_ADDR_VAR 0 3
33252: PUSH
33253: LD_VAR 0 3
33257: PUSH
33258: LD_STRING #WarForTerritory-Flags-Public-red
33260: PUSH
33261: LD_INT 3
33263: PUSH
33264: LD_LOC 32
33268: PUSH
33269: LD_INT 1
33271: ARRAY
33272: PUSH
33273: LD_LOC 33
33277: PUSH
33278: EMPTY
33279: LIST
33280: LIST
33281: LIST
33282: LIST
33283: ADD
33284: ST_TO_ADDR
// if Teams [ 2 ] then
33285: LD_EXP 73
33289: PUSH
33290: LD_INT 2
33292: ARRAY
33293: IFFALSE 33332
// vypis := vypis ^ [ #WarForTerritory-Flags-Public-blue , 1 , teams_p [ 2 ] , WFT_Goal ] ;
33295: LD_ADDR_VAR 0 3
33299: PUSH
33300: LD_VAR 0 3
33304: PUSH
33305: LD_STRING #WarForTerritory-Flags-Public-blue
33307: PUSH
33308: LD_INT 1
33310: PUSH
33311: LD_LOC 32
33315: PUSH
33316: LD_INT 2
33318: ARRAY
33319: PUSH
33320: LD_LOC 33
33324: PUSH
33325: EMPTY
33326: LIST
33327: LIST
33328: LIST
33329: LIST
33330: ADD
33331: ST_TO_ADDR
// if Teams [ 3 ] then
33332: LD_EXP 73
33336: PUSH
33337: LD_INT 3
33339: ARRAY
33340: IFFALSE 33379
// vypis := vypis ^ [ #WarForTerritory-Flags-Public-yell , 2 , teams_p [ 3 ] , WFT_Goal ] ;
33342: LD_ADDR_VAR 0 3
33346: PUSH
33347: LD_VAR 0 3
33351: PUSH
33352: LD_STRING #WarForTerritory-Flags-Public-yell
33354: PUSH
33355: LD_INT 2
33357: PUSH
33358: LD_LOC 32
33362: PUSH
33363: LD_INT 3
33365: ARRAY
33366: PUSH
33367: LD_LOC 33
33371: PUSH
33372: EMPTY
33373: LIST
33374: LIST
33375: LIST
33376: LIST
33377: ADD
33378: ST_TO_ADDR
// if Teams [ 4 ] then
33379: LD_EXP 73
33383: PUSH
33384: LD_INT 4
33386: ARRAY
33387: IFFALSE 33426
// vypis := vypis ^ [ #WarForTerritory-Flags-Public-green , 7 , teams_p [ 4 ] , WFT_Goal ] ;
33389: LD_ADDR_VAR 0 3
33393: PUSH
33394: LD_VAR 0 3
33398: PUSH
33399: LD_STRING #WarForTerritory-Flags-Public-green
33401: PUSH
33402: LD_INT 7
33404: PUSH
33405: LD_LOC 32
33409: PUSH
33410: LD_INT 4
33412: ARRAY
33413: PUSH
33414: LD_LOC 33
33418: PUSH
33419: EMPTY
33420: LIST
33421: LIST
33422: LIST
33423: LIST
33424: ADD
33425: ST_TO_ADDR
// LScore_Update_Peices ( 3 , [ teams_p [ 2 ] , teams_p [ 3 ] , teams_p [ 1 ] , 0 , 0 , 0 , teams_p [ 4 ] , 0 ] ) ;
33426: LD_INT 3
33428: PPUSH
33429: LD_LOC 32
33433: PUSH
33434: LD_INT 2
33436: ARRAY
33437: PUSH
33438: LD_LOC 32
33442: PUSH
33443: LD_INT 3
33445: ARRAY
33446: PUSH
33447: LD_LOC 32
33451: PUSH
33452: LD_INT 1
33454: ARRAY
33455: PUSH
33456: LD_INT 0
33458: PUSH
33459: LD_INT 0
33461: PUSH
33462: LD_INT 0
33464: PUSH
33465: LD_LOC 32
33469: PUSH
33470: LD_INT 4
33472: ARRAY
33473: PUSH
33474: LD_INT 0
33476: PUSH
33477: EMPTY
33478: LIST
33479: LIST
33480: LIST
33481: LIST
33482: LIST
33483: LIST
33484: LIST
33485: LIST
33486: PPUSH
33487: CALL 36965 0 2
// end ; end else
33491: GO 33737
// begin if not Team_Game then
33493: LD_EXP 80
33497: NOT
33498: IFFALSE 33549
// begin vypis := vypis ^ [ #WarForTerritory-Flags-Private , mp_player_side , mp_player_side , teams_p [ side ] , WFT_Goal ] ;
33500: LD_ADDR_VAR 0 3
33504: PUSH
33505: LD_VAR 0 3
33509: PUSH
33510: LD_STRING #WarForTerritory-Flags-Private
33512: PUSH
33513: LD_OWVAR 7
33517: PUSH
33518: LD_OWVAR 7
33522: PUSH
33523: LD_LOC 32
33527: PUSH
33528: LD_VAR 0 2
33532: ARRAY
33533: PUSH
33534: LD_LOC 33
33538: PUSH
33539: EMPTY
33540: LIST
33541: LIST
33542: LIST
33543: LIST
33544: LIST
33545: ADD
33546: ST_TO_ADDR
// end else
33547: GO 33737
// begin if mp_player_side in Teams [ 1 ] then
33549: LD_OWVAR 7
33553: PUSH
33554: LD_EXP 73
33558: PUSH
33559: LD_INT 1
33561: ARRAY
33562: IN
33563: IFFALSE 33596
// vypis := [ #WarForTerritory-points-Flags-red , 3 , teams_p [ 1 ] , WFT_Goal ] ;
33565: LD_ADDR_VAR 0 3
33569: PUSH
33570: LD_STRING #WarForTerritory-points-Flags-red
33572: PUSH
33573: LD_INT 3
33575: PUSH
33576: LD_LOC 32
33580: PUSH
33581: LD_INT 1
33583: ARRAY
33584: PUSH
33585: LD_LOC 33
33589: PUSH
33590: EMPTY
33591: LIST
33592: LIST
33593: LIST
33594: LIST
33595: ST_TO_ADDR
// if mp_player_side in Teams [ 2 ] then
33596: LD_OWVAR 7
33600: PUSH
33601: LD_EXP 73
33605: PUSH
33606: LD_INT 2
33608: ARRAY
33609: IN
33610: IFFALSE 33643
// vypis := [ #WarForTerritory-points-Flags-blue , 1 , teams_p [ 2 ] , WFT_Goal ] ;
33612: LD_ADDR_VAR 0 3
33616: PUSH
33617: LD_STRING #WarForTerritory-points-Flags-blue
33619: PUSH
33620: LD_INT 1
33622: PUSH
33623: LD_LOC 32
33627: PUSH
33628: LD_INT 2
33630: ARRAY
33631: PUSH
33632: LD_LOC 33
33636: PUSH
33637: EMPTY
33638: LIST
33639: LIST
33640: LIST
33641: LIST
33642: ST_TO_ADDR
// if mp_player_side in Teams [ 3 ] then
33643: LD_OWVAR 7
33647: PUSH
33648: LD_EXP 73
33652: PUSH
33653: LD_INT 3
33655: ARRAY
33656: IN
33657: IFFALSE 33690
// vypis := [ #WarForTerritory-points-Flags-yell , 2 , teams_p [ 3 ] , WFT_Goal ] ;
33659: LD_ADDR_VAR 0 3
33663: PUSH
33664: LD_STRING #WarForTerritory-points-Flags-yell
33666: PUSH
33667: LD_INT 2
33669: PUSH
33670: LD_LOC 32
33674: PUSH
33675: LD_INT 3
33677: ARRAY
33678: PUSH
33679: LD_LOC 33
33683: PUSH
33684: EMPTY
33685: LIST
33686: LIST
33687: LIST
33688: LIST
33689: ST_TO_ADDR
// if mp_player_side in Teams [ 4 ] then
33690: LD_OWVAR 7
33694: PUSH
33695: LD_EXP 73
33699: PUSH
33700: LD_INT 4
33702: ARRAY
33703: IN
33704: IFFALSE 33737
// vypis := [ #WarForTerritory-points-Flags-green , 7 , teams_p [ 4 ] , WFT_Goal ] ;
33706: LD_ADDR_VAR 0 3
33710: PUSH
33711: LD_STRING #WarForTerritory-points-Flags-green
33713: PUSH
33714: LD_INT 7
33716: PUSH
33717: LD_LOC 32
33721: PUSH
33722: LD_INT 4
33724: ARRAY
33725: PUSH
33726: LD_LOC 33
33730: PUSH
33731: EMPTY
33732: LIST
33733: LIST
33734: LIST
33735: LIST
33736: ST_TO_ADDR
// end ; end ; end else
33737: GO 34490
// if def_public_score or isSGUI then
33739: LD_EXP 34
33743: PUSH
33744: LD_OWVAR 83
33748: OR
33749: IFFALSE 34196
// begin if not Team_Game then
33751: LD_EXP 80
33755: NOT
33756: IFFALSE 33884
// begin for side = 1 to Side_Positions do
33758: LD_ADDR_VAR 0 2
33762: PUSH
33763: DOUBLE
33764: LD_INT 1
33766: DEC
33767: ST_TO_ADDR
33768: LD_EXP 75
33772: PUSH
33773: FOR_TO
33774: IFFALSE 33880
// if Side_Positions [ side ] then
33776: LD_EXP 75
33780: PUSH
33781: LD_VAR 0 2
33785: ARRAY
33786: IFFALSE 33878
// begin vypis := vypis ^ [ #WarForTerritory-points-Public , side , side , teams_p [ side ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
33788: LD_ADDR_VAR 0 3
33792: PUSH
33793: LD_VAR 0 3
33797: PUSH
33798: LD_STRING #WarForTerritory-points-Public
33800: PUSH
33801: LD_VAR 0 2
33805: PUSH
33806: LD_VAR 0 2
33810: PUSH
33811: LD_LOC 32
33815: PUSH
33816: LD_VAR 0 2
33820: ARRAY
33821: PUSH
33822: LD_INT 3
33824: PUSH
33825: LD_EXP 121
33829: MUL
33830: DIV
33831: PUSH
33832: LD_LOC 33
33836: PUSH
33837: EMPTY
33838: LIST
33839: LIST
33840: LIST
33841: LIST
33842: LIST
33843: ADD
33844: ST_TO_ADDR
// LScore_Update_Points ( 3 , side , ( teams_p [ side ] div ( 3 * WFT_Points_MP ) ) ) ;
33845: LD_INT 3
33847: PPUSH
33848: LD_VAR 0 2
33852: PPUSH
33853: LD_LOC 32
33857: PUSH
33858: LD_VAR 0 2
33862: ARRAY
33863: PUSH
33864: LD_INT 3
33866: PUSH
33867: LD_EXP 121
33871: MUL
33872: DIV
33873: PPUSH
33874: CALL 36793 0 3
// end ;
33878: GO 33773
33880: POP
33881: POP
// end else
33882: GO 34194
// begin if Teams [ 1 ] then
33884: LD_EXP 73
33888: PUSH
33889: LD_INT 1
33891: ARRAY
33892: IFFALSE 33941
// vypis := vypis ^ [ #WarForTerritory-points-Public-red , 3 , teams_p [ 1 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
33894: LD_ADDR_VAR 0 3
33898: PUSH
33899: LD_VAR 0 3
33903: PUSH
33904: LD_STRING #WarForTerritory-points-Public-red
33906: PUSH
33907: LD_INT 3
33909: PUSH
33910: LD_LOC 32
33914: PUSH
33915: LD_INT 1
33917: ARRAY
33918: PUSH
33919: LD_INT 3
33921: PUSH
33922: LD_EXP 121
33926: MUL
33927: DIV
33928: PUSH
33929: LD_LOC 33
33933: PUSH
33934: EMPTY
33935: LIST
33936: LIST
33937: LIST
33938: LIST
33939: ADD
33940: ST_TO_ADDR
// if Teams [ 2 ] then
33941: LD_EXP 73
33945: PUSH
33946: LD_INT 2
33948: ARRAY
33949: IFFALSE 33998
// vypis := vypis ^ [ #WarForTerritory-points-Public-blue , 1 , teams_p [ 2 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
33951: LD_ADDR_VAR 0 3
33955: PUSH
33956: LD_VAR 0 3
33960: PUSH
33961: LD_STRING #WarForTerritory-points-Public-blue
33963: PUSH
33964: LD_INT 1
33966: PUSH
33967: LD_LOC 32
33971: PUSH
33972: LD_INT 2
33974: ARRAY
33975: PUSH
33976: LD_INT 3
33978: PUSH
33979: LD_EXP 121
33983: MUL
33984: DIV
33985: PUSH
33986: LD_LOC 33
33990: PUSH
33991: EMPTY
33992: LIST
33993: LIST
33994: LIST
33995: LIST
33996: ADD
33997: ST_TO_ADDR
// if Teams [ 3 ] then
33998: LD_EXP 73
34002: PUSH
34003: LD_INT 3
34005: ARRAY
34006: IFFALSE 34055
// vypis := vypis ^ [ #WarForTerritory-points-Public-yell , 2 , teams_p [ 3 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
34008: LD_ADDR_VAR 0 3
34012: PUSH
34013: LD_VAR 0 3
34017: PUSH
34018: LD_STRING #WarForTerritory-points-Public-yell
34020: PUSH
34021: LD_INT 2
34023: PUSH
34024: LD_LOC 32
34028: PUSH
34029: LD_INT 3
34031: ARRAY
34032: PUSH
34033: LD_INT 3
34035: PUSH
34036: LD_EXP 121
34040: MUL
34041: DIV
34042: PUSH
34043: LD_LOC 33
34047: PUSH
34048: EMPTY
34049: LIST
34050: LIST
34051: LIST
34052: LIST
34053: ADD
34054: ST_TO_ADDR
// if Teams [ 4 ] then
34055: LD_EXP 73
34059: PUSH
34060: LD_INT 4
34062: ARRAY
34063: IFFALSE 34112
// vypis := vypis ^ [ #WarForTerritory-points-Public-green , 7 , teams_p [ 4 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
34065: LD_ADDR_VAR 0 3
34069: PUSH
34070: LD_VAR 0 3
34074: PUSH
34075: LD_STRING #WarForTerritory-points-Public-green
34077: PUSH
34078: LD_INT 7
34080: PUSH
34081: LD_LOC 32
34085: PUSH
34086: LD_INT 4
34088: ARRAY
34089: PUSH
34090: LD_INT 3
34092: PUSH
34093: LD_EXP 121
34097: MUL
34098: DIV
34099: PUSH
34100: LD_LOC 33
34104: PUSH
34105: EMPTY
34106: LIST
34107: LIST
34108: LIST
34109: LIST
34110: ADD
34111: ST_TO_ADDR
// s = [ 3 , 1 , 2 , 7 ] ;
34112: LD_ADDR_VAR 0 9
34116: PUSH
34117: LD_INT 3
34119: PUSH
34120: LD_INT 1
34122: PUSH
34123: LD_INT 2
34125: PUSH
34126: LD_INT 7
34128: PUSH
34129: EMPTY
34130: LIST
34131: LIST
34132: LIST
34133: LIST
34134: ST_TO_ADDR
// for i = 1 to 4 do
34135: LD_ADDR_VAR 0 4
34139: PUSH
34140: DOUBLE
34141: LD_INT 1
34143: DEC
34144: ST_TO_ADDR
34145: LD_INT 4
34147: PUSH
34148: FOR_TO
34149: IFFALSE 34192
// LScore_Update_Points ( 3 , s [ i ] , ( teams_p [ i ] div ( 3 * WFT_Points_MP ) ) ) ;
34151: LD_INT 3
34153: PPUSH
34154: LD_VAR 0 9
34158: PUSH
34159: LD_VAR 0 4
34163: ARRAY
34164: PPUSH
34165: LD_LOC 32
34169: PUSH
34170: LD_VAR 0 4
34174: ARRAY
34175: PUSH
34176: LD_INT 3
34178: PUSH
34179: LD_EXP 121
34183: MUL
34184: DIV
34185: PPUSH
34186: CALL 36793 0 3
34190: GO 34148
34192: POP
34193: POP
// end ; end else
34194: GO 34490
// if not Team_Game then
34196: LD_EXP 80
34200: NOT
34201: IFFALSE 34262
// begin vypis := vypis ^ [ #WarForTerritory-points-Private , mp_player_side , mp_player_side , teams_p [ side ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] end else
34203: LD_ADDR_VAR 0 3
34207: PUSH
34208: LD_VAR 0 3
34212: PUSH
34213: LD_STRING #WarForTerritory-points-Private
34215: PUSH
34216: LD_OWVAR 7
34220: PUSH
34221: LD_OWVAR 7
34225: PUSH
34226: LD_LOC 32
34230: PUSH
34231: LD_VAR 0 2
34235: ARRAY
34236: PUSH
34237: LD_INT 3
34239: PUSH
34240: LD_EXP 121
34244: MUL
34245: DIV
34246: PUSH
34247: LD_LOC 33
34251: PUSH
34252: EMPTY
34253: LIST
34254: LIST
34255: LIST
34256: LIST
34257: LIST
34258: ADD
34259: ST_TO_ADDR
34260: GO 34490
// begin if mp_player_side in Teams [ 1 ] then
34262: LD_OWVAR 7
34266: PUSH
34267: LD_EXP 73
34271: PUSH
34272: LD_INT 1
34274: ARRAY
34275: IN
34276: IFFALSE 34319
// vypis := [ #WarForTerritory-points-Public-red , 3 , teams_p [ 1 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
34278: LD_ADDR_VAR 0 3
34282: PUSH
34283: LD_STRING #WarForTerritory-points-Public-red
34285: PUSH
34286: LD_INT 3
34288: PUSH
34289: LD_LOC 32
34293: PUSH
34294: LD_INT 1
34296: ARRAY
34297: PUSH
34298: LD_INT 3
34300: PUSH
34301: LD_EXP 121
34305: MUL
34306: DIV
34307: PUSH
34308: LD_LOC 33
34312: PUSH
34313: EMPTY
34314: LIST
34315: LIST
34316: LIST
34317: LIST
34318: ST_TO_ADDR
// if mp_player_side in Teams [ 2 ] then
34319: LD_OWVAR 7
34323: PUSH
34324: LD_EXP 73
34328: PUSH
34329: LD_INT 2
34331: ARRAY
34332: IN
34333: IFFALSE 34376
// vypis := [ #WarForTerritory-points-Public-blue , 1 , teams_p [ 2 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
34335: LD_ADDR_VAR 0 3
34339: PUSH
34340: LD_STRING #WarForTerritory-points-Public-blue
34342: PUSH
34343: LD_INT 1
34345: PUSH
34346: LD_LOC 32
34350: PUSH
34351: LD_INT 2
34353: ARRAY
34354: PUSH
34355: LD_INT 3
34357: PUSH
34358: LD_EXP 121
34362: MUL
34363: DIV
34364: PUSH
34365: LD_LOC 33
34369: PUSH
34370: EMPTY
34371: LIST
34372: LIST
34373: LIST
34374: LIST
34375: ST_TO_ADDR
// if mp_player_side in Teams [ 3 ] then
34376: LD_OWVAR 7
34380: PUSH
34381: LD_EXP 73
34385: PUSH
34386: LD_INT 3
34388: ARRAY
34389: IN
34390: IFFALSE 34433
// vypis := [ #WarForTerritory-points-Public-yell , 2 , teams_p [ 3 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
34392: LD_ADDR_VAR 0 3
34396: PUSH
34397: LD_STRING #WarForTerritory-points-Public-yell
34399: PUSH
34400: LD_INT 2
34402: PUSH
34403: LD_LOC 32
34407: PUSH
34408: LD_INT 3
34410: ARRAY
34411: PUSH
34412: LD_INT 3
34414: PUSH
34415: LD_EXP 121
34419: MUL
34420: DIV
34421: PUSH
34422: LD_LOC 33
34426: PUSH
34427: EMPTY
34428: LIST
34429: LIST
34430: LIST
34431: LIST
34432: ST_TO_ADDR
// if mp_player_side in Teams [ 4 ] then
34433: LD_OWVAR 7
34437: PUSH
34438: LD_EXP 73
34442: PUSH
34443: LD_INT 4
34445: ARRAY
34446: IN
34447: IFFALSE 34490
// vypis := [ #WarForTerritory-points-Public-green , 7 , teams_p [ 4 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
34449: LD_ADDR_VAR 0 3
34453: PUSH
34454: LD_STRING #WarForTerritory-points-Public-green
34456: PUSH
34457: LD_INT 7
34459: PUSH
34460: LD_LOC 32
34464: PUSH
34465: LD_INT 4
34467: ARRAY
34468: PUSH
34469: LD_INT 3
34471: PUSH
34472: LD_EXP 121
34476: MUL
34477: DIV
34478: PUSH
34479: LD_LOC 33
34483: PUSH
34484: EMPTY
34485: LIST
34486: LIST
34487: LIST
34488: LIST
34489: ST_TO_ADDR
// end ; Display_WFG := vypis ;
34490: LD_ADDR_EXP 113
34494: PUSH
34495: LD_VAR 0 3
34499: ST_TO_ADDR
// end ; end_of_file
34500: LD_VAR 0 1
34504: RET
// export function SA_OnSiberiteRocketExploded ( siberite_rocket_vehicle , target_x , target_y , requestSide ) ; begin
34505: LD_INT 0
34507: PPUSH
// if GetSide ( siberite_rocket_vehicle ) = requestSide then
34508: LD_VAR 0 1
34512: PPUSH
34513: CALL_OW 255
34517: PUSH
34518: LD_VAR 0 4
34522: EQUAL
34523: IFFALSE 34542
// begin SetAchievement ( ACH_RAD ) ;
34525: LD_STRING ACH_RAD
34527: PPUSH
34528: CALL_OW 543
// SetAchievementEx ( ACH_NL , 1 ) ;
34532: LD_STRING ACH_NL
34534: PPUSH
34535: LD_INT 1
34537: PPUSH
34538: CALL_OW 564
// end end ;
34542: LD_VAR 0 5
34546: RET
// export function SA_Win ( side ) ; begin
34547: LD_INT 0
34549: PPUSH
// case side of 1 :
34550: LD_VAR 0 1
34554: PUSH
34555: LD_INT 1
34557: DOUBLE
34558: EQUAL
34559: IFTRUE 34563
34561: GO 34576
34563: POP
// SetAchievementEx ( ACH_AH , 1 ) ; 2 :
34564: LD_STRING ACH_AH
34566: PPUSH
34567: LD_INT 1
34569: PPUSH
34570: CALL_OW 564
34574: GO 34739
34576: LD_INT 2
34578: DOUBLE
34579: EQUAL
34580: IFTRUE 34584
34582: GO 34597
34584: POP
// SetAchievementEx ( ACH_E , 1 ) ; 3 :
34585: LD_STRING ACH_E
34587: PPUSH
34588: LD_INT 1
34590: PPUSH
34591: CALL_OW 564
34595: GO 34739
34597: LD_INT 3
34599: DOUBLE
34600: EQUAL
34601: IFTRUE 34605
34603: GO 34618
34605: POP
// SetAchievementEx ( ACH_OOL , 1 ) ; [ 1 , 2 ] :
34606: LD_STRING ACH_OOL
34608: PPUSH
34609: LD_INT 1
34611: PPUSH
34612: CALL_OW 564
34616: GO 34739
34618: LD_INT 1
34620: PUSH
34621: LD_INT 2
34623: PUSH
34624: EMPTY
34625: LIST
34626: LIST
34627: DOUBLE
34628: EQUAL
34629: IFTRUE 34633
34631: GO 34658
34633: POP
// begin SetAchievementEx ( ACH_AH , 0.5 ) ;
34634: LD_STRING ACH_AH
34636: PPUSH
34637: LD_REAL  5.00000000000000E-0001
34640: PPUSH
34641: CALL_OW 564
// SetAchievementEx ( ACH_E , 0.5 ) ;
34645: LD_STRING ACH_E
34647: PPUSH
34648: LD_REAL  5.00000000000000E-0001
34651: PPUSH
34652: CALL_OW 564
// end ; [ 2 , 3 ] :
34656: GO 34739
34658: LD_INT 2
34660: PUSH
34661: LD_INT 3
34663: PUSH
34664: EMPTY
34665: LIST
34666: LIST
34667: DOUBLE
34668: EQUAL
34669: IFTRUE 34673
34671: GO 34698
34673: POP
// begin SetAchievementEx ( ACH_OOL , 0.5 ) ;
34674: LD_STRING ACH_OOL
34676: PPUSH
34677: LD_REAL  5.00000000000000E-0001
34680: PPUSH
34681: CALL_OW 564
// SetAchievementEx ( ACH_E , 0.5 ) ;
34685: LD_STRING ACH_E
34687: PPUSH
34688: LD_REAL  5.00000000000000E-0001
34691: PPUSH
34692: CALL_OW 564
// end ; [ 3 , 1 ] :
34696: GO 34739
34698: LD_INT 3
34700: PUSH
34701: LD_INT 1
34703: PUSH
34704: EMPTY
34705: LIST
34706: LIST
34707: DOUBLE
34708: EQUAL
34709: IFTRUE 34713
34711: GO 34738
34713: POP
// begin SetAchievementEx ( ACH_AH , 0.5 ) ;
34714: LD_STRING ACH_AH
34716: PPUSH
34717: LD_REAL  5.00000000000000E-0001
34720: PPUSH
34721: CALL_OW 564
// SetAchievementEx ( ACH_OOL , 0.5 ) ;
34725: LD_STRING ACH_OOL
34727: PPUSH
34728: LD_REAL  5.00000000000000E-0001
34731: PPUSH
34732: CALL_OW 564
// end ; end ;
34736: GO 34739
34738: POP
// end ; end_of_file
34739: LD_VAR 0 2
34743: RET
// var sharedPoints1 , sharedPoints2 , sharedPoints3 ; var pointGame ; export function InitPoints ( ) ; var i , d ; begin
34744: LD_INT 0
34746: PPUSH
34747: PPUSH
34748: PPUSH
// sharedPoints1 = [ ] ;
34749: LD_ADDR_LOC 36
34753: PUSH
34754: EMPTY
34755: ST_TO_ADDR
// sharedPoints2 = [ ] ;
34756: LD_ADDR_LOC 37
34760: PUSH
34761: EMPTY
34762: ST_TO_ADDR
// sharedPoints3 = [ ] ;
34763: LD_ADDR_LOC 38
34767: PUSH
34768: EMPTY
34769: ST_TO_ADDR
// for i = 1 to Side_Positions + 0 do
34770: LD_ADDR_VAR 0 2
34774: PUSH
34775: DOUBLE
34776: LD_INT 1
34778: DEC
34779: ST_TO_ADDR
34780: LD_EXP 75
34784: PUSH
34785: LD_INT 0
34787: PLUS
34788: PUSH
34789: FOR_TO
34790: IFFALSE 34892
// begin if not Side_Positions [ i ] = 0 then
34792: LD_EXP 75
34796: PUSH
34797: LD_VAR 0 2
34801: ARRAY
34802: PUSH
34803: LD_INT 0
34805: EQUAL
34806: NOT
34807: IFFALSE 34821
// SetMultiScore ( i , 0 ) ;
34809: LD_VAR 0 2
34813: PPUSH
34814: LD_INT 0
34816: PPUSH
34817: CALL_OW 506
// sharedPoints1 = Replace ( sharedPoints1 , i , 0 ) ;
34821: LD_ADDR_LOC 36
34825: PUSH
34826: LD_LOC 36
34830: PPUSH
34831: LD_VAR 0 2
34835: PPUSH
34836: LD_INT 0
34838: PPUSH
34839: CALL_OW 1
34843: ST_TO_ADDR
// sharedPoints2 = Replace ( sharedPoints2 , i , 0 ) ;
34844: LD_ADDR_LOC 37
34848: PUSH
34849: LD_LOC 37
34853: PPUSH
34854: LD_VAR 0 2
34858: PPUSH
34859: LD_INT 0
34861: PPUSH
34862: CALL_OW 1
34866: ST_TO_ADDR
// sharedPoints3 = Replace ( sharedPoints3 , i , 0 ) ;
34867: LD_ADDR_LOC 38
34871: PUSH
34872: LD_LOC 38
34876: PPUSH
34877: LD_VAR 0 2
34881: PPUSH
34882: LD_INT 0
34884: PPUSH
34885: CALL_OW 1
34889: ST_TO_ADDR
// end ;
34890: GO 34789
34892: POP
34893: POP
// pointGame = true ;
34894: LD_ADDR_LOC 39
34898: PUSH
34899: LD_INT 1
34901: ST_TO_ADDR
// end ;
34902: LD_VAR 0 1
34906: RET
// every 0 0$1 trigger pointGame do var i , red , blue , yel , green , redN , blueN , yelN , greenN , s , n , p , you ;
34907: LD_LOC 39
34911: IFFALSE 35341
34913: GO 34915
34915: DISABLE
34916: LD_INT 0
34918: PPUSH
34919: PPUSH
34920: PPUSH
34921: PPUSH
34922: PPUSH
34923: PPUSH
34924: PPUSH
34925: PPUSH
34926: PPUSH
34927: PPUSH
34928: PPUSH
34929: PPUSH
34930: PPUSH
// begin if isSGUI then
34931: LD_OWVAR 83
34935: IFFALSE 35341
// begin if Teams [ 1 ] then
34937: LD_EXP 73
34941: PUSH
34942: LD_INT 1
34944: ARRAY
34945: IFFALSE 34957
// red = true else
34947: LD_ADDR_VAR 0 2
34951: PUSH
34952: LD_INT 1
34954: ST_TO_ADDR
34955: GO 34965
// red = false ;
34957: LD_ADDR_VAR 0 2
34961: PUSH
34962: LD_INT 0
34964: ST_TO_ADDR
// if Teams [ 2 ] then
34965: LD_EXP 73
34969: PUSH
34970: LD_INT 2
34972: ARRAY
34973: IFFALSE 34985
// blue = true else
34975: LD_ADDR_VAR 0 3
34979: PUSH
34980: LD_INT 1
34982: ST_TO_ADDR
34983: GO 34993
// blue = false ;
34985: LD_ADDR_VAR 0 3
34989: PUSH
34990: LD_INT 0
34992: ST_TO_ADDR
// if Teams [ 3 ] then
34993: LD_EXP 73
34997: PUSH
34998: LD_INT 3
35000: ARRAY
35001: IFFALSE 35013
// yel = true else
35003: LD_ADDR_VAR 0 4
35007: PUSH
35008: LD_INT 1
35010: ST_TO_ADDR
35011: GO 35021
// yel = false ;
35013: LD_ADDR_VAR 0 4
35017: PUSH
35018: LD_INT 0
35020: ST_TO_ADDR
// if Teams [ 4 ] then
35021: LD_EXP 73
35025: PUSH
35026: LD_INT 4
35028: ARRAY
35029: IFFALSE 35041
// green = true else
35031: LD_ADDR_VAR 0 5
35035: PUSH
35036: LD_INT 1
35038: ST_TO_ADDR
35039: GO 35049
// green = false ;
35041: LD_ADDR_VAR 0 5
35045: PUSH
35046: LD_INT 0
35048: ST_TO_ADDR
// if def_public_score then
35049: LD_EXP 34
35053: IFFALSE 35065
// p = true else
35055: LD_ADDR_VAR 0 12
35059: PUSH
35060: LD_INT 1
35062: ST_TO_ADDR
35063: GO 35073
// p = false ;
35065: LD_ADDR_VAR 0 12
35069: PUSH
35070: LD_INT 0
35072: ST_TO_ADDR
// if team_game then
35073: LD_EXP 80
35077: IFFALSE 35157
// begin you = [ 3 , 1 , 2 , 7 ] [ player_team ] ;
35079: LD_ADDR_VAR 0 13
35083: PUSH
35084: LD_INT 3
35086: PUSH
35087: LD_INT 1
35089: PUSH
35090: LD_INT 2
35092: PUSH
35093: LD_INT 7
35095: PUSH
35096: EMPTY
35097: LIST
35098: LIST
35099: LIST
35100: LIST
35101: PUSH
35102: LD_EXP 71
35106: ARRAY
35107: ST_TO_ADDR
// s = [ blue , yel , red , false , false , false , green , false ] ;
35108: LD_ADDR_VAR 0 10
35112: PUSH
35113: LD_VAR 0 3
35117: PUSH
35118: LD_VAR 0 4
35122: PUSH
35123: LD_VAR 0 2
35127: PUSH
35128: LD_INT 0
35130: PUSH
35131: LD_INT 0
35133: PUSH
35134: LD_INT 0
35136: PUSH
35137: LD_VAR 0 5
35141: PUSH
35142: LD_INT 0
35144: PUSH
35145: EMPTY
35146: LIST
35147: LIST
35148: LIST
35149: LIST
35150: LIST
35151: LIST
35152: LIST
35153: LIST
35154: ST_TO_ADDR
// end else
35155: GO 35242
// begin you = your_side ;
35157: LD_ADDR_VAR 0 13
35161: PUSH
35162: LD_OWVAR 2
35166: ST_TO_ADDR
// s = [ ] ;
35167: LD_ADDR_VAR 0 10
35171: PUSH
35172: EMPTY
35173: ST_TO_ADDR
// for i = 1 to side_positions + 0 do
35174: LD_ADDR_VAR 0 1
35178: PUSH
35179: DOUBLE
35180: LD_INT 1
35182: DEC
35183: ST_TO_ADDR
35184: LD_EXP 75
35188: PUSH
35189: LD_INT 0
35191: PLUS
35192: PUSH
35193: FOR_TO
35194: IFFALSE 35240
// if side_positions [ i ] then
35196: LD_EXP 75
35200: PUSH
35201: LD_VAR 0 1
35205: ARRAY
35206: IFFALSE 35224
// s = s ^ true else
35208: LD_ADDR_VAR 0 10
35212: PUSH
35213: LD_VAR 0 10
35217: PUSH
35218: LD_INT 1
35220: ADD
35221: ST_TO_ADDR
35222: GO 35238
// s = s ^ false ;
35224: LD_ADDR_VAR 0 10
35228: PUSH
35229: LD_VAR 0 10
35233: PUSH
35234: LD_INT 0
35236: ADD
35237: ST_TO_ADDR
35238: GO 35193
35240: POP
35241: POP
// end ; LScore_Init ( s , p , you ) ;
35242: LD_VAR 0 10
35246: PPUSH
35247: LD_VAR 0 12
35251: PPUSH
35252: LD_VAR 0 13
35256: PPUSH
35257: CALL 35521 0 3
// if def_warForTerritory and WarForTerritory_flags then
35261: LD_EXP 36
35265: PUSH
35266: LD_EXP 65
35270: AND
35271: IFFALSE 35293
// LScore_Add_Pieces ( 3 , 3 , WarForTerritory_flags , MaxFlags ) ;
35273: LD_INT 3
35275: PPUSH
35276: LD_INT 3
35278: PPUSH
35279: LD_EXP 65
35283: PPUSH
35284: LD_EXP 114
35288: PPUSH
35289: CALL 36910 0 4
// if def_warForTerritory and WarForTerritory_Points then
35293: LD_EXP 36
35297: PUSH
35298: LD_EXP 64
35302: AND
35303: IFFALSE 35320
// LScore_Add_Points ( 3 , 3 , WarForTerritory_Points ) ;
35305: LD_INT 3
35307: PPUSH
35308: LD_INT 3
35310: PPUSH
35311: LD_EXP 64
35315: PPUSH
35316: CALL 36748 0 3
// if def_kings_age then
35320: LD_EXP 35
35324: IFFALSE 35341
// LScore_Add_Points ( 2 , 2 , final_count ) ;
35326: LD_INT 2
35328: PPUSH
35329: LD_INT 2
35331: PPUSH
35332: LD_EXP 57
35336: PPUSH
35337: CALL 36748 0 3
// end ; end ;
35341: PPOPN 13
35343: END
// export function SetSharedMultiScore ( side , points , typ ) ; var p ; begin
35344: LD_INT 0
35346: PPUSH
35347: PPUSH
// case typ of 1 :
35348: LD_VAR 0 3
35352: PUSH
35353: LD_INT 1
35355: DOUBLE
35356: EQUAL
35357: IFTRUE 35361
35359: GO 35389
35361: POP
// sharedPoints1 = Replace ( sharedPoints1 , side , points ) ; 2 :
35362: LD_ADDR_LOC 36
35366: PUSH
35367: LD_LOC 36
35371: PPUSH
35372: LD_VAR 0 1
35376: PPUSH
35377: LD_VAR 0 2
35381: PPUSH
35382: CALL_OW 1
35386: ST_TO_ADDR
35387: GO 35462
35389: LD_INT 2
35391: DOUBLE
35392: EQUAL
35393: IFTRUE 35397
35395: GO 35425
35397: POP
// sharedPoints2 = Replace ( sharedPoints2 , side , points ) ; 3 :
35398: LD_ADDR_LOC 37
35402: PUSH
35403: LD_LOC 37
35407: PPUSH
35408: LD_VAR 0 1
35412: PPUSH
35413: LD_VAR 0 2
35417: PPUSH
35418: CALL_OW 1
35422: ST_TO_ADDR
35423: GO 35462
35425: LD_INT 3
35427: DOUBLE
35428: EQUAL
35429: IFTRUE 35433
35431: GO 35461
35433: POP
// sharedPoints3 = Replace ( sharedPoints3 , side , points ) ; end ;
35434: LD_ADDR_LOC 38
35438: PUSH
35439: LD_LOC 38
35443: PPUSH
35444: LD_VAR 0 1
35448: PPUSH
35449: LD_VAR 0 2
35453: PPUSH
35454: CALL_OW 1
35458: ST_TO_ADDR
35459: GO 35462
35461: POP
// p = sharedPoints1 [ side ] + sharedPoints2 [ side ] + sharedPoints3 [ side ] ;
35462: LD_ADDR_VAR 0 5
35466: PUSH
35467: LD_LOC 36
35471: PUSH
35472: LD_VAR 0 1
35476: ARRAY
35477: PUSH
35478: LD_LOC 37
35482: PUSH
35483: LD_VAR 0 1
35487: ARRAY
35488: PLUS
35489: PUSH
35490: LD_LOC 38
35494: PUSH
35495: LD_VAR 0 1
35499: ARRAY
35500: PLUS
35501: ST_TO_ADDR
// SetMultiScore ( side , p ) ;
35502: LD_VAR 0 1
35506: PPUSH
35507: LD_VAR 0 5
35511: PPUSH
35512: CALL_OW 506
// end ; end_of_file
35516: LD_VAR 0 4
35520: RET
// export function LScore_Init ( sides , ifPScore , yourSide ) ; begin
35521: LD_INT 0
35523: PPUSH
// LScore_Init2 ( sides , ifPScore , yourSide , false ) ;
35524: LD_VAR 0 1
35528: PPUSH
35529: LD_VAR 0 2
35533: PPUSH
35534: LD_VAR 0 3
35538: PPUSH
35539: LD_INT 0
35541: PPUSH
35542: CALL 35551 0 4
// end ;
35546: LD_VAR 0 4
35550: RET
// export function LScore_Init2 ( sides , ifPScore , yourSide , lockTeam ) ; begin
35551: LD_INT 0
35553: PPUSH
// ToLua ( initScore({ & sides [ 1 ] & , & sides [ 2 ] & , & sides [ 3 ] & , & sides [ 4 ] & , & sides [ 5 ] & , & sides [ 6 ] & , & sides [ 7 ] & , & sides [ 8 ] & }, & ifPScore & , & yourSide & , & lockTeam & ); ) ;
35554: LD_STRING initScore({
35556: PUSH
35557: LD_VAR 0 1
35561: PUSH
35562: LD_INT 1
35564: ARRAY
35565: STR
35566: PUSH
35567: LD_STRING ,
35569: STR
35570: PUSH
35571: LD_VAR 0 1
35575: PUSH
35576: LD_INT 2
35578: ARRAY
35579: STR
35580: PUSH
35581: LD_STRING ,
35583: STR
35584: PUSH
35585: LD_VAR 0 1
35589: PUSH
35590: LD_INT 3
35592: ARRAY
35593: STR
35594: PUSH
35595: LD_STRING ,
35597: STR
35598: PUSH
35599: LD_VAR 0 1
35603: PUSH
35604: LD_INT 4
35606: ARRAY
35607: STR
35608: PUSH
35609: LD_STRING ,
35611: STR
35612: PUSH
35613: LD_VAR 0 1
35617: PUSH
35618: LD_INT 5
35620: ARRAY
35621: STR
35622: PUSH
35623: LD_STRING ,
35625: STR
35626: PUSH
35627: LD_VAR 0 1
35631: PUSH
35632: LD_INT 6
35634: ARRAY
35635: STR
35636: PUSH
35637: LD_STRING ,
35639: STR
35640: PUSH
35641: LD_VAR 0 1
35645: PUSH
35646: LD_INT 7
35648: ARRAY
35649: STR
35650: PUSH
35651: LD_STRING ,
35653: STR
35654: PUSH
35655: LD_VAR 0 1
35659: PUSH
35660: LD_INT 8
35662: ARRAY
35663: STR
35664: PUSH
35665: LD_STRING },
35667: STR
35668: PUSH
35669: LD_VAR 0 2
35673: STR
35674: PUSH
35675: LD_STRING ,
35677: STR
35678: PUSH
35679: LD_VAR 0 3
35683: STR
35684: PUSH
35685: LD_STRING ,
35687: STR
35688: PUSH
35689: LD_VAR 0 4
35693: STR
35694: PUSH
35695: LD_STRING );
35697: STR
35698: PPUSH
35699: CALL_OW 559
// end ;
35703: LD_VAR 0 5
35707: RET
// export function LScore_Reset ( ) ; begin
35708: LD_INT 0
35710: PPUSH
// ToLua ( ResetScorebar(); ) ;
35711: LD_STRING ResetScorebar();
35713: PPUSH
35714: CALL_OW 559
// end ;
35718: LD_VAR 0 1
35722: RET
// export function LScore_Delete ( ID ) ; begin
35723: LD_INT 0
35725: PPUSH
// ToLua ( deleteScore( & ID & ); ) ;
35726: LD_STRING deleteScore(
35728: PUSH
35729: LD_VAR 0 1
35733: STR
35734: PUSH
35735: LD_STRING );
35737: STR
35738: PPUSH
35739: CALL_OW 559
// end ;
35743: LD_VAR 0 2
35747: RET
// export function LScore_Add_Timer ( ID , typ , totalTime ) ; begin
35748: LD_INT 0
35750: PPUSH
// ToLua ( AST( & ID & , & typ & , & totalTime & ,); ) ;
35751: LD_STRING AST(
35753: PUSH
35754: LD_VAR 0 1
35758: STR
35759: PUSH
35760: LD_STRING ,
35762: STR
35763: PUSH
35764: LD_VAR 0 2
35768: STR
35769: PUSH
35770: LD_STRING ,
35772: STR
35773: PUSH
35774: LD_VAR 0 3
35778: STR
35779: PUSH
35780: LD_STRING ,);
35782: STR
35783: PPUSH
35784: CALL_OW 559
// end ;
35788: LD_VAR 0 4
35792: RET
// export function LScore_Add_Timer2 ( ID , typ , totalTime , show_total ) ; begin
35793: LD_INT 0
35795: PPUSH
// ToLua ( AST( & ID & , & typ & , & totalTime & , & show_total & ); ) ;
35796: LD_STRING AST(
35798: PUSH
35799: LD_VAR 0 1
35803: STR
35804: PUSH
35805: LD_STRING ,
35807: STR
35808: PUSH
35809: LD_VAR 0 2
35813: STR
35814: PUSH
35815: LD_STRING ,
35817: STR
35818: PUSH
35819: LD_VAR 0 3
35823: STR
35824: PUSH
35825: LD_STRING ,
35827: STR
35828: PUSH
35829: LD_VAR 0 4
35833: STR
35834: PUSH
35835: LD_STRING );
35837: STR
35838: PPUSH
35839: CALL_OW 559
// end ;
35843: LD_VAR 0 5
35847: RET
// export function LScore_Add_Timer3 ( ID , typ , totalTime , show_total , currentTime ) ; begin
35848: LD_INT 0
35850: PPUSH
// ToLua ( AST( & ID & , & typ & , & totalTime & , & show_total & , & currentTime & ); ) ;
35851: LD_STRING AST(
35853: PUSH
35854: LD_VAR 0 1
35858: STR
35859: PUSH
35860: LD_STRING ,
35862: STR
35863: PUSH
35864: LD_VAR 0 2
35868: STR
35869: PUSH
35870: LD_STRING ,
35872: STR
35873: PUSH
35874: LD_VAR 0 3
35878: STR
35879: PUSH
35880: LD_STRING ,
35882: STR
35883: PUSH
35884: LD_VAR 0 4
35888: STR
35889: PUSH
35890: LD_STRING ,
35892: STR
35893: PUSH
35894: LD_VAR 0 5
35898: STR
35899: PUSH
35900: LD_STRING );
35902: STR
35903: PPUSH
35904: CALL_OW 559
// end ;
35908: LD_VAR 0 6
35912: RET
// export function LScore_Add_ReverseTimer ( ID , typ , totalTime ) ; begin
35913: LD_INT 0
35915: PPUSH
// ToLua ( ASRT( & ID & , & typ & , & totalTime & ,); ) ;
35916: LD_STRING ASRT(
35918: PUSH
35919: LD_VAR 0 1
35923: STR
35924: PUSH
35925: LD_STRING ,
35927: STR
35928: PUSH
35929: LD_VAR 0 2
35933: STR
35934: PUSH
35935: LD_STRING ,
35937: STR
35938: PUSH
35939: LD_VAR 0 3
35943: STR
35944: PUSH
35945: LD_STRING ,);
35947: STR
35948: PPUSH
35949: CALL_OW 559
// end ;
35953: LD_VAR 0 4
35957: RET
// export function LScore_Add_ReverseTimer2 ( ID , typ , totalTime , show_total ) ; begin
35958: LD_INT 0
35960: PPUSH
// ToLua ( ASRT( & ID & , & typ & , & totalTime & , & show_total & ); ) ;
35961: LD_STRING ASRT(
35963: PUSH
35964: LD_VAR 0 1
35968: STR
35969: PUSH
35970: LD_STRING ,
35972: STR
35973: PUSH
35974: LD_VAR 0 2
35978: STR
35979: PUSH
35980: LD_STRING ,
35982: STR
35983: PUSH
35984: LD_VAR 0 3
35988: STR
35989: PUSH
35990: LD_STRING ,
35992: STR
35993: PUSH
35994: LD_VAR 0 4
35998: STR
35999: PUSH
36000: LD_STRING );
36002: STR
36003: PPUSH
36004: CALL_OW 559
// end ;
36008: LD_VAR 0 5
36012: RET
// export function LScore_Add_ReverseTimer3 ( ID , typ , totalTime , show_total , currentTime ) ; begin
36013: LD_INT 0
36015: PPUSH
// ToLua ( ASRT( & ID & , & typ & , & totalTime & , & show_total & , & currentTime & ); ) ;
36016: LD_STRING ASRT(
36018: PUSH
36019: LD_VAR 0 1
36023: STR
36024: PUSH
36025: LD_STRING ,
36027: STR
36028: PUSH
36029: LD_VAR 0 2
36033: STR
36034: PUSH
36035: LD_STRING ,
36037: STR
36038: PUSH
36039: LD_VAR 0 3
36043: STR
36044: PUSH
36045: LD_STRING ,
36047: STR
36048: PUSH
36049: LD_VAR 0 4
36053: STR
36054: PUSH
36055: LD_STRING ,
36057: STR
36058: PUSH
36059: LD_VAR 0 5
36063: STR
36064: PUSH
36065: LD_STRING );
36067: STR
36068: PPUSH
36069: CALL_OW 559
// end ;
36073: LD_VAR 0 6
36077: RET
// export function LScore_update_Timer ( ID , currentTime ) ; begin
36078: LD_INT 0
36080: PPUSH
// ToLua ( UST( & id & , & currentTime & ); ) ;
36081: LD_STRING UST(
36083: PUSH
36084: LD_VAR 0 1
36088: STR
36089: PUSH
36090: LD_STRING ,
36092: STR
36093: PUSH
36094: LD_VAR 0 2
36098: STR
36099: PUSH
36100: LD_STRING );
36102: STR
36103: PPUSH
36104: CALL_OW 559
// end ;
36108: LD_VAR 0 3
36112: RET
// export function LScore_update_Timer2 ( ID , currentTime , totalTime ) ; begin
36113: LD_INT 0
36115: PPUSH
// ToLua ( UST( & id & , & currentTime & , & totalTime & ); ) ;
36116: LD_STRING UST(
36118: PUSH
36119: LD_VAR 0 1
36123: STR
36124: PUSH
36125: LD_STRING ,
36127: STR
36128: PUSH
36129: LD_VAR 0 2
36133: STR
36134: PUSH
36135: LD_STRING ,
36137: STR
36138: PUSH
36139: LD_VAR 0 3
36143: STR
36144: PUSH
36145: LD_STRING );
36147: STR
36148: PPUSH
36149: CALL_OW 559
// end ;
36153: LD_VAR 0 4
36157: RET
// export function LScore_Change_TimerColourRGB ( id , red , green , blue ) ; begin
36158: LD_INT 0
36160: PPUSH
// ToLua ( CCST( & id & ,{ & red & , & green & , & blue & }); ) ;
36161: LD_STRING CCST(
36163: PUSH
36164: LD_VAR 0 1
36168: STR
36169: PUSH
36170: LD_STRING ,{
36172: STR
36173: PUSH
36174: LD_VAR 0 2
36178: STR
36179: PUSH
36180: LD_STRING ,
36182: STR
36183: PUSH
36184: LD_VAR 0 3
36188: STR
36189: PUSH
36190: LD_STRING ,
36192: STR
36193: PUSH
36194: LD_VAR 0 4
36198: STR
36199: PUSH
36200: LD_STRING });
36202: STR
36203: PPUSH
36204: CALL_OW 559
// end ;
36208: LD_VAR 0 5
36212: RET
// export function LScore_Change_TimerColour ( id , side ) ; begin
36213: LD_INT 0
36215: PPUSH
// ToLua ( CCST( & id & , & side & ); ) ;
36216: LD_STRING CCST(
36218: PUSH
36219: LD_VAR 0 1
36223: STR
36224: PUSH
36225: LD_STRING ,
36227: STR
36228: PUSH
36229: LD_VAR 0 2
36233: STR
36234: PUSH
36235: LD_STRING );
36237: STR
36238: PPUSH
36239: CALL_OW 559
// end ;
36243: LD_VAR 0 3
36247: RET
// export function LScore_Add_SinglePoints ( ID , typ , totalPoints ) ; begin
36248: LD_INT 0
36250: PPUSH
// ToLua ( ASSP( & ID & , & typ & , & totalPoints & ,); ) ;
36251: LD_STRING ASSP(
36253: PUSH
36254: LD_VAR 0 1
36258: STR
36259: PUSH
36260: LD_STRING ,
36262: STR
36263: PUSH
36264: LD_VAR 0 2
36268: STR
36269: PUSH
36270: LD_STRING ,
36272: STR
36273: PUSH
36274: LD_VAR 0 3
36278: STR
36279: PUSH
36280: LD_STRING ,);
36282: STR
36283: PPUSH
36284: CALL_OW 559
// end ;
36288: LD_VAR 0 4
36292: RET
// export function LScore_Add_SinglePoints2 ( ID , typ , totalPoints , show_total ) ; begin
36293: LD_INT 0
36295: PPUSH
// ToLua ( ASSP( & ID & , & typ & , & totalPoints & , & show_total & ); ) ;
36296: LD_STRING ASSP(
36298: PUSH
36299: LD_VAR 0 1
36303: STR
36304: PUSH
36305: LD_STRING ,
36307: STR
36308: PUSH
36309: LD_VAR 0 2
36313: STR
36314: PUSH
36315: LD_STRING ,
36317: STR
36318: PUSH
36319: LD_VAR 0 3
36323: STR
36324: PUSH
36325: LD_STRING ,
36327: STR
36328: PUSH
36329: LD_VAR 0 4
36333: STR
36334: PUSH
36335: LD_STRING );
36337: STR
36338: PPUSH
36339: CALL_OW 559
// end ;
36343: LD_VAR 0 5
36347: RET
// export function LScore_Add_SinglePoints3 ( ID , typ , totalPoints , show_total , currentPoints ) ; begin
36348: LD_INT 0
36350: PPUSH
// ToLua ( ASSP( & ID & , & typ & , & totalPoints & , & show_total & , & currentPoints & ); ) ;
36351: LD_STRING ASSP(
36353: PUSH
36354: LD_VAR 0 1
36358: STR
36359: PUSH
36360: LD_STRING ,
36362: STR
36363: PUSH
36364: LD_VAR 0 2
36368: STR
36369: PUSH
36370: LD_STRING ,
36372: STR
36373: PUSH
36374: LD_VAR 0 3
36378: STR
36379: PUSH
36380: LD_STRING ,
36382: STR
36383: PUSH
36384: LD_VAR 0 4
36388: STR
36389: PUSH
36390: LD_STRING ,
36392: STR
36393: PUSH
36394: LD_VAR 0 5
36398: STR
36399: PUSH
36400: LD_STRING );
36402: STR
36403: PPUSH
36404: CALL_OW 559
// end ;
36408: LD_VAR 0 6
36412: RET
// export function LScore_Add_ReverseSinglePoints ( ID , typ , totalPoints ) ; begin
36413: LD_INT 0
36415: PPUSH
// ToLua ( ASRSP( & ID & , & typ & , & totalPoints & ,); ) ;
36416: LD_STRING ASRSP(
36418: PUSH
36419: LD_VAR 0 1
36423: STR
36424: PUSH
36425: LD_STRING ,
36427: STR
36428: PUSH
36429: LD_VAR 0 2
36433: STR
36434: PUSH
36435: LD_STRING ,
36437: STR
36438: PUSH
36439: LD_VAR 0 3
36443: STR
36444: PUSH
36445: LD_STRING ,);
36447: STR
36448: PPUSH
36449: CALL_OW 559
// end ;
36453: LD_VAR 0 4
36457: RET
// export function LScore_Add_ReverseSinglePoints2 ( ID , typ , totalPoints , show_total ) ; begin
36458: LD_INT 0
36460: PPUSH
// ToLua ( ASRSP( & ID & , & typ & , & totalPoints & , & show_total & ); ) ;
36461: LD_STRING ASRSP(
36463: PUSH
36464: LD_VAR 0 1
36468: STR
36469: PUSH
36470: LD_STRING ,
36472: STR
36473: PUSH
36474: LD_VAR 0 2
36478: STR
36479: PUSH
36480: LD_STRING ,
36482: STR
36483: PUSH
36484: LD_VAR 0 3
36488: STR
36489: PUSH
36490: LD_STRING ,
36492: STR
36493: PUSH
36494: LD_VAR 0 4
36498: STR
36499: PUSH
36500: LD_STRING );
36502: STR
36503: PPUSH
36504: CALL_OW 559
// end ;
36508: LD_VAR 0 5
36512: RET
// export function LScore_Add_ReverseSinglePoints3 ( ID , typ , totalPoints , show_total , currentPoints ) ; begin
36513: LD_INT 0
36515: PPUSH
// ToLua ( ASRSP( & ID & , & typ & , & totalPoints & , & show_total & , & currentPoints & ); ) ;
36516: LD_STRING ASRSP(
36518: PUSH
36519: LD_VAR 0 1
36523: STR
36524: PUSH
36525: LD_STRING ,
36527: STR
36528: PUSH
36529: LD_VAR 0 2
36533: STR
36534: PUSH
36535: LD_STRING ,
36537: STR
36538: PUSH
36539: LD_VAR 0 3
36543: STR
36544: PUSH
36545: LD_STRING ,
36547: STR
36548: PUSH
36549: LD_VAR 0 4
36553: STR
36554: PUSH
36555: LD_STRING ,
36557: STR
36558: PUSH
36559: LD_VAR 0 5
36563: STR
36564: PUSH
36565: LD_STRING );
36567: STR
36568: PPUSH
36569: CALL_OW 559
// end ;
36573: LD_VAR 0 6
36577: RET
// export function LScore_update_SinglePoints ( ID , currentPoints ) ; begin
36578: LD_INT 0
36580: PPUSH
// ToLua ( USSP( & id & , & currentPoints & ); ) ;
36581: LD_STRING USSP(
36583: PUSH
36584: LD_VAR 0 1
36588: STR
36589: PUSH
36590: LD_STRING ,
36592: STR
36593: PUSH
36594: LD_VAR 0 2
36598: STR
36599: PUSH
36600: LD_STRING );
36602: STR
36603: PPUSH
36604: CALL_OW 559
// end ;
36608: LD_VAR 0 3
36612: RET
// export function LScore_update_SinglePoints2 ( ID , currentPoints , totalPoints ) ; begin
36613: LD_INT 0
36615: PPUSH
// ToLua ( USSP( & id & , & currentPoints & , & totalPoints & ); ) ;
36616: LD_STRING USSP(
36618: PUSH
36619: LD_VAR 0 1
36623: STR
36624: PUSH
36625: LD_STRING ,
36627: STR
36628: PUSH
36629: LD_VAR 0 2
36633: STR
36634: PUSH
36635: LD_STRING ,
36637: STR
36638: PUSH
36639: LD_VAR 0 3
36643: STR
36644: PUSH
36645: LD_STRING );
36647: STR
36648: PPUSH
36649: CALL_OW 559
// end ;
36653: LD_VAR 0 4
36657: RET
// export function LScore_Change_SinglePointsRGB ( id , red , green , blue ) ; begin
36658: LD_INT 0
36660: PPUSH
// ToLua ( CCSSP( & id & ,{ & red & , & green & , & blue & }); ) ;
36661: LD_STRING CCSSP(
36663: PUSH
36664: LD_VAR 0 1
36668: STR
36669: PUSH
36670: LD_STRING ,{
36672: STR
36673: PUSH
36674: LD_VAR 0 2
36678: STR
36679: PUSH
36680: LD_STRING ,
36682: STR
36683: PUSH
36684: LD_VAR 0 3
36688: STR
36689: PUSH
36690: LD_STRING ,
36692: STR
36693: PUSH
36694: LD_VAR 0 4
36698: STR
36699: PUSH
36700: LD_STRING });
36702: STR
36703: PPUSH
36704: CALL_OW 559
// end ;
36708: LD_VAR 0 5
36712: RET
// export function LScore_Change_SinglePoints ( id , side ) ; begin
36713: LD_INT 0
36715: PPUSH
// ToLua ( CCSSP( & id & , & side & ); ) ;
36716: LD_STRING CCSSP(
36718: PUSH
36719: LD_VAR 0 1
36723: STR
36724: PUSH
36725: LD_STRING ,
36727: STR
36728: PUSH
36729: LD_VAR 0 2
36733: STR
36734: PUSH
36735: LD_STRING );
36737: STR
36738: PPUSH
36739: CALL_OW 559
// end ;
36743: LD_VAR 0 3
36747: RET
// export function LScore_Add_Points ( ID , typ , goal ) ; begin
36748: LD_INT 0
36750: PPUSH
// ToLua ( ASP( & id & , & typ & , & goal & ); ) ;
36751: LD_STRING ASP(
36753: PUSH
36754: LD_VAR 0 1
36758: STR
36759: PUSH
36760: LD_STRING ,
36762: STR
36763: PUSH
36764: LD_VAR 0 2
36768: STR
36769: PUSH
36770: LD_STRING ,
36772: STR
36773: PUSH
36774: LD_VAR 0 3
36778: STR
36779: PUSH
36780: LD_STRING );
36782: STR
36783: PPUSH
36784: CALL_OW 559
// end ;
36788: LD_VAR 0 4
36792: RET
// export function LScore_Update_Points ( ID , side , points ) ; begin
36793: LD_INT 0
36795: PPUSH
// ToLua ( USP( & id & , & side & , & points & ); ) ;
36796: LD_STRING USP(
36798: PUSH
36799: LD_VAR 0 1
36803: STR
36804: PUSH
36805: LD_STRING ,
36807: STR
36808: PUSH
36809: LD_VAR 0 2
36813: STR
36814: PUSH
36815: LD_STRING ,
36817: STR
36818: PUSH
36819: LD_VAR 0 3
36823: STR
36824: PUSH
36825: LD_STRING );
36827: STR
36828: PPUSH
36829: CALL_OW 559
// end ;
36833: LD_VAR 0 4
36837: RET
// export function LScore_Update_PointsAll ( ID , score ) ; var i ; begin
36838: LD_INT 0
36840: PPUSH
36841: PPUSH
// for i = 1 to 8 do
36842: LD_ADDR_VAR 0 4
36846: PUSH
36847: DOUBLE
36848: LD_INT 1
36850: DEC
36851: ST_TO_ADDR
36852: LD_INT 8
36854: PUSH
36855: FOR_TO
36856: IFFALSE 36903
// ToLua ( USP( & ID & , & i & , & score [ i ] & ); ) ;
36858: LD_STRING USP(
36860: PUSH
36861: LD_VAR 0 1
36865: STR
36866: PUSH
36867: LD_STRING ,
36869: STR
36870: PUSH
36871: LD_VAR 0 4
36875: STR
36876: PUSH
36877: LD_STRING ,
36879: STR
36880: PUSH
36881: LD_VAR 0 2
36885: PUSH
36886: LD_VAR 0 4
36890: ARRAY
36891: STR
36892: PUSH
36893: LD_STRING );
36895: STR
36896: PPUSH
36897: CALL_OW 559
36901: GO 36855
36903: POP
36904: POP
// end ;
36905: LD_VAR 0 3
36909: RET
// export function LScore_Add_Pieces ( id , typ , goal , total ) ; begin
36910: LD_INT 0
36912: PPUSH
// ToLua ( ASC( & id & , & typ & , & goal & , & total & ); ) ;
36913: LD_STRING ASC(
36915: PUSH
36916: LD_VAR 0 1
36920: STR
36921: PUSH
36922: LD_STRING ,
36924: STR
36925: PUSH
36926: LD_VAR 0 2
36930: STR
36931: PUSH
36932: LD_STRING ,
36934: STR
36935: PUSH
36936: LD_VAR 0 3
36940: STR
36941: PUSH
36942: LD_STRING ,
36944: STR
36945: PUSH
36946: LD_VAR 0 4
36950: STR
36951: PUSH
36952: LD_STRING );
36954: STR
36955: PPUSH
36956: CALL_OW 559
// end ;
36960: LD_VAR 0 5
36964: RET
// export function LScore_Update_Peices ( id , sidesChunks ) ; begin
36965: LD_INT 0
36967: PPUSH
// ToLua ( USC( & id & ,{ & sidesChunks [ 1 ] & , & sidesChunks [ 2 ] & , & sidesChunks [ 3 ] & , & sidesChunks [ 4 ] & , & sidesChunks [ 5 ] & , & sidesChunks [ 6 ] & , & sidesChunks [ 7 ] & , & sidesChunks [ 8 ] & }); ) ;
36968: LD_STRING USC(
36970: PUSH
36971: LD_VAR 0 1
36975: STR
36976: PUSH
36977: LD_STRING ,{
36979: STR
36980: PUSH
36981: LD_VAR 0 2
36985: PUSH
36986: LD_INT 1
36988: ARRAY
36989: STR
36990: PUSH
36991: LD_STRING ,
36993: STR
36994: PUSH
36995: LD_VAR 0 2
36999: PUSH
37000: LD_INT 2
37002: ARRAY
37003: STR
37004: PUSH
37005: LD_STRING ,
37007: STR
37008: PUSH
37009: LD_VAR 0 2
37013: PUSH
37014: LD_INT 3
37016: ARRAY
37017: STR
37018: PUSH
37019: LD_STRING ,
37021: STR
37022: PUSH
37023: LD_VAR 0 2
37027: PUSH
37028: LD_INT 4
37030: ARRAY
37031: STR
37032: PUSH
37033: LD_STRING ,
37035: STR
37036: PUSH
37037: LD_VAR 0 2
37041: PUSH
37042: LD_INT 5
37044: ARRAY
37045: STR
37046: PUSH
37047: LD_STRING ,
37049: STR
37050: PUSH
37051: LD_VAR 0 2
37055: PUSH
37056: LD_INT 6
37058: ARRAY
37059: STR
37060: PUSH
37061: LD_STRING ,
37063: STR
37064: PUSH
37065: LD_VAR 0 2
37069: PUSH
37070: LD_INT 7
37072: ARRAY
37073: STR
37074: PUSH
37075: LD_STRING ,
37077: STR
37078: PUSH
37079: LD_VAR 0 2
37083: PUSH
37084: LD_INT 8
37086: ARRAY
37087: STR
37088: PUSH
37089: LD_STRING });
37091: STR
37092: PPUSH
37093: CALL_OW 559
// end ; end_of_file
37097: LD_VAR 0 3
37101: RET
// export function UpdateSpectatorBar ; var i , j , crates , oil , sib , people , base , bases ; begin
37102: LD_INT 0
37104: PPUSH
37105: PPUSH
37106: PPUSH
37107: PPUSH
37108: PPUSH
37109: PPUSH
37110: PPUSH
37111: PPUSH
37112: PPUSH
// for i := 1 to 8 do
37113: LD_ADDR_VAR 0 2
37117: PUSH
37118: DOUBLE
37119: LD_INT 1
37121: DEC
37122: ST_TO_ADDR
37123: LD_INT 8
37125: PUSH
37126: FOR_TO
37127: IFFALSE 37511
// begin if Side_Positions [ i ] then
37129: LD_EXP 75
37133: PUSH
37134: LD_VAR 0 2
37138: ARRAY
37139: IFFALSE 37509
// begin people := FilterAllUnits ( [ [ f_side , i ] , [ f_type , unit_human ] ] ) + 0 ;
37141: LD_ADDR_VAR 0 7
37145: PUSH
37146: LD_INT 22
37148: PUSH
37149: LD_VAR 0 2
37153: PUSH
37154: EMPTY
37155: LIST
37156: LIST
37157: PUSH
37158: LD_INT 21
37160: PUSH
37161: LD_INT 1
37163: PUSH
37164: EMPTY
37165: LIST
37166: LIST
37167: PUSH
37168: EMPTY
37169: LIST
37170: LIST
37171: PPUSH
37172: CALL_OW 69
37176: PUSH
37177: LD_INT 0
37179: PLUS
37180: ST_TO_ADDR
// bases := FilterAllUnits ( [ [ f_side , i ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) ;
37181: LD_ADDR_VAR 0 9
37185: PUSH
37186: LD_INT 22
37188: PUSH
37189: LD_VAR 0 2
37193: PUSH
37194: EMPTY
37195: LIST
37196: LIST
37197: PUSH
37198: LD_INT 2
37200: PUSH
37201: LD_INT 30
37203: PUSH
37204: LD_INT 0
37206: PUSH
37207: EMPTY
37208: LIST
37209: LIST
37210: PUSH
37211: LD_INT 30
37213: PUSH
37214: LD_INT 1
37216: PUSH
37217: EMPTY
37218: LIST
37219: LIST
37220: PUSH
37221: EMPTY
37222: LIST
37223: LIST
37224: LIST
37225: PUSH
37226: EMPTY
37227: LIST
37228: LIST
37229: PPUSH
37230: CALL_OW 69
37234: ST_TO_ADDR
// crates := 0 ;
37235: LD_ADDR_VAR 0 4
37239: PUSH
37240: LD_INT 0
37242: ST_TO_ADDR
// oil := 0 ;
37243: LD_ADDR_VAR 0 5
37247: PUSH
37248: LD_INT 0
37250: ST_TO_ADDR
// sib := 0 ;
37251: LD_ADDR_VAR 0 6
37255: PUSH
37256: LD_INT 0
37258: ST_TO_ADDR
// if bases then
37259: LD_VAR 0 9
37263: IFFALSE 37369
// begin for j in bases do
37265: LD_ADDR_VAR 0 3
37269: PUSH
37270: LD_VAR 0 9
37274: PUSH
37275: FOR_IN
37276: IFFALSE 37367
// begin base := GetBase ( j ) ;
37278: LD_ADDR_VAR 0 8
37282: PUSH
37283: LD_VAR 0 3
37287: PPUSH
37288: CALL_OW 274
37292: ST_TO_ADDR
// crates := crates + GetResourceType ( base , mat_cans ) ;
37293: LD_ADDR_VAR 0 4
37297: PUSH
37298: LD_VAR 0 4
37302: PUSH
37303: LD_VAR 0 8
37307: PPUSH
37308: LD_INT 1
37310: PPUSH
37311: CALL_OW 275
37315: PLUS
37316: ST_TO_ADDR
// oil := oil + GetResourceType ( base , mat_oil ) ;
37317: LD_ADDR_VAR 0 5
37321: PUSH
37322: LD_VAR 0 5
37326: PUSH
37327: LD_VAR 0 8
37331: PPUSH
37332: LD_INT 2
37334: PPUSH
37335: CALL_OW 275
37339: PLUS
37340: ST_TO_ADDR
// sib := sib + GetResourceType ( base , mat_siberit ) ;
37341: LD_ADDR_VAR 0 6
37345: PUSH
37346: LD_VAR 0 6
37350: PUSH
37351: LD_VAR 0 8
37355: PPUSH
37356: LD_INT 3
37358: PPUSH
37359: CALL_OW 275
37363: PLUS
37364: ST_TO_ADDR
// end ;
37365: GO 37275
37367: POP
37368: POP
// end ; ToLua ( setSpecText( & i & , & 2 & , & crates & ) ) ;
37369: LD_STRING setSpecText(
37371: PUSH
37372: LD_VAR 0 2
37376: STR
37377: PUSH
37378: LD_STRING ,
37380: STR
37381: PUSH
37382: LD_INT 2
37384: STR
37385: PUSH
37386: LD_STRING ,
37388: STR
37389: PUSH
37390: LD_VAR 0 4
37394: STR
37395: PUSH
37396: LD_STRING )
37398: STR
37399: PPUSH
37400: CALL_OW 559
// ToLua ( setSpecText( & i & , & 3 & , & oil & ) ) ;
37404: LD_STRING setSpecText(
37406: PUSH
37407: LD_VAR 0 2
37411: STR
37412: PUSH
37413: LD_STRING ,
37415: STR
37416: PUSH
37417: LD_INT 3
37419: STR
37420: PUSH
37421: LD_STRING ,
37423: STR
37424: PUSH
37425: LD_VAR 0 5
37429: STR
37430: PUSH
37431: LD_STRING )
37433: STR
37434: PPUSH
37435: CALL_OW 559
// ToLua ( setSpecText( & i & , & 4 & , & sib & ) ) ;
37439: LD_STRING setSpecText(
37441: PUSH
37442: LD_VAR 0 2
37446: STR
37447: PUSH
37448: LD_STRING ,
37450: STR
37451: PUSH
37452: LD_INT 4
37454: STR
37455: PUSH
37456: LD_STRING ,
37458: STR
37459: PUSH
37460: LD_VAR 0 6
37464: STR
37465: PUSH
37466: LD_STRING )
37468: STR
37469: PPUSH
37470: CALL_OW 559
// ToLua ( setSpecText( & i & , & 5 & , & people & ) ) ;
37474: LD_STRING setSpecText(
37476: PUSH
37477: LD_VAR 0 2
37481: STR
37482: PUSH
37483: LD_STRING ,
37485: STR
37486: PUSH
37487: LD_INT 5
37489: STR
37490: PUSH
37491: LD_STRING ,
37493: STR
37494: PUSH
37495: LD_VAR 0 7
37499: STR
37500: PUSH
37501: LD_STRING )
37503: STR
37504: PPUSH
37505: CALL_OW 559
// end ; end ;
37509: GO 37126
37511: POP
37512: POP
// end ;
37513: LD_VAR 0 1
37517: RET
// every 0 0$1 do
37518: GO 37520
37520: DISABLE
// begin ToLua ( setSpecLogoNumber( & 2 & , & 1 & ) ) ;
37521: LD_STRING setSpecLogoNumber(
37523: PUSH
37524: LD_INT 2
37526: STR
37527: PUSH
37528: LD_STRING ,
37530: STR
37531: PUSH
37532: LD_INT 1
37534: STR
37535: PUSH
37536: LD_STRING )
37538: STR
37539: PPUSH
37540: CALL_OW 559
// ToLua ( setSpecLogoNumber( & 3 & , & 2 & ) ) ;
37544: LD_STRING setSpecLogoNumber(
37546: PUSH
37547: LD_INT 3
37549: STR
37550: PUSH
37551: LD_STRING ,
37553: STR
37554: PUSH
37555: LD_INT 2
37557: STR
37558: PUSH
37559: LD_STRING )
37561: STR
37562: PPUSH
37563: CALL_OW 559
// ToLua ( setSpecLogoNumber( & 4 & , & 3 & ) ) ;
37567: LD_STRING setSpecLogoNumber(
37569: PUSH
37570: LD_INT 4
37572: STR
37573: PUSH
37574: LD_STRING ,
37576: STR
37577: PUSH
37578: LD_INT 3
37580: STR
37581: PUSH
37582: LD_STRING )
37584: STR
37585: PPUSH
37586: CALL_OW 559
// ToLua ( setSpecLogoNumber( & 5 & , & 4 & ) ) ;
37590: LD_STRING setSpecLogoNumber(
37592: PUSH
37593: LD_INT 5
37595: STR
37596: PUSH
37597: LD_STRING ,
37599: STR
37600: PUSH
37601: LD_INT 4
37603: STR
37604: PUSH
37605: LD_STRING )
37607: STR
37608: PPUSH
37609: CALL_OW 559
// end ;
37613: END
// every 20 + 0 0$5 trigger FilterAllUnits ( [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ) do
37614: LD_INT 2
37616: PUSH
37617: LD_INT 30
37619: PUSH
37620: LD_INT 0
37622: PUSH
37623: EMPTY
37624: LIST
37625: LIST
37626: PUSH
37627: LD_INT 30
37629: PUSH
37630: LD_INT 1
37632: PUSH
37633: EMPTY
37634: LIST
37635: LIST
37636: PUSH
37637: EMPTY
37638: LIST
37639: LIST
37640: LIST
37641: PPUSH
37642: CALL_OW 69
37646: IFFALSE 37656
37648: GO 37650
37650: DISABLE
// begin enable ;
37651: ENABLE
// UpdateSpectatorBar ;
37652: CALL 37102 0 0
// end ;
37656: END
