// starting begin GT_DoubleNat = [ ] ;
   0: LD_ADDR_EXP 3
   4: PUSH
   5: EMPTY
   6: ST_TO_ADDR
// GT_DoublePeople = [ ] ;
   7: LD_ADDR_EXP 4
  11: PUSH
  12: EMPTY
  13: ST_TO_ADDR
// GT_TripleNat = [ ] ;
  14: LD_ADDR_EXP 5
  18: PUSH
  19: EMPTY
  20: ST_TO_ADDR
// GT_Survival = [ 24 , 23 , 22 , 21 ] ;
  21: LD_ADDR_EXP 6
  25: PUSH
  26: LD_INT 24
  28: PUSH
  29: LD_INT 23
  31: PUSH
  32: LD_INT 22
  34: PUSH
  35: LD_INT 21
  37: PUSH
  38: EMPTY
  39: LIST
  40: LIST
  41: LIST
  42: LIST
  43: ST_TO_ADDR
// GT_Mine = [ ] ;
  44: LD_ADDR_EXP 2
  48: PUSH
  49: EMPTY
  50: ST_TO_ADDR
// GT_RankedGames = [ 10 , 11 ] ;
  51: LD_ADDR_EXP 7
  55: PUSH
  56: LD_INT 10
  58: PUSH
  59: LD_INT 11
  61: PUSH
  62: EMPTY
  63: LIST
  64: LIST
  65: ST_TO_ADDR
// enable_human_prediction := true ;
  66: LD_ADDR_OWVAR 51
  70: PUSH
  71: LD_INT 1
  73: ST_TO_ADDR
// Disable_All_Games ;
  74: CALL 374 0 0
// mp_selectmsg = true ;
  78: LD_ADDR_OWVAR 13
  82: PUSH
  83: LD_INT 1
  85: ST_TO_ADDR
// read_multiplayer_and_game_parameters ;
  86: CALL 2754 0 0
// specialParameters ;
  90: CALL 386 0 0
// standartSets ;
  94: CALL 3372 0 0
// prepare_map_coordinates ;
  98: CALL 417 0 0
// InitGameRules ;
 102: CALL 26278 0 0
// set_shared_visions_and_alliances ;
 106: CALL 5290 0 0
// ResetFog ;
 110: CALL_OW 335
// ClearAllFogForSide ( Player_Side ) ;
 114: LD_EXP 69
 118: PPUSH
 119: CALL_OW 520
// AnimateTrees ( true ) ;
 123: LD_INT 1
 125: PPUSH
 126: CALL_OW 573
// init_map ;
 130: CALL 4445 0 0
// if Game_Type in GT_DoubleNat ^ GT_TripleNat then
 134: LD_EXP 1
 138: PUSH
 139: LD_EXP 3
 143: PUSH
 144: LD_EXP 5
 148: ADD
 149: IN
 150: IFFALSE 156
// modify_nations ;
 152: CALL 6143 0 0
// if not def_game_rules then
 156: LD_EXP 9
 160: NOT
 161: IFFALSE 170
// begin Start_tech_ur ;
 163: CALL 18581 0 0
// enable ( 30 ) ;
 167: LD_INT 30
 169: ENABLE_MARKED
// end ; prepare_sides ;
 170: CALL 5599 0 0
// InitLimits ;
 174: CALL 28983 0 0
// if def_kings_age or def_warForTerritory then
 178: LD_EXP 35
 182: PUSH
 183: LD_EXP 36
 187: OR
 188: IFFALSE 194
// InitPoints ;
 190: CALL 34722 0 0
// if def_kings_age then
 194: LD_EXP 35
 198: IFFALSE 204
// init_kings_counting ;
 200: CALL 22614 0 0
// init_respawn ;
 204: CALL 10498 0 0
// Init_Win_Condition ;
 208: CALL 13027 0 0
// mastodonti ;
 212: CALL 9123 0 0
// Start_Zvirata ;
 216: CALL 9442 0 0
// init_Daily ;
 220: CALL 24770 0 0
// your_side := Player_Side ;
 224: LD_ADDR_OWVAR 2
 228: PUSH
 229: LD_EXP 69
 233: ST_TO_ADDR
// music_nat := Side_Nations [ your_side ] ;
 234: LD_ADDR_OWVAR 71
 238: PUSH
 239: LD_EXP 75
 243: PUSH
 244: LD_OWVAR 2
 248: ARRAY
 249: ST_TO_ADDR
// if IAmSpec then
 250: CALL_OW 531
 254: IFFALSE 278
// begin FogOff ( true ) ;
 256: LD_INT 1
 258: PPUSH
 259: CALL_OW 344
// CenterNowOnXY ( 120 , 80 ) ;
 263: LD_INT 120
 265: PPUSH
 266: LD_INT 80
 268: PPUSH
 269: CALL_OW 86
// enable ( 400 ) ;
 273: LD_INT 400
 275: ENABLE_MARKED
// end else
 276: GO 328
// begin CenterNowOnXY ( start_def [ Side_Positions [ your_side ] ] [ 1 ] , start_def [ Side_Positions [ your_side ] ] [ 2 ] ) ;
 278: LD_EXP 82
 282: PUSH
 283: LD_EXP 74
 287: PUSH
 288: LD_OWVAR 2
 292: ARRAY
 293: ARRAY
 294: PUSH
 295: LD_INT 1
 297: ARRAY
 298: PPUSH
 299: LD_EXP 82
 303: PUSH
 304: LD_EXP 74
 308: PUSH
 309: LD_OWVAR 2
 313: ARRAY
 314: ARRAY
 315: PUSH
 316: LD_INT 2
 318: ARRAY
 319: PPUSH
 320: CALL_OW 86
// Init_Win_Condition ;
 324: CALL 13027 0 0
// end ; BuildUpAreas := [ AR_ZaklLH , AR_ZaklLD , AR_ZaklPH , AR_ZaklPD ] ;
 328: LD_ADDR_EXP 115
 332: PUSH
 333: LD_INT 4
 335: PUSH
 336: LD_INT 6
 338: PUSH
 339: LD_INT 5
 341: PUSH
 342: LD_INT 7
 344: PUSH
 345: EMPTY
 346: LIST
 347: LIST
 348: LIST
 349: LIST
 350: ST_TO_ADDR
// BeginBuildUp ;
 351: CALL 25580 0 0
// if def_warForTerritory then
 355: LD_EXP 36
 359: IFFALSE 365
// Init_WarForTerritory ;
 361: CALL 30248 0 0
// InitDisplayNames ;
 365: CALL 15939 0 0
// InitMultiplayerTime ;
 369: CALL 16609 0 0
// end ;
 373: END
// function Disable_All_Games ; begin
 374: LD_INT 0
 376: PPUSH
// Disable_Standard_Games ;
 377: CALL 9484 0 0
// end ;
 381: LD_VAR 0 1
 385: RET
// function specialParameters ; var d ; begin
 386: LD_INT 0
 388: PPUSH
 389: PPUSH
// if not isSGUI then
 390: LD_OWVAR 83
 394: NOT
 395: IFFALSE 412
// begin if not game_type in GT_Survival then
 397: LD_EXP 1
 401: PUSH
 402: LD_EXP 6
 406: IN
 407: NOT
 408: IFFALSE 410
// begin end ; end else
 410: GO 412
// begin end ; end ;
 412: LD_VAR 0 1
 416: RET
// function prepare_map_coordinates ; begin
 417: LD_INT 0
 419: PPUSH
// depot_def := [ [ 12 , 8 , 2 ] , [ 83 , 146 , 0 ] , [ 156 , 9 , 3 ] , [ 225 , 149 , 5 ] ] ;
 420: LD_ADDR_EXP 80
 424: PUSH
 425: LD_INT 12
 427: PUSH
 428: LD_INT 8
 430: PUSH
 431: LD_INT 2
 433: PUSH
 434: EMPTY
 435: LIST
 436: LIST
 437: LIST
 438: PUSH
 439: LD_INT 83
 441: PUSH
 442: LD_INT 146
 444: PUSH
 445: LD_INT 0
 447: PUSH
 448: EMPTY
 449: LIST
 450: LIST
 451: LIST
 452: PUSH
 453: LD_INT 156
 455: PUSH
 456: LD_INT 9
 458: PUSH
 459: LD_INT 3
 461: PUSH
 462: EMPTY
 463: LIST
 464: LIST
 465: LIST
 466: PUSH
 467: LD_INT 225
 469: PUSH
 470: LD_INT 149
 472: PUSH
 473: LD_INT 5
 475: PUSH
 476: EMPTY
 477: LIST
 478: LIST
 479: LIST
 480: PUSH
 481: EMPTY
 482: LIST
 483: LIST
 484: LIST
 485: LIST
 486: ST_TO_ADDR
// oil_deposits_locations := [ [ 20 , 4 ] , [ 93 , 153 ] , [ 141 , 4 ] , [ 220 , 155 ] , ] ;
 487: LD_ADDR_EXP 85
 491: PUSH
 492: LD_INT 20
 494: PUSH
 495: LD_INT 4
 497: PUSH
 498: EMPTY
 499: LIST
 500: LIST
 501: PUSH
 502: LD_INT 93
 504: PUSH
 505: LD_INT 153
 507: PUSH
 508: EMPTY
 509: LIST
 510: LIST
 511: PUSH
 512: LD_INT 141
 514: PUSH
 515: LD_INT 4
 517: PUSH
 518: EMPTY
 519: LIST
 520: LIST
 521: PUSH
 522: LD_INT 220
 524: PUSH
 525: LD_INT 155
 527: PUSH
 528: EMPTY
 529: LIST
 530: LIST
 531: PUSH
 532: EMPTY
 533: LIST
 534: LIST
 535: LIST
 536: LIST
 537: ST_TO_ADDR
// siberite_deposits_locations := [ [ 18 , 27 ] , [ 70 , 133 ] , [ 169 , 29 ] , [ 221 , 130 ] , ] ;
 538: LD_ADDR_EXP 87
 542: PUSH
 543: LD_INT 18
 545: PUSH
 546: LD_INT 27
 548: PUSH
 549: EMPTY
 550: LIST
 551: LIST
 552: PUSH
 553: LD_INT 70
 555: PUSH
 556: LD_INT 133
 558: PUSH
 559: EMPTY
 560: LIST
 561: LIST
 562: PUSH
 563: LD_INT 169
 565: PUSH
 566: LD_INT 29
 568: PUSH
 569: EMPTY
 570: LIST
 571: LIST
 572: PUSH
 573: LD_INT 221
 575: PUSH
 576: LD_INT 130
 578: PUSH
 579: EMPTY
 580: LIST
 581: LIST
 582: PUSH
 583: EMPTY
 584: LIST
 585: LIST
 586: LIST
 587: LIST
 588: ST_TO_ADDR
// extra_oil_deposits_locations := [ [ 53 , 26 ] , [ 187 , 139 ] , [ 129 , 20 ] , [ 106 , 135 ] ] ;
 589: LD_ADDR_EXP 84
 593: PUSH
 594: LD_INT 53
 596: PUSH
 597: LD_INT 26
 599: PUSH
 600: EMPTY
 601: LIST
 602: LIST
 603: PUSH
 604: LD_INT 187
 606: PUSH
 607: LD_INT 139
 609: PUSH
 610: EMPTY
 611: LIST
 612: LIST
 613: PUSH
 614: LD_INT 129
 616: PUSH
 617: LD_INT 20
 619: PUSH
 620: EMPTY
 621: LIST
 622: LIST
 623: PUSH
 624: LD_INT 106
 626: PUSH
 627: LD_INT 135
 629: PUSH
 630: EMPTY
 631: LIST
 632: LIST
 633: PUSH
 634: EMPTY
 635: LIST
 636: LIST
 637: LIST
 638: LIST
 639: ST_TO_ADDR
// extra_sib_deposits_locations := [ [ 51 , 53 ] , [ 183 , 107 ] , [ 155 , 53 ] , [ 80 , 106 ] ] ;
 640: LD_ADDR_EXP 86
 644: PUSH
 645: LD_INT 51
 647: PUSH
 648: LD_INT 53
 650: PUSH
 651: EMPTY
 652: LIST
 653: LIST
 654: PUSH
 655: LD_INT 183
 657: PUSH
 658: LD_INT 107
 660: PUSH
 661: EMPTY
 662: LIST
 663: LIST
 664: PUSH
 665: LD_INT 155
 667: PUSH
 668: LD_INT 53
 670: PUSH
 671: EMPTY
 672: LIST
 673: LIST
 674: PUSH
 675: LD_INT 80
 677: PUSH
 678: LD_INT 106
 680: PUSH
 681: EMPTY
 682: LIST
 683: LIST
 684: PUSH
 685: EMPTY
 686: LIST
 687: LIST
 688: LIST
 689: LIST
 690: ST_TO_ADDR
// for_show_near_resources = [ [ [ oil_deposits_locations [ 1 ] ] , [ siberite_deposits_locations [ 1 ] ] ] , [ [ oil_deposits_locations [ 2 ] ] , [ siberite_deposits_locations [ 2 ] ] ] , [ [ oil_deposits_locations [ 3 ] ] , [ siberite_deposits_locations [ 3 ] ] ] , [ [ oil_deposits_locations [ 4 ] ] , [ siberite_deposits_locations [ 4 ] ] ] , ] ;
 691: LD_ADDR_EXP 63
 695: PUSH
 696: LD_EXP 85
 700: PUSH
 701: LD_INT 1
 703: ARRAY
 704: PUSH
 705: EMPTY
 706: LIST
 707: PUSH
 708: LD_EXP 87
 712: PUSH
 713: LD_INT 1
 715: ARRAY
 716: PUSH
 717: EMPTY
 718: LIST
 719: PUSH
 720: EMPTY
 721: LIST
 722: LIST
 723: PUSH
 724: LD_EXP 85
 728: PUSH
 729: LD_INT 2
 731: ARRAY
 732: PUSH
 733: EMPTY
 734: LIST
 735: PUSH
 736: LD_EXP 87
 740: PUSH
 741: LD_INT 2
 743: ARRAY
 744: PUSH
 745: EMPTY
 746: LIST
 747: PUSH
 748: EMPTY
 749: LIST
 750: LIST
 751: PUSH
 752: LD_EXP 85
 756: PUSH
 757: LD_INT 3
 759: ARRAY
 760: PUSH
 761: EMPTY
 762: LIST
 763: PUSH
 764: LD_EXP 87
 768: PUSH
 769: LD_INT 3
 771: ARRAY
 772: PUSH
 773: EMPTY
 774: LIST
 775: PUSH
 776: EMPTY
 777: LIST
 778: LIST
 779: PUSH
 780: LD_EXP 85
 784: PUSH
 785: LD_INT 4
 787: ARRAY
 788: PUSH
 789: EMPTY
 790: LIST
 791: PUSH
 792: LD_EXP 87
 796: PUSH
 797: LD_INT 4
 799: ARRAY
 800: PUSH
 801: EMPTY
 802: LIST
 803: PUSH
 804: EMPTY
 805: LIST
 806: LIST
 807: PUSH
 808: EMPTY
 809: LIST
 810: LIST
 811: LIST
 812: LIST
 813: ST_TO_ADDR
// case def_base_level of 0 :
 814: LD_EXP 10
 818: PUSH
 819: LD_INT 0
 821: DOUBLE
 822: EQUAL
 823: IFTRUE 827
 825: GO 861
 827: POP
// begin buildings_def = [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
 828: LD_ADDR_EXP 39
 832: PUSH
 833: EMPTY
 834: PUSH
 835: EMPTY
 836: PUSH
 837: EMPTY
 838: PUSH
 839: EMPTY
 840: PUSH
 841: EMPTY
 842: PUSH
 843: EMPTY
 844: PUSH
 845: EMPTY
 846: PUSH
 847: EMPTY
 848: PUSH
 849: EMPTY
 850: LIST
 851: LIST
 852: LIST
 853: LIST
 854: LIST
 855: LIST
 856: LIST
 857: LIST
 858: ST_TO_ADDR
// end ; 1 :
 859: GO 1242
 861: LD_INT 1
 863: DOUBLE
 864: EQUAL
 865: IFTRUE 869
 867: GO 903
 869: POP
// begin buildings_def = [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
 870: LD_ADDR_EXP 39
 874: PUSH
 875: EMPTY
 876: PUSH
 877: EMPTY
 878: PUSH
 879: EMPTY
 880: PUSH
 881: EMPTY
 882: PUSH
 883: EMPTY
 884: PUSH
 885: EMPTY
 886: PUSH
 887: EMPTY
 888: PUSH
 889: EMPTY
 890: PUSH
 891: EMPTY
 892: LIST
 893: LIST
 894: LIST
 895: LIST
 896: LIST
 897: LIST
 898: LIST
 899: LIST
 900: ST_TO_ADDR
// end ; 2 :
 901: GO 1242
 903: LD_INT 2
 905: DOUBLE
 906: EQUAL
 907: IFTRUE 911
 909: GO 1241
 911: POP
// begin buildings_def = [ [ [ b_oil_mine , oil_deposits_locations [ 1 ] [ 1 ] , oil_deposits_locations [ 1 ] [ 2 ] , 4 ] , [ b_breastwork , 31 , 34 , 5 ] , [ b_breastwork , 40 , 16 , 4 ] ] , [ [ b_oil_mine , oil_deposits_locations [ 2 ] [ 1 ] , oil_deposits_locations [ 2 ] [ 2 ] , 0 ] , [ b_breastwork , 77 , 125 , 3 ] , [ b_breastwork , 77 , 126 , 4 ] ] , [ [ b_oil_mine , oil_deposits_locations [ 3 ] [ 1 ] , oil_deposits_locations [ 3 ] [ 2 ] , 4 ] , [ b_breastwork , 133 , 16 , 1 ] , [ b_breastwork , 161 , 34 , 0 ] ] , [ [ b_oil_mine , oil_deposits_locations [ 4 ] [ 1 ] , oil_deposits_locations [ 4 ] [ 2 ] , 0 ] , [ b_breastwork , 200 , 144 , 2 ] , [ b_breastwork , 210 , 126 , 2 ] ] ] ;
 912: LD_ADDR_EXP 39
 916: PUSH
 917: LD_INT 29
 919: PUSH
 920: LD_EXP 85
 924: PUSH
 925: LD_INT 1
 927: ARRAY
 928: PUSH
 929: LD_INT 1
 931: ARRAY
 932: PUSH
 933: LD_EXP 85
 937: PUSH
 938: LD_INT 1
 940: ARRAY
 941: PUSH
 942: LD_INT 2
 944: ARRAY
 945: PUSH
 946: LD_INT 4
 948: PUSH
 949: EMPTY
 950: LIST
 951: LIST
 952: LIST
 953: LIST
 954: PUSH
 955: LD_INT 31
 957: PUSH
 958: LD_INT 31
 960: PUSH
 961: LD_INT 34
 963: PUSH
 964: LD_INT 5
 966: PUSH
 967: EMPTY
 968: LIST
 969: LIST
 970: LIST
 971: LIST
 972: PUSH
 973: LD_INT 31
 975: PUSH
 976: LD_INT 40
 978: PUSH
 979: LD_INT 16
 981: PUSH
 982: LD_INT 4
 984: PUSH
 985: EMPTY
 986: LIST
 987: LIST
 988: LIST
 989: LIST
 990: PUSH
 991: EMPTY
 992: LIST
 993: LIST
 994: LIST
 995: PUSH
 996: LD_INT 29
 998: PUSH
 999: LD_EXP 85
1003: PUSH
1004: LD_INT 2
1006: ARRAY
1007: PUSH
1008: LD_INT 1
1010: ARRAY
1011: PUSH
1012: LD_EXP 85
1016: PUSH
1017: LD_INT 2
1019: ARRAY
1020: PUSH
1021: LD_INT 2
1023: ARRAY
1024: PUSH
1025: LD_INT 0
1027: PUSH
1028: EMPTY
1029: LIST
1030: LIST
1031: LIST
1032: LIST
1033: PUSH
1034: LD_INT 31
1036: PUSH
1037: LD_INT 77
1039: PUSH
1040: LD_INT 125
1042: PUSH
1043: LD_INT 3
1045: PUSH
1046: EMPTY
1047: LIST
1048: LIST
1049: LIST
1050: LIST
1051: PUSH
1052: LD_INT 31
1054: PUSH
1055: LD_INT 77
1057: PUSH
1058: LD_INT 126
1060: PUSH
1061: LD_INT 4
1063: PUSH
1064: EMPTY
1065: LIST
1066: LIST
1067: LIST
1068: LIST
1069: PUSH
1070: EMPTY
1071: LIST
1072: LIST
1073: LIST
1074: PUSH
1075: LD_INT 29
1077: PUSH
1078: LD_EXP 85
1082: PUSH
1083: LD_INT 3
1085: ARRAY
1086: PUSH
1087: LD_INT 1
1089: ARRAY
1090: PUSH
1091: LD_EXP 85
1095: PUSH
1096: LD_INT 3
1098: ARRAY
1099: PUSH
1100: LD_INT 2
1102: ARRAY
1103: PUSH
1104: LD_INT 4
1106: PUSH
1107: EMPTY
1108: LIST
1109: LIST
1110: LIST
1111: LIST
1112: PUSH
1113: LD_INT 31
1115: PUSH
1116: LD_INT 133
1118: PUSH
1119: LD_INT 16
1121: PUSH
1122: LD_INT 1
1124: PUSH
1125: EMPTY
1126: LIST
1127: LIST
1128: LIST
1129: LIST
1130: PUSH
1131: LD_INT 31
1133: PUSH
1134: LD_INT 161
1136: PUSH
1137: LD_INT 34
1139: PUSH
1140: LD_INT 0
1142: PUSH
1143: EMPTY
1144: LIST
1145: LIST
1146: LIST
1147: LIST
1148: PUSH
1149: EMPTY
1150: LIST
1151: LIST
1152: LIST
1153: PUSH
1154: LD_INT 29
1156: PUSH
1157: LD_EXP 85
1161: PUSH
1162: LD_INT 4
1164: ARRAY
1165: PUSH
1166: LD_INT 1
1168: ARRAY
1169: PUSH
1170: LD_EXP 85
1174: PUSH
1175: LD_INT 4
1177: ARRAY
1178: PUSH
1179: LD_INT 2
1181: ARRAY
1182: PUSH
1183: LD_INT 0
1185: PUSH
1186: EMPTY
1187: LIST
1188: LIST
1189: LIST
1190: LIST
1191: PUSH
1192: LD_INT 31
1194: PUSH
1195: LD_INT 200
1197: PUSH
1198: LD_INT 144
1200: PUSH
1201: LD_INT 2
1203: PUSH
1204: EMPTY
1205: LIST
1206: LIST
1207: LIST
1208: LIST
1209: PUSH
1210: LD_INT 31
1212: PUSH
1213: LD_INT 210
1215: PUSH
1216: LD_INT 126
1218: PUSH
1219: LD_INT 2
1221: PUSH
1222: EMPTY
1223: LIST
1224: LIST
1225: LIST
1226: LIST
1227: PUSH
1228: EMPTY
1229: LIST
1230: LIST
1231: LIST
1232: PUSH
1233: EMPTY
1234: LIST
1235: LIST
1236: LIST
1237: LIST
1238: ST_TO_ADDR
// end ; end ;
1239: GO 1242
1241: POP
// Cela_mapa = celamapa ;
1242: LD_ADDR_EXP 90
1246: PUSH
1247: LD_INT 32
1249: ST_TO_ADDR
// king_territory = stred ;
1250: LD_ADDR_EXP 91
1254: PUSH
1255: LD_INT 30
1257: ST_TO_ADDR
// oblasti_beden := [ ctverec1 , ctverec2 , ctverec3 , ctverec4 ] ;
1258: LD_ADDR_EXP 97
1262: PUSH
1263: LD_INT 12
1265: PUSH
1266: LD_INT 13
1268: PUSH
1269: LD_INT 15
1271: PUSH
1272: LD_INT 14
1274: PUSH
1275: EMPTY
1276: LIST
1277: LIST
1278: LIST
1279: LIST
1280: ST_TO_ADDR
// dalsi_oblasti_beden := [ map_center ] ;
1281: LD_ADDR_EXP 99
1285: PUSH
1286: LD_INT 16
1288: PUSH
1289: EMPTY
1290: LIST
1291: ST_TO_ADDR
// koof_bedny = 1.5 ;
1292: LD_ADDR_EXP 100
1296: PUSH
1297: LD_REAL  1.50000000000000E+0000
1300: ST_TO_ADDR
// DailyPhase = [ [ colors1.txt , colors2.txt , colors3.txt , colors4.txt , colors5.txt , colors6.txt ] , [ colors21.txt , colors22.txt , colors23.txt , colors24.txt , colors25.txt , colors26.txt ] , [ colors31.txt , colors32.txt , colors33.txt , colors34.txt , colors35.txt , colors36.txt ] ] [ rand ( 1 , 3 ) ] ;
1301: LD_ADDR_EXP 61
1305: PUSH
1306: LD_STRING colors1.txt
1308: PUSH
1309: LD_STRING colors2.txt
1311: PUSH
1312: LD_STRING colors3.txt
1314: PUSH
1315: LD_STRING colors4.txt
1317: PUSH
1318: LD_STRING colors5.txt
1320: PUSH
1321: LD_STRING colors6.txt
1323: PUSH
1324: EMPTY
1325: LIST
1326: LIST
1327: LIST
1328: LIST
1329: LIST
1330: LIST
1331: PUSH
1332: LD_STRING colors21.txt
1334: PUSH
1335: LD_STRING colors22.txt
1337: PUSH
1338: LD_STRING colors23.txt
1340: PUSH
1341: LD_STRING colors24.txt
1343: PUSH
1344: LD_STRING colors25.txt
1346: PUSH
1347: LD_STRING colors26.txt
1349: PUSH
1350: EMPTY
1351: LIST
1352: LIST
1353: LIST
1354: LIST
1355: LIST
1356: LIST
1357: PUSH
1358: LD_STRING colors31.txt
1360: PUSH
1361: LD_STRING colors32.txt
1363: PUSH
1364: LD_STRING colors33.txt
1366: PUSH
1367: LD_STRING colors34.txt
1369: PUSH
1370: LD_STRING colors35.txt
1372: PUSH
1373: LD_STRING colors36.txt
1375: PUSH
1376: EMPTY
1377: LIST
1378: LIST
1379: LIST
1380: LIST
1381: LIST
1382: LIST
1383: PUSH
1384: EMPTY
1385: LIST
1386: LIST
1387: LIST
1388: PUSH
1389: LD_INT 1
1391: PPUSH
1392: LD_INT 3
1394: PPUSH
1395: CALL_OW 12
1399: ARRAY
1400: ST_TO_ADDR
// WFT_Points_MP = 2 ;
1401: LD_ADDR_EXP 121
1405: PUSH
1406: LD_INT 2
1408: ST_TO_ADDR
// FLAGY_AREA = [ f1 , f2 , f3 , f4 , f5 , f6 , f7 , f8 , f9 ] ;
1409: LD_ADDR_EXP 118
1413: PUSH
1414: LD_INT 39
1416: PUSH
1417: LD_INT 40
1419: PUSH
1420: LD_INT 41
1422: PUSH
1423: LD_INT 42
1425: PUSH
1426: LD_INT 43
1428: PUSH
1429: LD_INT 48
1431: PUSH
1432: LD_INT 49
1434: PUSH
1435: LD_INT 50
1437: PUSH
1438: LD_INT 51
1440: PUSH
1441: EMPTY
1442: LIST
1443: LIST
1444: LIST
1445: LIST
1446: LIST
1447: LIST
1448: LIST
1449: LIST
1450: LIST
1451: ST_TO_ADDR
// FLAGY_XY = [ [ 118 , 73 ] , [ 147 , 55 ] , [ 78 , 30 ] , [ 86 , 99 ] , [ 157 , 124 ] , [ 106 , 19 ] , [ 172 , 98 ] , [ 133 , 140 ] , [ 70 , 61 ] , ] ;
1452: LD_ADDR_EXP 119
1456: PUSH
1457: LD_INT 118
1459: PUSH
1460: LD_INT 73
1462: PUSH
1463: EMPTY
1464: LIST
1465: LIST
1466: PUSH
1467: LD_INT 147
1469: PUSH
1470: LD_INT 55
1472: PUSH
1473: EMPTY
1474: LIST
1475: LIST
1476: PUSH
1477: LD_INT 78
1479: PUSH
1480: LD_INT 30
1482: PUSH
1483: EMPTY
1484: LIST
1485: LIST
1486: PUSH
1487: LD_INT 86
1489: PUSH
1490: LD_INT 99
1492: PUSH
1493: EMPTY
1494: LIST
1495: LIST
1496: PUSH
1497: LD_INT 157
1499: PUSH
1500: LD_INT 124
1502: PUSH
1503: EMPTY
1504: LIST
1505: LIST
1506: PUSH
1507: LD_INT 106
1509: PUSH
1510: LD_INT 19
1512: PUSH
1513: EMPTY
1514: LIST
1515: LIST
1516: PUSH
1517: LD_INT 172
1519: PUSH
1520: LD_INT 98
1522: PUSH
1523: EMPTY
1524: LIST
1525: LIST
1526: PUSH
1527: LD_INT 133
1529: PUSH
1530: LD_INT 140
1532: PUSH
1533: EMPTY
1534: LIST
1535: LIST
1536: PUSH
1537: LD_INT 70
1539: PUSH
1540: LD_INT 61
1542: PUSH
1543: EMPTY
1544: LIST
1545: LIST
1546: PUSH
1547: EMPTY
1548: LIST
1549: LIST
1550: LIST
1551: LIST
1552: LIST
1553: LIST
1554: LIST
1555: LIST
1556: LIST
1557: ST_TO_ADDR
// FLAGY_AREA1 = [ ff1 , ff2 , ff3 , ff4 , ff5 , ff6 , ff7 , ff8 , ff9 ] ;
1558: LD_ADDR_EXP 120
1562: PUSH
1563: LD_INT 34
1565: PUSH
1566: LD_INT 35
1568: PUSH
1569: LD_INT 36
1571: PUSH
1572: LD_INT 37
1574: PUSH
1575: LD_INT 38
1577: PUSH
1578: LD_INT 44
1580: PUSH
1581: LD_INT 45
1583: PUSH
1584: LD_INT 46
1586: PUSH
1587: LD_INT 47
1589: PUSH
1590: EMPTY
1591: LIST
1592: LIST
1593: LIST
1594: LIST
1595: LIST
1596: LIST
1597: LIST
1598: LIST
1599: LIST
1600: ST_TO_ADDR
// MaxFlags = 9 ;
1601: LD_ADDR_EXP 113
1605: PUSH
1606: LD_INT 9
1608: ST_TO_ADDR
// WarForTerritory_flags = [ 0 , 5 , 7 , 9 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
1609: LD_ADDR_EXP 65
1613: PUSH
1614: LD_INT 0
1616: PUSH
1617: LD_INT 5
1619: PUSH
1620: LD_INT 7
1622: PUSH
1623: LD_INT 9
1625: PUSH
1626: LD_INT 0
1628: PUSH
1629: LD_INT 0
1631: PUSH
1632: LD_INT 0
1634: PUSH
1635: LD_INT 0
1637: PUSH
1638: LD_INT 0
1640: PUSH
1641: LD_INT 0
1643: PUSH
1644: LD_INT 0
1646: PUSH
1647: EMPTY
1648: LIST
1649: LIST
1650: LIST
1651: LIST
1652: LIST
1653: LIST
1654: LIST
1655: LIST
1656: LIST
1657: LIST
1658: LIST
1659: ST_TO_ADDR
// WarForTerritory_Points = [ 0 , 0 , 0 , 0 , 300 , 500 , 700 , 1000 , 1500 , 2000 , 3000 ] ;
1660: LD_ADDR_EXP 64
1664: PUSH
1665: LD_INT 0
1667: PUSH
1668: LD_INT 0
1670: PUSH
1671: LD_INT 0
1673: PUSH
1674: LD_INT 0
1676: PUSH
1677: LD_INT 300
1679: PUSH
1680: LD_INT 500
1682: PUSH
1683: LD_INT 700
1685: PUSH
1686: LD_INT 1000
1688: PUSH
1689: LD_INT 1500
1691: PUSH
1692: LD_INT 2000
1694: PUSH
1695: LD_INT 3000
1697: PUSH
1698: EMPTY
1699: LIST
1700: LIST
1701: LIST
1702: LIST
1703: LIST
1704: LIST
1705: LIST
1706: LIST
1707: LIST
1708: LIST
1709: LIST
1710: ST_TO_ADDR
// end ;
1711: LD_VAR 0 1
1715: RET
// export function SimMPDefinition ; begin
1716: LD_INT 0
1718: PPUSH
// Game_Type = 1 ;
1719: LD_ADDR_EXP 1
1723: PUSH
1724: LD_INT 1
1726: ST_TO_ADDR
// Player_Side = 3 ;
1727: LD_ADDR_EXP 69
1731: PUSH
1732: LD_INT 3
1734: ST_TO_ADDR
// Player_Team = 2 ;
1735: LD_ADDR_EXP 70
1739: PUSH
1740: LD_INT 2
1742: ST_TO_ADDR
// Side_Positions = [ 1 , 2 , 3 , 4 , 0 , 0 , 0 , 0 ] ;
1743: LD_ADDR_EXP 74
1747: PUSH
1748: LD_INT 1
1750: PUSH
1751: LD_INT 2
1753: PUSH
1754: LD_INT 3
1756: PUSH
1757: LD_INT 4
1759: PUSH
1760: LD_INT 0
1762: PUSH
1763: LD_INT 0
1765: PUSH
1766: LD_INT 0
1768: PUSH
1769: LD_INT 0
1771: PUSH
1772: EMPTY
1773: LIST
1774: LIST
1775: LIST
1776: LIST
1777: LIST
1778: LIST
1779: LIST
1780: LIST
1781: ST_TO_ADDR
// Side_Teams = [ 1 , 1 , 2 , 2 , 0 , 0 , 0 , 0 ] ;
1782: LD_ADDR_EXP 71
1786: PUSH
1787: LD_INT 1
1789: PUSH
1790: LD_INT 1
1792: PUSH
1793: LD_INT 2
1795: PUSH
1796: LD_INT 2
1798: PUSH
1799: LD_INT 0
1801: PUSH
1802: LD_INT 0
1804: PUSH
1805: LD_INT 0
1807: PUSH
1808: LD_INT 0
1810: PUSH
1811: EMPTY
1812: LIST
1813: LIST
1814: LIST
1815: LIST
1816: LIST
1817: LIST
1818: LIST
1819: LIST
1820: ST_TO_ADDR
// Side_Nations = [ 1 , 2 , 2 , 1 , 0 , 0 , 0 , 0 ] ;
1821: LD_ADDR_EXP 75
1825: PUSH
1826: LD_INT 1
1828: PUSH
1829: LD_INT 2
1831: PUSH
1832: LD_INT 2
1834: PUSH
1835: LD_INT 1
1837: PUSH
1838: LD_INT 0
1840: PUSH
1841: LD_INT 0
1843: PUSH
1844: LD_INT 0
1846: PUSH
1847: LD_INT 0
1849: PUSH
1850: EMPTY
1851: LIST
1852: LIST
1853: LIST
1854: LIST
1855: LIST
1856: LIST
1857: LIST
1858: LIST
1859: ST_TO_ADDR
// Side_Comps = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
1860: LD_ADDR_EXP 77
1864: PUSH
1865: LD_INT 0
1867: PUSH
1868: LD_INT 0
1870: PUSH
1871: LD_INT 0
1873: PUSH
1874: LD_INT 0
1876: PUSH
1877: LD_INT 0
1879: PUSH
1880: LD_INT 0
1882: PUSH
1883: LD_INT 0
1885: PUSH
1886: LD_INT 0
1888: PUSH
1889: EMPTY
1890: LIST
1891: LIST
1892: LIST
1893: LIST
1894: LIST
1895: LIST
1896: LIST
1897: LIST
1898: ST_TO_ADDR
// Teams = [ [ 1 , 2 ] , [ 3 , 4 ] , [ 0 ] ] diff [ 0 ] ;
1899: LD_ADDR_EXP 72
1903: PUSH
1904: LD_INT 1
1906: PUSH
1907: LD_INT 2
1909: PUSH
1910: EMPTY
1911: LIST
1912: LIST
1913: PUSH
1914: LD_INT 3
1916: PUSH
1917: LD_INT 4
1919: PUSH
1920: EMPTY
1921: LIST
1922: LIST
1923: PUSH
1924: LD_INT 0
1926: PUSH
1927: EMPTY
1928: LIST
1929: PUSH
1930: EMPTY
1931: LIST
1932: LIST
1933: LIST
1934: PUSH
1935: LD_INT 0
1937: PUSH
1938: EMPTY
1939: LIST
1940: DIFF
1941: ST_TO_ADDR
// end ;
1942: LD_VAR 0 1
1946: RET
// export function SimMPOptions ; begin
1947: LD_INT 0
1949: PPUSH
// def_game_rules = 0 ;
1950: LD_ADDR_EXP 9
1954: PUSH
1955: LD_INT 0
1957: ST_TO_ADDR
// def_base_level = 2 ;
1958: LD_ADDR_EXP 10
1962: PUSH
1963: LD_INT 2
1965: ST_TO_ADDR
// def_amount_of_people = 5 ;
1966: LD_ADDR_EXP 11
1970: PUSH
1971: LD_INT 5
1973: ST_TO_ADDR
// def_amount_of_apemen_in_team = 2 ;
1974: LD_ADDR_EXP 12
1978: PUSH
1979: LD_INT 2
1981: ST_TO_ADDR
// def_initial_level = 1 ;
1982: LD_ADDR_EXP 13
1986: PUSH
1987: LD_INT 1
1989: ST_TO_ADDR
// def_classes = 0 ;
1990: LD_ADDR_EXP 14
1994: PUSH
1995: LD_INT 0
1997: ST_TO_ADDR
// def_starting_resources = 2 ;
1998: LD_ADDR_EXP 15
2002: PUSH
2003: LD_INT 2
2005: ST_TO_ADDR
// def_shipments_density = 2 ;
2006: LD_ADDR_EXP 16
2010: PUSH
2011: LD_INT 2
2013: ST_TO_ADDR
// def_extra_oil_deposits = 1 ;
2014: LD_ADDR_EXP 17
2018: PUSH
2019: LD_INT 1
2021: ST_TO_ADDR
// def_extra_sib_deposits = 1 ;
2022: LD_ADDR_EXP 18
2026: PUSH
2027: LD_INT 1
2029: ST_TO_ADDR
// def_shared_vision = 1 ;
2030: LD_ADDR_EXP 19
2034: PUSH
2035: LD_INT 1
2037: ST_TO_ADDR
// def_morale_flags = 1 ;
2038: LD_ADDR_EXP 20
2042: PUSH
2043: LD_INT 1
2045: ST_TO_ADDR
// def_win_rules = 2 ;
2046: LD_ADDR_EXP 21
2050: PUSH
2051: LD_INT 2
2053: ST_TO_ADDR
// def_amount_of_apemen = 1 ;
2054: LD_ADDR_EXP 22
2058: PUSH
2059: LD_INT 1
2061: ST_TO_ADDR
// def_amount_of_tiger = 1 ;
2062: LD_ADDR_EXP 23
2066: PUSH
2067: LD_INT 1
2069: ST_TO_ADDR
// def_respawining_type = 1 ;
2070: LD_ADDR_EXP 24
2074: PUSH
2075: LD_INT 1
2077: ST_TO_ADDR
// def_people_respawning = 1 ;
2078: LD_ADDR_EXP 25
2082: PUSH
2083: LD_INT 1
2085: ST_TO_ADDR
// def_tech_level = 8 ;
2086: LD_ADDR_EXP 26
2090: PUSH
2091: LD_INT 8
2093: ST_TO_ADDR
// def_upgrade_tl = 1 ;
2094: LD_ADDR_EXP 27
2098: PUSH
2099: LD_INT 1
2101: ST_TO_ADDR
// def_siberite_detection = 1 ;
2102: LD_ADDR_EXP 28
2106: PUSH
2107: LD_INT 1
2109: ST_TO_ADDR
// def_siberite_bomb = 3 ;
2110: LD_ADDR_EXP 29
2114: PUSH
2115: LD_INT 3
2117: ST_TO_ADDR
// def_builduptime = 1 ;
2118: LD_ADDR_EXP 30
2122: PUSH
2123: LD_INT 1
2125: ST_TO_ADDR
// def_desert_warior = 2 ;
2126: LD_ADDR_EXP 31
2130: PUSH
2131: LD_INT 2
2133: ST_TO_ADDR
// def_daily_start = 2 ;
2134: LD_ADDR_EXP 32
2138: PUSH
2139: LD_INT 2
2141: ST_TO_ADDR
// def_daily_speed = 3 ;
2142: LD_ADDR_EXP 33
2146: PUSH
2147: LD_INT 3
2149: ST_TO_ADDR
// def_public_score = 1 ;
2150: LD_ADDR_EXP 34
2154: PUSH
2155: LD_INT 1
2157: ST_TO_ADDR
// def_kings_age = 1 ;
2158: LD_ADDR_EXP 35
2162: PUSH
2163: LD_INT 1
2165: ST_TO_ADDR
// def_warForTerritory = 5 ;
2166: LD_ADDR_EXP 36
2170: PUSH
2171: LD_INT 5
2173: ST_TO_ADDR
// end ;
2174: LD_VAR 0 1
2178: RET
// export function Hustota_Zasilek ; var i ; begin
2179: LD_INT 0
2181: PPUSH
2182: PPUSH
// if def_game_rules then
2183: LD_EXP 9
2187: IFFALSE 2197
// tech_level = 8 ;
2189: LD_ADDR_EXP 56
2193: PUSH
2194: LD_INT 8
2196: ST_TO_ADDR
// case def_shipments_density of 0 :
2197: LD_EXP 16
2201: PUSH
2202: LD_INT 0
2204: DOUBLE
2205: EQUAL
2206: IFTRUE 2210
2208: GO 2221
2210: POP
// shipments_density := 40 ; 1 :
2211: LD_ADDR_EXP 45
2215: PUSH
2216: LD_INT 40
2218: ST_TO_ADDR
2219: GO 2260
2221: LD_INT 1
2223: DOUBLE
2224: EQUAL
2225: IFTRUE 2229
2227: GO 2240
2229: POP
// shipments_density := 60 ; 2 :
2230: LD_ADDR_EXP 45
2234: PUSH
2235: LD_INT 60
2237: ST_TO_ADDR
2238: GO 2260
2240: LD_INT 2
2242: DOUBLE
2243: EQUAL
2244: IFTRUE 2248
2246: GO 2259
2248: POP
// shipments_density := 90 ; end ;
2249: LD_ADDR_EXP 45
2253: PUSH
2254: LD_INT 90
2256: ST_TO_ADDR
2257: GO 2260
2259: POP
// if tech_level < 7 then
2260: LD_EXP 56
2264: PUSH
2265: LD_INT 7
2267: LESS
2268: IFFALSE 2287
// shipments_density := shipments_density * 0.85 else
2270: LD_ADDR_EXP 45
2274: PUSH
2275: LD_EXP 45
2279: PUSH
2280: LD_REAL  8.50000000000000E-0001
2283: MUL
2284: ST_TO_ADDR
2285: GO 2339
// if tech_level < 5 then
2287: LD_EXP 56
2291: PUSH
2292: LD_INT 5
2294: LESS
2295: IFFALSE 2314
// shipments_density := shipments_density * 0.7 else
2297: LD_ADDR_EXP 45
2301: PUSH
2302: LD_EXP 45
2306: PUSH
2307: LD_REAL  7.00000000000000E-0001
2310: MUL
2311: ST_TO_ADDR
2312: GO 2339
// if tech_level < 3 then
2314: LD_EXP 56
2318: PUSH
2319: LD_INT 3
2321: LESS
2322: IFFALSE 2339
// shipments_density := shipments_density * 0.6 ;
2324: LD_ADDR_EXP 45
2328: PUSH
2329: LD_EXP 45
2333: PUSH
2334: LD_REAL  6.00000000000000E-0001
2337: MUL
2338: ST_TO_ADDR
// end ; end_of_file
2339: LD_VAR 0 1
2343: RET
// on VehicleConstructionStarted ( factory , chassis , engine , control , weapon ) do RestrictVehicleConstructionStarted ( factory , chassis , engine , control , weapon ) ;
2344: LD_VAR 0 1
2348: PPUSH
2349: LD_VAR 0 2
2353: PPUSH
2354: LD_VAR 0 3
2358: PPUSH
2359: LD_VAR 0 4
2363: PPUSH
2364: LD_VAR 0 5
2368: PPUSH
2369: CALL 29836 0 5
2373: PPOPN 5
2375: END
// on WeaponPlaced ( building , weapon ) do RestrictWeaponPlaced ( building , weapon ) ;
2376: LD_VAR 0 1
2380: PPUSH
2381: LD_VAR 0 2
2385: PPUSH
2386: CALL 29901 0 2
2390: PPOPN 2
2392: END
// on BuildingStarted ( b , h ) do begin if def_game_rules then
2393: LD_EXP 9
2397: IFFALSE 2434
// begin ExecuteLimits ( b , GetBType ( b ) , GetSide ( b ) , 0 , 1 ) ;
2399: LD_VAR 0 1
2403: PPUSH
2404: LD_VAR 0 1
2408: PPUSH
2409: CALL_OW 266
2413: PPUSH
2414: LD_VAR 0 1
2418: PPUSH
2419: CALL_OW 255
2423: PPUSH
2424: LD_INT 0
2426: PPUSH
2427: LD_INT 1
2429: PPUSH
2430: CALL 29384 0 5
// end ; if GetBType ( b ) in [ b_depot , b_warehouse ] then
2434: LD_VAR 0 1
2438: PPUSH
2439: CALL_OW 266
2443: PUSH
2444: LD_INT 0
2446: PUSH
2447: LD_INT 1
2449: PUSH
2450: EMPTY
2451: LIST
2452: LIST
2453: IN
2454: IFFALSE 2470
// NameBuildingStarted ( b , h ) ;
2456: LD_VAR 0 1
2460: PPUSH
2461: LD_VAR 0 2
2465: PPUSH
2466: CALL 16288 0 2
// end ;
2470: PPOPN 2
2472: END
// on BuildingComplete ( b ) do begin if GetBType ( b ) in [ b_depot , b_warehouse ] then
2473: LD_VAR 0 1
2477: PPUSH
2478: CALL_OW 266
2482: PUSH
2483: LD_INT 0
2485: PUSH
2486: LD_INT 1
2488: PUSH
2489: EMPTY
2490: LIST
2491: LIST
2492: IN
2493: IFFALSE 2504
// NameBuildingComplete ( b ) ;
2495: LD_VAR 0 1
2499: PPUSH
2500: CALL 16280 0 1
// end ;
2504: PPOPN 1
2506: END
// on BuildingCaptured ( b , o , e ) do begin if def_game_rules then
2507: LD_EXP 9
2511: IFFALSE 2548
// begin ExecuteLimits ( b , GetBType ( b ) , GetSide ( b ) , 0 , 1 ) ;
2513: LD_VAR 0 1
2517: PPUSH
2518: LD_VAR 0 1
2522: PPUSH
2523: CALL_OW 266
2527: PPUSH
2528: LD_VAR 0 1
2532: PPUSH
2533: CALL_OW 255
2537: PPUSH
2538: LD_INT 0
2540: PPUSH
2541: LD_INT 1
2543: PPUSH
2544: CALL 29384 0 5
// end ; if GetBType ( b ) in [ b_depot , b_warehouse ] then
2548: LD_VAR 0 1
2552: PPUSH
2553: CALL_OW 266
2557: PUSH
2558: LD_INT 0
2560: PUSH
2561: LD_INT 1
2563: PUSH
2564: EMPTY
2565: LIST
2566: LIST
2567: IN
2568: IFFALSE 2589
// NameBuildingCaptured ( b , o , e ) ;
2570: LD_VAR 0 1
2574: PPUSH
2575: LD_VAR 0 2
2579: PPUSH
2580: LD_VAR 0 3
2584: PPUSH
2585: CALL 16367 0 3
// end ;
2589: PPOPN 3
2591: END
// on UnitDestroyed ( j ) do var x , y , pos , dir ;
2592: LD_INT 0
2594: PPUSH
2595: PPUSH
2596: PPUSH
2597: PPUSH
// begin if def_game_rules then
2598: LD_EXP 9
2602: IFFALSE 2613
// CallExecuteLimits ( j ) ;
2604: LD_VAR 0 1
2608: PPUSH
2609: CALL 30143 0 1
// end ;
2613: PPOPN 5
2615: END
// on VehicleCaptured ( j , i1 , o , i2 ) do begin if def_game_rules and ( GetChassis ( j ) = 25 ) then
2616: LD_EXP 9
2620: PUSH
2621: LD_VAR 0 1
2625: PPUSH
2626: CALL_OW 265
2630: PUSH
2631: LD_INT 25
2633: EQUAL
2634: AND
2635: IFFALSE 2667
// ExecuteLimits ( j , b_behemoth , GetSide ( j ) , o , 1 ) ;
2637: LD_VAR 0 1
2641: PPUSH
2642: LD_INT 37
2644: PPUSH
2645: LD_VAR 0 1
2649: PPUSH
2650: CALL_OW 255
2654: PPUSH
2655: LD_VAR 0 3
2659: PPUSH
2660: LD_INT 1
2662: PPUSH
2663: CALL 29384 0 5
// end ;
2667: PPOPN 4
2669: END
// on HumanDestroyed ( identifier , side , nation , x , y , direction , sex , cl ) do if def_respawining_type > 1 then
2670: LD_EXP 24
2674: PUSH
2675: LD_INT 1
2677: GREATER
2678: IFFALSE 2724
// RespawnHumanDestroyed ( identifier , side , nation , x , y , direction , sex , cl ) ;
2680: LD_VAR 0 1
2684: PPUSH
2685: LD_VAR 0 2
2689: PPUSH
2690: LD_VAR 0 3
2694: PPUSH
2695: LD_VAR 0 4
2699: PPUSH
2700: LD_VAR 0 5
2704: PPUSH
2705: LD_VAR 0 6
2709: PPUSH
2710: LD_VAR 0 7
2714: PPUSH
2715: LD_VAR 0 8
2719: PPUSH
2720: CALL 11423 0 8
2724: PPOPN 8
2726: END
// on siberiterocketexploded ( un , x , y ) do SA_OnSiberiteRocketExploded ( un , x , y , Your_Side ) ; end_of_file
2727: LD_VAR 0 1
2731: PPUSH
2732: LD_VAR 0 2
2736: PPUSH
2737: LD_VAR 0 3
2741: PPUSH
2742: LD_OWVAR 2
2746: PPUSH
2747: CALL 34483 0 4
2751: PPOPN 3
2753: END
// export game_type , GT_Mine , GT_doubleNat , GT_doublePeople , GT_tripleNat , GT_Survival , GT_RankedGames , pozice_beden ; export def_game_rules , def_base_level , def_amount_of_people , def_amount_of_apemen_in_team , def_initial_level , def_classes , def_starting_resources , def_shipments_density , def_extra_oil_deposits , def_extra_sib_deposits , def_shared_vision , def_morale_flags , def_win_rules , def_amount_of_apemen , def_amount_of_tiger , def_respawining_type , def_people_respawning , def_tech_level , def_upgrade_tl , def_siberite_detection , def_siberite_bomb , def_builduptime , def_desert_warior , def_daily_start , def_daily_speed , def_public_score , def_kings_age , def_WarForTerritory ; export base_level , number_of_breastworks , buildings_def , number_of_people , number_of_apemen , initial_level , starting_crates , starting_resources , shipments_density , morale_decreasing_time , spawning_koef_of_apemen , spawning_koef_of_tiger , respawning_time_min , heroes , respawning_time_max , Position_Nations , respawning_time_delay_min , respawning_time_delay_max , commander , tech_level , final_count , daily_start , daily_speed , TimePhase , DailyPhase , Position_Sides , for_show_near_resources , WarForTerritory_Points , WarForTerritory_flags , siberite_bomb_Delay ; export Side_Count , Team_Count , Player_Side , Player_Team , Side_Teams , Teams , Side_IsSpec ; export Side_Positions , Side_Nations , Side_Names , Side_Comps , Team_Names , Team_Game ; export depot_def , breastworks_def , start_def , pocet_hracu , extra_oil_deposits_locations , oil_deposits_locations , extra_sib_deposits_locations , siberite_deposits_locations , battle_flags_id , def_max_sides ; export Cela_Mapa , king_territory ; export global_units , global_defined , soldiers_created , global_count , global_classes ; export function read_multiplayer_and_game_parameters ; var side , dep , br1 , br2 , br3 , un , i ; begin
2754: LD_INT 0
2756: PPUSH
2757: PPUSH
2758: PPUSH
2759: PPUSH
2760: PPUSH
2761: PPUSH
2762: PPUSH
2763: PPUSH
// if MultiPlayer then
2764: LD_OWVAR 4
2768: IFFALSE 2852
// begin Game_Type = mp_game_type ;
2770: LD_ADDR_EXP 1
2774: PUSH
2775: LD_OWVAR 6
2779: ST_TO_ADDR
// Player_Side = mp_player_side ;
2780: LD_ADDR_EXP 69
2784: PUSH
2785: LD_OWVAR 7
2789: ST_TO_ADDR
// Player_Team = mp_player_team ;
2790: LD_ADDR_EXP 70
2794: PUSH
2795: LD_OWVAR 8
2799: ST_TO_ADDR
// Side_Positions = mp_sides_positions ;
2800: LD_ADDR_EXP 74
2804: PUSH
2805: LD_OWVAR 17
2809: ST_TO_ADDR
// Side_Teams = mp_sides_teams ;
2810: LD_ADDR_EXP 71
2814: PUSH
2815: LD_OWVAR 15
2819: ST_TO_ADDR
// Side_Nations = mp_sides_nations ;
2820: LD_ADDR_EXP 75
2824: PUSH
2825: LD_OWVAR 16
2829: ST_TO_ADDR
// Side_Comps = mp_sides_comps ;
2830: LD_ADDR_EXP 77
2834: PUSH
2835: CALL 3304 0 0
2839: ST_TO_ADDR
// Teams = mp_teams ;
2840: LD_ADDR_EXP 72
2844: PUSH
2845: LD_OWVAR 12
2849: ST_TO_ADDR
// end else
2850: GO 2856
// begin SimMPDefinition ;
2852: CALL 1716 0 0
// end ; Side_Count = ( Side_Positions diff [ 0 ] ) + 0 ;
2856: LD_ADDR_EXP 67
2860: PUSH
2861: LD_EXP 74
2865: PUSH
2866: LD_INT 0
2868: PUSH
2869: EMPTY
2870: LIST
2871: DIFF
2872: PUSH
2873: LD_INT 0
2875: PLUS
2876: ST_TO_ADDR
// Team_Count = ( Side_Teams diff [ 0 ] ) + 0 ;
2877: LD_ADDR_EXP 68
2881: PUSH
2882: LD_EXP 71
2886: PUSH
2887: LD_INT 0
2889: PUSH
2890: EMPTY
2891: LIST
2892: DIFF
2893: PUSH
2894: LD_INT 0
2896: PLUS
2897: ST_TO_ADDR
// if MultiPlayer then
2898: LD_OWVAR 4
2902: IFFALSE 3265
// begin def_game_rules = GetMultiplayerSetting ( 0 ) ;
2904: LD_ADDR_EXP 9
2908: PUSH
2909: LD_INT 0
2911: PPUSH
2912: CALL_OW 426
2916: ST_TO_ADDR
// def_base_level = GetMultiplayerSetting ( 1 ) ;
2917: LD_ADDR_EXP 10
2921: PUSH
2922: LD_INT 1
2924: PPUSH
2925: CALL_OW 426
2929: ST_TO_ADDR
// def_amount_of_people = GetMultiplayerSetting ( 2 ) ;
2930: LD_ADDR_EXP 11
2934: PUSH
2935: LD_INT 2
2937: PPUSH
2938: CALL_OW 426
2942: ST_TO_ADDR
// def_amount_of_apemen_in_team = GetMultiplayerSetting ( 3 ) ;
2943: LD_ADDR_EXP 12
2947: PUSH
2948: LD_INT 3
2950: PPUSH
2951: CALL_OW 426
2955: ST_TO_ADDR
// def_initial_level = GetMultiplayerSetting ( 4 ) ;
2956: LD_ADDR_EXP 13
2960: PUSH
2961: LD_INT 4
2963: PPUSH
2964: CALL_OW 426
2968: ST_TO_ADDR
// def_classes = GetMultiplayerSetting ( 5 ) ;
2969: LD_ADDR_EXP 14
2973: PUSH
2974: LD_INT 5
2976: PPUSH
2977: CALL_OW 426
2981: ST_TO_ADDR
// def_starting_resources = GetMultiplayerSetting ( 6 ) ;
2982: LD_ADDR_EXP 15
2986: PUSH
2987: LD_INT 6
2989: PPUSH
2990: CALL_OW 426
2994: ST_TO_ADDR
// def_shipments_density = GetMultiplayerSetting ( 7 ) ;
2995: LD_ADDR_EXP 16
2999: PUSH
3000: LD_INT 7
3002: PPUSH
3003: CALL_OW 426
3007: ST_TO_ADDR
// def_extra_oil_deposits = GetMultiplayerSetting ( 8 ) ;
3008: LD_ADDR_EXP 17
3012: PUSH
3013: LD_INT 8
3015: PPUSH
3016: CALL_OW 426
3020: ST_TO_ADDR
// def_extra_sib_deposits = GetMultiplayerSetting ( 9 ) ;
3021: LD_ADDR_EXP 18
3025: PUSH
3026: LD_INT 9
3028: PPUSH
3029: CALL_OW 426
3033: ST_TO_ADDR
// def_morale_flags = GetMultiplayerSetting ( 10 ) ;
3034: LD_ADDR_EXP 20
3038: PUSH
3039: LD_INT 10
3041: PPUSH
3042: CALL_OW 426
3046: ST_TO_ADDR
// def_win_rules = GetMultiplayerSetting ( 11 ) ;
3047: LD_ADDR_EXP 21
3051: PUSH
3052: LD_INT 11
3054: PPUSH
3055: CALL_OW 426
3059: ST_TO_ADDR
// def_amount_of_apemen = GetMultiplayerSetting ( 12 ) ;
3060: LD_ADDR_EXP 22
3064: PUSH
3065: LD_INT 12
3067: PPUSH
3068: CALL_OW 426
3072: ST_TO_ADDR
// def_amount_of_tiger = GetMultiplayerSetting ( 13 ) ;
3073: LD_ADDR_EXP 23
3077: PUSH
3078: LD_INT 13
3080: PPUSH
3081: CALL_OW 426
3085: ST_TO_ADDR
// def_respawining_type = GetMultiplayerSetting ( 14 ) ;
3086: LD_ADDR_EXP 24
3090: PUSH
3091: LD_INT 14
3093: PPUSH
3094: CALL_OW 426
3098: ST_TO_ADDR
// def_people_respawning = GetMultiplayerSetting ( 15 ) ;
3099: LD_ADDR_EXP 25
3103: PUSH
3104: LD_INT 15
3106: PPUSH
3107: CALL_OW 426
3111: ST_TO_ADDR
// def_tech_level = GetMultiplayerSetting ( 16 ) ;
3112: LD_ADDR_EXP 26
3116: PUSH
3117: LD_INT 16
3119: PPUSH
3120: CALL_OW 426
3124: ST_TO_ADDR
// def_upgrade_tl = GetMultiplayerSetting ( 17 ) ;
3125: LD_ADDR_EXP 27
3129: PUSH
3130: LD_INT 17
3132: PPUSH
3133: CALL_OW 426
3137: ST_TO_ADDR
// def_siberite_detection = GetMultiplayerSetting ( 18 ) ;
3138: LD_ADDR_EXP 28
3142: PUSH
3143: LD_INT 18
3145: PPUSH
3146: CALL_OW 426
3150: ST_TO_ADDR
// def_siberite_bomb = GetMultiplayerSetting ( 19 ) ;
3151: LD_ADDR_EXP 29
3155: PUSH
3156: LD_INT 19
3158: PPUSH
3159: CALL_OW 426
3163: ST_TO_ADDR
// def_builduptime = GetMultiplayerSetting ( 20 ) ;
3164: LD_ADDR_EXP 30
3168: PUSH
3169: LD_INT 20
3171: PPUSH
3172: CALL_OW 426
3176: ST_TO_ADDR
// def_desert_warior = GetMultiplayerSetting ( 21 ) ;
3177: LD_ADDR_EXP 31
3181: PUSH
3182: LD_INT 21
3184: PPUSH
3185: CALL_OW 426
3189: ST_TO_ADDR
// def_daily_start = GetMultiplayerSetting ( 22 ) ;
3190: LD_ADDR_EXP 32
3194: PUSH
3195: LD_INT 22
3197: PPUSH
3198: CALL_OW 426
3202: ST_TO_ADDR
// def_daily_speed = GetMultiplayerSetting ( 23 ) ;
3203: LD_ADDR_EXP 33
3207: PUSH
3208: LD_INT 23
3210: PPUSH
3211: CALL_OW 426
3215: ST_TO_ADDR
// def_public_score = GetMultiplayerSetting ( 24 ) ;
3216: LD_ADDR_EXP 34
3220: PUSH
3221: LD_INT 24
3223: PPUSH
3224: CALL_OW 426
3228: ST_TO_ADDR
// def_kings_age = GetMultiplayerSetting ( 25 ) ;
3229: LD_ADDR_EXP 35
3233: PUSH
3234: LD_INT 25
3236: PPUSH
3237: CALL_OW 426
3241: ST_TO_ADDR
// def_warForTerritory = GetMultiplayerSetting ( 26 ) ;
3242: LD_ADDR_EXP 36
3246: PUSH
3247: LD_INT 26
3249: PPUSH
3250: CALL_OW 426
3254: ST_TO_ADDR
// def_shared_vision = true ;
3255: LD_ADDR_EXP 19
3259: PUSH
3260: LD_INT 1
3262: ST_TO_ADDR
// end else
3263: GO 3273
// begin randomizeAll ;
3265: CALL_OW 11
// SimMPOptions ;
3269: CALL 1947 0 0
// end ; if Game_Type in GT_RankedGames then
3273: LD_EXP 1
3277: PUSH
3278: LD_EXP 7
3282: IN
3283: IFFALSE 3299
// def_game_rules = def_game_rules + 1 ;
3285: LD_ADDR_EXP 9
3289: PUSH
3290: LD_EXP 9
3294: PUSH
3295: LD_INT 1
3297: PLUS
3298: ST_TO_ADDR
// end ;
3299: LD_VAR 0 1
3303: RET
// function mp_sides_comps ; var c , i ; begin
3304: LD_INT 0
3306: PPUSH
3307: PPUSH
3308: PPUSH
// c = [ ] ;
3309: LD_ADDR_VAR 0 2
3313: PUSH
3314: EMPTY
3315: ST_TO_ADDR
// for i = 1 to 8 do
3316: LD_ADDR_VAR 0 3
3320: PUSH
3321: DOUBLE
3322: LD_INT 1
3324: DEC
3325: ST_TO_ADDR
3326: LD_INT 8
3328: PUSH
3329: FOR_TO
3330: IFFALSE 3355
// c = c ^ Multiplayer_GetPlayerIsComp ( i ) ;
3332: LD_ADDR_VAR 0 2
3336: PUSH
3337: LD_VAR 0 2
3341: PUSH
3342: LD_VAR 0 3
3346: PPUSH
3347: CALL_OW 532
3351: ADD
3352: ST_TO_ADDR
3353: GO 3329
3355: POP
3356: POP
// result = c ;
3357: LD_ADDR_VAR 0 1
3361: PUSH
3362: LD_VAR 0 2
3366: ST_TO_ADDR
// end ;
3367: LD_VAR 0 1
3371: RET
// export function standartSets ; begin
3372: LD_INT 0
3374: PPUSH
// if Game_Type in GT_Survival then
3375: LD_EXP 1
3379: PUSH
3380: LD_EXP 6
3384: IN
3385: IFFALSE 3528
// begin base_level = [ 1 , 1 , 1 , 2 ] ;
3387: LD_ADDR_EXP 37
3391: PUSH
3392: LD_INT 1
3394: PUSH
3395: LD_INT 1
3397: PUSH
3398: LD_INT 1
3400: PUSH
3401: LD_INT 2
3403: PUSH
3404: EMPTY
3405: LIST
3406: LIST
3407: LIST
3408: LIST
3409: ST_TO_ADDR
// starting_resources := [ [ 1000 , 100 , 100 ] , [ 2000 , 200 , 200 ] , [ 5000 , 500 , 500 ] , [ 10000 , 1000 , 1000 ] , [ 25000 , 2500 , 2500 ] , [ 50000 , 5000 , 5000 ] ] ;
3410: LD_ADDR_EXP 44
3414: PUSH
3415: LD_INT 1000
3417: PUSH
3418: LD_INT 100
3420: PUSH
3421: LD_INT 100
3423: PUSH
3424: EMPTY
3425: LIST
3426: LIST
3427: LIST
3428: PUSH
3429: LD_INT 2000
3431: PUSH
3432: LD_INT 200
3434: PUSH
3435: LD_INT 200
3437: PUSH
3438: EMPTY
3439: LIST
3440: LIST
3441: LIST
3442: PUSH
3443: LD_INT 5000
3445: PUSH
3446: LD_INT 500
3448: PUSH
3449: LD_INT 500
3451: PUSH
3452: EMPTY
3453: LIST
3454: LIST
3455: LIST
3456: PUSH
3457: LD_INT 10000
3459: PUSH
3460: LD_INT 1000
3462: PUSH
3463: LD_INT 1000
3465: PUSH
3466: EMPTY
3467: LIST
3468: LIST
3469: LIST
3470: PUSH
3471: LD_INT 25000
3473: PUSH
3474: LD_INT 2500
3476: PUSH
3477: LD_INT 2500
3479: PUSH
3480: EMPTY
3481: LIST
3482: LIST
3483: LIST
3484: PUSH
3485: LD_INT 50000
3487: PUSH
3488: LD_INT 5000
3490: PUSH
3491: LD_INT 5000
3493: PUSH
3494: EMPTY
3495: LIST
3496: LIST
3497: LIST
3498: PUSH
3499: EMPTY
3500: LIST
3501: LIST
3502: LIST
3503: LIST
3504: LIST
3505: LIST
3506: ST_TO_ADDR
// starting_crates := [ [ ] , [ ] , [ ] , [ ] ] ;
3507: LD_ADDR_EXP 43
3511: PUSH
3512: EMPTY
3513: PUSH
3514: EMPTY
3515: PUSH
3516: EMPTY
3517: PUSH
3518: EMPTY
3519: PUSH
3520: EMPTY
3521: LIST
3522: LIST
3523: LIST
3524: LIST
3525: ST_TO_ADDR
// end else
3526: GO 3681
// begin base_level = [ 0 , 1 , 1 , 1 , 2 ] ;
3528: LD_ADDR_EXP 37
3532: PUSH
3533: LD_INT 0
3535: PUSH
3536: LD_INT 1
3538: PUSH
3539: LD_INT 1
3541: PUSH
3542: LD_INT 1
3544: PUSH
3545: LD_INT 2
3547: PUSH
3548: EMPTY
3549: LIST
3550: LIST
3551: LIST
3552: LIST
3553: LIST
3554: ST_TO_ADDR
// starting_resources := [ [ 0 , 0 , 0 ] , [ 30 , 0 , 0 ] , [ 50 , 20 , 0 ] , [ 80 , 40 , 20 ] ] ;
3555: LD_ADDR_EXP 44
3559: PUSH
3560: LD_INT 0
3562: PUSH
3563: LD_INT 0
3565: PUSH
3566: LD_INT 0
3568: PUSH
3569: EMPTY
3570: LIST
3571: LIST
3572: LIST
3573: PUSH
3574: LD_INT 30
3576: PUSH
3577: LD_INT 0
3579: PUSH
3580: LD_INT 0
3582: PUSH
3583: EMPTY
3584: LIST
3585: LIST
3586: LIST
3587: PUSH
3588: LD_INT 50
3590: PUSH
3591: LD_INT 20
3593: PUSH
3594: LD_INT 0
3596: PUSH
3597: EMPTY
3598: LIST
3599: LIST
3600: LIST
3601: PUSH
3602: LD_INT 80
3604: PUSH
3605: LD_INT 40
3607: PUSH
3608: LD_INT 20
3610: PUSH
3611: EMPTY
3612: LIST
3613: LIST
3614: LIST
3615: PUSH
3616: EMPTY
3617: LIST
3618: LIST
3619: LIST
3620: LIST
3621: ST_TO_ADDR
// starting_crates := [ [ 10 ] , [ 7 , 14 ] , [ 6 , 12 , 18 ] , [ 5 , 10 , 15 , 20 ] ] ;
3622: LD_ADDR_EXP 43
3626: PUSH
3627: LD_INT 10
3629: PUSH
3630: EMPTY
3631: LIST
3632: PUSH
3633: LD_INT 7
3635: PUSH
3636: LD_INT 14
3638: PUSH
3639: EMPTY
3640: LIST
3641: LIST
3642: PUSH
3643: LD_INT 6
3645: PUSH
3646: LD_INT 12
3648: PUSH
3649: LD_INT 18
3651: PUSH
3652: EMPTY
3653: LIST
3654: LIST
3655: LIST
3656: PUSH
3657: LD_INT 5
3659: PUSH
3660: LD_INT 10
3662: PUSH
3663: LD_INT 15
3665: PUSH
3666: LD_INT 20
3668: PUSH
3669: EMPTY
3670: LIST
3671: LIST
3672: LIST
3673: LIST
3674: PUSH
3675: EMPTY
3676: LIST
3677: LIST
3678: LIST
3679: LIST
3680: ST_TO_ADDR
// end ; number_of_people = [ 4 , 5 , 6 , 7 , 8 , 9 , 10 , 11 , 12 , 13 , 14 , 15 , 16 , 17 , 18 , 19 , 20 , 21 , 22 , 23 , 24 ] ;
3681: LD_ADDR_EXP 40
3685: PUSH
3686: LD_INT 4
3688: PUSH
3689: LD_INT 5
3691: PUSH
3692: LD_INT 6
3694: PUSH
3695: LD_INT 7
3697: PUSH
3698: LD_INT 8
3700: PUSH
3701: LD_INT 9
3703: PUSH
3704: LD_INT 10
3706: PUSH
3707: LD_INT 11
3709: PUSH
3710: LD_INT 12
3712: PUSH
3713: LD_INT 13
3715: PUSH
3716: LD_INT 14
3718: PUSH
3719: LD_INT 15
3721: PUSH
3722: LD_INT 16
3724: PUSH
3725: LD_INT 17
3727: PUSH
3728: LD_INT 18
3730: PUSH
3731: LD_INT 19
3733: PUSH
3734: LD_INT 20
3736: PUSH
3737: LD_INT 21
3739: PUSH
3740: LD_INT 22
3742: PUSH
3743: LD_INT 23
3745: PUSH
3746: LD_INT 24
3748: PUSH
3749: EMPTY
3750: LIST
3751: LIST
3752: LIST
3753: LIST
3754: LIST
3755: LIST
3756: LIST
3757: LIST
3758: LIST
3759: LIST
3760: LIST
3761: LIST
3762: LIST
3763: LIST
3764: LIST
3765: LIST
3766: LIST
3767: LIST
3768: LIST
3769: LIST
3770: LIST
3771: ST_TO_ADDR
// number_of_apemen = [ 0 , 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 , 9 , 10 , 11 , 12 ] ;
3772: LD_ADDR_EXP 41
3776: PUSH
3777: LD_INT 0
3779: PUSH
3780: LD_INT 1
3782: PUSH
3783: LD_INT 2
3785: PUSH
3786: LD_INT 3
3788: PUSH
3789: LD_INT 4
3791: PUSH
3792: LD_INT 5
3794: PUSH
3795: LD_INT 6
3797: PUSH
3798: LD_INT 7
3800: PUSH
3801: LD_INT 8
3803: PUSH
3804: LD_INT 9
3806: PUSH
3807: LD_INT 10
3809: PUSH
3810: LD_INT 11
3812: PUSH
3813: LD_INT 12
3815: PUSH
3816: EMPTY
3817: LIST
3818: LIST
3819: LIST
3820: LIST
3821: LIST
3822: LIST
3823: LIST
3824: LIST
3825: LIST
3826: LIST
3827: LIST
3828: LIST
3829: LIST
3830: ST_TO_ADDR
// initial_level = [ 2 , 3 , 4 , 5 ] ;
3831: LD_ADDR_EXP 42
3835: PUSH
3836: LD_INT 2
3838: PUSH
3839: LD_INT 3
3841: PUSH
3842: LD_INT 4
3844: PUSH
3845: LD_INT 5
3847: PUSH
3848: EMPTY
3849: LIST
3850: LIST
3851: LIST
3852: LIST
3853: ST_TO_ADDR
// if def_game_rules then
3854: LD_EXP 9
3858: IFFALSE 3870
// tech_level = 8 else
3860: LD_ADDR_EXP 56
3864: PUSH
3865: LD_INT 8
3867: ST_TO_ADDR
3868: GO 3908
// if game_type in GT_mine then
3870: LD_EXP 1
3874: PUSH
3875: LD_EXP 2
3879: IN
3880: IFFALSE 3898
// tech_level = def_tech_level + 4 else
3882: LD_ADDR_EXP 56
3886: PUSH
3887: LD_EXP 26
3891: PUSH
3892: LD_INT 4
3894: PLUS
3895: ST_TO_ADDR
3896: GO 3908
// Tech_Level = def_tech_level ;
3898: LD_ADDR_EXP 56
3902: PUSH
3903: LD_EXP 26
3907: ST_TO_ADDR
// Hustota_Zasilek ;
3908: CALL 2179 0 0
// spawning_koef_of_apemen = [ 0 , 5 , 10 , 15 ] ;
3912: LD_ADDR_EXP 47
3916: PUSH
3917: LD_INT 0
3919: PUSH
3920: LD_INT 5
3922: PUSH
3923: LD_INT 10
3925: PUSH
3926: LD_INT 15
3928: PUSH
3929: EMPTY
3930: LIST
3931: LIST
3932: LIST
3933: LIST
3934: ST_TO_ADDR
// spawning_koef_of_tiger = [ 0 , 5 , 10 , 15 ] ;
3935: LD_ADDR_EXP 48
3939: PUSH
3940: LD_INT 0
3942: PUSH
3943: LD_INT 5
3945: PUSH
3946: LD_INT 10
3948: PUSH
3949: LD_INT 15
3951: PUSH
3952: EMPTY
3953: LIST
3954: LIST
3955: LIST
3956: LIST
3957: ST_TO_ADDR
// respawning_time_min = [ 8 8$0 , 3 3$00 , 1 1$00 ] ;
3958: LD_ADDR_EXP 49
3962: PUSH
3963: LD_INT 16800
3965: PUSH
3966: LD_INT 6300
3968: PUSH
3969: LD_INT 2100
3971: PUSH
3972: EMPTY
3973: LIST
3974: LIST
3975: LIST
3976: ST_TO_ADDR
// respawning_time_max = [ 10 10$10 , 6 6$00 , 2 2$00 ] ;
3977: LD_ADDR_EXP 51
3981: PUSH
3982: LD_INT 21350
3984: PUSH
3985: LD_INT 12600
3987: PUSH
3988: LD_INT 4200
3990: PUSH
3991: EMPTY
3992: LIST
3993: LIST
3994: LIST
3995: ST_TO_ADDR
// respawning_time_delay_min = [ 0 0$45 , 0 0$30 , 0 0$15 ] ;
3996: LD_ADDR_EXP 53
4000: PUSH
4001: LD_INT 1575
4003: PUSH
4004: LD_INT 1050
4006: PUSH
4007: LD_INT 525
4009: PUSH
4010: EMPTY
4011: LIST
4012: LIST
4013: LIST
4014: ST_TO_ADDR
// respawning_time_delay_max = [ 1 1$00 , 0 0$45 , 0 0$30 ] ;
4015: LD_ADDR_EXP 54
4019: PUSH
4020: LD_INT 2100
4022: PUSH
4023: LD_INT 1575
4025: PUSH
4026: LD_INT 1050
4028: PUSH
4029: EMPTY
4030: LIST
4031: LIST
4032: LIST
4033: ST_TO_ADDR
// daily_start = [ [ 4 4$00 , 7 7$00 ] , [ 8 8$00 , 12 12$00 ] , [ 13 13$00 , 17 17$00 ] , [ 18 18$00 , 22 22$00 ] , [ 23 23$00 , 27 27$00 ] ] ;
4034: LD_ADDR_EXP 58
4038: PUSH
4039: LD_INT 8400
4041: PUSH
4042: LD_INT 14700
4044: PUSH
4045: EMPTY
4046: LIST
4047: LIST
4048: PUSH
4049: LD_INT 16800
4051: PUSH
4052: LD_INT 25200
4054: PUSH
4055: EMPTY
4056: LIST
4057: LIST
4058: PUSH
4059: LD_INT 27300
4061: PUSH
4062: LD_INT 35700
4064: PUSH
4065: EMPTY
4066: LIST
4067: LIST
4068: PUSH
4069: LD_INT 37800
4071: PUSH
4072: LD_INT 46200
4074: PUSH
4075: EMPTY
4076: LIST
4077: LIST
4078: PUSH
4079: LD_INT 48300
4081: PUSH
4082: LD_INT 56700
4084: PUSH
4085: EMPTY
4086: LIST
4087: LIST
4088: PUSH
4089: EMPTY
4090: LIST
4091: LIST
4092: LIST
4093: LIST
4094: LIST
4095: ST_TO_ADDR
// daily_speed = [ 0 0$59 , 0 0$25 , 0 0$9 , 0 0$2 , 0 ] ;
4096: LD_ADDR_EXP 59
4100: PUSH
4101: LD_INT 2065
4103: PUSH
4104: LD_INT 875
4106: PUSH
4107: LD_INT 315
4109: PUSH
4110: LD_INT 70
4112: PUSH
4113: LD_INT 0
4115: PUSH
4116: EMPTY
4117: LIST
4118: LIST
4119: LIST
4120: LIST
4121: LIST
4122: ST_TO_ADDR
// TimePhase = [ 4 4$00 , 6 6$00 , 7 7$00 , 8 8$00 , 12 12$00 , 17 17$00 , 18 18$00 , 19 19$00 , 20 20$00 , 22 22$00 ] ;
4123: LD_ADDR_EXP 60
4127: PUSH
4128: LD_INT 8400
4130: PUSH
4131: LD_INT 12600
4133: PUSH
4134: LD_INT 14700
4136: PUSH
4137: LD_INT 16800
4139: PUSH
4140: LD_INT 25200
4142: PUSH
4143: LD_INT 35700
4145: PUSH
4146: LD_INT 37800
4148: PUSH
4149: LD_INT 39900
4151: PUSH
4152: LD_INT 42000
4154: PUSH
4155: LD_INT 46200
4157: PUSH
4158: EMPTY
4159: LIST
4160: LIST
4161: LIST
4162: LIST
4163: LIST
4164: LIST
4165: LIST
4166: LIST
4167: LIST
4168: LIST
4169: ST_TO_ADDR
// DailyPhase = [ colors1.txt , colors2.txt , colors3.txt , colors4.txt , colors5.txt , colors6.txt ] ;
4170: LD_ADDR_EXP 61
4174: PUSH
4175: LD_STRING colors1.txt
4177: PUSH
4178: LD_STRING colors2.txt
4180: PUSH
4181: LD_STRING colors3.txt
4183: PUSH
4184: LD_STRING colors4.txt
4186: PUSH
4187: LD_STRING colors5.txt
4189: PUSH
4190: LD_STRING colors6.txt
4192: PUSH
4193: EMPTY
4194: LIST
4195: LIST
4196: LIST
4197: LIST
4198: LIST
4199: LIST
4200: ST_TO_ADDR
// morale_decreasing_time = [ - 1 , 0 0$10 , 0 0$20 , 0 0$40 , 0 0$0 ] ;
4201: LD_ADDR_EXP 46
4205: PUSH
4206: LD_INT 1
4208: NEG
4209: PUSH
4210: LD_INT 350
4212: PUSH
4213: LD_INT 700
4215: PUSH
4216: LD_INT 1400
4218: PUSH
4219: LD_INT 0
4221: PUSH
4222: EMPTY
4223: LIST
4224: LIST
4225: LIST
4226: LIST
4227: LIST
4228: ST_TO_ADDR
// final_count = [ 0 , 200 , 300 , 500 , 700 , 1000 , 1500 , 2000 ] ;
4229: LD_ADDR_EXP 57
4233: PUSH
4234: LD_INT 0
4236: PUSH
4237: LD_INT 200
4239: PUSH
4240: LD_INT 300
4242: PUSH
4243: LD_INT 500
4245: PUSH
4246: LD_INT 700
4248: PUSH
4249: LD_INT 1000
4251: PUSH
4252: LD_INT 1500
4254: PUSH
4255: LD_INT 2000
4257: PUSH
4258: EMPTY
4259: LIST
4260: LIST
4261: LIST
4262: LIST
4263: LIST
4264: LIST
4265: LIST
4266: LIST
4267: ST_TO_ADDR
// WarForTerritory_flags = [ 0 , 3 , 4 , 5 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
4268: LD_ADDR_EXP 65
4272: PUSH
4273: LD_INT 0
4275: PUSH
4276: LD_INT 3
4278: PUSH
4279: LD_INT 4
4281: PUSH
4282: LD_INT 5
4284: PUSH
4285: LD_INT 0
4287: PUSH
4288: LD_INT 0
4290: PUSH
4291: LD_INT 0
4293: PUSH
4294: LD_INT 0
4296: PUSH
4297: LD_INT 0
4299: PUSH
4300: LD_INT 0
4302: PUSH
4303: LD_INT 0
4305: PUSH
4306: EMPTY
4307: LIST
4308: LIST
4309: LIST
4310: LIST
4311: LIST
4312: LIST
4313: LIST
4314: LIST
4315: LIST
4316: LIST
4317: LIST
4318: ST_TO_ADDR
// WarForTerritory_Points = [ 0 , 0 , 0 , 0 , 200 , 300 , 500 , 700 , 1000 , 1500 , 2000 ] ;
4319: LD_ADDR_EXP 64
4323: PUSH
4324: LD_INT 0
4326: PUSH
4327: LD_INT 0
4329: PUSH
4330: LD_INT 0
4332: PUSH
4333: LD_INT 0
4335: PUSH
4336: LD_INT 200
4338: PUSH
4339: LD_INT 300
4341: PUSH
4342: LD_INT 500
4344: PUSH
4345: LD_INT 700
4347: PUSH
4348: LD_INT 1000
4350: PUSH
4351: LD_INT 1500
4353: PUSH
4354: LD_INT 2000
4356: PUSH
4357: EMPTY
4358: LIST
4359: LIST
4360: LIST
4361: LIST
4362: LIST
4363: LIST
4364: LIST
4365: LIST
4366: LIST
4367: LIST
4368: LIST
4369: ST_TO_ADDR
// Position_Sides := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
4370: LD_ADDR_EXP 62
4374: PUSH
4375: LD_INT 0
4377: PUSH
4378: LD_INT 0
4380: PUSH
4381: LD_INT 0
4383: PUSH
4384: LD_INT 0
4386: PUSH
4387: LD_INT 0
4389: PUSH
4390: LD_INT 0
4392: PUSH
4393: LD_INT 0
4395: PUSH
4396: LD_INT 0
4398: PUSH
4399: EMPTY
4400: LIST
4401: LIST
4402: LIST
4403: LIST
4404: LIST
4405: LIST
4406: LIST
4407: LIST
4408: ST_TO_ADDR
// siberite_bomb_Delay := [ 0 , 1 , 30 30$00 , 60 60$00 , 90 90$00 , 120 120$00 ] ;
4409: LD_ADDR_EXP 66
4413: PUSH
4414: LD_INT 0
4416: PUSH
4417: LD_INT 1
4419: PUSH
4420: LD_INT 63000
4422: PUSH
4423: LD_INT 126000
4425: PUSH
4426: LD_INT 189000
4428: PUSH
4429: LD_INT 252000
4431: PUSH
4432: EMPTY
4433: LIST
4434: LIST
4435: LIST
4436: LIST
4437: LIST
4438: LIST
4439: ST_TO_ADDR
// end ;
4440: LD_VAR 0 1
4444: RET
// export function init_map ; var i ; begin
4445: LD_INT 0
4447: PPUSH
4448: PPUSH
// base_level = base_level [ def_base_level + 1 ] ;
4449: LD_ADDR_EXP 37
4453: PUSH
4454: LD_EXP 37
4458: PUSH
4459: LD_EXP 10
4463: PUSH
4464: LD_INT 1
4466: PLUS
4467: ARRAY
4468: ST_TO_ADDR
// number_of_people = number_of_people [ def_amount_of_people + 1 ] ;
4469: LD_ADDR_EXP 40
4473: PUSH
4474: LD_EXP 40
4478: PUSH
4479: LD_EXP 11
4483: PUSH
4484: LD_INT 1
4486: PLUS
4487: ARRAY
4488: ST_TO_ADDR
// number_of_apemen = number_of_apemen [ def_amount_of_apemen_in_team + 1 ] ;
4489: LD_ADDR_EXP 41
4493: PUSH
4494: LD_EXP 41
4498: PUSH
4499: LD_EXP 12
4503: PUSH
4504: LD_INT 1
4506: PLUS
4507: ARRAY
4508: ST_TO_ADDR
// initial_level = initial_level [ def_initial_level + 1 ] ;
4509: LD_ADDR_EXP 42
4513: PUSH
4514: LD_EXP 42
4518: PUSH
4519: LD_EXP 13
4523: PUSH
4524: LD_INT 1
4526: PLUS
4527: ARRAY
4528: ST_TO_ADDR
// starting_resources = starting_resources [ def_starting_resources + 1 ] ;
4529: LD_ADDR_EXP 44
4533: PUSH
4534: LD_EXP 44
4538: PUSH
4539: LD_EXP 15
4543: PUSH
4544: LD_INT 1
4546: PLUS
4547: ARRAY
4548: ST_TO_ADDR
// starting_crates = starting_crates [ def_starting_resources + 1 ] ;
4549: LD_ADDR_EXP 43
4553: PUSH
4554: LD_EXP 43
4558: PUSH
4559: LD_EXP 15
4563: PUSH
4564: LD_INT 1
4566: PLUS
4567: ARRAY
4568: ST_TO_ADDR
// Tech_Level = def_tech_level ;
4569: LD_ADDR_EXP 56
4573: PUSH
4574: LD_EXP 26
4578: ST_TO_ADDR
// Hustota_Zasilek ;
4579: CALL 2179 0 0
// spawning_koef_of_apemen = spawning_koef_of_apemen [ def_amount_of_apemen + 1 ] ;
4583: LD_ADDR_EXP 47
4587: PUSH
4588: LD_EXP 47
4592: PUSH
4593: LD_EXP 22
4597: PUSH
4598: LD_INT 1
4600: PLUS
4601: ARRAY
4602: ST_TO_ADDR
// spawning_koef_of_tiger = spawning_koef_of_tiger [ def_amount_of_tiger + 1 ] ;
4603: LD_ADDR_EXP 48
4607: PUSH
4608: LD_EXP 48
4612: PUSH
4613: LD_EXP 23
4617: PUSH
4618: LD_INT 1
4620: PLUS
4621: ARRAY
4622: ST_TO_ADDR
// respawning_time_min = respawning_time_min [ def_people_respawning + 1 ] ;
4623: LD_ADDR_EXP 49
4627: PUSH
4628: LD_EXP 49
4632: PUSH
4633: LD_EXP 25
4637: PUSH
4638: LD_INT 1
4640: PLUS
4641: ARRAY
4642: ST_TO_ADDR
// respawning_time_max = respawning_time_max [ def_people_respawning + 1 ] ;
4643: LD_ADDR_EXP 51
4647: PUSH
4648: LD_EXP 51
4652: PUSH
4653: LD_EXP 25
4657: PUSH
4658: LD_INT 1
4660: PLUS
4661: ARRAY
4662: ST_TO_ADDR
// respawning_time_delay_min = respawning_time_delay_min [ def_people_respawning + 1 ] ;
4663: LD_ADDR_EXP 53
4667: PUSH
4668: LD_EXP 53
4672: PUSH
4673: LD_EXP 25
4677: PUSH
4678: LD_INT 1
4680: PLUS
4681: ARRAY
4682: ST_TO_ADDR
// respawning_time_delay_max = respawning_time_delay_max [ def_people_respawning + 1 ] ;
4683: LD_ADDR_EXP 54
4687: PUSH
4688: LD_EXP 54
4692: PUSH
4693: LD_EXP 25
4697: PUSH
4698: LD_INT 1
4700: PLUS
4701: ARRAY
4702: ST_TO_ADDR
// daily_start = daily_start [ def_daily_start + 1 ] ;
4703: LD_ADDR_EXP 58
4707: PUSH
4708: LD_EXP 58
4712: PUSH
4713: LD_EXP 32
4717: PUSH
4718: LD_INT 1
4720: PLUS
4721: ARRAY
4722: ST_TO_ADDR
// daily_speed = daily_speed [ def_daily_speed + 1 ] ;
4723: LD_ADDR_EXP 59
4727: PUSH
4728: LD_EXP 59
4732: PUSH
4733: LD_EXP 33
4737: PUSH
4738: LD_INT 1
4740: PLUS
4741: ARRAY
4742: ST_TO_ADDR
// morale_decreasing_time = morale_decreasing_time [ def_morale_flags + 1 ] ;
4743: LD_ADDR_EXP 46
4747: PUSH
4748: LD_EXP 46
4752: PUSH
4753: LD_EXP 20
4757: PUSH
4758: LD_INT 1
4760: PLUS
4761: ARRAY
4762: ST_TO_ADDR
// battle_flags_id = [ ] ;
4763: LD_ADDR_EXP 88
4767: PUSH
4768: EMPTY
4769: ST_TO_ADDR
// heroes = [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
4770: LD_ADDR_EXP 50
4774: PUSH
4775: EMPTY
4776: PUSH
4777: EMPTY
4778: PUSH
4779: EMPTY
4780: PUSH
4781: EMPTY
4782: PUSH
4783: EMPTY
4784: PUSH
4785: EMPTY
4786: PUSH
4787: EMPTY
4788: PUSH
4789: EMPTY
4790: PUSH
4791: EMPTY
4792: LIST
4793: LIST
4794: LIST
4795: LIST
4796: LIST
4797: LIST
4798: LIST
4799: LIST
4800: ST_TO_ADDR
// final_count = final_count [ def_kings_age + 1 ] ;
4801: LD_ADDR_EXP 57
4805: PUSH
4806: LD_EXP 57
4810: PUSH
4811: LD_EXP 35
4815: PUSH
4816: LD_INT 1
4818: PLUS
4819: ARRAY
4820: ST_TO_ADDR
// WarForTerritory_flags = WarForTerritory_flags [ def_warForTerritory + 1 ] ;
4821: LD_ADDR_EXP 65
4825: PUSH
4826: LD_EXP 65
4830: PUSH
4831: LD_EXP 36
4835: PUSH
4836: LD_INT 1
4838: PLUS
4839: ARRAY
4840: ST_TO_ADDR
// WarForTerritory_Points = WarForTerritory_Points [ def_warForTerritory + 1 ] ;
4841: LD_ADDR_EXP 64
4845: PUSH
4846: LD_EXP 64
4850: PUSH
4851: LD_EXP 36
4855: PUSH
4856: LD_INT 1
4858: PLUS
4859: ARRAY
4860: ST_TO_ADDR
// buildUpTime_Delay := buildUpTime_Delay [ def_builduptime + 1 ] ;
4861: LD_ADDR_EXP 117
4865: PUSH
4866: LD_EXP 117
4870: PUSH
4871: LD_EXP 30
4875: PUSH
4876: LD_INT 1
4878: PLUS
4879: ARRAY
4880: ST_TO_ADDR
// siberite_bomb_Delay := siberite_bomb_Delay [ def_siberite_bomb + 1 ] ;
4881: LD_ADDR_EXP 66
4885: PUSH
4886: LD_EXP 66
4890: PUSH
4891: LD_EXP 29
4895: PUSH
4896: LD_INT 1
4898: PLUS
4899: ARRAY
4900: ST_TO_ADDR
// for i = 1 to depot_def + 0 do
4901: LD_ADDR_VAR 0 2
4905: PUSH
4906: DOUBLE
4907: LD_INT 1
4909: DEC
4910: ST_TO_ADDR
4911: LD_EXP 80
4915: PUSH
4916: LD_INT 0
4918: PLUS
4919: PUSH
4920: FOR_TO
4921: IFFALSE 5027
// start_def := start_def ^ [ [ ShiftX ( depot_def [ i ] [ 1 ] , depot_def [ i ] [ 3 ] mod 6 , 6 ) , ShiftY ( depot_def [ i ] [ 2 ] , depot_def [ i ] [ 3 ] mod 6 , 6 ) ] ] ;
4923: LD_ADDR_EXP 82
4927: PUSH
4928: LD_EXP 82
4932: PUSH
4933: LD_EXP 80
4937: PUSH
4938: LD_VAR 0 2
4942: ARRAY
4943: PUSH
4944: LD_INT 1
4946: ARRAY
4947: PPUSH
4948: LD_EXP 80
4952: PUSH
4953: LD_VAR 0 2
4957: ARRAY
4958: PUSH
4959: LD_INT 3
4961: ARRAY
4962: PUSH
4963: LD_INT 6
4965: MOD
4966: PPUSH
4967: LD_INT 6
4969: PPUSH
4970: CALL_OW 272
4974: PUSH
4975: LD_EXP 80
4979: PUSH
4980: LD_VAR 0 2
4984: ARRAY
4985: PUSH
4986: LD_INT 2
4988: ARRAY
4989: PPUSH
4990: LD_EXP 80
4994: PUSH
4995: LD_VAR 0 2
4999: ARRAY
5000: PUSH
5001: LD_INT 3
5003: ARRAY
5004: PUSH
5005: LD_INT 6
5007: MOD
5008: PPUSH
5009: LD_INT 6
5011: PPUSH
5012: CALL_OW 273
5016: PUSH
5017: EMPTY
5018: LIST
5019: LIST
5020: PUSH
5021: EMPTY
5022: LIST
5023: ADD
5024: ST_TO_ADDR
5025: GO 4920
5027: POP
5028: POP
// if not Game_Type in GT_Survival then
5029: LD_EXP 1
5033: PUSH
5034: LD_EXP 6
5038: IN
5039: NOT
5040: IFFALSE 5222
// begin for i in oil_deposits_locations do
5042: LD_ADDR_VAR 0 2
5046: PUSH
5047: LD_EXP 85
5051: PUSH
5052: FOR_IN
5053: IFFALSE 5082
// CreateDepositXY ( i [ 1 ] , i [ 2 ] , mat_oil ) ;
5055: LD_VAR 0 2
5059: PUSH
5060: LD_INT 1
5062: ARRAY
5063: PPUSH
5064: LD_VAR 0 2
5068: PUSH
5069: LD_INT 2
5071: ARRAY
5072: PPUSH
5073: LD_INT 2
5075: PPUSH
5076: CALL_OW 62
5080: GO 5052
5082: POP
5083: POP
// for i in siberite_deposits_locations do
5084: LD_ADDR_VAR 0 2
5088: PUSH
5089: LD_EXP 87
5093: PUSH
5094: FOR_IN
5095: IFFALSE 5124
// CreateDepositXY ( i [ 1 ] , i [ 2 ] , mat_siberit ) ;
5097: LD_VAR 0 2
5101: PUSH
5102: LD_INT 1
5104: ARRAY
5105: PPUSH
5106: LD_VAR 0 2
5110: PUSH
5111: LD_INT 2
5113: ARRAY
5114: PPUSH
5115: LD_INT 3
5117: PPUSH
5118: CALL_OW 62
5122: GO 5094
5124: POP
5125: POP
// if def_extra_oil_deposits then
5126: LD_EXP 17
5130: IFFALSE 5174
// for i in extra_oil_deposits_locations do
5132: LD_ADDR_VAR 0 2
5136: PUSH
5137: LD_EXP 84
5141: PUSH
5142: FOR_IN
5143: IFFALSE 5172
// CreateDepositXY ( i [ 1 ] , i [ 2 ] , mat_oil ) ;
5145: LD_VAR 0 2
5149: PUSH
5150: LD_INT 1
5152: ARRAY
5153: PPUSH
5154: LD_VAR 0 2
5158: PUSH
5159: LD_INT 2
5161: ARRAY
5162: PPUSH
5163: LD_INT 2
5165: PPUSH
5166: CALL_OW 62
5170: GO 5142
5172: POP
5173: POP
// if def_extra_sib_deposits then
5174: LD_EXP 18
5178: IFFALSE 5222
// for i in extra_sib_deposits_locations do
5180: LD_ADDR_VAR 0 2
5184: PUSH
5185: LD_EXP 86
5189: PUSH
5190: FOR_IN
5191: IFFALSE 5220
// CreateDepositXY ( i [ 1 ] , i [ 2 ] , mat_siberit ) ;
5193: LD_VAR 0 2
5197: PUSH
5198: LD_INT 1
5200: ARRAY
5201: PPUSH
5202: LD_VAR 0 2
5206: PUSH
5207: LD_INT 2
5209: ARRAY
5210: PPUSH
5211: LD_INT 3
5213: PPUSH
5214: CALL_OW 62
5218: GO 5190
5220: POP
5221: POP
// end ; for i := 1 to 8 do
5222: LD_ADDR_VAR 0 2
5226: PUSH
5227: DOUBLE
5228: LD_INT 1
5230: DEC
5231: ST_TO_ADDR
5232: LD_INT 8
5234: PUSH
5235: FOR_TO
5236: IFFALSE 5283
// if Side_Positions [ i ] then
5238: LD_EXP 74
5242: PUSH
5243: LD_VAR 0 2
5247: ARRAY
5248: IFFALSE 5281
// Position_Sides := Replace ( Position_Sides , Side_Positions [ i ] , i ) ;
5250: LD_ADDR_EXP 62
5254: PUSH
5255: LD_EXP 62
5259: PPUSH
5260: LD_EXP 74
5264: PUSH
5265: LD_VAR 0 2
5269: ARRAY
5270: PPUSH
5271: LD_VAR 0 2
5275: PPUSH
5276: CALL_OW 1
5280: ST_TO_ADDR
5281: GO 5235
5283: POP
5284: POP
// end ;
5285: LD_VAR 0 1
5289: RET
// export function set_shared_visions_and_alliances ; var i , j ; begin
5290: LD_INT 0
5292: PPUSH
5293: PPUSH
5294: PPUSH
// Team_Game := ( Side_Teams diff [ 0 ] ) > 1 ;
5295: LD_ADDR_EXP 79
5299: PUSH
5300: LD_EXP 71
5304: PUSH
5305: LD_INT 0
5307: PUSH
5308: EMPTY
5309: LIST
5310: DIFF
5311: PUSH
5312: LD_INT 1
5314: GREATER
5315: ST_TO_ADDR
// if not Team_Game then
5316: LD_EXP 79
5320: NOT
5321: IFFALSE 5419
// begin for i = 1 to 8 do
5323: LD_ADDR_VAR 0 2
5327: PUSH
5328: DOUBLE
5329: LD_INT 1
5331: DEC
5332: ST_TO_ADDR
5333: LD_INT 8
5335: PUSH
5336: FOR_TO
5337: IFFALSE 5415
// for j = 1 to 8 do
5339: LD_ADDR_VAR 0 3
5343: PUSH
5344: DOUBLE
5345: LD_INT 1
5347: DEC
5348: ST_TO_ADDR
5349: LD_INT 8
5351: PUSH
5352: FOR_TO
5353: IFFALSE 5411
// if i <> j then
5355: LD_VAR 0 2
5359: PUSH
5360: LD_VAR 0 3
5364: NONEQUAL
5365: IFFALSE 5389
// SetAttitude ( i , j , att_neutral , true ) else
5367: LD_VAR 0 2
5371: PPUSH
5372: LD_VAR 0 3
5376: PPUSH
5377: LD_INT 0
5379: PPUSH
5380: LD_INT 1
5382: PPUSH
5383: CALL_OW 80
5387: GO 5409
// SetAttitude ( i , j , att_friend , true ) ;
5389: LD_VAR 0 2
5393: PPUSH
5394: LD_VAR 0 3
5398: PPUSH
5399: LD_INT 1
5401: PPUSH
5402: LD_INT 1
5404: PPUSH
5405: CALL_OW 80
5409: GO 5352
5411: POP
5412: POP
5413: GO 5336
5415: POP
5416: POP
// end else
5417: GO 5594
// begin if def_shared_vision then
5419: LD_EXP 19
5423: IFFALSE 5488
// begin for i in Teams do
5425: LD_ADDR_VAR 0 2
5429: PUSH
5430: LD_EXP 72
5434: PUSH
5435: FOR_IN
5436: IFFALSE 5486
// for j = 2 to i do
5438: LD_ADDR_VAR 0 3
5442: PUSH
5443: DOUBLE
5444: LD_INT 2
5446: DEC
5447: ST_TO_ADDR
5448: LD_VAR 0 2
5452: PUSH
5453: FOR_TO
5454: IFFALSE 5482
// ChangeSideFog ( i [ j ] , i [ 1 ] ) ;
5456: LD_VAR 0 2
5460: PUSH
5461: LD_VAR 0 3
5465: ARRAY
5466: PPUSH
5467: LD_VAR 0 2
5471: PUSH
5472: LD_INT 1
5474: ARRAY
5475: PPUSH
5476: CALL_OW 343
5480: GO 5453
5482: POP
5483: POP
5484: GO 5435
5486: POP
5487: POP
// end ; for i = 1 to 8 do
5488: LD_ADDR_VAR 0 2
5492: PUSH
5493: DOUBLE
5494: LD_INT 1
5496: DEC
5497: ST_TO_ADDR
5498: LD_INT 8
5500: PUSH
5501: FOR_TO
5502: IFFALSE 5592
// for j = 1 to 8 do
5504: LD_ADDR_VAR 0 3
5508: PUSH
5509: DOUBLE
5510: LD_INT 1
5512: DEC
5513: ST_TO_ADDR
5514: LD_INT 8
5516: PUSH
5517: FOR_TO
5518: IFFALSE 5588
// if Side_Teams [ i ] = Side_Teams [ j ] then
5520: LD_EXP 71
5524: PUSH
5525: LD_VAR 0 2
5529: ARRAY
5530: PUSH
5531: LD_EXP 71
5535: PUSH
5536: LD_VAR 0 3
5540: ARRAY
5541: EQUAL
5542: IFFALSE 5566
// SetAttitude ( i , j , att_friend , true ) else
5544: LD_VAR 0 2
5548: PPUSH
5549: LD_VAR 0 3
5553: PPUSH
5554: LD_INT 1
5556: PPUSH
5557: LD_INT 1
5559: PPUSH
5560: CALL_OW 80
5564: GO 5586
// SetAttitude ( i , j , att_enemy , true ) ;
5566: LD_VAR 0 2
5570: PPUSH
5571: LD_VAR 0 3
5575: PPUSH
5576: LD_INT 2
5578: PPUSH
5579: LD_INT 1
5581: PPUSH
5582: CALL_OW 80
5586: GO 5517
5588: POP
5589: POP
5590: GO 5501
5592: POP
5593: POP
// end ; end ;
5594: LD_VAR 0 1
5598: RET
// export function prepare_sides ; var i , pos ; begin
5599: LD_INT 0
5601: PPUSH
5602: PPUSH
5603: PPUSH
// global_units = [ ] ;
5604: LD_ADDR_EXP 92
5608: PUSH
5609: EMPTY
5610: ST_TO_ADDR
// global_classes = [ ] ;
5611: LD_ADDR_EXP 96
5615: PUSH
5616: EMPTY
5617: ST_TO_ADDR
// global_defined := false ;
5618: LD_ADDR_EXP 93
5622: PUSH
5623: LD_INT 0
5625: ST_TO_ADDR
// pozice_beden = [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
5626: LD_ADDR_EXP 8
5630: PUSH
5631: EMPTY
5632: PUSH
5633: EMPTY
5634: PUSH
5635: EMPTY
5636: PUSH
5637: EMPTY
5638: PUSH
5639: EMPTY
5640: PUSH
5641: EMPTY
5642: PUSH
5643: EMPTY
5644: PUSH
5645: EMPTY
5646: PUSH
5647: EMPTY
5648: LIST
5649: LIST
5650: LIST
5651: LIST
5652: LIST
5653: LIST
5654: LIST
5655: LIST
5656: ST_TO_ADDR
// for i := 1 to 8 do
5657: LD_ADDR_VAR 0 2
5661: PUSH
5662: DOUBLE
5663: LD_INT 1
5665: DEC
5666: ST_TO_ADDR
5667: LD_INT 8
5669: PUSH
5670: FOR_TO
5671: IFFALSE 6136
// if Side_Positions [ i ] then
5673: LD_EXP 74
5677: PUSH
5678: LD_VAR 0 2
5682: ARRAY
5683: IFFALSE 6134
// begin pos := Side_Positions [ i ] ;
5685: LD_ADDR_VAR 0 3
5689: PUSH
5690: LD_EXP 74
5694: PUSH
5695: LD_VAR 0 2
5699: ARRAY
5700: ST_TO_ADDR
// if Game_Type in GT_DoubleNat ^ GT_DoublePeople then
5701: LD_EXP 1
5705: PUSH
5706: LD_EXP 3
5710: PUSH
5711: LD_EXP 4
5715: ADD
5716: IN
5717: IFFALSE 5927
// begin if Game_Type in GT_DoubleNat then
5719: LD_EXP 1
5723: PUSH
5724: LD_EXP 3
5728: IN
5729: IFFALSE 5833
// begin prepare_side ( i , pos , Position_Nations [ i ] [ 1 ] ) ;
5731: LD_VAR 0 2
5735: PPUSH
5736: LD_VAR 0 3
5740: PPUSH
5741: LD_EXP 52
5745: PUSH
5746: LD_VAR 0 2
5750: ARRAY
5751: PUSH
5752: LD_INT 1
5754: ARRAY
5755: PPUSH
5756: CALL 6516 0 3
// prepare_side ( i , pos + 1 , Position_Nations [ i ] [ 2 ] ) ;
5760: LD_VAR 0 2
5764: PPUSH
5765: LD_VAR 0 3
5769: PUSH
5770: LD_INT 1
5772: PLUS
5773: PPUSH
5774: LD_EXP 52
5778: PUSH
5779: LD_VAR 0 2
5783: ARRAY
5784: PUSH
5785: LD_INT 2
5787: ARRAY
5788: PPUSH
5789: CALL 6516 0 3
// pozice_beden = replace ( pozice_beden , i , [ pos , pos + 1 ] ) ;
5793: LD_ADDR_EXP 8
5797: PUSH
5798: LD_EXP 8
5802: PPUSH
5803: LD_VAR 0 2
5807: PPUSH
5808: LD_VAR 0 3
5812: PUSH
5813: LD_VAR 0 3
5817: PUSH
5818: LD_INT 1
5820: PLUS
5821: PUSH
5822: EMPTY
5823: LIST
5824: LIST
5825: PPUSH
5826: CALL_OW 1
5830: ST_TO_ADDR
// end else
5831: GO 5925
// begin prepare_side ( i , pos , Side_Nations [ i ] ) ;
5833: LD_VAR 0 2
5837: PPUSH
5838: LD_VAR 0 3
5842: PPUSH
5843: LD_EXP 75
5847: PUSH
5848: LD_VAR 0 2
5852: ARRAY
5853: PPUSH
5854: CALL 6516 0 3
// prepare_side ( i , pos + 1 , Side_Nations [ i ] ) ;
5858: LD_VAR 0 2
5862: PPUSH
5863: LD_VAR 0 3
5867: PUSH
5868: LD_INT 1
5870: PLUS
5871: PPUSH
5872: LD_EXP 75
5876: PUSH
5877: LD_VAR 0 2
5881: ARRAY
5882: PPUSH
5883: CALL 6516 0 3
// pozice_beden = replace ( pozice_beden , i , [ pos , pos + 1 ] ) ;
5887: LD_ADDR_EXP 8
5891: PUSH
5892: LD_EXP 8
5896: PPUSH
5897: LD_VAR 0 2
5901: PPUSH
5902: LD_VAR 0 3
5906: PUSH
5907: LD_VAR 0 3
5911: PUSH
5912: LD_INT 1
5914: PLUS
5915: PUSH
5916: EMPTY
5917: LIST
5918: LIST
5919: PPUSH
5920: CALL_OW 1
5924: ST_TO_ADDR
// end ; end else
5925: GO 6109
// if game_type in GT_TripleNat then
5927: LD_EXP 1
5931: PUSH
5932: LD_EXP 5
5936: IN
5937: IFFALSE 6084
// begin prepare_side ( i , pos , Position_Nations [ i ] [ 1 ] ) ;
5939: LD_VAR 0 2
5943: PPUSH
5944: LD_VAR 0 3
5948: PPUSH
5949: LD_EXP 52
5953: PUSH
5954: LD_VAR 0 2
5958: ARRAY
5959: PUSH
5960: LD_INT 1
5962: ARRAY
5963: PPUSH
5964: CALL 6516 0 3
// prepare_side ( i , pos + 1 , Position_Nations [ i ] [ 2 ] ) ;
5968: LD_VAR 0 2
5972: PPUSH
5973: LD_VAR 0 3
5977: PUSH
5978: LD_INT 1
5980: PLUS
5981: PPUSH
5982: LD_EXP 52
5986: PUSH
5987: LD_VAR 0 2
5991: ARRAY
5992: PUSH
5993: LD_INT 2
5995: ARRAY
5996: PPUSH
5997: CALL 6516 0 3
// prepare_side ( i , pos + 2 , Position_Nations [ i ] [ 3 ] ) ;
6001: LD_VAR 0 2
6005: PPUSH
6006: LD_VAR 0 3
6010: PUSH
6011: LD_INT 2
6013: PLUS
6014: PPUSH
6015: LD_EXP 52
6019: PUSH
6020: LD_VAR 0 2
6024: ARRAY
6025: PUSH
6026: LD_INT 3
6028: ARRAY
6029: PPUSH
6030: CALL 6516 0 3
// pozice_beden = replace ( pozice_beden , i , [ pos , pos + 1 , pos + 2 ] ) ;
6034: LD_ADDR_EXP 8
6038: PUSH
6039: LD_EXP 8
6043: PPUSH
6044: LD_VAR 0 2
6048: PPUSH
6049: LD_VAR 0 3
6053: PUSH
6054: LD_VAR 0 3
6058: PUSH
6059: LD_INT 1
6061: PLUS
6062: PUSH
6063: LD_VAR 0 3
6067: PUSH
6068: LD_INT 2
6070: PLUS
6071: PUSH
6072: EMPTY
6073: LIST
6074: LIST
6075: LIST
6076: PPUSH
6077: CALL_OW 1
6081: ST_TO_ADDR
// end else
6082: GO 6109
// prepare_side ( i , pos , Side_Nations [ i ] ) ;
6084: LD_VAR 0 2
6088: PPUSH
6089: LD_VAR 0 3
6093: PPUSH
6094: LD_EXP 75
6098: PUSH
6099: LD_VAR 0 2
6103: ARRAY
6104: PPUSH
6105: CALL 6516 0 3
// pozice_beden = replace ( pozice_beden , i , pos ) ;
6109: LD_ADDR_EXP 8
6113: PUSH
6114: LD_EXP 8
6118: PPUSH
6119: LD_VAR 0 2
6123: PPUSH
6124: LD_VAR 0 3
6128: PPUSH
6129: CALL_OW 1
6133: ST_TO_ADDR
// end ;
6134: GO 5670
6136: POP
6137: POP
// end ;
6138: LD_VAR 0 1
6142: RET
// export function Modify_Nations ; var i , n ; begin
6143: LD_INT 0
6145: PPUSH
6146: PPUSH
6147: PPUSH
// Position_Nations := [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
6148: LD_ADDR_EXP 52
6152: PUSH
6153: EMPTY
6154: PUSH
6155: EMPTY
6156: PUSH
6157: EMPTY
6158: PUSH
6159: EMPTY
6160: PUSH
6161: EMPTY
6162: PUSH
6163: EMPTY
6164: PUSH
6165: EMPTY
6166: PUSH
6167: EMPTY
6168: PUSH
6169: EMPTY
6170: LIST
6171: LIST
6172: LIST
6173: LIST
6174: LIST
6175: LIST
6176: LIST
6177: LIST
6178: ST_TO_ADDR
// if game_type in GT_doublenat then
6179: LD_EXP 1
6183: PUSH
6184: LD_EXP 3
6188: IN
6189: IFFALSE 6340
// begin for i = 1 to 8 do
6191: LD_ADDR_VAR 0 2
6195: PUSH
6196: DOUBLE
6197: LD_INT 1
6199: DEC
6200: ST_TO_ADDR
6201: LD_INT 8
6203: PUSH
6204: FOR_TO
6205: IFFALSE 6336
// if side_positions [ i ] then
6207: LD_EXP 74
6211: PUSH
6212: LD_VAR 0 2
6216: ARRAY
6217: IFFALSE 6334
// begin case side_nations [ i ] of 1 :
6219: LD_EXP 75
6223: PUSH
6224: LD_VAR 0 2
6228: ARRAY
6229: PUSH
6230: LD_INT 1
6232: DOUBLE
6233: EQUAL
6234: IFTRUE 6238
6236: GO 6256
6238: POP
// n = [ 1 , 2 ] ; 2 :
6239: LD_ADDR_VAR 0 3
6243: PUSH
6244: LD_INT 1
6246: PUSH
6247: LD_INT 2
6249: PUSH
6250: EMPTY
6251: LIST
6252: LIST
6253: ST_TO_ADDR
6254: GO 6309
6256: LD_INT 2
6258: DOUBLE
6259: EQUAL
6260: IFTRUE 6264
6262: GO 6282
6264: POP
// n = [ 2 , 3 ] ; 3 :
6265: LD_ADDR_VAR 0 3
6269: PUSH
6270: LD_INT 2
6272: PUSH
6273: LD_INT 3
6275: PUSH
6276: EMPTY
6277: LIST
6278: LIST
6279: ST_TO_ADDR
6280: GO 6309
6282: LD_INT 3
6284: DOUBLE
6285: EQUAL
6286: IFTRUE 6290
6288: GO 6308
6290: POP
// n = [ 3 , 1 ] ; end ;
6291: LD_ADDR_VAR 0 3
6295: PUSH
6296: LD_INT 3
6298: PUSH
6299: LD_INT 1
6301: PUSH
6302: EMPTY
6303: LIST
6304: LIST
6305: ST_TO_ADDR
6306: GO 6309
6308: POP
// Position_Nations = replace ( position_nations , i , n ) ;
6309: LD_ADDR_EXP 52
6313: PUSH
6314: LD_EXP 52
6318: PPUSH
6319: LD_VAR 0 2
6323: PPUSH
6324: LD_VAR 0 3
6328: PPUSH
6329: CALL_OW 1
6333: ST_TO_ADDR
// end ;
6334: GO 6204
6336: POP
6337: POP
// end else
6338: GO 6511
// if game_type in GT_triplenat then
6340: LD_EXP 1
6344: PUSH
6345: LD_EXP 5
6349: IN
6350: IFFALSE 6511
// begin for i = 1 to 8 do
6352: LD_ADDR_VAR 0 2
6356: PUSH
6357: DOUBLE
6358: LD_INT 1
6360: DEC
6361: ST_TO_ADDR
6362: LD_INT 8
6364: PUSH
6365: FOR_TO
6366: IFFALSE 6509
// if side_positions [ i ] then
6368: LD_EXP 74
6372: PUSH
6373: LD_VAR 0 2
6377: ARRAY
6378: IFFALSE 6507
// begin case side_nations [ i ] of 1 :
6380: LD_EXP 75
6384: PUSH
6385: LD_VAR 0 2
6389: ARRAY
6390: PUSH
6391: LD_INT 1
6393: DOUBLE
6394: EQUAL
6395: IFTRUE 6399
6397: GO 6421
6399: POP
// n = [ 1 , 2 , 3 ] ; 2 :
6400: LD_ADDR_VAR 0 3
6404: PUSH
6405: LD_INT 1
6407: PUSH
6408: LD_INT 2
6410: PUSH
6411: LD_INT 3
6413: PUSH
6414: EMPTY
6415: LIST
6416: LIST
6417: LIST
6418: ST_TO_ADDR
6419: GO 6482
6421: LD_INT 2
6423: DOUBLE
6424: EQUAL
6425: IFTRUE 6429
6427: GO 6451
6429: POP
// n = [ 2 , 3 , 1 ] ; 3 :
6430: LD_ADDR_VAR 0 3
6434: PUSH
6435: LD_INT 2
6437: PUSH
6438: LD_INT 3
6440: PUSH
6441: LD_INT 1
6443: PUSH
6444: EMPTY
6445: LIST
6446: LIST
6447: LIST
6448: ST_TO_ADDR
6449: GO 6482
6451: LD_INT 3
6453: DOUBLE
6454: EQUAL
6455: IFTRUE 6459
6457: GO 6481
6459: POP
// n = [ 3 , 1 , 2 ] ; end ;
6460: LD_ADDR_VAR 0 3
6464: PUSH
6465: LD_INT 3
6467: PUSH
6468: LD_INT 1
6470: PUSH
6471: LD_INT 2
6473: PUSH
6474: EMPTY
6475: LIST
6476: LIST
6477: LIST
6478: ST_TO_ADDR
6479: GO 6482
6481: POP
// Position_Nations = replace ( position_nations , i , n ) ;
6482: LD_ADDR_EXP 52
6486: PUSH
6487: LD_EXP 52
6491: PPUSH
6492: LD_VAR 0 2
6496: PPUSH
6497: LD_VAR 0 3
6501: PPUSH
6502: CALL_OW 1
6506: ST_TO_ADDR
// end ;
6507: GO 6365
6509: POP
6510: POP
// end ; end ;
6511: LD_VAR 0 1
6515: RET
// export function prepare_side ( side , pos , nation ) ; var x , y , i , r , sol , br , dep , neng , nsci , nmech , nsol ; begin
6516: LD_INT 0
6518: PPUSH
6519: PPUSH
6520: PPUSH
6521: PPUSH
6522: PPUSH
6523: PPUSH
6524: PPUSH
6525: PPUSH
6526: PPUSH
6527: PPUSH
6528: PPUSH
6529: PPUSH
// global_count = 0 ;
6530: LD_ADDR_EXP 95
6534: PUSH
6535: LD_INT 0
6537: ST_TO_ADDR
// uc_nation := nation ;
6538: LD_ADDR_OWVAR 21
6542: PUSH
6543: LD_VAR 0 3
6547: ST_TO_ADDR
// uc_side := side ;
6548: LD_ADDR_OWVAR 20
6552: PUSH
6553: LD_VAR 0 1
6557: ST_TO_ADDR
// x := depot_def [ pos ] [ 1 ] ;
6558: LD_ADDR_VAR 0 5
6562: PUSH
6563: LD_EXP 80
6567: PUSH
6568: LD_VAR 0 2
6572: ARRAY
6573: PUSH
6574: LD_INT 1
6576: ARRAY
6577: ST_TO_ADDR
// y := depot_def [ pos ] [ 2 ] ;
6578: LD_ADDR_VAR 0 6
6582: PUSH
6583: LD_EXP 80
6587: PUSH
6588: LD_VAR 0 2
6592: ARRAY
6593: PUSH
6594: LD_INT 2
6596: ARRAY
6597: ST_TO_ADDR
// case base_level of 0 :
6598: LD_EXP 37
6602: PUSH
6603: LD_INT 0
6605: DOUBLE
6606: EQUAL
6607: IFTRUE 6611
6609: GO 6758
6611: POP
// begin for i := 1 to 3 do
6612: LD_ADDR_VAR 0 7
6616: PUSH
6617: DOUBLE
6618: LD_INT 1
6620: DEC
6621: ST_TO_ADDR
6622: LD_INT 3
6624: PUSH
6625: FOR_TO
6626: IFFALSE 6754
// begin r := starting_resources [ i ] ;
6628: LD_ADDR_VAR 0 8
6632: PUSH
6633: LD_EXP 44
6637: PUSH
6638: LD_VAR 0 7
6642: ARRAY
6643: ST_TO_ADDR
// while r >= 10 do
6644: LD_VAR 0 8
6648: PUSH
6649: LD_INT 10
6651: GREATEREQUAL
6652: IFFALSE 6752
// if r > 50 then
6654: LD_VAR 0 8
6658: PUSH
6659: LD_INT 50
6661: GREATER
6662: IFFALSE 6708
// begin CreateResourcesXYR ( i , 5 , x , y , 4 , false ) ;
6664: LD_VAR 0 7
6668: PPUSH
6669: LD_INT 5
6671: PPUSH
6672: LD_VAR 0 5
6676: PPUSH
6677: LD_VAR 0 6
6681: PPUSH
6682: LD_INT 4
6684: PPUSH
6685: LD_INT 0
6687: PPUSH
6688: CALL_OW 60
// r := r - 50 ;
6692: LD_ADDR_VAR 0 8
6696: PUSH
6697: LD_VAR 0 8
6701: PUSH
6702: LD_INT 50
6704: MINUS
6705: ST_TO_ADDR
// end else
6706: GO 6750
// begin CreateResourcesXYR ( i , r div 10 , x , y , 4 , false ) ;
6708: LD_VAR 0 7
6712: PPUSH
6713: LD_VAR 0 8
6717: PUSH
6718: LD_INT 10
6720: DIV
6721: PPUSH
6722: LD_VAR 0 5
6726: PPUSH
6727: LD_VAR 0 6
6731: PPUSH
6732: LD_INT 4
6734: PPUSH
6735: LD_INT 0
6737: PPUSH
6738: CALL_OW 60
// r := 0 ;
6742: LD_ADDR_VAR 0 8
6746: PUSH
6747: LD_INT 0
6749: ST_TO_ADDR
// end ;
6750: GO 6644
// end ;
6752: GO 6625
6754: POP
6755: POP
// end ; 1 :
6756: GO 7023
6758: LD_INT 1
6760: DOUBLE
6761: EQUAL
6762: IFTRUE 6766
6764: GO 6890
6766: POP
// begin bc_type = b_depot ;
6767: LD_ADDR_OWVAR 42
6771: PUSH
6772: LD_INT 0
6774: ST_TO_ADDR
// dep := CreateAndPlaceBuildingXYD ( x , y , Depot_Def [ pos ] [ 3 ] ) ;
6775: LD_ADDR_VAR 0 11
6779: PUSH
6780: LD_VAR 0 5
6784: PPUSH
6785: LD_VAR 0 6
6789: PPUSH
6790: LD_EXP 80
6794: PUSH
6795: LD_VAR 0 2
6799: ARRAY
6800: PUSH
6801: LD_INT 3
6803: ARRAY
6804: PPUSH
6805: CALL_OW 47
6809: ST_TO_ADDR
// SetResourceType ( GetBase ( dep ) , mat_cans , starting_resources [ mat_cans ] ) ;
6810: LD_VAR 0 11
6814: PPUSH
6815: CALL_OW 274
6819: PPUSH
6820: LD_INT 1
6822: PPUSH
6823: LD_EXP 44
6827: PUSH
6828: LD_INT 1
6830: ARRAY
6831: PPUSH
6832: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_oil , starting_resources [ mat_oil ] ) ;
6836: LD_VAR 0 11
6840: PPUSH
6841: CALL_OW 274
6845: PPUSH
6846: LD_INT 2
6848: PPUSH
6849: LD_EXP 44
6853: PUSH
6854: LD_INT 2
6856: ARRAY
6857: PPUSH
6858: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_siberit , starting_resources [ mat_siberit ] ) ;
6862: LD_VAR 0 11
6866: PPUSH
6867: CALL_OW 274
6871: PPUSH
6872: LD_INT 3
6874: PPUSH
6875: LD_EXP 44
6879: PUSH
6880: LD_INT 3
6882: ARRAY
6883: PPUSH
6884: CALL_OW 277
// end ; 2 :
6888: GO 7023
6890: LD_INT 2
6892: DOUBLE
6893: EQUAL
6894: IFTRUE 6898
6896: GO 7022
6898: POP
// begin bc_type = b_warehouse ;
6899: LD_ADDR_OWVAR 42
6903: PUSH
6904: LD_INT 1
6906: ST_TO_ADDR
// dep := CreateAndPlaceBuildingXYD ( x , y , Depot_Def [ pos ] [ 3 ] ) ;
6907: LD_ADDR_VAR 0 11
6911: PUSH
6912: LD_VAR 0 5
6916: PPUSH
6917: LD_VAR 0 6
6921: PPUSH
6922: LD_EXP 80
6926: PUSH
6927: LD_VAR 0 2
6931: ARRAY
6932: PUSH
6933: LD_INT 3
6935: ARRAY
6936: PPUSH
6937: CALL_OW 47
6941: ST_TO_ADDR
// SetResourceType ( GetBase ( dep ) , mat_cans , starting_resources [ mat_cans ] ) ;
6942: LD_VAR 0 11
6946: PPUSH
6947: CALL_OW 274
6951: PPUSH
6952: LD_INT 1
6954: PPUSH
6955: LD_EXP 44
6959: PUSH
6960: LD_INT 1
6962: ARRAY
6963: PPUSH
6964: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_oil , starting_resources [ mat_oil ] ) ;
6968: LD_VAR 0 11
6972: PPUSH
6973: CALL_OW 274
6977: PPUSH
6978: LD_INT 2
6980: PPUSH
6981: LD_EXP 44
6985: PUSH
6986: LD_INT 2
6988: ARRAY
6989: PPUSH
6990: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_siberit , starting_resources [ mat_siberit ] ) ;
6994: LD_VAR 0 11
6998: PPUSH
6999: CALL_OW 274
7003: PPUSH
7004: LD_INT 3
7006: PPUSH
7007: LD_EXP 44
7011: PUSH
7012: LD_INT 3
7014: ARRAY
7015: PPUSH
7016: CALL_OW 277
// end ; end ;
7020: GO 7023
7022: POP
// x := start_def [ pos ] [ 1 ] ;
7023: LD_ADDR_VAR 0 5
7027: PUSH
7028: LD_EXP 82
7032: PUSH
7033: LD_VAR 0 2
7037: ARRAY
7038: PUSH
7039: LD_INT 1
7041: ARRAY
7042: ST_TO_ADDR
// y := start_def [ pos ] [ 2 ] ;
7043: LD_ADDR_VAR 0 6
7047: PUSH
7048: LD_EXP 82
7052: PUSH
7053: LD_VAR 0 2
7057: ARRAY
7058: PUSH
7059: LD_INT 2
7061: ARRAY
7062: ST_TO_ADDR
// for r in starting_crates do
7063: LD_ADDR_VAR 0 8
7067: PUSH
7068: LD_EXP 43
7072: PUSH
7073: FOR_IN
7074: IFFALSE 7106
// CreateResourcesXYR ( mat_cans , 5 , x , y , r , false ) ;
7076: LD_INT 1
7078: PPUSH
7079: LD_INT 5
7081: PPUSH
7082: LD_VAR 0 5
7086: PPUSH
7087: LD_VAR 0 6
7091: PPUSH
7092: LD_VAR 0 8
7096: PPUSH
7097: LD_INT 0
7099: PPUSH
7100: CALL_OW 60
7104: GO 7073
7106: POP
7107: POP
// if def_morale_flags then
7108: LD_EXP 20
7112: IFFALSE 7277
// if not def_WarForTerritory then
7114: LD_EXP 36
7118: NOT
7119: IFFALSE 7200
// battle_flags_id := battle_flags_id ^ SetBattleFlag ( side , x , y , [ [ bfo_defend_bonus_human , 100 ] , [ bfo_defend_bonus_vehicle , 50 ] , [ bfo_defend_bonus_building , 20 ] , [ bfo_height , 100 ] ] ) else
7121: LD_ADDR_EXP 88
7125: PUSH
7126: LD_EXP 88
7130: PUSH
7131: LD_VAR 0 1
7135: PPUSH
7136: LD_VAR 0 5
7140: PPUSH
7141: LD_VAR 0 6
7145: PPUSH
7146: LD_INT 1
7148: PUSH
7149: LD_INT 100
7151: PUSH
7152: EMPTY
7153: LIST
7154: LIST
7155: PUSH
7156: LD_INT 2
7158: PUSH
7159: LD_INT 50
7161: PUSH
7162: EMPTY
7163: LIST
7164: LIST
7165: PUSH
7166: LD_INT 3
7168: PUSH
7169: LD_INT 20
7171: PUSH
7172: EMPTY
7173: LIST
7174: LIST
7175: PUSH
7176: LD_INT 20
7178: PUSH
7179: LD_INT 100
7181: PUSH
7182: EMPTY
7183: LIST
7184: LIST
7185: PUSH
7186: EMPTY
7187: LIST
7188: LIST
7189: LIST
7190: LIST
7191: PPUSH
7192: CALL_OW 418
7196: ADD
7197: ST_TO_ADDR
7198: GO 7277
// battle_flags_id := battle_flags_id ^ SetBattleFlag ( side , x , y , [ [ bfo_defend_bonus_human , 200 ] , [ bfo_defend_bonus_vehicle , 100 ] , [ bfo_defend_bonus_building , 50 ] , [ bfo_height , 100 ] ] ) ;
7200: LD_ADDR_EXP 88
7204: PUSH
7205: LD_EXP 88
7209: PUSH
7210: LD_VAR 0 1
7214: PPUSH
7215: LD_VAR 0 5
7219: PPUSH
7220: LD_VAR 0 6
7224: PPUSH
7225: LD_INT 1
7227: PUSH
7228: LD_INT 200
7230: PUSH
7231: EMPTY
7232: LIST
7233: LIST
7234: PUSH
7235: LD_INT 2
7237: PUSH
7238: LD_INT 100
7240: PUSH
7241: EMPTY
7242: LIST
7243: LIST
7244: PUSH
7245: LD_INT 3
7247: PUSH
7248: LD_INT 50
7250: PUSH
7251: EMPTY
7252: LIST
7253: LIST
7254: PUSH
7255: LD_INT 20
7257: PUSH
7258: LD_INT 100
7260: PUSH
7261: EMPTY
7262: LIST
7263: LIST
7264: PUSH
7265: EMPTY
7266: LIST
7267: LIST
7268: LIST
7269: LIST
7270: PPUSH
7271: CALL_OW 418
7275: ADD
7276: ST_TO_ADDR
// if for_show_near_resources then
7277: LD_EXP 63
7281: IFFALSE 7415
// begin for i in for_show_near_resources [ pos ] [ 1 ] do
7283: LD_ADDR_VAR 0 7
7287: PUSH
7288: LD_EXP 63
7292: PUSH
7293: LD_VAR 0 2
7297: ARRAY
7298: PUSH
7299: LD_INT 1
7301: ARRAY
7302: PUSH
7303: FOR_IN
7304: IFFALSE 7335
// SetResourceVisibility ( i [ 1 ] , i [ 2 ] , side ) ;
7306: LD_VAR 0 7
7310: PUSH
7311: LD_INT 1
7313: ARRAY
7314: PPUSH
7315: LD_VAR 0 7
7319: PUSH
7320: LD_INT 2
7322: ARRAY
7323: PPUSH
7324: LD_VAR 0 1
7328: PPUSH
7329: CALL_OW 441
7333: GO 7303
7335: POP
7336: POP
// if def_siberite_detection and GetTech ( tech_sibdet , side ) = state_enabled then
7337: LD_EXP 28
7341: PUSH
7342: LD_INT 20
7344: PPUSH
7345: LD_VAR 0 1
7349: PPUSH
7350: CALL_OW 321
7354: PUSH
7355: LD_INT 1
7357: EQUAL
7358: AND
7359: IFFALSE 7415
// for i in for_show_near_resources [ pos ] [ 2 ] do
7361: LD_ADDR_VAR 0 7
7365: PUSH
7366: LD_EXP 63
7370: PUSH
7371: LD_VAR 0 2
7375: ARRAY
7376: PUSH
7377: LD_INT 2
7379: ARRAY
7380: PUSH
7381: FOR_IN
7382: IFFALSE 7413
// SetResourceVisibility ( i [ 1 ] , i [ 2 ] , side ) ;
7384: LD_VAR 0 7
7388: PUSH
7389: LD_INT 1
7391: ARRAY
7392: PPUSH
7393: LD_VAR 0 7
7397: PUSH
7398: LD_INT 2
7400: ARRAY
7401: PPUSH
7402: LD_VAR 0 1
7406: PPUSH
7407: CALL_OW 441
7411: GO 7381
7413: POP
7414: POP
// end ; bc_kind1 = b_lab_basic ;
7415: LD_ADDR_OWVAR 44
7419: PUSH
7420: LD_INT 9
7422: ST_TO_ADDR
// bc_kind2 = b_lab_basic ;
7423: LD_ADDR_OWVAR 45
7427: PUSH
7428: LD_INT 9
7430: ST_TO_ADDR
// for i in buildings_def [ pos ] do
7431: LD_ADDR_VAR 0 7
7435: PUSH
7436: LD_EXP 39
7440: PUSH
7441: LD_VAR 0 2
7445: ARRAY
7446: PUSH
7447: FOR_IN
7448: IFFALSE 7593
// begin if i [ 1 ] in [ b_oil_mine , b_siberite_mine ] then
7450: LD_VAR 0 7
7454: PUSH
7455: LD_INT 1
7457: ARRAY
7458: PUSH
7459: LD_INT 29
7461: PUSH
7462: LD_INT 30
7464: PUSH
7465: EMPTY
7466: LIST
7467: LIST
7468: IN
7469: IFFALSE 7498
// SetResourceVisibility ( i [ 2 ] , i [ 3 ] , side ) ;
7471: LD_VAR 0 7
7475: PUSH
7476: LD_INT 2
7478: ARRAY
7479: PPUSH
7480: LD_VAR 0 7
7484: PUSH
7485: LD_INT 3
7487: ARRAY
7488: PPUSH
7489: LD_VAR 0 1
7493: PPUSH
7494: CALL_OW 441
// bc_type = i [ 1 ] ;
7498: LD_ADDR_OWVAR 42
7502: PUSH
7503: LD_VAR 0 7
7507: PUSH
7508: LD_INT 1
7510: ARRAY
7511: ST_TO_ADDR
// CreateAndPlaceBuildingXYD ( i [ 2 ] , i [ 3 ] , i [ 4 ] ) ;
7512: LD_VAR 0 7
7516: PUSH
7517: LD_INT 2
7519: ARRAY
7520: PPUSH
7521: LD_VAR 0 7
7525: PUSH
7526: LD_INT 3
7528: ARRAY
7529: PPUSH
7530: LD_VAR 0 7
7534: PUSH
7535: LD_INT 4
7537: ARRAY
7538: PPUSH
7539: CALL_OW 47
// x := buildings_def [ pos ] [ 1 ] [ 2 ] ;
7543: LD_ADDR_VAR 0 5
7547: PUSH
7548: LD_EXP 39
7552: PUSH
7553: LD_VAR 0 2
7557: ARRAY
7558: PUSH
7559: LD_INT 1
7561: ARRAY
7562: PUSH
7563: LD_INT 2
7565: ARRAY
7566: ST_TO_ADDR
// y := buildings_def [ pos ] [ 1 ] [ 2 ] ;
7567: LD_ADDR_VAR 0 6
7571: PUSH
7572: LD_EXP 39
7576: PUSH
7577: LD_VAR 0 2
7581: ARRAY
7582: PUSH
7583: LD_INT 1
7585: ARRAY
7586: PUSH
7587: LD_INT 2
7589: ARRAY
7590: ST_TO_ADDR
// end ;
7591: GO 7447
7593: POP
7594: POP
// commander := true ;
7595: LD_ADDR_EXP 55
7599: PUSH
7600: LD_INT 1
7602: ST_TO_ADDR
// x := start_def [ pos ] [ 1 ] ;
7603: LD_ADDR_VAR 0 5
7607: PUSH
7608: LD_EXP 82
7612: PUSH
7613: LD_VAR 0 2
7617: ARRAY
7618: PUSH
7619: LD_INT 1
7621: ARRAY
7622: ST_TO_ADDR
// y := start_def [ pos ] [ 2 ] ;
7623: LD_ADDR_VAR 0 6
7627: PUSH
7628: LD_EXP 82
7632: PUSH
7633: LD_VAR 0 2
7637: ARRAY
7638: PUSH
7639: LD_INT 2
7641: ARRAY
7642: ST_TO_ADDR
// if def_classes then
7643: LD_EXP 14
7647: IFFALSE 7943
// begin neng := number_of_people ;
7649: LD_ADDR_VAR 0 12
7653: PUSH
7654: LD_EXP 40
7658: ST_TO_ADDR
// if nsol < neng div 4 then
7659: LD_VAR 0 15
7663: PUSH
7664: LD_VAR 0 12
7668: PUSH
7669: LD_INT 4
7671: DIV
7672: LESS
7673: IFFALSE 7689
// nsol := neng div 4 ;
7675: LD_ADDR_VAR 0 15
7679: PUSH
7680: LD_VAR 0 12
7684: PUSH
7685: LD_INT 4
7687: DIV
7688: ST_TO_ADDR
// neng := neng - nsol ;
7689: LD_ADDR_VAR 0 12
7693: PUSH
7694: LD_VAR 0 12
7698: PUSH
7699: LD_VAR 0 15
7703: MINUS
7704: ST_TO_ADDR
// nsci := neng div 3 ;
7705: LD_ADDR_VAR 0 13
7709: PUSH
7710: LD_VAR 0 12
7714: PUSH
7715: LD_INT 3
7717: DIV
7718: ST_TO_ADDR
// if nsci < 1 then
7719: LD_VAR 0 13
7723: PUSH
7724: LD_INT 1
7726: LESS
7727: IFFALSE 7737
// nsci := 1 ;
7729: LD_ADDR_VAR 0 13
7733: PUSH
7734: LD_INT 1
7736: ST_TO_ADDR
// neng := neng - nsci ;
7737: LD_ADDR_VAR 0 12
7741: PUSH
7742: LD_VAR 0 12
7746: PUSH
7747: LD_VAR 0 13
7751: MINUS
7752: ST_TO_ADDR
// nmech := neng div 2 ;
7753: LD_ADDR_VAR 0 14
7757: PUSH
7758: LD_VAR 0 12
7762: PUSH
7763: LD_INT 2
7765: DIV
7766: ST_TO_ADDR
// neng := neng - nmech ;
7767: LD_ADDR_VAR 0 12
7771: PUSH
7772: LD_VAR 0 12
7776: PUSH
7777: LD_VAR 0 14
7781: MINUS
7782: ST_TO_ADDR
// if neng < 1 then
7783: LD_VAR 0 12
7787: PUSH
7788: LD_INT 1
7790: LESS
7791: IFFALSE 7801
// neng := 1 ;
7793: LD_ADDR_VAR 0 12
7797: PUSH
7798: LD_INT 1
7800: ST_TO_ADDR
// prepare_people ( side , nsol , class_soldier , x , y , 5 , commander ) ;
7801: LD_VAR 0 1
7805: PPUSH
7806: LD_VAR 0 15
7810: PPUSH
7811: LD_INT 1
7813: PPUSH
7814: LD_VAR 0 5
7818: PPUSH
7819: LD_VAR 0 6
7823: PPUSH
7824: LD_INT 5
7826: PPUSH
7827: LD_ADDR_EXP 55
7831: PPUSH
7832: CALL 8489 0 7
// prepare_people ( side , neng , class_engineer , x , y , 5 , commander ) ;
7836: LD_VAR 0 1
7840: PPUSH
7841: LD_VAR 0 12
7845: PPUSH
7846: LD_INT 2
7848: PPUSH
7849: LD_VAR 0 5
7853: PPUSH
7854: LD_VAR 0 6
7858: PPUSH
7859: LD_INT 5
7861: PPUSH
7862: LD_ADDR_EXP 55
7866: PPUSH
7867: CALL 8489 0 7
// prepare_people ( side , nmech , class_mechanic , x , y , 5 , commander ) ;
7871: LD_VAR 0 1
7875: PPUSH
7876: LD_VAR 0 14
7880: PPUSH
7881: LD_INT 3
7883: PPUSH
7884: LD_VAR 0 5
7888: PPUSH
7889: LD_VAR 0 6
7893: PPUSH
7894: LD_INT 5
7896: PPUSH
7897: LD_ADDR_EXP 55
7901: PPUSH
7902: CALL 8489 0 7
// prepare_people ( side , nsci , class_scientistic , x , y , 5 , commander ) ;
7906: LD_VAR 0 1
7910: PPUSH
7911: LD_VAR 0 13
7915: PPUSH
7916: LD_INT 4
7918: PPUSH
7919: LD_VAR 0 5
7923: PPUSH
7924: LD_VAR 0 6
7928: PPUSH
7929: LD_INT 5
7931: PPUSH
7932: LD_ADDR_EXP 55
7936: PPUSH
7937: CALL 8489 0 7
// end else
7941: GO 8015
// begin prepare_people ( side , number_of_people - 1 , 0 , x , y , 5 , commander ) ;
7943: LD_VAR 0 1
7947: PPUSH
7948: LD_EXP 40
7952: PUSH
7953: LD_INT 1
7955: MINUS
7956: PPUSH
7957: LD_INT 0
7959: PPUSH
7960: LD_VAR 0 5
7964: PPUSH
7965: LD_VAR 0 6
7969: PPUSH
7970: LD_INT 5
7972: PPUSH
7973: LD_ADDR_EXP 55
7977: PPUSH
7978: CALL 8489 0 7
// prepare_people ( side , 1 , class_engineer , x , y , 5 , commander ) ;
7982: LD_VAR 0 1
7986: PPUSH
7987: LD_INT 1
7989: PPUSH
7990: LD_INT 2
7992: PPUSH
7993: LD_VAR 0 5
7997: PPUSH
7998: LD_VAR 0 6
8002: PPUSH
8003: LD_INT 5
8005: PPUSH
8006: LD_ADDR_EXP 55
8010: PPUSH
8011: CALL 8489 0 7
// end ; if number_of_apemen then
8015: LD_EXP 41
8019: IFFALSE 8377
// begin uc_nation = nation_nature ;
8021: LD_ADDR_OWVAR 21
8025: PUSH
8026: LD_INT 0
8028: ST_TO_ADDR
// prepare_people ( side , number_of_apemen , class_apeman , x , y , 5 , commander ) ;
8029: LD_VAR 0 1
8033: PPUSH
8034: LD_EXP 41
8038: PPUSH
8039: LD_INT 12
8041: PPUSH
8042: LD_VAR 0 5
8046: PPUSH
8047: LD_VAR 0 6
8051: PPUSH
8052: LD_INT 5
8054: PPUSH
8055: LD_ADDR_EXP 55
8059: PPUSH
8060: CALL 8489 0 7
// uc_nation = nation ;
8064: LD_ADDR_OWVAR 21
8068: PUSH
8069: LD_VAR 0 3
8073: ST_TO_ADDR
// case nation of 1 :
8074: LD_VAR 0 3
8078: PUSH
8079: LD_INT 1
8081: DOUBLE
8082: EQUAL
8083: IFTRUE 8087
8085: GO 8156
8087: POP
// begin if GetTech ( tech_ApeLang , side ) = state_enabled then
8088: LD_INT 1
8090: PPUSH
8091: LD_VAR 0 1
8095: PPUSH
8096: CALL_OW 321
8100: PUSH
8101: LD_INT 1
8103: EQUAL
8104: IFFALSE 8121
// SetTech ( tech_ApeLang , side , state_researched ) ;
8106: LD_INT 1
8108: PPUSH
8109: LD_VAR 0 1
8113: PPUSH
8114: LD_INT 2
8116: PPUSH
8117: CALL_OW 322
// if GetTech ( tech_ApePsych , side ) = state_enabled then
8121: LD_INT 2
8123: PPUSH
8124: LD_VAR 0 1
8128: PPUSH
8129: CALL_OW 321
8133: PUSH
8134: LD_INT 1
8136: EQUAL
8137: IFFALSE 8154
// SetTech ( tech_ApePsych , side , state_researched ) ;
8139: LD_INT 2
8141: PPUSH
8142: LD_VAR 0 1
8146: PPUSH
8147: LD_INT 2
8149: PPUSH
8150: CALL_OW 322
// end ; 2 :
8154: GO 8377
8156: LD_INT 2
8158: DOUBLE
8159: EQUAL
8160: IFTRUE 8164
8162: GO 8266
8164: POP
// begin if GetTech ( tech_ApeLang , side ) = state_enabled then
8165: LD_INT 1
8167: PPUSH
8168: LD_VAR 0 1
8172: PPUSH
8173: CALL_OW 321
8177: PUSH
8178: LD_INT 1
8180: EQUAL
8181: IFFALSE 8198
// SetTech ( tech_ApeLang , side , state_researched ) ;
8183: LD_INT 1
8185: PPUSH
8186: LD_VAR 0 1
8190: PPUSH
8191: LD_INT 2
8193: PPUSH
8194: CALL_OW 322
// if GetTech ( tech_ApeAgres , side ) = state_enabled then
8198: LD_INT 11
8200: PPUSH
8201: LD_VAR 0 1
8205: PPUSH
8206: CALL_OW 321
8210: PUSH
8211: LD_INT 1
8213: EQUAL
8214: IFFALSE 8231
// SetTech ( tech_ApeAgres , side , state_researched ) ;
8216: LD_INT 11
8218: PPUSH
8219: LD_VAR 0 1
8223: PPUSH
8224: LD_INT 2
8226: PPUSH
8227: CALL_OW 322
// if GetTech ( tech_ApeNeural , side ) = state_enabled then
8231: LD_INT 3
8233: PPUSH
8234: LD_VAR 0 1
8238: PPUSH
8239: CALL_OW 321
8243: PUSH
8244: LD_INT 1
8246: EQUAL
8247: IFFALSE 8264
// SetTech ( tech_ApeNeural , side , state_researched ) ;
8249: LD_INT 3
8251: PPUSH
8252: LD_VAR 0 1
8256: PPUSH
8257: LD_INT 2
8259: PPUSH
8260: CALL_OW 322
// end ; 3 :
8264: GO 8377
8266: LD_INT 3
8268: DOUBLE
8269: EQUAL
8270: IFTRUE 8274
8272: GO 8376
8274: POP
// begin if GetTech ( tech_ApeLang , side ) = state_enabled then
8275: LD_INT 1
8277: PPUSH
8278: LD_VAR 0 1
8282: PPUSH
8283: CALL_OW 321
8287: PUSH
8288: LD_INT 1
8290: EQUAL
8291: IFFALSE 8308
// SetTech ( tech_ApeLang , side , state_researched ) ;
8293: LD_INT 1
8295: PPUSH
8296: LD_VAR 0 1
8300: PPUSH
8301: LD_INT 2
8303: PPUSH
8304: CALL_OW 322
// if GetTech ( tech_ApePsych , side ) = state_enabled then
8308: LD_INT 2
8310: PPUSH
8311: LD_VAR 0 1
8315: PPUSH
8316: CALL_OW 321
8320: PUSH
8321: LD_INT 1
8323: EQUAL
8324: IFFALSE 8341
// SetTech ( tech_ApePsych , side , state_researched ) ;
8326: LD_INT 2
8328: PPUSH
8329: LD_VAR 0 1
8333: PPUSH
8334: LD_INT 2
8336: PPUSH
8337: CALL_OW 322
// if GetTech ( tech_ApeAgres , side ) = state_enabled then
8341: LD_INT 11
8343: PPUSH
8344: LD_VAR 0 1
8348: PPUSH
8349: CALL_OW 321
8353: PUSH
8354: LD_INT 1
8356: EQUAL
8357: IFFALSE 8374
// SetTech ( tech_ApeAgres , side , state_researched ) ;
8359: LD_INT 11
8361: PPUSH
8362: LD_VAR 0 1
8366: PPUSH
8367: LD_INT 2
8369: PPUSH
8370: CALL_OW 322
// end ; end ;
8374: GO 8377
8376: POP
// end ; if def_desert_warior = 2 and nation = nation_arabian then
8377: LD_EXP 31
8381: PUSH
8382: LD_INT 2
8384: EQUAL
8385: PUSH
8386: LD_VAR 0 3
8390: PUSH
8391: LD_INT 2
8393: EQUAL
8394: AND
8395: IFFALSE 8430
// prepare_people ( side , 1 , class_desert_warior , x , y , 5 , commander ) ;
8397: LD_VAR 0 1
8401: PPUSH
8402: LD_INT 1
8404: PPUSH
8405: LD_INT 11
8407: PPUSH
8408: LD_VAR 0 5
8412: PPUSH
8413: LD_VAR 0 6
8417: PPUSH
8418: LD_INT 5
8420: PPUSH
8421: LD_ADDR_EXP 55
8425: PPUSH
8426: CALL 8489 0 7
// if not global_defined then
8430: LD_EXP 93
8434: NOT
8435: IFFALSE 8445
// global_defined := true ;
8437: LD_ADDR_EXP 93
8441: PUSH
8442: LD_INT 1
8444: ST_TO_ADDR
// if def_siberite_detection and GetTech ( tech_sibdet , side ) = state_enabled then
8445: LD_EXP 28
8449: PUSH
8450: LD_INT 20
8452: PPUSH
8453: LD_VAR 0 1
8457: PPUSH
8458: CALL_OW 321
8462: PUSH
8463: LD_INT 1
8465: EQUAL
8466: AND
8467: IFFALSE 8484
// SetTech ( tech_SibDet , side , state_researched ) ;
8469: LD_INT 20
8471: PPUSH
8472: LD_VAR 0 1
8476: PPUSH
8477: LD_INT 2
8479: PPUSH
8480: CALL_OW 322
// end ;
8484: LD_VAR 0 4
8488: RET
// export function prepare_people ( side , count , pre_cl , x , y , r , var commander ) ; var i , j , un , cl ; begin
8489: LD_INT 0
8491: PPUSH
8492: PPUSH
8493: PPUSH
8494: PPUSH
8495: PPUSH
// for i := 1 to count do
8496: LD_ADDR_VAR 0 9
8500: PUSH
8501: DOUBLE
8502: LD_INT 1
8504: DEC
8505: ST_TO_ADDR
8506: LD_VAR 0 2
8510: PUSH
8511: FOR_TO
8512: IFFALSE 9116
// begin global_count = global_count + 1 ;
8514: LD_ADDR_EXP 95
8518: PUSH
8519: LD_EXP 95
8523: PUSH
8524: LD_INT 1
8526: PLUS
8527: ST_TO_ADDR
// if not def_classes and global_count <= global_classes then
8528: LD_EXP 14
8532: NOT
8533: PUSH
8534: LD_EXP 95
8538: PUSH
8539: LD_EXP 96
8543: LESSEQUAL
8544: AND
8545: IFFALSE 8565
// cl = global_classes [ global_count ] else
8547: LD_ADDR_VAR 0 12
8551: PUSH
8552: LD_EXP 96
8556: PUSH
8557: LD_EXP 95
8561: ARRAY
8562: ST_TO_ADDR
8563: GO 8603
// if pre_cl = 0 then
8565: LD_VAR 0 3
8569: PUSH
8570: LD_INT 0
8572: EQUAL
8573: IFFALSE 8593
// cl = rand ( 1 , 4 ) else
8575: LD_ADDR_VAR 0 12
8579: PUSH
8580: LD_INT 1
8582: PPUSH
8583: LD_INT 4
8585: PPUSH
8586: CALL_OW 12
8590: ST_TO_ADDR
8591: GO 8603
// cl = pre_cl ;
8593: LD_ADDR_VAR 0 12
8597: PUSH
8598: LD_VAR 0 3
8602: ST_TO_ADDR
// uc_direction := Rand ( 0 , 5 ) ;
8603: LD_ADDR_OWVAR 24
8607: PUSH
8608: LD_INT 0
8610: PPUSH
8611: LD_INT 5
8613: PPUSH
8614: CALL_OW 12
8618: ST_TO_ADDR
// if commander then
8619: LD_FROM_VAR 0 7
8623: IFFALSE 8752
// begin hc_name := mp_sides_players_names [ side ] ;
8625: LD_ADDR_OWVAR 26
8629: PUSH
8630: LD_OWVAR 19
8634: PUSH
8635: LD_VAR 0 1
8639: ARRAY
8640: ST_TO_ADDR
// PrepareHuman ( Rand ( 1 , 2 ) , cl , initial_level + 2 ) ;
8641: LD_INT 1
8643: PPUSH
8644: LD_INT 2
8646: PPUSH
8647: CALL_OW 12
8651: PPUSH
8652: LD_VAR 0 12
8656: PPUSH
8657: LD_EXP 42
8661: PUSH
8662: LD_INT 2
8664: PLUS
8665: PPUSH
8666: CALL_OW 380
// if def_desert_warior = 1 and uc_nation = nation_arabian then
8670: LD_EXP 31
8674: PUSH
8675: LD_INT 1
8677: EQUAL
8678: PUSH
8679: LD_OWVAR 21
8683: PUSH
8684: LD_INT 2
8686: EQUAL
8687: AND
8688: IFFALSE 8698
// hc_class = class_desert_warior ;
8690: LD_ADDR_OWVAR 28
8694: PUSH
8695: LD_INT 11
8697: ST_TO_ADDR
// hc_importance := 105 ;
8698: LD_ADDR_OWVAR 32
8702: PUSH
8703: LD_INT 105
8705: ST_TO_ADDR
// if Multiplayer then
8706: LD_OWVAR 4
8710: IFFALSE 8750
// begin hc_gallery := MULTIAVATARS ;
8712: LD_ADDR_OWVAR 33
8716: PUSH
8717: LD_STRING MULTIAVATARS
8719: ST_TO_ADDR
// hc_face_number := Multiplayer_GetPlayerSideNum ( Side ) ;
8720: LD_ADDR_OWVAR 34
8724: PUSH
8725: LD_VAR 0 1
8729: PPUSH
8730: CALL_OW 525
8734: ST_TO_ADDR
// hc_sex := Multiplayer_GetPlayerSex ( Side ) ;
8735: LD_ADDR_OWVAR 27
8739: PUSH
8740: LD_VAR 0 1
8744: PPUSH
8745: CALL_OW 526
8749: ST_TO_ADDR
// end ; end else
8750: GO 8858
// begin hc_name :=  ;
8752: LD_ADDR_OWVAR 26
8756: PUSH
8757: LD_STRING 
8759: ST_TO_ADDR
// if cl = class_desert_warior then
8760: LD_VAR 0 12
8764: PUSH
8765: LD_INT 11
8767: EQUAL
8768: IFFALSE 8803
// begin PrepareHuman ( rand ( 1 , 2 ) , class_soldier , initial_level ) ;
8770: LD_INT 1
8772: PPUSH
8773: LD_INT 2
8775: PPUSH
8776: CALL_OW 12
8780: PPUSH
8781: LD_INT 1
8783: PPUSH
8784: LD_EXP 42
8788: PPUSH
8789: CALL_OW 380
// hc_class = class_desert_warior end else
8793: LD_ADDR_OWVAR 28
8797: PUSH
8798: LD_INT 11
8800: ST_TO_ADDR
8801: GO 8828
// PrepareHuman ( rand ( 1 , 2 ) , cl , initial_level ) ;
8803: LD_INT 1
8805: PPUSH
8806: LD_INT 2
8808: PPUSH
8809: CALL_OW 12
8813: PPUSH
8814: LD_VAR 0 12
8818: PPUSH
8819: LD_EXP 42
8823: PPUSH
8824: CALL_OW 380
// hc_importance := 0 ;
8828: LD_ADDR_OWVAR 32
8832: PUSH
8833: LD_INT 0
8835: ST_TO_ADDR
// if Multiplayer then
8836: LD_OWVAR 4
8840: IFFALSE 8858
// begin hc_gallery :=  ;
8842: LD_ADDR_OWVAR 33
8846: PUSH
8847: LD_STRING 
8849: ST_TO_ADDR
// hc_face_number := 0 ;
8850: LD_ADDR_OWVAR 34
8854: PUSH
8855: LD_INT 0
8857: ST_TO_ADDR
// end ; end ; if hc_class = class_desert_warior then
8858: LD_OWVAR 28
8862: PUSH
8863: LD_INT 11
8865: EQUAL
8866: IFFALSE 8876
// hc_importance := 100 ;
8868: LD_ADDR_OWVAR 32
8872: PUSH
8873: LD_INT 100
8875: ST_TO_ADDR
// un := CreateHuman ;
8876: LD_ADDR_VAR 0 11
8880: PUSH
8881: CALL_OW 44
8885: ST_TO_ADDR
// if global_count <= global_units then
8886: LD_EXP 95
8890: PUSH
8891: LD_EXP 92
8895: LESSEQUAL
8896: IFFALSE 8980
// begin CopySkills ( global_units [ global_count ] , un ) ;
8898: LD_EXP 92
8902: PUSH
8903: LD_EXP 95
8907: ARRAY
8908: PPUSH
8909: LD_VAR 0 11
8913: PPUSH
8914: CALL_OW 510
// SetAttr ( un , attr_speed , GetAttr ( global_units [ global_count ] , attr_speed ) ) ;
8918: LD_VAR 0 11
8922: PPUSH
8923: LD_INT 2
8925: PPUSH
8926: LD_EXP 92
8930: PUSH
8931: LD_EXP 95
8935: ARRAY
8936: PPUSH
8937: LD_INT 2
8939: PPUSH
8940: CALL_OW 260
8944: PPUSH
8945: CALL_OW 239
// SetAttr ( un , attr_stamina , GetAttr ( global_units [ global_count ] , attr_stamina ) ) ;
8949: LD_VAR 0 11
8953: PPUSH
8954: LD_INT 1
8956: PPUSH
8957: LD_EXP 92
8961: PUSH
8962: LD_EXP 95
8966: ARRAY
8967: PPUSH
8968: LD_INT 1
8970: PPUSH
8971: CALL_OW 260
8975: PPUSH
8976: CALL_OW 239
// end ; PlaceUnitXYR ( un , x , y , r , false ) ;
8980: LD_VAR 0 11
8984: PPUSH
8985: LD_VAR 0 4
8989: PPUSH
8990: LD_VAR 0 5
8994: PPUSH
8995: LD_VAR 0 6
8999: PPUSH
9000: LD_INT 0
9002: PPUSH
9003: CALL_OW 50
// if global_classes < global_count then
9007: LD_EXP 96
9011: PUSH
9012: LD_EXP 95
9016: LESS
9017: IFFALSE 9035
// global_classes = global_classes ^ cl ;
9019: LD_ADDR_EXP 96
9023: PUSH
9024: LD_EXP 96
9028: PUSH
9029: LD_VAR 0 12
9033: ADD
9034: ST_TO_ADDR
// if global_units < global_count then
9035: LD_EXP 92
9039: PUSH
9040: LD_EXP 95
9044: LESS
9045: IFFALSE 9063
// global_units = global_units ^ un ;
9047: LD_ADDR_EXP 92
9051: PUSH
9052: LD_EXP 92
9056: PUSH
9057: LD_VAR 0 11
9061: ADD
9062: ST_TO_ADDR
// if commander then
9063: LD_FROM_VAR 0 7
9067: IFFALSE 9114
// begin heroes = replace ( heroes , side , heroes [ side ] ^ un ) ;
9069: LD_ADDR_EXP 50
9073: PUSH
9074: LD_EXP 50
9078: PPUSH
9079: LD_VAR 0 1
9083: PPUSH
9084: LD_EXP 50
9088: PUSH
9089: LD_VAR 0 1
9093: ARRAY
9094: PUSH
9095: LD_VAR 0 11
9099: ADD
9100: PPUSH
9101: CALL_OW 1
9105: ST_TO_ADDR
// commander := false ;
9106: LD_VAR 0 7
9110: PUSH
9111: LD_INT 0
9113: ST_TO_ADDR
// end ; end ;
9114: GO 8511
9116: POP
9117: POP
// end ;
9118: LD_VAR 0 8
9122: RET
// export function mastodonti ; var i , c , k ; begin
9123: LD_INT 0
9125: PPUSH
9126: PPUSH
9127: PPUSH
9128: PPUSH
// if def_desert_warior then
9129: LD_EXP 31
9133: IFFALSE 9198
// begin c = FilterAllUnits ( [ [ f_class , class_desert_warior ] ] ) ;
9135: LD_ADDR_VAR 0 3
9139: PUSH
9140: LD_INT 25
9142: PUSH
9143: LD_INT 11
9145: PUSH
9146: EMPTY
9147: LIST
9148: LIST
9149: PUSH
9150: EMPTY
9151: LIST
9152: PPUSH
9153: CALL_OW 69
9157: ST_TO_ADDR
// if c then
9158: LD_VAR 0 3
9162: IFFALSE 9194
// for c = 1 to c + 0 do
9164: LD_ADDR_VAR 0 3
9168: PUSH
9169: DOUBLE
9170: LD_INT 1
9172: DEC
9173: ST_TO_ADDR
9174: LD_VAR 0 3
9178: PUSH
9179: LD_INT 0
9181: PLUS
9182: PUSH
9183: FOR_TO
9184: IFFALSE 9192
// begin comms_mastodont ;
9186: CALL 9203 0 0
// end ;
9190: GO 9183
9192: POP
9193: POP
// comms_mastodont ;
9194: CALL 9203 0 0
// end ; end ;
9198: LD_VAR 0 1
9202: RET
// export function comms_mastodont ; var un ; begin
9203: LD_INT 0
9205: PPUSH
9206: PPUSH
// uc_nation := 0 ;
9207: LD_ADDR_OWVAR 21
9211: PUSH
9212: LD_INT 0
9214: ST_TO_ADDR
// uc_side := nation_nature ;
9215: LD_ADDR_OWVAR 20
9219: PUSH
9220: LD_INT 0
9222: ST_TO_ADDR
// vc_chassis = 31 ;
9223: LD_ADDR_OWVAR 37
9227: PUSH
9228: LD_INT 31
9230: ST_TO_ADDR
// un := createvehicle ;
9231: LD_ADDR_VAR 0 2
9235: PUSH
9236: CALL_OW 45
9240: ST_TO_ADDR
// PlaceUnitArea ( un , stred , false ) ;
9241: LD_VAR 0 2
9245: PPUSH
9246: LD_INT 30
9248: PPUSH
9249: LD_INT 0
9251: PPUSH
9252: CALL_OW 49
// end ;
9256: LD_VAR 0 1
9260: RET
// every 0 0$1 marked 31 do var i ;
9261: GO 9263
9263: DISABLE
9264: LD_INT 0
9266: PPUSH
// begin if not tech_level = 8 then
9267: LD_EXP 56
9271: PUSH
9272: LD_INT 8
9274: EQUAL
9275: NOT
9276: IFFALSE 9280
// exit ;
9278: GO 9299
// if siberite_bomb_delay then
9280: LD_EXP 66
9284: IFFALSE 9295
// wait ( siberite_bomb_Delay ) ;
9286: LD_EXP 66
9290: PPUSH
9291: CALL_OW 67
// EnableSibFiss ;
9295: CALL 9302 0 0
// end ;
9299: PPOPN 1
9301: END
// function EnableSibFiss ( ) ; var side , narodnost ; begin
9302: LD_INT 0
9304: PPUSH
9305: PPUSH
9306: PPUSH
// for side = 1 to side_positions + 0 do
9307: LD_ADDR_VAR 0 2
9311: PUSH
9312: DOUBLE
9313: LD_INT 1
9315: DEC
9316: ST_TO_ADDR
9317: LD_EXP 74
9321: PUSH
9322: LD_INT 0
9324: PLUS
9325: PUSH
9326: FOR_TO
9327: IFFALSE 9427
// begin narodnost := Side_Nations [ side ] ;
9329: LD_ADDR_VAR 0 3
9333: PUSH
9334: LD_EXP 75
9338: PUSH
9339: LD_VAR 0 2
9343: ARRAY
9344: ST_TO_ADDR
// case narodnost of 1 , 3 :
9345: LD_VAR 0 3
9349: PUSH
9350: LD_INT 1
9352: DOUBLE
9353: EQUAL
9354: IFTRUE 9364
9356: LD_INT 3
9358: DOUBLE
9359: EQUAL
9360: IFTRUE 9364
9362: GO 9390
9364: POP
// SetTech ( 25 , side , GetRestrictions ( false , 25 ) ) ; 2 :
9365: LD_INT 25
9367: PPUSH
9368: LD_VAR 0 2
9372: PPUSH
9373: LD_INT 0
9375: PPUSH
9376: LD_INT 25
9378: PPUSH
9379: CALL_OW 565
9383: PPUSH
9384: CALL_OW 322
9388: GO 9425
9390: LD_INT 2
9392: DOUBLE
9393: EQUAL
9394: IFTRUE 9398
9396: GO 9424
9398: POP
// SetTech ( 73 , side , GetRestrictions ( false , 73 ) ) ; end ;
9399: LD_INT 73
9401: PPUSH
9402: LD_VAR 0 2
9406: PPUSH
9407: LD_INT 0
9409: PPUSH
9410: LD_INT 73
9412: PPUSH
9413: CALL_OW 565
9417: PPUSH
9418: CALL_OW 322
9422: GO 9425
9424: POP
// end ;
9425: GO 9326
9427: POP
9428: POP
// Tech_Level = 8 ;
9429: LD_ADDR_EXP 56
9433: PUSH
9434: LD_INT 8
9436: ST_TO_ADDR
// end ;
9437: LD_VAR 0 1
9441: RET
// export function Start_Zvirata ; begin
9442: LD_INT 0
9444: PPUSH
// if def_amount_of_apemen > 0 then
9445: LD_EXP 22
9449: PUSH
9450: LD_INT 0
9452: GREATER
9453: IFFALSE 9462
// begin StartApe ;
9455: CALL 15125 0 0
// enable ( 493 ) ;
9459: LD_INT 493
9461: ENABLE_MARKED
// end ; if def_amount_of_tiger > 0 then
9462: LD_EXP 23
9466: PUSH
9467: LD_INT 0
9469: GREATER
9470: IFFALSE 9479
// begin StartTig ;
9472: CALL 15875 0 0
// enable ( 494 ) ;
9476: LD_INT 494
9478: ENABLE_MARKED
// end ; end ;
9479: LD_VAR 0 1
9483: RET
// export function Disable_Standard_Games ; begin
9484: LD_INT 0
9486: PPUSH
// disable ( 2 ) ;
9487: LD_INT 2
9489: DISABLE_MARKED
// disable ( 3 ) ;
9490: LD_INT 3
9492: DISABLE_MARKED
// disable ( 4 ) ;
9493: LD_INT 4
9495: DISABLE_MARKED
// disable ( 30 ) ;
9496: LD_INT 30
9498: DISABLE_MARKED
// disable ( 31 ) ;
9499: LD_INT 31
9501: DISABLE_MARKED
// disable ( 60 ) ;
9502: LD_INT 60
9504: DISABLE_MARKED
// disable ( 98 ) ;
9505: LD_INT 98
9507: DISABLE_MARKED
// disable ( 99 ) ;
9508: LD_INT 99
9510: DISABLE_MARKED
// disable ( 100 ) ;
9511: LD_INT 100
9513: DISABLE_MARKED
// disable ( 400 ) ;
9514: LD_INT 400
9516: DISABLE_MARKED
// disable ( 401 ) ;
9517: LD_INT 401
9519: DISABLE_MARKED
// disable ( 493 ) ;
9520: LD_INT 493
9522: DISABLE_MARKED
// disable ( 494 ) ;
9523: LD_INT 494
9525: DISABLE_MARKED
// disable ( 600 ) end ; end_of_file
9526: LD_INT 600
9528: DISABLE_MARKED
9529: LD_VAR 0 1
9533: RET
// export oblasti_beden , start_oblasti_beden , dalsi_oblasti_beden , koof_bedny ; var kontrolni_pocet ; every 1 1$0 + 0 0$1 do
9534: GO 9536
9536: DISABLE
// begin if game_type = GT_Survival then
9537: LD_EXP 1
9541: PUSH
9542: LD_EXP 6
9546: EQUAL
9547: IFFALSE 9551
// exit ;
9549: GO 9573
// CreateCratesArea ( Rand ( 1 , 2 ) , MZBaseArea , true ) ;
9551: LD_INT 1
9553: PPUSH
9554: LD_INT 2
9556: PPUSH
9557: CALL_OW 12
9561: PPUSH
9562: LD_INT 52
9564: PPUSH
9565: LD_INT 1
9567: PPUSH
9568: CALL_OW 55
// enable ;
9572: ENABLE
// end ;
9573: END
// every 0 0$20 do var i , d , shipment , tictac , k , p ;
9574: GO 9576
9576: DISABLE
9577: LD_INT 0
9579: PPUSH
9580: PPUSH
9581: PPUSH
9582: PPUSH
9583: PPUSH
9584: PPUSH
// begin if game_type in GT_Survival then
9585: LD_EXP 1
9589: PUSH
9590: LD_EXP 6
9594: IN
9595: IFFALSE 9599
// exit ;
9597: GO 10495
// shipment := Rand ( 0 , 3 ) ;
9599: LD_ADDR_VAR 0 3
9603: PUSH
9604: LD_INT 0
9606: PPUSH
9607: LD_INT 3
9609: PPUSH
9610: CALL_OW 12
9614: ST_TO_ADDR
// tictac := 0 ;
9615: LD_ADDR_VAR 0 4
9619: PUSH
9620: LD_INT 0
9622: ST_TO_ADDR
// case tick of 1 .. 2 2$0 :
9623: LD_OWVAR 1
9627: PUSH
9628: LD_INT 1
9630: DOUBLE
9631: GREATEREQUAL
9632: IFFALSE 9640
9634: LD_INT 4200
9636: DOUBLE
9637: LESSEQUAL
9638: IFTRUE 9642
9640: GO 9653
9642: POP
// d := 150 ; 2 2$0 + 1 .. 4 4$0 :
9643: LD_ADDR_VAR 0 2
9647: PUSH
9648: LD_INT 150
9650: ST_TO_ADDR
9651: GO 9836
9653: LD_INT 4200
9655: PUSH
9656: LD_INT 1
9658: PLUS
9659: DOUBLE
9660: GREATEREQUAL
9661: IFFALSE 9669
9663: LD_INT 8400
9665: DOUBLE
9666: LESSEQUAL
9667: IFTRUE 9671
9669: GO 9682
9671: POP
// d := 120 ; 4 4$0 + 1 .. 6 6$0 :
9672: LD_ADDR_VAR 0 2
9676: PUSH
9677: LD_INT 120
9679: ST_TO_ADDR
9680: GO 9836
9682: LD_INT 8400
9684: PUSH
9685: LD_INT 1
9687: PLUS
9688: DOUBLE
9689: GREATEREQUAL
9690: IFFALSE 9698
9692: LD_INT 12600
9694: DOUBLE
9695: LESSEQUAL
9696: IFTRUE 9700
9698: GO 9711
9700: POP
// d := 100 ; 6 6$0 + 1 .. 7 7$0 :
9701: LD_ADDR_VAR 0 2
9705: PUSH
9706: LD_INT 100
9708: ST_TO_ADDR
9709: GO 9836
9711: LD_INT 12600
9713: PUSH
9714: LD_INT 1
9716: PLUS
9717: DOUBLE
9718: GREATEREQUAL
9719: IFFALSE 9727
9721: LD_INT 14700
9723: DOUBLE
9724: LESSEQUAL
9725: IFTRUE 9729
9727: GO 9740
9729: POP
// d := 80 ; 7 7$0 + 1 .. 9 9$0 :
9730: LD_ADDR_VAR 0 2
9734: PUSH
9735: LD_INT 80
9737: ST_TO_ADDR
9738: GO 9836
9740: LD_INT 14700
9742: PUSH
9743: LD_INT 1
9745: PLUS
9746: DOUBLE
9747: GREATEREQUAL
9748: IFFALSE 9756
9750: LD_INT 18900
9752: DOUBLE
9753: LESSEQUAL
9754: IFTRUE 9758
9756: GO 9769
9758: POP
// d := 70 ; 9 9$0 + 1 .. 15 15$0 :
9759: LD_ADDR_VAR 0 2
9763: PUSH
9764: LD_INT 70
9766: ST_TO_ADDR
9767: GO 9836
9769: LD_INT 18900
9771: PUSH
9772: LD_INT 1
9774: PLUS
9775: DOUBLE
9776: GREATEREQUAL
9777: IFFALSE 9785
9779: LD_INT 31500
9781: DOUBLE
9782: LESSEQUAL
9783: IFTRUE 9787
9785: GO 9798
9787: POP
// d := 45 ; 15 15$0 + 1 .. 30 30$0 :
9788: LD_ADDR_VAR 0 2
9792: PUSH
9793: LD_INT 45
9795: ST_TO_ADDR
9796: GO 9836
9798: LD_INT 31500
9800: PUSH
9801: LD_INT 1
9803: PLUS
9804: DOUBLE
9805: GREATEREQUAL
9806: IFFALSE 9814
9808: LD_INT 63000
9810: DOUBLE
9811: LESSEQUAL
9812: IFTRUE 9816
9814: GO 9827
9816: POP
// d := 30 ; else
9817: LD_ADDR_VAR 0 2
9821: PUSH
9822: LD_INT 30
9824: ST_TO_ADDR
9825: GO 9836
9827: POP
// d := 20 ; end ;
9828: LD_ADDR_VAR 0 2
9832: PUSH
9833: LD_INT 20
9835: ST_TO_ADDR
// if GetResourceArea ( celamapa , mat_cans ) < ( 100 + shipments_density * koof_bedny ) then
9836: LD_INT 32
9838: PPUSH
9839: LD_INT 1
9841: PPUSH
9842: CALL_OW 287
9846: PUSH
9847: LD_INT 100
9849: PUSH
9850: LD_EXP 45
9854: PUSH
9855: LD_EXP 100
9859: MUL
9860: PLUS
9861: LESS
9862: IFFALSE 10494
// if rand ( 1 , 10000 ) <= d * shipments_density then
9864: LD_INT 1
9866: PPUSH
9867: LD_INT 10000
9869: PPUSH
9870: CALL_OW 12
9874: PUSH
9875: LD_VAR 0 2
9879: PUSH
9880: LD_EXP 45
9884: MUL
9885: LESSEQUAL
9886: IFFALSE 10130
// begin k = Rand ( 2 , 4 ) ;
9888: LD_ADDR_VAR 0 5
9892: PUSH
9893: LD_INT 2
9895: PPUSH
9896: LD_INT 4
9898: PPUSH
9899: CALL_OW 12
9903: ST_TO_ADDR
// if start_oblasti_beden then
9904: LD_EXP 98
9908: IFFALSE 10009
// begin for i := 1 to 8 do
9910: LD_ADDR_VAR 0 1
9914: PUSH
9915: DOUBLE
9916: LD_INT 1
9918: DEC
9919: ST_TO_ADDR
9920: LD_INT 8
9922: PUSH
9923: FOR_TO
9924: IFFALSE 10005
// if side_positions [ i ] <> 0 then
9926: LD_EXP 74
9930: PUSH
9931: LD_VAR 0 1
9935: ARRAY
9936: PUSH
9937: LD_INT 0
9939: NONEQUAL
9940: IFFALSE 10003
// for p in pozice_beden [ i ] do
9942: LD_ADDR_VAR 0 6
9946: PUSH
9947: LD_EXP 8
9951: PUSH
9952: LD_VAR 0 1
9956: ARRAY
9957: PUSH
9958: FOR_IN
9959: IFFALSE 10001
// begin CreateCratesArea ( k , start_oblasti_beden [ p ] , true ) ;
9961: LD_VAR 0 5
9965: PPUSH
9966: LD_EXP 98
9970: PUSH
9971: LD_VAR 0 6
9975: ARRAY
9976: PPUSH
9977: LD_INT 1
9979: PPUSH
9980: CALL_OW 55
// Wait ( rand ( 2 , 0 0$2 ) ) ;
9984: LD_INT 2
9986: PPUSH
9987: LD_INT 70
9989: PPUSH
9990: CALL_OW 12
9994: PPUSH
9995: CALL_OW 67
// end ;
9999: GO 9958
10001: POP
10002: POP
10003: GO 9923
10005: POP
10006: POP
// end else
10007: GO 10128
// begin for i := 1 to 8 do
10009: LD_ADDR_VAR 0 1
10013: PUSH
10014: DOUBLE
10015: LD_INT 1
10017: DEC
10018: ST_TO_ADDR
10019: LD_INT 8
10021: PUSH
10022: FOR_TO
10023: IFFALSE 10126
// if side_positions [ i ] <> 0 then
10025: LD_EXP 74
10029: PUSH
10030: LD_VAR 0 1
10034: ARRAY
10035: PUSH
10036: LD_INT 0
10038: NONEQUAL
10039: IFFALSE 10124
// for p in pozice_beden [ i ] do
10041: LD_ADDR_VAR 0 6
10045: PUSH
10046: LD_EXP 8
10050: PUSH
10051: LD_VAR 0 1
10055: ARRAY
10056: PUSH
10057: FOR_IN
10058: IFFALSE 10122
// begin CreateCratesXYR ( k , start_def [ p ] [ 1 ] , start_def [ p ] [ 2 ] , 20 , true ) ;
10060: LD_VAR 0 5
10064: PPUSH
10065: LD_EXP 82
10069: PUSH
10070: LD_VAR 0 6
10074: ARRAY
10075: PUSH
10076: LD_INT 1
10078: ARRAY
10079: PPUSH
10080: LD_EXP 82
10084: PUSH
10085: LD_VAR 0 6
10089: ARRAY
10090: PUSH
10091: LD_INT 2
10093: ARRAY
10094: PPUSH
10095: LD_INT 20
10097: PPUSH
10098: LD_INT 1
10100: PPUSH
10101: CALL_OW 56
// wait ( rand ( 2 , 0 0$2 ) ) ;
10105: LD_INT 2
10107: PPUSH
10108: LD_INT 70
10110: PPUSH
10111: CALL_OW 12
10115: PPUSH
10116: CALL_OW 67
// end ;
10120: GO 10057
10122: POP
10123: POP
10124: GO 10022
10126: POP
10127: POP
// end ; end else
10128: GO 10494
// if rand ( 1 , 10000 ) <= ( 150 - d ) * shipments_density then
10130: LD_INT 1
10132: PPUSH
10133: LD_INT 10000
10135: PPUSH
10136: CALL_OW 12
10140: PUSH
10141: LD_INT 150
10143: PUSH
10144: LD_VAR 0 2
10148: MINUS
10149: PUSH
10150: LD_EXP 45
10154: MUL
10155: LESSEQUAL
10156: IFFALSE 10494
// begin k := Rand ( 1 , 4 ) ;
10158: LD_ADDR_VAR 0 5
10162: PUSH
10163: LD_INT 1
10165: PPUSH
10166: LD_INT 4
10168: PPUSH
10169: CALL_OW 12
10173: ST_TO_ADDR
// wait ( rand ( 2 , 0 0$4 ) ) ;
10174: LD_INT 2
10176: PPUSH
10177: LD_INT 140
10179: PPUSH
10180: CALL_OW 12
10184: PPUSH
10185: CALL_OW 67
// if oblasti_beden then
10189: LD_EXP 97
10193: IFFALSE 10294
// begin for i := 1 to 8 do
10195: LD_ADDR_VAR 0 1
10199: PUSH
10200: DOUBLE
10201: LD_INT 1
10203: DEC
10204: ST_TO_ADDR
10205: LD_INT 8
10207: PUSH
10208: FOR_TO
10209: IFFALSE 10290
// if side_positions [ i ] <> 0 then
10211: LD_EXP 74
10215: PUSH
10216: LD_VAR 0 1
10220: ARRAY
10221: PUSH
10222: LD_INT 0
10224: NONEQUAL
10225: IFFALSE 10288
// for p in pozice_beden [ i ] do
10227: LD_ADDR_VAR 0 6
10231: PUSH
10232: LD_EXP 8
10236: PUSH
10237: LD_VAR 0 1
10241: ARRAY
10242: PUSH
10243: FOR_IN
10244: IFFALSE 10286
// begin CreateCratesArea ( k , oblasti_beden [ p ] , true ) ;
10246: LD_VAR 0 5
10250: PPUSH
10251: LD_EXP 97
10255: PUSH
10256: LD_VAR 0 6
10260: ARRAY
10261: PPUSH
10262: LD_INT 1
10264: PPUSH
10265: CALL_OW 55
// Wait ( rand ( 2 , 0 0$1 ) ) ;
10269: LD_INT 2
10271: PPUSH
10272: LD_INT 35
10274: PPUSH
10275: CALL_OW 12
10279: PPUSH
10280: CALL_OW 67
// end ;
10284: GO 10243
10286: POP
10287: POP
10288: GO 10208
10290: POP
10291: POP
// end else
10292: GO 10413
// begin for i := 1 to 8 do
10294: LD_ADDR_VAR 0 1
10298: PUSH
10299: DOUBLE
10300: LD_INT 1
10302: DEC
10303: ST_TO_ADDR
10304: LD_INT 8
10306: PUSH
10307: FOR_TO
10308: IFFALSE 10411
// if side_positions [ i ] <> 0 then
10310: LD_EXP 74
10314: PUSH
10315: LD_VAR 0 1
10319: ARRAY
10320: PUSH
10321: LD_INT 0
10323: NONEQUAL
10324: IFFALSE 10409
// for p in pozice_beden [ i ] do
10326: LD_ADDR_VAR 0 6
10330: PUSH
10331: LD_EXP 8
10335: PUSH
10336: LD_VAR 0 1
10340: ARRAY
10341: PUSH
10342: FOR_IN
10343: IFFALSE 10407
// begin CreateCratesXYR ( k , start_def [ p ] [ 1 ] , start_def [ p ] [ 2 ] , 20 , true ) ;
10345: LD_VAR 0 5
10349: PPUSH
10350: LD_EXP 82
10354: PUSH
10355: LD_VAR 0 6
10359: ARRAY
10360: PUSH
10361: LD_INT 1
10363: ARRAY
10364: PPUSH
10365: LD_EXP 82
10369: PUSH
10370: LD_VAR 0 6
10374: ARRAY
10375: PUSH
10376: LD_INT 2
10378: ARRAY
10379: PPUSH
10380: LD_INT 20
10382: PPUSH
10383: LD_INT 1
10385: PPUSH
10386: CALL_OW 56
// wait ( rand ( 2 , 0 0$2 ) ) ;
10390: LD_INT 2
10392: PPUSH
10393: LD_INT 70
10395: PPUSH
10396: CALL_OW 12
10400: PPUSH
10401: CALL_OW 67
// end ;
10405: GO 10342
10407: POP
10408: POP
10409: GO 10307
10411: POP
10412: POP
// end ; if dalsi_oblasti_beden then
10413: LD_EXP 99
10417: IFFALSE 10494
// for k in dalsi_oblasti_beden do
10419: LD_ADDR_VAR 0 5
10423: PUSH
10424: LD_EXP 99
10428: PUSH
10429: FOR_IN
10430: IFFALSE 10492
// for i := 1 to Rand ( 1 , 3 ) do
10432: LD_ADDR_VAR 0 1
10436: PUSH
10437: DOUBLE
10438: LD_INT 1
10440: DEC
10441: ST_TO_ADDR
10442: LD_INT 1
10444: PPUSH
10445: LD_INT 3
10447: PPUSH
10448: CALL_OW 12
10452: PUSH
10453: FOR_TO
10454: IFFALSE 10488
// begin CreateCratesArea ( Rand ( 3 , 5 ) , k , true ) ;
10456: LD_INT 3
10458: PPUSH
10459: LD_INT 5
10461: PPUSH
10462: CALL_OW 12
10466: PPUSH
10467: LD_VAR 0 5
10471: PPUSH
10472: LD_INT 1
10474: PPUSH
10475: CALL_OW 55
// Wait ( 2 ) ;
10479: LD_INT 2
10481: PPUSH
10482: CALL_OW 67
// end ;
10486: GO 10453
10488: POP
10489: POP
10490: GO 10429
10492: POP
10493: POP
// end ; enable ;
10494: ENABLE
// end ; end_of_file
10495: PPOPN 6
10497: END
// var respawn , inqueue , nation , nations , noposn ; export function init_respawn ; var i , pos ; begin
10498: LD_INT 0
10500: PPUSH
10501: PPUSH
10502: PPUSH
// nation := rand ( 1 , 3 ) ;
10503: LD_ADDR_LOC 4
10507: PUSH
10508: LD_INT 1
10510: PPUSH
10511: LD_INT 3
10513: PPUSH
10514: CALL_OW 12
10518: ST_TO_ADDR
// respawn := Rand ( 1 , 8 ) ;
10519: LD_ADDR_LOC 2
10523: PUSH
10524: LD_INT 1
10526: PPUSH
10527: LD_INT 8
10529: PPUSH
10530: CALL_OW 12
10534: ST_TO_ADDR
// Nations = [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
10535: LD_ADDR_LOC 5
10539: PUSH
10540: EMPTY
10541: PUSH
10542: EMPTY
10543: PUSH
10544: EMPTY
10545: PUSH
10546: EMPTY
10547: PUSH
10548: EMPTY
10549: PUSH
10550: EMPTY
10551: PUSH
10552: EMPTY
10553: PUSH
10554: EMPTY
10555: PUSH
10556: EMPTY
10557: LIST
10558: LIST
10559: LIST
10560: LIST
10561: LIST
10562: LIST
10563: LIST
10564: LIST
10565: ST_TO_ADDR
// inqueue := [ [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] ] ;
10566: LD_ADDR_LOC 3
10570: PUSH
10571: LD_INT 0
10573: PUSH
10574: LD_INT 0
10576: PUSH
10577: LD_INT 0
10579: PUSH
10580: EMPTY
10581: LIST
10582: LIST
10583: LIST
10584: PUSH
10585: LD_INT 0
10587: PUSH
10588: LD_INT 0
10590: PUSH
10591: LD_INT 0
10593: PUSH
10594: EMPTY
10595: LIST
10596: LIST
10597: LIST
10598: PUSH
10599: LD_INT 0
10601: PUSH
10602: LD_INT 0
10604: PUSH
10605: LD_INT 0
10607: PUSH
10608: EMPTY
10609: LIST
10610: LIST
10611: LIST
10612: PUSH
10613: LD_INT 0
10615: PUSH
10616: LD_INT 0
10618: PUSH
10619: LD_INT 0
10621: PUSH
10622: EMPTY
10623: LIST
10624: LIST
10625: LIST
10626: PUSH
10627: LD_INT 0
10629: PUSH
10630: LD_INT 0
10632: PUSH
10633: LD_INT 0
10635: PUSH
10636: EMPTY
10637: LIST
10638: LIST
10639: LIST
10640: PUSH
10641: LD_INT 0
10643: PUSH
10644: LD_INT 0
10646: PUSH
10647: LD_INT 0
10649: PUSH
10650: EMPTY
10651: LIST
10652: LIST
10653: LIST
10654: PUSH
10655: LD_INT 0
10657: PUSH
10658: LD_INT 0
10660: PUSH
10661: LD_INT 0
10663: PUSH
10664: EMPTY
10665: LIST
10666: LIST
10667: LIST
10668: PUSH
10669: LD_INT 0
10671: PUSH
10672: LD_INT 0
10674: PUSH
10675: LD_INT 0
10677: PUSH
10678: EMPTY
10679: LIST
10680: LIST
10681: LIST
10682: PUSH
10683: EMPTY
10684: LIST
10685: LIST
10686: LIST
10687: LIST
10688: LIST
10689: LIST
10690: LIST
10691: LIST
10692: ST_TO_ADDR
// for i := 1 to 8 do
10693: LD_ADDR_VAR 0 2
10697: PUSH
10698: DOUBLE
10699: LD_INT 1
10701: DEC
10702: ST_TO_ADDR
10703: LD_INT 8
10705: PUSH
10706: FOR_TO
10707: IFFALSE 10812
// if Side_Positions [ i ] then
10709: LD_EXP 74
10713: PUSH
10714: LD_VAR 0 2
10718: ARRAY
10719: IFFALSE 10810
// begin if Game_Type in GT_DoubleNat ^ GT_TripleNat then
10721: LD_EXP 1
10725: PUSH
10726: LD_EXP 3
10730: PUSH
10731: LD_EXP 5
10735: ADD
10736: IN
10737: IFFALSE 10776
// nations = replace ( nations , i , Position_Nations [ i ] diff 0 ) else
10739: LD_ADDR_LOC 5
10743: PUSH
10744: LD_LOC 5
10748: PPUSH
10749: LD_VAR 0 2
10753: PPUSH
10754: LD_EXP 52
10758: PUSH
10759: LD_VAR 0 2
10763: ARRAY
10764: PUSH
10765: LD_INT 0
10767: DIFF
10768: PPUSH
10769: CALL_OW 1
10773: ST_TO_ADDR
10774: GO 10810
// nations = replace ( nations , i , [ Side_Nations [ i ] ] ) ;
10776: LD_ADDR_LOC 5
10780: PUSH
10781: LD_LOC 5
10785: PPUSH
10786: LD_VAR 0 2
10790: PPUSH
10791: LD_EXP 75
10795: PUSH
10796: LD_VAR 0 2
10800: ARRAY
10801: PUSH
10802: EMPTY
10803: LIST
10804: PPUSH
10805: CALL_OW 1
10809: ST_TO_ADDR
// end ;
10810: GO 10706
10812: POP
10813: POP
// if Game_Type in GT_DoublePeople then
10814: LD_EXP 1
10818: PUSH
10819: LD_EXP 4
10823: IN
10824: IFFALSE 10842
// noposn = number_of_people * 2 else
10826: LD_ADDR_LOC 6
10830: PUSH
10831: LD_EXP 40
10835: PUSH
10836: LD_INT 2
10838: MUL
10839: ST_TO_ADDR
10840: GO 10852
// noposn = number_of_people ;
10842: LD_ADDR_LOC 6
10846: PUSH
10847: LD_EXP 40
10851: ST_TO_ADDR
// SetRespawningTime ( respawning_time_min , respawning_time_max , respawning_time_delay_min , respawning_time_delay_max ) ;
10852: LD_EXP 49
10856: PPUSH
10857: LD_EXP 51
10861: PPUSH
10862: LD_EXP 53
10866: PPUSH
10867: LD_EXP 54
10871: PPUSH
10872: CALL 11612 0 4
// end ;
10876: LD_VAR 0 1
10880: RET
// every 0 0$1 + 0 0$0.5 do var n , building_list , aktresp , b , skills , k ;
10881: GO 10883
10883: DISABLE
10884: LD_INT 0
10886: PPUSH
10887: PPUSH
10888: PPUSH
10889: PPUSH
10890: PPUSH
10891: PPUSH
// begin if def_respawining_type = 0 then
10892: LD_EXP 24
10896: PUSH
10897: LD_INT 0
10899: EQUAL
10900: IFFALSE 10906
// exit else
10902: GO 11311
10904: GO 11311
// if def_respawining_type in [ 2 , 3 ] then
10906: LD_EXP 24
10910: PUSH
10911: LD_INT 2
10913: PUSH
10914: LD_INT 3
10916: PUSH
10917: EMPTY
10918: LIST
10919: LIST
10920: IN
10921: IFFALSE 11277
// begin if respawn = 8 then
10923: LD_LOC 2
10927: PUSH
10928: LD_INT 8
10930: EQUAL
10931: IFFALSE 10977
// begin respawn := 1 ;
10933: LD_ADDR_LOC 2
10937: PUSH
10938: LD_INT 1
10940: ST_TO_ADDR
// if nation = 3 then
10941: LD_LOC 4
10945: PUSH
10946: LD_INT 3
10948: EQUAL
10949: IFFALSE 10961
// nation := 1 else
10951: LD_ADDR_LOC 4
10955: PUSH
10956: LD_INT 1
10958: ST_TO_ADDR
10959: GO 10975
// nation := nation + 1 ;
10961: LD_ADDR_LOC 4
10965: PUSH
10966: LD_LOC 4
10970: PUSH
10971: LD_INT 1
10973: PLUS
10974: ST_TO_ADDR
// end else
10975: GO 10991
// respawn := respawn + 1 ;
10977: LD_ADDR_LOC 2
10981: PUSH
10982: LD_LOC 2
10986: PUSH
10987: LD_INT 1
10989: PLUS
10990: ST_TO_ADDR
// if Side_Positions [ respawn ] then
10991: LD_EXP 74
10995: PUSH
10996: LD_LOC 2
11000: ARRAY
11001: IFFALSE 11274
// begin if nation in nations [ respawn ] then
11003: LD_LOC 4
11007: PUSH
11008: LD_LOC 5
11012: PUSH
11013: LD_LOC 2
11017: ARRAY
11018: IN
11019: IFFALSE 11271
// begin if def_desert_warior < 2 then
11021: LD_EXP 31
11025: PUSH
11026: LD_INT 2
11028: LESS
11029: IFFALSE 11082
// n := FilterAllUnits ( [ [ f_type , unit_human ] , [ f_side , respawn ] , [ f_nation , nation ] , ] ) else
11031: LD_ADDR_VAR 0 1
11035: PUSH
11036: LD_INT 21
11038: PUSH
11039: LD_INT 1
11041: PUSH
11042: EMPTY
11043: LIST
11044: LIST
11045: PUSH
11046: LD_INT 22
11048: PUSH
11049: LD_LOC 2
11053: PUSH
11054: EMPTY
11055: LIST
11056: LIST
11057: PUSH
11058: LD_INT 23
11060: PUSH
11061: LD_LOC 4
11065: PUSH
11066: EMPTY
11067: LIST
11068: LIST
11069: PUSH
11070: EMPTY
11071: LIST
11072: LIST
11073: LIST
11074: PPUSH
11075: CALL_OW 69
11079: ST_TO_ADDR
11080: GO 11146
// n := FilterAllUnits ( [ [ f_type , unit_human ] , [ f_side , respawn ] , [ f_nation , nation ] , f_not , [ f_class , class_desert_warior ] , ] ) ;
11082: LD_ADDR_VAR 0 1
11086: PUSH
11087: LD_INT 21
11089: PUSH
11090: LD_INT 1
11092: PUSH
11093: EMPTY
11094: LIST
11095: LIST
11096: PUSH
11097: LD_INT 22
11099: PUSH
11100: LD_LOC 2
11104: PUSH
11105: EMPTY
11106: LIST
11107: LIST
11108: PUSH
11109: LD_INT 23
11111: PUSH
11112: LD_LOC 4
11116: PUSH
11117: EMPTY
11118: LIST
11119: LIST
11120: PUSH
11121: LD_INT 3
11123: PUSH
11124: LD_INT 25
11126: PUSH
11127: LD_INT 11
11129: PUSH
11130: EMPTY
11131: LIST
11132: LIST
11133: PUSH
11134: EMPTY
11135: LIST
11136: LIST
11137: LIST
11138: LIST
11139: LIST
11140: PPUSH
11141: CALL_OW 69
11145: ST_TO_ADDR
// if ( n + inqueue [ respawn ] [ nation ] ) < noposn then
11146: LD_VAR 0 1
11150: PUSH
11151: LD_LOC 3
11155: PUSH
11156: LD_LOC 2
11160: ARRAY
11161: PUSH
11162: LD_LOC 4
11166: ARRAY
11167: PLUS
11168: PUSH
11169: LD_LOC 6
11173: LESS
11174: IFFALSE 11268
// begin aktresp := respawn ;
11176: LD_ADDR_VAR 0 3
11180: PUSH
11181: LD_LOC 2
11185: ST_TO_ADDR
// inqueue := Replace ( inqueue , aktresp , replace ( inqueue [ aktresp ] , nation , inqueue [ aktresp ] [ nation ] + 1 ) ) ;
11186: LD_ADDR_LOC 3
11190: PUSH
11191: LD_LOC 3
11195: PPUSH
11196: LD_VAR 0 3
11200: PPUSH
11201: LD_LOC 3
11205: PUSH
11206: LD_VAR 0 3
11210: ARRAY
11211: PPUSH
11212: LD_LOC 4
11216: PPUSH
11217: LD_LOC 3
11221: PUSH
11222: LD_VAR 0 3
11226: ARRAY
11227: PUSH
11228: LD_LOC 4
11232: ARRAY
11233: PUSH
11234: LD_INT 1
11236: PLUS
11237: PPUSH
11238: CALL_OW 1
11242: PPUSH
11243: CALL_OW 1
11247: ST_TO_ADDR
// enable ;
11248: ENABLE
// ObnovCloveka ( aktresp , nation , false ) ;
11249: LD_VAR 0 3
11253: PPUSH
11254: LD_LOC 4
11258: PPUSH
11259: LD_INT 0
11261: PPUSH
11262: CALL 11726 0 3
// end else
11266: GO 11269
// enable ;
11268: ENABLE
// end else
11269: GO 11272
// enable ;
11271: ENABLE
// end else
11272: GO 11275
// enable ;
11274: ENABLE
// end else
11275: GO 11311
// if def_respawining_type = 1 then
11277: LD_EXP 24
11281: PUSH
11282: LD_INT 1
11284: EQUAL
11285: IFFALSE 11311
// begin wait ( rand ( respawning_time_min , respawning_time_max ) ) ;
11287: LD_EXP 49
11291: PPUSH
11292: LD_EXP 51
11296: PPUSH
11297: CALL_OW 12
11301: PPUSH
11302: CALL_OW 67
// Vytvor_noveho_cloveka_pro_vsechny ;
11306: CALL 12811 0 0
// enable ;
11310: ENABLE
// end end ;
11311: PPOPN 6
11313: END
// export function OnHumanRespawned ( un ) ; var side , nation ; begin
11314: LD_INT 0
11316: PPUSH
11317: PPUSH
11318: PPUSH
// wait ( 0 0$30 ) ;
11319: LD_INT 1050
11321: PPUSH
11322: CALL_OW 67
// side = GetSide ( un ) ;
11326: LD_ADDR_VAR 0 3
11330: PUSH
11331: LD_VAR 0 1
11335: PPUSH
11336: CALL_OW 255
11340: ST_TO_ADDR
// nation = GetNation ( un ) ;
11341: LD_ADDR_VAR 0 4
11345: PUSH
11346: LD_VAR 0 1
11350: PPUSH
11351: CALL_OW 248
11355: ST_TO_ADDR
// inqueue := Replace ( inqueue , side , replace ( inqueue [ side ] , nation , inqueue [ side ] [ nation ] - 1 ) ) ;
11356: LD_ADDR_LOC 3
11360: PUSH
11361: LD_LOC 3
11365: PPUSH
11366: LD_VAR 0 3
11370: PPUSH
11371: LD_LOC 3
11375: PUSH
11376: LD_VAR 0 3
11380: ARRAY
11381: PPUSH
11382: LD_VAR 0 4
11386: PPUSH
11387: LD_LOC 3
11391: PUSH
11392: LD_VAR 0 3
11396: ARRAY
11397: PUSH
11398: LD_VAR 0 4
11402: ARRAY
11403: PUSH
11404: LD_INT 1
11406: MINUS
11407: PPUSH
11408: CALL_OW 1
11412: PPUSH
11413: CALL_OW 1
11417: ST_TO_ADDR
// end ;
11418: LD_VAR 0 2
11422: RET
// export function RespawnHumanDestroyed ( identifier , side , nation , x , y , direction , sex , cl ) ; begin
11423: LD_INT 0
11425: PPUSH
// if def_respawining_type < 2 then
11426: LD_EXP 24
11430: PUSH
11431: LD_INT 2
11433: LESS
11434: IFFALSE 11438
// exit ;
11436: GO 11607
// if nation = nation_nature or side = 0 then
11438: LD_VAR 0 3
11442: PUSH
11443: LD_INT 0
11445: EQUAL
11446: PUSH
11447: LD_VAR 0 2
11451: PUSH
11452: LD_INT 0
11454: EQUAL
11455: OR
11456: IFFALSE 11460
// exit ;
11458: GO 11607
// if not Side_Positions [ side ] then
11460: LD_EXP 74
11464: PUSH
11465: LD_VAR 0 2
11469: ARRAY
11470: NOT
11471: IFFALSE 11475
// exit ;
11473: GO 11607
// if def_desert_warior = 2 then
11475: LD_EXP 31
11479: PUSH
11480: LD_INT 2
11482: EQUAL
11483: IFFALSE 11497
// if cl = class_desert_warior then
11485: LD_VAR 0 8
11489: PUSH
11490: LD_INT 11
11492: EQUAL
11493: IFFALSE 11497
// exit ;
11495: GO 11607
// inqueue := Replace ( inqueue , side , replace ( inqueue [ side ] , nation , inqueue [ side ] [ nation ] + 1 ) ) ;
11497: LD_ADDR_LOC 3
11501: PUSH
11502: LD_LOC 3
11506: PPUSH
11507: LD_VAR 0 2
11511: PPUSH
11512: LD_LOC 3
11516: PUSH
11517: LD_VAR 0 2
11521: ARRAY
11522: PPUSH
11523: LD_VAR 0 3
11527: PPUSH
11528: LD_LOC 3
11532: PUSH
11533: LD_VAR 0 2
11537: ARRAY
11538: PUSH
11539: LD_VAR 0 3
11543: ARRAY
11544: PUSH
11545: LD_INT 1
11547: PLUS
11548: PPUSH
11549: CALL_OW 1
11553: PPUSH
11554: CALL_OW 1
11558: ST_TO_ADDR
// if def_respawining_type = 2 then
11559: LD_EXP 24
11563: PUSH
11564: LD_INT 2
11566: EQUAL
11567: IFFALSE 11590
// ObnovCloveka ( side , nation , identifier ) else
11569: LD_VAR 0 2
11573: PPUSH
11574: LD_VAR 0 3
11578: PPUSH
11579: LD_VAR 0 1
11583: PPUSH
11584: CALL 11726 0 3
11588: GO 11607
// ObnovCloveka ( side , nation , false ) ;
11590: LD_VAR 0 2
11594: PPUSH
11595: LD_VAR 0 3
11599: PPUSH
11600: LD_INT 0
11602: PPUSH
11603: CALL 11726 0 3
// end ;
11607: LD_VAR 0 9
11611: RET
// export ObnovCas , ObnovZpozdeni ; export function SetRespawningTime ( minBTime , maxBTime , MinDelay , MaxDelay ) ; var k ; begin
11612: LD_INT 0
11614: PPUSH
11615: PPUSH
// k = Rand ( minBTime , maxBTime ) ;
11616: LD_ADDR_VAR 0 6
11620: PUSH
11621: LD_VAR 0 1
11625: PPUSH
11626: LD_VAR 0 2
11630: PPUSH
11631: CALL_OW 12
11635: ST_TO_ADDR
// ObnovCas = [ k , k , k , k , k , k , k , k ] ;
11636: LD_ADDR_EXP 101
11640: PUSH
11641: LD_VAR 0 6
11645: PUSH
11646: LD_VAR 0 6
11650: PUSH
11651: LD_VAR 0 6
11655: PUSH
11656: LD_VAR 0 6
11660: PUSH
11661: LD_VAR 0 6
11665: PUSH
11666: LD_VAR 0 6
11670: PUSH
11671: LD_VAR 0 6
11675: PUSH
11676: LD_VAR 0 6
11680: PUSH
11681: EMPTY
11682: LIST
11683: LIST
11684: LIST
11685: LIST
11686: LIST
11687: LIST
11688: LIST
11689: LIST
11690: ST_TO_ADDR
// k = Rand ( minDelay , MaxDelay ) ;
11691: LD_ADDR_VAR 0 6
11695: PUSH
11696: LD_VAR 0 3
11700: PPUSH
11701: LD_VAR 0 4
11705: PPUSH
11706: CALL_OW 12
11710: ST_TO_ADDR
// ObnovZpozdeni = k ;
11711: LD_ADDR_EXP 102
11715: PUSH
11716: LD_VAR 0 6
11720: ST_TO_ADDR
// end ;
11721: LD_VAR 0 5
11725: RET
// export unit_list ; export function ObnovCloveka ( side , nation , restored ) ; var building_list , b , n , un , k , i , base_skills , speed , def ; begin
11726: LD_INT 0
11728: PPUSH
11729: PPUSH
11730: PPUSH
11731: PPUSH
11732: PPUSH
11733: PPUSH
11734: PPUSH
11735: PPUSH
11736: PPUSH
11737: PPUSH
// if ObnovCas [ side ] = 0 then
11738: LD_EXP 101
11742: PUSH
11743: LD_VAR 0 1
11747: ARRAY
11748: PUSH
11749: LD_INT 0
11751: EQUAL
11752: IFFALSE 11756
// exit ;
11754: GO 12401
// uc_nation := nation ;
11756: LD_ADDR_OWVAR 21
11760: PUSH
11761: LD_VAR 0 2
11765: ST_TO_ADDR
// uc_side := side ;
11766: LD_ADDR_OWVAR 20
11770: PUSH
11771: LD_VAR 0 1
11775: ST_TO_ADDR
// uc_direction := Rand ( 0 , 5 ) ;
11776: LD_ADDR_OWVAR 24
11780: PUSH
11781: LD_INT 0
11783: PPUSH
11784: LD_INT 5
11786: PPUSH
11787: CALL_OW 12
11791: ST_TO_ADDR
// if restored then
11792: LD_VAR 0 3
11796: IFFALSE 11879
// begin hc_class = GetClass ( restored ) ;
11798: LD_ADDR_OWVAR 28
11802: PUSH
11803: LD_VAR 0 3
11807: PPUSH
11808: CALL_OW 257
11812: ST_TO_ADDR
// hc_attr = [ GetAttr ( restored , attr_stamina ) , GetAttr ( restored , attr_speed ) ] ;
11813: LD_ADDR_OWVAR 29
11817: PUSH
11818: LD_VAR 0 3
11822: PPUSH
11823: LD_INT 1
11825: PPUSH
11826: CALL_OW 260
11830: PUSH
11831: LD_VAR 0 3
11835: PPUSH
11836: LD_INT 2
11838: PPUSH
11839: CALL_OW 260
11843: PUSH
11844: EMPTY
11845: LIST
11846: LIST
11847: ST_TO_ADDR
// if hc_class in [ class_sniper , class_bazooker , class_mortar ] then
11848: LD_OWVAR 28
11852: PUSH
11853: LD_INT 5
11855: PUSH
11856: LD_INT 9
11858: PUSH
11859: LD_INT 8
11861: PUSH
11862: EMPTY
11863: LIST
11864: LIST
11865: LIST
11866: IN
11867: IFFALSE 11877
// hc_class = class_soldier ;
11869: LD_ADDR_OWVAR 28
11873: PUSH
11874: LD_INT 1
11876: ST_TO_ADDR
// end else
11877: GO 11888
// randomHumanStats ( initial_level ) ;
11879: LD_EXP 42
11883: PPUSH
11884: CALL 17334 0 1
// hc_importance := 0 ;
11888: LD_ADDR_OWVAR 32
11892: PUSH
11893: LD_INT 0
11895: ST_TO_ADDR
// hc_gallery :=  ;
11896: LD_ADDR_OWVAR 33
11900: PUSH
11901: LD_STRING 
11903: ST_TO_ADDR
// hc_face_number := 0 ;
11904: LD_ADDR_OWVAR 34
11908: PUSH
11909: LD_INT 0
11911: ST_TO_ADDR
// hc_name =  ;
11912: LD_ADDR_OWVAR 26
11916: PUSH
11917: LD_STRING 
11919: ST_TO_ADDR
// un := CreateHuman ;
11920: LD_ADDR_VAR 0 8
11924: PUSH
11925: CALL_OW 44
11929: ST_TO_ADDR
// if restored then
11930: LD_VAR 0 3
11934: IFFALSE 11950
// CopySkills ( restored , un ) ;
11936: LD_VAR 0 3
11940: PPUSH
11941: LD_VAR 0 8
11945: PPUSH
11946: CALL_OW 510
// k = ObnovCas [ side ] + ObnovZpozdeni ;
11950: LD_ADDR_VAR 0 9
11954: PUSH
11955: LD_EXP 101
11959: PUSH
11960: LD_VAR 0 1
11964: ARRAY
11965: PUSH
11966: LD_EXP 102
11970: PLUS
11971: ST_TO_ADDR
// ObnovCas = Replace ( ObnovCas , side , k ) ;
11972: LD_ADDR_EXP 101
11976: PUSH
11977: LD_EXP 101
11981: PPUSH
11982: LD_VAR 0 1
11986: PPUSH
11987: LD_VAR 0 9
11991: PPUSH
11992: CALL_OW 1
11996: ST_TO_ADDR
// wait ( ObnovCas [ side ] - ObnovZpozdeni ) ;
11997: LD_EXP 101
12001: PUSH
12002: LD_VAR 0 1
12006: ARRAY
12007: PUSH
12008: LD_EXP 102
12012: MINUS
12013: PPUSH
12014: CALL_OW 67
// if not ( HasPower ( side ) ) then
12018: LD_VAR 0 1
12022: PPUSH
12023: CALL 13223 0 1
12027: NOT
12028: IFFALSE 12032
// exit ;
12030: GO 12401
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_ok ] , [ f_side , side ] , [ f_nation , nation ] ] ) ;
12032: LD_ADDR_VAR 0 5
12036: PUSH
12037: LD_INT 21
12039: PUSH
12040: LD_INT 3
12042: PUSH
12043: EMPTY
12044: LIST
12045: LIST
12046: PUSH
12047: LD_INT 2
12049: PUSH
12050: LD_INT 30
12052: PUSH
12053: LD_INT 0
12055: PUSH
12056: EMPTY
12057: LIST
12058: LIST
12059: PUSH
12060: LD_INT 30
12062: PUSH
12063: LD_INT 1
12065: PUSH
12066: EMPTY
12067: LIST
12068: LIST
12069: PUSH
12070: EMPTY
12071: LIST
12072: LIST
12073: LIST
12074: PUSH
12075: LD_INT 50
12077: PUSH
12078: EMPTY
12079: LIST
12080: PUSH
12081: LD_INT 22
12083: PUSH
12084: LD_VAR 0 1
12088: PUSH
12089: EMPTY
12090: LIST
12091: LIST
12092: PUSH
12093: LD_INT 23
12095: PUSH
12096: LD_VAR 0 2
12100: PUSH
12101: EMPTY
12102: LIST
12103: LIST
12104: PUSH
12105: EMPTY
12106: LIST
12107: LIST
12108: LIST
12109: LIST
12110: LIST
12111: PPUSH
12112: CALL_OW 69
12116: ST_TO_ADDR
// if building_list = 0 then
12117: LD_VAR 0 5
12121: PUSH
12122: LD_INT 0
12124: EQUAL
12125: IFFALSE 12199
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_ok ] , [ f_side , side ] ] ) ;
12127: LD_ADDR_VAR 0 5
12131: PUSH
12132: LD_INT 21
12134: PUSH
12135: LD_INT 3
12137: PUSH
12138: EMPTY
12139: LIST
12140: LIST
12141: PUSH
12142: LD_INT 2
12144: PUSH
12145: LD_INT 30
12147: PUSH
12148: LD_INT 0
12150: PUSH
12151: EMPTY
12152: LIST
12153: LIST
12154: PUSH
12155: LD_INT 30
12157: PUSH
12158: LD_INT 1
12160: PUSH
12161: EMPTY
12162: LIST
12163: LIST
12164: PUSH
12165: EMPTY
12166: LIST
12167: LIST
12168: LIST
12169: PUSH
12170: LD_INT 50
12172: PUSH
12173: EMPTY
12174: LIST
12175: PUSH
12176: LD_INT 22
12178: PUSH
12179: LD_VAR 0 1
12183: PUSH
12184: EMPTY
12185: LIST
12186: LIST
12187: PUSH
12188: EMPTY
12189: LIST
12190: LIST
12191: LIST
12192: LIST
12193: PPUSH
12194: CALL_OW 69
12198: ST_TO_ADDR
// if building_list = 0 then
12199: LD_VAR 0 5
12203: PUSH
12204: LD_INT 0
12206: EQUAL
12207: IFFALSE 12252
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_ok ] , [ f_side , side ] ] ) ;
12209: LD_ADDR_VAR 0 5
12213: PUSH
12214: LD_INT 21
12216: PUSH
12217: LD_INT 3
12219: PUSH
12220: EMPTY
12221: LIST
12222: LIST
12223: PUSH
12224: LD_INT 50
12226: PUSH
12227: EMPTY
12228: LIST
12229: PUSH
12230: LD_INT 22
12232: PUSH
12233: LD_VAR 0 1
12237: PUSH
12238: EMPTY
12239: LIST
12240: LIST
12241: PUSH
12242: EMPTY
12243: LIST
12244: LIST
12245: LIST
12246: PPUSH
12247: CALL_OW 69
12251: ST_TO_ADDR
// if building_list > 0 then
12252: LD_VAR 0 5
12256: PUSH
12257: LD_INT 0
12259: GREATER
12260: IFFALSE 12378
// begin b := building_list [ Rand ( 1 , building_list + 0 ) ] ;
12262: LD_ADDR_VAR 0 6
12266: PUSH
12267: LD_VAR 0 5
12271: PUSH
12272: LD_INT 1
12274: PPUSH
12275: LD_VAR 0 5
12279: PUSH
12280: LD_INT 0
12282: PLUS
12283: PPUSH
12284: CALL_OW 12
12288: ARRAY
12289: ST_TO_ADDR
// if GetBType ( b ) in [ b_depot , b_warehouse ] then
12290: LD_VAR 0 6
12294: PPUSH
12295: CALL_OW 266
12299: PUSH
12300: LD_INT 0
12302: PUSH
12303: LD_INT 1
12305: PUSH
12306: EMPTY
12307: LIST
12308: LIST
12309: IN
12310: IFFALSE 12322
// n = 25 else
12312: LD_ADDR_VAR 0 7
12316: PUSH
12317: LD_INT 25
12319: ST_TO_ADDR
12320: GO 12330
// n = 10 ;
12322: LD_ADDR_VAR 0 7
12326: PUSH
12327: LD_INT 10
12329: ST_TO_ADDR
// PlaceUnitXYR ( un , GetX ( b ) , GetY ( b ) , n , true ) ;
12330: LD_VAR 0 8
12334: PPUSH
12335: LD_VAR 0 6
12339: PPUSH
12340: CALL_OW 250
12344: PPUSH
12345: LD_VAR 0 6
12349: PPUSH
12350: CALL_OW 251
12354: PPUSH
12355: LD_VAR 0 7
12359: PPUSH
12360: LD_INT 1
12362: PPUSH
12363: CALL_OW 50
// OnHumanRespawned ( un ) ;
12367: LD_VAR 0 8
12371: PPUSH
12372: CALL 11314 0 1
// end else
12376: GO 12401
// begin ObnovOpozdilceCloveka ( un , side , k / 2 ) ;
12378: LD_VAR 0 8
12382: PPUSH
12383: LD_VAR 0 1
12387: PPUSH
12388: LD_VAR 0 9
12392: PUSH
12393: LD_INT 2
12395: DIVREAL
12396: PPUSH
12397: CALL 12406 0 3
// end ; end ;
12401: LD_VAR 0 4
12405: RET
// function ObnovOpozdilceCloveka ( un , side , waitTime ) ; var building_list , n , unit_list , b ; begin
12406: LD_INT 0
12408: PPUSH
12409: PPUSH
12410: PPUSH
12411: PPUSH
12412: PPUSH
// wait ( waitTime ) ;
12413: LD_VAR 0 3
12417: PPUSH
12418: CALL_OW 67
// if not ( HasPower ( side ) ) then
12422: LD_VAR 0 2
12426: PPUSH
12427: CALL 13223 0 1
12431: NOT
12432: IFFALSE 12436
// exit ;
12434: GO 12806
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_ok ] , [ f_side , side ] , [ f_nation , GetNation ( un ) ] ] ) ;
12436: LD_ADDR_VAR 0 5
12440: PUSH
12441: LD_INT 21
12443: PUSH
12444: LD_INT 3
12446: PUSH
12447: EMPTY
12448: LIST
12449: LIST
12450: PUSH
12451: LD_INT 2
12453: PUSH
12454: LD_INT 30
12456: PUSH
12457: LD_INT 0
12459: PUSH
12460: EMPTY
12461: LIST
12462: LIST
12463: PUSH
12464: LD_INT 30
12466: PUSH
12467: LD_INT 1
12469: PUSH
12470: EMPTY
12471: LIST
12472: LIST
12473: PUSH
12474: EMPTY
12475: LIST
12476: LIST
12477: LIST
12478: PUSH
12479: LD_INT 50
12481: PUSH
12482: EMPTY
12483: LIST
12484: PUSH
12485: LD_INT 22
12487: PUSH
12488: LD_VAR 0 2
12492: PUSH
12493: EMPTY
12494: LIST
12495: LIST
12496: PUSH
12497: LD_INT 23
12499: PUSH
12500: LD_VAR 0 1
12504: PPUSH
12505: CALL_OW 248
12509: PUSH
12510: EMPTY
12511: LIST
12512: LIST
12513: PUSH
12514: EMPTY
12515: LIST
12516: LIST
12517: LIST
12518: LIST
12519: LIST
12520: PPUSH
12521: CALL_OW 69
12525: ST_TO_ADDR
// if building_list = 0 then
12526: LD_VAR 0 5
12530: PUSH
12531: LD_INT 0
12533: EQUAL
12534: IFFALSE 12608
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_ok ] , [ f_side , side ] ] ) ;
12536: LD_ADDR_VAR 0 5
12540: PUSH
12541: LD_INT 21
12543: PUSH
12544: LD_INT 3
12546: PUSH
12547: EMPTY
12548: LIST
12549: LIST
12550: PUSH
12551: LD_INT 2
12553: PUSH
12554: LD_INT 30
12556: PUSH
12557: LD_INT 0
12559: PUSH
12560: EMPTY
12561: LIST
12562: LIST
12563: PUSH
12564: LD_INT 30
12566: PUSH
12567: LD_INT 1
12569: PUSH
12570: EMPTY
12571: LIST
12572: LIST
12573: PUSH
12574: EMPTY
12575: LIST
12576: LIST
12577: LIST
12578: PUSH
12579: LD_INT 50
12581: PUSH
12582: EMPTY
12583: LIST
12584: PUSH
12585: LD_INT 22
12587: PUSH
12588: LD_VAR 0 2
12592: PUSH
12593: EMPTY
12594: LIST
12595: LIST
12596: PUSH
12597: EMPTY
12598: LIST
12599: LIST
12600: LIST
12601: LIST
12602: PPUSH
12603: CALL_OW 69
12607: ST_TO_ADDR
// if building_list = 0 then
12608: LD_VAR 0 5
12612: PUSH
12613: LD_INT 0
12615: EQUAL
12616: IFFALSE 12661
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_ok ] , [ f_side , side ] ] ) ;
12618: LD_ADDR_VAR 0 5
12622: PUSH
12623: LD_INT 21
12625: PUSH
12626: LD_INT 3
12628: PUSH
12629: EMPTY
12630: LIST
12631: LIST
12632: PUSH
12633: LD_INT 50
12635: PUSH
12636: EMPTY
12637: LIST
12638: PUSH
12639: LD_INT 22
12641: PUSH
12642: LD_VAR 0 2
12646: PUSH
12647: EMPTY
12648: LIST
12649: LIST
12650: PUSH
12651: EMPTY
12652: LIST
12653: LIST
12654: LIST
12655: PPUSH
12656: CALL_OW 69
12660: ST_TO_ADDR
// if building_list > 0 then
12661: LD_VAR 0 5
12665: PUSH
12666: LD_INT 0
12668: GREATER
12669: IFFALSE 12787
// begin b := building_list [ Rand ( 1 , building_list + 0 ) ] ;
12671: LD_ADDR_VAR 0 8
12675: PUSH
12676: LD_VAR 0 5
12680: PUSH
12681: LD_INT 1
12683: PPUSH
12684: LD_VAR 0 5
12688: PUSH
12689: LD_INT 0
12691: PLUS
12692: PPUSH
12693: CALL_OW 12
12697: ARRAY
12698: ST_TO_ADDR
// if GetBType ( b ) in [ b_depot , b_warehouse ] then
12699: LD_VAR 0 8
12703: PPUSH
12704: CALL_OW 266
12708: PUSH
12709: LD_INT 0
12711: PUSH
12712: LD_INT 1
12714: PUSH
12715: EMPTY
12716: LIST
12717: LIST
12718: IN
12719: IFFALSE 12731
// n = 25 else
12721: LD_ADDR_VAR 0 6
12725: PUSH
12726: LD_INT 25
12728: ST_TO_ADDR
12729: GO 12739
// n = 10 ;
12731: LD_ADDR_VAR 0 6
12735: PUSH
12736: LD_INT 10
12738: ST_TO_ADDR
// PlaceUnitXYR ( un , GetX ( b ) , GetY ( b ) , n , true ) ;
12739: LD_VAR 0 1
12743: PPUSH
12744: LD_VAR 0 8
12748: PPUSH
12749: CALL_OW 250
12753: PPUSH
12754: LD_VAR 0 8
12758: PPUSH
12759: CALL_OW 251
12763: PPUSH
12764: LD_VAR 0 6
12768: PPUSH
12769: LD_INT 1
12771: PPUSH
12772: CALL_OW 50
// OnHumanRespawned ( un ) ;
12776: LD_VAR 0 1
12780: PPUSH
12781: CALL 11314 0 1
// end else
12785: GO 12806
// ObnovOpozdilceCloveka ( un , side , waitTime ) ;
12787: LD_VAR 0 1
12791: PPUSH
12792: LD_VAR 0 2
12796: PPUSH
12797: LD_VAR 0 3
12801: PPUSH
12802: CALL 12406 0 3
// end ;
12806: LD_VAR 0 4
12810: RET
// export function Vytvor_noveho_cloveka_pro_vsechny ; var nat , side , sidy , i , k ; begin
12811: LD_INT 0
12813: PPUSH
12814: PPUSH
12815: PPUSH
12816: PPUSH
12817: PPUSH
12818: PPUSH
// randomHumanStats ( initial_level ) ;
12819: LD_EXP 42
12823: PPUSH
12824: CALL 17334 0 1
// sidy = [ ] ;
12828: LD_ADDR_VAR 0 4
12832: PUSH
12833: EMPTY
12834: ST_TO_ADDR
// for i = 1 to Side_positions + 0 do
12835: LD_ADDR_VAR 0 5
12839: PUSH
12840: DOUBLE
12841: LD_INT 1
12843: DEC
12844: ST_TO_ADDR
12845: LD_EXP 74
12849: PUSH
12850: LD_INT 0
12852: PLUS
12853: PUSH
12854: FOR_TO
12855: IFFALSE 12923
// if Side_positions [ i ] > 0 then
12857: LD_EXP 74
12861: PUSH
12862: LD_VAR 0 5
12866: ARRAY
12867: PUSH
12868: LD_INT 0
12870: GREATER
12871: IFFALSE 12921
// if HasPower ( i ) then
12873: LD_VAR 0 5
12877: PPUSH
12878: CALL 13223 0 1
12882: IFFALSE 12921
// for k in nations [ i ] do
12884: LD_ADDR_VAR 0 6
12888: PUSH
12889: LD_LOC 5
12893: PUSH
12894: LD_VAR 0 5
12898: ARRAY
12899: PUSH
12900: FOR_IN
12901: IFFALSE 12919
// vytvor_cloveka ( i , k ) ;
12903: LD_VAR 0 5
12907: PPUSH
12908: LD_VAR 0 6
12912: PPUSH
12913: CALL 12930 0 2
12917: GO 12900
12919: POP
12920: POP
12921: GO 12854
12923: POP
12924: POP
// end ;
12925: LD_VAR 0 1
12929: RET
// function vytvor_cloveka ( side , nat ) ; var pom ; begin
12930: LD_INT 0
12932: PPUSH
12933: PPUSH
// uc_side = side ;
12934: LD_ADDR_OWVAR 20
12938: PUSH
12939: LD_VAR 0 1
12943: ST_TO_ADDR
// uc_nation = nat ;
12944: LD_ADDR_OWVAR 21
12948: PUSH
12949: LD_VAR 0 2
12953: ST_TO_ADDR
// hc_importance := 0 ;
12954: LD_ADDR_OWVAR 32
12958: PUSH
12959: LD_INT 0
12961: ST_TO_ADDR
// hc_gallery :=  ;
12962: LD_ADDR_OWVAR 33
12966: PUSH
12967: LD_STRING 
12969: ST_TO_ADDR
// hc_face_number := 0 ;
12970: LD_ADDR_OWVAR 34
12974: PUSH
12975: LD_INT 0
12977: ST_TO_ADDR
// hc_name =  ;
12978: LD_ADDR_OWVAR 26
12982: PUSH
12983: LD_STRING 
12985: ST_TO_ADDR
// PlaceUnitAnywhere ( CreateHuman , true ) ;
12986: CALL_OW 44
12990: PPUSH
12991: LD_INT 1
12993: PPUSH
12994: CALL_OW 51
// if game_type in GT_DoublePeople then
12998: LD_EXP 1
13002: PUSH
13003: LD_EXP 4
13007: IN
13008: IFFALSE 13022
// PlaceUnitAnywhere ( CreateHuman , true ) ;
13010: CALL_OW 44
13014: PPUSH
13015: LD_INT 1
13017: PPUSH
13018: CALL_OW 51
// end ; end_of_file
13022: LD_VAR 0 3
13026: RET
// var defeated , GameEnded , unfoged , defeated_specs ; export function Init_Win_Condition ; var i ; begin
13027: LD_INT 0
13029: PPUSH
13030: PPUSH
// enable ( 98 ) ;
13031: LD_INT 98
13033: ENABLE_MARKED
// GameEnded = false ;
13034: LD_ADDR_LOC 8
13038: PUSH
13039: LD_INT 0
13041: ST_TO_ADDR
// defeated = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
13042: LD_ADDR_LOC 7
13046: PUSH
13047: LD_INT 0
13049: PUSH
13050: LD_INT 0
13052: PUSH
13053: LD_INT 0
13055: PUSH
13056: LD_INT 0
13058: PUSH
13059: LD_INT 0
13061: PUSH
13062: LD_INT 0
13064: PUSH
13065: LD_INT 0
13067: PUSH
13068: LD_INT 0
13070: PUSH
13071: EMPTY
13072: LIST
13073: LIST
13074: LIST
13075: LIST
13076: LIST
13077: LIST
13078: LIST
13079: LIST
13080: ST_TO_ADDR
// unfoged = false ;
13081: LD_ADDR_LOC 9
13085: PUSH
13086: LD_INT 0
13088: ST_TO_ADDR
// defeated_specs := [ ] ;
13089: LD_ADDR_LOC 10
13093: PUSH
13094: EMPTY
13095: ST_TO_ADDR
// for i = 1 to side_positions do
13096: LD_ADDR_VAR 0 2
13100: PUSH
13101: DOUBLE
13102: LD_INT 1
13104: DEC
13105: ST_TO_ADDR
13106: LD_EXP 74
13110: PUSH
13111: FOR_TO
13112: IFFALSE 13152
// if not side_positions [ i ] then
13114: LD_EXP 74
13118: PUSH
13119: LD_VAR 0 2
13123: ARRAY
13124: NOT
13125: IFFALSE 13150
// defeated = replace ( defeated , i , true ) ;
13127: LD_ADDR_LOC 7
13131: PUSH
13132: LD_LOC 7
13136: PPUSH
13137: LD_VAR 0 2
13141: PPUSH
13142: LD_INT 1
13144: PPUSH
13145: CALL_OW 1
13149: ST_TO_ADDR
13150: GO 13111
13152: POP
13153: POP
// end ;
13154: LD_VAR 0 1
13158: RET
// function CanWinLoose ; begin
13159: LD_INT 0
13161: PPUSH
// Result := true ;
13162: LD_ADDR_VAR 0 1
13166: PUSH
13167: LD_INT 1
13169: ST_TO_ADDR
// if IAmServer and PlayerCount > 0 then
13170: CALL_OW 518
13174: PUSH
13175: CALL_OW 519
13179: PUSH
13180: LD_INT 0
13182: GREATER
13183: AND
13184: IFFALSE 13194
// Result := false ;
13186: LD_ADDR_VAR 0 1
13190: PUSH
13191: LD_INT 0
13193: ST_TO_ADDR
// if IAmSpec and PlayerCount > 1 then
13194: CALL_OW 531
13198: PUSH
13199: CALL_OW 519
13203: PUSH
13204: LD_INT 1
13206: GREATER
13207: AND
13208: IFFALSE 13218
// Result := false ;
13210: LD_ADDR_VAR 0 1
13214: PUSH
13215: LD_INT 0
13217: ST_TO_ADDR
// end ;
13218: LD_VAR 0 1
13222: RET
// export function HasPower ( i ) ; var k , h ; begin
13223: LD_INT 0
13225: PPUSH
13226: PPUSH
13227: PPUSH
// if not MultiplayerSideAlive ( i ) and not Side_Comps [ i ] and MultiPlayer then
13228: LD_VAR 0 1
13232: PPUSH
13233: CALL_OW 108
13237: NOT
13238: PUSH
13239: LD_EXP 77
13243: PUSH
13244: LD_VAR 0 1
13248: ARRAY
13249: NOT
13250: AND
13251: PUSH
13252: LD_OWVAR 4
13256: AND
13257: IFFALSE 13269
// begin result = false ;
13259: LD_ADDR_VAR 0 2
13263: PUSH
13264: LD_INT 0
13266: ST_TO_ADDR
// end else
13267: GO 13564
// case def_win_rules of 0 :
13269: LD_EXP 21
13273: PUSH
13274: LD_INT 0
13276: DOUBLE
13277: EQUAL
13278: IFTRUE 13282
13280: GO 13445
13282: POP
// if def_people_respawning then
13283: LD_EXP 25
13287: IFFALSE 13378
// Result := FilterAllUnits ( [ [ f_side , i ] , [ f_or , [ f_type , unit_human ] , [ f_control , control_computer ] , [ f_control , control_apeman ] , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) else
13289: LD_ADDR_VAR 0 2
13293: PUSH
13294: LD_INT 22
13296: PUSH
13297: LD_VAR 0 1
13301: PUSH
13302: EMPTY
13303: LIST
13304: LIST
13305: PUSH
13306: LD_INT 2
13308: PUSH
13309: LD_INT 21
13311: PUSH
13312: LD_INT 1
13314: PUSH
13315: EMPTY
13316: LIST
13317: LIST
13318: PUSH
13319: LD_INT 33
13321: PUSH
13322: LD_INT 3
13324: PUSH
13325: EMPTY
13326: LIST
13327: LIST
13328: PUSH
13329: LD_INT 33
13331: PUSH
13332: LD_INT 5
13334: PUSH
13335: EMPTY
13336: LIST
13337: LIST
13338: PUSH
13339: LD_INT 30
13341: PUSH
13342: LD_INT 0
13344: PUSH
13345: EMPTY
13346: LIST
13347: LIST
13348: PUSH
13349: LD_INT 30
13351: PUSH
13352: LD_INT 1
13354: PUSH
13355: EMPTY
13356: LIST
13357: LIST
13358: PUSH
13359: EMPTY
13360: LIST
13361: LIST
13362: LIST
13363: LIST
13364: LIST
13365: LIST
13366: PUSH
13367: EMPTY
13368: LIST
13369: LIST
13370: PPUSH
13371: CALL_OW 69
13375: ST_TO_ADDR
13376: GO 13443
// Result := FilterAllUnits ( [ [ f_side , i ] , [ f_or , [ f_type , unit_human ] , [ f_control , control_computer ] , [ f_control , control_apeman ] ] ] ) ; 1 :
13378: LD_ADDR_VAR 0 2
13382: PUSH
13383: LD_INT 22
13385: PUSH
13386: LD_VAR 0 1
13390: PUSH
13391: EMPTY
13392: LIST
13393: LIST
13394: PUSH
13395: LD_INT 2
13397: PUSH
13398: LD_INT 21
13400: PUSH
13401: LD_INT 1
13403: PUSH
13404: EMPTY
13405: LIST
13406: LIST
13407: PUSH
13408: LD_INT 33
13410: PUSH
13411: LD_INT 3
13413: PUSH
13414: EMPTY
13415: LIST
13416: LIST
13417: PUSH
13418: LD_INT 33
13420: PUSH
13421: LD_INT 5
13423: PUSH
13424: EMPTY
13425: LIST
13426: LIST
13427: PUSH
13428: EMPTY
13429: LIST
13430: LIST
13431: LIST
13432: LIST
13433: PUSH
13434: EMPTY
13435: LIST
13436: LIST
13437: PPUSH
13438: CALL_OW 69
13442: ST_TO_ADDR
13443: GO 13564
13445: LD_INT 1
13447: DOUBLE
13448: EQUAL
13449: IFTRUE 13453
13451: GO 13492
13453: POP
// Result = FilterAllUnits ( [ [ f_side , i ] , [ f_type , unit_human ] ] ) ; 2 :
13454: LD_ADDR_VAR 0 2
13458: PUSH
13459: LD_INT 22
13461: PUSH
13462: LD_VAR 0 1
13466: PUSH
13467: EMPTY
13468: LIST
13469: LIST
13470: PUSH
13471: LD_INT 21
13473: PUSH
13474: LD_INT 1
13476: PUSH
13477: EMPTY
13478: LIST
13479: LIST
13480: PUSH
13481: EMPTY
13482: LIST
13483: LIST
13484: PPUSH
13485: CALL_OW 69
13489: ST_TO_ADDR
13490: GO 13564
13492: LD_INT 2
13494: DOUBLE
13495: EQUAL
13496: IFTRUE 13500
13498: GO 13563
13500: POP
// begin h = false ;
13501: LD_ADDR_VAR 0 4
13505: PUSH
13506: LD_INT 0
13508: ST_TO_ADDR
// for k in heroes [ i ] do
13509: LD_ADDR_VAR 0 3
13513: PUSH
13514: LD_EXP 50
13518: PUSH
13519: LD_VAR 0 1
13523: ARRAY
13524: PUSH
13525: FOR_IN
13526: IFFALSE 13549
// if IsLive ( k ) then
13528: LD_VAR 0 3
13532: PPUSH
13533: CALL_OW 300
13537: IFFALSE 13547
// h = true ;
13539: LD_ADDR_VAR 0 4
13543: PUSH
13544: LD_INT 1
13546: ST_TO_ADDR
13547: GO 13525
13549: POP
13550: POP
// Result := h ;
13551: LD_ADDR_VAR 0 2
13555: PUSH
13556: LD_VAR 0 4
13560: ST_TO_ADDR
// end ; end ;
13561: GO 13564
13563: POP
// end ;
13564: LD_VAR 0 2
13568: RET
// function AlliedSides ( i , j ) ; begin
13569: LD_INT 0
13571: PPUSH
// Result := false ;
13572: LD_ADDR_VAR 0 3
13576: PUSH
13577: LD_INT 0
13579: ST_TO_ADDR
// if ( GetAttitude ( i , j ) = att_friend ) and ( GetAttitude ( j , i ) = att_friend ) and GetAlliedVictory ( i ) and GetAlliedVictory ( j ) then
13580: LD_VAR 0 1
13584: PPUSH
13585: LD_VAR 0 2
13589: PPUSH
13590: CALL_OW 81
13594: PUSH
13595: LD_INT 1
13597: EQUAL
13598: PUSH
13599: LD_VAR 0 2
13603: PPUSH
13604: LD_VAR 0 1
13608: PPUSH
13609: CALL_OW 81
13613: PUSH
13614: LD_INT 1
13616: EQUAL
13617: AND
13618: PUSH
13619: LD_VAR 0 1
13623: PPUSH
13624: CALL_OW 83
13628: AND
13629: PUSH
13630: LD_VAR 0 2
13634: PPUSH
13635: CALL_OW 83
13639: AND
13640: IFFALSE 13650
// Result := true ;
13642: LD_ADDR_VAR 0 3
13646: PUSH
13647: LD_INT 1
13649: ST_TO_ADDR
// end ;
13650: LD_VAR 0 3
13654: RET
// every 100 trigger CanWinLoose and not GameEnded marked 400 do
13655: CALL 13159 0 0
13659: PUSH
13660: LD_LOC 8
13664: NOT
13665: AND
13666: IFFALSE 13682
13668: GO 13670
13670: DISABLE
// WaitServerStrings = [ #Player-Ended ] ;
13671: LD_ADDR_EXP 106
13675: PUSH
13676: LD_STRING #Player-Ended
13678: PUSH
13679: EMPTY
13680: LIST
13681: ST_TO_ADDR
13682: END
// every 100 trigger CanWinLoose and GameEnded marked 400 do
13683: CALL 13159 0 0
13687: PUSH
13688: LD_LOC 8
13692: AND
13693: IFFALSE 13702
13695: GO 13697
13697: DISABLE
// YouLostInMultiplayer ;
13698: CALL_OW 107
13702: END
// every 100 trigger not CanWinLoose and not IAmSpec marked 400 do
13703: CALL 13159 0 0
13707: NOT
13708: PUSH
13709: CALL_OW 531
13713: NOT
13714: AND
13715: IFFALSE 13731
13717: GO 13719
13719: DISABLE
// WaitServerStrings = [ #server-wait ] ;
13720: LD_ADDR_EXP 106
13724: PUSH
13725: LD_STRING #server-wait
13727: PUSH
13728: EMPTY
13729: LIST
13730: ST_TO_ADDR
13731: END
// every 100 trigger IAmSpec do
13732: CALL_OW 531
13736: IFFALSE 13752
13738: GO 13740
13740: DISABLE
// WaitServerStrings = [ #Player-IAmSpec ] ;
13741: LD_ADDR_EXP 106
13745: PUSH
13746: LD_STRING #Player-IAmSpec
13748: PUSH
13749: EMPTY
13750: LIST
13751: ST_TO_ADDR
13752: END
// every 100 trigger GameEnded and IAmSpec do
13753: LD_LOC 8
13757: PUSH
13758: CALL_OW 531
13762: AND
13763: IFFALSE 13772
13765: GO 13767
13767: DISABLE
// YouLostInMultiplayer ;
13768: CALL_OW 107
13772: END
// every 100 trigger CanWinLoose and not GameEnded marked 401 do
13773: CALL 13159 0 0
13777: PUSH
13778: LD_LOC 8
13782: NOT
13783: AND
13784: IFFALSE 13800
13786: GO 13788
13788: DISABLE
// WaitServerStrings = [ $player-win ] ;
13789: LD_ADDR_EXP 106
13793: PUSH
13794: LD_STRING $player-win
13796: PUSH
13797: EMPTY
13798: LIST
13799: ST_TO_ADDR
13800: END
// every 100 trigger CanWinLoose and GameEnded marked 401 do
13801: CALL 13159 0 0
13805: PUSH
13806: LD_LOC 8
13810: AND
13811: IFFALSE 13835
13813: GO 13815
13815: DISABLE
// begin SA_Win ( Side_Nations [ mp_player_side ] ) ;
13816: LD_EXP 75
13820: PUSH
13821: LD_OWVAR 7
13825: ARRAY
13826: PPUSH
13827: CALL 34525 0 1
// YouWinInMultiplayer ;
13831: CALL_OW 106
// end ;
13835: END
// every 100 trigger isEditor marked 401 do
13836: LD_OWVAR 84
13840: IFFALSE 13856
13842: GO 13844
13844: DISABLE
// Debug_Strings = [ You won ] ;
13845: LD_ADDR_OWVAR 48
13849: PUSH
13850: LD_STRING You won
13852: PUSH
13853: EMPTY
13854: LIST
13855: ST_TO_ADDR
13856: END
// every 100 trigger isEditor marked 400 do
13857: LD_OWVAR 84
13861: IFFALSE 13877
13863: GO 13865
13865: DISABLE
// Debug_Strings = [ You loss ] ;
13866: LD_ADDR_OWVAR 48
13870: PUSH
13871: LD_STRING You loss
13873: PUSH
13874: EMPTY
13875: LIST
13876: ST_TO_ADDR
13877: END
// every 100 marked 98 do var i , un ;
13878: GO 13880
13880: DISABLE
13881: LD_INT 0
13883: PPUSH
13884: PPUSH
// begin for i = 1 to side_positions do
13885: LD_ADDR_VAR 0 1
13889: PUSH
13890: DOUBLE
13891: LD_INT 1
13893: DEC
13894: ST_TO_ADDR
13895: LD_EXP 74
13899: PUSH
13900: FOR_TO
13901: IFFALSE 13988
// begin if side_positions [ i ] then
13903: LD_EXP 74
13907: PUSH
13908: LD_VAR 0 1
13912: ARRAY
13913: IFFALSE 13986
// if not HasPower ( i ) and not defeated [ i ] then
13915: LD_VAR 0 1
13919: PPUSH
13920: CALL 13223 0 1
13924: NOT
13925: PUSH
13926: LD_LOC 7
13930: PUSH
13931: LD_VAR 0 1
13935: ARRAY
13936: NOT
13937: AND
13938: IFFALSE 13986
// begin defeated = replace ( defeated , i , true ) ;
13940: LD_ADDR_LOC 7
13944: PUSH
13945: LD_LOC 7
13949: PPUSH
13950: LD_VAR 0 1
13954: PPUSH
13955: LD_INT 1
13957: PPUSH
13958: CALL_OW 1
13962: ST_TO_ADDR
// if i = mp_player_side then
13963: LD_VAR 0 1
13967: PUSH
13968: LD_OWVAR 7
13972: EQUAL
13973: IFFALSE 13986
// begin Multiplayer_Loose_Message ;
13975: CALL_OW 521
// SetPlayerSpectator ( ) ;
13979: CALL_OW 572
// enable ( 400 ) ;
13983: LD_INT 400
13985: ENABLE_MARKED
// end ; end ; end ;
13986: GO 13900
13988: POP
13989: POP
// DidGameEnd ;
13990: CALL 14005 0 0
// if not GameEnded then
13994: LD_LOC 8
13998: NOT
13999: IFFALSE 14002
// enable ;
14001: ENABLE
// end ;
14002: PPOPN 2
14004: END
// function DidGameEnd ; var i , k , enemy ; begin
14005: LD_INT 0
14007: PPUSH
14008: PPUSH
14009: PPUSH
14010: PPUSH
// enemy = [ ] ;
14011: LD_ADDR_VAR 0 4
14015: PUSH
14016: EMPTY
14017: ST_TO_ADDR
// for i = 1 to side_positions do
14018: LD_ADDR_VAR 0 2
14022: PUSH
14023: DOUBLE
14024: LD_INT 1
14026: DEC
14027: ST_TO_ADDR
14028: LD_EXP 74
14032: PUSH
14033: FOR_TO
14034: IFFALSE 14128
// if not defeated [ i ] then
14036: LD_LOC 7
14040: PUSH
14041: LD_VAR 0 2
14045: ARRAY
14046: NOT
14047: IFFALSE 14126
// for k = 1 to side_positions do
14049: LD_ADDR_VAR 0 3
14053: PUSH
14054: DOUBLE
14055: LD_INT 1
14057: DEC
14058: ST_TO_ADDR
14059: LD_EXP 74
14063: PUSH
14064: FOR_TO
14065: IFFALSE 14124
// if not defeated [ k ] then
14067: LD_LOC 7
14071: PUSH
14072: LD_VAR 0 3
14076: ARRAY
14077: NOT
14078: IFFALSE 14122
// if not AlliedSides ( i , k ) then
14080: LD_VAR 0 2
14084: PPUSH
14085: LD_VAR 0 3
14089: PPUSH
14090: CALL 13569 0 2
14094: NOT
14095: IFFALSE 14122
// enemy = enemy ^ [ i , k ] ;
14097: LD_ADDR_VAR 0 4
14101: PUSH
14102: LD_VAR 0 4
14106: PUSH
14107: LD_VAR 0 2
14111: PUSH
14112: LD_VAR 0 3
14116: PUSH
14117: EMPTY
14118: LIST
14119: LIST
14120: ADD
14121: ST_TO_ADDR
14122: GO 14064
14124: POP
14125: POP
14126: GO 14033
14128: POP
14129: POP
// if not enemy then
14130: LD_VAR 0 4
14134: NOT
14135: IFFALSE 14161
// begin GameEnded = true ;
14137: LD_ADDR_LOC 8
14141: PUSH
14142: LD_INT 1
14144: ST_TO_ADDR
// if not defeated [ mp_player_side ] then
14145: LD_LOC 7
14149: PUSH
14150: LD_OWVAR 7
14154: ARRAY
14155: NOT
14156: IFFALSE 14161
// enable ( 401 ) ;
14158: LD_INT 401
14160: ENABLE_MARKED
// end ; end ;
14161: LD_VAR 0 1
14165: RET
// function unfog ; var k , friends ; begin
14166: LD_INT 0
14168: PPUSH
14169: PPUSH
14170: PPUSH
// for k = 1 to side_positions do
14171: LD_ADDR_VAR 0 2
14175: PUSH
14176: DOUBLE
14177: LD_INT 1
14179: DEC
14180: ST_TO_ADDR
14181: LD_EXP 74
14185: PUSH
14186: FOR_TO
14187: IFFALSE 14243
// if not defeated [ k ] then
14189: LD_LOC 7
14193: PUSH
14194: LD_VAR 0 2
14198: ARRAY
14199: NOT
14200: IFFALSE 14241
// if GetAttitude ( mp_player_side , k ) in [ att_friend ] then
14202: LD_OWVAR 7
14206: PPUSH
14207: LD_VAR 0 2
14211: PPUSH
14212: CALL_OW 81
14216: PUSH
14217: LD_INT 1
14219: PUSH
14220: EMPTY
14221: LIST
14222: IN
14223: IFFALSE 14241
// friends = friends ^ k ;
14225: LD_ADDR_VAR 0 3
14229: PUSH
14230: LD_VAR 0 3
14234: PUSH
14235: LD_VAR 0 2
14239: ADD
14240: ST_TO_ADDR
14241: GO 14186
14243: POP
14244: POP
// if not friends then
14245: LD_VAR 0 3
14249: NOT
14250: IFFALSE 14264
// begin SetPlayerSpectator ( ) ;
14252: CALL_OW 572
// unfoged = true ;
14256: LD_ADDR_LOC 9
14260: PUSH
14261: LD_INT 1
14263: ST_TO_ADDR
// end ; end ;
14264: LD_VAR 0 1
14268: RET
// export function MakeGameEnd ; begin
14269: LD_INT 0
14271: PPUSH
// SetPlayerSpectator ( ) ;
14272: CALL_OW 572
// unfoged = true ;
14276: LD_ADDR_LOC 9
14280: PUSH
14281: LD_INT 1
14283: ST_TO_ADDR
// wait ( 0 0$5 ) ;
14284: LD_INT 175
14286: PPUSH
14287: CALL_OW 67
// GameEnded = true ;
14291: LD_ADDR_LOC 8
14295: PUSH
14296: LD_INT 1
14298: ST_TO_ADDR
// end ;
14299: LD_VAR 0 1
14303: RET
// export function GetGameEnded ; begin
14304: LD_INT 0
14306: PPUSH
// result = GameEnded ;
14307: LD_ADDR_VAR 0 1
14311: PUSH
14312: LD_LOC 8
14316: ST_TO_ADDR
// end ; end_of_file
14317: LD_VAR 0 1
14321: RET
// var nations , amount_of_players ; export ApesAreas ; function apeman_init ; var ape_names ; begin
14322: LD_INT 0
14324: PPUSH
14325: PPUSH
// uc_side := 0 ;
14326: LD_ADDR_OWVAR 20
14330: PUSH
14331: LD_INT 0
14333: ST_TO_ADDR
// uc_nation := nation_nature ;
14334: LD_ADDR_OWVAR 21
14338: PUSH
14339: LD_INT 0
14341: ST_TO_ADDR
// ape_names = [ Tupoun , Opoce , Opka , Butrus , Bubu , Condor , Kuklajs , Simon , Ugh , Urgh , Argh , Aargh , Hrumph , Grumph , Oorg , Eghrr , Rrrr , Bark , Wraughrr , :-) , Semik , Hrgh , Hur , Havran , Nazghul , Brutal , Kato Zluta Opoce , Monkey , Yeargh , Marta , Batman , Barkman , Xcenovsk , David Love , Freon , Stoupik , Quik , Jam Prckovic Laren , CFC , Kvakous , Sumys , Agent , Nazghul , Havran , Vrana , Havranek , Carlos Frank , Tekar , Andy , Angela , Janina , Shipanze , Simpan , Nazghulik , Potrusil , Potrus , Butrus , Potrusil , Simon , Auuu , NEMO , Silena opice , Meuznenapadazadnejmeno , Uhrun , Marmelada , Negr , Fnuk , Slim , Kvak , Dave , Bruntal , Arnie , Polda , Jen , Siddha , Silnickar , Bukvice , Zalud , Elvis , Nazghul , Chruadfa , Nazghul , Kato Yellow Ape , Cpt. Ape , King Of The Hill , Pterinochilus , Bad Platypus , Really Bad Ape , Looser , Looser , Looser , Megadeth , Mad Ape , Wraughhhh , ":) ] ;
14342: LD_ADDR_VAR 0 2
14346: PUSH
14347: LD_STRING Tupoun
14349: PUSH
14350: LD_STRING Opoce
14352: PUSH
14353: LD_STRING Opka
14355: PUSH
14356: LD_STRING Butrus
14358: PUSH
14359: LD_STRING Bubu
14361: PUSH
14362: LD_STRING Condor
14364: PUSH
14365: LD_STRING Kuklajs
14367: PUSH
14368: LD_STRING Simon
14370: PUSH
14371: LD_STRING Ugh
14373: PUSH
14374: LD_STRING Urgh
14376: PUSH
14377: LD_STRING Argh
14379: PUSH
14380: LD_STRING Aargh
14382: PUSH
14383: LD_STRING Hrumph
14385: PUSH
14386: LD_STRING Grumph
14388: PUSH
14389: LD_STRING Oorg
14391: PUSH
14392: LD_STRING Eghrr
14394: PUSH
14395: LD_STRING Rrrr
14397: PUSH
14398: LD_STRING Bark
14400: PUSH
14401: LD_STRING Wraughrr
14403: PUSH
14404: LD_STRING :-)
14406: PUSH
14407: LD_STRING Semik
14409: PUSH
14410: LD_STRING Hrgh
14412: PUSH
14413: LD_STRING Hur
14415: PUSH
14416: LD_STRING Havran
14418: PUSH
14419: LD_STRING Nazghul
14421: PUSH
14422: LD_STRING Brutal
14424: PUSH
14425: LD_STRING Kato Zluta Opoce
14427: PUSH
14428: LD_STRING Monkey
14430: PUSH
14431: LD_STRING Yeargh
14433: PUSH
14434: LD_STRING Marta
14436: PUSH
14437: LD_STRING Batman
14439: PUSH
14440: LD_STRING Barkman
14442: PUSH
14443: LD_STRING Xcenovsk
14445: PUSH
14446: LD_STRING David Love
14448: PUSH
14449: LD_STRING Freon
14451: PUSH
14452: LD_STRING Stoupik
14454: PUSH
14455: LD_STRING Quik
14457: PUSH
14458: LD_STRING Jam Prckovic Laren
14460: PUSH
14461: LD_STRING CFC
14463: PUSH
14464: LD_STRING Kvakous
14466: PUSH
14467: LD_STRING Sumys
14469: PUSH
14470: LD_STRING Agent
14472: PUSH
14473: LD_STRING Nazghul
14475: PUSH
14476: LD_STRING Havran
14478: PUSH
14479: LD_STRING Vrana
14481: PUSH
14482: LD_STRING Havranek
14484: PUSH
14485: LD_STRING Carlos Frank
14487: PUSH
14488: LD_STRING Tekar
14490: PUSH
14491: LD_STRING Andy
14493: PUSH
14494: LD_STRING Angela
14496: PUSH
14497: LD_STRING Janina
14499: PUSH
14500: LD_STRING Shipanze
14502: PUSH
14503: LD_STRING Simpan
14505: PUSH
14506: LD_STRING Nazghulik
14508: PUSH
14509: LD_STRING Potrusil
14511: PUSH
14512: LD_STRING Potrus
14514: PUSH
14515: LD_STRING Butrus
14517: PUSH
14518: LD_STRING Potrusil
14520: PUSH
14521: LD_STRING Simon
14523: PUSH
14524: LD_STRING Auuu
14526: PUSH
14527: LD_STRING NEMO
14529: PUSH
14530: LD_STRING Silena opice
14532: PUSH
14533: LD_STRING Meuznenapadazadnejmeno
14535: PUSH
14536: LD_STRING Uhrun
14538: PUSH
14539: LD_STRING Marmelada
14541: PUSH
14542: LD_STRING Negr
14544: PUSH
14545: LD_STRING Fnuk
14547: PUSH
14548: LD_STRING Slim
14550: PUSH
14551: LD_STRING Kvak
14553: PUSH
14554: LD_STRING Dave
14556: PUSH
14557: LD_STRING Bruntal
14559: PUSH
14560: LD_STRING Arnie
14562: PUSH
14563: LD_STRING Polda
14565: PUSH
14566: LD_STRING Jen
14568: PUSH
14569: LD_STRING Siddha
14571: PUSH
14572: LD_STRING Silnickar
14574: PUSH
14575: LD_STRING Bukvice
14577: PUSH
14578: LD_STRING Zalud
14580: PUSH
14581: LD_STRING Elvis
14583: PUSH
14584: LD_STRING Nazghul
14586: PUSH
14587: LD_STRING Chruadfa
14589: PUSH
14590: LD_STRING Nazghul
14592: PUSH
14593: LD_STRING Kato Yellow Ape
14595: PUSH
14596: LD_STRING Cpt. Ape
14598: PUSH
14599: LD_STRING King Of The Hill
14601: PUSH
14602: LD_STRING Pterinochilus
14604: PUSH
14605: LD_STRING Bad Platypus
14607: PUSH
14608: LD_STRING Really Bad Ape
14610: PUSH
14611: LD_STRING Looser
14613: PUSH
14614: LD_STRING Looser
14616: PUSH
14617: LD_STRING Looser
14619: PUSH
14620: LD_STRING Megadeth
14622: PUSH
14623: LD_STRING Mad Ape
14625: PUSH
14626: LD_STRING Wraughhhh
14628: PUSH
14629: LD_STRING ":)
14631: PUSH
14632: EMPTY
14633: LIST
14634: LIST
14635: LIST
14636: LIST
14637: LIST
14638: LIST
14639: LIST
14640: LIST
14641: LIST
14642: LIST
14643: LIST
14644: LIST
14645: LIST
14646: LIST
14647: LIST
14648: LIST
14649: LIST
14650: LIST
14651: LIST
14652: LIST
14653: LIST
14654: LIST
14655: LIST
14656: LIST
14657: LIST
14658: LIST
14659: LIST
14660: LIST
14661: LIST
14662: LIST
14663: LIST
14664: LIST
14665: LIST
14666: LIST
14667: LIST
14668: LIST
14669: LIST
14670: LIST
14671: LIST
14672: LIST
14673: LIST
14674: LIST
14675: LIST
14676: LIST
14677: LIST
14678: LIST
14679: LIST
14680: LIST
14681: LIST
14682: LIST
14683: LIST
14684: LIST
14685: LIST
14686: LIST
14687: LIST
14688: LIST
14689: LIST
14690: LIST
14691: LIST
14692: LIST
14693: LIST
14694: LIST
14695: LIST
14696: LIST
14697: LIST
14698: LIST
14699: LIST
14700: LIST
14701: LIST
14702: LIST
14703: LIST
14704: LIST
14705: LIST
14706: LIST
14707: LIST
14708: LIST
14709: LIST
14710: LIST
14711: LIST
14712: LIST
14713: LIST
14714: LIST
14715: LIST
14716: LIST
14717: LIST
14718: LIST
14719: LIST
14720: LIST
14721: LIST
14722: LIST
14723: LIST
14724: LIST
14725: LIST
14726: LIST
14727: LIST
14728: ST_TO_ADDR
// hc_name = ape_names [ Rand ( 1 , ape_names ) ] ;
14729: LD_ADDR_OWVAR 26
14733: PUSH
14734: LD_VAR 0 2
14738: PUSH
14739: LD_INT 1
14741: PPUSH
14742: LD_VAR 0 2
14746: PPUSH
14747: CALL_OW 12
14751: ARRAY
14752: ST_TO_ADDR
// randomHumanStats ( initial_level - 2 ) ;
14753: LD_EXP 42
14757: PUSH
14758: LD_INT 2
14760: MINUS
14761: PPUSH
14762: CALL 17334 0 1
// hc_class := class_apeman ;
14766: LD_ADDR_OWVAR 28
14770: PUSH
14771: LD_INT 12
14773: ST_TO_ADDR
// if hc_attr [ 2 ] < 12 then
14774: LD_OWVAR 29
14778: PUSH
14779: LD_INT 2
14781: ARRAY
14782: PUSH
14783: LD_INT 12
14785: LESS
14786: IFFALSE 14825
// hc_attr = [ hc_attr [ 1 ] + 5 , hc_attr [ 2 ] + 1 ] else
14788: LD_ADDR_OWVAR 29
14792: PUSH
14793: LD_OWVAR 29
14797: PUSH
14798: LD_INT 1
14800: ARRAY
14801: PUSH
14802: LD_INT 5
14804: PLUS
14805: PUSH
14806: LD_OWVAR 29
14810: PUSH
14811: LD_INT 2
14813: ARRAY
14814: PUSH
14815: LD_INT 1
14817: PLUS
14818: PUSH
14819: EMPTY
14820: LIST
14821: LIST
14822: ST_TO_ADDR
14823: GO 14856
// hc_attr = [ hc_attr [ 1 ] + 5 , hc_attr [ 2 ] ] ;
14825: LD_ADDR_OWVAR 29
14829: PUSH
14830: LD_OWVAR 29
14834: PUSH
14835: LD_INT 1
14837: ARRAY
14838: PUSH
14839: LD_INT 5
14841: PLUS
14842: PUSH
14843: LD_OWVAR 29
14847: PUSH
14848: LD_INT 2
14850: ARRAY
14851: PUSH
14852: EMPTY
14853: LIST
14854: LIST
14855: ST_TO_ADDR
// hc_sex := sex_male ;
14856: LD_ADDR_OWVAR 27
14860: PUSH
14861: LD_INT 1
14863: ST_TO_ADDR
// hc_importance := 0 ;
14864: LD_ADDR_OWVAR 32
14868: PUSH
14869: LD_INT 0
14871: ST_TO_ADDR
// hc_agressivity := Rand ( - 20 , 20 ) ;
14872: LD_ADDR_OWVAR 35
14876: PUSH
14877: LD_INT 20
14879: NEG
14880: PPUSH
14881: LD_INT 20
14883: PPUSH
14884: CALL_OW 12
14888: ST_TO_ADDR
// end ;
14889: LD_VAR 0 1
14893: RET
// every 0 0$15 + 0 0$1 marked 493 do var i , a , ape ;
14894: GO 14896
14896: DISABLE
14897: LD_INT 0
14899: PPUSH
14900: PPUSH
14901: PPUSH
// begin repeat ape = FilterAllUnits ( [ [ f_side , 0 ] , [ f_class , class_apeman ] ] ) ;
14902: LD_ADDR_VAR 0 3
14906: PUSH
14907: LD_INT 22
14909: PUSH
14910: LD_INT 0
14912: PUSH
14913: EMPTY
14914: LIST
14915: LIST
14916: PUSH
14917: LD_INT 25
14919: PUSH
14920: LD_INT 12
14922: PUSH
14923: EMPTY
14924: LIST
14925: LIST
14926: PUSH
14927: EMPTY
14928: LIST
14929: LIST
14930: PPUSH
14931: CALL_OW 69
14935: ST_TO_ADDR
// Wait ( ( ape + 1 ) * Rand ( 0 0$10 , 1 1$0 ) ) ;
14936: LD_VAR 0 3
14940: PUSH
14941: LD_INT 1
14943: PLUS
14944: PUSH
14945: LD_INT 350
14947: PPUSH
14948: LD_INT 2100
14950: PPUSH
14951: CALL_OW 12
14955: MUL
14956: PPUSH
14957: CALL_OW 67
// until ape <= ( spawning_koef_of_apemen / 6 ) * amount_of_players ;
14961: LD_VAR 0 3
14965: PUSH
14966: LD_EXP 47
14970: PUSH
14971: LD_INT 6
14973: DIVREAL
14974: PUSH
14975: LD_LOC 12
14979: MUL
14980: LESSEQUAL
14981: IFFALSE 14902
// for i = 1 to spawning_koef_of_apemen / 5 do
14983: LD_ADDR_VAR 0 1
14987: PUSH
14988: DOUBLE
14989: LD_INT 1
14991: DEC
14992: ST_TO_ADDR
14993: LD_EXP 47
14997: PUSH
14998: LD_INT 5
15000: DIVREAL
15001: PUSH
15002: FOR_TO
15003: IFFALSE 15105
// if ApesAreas then
15005: LD_EXP 104
15009: IFFALSE 15058
// begin for a in ApesAreas do
15011: LD_ADDR_VAR 0 2
15015: PUSH
15016: LD_EXP 104
15020: PUSH
15021: FOR_IN
15022: IFFALSE 15054
// begin apeman_init ;
15024: CALL 14322 0 0
// PlaceUnitArea ( CreateHuman , a , false ) ;
15028: CALL_OW 44
15032: PPUSH
15033: LD_VAR 0 2
15037: PPUSH
15038: LD_INT 0
15040: PPUSH
15041: CALL_OW 49
// Wait ( 3 ) ;
15045: LD_INT 3
15047: PPUSH
15048: CALL_OW 67
// end ;
15052: GO 15021
15054: POP
15055: POP
// end else
15056: GO 15103
// begin for a = 1 to amount_of_players do
15058: LD_ADDR_VAR 0 2
15062: PUSH
15063: DOUBLE
15064: LD_INT 1
15066: DEC
15067: ST_TO_ADDR
15068: LD_LOC 12
15072: PUSH
15073: FOR_TO
15074: IFFALSE 15101
// begin apeman_init ;
15076: CALL 14322 0 0
// PlaceUnitAnywhere ( CreateHuman , false ) ;
15080: CALL_OW 44
15084: PPUSH
15085: LD_INT 0
15087: PPUSH
15088: CALL_OW 51
// Wait ( 3 ) ;
15092: LD_INT 3
15094: PPUSH
15095: CALL_OW 67
// end ;
15099: GO 15073
15101: POP
15102: POP
// end ;
15103: GO 15002
15105: POP
15106: POP
// wait ( rand ( 1 1$0 , 5 5$0 ) ) ;
15107: LD_INT 2100
15109: PPUSH
15110: LD_INT 10500
15112: PPUSH
15113: CALL_OW 12
15117: PPUSH
15118: CALL_OW 67
// end ;
15122: PPOPN 3
15124: END
// export function StartApe ; var i , ape ; begin
15125: LD_INT 0
15127: PPUSH
15128: PPUSH
15129: PPUSH
// for i := 1 to 8 do
15130: LD_ADDR_VAR 0 2
15134: PUSH
15135: DOUBLE
15136: LD_INT 1
15138: DEC
15139: ST_TO_ADDR
15140: LD_INT 8
15142: PUSH
15143: FOR_TO
15144: IFFALSE 15178
// if Side_Positions [ i ] <> 0 then
15146: LD_EXP 74
15150: PUSH
15151: LD_VAR 0 2
15155: ARRAY
15156: PUSH
15157: LD_INT 0
15159: NONEQUAL
15160: IFFALSE 15176
// amount_of_players := amount_of_players + 1 ;
15162: LD_ADDR_LOC 12
15166: PUSH
15167: LD_LOC 12
15171: PUSH
15172: LD_INT 1
15174: PLUS
15175: ST_TO_ADDR
15176: GO 15143
15178: POP
15179: POP
// if game_type in GT_doublenat ^ GT_doublepeople then
15180: LD_EXP 1
15184: PUSH
15185: LD_EXP 3
15189: PUSH
15190: LD_EXP 4
15194: ADD
15195: IN
15196: IFFALSE 15214
// amount_of_players = amount_of_players * 2 else
15198: LD_ADDR_LOC 12
15202: PUSH
15203: LD_LOC 12
15207: PUSH
15208: LD_INT 2
15210: MUL
15211: ST_TO_ADDR
15212: GO 15240
// if game_type = GT_TripleNat then
15214: LD_EXP 1
15218: PUSH
15219: LD_EXP 5
15223: EQUAL
15224: IFFALSE 15240
// amount_of_players = amount_of_players * 3 ;
15226: LD_ADDR_LOC 12
15230: PUSH
15231: LD_LOC 12
15235: PUSH
15236: LD_INT 3
15238: MUL
15239: ST_TO_ADDR
// for i = 1 to Rand ( 2 , 7 ) do
15240: LD_ADDR_VAR 0 2
15244: PUSH
15245: DOUBLE
15246: LD_INT 1
15248: DEC
15249: ST_TO_ADDR
15250: LD_INT 2
15252: PPUSH
15253: LD_INT 7
15255: PPUSH
15256: CALL_OW 12
15260: PUSH
15261: FOR_TO
15262: IFFALSE 15292
// begin apeman_init ;
15264: CALL 14322 0 0
// ape := CreateHuman ;
15268: LD_ADDR_VAR 0 3
15272: PUSH
15273: CALL_OW 44
15277: ST_TO_ADDR
// PlaceUnitAnywhere ( ape , false ) ;
15278: LD_VAR 0 3
15282: PPUSH
15283: LD_INT 0
15285: PPUSH
15286: CALL_OW 51
// end ;
15290: GO 15261
15292: POP
15293: POP
// end ;
15294: LD_VAR 0 1
15298: RET
// function tiger_init ; var tiger_names ; begin
15299: LD_INT 0
15301: PPUSH
15302: PPUSH
// uc_side := 0 ;
15303: LD_ADDR_OWVAR 20
15307: PUSH
15308: LD_INT 0
15310: ST_TO_ADDR
// uc_nation := nation_nature ;
15311: LD_ADDR_OWVAR 21
15315: PUSH
15316: LD_INT 0
15318: ST_TO_ADDR
// tiger_names = [ Fredy , Montana , Pishkot , Sikorski , Riko , Kowalrski , Neo , Kessi , Riko , Lulu , Edie , Edy , Roxy , Roxas , Beast , Drago , Draco , Ali , Lessie , White Fang , Chess , Nora , Shriek , Bl Tesk , Barkman , Meuznenapadazadnejmeno , Ihavenotthinkofanyname , Hiro , Scooby , Fantasy , Troll , Baltazar , Pamella , Kleopatra , Ceasar , Gimmy , Scooby Dooby Doo , Yogi , Brutal , Brutus , Janina , Crazy , Jen , Jenova , Kiosuke , Akamaru ] ;
15319: LD_ADDR_VAR 0 2
15323: PUSH
15324: LD_STRING Fredy
15326: PUSH
15327: LD_STRING Montana
15329: PUSH
15330: LD_STRING Pishkot
15332: PUSH
15333: LD_STRING Sikorski
15335: PUSH
15336: LD_STRING Riko
15338: PUSH
15339: LD_STRING Kowalrski
15341: PUSH
15342: LD_STRING Neo
15344: PUSH
15345: LD_STRING Kessi
15347: PUSH
15348: LD_STRING Riko
15350: PUSH
15351: LD_STRING Lulu
15353: PUSH
15354: LD_STRING Edie
15356: PUSH
15357: LD_STRING Edy
15359: PUSH
15360: LD_STRING Roxy
15362: PUSH
15363: LD_STRING Roxas
15365: PUSH
15366: LD_STRING Beast
15368: PUSH
15369: LD_STRING Drago
15371: PUSH
15372: LD_STRING Draco
15374: PUSH
15375: LD_STRING Ali
15377: PUSH
15378: LD_STRING Lessie
15380: PUSH
15381: LD_STRING White Fang
15383: PUSH
15384: LD_STRING Chess
15386: PUSH
15387: LD_STRING Nora
15389: PUSH
15390: LD_STRING Shriek
15392: PUSH
15393: LD_STRING Bl Tesk
15395: PUSH
15396: LD_STRING Barkman
15398: PUSH
15399: LD_STRING Meuznenapadazadnejmeno
15401: PUSH
15402: LD_STRING Ihavenotthinkofanyname
15404: PUSH
15405: LD_STRING Hiro
15407: PUSH
15408: LD_STRING Scooby
15410: PUSH
15411: LD_STRING Fantasy
15413: PUSH
15414: LD_STRING Troll
15416: PUSH
15417: LD_STRING Baltazar
15419: PUSH
15420: LD_STRING Pamella
15422: PUSH
15423: LD_STRING Kleopatra
15425: PUSH
15426: LD_STRING Ceasar
15428: PUSH
15429: LD_STRING Gimmy
15431: PUSH
15432: LD_STRING Scooby Dooby Doo
15434: PUSH
15435: LD_STRING Yogi
15437: PUSH
15438: LD_STRING Brutal
15440: PUSH
15441: LD_STRING Brutus
15443: PUSH
15444: LD_STRING Janina
15446: PUSH
15447: LD_STRING Crazy
15449: PUSH
15450: LD_STRING Jen
15452: PUSH
15453: LD_STRING Jenova
15455: PUSH
15456: LD_STRING Kiosuke
15458: PUSH
15459: LD_STRING Akamaru
15461: PUSH
15462: EMPTY
15463: LIST
15464: LIST
15465: LIST
15466: LIST
15467: LIST
15468: LIST
15469: LIST
15470: LIST
15471: LIST
15472: LIST
15473: LIST
15474: LIST
15475: LIST
15476: LIST
15477: LIST
15478: LIST
15479: LIST
15480: LIST
15481: LIST
15482: LIST
15483: LIST
15484: LIST
15485: LIST
15486: LIST
15487: LIST
15488: LIST
15489: LIST
15490: LIST
15491: LIST
15492: LIST
15493: LIST
15494: LIST
15495: LIST
15496: LIST
15497: LIST
15498: LIST
15499: LIST
15500: LIST
15501: LIST
15502: LIST
15503: LIST
15504: LIST
15505: LIST
15506: LIST
15507: LIST
15508: LIST
15509: ST_TO_ADDR
// hc_name = tiger_names [ Rand ( 1 , tiger_names ) ] ;
15510: LD_ADDR_OWVAR 26
15514: PUSH
15515: LD_VAR 0 2
15519: PUSH
15520: LD_INT 1
15522: PPUSH
15523: LD_VAR 0 2
15527: PPUSH
15528: CALL_OW 12
15532: ARRAY
15533: ST_TO_ADDR
// randomHumanStats ( initial_level - 2 ) ;
15534: LD_EXP 42
15538: PUSH
15539: LD_INT 2
15541: MINUS
15542: PPUSH
15543: CALL 17334 0 1
// hc_class := class_tiger ;
15547: LD_ADDR_OWVAR 28
15551: PUSH
15552: LD_INT 14
15554: ST_TO_ADDR
// hc_attr = [ hc_attr [ 1 ] + 2 , hc_attr [ 2 ] + 1 ] ;
15555: LD_ADDR_OWVAR 29
15559: PUSH
15560: LD_OWVAR 29
15564: PUSH
15565: LD_INT 1
15567: ARRAY
15568: PUSH
15569: LD_INT 2
15571: PLUS
15572: PUSH
15573: LD_OWVAR 29
15577: PUSH
15578: LD_INT 2
15580: ARRAY
15581: PUSH
15582: LD_INT 1
15584: PLUS
15585: PUSH
15586: EMPTY
15587: LIST
15588: LIST
15589: ST_TO_ADDR
// hc_sex := sex_male ;
15590: LD_ADDR_OWVAR 27
15594: PUSH
15595: LD_INT 1
15597: ST_TO_ADDR
// hc_importance := 0 ;
15598: LD_ADDR_OWVAR 32
15602: PUSH
15603: LD_INT 0
15605: ST_TO_ADDR
// hc_agressivity := Rand ( 10 , 50 ) ;
15606: LD_ADDR_OWVAR 35
15610: PUSH
15611: LD_INT 10
15613: PPUSH
15614: LD_INT 50
15616: PPUSH
15617: CALL_OW 12
15621: ST_TO_ADDR
// end ;
15622: LD_VAR 0 1
15626: RET
// every 0 0$15 + 0 0$1 marked 494 do var i , d , tig ;
15627: GO 15629
15629: DISABLE
15630: LD_INT 0
15632: PPUSH
15633: PPUSH
15634: PPUSH
// begin case tick of 1 .. 1 1$0 :
15635: LD_OWVAR 1
15639: PUSH
15640: LD_INT 1
15642: DOUBLE
15643: GREATEREQUAL
15644: IFFALSE 15652
15646: LD_INT 2100
15648: DOUBLE
15649: LESSEQUAL
15650: IFTRUE 15654
15652: GO 15665
15654: POP
// d := 15 ; 1 1$0 + 1 .. 2 2$0 :
15655: LD_ADDR_VAR 0 2
15659: PUSH
15660: LD_INT 15
15662: ST_TO_ADDR
15663: GO 15761
15665: LD_INT 2100
15667: PUSH
15668: LD_INT 1
15670: PLUS
15671: DOUBLE
15672: GREATEREQUAL
15673: IFFALSE 15681
15675: LD_INT 4200
15677: DOUBLE
15678: LESSEQUAL
15679: IFTRUE 15683
15681: GO 15694
15683: POP
// d := 14 ; 20 20$0 + 1 .. 50 50$0 :
15684: LD_ADDR_VAR 0 2
15688: PUSH
15689: LD_INT 14
15691: ST_TO_ADDR
15692: GO 15761
15694: LD_INT 42000
15696: PUSH
15697: LD_INT 1
15699: PLUS
15700: DOUBLE
15701: GREATEREQUAL
15702: IFFALSE 15710
15704: LD_INT 105000
15706: DOUBLE
15707: LESSEQUAL
15708: IFTRUE 15712
15710: GO 15723
15712: POP
// d := 12 ; 50 50$0 + 1 .. 300 300$0 :
15713: LD_ADDR_VAR 0 2
15717: PUSH
15718: LD_INT 12
15720: ST_TO_ADDR
15721: GO 15761
15723: LD_INT 105000
15725: PUSH
15726: LD_INT 1
15728: PLUS
15729: DOUBLE
15730: GREATEREQUAL
15731: IFFALSE 15739
15733: LD_INT 630000
15735: DOUBLE
15736: LESSEQUAL
15737: IFTRUE 15741
15739: GO 15752
15741: POP
// d := 11 ; else
15742: LD_ADDR_VAR 0 2
15746: PUSH
15747: LD_INT 11
15749: ST_TO_ADDR
15750: GO 15761
15752: POP
// d := 9 ; end ;
15753: LD_ADDR_VAR 0 2
15757: PUSH
15758: LD_INT 9
15760: ST_TO_ADDR
// i = FilterAllUnits ( [ [ f_side , 0 ] , [ f_class , class_tiger ] ] ) ;
15761: LD_ADDR_VAR 0 1
15765: PUSH
15766: LD_INT 22
15768: PUSH
15769: LD_INT 0
15771: PUSH
15772: EMPTY
15773: LIST
15774: LIST
15775: PUSH
15776: LD_INT 25
15778: PUSH
15779: LD_INT 14
15781: PUSH
15782: EMPTY
15783: LIST
15784: LIST
15785: PUSH
15786: EMPTY
15787: LIST
15788: LIST
15789: PPUSH
15790: CALL_OW 69
15794: ST_TO_ADDR
// if i < ( spawning_koef_of_tiger / 14 * d ) then
15795: LD_VAR 0 1
15799: PUSH
15800: LD_EXP 48
15804: PUSH
15805: LD_INT 14
15807: DIVREAL
15808: PUSH
15809: LD_VAR 0 2
15813: MUL
15814: LESS
15815: IFFALSE 15871
// for i = 1 to Rand ( 1 , 2 ) do
15817: LD_ADDR_VAR 0 1
15821: PUSH
15822: DOUBLE
15823: LD_INT 1
15825: DEC
15826: ST_TO_ADDR
15827: LD_INT 1
15829: PPUSH
15830: LD_INT 2
15832: PPUSH
15833: CALL_OW 12
15837: PUSH
15838: FOR_TO
15839: IFFALSE 15869
// begin tiger_init ;
15841: CALL 15299 0 0
// tig := CreateHuman ;
15845: LD_ADDR_VAR 0 3
15849: PUSH
15850: CALL_OW 44
15854: ST_TO_ADDR
// PlaceUnitAnywhere ( tig , false ) ;
15855: LD_VAR 0 3
15859: PPUSH
15860: LD_INT 0
15862: PPUSH
15863: CALL_OW 51
// end ;
15867: GO 15838
15869: POP
15870: POP
// enable ;
15871: ENABLE
// end ;
15872: PPOPN 3
15874: END
// export function StartTig ; var i , tig ; begin
15875: LD_INT 0
15877: PPUSH
15878: PPUSH
15879: PPUSH
// for i = 1 to Rand ( 1 , 3 ) do
15880: LD_ADDR_VAR 0 2
15884: PUSH
15885: DOUBLE
15886: LD_INT 1
15888: DEC
15889: ST_TO_ADDR
15890: LD_INT 1
15892: PPUSH
15893: LD_INT 3
15895: PPUSH
15896: CALL_OW 12
15900: PUSH
15901: FOR_TO
15902: IFFALSE 15932
// begin tiger_init ;
15904: CALL 15299 0 0
// tig := CreateHuman ;
15908: LD_ADDR_VAR 0 3
15912: PUSH
15913: CALL_OW 44
15917: ST_TO_ADDR
// PlaceUnitAnywhere ( tig , false ) ;
15918: LD_VAR 0 3
15922: PPUSH
15923: LD_INT 0
15925: PPUSH
15926: CALL_OW 51
// end ;
15930: GO 15901
15932: POP
15933: POP
// end ; end_of_file
15934: LD_VAR 0 1
15938: RET
// var BaseNames ; export function InitDisplayNames ; var i , n , u , a , r ; begin
15939: LD_INT 0
15941: PPUSH
15942: PPUSH
15943: PPUSH
15944: PPUSH
15945: PPUSH
15946: PPUSH
// for i in FilterAllUnits ( [ [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_not , [ f_side , 0 ] ] ] ) do
15947: LD_ADDR_VAR 0 2
15951: PUSH
15952: LD_INT 2
15954: PUSH
15955: LD_INT 30
15957: PUSH
15958: LD_INT 0
15960: PUSH
15961: EMPTY
15962: LIST
15963: LIST
15964: PUSH
15965: LD_INT 30
15967: PUSH
15968: LD_INT 1
15970: PUSH
15971: EMPTY
15972: LIST
15973: LIST
15974: PUSH
15975: EMPTY
15976: LIST
15977: LIST
15978: LIST
15979: PUSH
15980: LD_INT 3
15982: PUSH
15983: LD_INT 22
15985: PUSH
15986: LD_INT 0
15988: PUSH
15989: EMPTY
15990: LIST
15991: LIST
15992: PUSH
15993: EMPTY
15994: LIST
15995: LIST
15996: PUSH
15997: EMPTY
15998: LIST
15999: LIST
16000: PPUSH
16001: CALL_OW 69
16005: PUSH
16006: FOR_IN
16007: IFFALSE 16034
// SetBName ( i , @ & GetSide ( i ) ) ;
16009: LD_VAR 0 2
16013: PPUSH
16014: LD_STRING @
16016: PUSH
16017: LD_VAR 0 2
16021: PPUSH
16022: CALL_OW 255
16026: STR
16027: PPUSH
16028: CALL_OW 500
16032: GO 16006
16034: POP
16035: POP
// n = [ Kasyr , Cabal , Nitheim , Vanidas , Adjun , Alcon , Anthara , Denebola , Izard , Kaus , Mira , Procyon , Sirius , Tyr , Revoria , Eterna , Korigul , freedom ] ;
16036: LD_ADDR_VAR 0 3
16040: PUSH
16041: LD_STRING Kasyr
16043: PUSH
16044: LD_STRING Cabal
16046: PUSH
16047: LD_STRING Nitheim
16049: PUSH
16050: LD_STRING Vanidas
16052: PUSH
16053: LD_STRING Adjun
16055: PUSH
16056: LD_STRING Alcon
16058: PUSH
16059: LD_STRING Anthara
16061: PUSH
16062: LD_STRING Denebola
16064: PUSH
16065: LD_STRING Izard
16067: PUSH
16068: LD_STRING Kaus
16070: PUSH
16071: LD_STRING Mira
16073: PUSH
16074: LD_STRING Procyon
16076: PUSH
16077: LD_STRING Sirius
16079: PUSH
16080: LD_STRING Tyr
16082: PUSH
16083: LD_STRING Revoria
16085: PUSH
16086: LD_STRING Eterna
16088: PUSH
16089: LD_STRING Korigul
16091: PUSH
16092: LD_STRING freedom
16094: PUSH
16095: EMPTY
16096: LIST
16097: LIST
16098: LIST
16099: LIST
16100: LIST
16101: LIST
16102: LIST
16103: LIST
16104: LIST
16105: LIST
16106: LIST
16107: LIST
16108: LIST
16109: LIST
16110: LIST
16111: LIST
16112: LIST
16113: LIST
16114: ST_TO_ADDR
// u = [ alpha , gamma , delta , epsilon , Kappa , omikron , terminal , viper ] ^ n ;
16115: LD_ADDR_VAR 0 4
16119: PUSH
16120: LD_STRING alpha
16122: PUSH
16123: LD_STRING gamma
16125: PUSH
16126: LD_STRING delta
16128: PUSH
16129: LD_STRING epsilon
16131: PUSH
16132: LD_STRING Kappa
16134: PUSH
16135: LD_STRING omikron
16137: PUSH
16138: LD_STRING terminal
16140: PUSH
16141: LD_STRING viper
16143: PUSH
16144: EMPTY
16145: LIST
16146: LIST
16147: LIST
16148: LIST
16149: LIST
16150: LIST
16151: LIST
16152: LIST
16153: PUSH
16154: LD_VAR 0 3
16158: ADD
16159: ST_TO_ADDR
// r = [ beria , kirov , kagan , ovsyenko , gorkij , trockij , bluekher , yegorob , ryutin , budonny , yakir ] ^ n ;
16160: LD_ADDR_VAR 0 6
16164: PUSH
16165: LD_STRING beria
16167: PUSH
16168: LD_STRING kirov
16170: PUSH
16171: LD_STRING kagan
16173: PUSH
16174: LD_STRING ovsyenko
16176: PUSH
16177: LD_STRING gorkij
16179: PUSH
16180: LD_STRING trockij
16182: PUSH
16183: LD_STRING bluekher
16185: PUSH
16186: LD_STRING yegorob
16188: PUSH
16189: LD_STRING ryutin
16191: PUSH
16192: LD_STRING budonny
16194: PUSH
16195: LD_STRING yakir
16197: PUSH
16198: EMPTY
16199: LIST
16200: LIST
16201: LIST
16202: LIST
16203: LIST
16204: LIST
16205: LIST
16206: LIST
16207: LIST
16208: LIST
16209: LIST
16210: PUSH
16211: LD_VAR 0 3
16215: ADD
16216: ST_TO_ADDR
// a = [ newkabul , newsamark , riyadh , jeddah , dammam ] ^ n ;
16217: LD_ADDR_VAR 0 5
16221: PUSH
16222: LD_STRING newkabul
16224: PUSH
16225: LD_STRING newsamark
16227: PUSH
16228: LD_STRING riyadh
16230: PUSH
16231: LD_STRING jeddah
16233: PUSH
16234: LD_STRING dammam
16236: PUSH
16237: EMPTY
16238: LIST
16239: LIST
16240: LIST
16241: LIST
16242: LIST
16243: PUSH
16244: LD_VAR 0 3
16248: ADD
16249: ST_TO_ADDR
// BaseNames = [ u , a , r ] ;
16250: LD_ADDR_LOC 13
16254: PUSH
16255: LD_VAR 0 4
16259: PUSH
16260: LD_VAR 0 5
16264: PUSH
16265: LD_VAR 0 6
16269: PUSH
16270: EMPTY
16271: LIST
16272: LIST
16273: LIST
16274: ST_TO_ADDR
// end ;
16275: LD_VAR 0 1
16279: RET
// export function NameBuildingComplete ( b ) ; begin
16280: LD_INT 0
16282: PPUSH
// end ;
16283: LD_VAR 0 2
16287: RET
// export function NameBuildingStarted ( b , h ) ; var n , i ; begin
16288: LD_INT 0
16290: PPUSH
16291: PPUSH
16292: PPUSH
// n = getNation ( b ) ;
16293: LD_ADDR_VAR 0 4
16297: PUSH
16298: LD_VAR 0 1
16302: PPUSH
16303: CALL_OW 248
16307: ST_TO_ADDR
// i = rand ( 1 , BaseNames [ n ] + 0 ) ;
16308: LD_ADDR_VAR 0 5
16312: PUSH
16313: LD_INT 1
16315: PPUSH
16316: LD_LOC 13
16320: PUSH
16321: LD_VAR 0 4
16325: ARRAY
16326: PUSH
16327: LD_INT 0
16329: PLUS
16330: PPUSH
16331: CALL_OW 12
16335: ST_TO_ADDR
// setBName ( b , BaseNames [ n ] [ i ] ) ;
16336: LD_VAR 0 1
16340: PPUSH
16341: LD_LOC 13
16345: PUSH
16346: LD_VAR 0 4
16350: ARRAY
16351: PUSH
16352: LD_VAR 0 5
16356: ARRAY
16357: PPUSH
16358: CALL_OW 500
// end ;
16362: LD_VAR 0 3
16366: RET
// export function NameBuildingCaptured ( b , o , e ) ; begin
16367: LD_INT 0
16369: PPUSH
// end ; end_of_file
16370: LD_VAR 0 4
16374: RET
// var strength , lastxwin , lastywin , lastxlost , lastylost ; function Update_Flags ; var un ; begin
16375: LD_INT 0
16377: PPUSH
16378: PPUSH
// for un in battle_flags_id do
16379: LD_ADDR_VAR 0 2
16383: PUSH
16384: LD_EXP 88
16388: PUSH
16389: FOR_IN
16390: IFFALSE 16465
// ChangeBattleFlagOptions ( un , [ [ bfo_defend_bonus_human , strength ] , [ bfo_defend_bonus_vehicle , strength div 2 ] , [ bfo_defend_bonus_building , strength div 5 ] , [ bfo_height , strength ] ] ) ;
16392: LD_VAR 0 2
16396: PPUSH
16397: LD_INT 1
16399: PUSH
16400: LD_LOC 14
16404: PUSH
16405: EMPTY
16406: LIST
16407: LIST
16408: PUSH
16409: LD_INT 2
16411: PUSH
16412: LD_LOC 14
16416: PUSH
16417: LD_INT 2
16419: DIV
16420: PUSH
16421: EMPTY
16422: LIST
16423: LIST
16424: PUSH
16425: LD_INT 3
16427: PUSH
16428: LD_LOC 14
16432: PUSH
16433: LD_INT 5
16435: DIV
16436: PUSH
16437: EMPTY
16438: LIST
16439: LIST
16440: PUSH
16441: LD_INT 20
16443: PUSH
16444: LD_LOC 14
16448: PUSH
16449: EMPTY
16450: LIST
16451: LIST
16452: PUSH
16453: EMPTY
16454: LIST
16455: LIST
16456: LIST
16457: LIST
16458: PPUSH
16459: CALL_OW 423
16463: GO 16389
16465: POP
16466: POP
// end ;
16467: LD_VAR 0 1
16471: RET
// every 0 0$0.1 do var un ;
16472: GO 16474
16474: DISABLE
16475: LD_INT 0
16477: PPUSH
// begin if not def_morale_flags then
16478: LD_EXP 20
16482: NOT
16483: IFFALSE 16487
// exit ;
16485: GO 16564
// if not morale_decreasing_time then
16487: LD_EXP 46
16491: NOT
16492: IFFALSE 16496
// exit ;
16494: GO 16564
// strength = 100 ;
16496: LD_ADDR_LOC 14
16500: PUSH
16501: LD_INT 100
16503: ST_TO_ADDR
// repeat wait ( morale_decreasing_time ) ;
16504: LD_EXP 46
16508: PPUSH
16509: CALL_OW 67
// strength := strength - 1 ;
16513: LD_ADDR_LOC 14
16517: PUSH
16518: LD_LOC 14
16522: PUSH
16523: LD_INT 1
16525: MINUS
16526: ST_TO_ADDR
// Update_Flags ;
16527: CALL 16375 0 0
// until not strength ;
16531: LD_LOC 14
16535: NOT
16536: IFFALSE 16504
// for un in battle_flags_id do
16538: LD_ADDR_VAR 0 1
16542: PUSH
16543: LD_EXP 88
16547: PUSH
16548: FOR_IN
16549: IFFALSE 16562
// KillBattleFlag ( un ) ;
16551: LD_VAR 0 1
16555: PPUSH
16556: CALL_OW 419
16560: GO 16548
16562: POP
16563: POP
// end ; end_of_file
16564: PPOPN 1
16566: END
// export MultiplayerTimeEnabled , WaitServerStrings , Display_kings , extraStrings , limitsStrings , CurrentTime , DebugStrings , Display_WFG ; export function GetMultiplayerTime ; begin
16567: LD_INT 0
16569: PPUSH
// Result = [ #gamespeed , game_speed - 4 ] ^ [ #Multi1x1-Time , tick ] ;
16570: LD_ADDR_VAR 0 1
16574: PUSH
16575: LD_STRING #gamespeed
16577: PUSH
16578: LD_OWVAR 65
16582: PUSH
16583: LD_INT 4
16585: MINUS
16586: PUSH
16587: EMPTY
16588: LIST
16589: LIST
16590: PUSH
16591: LD_STRING #Multi1x1-Time
16593: PUSH
16594: LD_OWVAR 1
16598: PUSH
16599: EMPTY
16600: LIST
16601: LIST
16602: ADD
16603: ST_TO_ADDR
// end ;
16604: LD_VAR 0 1
16608: RET
// export function InitMultiplayerTime ; begin
16609: LD_INT 0
16611: PPUSH
// MultiplayerTimeEnabled := true ;
16612: LD_ADDR_EXP 105
16616: PUSH
16617: LD_INT 1
16619: ST_TO_ADDR
// display_strings = GetMultiplayerTime ;
16620: LD_ADDR_OWVAR 47
16624: PUSH
16625: CALL 16567 0 0
16629: ST_TO_ADDR
// end ;
16630: LD_VAR 0 1
16634: RET
// export function ShowTimer ; var AllStrings ; begin
16635: LD_INT 0
16637: PPUSH
16638: PPUSH
// AllStrings = GetMultiplayerTime ;
16639: LD_ADDR_VAR 0 2
16643: PUSH
16644: CALL 16567 0 0
16648: ST_TO_ADDR
// if debug_strings then
16649: LD_OWVAR 48
16653: IFFALSE 16671
// AllStrings = AllStrings ^ debug_strings ;
16655: LD_ADDR_VAR 0 2
16659: PUSH
16660: LD_VAR 0 2
16664: PUSH
16665: LD_OWVAR 48
16669: ADD
16670: ST_TO_ADDR
// if 0 <= siberite_bomb_Delay - tick then
16671: LD_INT 0
16673: PUSH
16674: LD_EXP 66
16678: PUSH
16679: LD_OWVAR 1
16683: MINUS
16684: LESSEQUAL
16685: IFFALSE 16716
// AllStrings := AllStrings ^ [ #allowedsibbomb , siberite_bomb_Delay - tick ] ;
16687: LD_ADDR_VAR 0 2
16691: PUSH
16692: LD_VAR 0 2
16696: PUSH
16697: LD_STRING #allowedsibbomb
16699: PUSH
16700: LD_EXP 66
16704: PUSH
16705: LD_OWVAR 1
16709: MINUS
16710: PUSH
16711: EMPTY
16712: LIST
16713: LIST
16714: ADD
16715: ST_TO_ADDR
// if 0 <= buildUpTime_Delay - tick then
16716: LD_INT 0
16718: PUSH
16719: LD_EXP 117
16723: PUSH
16724: LD_OWVAR 1
16728: MINUS
16729: LESSEQUAL
16730: IFFALSE 16761
// AllStrings := AllStrings ^ [ #builduptime , buildUpTime_Delay - tick ] ;
16732: LD_ADDR_VAR 0 2
16736: PUSH
16737: LD_VAR 0 2
16741: PUSH
16742: LD_STRING #builduptime
16744: PUSH
16745: LD_EXP 117
16749: PUSH
16750: LD_OWVAR 1
16754: MINUS
16755: PUSH
16756: EMPTY
16757: LIST
16758: LIST
16759: ADD
16760: ST_TO_ADDR
// AllStrings := AllStrings ^ [ #TechLevel , Tech_Level ] ;
16761: LD_ADDR_VAR 0 2
16765: PUSH
16766: LD_VAR 0 2
16770: PUSH
16771: LD_STRING #TechLevel
16773: PUSH
16774: LD_EXP 56
16778: PUSH
16779: EMPTY
16780: LIST
16781: LIST
16782: ADD
16783: ST_TO_ADDR
// if ( CurrentTime ) then
16784: LD_EXP 110
16788: IFFALSE 16817
// AllStrings = AllStrings ^ [ #Daily-Time , CurrentTime ] ^  ;
16790: LD_ADDR_VAR 0 2
16794: PUSH
16795: LD_VAR 0 2
16799: PUSH
16800: LD_STRING #Daily-Time
16802: PUSH
16803: LD_EXP 110
16807: PUSH
16808: EMPTY
16809: LIST
16810: LIST
16811: ADD
16812: PUSH
16813: LD_STRING 
16815: ADD
16816: ST_TO_ADDR
// if ( WaitServerStrings ) then
16817: LD_EXP 106
16821: IFFALSE 16839
// AllStrings := AllStrings ^ WaitServerStrings ;
16823: LD_ADDR_VAR 0 2
16827: PUSH
16828: LD_VAR 0 2
16832: PUSH
16833: LD_EXP 106
16837: ADD
16838: ST_TO_ADDR
// if not isSGUI and ( Display_kings or Display_WFG ) then
16839: LD_OWVAR 83
16843: NOT
16844: PUSH
16845: LD_EXP 107
16849: PUSH
16850: LD_EXP 112
16854: OR
16855: AND
16856: IFFALSE 16956
// begin if def_public_score and Team_game then
16858: LD_EXP 34
16862: PUSH
16863: LD_EXP 79
16867: AND
16868: IFFALSE 16912
// AllStrings := AllStrings ^ [ #yourTeam , [ 3 , 1 , 2 , 7 ] [ player_team ] ] ;
16870: LD_ADDR_VAR 0 2
16874: PUSH
16875: LD_VAR 0 2
16879: PUSH
16880: LD_STRING #yourTeam
16882: PUSH
16883: LD_INT 3
16885: PUSH
16886: LD_INT 1
16888: PUSH
16889: LD_INT 2
16891: PUSH
16892: LD_INT 7
16894: PUSH
16895: EMPTY
16896: LIST
16897: LIST
16898: LIST
16899: LIST
16900: PUSH
16901: LD_EXP 70
16905: ARRAY
16906: PUSH
16907: EMPTY
16908: LIST
16909: LIST
16910: ADD
16911: ST_TO_ADDR
// if ( Display_kings ) then
16912: LD_EXP 107
16916: IFFALSE 16934
// AllStrings := AllStrings ^ Display_kings ;
16918: LD_ADDR_VAR 0 2
16922: PUSH
16923: LD_VAR 0 2
16927: PUSH
16928: LD_EXP 107
16932: ADD
16933: ST_TO_ADDR
// if ( Display_WFG ) then
16934: LD_EXP 112
16938: IFFALSE 16956
// AllStrings := AllStrings ^ Display_WFG ;
16940: LD_ADDR_VAR 0 2
16944: PUSH
16945: LD_VAR 0 2
16949: PUSH
16950: LD_EXP 112
16954: ADD
16955: ST_TO_ADDR
// end ; if ( ExtraStrings ) then
16956: LD_EXP 108
16960: IFFALSE 16982
// AllStrings := AllStrings ^  ^ ExtraStrings ;
16962: LD_ADDR_VAR 0 2
16966: PUSH
16967: LD_VAR 0 2
16971: PUSH
16972: LD_STRING 
16974: ADD
16975: PUSH
16976: LD_EXP 108
16980: ADD
16981: ST_TO_ADDR
// if ( LimitsStrings ) then
16982: LD_EXP 109
16986: IFFALSE 17008
// AllStrings := AllStrings ^  ^ LimitsStrings ;
16988: LD_ADDR_VAR 0 2
16992: PUSH
16993: LD_VAR 0 2
16997: PUSH
16998: LD_STRING 
17000: ADD
17001: PUSH
17002: LD_EXP 109
17006: ADD
17007: ST_TO_ADDR
// if ( DebugStrings ) then
17008: LD_EXP 111
17012: IFFALSE 17034
// AllStrings := AllStrings ^  ^ DebugStrings ;
17014: LD_ADDR_VAR 0 2
17018: PUSH
17019: LD_VAR 0 2
17023: PUSH
17024: LD_STRING 
17026: ADD
17027: PUSH
17028: LD_EXP 111
17032: ADD
17033: ST_TO_ADDR
// Display_Strings := AllStrings ;
17034: LD_ADDR_OWVAR 47
17038: PUSH
17039: LD_VAR 0 2
17043: ST_TO_ADDR
// end ;
17044: LD_VAR 0 1
17048: RET
// every 0 0$1 trigger MultiplayerTimeEnabled do
17049: LD_EXP 105
17053: IFFALSE 17063
17055: GO 17057
17057: DISABLE
// begin ShowTimer ;
17058: CALL 16635 0 0
// enable ;
17062: ENABLE
// end ; end_of_file
17063: END
// export MaxFlags ; export function ShowResources ( FullMapArea , EnableSiberitResurces , Range ) ; var k , k2 , i , d , r , u ; begin
17064: LD_INT 0
17066: PPUSH
17067: PPUSH
17068: PPUSH
17069: PPUSH
17070: PPUSH
17071: PPUSH
17072: PPUSH
// if range = 0 then
17073: LD_VAR 0 3
17077: PUSH
17078: LD_INT 0
17080: EQUAL
17081: IFFALSE 17091
// range = 400 ;
17083: LD_ADDR_VAR 0 3
17087: PUSH
17088: LD_INT 400
17090: ST_TO_ADDR
// r = range ;
17091: LD_ADDR_VAR 0 9
17095: PUSH
17096: LD_VAR 0 3
17100: ST_TO_ADDR
// d = GetListOfResourcesInArea ( FullMapArea ) ;
17101: LD_ADDR_VAR 0 8
17105: PUSH
17106: LD_VAR 0 1
17110: PPUSH
17111: CALL_OW 442
17115: ST_TO_ADDR
// for k = 1 to ( d / 3 ) do
17116: LD_ADDR_VAR 0 5
17120: PUSH
17121: DOUBLE
17122: LD_INT 1
17124: DEC
17125: ST_TO_ADDR
17126: LD_VAR 0 8
17130: PUSH
17131: LD_INT 3
17133: DIVREAL
17134: PUSH
17135: FOR_TO
17136: IFFALSE 17327
// begin k2 = k * 3 ;
17138: LD_ADDR_VAR 0 6
17142: PUSH
17143: LD_VAR 0 5
17147: PUSH
17148: LD_INT 3
17150: MUL
17151: ST_TO_ADDR
// for i = 1 to 8 do
17152: LD_ADDR_VAR 0 7
17156: PUSH
17157: DOUBLE
17158: LD_INT 1
17160: DEC
17161: ST_TO_ADDR
17162: LD_INT 8
17164: PUSH
17165: FOR_TO
17166: IFFALSE 17323
// begin if d [ k2 ] = 1 or ( d [ k2 ] = 2 and EnableSiberitResurces ) then
17168: LD_VAR 0 8
17172: PUSH
17173: LD_VAR 0 6
17177: ARRAY
17178: PUSH
17179: LD_INT 1
17181: EQUAL
17182: PUSH
17183: LD_VAR 0 8
17187: PUSH
17188: LD_VAR 0 6
17192: ARRAY
17193: PUSH
17194: LD_INT 2
17196: EQUAL
17197: PUSH
17198: LD_VAR 0 2
17202: AND
17203: OR
17204: IFFALSE 17321
// begin u = filterAllUnits ( [ [ f_side , i ] , [ f_distxy , d [ k2 - 2 ] , d [ k2 - 1 ] , r ] ] ) ;
17206: LD_ADDR_VAR 0 10
17210: PUSH
17211: LD_INT 22
17213: PUSH
17214: LD_VAR 0 7
17218: PUSH
17219: EMPTY
17220: LIST
17221: LIST
17222: PUSH
17223: LD_INT 92
17225: PUSH
17226: LD_VAR 0 8
17230: PUSH
17231: LD_VAR 0 6
17235: PUSH
17236: LD_INT 2
17238: MINUS
17239: ARRAY
17240: PUSH
17241: LD_VAR 0 8
17245: PUSH
17246: LD_VAR 0 6
17250: PUSH
17251: LD_INT 1
17253: MINUS
17254: ARRAY
17255: PUSH
17256: LD_VAR 0 9
17260: PUSH
17261: EMPTY
17262: LIST
17263: LIST
17264: LIST
17265: LIST
17266: PUSH
17267: EMPTY
17268: LIST
17269: LIST
17270: PPUSH
17271: CALL_OW 69
17275: ST_TO_ADDR
// if u then
17276: LD_VAR 0 10
17280: IFFALSE 17321
// SetResourceVisibility ( d [ k2 - 2 ] , d [ k2 - 1 ] , i ) ;
17282: LD_VAR 0 8
17286: PUSH
17287: LD_VAR 0 6
17291: PUSH
17292: LD_INT 2
17294: MINUS
17295: ARRAY
17296: PPUSH
17297: LD_VAR 0 8
17301: PUSH
17302: LD_VAR 0 6
17306: PUSH
17307: LD_INT 1
17309: MINUS
17310: ARRAY
17311: PPUSH
17312: LD_VAR 0 7
17316: PPUSH
17317: CALL_OW 441
// end ; end ;
17321: GO 17165
17323: POP
17324: POP
// end ;
17325: GO 17135
17327: POP
17328: POP
// end ;
17329: LD_VAR 0 4
17333: RET
// export function randomHumanStats ( init_level ) ; var cl , combat , eng , mech , sci , skills , base_skills , attr ; var i , k , base , n , def , speed ; begin
17334: LD_INT 0
17336: PPUSH
17337: PPUSH
17338: PPUSH
17339: PPUSH
17340: PPUSH
17341: PPUSH
17342: PPUSH
17343: PPUSH
17344: PPUSH
17345: PPUSH
17346: PPUSH
17347: PPUSH
17348: PPUSH
17349: PPUSH
17350: PPUSH
// cl = rand ( 1 , 4 ) ;
17351: LD_ADDR_VAR 0 3
17355: PUSH
17356: LD_INT 1
17358: PPUSH
17359: LD_INT 4
17361: PPUSH
17362: CALL_OW 12
17366: ST_TO_ADDR
// base = init_level ;
17367: LD_ADDR_VAR 0 13
17371: PUSH
17372: LD_VAR 0 1
17376: ST_TO_ADDR
// case tick of 0 .. 5 5$00 :
17377: LD_OWVAR 1
17381: PUSH
17382: LD_INT 0
17384: DOUBLE
17385: GREATEREQUAL
17386: IFFALSE 17394
17388: LD_INT 10500
17390: DOUBLE
17391: LESSEQUAL
17392: IFTRUE 17396
17394: GO 17407
17396: POP
// i = 1 ; 5 5$01 .. 9 9$00 :
17397: LD_ADDR_VAR 0 11
17401: PUSH
17402: LD_INT 1
17404: ST_TO_ADDR
17405: GO 17666
17407: LD_INT 10535
17409: DOUBLE
17410: GREATEREQUAL
17411: IFFALSE 17419
17413: LD_INT 18900
17415: DOUBLE
17416: LESSEQUAL
17417: IFTRUE 17421
17419: GO 17432
17421: POP
// i = 2 ; 9 9$01 .. 15 15$00 :
17422: LD_ADDR_VAR 0 11
17426: PUSH
17427: LD_INT 2
17429: ST_TO_ADDR
17430: GO 17666
17432: LD_INT 18935
17434: DOUBLE
17435: GREATEREQUAL
17436: IFFALSE 17444
17438: LD_INT 31500
17440: DOUBLE
17441: LESSEQUAL
17442: IFTRUE 17446
17444: GO 17457
17446: POP
// i = 3 ; 15 15$01 .. 22 22$00 :
17447: LD_ADDR_VAR 0 11
17451: PUSH
17452: LD_INT 3
17454: ST_TO_ADDR
17455: GO 17666
17457: LD_INT 31535
17459: DOUBLE
17460: GREATEREQUAL
17461: IFFALSE 17469
17463: LD_INT 46200
17465: DOUBLE
17466: LESSEQUAL
17467: IFTRUE 17471
17469: GO 17482
17471: POP
// i = 4 ; 22 22$01 .. 30 30$00 :
17472: LD_ADDR_VAR 0 11
17476: PUSH
17477: LD_INT 4
17479: ST_TO_ADDR
17480: GO 17666
17482: LD_INT 46235
17484: DOUBLE
17485: GREATEREQUAL
17486: IFFALSE 17494
17488: LD_INT 63000
17490: DOUBLE
17491: LESSEQUAL
17492: IFTRUE 17496
17494: GO 17507
17496: POP
// i = 5 ; 30 30$01 .. 40 40$00 :
17497: LD_ADDR_VAR 0 11
17501: PUSH
17502: LD_INT 5
17504: ST_TO_ADDR
17505: GO 17666
17507: LD_INT 63035
17509: DOUBLE
17510: GREATEREQUAL
17511: IFFALSE 17519
17513: LD_INT 84000
17515: DOUBLE
17516: LESSEQUAL
17517: IFTRUE 17521
17519: GO 17532
17521: POP
// i = 6 ; 40 40$01 .. 52 52$00 :
17522: LD_ADDR_VAR 0 11
17526: PUSH
17527: LD_INT 6
17529: ST_TO_ADDR
17530: GO 17666
17532: LD_INT 84035
17534: DOUBLE
17535: GREATEREQUAL
17536: IFFALSE 17544
17538: LD_INT 109200
17540: DOUBLE
17541: LESSEQUAL
17542: IFTRUE 17546
17544: GO 17557
17546: POP
// i = 7 ; 52 52$01 .. 66 66$00 :
17547: LD_ADDR_VAR 0 11
17551: PUSH
17552: LD_INT 7
17554: ST_TO_ADDR
17555: GO 17666
17557: LD_INT 109235
17559: DOUBLE
17560: GREATEREQUAL
17561: IFFALSE 17569
17563: LD_INT 138600
17565: DOUBLE
17566: LESSEQUAL
17567: IFTRUE 17571
17569: GO 17582
17571: POP
// i = 8 ; 66 66$01 .. 88 88$00 :
17572: LD_ADDR_VAR 0 11
17576: PUSH
17577: LD_INT 8
17579: ST_TO_ADDR
17580: GO 17666
17582: LD_INT 138635
17584: DOUBLE
17585: GREATEREQUAL
17586: IFFALSE 17594
17588: LD_INT 184800
17590: DOUBLE
17591: LESSEQUAL
17592: IFTRUE 17596
17594: GO 17607
17596: POP
// i = 9 ; 88 88$01 .. 100 100$00 :
17597: LD_ADDR_VAR 0 11
17601: PUSH
17602: LD_INT 9
17604: ST_TO_ADDR
17605: GO 17666
17607: LD_INT 184835
17609: DOUBLE
17610: GREATEREQUAL
17611: IFFALSE 17619
17613: LD_INT 210000
17615: DOUBLE
17616: LESSEQUAL
17617: IFTRUE 17621
17619: GO 17632
17621: POP
// i = 10 ; 100 100$01 .. 120 120$00 :
17622: LD_ADDR_VAR 0 11
17626: PUSH
17627: LD_INT 10
17629: ST_TO_ADDR
17630: GO 17666
17632: LD_INT 210035
17634: DOUBLE
17635: GREATEREQUAL
17636: IFFALSE 17644
17638: LD_INT 252000
17640: DOUBLE
17641: LESSEQUAL
17642: IFTRUE 17646
17644: GO 17657
17646: POP
// i = 11 ; else
17647: LD_ADDR_VAR 0 11
17651: PUSH
17652: LD_INT 11
17654: ST_TO_ADDR
17655: GO 17666
17657: POP
// i = 12 ; end ;
17658: LD_ADDR_VAR 0 11
17662: PUSH
17663: LD_INT 12
17665: ST_TO_ADDR
// i = i - base div 2 ;
17666: LD_ADDR_VAR 0 11
17670: PUSH
17671: LD_VAR 0 11
17675: PUSH
17676: LD_VAR 0 13
17680: PUSH
17681: LD_INT 2
17683: DIV
17684: MINUS
17685: ST_TO_ADDR
// if i < 0 then
17686: LD_VAR 0 11
17690: PUSH
17691: LD_INT 0
17693: LESS
17694: IFFALSE 17704
// i = 0 ;
17696: LD_ADDR_VAR 0 11
17700: PUSH
17701: LD_INT 0
17703: ST_TO_ADDR
// if cl = 1 then
17704: LD_VAR 0 3
17708: PUSH
17709: LD_INT 1
17711: EQUAL
17712: IFFALSE 17752
// combat = rand ( base + i - 1 , base + i ) else
17714: LD_ADDR_VAR 0 4
17718: PUSH
17719: LD_VAR 0 13
17723: PUSH
17724: LD_VAR 0 11
17728: PLUS
17729: PUSH
17730: LD_INT 1
17732: MINUS
17733: PPUSH
17734: LD_VAR 0 13
17738: PUSH
17739: LD_VAR 0 11
17743: PLUS
17744: PPUSH
17745: CALL_OW 12
17749: ST_TO_ADDR
17750: GO 17792
// combat = rand ( base + i - 4 , base + i - 1 ) ;
17752: LD_ADDR_VAR 0 4
17756: PUSH
17757: LD_VAR 0 13
17761: PUSH
17762: LD_VAR 0 11
17766: PLUS
17767: PUSH
17768: LD_INT 4
17770: MINUS
17771: PPUSH
17772: LD_VAR 0 13
17776: PUSH
17777: LD_VAR 0 11
17781: PLUS
17782: PUSH
17783: LD_INT 1
17785: MINUS
17786: PPUSH
17787: CALL_OW 12
17791: ST_TO_ADDR
// if cl = 2 then
17792: LD_VAR 0 3
17796: PUSH
17797: LD_INT 2
17799: EQUAL
17800: IFFALSE 17840
// eng = rand ( base + i - 1 , base + i ) else
17802: LD_ADDR_VAR 0 5
17806: PUSH
17807: LD_VAR 0 13
17811: PUSH
17812: LD_VAR 0 11
17816: PLUS
17817: PUSH
17818: LD_INT 1
17820: MINUS
17821: PPUSH
17822: LD_VAR 0 13
17826: PUSH
17827: LD_VAR 0 11
17831: PLUS
17832: PPUSH
17833: CALL_OW 12
17837: ST_TO_ADDR
17838: GO 17880
// eng = rand ( base + i - 4 , base + i - 1 ) ;
17840: LD_ADDR_VAR 0 5
17844: PUSH
17845: LD_VAR 0 13
17849: PUSH
17850: LD_VAR 0 11
17854: PLUS
17855: PUSH
17856: LD_INT 4
17858: MINUS
17859: PPUSH
17860: LD_VAR 0 13
17864: PUSH
17865: LD_VAR 0 11
17869: PLUS
17870: PUSH
17871: LD_INT 1
17873: MINUS
17874: PPUSH
17875: CALL_OW 12
17879: ST_TO_ADDR
// if cl = 3 then
17880: LD_VAR 0 3
17884: PUSH
17885: LD_INT 3
17887: EQUAL
17888: IFFALSE 17928
// mech = rand ( base + i - 1 , base + i ) else
17890: LD_ADDR_VAR 0 6
17894: PUSH
17895: LD_VAR 0 13
17899: PUSH
17900: LD_VAR 0 11
17904: PLUS
17905: PUSH
17906: LD_INT 1
17908: MINUS
17909: PPUSH
17910: LD_VAR 0 13
17914: PUSH
17915: LD_VAR 0 11
17919: PLUS
17920: PPUSH
17921: CALL_OW 12
17925: ST_TO_ADDR
17926: GO 17968
// mech = rand ( base + i - 4 , base + i - 1 ) ;
17928: LD_ADDR_VAR 0 6
17932: PUSH
17933: LD_VAR 0 13
17937: PUSH
17938: LD_VAR 0 11
17942: PLUS
17943: PUSH
17944: LD_INT 4
17946: MINUS
17947: PPUSH
17948: LD_VAR 0 13
17952: PUSH
17953: LD_VAR 0 11
17957: PLUS
17958: PUSH
17959: LD_INT 1
17961: MINUS
17962: PPUSH
17963: CALL_OW 12
17967: ST_TO_ADDR
// if cl = 4 then
17968: LD_VAR 0 3
17972: PUSH
17973: LD_INT 4
17975: EQUAL
17976: IFFALSE 18016
// sci = rand ( base + i - 1 , base + i ) else
17978: LD_ADDR_VAR 0 7
17982: PUSH
17983: LD_VAR 0 13
17987: PUSH
17988: LD_VAR 0 11
17992: PLUS
17993: PUSH
17994: LD_INT 1
17996: MINUS
17997: PPUSH
17998: LD_VAR 0 13
18002: PUSH
18003: LD_VAR 0 11
18007: PLUS
18008: PPUSH
18009: CALL_OW 12
18013: ST_TO_ADDR
18014: GO 18056
// sci = rand ( base + i - 4 , base + i - 1 ) ;
18016: LD_ADDR_VAR 0 7
18020: PUSH
18021: LD_VAR 0 13
18025: PUSH
18026: LD_VAR 0 11
18030: PLUS
18031: PUSH
18032: LD_INT 4
18034: MINUS
18035: PPUSH
18036: LD_VAR 0 13
18040: PUSH
18041: LD_VAR 0 11
18045: PLUS
18046: PUSH
18047: LD_INT 1
18049: MINUS
18050: PPUSH
18051: CALL_OW 12
18055: ST_TO_ADDR
// skills = [ combat , eng , mech , sci ] ;
18056: LD_ADDR_VAR 0 8
18060: PUSH
18061: LD_VAR 0 4
18065: PUSH
18066: LD_VAR 0 5
18070: PUSH
18071: LD_VAR 0 6
18075: PUSH
18076: LD_VAR 0 7
18080: PUSH
18081: EMPTY
18082: LIST
18083: LIST
18084: LIST
18085: LIST
18086: ST_TO_ADDR
// for i = 1 to 4 do
18087: LD_ADDR_VAR 0 11
18091: PUSH
18092: DOUBLE
18093: LD_INT 1
18095: DEC
18096: ST_TO_ADDR
18097: LD_INT 4
18099: PUSH
18100: FOR_TO
18101: IFFALSE 18256
// begin if skills [ i ] < 0 then
18103: LD_VAR 0 8
18107: PUSH
18108: LD_VAR 0 11
18112: ARRAY
18113: PUSH
18114: LD_INT 0
18116: LESS
18117: IFFALSE 18142
// skills = replace ( skills , i , 0 ) ;
18119: LD_ADDR_VAR 0 8
18123: PUSH
18124: LD_VAR 0 8
18128: PPUSH
18129: LD_VAR 0 11
18133: PPUSH
18134: LD_INT 0
18136: PPUSH
18137: CALL_OW 1
18141: ST_TO_ADDR
// n = [ 0 , 1 , 0 , 1 , 0 , 2 , 0 , 0 , 1 , 0 ] [ rand ( 1 , 10 ) ] ;
18142: LD_ADDR_VAR 0 14
18146: PUSH
18147: LD_INT 0
18149: PUSH
18150: LD_INT 1
18152: PUSH
18153: LD_INT 0
18155: PUSH
18156: LD_INT 1
18158: PUSH
18159: LD_INT 0
18161: PUSH
18162: LD_INT 2
18164: PUSH
18165: LD_INT 0
18167: PUSH
18168: LD_INT 0
18170: PUSH
18171: LD_INT 1
18173: PUSH
18174: LD_INT 0
18176: PUSH
18177: EMPTY
18178: LIST
18179: LIST
18180: LIST
18181: LIST
18182: LIST
18183: LIST
18184: LIST
18185: LIST
18186: LIST
18187: LIST
18188: PUSH
18189: LD_INT 1
18191: PPUSH
18192: LD_INT 10
18194: PPUSH
18195: CALL_OW 12
18199: ARRAY
18200: ST_TO_ADDR
// if n > skills [ i ] then
18201: LD_VAR 0 14
18205: PUSH
18206: LD_VAR 0 8
18210: PUSH
18211: LD_VAR 0 11
18215: ARRAY
18216: GREATER
18217: IFFALSE 18235
// n = skills [ i ] ;
18219: LD_ADDR_VAR 0 14
18223: PUSH
18224: LD_VAR 0 8
18228: PUSH
18229: LD_VAR 0 11
18233: ARRAY
18234: ST_TO_ADDR
// replace ( base_skills , i , n ) ;
18235: LD_VAR 0 9
18239: PPUSH
18240: LD_VAR 0 11
18244: PPUSH
18245: LD_VAR 0 14
18249: PPUSH
18250: CALL_OW 1
// end ;
18254: GO 18100
18256: POP
18257: POP
// n = rand ( 1 , 100 ) ;
18258: LD_ADDR_VAR 0 14
18262: PUSH
18263: LD_INT 1
18265: PPUSH
18266: LD_INT 100
18268: PPUSH
18269: CALL_OW 12
18273: ST_TO_ADDR
// case n of 1 .. 32 :
18274: LD_VAR 0 14
18278: PUSH
18279: LD_INT 1
18281: DOUBLE
18282: GREATEREQUAL
18283: IFFALSE 18291
18285: LD_INT 32
18287: DOUBLE
18288: LESSEQUAL
18289: IFTRUE 18293
18291: GO 18304
18293: POP
// def = 10 ; 31 .. 54 :
18294: LD_ADDR_VAR 0 15
18298: PUSH
18299: LD_INT 10
18301: ST_TO_ADDR
18302: GO 18405
18304: LD_INT 31
18306: DOUBLE
18307: GREATEREQUAL
18308: IFFALSE 18316
18310: LD_INT 54
18312: DOUBLE
18313: LESSEQUAL
18314: IFTRUE 18318
18316: GO 18329
18318: POP
// def = 9 ; 55 .. 76 :
18319: LD_ADDR_VAR 0 15
18323: PUSH
18324: LD_INT 9
18326: ST_TO_ADDR
18327: GO 18405
18329: LD_INT 55
18331: DOUBLE
18332: GREATEREQUAL
18333: IFFALSE 18341
18335: LD_INT 76
18337: DOUBLE
18338: LESSEQUAL
18339: IFTRUE 18343
18341: GO 18354
18343: POP
// def = 11 ; 77 .. 88 :
18344: LD_ADDR_VAR 0 15
18348: PUSH
18349: LD_INT 11
18351: ST_TO_ADDR
18352: GO 18405
18354: LD_INT 77
18356: DOUBLE
18357: GREATEREQUAL
18358: IFFALSE 18366
18360: LD_INT 88
18362: DOUBLE
18363: LESSEQUAL
18364: IFTRUE 18368
18366: GO 18379
18368: POP
// def = 8 ; 89 .. 100 :
18369: LD_ADDR_VAR 0 15
18373: PUSH
18374: LD_INT 8
18376: ST_TO_ADDR
18377: GO 18405
18379: LD_INT 89
18381: DOUBLE
18382: GREATEREQUAL
18383: IFFALSE 18391
18385: LD_INT 100
18387: DOUBLE
18388: LESSEQUAL
18389: IFTRUE 18393
18391: GO 18404
18393: POP
// def = 12 ; end ;
18394: LD_ADDR_VAR 0 15
18398: PUSH
18399: LD_INT 12
18401: ST_TO_ADDR
18402: GO 18405
18404: POP
// n = rand ( 1 , 100 ) ;
18405: LD_ADDR_VAR 0 14
18409: PUSH
18410: LD_INT 1
18412: PPUSH
18413: LD_INT 100
18415: PPUSH
18416: CALL_OW 12
18420: ST_TO_ADDR
// case n of 1 .. 44 :
18421: LD_VAR 0 14
18425: PUSH
18426: LD_INT 1
18428: DOUBLE
18429: GREATEREQUAL
18430: IFFALSE 18438
18432: LD_INT 44
18434: DOUBLE
18435: LESSEQUAL
18436: IFTRUE 18440
18438: GO 18451
18440: POP
// speed = 10 ; 45 .. 76 :
18441: LD_ADDR_VAR 0 16
18445: PUSH
18446: LD_INT 10
18448: ST_TO_ADDR
18449: GO 18527
18451: LD_INT 45
18453: DOUBLE
18454: GREATEREQUAL
18455: IFFALSE 18463
18457: LD_INT 76
18459: DOUBLE
18460: LESSEQUAL
18461: IFTRUE 18465
18463: GO 18476
18465: POP
// speed = 9 ; 77 .. 94 :
18466: LD_ADDR_VAR 0 16
18470: PUSH
18471: LD_INT 9
18473: ST_TO_ADDR
18474: GO 18527
18476: LD_INT 77
18478: DOUBLE
18479: GREATEREQUAL
18480: IFFALSE 18488
18482: LD_INT 94
18484: DOUBLE
18485: LESSEQUAL
18486: IFTRUE 18490
18488: GO 18501
18490: POP
// speed = 11 ; 95 .. 100 :
18491: LD_ADDR_VAR 0 16
18495: PUSH
18496: LD_INT 11
18498: ST_TO_ADDR
18499: GO 18527
18501: LD_INT 95
18503: DOUBLE
18504: GREATEREQUAL
18505: IFFALSE 18513
18507: LD_INT 100
18509: DOUBLE
18510: LESSEQUAL
18511: IFTRUE 18515
18513: GO 18526
18515: POP
// speed = 12 ; end ;
18516: LD_ADDR_VAR 0 16
18520: PUSH
18521: LD_INT 12
18523: ST_TO_ADDR
18524: GO 18527
18526: POP
// hc_attr = [ def , speed ] ;
18527: LD_ADDR_OWVAR 29
18531: PUSH
18532: LD_VAR 0 15
18536: PUSH
18537: LD_VAR 0 16
18541: PUSH
18542: EMPTY
18543: LIST
18544: LIST
18545: ST_TO_ADDR
// hc_basic_skills = base_skills ;
18546: LD_ADDR_OWVAR 30
18550: PUSH
18551: LD_VAR 0 9
18555: ST_TO_ADDR
// hc_skills := skills ;
18556: LD_ADDR_OWVAR 31
18560: PUSH
18561: LD_VAR 0 8
18565: ST_TO_ADDR
// hc_class = cl ;
18566: LD_ADDR_OWVAR 28
18570: PUSH
18571: LD_VAR 0 3
18575: ST_TO_ADDR
// end ; end_of_file
18576: LD_VAR 0 2
18580: RET
// var strany ; export maxTechLevel ; export function Start_tech_ur ; var i ; begin
18581: LD_INT 0
18583: PPUSH
18584: PPUSH
// if not maxTechLevel then
18585: LD_EXP 114
18589: NOT
18590: IFFALSE 18600
// maxTechLevel = 8 ;
18592: LD_ADDR_EXP 114
18596: PUSH
18597: LD_INT 8
18599: ST_TO_ADDR
// strany = [ ] ;
18600: LD_ADDR_LOC 19
18604: PUSH
18605: EMPTY
18606: ST_TO_ADDR
// if def_tech_level > maxTechLevel then
18607: LD_EXP 26
18611: PUSH
18612: LD_EXP 114
18616: GREATER
18617: IFFALSE 18629
// def_tech_level = maxTechLevel ;
18619: LD_ADDR_EXP 26
18623: PUSH
18624: LD_EXP 114
18628: ST_TO_ADDR
// for i := 1 to Side_Positions do
18629: LD_ADDR_VAR 0 2
18633: PUSH
18634: DOUBLE
18635: LD_INT 1
18637: DEC
18638: ST_TO_ADDR
18639: LD_EXP 74
18643: PUSH
18644: FOR_TO
18645: IFFALSE 18677
// if Side_Positions [ i ] then
18647: LD_EXP 74
18651: PUSH
18652: LD_VAR 0 2
18656: ARRAY
18657: IFFALSE 18675
// strany = strany ^ i ;
18659: LD_ADDR_LOC 19
18663: PUSH
18664: LD_LOC 19
18668: PUSH
18669: LD_VAR 0 2
18673: ADD
18674: ST_TO_ADDR
18675: GO 18644
18677: POP
18678: POP
// for i in strany do
18679: LD_ADDR_VAR 0 2
18683: PUSH
18684: LD_LOC 19
18688: PUSH
18689: FOR_IN
18690: IFFALSE 18703
// Vse_zakaz ( i ) ;
18692: LD_VAR 0 2
18696: PPUSH
18697: CALL 19678 0 1
18701: GO 18689
18703: POP
18704: POP
// for i in strany do
18705: LD_ADDR_VAR 0 2
18709: PUSH
18710: LD_LOC 19
18714: PUSH
18715: FOR_IN
18716: IFFALSE 19138
// case def_tech_level of 1 :
18718: LD_EXP 26
18722: PUSH
18723: LD_INT 1
18725: DOUBLE
18726: EQUAL
18727: IFTRUE 18731
18729: GO 18743
18731: POP
// ur_1 ( i ) ; 2 :
18732: LD_VAR 0 2
18736: PPUSH
18737: CALL 19838 0 1
18741: GO 19136
18743: LD_INT 2
18745: DOUBLE
18746: EQUAL
18747: IFTRUE 18751
18749: GO 18772
18751: POP
// begin ur_1 ( i ) ;
18752: LD_VAR 0 2
18756: PPUSH
18757: CALL 19838 0 1
// ur_2 ( i ) ;
18761: LD_VAR 0 2
18765: PPUSH
18766: CALL 20223 0 1
// end ; 3 :
18770: GO 19136
18772: LD_INT 3
18774: DOUBLE
18775: EQUAL
18776: IFTRUE 18780
18778: GO 18810
18780: POP
// begin ur_1 ( i ) ;
18781: LD_VAR 0 2
18785: PPUSH
18786: CALL 19838 0 1
// ur_2 ( i ) ;
18790: LD_VAR 0 2
18794: PPUSH
18795: CALL 20223 0 1
// ur_3 ( i ) ;
18799: LD_VAR 0 2
18803: PPUSH
18804: CALL 20612 0 1
// end ; 4 :
18808: GO 19136
18810: LD_INT 4
18812: DOUBLE
18813: EQUAL
18814: IFTRUE 18818
18816: GO 18857
18818: POP
// begin ur_1 ( i ) ;
18819: LD_VAR 0 2
18823: PPUSH
18824: CALL 19838 0 1
// ur_2 ( i ) ;
18828: LD_VAR 0 2
18832: PPUSH
18833: CALL 20223 0 1
// ur_3 ( i ) ;
18837: LD_VAR 0 2
18841: PPUSH
18842: CALL 20612 0 1
// ur_4 ( i ) ;
18846: LD_VAR 0 2
18850: PPUSH
18851: CALL 21073 0 1
// end ; 5 :
18855: GO 19136
18857: LD_INT 5
18859: DOUBLE
18860: EQUAL
18861: IFTRUE 18865
18863: GO 18913
18865: POP
// begin ur_1 ( i ) ;
18866: LD_VAR 0 2
18870: PPUSH
18871: CALL 19838 0 1
// ur_2 ( i ) ;
18875: LD_VAR 0 2
18879: PPUSH
18880: CALL 20223 0 1
// ur_3 ( i ) ;
18884: LD_VAR 0 2
18888: PPUSH
18889: CALL 20612 0 1
// ur_4 ( i ) ;
18893: LD_VAR 0 2
18897: PPUSH
18898: CALL 21073 0 1
// ur_5 ( i ) ;
18902: LD_VAR 0 2
18906: PPUSH
18907: CALL 21550 0 1
// end ; 6 :
18911: GO 19136
18913: LD_INT 6
18915: DOUBLE
18916: EQUAL
18917: IFTRUE 18921
18919: GO 18978
18921: POP
// begin ur_1 ( i ) ;
18922: LD_VAR 0 2
18926: PPUSH
18927: CALL 19838 0 1
// ur_2 ( i ) ;
18931: LD_VAR 0 2
18935: PPUSH
18936: CALL 20223 0 1
// ur_3 ( i ) ;
18940: LD_VAR 0 2
18944: PPUSH
18945: CALL 20612 0 1
// ur_4 ( i ) ;
18949: LD_VAR 0 2
18953: PPUSH
18954: CALL 21073 0 1
// ur_5 ( i ) ;
18958: LD_VAR 0 2
18962: PPUSH
18963: CALL 21550 0 1
// ur_6 ( i ) ;
18967: LD_VAR 0 2
18971: PPUSH
18972: CALL 21844 0 1
// end ; 7 :
18976: GO 19136
18978: LD_INT 7
18980: DOUBLE
18981: EQUAL
18982: IFTRUE 18986
18984: GO 19052
18986: POP
// begin ur_1 ( i ) ;
18987: LD_VAR 0 2
18991: PPUSH
18992: CALL 19838 0 1
// ur_2 ( i ) ;
18996: LD_VAR 0 2
19000: PPUSH
19001: CALL 20223 0 1
// ur_3 ( i ) ;
19005: LD_VAR 0 2
19009: PPUSH
19010: CALL 20612 0 1
// ur_4 ( i ) ;
19014: LD_VAR 0 2
19018: PPUSH
19019: CALL 21073 0 1
// ur_5 ( i ) ;
19023: LD_VAR 0 2
19027: PPUSH
19028: CALL 21550 0 1
// ur_6 ( i ) ;
19032: LD_VAR 0 2
19036: PPUSH
19037: CALL 21844 0 1
// ur_7 ( i ) ;
19041: LD_VAR 0 2
19045: PPUSH
19046: CALL 22114 0 1
// end ; 8 :
19050: GO 19136
19052: LD_INT 8
19054: DOUBLE
19055: EQUAL
19056: IFTRUE 19060
19058: GO 19135
19060: POP
// begin ur_1 ( i ) ;
19061: LD_VAR 0 2
19065: PPUSH
19066: CALL 19838 0 1
// ur_2 ( i ) ;
19070: LD_VAR 0 2
19074: PPUSH
19075: CALL 20223 0 1
// ur_3 ( i ) ;
19079: LD_VAR 0 2
19083: PPUSH
19084: CALL 20612 0 1
// ur_4 ( i ) ;
19088: LD_VAR 0 2
19092: PPUSH
19093: CALL 21073 0 1
// ur_5 ( i ) ;
19097: LD_VAR 0 2
19101: PPUSH
19102: CALL 21550 0 1
// ur_6 ( i ) ;
19106: LD_VAR 0 2
19110: PPUSH
19111: CALL 21844 0 1
// ur_7 ( i ) ;
19115: LD_VAR 0 2
19119: PPUSH
19120: CALL 22114 0 1
// ur_8 ( i ) ;
19124: LD_VAR 0 2
19128: PPUSH
19129: CALL 22360 0 1
// end ; end ;
19133: GO 19136
19135: POP
19136: GO 18715
19138: POP
19139: POP
// end ;
19140: LD_VAR 0 1
19144: RET
// every 0 0$01 marked 30 do var i ;
19145: GO 19147
19147: DISABLE
19148: LD_INT 0
19150: PPUSH
// begin if def_upgrade_tl = 0 then
19151: LD_EXP 27
19155: PUSH
19156: LD_INT 0
19158: EQUAL
19159: IFFALSE 19163
// exit ;
19161: GO 19675
// if def_tech_level < 1 and not maxTechLevel < 1 then
19163: LD_EXP 26
19167: PUSH
19168: LD_INT 1
19170: LESS
19171: PUSH
19172: LD_EXP 114
19176: PUSH
19177: LD_INT 1
19179: LESS
19180: NOT
19181: AND
19182: IFFALSE 19227
// begin wait ( 0 0$50 * def_upgrade_tl ) ;
19184: LD_INT 1750
19186: PUSH
19187: LD_EXP 27
19191: MUL
19192: PPUSH
19193: CALL_OW 67
// for i in strany do
19197: LD_ADDR_VAR 0 1
19201: PUSH
19202: LD_LOC 19
19206: PUSH
19207: FOR_IN
19208: IFFALSE 19221
// ur_1 ( i ) ;
19210: LD_VAR 0 1
19214: PPUSH
19215: CALL 19838 0 1
19219: GO 19207
19221: POP
19222: POP
// Hustota_Zasilek ;
19223: CALL 2179 0 0
// end ; if def_tech_level < 2 and not maxTechLevel < 2 then
19227: LD_EXP 26
19231: PUSH
19232: LD_INT 2
19234: LESS
19235: PUSH
19236: LD_EXP 114
19240: PUSH
19241: LD_INT 2
19243: LESS
19244: NOT
19245: AND
19246: IFFALSE 19291
// begin wait ( 1 1$00 * def_upgrade_tl ) ;
19248: LD_INT 2100
19250: PUSH
19251: LD_EXP 27
19255: MUL
19256: PPUSH
19257: CALL_OW 67
// for i in strany do
19261: LD_ADDR_VAR 0 1
19265: PUSH
19266: LD_LOC 19
19270: PUSH
19271: FOR_IN
19272: IFFALSE 19285
// ur_2 ( i ) ;
19274: LD_VAR 0 1
19278: PPUSH
19279: CALL 20223 0 1
19283: GO 19271
19285: POP
19286: POP
// Hustota_Zasilek ;
19287: CALL 2179 0 0
// end ; if def_tech_level < 3 and not maxTechLevel < 3 then
19291: LD_EXP 26
19295: PUSH
19296: LD_INT 3
19298: LESS
19299: PUSH
19300: LD_EXP 114
19304: PUSH
19305: LD_INT 3
19307: LESS
19308: NOT
19309: AND
19310: IFFALSE 19355
// begin wait ( 3 3$30 * def_upgrade_tl ) ;
19312: LD_INT 7350
19314: PUSH
19315: LD_EXP 27
19319: MUL
19320: PPUSH
19321: CALL_OW 67
// for i in strany do
19325: LD_ADDR_VAR 0 1
19329: PUSH
19330: LD_LOC 19
19334: PUSH
19335: FOR_IN
19336: IFFALSE 19349
// ur_3 ( i ) ;
19338: LD_VAR 0 1
19342: PPUSH
19343: CALL 20612 0 1
19347: GO 19335
19349: POP
19350: POP
// Hustota_Zasilek ;
19351: CALL 2179 0 0
// end ; if def_tech_level < 4 and not maxTechLevel < 4 then
19355: LD_EXP 26
19359: PUSH
19360: LD_INT 4
19362: LESS
19363: PUSH
19364: LD_EXP 114
19368: PUSH
19369: LD_INT 4
19371: LESS
19372: NOT
19373: AND
19374: IFFALSE 19419
// begin wait ( 4 4$30 * def_upgrade_tl ) ;
19376: LD_INT 9450
19378: PUSH
19379: LD_EXP 27
19383: MUL
19384: PPUSH
19385: CALL_OW 67
// for i in strany do
19389: LD_ADDR_VAR 0 1
19393: PUSH
19394: LD_LOC 19
19398: PUSH
19399: FOR_IN
19400: IFFALSE 19413
// ur_4 ( i ) ;
19402: LD_VAR 0 1
19406: PPUSH
19407: CALL 21073 0 1
19411: GO 19399
19413: POP
19414: POP
// Hustota_Zasilek ;
19415: CALL 2179 0 0
// end ; if def_tech_level < 5 and not maxTechLevel < 5 then
19419: LD_EXP 26
19423: PUSH
19424: LD_INT 5
19426: LESS
19427: PUSH
19428: LD_EXP 114
19432: PUSH
19433: LD_INT 5
19435: LESS
19436: NOT
19437: AND
19438: IFFALSE 19483
// begin wait ( 3 3$30 * def_upgrade_tl ) ;
19440: LD_INT 7350
19442: PUSH
19443: LD_EXP 27
19447: MUL
19448: PPUSH
19449: CALL_OW 67
// for i in strany do
19453: LD_ADDR_VAR 0 1
19457: PUSH
19458: LD_LOC 19
19462: PUSH
19463: FOR_IN
19464: IFFALSE 19477
// ur_5 ( i ) ;
19466: LD_VAR 0 1
19470: PPUSH
19471: CALL 21550 0 1
19475: GO 19463
19477: POP
19478: POP
// Hustota_Zasilek ;
19479: CALL 2179 0 0
// end ; if def_tech_level < 6 and not maxTechLevel < 6 then
19483: LD_EXP 26
19487: PUSH
19488: LD_INT 6
19490: LESS
19491: PUSH
19492: LD_EXP 114
19496: PUSH
19497: LD_INT 6
19499: LESS
19500: NOT
19501: AND
19502: IFFALSE 19547
// begin wait ( 4 4$15 * def_upgrade_tl ) ;
19504: LD_INT 8925
19506: PUSH
19507: LD_EXP 27
19511: MUL
19512: PPUSH
19513: CALL_OW 67
// for i in strany do
19517: LD_ADDR_VAR 0 1
19521: PUSH
19522: LD_LOC 19
19526: PUSH
19527: FOR_IN
19528: IFFALSE 19541
// ur_6 ( i ) ;
19530: LD_VAR 0 1
19534: PPUSH
19535: CALL 21844 0 1
19539: GO 19527
19541: POP
19542: POP
// Hustota_Zasilek ;
19543: CALL 2179 0 0
// end ; if def_tech_level < 7 and not maxTechLevel < 7 then
19547: LD_EXP 26
19551: PUSH
19552: LD_INT 7
19554: LESS
19555: PUSH
19556: LD_EXP 114
19560: PUSH
19561: LD_INT 7
19563: LESS
19564: NOT
19565: AND
19566: IFFALSE 19611
// begin wait ( 4 4$45 * def_upgrade_tl ) ;
19568: LD_INT 9975
19570: PUSH
19571: LD_EXP 27
19575: MUL
19576: PPUSH
19577: CALL_OW 67
// for i in strany do
19581: LD_ADDR_VAR 0 1
19585: PUSH
19586: LD_LOC 19
19590: PUSH
19591: FOR_IN
19592: IFFALSE 19605
// ur_7 ( i ) ;
19594: LD_VAR 0 1
19598: PPUSH
19599: CALL 22114 0 1
19603: GO 19591
19605: POP
19606: POP
// Hustota_Zasilek ;
19607: CALL 2179 0 0
// end ; if def_tech_level < 8 and not maxTechLevel < 8 then
19611: LD_EXP 26
19615: PUSH
19616: LD_INT 8
19618: LESS
19619: PUSH
19620: LD_EXP 114
19624: PUSH
19625: LD_INT 8
19627: LESS
19628: NOT
19629: AND
19630: IFFALSE 19675
// begin wait ( 6 6$00 * def_upgrade_tl ) ;
19632: LD_INT 12600
19634: PUSH
19635: LD_EXP 27
19639: MUL
19640: PPUSH
19641: CALL_OW 67
// for i in strany do
19645: LD_ADDR_VAR 0 1
19649: PUSH
19650: LD_LOC 19
19654: PUSH
19655: FOR_IN
19656: IFFALSE 19669
// ur_8 ( i ) ;
19658: LD_VAR 0 1
19662: PPUSH
19663: CALL 22360 0 1
19667: GO 19655
19669: POP
19670: POP
// Hustota_Zasilek ;
19671: CALL 2179 0 0
// end ; end ;
19675: PPOPN 1
19677: END
// function Vse_zakaz ( side ) ; var i , zbudovy ; begin
19678: LD_INT 0
19680: PPUSH
19681: PPUSH
19682: PPUSH
// for i = 1 to 72 do
19683: LD_ADDR_VAR 0 3
19687: PUSH
19688: DOUBLE
19689: LD_INT 1
19691: DEC
19692: ST_TO_ADDR
19693: LD_INT 72
19695: PUSH
19696: FOR_TO
19697: IFFALSE 19718
// SetTech ( i , side , state_disabled ) ;
19699: LD_VAR 0 3
19703: PPUSH
19704: LD_VAR 0 1
19708: PPUSH
19709: LD_INT 0
19711: PPUSH
19712: CALL_OW 322
19716: GO 19696
19718: POP
19719: POP
// zbudovy = [ 1 , 5 , 2 , 3 , 16 , 19 , 23 , 10 , 11 , 12 , 13 , 14 , 15 , 29 , 30 , 32 ] ;
19720: LD_ADDR_VAR 0 4
19724: PUSH
19725: LD_INT 1
19727: PUSH
19728: LD_INT 5
19730: PUSH
19731: LD_INT 2
19733: PUSH
19734: LD_INT 3
19736: PUSH
19737: LD_INT 16
19739: PUSH
19740: LD_INT 19
19742: PUSH
19743: LD_INT 23
19745: PUSH
19746: LD_INT 10
19748: PUSH
19749: LD_INT 11
19751: PUSH
19752: LD_INT 12
19754: PUSH
19755: LD_INT 13
19757: PUSH
19758: LD_INT 14
19760: PUSH
19761: LD_INT 15
19763: PUSH
19764: LD_INT 29
19766: PUSH
19767: LD_INT 30
19769: PUSH
19770: LD_INT 32
19772: PUSH
19773: EMPTY
19774: LIST
19775: LIST
19776: LIST
19777: LIST
19778: LIST
19779: LIST
19780: LIST
19781: LIST
19782: LIST
19783: LIST
19784: LIST
19785: LIST
19786: LIST
19787: LIST
19788: LIST
19789: LIST
19790: ST_TO_ADDR
// for i in zbudovy do
19791: LD_ADDR_VAR 0 3
19795: PUSH
19796: LD_VAR 0 4
19800: PUSH
19801: FOR_IN
19802: IFFALSE 19823
// SetRestrict ( i , side , state_disabled ) ;
19804: LD_VAR 0 3
19808: PPUSH
19809: LD_VAR 0 1
19813: PPUSH
19814: LD_INT 0
19816: PPUSH
19817: CALL_OW 324
19821: GO 19801
19823: POP
19824: POP
// Tech_Level = 0 ;
19825: LD_ADDR_EXP 56
19829: PUSH
19830: LD_INT 0
19832: ST_TO_ADDR
// end ;
19833: LD_VAR 0 2
19837: RET
// function ur_1 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
19838: LD_INT 0
19840: PPUSH
19841: PPUSH
19842: PPUSH
19843: PPUSH
19844: PPUSH
// narodnost := Side_Nations [ side ] ;
19845: LD_ADDR_VAR 0 3
19849: PUSH
19850: LD_EXP 75
19854: PUSH
19855: LD_VAR 0 1
19859: ARRAY
19860: ST_TO_ADDR
// case narodnost of 1 :
19861: LD_VAR 0 3
19865: PUSH
19866: LD_INT 1
19868: DOUBLE
19869: EQUAL
19870: IFTRUE 19874
19872: GO 19983
19874: POP
// begin pbudovy = [ 2 , 29 ] ;
19875: LD_ADDR_VAR 0 5
19879: PUSH
19880: LD_INT 2
19882: PUSH
19883: LD_INT 29
19885: PUSH
19886: EMPTY
19887: LIST
19888: LIST
19889: ST_TO_ADDR
// for i in pbudovy do
19890: LD_ADDR_VAR 0 6
19894: PUSH
19895: LD_VAR 0 5
19899: PUSH
19900: FOR_IN
19901: IFFALSE 19922
// EnableBuilding ( i , side , state_enabled ) ;
19903: LD_VAR 0 6
19907: PPUSH
19908: LD_VAR 0 1
19912: PPUSH
19913: LD_INT 1
19915: PPUSH
19916: CALL 22539 0 3
19920: GO 19900
19922: POP
19923: POP
// ptech = [ 46 , 35 , 45 , 48 ] ;
19924: LD_ADDR_VAR 0 4
19928: PUSH
19929: LD_INT 46
19931: PUSH
19932: LD_INT 35
19934: PUSH
19935: LD_INT 45
19937: PUSH
19938: LD_INT 48
19940: PUSH
19941: EMPTY
19942: LIST
19943: LIST
19944: LIST
19945: LIST
19946: ST_TO_ADDR
// for i in ptech do
19947: LD_ADDR_VAR 0 6
19951: PUSH
19952: LD_VAR 0 4
19956: PUSH
19957: FOR_IN
19958: IFFALSE 19979
// EnableTech ( i , side , state_enabled ) ;
19960: LD_VAR 0 6
19964: PPUSH
19965: LD_VAR 0 1
19969: PPUSH
19970: LD_INT 1
19972: PPUSH
19973: CALL 22460 0 3
19977: GO 19957
19979: POP
19980: POP
// end ; 2 :
19981: GO 20210
19983: LD_INT 2
19985: DOUBLE
19986: EQUAL
19987: IFTRUE 19991
19989: GO 20100
19991: POP
// begin pbudovy = [ 2 , 29 ] ;
19992: LD_ADDR_VAR 0 5
19996: PUSH
19997: LD_INT 2
19999: PUSH
20000: LD_INT 29
20002: PUSH
20003: EMPTY
20004: LIST
20005: LIST
20006: ST_TO_ADDR
// for i in pbudovy do
20007: LD_ADDR_VAR 0 6
20011: PUSH
20012: LD_VAR 0 5
20016: PUSH
20017: FOR_IN
20018: IFFALSE 20039
// EnableBuilding ( i , side , state_enabled ) ;
20020: LD_VAR 0 6
20024: PPUSH
20025: LD_VAR 0 1
20029: PPUSH
20030: LD_INT 1
20032: PPUSH
20033: CALL 22539 0 3
20037: GO 20017
20039: POP
20040: POP
// ptech = [ 46 , 35 , 45 , 48 ] ;
20041: LD_ADDR_VAR 0 4
20045: PUSH
20046: LD_INT 46
20048: PUSH
20049: LD_INT 35
20051: PUSH
20052: LD_INT 45
20054: PUSH
20055: LD_INT 48
20057: PUSH
20058: EMPTY
20059: LIST
20060: LIST
20061: LIST
20062: LIST
20063: ST_TO_ADDR
// for i in ptech do
20064: LD_ADDR_VAR 0 6
20068: PUSH
20069: LD_VAR 0 4
20073: PUSH
20074: FOR_IN
20075: IFFALSE 20096
// EnableTech ( i , side , state_enabled ) ;
20077: LD_VAR 0 6
20081: PPUSH
20082: LD_VAR 0 1
20086: PPUSH
20087: LD_INT 1
20089: PPUSH
20090: CALL 22460 0 3
20094: GO 20074
20096: POP
20097: POP
// end ; 3 :
20098: GO 20210
20100: LD_INT 3
20102: DOUBLE
20103: EQUAL
20104: IFTRUE 20108
20106: GO 20209
20108: POP
// begin pbudovy = [ 2 , 29 ] ;
20109: LD_ADDR_VAR 0 5
20113: PUSH
20114: LD_INT 2
20116: PUSH
20117: LD_INT 29
20119: PUSH
20120: EMPTY
20121: LIST
20122: LIST
20123: ST_TO_ADDR
// for i in pbudovy do
20124: LD_ADDR_VAR 0 6
20128: PUSH
20129: LD_VAR 0 5
20133: PUSH
20134: FOR_IN
20135: IFFALSE 20156
// EnableBuilding ( i , side , state_enabled ) ;
20137: LD_VAR 0 6
20141: PPUSH
20142: LD_VAR 0 1
20146: PPUSH
20147: LD_INT 1
20149: PPUSH
20150: CALL 22539 0 3
20154: GO 20134
20156: POP
20157: POP
// ptech = [ 46 , 47 ] ;
20158: LD_ADDR_VAR 0 4
20162: PUSH
20163: LD_INT 46
20165: PUSH
20166: LD_INT 47
20168: PUSH
20169: EMPTY
20170: LIST
20171: LIST
20172: ST_TO_ADDR
// for i in ptech do
20173: LD_ADDR_VAR 0 6
20177: PUSH
20178: LD_VAR 0 4
20182: PUSH
20183: FOR_IN
20184: IFFALSE 20205
// EnableTech ( i , side , state_enabled ) ;
20186: LD_VAR 0 6
20190: PPUSH
20191: LD_VAR 0 1
20195: PPUSH
20196: LD_INT 1
20198: PPUSH
20199: CALL 22460 0 3
20203: GO 20183
20205: POP
20206: POP
// end ; end ;
20207: GO 20210
20209: POP
// Tech_Level = 1 ;
20210: LD_ADDR_EXP 56
20214: PUSH
20215: LD_INT 1
20217: ST_TO_ADDR
// end ;
20218: LD_VAR 0 2
20222: RET
// function ur_2 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
20223: LD_INT 0
20225: PPUSH
20226: PPUSH
20227: PPUSH
20228: PPUSH
20229: PPUSH
// narodnost := Side_Nations [ side ] ;
20230: LD_ADDR_VAR 0 3
20234: PUSH
20235: LD_EXP 75
20239: PUSH
20240: LD_VAR 0 1
20244: ARRAY
20245: ST_TO_ADDR
// case narodnost of 1 :
20246: LD_VAR 0 3
20250: PUSH
20251: LD_INT 1
20253: DOUBLE
20254: EQUAL
20255: IFTRUE 20259
20257: GO 20368
20259: POP
// begin pbudovy = [ 10 , 3 ] ;
20260: LD_ADDR_VAR 0 5
20264: PUSH
20265: LD_INT 10
20267: PUSH
20268: LD_INT 3
20270: PUSH
20271: EMPTY
20272: LIST
20273: LIST
20274: ST_TO_ADDR
// for i in pbudovy do
20275: LD_ADDR_VAR 0 6
20279: PUSH
20280: LD_VAR 0 5
20284: PUSH
20285: FOR_IN
20286: IFFALSE 20307
// EnableBuilding ( i , side , state_enabled ) ;
20288: LD_VAR 0 6
20292: PPUSH
20293: LD_VAR 0 1
20297: PPUSH
20298: LD_INT 1
20300: PPUSH
20301: CALL 22539 0 3
20305: GO 20285
20307: POP
20308: POP
// ptech = [ 1 , 47 , 69 , 2 ] ;
20309: LD_ADDR_VAR 0 4
20313: PUSH
20314: LD_INT 1
20316: PUSH
20317: LD_INT 47
20319: PUSH
20320: LD_INT 69
20322: PUSH
20323: LD_INT 2
20325: PUSH
20326: EMPTY
20327: LIST
20328: LIST
20329: LIST
20330: LIST
20331: ST_TO_ADDR
// for i in ptech do
20332: LD_ADDR_VAR 0 6
20336: PUSH
20337: LD_VAR 0 4
20341: PUSH
20342: FOR_IN
20343: IFFALSE 20364
// EnableTech ( i , side , state_enabled ) ;
20345: LD_VAR 0 6
20349: PPUSH
20350: LD_VAR 0 1
20354: PPUSH
20355: LD_INT 1
20357: PPUSH
20358: CALL 22460 0 3
20362: GO 20342
20364: POP
20365: POP
// end ; 2 :
20366: GO 20599
20368: LD_INT 2
20370: DOUBLE
20371: EQUAL
20372: IFTRUE 20376
20374: GO 20485
20376: POP
// begin pbudovy = [ 10 , 3 ] ;
20377: LD_ADDR_VAR 0 5
20381: PUSH
20382: LD_INT 10
20384: PUSH
20385: LD_INT 3
20387: PUSH
20388: EMPTY
20389: LIST
20390: LIST
20391: ST_TO_ADDR
// for i in pbudovy do
20392: LD_ADDR_VAR 0 6
20396: PUSH
20397: LD_VAR 0 5
20401: PUSH
20402: FOR_IN
20403: IFFALSE 20424
// EnableBuilding ( i , side , state_enabled ) ;
20405: LD_VAR 0 6
20409: PPUSH
20410: LD_VAR 0 1
20414: PPUSH
20415: LD_INT 1
20417: PPUSH
20418: CALL 22539 0 3
20422: GO 20402
20424: POP
20425: POP
// ptech = [ 1 , 47 , 69 , 11 ] ;
20426: LD_ADDR_VAR 0 4
20430: PUSH
20431: LD_INT 1
20433: PUSH
20434: LD_INT 47
20436: PUSH
20437: LD_INT 69
20439: PUSH
20440: LD_INT 11
20442: PUSH
20443: EMPTY
20444: LIST
20445: LIST
20446: LIST
20447: LIST
20448: ST_TO_ADDR
// for i in ptech do
20449: LD_ADDR_VAR 0 6
20453: PUSH
20454: LD_VAR 0 4
20458: PUSH
20459: FOR_IN
20460: IFFALSE 20481
// EnableTech ( i , side , state_enabled ) ;
20462: LD_VAR 0 6
20466: PPUSH
20467: LD_VAR 0 1
20471: PPUSH
20472: LD_INT 1
20474: PPUSH
20475: CALL 22460 0 3
20479: GO 20459
20481: POP
20482: POP
// end ; 3 :
20483: GO 20599
20485: LD_INT 3
20487: DOUBLE
20488: EQUAL
20489: IFTRUE 20493
20491: GO 20598
20493: POP
// begin pbudovy = [ 10 ] ;
20494: LD_ADDR_VAR 0 5
20498: PUSH
20499: LD_INT 10
20501: PUSH
20502: EMPTY
20503: LIST
20504: ST_TO_ADDR
// for i in pbudovy do
20505: LD_ADDR_VAR 0 6
20509: PUSH
20510: LD_VAR 0 5
20514: PUSH
20515: FOR_IN
20516: IFFALSE 20537
// EnableBuilding ( i , side , state_enabled ) ;
20518: LD_VAR 0 6
20522: PPUSH
20523: LD_VAR 0 1
20527: PPUSH
20528: LD_INT 1
20530: PPUSH
20531: CALL 22539 0 3
20535: GO 20515
20537: POP
20538: POP
// ptech = [ 1 , 2 , 48 , 51 ] ;
20539: LD_ADDR_VAR 0 4
20543: PUSH
20544: LD_INT 1
20546: PUSH
20547: LD_INT 2
20549: PUSH
20550: LD_INT 48
20552: PUSH
20553: LD_INT 51
20555: PUSH
20556: EMPTY
20557: LIST
20558: LIST
20559: LIST
20560: LIST
20561: ST_TO_ADDR
// for i in ptech do
20562: LD_ADDR_VAR 0 6
20566: PUSH
20567: LD_VAR 0 4
20571: PUSH
20572: FOR_IN
20573: IFFALSE 20594
// EnableTech ( i , side , state_enabled ) ;
20575: LD_VAR 0 6
20579: PPUSH
20580: LD_VAR 0 1
20584: PPUSH
20585: LD_INT 1
20587: PPUSH
20588: CALL 22460 0 3
20592: GO 20572
20594: POP
20595: POP
// end ; end ;
20596: GO 20599
20598: POP
// Tech_Level = 2 ;
20599: LD_ADDR_EXP 56
20603: PUSH
20604: LD_INT 2
20606: ST_TO_ADDR
// end ;
20607: LD_VAR 0 2
20611: RET
// function ur_3 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
20612: LD_INT 0
20614: PPUSH
20615: PPUSH
20616: PPUSH
20617: PPUSH
20618: PPUSH
// narodnost := Side_Nations [ side ] ;
20619: LD_ADDR_VAR 0 3
20623: PUSH
20624: LD_EXP 75
20628: PUSH
20629: LD_VAR 0 1
20633: ARRAY
20634: ST_TO_ADDR
// case narodnost of 1 :
20635: LD_VAR 0 3
20639: PUSH
20640: LD_INT 1
20642: DOUBLE
20643: EQUAL
20644: IFTRUE 20648
20646: GO 20773
20648: POP
// begin pbudovy = [ 32 , 19 , 5 , 16 , 15 ] ;
20649: LD_ADDR_VAR 0 5
20653: PUSH
20654: LD_INT 32
20656: PUSH
20657: LD_INT 19
20659: PUSH
20660: LD_INT 5
20662: PUSH
20663: LD_INT 16
20665: PUSH
20666: LD_INT 15
20668: PUSH
20669: EMPTY
20670: LIST
20671: LIST
20672: LIST
20673: LIST
20674: LIST
20675: ST_TO_ADDR
// for i in pbudovy do
20676: LD_ADDR_VAR 0 6
20680: PUSH
20681: LD_VAR 0 5
20685: PUSH
20686: FOR_IN
20687: IFFALSE 20708
// EnableBuilding ( i , side , state_enabled ) ;
20689: LD_VAR 0 6
20693: PPUSH
20694: LD_VAR 0 1
20698: PPUSH
20699: LD_INT 1
20701: PPUSH
20702: CALL 22539 0 3
20706: GO 20686
20708: POP
20709: POP
// ptech = [ 39 , 49 , 6 , 12 , 51 ] ;
20710: LD_ADDR_VAR 0 4
20714: PUSH
20715: LD_INT 39
20717: PUSH
20718: LD_INT 49
20720: PUSH
20721: LD_INT 6
20723: PUSH
20724: LD_INT 12
20726: PUSH
20727: LD_INT 51
20729: PUSH
20730: EMPTY
20731: LIST
20732: LIST
20733: LIST
20734: LIST
20735: LIST
20736: ST_TO_ADDR
// for i in ptech do
20737: LD_ADDR_VAR 0 6
20741: PUSH
20742: LD_VAR 0 4
20746: PUSH
20747: FOR_IN
20748: IFFALSE 20769
// EnableTech ( i , side , state_enabled ) ;
20750: LD_VAR 0 6
20754: PPUSH
20755: LD_VAR 0 1
20759: PPUSH
20760: LD_INT 1
20762: PPUSH
20763: CALL 22460 0 3
20767: GO 20747
20769: POP
20770: POP
// end ; 2 :
20771: GO 21060
20773: LD_INT 2
20775: DOUBLE
20776: EQUAL
20777: IFTRUE 20781
20779: GO 20914
20781: POP
// begin pbudovy = [ 32 , 23 , 5 , 16 , 15 ] ;
20782: LD_ADDR_VAR 0 5
20786: PUSH
20787: LD_INT 32
20789: PUSH
20790: LD_INT 23
20792: PUSH
20793: LD_INT 5
20795: PUSH
20796: LD_INT 16
20798: PUSH
20799: LD_INT 15
20801: PUSH
20802: EMPTY
20803: LIST
20804: LIST
20805: LIST
20806: LIST
20807: LIST
20808: ST_TO_ADDR
// for i in pbudovy do
20809: LD_ADDR_VAR 0 6
20813: PUSH
20814: LD_VAR 0 5
20818: PUSH
20819: FOR_IN
20820: IFFALSE 20841
// EnableBuilding ( i , side , state_enabled ) ;
20822: LD_VAR 0 6
20826: PPUSH
20827: LD_VAR 0 1
20831: PPUSH
20832: LD_INT 1
20834: PPUSH
20835: CALL 22539 0 3
20839: GO 20819
20841: POP
20842: POP
// ptech = [ 39 , 49 , 6 , 51 , 17 , 42 , 70 ] ;
20843: LD_ADDR_VAR 0 4
20847: PUSH
20848: LD_INT 39
20850: PUSH
20851: LD_INT 49
20853: PUSH
20854: LD_INT 6
20856: PUSH
20857: LD_INT 51
20859: PUSH
20860: LD_INT 17
20862: PUSH
20863: LD_INT 42
20865: PUSH
20866: LD_INT 70
20868: PUSH
20869: EMPTY
20870: LIST
20871: LIST
20872: LIST
20873: LIST
20874: LIST
20875: LIST
20876: LIST
20877: ST_TO_ADDR
// for i in ptech do
20878: LD_ADDR_VAR 0 6
20882: PUSH
20883: LD_VAR 0 4
20887: PUSH
20888: FOR_IN
20889: IFFALSE 20910
// EnableTech ( i , side , state_enabled ) ;
20891: LD_VAR 0 6
20895: PPUSH
20896: LD_VAR 0 1
20900: PPUSH
20901: LD_INT 1
20903: PPUSH
20904: CALL 22460 0 3
20908: GO 20888
20910: POP
20911: POP
// end ; 3 :
20912: GO 21060
20914: LD_INT 3
20916: DOUBLE
20917: EQUAL
20918: IFTRUE 20922
20920: GO 21059
20922: POP
// begin pbudovy = [ 3 , 32 , 19 , 5 , 14 , 30 ] ;
20923: LD_ADDR_VAR 0 5
20927: PUSH
20928: LD_INT 3
20930: PUSH
20931: LD_INT 32
20933: PUSH
20934: LD_INT 19
20936: PUSH
20937: LD_INT 5
20939: PUSH
20940: LD_INT 14
20942: PUSH
20943: LD_INT 30
20945: PUSH
20946: EMPTY
20947: LIST
20948: LIST
20949: LIST
20950: LIST
20951: LIST
20952: LIST
20953: ST_TO_ADDR
// for i in pbudovy do
20954: LD_ADDR_VAR 0 6
20958: PUSH
20959: LD_VAR 0 5
20963: PUSH
20964: FOR_IN
20965: IFFALSE 20986
// EnableBuilding ( i , side , state_enabled ) ;
20967: LD_VAR 0 6
20971: PPUSH
20972: LD_VAR 0 1
20976: PPUSH
20977: LD_INT 1
20979: PPUSH
20980: CALL 22539 0 3
20984: GO 20964
20986: POP
20987: POP
// ptech = [ 39 , 49 , 69 , 40 , 30 , 11 , 20 ] ;
20988: LD_ADDR_VAR 0 4
20992: PUSH
20993: LD_INT 39
20995: PUSH
20996: LD_INT 49
20998: PUSH
20999: LD_INT 69
21001: PUSH
21002: LD_INT 40
21004: PUSH
21005: LD_INT 30
21007: PUSH
21008: LD_INT 11
21010: PUSH
21011: LD_INT 20
21013: PUSH
21014: EMPTY
21015: LIST
21016: LIST
21017: LIST
21018: LIST
21019: LIST
21020: LIST
21021: LIST
21022: ST_TO_ADDR
// for i in ptech do
21023: LD_ADDR_VAR 0 6
21027: PUSH
21028: LD_VAR 0 4
21032: PUSH
21033: FOR_IN
21034: IFFALSE 21055
// EnableTech ( i , side , state_enabled ) ;
21036: LD_VAR 0 6
21040: PPUSH
21041: LD_VAR 0 1
21045: PPUSH
21046: LD_INT 1
21048: PPUSH
21049: CALL 22460 0 3
21053: GO 21033
21055: POP
21056: POP
// end ; end ;
21057: GO 21060
21059: POP
// Tech_Level = 3 ;
21060: LD_ADDR_EXP 56
21064: PUSH
21065: LD_INT 3
21067: ST_TO_ADDR
// end ;
21068: LD_VAR 0 2
21072: RET
// function ur_4 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
21073: LD_INT 0
21075: PPUSH
21076: PPUSH
21077: PPUSH
21078: PPUSH
21079: PPUSH
// narodnost := Side_Nations [ side ] ;
21080: LD_ADDR_VAR 0 3
21084: PUSH
21085: LD_EXP 75
21089: PUSH
21090: LD_VAR 0 1
21094: ARRAY
21095: ST_TO_ADDR
// case narodnost of 1 :
21096: LD_VAR 0 3
21100: PUSH
21101: LD_INT 1
21103: DOUBLE
21104: EQUAL
21105: IFTRUE 21109
21107: GO 21246
21109: POP
// begin pbudovy = [ 30 , 12 , 11 , 1 ] ;
21110: LD_ADDR_VAR 0 5
21114: PUSH
21115: LD_INT 30
21117: PUSH
21118: LD_INT 12
21120: PUSH
21121: LD_INT 11
21123: PUSH
21124: LD_INT 1
21126: PUSH
21127: EMPTY
21128: LIST
21129: LIST
21130: LIST
21131: LIST
21132: ST_TO_ADDR
// for i in pbudovy do
21133: LD_ADDR_VAR 0 6
21137: PUSH
21138: LD_VAR 0 5
21142: PUSH
21143: FOR_IN
21144: IFFALSE 21165
// EnableBuilding ( i , side , state_enabled ) ;
21146: LD_VAR 0 6
21150: PPUSH
21151: LD_VAR 0 1
21155: PPUSH
21156: LD_INT 1
21158: PPUSH
21159: CALL 22539 0 3
21163: GO 21143
21165: POP
21166: POP
// ptech = [ 21 , 22 , 7 , 20 , 32 , 40 , 10 , 60 , 52 ] ;
21167: LD_ADDR_VAR 0 4
21171: PUSH
21172: LD_INT 21
21174: PUSH
21175: LD_INT 22
21177: PUSH
21178: LD_INT 7
21180: PUSH
21181: LD_INT 20
21183: PUSH
21184: LD_INT 32
21186: PUSH
21187: LD_INT 40
21189: PUSH
21190: LD_INT 10
21192: PUSH
21193: LD_INT 60
21195: PUSH
21196: LD_INT 52
21198: PUSH
21199: EMPTY
21200: LIST
21201: LIST
21202: LIST
21203: LIST
21204: LIST
21205: LIST
21206: LIST
21207: LIST
21208: LIST
21209: ST_TO_ADDR
// for i in ptech do
21210: LD_ADDR_VAR 0 6
21214: PUSH
21215: LD_VAR 0 4
21219: PUSH
21220: FOR_IN
21221: IFFALSE 21242
// EnableTech ( i , side , state_enabled ) ;
21223: LD_VAR 0 6
21227: PPUSH
21228: LD_VAR 0 1
21232: PPUSH
21233: LD_INT 1
21235: PPUSH
21236: CALL 22460 0 3
21240: GO 21220
21242: POP
21243: POP
// end ; 2 :
21244: GO 21537
21246: LD_INT 2
21248: DOUBLE
21249: EQUAL
21250: IFTRUE 21254
21252: GO 21395
21254: POP
// begin pbudovy = [ 30 , 11 , 13 , 1 ] ;
21255: LD_ADDR_VAR 0 5
21259: PUSH
21260: LD_INT 30
21262: PUSH
21263: LD_INT 11
21265: PUSH
21266: LD_INT 13
21268: PUSH
21269: LD_INT 1
21271: PUSH
21272: EMPTY
21273: LIST
21274: LIST
21275: LIST
21276: LIST
21277: ST_TO_ADDR
// for i in pbudovy do
21278: LD_ADDR_VAR 0 6
21282: PUSH
21283: LD_VAR 0 5
21287: PUSH
21288: FOR_IN
21289: IFFALSE 21310
// EnableBuilding ( i , side , state_enabled ) ;
21291: LD_VAR 0 6
21295: PPUSH
21296: LD_VAR 0 1
21300: PPUSH
21301: LD_INT 1
21303: PPUSH
21304: CALL 22539 0 3
21308: GO 21288
21310: POP
21311: POP
// ptech = [ 21 , 22 , 3 , 5 , 7 , 60 , 40 , 41 , 20 , 52 ] ;
21312: LD_ADDR_VAR 0 4
21316: PUSH
21317: LD_INT 21
21319: PUSH
21320: LD_INT 22
21322: PUSH
21323: LD_INT 3
21325: PUSH
21326: LD_INT 5
21328: PUSH
21329: LD_INT 7
21331: PUSH
21332: LD_INT 60
21334: PUSH
21335: LD_INT 40
21337: PUSH
21338: LD_INT 41
21340: PUSH
21341: LD_INT 20
21343: PUSH
21344: LD_INT 52
21346: PUSH
21347: EMPTY
21348: LIST
21349: LIST
21350: LIST
21351: LIST
21352: LIST
21353: LIST
21354: LIST
21355: LIST
21356: LIST
21357: LIST
21358: ST_TO_ADDR
// for i in ptech do
21359: LD_ADDR_VAR 0 6
21363: PUSH
21364: LD_VAR 0 4
21368: PUSH
21369: FOR_IN
21370: IFFALSE 21391
// EnableTech ( i , side , state_enabled ) ;
21372: LD_VAR 0 6
21376: PPUSH
21377: LD_VAR 0 1
21381: PPUSH
21382: LD_INT 1
21384: PPUSH
21385: CALL 22460 0 3
21389: GO 21369
21391: POP
21392: POP
// end ; 3 :
21393: GO 21537
21395: LD_INT 3
21397: DOUBLE
21398: EQUAL
21399: IFTRUE 21403
21401: GO 21536
21403: POP
// begin pbudovy = [ 12 , 11 , 16 , 1 ] ;
21404: LD_ADDR_VAR 0 5
21408: PUSH
21409: LD_INT 12
21411: PUSH
21412: LD_INT 11
21414: PUSH
21415: LD_INT 16
21417: PUSH
21418: LD_INT 1
21420: PUSH
21421: EMPTY
21422: LIST
21423: LIST
21424: LIST
21425: LIST
21426: ST_TO_ADDR
// for i in pbudovy do
21427: LD_ADDR_VAR 0 6
21431: PUSH
21432: LD_VAR 0 5
21436: PUSH
21437: FOR_IN
21438: IFFALSE 21459
// EnableBuilding ( i , side , state_enabled ) ;
21440: LD_VAR 0 6
21444: PPUSH
21445: LD_VAR 0 1
21449: PPUSH
21450: LD_INT 1
21452: PPUSH
21453: CALL 22539 0 3
21457: GO 21437
21459: POP
21460: POP
// ptech = [ 21 , 22 , 44 , 9 , 37 , 32 , 63 , 52 ] ;
21461: LD_ADDR_VAR 0 4
21465: PUSH
21466: LD_INT 21
21468: PUSH
21469: LD_INT 22
21471: PUSH
21472: LD_INT 44
21474: PUSH
21475: LD_INT 9
21477: PUSH
21478: LD_INT 37
21480: PUSH
21481: LD_INT 32
21483: PUSH
21484: LD_INT 63
21486: PUSH
21487: LD_INT 52
21489: PUSH
21490: EMPTY
21491: LIST
21492: LIST
21493: LIST
21494: LIST
21495: LIST
21496: LIST
21497: LIST
21498: LIST
21499: ST_TO_ADDR
// for i in ptech do
21500: LD_ADDR_VAR 0 6
21504: PUSH
21505: LD_VAR 0 4
21509: PUSH
21510: FOR_IN
21511: IFFALSE 21532
// EnableTech ( i , side , state_enabled ) ;
21513: LD_VAR 0 6
21517: PPUSH
21518: LD_VAR 0 1
21522: PPUSH
21523: LD_INT 1
21525: PPUSH
21526: CALL 22460 0 3
21530: GO 21510
21532: POP
21533: POP
// end ; end ;
21534: GO 21537
21536: POP
// Tech_Level = 4 ;
21537: LD_ADDR_EXP 56
21541: PUSH
21542: LD_INT 4
21544: ST_TO_ADDR
// end ;
21545: LD_VAR 0 2
21549: RET
// function ur_5 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
21550: LD_INT 0
21552: PPUSH
21553: PPUSH
21554: PPUSH
21555: PPUSH
21556: PPUSH
// narodnost := Side_Nations [ side ] ;
21557: LD_ADDR_VAR 0 3
21561: PUSH
21562: LD_EXP 75
21566: PUSH
21567: LD_VAR 0 1
21571: ARRAY
21572: ST_TO_ADDR
// case narodnost of 1 :
21573: LD_VAR 0 3
21577: PUSH
21578: LD_INT 1
21580: DOUBLE
21581: EQUAL
21582: IFTRUE 21586
21584: GO 21658
21586: POP
// begin ptech = [ 50 , 54 , 15 , 13 , 34 , 36 , 57 ] ;
21587: LD_ADDR_VAR 0 4
21591: PUSH
21592: LD_INT 50
21594: PUSH
21595: LD_INT 54
21597: PUSH
21598: LD_INT 15
21600: PUSH
21601: LD_INT 13
21603: PUSH
21604: LD_INT 34
21606: PUSH
21607: LD_INT 36
21609: PUSH
21610: LD_INT 57
21612: PUSH
21613: EMPTY
21614: LIST
21615: LIST
21616: LIST
21617: LIST
21618: LIST
21619: LIST
21620: LIST
21621: ST_TO_ADDR
// for i in ptech do
21622: LD_ADDR_VAR 0 6
21626: PUSH
21627: LD_VAR 0 4
21631: PUSH
21632: FOR_IN
21633: IFFALSE 21654
// EnableTech ( i , side , state_enabled ) ;
21635: LD_VAR 0 6
21639: PPUSH
21640: LD_VAR 0 1
21644: PPUSH
21645: LD_INT 1
21647: PPUSH
21648: CALL 22460 0 3
21652: GO 21632
21654: POP
21655: POP
// end ; 2 :
21656: GO 21831
21658: LD_INT 2
21660: DOUBLE
21661: EQUAL
21662: IFTRUE 21666
21664: GO 21738
21666: POP
// begin ptech = [ 50 , 54 , 66 , 18 , 15 , 43 , 26 , ] ;
21667: LD_ADDR_VAR 0 4
21671: PUSH
21672: LD_INT 50
21674: PUSH
21675: LD_INT 54
21677: PUSH
21678: LD_INT 66
21680: PUSH
21681: LD_INT 18
21683: PUSH
21684: LD_INT 15
21686: PUSH
21687: LD_INT 43
21689: PUSH
21690: LD_INT 26
21692: PUSH
21693: EMPTY
21694: LIST
21695: LIST
21696: LIST
21697: LIST
21698: LIST
21699: LIST
21700: LIST
21701: ST_TO_ADDR
// for i in ptech do
21702: LD_ADDR_VAR 0 6
21706: PUSH
21707: LD_VAR 0 4
21711: PUSH
21712: FOR_IN
21713: IFFALSE 21734
// EnableTech ( i , side , state_enabled ) ;
21715: LD_VAR 0 6
21719: PPUSH
21720: LD_VAR 0 1
21724: PPUSH
21725: LD_INT 1
21727: PPUSH
21728: CALL 22460 0 3
21732: GO 21712
21734: POP
21735: POP
// end ; 3 :
21736: GO 21831
21738: LD_INT 3
21740: DOUBLE
21741: EQUAL
21742: IFTRUE 21746
21744: GO 21830
21746: POP
// begin ptech = [ 50 , 54 , 57 , 29 , 28 , 33 , 34 , 19 , 27 , 38 ] ;
21747: LD_ADDR_VAR 0 4
21751: PUSH
21752: LD_INT 50
21754: PUSH
21755: LD_INT 54
21757: PUSH
21758: LD_INT 57
21760: PUSH
21761: LD_INT 29
21763: PUSH
21764: LD_INT 28
21766: PUSH
21767: LD_INT 33
21769: PUSH
21770: LD_INT 34
21772: PUSH
21773: LD_INT 19
21775: PUSH
21776: LD_INT 27
21778: PUSH
21779: LD_INT 38
21781: PUSH
21782: EMPTY
21783: LIST
21784: LIST
21785: LIST
21786: LIST
21787: LIST
21788: LIST
21789: LIST
21790: LIST
21791: LIST
21792: LIST
21793: ST_TO_ADDR
// for i in ptech do
21794: LD_ADDR_VAR 0 6
21798: PUSH
21799: LD_VAR 0 4
21803: PUSH
21804: FOR_IN
21805: IFFALSE 21826
// EnableTech ( i , side , state_enabled ) ;
21807: LD_VAR 0 6
21811: PPUSH
21812: LD_VAR 0 1
21816: PPUSH
21817: LD_INT 1
21819: PPUSH
21820: CALL 22460 0 3
21824: GO 21804
21826: POP
21827: POP
// end ; end ;
21828: GO 21831
21830: POP
// Tech_Level = 5 ;
21831: LD_ADDR_EXP 56
21835: PUSH
21836: LD_INT 5
21838: ST_TO_ADDR
// end ;
21839: LD_VAR 0 2
21843: RET
// function ur_6 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
21844: LD_INT 0
21846: PPUSH
21847: PPUSH
21848: PPUSH
21849: PPUSH
21850: PPUSH
// narodnost := Side_Nations [ side ] ;
21851: LD_ADDR_VAR 0 3
21855: PUSH
21856: LD_EXP 75
21860: PUSH
21861: LD_VAR 0 1
21865: ARRAY
21866: ST_TO_ADDR
// case narodnost of 1 :
21867: LD_VAR 0 3
21871: PUSH
21872: LD_INT 1
21874: DOUBLE
21875: EQUAL
21876: IFTRUE 21880
21878: GO 21948
21880: POP
// begin ptech = [ 53 , 55 , 16 , 61 , 58 , 27 ] ;
21881: LD_ADDR_VAR 0 4
21885: PUSH
21886: LD_INT 53
21888: PUSH
21889: LD_INT 55
21891: PUSH
21892: LD_INT 16
21894: PUSH
21895: LD_INT 61
21897: PUSH
21898: LD_INT 58
21900: PUSH
21901: LD_INT 27
21903: PUSH
21904: EMPTY
21905: LIST
21906: LIST
21907: LIST
21908: LIST
21909: LIST
21910: LIST
21911: ST_TO_ADDR
// for i in ptech do
21912: LD_ADDR_VAR 0 6
21916: PUSH
21917: LD_VAR 0 4
21921: PUSH
21922: FOR_IN
21923: IFFALSE 21944
// EnableTech ( i , side , state_enabled ) ;
21925: LD_VAR 0 6
21929: PPUSH
21930: LD_VAR 0 1
21934: PPUSH
21935: LD_INT 1
21937: PPUSH
21938: CALL 22460 0 3
21942: GO 21922
21944: POP
21945: POP
// end ; 2 :
21946: GO 22101
21948: LD_INT 2
21950: DOUBLE
21951: EQUAL
21952: IFTRUE 21956
21954: GO 22024
21956: POP
// begin ptech = [ 53 , 55 , 61 , 67 , 4 , 8 ] ;
21957: LD_ADDR_VAR 0 4
21961: PUSH
21962: LD_INT 53
21964: PUSH
21965: LD_INT 55
21967: PUSH
21968: LD_INT 61
21970: PUSH
21971: LD_INT 67
21973: PUSH
21974: LD_INT 4
21976: PUSH
21977: LD_INT 8
21979: PUSH
21980: EMPTY
21981: LIST
21982: LIST
21983: LIST
21984: LIST
21985: LIST
21986: LIST
21987: ST_TO_ADDR
// for i in ptech do
21988: LD_ADDR_VAR 0 6
21992: PUSH
21993: LD_VAR 0 4
21997: PUSH
21998: FOR_IN
21999: IFFALSE 22020
// EnableTech ( i , side , state_enabled ) ;
22001: LD_VAR 0 6
22005: PPUSH
22006: LD_VAR 0 1
22010: PPUSH
22011: LD_INT 1
22013: PPUSH
22014: CALL 22460 0 3
22018: GO 21998
22020: POP
22021: POP
// end ; 3 :
22022: GO 22101
22024: LD_INT 3
22026: DOUBLE
22027: EQUAL
22028: IFTRUE 22032
22030: GO 22100
22032: POP
// begin ptech = [ 53 , 55 , 58 , 64 , 71 , 31 ] ;
22033: LD_ADDR_VAR 0 4
22037: PUSH
22038: LD_INT 53
22040: PUSH
22041: LD_INT 55
22043: PUSH
22044: LD_INT 58
22046: PUSH
22047: LD_INT 64
22049: PUSH
22050: LD_INT 71
22052: PUSH
22053: LD_INT 31
22055: PUSH
22056: EMPTY
22057: LIST
22058: LIST
22059: LIST
22060: LIST
22061: LIST
22062: LIST
22063: ST_TO_ADDR
// for i in ptech do
22064: LD_ADDR_VAR 0 6
22068: PUSH
22069: LD_VAR 0 4
22073: PUSH
22074: FOR_IN
22075: IFFALSE 22096
// EnableTech ( i , side , state_enabled ) ;
22077: LD_VAR 0 6
22081: PPUSH
22082: LD_VAR 0 1
22086: PPUSH
22087: LD_INT 1
22089: PPUSH
22090: CALL 22460 0 3
22094: GO 22074
22096: POP
22097: POP
// end ; end ;
22098: GO 22101
22100: POP
// Tech_Level = 6 ;
22101: LD_ADDR_EXP 56
22105: PUSH
22106: LD_INT 6
22108: ST_TO_ADDR
// end ;
22109: LD_VAR 0 2
22113: RET
// function ur_7 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
22114: LD_INT 0
22116: PPUSH
22117: PPUSH
22118: PPUSH
22119: PPUSH
22120: PPUSH
// narodnost := Side_Nations [ side ] ;
22121: LD_ADDR_VAR 0 3
22125: PUSH
22126: LD_EXP 75
22130: PUSH
22131: LD_VAR 0 1
22135: ARRAY
22136: ST_TO_ADDR
// case narodnost of 1 :
22137: LD_VAR 0 3
22141: PUSH
22142: LD_INT 1
22144: DOUBLE
22145: EQUAL
22146: IFTRUE 22150
22148: GO 22210
22150: POP
// begin ptech = [ 56 , 62 , 59 , 14 ] ;
22151: LD_ADDR_VAR 0 4
22155: PUSH
22156: LD_INT 56
22158: PUSH
22159: LD_INT 62
22161: PUSH
22162: LD_INT 59
22164: PUSH
22165: LD_INT 14
22167: PUSH
22168: EMPTY
22169: LIST
22170: LIST
22171: LIST
22172: LIST
22173: ST_TO_ADDR
// for i in ptech do
22174: LD_ADDR_VAR 0 6
22178: PUSH
22179: LD_VAR 0 4
22183: PUSH
22184: FOR_IN
22185: IFFALSE 22206
// EnableTech ( i , side , state_enabled ) ;
22187: LD_VAR 0 6
22191: PPUSH
22192: LD_VAR 0 1
22196: PPUSH
22197: LD_INT 1
22199: PPUSH
22200: CALL 22460 0 3
22204: GO 22184
22206: POP
22207: POP
// end ; 2 :
22208: GO 22347
22210: LD_INT 2
22212: DOUBLE
22213: EQUAL
22214: IFTRUE 22218
22216: GO 22278
22218: POP
// begin ptech = [ 56 , 62 , 68 , 72 ] ;
22219: LD_ADDR_VAR 0 4
22223: PUSH
22224: LD_INT 56
22226: PUSH
22227: LD_INT 62
22229: PUSH
22230: LD_INT 68
22232: PUSH
22233: LD_INT 72
22235: PUSH
22236: EMPTY
22237: LIST
22238: LIST
22239: LIST
22240: LIST
22241: ST_TO_ADDR
// for i in ptech do
22242: LD_ADDR_VAR 0 6
22246: PUSH
22247: LD_VAR 0 4
22251: PUSH
22252: FOR_IN
22253: IFFALSE 22274
// EnableTech ( i , side , state_enabled ) ;
22255: LD_VAR 0 6
22259: PPUSH
22260: LD_VAR 0 1
22264: PPUSH
22265: LD_INT 1
22267: PPUSH
22268: CALL 22460 0 3
22272: GO 22252
22274: POP
22275: POP
// end ; 3 :
22276: GO 22347
22278: LD_INT 3
22280: DOUBLE
22281: EQUAL
22282: IFTRUE 22286
22284: GO 22346
22286: POP
// begin ptech = [ 56 , 59 , 65 , 23 ] ;
22287: LD_ADDR_VAR 0 4
22291: PUSH
22292: LD_INT 56
22294: PUSH
22295: LD_INT 59
22297: PUSH
22298: LD_INT 65
22300: PUSH
22301: LD_INT 23
22303: PUSH
22304: EMPTY
22305: LIST
22306: LIST
22307: LIST
22308: LIST
22309: ST_TO_ADDR
// for i in ptech do
22310: LD_ADDR_VAR 0 6
22314: PUSH
22315: LD_VAR 0 4
22319: PUSH
22320: FOR_IN
22321: IFFALSE 22342
// EnableTech ( i , side , state_enabled ) ;
22323: LD_VAR 0 6
22327: PPUSH
22328: LD_VAR 0 1
22332: PPUSH
22333: LD_INT 1
22335: PPUSH
22336: CALL 22460 0 3
22340: GO 22320
22342: POP
22343: POP
// end ; end ;
22344: GO 22347
22346: POP
// Tech_Level = 7 ;
22347: LD_ADDR_EXP 56
22351: PUSH
22352: LD_INT 7
22354: ST_TO_ADDR
// end ;
22355: LD_VAR 0 2
22359: RET
// function ur_8 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
22360: LD_INT 0
22362: PPUSH
22363: PPUSH
22364: PPUSH
22365: PPUSH
22366: PPUSH
// narodnost := Side_Nations [ side ] ;
22367: LD_ADDR_VAR 0 3
22371: PUSH
22372: LD_EXP 75
22376: PUSH
22377: LD_VAR 0 1
22381: ARRAY
22382: ST_TO_ADDR
// case narodnost of 1 , 3 :
22383: LD_VAR 0 3
22387: PUSH
22388: LD_INT 1
22390: DOUBLE
22391: EQUAL
22392: IFTRUE 22402
22394: LD_INT 3
22396: DOUBLE
22397: EQUAL
22398: IFTRUE 22402
22400: GO 22420
22402: POP
// EnableTech ( 25 , side , state_enabled ) ; 2 :
22403: LD_INT 25
22405: PPUSH
22406: LD_VAR 0 1
22410: PPUSH
22411: LD_INT 1
22413: PPUSH
22414: CALL 22460 0 3
22418: GO 22447
22420: LD_INT 2
22422: DOUBLE
22423: EQUAL
22424: IFTRUE 22428
22426: GO 22446
22428: POP
// EnableTech ( 73 , side , state_enabled ) ; end ;
22429: LD_INT 73
22431: PPUSH
22432: LD_VAR 0 1
22436: PPUSH
22437: LD_INT 1
22439: PPUSH
22440: CALL 22460 0 3
22444: GO 22447
22446: POP
// Tech_Level = 8 ;
22447: LD_ADDR_EXP 56
22451: PUSH
22452: LD_INT 8
22454: ST_TO_ADDR
// end ;
22455: LD_VAR 0 2
22459: RET
// function EnableTech ( id , side , state ) ; begin
22460: LD_INT 0
22462: PPUSH
// if state in [ state_enabled , state_researched ] then
22463: LD_VAR 0 3
22467: PUSH
22468: LD_INT 1
22470: PUSH
22471: LD_INT 2
22473: PUSH
22474: EMPTY
22475: LIST
22476: LIST
22477: IN
22478: IFFALSE 22515
// begin if GetRestrictions ( false , id ) then
22480: LD_INT 0
22482: PPUSH
22483: LD_VAR 0 1
22487: PPUSH
22488: CALL_OW 565
22492: IFFALSE 22513
// SetTech ( id , side , state ) ;
22494: LD_VAR 0 1
22498: PPUSH
22499: LD_VAR 0 2
22503: PPUSH
22504: LD_VAR 0 3
22508: PPUSH
22509: CALL_OW 322
// end else
22513: GO 22534
// setTech ( id , side , state ) ;
22515: LD_VAR 0 1
22519: PPUSH
22520: LD_VAR 0 2
22524: PPUSH
22525: LD_VAR 0 3
22529: PPUSH
22530: CALL_OW 322
// end ;
22534: LD_VAR 0 4
22538: RET
// function EnableBuilding ( id , side , state ) ; begin
22539: LD_INT 0
22541: PPUSH
// if state in [ state_enabled ] then
22542: LD_VAR 0 3
22546: PUSH
22547: LD_INT 1
22549: PUSH
22550: EMPTY
22551: LIST
22552: IN
22553: IFFALSE 22590
// begin if GetRestrictions ( true , id ) then
22555: LD_INT 1
22557: PPUSH
22558: LD_VAR 0 1
22562: PPUSH
22563: CALL_OW 565
22567: IFFALSE 22588
// SetRestrict ( id , side , state ) ;
22569: LD_VAR 0 1
22573: PPUSH
22574: LD_VAR 0 2
22578: PPUSH
22579: LD_VAR 0 3
22583: PPUSH
22584: CALL_OW 324
// end else
22588: GO 22609
// SetRestrict ( id , side , state ) ;
22590: LD_VAR 0 1
22594: PPUSH
22595: LD_VAR 0 2
22599: PPUSH
22600: LD_VAR 0 3
22604: PPUSH
22605: CALL_OW 324
// end ; end_of_file
22609: LD_VAR 0 4
22613: RET
// var win ; export function init_kings_counting ; var i ; begin
22614: LD_INT 0
22616: PPUSH
22617: PPUSH
// mp_with_score := true ;
22618: LD_ADDR_OWVAR 14
22622: PUSH
22623: LD_INT 1
22625: ST_TO_ADDR
// ResetMultiScore ;
22626: CALL_OW 508
// SetAreaMapShow ( king_territory , true ) ;
22630: LD_EXP 91
22634: PPUSH
22635: LD_INT 1
22637: PPUSH
22638: CALL_OW 424
// enable ( 2 ) ;
22642: LD_INT 2
22644: ENABLE_MARKED
// end ;
22645: LD_VAR 0 1
22649: RET
// function show_public_points ; var side , vypis , i , red , blue , yel , green , p ; begin
22650: LD_INT 0
22652: PPUSH
22653: PPUSH
22654: PPUSH
22655: PPUSH
22656: PPUSH
22657: PPUSH
22658: PPUSH
22659: PPUSH
22660: PPUSH
// vypis := [ ] ;
22661: LD_ADDR_VAR 0 3
22665: PUSH
22666: EMPTY
22667: ST_TO_ADDR
// red = 0 ;
22668: LD_ADDR_VAR 0 5
22672: PUSH
22673: LD_INT 0
22675: ST_TO_ADDR
// blue = 0 ;
22676: LD_ADDR_VAR 0 6
22680: PUSH
22681: LD_INT 0
22683: ST_TO_ADDR
// yel = 0 ;
22684: LD_ADDR_VAR 0 7
22688: PUSH
22689: LD_INT 0
22691: ST_TO_ADDR
// green = 0 ;
22692: LD_ADDR_VAR 0 8
22696: PUSH
22697: LD_INT 0
22699: ST_TO_ADDR
// if def_public_score or isSGUI then
22700: LD_EXP 34
22704: PUSH
22705: LD_OWVAR 83
22709: OR
22710: IFFALSE 23307
// if not Team_Game then
22712: LD_EXP 79
22716: NOT
22717: IFFALSE 22839
// begin for side = 1 to Side_Positions do
22719: LD_ADDR_VAR 0 2
22723: PUSH
22724: DOUBLE
22725: LD_INT 1
22727: DEC
22728: ST_TO_ADDR
22729: LD_EXP 74
22733: PUSH
22734: FOR_TO
22735: IFFALSE 22835
// if Side_Positions [ side ] then
22737: LD_EXP 74
22741: PUSH
22742: LD_VAR 0 2
22746: ARRAY
22747: IFFALSE 22833
// begin vypis := vypis ^ [ #KingoftheHill-Public , side , side , ( GetTag ( side + 10 ) div 3 ) , final_count ] ;
22749: LD_ADDR_VAR 0 3
22753: PUSH
22754: LD_VAR 0 3
22758: PUSH
22759: LD_STRING #KingoftheHill-Public
22761: PUSH
22762: LD_VAR 0 2
22766: PUSH
22767: LD_VAR 0 2
22771: PUSH
22772: LD_VAR 0 2
22776: PUSH
22777: LD_INT 10
22779: PLUS
22780: PPUSH
22781: CALL_OW 110
22785: PUSH
22786: LD_INT 3
22788: DIV
22789: PUSH
22790: LD_EXP 57
22794: PUSH
22795: EMPTY
22796: LIST
22797: LIST
22798: LIST
22799: LIST
22800: LIST
22801: ADD
22802: ST_TO_ADDR
// LScore_Update_Points ( 2 , side , ( GetTag ( side + 10 ) div 3 ) ) ;
22803: LD_INT 2
22805: PPUSH
22806: LD_VAR 0 2
22810: PPUSH
22811: LD_VAR 0 2
22815: PUSH
22816: LD_INT 10
22818: PLUS
22819: PPUSH
22820: CALL_OW 110
22824: PUSH
22825: LD_INT 3
22827: DIV
22828: PPUSH
22829: CALL 36771 0 3
// end ;
22833: GO 22734
22835: POP
22836: POP
// end else
22837: GO 23305
// begin if Teams [ 1 ] then
22839: LD_EXP 72
22843: PUSH
22844: LD_INT 1
22846: ARRAY
22847: IFFALSE 22899
// for i in Teams [ 1 ] do
22849: LD_ADDR_VAR 0 4
22853: PUSH
22854: LD_EXP 72
22858: PUSH
22859: LD_INT 1
22861: ARRAY
22862: PUSH
22863: FOR_IN
22864: IFFALSE 22897
// red = red + ( GetTag ( i + 10 ) div 3 ) ;
22866: LD_ADDR_VAR 0 5
22870: PUSH
22871: LD_VAR 0 5
22875: PUSH
22876: LD_VAR 0 4
22880: PUSH
22881: LD_INT 10
22883: PLUS
22884: PPUSH
22885: CALL_OW 110
22889: PUSH
22890: LD_INT 3
22892: DIV
22893: PLUS
22894: ST_TO_ADDR
22895: GO 22863
22897: POP
22898: POP
// if Teams [ 2 ] then
22899: LD_EXP 72
22903: PUSH
22904: LD_INT 2
22906: ARRAY
22907: IFFALSE 22959
// for i in Teams [ 2 ] do
22909: LD_ADDR_VAR 0 4
22913: PUSH
22914: LD_EXP 72
22918: PUSH
22919: LD_INT 2
22921: ARRAY
22922: PUSH
22923: FOR_IN
22924: IFFALSE 22957
// blue = blue + ( GetTag ( i + 10 ) div 3 ) ;
22926: LD_ADDR_VAR 0 6
22930: PUSH
22931: LD_VAR 0 6
22935: PUSH
22936: LD_VAR 0 4
22940: PUSH
22941: LD_INT 10
22943: PLUS
22944: PPUSH
22945: CALL_OW 110
22949: PUSH
22950: LD_INT 3
22952: DIV
22953: PLUS
22954: ST_TO_ADDR
22955: GO 22923
22957: POP
22958: POP
// if Teams [ 3 ] then
22959: LD_EXP 72
22963: PUSH
22964: LD_INT 3
22966: ARRAY
22967: IFFALSE 23019
// for i in Teams [ 3 ] do
22969: LD_ADDR_VAR 0 4
22973: PUSH
22974: LD_EXP 72
22978: PUSH
22979: LD_INT 3
22981: ARRAY
22982: PUSH
22983: FOR_IN
22984: IFFALSE 23017
// yel = yel + ( GetTag ( i + 10 ) div 3 ) ;
22986: LD_ADDR_VAR 0 7
22990: PUSH
22991: LD_VAR 0 7
22995: PUSH
22996: LD_VAR 0 4
23000: PUSH
23001: LD_INT 10
23003: PLUS
23004: PPUSH
23005: CALL_OW 110
23009: PUSH
23010: LD_INT 3
23012: DIV
23013: PLUS
23014: ST_TO_ADDR
23015: GO 22983
23017: POP
23018: POP
// if Teams [ 4 ] then
23019: LD_EXP 72
23023: PUSH
23024: LD_INT 4
23026: ARRAY
23027: IFFALSE 23079
// for i in Teams [ 4 ] do
23029: LD_ADDR_VAR 0 4
23033: PUSH
23034: LD_EXP 72
23038: PUSH
23039: LD_INT 4
23041: ARRAY
23042: PUSH
23043: FOR_IN
23044: IFFALSE 23077
// green = green + ( GetTag ( i + 10 ) div 3 ) ;
23046: LD_ADDR_VAR 0 8
23050: PUSH
23051: LD_VAR 0 8
23055: PUSH
23056: LD_VAR 0 4
23060: PUSH
23061: LD_INT 10
23063: PLUS
23064: PPUSH
23065: CALL_OW 110
23069: PUSH
23070: LD_INT 3
23072: DIV
23073: PLUS
23074: ST_TO_ADDR
23075: GO 23043
23077: POP
23078: POP
// if Teams [ 1 ] then
23079: LD_EXP 72
23083: PUSH
23084: LD_INT 1
23086: ARRAY
23087: IFFALSE 23116
// vypis := [ #KingoftheHill-Public-red , 3 , Red , final_count ] ;
23089: LD_ADDR_VAR 0 3
23093: PUSH
23094: LD_STRING #KingoftheHill-Public-red
23096: PUSH
23097: LD_INT 3
23099: PUSH
23100: LD_VAR 0 5
23104: PUSH
23105: LD_EXP 57
23109: PUSH
23110: EMPTY
23111: LIST
23112: LIST
23113: LIST
23114: LIST
23115: ST_TO_ADDR
// if Teams [ 2 ] then
23116: LD_EXP 72
23120: PUSH
23121: LD_INT 2
23123: ARRAY
23124: IFFALSE 23159
// vypis := vypis ^ [ #KingoftheHill-Public-blue , 1 , Blue , final_count ] ;
23126: LD_ADDR_VAR 0 3
23130: PUSH
23131: LD_VAR 0 3
23135: PUSH
23136: LD_STRING #KingoftheHill-Public-blue
23138: PUSH
23139: LD_INT 1
23141: PUSH
23142: LD_VAR 0 6
23146: PUSH
23147: LD_EXP 57
23151: PUSH
23152: EMPTY
23153: LIST
23154: LIST
23155: LIST
23156: LIST
23157: ADD
23158: ST_TO_ADDR
// if Teams [ 3 ] then
23159: LD_EXP 72
23163: PUSH
23164: LD_INT 3
23166: ARRAY
23167: IFFALSE 23202
// vypis := vypis ^ [ #KingoftheHill-Public-yell , 2 , yel , final_count ] ;
23169: LD_ADDR_VAR 0 3
23173: PUSH
23174: LD_VAR 0 3
23178: PUSH
23179: LD_STRING #KingoftheHill-Public-yell
23181: PUSH
23182: LD_INT 2
23184: PUSH
23185: LD_VAR 0 7
23189: PUSH
23190: LD_EXP 57
23194: PUSH
23195: EMPTY
23196: LIST
23197: LIST
23198: LIST
23199: LIST
23200: ADD
23201: ST_TO_ADDR
// if Teams [ 4 ] then
23202: LD_EXP 72
23206: PUSH
23207: LD_INT 4
23209: ARRAY
23210: IFFALSE 23245
// vypis := vypis ^ [ #KingoftheHill-Public-green , 7 , green , final_count ] ;
23212: LD_ADDR_VAR 0 3
23216: PUSH
23217: LD_VAR 0 3
23221: PUSH
23222: LD_STRING #KingoftheHill-Public-green
23224: PUSH
23225: LD_INT 7
23227: PUSH
23228: LD_VAR 0 8
23232: PUSH
23233: LD_EXP 57
23237: PUSH
23238: EMPTY
23239: LIST
23240: LIST
23241: LIST
23242: LIST
23243: ADD
23244: ST_TO_ADDR
// LScore_Update_Points ( 2 , 3 , red ) ;
23245: LD_INT 2
23247: PPUSH
23248: LD_INT 3
23250: PPUSH
23251: LD_VAR 0 5
23255: PPUSH
23256: CALL 36771 0 3
// LScore_Update_Points ( 2 , 1 , blue ) ;
23260: LD_INT 2
23262: PPUSH
23263: LD_INT 1
23265: PPUSH
23266: LD_VAR 0 6
23270: PPUSH
23271: CALL 36771 0 3
// LScore_Update_Points ( 2 , 2 , yel ) ;
23275: LD_INT 2
23277: PPUSH
23278: LD_INT 2
23280: PPUSH
23281: LD_VAR 0 7
23285: PPUSH
23286: CALL 36771 0 3
// LScore_Update_Points ( 2 , 7 , green ) ;
23290: LD_INT 2
23292: PPUSH
23293: LD_INT 7
23295: PPUSH
23296: LD_VAR 0 8
23300: PPUSH
23301: CALL 36771 0 3
// end else
23305: GO 23742
// if not Team_Game then
23307: LD_EXP 79
23311: NOT
23312: IFFALSE 23370
// vypis := vypis ^ [ #KingoftheHill-Private , mp_player_side , mp_player_side , ( GetTag ( side + 10 ) div 3 ) , final_count ] else
23314: LD_ADDR_VAR 0 3
23318: PUSH
23319: LD_VAR 0 3
23323: PUSH
23324: LD_STRING #KingoftheHill-Private
23326: PUSH
23327: LD_OWVAR 7
23331: PUSH
23332: LD_OWVAR 7
23336: PUSH
23337: LD_VAR 0 2
23341: PUSH
23342: LD_INT 10
23344: PLUS
23345: PPUSH
23346: CALL_OW 110
23350: PUSH
23351: LD_INT 3
23353: DIV
23354: PUSH
23355: LD_EXP 57
23359: PUSH
23360: EMPTY
23361: LIST
23362: LIST
23363: LIST
23364: LIST
23365: LIST
23366: ADD
23367: ST_TO_ADDR
23368: GO 23742
// begin for i in Teams [ 1 ] do
23370: LD_ADDR_VAR 0 4
23374: PUSH
23375: LD_EXP 72
23379: PUSH
23380: LD_INT 1
23382: ARRAY
23383: PUSH
23384: FOR_IN
23385: IFFALSE 23418
// red = red + ( GetTag ( i + 10 ) div 3 ) ;
23387: LD_ADDR_VAR 0 5
23391: PUSH
23392: LD_VAR 0 5
23396: PUSH
23397: LD_VAR 0 4
23401: PUSH
23402: LD_INT 10
23404: PLUS
23405: PPUSH
23406: CALL_OW 110
23410: PUSH
23411: LD_INT 3
23413: DIV
23414: PLUS
23415: ST_TO_ADDR
23416: GO 23384
23418: POP
23419: POP
// for i in Teams [ 2 ] do
23420: LD_ADDR_VAR 0 4
23424: PUSH
23425: LD_EXP 72
23429: PUSH
23430: LD_INT 2
23432: ARRAY
23433: PUSH
23434: FOR_IN
23435: IFFALSE 23468
// blue = blue + ( GetTag ( i + 10 ) div 3 ) ;
23437: LD_ADDR_VAR 0 6
23441: PUSH
23442: LD_VAR 0 6
23446: PUSH
23447: LD_VAR 0 4
23451: PUSH
23452: LD_INT 10
23454: PLUS
23455: PPUSH
23456: CALL_OW 110
23460: PUSH
23461: LD_INT 3
23463: DIV
23464: PLUS
23465: ST_TO_ADDR
23466: GO 23434
23468: POP
23469: POP
// for i in Teams [ 3 ] do
23470: LD_ADDR_VAR 0 4
23474: PUSH
23475: LD_EXP 72
23479: PUSH
23480: LD_INT 3
23482: ARRAY
23483: PUSH
23484: FOR_IN
23485: IFFALSE 23518
// yel = yel + ( GetTag ( i + 10 ) div 3 ) ;
23487: LD_ADDR_VAR 0 7
23491: PUSH
23492: LD_VAR 0 7
23496: PUSH
23497: LD_VAR 0 4
23501: PUSH
23502: LD_INT 10
23504: PLUS
23505: PPUSH
23506: CALL_OW 110
23510: PUSH
23511: LD_INT 3
23513: DIV
23514: PLUS
23515: ST_TO_ADDR
23516: GO 23484
23518: POP
23519: POP
// for i in Teams [ 4 ] do
23520: LD_ADDR_VAR 0 4
23524: PUSH
23525: LD_EXP 72
23529: PUSH
23530: LD_INT 4
23532: ARRAY
23533: PUSH
23534: FOR_IN
23535: IFFALSE 23568
// green = green + ( GetTag ( i + 10 ) div 3 ) ;
23537: LD_ADDR_VAR 0 8
23541: PUSH
23542: LD_VAR 0 8
23546: PUSH
23547: LD_VAR 0 4
23551: PUSH
23552: LD_INT 10
23554: PLUS
23555: PPUSH
23556: CALL_OW 110
23560: PUSH
23561: LD_INT 3
23563: DIV
23564: PLUS
23565: ST_TO_ADDR
23566: GO 23534
23568: POP
23569: POP
// if mp_player_side in Teams [ 1 ] then
23570: LD_OWVAR 7
23574: PUSH
23575: LD_EXP 72
23579: PUSH
23580: LD_INT 1
23582: ARRAY
23583: IN
23584: IFFALSE 23613
// vypis := [ #KingoftheHill-Public-red , 3 , Red , final_count ] ;
23586: LD_ADDR_VAR 0 3
23590: PUSH
23591: LD_STRING #KingoftheHill-Public-red
23593: PUSH
23594: LD_INT 3
23596: PUSH
23597: LD_VAR 0 5
23601: PUSH
23602: LD_EXP 57
23606: PUSH
23607: EMPTY
23608: LIST
23609: LIST
23610: LIST
23611: LIST
23612: ST_TO_ADDR
// if mp_player_side in Teams [ 2 ] then
23613: LD_OWVAR 7
23617: PUSH
23618: LD_EXP 72
23622: PUSH
23623: LD_INT 2
23625: ARRAY
23626: IN
23627: IFFALSE 23656
// vypis := [ #KingoftheHill-Public-blue , 1 , Blue , final_count ] ;
23629: LD_ADDR_VAR 0 3
23633: PUSH
23634: LD_STRING #KingoftheHill-Public-blue
23636: PUSH
23637: LD_INT 1
23639: PUSH
23640: LD_VAR 0 6
23644: PUSH
23645: LD_EXP 57
23649: PUSH
23650: EMPTY
23651: LIST
23652: LIST
23653: LIST
23654: LIST
23655: ST_TO_ADDR
// if mp_player_side in Teams [ 3 ] then
23656: LD_OWVAR 7
23660: PUSH
23661: LD_EXP 72
23665: PUSH
23666: LD_INT 3
23668: ARRAY
23669: IN
23670: IFFALSE 23699
// vypis := [ #KingoftheHill-Public-yell , 2 , yel , final_count ] ;
23672: LD_ADDR_VAR 0 3
23676: PUSH
23677: LD_STRING #KingoftheHill-Public-yell
23679: PUSH
23680: LD_INT 2
23682: PUSH
23683: LD_VAR 0 7
23687: PUSH
23688: LD_EXP 57
23692: PUSH
23693: EMPTY
23694: LIST
23695: LIST
23696: LIST
23697: LIST
23698: ST_TO_ADDR
// if mp_player_side in Teams [ 4 ] then
23699: LD_OWVAR 7
23703: PUSH
23704: LD_EXP 72
23708: PUSH
23709: LD_INT 4
23711: ARRAY
23712: IN
23713: IFFALSE 23742
// vypis := [ #KingoftheHill-Public-green , 7 , green , final_count ] ;
23715: LD_ADDR_VAR 0 3
23719: PUSH
23720: LD_STRING #KingoftheHill-Public-green
23722: PUSH
23723: LD_INT 7
23725: PUSH
23726: LD_VAR 0 8
23730: PUSH
23731: LD_EXP 57
23735: PUSH
23736: EMPTY
23737: LIST
23738: LIST
23739: LIST
23740: LIST
23741: ST_TO_ADDR
// end ; Display_kings := vypis ;
23742: LD_ADDR_EXP 107
23746: PUSH
23747: LD_VAR 0 3
23751: ST_TO_ADDR
// end ;
23752: LD_VAR 0 1
23756: RET
// function count_king ; var side , list , un , red , blue , yel , green , i ; begin
23757: LD_INT 0
23759: PPUSH
23760: PPUSH
23761: PPUSH
23762: PPUSH
23763: PPUSH
23764: PPUSH
23765: PPUSH
23766: PPUSH
23767: PPUSH
// side := [ ] ;
23768: LD_ADDR_VAR 0 2
23772: PUSH
23773: EMPTY
23774: ST_TO_ADDR
// red = 0 ;
23775: LD_ADDR_VAR 0 5
23779: PUSH
23780: LD_INT 0
23782: ST_TO_ADDR
// blue = 0 ;
23783: LD_ADDR_VAR 0 6
23787: PUSH
23788: LD_INT 0
23790: ST_TO_ADDR
// yel = 0 ;
23791: LD_ADDR_VAR 0 7
23795: PUSH
23796: LD_INT 0
23798: ST_TO_ADDR
// green = 0 ;
23799: LD_ADDR_VAR 0 8
23803: PUSH
23804: LD_INT 0
23806: ST_TO_ADDR
// list := FilterUnitsInArea ( king_territory , [ [ f_type , unit_building ] , [ f_ready ] ] ) ;
23807: LD_ADDR_VAR 0 3
23811: PUSH
23812: LD_EXP 91
23816: PPUSH
23817: LD_INT 21
23819: PUSH
23820: LD_INT 3
23822: PUSH
23823: EMPTY
23824: LIST
23825: LIST
23826: PUSH
23827: LD_INT 53
23829: PUSH
23830: EMPTY
23831: LIST
23832: PUSH
23833: EMPTY
23834: LIST
23835: LIST
23836: PPUSH
23837: CALL_OW 70
23841: ST_TO_ADDR
// for un in list do
23842: LD_ADDR_VAR 0 4
23846: PUSH
23847: LD_VAR 0 3
23851: PUSH
23852: FOR_IN
23853: IFFALSE 23878
// side := side union GetSide ( un ) ;
23855: LD_ADDR_VAR 0 2
23859: PUSH
23860: LD_VAR 0 2
23864: PUSH
23865: LD_VAR 0 4
23869: PPUSH
23870: CALL_OW 255
23874: UNION
23875: ST_TO_ADDR
23876: GO 23852
23878: POP
23879: POP
// if side <> 1 then
23880: LD_VAR 0 2
23884: PUSH
23885: LD_INT 1
23887: NONEQUAL
23888: IFFALSE 23892
// exit ;
23890: GO 24255
// side := side [ 1 ] ;
23892: LD_ADDR_VAR 0 2
23896: PUSH
23897: LD_VAR 0 2
23901: PUSH
23902: LD_INT 1
23904: ARRAY
23905: ST_TO_ADDR
// SetTag ( side + 10 , GetTag ( side + 10 ) + 1 ) ;
23906: LD_VAR 0 2
23910: PUSH
23911: LD_INT 10
23913: PLUS
23914: PPUSH
23915: LD_VAR 0 2
23919: PUSH
23920: LD_INT 10
23922: PLUS
23923: PPUSH
23924: CALL_OW 110
23928: PUSH
23929: LD_INT 1
23931: PLUS
23932: PPUSH
23933: CALL_OW 109
// SetSharedMultiScore ( side , GetTag ( side + 10 ) div 3 , 2 ) ;
23937: LD_VAR 0 2
23941: PPUSH
23942: LD_VAR 0 2
23946: PUSH
23947: LD_INT 10
23949: PLUS
23950: PPUSH
23951: CALL_OW 110
23955: PUSH
23956: LD_INT 3
23958: DIV
23959: PPUSH
23960: LD_INT 2
23962: PPUSH
23963: CALL 35322 0 3
// if not Team_Game then
23967: LD_EXP 79
23971: NOT
23972: IFFALSE 24255
// if GetTag ( side + 10 ) >= final_count * 3 then
23974: LD_VAR 0 2
23978: PUSH
23979: LD_INT 10
23981: PLUS
23982: PPUSH
23983: CALL_OW 110
23987: PUSH
23988: LD_EXP 57
23992: PUSH
23993: LD_INT 3
23995: MUL
23996: GREATEREQUAL
23997: IFFALSE 24004
// enable ( 3 ) else
23999: LD_INT 3
24001: ENABLE_MARKED
24002: GO 24255
// begin for i in Teams [ 1 ] do
24004: LD_ADDR_VAR 0 9
24008: PUSH
24009: LD_EXP 72
24013: PUSH
24014: LD_INT 1
24016: ARRAY
24017: PUSH
24018: FOR_IN
24019: IFFALSE 24052
// red = red + ( GetTag ( i + 10 ) div 3 ) ;
24021: LD_ADDR_VAR 0 5
24025: PUSH
24026: LD_VAR 0 5
24030: PUSH
24031: LD_VAR 0 9
24035: PUSH
24036: LD_INT 10
24038: PLUS
24039: PPUSH
24040: CALL_OW 110
24044: PUSH
24045: LD_INT 3
24047: DIV
24048: PLUS
24049: ST_TO_ADDR
24050: GO 24018
24052: POP
24053: POP
// for i in Teams [ 2 ] do
24054: LD_ADDR_VAR 0 9
24058: PUSH
24059: LD_EXP 72
24063: PUSH
24064: LD_INT 2
24066: ARRAY
24067: PUSH
24068: FOR_IN
24069: IFFALSE 24102
// blue = blue + ( GetTag ( i + 10 ) div 3 ) ;
24071: LD_ADDR_VAR 0 6
24075: PUSH
24076: LD_VAR 0 6
24080: PUSH
24081: LD_VAR 0 9
24085: PUSH
24086: LD_INT 10
24088: PLUS
24089: PPUSH
24090: CALL_OW 110
24094: PUSH
24095: LD_INT 3
24097: DIV
24098: PLUS
24099: ST_TO_ADDR
24100: GO 24068
24102: POP
24103: POP
// for i in Teams [ 3 ] do
24104: LD_ADDR_VAR 0 9
24108: PUSH
24109: LD_EXP 72
24113: PUSH
24114: LD_INT 3
24116: ARRAY
24117: PUSH
24118: FOR_IN
24119: IFFALSE 24152
// yel = yel + ( GetTag ( i + 10 ) div 3 ) ;
24121: LD_ADDR_VAR 0 7
24125: PUSH
24126: LD_VAR 0 7
24130: PUSH
24131: LD_VAR 0 9
24135: PUSH
24136: LD_INT 10
24138: PLUS
24139: PPUSH
24140: CALL_OW 110
24144: PUSH
24145: LD_INT 3
24147: DIV
24148: PLUS
24149: ST_TO_ADDR
24150: GO 24118
24152: POP
24153: POP
// for i in Teams [ 4 ] do
24154: LD_ADDR_VAR 0 9
24158: PUSH
24159: LD_EXP 72
24163: PUSH
24164: LD_INT 4
24166: ARRAY
24167: PUSH
24168: FOR_IN
24169: IFFALSE 24202
// green = green + ( GetTag ( i + 10 ) div 3 ) ;
24171: LD_ADDR_VAR 0 8
24175: PUSH
24176: LD_VAR 0 8
24180: PUSH
24181: LD_VAR 0 9
24185: PUSH
24186: LD_INT 10
24188: PLUS
24189: PPUSH
24190: CALL_OW 110
24194: PUSH
24195: LD_INT 3
24197: DIV
24198: PLUS
24199: ST_TO_ADDR
24200: GO 24168
24202: POP
24203: POP
// if red >= final_count or blue >= final_count or yel >= final_count or green >= final_count then
24204: LD_VAR 0 5
24208: PUSH
24209: LD_EXP 57
24213: GREATEREQUAL
24214: PUSH
24215: LD_VAR 0 6
24219: PUSH
24220: LD_EXP 57
24224: GREATEREQUAL
24225: OR
24226: PUSH
24227: LD_VAR 0 7
24231: PUSH
24232: LD_EXP 57
24236: GREATEREQUAL
24237: OR
24238: PUSH
24239: LD_VAR 0 8
24243: PUSH
24244: LD_EXP 57
24248: GREATEREQUAL
24249: OR
24250: IFFALSE 24255
// enable ( 3 ) ;
24252: LD_INT 3
24254: ENABLE_MARKED
// end ; end ;
24255: LD_VAR 0 1
24259: RET
// every 0 0$1 marked 2 do
24260: GO 24262
24262: DISABLE
// begin count_king ;
24263: CALL 23757 0 0
// show_public_points ;
24267: CALL 22650 0 0
// enable ;
24271: ENABLE
// end ;
24272: END
// every 0 0$1 marked 3 do var side , red , blue , yel , green , i ;
24273: GO 24275
24275: DISABLE
24276: LD_INT 0
24278: PPUSH
24279: PPUSH
24280: PPUSH
24281: PPUSH
24282: PPUSH
24283: PPUSH
// begin win := [ ] ;
24284: LD_ADDR_LOC 20
24288: PUSH
24289: EMPTY
24290: ST_TO_ADDR
// red = 0 ;
24291: LD_ADDR_VAR 0 2
24295: PUSH
24296: LD_INT 0
24298: ST_TO_ADDR
// blue = 0 ;
24299: LD_ADDR_VAR 0 3
24303: PUSH
24304: LD_INT 0
24306: ST_TO_ADDR
// yel = 0 ;
24307: LD_ADDR_VAR 0 4
24311: PUSH
24312: LD_INT 0
24314: ST_TO_ADDR
// green = 0 ;
24315: LD_ADDR_VAR 0 5
24319: PUSH
24320: LD_INT 0
24322: ST_TO_ADDR
// if not Team_Game then
24323: LD_EXP 79
24327: NOT
24328: IFFALSE 24405
// begin for side = 1 to 8 do
24330: LD_ADDR_VAR 0 1
24334: PUSH
24335: DOUBLE
24336: LD_INT 1
24338: DEC
24339: ST_TO_ADDR
24340: LD_INT 8
24342: PUSH
24343: FOR_TO
24344: IFFALSE 24389
// if GetTag ( side + 10 ) >= final_count * 3 then
24346: LD_VAR 0 1
24350: PUSH
24351: LD_INT 10
24353: PLUS
24354: PPUSH
24355: CALL_OW 110
24359: PUSH
24360: LD_EXP 57
24364: PUSH
24365: LD_INT 3
24367: MUL
24368: GREATEREQUAL
24369: IFFALSE 24387
// win := win ^ side ;
24371: LD_ADDR_LOC 20
24375: PUSH
24376: LD_LOC 20
24380: PUSH
24381: LD_VAR 0 1
24385: ADD
24386: ST_TO_ADDR
24387: GO 24343
24389: POP
24390: POP
// if win then
24391: LD_LOC 20
24395: IFFALSE 24402
// enable ( 4 ) else
24397: LD_INT 4
24399: ENABLE_MARKED
24400: GO 24403
// enable ;
24402: ENABLE
// end else
24403: GO 24721
// begin for i in Teams [ 1 ] do
24405: LD_ADDR_VAR 0 6
24409: PUSH
24410: LD_EXP 72
24414: PUSH
24415: LD_INT 1
24417: ARRAY
24418: PUSH
24419: FOR_IN
24420: IFFALSE 24453
// red = red + ( GetTag ( i + 10 ) div 3 ) ;
24422: LD_ADDR_VAR 0 2
24426: PUSH
24427: LD_VAR 0 2
24431: PUSH
24432: LD_VAR 0 6
24436: PUSH
24437: LD_INT 10
24439: PLUS
24440: PPUSH
24441: CALL_OW 110
24445: PUSH
24446: LD_INT 3
24448: DIV
24449: PLUS
24450: ST_TO_ADDR
24451: GO 24419
24453: POP
24454: POP
// for i in Teams [ 2 ] do
24455: LD_ADDR_VAR 0 6
24459: PUSH
24460: LD_EXP 72
24464: PUSH
24465: LD_INT 2
24467: ARRAY
24468: PUSH
24469: FOR_IN
24470: IFFALSE 24503
// blue = blue + ( GetTag ( i + 10 ) div 3 ) ;
24472: LD_ADDR_VAR 0 3
24476: PUSH
24477: LD_VAR 0 3
24481: PUSH
24482: LD_VAR 0 6
24486: PUSH
24487: LD_INT 10
24489: PLUS
24490: PPUSH
24491: CALL_OW 110
24495: PUSH
24496: LD_INT 3
24498: DIV
24499: PLUS
24500: ST_TO_ADDR
24501: GO 24469
24503: POP
24504: POP
// for i in Teams [ 3 ] do
24505: LD_ADDR_VAR 0 6
24509: PUSH
24510: LD_EXP 72
24514: PUSH
24515: LD_INT 3
24517: ARRAY
24518: PUSH
24519: FOR_IN
24520: IFFALSE 24553
// yel = yel + ( GetTag ( i + 10 ) div 3 ) ;
24522: LD_ADDR_VAR 0 4
24526: PUSH
24527: LD_VAR 0 4
24531: PUSH
24532: LD_VAR 0 6
24536: PUSH
24537: LD_INT 10
24539: PLUS
24540: PPUSH
24541: CALL_OW 110
24545: PUSH
24546: LD_INT 3
24548: DIV
24549: PLUS
24550: ST_TO_ADDR
24551: GO 24519
24553: POP
24554: POP
// for i in Teams [ 4 ] do
24555: LD_ADDR_VAR 0 6
24559: PUSH
24560: LD_EXP 72
24564: PUSH
24565: LD_INT 4
24567: ARRAY
24568: PUSH
24569: FOR_IN
24570: IFFALSE 24603
// green = green + ( GetTag ( i + 10 ) div 3 ) ;
24572: LD_ADDR_VAR 0 5
24576: PUSH
24577: LD_VAR 0 5
24581: PUSH
24582: LD_VAR 0 6
24586: PUSH
24587: LD_INT 10
24589: PLUS
24590: PPUSH
24591: CALL_OW 110
24595: PUSH
24596: LD_INT 3
24598: DIV
24599: PLUS
24600: ST_TO_ADDR
24601: GO 24569
24603: POP
24604: POP
// if red >= final_count then
24605: LD_VAR 0 2
24609: PUSH
24610: LD_EXP 57
24614: GREATEREQUAL
24615: IFFALSE 24631
// win = teams [ 1 ] ;
24617: LD_ADDR_LOC 20
24621: PUSH
24622: LD_EXP 72
24626: PUSH
24627: LD_INT 1
24629: ARRAY
24630: ST_TO_ADDR
// if blue >= final_count then
24631: LD_VAR 0 3
24635: PUSH
24636: LD_EXP 57
24640: GREATEREQUAL
24641: IFFALSE 24657
// win = teams [ 2 ] ;
24643: LD_ADDR_LOC 20
24647: PUSH
24648: LD_EXP 72
24652: PUSH
24653: LD_INT 2
24655: ARRAY
24656: ST_TO_ADDR
// if yel >= final_count then
24657: LD_VAR 0 4
24661: PUSH
24662: LD_EXP 57
24666: GREATEREQUAL
24667: IFFALSE 24683
// win = teams [ 3 ] ;
24669: LD_ADDR_LOC 20
24673: PUSH
24674: LD_EXP 72
24678: PUSH
24679: LD_INT 3
24681: ARRAY
24682: ST_TO_ADDR
// if green >= final_count then
24683: LD_VAR 0 5
24687: PUSH
24688: LD_EXP 57
24692: GREATEREQUAL
24693: IFFALSE 24709
// win = teams [ 4 ] ;
24695: LD_ADDR_LOC 20
24699: PUSH
24700: LD_EXP 72
24704: PUSH
24705: LD_INT 4
24707: ARRAY
24708: ST_TO_ADDR
// if win then
24709: LD_LOC 20
24713: IFFALSE 24720
// enable ( 4 ) else
24715: LD_INT 4
24717: ENABLE_MARKED
24718: GO 24721
// enable ;
24720: ENABLE
// end ; end ;
24721: PPOPN 6
24723: END
// every 0 0$1 marked 4 do
24724: GO 24726
24726: DISABLE
// begin if Player_Side in win then
24727: LD_EXP 69
24731: PUSH
24732: LD_LOC 20
24736: IN
24737: IFFALSE 24753
// begin wait ( 0 0$2 ) ;
24739: LD_INT 70
24741: PPUSH
24742: CALL_OW 67
// enable ( 401 ) ;
24746: LD_INT 401
24748: ENABLE_MARKED
// exit ;
24749: GO 24769
// end else
24751: GO 24769
// begin wait ( 0 0$2 ) ;
24753: LD_INT 70
24755: PPUSH
24756: CALL_OW 67
// Multiplayer_Loose_Message ;
24760: CALL_OW 521
// enable ( 400 ) ;
24764: LD_INT 400
24766: ENABLE_MARKED
// exit ;
24767: GO 24769
// end ; end ; end_of_file
24769: END
// var Month ; export function init_Daily ; begin
24770: LD_INT 0
24772: PPUSH
// if not CurrentTime then
24773: LD_EXP 110
24777: NOT
24778: IFFALSE 24850
// begin CurrentTime = Rand ( daily_start [ 1 ] , daily_start [ 2 ] ) div 0 0$01 ;
24780: LD_ADDR_EXP 110
24784: PUSH
24785: LD_EXP 58
24789: PUSH
24790: LD_INT 1
24792: ARRAY
24793: PPUSH
24794: LD_EXP 58
24798: PUSH
24799: LD_INT 2
24801: ARRAY
24802: PPUSH
24803: CALL_OW 12
24807: PUSH
24808: LD_INT 35
24810: DIV
24811: ST_TO_ADDR
// CurrentTime = CurrentTime * 0 0$01 ;
24812: LD_ADDR_EXP 110
24816: PUSH
24817: LD_EXP 110
24821: PUSH
24822: LD_INT 35
24824: MUL
24825: ST_TO_ADDR
// if CurrentTime >= 24 24$00 then
24826: LD_EXP 110
24830: PUSH
24831: LD_INT 50400
24833: GREATEREQUAL
24834: IFFALSE 24850
// CurrentTime = CurrentTime - 24 24$00 ;
24836: LD_ADDR_EXP 110
24840: PUSH
24841: LD_EXP 110
24845: PUSH
24846: LD_INT 50400
24848: MINUS
24849: ST_TO_ADDR
// end ; case CurrentTime of 0 0$00 .. TimePhase [ 1 ] , TimePhase [ 10 ] + 1 .. 24 24$00 :
24850: LD_EXP 110
24854: PUSH
24855: LD_INT 0
24857: DOUBLE
24858: GREATEREQUAL
24859: IFFALSE 24873
24861: LD_EXP 60
24865: PUSH
24866: LD_INT 1
24868: ARRAY
24869: DOUBLE
24870: LESSEQUAL
24871: IFTRUE 24897
24873: LD_EXP 60
24877: PUSH
24878: LD_INT 10
24880: ARRAY
24881: PUSH
24882: LD_INT 1
24884: PLUS
24885: DOUBLE
24886: GREATEREQUAL
24887: IFFALSE 24895
24889: LD_INT 50400
24891: DOUBLE
24892: LESSEQUAL
24893: IFTRUE 24897
24895: GO 24916
24897: POP
// begin ChangePhase ( DailyPhase [ 6 ] , 35 ) ;
24898: LD_EXP 61
24902: PUSH
24903: LD_INT 6
24905: ARRAY
24906: PPUSH
24907: LD_INT 35
24909: PPUSH
24910: CALL 25553 0 2
// end ; TimePhase [ 1 ] + 1 .. TimePhase [ 2 ] , TimePhase [ 9 ] + 1 .. TimePhase [ 10 ] :
24914: GO 25241
24916: LD_EXP 60
24920: PUSH
24921: LD_INT 1
24923: ARRAY
24924: PUSH
24925: LD_INT 1
24927: PLUS
24928: DOUBLE
24929: GREATEREQUAL
24930: IFFALSE 24944
24932: LD_EXP 60
24936: PUSH
24937: LD_INT 2
24939: ARRAY
24940: DOUBLE
24941: LESSEQUAL
24942: IFTRUE 24974
24944: LD_EXP 60
24948: PUSH
24949: LD_INT 9
24951: ARRAY
24952: PUSH
24953: LD_INT 1
24955: PLUS
24956: DOUBLE
24957: GREATEREQUAL
24958: IFFALSE 24972
24960: LD_EXP 60
24964: PUSH
24965: LD_INT 10
24967: ARRAY
24968: DOUBLE
24969: LESSEQUAL
24970: IFTRUE 24974
24972: GO 24993
24974: POP
// begin ChangePhase ( DailyPhase [ 5 ] , 50 ) ;
24975: LD_EXP 61
24979: PUSH
24980: LD_INT 5
24982: ARRAY
24983: PPUSH
24984: LD_INT 50
24986: PPUSH
24987: CALL 25553 0 2
// end ; TimePhase [ 2 ] + 1 .. TimePhase [ 3 ] , TimePhase [ 8 ] + 1 .. TimePhase [ 9 ] :
24991: GO 25241
24993: LD_EXP 60
24997: PUSH
24998: LD_INT 2
25000: ARRAY
25001: PUSH
25002: LD_INT 1
25004: PLUS
25005: DOUBLE
25006: GREATEREQUAL
25007: IFFALSE 25021
25009: LD_EXP 60
25013: PUSH
25014: LD_INT 3
25016: ARRAY
25017: DOUBLE
25018: LESSEQUAL
25019: IFTRUE 25051
25021: LD_EXP 60
25025: PUSH
25026: LD_INT 8
25028: ARRAY
25029: PUSH
25030: LD_INT 1
25032: PLUS
25033: DOUBLE
25034: GREATEREQUAL
25035: IFFALSE 25049
25037: LD_EXP 60
25041: PUSH
25042: LD_INT 9
25044: ARRAY
25045: DOUBLE
25046: LESSEQUAL
25047: IFTRUE 25051
25049: GO 25070
25051: POP
// begin ChangePhase ( DailyPhase [ 4 ] , 60 ) ;
25052: LD_EXP 61
25056: PUSH
25057: LD_INT 4
25059: ARRAY
25060: PPUSH
25061: LD_INT 60
25063: PPUSH
25064: CALL 25553 0 2
// end ; TimePhase [ 3 ] + 1 .. TimePhase [ 4 ] , TimePhase [ 7 ] + 1 .. TimePhase [ 8 ] :
25068: GO 25241
25070: LD_EXP 60
25074: PUSH
25075: LD_INT 3
25077: ARRAY
25078: PUSH
25079: LD_INT 1
25081: PLUS
25082: DOUBLE
25083: GREATEREQUAL
25084: IFFALSE 25098
25086: LD_EXP 60
25090: PUSH
25091: LD_INT 4
25093: ARRAY
25094: DOUBLE
25095: LESSEQUAL
25096: IFTRUE 25128
25098: LD_EXP 60
25102: PUSH
25103: LD_INT 7
25105: ARRAY
25106: PUSH
25107: LD_INT 1
25109: PLUS
25110: DOUBLE
25111: GREATEREQUAL
25112: IFFALSE 25126
25114: LD_EXP 60
25118: PUSH
25119: LD_INT 8
25121: ARRAY
25122: DOUBLE
25123: LESSEQUAL
25124: IFTRUE 25128
25126: GO 25147
25128: POP
// begin ChangePhase ( DailyPhase [ 3 ] , 80 ) ;
25129: LD_EXP 61
25133: PUSH
25134: LD_INT 3
25136: ARRAY
25137: PPUSH
25138: LD_INT 80
25140: PPUSH
25141: CALL 25553 0 2
// end ; TimePhase [ 4 ] + 1 .. TimePhase [ 5 ] , TimePhase [ 6 ] + 1 .. TimePhase [ 7 ] :
25145: GO 25241
25147: LD_EXP 60
25151: PUSH
25152: LD_INT 4
25154: ARRAY
25155: PUSH
25156: LD_INT 1
25158: PLUS
25159: DOUBLE
25160: GREATEREQUAL
25161: IFFALSE 25175
25163: LD_EXP 60
25167: PUSH
25168: LD_INT 5
25170: ARRAY
25171: DOUBLE
25172: LESSEQUAL
25173: IFTRUE 25205
25175: LD_EXP 60
25179: PUSH
25180: LD_INT 6
25182: ARRAY
25183: PUSH
25184: LD_INT 1
25186: PLUS
25187: DOUBLE
25188: GREATEREQUAL
25189: IFFALSE 25203
25191: LD_EXP 60
25195: PUSH
25196: LD_INT 7
25198: ARRAY
25199: DOUBLE
25200: LESSEQUAL
25201: IFTRUE 25205
25203: GO 25224
25205: POP
// begin ChangePhase ( DailyPhase [ 2 ] , 95 ) ;
25206: LD_EXP 61
25210: PUSH
25211: LD_INT 2
25213: ARRAY
25214: PPUSH
25215: LD_INT 95
25217: PPUSH
25218: CALL 25553 0 2
// end ; else
25222: GO 25241
25224: POP
// begin ChangePhase ( DailyPhase [ 1 ] , 110 ) ;
25225: LD_EXP 61
25229: PUSH
25230: LD_INT 1
25232: ARRAY
25233: PPUSH
25234: LD_INT 110
25236: PPUSH
25237: CALL 25553 0 2
// end ; end ; enable ( 31 ) ;
25241: LD_INT 31
25243: ENABLE_MARKED
// end ;
25244: LD_VAR 0 1
25248: RET
// every 0 0$01 marked 31 do
25249: GO 25251
25251: DISABLE
// begin if daily_speed then
25252: LD_EXP 59
25256: IFFALSE 25267
// wait ( daily_speed ) ;
25258: LD_EXP 59
25262: PPUSH
25263: CALL_OW 67
// CurrentTime = CurrentTime + 0 0$01 ;
25267: LD_ADDR_EXP 110
25271: PUSH
25272: LD_EXP 110
25276: PUSH
25277: LD_INT 35
25279: PLUS
25280: ST_TO_ADDR
// case CurrentTIme of TimePhase [ 5 ] :
25281: LD_EXP 110
25285: PUSH
25286: LD_EXP 60
25290: PUSH
25291: LD_INT 5
25293: ARRAY
25294: DOUBLE
25295: EQUAL
25296: IFTRUE 25300
25298: GO 25319
25300: POP
// begin ChangePhase ( DailyPhase [ 1 ] , 110 ) ;
25301: LD_EXP 61
25305: PUSH
25306: LD_INT 1
25308: ARRAY
25309: PPUSH
25310: LD_INT 110
25312: PPUSH
25313: CALL 25553 0 2
// end ; TimePhase [ 4 ] , TimePhase [ 6 ] :
25317: GO 25533
25319: LD_EXP 60
25323: PUSH
25324: LD_INT 4
25326: ARRAY
25327: DOUBLE
25328: EQUAL
25329: IFTRUE 25345
25331: LD_EXP 60
25335: PUSH
25336: LD_INT 6
25338: ARRAY
25339: DOUBLE
25340: EQUAL
25341: IFTRUE 25345
25343: GO 25364
25345: POP
// begin ChangePhase ( DailyPhase [ 2 ] , 95 ) ;
25346: LD_EXP 61
25350: PUSH
25351: LD_INT 2
25353: ARRAY
25354: PPUSH
25355: LD_INT 95
25357: PPUSH
25358: CALL 25553 0 2
// end ; TimePhase [ 3 ] , TimePhase [ 7 ] :
25362: GO 25533
25364: LD_EXP 60
25368: PUSH
25369: LD_INT 3
25371: ARRAY
25372: DOUBLE
25373: EQUAL
25374: IFTRUE 25390
25376: LD_EXP 60
25380: PUSH
25381: LD_INT 7
25383: ARRAY
25384: DOUBLE
25385: EQUAL
25386: IFTRUE 25390
25388: GO 25409
25390: POP
// begin ChangePhase ( DailyPhase [ 3 ] , 80 ) ;
25391: LD_EXP 61
25395: PUSH
25396: LD_INT 3
25398: ARRAY
25399: PPUSH
25400: LD_INT 80
25402: PPUSH
25403: CALL 25553 0 2
// end ; TimePhase [ 2 ] , TimePhase [ 8 ] :
25407: GO 25533
25409: LD_EXP 60
25413: PUSH
25414: LD_INT 2
25416: ARRAY
25417: DOUBLE
25418: EQUAL
25419: IFTRUE 25435
25421: LD_EXP 60
25425: PUSH
25426: LD_INT 8
25428: ARRAY
25429: DOUBLE
25430: EQUAL
25431: IFTRUE 25435
25433: GO 25454
25435: POP
// begin ChangePhase ( DailyPhase [ 4 ] , 60 ) ;
25436: LD_EXP 61
25440: PUSH
25441: LD_INT 4
25443: ARRAY
25444: PPUSH
25445: LD_INT 60
25447: PPUSH
25448: CALL 25553 0 2
// end ; TimePhase [ 1 ] , TimePhase [ 9 ] :
25452: GO 25533
25454: LD_EXP 60
25458: PUSH
25459: LD_INT 1
25461: ARRAY
25462: DOUBLE
25463: EQUAL
25464: IFTRUE 25480
25466: LD_EXP 60
25470: PUSH
25471: LD_INT 9
25473: ARRAY
25474: DOUBLE
25475: EQUAL
25476: IFTRUE 25480
25478: GO 25499
25480: POP
// begin ChangePhase ( DailyPhase [ 5 ] , 50 ) ;
25481: LD_EXP 61
25485: PUSH
25486: LD_INT 5
25488: ARRAY
25489: PPUSH
25490: LD_INT 50
25492: PPUSH
25493: CALL 25553 0 2
// end ; TimePhase [ 10 ] :
25497: GO 25533
25499: LD_EXP 60
25503: PUSH
25504: LD_INT 10
25506: ARRAY
25507: DOUBLE
25508: EQUAL
25509: IFTRUE 25513
25511: GO 25532
25513: POP
// begin ChangePhase ( DailyPhase [ 6 ] , 35 ) ;
25514: LD_EXP 61
25518: PUSH
25519: LD_INT 6
25521: ARRAY
25522: PPUSH
25523: LD_INT 35
25525: PPUSH
25526: CALL 25553 0 2
// end ; end ;
25530: GO 25533
25532: POP
// if CurrentTime >= 24 24$00 then
25533: LD_EXP 110
25537: PUSH
25538: LD_INT 50400
25540: GREATEREQUAL
25541: IFFALSE 25551
// CurrentTime = 0 0$00 ;
25543: LD_ADDR_EXP 110
25547: PUSH
25548: LD_INT 0
25550: ST_TO_ADDR
// enable ;
25551: ENABLE
// end ;
25552: END
// function changePhase ( dp , srp ) ; begin
25553: LD_INT 0
25555: PPUSH
// solar_recharge_percent = srp ;
25556: LD_ADDR_OWVAR 79
25560: PUSH
25561: LD_VAR 0 2
25565: ST_TO_ADDR
// LoadColorsTXT ( dp ) ;
25566: LD_VAR 0 1
25570: PPUSH
25571: CALL_OW 544
// end ; end_of_file
25575: LD_VAR 0 3
25579: RET
// export BuildUpAreas ; export BuildUpTimeActive ; export BuildUpTime_Delay ; export function BeginBuildUp ; var i , j ; begin
25580: LD_INT 0
25582: PPUSH
25583: PPUSH
25584: PPUSH
// BuildUpTime_Delay = 0 ;
25585: LD_ADDR_EXP 117
25589: PUSH
25590: LD_INT 0
25592: ST_TO_ADDR
// if not def_builduptime then
25593: LD_EXP 30
25597: NOT
25598: IFFALSE 25602
// exit ;
25600: GO 25785
// BuildUpTime_Delay := 4 4$00 + 1 1$00 * def_builduptime ;
25602: LD_ADDR_EXP 117
25606: PUSH
25607: LD_INT 8400
25609: PUSH
25610: LD_INT 2100
25612: PUSH
25613: LD_EXP 30
25617: MUL
25618: PLUS
25619: ST_TO_ADDR
// BuildUpTimeActive := true ;
25620: LD_ADDR_EXP 116
25624: PUSH
25625: LD_INT 1
25627: ST_TO_ADDR
// for i := 1 to 8 do
25628: LD_ADDR_VAR 0 2
25632: PUSH
25633: DOUBLE
25634: LD_INT 1
25636: DEC
25637: ST_TO_ADDR
25638: LD_INT 8
25640: PUSH
25641: FOR_TO
25642: IFFALSE 25783
// if Side_Positions [ i ] then
25644: LD_EXP 74
25648: PUSH
25649: LD_VAR 0 2
25653: ARRAY
25654: IFFALSE 25781
// begin SetAreaMapShow ( BuildUpAreas [ Side_Positions [ i ] ] , 5 ) ;
25656: LD_EXP 115
25660: PUSH
25661: LD_EXP 74
25665: PUSH
25666: LD_VAR 0 2
25670: ARRAY
25671: ARRAY
25672: PPUSH
25673: LD_INT 5
25675: PPUSH
25676: CALL_OW 424
// for j := 1 to 8 do
25680: LD_ADDR_VAR 0 3
25684: PUSH
25685: DOUBLE
25686: LD_INT 1
25688: DEC
25689: ST_TO_ADDR
25690: LD_INT 8
25692: PUSH
25693: FOR_TO
25694: IFFALSE 25779
// if Side_Positions [ j ] and ( ( Side_Teams [ i ] <> Side_Teams [ j ] ) or ( not Team_Game ) and ( i <> j ) ) then
25696: LD_EXP 74
25700: PUSH
25701: LD_VAR 0 3
25705: ARRAY
25706: PUSH
25707: LD_EXP 71
25711: PUSH
25712: LD_VAR 0 2
25716: ARRAY
25717: PUSH
25718: LD_EXP 71
25722: PUSH
25723: LD_VAR 0 3
25727: ARRAY
25728: NONEQUAL
25729: PUSH
25730: LD_EXP 79
25734: NOT
25735: PUSH
25736: LD_VAR 0 2
25740: PUSH
25741: LD_VAR 0 3
25745: NONEQUAL
25746: AND
25747: OR
25748: AND
25749: IFFALSE 25777
// HideArea ( j , BuildUpAreas [ Side_Positions [ i ] ] ) ;
25751: LD_VAR 0 3
25755: PPUSH
25756: LD_EXP 115
25760: PUSH
25761: LD_EXP 74
25765: PUSH
25766: LD_VAR 0 2
25770: ARRAY
25771: ARRAY
25772: PPUSH
25773: CALL_OW 333
25777: GO 25693
25779: POP
25780: POP
// end ;
25781: GO 25641
25783: POP
25784: POP
// end ;
25785: LD_VAR 0 1
25789: RET
// export function EndBuildUp ; var i , j ; begin
25790: LD_INT 0
25792: PPUSH
25793: PPUSH
25794: PPUSH
// BuildUpTimeActive := false ;
25795: LD_ADDR_EXP 116
25799: PUSH
25800: LD_INT 0
25802: ST_TO_ADDR
// for i := 1 to 8 do
25803: LD_ADDR_VAR 0 2
25807: PUSH
25808: DOUBLE
25809: LD_INT 1
25811: DEC
25812: ST_TO_ADDR
25813: LD_INT 8
25815: PUSH
25816: FOR_TO
25817: IFFALSE 25958
// if Side_Positions [ i ] then
25819: LD_EXP 74
25823: PUSH
25824: LD_VAR 0 2
25828: ARRAY
25829: IFFALSE 25956
// begin SetAreaMapShow ( BuildUpAreas [ Side_Positions [ i ] ] , 0 ) ;
25831: LD_EXP 115
25835: PUSH
25836: LD_EXP 74
25840: PUSH
25841: LD_VAR 0 2
25845: ARRAY
25846: ARRAY
25847: PPUSH
25848: LD_INT 0
25850: PPUSH
25851: CALL_OW 424
// for j := 1 to 8 do
25855: LD_ADDR_VAR 0 3
25859: PUSH
25860: DOUBLE
25861: LD_INT 1
25863: DEC
25864: ST_TO_ADDR
25865: LD_INT 8
25867: PUSH
25868: FOR_TO
25869: IFFALSE 25954
// if Side_Positions [ j ] and ( ( Side_Teams [ i ] <> Side_Teams [ j ] ) or ( not Team_Game ) and ( i <> j ) ) then
25871: LD_EXP 74
25875: PUSH
25876: LD_VAR 0 3
25880: ARRAY
25881: PUSH
25882: LD_EXP 71
25886: PUSH
25887: LD_VAR 0 2
25891: ARRAY
25892: PUSH
25893: LD_EXP 71
25897: PUSH
25898: LD_VAR 0 3
25902: ARRAY
25903: NONEQUAL
25904: PUSH
25905: LD_EXP 79
25909: NOT
25910: PUSH
25911: LD_VAR 0 2
25915: PUSH
25916: LD_VAR 0 3
25920: NONEQUAL
25921: AND
25922: OR
25923: AND
25924: IFFALSE 25952
// ShowArea ( j , BuildUpAreas [ Side_Positions [ i ] ] ) ;
25926: LD_VAR 0 3
25930: PPUSH
25931: LD_EXP 115
25935: PUSH
25936: LD_EXP 74
25940: PUSH
25941: LD_VAR 0 2
25945: ARRAY
25946: ARRAY
25947: PPUSH
25948: CALL_OW 334
25952: GO 25868
25954: POP
25955: POP
// end ;
25956: GO 25816
25958: POP
25959: POP
// end ;
25960: LD_VAR 0 1
25964: RET
// every 5 trigger BuildUpTimeActive do var i , un ;
25965: LD_EXP 116
25969: IFFALSE 26144
25971: GO 25973
25973: DISABLE
25974: LD_INT 0
25976: PPUSH
25977: PPUSH
// begin for i := 1 to 8 do
25978: LD_ADDR_VAR 0 1
25982: PUSH
25983: DOUBLE
25984: LD_INT 1
25986: DEC
25987: ST_TO_ADDR
25988: LD_INT 8
25990: PUSH
25991: FOR_TO
25992: IFFALSE 26141
// if Side_Positions [ i ] then
25994: LD_EXP 74
25998: PUSH
25999: LD_VAR 0 1
26003: ARRAY
26004: IFFALSE 26139
// for un in FilterUnitsInArea ( BuildUpAreas [ Side_Positions [ i ] ] , [ [ f_or , [ f_type , unit_human ] , [ f_type , unit_vehicle ] ] , [ f_side , Your_Side ] ] ) do
26006: LD_ADDR_VAR 0 2
26010: PUSH
26011: LD_EXP 115
26015: PUSH
26016: LD_EXP 74
26020: PUSH
26021: LD_VAR 0 1
26025: ARRAY
26026: ARRAY
26027: PPUSH
26028: LD_INT 2
26030: PUSH
26031: LD_INT 21
26033: PUSH
26034: LD_INT 1
26036: PUSH
26037: EMPTY
26038: LIST
26039: LIST
26040: PUSH
26041: LD_INT 21
26043: PUSH
26044: LD_INT 2
26046: PUSH
26047: EMPTY
26048: LIST
26049: LIST
26050: PUSH
26051: EMPTY
26052: LIST
26053: LIST
26054: LIST
26055: PUSH
26056: LD_INT 22
26058: PUSH
26059: LD_OWVAR 2
26063: PUSH
26064: EMPTY
26065: LIST
26066: LIST
26067: PUSH
26068: EMPTY
26069: LIST
26070: LIST
26071: PPUSH
26072: CALL_OW 70
26076: PUSH
26077: FOR_IN
26078: IFFALSE 26137
// if ( ( Side_Teams [ i ] <> Side_Teams [ Your_Side ] ) or ( not Team_Game ) and ( i <> Your_Side ) ) then
26080: LD_EXP 71
26084: PUSH
26085: LD_VAR 0 1
26089: ARRAY
26090: PUSH
26091: LD_EXP 71
26095: PUSH
26096: LD_OWVAR 2
26100: ARRAY
26101: NONEQUAL
26102: PUSH
26103: LD_EXP 79
26107: NOT
26108: PUSH
26109: LD_VAR 0 1
26113: PUSH
26114: LD_OWVAR 2
26118: NONEQUAL
26119: AND
26120: OR
26121: IFFALSE 26135
// ComMoveToArea ( un , BuildUpEscape ) ;
26123: LD_VAR 0 2
26127: PPUSH
26128: LD_INT 33
26130: PPUSH
26131: CALL_OW 113
26135: GO 26077
26137: POP
26138: POP
26139: GO 25991
26141: POP
26142: POP
// enable ;
26143: ENABLE
// end ;
26144: PPOPN 2
26146: END
// every 0 0$1 trigger def_builduptime do
26147: LD_EXP 30
26151: IFFALSE 26177
26153: GO 26155
26155: DISABLE
// begin wait ( 4 4$00 + ( def_builduptime * 1 1$00 ) ) ;
26156: LD_INT 8400
26158: PUSH
26159: LD_EXP 30
26163: PUSH
26164: LD_INT 2100
26166: MUL
26167: PLUS
26168: PPUSH
26169: CALL_OW 67
// EndBuildUp ;
26173: CALL 25790 0 0
// end ; end_of_file
26177: END
// var Restricted_Builds , Restricted_Builds_Amount ; var Banned_Weapons , Banned_Chassis , Banned_Controls , Banned_Engines ; var Already_Built ; var Limits_Info , Cheaters ; every 0 0$1 do
26178: GO 26180
26180: DISABLE
// begin fLimitsStrings ;
26181: CALL 26187 0 0
// enable ;
26185: ENABLE
// end ;
26186: END
// export function fLimitsStrings ; var i ; begin
26187: LD_INT 0
26189: PPUSH
26190: PPUSH
// if ( not IAmSpec ) then
26191: CALL_OW 531
26195: NOT
26196: IFFALSE 26212
// LimitsStrings := Limits_Info ^  ;
26198: LD_ADDR_EXP 109
26202: PUSH
26203: LD_LOC 29
26207: PUSH
26208: LD_STRING 
26210: ADD
26211: ST_TO_ADDR
// for i := 1 to 8 do
26212: LD_ADDR_VAR 0 2
26216: PUSH
26217: DOUBLE
26218: LD_INT 1
26220: DEC
26221: ST_TO_ADDR
26222: LD_INT 8
26224: PUSH
26225: FOR_TO
26226: IFFALSE 26271
// if Cheaters [ i ] then
26228: LD_LOC 30
26232: PUSH
26233: LD_VAR 0 2
26237: ARRAY
26238: IFFALSE 26269
// LimitsStrings := LimitsStrings ^ [ #Cheater , i , i ] ;
26240: LD_ADDR_EXP 109
26244: PUSH
26245: LD_EXP 109
26249: PUSH
26250: LD_STRING #Cheater
26252: PUSH
26253: LD_VAR 0 2
26257: PUSH
26258: LD_VAR 0 2
26262: PUSH
26263: EMPTY
26264: LIST
26265: LIST
26266: LIST
26267: ADD
26268: ST_TO_ADDR
26269: GO 26225
26271: POP
26272: POP
// end ;
26273: LD_VAR 0 1
26277: RET
// export function InitGameRules ; var Unavailable_Techs , Unavailable_Builds ; var i , j ; begin
26278: LD_INT 0
26280: PPUSH
26281: PPUSH
26282: PPUSH
26283: PPUSH
26284: PPUSH
// Cheaters := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
26285: LD_ADDR_LOC 30
26289: PUSH
26290: LD_INT 0
26292: PUSH
26293: LD_INT 0
26295: PUSH
26296: LD_INT 0
26298: PUSH
26299: LD_INT 0
26301: PUSH
26302: LD_INT 0
26304: PUSH
26305: LD_INT 0
26307: PUSH
26308: LD_INT 0
26310: PUSH
26311: LD_INT 0
26313: PUSH
26314: EMPTY
26315: LIST
26316: LIST
26317: LIST
26318: LIST
26319: LIST
26320: LIST
26321: LIST
26322: LIST
26323: ST_TO_ADDR
// case def_game_rules of 0 :
26324: LD_EXP 9
26328: PUSH
26329: LD_INT 0
26331: DOUBLE
26332: EQUAL
26333: IFTRUE 26337
26335: GO 26342
26337: POP
// exit ; 1 :
26338: GO 28978
26340: GO 28878
26342: LD_INT 1
26344: DOUBLE
26345: EQUAL
26346: IFTRUE 26350
26348: GO 26653
26350: POP
// begin def_base_level := 2 ;
26351: LD_ADDR_EXP 10
26355: PUSH
26356: LD_INT 2
26358: ST_TO_ADDR
// def_amount_of_people := 10 ;
26359: LD_ADDR_EXP 11
26363: PUSH
26364: LD_INT 10
26366: ST_TO_ADDR
// def_initial_level := 1 ;
26367: LD_ADDR_EXP 13
26371: PUSH
26372: LD_INT 1
26374: ST_TO_ADDR
// def_starting_resources := 2 ;
26375: LD_ADDR_EXP 15
26379: PUSH
26380: LD_INT 2
26382: ST_TO_ADDR
// def_shipments_density := 1 ;
26383: LD_ADDR_EXP 16
26387: PUSH
26388: LD_INT 1
26390: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
26391: LD_ADDR_EXP 17
26395: PUSH
26396: LD_INT 0
26398: ST_TO_ADDR
// def_extra_sib_deposits := 1 ;
26399: LD_ADDR_EXP 18
26403: PUSH
26404: LD_INT 1
26406: ST_TO_ADDR
// def_shared_vision := 1 ;
26407: LD_ADDR_EXP 19
26411: PUSH
26412: LD_INT 1
26414: ST_TO_ADDR
// def_morale_flags := 3 ;
26415: LD_ADDR_EXP 20
26419: PUSH
26420: LD_INT 3
26422: ST_TO_ADDR
// def_siberite_detection := 1 ;
26423: LD_ADDR_EXP 28
26427: PUSH
26428: LD_INT 1
26430: ST_TO_ADDR
// def_people_respawning := 1 ;
26431: LD_ADDR_EXP 25
26435: PUSH
26436: LD_INT 1
26438: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
26439: LD_ADDR_EXP 22
26443: PUSH
26444: LD_INT 1
26446: ST_TO_ADDR
// def_siberite_bomb := 0 ;
26447: LD_ADDR_EXP 29
26451: PUSH
26452: LD_INT 0
26454: ST_TO_ADDR
// def_builduptime := 2 ;
26455: LD_ADDR_EXP 30
26459: PUSH
26460: LD_INT 2
26462: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
26463: LD_ADDR_EXP 12
26467: PUSH
26468: LD_INT 0
26470: ST_TO_ADDR
// def_amount_of_tiger := 0 ;
26471: LD_ADDR_EXP 23
26475: PUSH
26476: LD_INT 0
26478: ST_TO_ADDR
// def_respawining_type := 3 ;
26479: LD_ADDR_EXP 24
26483: PUSH
26484: LD_INT 3
26486: ST_TO_ADDR
// def_tech_level := 8 ;
26487: LD_ADDR_EXP 26
26491: PUSH
26492: LD_INT 8
26494: ST_TO_ADDR
// def_upgrade_tl := 0 ;
26495: LD_ADDR_EXP 27
26499: PUSH
26500: LD_INT 0
26502: ST_TO_ADDR
// def_desert_warior := 0 ;
26503: LD_ADDR_EXP 31
26507: PUSH
26508: LD_INT 0
26510: ST_TO_ADDR
// Unavailable_Techs := [ ] ;
26511: LD_ADDR_VAR 0 2
26515: PUSH
26516: EMPTY
26517: ST_TO_ADDR
// Unavailable_Builds := [ ] ;
26518: LD_ADDR_VAR 0 3
26522: PUSH
26523: EMPTY
26524: ST_TO_ADDR
// Banned_Weapons := [ ] ;
26525: LD_ADDR_LOC 24
26529: PUSH
26530: EMPTY
26531: ST_TO_ADDR
// Banned_Chassis := [ ] ;
26532: LD_ADDR_LOC 25
26536: PUSH
26537: EMPTY
26538: ST_TO_ADDR
// Banned_Controls := [ ] ;
26539: LD_ADDR_LOC 26
26543: PUSH
26544: EMPTY
26545: ST_TO_ADDR
// Banned_Engines := [ ] ;
26546: LD_ADDR_LOC 27
26550: PUSH
26551: EMPTY
26552: ST_TO_ADDR
// Restricted_Builds := [ [ b_Behemoth ] , [ b_Armoury , b_Barracks ] , [ b_Breastwork , b_Bunker , b_Turret ] ] ;
26553: LD_ADDR_LOC 22
26557: PUSH
26558: LD_INT 37
26560: PUSH
26561: EMPTY
26562: LIST
26563: PUSH
26564: LD_INT 4
26566: PUSH
26567: LD_INT 5
26569: PUSH
26570: EMPTY
26571: LIST
26572: LIST
26573: PUSH
26574: LD_INT 31
26576: PUSH
26577: LD_INT 32
26579: PUSH
26580: LD_INT 33
26582: PUSH
26583: EMPTY
26584: LIST
26585: LIST
26586: LIST
26587: PUSH
26588: EMPTY
26589: LIST
26590: LIST
26591: LIST
26592: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
26593: LD_EXP 1
26597: PUSH
26598: LD_EXP 3
26602: PUSH
26603: LD_EXP 4
26607: ADD
26608: IN
26609: IFFALSE 26632
// Restricted_Builds_Amount := [ 4 , 4 , 8 ] else
26611: LD_ADDR_LOC 23
26615: PUSH
26616: LD_INT 4
26618: PUSH
26619: LD_INT 4
26621: PUSH
26622: LD_INT 8
26624: PUSH
26625: EMPTY
26626: LIST
26627: LIST
26628: LIST
26629: ST_TO_ADDR
26630: GO 26651
// Restricted_Builds_Amount := [ 2 , 2 , 4 ] ;
26632: LD_ADDR_LOC 23
26636: PUSH
26637: LD_INT 2
26639: PUSH
26640: LD_INT 2
26642: PUSH
26643: LD_INT 4
26645: PUSH
26646: EMPTY
26647: LIST
26648: LIST
26649: LIST
26650: ST_TO_ADDR
// end ; 2 :
26651: GO 28878
26653: LD_INT 2
26655: DOUBLE
26656: EQUAL
26657: IFTRUE 26661
26659: GO 26953
26661: POP
// begin def_base_level := 1 ;
26662: LD_ADDR_EXP 10
26666: PUSH
26667: LD_INT 1
26669: ST_TO_ADDR
// def_amount_of_people := 2 ;
26670: LD_ADDR_EXP 11
26674: PUSH
26675: LD_INT 2
26677: ST_TO_ADDR
// def_initial_level := 3 ;
26678: LD_ADDR_EXP 13
26682: PUSH
26683: LD_INT 3
26685: ST_TO_ADDR
// def_starting_resources := 3 ;
26686: LD_ADDR_EXP 15
26690: PUSH
26691: LD_INT 3
26693: ST_TO_ADDR
// def_shipments_density := 2 ;
26694: LD_ADDR_EXP 16
26698: PUSH
26699: LD_INT 2
26701: ST_TO_ADDR
// def_extra_oil_deposits := 1 ;
26702: LD_ADDR_EXP 17
26706: PUSH
26707: LD_INT 1
26709: ST_TO_ADDR
// def_extra_sib_deposits := 2 ;
26710: LD_ADDR_EXP 18
26714: PUSH
26715: LD_INT 2
26717: ST_TO_ADDR
// def_shared_vision := 1 ;
26718: LD_ADDR_EXP 19
26722: PUSH
26723: LD_INT 1
26725: ST_TO_ADDR
// def_morale_flags := 0 ;
26726: LD_ADDR_EXP 20
26730: PUSH
26731: LD_INT 0
26733: ST_TO_ADDR
// def_siberite_detection := 1 ;
26734: LD_ADDR_EXP 28
26738: PUSH
26739: LD_INT 1
26741: ST_TO_ADDR
// def_people_respawning := 0 ;
26742: LD_ADDR_EXP 25
26746: PUSH
26747: LD_INT 0
26749: ST_TO_ADDR
// def_amount_of_apemen := 0 ;
26750: LD_ADDR_EXP 22
26754: PUSH
26755: LD_INT 0
26757: ST_TO_ADDR
// def_siberite_bomb := 0 ;
26758: LD_ADDR_EXP 29
26762: PUSH
26763: LD_INT 0
26765: ST_TO_ADDR
// def_builduptime := 2 ;
26766: LD_ADDR_EXP 30
26770: PUSH
26771: LD_INT 2
26773: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
26774: LD_ADDR_EXP 12
26778: PUSH
26779: LD_INT 0
26781: ST_TO_ADDR
// def_amount_of_tiger := 0 ;
26782: LD_ADDR_EXP 23
26786: PUSH
26787: LD_INT 0
26789: ST_TO_ADDR
// def_respawining_type := 3 ;
26790: LD_ADDR_EXP 24
26794: PUSH
26795: LD_INT 3
26797: ST_TO_ADDR
// def_tech_level := 8 ;
26798: LD_ADDR_EXP 26
26802: PUSH
26803: LD_INT 8
26805: ST_TO_ADDR
// def_upgrade_tl := 0 ;
26806: LD_ADDR_EXP 27
26810: PUSH
26811: LD_INT 0
26813: ST_TO_ADDR
// def_desert_warior := 0 ;
26814: LD_ADDR_EXP 31
26818: PUSH
26819: LD_INT 0
26821: ST_TO_ADDR
// Unavailable_Techs := [ tech_ApeLang ] ;
26822: LD_ADDR_VAR 0 2
26826: PUSH
26827: LD_INT 1
26829: PUSH
26830: EMPTY
26831: LIST
26832: ST_TO_ADDR
// Unavailable_Builds := [ ] ;
26833: LD_ADDR_VAR 0 3
26837: PUSH
26838: EMPTY
26839: ST_TO_ADDR
// Banned_Weapons := [ ] ;
26840: LD_ADDR_LOC 24
26844: PUSH
26845: EMPTY
26846: ST_TO_ADDR
// Banned_Chassis := [ ] ;
26847: LD_ADDR_LOC 25
26851: PUSH
26852: EMPTY
26853: ST_TO_ADDR
// Banned_Controls := [ ] ;
26854: LD_ADDR_LOC 26
26858: PUSH
26859: EMPTY
26860: ST_TO_ADDR
// Banned_Engines := [ ] ;
26861: LD_ADDR_LOC 27
26865: PUSH
26866: EMPTY
26867: ST_TO_ADDR
// Restricted_Builds := [ [ b_Armoury , b_Barracks ] , [ b_Breastwork , b_Bunker , b_Turret ] ] ;
26868: LD_ADDR_LOC 22
26872: PUSH
26873: LD_INT 4
26875: PUSH
26876: LD_INT 5
26878: PUSH
26879: EMPTY
26880: LIST
26881: LIST
26882: PUSH
26883: LD_INT 31
26885: PUSH
26886: LD_INT 32
26888: PUSH
26889: LD_INT 33
26891: PUSH
26892: EMPTY
26893: LIST
26894: LIST
26895: LIST
26896: PUSH
26897: EMPTY
26898: LIST
26899: LIST
26900: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
26901: LD_EXP 1
26905: PUSH
26906: LD_EXP 3
26910: PUSH
26911: LD_EXP 4
26915: ADD
26916: IN
26917: IFFALSE 26936
// Restricted_Builds_Amount := [ 2 , 4 ] else
26919: LD_ADDR_LOC 23
26923: PUSH
26924: LD_INT 2
26926: PUSH
26927: LD_INT 4
26929: PUSH
26930: EMPTY
26931: LIST
26932: LIST
26933: ST_TO_ADDR
26934: GO 26951
// Restricted_Builds_Amount := [ 1 , 2 ] ;
26936: LD_ADDR_LOC 23
26940: PUSH
26941: LD_INT 1
26943: PUSH
26944: LD_INT 2
26946: PUSH
26947: EMPTY
26948: LIST
26949: LIST
26950: ST_TO_ADDR
// end ; 3 :
26951: GO 28878
26953: LD_INT 3
26955: DOUBLE
26956: EQUAL
26957: IFTRUE 26961
26959: GO 27244
26961: POP
// begin def_base_level := 1 ;
26962: LD_ADDR_EXP 10
26966: PUSH
26967: LD_INT 1
26969: ST_TO_ADDR
// def_amount_of_people := 10 ;
26970: LD_ADDR_EXP 11
26974: PUSH
26975: LD_INT 10
26977: ST_TO_ADDR
// def_initial_level := 3 ;
26978: LD_ADDR_EXP 13
26982: PUSH
26983: LD_INT 3
26985: ST_TO_ADDR
// def_starting_resources := 3 ;
26986: LD_ADDR_EXP 15
26990: PUSH
26991: LD_INT 3
26993: ST_TO_ADDR
// def_shipments_density := 1 ;
26994: LD_ADDR_EXP 16
26998: PUSH
26999: LD_INT 1
27001: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
27002: LD_ADDR_EXP 17
27006: PUSH
27007: LD_INT 0
27009: ST_TO_ADDR
// def_extra_sib_deposits := 1 ;
27010: LD_ADDR_EXP 18
27014: PUSH
27015: LD_INT 1
27017: ST_TO_ADDR
// def_shared_vision := 1 ;
27018: LD_ADDR_EXP 19
27022: PUSH
27023: LD_INT 1
27025: ST_TO_ADDR
// def_morale_flags := 0 ;
27026: LD_ADDR_EXP 20
27030: PUSH
27031: LD_INT 0
27033: ST_TO_ADDR
// def_siberite_detection := 1 ;
27034: LD_ADDR_EXP 28
27038: PUSH
27039: LD_INT 1
27041: ST_TO_ADDR
// def_people_respawning := 0 ;
27042: LD_ADDR_EXP 25
27046: PUSH
27047: LD_INT 0
27049: ST_TO_ADDR
// def_amount_of_apemen := 2 ;
27050: LD_ADDR_EXP 22
27054: PUSH
27055: LD_INT 2
27057: ST_TO_ADDR
// def_siberite_bomb := 0 ;
27058: LD_ADDR_EXP 29
27062: PUSH
27063: LD_INT 0
27065: ST_TO_ADDR
// def_builduptime := 1 ;
27066: LD_ADDR_EXP 30
27070: PUSH
27071: LD_INT 1
27073: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
27074: LD_ADDR_EXP 12
27078: PUSH
27079: LD_INT 0
27081: ST_TO_ADDR
// def_amount_of_tiger := 1 ;
27082: LD_ADDR_EXP 23
27086: PUSH
27087: LD_INT 1
27089: ST_TO_ADDR
// def_respawining_type := 3 ;
27090: LD_ADDR_EXP 24
27094: PUSH
27095: LD_INT 3
27097: ST_TO_ADDR
// def_tech_level := 8 ;
27098: LD_ADDR_EXP 26
27102: PUSH
27103: LD_INT 8
27105: ST_TO_ADDR
// def_upgrade_tl := 0 ;
27106: LD_ADDR_EXP 27
27110: PUSH
27111: LD_INT 0
27113: ST_TO_ADDR
// def_desert_warior := 0 ;
27114: LD_ADDR_EXP 31
27118: PUSH
27119: LD_INT 0
27121: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth ] ;
27122: LD_ADDR_VAR 0 2
27126: PUSH
27127: LD_INT 23
27129: PUSH
27130: EMPTY
27131: LIST
27132: ST_TO_ADDR
// Unavailable_Builds := [ b_Workshop , b_Behemoth , b_Bunker , b_Turret , b_Control_Tower , b_ext_track , b_ext_stitch , b_ext_siberium , b_ext_rocket , b_ext_radio , b_ext_radar , b_ext_noncombat , b_ext_laser , b_ext_gun , b_ext_computer ] ;
27133: LD_ADDR_VAR 0 3
27137: PUSH
27138: LD_INT 2
27140: PUSH
27141: LD_INT 37
27143: PUSH
27144: LD_INT 32
27146: PUSH
27147: LD_INT 33
27149: PUSH
27150: LD_INT 36
27152: PUSH
27153: LD_INT 16
27155: PUSH
27156: LD_INT 23
27158: PUSH
27159: LD_INT 21
27161: PUSH
27162: LD_INT 18
27164: PUSH
27165: LD_INT 22
27167: PUSH
27168: LD_INT 20
27170: PUSH
27171: LD_INT 19
27173: PUSH
27174: LD_INT 25
27176: PUSH
27177: LD_INT 17
27179: PUSH
27180: LD_INT 24
27182: PUSH
27183: EMPTY
27184: LIST
27185: LIST
27186: LIST
27187: LIST
27188: LIST
27189: LIST
27190: LIST
27191: LIST
27192: LIST
27193: LIST
27194: LIST
27195: LIST
27196: LIST
27197: LIST
27198: LIST
27199: ST_TO_ADDR
// Banned_Weapons := [ ] ;
27200: LD_ADDR_LOC 24
27204: PUSH
27205: EMPTY
27206: ST_TO_ADDR
// Banned_Chassis := [ ] ;
27207: LD_ADDR_LOC 25
27211: PUSH
27212: EMPTY
27213: ST_TO_ADDR
// Banned_Controls := [ ] ;
27214: LD_ADDR_LOC 26
27218: PUSH
27219: EMPTY
27220: ST_TO_ADDR
// Banned_Engines := [ ] ;
27221: LD_ADDR_LOC 27
27225: PUSH
27226: EMPTY
27227: ST_TO_ADDR
// Restricted_Builds := [ ] ;
27228: LD_ADDR_LOC 22
27232: PUSH
27233: EMPTY
27234: ST_TO_ADDR
// Restricted_Builds_Amount := [ ] ;
27235: LD_ADDR_LOC 23
27239: PUSH
27240: EMPTY
27241: ST_TO_ADDR
// end ; 4 :
27242: GO 28878
27244: LD_INT 4
27246: DOUBLE
27247: EQUAL
27248: IFTRUE 27252
27250: GO 27475
27252: POP
// begin def_base_level := 1 ;
27253: LD_ADDR_EXP 10
27257: PUSH
27258: LD_INT 1
27260: ST_TO_ADDR
// def_amount_of_people := 10 ;
27261: LD_ADDR_EXP 11
27265: PUSH
27266: LD_INT 10
27268: ST_TO_ADDR
// def_initial_level := 3 ;
27269: LD_ADDR_EXP 13
27273: PUSH
27274: LD_INT 3
27276: ST_TO_ADDR
// def_starting_resources := 3 ;
27277: LD_ADDR_EXP 15
27281: PUSH
27282: LD_INT 3
27284: ST_TO_ADDR
// def_shipments_density := 2 ;
27285: LD_ADDR_EXP 16
27289: PUSH
27290: LD_INT 2
27292: ST_TO_ADDR
// def_extra_oil_deposits := 1 ;
27293: LD_ADDR_EXP 17
27297: PUSH
27298: LD_INT 1
27300: ST_TO_ADDR
// def_extra_sib_deposits := 2 ;
27301: LD_ADDR_EXP 18
27305: PUSH
27306: LD_INT 2
27308: ST_TO_ADDR
// def_shared_vision := 1 ;
27309: LD_ADDR_EXP 19
27313: PUSH
27314: LD_INT 1
27316: ST_TO_ADDR
// def_morale_flags := 0 ;
27317: LD_ADDR_EXP 20
27321: PUSH
27322: LD_INT 0
27324: ST_TO_ADDR
// def_siberite_detection := 1 ;
27325: LD_ADDR_EXP 28
27329: PUSH
27330: LD_INT 1
27332: ST_TO_ADDR
// def_people_respawning := 0 ;
27333: LD_ADDR_EXP 25
27337: PUSH
27338: LD_INT 0
27340: ST_TO_ADDR
// def_amount_of_apemen := 0 ;
27341: LD_ADDR_EXP 22
27345: PUSH
27346: LD_INT 0
27348: ST_TO_ADDR
// def_siberite_bomb := 1 ;
27349: LD_ADDR_EXP 29
27353: PUSH
27354: LD_INT 1
27356: ST_TO_ADDR
// def_builduptime := 3 ;
27357: LD_ADDR_EXP 30
27361: PUSH
27362: LD_INT 3
27364: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
27365: LD_ADDR_EXP 12
27369: PUSH
27370: LD_INT 0
27372: ST_TO_ADDR
// def_amount_of_tiger := 0 ;
27373: LD_ADDR_EXP 23
27377: PUSH
27378: LD_INT 0
27380: ST_TO_ADDR
// def_respawining_type := 3 ;
27381: LD_ADDR_EXP 24
27385: PUSH
27386: LD_INT 3
27388: ST_TO_ADDR
// def_tech_level := 8 ;
27389: LD_ADDR_EXP 26
27393: PUSH
27394: LD_INT 8
27396: ST_TO_ADDR
// def_upgrade_tl := 0 ;
27397: LD_ADDR_EXP 27
27401: PUSH
27402: LD_INT 0
27404: ST_TO_ADDR
// def_desert_warior := 0 ;
27405: LD_ADDR_EXP 31
27409: PUSH
27410: LD_INT 0
27412: ST_TO_ADDR
// Unavailable_Techs := [ tech_ApeLang ] ;
27413: LD_ADDR_VAR 0 2
27417: PUSH
27418: LD_INT 1
27420: PUSH
27421: EMPTY
27422: LIST
27423: ST_TO_ADDR
// Unavailable_Builds := [ ] ;
27424: LD_ADDR_VAR 0 3
27428: PUSH
27429: EMPTY
27430: ST_TO_ADDR
// Banned_Weapons := [ ] ;
27431: LD_ADDR_LOC 24
27435: PUSH
27436: EMPTY
27437: ST_TO_ADDR
// Banned_Chassis := [ ] ;
27438: LD_ADDR_LOC 25
27442: PUSH
27443: EMPTY
27444: ST_TO_ADDR
// Banned_Controls := [ ] ;
27445: LD_ADDR_LOC 26
27449: PUSH
27450: EMPTY
27451: ST_TO_ADDR
// Banned_Engines := [ ] ;
27452: LD_ADDR_LOC 27
27456: PUSH
27457: EMPTY
27458: ST_TO_ADDR
// Restricted_Builds := [ ] ;
27459: LD_ADDR_LOC 22
27463: PUSH
27464: EMPTY
27465: ST_TO_ADDR
// Restricted_Builds_Amount := [ ] ;
27466: LD_ADDR_LOC 23
27470: PUSH
27471: EMPTY
27472: ST_TO_ADDR
// end ; 5 :
27473: GO 28878
27475: LD_INT 5
27477: DOUBLE
27478: EQUAL
27479: IFTRUE 27483
27481: GO 27815
27483: POP
// begin def_base_level := 0 ;
27484: LD_ADDR_EXP 10
27488: PUSH
27489: LD_INT 0
27491: ST_TO_ADDR
// def_amount_of_people := 3 ;
27492: LD_ADDR_EXP 11
27496: PUSH
27497: LD_INT 3
27499: ST_TO_ADDR
// def_initial_level := 0 ;
27500: LD_ADDR_EXP 13
27504: PUSH
27505: LD_INT 0
27507: ST_TO_ADDR
// def_starting_resources := 0 ;
27508: LD_ADDR_EXP 15
27512: PUSH
27513: LD_INT 0
27515: ST_TO_ADDR
// def_shipments_density := 0 ;
27516: LD_ADDR_EXP 16
27520: PUSH
27521: LD_INT 0
27523: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
27524: LD_ADDR_EXP 17
27528: PUSH
27529: LD_INT 0
27531: ST_TO_ADDR
// def_extra_sib_deposits := 0 ;
27532: LD_ADDR_EXP 18
27536: PUSH
27537: LD_INT 0
27539: ST_TO_ADDR
// def_shared_vision := 1 ;
27540: LD_ADDR_EXP 19
27544: PUSH
27545: LD_INT 1
27547: ST_TO_ADDR
// def_morale_flags := 0 ;
27548: LD_ADDR_EXP 20
27552: PUSH
27553: LD_INT 0
27555: ST_TO_ADDR
// def_siberite_detection := 0 ;
27556: LD_ADDR_EXP 28
27560: PUSH
27561: LD_INT 0
27563: ST_TO_ADDR
// def_people_respawning := 1 ;
27564: LD_ADDR_EXP 25
27568: PUSH
27569: LD_INT 1
27571: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
27572: LD_ADDR_EXP 22
27576: PUSH
27577: LD_INT 1
27579: ST_TO_ADDR
// def_siberite_bomb := 0 ;
27580: LD_ADDR_EXP 29
27584: PUSH
27585: LD_INT 0
27587: ST_TO_ADDR
// def_builduptime := 0 ;
27588: LD_ADDR_EXP 30
27592: PUSH
27593: LD_INT 0
27595: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
27596: LD_ADDR_EXP 12
27600: PUSH
27601: LD_INT 0
27603: ST_TO_ADDR
// def_amount_of_tiger := 2 ;
27604: LD_ADDR_EXP 23
27608: PUSH
27609: LD_INT 2
27611: ST_TO_ADDR
// def_respawining_type := 3 ;
27612: LD_ADDR_EXP 24
27616: PUSH
27617: LD_INT 3
27619: ST_TO_ADDR
// def_tech_level := 8 ;
27620: LD_ADDR_EXP 26
27624: PUSH
27625: LD_INT 8
27627: ST_TO_ADDR
// def_upgrade_tl := 0 ;
27628: LD_ADDR_EXP 27
27632: PUSH
27633: LD_INT 0
27635: ST_TO_ADDR
// def_desert_warior := 0 ;
27636: LD_ADDR_EXP 31
27640: PUSH
27641: LD_INT 0
27643: ST_TO_ADDR
// Unavailable_Techs := [ tech_Laser , tech_ApeNeural ] ;
27644: LD_ADDR_VAR 0 2
27648: PUSH
27649: LD_INT 10
27651: PUSH
27652: LD_INT 3
27654: PUSH
27655: EMPTY
27656: LIST
27657: LIST
27658: ST_TO_ADDR
// Unavailable_Builds := [ b_Lab_Computer , b_Lab_Siberium , b_Lab_Spacetime , b_Lab_Biological , b_Barracks , b_ext_Computer , b_ext_Siberium , b_Turret , b_Control_Tower ] ;
27659: LD_ADDR_VAR 0 3
27663: PUSH
27664: LD_INT 12
27666: PUSH
27667: LD_INT 11
27669: PUSH
27670: LD_INT 14
27672: PUSH
27673: LD_INT 13
27675: PUSH
27676: LD_INT 5
27678: PUSH
27679: LD_INT 24
27681: PUSH
27682: LD_INT 21
27684: PUSH
27685: LD_INT 33
27687: PUSH
27688: LD_INT 36
27690: PUSH
27691: EMPTY
27692: LIST
27693: LIST
27694: LIST
27695: LIST
27696: LIST
27697: LIST
27698: LIST
27699: LIST
27700: LIST
27701: ST_TO_ADDR
// Banned_Weapons := [ ar_Control_Tower ] ;
27702: LD_ADDR_LOC 24
27706: PUSH
27707: LD_INT 31
27709: PUSH
27710: EMPTY
27711: LIST
27712: ST_TO_ADDR
// Banned_Chassis := [ ] ;
27713: LD_ADDR_LOC 25
27717: PUSH
27718: EMPTY
27719: ST_TO_ADDR
// Banned_Controls := [ control_Remote ] ;
27720: LD_ADDR_LOC 26
27724: PUSH
27725: LD_INT 2
27727: PUSH
27728: EMPTY
27729: LIST
27730: ST_TO_ADDR
// Banned_Engines := [ ] ;
27731: LD_ADDR_LOC 27
27735: PUSH
27736: EMPTY
27737: ST_TO_ADDR
// Restricted_Builds := [ [ b_Armoury ] , [ b_Breastwork , b_Bunker ] ] ;
27738: LD_ADDR_LOC 22
27742: PUSH
27743: LD_INT 4
27745: PUSH
27746: EMPTY
27747: LIST
27748: PUSH
27749: LD_INT 31
27751: PUSH
27752: LD_INT 32
27754: PUSH
27755: EMPTY
27756: LIST
27757: LIST
27758: PUSH
27759: EMPTY
27760: LIST
27761: LIST
27762: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
27763: LD_EXP 1
27767: PUSH
27768: LD_EXP 3
27772: PUSH
27773: LD_EXP 4
27777: ADD
27778: IN
27779: IFFALSE 27798
// Restricted_Builds_Amount := [ 2 , 2 ] else
27781: LD_ADDR_LOC 23
27785: PUSH
27786: LD_INT 2
27788: PUSH
27789: LD_INT 2
27791: PUSH
27792: EMPTY
27793: LIST
27794: LIST
27795: ST_TO_ADDR
27796: GO 27813
// Restricted_Builds_Amount := [ 1 , 1 ] ;
27798: LD_ADDR_LOC 23
27802: PUSH
27803: LD_INT 1
27805: PUSH
27806: LD_INT 1
27808: PUSH
27809: EMPTY
27810: LIST
27811: LIST
27812: ST_TO_ADDR
// end ; 6 :
27813: GO 28878
27815: LD_INT 6
27817: DOUBLE
27818: EQUAL
27819: IFTRUE 27823
27821: GO 28101
27823: POP
// begin def_base_level := 1 ;
27824: LD_ADDR_EXP 10
27828: PUSH
27829: LD_INT 1
27831: ST_TO_ADDR
// def_amount_of_people := 10 ;
27832: LD_ADDR_EXP 11
27836: PUSH
27837: LD_INT 10
27839: ST_TO_ADDR
// def_initial_level := 3 ;
27840: LD_ADDR_EXP 13
27844: PUSH
27845: LD_INT 3
27847: ST_TO_ADDR
// def_starting_resources := 3 ;
27848: LD_ADDR_EXP 15
27852: PUSH
27853: LD_INT 3
27855: ST_TO_ADDR
// def_shipments_density := 1 ;
27856: LD_ADDR_EXP 16
27860: PUSH
27861: LD_INT 1
27863: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
27864: LD_ADDR_EXP 17
27868: PUSH
27869: LD_INT 0
27871: ST_TO_ADDR
// def_extra_sib_deposits := 1 ;
27872: LD_ADDR_EXP 18
27876: PUSH
27877: LD_INT 1
27879: ST_TO_ADDR
// def_shared_vision := 1 ;
27880: LD_ADDR_EXP 19
27884: PUSH
27885: LD_INT 1
27887: ST_TO_ADDR
// def_morale_flags := 0 ;
27888: LD_ADDR_EXP 20
27892: PUSH
27893: LD_INT 0
27895: ST_TO_ADDR
// def_siberite_detection := 1 ;
27896: LD_ADDR_EXP 28
27900: PUSH
27901: LD_INT 1
27903: ST_TO_ADDR
// def_people_respawning := 2 ;
27904: LD_ADDR_EXP 25
27908: PUSH
27909: LD_INT 2
27911: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
27912: LD_ADDR_EXP 22
27916: PUSH
27917: LD_INT 1
27919: ST_TO_ADDR
// def_siberite_bomb := 0 ;
27920: LD_ADDR_EXP 29
27924: PUSH
27925: LD_INT 0
27927: ST_TO_ADDR
// def_builduptime := 1 ;
27928: LD_ADDR_EXP 30
27932: PUSH
27933: LD_INT 1
27935: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
27936: LD_ADDR_EXP 12
27940: PUSH
27941: LD_INT 0
27943: ST_TO_ADDR
// def_amount_of_tiger := 1 ;
27944: LD_ADDR_EXP 23
27948: PUSH
27949: LD_INT 1
27951: ST_TO_ADDR
// def_respawining_type := 3 ;
27952: LD_ADDR_EXP 24
27956: PUSH
27957: LD_INT 3
27959: ST_TO_ADDR
// def_tech_level := 8 ;
27960: LD_ADDR_EXP 26
27964: PUSH
27965: LD_INT 8
27967: ST_TO_ADDR
// def_upgrade_tl := 0 ;
27968: LD_ADDR_EXP 27
27972: PUSH
27973: LD_INT 0
27975: ST_TO_ADDR
// def_desert_warior := 0 ;
27976: LD_ADDR_EXP 31
27980: PUSH
27981: LD_INT 0
27983: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth ] ;
27984: LD_ADDR_VAR 0 2
27988: PUSH
27989: LD_INT 23
27991: PUSH
27992: EMPTY
27993: LIST
27994: ST_TO_ADDR
// Unavailable_Builds := [ b_Workshop , b_Behemoth , b_Breastwork , b_Bunker , b_Turret ] ;
27995: LD_ADDR_VAR 0 3
27999: PUSH
28000: LD_INT 2
28002: PUSH
28003: LD_INT 37
28005: PUSH
28006: LD_INT 31
28008: PUSH
28009: LD_INT 32
28011: PUSH
28012: LD_INT 33
28014: PUSH
28015: EMPTY
28016: LIST
28017: LIST
28018: LIST
28019: LIST
28020: LIST
28021: ST_TO_ADDR
// Banned_Weapons := [ ] ;
28022: LD_ADDR_LOC 24
28026: PUSH
28027: EMPTY
28028: ST_TO_ADDR
// Banned_Chassis := [ ] ;
28029: LD_ADDR_LOC 25
28033: PUSH
28034: EMPTY
28035: ST_TO_ADDR
// Banned_Controls := [ ] ;
28036: LD_ADDR_LOC 26
28040: PUSH
28041: EMPTY
28042: ST_TO_ADDR
// Banned_Engines := [ ] ;
28043: LD_ADDR_LOC 27
28047: PUSH
28048: EMPTY
28049: ST_TO_ADDR
// Restricted_Builds := [ [ b_Armoury , b_barracks ] ] ;
28050: LD_ADDR_LOC 22
28054: PUSH
28055: LD_INT 4
28057: PUSH
28058: LD_INT 5
28060: PUSH
28061: EMPTY
28062: LIST
28063: LIST
28064: PUSH
28065: EMPTY
28066: LIST
28067: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
28068: LD_EXP 1
28072: PUSH
28073: LD_EXP 3
28077: PUSH
28078: LD_EXP 4
28082: ADD
28083: IN
28084: IFFALSE 28088
// else
28086: GO 28099
// Restricted_Builds_Amount := [ 1 ] ;
28088: LD_ADDR_LOC 23
28092: PUSH
28093: LD_INT 1
28095: PUSH
28096: EMPTY
28097: LIST
28098: ST_TO_ADDR
// end ; 7 :
28099: GO 28878
28101: LD_INT 7
28103: DOUBLE
28104: EQUAL
28105: IFTRUE 28109
28107: GO 28386
28109: POP
// begin def_base_level := 1 ;
28110: LD_ADDR_EXP 10
28114: PUSH
28115: LD_INT 1
28117: ST_TO_ADDR
// def_amount_of_people := 10 ;
28118: LD_ADDR_EXP 11
28122: PUSH
28123: LD_INT 10
28125: ST_TO_ADDR
// def_initial_level := 3 ;
28126: LD_ADDR_EXP 13
28130: PUSH
28131: LD_INT 3
28133: ST_TO_ADDR
// def_starting_resources := 3 ;
28134: LD_ADDR_EXP 15
28138: PUSH
28139: LD_INT 3
28141: ST_TO_ADDR
// def_shipments_density := 1 ;
28142: LD_ADDR_EXP 16
28146: PUSH
28147: LD_INT 1
28149: ST_TO_ADDR
// def_extra_oil_deposits := 1 ;
28150: LD_ADDR_EXP 17
28154: PUSH
28155: LD_INT 1
28157: ST_TO_ADDR
// def_extra_sib_deposits := 2 ;
28158: LD_ADDR_EXP 18
28162: PUSH
28163: LD_INT 2
28165: ST_TO_ADDR
// def_shared_vision := 1 ;
28166: LD_ADDR_EXP 19
28170: PUSH
28171: LD_INT 1
28173: ST_TO_ADDR
// def_morale_flags := 0 ;
28174: LD_ADDR_EXP 20
28178: PUSH
28179: LD_INT 0
28181: ST_TO_ADDR
// def_siberite_detection := 1 ;
28182: LD_ADDR_EXP 28
28186: PUSH
28187: LD_INT 1
28189: ST_TO_ADDR
// def_people_respawning := 0 ;
28190: LD_ADDR_EXP 25
28194: PUSH
28195: LD_INT 0
28197: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
28198: LD_ADDR_EXP 22
28202: PUSH
28203: LD_INT 1
28205: ST_TO_ADDR
// def_siberite_bomb := 0 ;
28206: LD_ADDR_EXP 29
28210: PUSH
28211: LD_INT 0
28213: ST_TO_ADDR
// def_builduptime := 3 ;
28214: LD_ADDR_EXP 30
28218: PUSH
28219: LD_INT 3
28221: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
28222: LD_ADDR_EXP 12
28226: PUSH
28227: LD_INT 0
28229: ST_TO_ADDR
// def_amount_of_tiger := 1 ;
28230: LD_ADDR_EXP 23
28234: PUSH
28235: LD_INT 1
28237: ST_TO_ADDR
// def_respawining_type := 3 ;
28238: LD_ADDR_EXP 24
28242: PUSH
28243: LD_INT 3
28245: ST_TO_ADDR
// def_tech_level := 8 ;
28246: LD_ADDR_EXP 26
28250: PUSH
28251: LD_INT 8
28253: ST_TO_ADDR
// def_upgrade_tl := 0 ;
28254: LD_ADDR_EXP 27
28258: PUSH
28259: LD_INT 0
28261: ST_TO_ADDR
// def_desert_warior := 0 ;
28262: LD_ADDR_EXP 31
28266: PUSH
28267: LD_INT 0
28269: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth ] ;
28270: LD_ADDR_VAR 0 2
28274: PUSH
28275: LD_INT 23
28277: PUSH
28278: EMPTY
28279: LIST
28280: ST_TO_ADDR
// Unavailable_Builds := [ b_Behemoth ] ;
28281: LD_ADDR_VAR 0 3
28285: PUSH
28286: LD_INT 37
28288: PUSH
28289: EMPTY
28290: LIST
28291: ST_TO_ADDR
// Banned_Weapons := [ ] ;
28292: LD_ADDR_LOC 24
28296: PUSH
28297: EMPTY
28298: ST_TO_ADDR
// Banned_Chassis := [ ] ;
28299: LD_ADDR_LOC 25
28303: PUSH
28304: EMPTY
28305: ST_TO_ADDR
// Banned_Controls := [ ] ;
28306: LD_ADDR_LOC 26
28310: PUSH
28311: EMPTY
28312: ST_TO_ADDR
// Banned_Engines := [ ] ;
28313: LD_ADDR_LOC 27
28317: PUSH
28318: EMPTY
28319: ST_TO_ADDR
// Restricted_Builds := [ [ b_Breastwork , b_Bunker , b_Turret ] ] ;
28320: LD_ADDR_LOC 22
28324: PUSH
28325: LD_INT 31
28327: PUSH
28328: LD_INT 32
28330: PUSH
28331: LD_INT 33
28333: PUSH
28334: EMPTY
28335: LIST
28336: LIST
28337: LIST
28338: PUSH
28339: EMPTY
28340: LIST
28341: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
28342: LD_EXP 1
28346: PUSH
28347: LD_EXP 3
28351: PUSH
28352: LD_EXP 4
28356: ADD
28357: IN
28358: IFFALSE 28373
// Restricted_Builds_Amount := [ 20 ] else
28360: LD_ADDR_LOC 23
28364: PUSH
28365: LD_INT 20
28367: PUSH
28368: EMPTY
28369: LIST
28370: ST_TO_ADDR
28371: GO 28384
// Restricted_Builds_Amount := [ 10 ] ;
28373: LD_ADDR_LOC 23
28377: PUSH
28378: LD_INT 10
28380: PUSH
28381: EMPTY
28382: LIST
28383: ST_TO_ADDR
// end ; 8 :
28384: GO 28878
28386: LD_INT 8
28388: DOUBLE
28389: EQUAL
28390: IFTRUE 28394
28392: GO 28877
28394: POP
// begin def_base_level := 0 ;
28395: LD_ADDR_EXP 10
28399: PUSH
28400: LD_INT 0
28402: ST_TO_ADDR
// def_amount_of_people := Rand ( 4 , 8 ) ;
28403: LD_ADDR_EXP 11
28407: PUSH
28408: LD_INT 4
28410: PPUSH
28411: LD_INT 8
28413: PPUSH
28414: CALL_OW 12
28418: ST_TO_ADDR
// def_initial_level := 0 ;
28419: LD_ADDR_EXP 13
28423: PUSH
28424: LD_INT 0
28426: ST_TO_ADDR
// def_starting_resources := 2 ;
28427: LD_ADDR_EXP 15
28431: PUSH
28432: LD_INT 2
28434: ST_TO_ADDR
// def_shipments_density := 1 ;
28435: LD_ADDR_EXP 16
28439: PUSH
28440: LD_INT 1
28442: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
28443: LD_ADDR_EXP 17
28447: PUSH
28448: LD_INT 0
28450: ST_TO_ADDR
// def_extra_sib_deposits := 0 ;
28451: LD_ADDR_EXP 18
28455: PUSH
28456: LD_INT 0
28458: ST_TO_ADDR
// def_shared_vision := 1 ;
28459: LD_ADDR_EXP 19
28463: PUSH
28464: LD_INT 1
28466: ST_TO_ADDR
// def_morale_flags := Rand ( 0 , 2 ) ;
28467: LD_ADDR_EXP 20
28471: PUSH
28472: LD_INT 0
28474: PPUSH
28475: LD_INT 2
28477: PPUSH
28478: CALL_OW 12
28482: ST_TO_ADDR
// def_siberite_detection := 0 ;
28483: LD_ADDR_EXP 28
28487: PUSH
28488: LD_INT 0
28490: ST_TO_ADDR
// def_people_respawning := 0 ;
28491: LD_ADDR_EXP 25
28495: PUSH
28496: LD_INT 0
28498: ST_TO_ADDR
// def_amount_of_apemen := 2 ;
28499: LD_ADDR_EXP 22
28503: PUSH
28504: LD_INT 2
28506: ST_TO_ADDR
// def_siberite_bomb := 0 ;
28507: LD_ADDR_EXP 29
28511: PUSH
28512: LD_INT 0
28514: ST_TO_ADDR
// def_builduptime := 0 ;
28515: LD_ADDR_EXP 30
28519: PUSH
28520: LD_INT 0
28522: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
28523: LD_ADDR_EXP 12
28527: PUSH
28528: LD_INT 0
28530: ST_TO_ADDR
// def_amount_of_tiger := 2 ;
28531: LD_ADDR_EXP 23
28535: PUSH
28536: LD_INT 2
28538: ST_TO_ADDR
// def_respawining_type := 3 ;
28539: LD_ADDR_EXP 24
28543: PUSH
28544: LD_INT 3
28546: ST_TO_ADDR
// def_tech_level := 8 ;
28547: LD_ADDR_EXP 26
28551: PUSH
28552: LD_INT 8
28554: ST_TO_ADDR
// def_upgrade_tl := 0 ;
28555: LD_ADDR_EXP 27
28559: PUSH
28560: LD_INT 0
28562: ST_TO_ADDR
// def_desert_warior := 0 ;
28563: LD_ADDR_EXP 31
28567: PUSH
28568: LD_INT 0
28570: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth , tech_SibDet , tech_Rocket , tech_OilEng , tech_OilPow , tech_Gun , tech_AdvRocket , tech_AdvMet , tech_Mortar , tech_Bazooka , tech_HidCam , tech_PartInvis ] ;
28571: LD_ADDR_VAR 0 2
28575: PUSH
28576: LD_INT 23
28578: PUSH
28579: LD_INT 20
28581: PUSH
28582: LD_INT 40
28584: PUSH
28585: LD_INT 47
28587: PUSH
28588: LD_INT 46
28590: PUSH
28591: LD_INT 39
28593: PUSH
28594: LD_INT 71
28596: PUSH
28597: LD_INT 34
28599: PUSH
28600: LD_INT 41
28602: PUSH
28603: LD_INT 44
28605: PUSH
28606: LD_INT 17
28608: PUSH
28609: LD_INT 16
28611: PUSH
28612: EMPTY
28613: LIST
28614: LIST
28615: LIST
28616: LIST
28617: LIST
28618: LIST
28619: LIST
28620: LIST
28621: LIST
28622: LIST
28623: LIST
28624: LIST
28625: ST_TO_ADDR
// Unavailable_Builds := [ b_Behemoth , b_Barracks , b_Lab_Biological , b_Teleport , b_Lab_Computer , b_Lab_Opto , b_Lab_Siberium , b_Lab_Spacetime , b_Oil_Mine , b_Siberite_Mine , b_Siberite_Power , b_Ext_Computer , b_Ext_Laser , b_Ext_Radar , b_Ext_Siberium , b_Ext_Radio , b_Control_Tower ] ;
28626: LD_ADDR_VAR 0 3
28630: PUSH
28631: LD_INT 37
28633: PUSH
28634: LD_INT 5
28636: PUSH
28637: LD_INT 13
28639: PUSH
28640: LD_INT 34
28642: PUSH
28643: LD_INT 12
28645: PUSH
28646: LD_INT 15
28648: PUSH
28649: LD_INT 11
28651: PUSH
28652: LD_INT 14
28654: PUSH
28655: LD_INT 29
28657: PUSH
28658: LD_INT 30
28660: PUSH
28661: LD_INT 28
28663: PUSH
28664: LD_INT 24
28666: PUSH
28667: LD_INT 25
28669: PUSH
28670: LD_INT 20
28672: PUSH
28673: LD_INT 21
28675: PUSH
28676: LD_INT 22
28678: PUSH
28679: LD_INT 36
28681: PUSH
28682: EMPTY
28683: LIST
28684: LIST
28685: LIST
28686: LIST
28687: LIST
28688: LIST
28689: LIST
28690: LIST
28691: LIST
28692: LIST
28693: LIST
28694: LIST
28695: LIST
28696: LIST
28697: LIST
28698: LIST
28699: LIST
28700: ST_TO_ADDR
// Banned_Weapons := [ ] ;
28701: LD_ADDR_LOC 24
28705: PUSH
28706: EMPTY
28707: ST_TO_ADDR
// Banned_Chassis := [ ar_half_tracked ] ;
28708: LD_ADDR_LOC 25
28712: PUSH
28713: LD_INT 14
28715: PUSH
28716: EMPTY
28717: LIST
28718: ST_TO_ADDR
// Banned_Controls := [ ] ;
28719: LD_ADDR_LOC 26
28723: PUSH
28724: EMPTY
28725: ST_TO_ADDR
// Banned_Engines := [ ] ;
28726: LD_ADDR_LOC 27
28730: PUSH
28731: EMPTY
28732: ST_TO_ADDR
// Restricted_Builds := [ [ b_Breastwork , b_Bunker ] , [ b_Armoury ] ] ;
28733: LD_ADDR_LOC 22
28737: PUSH
28738: LD_INT 31
28740: PUSH
28741: LD_INT 32
28743: PUSH
28744: EMPTY
28745: LIST
28746: LIST
28747: PUSH
28748: LD_INT 4
28750: PUSH
28751: EMPTY
28752: LIST
28753: PUSH
28754: EMPTY
28755: LIST
28756: LIST
28757: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
28758: LD_EXP 1
28762: PUSH
28763: LD_EXP 3
28767: PUSH
28768: LD_EXP 4
28772: ADD
28773: IN
28774: IFFALSE 28793
// Restricted_Builds_Amount := [ 4 , 2 ] else
28776: LD_ADDR_LOC 23
28780: PUSH
28781: LD_INT 4
28783: PUSH
28784: LD_INT 2
28786: PUSH
28787: EMPTY
28788: LIST
28789: LIST
28790: ST_TO_ADDR
28791: GO 28808
// Restricted_Builds_Amount := [ 2 , 1 ] ;
28793: LD_ADDR_LOC 23
28797: PUSH
28798: LD_INT 2
28800: PUSH
28801: LD_INT 1
28803: PUSH
28804: EMPTY
28805: LIST
28806: LIST
28807: ST_TO_ADDR
// for i := 1 to 8 do
28808: LD_ADDR_VAR 0 4
28812: PUSH
28813: DOUBLE
28814: LD_INT 1
28816: DEC
28817: ST_TO_ADDR
28818: LD_INT 8
28820: PUSH
28821: FOR_TO
28822: IFFALSE 28873
// if ( Side_Nations [ i ] = 3 ) then
28824: LD_EXP 75
28828: PUSH
28829: LD_VAR 0 4
28833: ARRAY
28834: PUSH
28835: LD_INT 3
28837: EQUAL
28838: IFFALSE 28871
// Side_Nations := Replace ( Side_Nations , i , Rand ( 1 , 2 ) ) ;
28840: LD_ADDR_EXP 75
28844: PUSH
28845: LD_EXP 75
28849: PPUSH
28850: LD_VAR 0 4
28854: PPUSH
28855: LD_INT 1
28857: PPUSH
28858: LD_INT 2
28860: PPUSH
28861: CALL_OW 12
28865: PPUSH
28866: CALL_OW 1
28870: ST_TO_ADDR
28871: GO 28821
28873: POP
28874: POP
// end ; end ;
28875: GO 28878
28877: POP
// for i := 1 to 8 do
28878: LD_ADDR_VAR 0 4
28882: PUSH
28883: DOUBLE
28884: LD_INT 1
28886: DEC
28887: ST_TO_ADDR
28888: LD_INT 8
28890: PUSH
28891: FOR_TO
28892: IFFALSE 28976
// if Side_Positions [ i ] then
28894: LD_EXP 74
28898: PUSH
28899: LD_VAR 0 4
28903: ARRAY
28904: IFFALSE 28974
// begin for j in Unavailable_Techs do
28906: LD_ADDR_VAR 0 5
28910: PUSH
28911: LD_VAR 0 2
28915: PUSH
28916: FOR_IN
28917: IFFALSE 28938
// SetTech ( j , i , 0 ) ;
28919: LD_VAR 0 5
28923: PPUSH
28924: LD_VAR 0 4
28928: PPUSH
28929: LD_INT 0
28931: PPUSH
28932: CALL_OW 322
28936: GO 28916
28938: POP
28939: POP
// for j in Unavailable_Builds do
28940: LD_ADDR_VAR 0 5
28944: PUSH
28945: LD_VAR 0 3
28949: PUSH
28950: FOR_IN
28951: IFFALSE 28972
// SetRestrict ( j , i , 0 ) ;
28953: LD_VAR 0 5
28957: PPUSH
28958: LD_VAR 0 4
28962: PPUSH
28963: LD_INT 0
28965: PPUSH
28966: CALL_OW 324
28970: GO 28950
28972: POP
28973: POP
// end ;
28974: GO 28891
28976: POP
28977: POP
// end ;
28978: LD_VAR 0 1
28982: RET
// export function InitLimits ; var i , j , k , amount , btype , list ; begin
28983: LD_INT 0
28985: PPUSH
28986: PPUSH
28987: PPUSH
28988: PPUSH
28989: PPUSH
28990: PPUSH
28991: PPUSH
// for i := 1 to Restricted_Builds do
28992: LD_ADDR_VAR 0 2
28996: PUSH
28997: DOUBLE
28998: LD_INT 1
29000: DEC
29001: ST_TO_ADDR
29002: LD_LOC 22
29006: PUSH
29007: FOR_TO
29008: IFFALSE 29318
// begin case Restricted_Builds [ i ] [ 1 ] of b_Breastwork , b_Bunker , b_Turret :
29010: LD_LOC 22
29014: PUSH
29015: LD_VAR 0 2
29019: ARRAY
29020: PUSH
29021: LD_INT 1
29023: ARRAY
29024: PUSH
29025: LD_INT 31
29027: DOUBLE
29028: EQUAL
29029: IFTRUE 29045
29031: LD_INT 32
29033: DOUBLE
29034: EQUAL
29035: IFTRUE 29045
29037: LD_INT 33
29039: DOUBLE
29040: EQUAL
29041: IFTRUE 29045
29043: GO 29056
29045: POP
// btype := #Turrets ; b_Armoury , b_Barracks :
29046: LD_ADDR_VAR 0 6
29050: PUSH
29051: LD_STRING #Turrets
29053: ST_TO_ADDR
29054: GO 29101
29056: LD_INT 4
29058: DOUBLE
29059: EQUAL
29060: IFTRUE 29070
29062: LD_INT 5
29064: DOUBLE
29065: EQUAL
29066: IFTRUE 29070
29068: GO 29081
29070: POP
// btype := #Armouries ; b_Behemoth :
29071: LD_ADDR_VAR 0 6
29075: PUSH
29076: LD_STRING #Armouries
29078: ST_TO_ADDR
29079: GO 29101
29081: LD_INT 37
29083: DOUBLE
29084: EQUAL
29085: IFTRUE 29089
29087: GO 29100
29089: POP
// btype := #Behemoths ; end ;
29090: LD_ADDR_VAR 0 6
29094: PUSH
29095: LD_STRING #Behemoths
29097: ST_TO_ADDR
29098: GO 29101
29100: POP
// list := [ ] ;
29101: LD_ADDR_VAR 0 7
29105: PUSH
29106: EMPTY
29107: ST_TO_ADDR
// for j := 1 to 8 do
29108: LD_ADDR_VAR 0 3
29112: PUSH
29113: DOUBLE
29114: LD_INT 1
29116: DEC
29117: ST_TO_ADDR
29118: LD_INT 8
29120: PUSH
29121: FOR_TO
29122: IFFALSE 29215
// if Side_Positions [ j ] then
29124: LD_EXP 74
29128: PUSH
29129: LD_VAR 0 3
29133: ARRAY
29134: IFFALSE 29213
// begin amount := 0 ;
29136: LD_ADDR_VAR 0 5
29140: PUSH
29141: LD_INT 0
29143: ST_TO_ADDR
// for k in Restricted_Builds [ i ] do
29144: LD_ADDR_VAR 0 4
29148: PUSH
29149: LD_LOC 22
29153: PUSH
29154: LD_VAR 0 2
29158: ARRAY
29159: PUSH
29160: FOR_IN
29161: IFFALSE 29209
// amount := amount + FilterAllUnits ( [ [ f_side , j ] , [ f_btype , k ] ] ) ;
29163: LD_ADDR_VAR 0 5
29167: PUSH
29168: LD_VAR 0 5
29172: PUSH
29173: LD_INT 22
29175: PUSH
29176: LD_VAR 0 3
29180: PUSH
29181: EMPTY
29182: LIST
29183: LIST
29184: PUSH
29185: LD_INT 30
29187: PUSH
29188: LD_VAR 0 4
29192: PUSH
29193: EMPTY
29194: LIST
29195: LIST
29196: PUSH
29197: EMPTY
29198: LIST
29199: LIST
29200: PPUSH
29201: CALL_OW 69
29205: PLUS
29206: ST_TO_ADDR
29207: GO 29160
29209: POP
29210: POP
// continue ;
29211: GO 29121
// end ;
29213: GO 29121
29215: POP
29216: POP
// list := [ ] ;
29217: LD_ADDR_VAR 0 7
29221: PUSH
29222: EMPTY
29223: ST_TO_ADDR
// for j := 1 to 8 do
29224: LD_ADDR_VAR 0 3
29228: PUSH
29229: DOUBLE
29230: LD_INT 1
29232: DEC
29233: ST_TO_ADDR
29234: LD_INT 8
29236: PUSH
29237: FOR_TO
29238: IFFALSE 29258
// list := list ^ amount ;
29240: LD_ADDR_VAR 0 7
29244: PUSH
29245: LD_VAR 0 7
29249: PUSH
29250: LD_VAR 0 5
29254: ADD
29255: ST_TO_ADDR
29256: GO 29237
29258: POP
29259: POP
// Already_Built := Already_Built ^ [ list ] ;
29260: LD_ADDR_LOC 28
29264: PUSH
29265: LD_LOC 28
29269: PUSH
29270: LD_VAR 0 7
29274: PUSH
29275: EMPTY
29276: LIST
29277: ADD
29278: ST_TO_ADDR
// Limits_Info := Limits_Info ^ [ btype , amount , Restricted_Builds_Amount [ i ] ] ;
29279: LD_ADDR_LOC 29
29283: PUSH
29284: LD_LOC 29
29288: PUSH
29289: LD_VAR 0 6
29293: PUSH
29294: LD_VAR 0 5
29298: PUSH
29299: LD_LOC 23
29303: PUSH
29304: LD_VAR 0 2
29308: ARRAY
29309: PUSH
29310: EMPTY
29311: LIST
29312: LIST
29313: LIST
29314: ADD
29315: ST_TO_ADDR
// end ;
29316: GO 29007
29318: POP
29319: POP
// Cheaters := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
29320: LD_ADDR_LOC 30
29324: PUSH
29325: LD_INT 0
29327: PUSH
29328: LD_INT 0
29330: PUSH
29331: LD_INT 0
29333: PUSH
29334: LD_INT 0
29336: PUSH
29337: LD_INT 0
29339: PUSH
29340: LD_INT 0
29342: PUSH
29343: LD_INT 0
29345: PUSH
29346: LD_INT 0
29348: PUSH
29349: EMPTY
29350: LIST
29351: LIST
29352: LIST
29353: LIST
29354: LIST
29355: LIST
29356: LIST
29357: LIST
29358: ST_TO_ADDR
// if Limits_Info then
29359: LD_LOC 29
29363: IFFALSE 29379
// Limits_Info := #Limits ^ Limits_Info ;
29365: LD_ADDR_LOC 29
29369: PUSH
29370: LD_STRING #Limits
29372: PUSH
29373: LD_LOC 29
29377: ADD
29378: ST_TO_ADDR
// end ;
29379: LD_VAR 0 1
29383: RET
// export function ExecuteLimits ( un , BType , side , old_side , count ) ; var i , j , Is_Cheater ; begin
29384: LD_INT 0
29386: PPUSH
29387: PPUSH
29388: PPUSH
29389: PPUSH
// for i := 1 to Restricted_Builds do
29390: LD_ADDR_VAR 0 7
29394: PUSH
29395: DOUBLE
29396: LD_INT 1
29398: DEC
29399: ST_TO_ADDR
29400: LD_LOC 22
29404: PUSH
29405: FOR_TO
29406: IFFALSE 29829
// if BType in Restricted_Builds [ i ] then
29408: LD_VAR 0 2
29412: PUSH
29413: LD_LOC 22
29417: PUSH
29418: LD_VAR 0 7
29422: ARRAY
29423: IN
29424: IFFALSE 29827
// begin if old_side then
29426: LD_VAR 0 4
29430: IFFALSE 29556
// if Already_Built [ i ] [ side ] + count > Restricted_Builds_Amount [ i ] then
29432: LD_LOC 28
29436: PUSH
29437: LD_VAR 0 7
29441: ARRAY
29442: PUSH
29443: LD_VAR 0 3
29447: ARRAY
29448: PUSH
29449: LD_VAR 0 5
29453: PLUS
29454: PUSH
29455: LD_LOC 23
29459: PUSH
29460: LD_VAR 0 7
29464: ARRAY
29465: GREATER
29466: IFFALSE 29492
// begin SetSide ( un , old_side ) ;
29468: LD_VAR 0 1
29472: PPUSH
29473: LD_VAR 0 4
29477: PPUSH
29478: CALL_OW 235
// count := 0 ;
29482: LD_ADDR_VAR 0 5
29486: PUSH
29487: LD_INT 0
29489: ST_TO_ADDR
// end else
29490: GO 29556
// Already_Built := Replace ( Already_Built , i , Replace ( Already_Built [ i ] , old_side , Already_Built [ i ] [ old_side ] - count ) ) ;
29492: LD_ADDR_LOC 28
29496: PUSH
29497: LD_LOC 28
29501: PPUSH
29502: LD_VAR 0 7
29506: PPUSH
29507: LD_LOC 28
29511: PUSH
29512: LD_VAR 0 7
29516: ARRAY
29517: PPUSH
29518: LD_VAR 0 4
29522: PPUSH
29523: LD_LOC 28
29527: PUSH
29528: LD_VAR 0 7
29532: ARRAY
29533: PUSH
29534: LD_VAR 0 4
29538: ARRAY
29539: PUSH
29540: LD_VAR 0 5
29544: MINUS
29545: PPUSH
29546: CALL_OW 1
29550: PPUSH
29551: CALL_OW 1
29555: ST_TO_ADDR
// Already_Built := Replace ( Already_Built , i , Replace ( Already_Built [ i ] , side , Already_Built [ i ] [ side ] + count ) ) ;
29556: LD_ADDR_LOC 28
29560: PUSH
29561: LD_LOC 28
29565: PPUSH
29566: LD_VAR 0 7
29570: PPUSH
29571: LD_LOC 28
29575: PUSH
29576: LD_VAR 0 7
29580: ARRAY
29581: PPUSH
29582: LD_VAR 0 3
29586: PPUSH
29587: LD_LOC 28
29591: PUSH
29592: LD_VAR 0 7
29596: ARRAY
29597: PUSH
29598: LD_VAR 0 3
29602: ARRAY
29603: PUSH
29604: LD_VAR 0 5
29608: PLUS
29609: PPUSH
29610: CALL_OW 1
29614: PPUSH
29615: CALL_OW 1
29619: ST_TO_ADDR
// if count <> 0 and ( side = mp_player_side ) then
29620: LD_VAR 0 5
29624: PUSH
29625: LD_INT 0
29627: NONEQUAL
29628: PUSH
29629: LD_VAR 0 3
29633: PUSH
29634: LD_OWVAR 7
29638: EQUAL
29639: AND
29640: IFFALSE 29683
// Limits_Info := Replace ( Limits_Info , 3 * i , Already_Built [ i ] [ side ] ) ;
29642: LD_ADDR_LOC 29
29646: PUSH
29647: LD_LOC 29
29651: PPUSH
29652: LD_INT 3
29654: PUSH
29655: LD_VAR 0 7
29659: MUL
29660: PPUSH
29661: LD_LOC 28
29665: PUSH
29666: LD_VAR 0 7
29670: ARRAY
29671: PUSH
29672: LD_VAR 0 3
29676: ARRAY
29677: PPUSH
29678: CALL_OW 1
29682: ST_TO_ADDR
// if Already_Built [ i ] [ side ] > Restricted_Builds_Amount [ i ] then
29683: LD_LOC 28
29687: PUSH
29688: LD_VAR 0 7
29692: ARRAY
29693: PUSH
29694: LD_VAR 0 3
29698: ARRAY
29699: PUSH
29700: LD_LOC 23
29704: PUSH
29705: LD_VAR 0 7
29709: ARRAY
29710: GREATER
29711: IFFALSE 29738
// begin Cheaters := Replace ( Cheaters , side , 1 ) ;
29713: LD_ADDR_LOC 30
29717: PUSH
29718: LD_LOC 30
29722: PPUSH
29723: LD_VAR 0 3
29727: PPUSH
29728: LD_INT 1
29730: PPUSH
29731: CALL_OW 1
29735: ST_TO_ADDR
// end else
29736: GO 29825
// begin for j := 1 to Restricted_Builds do
29738: LD_ADDR_VAR 0 8
29742: PUSH
29743: DOUBLE
29744: LD_INT 1
29746: DEC
29747: ST_TO_ADDR
29748: LD_LOC 22
29752: PUSH
29753: FOR_TO
29754: IFFALSE 29798
// if Already_Built [ j ] [ side ] > Restricted_Builds_Amount [ j ] then
29756: LD_LOC 28
29760: PUSH
29761: LD_VAR 0 8
29765: ARRAY
29766: PUSH
29767: LD_VAR 0 3
29771: ARRAY
29772: PUSH
29773: LD_LOC 23
29777: PUSH
29778: LD_VAR 0 8
29782: ARRAY
29783: GREATER
29784: IFFALSE 29796
// begin Is_Cheater := true ;
29786: LD_ADDR_VAR 0 9
29790: PUSH
29791: LD_INT 1
29793: ST_TO_ADDR
// break ;
29794: GO 29798
// end ;
29796: GO 29753
29798: POP
29799: POP
// Cheaters := Replace ( Cheaters , side , Is_Cheater ) ;
29800: LD_ADDR_LOC 30
29804: PUSH
29805: LD_LOC 30
29809: PPUSH
29810: LD_VAR 0 3
29814: PPUSH
29815: LD_VAR 0 9
29819: PPUSH
29820: CALL_OW 1
29824: ST_TO_ADDR
// end ; break ;
29825: GO 29829
// end ;
29827: GO 29405
29829: POP
29830: POP
// end ;
29831: LD_VAR 0 6
29835: RET
// export function RestrictVehicleConstructionStarted ( factory , chassis , engine , control , weapon ) ; begin
29836: LD_INT 0
29838: PPUSH
// if ( weapon in Banned_Weapons ) or ( chassis in Banned_Chassis ) or ( control in Banned_Controls ) or ( engine in Banned_Engines ) then
29839: LD_VAR 0 5
29843: PUSH
29844: LD_LOC 24
29848: IN
29849: PUSH
29850: LD_VAR 0 2
29854: PUSH
29855: LD_LOC 25
29859: IN
29860: OR
29861: PUSH
29862: LD_VAR 0 4
29866: PUSH
29867: LD_LOC 26
29871: IN
29872: OR
29873: PUSH
29874: LD_VAR 0 3
29878: PUSH
29879: LD_LOC 27
29883: IN
29884: OR
29885: IFFALSE 29896
// ComCancel ( factory ) ;
29887: LD_VAR 0 1
29891: PPUSH
29892: CALL_OW 127
// end ;
29896: LD_VAR 0 6
29900: RET
// export function RestrictWeaponPlaced ( building , weapon ) ; begin
29901: LD_INT 0
29903: PPUSH
// if ( weapon in Banned_Weapons ) then
29904: LD_VAR 0 2
29908: PUSH
29909: LD_LOC 24
29913: IN
29914: IFFALSE 29925
// ComCancel ( building ) ;
29916: LD_VAR 0 1
29920: PPUSH
29921: CALL_OW 127
// end ;
29925: LD_VAR 0 3
29929: RET
// export function RestrictBuildingStarted ( building , builder ) ; var i , BType , b , side , count , k ; begin
29930: LD_INT 0
29932: PPUSH
29933: PPUSH
29934: PPUSH
29935: PPUSH
29936: PPUSH
29937: PPUSH
29938: PPUSH
// count = 0 ;
29939: LD_ADDR_VAR 0 8
29943: PUSH
29944: LD_INT 0
29946: ST_TO_ADDR
// BType = GetBType ( Building ) ;
29947: LD_ADDR_VAR 0 5
29951: PUSH
29952: LD_VAR 0 1
29956: PPUSH
29957: CALL_OW 266
29961: ST_TO_ADDR
// side = GetSide ( Building ) ;
29962: LD_ADDR_VAR 0 7
29966: PUSH
29967: LD_VAR 0 1
29971: PPUSH
29972: CALL_OW 255
29976: ST_TO_ADDR
// for i := 1 to Restricted_Builds do
29977: LD_ADDR_VAR 0 4
29981: PUSH
29982: DOUBLE
29983: LD_INT 1
29985: DEC
29986: ST_TO_ADDR
29987: LD_LOC 22
29991: PUSH
29992: FOR_TO
29993: IFFALSE 30136
// begin if BType in Restricted_Builds [ i ] then
29995: LD_VAR 0 5
29999: PUSH
30000: LD_LOC 22
30004: PUSH
30005: LD_VAR 0 4
30009: ARRAY
30010: IN
30011: IFFALSE 30103
// for k in Restricted_Builds [ i ] do
30013: LD_ADDR_VAR 0 9
30017: PUSH
30018: LD_LOC 22
30022: PUSH
30023: LD_VAR 0 4
30027: ARRAY
30028: PUSH
30029: FOR_IN
30030: IFFALSE 30101
// begin b = FilterAllunits ( [ [ f_side , side ] , [ f_type , building ] , [ f_btype , k ] ] ) ;
30032: LD_ADDR_VAR 0 6
30036: PUSH
30037: LD_INT 22
30039: PUSH
30040: LD_VAR 0 7
30044: PUSH
30045: EMPTY
30046: LIST
30047: LIST
30048: PUSH
30049: LD_INT 21
30051: PUSH
30052: LD_VAR 0 1
30056: PUSH
30057: EMPTY
30058: LIST
30059: LIST
30060: PUSH
30061: LD_INT 30
30063: PUSH
30064: LD_VAR 0 9
30068: PUSH
30069: EMPTY
30070: LIST
30071: LIST
30072: PUSH
30073: EMPTY
30074: LIST
30075: LIST
30076: LIST
30077: PPUSH
30078: CALL_OW 69
30082: ST_TO_ADDR
// count = count + b ;
30083: LD_ADDR_VAR 0 8
30087: PUSH
30088: LD_VAR 0 8
30092: PUSH
30093: LD_VAR 0 6
30097: PLUS
30098: ST_TO_ADDR
// end ;
30099: GO 30029
30101: POP
30102: POP
// if count + 0 > Restricted_Builds_Amount [ i ] then
30103: LD_VAR 0 8
30107: PUSH
30108: LD_INT 0
30110: PLUS
30111: PUSH
30112: LD_LOC 23
30116: PUSH
30117: LD_VAR 0 4
30121: ARRAY
30122: GREATER
30123: IFFALSE 30134
// DestroyUnit ( building ) ;
30125: LD_VAR 0 1
30129: PPUSH
30130: CALL_OW 65
// end ;
30134: GO 29992
30136: POP
30137: POP
// end ;
30138: LD_VAR 0 3
30142: RET
// export function CallExecuteLimits ( j ) ; begin
30143: LD_INT 0
30145: PPUSH
// if ( GetType ( j ) = 3 ) then
30146: LD_VAR 0 1
30150: PPUSH
30151: CALL_OW 247
30155: PUSH
30156: LD_INT 3
30158: EQUAL
30159: IFFALSE 30199
// ExecuteLimits ( j , GetBType ( j ) , GetSide ( j ) , 0 , - 1 ) else
30161: LD_VAR 0 1
30165: PPUSH
30166: LD_VAR 0 1
30170: PPUSH
30171: CALL_OW 266
30175: PPUSH
30176: LD_VAR 0 1
30180: PPUSH
30181: CALL_OW 255
30185: PPUSH
30186: LD_INT 0
30188: PPUSH
30189: LD_INT 1
30191: NEG
30192: PPUSH
30193: CALL 29384 0 5
30197: GO 30243
// if ( GetChassis ( j ) = 25 ) then
30199: LD_VAR 0 1
30203: PPUSH
30204: CALL_OW 265
30208: PUSH
30209: LD_INT 25
30211: EQUAL
30212: IFFALSE 30243
// ExecuteLimits ( j , b_behemoth , GetSide ( j ) , 0 , - 1 ) ;
30214: LD_VAR 0 1
30218: PPUSH
30219: LD_INT 37
30221: PPUSH
30222: LD_VAR 0 1
30226: PPUSH
30227: CALL_OW 255
30231: PPUSH
30232: LD_INT 0
30234: PPUSH
30235: LD_INT 1
30237: NEG
30238: PPUSH
30239: CALL 29384 0 5
// end ; end_of_file
30243: LD_VAR 0 2
30247: RET
// var FLAGY ; export FLAGY_AREA ; export FLAGY_XY ; export FLAGY_AREA1 ; var teams_p ; var WFT_Goal ; export WFT_Points_MP ; var WFT_FlagOnTop ; var WFT_FlagHeight ; export function Init_WarForTerritory ; var flag , i , p ; begin
30248: LD_INT 0
30250: PPUSH
30251: PPUSH
30252: PPUSH
30253: PPUSH
// if not def_WarForTerritory then
30254: LD_EXP 36
30258: NOT
30259: IFFALSE 30263
// exit ;
30261: GO 30603
// FLAGY = [ ] ;
30263: LD_ADDR_LOC 31
30267: PUSH
30268: EMPTY
30269: ST_TO_ADDR
// WFT_FlagOnTop = [ ] ;
30270: LD_ADDR_LOC 34
30274: PUSH
30275: EMPTY
30276: ST_TO_ADDR
// WFT_FlagHeight = [ ] ;
30277: LD_ADDR_LOC 35
30281: PUSH
30282: EMPTY
30283: ST_TO_ADDR
// teams_p = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
30284: LD_ADDR_LOC 32
30288: PUSH
30289: LD_INT 0
30291: PUSH
30292: LD_INT 0
30294: PUSH
30295: LD_INT 0
30297: PUSH
30298: LD_INT 0
30300: PUSH
30301: LD_INT 0
30303: PUSH
30304: LD_INT 0
30306: PUSH
30307: LD_INT 0
30309: PUSH
30310: LD_INT 0
30312: PUSH
30313: EMPTY
30314: LIST
30315: LIST
30316: LIST
30317: LIST
30318: LIST
30319: LIST
30320: LIST
30321: LIST
30322: ST_TO_ADDR
// for i = 1 to FLAGY_AREA do
30323: LD_ADDR_VAR 0 3
30327: PUSH
30328: DOUBLE
30329: LD_INT 1
30331: DEC
30332: ST_TO_ADDR
30333: LD_EXP 118
30337: PUSH
30338: FOR_TO
30339: IFFALSE 30432
// begin flag = SetBattleFlag ( 0 , FLAGY_XY [ i ] [ 1 ] , FLAGY_XY [ i ] [ 2 ] , [ ] ) ;
30341: LD_ADDR_VAR 0 2
30345: PUSH
30346: LD_INT 0
30348: PPUSH
30349: LD_EXP 119
30353: PUSH
30354: LD_VAR 0 3
30358: ARRAY
30359: PUSH
30360: LD_INT 1
30362: ARRAY
30363: PPUSH
30364: LD_EXP 119
30368: PUSH
30369: LD_VAR 0 3
30373: ARRAY
30374: PUSH
30375: LD_INT 2
30377: ARRAY
30378: PPUSH
30379: EMPTY
30380: PPUSH
30381: CALL_OW 418
30385: ST_TO_ADDR
// FLAGY = FLAGY ^ flag ;
30386: LD_ADDR_LOC 31
30390: PUSH
30391: LD_LOC 31
30395: PUSH
30396: LD_VAR 0 2
30400: ADD
30401: ST_TO_ADDR
// WFT_FlagOnTop = WFT_FlagOnTop ^ true ;
30402: LD_ADDR_LOC 34
30406: PUSH
30407: LD_LOC 34
30411: PUSH
30412: LD_INT 1
30414: ADD
30415: ST_TO_ADDR
// WFT_FlagHeight = WFT_FlagHeight ^ 100 ;
30416: LD_ADDR_LOC 35
30420: PUSH
30421: LD_LOC 35
30425: PUSH
30426: LD_INT 100
30428: ADD
30429: ST_TO_ADDR
// end ;
30430: GO 30338
30432: POP
30433: POP
// if WarForTerritory_Flags then
30434: LD_EXP 65
30438: IFFALSE 30452
// WFT_Goal = WarForTerritory_Flags else
30440: LD_ADDR_LOC 33
30444: PUSH
30445: LD_EXP 65
30449: ST_TO_ADDR
30450: GO 30462
// WFT_Goal = WarForTerritory_Points ;
30452: LD_ADDR_LOC 33
30456: PUSH
30457: LD_EXP 64
30461: ST_TO_ADDR
// for i = 1 to flagy_area do
30462: LD_ADDR_VAR 0 3
30466: PUSH
30467: DOUBLE
30468: LD_INT 1
30470: DEC
30471: ST_TO_ADDR
30472: LD_EXP 118
30476: PUSH
30477: FOR_TO
30478: IFFALSE 30580
// begin SetAreaMapShow ( flagy_area [ i ] , 1 ) ;
30480: LD_EXP 118
30484: PUSH
30485: LD_VAR 0 3
30489: ARRAY
30490: PPUSH
30491: LD_INT 1
30493: PPUSH
30494: CALL_OW 424
// SetAreaMapShow ( flagy_area1 [ i ] , 5 ) ;
30498: LD_EXP 120
30502: PUSH
30503: LD_VAR 0 3
30507: ARRAY
30508: PPUSH
30509: LD_INT 5
30511: PPUSH
30512: CALL_OW 424
// for p = 1 to 8 do
30516: LD_ADDR_VAR 0 4
30520: PUSH
30521: DOUBLE
30522: LD_INT 1
30524: DEC
30525: ST_TO_ADDR
30526: LD_INT 8
30528: PUSH
30529: FOR_TO
30530: IFFALSE 30576
// PlaceSeeing ( flagy_xy [ i ] [ 1 ] , flagy_xy [ i ] [ 2 ] , p , 1 ) ;
30532: LD_EXP 119
30536: PUSH
30537: LD_VAR 0 3
30541: ARRAY
30542: PUSH
30543: LD_INT 1
30545: ARRAY
30546: PPUSH
30547: LD_EXP 119
30551: PUSH
30552: LD_VAR 0 3
30556: ARRAY
30557: PUSH
30558: LD_INT 2
30560: ARRAY
30561: PPUSH
30562: LD_VAR 0 4
30566: PPUSH
30567: LD_INT 1
30569: PPUSH
30570: CALL_OW 330
30574: GO 30529
30576: POP
30577: POP
// end ;
30578: GO 30477
30580: POP
30581: POP
// if WFT_Points_MP < 1 then
30582: LD_EXP 121
30586: PUSH
30587: LD_INT 1
30589: LESS
30590: IFFALSE 30600
// WFT_Points_MP = 1 ;
30592: LD_ADDR_EXP 121
30596: PUSH
30597: LD_INT 1
30599: ST_TO_ADDR
// enable ( 60 ) ;
30600: LD_INT 60
30602: ENABLE_MARKED
// end ;
30603: LD_VAR 0 1
30607: RET
// every 0 0$1 marked 60 do var i , p , pom , pom1 ; var side , sideNumber , flagSide ;
30608: GO 30610
30610: DISABLE
30611: LD_INT 0
30613: PPUSH
30614: PPUSH
30615: PPUSH
30616: PPUSH
30617: PPUSH
30618: PPUSH
30619: PPUSH
// begin zkontroluj_body ;
30620: CALL 31919 0 0
// for i := 1 to flagy + 0 do
30624: LD_ADDR_VAR 0 1
30628: PUSH
30629: DOUBLE
30630: LD_INT 1
30632: DEC
30633: ST_TO_ADDR
30634: LD_LOC 31
30638: PUSH
30639: LD_INT 0
30641: PLUS
30642: PUSH
30643: FOR_TO
30644: IFFALSE 31396
// begin sideNumber = 0 ;
30646: LD_ADDR_VAR 0 6
30650: PUSH
30651: LD_INT 0
30653: ST_TO_ADDR
// for p = 1 to 8 do
30654: LD_ADDR_VAR 0 2
30658: PUSH
30659: DOUBLE
30660: LD_INT 1
30662: DEC
30663: ST_TO_ADDR
30664: LD_INT 8
30666: PUSH
30667: FOR_TO
30668: IFFALSE 30748
// begin pom = FilterUnitsInArea ( FLAGY_AREA1 [ i ] , [ f_side , p ] ) ;
30670: LD_ADDR_VAR 0 3
30674: PUSH
30675: LD_EXP 120
30679: PUSH
30680: LD_VAR 0 1
30684: ARRAY
30685: PPUSH
30686: LD_INT 22
30688: PUSH
30689: LD_VAR 0 2
30693: PUSH
30694: EMPTY
30695: LIST
30696: LIST
30697: PPUSH
30698: CALL_OW 70
30702: ST_TO_ADDR
// if pom > 0 then
30703: LD_VAR 0 3
30707: PUSH
30708: LD_INT 0
30710: GREATER
30711: IFFALSE 30746
// begin side = getSide ( pom [ 1 ] ) ;
30713: LD_ADDR_VAR 0 5
30717: PUSH
30718: LD_VAR 0 3
30722: PUSH
30723: LD_INT 1
30725: ARRAY
30726: PPUSH
30727: CALL_OW 255
30731: ST_TO_ADDR
// sideNumber = sideNumber + 1 ;
30732: LD_ADDR_VAR 0 6
30736: PUSH
30737: LD_VAR 0 6
30741: PUSH
30742: LD_INT 1
30744: PLUS
30745: ST_TO_ADDR
// end ; end ;
30746: GO 30667
30748: POP
30749: POP
// if sideNumber = 1 then
30750: LD_VAR 0 6
30754: PUSH
30755: LD_INT 1
30757: EQUAL
30758: IFFALSE 31035
// begin flagSide = getBattleFlagSide ( FLAGY [ i ] ) ;
30760: LD_ADDR_VAR 0 7
30764: PUSH
30765: LD_LOC 31
30769: PUSH
30770: LD_VAR 0 1
30774: ARRAY
30775: PPUSH
30776: CALL_OW 421
30780: ST_TO_ADDR
// if flagSide = side then
30781: LD_VAR 0 7
30785: PUSH
30786: LD_VAR 0 5
30790: EQUAL
30791: IFFALSE 30907
// begin if WFT_FlagHeight [ i ] < 100 then
30793: LD_LOC 35
30797: PUSH
30798: LD_VAR 0 1
30802: ARRAY
30803: PUSH
30804: LD_INT 100
30806: LESS
30807: IFFALSE 30882
// begin WFT_FlagHeight = replace ( WFT_FlagHeight , i , WFT_FlagHeight [ i ] + 10 ) ;
30809: LD_ADDR_LOC 35
30813: PUSH
30814: LD_LOC 35
30818: PPUSH
30819: LD_VAR 0 1
30823: PPUSH
30824: LD_LOC 35
30828: PUSH
30829: LD_VAR 0 1
30833: ARRAY
30834: PUSH
30835: LD_INT 10
30837: PLUS
30838: PPUSH
30839: CALL_OW 1
30843: ST_TO_ADDR
// ChangeBattleFlagOptions ( FLAGY [ i ] , [ [ bfo_height , WFT_FlagHeight [ i ] ] ] ) ;
30844: LD_LOC 31
30848: PUSH
30849: LD_VAR 0 1
30853: ARRAY
30854: PPUSH
30855: LD_INT 20
30857: PUSH
30858: LD_LOC 35
30862: PUSH
30863: LD_VAR 0 1
30867: ARRAY
30868: PUSH
30869: EMPTY
30870: LIST
30871: LIST
30872: PUSH
30873: EMPTY
30874: LIST
30875: PPUSH
30876: CALL_OW 423
// end else
30880: GO 30905
// WFT_FlagOnTop = replace ( WFT_FlagOnTop , i , true ) ;
30882: LD_ADDR_LOC 34
30886: PUSH
30887: LD_LOC 34
30891: PPUSH
30892: LD_VAR 0 1
30896: PPUSH
30897: LD_INT 1
30899: PPUSH
30900: CALL_OW 1
30904: ST_TO_ADDR
// end else
30905: GO 31033
// begin if WFT_FlagHeight [ i ] > 0 then
30907: LD_LOC 35
30911: PUSH
30912: LD_VAR 0 1
30916: ARRAY
30917: PUSH
30918: LD_INT 0
30920: GREATER
30921: IFFALSE 30996
// begin WFT_FlagHeight = replace ( WFT_FlagHeight , i , WFT_FlagHeight [ i ] - 10 ) ;
30923: LD_ADDR_LOC 35
30927: PUSH
30928: LD_LOC 35
30932: PPUSH
30933: LD_VAR 0 1
30937: PPUSH
30938: LD_LOC 35
30942: PUSH
30943: LD_VAR 0 1
30947: ARRAY
30948: PUSH
30949: LD_INT 10
30951: MINUS
30952: PPUSH
30953: CALL_OW 1
30957: ST_TO_ADDR
// ChangeBattleFlagOptions ( FLAGY [ i ] , [ [ bfo_height , WFT_FlagHeight [ i ] ] ] ) ;
30958: LD_LOC 31
30962: PUSH
30963: LD_VAR 0 1
30967: ARRAY
30968: PPUSH
30969: LD_INT 20
30971: PUSH
30972: LD_LOC 35
30976: PUSH
30977: LD_VAR 0 1
30981: ARRAY
30982: PUSH
30983: EMPTY
30984: LIST
30985: LIST
30986: PUSH
30987: EMPTY
30988: LIST
30989: PPUSH
30990: CALL_OW 423
// end else
30994: GO 31033
// begin zmen_vlajku ( i , side ) ;
30996: LD_VAR 0 1
31000: PPUSH
31001: LD_VAR 0 5
31005: PPUSH
31006: CALL 31402 0 2
// WFT_FlagOnTop = replace ( WFT_FlagOnTop , i , false ) ;
31010: LD_ADDR_LOC 34
31014: PUSH
31015: LD_LOC 34
31019: PPUSH
31020: LD_VAR 0 1
31024: PPUSH
31025: LD_INT 0
31027: PPUSH
31028: CALL_OW 1
31032: ST_TO_ADDR
// end ; end ; end else
31033: GO 31394
// if sideNumber = 0 then
31035: LD_VAR 0 6
31039: PUSH
31040: LD_INT 0
31042: EQUAL
31043: IFFALSE 31394
// begin if getBattleFlagSide ( FLAGY [ i ] ) <> 0 then
31045: LD_LOC 31
31049: PUSH
31050: LD_VAR 0 1
31054: ARRAY
31055: PPUSH
31056: CALL_OW 421
31060: PUSH
31061: LD_INT 0
31063: NONEQUAL
31064: IFFALSE 31271
// begin if WFT_FlagHeight [ i ] > 0 and WFT_FlagHeight [ i ] < 100 then
31066: LD_LOC 35
31070: PUSH
31071: LD_VAR 0 1
31075: ARRAY
31076: PUSH
31077: LD_INT 0
31079: GREATER
31080: PUSH
31081: LD_LOC 35
31085: PUSH
31086: LD_VAR 0 1
31090: ARRAY
31091: PUSH
31092: LD_INT 100
31094: LESS
31095: AND
31096: IFFALSE 31220
// begin if WFT_FlagOnTop [ i ] then
31098: LD_LOC 34
31102: PUSH
31103: LD_VAR 0 1
31107: ARRAY
31108: IFFALSE 31147
// WFT_FlagHeight = replace ( WFT_FlagHeight , i , WFT_FlagHeight [ i ] + 10 ) else
31110: LD_ADDR_LOC 35
31114: PUSH
31115: LD_LOC 35
31119: PPUSH
31120: LD_VAR 0 1
31124: PPUSH
31125: LD_LOC 35
31129: PUSH
31130: LD_VAR 0 1
31134: ARRAY
31135: PUSH
31136: LD_INT 10
31138: PLUS
31139: PPUSH
31140: CALL_OW 1
31144: ST_TO_ADDR
31145: GO 31182
// WFT_FlagHeight = replace ( WFT_FlagHeight , i , WFT_FlagHeight [ i ] - 10 ) ;
31147: LD_ADDR_LOC 35
31151: PUSH
31152: LD_LOC 35
31156: PPUSH
31157: LD_VAR 0 1
31161: PPUSH
31162: LD_LOC 35
31166: PUSH
31167: LD_VAR 0 1
31171: ARRAY
31172: PUSH
31173: LD_INT 10
31175: MINUS
31176: PPUSH
31177: CALL_OW 1
31181: ST_TO_ADDR
// ChangeBattleFlagOptions ( FLAGY [ i ] , [ [ bfo_height , WFT_FlagHeight [ i ] ] ] ) ;
31182: LD_LOC 31
31186: PUSH
31187: LD_VAR 0 1
31191: ARRAY
31192: PPUSH
31193: LD_INT 20
31195: PUSH
31196: LD_LOC 35
31200: PUSH
31201: LD_VAR 0 1
31205: ARRAY
31206: PUSH
31207: EMPTY
31208: LIST
31209: LIST
31210: PUSH
31211: EMPTY
31212: LIST
31213: PPUSH
31214: CALL_OW 423
// end else
31218: GO 31269
// if WFT_FlagHeight [ i ] = 0 and getBattleFlagSide ( FLAGY [ i ] ) <> 0 then
31220: LD_LOC 35
31224: PUSH
31225: LD_VAR 0 1
31229: ARRAY
31230: PUSH
31231: LD_INT 0
31233: EQUAL
31234: PUSH
31235: LD_LOC 31
31239: PUSH
31240: LD_VAR 0 1
31244: ARRAY
31245: PPUSH
31246: CALL_OW 421
31250: PUSH
31251: LD_INT 0
31253: NONEQUAL
31254: AND
31255: IFFALSE 31269
// zmen_vlajku ( i , 0 ) ;
31257: LD_VAR 0 1
31261: PPUSH
31262: LD_INT 0
31264: PPUSH
31265: CALL 31402 0 2
// end else
31269: GO 31394
// if WFT_FlagHeight [ i ] < 100 then
31271: LD_LOC 35
31275: PUSH
31276: LD_VAR 0 1
31280: ARRAY
31281: PUSH
31282: LD_INT 100
31284: LESS
31285: IFFALSE 31394
// begin if not WFT_FlagOnTop [ i ] then
31287: LD_LOC 34
31291: PUSH
31292: LD_VAR 0 1
31296: ARRAY
31297: NOT
31298: IFFALSE 31323
// WFT_FlagOnTop = replace ( WFT_FlagOnTop , i , true ) ;
31300: LD_ADDR_LOC 34
31304: PUSH
31305: LD_LOC 34
31309: PPUSH
31310: LD_VAR 0 1
31314: PPUSH
31315: LD_INT 1
31317: PPUSH
31318: CALL_OW 1
31322: ST_TO_ADDR
// WFT_FlagHeight = replace ( WFT_FlagHeight , i , WFT_FlagHeight [ i ] + 10 ) ;
31323: LD_ADDR_LOC 35
31327: PUSH
31328: LD_LOC 35
31332: PPUSH
31333: LD_VAR 0 1
31337: PPUSH
31338: LD_LOC 35
31342: PUSH
31343: LD_VAR 0 1
31347: ARRAY
31348: PUSH
31349: LD_INT 10
31351: PLUS
31352: PPUSH
31353: CALL_OW 1
31357: ST_TO_ADDR
// ChangeBattleFlagOptions ( FLAGY [ i ] , [ [ bfo_height , WFT_FlagHeight [ i ] ] ] ) ;
31358: LD_LOC 31
31362: PUSH
31363: LD_VAR 0 1
31367: ARRAY
31368: PPUSH
31369: LD_INT 20
31371: PUSH
31372: LD_LOC 35
31376: PUSH
31377: LD_VAR 0 1
31381: ARRAY
31382: PUSH
31383: EMPTY
31384: LIST
31385: LIST
31386: PUSH
31387: EMPTY
31388: LIST
31389: PPUSH
31390: CALL_OW 423
// end ; end ; end ;
31394: GO 30643
31396: POP
31397: POP
// enable ;
31398: ENABLE
// end ;
31399: PPOPN 7
31401: END
// function zmen_vlajku ( pozice , side ) ; var i ; begin
31402: LD_INT 0
31404: PPUSH
31405: PPUSH
// if FLAGY [ pozice ] and side >= 0 and side <= 8 then
31406: LD_LOC 31
31410: PUSH
31411: LD_VAR 0 1
31415: ARRAY
31416: PUSH
31417: LD_VAR 0 2
31421: PUSH
31422: LD_INT 0
31424: GREATEREQUAL
31425: AND
31426: PUSH
31427: LD_VAR 0 2
31431: PUSH
31432: LD_INT 8
31434: LESSEQUAL
31435: AND
31436: IFFALSE 31458
// changeBattleFlagSide ( FLAGY [ pozice ] , side ) ;
31438: LD_LOC 31
31442: PUSH
31443: LD_VAR 0 1
31447: ARRAY
31448: PPUSH
31449: LD_VAR 0 2
31453: PPUSH
31454: CALL_OW 422
// end ;
31458: LD_VAR 0 3
31462: RET
// export function vloz_na_pozici ( co , cislo , pozice ) ; var ii ; var pom ; begin
31463: LD_INT 0
31465: PPUSH
31466: PPUSH
31467: PPUSH
// pom = [ ] ;
31468: LD_ADDR_VAR 0 6
31472: PUSH
31473: EMPTY
31474: ST_TO_ADDR
// for ii := 1 to pozice do
31475: LD_ADDR_VAR 0 5
31479: PUSH
31480: DOUBLE
31481: LD_INT 1
31483: DEC
31484: ST_TO_ADDR
31485: LD_VAR 0 3
31489: PUSH
31490: FOR_TO
31491: IFFALSE 31547
// if ii <> cislo then
31493: LD_VAR 0 5
31497: PUSH
31498: LD_VAR 0 2
31502: NONEQUAL
31503: IFFALSE 31529
// pom = pom ^ pozice [ ii ] else
31505: LD_ADDR_VAR 0 6
31509: PUSH
31510: LD_VAR 0 6
31514: PUSH
31515: LD_VAR 0 3
31519: PUSH
31520: LD_VAR 0 5
31524: ARRAY
31525: ADD
31526: ST_TO_ADDR
31527: GO 31545
// pom = pom ^ co ;
31529: LD_ADDR_VAR 0 6
31533: PUSH
31534: LD_VAR 0 6
31538: PUSH
31539: LD_VAR 0 1
31543: ADD
31544: ST_TO_ADDR
31545: GO 31490
31547: POP
31548: POP
// result := pom ;
31549: LD_ADDR_VAR 0 4
31553: PUSH
31554: LD_VAR 0 6
31558: ST_TO_ADDR
// end ;
31559: LD_VAR 0 4
31563: RET
// function budovy_ok ( bud ) ; var a ; var i ; begin
31564: LD_INT 0
31566: PPUSH
31567: PPUSH
31568: PPUSH
// a = false ;
31569: LD_ADDR_VAR 0 3
31573: PUSH
31574: LD_INT 0
31576: ST_TO_ADDR
// for i in bud do
31577: LD_ADDR_VAR 0 4
31581: PUSH
31582: LD_VAR 0 1
31586: PUSH
31587: FOR_IN
31588: IFFALSE 31611
// if IsOK ( i ) then
31590: LD_VAR 0 4
31594: PPUSH
31595: CALL_OW 302
31599: IFFALSE 31609
// a = true ;
31601: LD_ADDR_VAR 0 3
31605: PUSH
31606: LD_INT 1
31608: ST_TO_ADDR
31609: GO 31587
31611: POP
31612: POP
// result := a ;
31613: LD_ADDR_VAR 0 2
31617: PUSH
31618: LD_VAR 0 3
31622: ST_TO_ADDR
// end ;
31623: LD_VAR 0 2
31627: RET
// every 0 0$3 marked 60 do var i , j ; var pom , goal , p ;
31628: GO 31630
31630: DISABLE
31631: LD_INT 0
31633: PPUSH
31634: PPUSH
31635: PPUSH
31636: PPUSH
31637: PPUSH
// begin if WarForTerritory_points then
31638: LD_EXP 64
31642: IFFALSE 31666
// goal = WFT_Goal * ( 3 * WFT_Points_MP ) else
31644: LD_ADDR_VAR 0 4
31648: PUSH
31649: LD_LOC 33
31653: PUSH
31654: LD_INT 3
31656: PUSH
31657: LD_EXP 121
31661: MUL
31662: MUL
31663: ST_TO_ADDR
31664: GO 31676
// goal = WFT_goal ;
31666: LD_ADDR_VAR 0 4
31670: PUSH
31671: LD_LOC 33
31675: ST_TO_ADDR
// for i := 1 to teams_p do
31676: LD_ADDR_VAR 0 1
31680: PUSH
31681: DOUBLE
31682: LD_INT 1
31684: DEC
31685: ST_TO_ADDR
31686: LD_LOC 32
31690: PUSH
31691: FOR_TO
31692: IFFALSE 31913
// if teams_p [ i ] >= Goal then
31694: LD_LOC 32
31698: PUSH
31699: LD_VAR 0 1
31703: ARRAY
31704: PUSH
31705: LD_VAR 0 4
31709: GREATEREQUAL
31710: IFFALSE 31911
// begin if not Team_Game then
31712: LD_EXP 79
31716: NOT
31717: IFFALSE 31741
// begin if i = mp_player_side then
31719: LD_VAR 0 1
31723: PUSH
31724: LD_OWVAR 7
31728: EQUAL
31729: IFFALSE 31736
// enable ( 401 ) else
31731: LD_INT 401
31733: ENABLE_MARKED
31734: GO 31739
// enable ( 400 ) ;
31736: LD_INT 400
31738: ENABLE_MARKED
// end else
31739: GO 31761
// if i = Player_Team then
31741: LD_VAR 0 1
31745: PUSH
31746: LD_EXP 70
31750: EQUAL
31751: IFFALSE 31758
// enable ( 401 ) else
31753: LD_INT 401
31755: ENABLE_MARKED
31756: GO 31761
// enable ( 400 ) ;
31758: LD_INT 400
31760: ENABLE_MARKED
// if WarForTerritory_points then
31761: LD_EXP 64
31765: IFFALSE 31839
// begin for p = 1 to side_positions do
31767: LD_ADDR_VAR 0 5
31771: PUSH
31772: DOUBLE
31773: LD_INT 1
31775: DEC
31776: ST_TO_ADDR
31777: LD_EXP 74
31781: PUSH
31782: FOR_TO
31783: IFFALSE 31835
// if Side_Positions [ p ] then
31785: LD_EXP 74
31789: PUSH
31790: LD_VAR 0 5
31794: ARRAY
31795: IFFALSE 31833
// SetSharedMultiScore ( p , GetTag ( p + 20 ) div ( 3 * WFT_points_MP ) , 3 ) ;
31797: LD_VAR 0 5
31801: PPUSH
31802: LD_VAR 0 5
31806: PUSH
31807: LD_INT 20
31809: PLUS
31810: PPUSH
31811: CALL_OW 110
31815: PUSH
31816: LD_INT 3
31818: PUSH
31819: LD_EXP 121
31823: MUL
31824: DIV
31825: PPUSH
31826: LD_INT 3
31828: PPUSH
31829: CALL 35322 0 3
31833: GO 31782
31835: POP
31836: POP
// end else
31837: GO 31903
// for p = 1 to side_positions do
31839: LD_ADDR_VAR 0 5
31843: PUSH
31844: DOUBLE
31845: LD_INT 1
31847: DEC
31848: ST_TO_ADDR
31849: LD_EXP 74
31853: PUSH
31854: FOR_TO
31855: IFFALSE 31901
// if Side_Positions [ p ] then
31857: LD_EXP 74
31861: PUSH
31862: LD_VAR 0 5
31866: ARRAY
31867: IFFALSE 31899
// SetSharedMultiScore ( p , GetTag ( i + 20 ) * 1000 , 3 ) ;
31869: LD_VAR 0 5
31873: PPUSH
31874: LD_VAR 0 1
31878: PUSH
31879: LD_INT 20
31881: PLUS
31882: PPUSH
31883: CALL_OW 110
31887: PUSH
31888: LD_INT 1000
31890: MUL
31891: PPUSH
31892: LD_INT 3
31894: PPUSH
31895: CALL 35322 0 3
31899: GO 31854
31901: POP
31902: POP
// MakeGameEnd ;
31903: CALL 14269 0 0
// exit ;
31907: POP
31908: POP
31909: GO 31916
// end ;
31911: GO 31691
31913: POP
31914: POP
// enable ;
31915: ENABLE
// end ;
31916: PPOPN 5
31918: END
// function zkontroluj_body ; var side , list , un , red , blue , yel , green , i , pom ; begin
31919: LD_INT 0
31921: PPUSH
31922: PPUSH
31923: PPUSH
31924: PPUSH
31925: PPUSH
31926: PPUSH
31927: PPUSH
31928: PPUSH
31929: PPUSH
31930: PPUSH
// list = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
31931: LD_ADDR_VAR 0 3
31935: PUSH
31936: LD_INT 0
31938: PUSH
31939: LD_INT 0
31941: PUSH
31942: LD_INT 0
31944: PUSH
31945: LD_INT 0
31947: PUSH
31948: LD_INT 0
31950: PUSH
31951: LD_INT 0
31953: PUSH
31954: LD_INT 0
31956: PUSH
31957: LD_INT 0
31959: PUSH
31960: EMPTY
31961: LIST
31962: LIST
31963: LIST
31964: LIST
31965: LIST
31966: LIST
31967: LIST
31968: LIST
31969: ST_TO_ADDR
// red = 0 ;
31970: LD_ADDR_VAR 0 5
31974: PUSH
31975: LD_INT 0
31977: ST_TO_ADDR
// blue = 0 ;
31978: LD_ADDR_VAR 0 6
31982: PUSH
31983: LD_INT 0
31985: ST_TO_ADDR
// yel = 0 ;
31986: LD_ADDR_VAR 0 7
31990: PUSH
31991: LD_INT 0
31993: ST_TO_ADDR
// green = 0 ;
31994: LD_ADDR_VAR 0 8
31998: PUSH
31999: LD_INT 0
32001: ST_TO_ADDR
// if WarForTerritory_flags then
32002: LD_EXP 65
32006: IFFALSE 32372
// begin for i = 1 to FLAGY + 0 do
32008: LD_ADDR_VAR 0 9
32012: PUSH
32013: DOUBLE
32014: LD_INT 1
32016: DEC
32017: ST_TO_ADDR
32018: LD_LOC 31
32022: PUSH
32023: LD_INT 0
32025: PLUS
32026: PUSH
32027: FOR_TO
32028: IFFALSE 32100
// if WFT_FlagOnTop [ i ] then
32030: LD_LOC 34
32034: PUSH
32035: LD_VAR 0 9
32039: ARRAY
32040: IFFALSE 32098
// begin pom = GetBattleFlagSide ( FLAGY [ i ] ) ;
32042: LD_ADDR_VAR 0 10
32046: PUSH
32047: LD_LOC 31
32051: PUSH
32052: LD_VAR 0 9
32056: ARRAY
32057: PPUSH
32058: CALL_OW 421
32062: ST_TO_ADDR
// list = vloz_na_pozici ( list [ pom ] + 1 , pom , list ) ;
32063: LD_ADDR_VAR 0 3
32067: PUSH
32068: LD_VAR 0 3
32072: PUSH
32073: LD_VAR 0 10
32077: ARRAY
32078: PUSH
32079: LD_INT 1
32081: PLUS
32082: PPUSH
32083: LD_VAR 0 10
32087: PPUSH
32088: LD_VAR 0 3
32092: PPUSH
32093: CALL 31463 0 3
32097: ST_TO_ADDR
// end ;
32098: GO 32027
32100: POP
32101: POP
// if not Team_Game then
32102: LD_EXP 79
32106: NOT
32107: IFFALSE 32121
// teams_p = list else
32109: LD_ADDR_LOC 32
32113: PUSH
32114: LD_VAR 0 3
32118: ST_TO_ADDR
32119: GO 32324
// begin for i in Teams [ 1 ] do
32121: LD_ADDR_VAR 0 9
32125: PUSH
32126: LD_EXP 72
32130: PUSH
32131: LD_INT 1
32133: ARRAY
32134: PUSH
32135: FOR_IN
32136: IFFALSE 32162
// red = red + list [ i ] ;
32138: LD_ADDR_VAR 0 5
32142: PUSH
32143: LD_VAR 0 5
32147: PUSH
32148: LD_VAR 0 3
32152: PUSH
32153: LD_VAR 0 9
32157: ARRAY
32158: PLUS
32159: ST_TO_ADDR
32160: GO 32135
32162: POP
32163: POP
// for i in Teams [ 2 ] do
32164: LD_ADDR_VAR 0 9
32168: PUSH
32169: LD_EXP 72
32173: PUSH
32174: LD_INT 2
32176: ARRAY
32177: PUSH
32178: FOR_IN
32179: IFFALSE 32205
// blue = blue + list [ i ] ;
32181: LD_ADDR_VAR 0 6
32185: PUSH
32186: LD_VAR 0 6
32190: PUSH
32191: LD_VAR 0 3
32195: PUSH
32196: LD_VAR 0 9
32200: ARRAY
32201: PLUS
32202: ST_TO_ADDR
32203: GO 32178
32205: POP
32206: POP
// for i in Teams [ 3 ] do
32207: LD_ADDR_VAR 0 9
32211: PUSH
32212: LD_EXP 72
32216: PUSH
32217: LD_INT 3
32219: ARRAY
32220: PUSH
32221: FOR_IN
32222: IFFALSE 32248
// yel = yel + list [ i ] ;
32224: LD_ADDR_VAR 0 7
32228: PUSH
32229: LD_VAR 0 7
32233: PUSH
32234: LD_VAR 0 3
32238: PUSH
32239: LD_VAR 0 9
32243: ARRAY
32244: PLUS
32245: ST_TO_ADDR
32246: GO 32221
32248: POP
32249: POP
// for i in Teams [ 4 ] do
32250: LD_ADDR_VAR 0 9
32254: PUSH
32255: LD_EXP 72
32259: PUSH
32260: LD_INT 4
32262: ARRAY
32263: PUSH
32264: FOR_IN
32265: IFFALSE 32291
// green = green + list [ i ] ;
32267: LD_ADDR_VAR 0 8
32271: PUSH
32272: LD_VAR 0 8
32276: PUSH
32277: LD_VAR 0 3
32281: PUSH
32282: LD_VAR 0 9
32286: ARRAY
32287: PLUS
32288: ST_TO_ADDR
32289: GO 32264
32291: POP
32292: POP
// teams_p = [ red , blue , yel , green ] ;
32293: LD_ADDR_LOC 32
32297: PUSH
32298: LD_VAR 0 5
32302: PUSH
32303: LD_VAR 0 6
32307: PUSH
32308: LD_VAR 0 7
32312: PUSH
32313: LD_VAR 0 8
32317: PUSH
32318: EMPTY
32319: LIST
32320: LIST
32321: LIST
32322: LIST
32323: ST_TO_ADDR
// end ; for i = 1 to list do
32324: LD_ADDR_VAR 0 9
32328: PUSH
32329: DOUBLE
32330: LD_INT 1
32332: DEC
32333: ST_TO_ADDR
32334: LD_VAR 0 3
32338: PUSH
32339: FOR_TO
32340: IFFALSE 32368
// SetTag ( i + 20 , list [ i ] ) ;
32342: LD_VAR 0 9
32346: PUSH
32347: LD_INT 20
32349: PLUS
32350: PPUSH
32351: LD_VAR 0 3
32355: PUSH
32356: LD_VAR 0 9
32360: ARRAY
32361: PPUSH
32362: CALL_OW 109
32366: GO 32339
32368: POP
32369: POP
// end else
32370: GO 32850
// if WarForTerritory_points then
32372: LD_EXP 64
32376: IFFALSE 32850
// begin for i = 1 to FLAGY + 0 do
32378: LD_ADDR_VAR 0 9
32382: PUSH
32383: DOUBLE
32384: LD_INT 1
32386: DEC
32387: ST_TO_ADDR
32388: LD_LOC 31
32392: PUSH
32393: LD_INT 0
32395: PLUS
32396: PUSH
32397: FOR_TO
32398: IFFALSE 32470
// if WFT_FlagOnTop [ i ] then
32400: LD_LOC 34
32404: PUSH
32405: LD_VAR 0 9
32409: ARRAY
32410: IFFALSE 32468
// begin pom = GetBattleFlagSide ( FLAGY [ i ] ) ;
32412: LD_ADDR_VAR 0 10
32416: PUSH
32417: LD_LOC 31
32421: PUSH
32422: LD_VAR 0 9
32426: ARRAY
32427: PPUSH
32428: CALL_OW 421
32432: ST_TO_ADDR
// list = vloz_na_pozici ( list [ pom ] + 1 , pom , list ) ;
32433: LD_ADDR_VAR 0 3
32437: PUSH
32438: LD_VAR 0 3
32442: PUSH
32443: LD_VAR 0 10
32447: ARRAY
32448: PUSH
32449: LD_INT 1
32451: PLUS
32452: PPUSH
32453: LD_VAR 0 10
32457: PPUSH
32458: LD_VAR 0 3
32462: PPUSH
32463: CALL 31463 0 3
32467: ST_TO_ADDR
// end ;
32468: GO 32397
32470: POP
32471: POP
// if not Team_Game then
32472: LD_EXP 79
32476: NOT
32477: IFFALSE 32546
// for i = 1 to side_positions do
32479: LD_ADDR_VAR 0 9
32483: PUSH
32484: DOUBLE
32485: LD_INT 1
32487: DEC
32488: ST_TO_ADDR
32489: LD_EXP 74
32493: PUSH
32494: FOR_TO
32495: IFFALSE 32542
// teams_p = vloz_na_pozici ( teams_p [ i ] + ( list [ i ] ) , i , teams_p ) else
32497: LD_ADDR_LOC 32
32501: PUSH
32502: LD_LOC 32
32506: PUSH
32507: LD_VAR 0 9
32511: ARRAY
32512: PUSH
32513: LD_VAR 0 3
32517: PUSH
32518: LD_VAR 0 9
32522: ARRAY
32523: PLUS
32524: PPUSH
32525: LD_VAR 0 9
32529: PPUSH
32530: LD_LOC 32
32534: PPUSH
32535: CALL 31463 0 3
32539: ST_TO_ADDR
32540: GO 32494
32542: POP
32543: POP
32544: GO 32789
// begin for i in Teams [ 1 ] do
32546: LD_ADDR_VAR 0 9
32550: PUSH
32551: LD_EXP 72
32555: PUSH
32556: LD_INT 1
32558: ARRAY
32559: PUSH
32560: FOR_IN
32561: IFFALSE 32587
// red = red + list [ i ] ;
32563: LD_ADDR_VAR 0 5
32567: PUSH
32568: LD_VAR 0 5
32572: PUSH
32573: LD_VAR 0 3
32577: PUSH
32578: LD_VAR 0 9
32582: ARRAY
32583: PLUS
32584: ST_TO_ADDR
32585: GO 32560
32587: POP
32588: POP
// for i in Teams [ 2 ] do
32589: LD_ADDR_VAR 0 9
32593: PUSH
32594: LD_EXP 72
32598: PUSH
32599: LD_INT 2
32601: ARRAY
32602: PUSH
32603: FOR_IN
32604: IFFALSE 32630
// blue = blue + list [ i ] ;
32606: LD_ADDR_VAR 0 6
32610: PUSH
32611: LD_VAR 0 6
32615: PUSH
32616: LD_VAR 0 3
32620: PUSH
32621: LD_VAR 0 9
32625: ARRAY
32626: PLUS
32627: ST_TO_ADDR
32628: GO 32603
32630: POP
32631: POP
// for i in Teams [ 3 ] do
32632: LD_ADDR_VAR 0 9
32636: PUSH
32637: LD_EXP 72
32641: PUSH
32642: LD_INT 3
32644: ARRAY
32645: PUSH
32646: FOR_IN
32647: IFFALSE 32673
// yel = yel + list [ i ] ;
32649: LD_ADDR_VAR 0 7
32653: PUSH
32654: LD_VAR 0 7
32658: PUSH
32659: LD_VAR 0 3
32663: PUSH
32664: LD_VAR 0 9
32668: ARRAY
32669: PLUS
32670: ST_TO_ADDR
32671: GO 32646
32673: POP
32674: POP
// for i in Teams [ 4 ] do
32675: LD_ADDR_VAR 0 9
32679: PUSH
32680: LD_EXP 72
32684: PUSH
32685: LD_INT 4
32687: ARRAY
32688: PUSH
32689: FOR_IN
32690: IFFALSE 32716
// green = green + list [ i ] ;
32692: LD_ADDR_VAR 0 8
32696: PUSH
32697: LD_VAR 0 8
32701: PUSH
32702: LD_VAR 0 3
32706: PUSH
32707: LD_VAR 0 9
32711: ARRAY
32712: PLUS
32713: ST_TO_ADDR
32714: GO 32689
32716: POP
32717: POP
// teams_p = [ teams_p [ 1 ] + red , teams_p [ 2 ] + blue , teams_p [ 3 ] + yel , teams_p [ 4 ] + green ] ;
32718: LD_ADDR_LOC 32
32722: PUSH
32723: LD_LOC 32
32727: PUSH
32728: LD_INT 1
32730: ARRAY
32731: PUSH
32732: LD_VAR 0 5
32736: PLUS
32737: PUSH
32738: LD_LOC 32
32742: PUSH
32743: LD_INT 2
32745: ARRAY
32746: PUSH
32747: LD_VAR 0 6
32751: PLUS
32752: PUSH
32753: LD_LOC 32
32757: PUSH
32758: LD_INT 3
32760: ARRAY
32761: PUSH
32762: LD_VAR 0 7
32766: PLUS
32767: PUSH
32768: LD_LOC 32
32772: PUSH
32773: LD_INT 4
32775: ARRAY
32776: PUSH
32777: LD_VAR 0 8
32781: PLUS
32782: PUSH
32783: EMPTY
32784: LIST
32785: LIST
32786: LIST
32787: LIST
32788: ST_TO_ADDR
// end ; for i = 1 to list do
32789: LD_ADDR_VAR 0 9
32793: PUSH
32794: DOUBLE
32795: LD_INT 1
32797: DEC
32798: ST_TO_ADDR
32799: LD_VAR 0 3
32803: PUSH
32804: FOR_TO
32805: IFFALSE 32848
// SetTag ( i + 20 , getTag ( i + 20 ) + list [ i ] ) ;
32807: LD_VAR 0 9
32811: PUSH
32812: LD_INT 20
32814: PLUS
32815: PPUSH
32816: LD_VAR 0 9
32820: PUSH
32821: LD_INT 20
32823: PLUS
32824: PPUSH
32825: CALL_OW 110
32829: PUSH
32830: LD_VAR 0 3
32834: PUSH
32835: LD_VAR 0 9
32839: ARRAY
32840: PLUS
32841: PPUSH
32842: CALL_OW 109
32846: GO 32804
32848: POP
32849: POP
// end ; if WarForTerritory_points then
32850: LD_EXP 64
32854: IFFALSE 32928
// begin for i = 1 to side_positions do
32856: LD_ADDR_VAR 0 9
32860: PUSH
32861: DOUBLE
32862: LD_INT 1
32864: DEC
32865: ST_TO_ADDR
32866: LD_EXP 74
32870: PUSH
32871: FOR_TO
32872: IFFALSE 32924
// if Side_Positions [ i ] then
32874: LD_EXP 74
32878: PUSH
32879: LD_VAR 0 9
32883: ARRAY
32884: IFFALSE 32922
// SetSharedMultiScore ( i , GetTag ( i + 20 ) div ( 3 * WFT_points_MP ) , 3 ) ;
32886: LD_VAR 0 9
32890: PPUSH
32891: LD_VAR 0 9
32895: PUSH
32896: LD_INT 20
32898: PLUS
32899: PPUSH
32900: CALL_OW 110
32904: PUSH
32905: LD_INT 3
32907: PUSH
32908: LD_EXP 121
32912: MUL
32913: DIV
32914: PPUSH
32915: LD_INT 3
32917: PPUSH
32918: CALL 35322 0 3
32922: GO 32871
32924: POP
32925: POP
// end else
32926: GO 32992
// for i = 1 to side_positions do
32928: LD_ADDR_VAR 0 9
32932: PUSH
32933: DOUBLE
32934: LD_INT 1
32936: DEC
32937: ST_TO_ADDR
32938: LD_EXP 74
32942: PUSH
32943: FOR_TO
32944: IFFALSE 32990
// if Side_Positions [ i ] then
32946: LD_EXP 74
32950: PUSH
32951: LD_VAR 0 9
32955: ARRAY
32956: IFFALSE 32988
// SetSharedMultiScore ( i , GetTag ( i + 20 ) * 1000 , 3 ) ;
32958: LD_VAR 0 9
32962: PPUSH
32963: LD_VAR 0 9
32967: PUSH
32968: LD_INT 20
32970: PLUS
32971: PPUSH
32972: CALL_OW 110
32976: PUSH
32977: LD_INT 1000
32979: MUL
32980: PPUSH
32981: LD_INT 3
32983: PPUSH
32984: CALL 35322 0 3
32988: GO 32943
32990: POP
32991: POP
// show_points ;
32992: CALL 33001 0 0
// end ;
32996: LD_VAR 0 1
33000: RET
// function show_points ; var side , vypis , i , red , blue , yel , green , s ; begin
33001: LD_INT 0
33003: PPUSH
33004: PPUSH
33005: PPUSH
33006: PPUSH
33007: PPUSH
33008: PPUSH
33009: PPUSH
33010: PPUSH
33011: PPUSH
// vypis := [ ] ;
33012: LD_ADDR_VAR 0 3
33016: PUSH
33017: EMPTY
33018: ST_TO_ADDR
// red = 0 ;
33019: LD_ADDR_VAR 0 5
33023: PUSH
33024: LD_INT 0
33026: ST_TO_ADDR
// blue = 0 ;
33027: LD_ADDR_VAR 0 6
33031: PUSH
33032: LD_INT 0
33034: ST_TO_ADDR
// yel = 0 ;
33035: LD_ADDR_VAR 0 7
33039: PUSH
33040: LD_INT 0
33042: ST_TO_ADDR
// green = 0 ;
33043: LD_ADDR_VAR 0 8
33047: PUSH
33048: LD_INT 0
33050: ST_TO_ADDR
// if WarForTerritory_flags then
33051: LD_EXP 65
33055: IFFALSE 33717
// begin if def_public_score or isSGUI then
33057: LD_EXP 34
33061: PUSH
33062: LD_OWVAR 83
33066: OR
33067: IFFALSE 33471
// begin if not Team_Game then
33069: LD_EXP 79
33073: NOT
33074: IFFALSE 33216
// begin s = [ ] ;
33076: LD_ADDR_VAR 0 9
33080: PUSH
33081: EMPTY
33082: ST_TO_ADDR
// for side = 1 to Side_Positions do
33083: LD_ADDR_VAR 0 2
33087: PUSH
33088: DOUBLE
33089: LD_INT 1
33091: DEC
33092: ST_TO_ADDR
33093: LD_EXP 74
33097: PUSH
33098: FOR_TO
33099: IFFALSE 33200
// if Side_Positions [ side ] then
33101: LD_EXP 74
33105: PUSH
33106: LD_VAR 0 2
33110: ARRAY
33111: IFFALSE 33184
// begin vypis := vypis ^ [ #WarForTerritory-Flags-Public , side , side , teams_p [ side ] , WFT_Goal ] ;
33113: LD_ADDR_VAR 0 3
33117: PUSH
33118: LD_VAR 0 3
33122: PUSH
33123: LD_STRING #WarForTerritory-Flags-Public
33125: PUSH
33126: LD_VAR 0 2
33130: PUSH
33131: LD_VAR 0 2
33135: PUSH
33136: LD_LOC 32
33140: PUSH
33141: LD_VAR 0 2
33145: ARRAY
33146: PUSH
33147: LD_LOC 33
33151: PUSH
33152: EMPTY
33153: LIST
33154: LIST
33155: LIST
33156: LIST
33157: LIST
33158: ADD
33159: ST_TO_ADDR
// s = s ^ teams_p [ side ] ;
33160: LD_ADDR_VAR 0 9
33164: PUSH
33165: LD_VAR 0 9
33169: PUSH
33170: LD_LOC 32
33174: PUSH
33175: LD_VAR 0 2
33179: ARRAY
33180: ADD
33181: ST_TO_ADDR
// end else
33182: GO 33198
// s = s ^ 0 ;
33184: LD_ADDR_VAR 0 9
33188: PUSH
33189: LD_VAR 0 9
33193: PUSH
33194: LD_INT 0
33196: ADD
33197: ST_TO_ADDR
33198: GO 33098
33200: POP
33201: POP
// LScore_Update_Peices ( 3 , s ) ;
33202: LD_INT 3
33204: PPUSH
33205: LD_VAR 0 9
33209: PPUSH
33210: CALL 36943 0 2
// end else
33214: GO 33469
// begin if Teams [ 1 ] then
33216: LD_EXP 72
33220: PUSH
33221: LD_INT 1
33223: ARRAY
33224: IFFALSE 33263
// vypis := vypis ^ [ #WarForTerritory-Flags-Public-red , 3 , teams_p [ 1 ] , WFT_Goal ] ;
33226: LD_ADDR_VAR 0 3
33230: PUSH
33231: LD_VAR 0 3
33235: PUSH
33236: LD_STRING #WarForTerritory-Flags-Public-red
33238: PUSH
33239: LD_INT 3
33241: PUSH
33242: LD_LOC 32
33246: PUSH
33247: LD_INT 1
33249: ARRAY
33250: PUSH
33251: LD_LOC 33
33255: PUSH
33256: EMPTY
33257: LIST
33258: LIST
33259: LIST
33260: LIST
33261: ADD
33262: ST_TO_ADDR
// if Teams [ 2 ] then
33263: LD_EXP 72
33267: PUSH
33268: LD_INT 2
33270: ARRAY
33271: IFFALSE 33310
// vypis := vypis ^ [ #WarForTerritory-Flags-Public-blue , 1 , teams_p [ 2 ] , WFT_Goal ] ;
33273: LD_ADDR_VAR 0 3
33277: PUSH
33278: LD_VAR 0 3
33282: PUSH
33283: LD_STRING #WarForTerritory-Flags-Public-blue
33285: PUSH
33286: LD_INT 1
33288: PUSH
33289: LD_LOC 32
33293: PUSH
33294: LD_INT 2
33296: ARRAY
33297: PUSH
33298: LD_LOC 33
33302: PUSH
33303: EMPTY
33304: LIST
33305: LIST
33306: LIST
33307: LIST
33308: ADD
33309: ST_TO_ADDR
// if Teams [ 3 ] then
33310: LD_EXP 72
33314: PUSH
33315: LD_INT 3
33317: ARRAY
33318: IFFALSE 33357
// vypis := vypis ^ [ #WarForTerritory-Flags-Public-yell , 2 , teams_p [ 3 ] , WFT_Goal ] ;
33320: LD_ADDR_VAR 0 3
33324: PUSH
33325: LD_VAR 0 3
33329: PUSH
33330: LD_STRING #WarForTerritory-Flags-Public-yell
33332: PUSH
33333: LD_INT 2
33335: PUSH
33336: LD_LOC 32
33340: PUSH
33341: LD_INT 3
33343: ARRAY
33344: PUSH
33345: LD_LOC 33
33349: PUSH
33350: EMPTY
33351: LIST
33352: LIST
33353: LIST
33354: LIST
33355: ADD
33356: ST_TO_ADDR
// if Teams [ 4 ] then
33357: LD_EXP 72
33361: PUSH
33362: LD_INT 4
33364: ARRAY
33365: IFFALSE 33404
// vypis := vypis ^ [ #WarForTerritory-Flags-Public-green , 7 , teams_p [ 4 ] , WFT_Goal ] ;
33367: LD_ADDR_VAR 0 3
33371: PUSH
33372: LD_VAR 0 3
33376: PUSH
33377: LD_STRING #WarForTerritory-Flags-Public-green
33379: PUSH
33380: LD_INT 7
33382: PUSH
33383: LD_LOC 32
33387: PUSH
33388: LD_INT 4
33390: ARRAY
33391: PUSH
33392: LD_LOC 33
33396: PUSH
33397: EMPTY
33398: LIST
33399: LIST
33400: LIST
33401: LIST
33402: ADD
33403: ST_TO_ADDR
// LScore_Update_Peices ( 3 , [ teams_p [ 2 ] , teams_p [ 3 ] , teams_p [ 1 ] , 0 , 0 , 0 , teams_p [ 4 ] , 0 ] ) ;
33404: LD_INT 3
33406: PPUSH
33407: LD_LOC 32
33411: PUSH
33412: LD_INT 2
33414: ARRAY
33415: PUSH
33416: LD_LOC 32
33420: PUSH
33421: LD_INT 3
33423: ARRAY
33424: PUSH
33425: LD_LOC 32
33429: PUSH
33430: LD_INT 1
33432: ARRAY
33433: PUSH
33434: LD_INT 0
33436: PUSH
33437: LD_INT 0
33439: PUSH
33440: LD_INT 0
33442: PUSH
33443: LD_LOC 32
33447: PUSH
33448: LD_INT 4
33450: ARRAY
33451: PUSH
33452: LD_INT 0
33454: PUSH
33455: EMPTY
33456: LIST
33457: LIST
33458: LIST
33459: LIST
33460: LIST
33461: LIST
33462: LIST
33463: LIST
33464: PPUSH
33465: CALL 36943 0 2
// end ; end else
33469: GO 33715
// begin if not Team_Game then
33471: LD_EXP 79
33475: NOT
33476: IFFALSE 33527
// begin vypis := vypis ^ [ #WarForTerritory-Flags-Private , mp_player_side , mp_player_side , teams_p [ side ] , WFT_Goal ] ;
33478: LD_ADDR_VAR 0 3
33482: PUSH
33483: LD_VAR 0 3
33487: PUSH
33488: LD_STRING #WarForTerritory-Flags-Private
33490: PUSH
33491: LD_OWVAR 7
33495: PUSH
33496: LD_OWVAR 7
33500: PUSH
33501: LD_LOC 32
33505: PUSH
33506: LD_VAR 0 2
33510: ARRAY
33511: PUSH
33512: LD_LOC 33
33516: PUSH
33517: EMPTY
33518: LIST
33519: LIST
33520: LIST
33521: LIST
33522: LIST
33523: ADD
33524: ST_TO_ADDR
// end else
33525: GO 33715
// begin if mp_player_side in Teams [ 1 ] then
33527: LD_OWVAR 7
33531: PUSH
33532: LD_EXP 72
33536: PUSH
33537: LD_INT 1
33539: ARRAY
33540: IN
33541: IFFALSE 33574
// vypis := [ #WarForTerritory-points-Flags-red , 3 , teams_p [ 1 ] , WFT_Goal ] ;
33543: LD_ADDR_VAR 0 3
33547: PUSH
33548: LD_STRING #WarForTerritory-points-Flags-red
33550: PUSH
33551: LD_INT 3
33553: PUSH
33554: LD_LOC 32
33558: PUSH
33559: LD_INT 1
33561: ARRAY
33562: PUSH
33563: LD_LOC 33
33567: PUSH
33568: EMPTY
33569: LIST
33570: LIST
33571: LIST
33572: LIST
33573: ST_TO_ADDR
// if mp_player_side in Teams [ 2 ] then
33574: LD_OWVAR 7
33578: PUSH
33579: LD_EXP 72
33583: PUSH
33584: LD_INT 2
33586: ARRAY
33587: IN
33588: IFFALSE 33621
// vypis := [ #WarForTerritory-points-Flags-blue , 1 , teams_p [ 2 ] , WFT_Goal ] ;
33590: LD_ADDR_VAR 0 3
33594: PUSH
33595: LD_STRING #WarForTerritory-points-Flags-blue
33597: PUSH
33598: LD_INT 1
33600: PUSH
33601: LD_LOC 32
33605: PUSH
33606: LD_INT 2
33608: ARRAY
33609: PUSH
33610: LD_LOC 33
33614: PUSH
33615: EMPTY
33616: LIST
33617: LIST
33618: LIST
33619: LIST
33620: ST_TO_ADDR
// if mp_player_side in Teams [ 3 ] then
33621: LD_OWVAR 7
33625: PUSH
33626: LD_EXP 72
33630: PUSH
33631: LD_INT 3
33633: ARRAY
33634: IN
33635: IFFALSE 33668
// vypis := [ #WarForTerritory-points-Flags-yell , 2 , teams_p [ 3 ] , WFT_Goal ] ;
33637: LD_ADDR_VAR 0 3
33641: PUSH
33642: LD_STRING #WarForTerritory-points-Flags-yell
33644: PUSH
33645: LD_INT 2
33647: PUSH
33648: LD_LOC 32
33652: PUSH
33653: LD_INT 3
33655: ARRAY
33656: PUSH
33657: LD_LOC 33
33661: PUSH
33662: EMPTY
33663: LIST
33664: LIST
33665: LIST
33666: LIST
33667: ST_TO_ADDR
// if mp_player_side in Teams [ 4 ] then
33668: LD_OWVAR 7
33672: PUSH
33673: LD_EXP 72
33677: PUSH
33678: LD_INT 4
33680: ARRAY
33681: IN
33682: IFFALSE 33715
// vypis := [ #WarForTerritory-points-Flags-green , 7 , teams_p [ 4 ] , WFT_Goal ] ;
33684: LD_ADDR_VAR 0 3
33688: PUSH
33689: LD_STRING #WarForTerritory-points-Flags-green
33691: PUSH
33692: LD_INT 7
33694: PUSH
33695: LD_LOC 32
33699: PUSH
33700: LD_INT 4
33702: ARRAY
33703: PUSH
33704: LD_LOC 33
33708: PUSH
33709: EMPTY
33710: LIST
33711: LIST
33712: LIST
33713: LIST
33714: ST_TO_ADDR
// end ; end ; end else
33715: GO 34468
// if def_public_score or isSGUI then
33717: LD_EXP 34
33721: PUSH
33722: LD_OWVAR 83
33726: OR
33727: IFFALSE 34174
// begin if not Team_Game then
33729: LD_EXP 79
33733: NOT
33734: IFFALSE 33862
// begin for side = 1 to Side_Positions do
33736: LD_ADDR_VAR 0 2
33740: PUSH
33741: DOUBLE
33742: LD_INT 1
33744: DEC
33745: ST_TO_ADDR
33746: LD_EXP 74
33750: PUSH
33751: FOR_TO
33752: IFFALSE 33858
// if Side_Positions [ side ] then
33754: LD_EXP 74
33758: PUSH
33759: LD_VAR 0 2
33763: ARRAY
33764: IFFALSE 33856
// begin vypis := vypis ^ [ #WarForTerritory-points-Public , side , side , teams_p [ side ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
33766: LD_ADDR_VAR 0 3
33770: PUSH
33771: LD_VAR 0 3
33775: PUSH
33776: LD_STRING #WarForTerritory-points-Public
33778: PUSH
33779: LD_VAR 0 2
33783: PUSH
33784: LD_VAR 0 2
33788: PUSH
33789: LD_LOC 32
33793: PUSH
33794: LD_VAR 0 2
33798: ARRAY
33799: PUSH
33800: LD_INT 3
33802: PUSH
33803: LD_EXP 121
33807: MUL
33808: DIV
33809: PUSH
33810: LD_LOC 33
33814: PUSH
33815: EMPTY
33816: LIST
33817: LIST
33818: LIST
33819: LIST
33820: LIST
33821: ADD
33822: ST_TO_ADDR
// LScore_Update_Points ( 3 , side , ( teams_p [ side ] div ( 3 * WFT_Points_MP ) ) ) ;
33823: LD_INT 3
33825: PPUSH
33826: LD_VAR 0 2
33830: PPUSH
33831: LD_LOC 32
33835: PUSH
33836: LD_VAR 0 2
33840: ARRAY
33841: PUSH
33842: LD_INT 3
33844: PUSH
33845: LD_EXP 121
33849: MUL
33850: DIV
33851: PPUSH
33852: CALL 36771 0 3
// end ;
33856: GO 33751
33858: POP
33859: POP
// end else
33860: GO 34172
// begin if Teams [ 1 ] then
33862: LD_EXP 72
33866: PUSH
33867: LD_INT 1
33869: ARRAY
33870: IFFALSE 33919
// vypis := vypis ^ [ #WarForTerritory-points-Public-red , 3 , teams_p [ 1 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
33872: LD_ADDR_VAR 0 3
33876: PUSH
33877: LD_VAR 0 3
33881: PUSH
33882: LD_STRING #WarForTerritory-points-Public-red
33884: PUSH
33885: LD_INT 3
33887: PUSH
33888: LD_LOC 32
33892: PUSH
33893: LD_INT 1
33895: ARRAY
33896: PUSH
33897: LD_INT 3
33899: PUSH
33900: LD_EXP 121
33904: MUL
33905: DIV
33906: PUSH
33907: LD_LOC 33
33911: PUSH
33912: EMPTY
33913: LIST
33914: LIST
33915: LIST
33916: LIST
33917: ADD
33918: ST_TO_ADDR
// if Teams [ 2 ] then
33919: LD_EXP 72
33923: PUSH
33924: LD_INT 2
33926: ARRAY
33927: IFFALSE 33976
// vypis := vypis ^ [ #WarForTerritory-points-Public-blue , 1 , teams_p [ 2 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
33929: LD_ADDR_VAR 0 3
33933: PUSH
33934: LD_VAR 0 3
33938: PUSH
33939: LD_STRING #WarForTerritory-points-Public-blue
33941: PUSH
33942: LD_INT 1
33944: PUSH
33945: LD_LOC 32
33949: PUSH
33950: LD_INT 2
33952: ARRAY
33953: PUSH
33954: LD_INT 3
33956: PUSH
33957: LD_EXP 121
33961: MUL
33962: DIV
33963: PUSH
33964: LD_LOC 33
33968: PUSH
33969: EMPTY
33970: LIST
33971: LIST
33972: LIST
33973: LIST
33974: ADD
33975: ST_TO_ADDR
// if Teams [ 3 ] then
33976: LD_EXP 72
33980: PUSH
33981: LD_INT 3
33983: ARRAY
33984: IFFALSE 34033
// vypis := vypis ^ [ #WarForTerritory-points-Public-yell , 2 , teams_p [ 3 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
33986: LD_ADDR_VAR 0 3
33990: PUSH
33991: LD_VAR 0 3
33995: PUSH
33996: LD_STRING #WarForTerritory-points-Public-yell
33998: PUSH
33999: LD_INT 2
34001: PUSH
34002: LD_LOC 32
34006: PUSH
34007: LD_INT 3
34009: ARRAY
34010: PUSH
34011: LD_INT 3
34013: PUSH
34014: LD_EXP 121
34018: MUL
34019: DIV
34020: PUSH
34021: LD_LOC 33
34025: PUSH
34026: EMPTY
34027: LIST
34028: LIST
34029: LIST
34030: LIST
34031: ADD
34032: ST_TO_ADDR
// if Teams [ 4 ] then
34033: LD_EXP 72
34037: PUSH
34038: LD_INT 4
34040: ARRAY
34041: IFFALSE 34090
// vypis := vypis ^ [ #WarForTerritory-points-Public-green , 7 , teams_p [ 4 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
34043: LD_ADDR_VAR 0 3
34047: PUSH
34048: LD_VAR 0 3
34052: PUSH
34053: LD_STRING #WarForTerritory-points-Public-green
34055: PUSH
34056: LD_INT 7
34058: PUSH
34059: LD_LOC 32
34063: PUSH
34064: LD_INT 4
34066: ARRAY
34067: PUSH
34068: LD_INT 3
34070: PUSH
34071: LD_EXP 121
34075: MUL
34076: DIV
34077: PUSH
34078: LD_LOC 33
34082: PUSH
34083: EMPTY
34084: LIST
34085: LIST
34086: LIST
34087: LIST
34088: ADD
34089: ST_TO_ADDR
// s = [ 3 , 1 , 2 , 7 ] ;
34090: LD_ADDR_VAR 0 9
34094: PUSH
34095: LD_INT 3
34097: PUSH
34098: LD_INT 1
34100: PUSH
34101: LD_INT 2
34103: PUSH
34104: LD_INT 7
34106: PUSH
34107: EMPTY
34108: LIST
34109: LIST
34110: LIST
34111: LIST
34112: ST_TO_ADDR
// for i = 1 to 4 do
34113: LD_ADDR_VAR 0 4
34117: PUSH
34118: DOUBLE
34119: LD_INT 1
34121: DEC
34122: ST_TO_ADDR
34123: LD_INT 4
34125: PUSH
34126: FOR_TO
34127: IFFALSE 34170
// LScore_Update_Points ( 3 , s [ i ] , ( teams_p [ i ] div ( 3 * WFT_Points_MP ) ) ) ;
34129: LD_INT 3
34131: PPUSH
34132: LD_VAR 0 9
34136: PUSH
34137: LD_VAR 0 4
34141: ARRAY
34142: PPUSH
34143: LD_LOC 32
34147: PUSH
34148: LD_VAR 0 4
34152: ARRAY
34153: PUSH
34154: LD_INT 3
34156: PUSH
34157: LD_EXP 121
34161: MUL
34162: DIV
34163: PPUSH
34164: CALL 36771 0 3
34168: GO 34126
34170: POP
34171: POP
// end ; end else
34172: GO 34468
// if not Team_Game then
34174: LD_EXP 79
34178: NOT
34179: IFFALSE 34240
// begin vypis := vypis ^ [ #WarForTerritory-points-Private , mp_player_side , mp_player_side , teams_p [ side ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] end else
34181: LD_ADDR_VAR 0 3
34185: PUSH
34186: LD_VAR 0 3
34190: PUSH
34191: LD_STRING #WarForTerritory-points-Private
34193: PUSH
34194: LD_OWVAR 7
34198: PUSH
34199: LD_OWVAR 7
34203: PUSH
34204: LD_LOC 32
34208: PUSH
34209: LD_VAR 0 2
34213: ARRAY
34214: PUSH
34215: LD_INT 3
34217: PUSH
34218: LD_EXP 121
34222: MUL
34223: DIV
34224: PUSH
34225: LD_LOC 33
34229: PUSH
34230: EMPTY
34231: LIST
34232: LIST
34233: LIST
34234: LIST
34235: LIST
34236: ADD
34237: ST_TO_ADDR
34238: GO 34468
// begin if mp_player_side in Teams [ 1 ] then
34240: LD_OWVAR 7
34244: PUSH
34245: LD_EXP 72
34249: PUSH
34250: LD_INT 1
34252: ARRAY
34253: IN
34254: IFFALSE 34297
// vypis := [ #WarForTerritory-points-Public-red , 3 , teams_p [ 1 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
34256: LD_ADDR_VAR 0 3
34260: PUSH
34261: LD_STRING #WarForTerritory-points-Public-red
34263: PUSH
34264: LD_INT 3
34266: PUSH
34267: LD_LOC 32
34271: PUSH
34272: LD_INT 1
34274: ARRAY
34275: PUSH
34276: LD_INT 3
34278: PUSH
34279: LD_EXP 121
34283: MUL
34284: DIV
34285: PUSH
34286: LD_LOC 33
34290: PUSH
34291: EMPTY
34292: LIST
34293: LIST
34294: LIST
34295: LIST
34296: ST_TO_ADDR
// if mp_player_side in Teams [ 2 ] then
34297: LD_OWVAR 7
34301: PUSH
34302: LD_EXP 72
34306: PUSH
34307: LD_INT 2
34309: ARRAY
34310: IN
34311: IFFALSE 34354
// vypis := [ #WarForTerritory-points-Public-blue , 1 , teams_p [ 2 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
34313: LD_ADDR_VAR 0 3
34317: PUSH
34318: LD_STRING #WarForTerritory-points-Public-blue
34320: PUSH
34321: LD_INT 1
34323: PUSH
34324: LD_LOC 32
34328: PUSH
34329: LD_INT 2
34331: ARRAY
34332: PUSH
34333: LD_INT 3
34335: PUSH
34336: LD_EXP 121
34340: MUL
34341: DIV
34342: PUSH
34343: LD_LOC 33
34347: PUSH
34348: EMPTY
34349: LIST
34350: LIST
34351: LIST
34352: LIST
34353: ST_TO_ADDR
// if mp_player_side in Teams [ 3 ] then
34354: LD_OWVAR 7
34358: PUSH
34359: LD_EXP 72
34363: PUSH
34364: LD_INT 3
34366: ARRAY
34367: IN
34368: IFFALSE 34411
// vypis := [ #WarForTerritory-points-Public-yell , 2 , teams_p [ 3 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
34370: LD_ADDR_VAR 0 3
34374: PUSH
34375: LD_STRING #WarForTerritory-points-Public-yell
34377: PUSH
34378: LD_INT 2
34380: PUSH
34381: LD_LOC 32
34385: PUSH
34386: LD_INT 3
34388: ARRAY
34389: PUSH
34390: LD_INT 3
34392: PUSH
34393: LD_EXP 121
34397: MUL
34398: DIV
34399: PUSH
34400: LD_LOC 33
34404: PUSH
34405: EMPTY
34406: LIST
34407: LIST
34408: LIST
34409: LIST
34410: ST_TO_ADDR
// if mp_player_side in Teams [ 4 ] then
34411: LD_OWVAR 7
34415: PUSH
34416: LD_EXP 72
34420: PUSH
34421: LD_INT 4
34423: ARRAY
34424: IN
34425: IFFALSE 34468
// vypis := [ #WarForTerritory-points-Public-green , 7 , teams_p [ 4 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
34427: LD_ADDR_VAR 0 3
34431: PUSH
34432: LD_STRING #WarForTerritory-points-Public-green
34434: PUSH
34435: LD_INT 7
34437: PUSH
34438: LD_LOC 32
34442: PUSH
34443: LD_INT 4
34445: ARRAY
34446: PUSH
34447: LD_INT 3
34449: PUSH
34450: LD_EXP 121
34454: MUL
34455: DIV
34456: PUSH
34457: LD_LOC 33
34461: PUSH
34462: EMPTY
34463: LIST
34464: LIST
34465: LIST
34466: LIST
34467: ST_TO_ADDR
// end ; Display_WFG := vypis ;
34468: LD_ADDR_EXP 112
34472: PUSH
34473: LD_VAR 0 3
34477: ST_TO_ADDR
// end ; end_of_file
34478: LD_VAR 0 1
34482: RET
// export function SA_OnSiberiteRocketExploded ( siberite_rocket_vehicle , target_x , target_y , requestSide ) ; begin
34483: LD_INT 0
34485: PPUSH
// if GetSide ( siberite_rocket_vehicle ) = requestSide then
34486: LD_VAR 0 1
34490: PPUSH
34491: CALL_OW 255
34495: PUSH
34496: LD_VAR 0 4
34500: EQUAL
34501: IFFALSE 34520
// begin SetAchievement ( ACH_RAD ) ;
34503: LD_STRING ACH_RAD
34505: PPUSH
34506: CALL_OW 543
// SetAchievementEx ( ACH_NL , 1 ) ;
34510: LD_STRING ACH_NL
34512: PPUSH
34513: LD_INT 1
34515: PPUSH
34516: CALL_OW 564
// end end ;
34520: LD_VAR 0 5
34524: RET
// export function SA_Win ( side ) ; begin
34525: LD_INT 0
34527: PPUSH
// case side of 1 :
34528: LD_VAR 0 1
34532: PUSH
34533: LD_INT 1
34535: DOUBLE
34536: EQUAL
34537: IFTRUE 34541
34539: GO 34554
34541: POP
// SetAchievementEx ( ACH_AH , 1 ) ; 2 :
34542: LD_STRING ACH_AH
34544: PPUSH
34545: LD_INT 1
34547: PPUSH
34548: CALL_OW 564
34552: GO 34717
34554: LD_INT 2
34556: DOUBLE
34557: EQUAL
34558: IFTRUE 34562
34560: GO 34575
34562: POP
// SetAchievementEx ( ACH_E , 1 ) ; 3 :
34563: LD_STRING ACH_E
34565: PPUSH
34566: LD_INT 1
34568: PPUSH
34569: CALL_OW 564
34573: GO 34717
34575: LD_INT 3
34577: DOUBLE
34578: EQUAL
34579: IFTRUE 34583
34581: GO 34596
34583: POP
// SetAchievementEx ( ACH_OOL , 1 ) ; [ 1 , 2 ] :
34584: LD_STRING ACH_OOL
34586: PPUSH
34587: LD_INT 1
34589: PPUSH
34590: CALL_OW 564
34594: GO 34717
34596: LD_INT 1
34598: PUSH
34599: LD_INT 2
34601: PUSH
34602: EMPTY
34603: LIST
34604: LIST
34605: DOUBLE
34606: EQUAL
34607: IFTRUE 34611
34609: GO 34636
34611: POP
// begin SetAchievementEx ( ACH_AH , 0.5 ) ;
34612: LD_STRING ACH_AH
34614: PPUSH
34615: LD_REAL  5.00000000000000E-0001
34618: PPUSH
34619: CALL_OW 564
// SetAchievementEx ( ACH_E , 0.5 ) ;
34623: LD_STRING ACH_E
34625: PPUSH
34626: LD_REAL  5.00000000000000E-0001
34629: PPUSH
34630: CALL_OW 564
// end ; [ 2 , 3 ] :
34634: GO 34717
34636: LD_INT 2
34638: PUSH
34639: LD_INT 3
34641: PUSH
34642: EMPTY
34643: LIST
34644: LIST
34645: DOUBLE
34646: EQUAL
34647: IFTRUE 34651
34649: GO 34676
34651: POP
// begin SetAchievementEx ( ACH_OOL , 0.5 ) ;
34652: LD_STRING ACH_OOL
34654: PPUSH
34655: LD_REAL  5.00000000000000E-0001
34658: PPUSH
34659: CALL_OW 564
// SetAchievementEx ( ACH_E , 0.5 ) ;
34663: LD_STRING ACH_E
34665: PPUSH
34666: LD_REAL  5.00000000000000E-0001
34669: PPUSH
34670: CALL_OW 564
// end ; [ 3 , 1 ] :
34674: GO 34717
34676: LD_INT 3
34678: PUSH
34679: LD_INT 1
34681: PUSH
34682: EMPTY
34683: LIST
34684: LIST
34685: DOUBLE
34686: EQUAL
34687: IFTRUE 34691
34689: GO 34716
34691: POP
// begin SetAchievementEx ( ACH_AH , 0.5 ) ;
34692: LD_STRING ACH_AH
34694: PPUSH
34695: LD_REAL  5.00000000000000E-0001
34698: PPUSH
34699: CALL_OW 564
// SetAchievementEx ( ACH_OOL , 0.5 ) ;
34703: LD_STRING ACH_OOL
34705: PPUSH
34706: LD_REAL  5.00000000000000E-0001
34709: PPUSH
34710: CALL_OW 564
// end ; end ;
34714: GO 34717
34716: POP
// end ; end_of_file
34717: LD_VAR 0 2
34721: RET
// var sharedPoints1 , sharedPoints2 , sharedPoints3 ; var pointGame ; export function InitPoints ( ) ; var i , d ; begin
34722: LD_INT 0
34724: PPUSH
34725: PPUSH
34726: PPUSH
// sharedPoints1 = [ ] ;
34727: LD_ADDR_LOC 36
34731: PUSH
34732: EMPTY
34733: ST_TO_ADDR
// sharedPoints2 = [ ] ;
34734: LD_ADDR_LOC 37
34738: PUSH
34739: EMPTY
34740: ST_TO_ADDR
// sharedPoints3 = [ ] ;
34741: LD_ADDR_LOC 38
34745: PUSH
34746: EMPTY
34747: ST_TO_ADDR
// for i = 1 to Side_Positions + 0 do
34748: LD_ADDR_VAR 0 2
34752: PUSH
34753: DOUBLE
34754: LD_INT 1
34756: DEC
34757: ST_TO_ADDR
34758: LD_EXP 74
34762: PUSH
34763: LD_INT 0
34765: PLUS
34766: PUSH
34767: FOR_TO
34768: IFFALSE 34870
// begin if not Side_Positions [ i ] = 0 then
34770: LD_EXP 74
34774: PUSH
34775: LD_VAR 0 2
34779: ARRAY
34780: PUSH
34781: LD_INT 0
34783: EQUAL
34784: NOT
34785: IFFALSE 34799
// SetMultiScore ( i , 0 ) ;
34787: LD_VAR 0 2
34791: PPUSH
34792: LD_INT 0
34794: PPUSH
34795: CALL_OW 506
// sharedPoints1 = Replace ( sharedPoints1 , i , 0 ) ;
34799: LD_ADDR_LOC 36
34803: PUSH
34804: LD_LOC 36
34808: PPUSH
34809: LD_VAR 0 2
34813: PPUSH
34814: LD_INT 0
34816: PPUSH
34817: CALL_OW 1
34821: ST_TO_ADDR
// sharedPoints2 = Replace ( sharedPoints2 , i , 0 ) ;
34822: LD_ADDR_LOC 37
34826: PUSH
34827: LD_LOC 37
34831: PPUSH
34832: LD_VAR 0 2
34836: PPUSH
34837: LD_INT 0
34839: PPUSH
34840: CALL_OW 1
34844: ST_TO_ADDR
// sharedPoints3 = Replace ( sharedPoints3 , i , 0 ) ;
34845: LD_ADDR_LOC 38
34849: PUSH
34850: LD_LOC 38
34854: PPUSH
34855: LD_VAR 0 2
34859: PPUSH
34860: LD_INT 0
34862: PPUSH
34863: CALL_OW 1
34867: ST_TO_ADDR
// end ;
34868: GO 34767
34870: POP
34871: POP
// pointGame = true ;
34872: LD_ADDR_LOC 39
34876: PUSH
34877: LD_INT 1
34879: ST_TO_ADDR
// end ;
34880: LD_VAR 0 1
34884: RET
// every 0 0$1 trigger pointGame do var i , red , blue , yel , green , redN , blueN , yelN , greenN , s , n , p , you ;
34885: LD_LOC 39
34889: IFFALSE 35319
34891: GO 34893
34893: DISABLE
34894: LD_INT 0
34896: PPUSH
34897: PPUSH
34898: PPUSH
34899: PPUSH
34900: PPUSH
34901: PPUSH
34902: PPUSH
34903: PPUSH
34904: PPUSH
34905: PPUSH
34906: PPUSH
34907: PPUSH
34908: PPUSH
// begin if isSGUI then
34909: LD_OWVAR 83
34913: IFFALSE 35319
// begin if Teams [ 1 ] then
34915: LD_EXP 72
34919: PUSH
34920: LD_INT 1
34922: ARRAY
34923: IFFALSE 34935
// red = true else
34925: LD_ADDR_VAR 0 2
34929: PUSH
34930: LD_INT 1
34932: ST_TO_ADDR
34933: GO 34943
// red = false ;
34935: LD_ADDR_VAR 0 2
34939: PUSH
34940: LD_INT 0
34942: ST_TO_ADDR
// if Teams [ 2 ] then
34943: LD_EXP 72
34947: PUSH
34948: LD_INT 2
34950: ARRAY
34951: IFFALSE 34963
// blue = true else
34953: LD_ADDR_VAR 0 3
34957: PUSH
34958: LD_INT 1
34960: ST_TO_ADDR
34961: GO 34971
// blue = false ;
34963: LD_ADDR_VAR 0 3
34967: PUSH
34968: LD_INT 0
34970: ST_TO_ADDR
// if Teams [ 3 ] then
34971: LD_EXP 72
34975: PUSH
34976: LD_INT 3
34978: ARRAY
34979: IFFALSE 34991
// yel = true else
34981: LD_ADDR_VAR 0 4
34985: PUSH
34986: LD_INT 1
34988: ST_TO_ADDR
34989: GO 34999
// yel = false ;
34991: LD_ADDR_VAR 0 4
34995: PUSH
34996: LD_INT 0
34998: ST_TO_ADDR
// if Teams [ 4 ] then
34999: LD_EXP 72
35003: PUSH
35004: LD_INT 4
35006: ARRAY
35007: IFFALSE 35019
// green = true else
35009: LD_ADDR_VAR 0 5
35013: PUSH
35014: LD_INT 1
35016: ST_TO_ADDR
35017: GO 35027
// green = false ;
35019: LD_ADDR_VAR 0 5
35023: PUSH
35024: LD_INT 0
35026: ST_TO_ADDR
// if def_public_score then
35027: LD_EXP 34
35031: IFFALSE 35043
// p = true else
35033: LD_ADDR_VAR 0 12
35037: PUSH
35038: LD_INT 1
35040: ST_TO_ADDR
35041: GO 35051
// p = false ;
35043: LD_ADDR_VAR 0 12
35047: PUSH
35048: LD_INT 0
35050: ST_TO_ADDR
// if team_game then
35051: LD_EXP 79
35055: IFFALSE 35135
// begin you = [ 3 , 1 , 2 , 7 ] [ player_team ] ;
35057: LD_ADDR_VAR 0 13
35061: PUSH
35062: LD_INT 3
35064: PUSH
35065: LD_INT 1
35067: PUSH
35068: LD_INT 2
35070: PUSH
35071: LD_INT 7
35073: PUSH
35074: EMPTY
35075: LIST
35076: LIST
35077: LIST
35078: LIST
35079: PUSH
35080: LD_EXP 70
35084: ARRAY
35085: ST_TO_ADDR
// s = [ blue , yel , red , false , false , false , green , false ] ;
35086: LD_ADDR_VAR 0 10
35090: PUSH
35091: LD_VAR 0 3
35095: PUSH
35096: LD_VAR 0 4
35100: PUSH
35101: LD_VAR 0 2
35105: PUSH
35106: LD_INT 0
35108: PUSH
35109: LD_INT 0
35111: PUSH
35112: LD_INT 0
35114: PUSH
35115: LD_VAR 0 5
35119: PUSH
35120: LD_INT 0
35122: PUSH
35123: EMPTY
35124: LIST
35125: LIST
35126: LIST
35127: LIST
35128: LIST
35129: LIST
35130: LIST
35131: LIST
35132: ST_TO_ADDR
// end else
35133: GO 35220
// begin you = your_side ;
35135: LD_ADDR_VAR 0 13
35139: PUSH
35140: LD_OWVAR 2
35144: ST_TO_ADDR
// s = [ ] ;
35145: LD_ADDR_VAR 0 10
35149: PUSH
35150: EMPTY
35151: ST_TO_ADDR
// for i = 1 to side_positions + 0 do
35152: LD_ADDR_VAR 0 1
35156: PUSH
35157: DOUBLE
35158: LD_INT 1
35160: DEC
35161: ST_TO_ADDR
35162: LD_EXP 74
35166: PUSH
35167: LD_INT 0
35169: PLUS
35170: PUSH
35171: FOR_TO
35172: IFFALSE 35218
// if side_positions [ i ] then
35174: LD_EXP 74
35178: PUSH
35179: LD_VAR 0 1
35183: ARRAY
35184: IFFALSE 35202
// s = s ^ true else
35186: LD_ADDR_VAR 0 10
35190: PUSH
35191: LD_VAR 0 10
35195: PUSH
35196: LD_INT 1
35198: ADD
35199: ST_TO_ADDR
35200: GO 35216
// s = s ^ false ;
35202: LD_ADDR_VAR 0 10
35206: PUSH
35207: LD_VAR 0 10
35211: PUSH
35212: LD_INT 0
35214: ADD
35215: ST_TO_ADDR
35216: GO 35171
35218: POP
35219: POP
// end ; LScore_Init ( s , p , you ) ;
35220: LD_VAR 0 10
35224: PPUSH
35225: LD_VAR 0 12
35229: PPUSH
35230: LD_VAR 0 13
35234: PPUSH
35235: CALL 35499 0 3
// if def_warForTerritory and WarForTerritory_flags then
35239: LD_EXP 36
35243: PUSH
35244: LD_EXP 65
35248: AND
35249: IFFALSE 35271
// LScore_Add_Pieces ( 3 , 3 , WarForTerritory_flags , MaxFlags ) ;
35251: LD_INT 3
35253: PPUSH
35254: LD_INT 3
35256: PPUSH
35257: LD_EXP 65
35261: PPUSH
35262: LD_EXP 113
35266: PPUSH
35267: CALL 36888 0 4
// if def_warForTerritory and WarForTerritory_Points then
35271: LD_EXP 36
35275: PUSH
35276: LD_EXP 64
35280: AND
35281: IFFALSE 35298
// LScore_Add_Points ( 3 , 3 , WarForTerritory_Points ) ;
35283: LD_INT 3
35285: PPUSH
35286: LD_INT 3
35288: PPUSH
35289: LD_EXP 64
35293: PPUSH
35294: CALL 36726 0 3
// if def_kings_age then
35298: LD_EXP 35
35302: IFFALSE 35319
// LScore_Add_Points ( 2 , 2 , final_count ) ;
35304: LD_INT 2
35306: PPUSH
35307: LD_INT 2
35309: PPUSH
35310: LD_EXP 57
35314: PPUSH
35315: CALL 36726 0 3
// end ; end ;
35319: PPOPN 13
35321: END
// export function SetSharedMultiScore ( side , points , typ ) ; var p ; begin
35322: LD_INT 0
35324: PPUSH
35325: PPUSH
// case typ of 1 :
35326: LD_VAR 0 3
35330: PUSH
35331: LD_INT 1
35333: DOUBLE
35334: EQUAL
35335: IFTRUE 35339
35337: GO 35367
35339: POP
// sharedPoints1 = Replace ( sharedPoints1 , side , points ) ; 2 :
35340: LD_ADDR_LOC 36
35344: PUSH
35345: LD_LOC 36
35349: PPUSH
35350: LD_VAR 0 1
35354: PPUSH
35355: LD_VAR 0 2
35359: PPUSH
35360: CALL_OW 1
35364: ST_TO_ADDR
35365: GO 35440
35367: LD_INT 2
35369: DOUBLE
35370: EQUAL
35371: IFTRUE 35375
35373: GO 35403
35375: POP
// sharedPoints2 = Replace ( sharedPoints2 , side , points ) ; 3 :
35376: LD_ADDR_LOC 37
35380: PUSH
35381: LD_LOC 37
35385: PPUSH
35386: LD_VAR 0 1
35390: PPUSH
35391: LD_VAR 0 2
35395: PPUSH
35396: CALL_OW 1
35400: ST_TO_ADDR
35401: GO 35440
35403: LD_INT 3
35405: DOUBLE
35406: EQUAL
35407: IFTRUE 35411
35409: GO 35439
35411: POP
// sharedPoints3 = Replace ( sharedPoints3 , side , points ) ; end ;
35412: LD_ADDR_LOC 38
35416: PUSH
35417: LD_LOC 38
35421: PPUSH
35422: LD_VAR 0 1
35426: PPUSH
35427: LD_VAR 0 2
35431: PPUSH
35432: CALL_OW 1
35436: ST_TO_ADDR
35437: GO 35440
35439: POP
// p = sharedPoints1 [ side ] + sharedPoints2 [ side ] + sharedPoints3 [ side ] ;
35440: LD_ADDR_VAR 0 5
35444: PUSH
35445: LD_LOC 36
35449: PUSH
35450: LD_VAR 0 1
35454: ARRAY
35455: PUSH
35456: LD_LOC 37
35460: PUSH
35461: LD_VAR 0 1
35465: ARRAY
35466: PLUS
35467: PUSH
35468: LD_LOC 38
35472: PUSH
35473: LD_VAR 0 1
35477: ARRAY
35478: PLUS
35479: ST_TO_ADDR
// SetMultiScore ( side , p ) ;
35480: LD_VAR 0 1
35484: PPUSH
35485: LD_VAR 0 5
35489: PPUSH
35490: CALL_OW 506
// end ; end_of_file
35494: LD_VAR 0 4
35498: RET
// export function LScore_Init ( sides , ifPScore , yourSide ) ; begin
35499: LD_INT 0
35501: PPUSH
// LScore_Init2 ( sides , ifPScore , yourSide , false ) ;
35502: LD_VAR 0 1
35506: PPUSH
35507: LD_VAR 0 2
35511: PPUSH
35512: LD_VAR 0 3
35516: PPUSH
35517: LD_INT 0
35519: PPUSH
35520: CALL 35529 0 4
// end ;
35524: LD_VAR 0 4
35528: RET
// export function LScore_Init2 ( sides , ifPScore , yourSide , lockTeam ) ; begin
35529: LD_INT 0
35531: PPUSH
// ToLua ( initScore({ & sides [ 1 ] & , & sides [ 2 ] & , & sides [ 3 ] & , & sides [ 4 ] & , & sides [ 5 ] & , & sides [ 6 ] & , & sides [ 7 ] & , & sides [ 8 ] & }, & ifPScore & , & yourSide & , & lockTeam & ); ) ;
35532: LD_STRING initScore({
35534: PUSH
35535: LD_VAR 0 1
35539: PUSH
35540: LD_INT 1
35542: ARRAY
35543: STR
35544: PUSH
35545: LD_STRING ,
35547: STR
35548: PUSH
35549: LD_VAR 0 1
35553: PUSH
35554: LD_INT 2
35556: ARRAY
35557: STR
35558: PUSH
35559: LD_STRING ,
35561: STR
35562: PUSH
35563: LD_VAR 0 1
35567: PUSH
35568: LD_INT 3
35570: ARRAY
35571: STR
35572: PUSH
35573: LD_STRING ,
35575: STR
35576: PUSH
35577: LD_VAR 0 1
35581: PUSH
35582: LD_INT 4
35584: ARRAY
35585: STR
35586: PUSH
35587: LD_STRING ,
35589: STR
35590: PUSH
35591: LD_VAR 0 1
35595: PUSH
35596: LD_INT 5
35598: ARRAY
35599: STR
35600: PUSH
35601: LD_STRING ,
35603: STR
35604: PUSH
35605: LD_VAR 0 1
35609: PUSH
35610: LD_INT 6
35612: ARRAY
35613: STR
35614: PUSH
35615: LD_STRING ,
35617: STR
35618: PUSH
35619: LD_VAR 0 1
35623: PUSH
35624: LD_INT 7
35626: ARRAY
35627: STR
35628: PUSH
35629: LD_STRING ,
35631: STR
35632: PUSH
35633: LD_VAR 0 1
35637: PUSH
35638: LD_INT 8
35640: ARRAY
35641: STR
35642: PUSH
35643: LD_STRING },
35645: STR
35646: PUSH
35647: LD_VAR 0 2
35651: STR
35652: PUSH
35653: LD_STRING ,
35655: STR
35656: PUSH
35657: LD_VAR 0 3
35661: STR
35662: PUSH
35663: LD_STRING ,
35665: STR
35666: PUSH
35667: LD_VAR 0 4
35671: STR
35672: PUSH
35673: LD_STRING );
35675: STR
35676: PPUSH
35677: CALL_OW 559
// end ;
35681: LD_VAR 0 5
35685: RET
// export function LScore_Reset ( ) ; begin
35686: LD_INT 0
35688: PPUSH
// ToLua ( ResetScorebar(); ) ;
35689: LD_STRING ResetScorebar();
35691: PPUSH
35692: CALL_OW 559
// end ;
35696: LD_VAR 0 1
35700: RET
// export function LScore_Delete ( ID ) ; begin
35701: LD_INT 0
35703: PPUSH
// ToLua ( deleteScore( & ID & ); ) ;
35704: LD_STRING deleteScore(
35706: PUSH
35707: LD_VAR 0 1
35711: STR
35712: PUSH
35713: LD_STRING );
35715: STR
35716: PPUSH
35717: CALL_OW 559
// end ;
35721: LD_VAR 0 2
35725: RET
// export function LScore_Add_Timer ( ID , typ , totalTime ) ; begin
35726: LD_INT 0
35728: PPUSH
// ToLua ( AST( & ID & , & typ & , & totalTime & ,); ) ;
35729: LD_STRING AST(
35731: PUSH
35732: LD_VAR 0 1
35736: STR
35737: PUSH
35738: LD_STRING ,
35740: STR
35741: PUSH
35742: LD_VAR 0 2
35746: STR
35747: PUSH
35748: LD_STRING ,
35750: STR
35751: PUSH
35752: LD_VAR 0 3
35756: STR
35757: PUSH
35758: LD_STRING ,);
35760: STR
35761: PPUSH
35762: CALL_OW 559
// end ;
35766: LD_VAR 0 4
35770: RET
// export function LScore_Add_Timer2 ( ID , typ , totalTime , show_total ) ; begin
35771: LD_INT 0
35773: PPUSH
// ToLua ( AST( & ID & , & typ & , & totalTime & , & show_total & ); ) ;
35774: LD_STRING AST(
35776: PUSH
35777: LD_VAR 0 1
35781: STR
35782: PUSH
35783: LD_STRING ,
35785: STR
35786: PUSH
35787: LD_VAR 0 2
35791: STR
35792: PUSH
35793: LD_STRING ,
35795: STR
35796: PUSH
35797: LD_VAR 0 3
35801: STR
35802: PUSH
35803: LD_STRING ,
35805: STR
35806: PUSH
35807: LD_VAR 0 4
35811: STR
35812: PUSH
35813: LD_STRING );
35815: STR
35816: PPUSH
35817: CALL_OW 559
// end ;
35821: LD_VAR 0 5
35825: RET
// export function LScore_Add_Timer3 ( ID , typ , totalTime , show_total , currentTime ) ; begin
35826: LD_INT 0
35828: PPUSH
// ToLua ( AST( & ID & , & typ & , & totalTime & , & show_total & , & currentTime & ); ) ;
35829: LD_STRING AST(
35831: PUSH
35832: LD_VAR 0 1
35836: STR
35837: PUSH
35838: LD_STRING ,
35840: STR
35841: PUSH
35842: LD_VAR 0 2
35846: STR
35847: PUSH
35848: LD_STRING ,
35850: STR
35851: PUSH
35852: LD_VAR 0 3
35856: STR
35857: PUSH
35858: LD_STRING ,
35860: STR
35861: PUSH
35862: LD_VAR 0 4
35866: STR
35867: PUSH
35868: LD_STRING ,
35870: STR
35871: PUSH
35872: LD_VAR 0 5
35876: STR
35877: PUSH
35878: LD_STRING );
35880: STR
35881: PPUSH
35882: CALL_OW 559
// end ;
35886: LD_VAR 0 6
35890: RET
// export function LScore_Add_ReverseTimer ( ID , typ , totalTime ) ; begin
35891: LD_INT 0
35893: PPUSH
// ToLua ( ASRT( & ID & , & typ & , & totalTime & ,); ) ;
35894: LD_STRING ASRT(
35896: PUSH
35897: LD_VAR 0 1
35901: STR
35902: PUSH
35903: LD_STRING ,
35905: STR
35906: PUSH
35907: LD_VAR 0 2
35911: STR
35912: PUSH
35913: LD_STRING ,
35915: STR
35916: PUSH
35917: LD_VAR 0 3
35921: STR
35922: PUSH
35923: LD_STRING ,);
35925: STR
35926: PPUSH
35927: CALL_OW 559
// end ;
35931: LD_VAR 0 4
35935: RET
// export function LScore_Add_ReverseTimer2 ( ID , typ , totalTime , show_total ) ; begin
35936: LD_INT 0
35938: PPUSH
// ToLua ( ASRT( & ID & , & typ & , & totalTime & , & show_total & ); ) ;
35939: LD_STRING ASRT(
35941: PUSH
35942: LD_VAR 0 1
35946: STR
35947: PUSH
35948: LD_STRING ,
35950: STR
35951: PUSH
35952: LD_VAR 0 2
35956: STR
35957: PUSH
35958: LD_STRING ,
35960: STR
35961: PUSH
35962: LD_VAR 0 3
35966: STR
35967: PUSH
35968: LD_STRING ,
35970: STR
35971: PUSH
35972: LD_VAR 0 4
35976: STR
35977: PUSH
35978: LD_STRING );
35980: STR
35981: PPUSH
35982: CALL_OW 559
// end ;
35986: LD_VAR 0 5
35990: RET
// export function LScore_Add_ReverseTimer3 ( ID , typ , totalTime , show_total , currentTime ) ; begin
35991: LD_INT 0
35993: PPUSH
// ToLua ( ASRT( & ID & , & typ & , & totalTime & , & show_total & , & currentTime & ); ) ;
35994: LD_STRING ASRT(
35996: PUSH
35997: LD_VAR 0 1
36001: STR
36002: PUSH
36003: LD_STRING ,
36005: STR
36006: PUSH
36007: LD_VAR 0 2
36011: STR
36012: PUSH
36013: LD_STRING ,
36015: STR
36016: PUSH
36017: LD_VAR 0 3
36021: STR
36022: PUSH
36023: LD_STRING ,
36025: STR
36026: PUSH
36027: LD_VAR 0 4
36031: STR
36032: PUSH
36033: LD_STRING ,
36035: STR
36036: PUSH
36037: LD_VAR 0 5
36041: STR
36042: PUSH
36043: LD_STRING );
36045: STR
36046: PPUSH
36047: CALL_OW 559
// end ;
36051: LD_VAR 0 6
36055: RET
// export function LScore_update_Timer ( ID , currentTime ) ; begin
36056: LD_INT 0
36058: PPUSH
// ToLua ( UST( & id & , & currentTime & ); ) ;
36059: LD_STRING UST(
36061: PUSH
36062: LD_VAR 0 1
36066: STR
36067: PUSH
36068: LD_STRING ,
36070: STR
36071: PUSH
36072: LD_VAR 0 2
36076: STR
36077: PUSH
36078: LD_STRING );
36080: STR
36081: PPUSH
36082: CALL_OW 559
// end ;
36086: LD_VAR 0 3
36090: RET
// export function LScore_update_Timer2 ( ID , currentTime , totalTime ) ; begin
36091: LD_INT 0
36093: PPUSH
// ToLua ( UST( & id & , & currentTime & , & totalTime & ); ) ;
36094: LD_STRING UST(
36096: PUSH
36097: LD_VAR 0 1
36101: STR
36102: PUSH
36103: LD_STRING ,
36105: STR
36106: PUSH
36107: LD_VAR 0 2
36111: STR
36112: PUSH
36113: LD_STRING ,
36115: STR
36116: PUSH
36117: LD_VAR 0 3
36121: STR
36122: PUSH
36123: LD_STRING );
36125: STR
36126: PPUSH
36127: CALL_OW 559
// end ;
36131: LD_VAR 0 4
36135: RET
// export function LScore_Change_TimerColourRGB ( id , red , green , blue ) ; begin
36136: LD_INT 0
36138: PPUSH
// ToLua ( CCST( & id & ,{ & red & , & green & , & blue & }); ) ;
36139: LD_STRING CCST(
36141: PUSH
36142: LD_VAR 0 1
36146: STR
36147: PUSH
36148: LD_STRING ,{
36150: STR
36151: PUSH
36152: LD_VAR 0 2
36156: STR
36157: PUSH
36158: LD_STRING ,
36160: STR
36161: PUSH
36162: LD_VAR 0 3
36166: STR
36167: PUSH
36168: LD_STRING ,
36170: STR
36171: PUSH
36172: LD_VAR 0 4
36176: STR
36177: PUSH
36178: LD_STRING });
36180: STR
36181: PPUSH
36182: CALL_OW 559
// end ;
36186: LD_VAR 0 5
36190: RET
// export function LScore_Change_TimerColour ( id , side ) ; begin
36191: LD_INT 0
36193: PPUSH
// ToLua ( CCST( & id & , & side & ); ) ;
36194: LD_STRING CCST(
36196: PUSH
36197: LD_VAR 0 1
36201: STR
36202: PUSH
36203: LD_STRING ,
36205: STR
36206: PUSH
36207: LD_VAR 0 2
36211: STR
36212: PUSH
36213: LD_STRING );
36215: STR
36216: PPUSH
36217: CALL_OW 559
// end ;
36221: LD_VAR 0 3
36225: RET
// export function LScore_Add_SinglePoints ( ID , typ , totalPoints ) ; begin
36226: LD_INT 0
36228: PPUSH
// ToLua ( ASSP( & ID & , & typ & , & totalPoints & ,); ) ;
36229: LD_STRING ASSP(
36231: PUSH
36232: LD_VAR 0 1
36236: STR
36237: PUSH
36238: LD_STRING ,
36240: STR
36241: PUSH
36242: LD_VAR 0 2
36246: STR
36247: PUSH
36248: LD_STRING ,
36250: STR
36251: PUSH
36252: LD_VAR 0 3
36256: STR
36257: PUSH
36258: LD_STRING ,);
36260: STR
36261: PPUSH
36262: CALL_OW 559
// end ;
36266: LD_VAR 0 4
36270: RET
// export function LScore_Add_SinglePoints2 ( ID , typ , totalPoints , show_total ) ; begin
36271: LD_INT 0
36273: PPUSH
// ToLua ( ASSP( & ID & , & typ & , & totalPoints & , & show_total & ); ) ;
36274: LD_STRING ASSP(
36276: PUSH
36277: LD_VAR 0 1
36281: STR
36282: PUSH
36283: LD_STRING ,
36285: STR
36286: PUSH
36287: LD_VAR 0 2
36291: STR
36292: PUSH
36293: LD_STRING ,
36295: STR
36296: PUSH
36297: LD_VAR 0 3
36301: STR
36302: PUSH
36303: LD_STRING ,
36305: STR
36306: PUSH
36307: LD_VAR 0 4
36311: STR
36312: PUSH
36313: LD_STRING );
36315: STR
36316: PPUSH
36317: CALL_OW 559
// end ;
36321: LD_VAR 0 5
36325: RET
// export function LScore_Add_SinglePoints3 ( ID , typ , totalPoints , show_total , currentPoints ) ; begin
36326: LD_INT 0
36328: PPUSH
// ToLua ( ASSP( & ID & , & typ & , & totalPoints & , & show_total & , & currentPoints & ); ) ;
36329: LD_STRING ASSP(
36331: PUSH
36332: LD_VAR 0 1
36336: STR
36337: PUSH
36338: LD_STRING ,
36340: STR
36341: PUSH
36342: LD_VAR 0 2
36346: STR
36347: PUSH
36348: LD_STRING ,
36350: STR
36351: PUSH
36352: LD_VAR 0 3
36356: STR
36357: PUSH
36358: LD_STRING ,
36360: STR
36361: PUSH
36362: LD_VAR 0 4
36366: STR
36367: PUSH
36368: LD_STRING ,
36370: STR
36371: PUSH
36372: LD_VAR 0 5
36376: STR
36377: PUSH
36378: LD_STRING );
36380: STR
36381: PPUSH
36382: CALL_OW 559
// end ;
36386: LD_VAR 0 6
36390: RET
// export function LScore_Add_ReverseSinglePoints ( ID , typ , totalPoints ) ; begin
36391: LD_INT 0
36393: PPUSH
// ToLua ( ASRSP( & ID & , & typ & , & totalPoints & ,); ) ;
36394: LD_STRING ASRSP(
36396: PUSH
36397: LD_VAR 0 1
36401: STR
36402: PUSH
36403: LD_STRING ,
36405: STR
36406: PUSH
36407: LD_VAR 0 2
36411: STR
36412: PUSH
36413: LD_STRING ,
36415: STR
36416: PUSH
36417: LD_VAR 0 3
36421: STR
36422: PUSH
36423: LD_STRING ,);
36425: STR
36426: PPUSH
36427: CALL_OW 559
// end ;
36431: LD_VAR 0 4
36435: RET
// export function LScore_Add_ReverseSinglePoints2 ( ID , typ , totalPoints , show_total ) ; begin
36436: LD_INT 0
36438: PPUSH
// ToLua ( ASRSP( & ID & , & typ & , & totalPoints & , & show_total & ); ) ;
36439: LD_STRING ASRSP(
36441: PUSH
36442: LD_VAR 0 1
36446: STR
36447: PUSH
36448: LD_STRING ,
36450: STR
36451: PUSH
36452: LD_VAR 0 2
36456: STR
36457: PUSH
36458: LD_STRING ,
36460: STR
36461: PUSH
36462: LD_VAR 0 3
36466: STR
36467: PUSH
36468: LD_STRING ,
36470: STR
36471: PUSH
36472: LD_VAR 0 4
36476: STR
36477: PUSH
36478: LD_STRING );
36480: STR
36481: PPUSH
36482: CALL_OW 559
// end ;
36486: LD_VAR 0 5
36490: RET
// export function LScore_Add_ReverseSinglePoints3 ( ID , typ , totalPoints , show_total , currentPoints ) ; begin
36491: LD_INT 0
36493: PPUSH
// ToLua ( ASRSP( & ID & , & typ & , & totalPoints & , & show_total & , & currentPoints & ); ) ;
36494: LD_STRING ASRSP(
36496: PUSH
36497: LD_VAR 0 1
36501: STR
36502: PUSH
36503: LD_STRING ,
36505: STR
36506: PUSH
36507: LD_VAR 0 2
36511: STR
36512: PUSH
36513: LD_STRING ,
36515: STR
36516: PUSH
36517: LD_VAR 0 3
36521: STR
36522: PUSH
36523: LD_STRING ,
36525: STR
36526: PUSH
36527: LD_VAR 0 4
36531: STR
36532: PUSH
36533: LD_STRING ,
36535: STR
36536: PUSH
36537: LD_VAR 0 5
36541: STR
36542: PUSH
36543: LD_STRING );
36545: STR
36546: PPUSH
36547: CALL_OW 559
// end ;
36551: LD_VAR 0 6
36555: RET
// export function LScore_update_SinglePoints ( ID , currentPoints ) ; begin
36556: LD_INT 0
36558: PPUSH
// ToLua ( USSP( & id & , & currentPoints & ); ) ;
36559: LD_STRING USSP(
36561: PUSH
36562: LD_VAR 0 1
36566: STR
36567: PUSH
36568: LD_STRING ,
36570: STR
36571: PUSH
36572: LD_VAR 0 2
36576: STR
36577: PUSH
36578: LD_STRING );
36580: STR
36581: PPUSH
36582: CALL_OW 559
// end ;
36586: LD_VAR 0 3
36590: RET
// export function LScore_update_SinglePoints2 ( ID , currentPoints , totalPoints ) ; begin
36591: LD_INT 0
36593: PPUSH
// ToLua ( USSP( & id & , & currentPoints & , & totalPoints & ); ) ;
36594: LD_STRING USSP(
36596: PUSH
36597: LD_VAR 0 1
36601: STR
36602: PUSH
36603: LD_STRING ,
36605: STR
36606: PUSH
36607: LD_VAR 0 2
36611: STR
36612: PUSH
36613: LD_STRING ,
36615: STR
36616: PUSH
36617: LD_VAR 0 3
36621: STR
36622: PUSH
36623: LD_STRING );
36625: STR
36626: PPUSH
36627: CALL_OW 559
// end ;
36631: LD_VAR 0 4
36635: RET
// export function LScore_Change_SinglePointsRGB ( id , red , green , blue ) ; begin
36636: LD_INT 0
36638: PPUSH
// ToLua ( CCSSP( & id & ,{ & red & , & green & , & blue & }); ) ;
36639: LD_STRING CCSSP(
36641: PUSH
36642: LD_VAR 0 1
36646: STR
36647: PUSH
36648: LD_STRING ,{
36650: STR
36651: PUSH
36652: LD_VAR 0 2
36656: STR
36657: PUSH
36658: LD_STRING ,
36660: STR
36661: PUSH
36662: LD_VAR 0 3
36666: STR
36667: PUSH
36668: LD_STRING ,
36670: STR
36671: PUSH
36672: LD_VAR 0 4
36676: STR
36677: PUSH
36678: LD_STRING });
36680: STR
36681: PPUSH
36682: CALL_OW 559
// end ;
36686: LD_VAR 0 5
36690: RET
// export function LScore_Change_SinglePoints ( id , side ) ; begin
36691: LD_INT 0
36693: PPUSH
// ToLua ( CCSSP( & id & , & side & ); ) ;
36694: LD_STRING CCSSP(
36696: PUSH
36697: LD_VAR 0 1
36701: STR
36702: PUSH
36703: LD_STRING ,
36705: STR
36706: PUSH
36707: LD_VAR 0 2
36711: STR
36712: PUSH
36713: LD_STRING );
36715: STR
36716: PPUSH
36717: CALL_OW 559
// end ;
36721: LD_VAR 0 3
36725: RET
// export function LScore_Add_Points ( ID , typ , goal ) ; begin
36726: LD_INT 0
36728: PPUSH
// ToLua ( ASP( & id & , & typ & , & goal & ); ) ;
36729: LD_STRING ASP(
36731: PUSH
36732: LD_VAR 0 1
36736: STR
36737: PUSH
36738: LD_STRING ,
36740: STR
36741: PUSH
36742: LD_VAR 0 2
36746: STR
36747: PUSH
36748: LD_STRING ,
36750: STR
36751: PUSH
36752: LD_VAR 0 3
36756: STR
36757: PUSH
36758: LD_STRING );
36760: STR
36761: PPUSH
36762: CALL_OW 559
// end ;
36766: LD_VAR 0 4
36770: RET
// export function LScore_Update_Points ( ID , side , points ) ; begin
36771: LD_INT 0
36773: PPUSH
// ToLua ( USP( & id & , & side & , & points & ); ) ;
36774: LD_STRING USP(
36776: PUSH
36777: LD_VAR 0 1
36781: STR
36782: PUSH
36783: LD_STRING ,
36785: STR
36786: PUSH
36787: LD_VAR 0 2
36791: STR
36792: PUSH
36793: LD_STRING ,
36795: STR
36796: PUSH
36797: LD_VAR 0 3
36801: STR
36802: PUSH
36803: LD_STRING );
36805: STR
36806: PPUSH
36807: CALL_OW 559
// end ;
36811: LD_VAR 0 4
36815: RET
// export function LScore_Update_PointsAll ( ID , score ) ; var i ; begin
36816: LD_INT 0
36818: PPUSH
36819: PPUSH
// for i = 1 to 8 do
36820: LD_ADDR_VAR 0 4
36824: PUSH
36825: DOUBLE
36826: LD_INT 1
36828: DEC
36829: ST_TO_ADDR
36830: LD_INT 8
36832: PUSH
36833: FOR_TO
36834: IFFALSE 36881
// ToLua ( USP( & ID & , & i & , & score [ i ] & ); ) ;
36836: LD_STRING USP(
36838: PUSH
36839: LD_VAR 0 1
36843: STR
36844: PUSH
36845: LD_STRING ,
36847: STR
36848: PUSH
36849: LD_VAR 0 4
36853: STR
36854: PUSH
36855: LD_STRING ,
36857: STR
36858: PUSH
36859: LD_VAR 0 2
36863: PUSH
36864: LD_VAR 0 4
36868: ARRAY
36869: STR
36870: PUSH
36871: LD_STRING );
36873: STR
36874: PPUSH
36875: CALL_OW 559
36879: GO 36833
36881: POP
36882: POP
// end ;
36883: LD_VAR 0 3
36887: RET
// export function LScore_Add_Pieces ( id , typ , goal , total ) ; begin
36888: LD_INT 0
36890: PPUSH
// ToLua ( ASC( & id & , & typ & , & goal & , & total & ); ) ;
36891: LD_STRING ASC(
36893: PUSH
36894: LD_VAR 0 1
36898: STR
36899: PUSH
36900: LD_STRING ,
36902: STR
36903: PUSH
36904: LD_VAR 0 2
36908: STR
36909: PUSH
36910: LD_STRING ,
36912: STR
36913: PUSH
36914: LD_VAR 0 3
36918: STR
36919: PUSH
36920: LD_STRING ,
36922: STR
36923: PUSH
36924: LD_VAR 0 4
36928: STR
36929: PUSH
36930: LD_STRING );
36932: STR
36933: PPUSH
36934: CALL_OW 559
// end ;
36938: LD_VAR 0 5
36942: RET
// export function LScore_Update_Peices ( id , sidesChunks ) ; begin
36943: LD_INT 0
36945: PPUSH
// ToLua ( USC( & id & ,{ & sidesChunks [ 1 ] & , & sidesChunks [ 2 ] & , & sidesChunks [ 3 ] & , & sidesChunks [ 4 ] & , & sidesChunks [ 5 ] & , & sidesChunks [ 6 ] & , & sidesChunks [ 7 ] & , & sidesChunks [ 8 ] & }); ) ;
36946: LD_STRING USC(
36948: PUSH
36949: LD_VAR 0 1
36953: STR
36954: PUSH
36955: LD_STRING ,{
36957: STR
36958: PUSH
36959: LD_VAR 0 2
36963: PUSH
36964: LD_INT 1
36966: ARRAY
36967: STR
36968: PUSH
36969: LD_STRING ,
36971: STR
36972: PUSH
36973: LD_VAR 0 2
36977: PUSH
36978: LD_INT 2
36980: ARRAY
36981: STR
36982: PUSH
36983: LD_STRING ,
36985: STR
36986: PUSH
36987: LD_VAR 0 2
36991: PUSH
36992: LD_INT 3
36994: ARRAY
36995: STR
36996: PUSH
36997: LD_STRING ,
36999: STR
37000: PUSH
37001: LD_VAR 0 2
37005: PUSH
37006: LD_INT 4
37008: ARRAY
37009: STR
37010: PUSH
37011: LD_STRING ,
37013: STR
37014: PUSH
37015: LD_VAR 0 2
37019: PUSH
37020: LD_INT 5
37022: ARRAY
37023: STR
37024: PUSH
37025: LD_STRING ,
37027: STR
37028: PUSH
37029: LD_VAR 0 2
37033: PUSH
37034: LD_INT 6
37036: ARRAY
37037: STR
37038: PUSH
37039: LD_STRING ,
37041: STR
37042: PUSH
37043: LD_VAR 0 2
37047: PUSH
37048: LD_INT 7
37050: ARRAY
37051: STR
37052: PUSH
37053: LD_STRING ,
37055: STR
37056: PUSH
37057: LD_VAR 0 2
37061: PUSH
37062: LD_INT 8
37064: ARRAY
37065: STR
37066: PUSH
37067: LD_STRING });
37069: STR
37070: PPUSH
37071: CALL_OW 559
// end ; end_of_file
37075: LD_VAR 0 3
37079: RET
// export function UpdateSpectatorBar ; var i , j , crates , oil , sib , people , base , bases ; begin
37080: LD_INT 0
37082: PPUSH
37083: PPUSH
37084: PPUSH
37085: PPUSH
37086: PPUSH
37087: PPUSH
37088: PPUSH
37089: PPUSH
37090: PPUSH
// for i := 1 to 8 do
37091: LD_ADDR_VAR 0 2
37095: PUSH
37096: DOUBLE
37097: LD_INT 1
37099: DEC
37100: ST_TO_ADDR
37101: LD_INT 8
37103: PUSH
37104: FOR_TO
37105: IFFALSE 37489
// begin if Side_Positions [ i ] then
37107: LD_EXP 74
37111: PUSH
37112: LD_VAR 0 2
37116: ARRAY
37117: IFFALSE 37487
// begin people := FilterAllUnits ( [ [ f_side , i ] , [ f_type , unit_human ] ] ) + 0 ;
37119: LD_ADDR_VAR 0 7
37123: PUSH
37124: LD_INT 22
37126: PUSH
37127: LD_VAR 0 2
37131: PUSH
37132: EMPTY
37133: LIST
37134: LIST
37135: PUSH
37136: LD_INT 21
37138: PUSH
37139: LD_INT 1
37141: PUSH
37142: EMPTY
37143: LIST
37144: LIST
37145: PUSH
37146: EMPTY
37147: LIST
37148: LIST
37149: PPUSH
37150: CALL_OW 69
37154: PUSH
37155: LD_INT 0
37157: PLUS
37158: ST_TO_ADDR
// bases := FilterAllUnits ( [ [ f_side , i ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) ;
37159: LD_ADDR_VAR 0 9
37163: PUSH
37164: LD_INT 22
37166: PUSH
37167: LD_VAR 0 2
37171: PUSH
37172: EMPTY
37173: LIST
37174: LIST
37175: PUSH
37176: LD_INT 2
37178: PUSH
37179: LD_INT 30
37181: PUSH
37182: LD_INT 0
37184: PUSH
37185: EMPTY
37186: LIST
37187: LIST
37188: PUSH
37189: LD_INT 30
37191: PUSH
37192: LD_INT 1
37194: PUSH
37195: EMPTY
37196: LIST
37197: LIST
37198: PUSH
37199: EMPTY
37200: LIST
37201: LIST
37202: LIST
37203: PUSH
37204: EMPTY
37205: LIST
37206: LIST
37207: PPUSH
37208: CALL_OW 69
37212: ST_TO_ADDR
// crates := 0 ;
37213: LD_ADDR_VAR 0 4
37217: PUSH
37218: LD_INT 0
37220: ST_TO_ADDR
// oil := 0 ;
37221: LD_ADDR_VAR 0 5
37225: PUSH
37226: LD_INT 0
37228: ST_TO_ADDR
// sib := 0 ;
37229: LD_ADDR_VAR 0 6
37233: PUSH
37234: LD_INT 0
37236: ST_TO_ADDR
// if bases then
37237: LD_VAR 0 9
37241: IFFALSE 37347
// begin for j in bases do
37243: LD_ADDR_VAR 0 3
37247: PUSH
37248: LD_VAR 0 9
37252: PUSH
37253: FOR_IN
37254: IFFALSE 37345
// begin base := GetBase ( j ) ;
37256: LD_ADDR_VAR 0 8
37260: PUSH
37261: LD_VAR 0 3
37265: PPUSH
37266: CALL_OW 274
37270: ST_TO_ADDR
// crates := crates + GetResourceType ( base , mat_cans ) ;
37271: LD_ADDR_VAR 0 4
37275: PUSH
37276: LD_VAR 0 4
37280: PUSH
37281: LD_VAR 0 8
37285: PPUSH
37286: LD_INT 1
37288: PPUSH
37289: CALL_OW 275
37293: PLUS
37294: ST_TO_ADDR
// oil := oil + GetResourceType ( base , mat_oil ) ;
37295: LD_ADDR_VAR 0 5
37299: PUSH
37300: LD_VAR 0 5
37304: PUSH
37305: LD_VAR 0 8
37309: PPUSH
37310: LD_INT 2
37312: PPUSH
37313: CALL_OW 275
37317: PLUS
37318: ST_TO_ADDR
// sib := sib + GetResourceType ( base , mat_siberit ) ;
37319: LD_ADDR_VAR 0 6
37323: PUSH
37324: LD_VAR 0 6
37328: PUSH
37329: LD_VAR 0 8
37333: PPUSH
37334: LD_INT 3
37336: PPUSH
37337: CALL_OW 275
37341: PLUS
37342: ST_TO_ADDR
// end ;
37343: GO 37253
37345: POP
37346: POP
// end ; ToLua ( setSpecText( & i & , & 2 & , & crates & ) ) ;
37347: LD_STRING setSpecText(
37349: PUSH
37350: LD_VAR 0 2
37354: STR
37355: PUSH
37356: LD_STRING ,
37358: STR
37359: PUSH
37360: LD_INT 2
37362: STR
37363: PUSH
37364: LD_STRING ,
37366: STR
37367: PUSH
37368: LD_VAR 0 4
37372: STR
37373: PUSH
37374: LD_STRING )
37376: STR
37377: PPUSH
37378: CALL_OW 559
// ToLua ( setSpecText( & i & , & 3 & , & oil & ) ) ;
37382: LD_STRING setSpecText(
37384: PUSH
37385: LD_VAR 0 2
37389: STR
37390: PUSH
37391: LD_STRING ,
37393: STR
37394: PUSH
37395: LD_INT 3
37397: STR
37398: PUSH
37399: LD_STRING ,
37401: STR
37402: PUSH
37403: LD_VAR 0 5
37407: STR
37408: PUSH
37409: LD_STRING )
37411: STR
37412: PPUSH
37413: CALL_OW 559
// ToLua ( setSpecText( & i & , & 4 & , & sib & ) ) ;
37417: LD_STRING setSpecText(
37419: PUSH
37420: LD_VAR 0 2
37424: STR
37425: PUSH
37426: LD_STRING ,
37428: STR
37429: PUSH
37430: LD_INT 4
37432: STR
37433: PUSH
37434: LD_STRING ,
37436: STR
37437: PUSH
37438: LD_VAR 0 6
37442: STR
37443: PUSH
37444: LD_STRING )
37446: STR
37447: PPUSH
37448: CALL_OW 559
// ToLua ( setSpecText( & i & , & 5 & , & people & ) ) ;
37452: LD_STRING setSpecText(
37454: PUSH
37455: LD_VAR 0 2
37459: STR
37460: PUSH
37461: LD_STRING ,
37463: STR
37464: PUSH
37465: LD_INT 5
37467: STR
37468: PUSH
37469: LD_STRING ,
37471: STR
37472: PUSH
37473: LD_VAR 0 7
37477: STR
37478: PUSH
37479: LD_STRING )
37481: STR
37482: PPUSH
37483: CALL_OW 559
// end ; end ;
37487: GO 37104
37489: POP
37490: POP
// end ;
37491: LD_VAR 0 1
37495: RET
// every 0 0$1 do
37496: GO 37498
37498: DISABLE
// begin ToLua ( setSpecLogoNumber( & 2 & , & 1 & ) ) ;
37499: LD_STRING setSpecLogoNumber(
37501: PUSH
37502: LD_INT 2
37504: STR
37505: PUSH
37506: LD_STRING ,
37508: STR
37509: PUSH
37510: LD_INT 1
37512: STR
37513: PUSH
37514: LD_STRING )
37516: STR
37517: PPUSH
37518: CALL_OW 559
// ToLua ( setSpecLogoNumber( & 3 & , & 2 & ) ) ;
37522: LD_STRING setSpecLogoNumber(
37524: PUSH
37525: LD_INT 3
37527: STR
37528: PUSH
37529: LD_STRING ,
37531: STR
37532: PUSH
37533: LD_INT 2
37535: STR
37536: PUSH
37537: LD_STRING )
37539: STR
37540: PPUSH
37541: CALL_OW 559
// ToLua ( setSpecLogoNumber( & 4 & , & 3 & ) ) ;
37545: LD_STRING setSpecLogoNumber(
37547: PUSH
37548: LD_INT 4
37550: STR
37551: PUSH
37552: LD_STRING ,
37554: STR
37555: PUSH
37556: LD_INT 3
37558: STR
37559: PUSH
37560: LD_STRING )
37562: STR
37563: PPUSH
37564: CALL_OW 559
// ToLua ( setSpecLogoNumber( & 5 & , & 4 & ) ) ;
37568: LD_STRING setSpecLogoNumber(
37570: PUSH
37571: LD_INT 5
37573: STR
37574: PUSH
37575: LD_STRING ,
37577: STR
37578: PUSH
37579: LD_INT 4
37581: STR
37582: PUSH
37583: LD_STRING )
37585: STR
37586: PPUSH
37587: CALL_OW 559
// end ;
37591: END
// every 20 + 0 0$5 trigger FilterAllUnits ( [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ) do
37592: LD_INT 2
37594: PUSH
37595: LD_INT 30
37597: PUSH
37598: LD_INT 0
37600: PUSH
37601: EMPTY
37602: LIST
37603: LIST
37604: PUSH
37605: LD_INT 30
37607: PUSH
37608: LD_INT 1
37610: PUSH
37611: EMPTY
37612: LIST
37613: LIST
37614: PUSH
37615: EMPTY
37616: LIST
37617: LIST
37618: LIST
37619: PPUSH
37620: CALL_OW 69
37624: IFFALSE 37634
37626: GO 37628
37628: DISABLE
// begin enable ;
37629: ENABLE
// UpdateSpectatorBar ;
37630: CALL 37080 0 0
// end ;
37634: END
