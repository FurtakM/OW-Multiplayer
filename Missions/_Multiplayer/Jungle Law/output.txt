// starting begin GT_DoubleNat = [ ] ;
   0: LD_ADDR_EXP 3
   4: PUSH
   5: EMPTY
   6: ST_TO_ADDR
// GT_DoublePeople = [ ] ;
   7: LD_ADDR_EXP 4
  11: PUSH
  12: EMPTY
  13: ST_TO_ADDR
// GT_TripleNat = [ ] ;
  14: LD_ADDR_EXP 5
  18: PUSH
  19: EMPTY
  20: ST_TO_ADDR
// GT_Survival = [ 24 , 23 , 22 , 21 ] ;
  21: LD_ADDR_EXP 6
  25: PUSH
  26: LD_INT 24
  28: PUSH
  29: LD_INT 23
  31: PUSH
  32: LD_INT 22
  34: PUSH
  35: LD_INT 21
  37: PUSH
  38: EMPTY
  39: LIST
  40: LIST
  41: LIST
  42: LIST
  43: ST_TO_ADDR
// GT_Mine = [ ] ;
  44: LD_ADDR_EXP 2
  48: PUSH
  49: EMPTY
  50: ST_TO_ADDR
// GT_RankedGames = [ 10 , 11 ] ;
  51: LD_ADDR_EXP 7
  55: PUSH
  56: LD_INT 10
  58: PUSH
  59: LD_INT 11
  61: PUSH
  62: EMPTY
  63: LIST
  64: LIST
  65: ST_TO_ADDR
// enable_human_prediction := true ;
  66: LD_ADDR_OWVAR 51
  70: PUSH
  71: LD_INT 1
  73: ST_TO_ADDR
// Disable_All_Games ;
  74: CALL 374 0 0
// mp_selectmsg = true ;
  78: LD_ADDR_OWVAR 13
  82: PUSH
  83: LD_INT 1
  85: ST_TO_ADDR
// read_multiplayer_and_game_parameters ;
  86: CALL 2754 0 0
// specialParameters ;
  90: CALL 386 0 0
// standartSets ;
  94: CALL 3372 0 0
// prepare_map_coordinates ;
  98: CALL 417 0 0
// InitGameRules ;
 102: CALL 26243 0 0
// set_shared_visions_and_alliances ;
 106: CALL 5290 0 0
// ResetFog ;
 110: CALL_OW 335
// ClearAllFogForSide ( Player_Side ) ;
 114: LD_EXP 69
 118: PPUSH
 119: CALL_OW 520
// AnimateTrees ( true ) ;
 123: LD_INT 1
 125: PPUSH
 126: CALL_OW 573
// init_map ;
 130: CALL 4445 0 0
// if Game_Type in GT_DoubleNat ^ GT_TripleNat then
 134: LD_EXP 1
 138: PUSH
 139: LD_EXP 3
 143: PUSH
 144: LD_EXP 5
 148: ADD
 149: IN
 150: IFFALSE 156
// modify_nations ;
 152: CALL 6143 0 0
// if not def_game_rules then
 156: LD_EXP 9
 160: NOT
 161: IFFALSE 170
// begin Start_tech_ur ;
 163: CALL 18546 0 0
// enable ( 30 ) ;
 167: LD_INT 30
 169: ENABLE_MARKED
// end ; prepare_sides ;
 170: CALL 5599 0 0
// InitLimits ;
 174: CALL 28948 0 0
// if def_kings_age or def_warForTerritory then
 178: LD_EXP 35
 182: PUSH
 183: LD_EXP 36
 187: OR
 188: IFFALSE 194
// InitPoints ;
 190: CALL 34687 0 0
// if def_kings_age then
 194: LD_EXP 35
 198: IFFALSE 204
// init_kings_counting ;
 200: CALL 22579 0 0
// init_respawn ;
 204: CALL 10495 0 0
// Init_Win_Condition ;
 208: CALL 12992 0 0
// mastodonti ;
 212: CALL 9123 0 0
// Start_Zvirata ;
 216: CALL 9442 0 0
// init_Daily ;
 220: CALL 24735 0 0
// your_side := Player_Side ;
 224: LD_ADDR_OWVAR 2
 228: PUSH
 229: LD_EXP 69
 233: ST_TO_ADDR
// music_nat := Side_Nations [ your_side ] ;
 234: LD_ADDR_OWVAR 71
 238: PUSH
 239: LD_EXP 75
 243: PUSH
 244: LD_OWVAR 2
 248: ARRAY
 249: ST_TO_ADDR
// if IAmSpec then
 250: CALL_OW 531
 254: IFFALSE 278
// begin FogOff ( true ) ;
 256: LD_INT 1
 258: PPUSH
 259: CALL_OW 344
// CenterNowOnXY ( 120 , 80 ) ;
 263: LD_INT 120
 265: PPUSH
 266: LD_INT 80
 268: PPUSH
 269: CALL_OW 86
// enable ( 400 ) ;
 273: LD_INT 400
 275: ENABLE_MARKED
// end else
 276: GO 328
// begin CenterNowOnXY ( start_def [ Side_Positions [ your_side ] ] [ 1 ] , start_def [ Side_Positions [ your_side ] ] [ 2 ] ) ;
 278: LD_EXP 82
 282: PUSH
 283: LD_EXP 74
 287: PUSH
 288: LD_OWVAR 2
 292: ARRAY
 293: ARRAY
 294: PUSH
 295: LD_INT 1
 297: ARRAY
 298: PPUSH
 299: LD_EXP 82
 303: PUSH
 304: LD_EXP 74
 308: PUSH
 309: LD_OWVAR 2
 313: ARRAY
 314: ARRAY
 315: PUSH
 316: LD_INT 2
 318: ARRAY
 319: PPUSH
 320: CALL_OW 86
// Init_Win_Condition ;
 324: CALL 12992 0 0
// end ; BuildUpAreas := [ AR_ZaklLH , AR_ZaklLD , AR_ZaklPH , AR_ZaklPD ] ;
 328: LD_ADDR_EXP 115
 332: PUSH
 333: LD_INT 4
 335: PUSH
 336: LD_INT 6
 338: PUSH
 339: LD_INT 5
 341: PUSH
 342: LD_INT 7
 344: PUSH
 345: EMPTY
 346: LIST
 347: LIST
 348: LIST
 349: LIST
 350: ST_TO_ADDR
// BeginBuildUp ;
 351: CALL 25545 0 0
// if def_warForTerritory then
 355: LD_EXP 36
 359: IFFALSE 365
// Init_WarForTerritory ;
 361: CALL 30213 0 0
// InitDisplayNames ;
 365: CALL 15904 0 0
// InitMultiplayerTime ;
 369: CALL 16574 0 0
// end ;
 373: END
// function Disable_All_Games ; begin
 374: LD_INT 0
 376: PPUSH
// Disable_Standard_Games ;
 377: CALL 9484 0 0
// end ;
 381: LD_VAR 0 1
 385: RET
// function specialParameters ; var d ; begin
 386: LD_INT 0
 388: PPUSH
 389: PPUSH
// if not isSGUI then
 390: LD_OWVAR 83
 394: NOT
 395: IFFALSE 412
// begin if not game_type in GT_Survival then
 397: LD_EXP 1
 401: PUSH
 402: LD_EXP 6
 406: IN
 407: NOT
 408: IFFALSE 410
// begin end ; end else
 410: GO 412
// begin end ; end ;
 412: LD_VAR 0 1
 416: RET
// function prepare_map_coordinates ; begin
 417: LD_INT 0
 419: PPUSH
// depot_def := [ [ 12 , 8 , 2 ] , [ 83 , 146 , 0 ] , [ 156 , 9 , 3 ] , [ 225 , 149 , 5 ] ] ;
 420: LD_ADDR_EXP 80
 424: PUSH
 425: LD_INT 12
 427: PUSH
 428: LD_INT 8
 430: PUSH
 431: LD_INT 2
 433: PUSH
 434: EMPTY
 435: LIST
 436: LIST
 437: LIST
 438: PUSH
 439: LD_INT 83
 441: PUSH
 442: LD_INT 146
 444: PUSH
 445: LD_INT 0
 447: PUSH
 448: EMPTY
 449: LIST
 450: LIST
 451: LIST
 452: PUSH
 453: LD_INT 156
 455: PUSH
 456: LD_INT 9
 458: PUSH
 459: LD_INT 3
 461: PUSH
 462: EMPTY
 463: LIST
 464: LIST
 465: LIST
 466: PUSH
 467: LD_INT 225
 469: PUSH
 470: LD_INT 149
 472: PUSH
 473: LD_INT 5
 475: PUSH
 476: EMPTY
 477: LIST
 478: LIST
 479: LIST
 480: PUSH
 481: EMPTY
 482: LIST
 483: LIST
 484: LIST
 485: LIST
 486: ST_TO_ADDR
// oil_deposits_locations := [ [ 20 , 4 ] , [ 93 , 153 ] , [ 141 , 4 ] , [ 220 , 155 ] , ] ;
 487: LD_ADDR_EXP 85
 491: PUSH
 492: LD_INT 20
 494: PUSH
 495: LD_INT 4
 497: PUSH
 498: EMPTY
 499: LIST
 500: LIST
 501: PUSH
 502: LD_INT 93
 504: PUSH
 505: LD_INT 153
 507: PUSH
 508: EMPTY
 509: LIST
 510: LIST
 511: PUSH
 512: LD_INT 141
 514: PUSH
 515: LD_INT 4
 517: PUSH
 518: EMPTY
 519: LIST
 520: LIST
 521: PUSH
 522: LD_INT 220
 524: PUSH
 525: LD_INT 155
 527: PUSH
 528: EMPTY
 529: LIST
 530: LIST
 531: PUSH
 532: EMPTY
 533: LIST
 534: LIST
 535: LIST
 536: LIST
 537: ST_TO_ADDR
// siberite_deposits_locations := [ [ 18 , 27 ] , [ 70 , 133 ] , [ 169 , 29 ] , [ 221 , 130 ] , ] ;
 538: LD_ADDR_EXP 87
 542: PUSH
 543: LD_INT 18
 545: PUSH
 546: LD_INT 27
 548: PUSH
 549: EMPTY
 550: LIST
 551: LIST
 552: PUSH
 553: LD_INT 70
 555: PUSH
 556: LD_INT 133
 558: PUSH
 559: EMPTY
 560: LIST
 561: LIST
 562: PUSH
 563: LD_INT 169
 565: PUSH
 566: LD_INT 29
 568: PUSH
 569: EMPTY
 570: LIST
 571: LIST
 572: PUSH
 573: LD_INT 221
 575: PUSH
 576: LD_INT 130
 578: PUSH
 579: EMPTY
 580: LIST
 581: LIST
 582: PUSH
 583: EMPTY
 584: LIST
 585: LIST
 586: LIST
 587: LIST
 588: ST_TO_ADDR
// extra_oil_deposits_locations := [ [ 53 , 26 ] , [ 187 , 139 ] , [ 129 , 20 ] , [ 106 , 135 ] ] ;
 589: LD_ADDR_EXP 84
 593: PUSH
 594: LD_INT 53
 596: PUSH
 597: LD_INT 26
 599: PUSH
 600: EMPTY
 601: LIST
 602: LIST
 603: PUSH
 604: LD_INT 187
 606: PUSH
 607: LD_INT 139
 609: PUSH
 610: EMPTY
 611: LIST
 612: LIST
 613: PUSH
 614: LD_INT 129
 616: PUSH
 617: LD_INT 20
 619: PUSH
 620: EMPTY
 621: LIST
 622: LIST
 623: PUSH
 624: LD_INT 106
 626: PUSH
 627: LD_INT 135
 629: PUSH
 630: EMPTY
 631: LIST
 632: LIST
 633: PUSH
 634: EMPTY
 635: LIST
 636: LIST
 637: LIST
 638: LIST
 639: ST_TO_ADDR
// extra_sib_deposits_locations := [ [ 51 , 53 ] , [ 183 , 107 ] , [ 155 , 53 ] , [ 80 , 106 ] ] ;
 640: LD_ADDR_EXP 86
 644: PUSH
 645: LD_INT 51
 647: PUSH
 648: LD_INT 53
 650: PUSH
 651: EMPTY
 652: LIST
 653: LIST
 654: PUSH
 655: LD_INT 183
 657: PUSH
 658: LD_INT 107
 660: PUSH
 661: EMPTY
 662: LIST
 663: LIST
 664: PUSH
 665: LD_INT 155
 667: PUSH
 668: LD_INT 53
 670: PUSH
 671: EMPTY
 672: LIST
 673: LIST
 674: PUSH
 675: LD_INT 80
 677: PUSH
 678: LD_INT 106
 680: PUSH
 681: EMPTY
 682: LIST
 683: LIST
 684: PUSH
 685: EMPTY
 686: LIST
 687: LIST
 688: LIST
 689: LIST
 690: ST_TO_ADDR
// for_show_near_resources = [ [ [ oil_deposits_locations [ 1 ] ] , [ siberite_deposits_locations [ 1 ] ] ] , [ [ oil_deposits_locations [ 2 ] ] , [ siberite_deposits_locations [ 2 ] ] ] , [ [ oil_deposits_locations [ 3 ] ] , [ siberite_deposits_locations [ 3 ] ] ] , [ [ oil_deposits_locations [ 4 ] ] , [ siberite_deposits_locations [ 4 ] ] ] , ] ;
 691: LD_ADDR_EXP 63
 695: PUSH
 696: LD_EXP 85
 700: PUSH
 701: LD_INT 1
 703: ARRAY
 704: PUSH
 705: EMPTY
 706: LIST
 707: PUSH
 708: LD_EXP 87
 712: PUSH
 713: LD_INT 1
 715: ARRAY
 716: PUSH
 717: EMPTY
 718: LIST
 719: PUSH
 720: EMPTY
 721: LIST
 722: LIST
 723: PUSH
 724: LD_EXP 85
 728: PUSH
 729: LD_INT 2
 731: ARRAY
 732: PUSH
 733: EMPTY
 734: LIST
 735: PUSH
 736: LD_EXP 87
 740: PUSH
 741: LD_INT 2
 743: ARRAY
 744: PUSH
 745: EMPTY
 746: LIST
 747: PUSH
 748: EMPTY
 749: LIST
 750: LIST
 751: PUSH
 752: LD_EXP 85
 756: PUSH
 757: LD_INT 3
 759: ARRAY
 760: PUSH
 761: EMPTY
 762: LIST
 763: PUSH
 764: LD_EXP 87
 768: PUSH
 769: LD_INT 3
 771: ARRAY
 772: PUSH
 773: EMPTY
 774: LIST
 775: PUSH
 776: EMPTY
 777: LIST
 778: LIST
 779: PUSH
 780: LD_EXP 85
 784: PUSH
 785: LD_INT 4
 787: ARRAY
 788: PUSH
 789: EMPTY
 790: LIST
 791: PUSH
 792: LD_EXP 87
 796: PUSH
 797: LD_INT 4
 799: ARRAY
 800: PUSH
 801: EMPTY
 802: LIST
 803: PUSH
 804: EMPTY
 805: LIST
 806: LIST
 807: PUSH
 808: EMPTY
 809: LIST
 810: LIST
 811: LIST
 812: LIST
 813: ST_TO_ADDR
// case def_base_level of 0 :
 814: LD_EXP 10
 818: PUSH
 819: LD_INT 0
 821: DOUBLE
 822: EQUAL
 823: IFTRUE 827
 825: GO 861
 827: POP
// begin buildings_def = [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
 828: LD_ADDR_EXP 39
 832: PUSH
 833: EMPTY
 834: PUSH
 835: EMPTY
 836: PUSH
 837: EMPTY
 838: PUSH
 839: EMPTY
 840: PUSH
 841: EMPTY
 842: PUSH
 843: EMPTY
 844: PUSH
 845: EMPTY
 846: PUSH
 847: EMPTY
 848: PUSH
 849: EMPTY
 850: LIST
 851: LIST
 852: LIST
 853: LIST
 854: LIST
 855: LIST
 856: LIST
 857: LIST
 858: ST_TO_ADDR
// end ; 1 :
 859: GO 1242
 861: LD_INT 1
 863: DOUBLE
 864: EQUAL
 865: IFTRUE 869
 867: GO 903
 869: POP
// begin buildings_def = [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
 870: LD_ADDR_EXP 39
 874: PUSH
 875: EMPTY
 876: PUSH
 877: EMPTY
 878: PUSH
 879: EMPTY
 880: PUSH
 881: EMPTY
 882: PUSH
 883: EMPTY
 884: PUSH
 885: EMPTY
 886: PUSH
 887: EMPTY
 888: PUSH
 889: EMPTY
 890: PUSH
 891: EMPTY
 892: LIST
 893: LIST
 894: LIST
 895: LIST
 896: LIST
 897: LIST
 898: LIST
 899: LIST
 900: ST_TO_ADDR
// end ; 2 :
 901: GO 1242
 903: LD_INT 2
 905: DOUBLE
 906: EQUAL
 907: IFTRUE 911
 909: GO 1241
 911: POP
// begin buildings_def = [ [ [ b_oil_mine , oil_deposits_locations [ 1 ] [ 1 ] , oil_deposits_locations [ 1 ] [ 2 ] , 4 ] , [ b_breastwork , 31 , 34 , 5 ] , [ b_breastwork , 40 , 16 , 4 ] ] , [ [ b_oil_mine , oil_deposits_locations [ 2 ] [ 1 ] , oil_deposits_locations [ 2 ] [ 2 ] , 0 ] , [ b_breastwork , 77 , 125 , 3 ] , [ b_breastwork , 77 , 126 , 4 ] ] , [ [ b_oil_mine , oil_deposits_locations [ 3 ] [ 1 ] , oil_deposits_locations [ 3 ] [ 2 ] , 4 ] , [ b_breastwork , 133 , 16 , 1 ] , [ b_breastwork , 161 , 34 , 0 ] ] , [ [ b_oil_mine , oil_deposits_locations [ 4 ] [ 1 ] , oil_deposits_locations [ 4 ] [ 2 ] , 0 ] , [ b_breastwork , 200 , 144 , 2 ] , [ b_breastwork , 210 , 126 , 2 ] ] ] ;
 912: LD_ADDR_EXP 39
 916: PUSH
 917: LD_INT 29
 919: PUSH
 920: LD_EXP 85
 924: PUSH
 925: LD_INT 1
 927: ARRAY
 928: PUSH
 929: LD_INT 1
 931: ARRAY
 932: PUSH
 933: LD_EXP 85
 937: PUSH
 938: LD_INT 1
 940: ARRAY
 941: PUSH
 942: LD_INT 2
 944: ARRAY
 945: PUSH
 946: LD_INT 4
 948: PUSH
 949: EMPTY
 950: LIST
 951: LIST
 952: LIST
 953: LIST
 954: PUSH
 955: LD_INT 31
 957: PUSH
 958: LD_INT 31
 960: PUSH
 961: LD_INT 34
 963: PUSH
 964: LD_INT 5
 966: PUSH
 967: EMPTY
 968: LIST
 969: LIST
 970: LIST
 971: LIST
 972: PUSH
 973: LD_INT 31
 975: PUSH
 976: LD_INT 40
 978: PUSH
 979: LD_INT 16
 981: PUSH
 982: LD_INT 4
 984: PUSH
 985: EMPTY
 986: LIST
 987: LIST
 988: LIST
 989: LIST
 990: PUSH
 991: EMPTY
 992: LIST
 993: LIST
 994: LIST
 995: PUSH
 996: LD_INT 29
 998: PUSH
 999: LD_EXP 85
1003: PUSH
1004: LD_INT 2
1006: ARRAY
1007: PUSH
1008: LD_INT 1
1010: ARRAY
1011: PUSH
1012: LD_EXP 85
1016: PUSH
1017: LD_INT 2
1019: ARRAY
1020: PUSH
1021: LD_INT 2
1023: ARRAY
1024: PUSH
1025: LD_INT 0
1027: PUSH
1028: EMPTY
1029: LIST
1030: LIST
1031: LIST
1032: LIST
1033: PUSH
1034: LD_INT 31
1036: PUSH
1037: LD_INT 77
1039: PUSH
1040: LD_INT 125
1042: PUSH
1043: LD_INT 3
1045: PUSH
1046: EMPTY
1047: LIST
1048: LIST
1049: LIST
1050: LIST
1051: PUSH
1052: LD_INT 31
1054: PUSH
1055: LD_INT 77
1057: PUSH
1058: LD_INT 126
1060: PUSH
1061: LD_INT 4
1063: PUSH
1064: EMPTY
1065: LIST
1066: LIST
1067: LIST
1068: LIST
1069: PUSH
1070: EMPTY
1071: LIST
1072: LIST
1073: LIST
1074: PUSH
1075: LD_INT 29
1077: PUSH
1078: LD_EXP 85
1082: PUSH
1083: LD_INT 3
1085: ARRAY
1086: PUSH
1087: LD_INT 1
1089: ARRAY
1090: PUSH
1091: LD_EXP 85
1095: PUSH
1096: LD_INT 3
1098: ARRAY
1099: PUSH
1100: LD_INT 2
1102: ARRAY
1103: PUSH
1104: LD_INT 4
1106: PUSH
1107: EMPTY
1108: LIST
1109: LIST
1110: LIST
1111: LIST
1112: PUSH
1113: LD_INT 31
1115: PUSH
1116: LD_INT 133
1118: PUSH
1119: LD_INT 16
1121: PUSH
1122: LD_INT 1
1124: PUSH
1125: EMPTY
1126: LIST
1127: LIST
1128: LIST
1129: LIST
1130: PUSH
1131: LD_INT 31
1133: PUSH
1134: LD_INT 161
1136: PUSH
1137: LD_INT 34
1139: PUSH
1140: LD_INT 0
1142: PUSH
1143: EMPTY
1144: LIST
1145: LIST
1146: LIST
1147: LIST
1148: PUSH
1149: EMPTY
1150: LIST
1151: LIST
1152: LIST
1153: PUSH
1154: LD_INT 29
1156: PUSH
1157: LD_EXP 85
1161: PUSH
1162: LD_INT 4
1164: ARRAY
1165: PUSH
1166: LD_INT 1
1168: ARRAY
1169: PUSH
1170: LD_EXP 85
1174: PUSH
1175: LD_INT 4
1177: ARRAY
1178: PUSH
1179: LD_INT 2
1181: ARRAY
1182: PUSH
1183: LD_INT 0
1185: PUSH
1186: EMPTY
1187: LIST
1188: LIST
1189: LIST
1190: LIST
1191: PUSH
1192: LD_INT 31
1194: PUSH
1195: LD_INT 200
1197: PUSH
1198: LD_INT 144
1200: PUSH
1201: LD_INT 2
1203: PUSH
1204: EMPTY
1205: LIST
1206: LIST
1207: LIST
1208: LIST
1209: PUSH
1210: LD_INT 31
1212: PUSH
1213: LD_INT 210
1215: PUSH
1216: LD_INT 126
1218: PUSH
1219: LD_INT 2
1221: PUSH
1222: EMPTY
1223: LIST
1224: LIST
1225: LIST
1226: LIST
1227: PUSH
1228: EMPTY
1229: LIST
1230: LIST
1231: LIST
1232: PUSH
1233: EMPTY
1234: LIST
1235: LIST
1236: LIST
1237: LIST
1238: ST_TO_ADDR
// end ; end ;
1239: GO 1242
1241: POP
// Cela_mapa = celamapa ;
1242: LD_ADDR_EXP 90
1246: PUSH
1247: LD_INT 32
1249: ST_TO_ADDR
// king_territory = stred ;
1250: LD_ADDR_EXP 91
1254: PUSH
1255: LD_INT 30
1257: ST_TO_ADDR
// oblasti_beden := [ ctverec1 , ctverec2 , ctverec3 , ctverec4 ] ;
1258: LD_ADDR_EXP 97
1262: PUSH
1263: LD_INT 12
1265: PUSH
1266: LD_INT 13
1268: PUSH
1269: LD_INT 15
1271: PUSH
1272: LD_INT 14
1274: PUSH
1275: EMPTY
1276: LIST
1277: LIST
1278: LIST
1279: LIST
1280: ST_TO_ADDR
// dalsi_oblasti_beden := [ map_center ] ;
1281: LD_ADDR_EXP 99
1285: PUSH
1286: LD_INT 16
1288: PUSH
1289: EMPTY
1290: LIST
1291: ST_TO_ADDR
// koof_bedny = 1.5 ;
1292: LD_ADDR_EXP 100
1296: PUSH
1297: LD_REAL  1.50000000000000E+0000
1300: ST_TO_ADDR
// DailyPhase = [ [ colors1.txt , colors2.txt , colors3.txt , colors4.txt , colors5.txt , colors6.txt ] , [ colors21.txt , colors22.txt , colors23.txt , colors24.txt , colors25.txt , colors26.txt ] , [ colors31.txt , colors32.txt , colors33.txt , colors34.txt , colors35.txt , colors36.txt ] ] [ rand ( 1 , 3 ) ] ;
1301: LD_ADDR_EXP 61
1305: PUSH
1306: LD_STRING colors1.txt
1308: PUSH
1309: LD_STRING colors2.txt
1311: PUSH
1312: LD_STRING colors3.txt
1314: PUSH
1315: LD_STRING colors4.txt
1317: PUSH
1318: LD_STRING colors5.txt
1320: PUSH
1321: LD_STRING colors6.txt
1323: PUSH
1324: EMPTY
1325: LIST
1326: LIST
1327: LIST
1328: LIST
1329: LIST
1330: LIST
1331: PUSH
1332: LD_STRING colors21.txt
1334: PUSH
1335: LD_STRING colors22.txt
1337: PUSH
1338: LD_STRING colors23.txt
1340: PUSH
1341: LD_STRING colors24.txt
1343: PUSH
1344: LD_STRING colors25.txt
1346: PUSH
1347: LD_STRING colors26.txt
1349: PUSH
1350: EMPTY
1351: LIST
1352: LIST
1353: LIST
1354: LIST
1355: LIST
1356: LIST
1357: PUSH
1358: LD_STRING colors31.txt
1360: PUSH
1361: LD_STRING colors32.txt
1363: PUSH
1364: LD_STRING colors33.txt
1366: PUSH
1367: LD_STRING colors34.txt
1369: PUSH
1370: LD_STRING colors35.txt
1372: PUSH
1373: LD_STRING colors36.txt
1375: PUSH
1376: EMPTY
1377: LIST
1378: LIST
1379: LIST
1380: LIST
1381: LIST
1382: LIST
1383: PUSH
1384: EMPTY
1385: LIST
1386: LIST
1387: LIST
1388: PUSH
1389: LD_INT 1
1391: PPUSH
1392: LD_INT 3
1394: PPUSH
1395: CALL_OW 12
1399: ARRAY
1400: ST_TO_ADDR
// WFT_Points_MP = 2 ;
1401: LD_ADDR_EXP 121
1405: PUSH
1406: LD_INT 2
1408: ST_TO_ADDR
// FLAGY_AREA = [ f1 , f2 , f3 , f4 , f5 , f6 , f7 , f8 , f9 ] ;
1409: LD_ADDR_EXP 118
1413: PUSH
1414: LD_INT 39
1416: PUSH
1417: LD_INT 40
1419: PUSH
1420: LD_INT 41
1422: PUSH
1423: LD_INT 42
1425: PUSH
1426: LD_INT 43
1428: PUSH
1429: LD_INT 48
1431: PUSH
1432: LD_INT 49
1434: PUSH
1435: LD_INT 50
1437: PUSH
1438: LD_INT 51
1440: PUSH
1441: EMPTY
1442: LIST
1443: LIST
1444: LIST
1445: LIST
1446: LIST
1447: LIST
1448: LIST
1449: LIST
1450: LIST
1451: ST_TO_ADDR
// FLAGY_XY = [ [ 118 , 73 ] , [ 147 , 55 ] , [ 78 , 30 ] , [ 86 , 99 ] , [ 157 , 124 ] , [ 106 , 19 ] , [ 172 , 98 ] , [ 133 , 140 ] , [ 70 , 61 ] , ] ;
1452: LD_ADDR_EXP 119
1456: PUSH
1457: LD_INT 118
1459: PUSH
1460: LD_INT 73
1462: PUSH
1463: EMPTY
1464: LIST
1465: LIST
1466: PUSH
1467: LD_INT 147
1469: PUSH
1470: LD_INT 55
1472: PUSH
1473: EMPTY
1474: LIST
1475: LIST
1476: PUSH
1477: LD_INT 78
1479: PUSH
1480: LD_INT 30
1482: PUSH
1483: EMPTY
1484: LIST
1485: LIST
1486: PUSH
1487: LD_INT 86
1489: PUSH
1490: LD_INT 99
1492: PUSH
1493: EMPTY
1494: LIST
1495: LIST
1496: PUSH
1497: LD_INT 157
1499: PUSH
1500: LD_INT 124
1502: PUSH
1503: EMPTY
1504: LIST
1505: LIST
1506: PUSH
1507: LD_INT 106
1509: PUSH
1510: LD_INT 19
1512: PUSH
1513: EMPTY
1514: LIST
1515: LIST
1516: PUSH
1517: LD_INT 172
1519: PUSH
1520: LD_INT 98
1522: PUSH
1523: EMPTY
1524: LIST
1525: LIST
1526: PUSH
1527: LD_INT 133
1529: PUSH
1530: LD_INT 140
1532: PUSH
1533: EMPTY
1534: LIST
1535: LIST
1536: PUSH
1537: LD_INT 70
1539: PUSH
1540: LD_INT 61
1542: PUSH
1543: EMPTY
1544: LIST
1545: LIST
1546: PUSH
1547: EMPTY
1548: LIST
1549: LIST
1550: LIST
1551: LIST
1552: LIST
1553: LIST
1554: LIST
1555: LIST
1556: LIST
1557: ST_TO_ADDR
// FLAGY_AREA1 = [ ff1 , ff2 , ff3 , ff4 , ff5 , ff6 , ff7 , ff8 , ff9 ] ;
1558: LD_ADDR_EXP 120
1562: PUSH
1563: LD_INT 34
1565: PUSH
1566: LD_INT 35
1568: PUSH
1569: LD_INT 36
1571: PUSH
1572: LD_INT 37
1574: PUSH
1575: LD_INT 38
1577: PUSH
1578: LD_INT 44
1580: PUSH
1581: LD_INT 45
1583: PUSH
1584: LD_INT 46
1586: PUSH
1587: LD_INT 47
1589: PUSH
1590: EMPTY
1591: LIST
1592: LIST
1593: LIST
1594: LIST
1595: LIST
1596: LIST
1597: LIST
1598: LIST
1599: LIST
1600: ST_TO_ADDR
// MaxFlags = 9 ;
1601: LD_ADDR_EXP 113
1605: PUSH
1606: LD_INT 9
1608: ST_TO_ADDR
// WarForTerritory_flags = [ 0 , 5 , 7 , 9 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
1609: LD_ADDR_EXP 65
1613: PUSH
1614: LD_INT 0
1616: PUSH
1617: LD_INT 5
1619: PUSH
1620: LD_INT 7
1622: PUSH
1623: LD_INT 9
1625: PUSH
1626: LD_INT 0
1628: PUSH
1629: LD_INT 0
1631: PUSH
1632: LD_INT 0
1634: PUSH
1635: LD_INT 0
1637: PUSH
1638: LD_INT 0
1640: PUSH
1641: LD_INT 0
1643: PUSH
1644: LD_INT 0
1646: PUSH
1647: EMPTY
1648: LIST
1649: LIST
1650: LIST
1651: LIST
1652: LIST
1653: LIST
1654: LIST
1655: LIST
1656: LIST
1657: LIST
1658: LIST
1659: ST_TO_ADDR
// WarForTerritory_Points = [ 0 , 0 , 0 , 0 , 300 , 500 , 700 , 1000 , 1500 , 2000 , 3000 ] ;
1660: LD_ADDR_EXP 64
1664: PUSH
1665: LD_INT 0
1667: PUSH
1668: LD_INT 0
1670: PUSH
1671: LD_INT 0
1673: PUSH
1674: LD_INT 0
1676: PUSH
1677: LD_INT 300
1679: PUSH
1680: LD_INT 500
1682: PUSH
1683: LD_INT 700
1685: PUSH
1686: LD_INT 1000
1688: PUSH
1689: LD_INT 1500
1691: PUSH
1692: LD_INT 2000
1694: PUSH
1695: LD_INT 3000
1697: PUSH
1698: EMPTY
1699: LIST
1700: LIST
1701: LIST
1702: LIST
1703: LIST
1704: LIST
1705: LIST
1706: LIST
1707: LIST
1708: LIST
1709: LIST
1710: ST_TO_ADDR
// end ;
1711: LD_VAR 0 1
1715: RET
// export function SimMPDefinition ; begin
1716: LD_INT 0
1718: PPUSH
// Game_Type = 1 ;
1719: LD_ADDR_EXP 1
1723: PUSH
1724: LD_INT 1
1726: ST_TO_ADDR
// Player_Side = 3 ;
1727: LD_ADDR_EXP 69
1731: PUSH
1732: LD_INT 3
1734: ST_TO_ADDR
// Player_Team = 2 ;
1735: LD_ADDR_EXP 70
1739: PUSH
1740: LD_INT 2
1742: ST_TO_ADDR
// Side_Positions = [ 1 , 2 , 3 , 4 , 0 , 0 , 0 , 0 ] ;
1743: LD_ADDR_EXP 74
1747: PUSH
1748: LD_INT 1
1750: PUSH
1751: LD_INT 2
1753: PUSH
1754: LD_INT 3
1756: PUSH
1757: LD_INT 4
1759: PUSH
1760: LD_INT 0
1762: PUSH
1763: LD_INT 0
1765: PUSH
1766: LD_INT 0
1768: PUSH
1769: LD_INT 0
1771: PUSH
1772: EMPTY
1773: LIST
1774: LIST
1775: LIST
1776: LIST
1777: LIST
1778: LIST
1779: LIST
1780: LIST
1781: ST_TO_ADDR
// Side_Teams = [ 1 , 1 , 2 , 2 , 0 , 0 , 0 , 0 ] ;
1782: LD_ADDR_EXP 71
1786: PUSH
1787: LD_INT 1
1789: PUSH
1790: LD_INT 1
1792: PUSH
1793: LD_INT 2
1795: PUSH
1796: LD_INT 2
1798: PUSH
1799: LD_INT 0
1801: PUSH
1802: LD_INT 0
1804: PUSH
1805: LD_INT 0
1807: PUSH
1808: LD_INT 0
1810: PUSH
1811: EMPTY
1812: LIST
1813: LIST
1814: LIST
1815: LIST
1816: LIST
1817: LIST
1818: LIST
1819: LIST
1820: ST_TO_ADDR
// Side_Nations = [ 1 , 2 , 2 , 1 , 0 , 0 , 0 , 0 ] ;
1821: LD_ADDR_EXP 75
1825: PUSH
1826: LD_INT 1
1828: PUSH
1829: LD_INT 2
1831: PUSH
1832: LD_INT 2
1834: PUSH
1835: LD_INT 1
1837: PUSH
1838: LD_INT 0
1840: PUSH
1841: LD_INT 0
1843: PUSH
1844: LD_INT 0
1846: PUSH
1847: LD_INT 0
1849: PUSH
1850: EMPTY
1851: LIST
1852: LIST
1853: LIST
1854: LIST
1855: LIST
1856: LIST
1857: LIST
1858: LIST
1859: ST_TO_ADDR
// Side_Comps = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
1860: LD_ADDR_EXP 77
1864: PUSH
1865: LD_INT 0
1867: PUSH
1868: LD_INT 0
1870: PUSH
1871: LD_INT 0
1873: PUSH
1874: LD_INT 0
1876: PUSH
1877: LD_INT 0
1879: PUSH
1880: LD_INT 0
1882: PUSH
1883: LD_INT 0
1885: PUSH
1886: LD_INT 0
1888: PUSH
1889: EMPTY
1890: LIST
1891: LIST
1892: LIST
1893: LIST
1894: LIST
1895: LIST
1896: LIST
1897: LIST
1898: ST_TO_ADDR
// Teams = [ [ 1 , 2 ] , [ 3 , 4 ] , [ 0 ] ] diff [ 0 ] ;
1899: LD_ADDR_EXP 72
1903: PUSH
1904: LD_INT 1
1906: PUSH
1907: LD_INT 2
1909: PUSH
1910: EMPTY
1911: LIST
1912: LIST
1913: PUSH
1914: LD_INT 3
1916: PUSH
1917: LD_INT 4
1919: PUSH
1920: EMPTY
1921: LIST
1922: LIST
1923: PUSH
1924: LD_INT 0
1926: PUSH
1927: EMPTY
1928: LIST
1929: PUSH
1930: EMPTY
1931: LIST
1932: LIST
1933: LIST
1934: PUSH
1935: LD_INT 0
1937: PUSH
1938: EMPTY
1939: LIST
1940: DIFF
1941: ST_TO_ADDR
// end ;
1942: LD_VAR 0 1
1946: RET
// export function SimMPOptions ; begin
1947: LD_INT 0
1949: PPUSH
// def_game_rules = 0 ;
1950: LD_ADDR_EXP 9
1954: PUSH
1955: LD_INT 0
1957: ST_TO_ADDR
// def_base_level = 2 ;
1958: LD_ADDR_EXP 10
1962: PUSH
1963: LD_INT 2
1965: ST_TO_ADDR
// def_amount_of_people = 5 ;
1966: LD_ADDR_EXP 11
1970: PUSH
1971: LD_INT 5
1973: ST_TO_ADDR
// def_amount_of_apemen_in_team = 2 ;
1974: LD_ADDR_EXP 12
1978: PUSH
1979: LD_INT 2
1981: ST_TO_ADDR
// def_initial_level = 1 ;
1982: LD_ADDR_EXP 13
1986: PUSH
1987: LD_INT 1
1989: ST_TO_ADDR
// def_classes = 0 ;
1990: LD_ADDR_EXP 14
1994: PUSH
1995: LD_INT 0
1997: ST_TO_ADDR
// def_starting_resources = 2 ;
1998: LD_ADDR_EXP 15
2002: PUSH
2003: LD_INT 2
2005: ST_TO_ADDR
// def_shipments_density = 2 ;
2006: LD_ADDR_EXP 16
2010: PUSH
2011: LD_INT 2
2013: ST_TO_ADDR
// def_extra_oil_deposits = 1 ;
2014: LD_ADDR_EXP 17
2018: PUSH
2019: LD_INT 1
2021: ST_TO_ADDR
// def_extra_sib_deposits = 1 ;
2022: LD_ADDR_EXP 18
2026: PUSH
2027: LD_INT 1
2029: ST_TO_ADDR
// def_shared_vision = 1 ;
2030: LD_ADDR_EXP 19
2034: PUSH
2035: LD_INT 1
2037: ST_TO_ADDR
// def_morale_flags = 1 ;
2038: LD_ADDR_EXP 20
2042: PUSH
2043: LD_INT 1
2045: ST_TO_ADDR
// def_win_rules = 2 ;
2046: LD_ADDR_EXP 21
2050: PUSH
2051: LD_INT 2
2053: ST_TO_ADDR
// def_amount_of_apemen = 1 ;
2054: LD_ADDR_EXP 22
2058: PUSH
2059: LD_INT 1
2061: ST_TO_ADDR
// def_amount_of_tiger = 1 ;
2062: LD_ADDR_EXP 23
2066: PUSH
2067: LD_INT 1
2069: ST_TO_ADDR
// def_respawining_type = 1 ;
2070: LD_ADDR_EXP 24
2074: PUSH
2075: LD_INT 1
2077: ST_TO_ADDR
// def_people_respawning = 1 ;
2078: LD_ADDR_EXP 25
2082: PUSH
2083: LD_INT 1
2085: ST_TO_ADDR
// def_tech_level = 8 ;
2086: LD_ADDR_EXP 26
2090: PUSH
2091: LD_INT 8
2093: ST_TO_ADDR
// def_upgrade_tl = 1 ;
2094: LD_ADDR_EXP 27
2098: PUSH
2099: LD_INT 1
2101: ST_TO_ADDR
// def_siberite_detection = 1 ;
2102: LD_ADDR_EXP 28
2106: PUSH
2107: LD_INT 1
2109: ST_TO_ADDR
// def_siberite_bomb = 3 ;
2110: LD_ADDR_EXP 29
2114: PUSH
2115: LD_INT 3
2117: ST_TO_ADDR
// def_builduptime = 1 ;
2118: LD_ADDR_EXP 30
2122: PUSH
2123: LD_INT 1
2125: ST_TO_ADDR
// def_desert_warior = 2 ;
2126: LD_ADDR_EXP 31
2130: PUSH
2131: LD_INT 2
2133: ST_TO_ADDR
// def_daily_start = 2 ;
2134: LD_ADDR_EXP 32
2138: PUSH
2139: LD_INT 2
2141: ST_TO_ADDR
// def_daily_speed = 3 ;
2142: LD_ADDR_EXP 33
2146: PUSH
2147: LD_INT 3
2149: ST_TO_ADDR
// def_public_score = 1 ;
2150: LD_ADDR_EXP 34
2154: PUSH
2155: LD_INT 1
2157: ST_TO_ADDR
// def_kings_age = 1 ;
2158: LD_ADDR_EXP 35
2162: PUSH
2163: LD_INT 1
2165: ST_TO_ADDR
// def_warForTerritory = 5 ;
2166: LD_ADDR_EXP 36
2170: PUSH
2171: LD_INT 5
2173: ST_TO_ADDR
// end ;
2174: LD_VAR 0 1
2178: RET
// export function Hustota_Zasilek ; var i ; begin
2179: LD_INT 0
2181: PPUSH
2182: PPUSH
// if def_game_rules then
2183: LD_EXP 9
2187: IFFALSE 2197
// tech_level = 8 ;
2189: LD_ADDR_EXP 56
2193: PUSH
2194: LD_INT 8
2196: ST_TO_ADDR
// case def_shipments_density of 0 :
2197: LD_EXP 16
2201: PUSH
2202: LD_INT 0
2204: DOUBLE
2205: EQUAL
2206: IFTRUE 2210
2208: GO 2221
2210: POP
// shipments_density := 40 ; 1 :
2211: LD_ADDR_EXP 45
2215: PUSH
2216: LD_INT 40
2218: ST_TO_ADDR
2219: GO 2260
2221: LD_INT 1
2223: DOUBLE
2224: EQUAL
2225: IFTRUE 2229
2227: GO 2240
2229: POP
// shipments_density := 60 ; 2 :
2230: LD_ADDR_EXP 45
2234: PUSH
2235: LD_INT 60
2237: ST_TO_ADDR
2238: GO 2260
2240: LD_INT 2
2242: DOUBLE
2243: EQUAL
2244: IFTRUE 2248
2246: GO 2259
2248: POP
// shipments_density := 90 ; end ;
2249: LD_ADDR_EXP 45
2253: PUSH
2254: LD_INT 90
2256: ST_TO_ADDR
2257: GO 2260
2259: POP
// if tech_level < 7 then
2260: LD_EXP 56
2264: PUSH
2265: LD_INT 7
2267: LESS
2268: IFFALSE 2287
// shipments_density := shipments_density * 0.85 else
2270: LD_ADDR_EXP 45
2274: PUSH
2275: LD_EXP 45
2279: PUSH
2280: LD_REAL  8.50000000000000E-0001
2283: MUL
2284: ST_TO_ADDR
2285: GO 2339
// if tech_level < 5 then
2287: LD_EXP 56
2291: PUSH
2292: LD_INT 5
2294: LESS
2295: IFFALSE 2314
// shipments_density := shipments_density * 0.7 else
2297: LD_ADDR_EXP 45
2301: PUSH
2302: LD_EXP 45
2306: PUSH
2307: LD_REAL  7.00000000000000E-0001
2310: MUL
2311: ST_TO_ADDR
2312: GO 2339
// if tech_level < 3 then
2314: LD_EXP 56
2318: PUSH
2319: LD_INT 3
2321: LESS
2322: IFFALSE 2339
// shipments_density := shipments_density * 0.6 ;
2324: LD_ADDR_EXP 45
2328: PUSH
2329: LD_EXP 45
2333: PUSH
2334: LD_REAL  6.00000000000000E-0001
2337: MUL
2338: ST_TO_ADDR
// end ; end_of_file
2339: LD_VAR 0 1
2343: RET
// on VehicleConstructionStarted ( factory , chassis , engine , control , weapon ) do RestrictVehicleConstructionStarted ( factory , chassis , engine , control , weapon ) ;
2344: LD_VAR 0 1
2348: PPUSH
2349: LD_VAR 0 2
2353: PPUSH
2354: LD_VAR 0 3
2358: PPUSH
2359: LD_VAR 0 4
2363: PPUSH
2364: LD_VAR 0 5
2368: PPUSH
2369: CALL 29801 0 5
2373: PPOPN 5
2375: END
// on WeaponPlaced ( building , weapon ) do RestrictWeaponPlaced ( building , weapon ) ;
2376: LD_VAR 0 1
2380: PPUSH
2381: LD_VAR 0 2
2385: PPUSH
2386: CALL 29866 0 2
2390: PPOPN 2
2392: END
// on BuildingStarted ( b , h ) do begin if def_game_rules then
2393: LD_EXP 9
2397: IFFALSE 2434
// begin ExecuteLimits ( b , GetBType ( b ) , GetSide ( b ) , 0 , 1 ) ;
2399: LD_VAR 0 1
2403: PPUSH
2404: LD_VAR 0 1
2408: PPUSH
2409: CALL_OW 266
2413: PPUSH
2414: LD_VAR 0 1
2418: PPUSH
2419: CALL_OW 255
2423: PPUSH
2424: LD_INT 0
2426: PPUSH
2427: LD_INT 1
2429: PPUSH
2430: CALL 29349 0 5
// end ; if GetBType ( b ) in [ b_depot , b_warehouse ] then
2434: LD_VAR 0 1
2438: PPUSH
2439: CALL_OW 266
2443: PUSH
2444: LD_INT 0
2446: PUSH
2447: LD_INT 1
2449: PUSH
2450: EMPTY
2451: LIST
2452: LIST
2453: IN
2454: IFFALSE 2470
// NameBuildingStarted ( b , h ) ;
2456: LD_VAR 0 1
2460: PPUSH
2461: LD_VAR 0 2
2465: PPUSH
2466: CALL 16253 0 2
// end ;
2470: PPOPN 2
2472: END
// on BuildingComplete ( b ) do begin if GetBType ( b ) in [ b_depot , b_warehouse ] then
2473: LD_VAR 0 1
2477: PPUSH
2478: CALL_OW 266
2482: PUSH
2483: LD_INT 0
2485: PUSH
2486: LD_INT 1
2488: PUSH
2489: EMPTY
2490: LIST
2491: LIST
2492: IN
2493: IFFALSE 2504
// NameBuildingComplete ( b ) ;
2495: LD_VAR 0 1
2499: PPUSH
2500: CALL 16245 0 1
// end ;
2504: PPOPN 1
2506: END
// on BuildingCaptured ( b , o , e ) do begin if def_game_rules then
2507: LD_EXP 9
2511: IFFALSE 2548
// begin ExecuteLimits ( b , GetBType ( b ) , GetSide ( b ) , 0 , 1 ) ;
2513: LD_VAR 0 1
2517: PPUSH
2518: LD_VAR 0 1
2522: PPUSH
2523: CALL_OW 266
2527: PPUSH
2528: LD_VAR 0 1
2532: PPUSH
2533: CALL_OW 255
2537: PPUSH
2538: LD_INT 0
2540: PPUSH
2541: LD_INT 1
2543: PPUSH
2544: CALL 29349 0 5
// end ; if GetBType ( b ) in [ b_depot , b_warehouse ] then
2548: LD_VAR 0 1
2552: PPUSH
2553: CALL_OW 266
2557: PUSH
2558: LD_INT 0
2560: PUSH
2561: LD_INT 1
2563: PUSH
2564: EMPTY
2565: LIST
2566: LIST
2567: IN
2568: IFFALSE 2589
// NameBuildingCaptured ( b , o , e ) ;
2570: LD_VAR 0 1
2574: PPUSH
2575: LD_VAR 0 2
2579: PPUSH
2580: LD_VAR 0 3
2584: PPUSH
2585: CALL 16332 0 3
// end ;
2589: PPOPN 3
2591: END
// on UnitDestroyed ( j ) do var x , y , pos , dir ;
2592: LD_INT 0
2594: PPUSH
2595: PPUSH
2596: PPUSH
2597: PPUSH
// begin if def_game_rules then
2598: LD_EXP 9
2602: IFFALSE 2613
// CallExecuteLimits ( j ) ;
2604: LD_VAR 0 1
2608: PPUSH
2609: CALL 30108 0 1
// end ;
2613: PPOPN 5
2615: END
// on VehicleCaptured ( j , i1 , o , i2 ) do begin if def_game_rules and ( GetChassis ( j ) = 25 ) then
2616: LD_EXP 9
2620: PUSH
2621: LD_VAR 0 1
2625: PPUSH
2626: CALL_OW 265
2630: PUSH
2631: LD_INT 25
2633: EQUAL
2634: AND
2635: IFFALSE 2667
// ExecuteLimits ( j , b_behemoth , GetSide ( j ) , o , 1 ) ;
2637: LD_VAR 0 1
2641: PPUSH
2642: LD_INT 37
2644: PPUSH
2645: LD_VAR 0 1
2649: PPUSH
2650: CALL_OW 255
2654: PPUSH
2655: LD_VAR 0 3
2659: PPUSH
2660: LD_INT 1
2662: PPUSH
2663: CALL 29349 0 5
// end ;
2667: PPOPN 4
2669: END
// on HumanDestroyed ( identifier , side , nation , x , y , direction , sex , cl ) do if def_respawining_type > 1 then
2670: LD_EXP 24
2674: PUSH
2675: LD_INT 1
2677: GREATER
2678: IFFALSE 2724
// RespawnHumanDestroyed ( identifier , side , nation , x , y , direction , sex , cl ) ;
2680: LD_VAR 0 1
2684: PPUSH
2685: LD_VAR 0 2
2689: PPUSH
2690: LD_VAR 0 3
2694: PPUSH
2695: LD_VAR 0 4
2699: PPUSH
2700: LD_VAR 0 5
2704: PPUSH
2705: LD_VAR 0 6
2709: PPUSH
2710: LD_VAR 0 7
2714: PPUSH
2715: LD_VAR 0 8
2719: PPUSH
2720: CALL 11420 0 8
2724: PPOPN 8
2726: END
// on siberiterocketexploded ( un , x , y ) do SA_OnSiberiteRocketExploded ( un , x , y , Your_Side ) ; end_of_file
2727: LD_VAR 0 1
2731: PPUSH
2732: LD_VAR 0 2
2736: PPUSH
2737: LD_VAR 0 3
2741: PPUSH
2742: LD_OWVAR 2
2746: PPUSH
2747: CALL 34448 0 4
2751: PPOPN 3
2753: END
// export game_type , GT_Mine , GT_doubleNat , GT_doublePeople , GT_tripleNat , GT_Survival , GT_RankedGames , pozice_beden ; export def_game_rules , def_base_level , def_amount_of_people , def_amount_of_apemen_in_team , def_initial_level , def_classes , def_starting_resources , def_shipments_density , def_extra_oil_deposits , def_extra_sib_deposits , def_shared_vision , def_morale_flags , def_win_rules , def_amount_of_apemen , def_amount_of_tiger , def_respawining_type , def_people_respawning , def_tech_level , def_upgrade_tl , def_siberite_detection , def_siberite_bomb , def_builduptime , def_desert_warior , def_daily_start , def_daily_speed , def_public_score , def_kings_age , def_WarForTerritory ; export base_level , number_of_breastworks , buildings_def , number_of_people , number_of_apemen , initial_level , starting_crates , starting_resources , shipments_density , morale_decreasing_time , spawning_koef_of_apemen , spawning_koef_of_tiger , respawning_time_min , heroes , respawning_time_max , Position_Nations , respawning_time_delay_min , respawning_time_delay_max , commander , tech_level , final_count , daily_start , daily_speed , TimePhase , DailyPhase , Position_Sides , for_show_near_resources , WarForTerritory_Points , WarForTerritory_flags , siberite_bomb_Delay ; export Side_Count , Team_Count , Player_Side , Player_Team , Side_Teams , Teams , Side_IsSpec ; export Side_Positions , Side_Nations , Side_Names , Side_Comps , Team_Names , Team_Game ; export depot_def , breastworks_def , start_def , pocet_hracu , extra_oil_deposits_locations , oil_deposits_locations , extra_sib_deposits_locations , siberite_deposits_locations , battle_flags_id , def_max_sides ; export Cela_Mapa , king_territory ; export global_units , global_defined , soldiers_created , global_count , global_classes ; export function read_multiplayer_and_game_parameters ; var side , dep , br1 , br2 , br3 , un , i ; begin
2754: LD_INT 0
2756: PPUSH
2757: PPUSH
2758: PPUSH
2759: PPUSH
2760: PPUSH
2761: PPUSH
2762: PPUSH
2763: PPUSH
// if MultiPlayer then
2764: LD_OWVAR 4
2768: IFFALSE 2852
// begin Game_Type = mp_game_type ;
2770: LD_ADDR_EXP 1
2774: PUSH
2775: LD_OWVAR 6
2779: ST_TO_ADDR
// Player_Side = mp_player_side ;
2780: LD_ADDR_EXP 69
2784: PUSH
2785: LD_OWVAR 7
2789: ST_TO_ADDR
// Player_Team = mp_player_team ;
2790: LD_ADDR_EXP 70
2794: PUSH
2795: LD_OWVAR 8
2799: ST_TO_ADDR
// Side_Positions = mp_sides_positions ;
2800: LD_ADDR_EXP 74
2804: PUSH
2805: LD_OWVAR 17
2809: ST_TO_ADDR
// Side_Teams = mp_sides_teams ;
2810: LD_ADDR_EXP 71
2814: PUSH
2815: LD_OWVAR 15
2819: ST_TO_ADDR
// Side_Nations = mp_sides_nations ;
2820: LD_ADDR_EXP 75
2824: PUSH
2825: LD_OWVAR 16
2829: ST_TO_ADDR
// Side_Comps = mp_sides_comps ;
2830: LD_ADDR_EXP 77
2834: PUSH
2835: CALL 3304 0 0
2839: ST_TO_ADDR
// Teams = mp_teams ;
2840: LD_ADDR_EXP 72
2844: PUSH
2845: LD_OWVAR 12
2849: ST_TO_ADDR
// end else
2850: GO 2856
// begin SimMPDefinition ;
2852: CALL 1716 0 0
// end ; Side_Count = ( Side_Positions diff [ 0 ] ) + 0 ;
2856: LD_ADDR_EXP 67
2860: PUSH
2861: LD_EXP 74
2865: PUSH
2866: LD_INT 0
2868: PUSH
2869: EMPTY
2870: LIST
2871: DIFF
2872: PUSH
2873: LD_INT 0
2875: PLUS
2876: ST_TO_ADDR
// Team_Count = ( Side_Teams diff [ 0 ] ) + 0 ;
2877: LD_ADDR_EXP 68
2881: PUSH
2882: LD_EXP 71
2886: PUSH
2887: LD_INT 0
2889: PUSH
2890: EMPTY
2891: LIST
2892: DIFF
2893: PUSH
2894: LD_INT 0
2896: PLUS
2897: ST_TO_ADDR
// if MultiPlayer then
2898: LD_OWVAR 4
2902: IFFALSE 3265
// begin def_game_rules = GetMultiplayerSetting ( 0 ) ;
2904: LD_ADDR_EXP 9
2908: PUSH
2909: LD_INT 0
2911: PPUSH
2912: CALL_OW 426
2916: ST_TO_ADDR
// def_base_level = GetMultiplayerSetting ( 1 ) ;
2917: LD_ADDR_EXP 10
2921: PUSH
2922: LD_INT 1
2924: PPUSH
2925: CALL_OW 426
2929: ST_TO_ADDR
// def_amount_of_people = GetMultiplayerSetting ( 2 ) ;
2930: LD_ADDR_EXP 11
2934: PUSH
2935: LD_INT 2
2937: PPUSH
2938: CALL_OW 426
2942: ST_TO_ADDR
// def_amount_of_apemen_in_team = GetMultiplayerSetting ( 3 ) ;
2943: LD_ADDR_EXP 12
2947: PUSH
2948: LD_INT 3
2950: PPUSH
2951: CALL_OW 426
2955: ST_TO_ADDR
// def_initial_level = GetMultiplayerSetting ( 4 ) ;
2956: LD_ADDR_EXP 13
2960: PUSH
2961: LD_INT 4
2963: PPUSH
2964: CALL_OW 426
2968: ST_TO_ADDR
// def_classes = GetMultiplayerSetting ( 5 ) ;
2969: LD_ADDR_EXP 14
2973: PUSH
2974: LD_INT 5
2976: PPUSH
2977: CALL_OW 426
2981: ST_TO_ADDR
// def_starting_resources = GetMultiplayerSetting ( 6 ) ;
2982: LD_ADDR_EXP 15
2986: PUSH
2987: LD_INT 6
2989: PPUSH
2990: CALL_OW 426
2994: ST_TO_ADDR
// def_shipments_density = GetMultiplayerSetting ( 7 ) ;
2995: LD_ADDR_EXP 16
2999: PUSH
3000: LD_INT 7
3002: PPUSH
3003: CALL_OW 426
3007: ST_TO_ADDR
// def_extra_oil_deposits = GetMultiplayerSetting ( 8 ) ;
3008: LD_ADDR_EXP 17
3012: PUSH
3013: LD_INT 8
3015: PPUSH
3016: CALL_OW 426
3020: ST_TO_ADDR
// def_extra_sib_deposits = GetMultiplayerSetting ( 9 ) ;
3021: LD_ADDR_EXP 18
3025: PUSH
3026: LD_INT 9
3028: PPUSH
3029: CALL_OW 426
3033: ST_TO_ADDR
// def_morale_flags = GetMultiplayerSetting ( 10 ) ;
3034: LD_ADDR_EXP 20
3038: PUSH
3039: LD_INT 10
3041: PPUSH
3042: CALL_OW 426
3046: ST_TO_ADDR
// def_win_rules = GetMultiplayerSetting ( 11 ) ;
3047: LD_ADDR_EXP 21
3051: PUSH
3052: LD_INT 11
3054: PPUSH
3055: CALL_OW 426
3059: ST_TO_ADDR
// def_amount_of_apemen = GetMultiplayerSetting ( 12 ) ;
3060: LD_ADDR_EXP 22
3064: PUSH
3065: LD_INT 12
3067: PPUSH
3068: CALL_OW 426
3072: ST_TO_ADDR
// def_amount_of_tiger = GetMultiplayerSetting ( 13 ) ;
3073: LD_ADDR_EXP 23
3077: PUSH
3078: LD_INT 13
3080: PPUSH
3081: CALL_OW 426
3085: ST_TO_ADDR
// def_respawining_type = GetMultiplayerSetting ( 14 ) ;
3086: LD_ADDR_EXP 24
3090: PUSH
3091: LD_INT 14
3093: PPUSH
3094: CALL_OW 426
3098: ST_TO_ADDR
// def_people_respawning = GetMultiplayerSetting ( 15 ) ;
3099: LD_ADDR_EXP 25
3103: PUSH
3104: LD_INT 15
3106: PPUSH
3107: CALL_OW 426
3111: ST_TO_ADDR
// def_tech_level = GetMultiplayerSetting ( 16 ) ;
3112: LD_ADDR_EXP 26
3116: PUSH
3117: LD_INT 16
3119: PPUSH
3120: CALL_OW 426
3124: ST_TO_ADDR
// def_upgrade_tl = GetMultiplayerSetting ( 17 ) ;
3125: LD_ADDR_EXP 27
3129: PUSH
3130: LD_INT 17
3132: PPUSH
3133: CALL_OW 426
3137: ST_TO_ADDR
// def_siberite_detection = GetMultiplayerSetting ( 18 ) ;
3138: LD_ADDR_EXP 28
3142: PUSH
3143: LD_INT 18
3145: PPUSH
3146: CALL_OW 426
3150: ST_TO_ADDR
// def_siberite_bomb = GetMultiplayerSetting ( 19 ) ;
3151: LD_ADDR_EXP 29
3155: PUSH
3156: LD_INT 19
3158: PPUSH
3159: CALL_OW 426
3163: ST_TO_ADDR
// def_builduptime = GetMultiplayerSetting ( 20 ) ;
3164: LD_ADDR_EXP 30
3168: PUSH
3169: LD_INT 20
3171: PPUSH
3172: CALL_OW 426
3176: ST_TO_ADDR
// def_desert_warior = GetMultiplayerSetting ( 21 ) ;
3177: LD_ADDR_EXP 31
3181: PUSH
3182: LD_INT 21
3184: PPUSH
3185: CALL_OW 426
3189: ST_TO_ADDR
// def_daily_start = GetMultiplayerSetting ( 22 ) ;
3190: LD_ADDR_EXP 32
3194: PUSH
3195: LD_INT 22
3197: PPUSH
3198: CALL_OW 426
3202: ST_TO_ADDR
// def_daily_speed = GetMultiplayerSetting ( 23 ) ;
3203: LD_ADDR_EXP 33
3207: PUSH
3208: LD_INT 23
3210: PPUSH
3211: CALL_OW 426
3215: ST_TO_ADDR
// def_public_score = GetMultiplayerSetting ( 24 ) ;
3216: LD_ADDR_EXP 34
3220: PUSH
3221: LD_INT 24
3223: PPUSH
3224: CALL_OW 426
3228: ST_TO_ADDR
// def_kings_age = GetMultiplayerSetting ( 25 ) ;
3229: LD_ADDR_EXP 35
3233: PUSH
3234: LD_INT 25
3236: PPUSH
3237: CALL_OW 426
3241: ST_TO_ADDR
// def_warForTerritory = GetMultiplayerSetting ( 26 ) ;
3242: LD_ADDR_EXP 36
3246: PUSH
3247: LD_INT 26
3249: PPUSH
3250: CALL_OW 426
3254: ST_TO_ADDR
// def_shared_vision = true ;
3255: LD_ADDR_EXP 19
3259: PUSH
3260: LD_INT 1
3262: ST_TO_ADDR
// end else
3263: GO 3273
// begin randomizeAll ;
3265: CALL_OW 11
// SimMPOptions ;
3269: CALL 1947 0 0
// end ; if Game_Type in GT_RankedGames then
3273: LD_EXP 1
3277: PUSH
3278: LD_EXP 7
3282: IN
3283: IFFALSE 3299
// def_game_rules = def_game_rules + 1 ;
3285: LD_ADDR_EXP 9
3289: PUSH
3290: LD_EXP 9
3294: PUSH
3295: LD_INT 1
3297: PLUS
3298: ST_TO_ADDR
// end ;
3299: LD_VAR 0 1
3303: RET
// function mp_sides_comps ; var c , i ; begin
3304: LD_INT 0
3306: PPUSH
3307: PPUSH
3308: PPUSH
// c = [ ] ;
3309: LD_ADDR_VAR 0 2
3313: PUSH
3314: EMPTY
3315: ST_TO_ADDR
// for i = 1 to 8 do
3316: LD_ADDR_VAR 0 3
3320: PUSH
3321: DOUBLE
3322: LD_INT 1
3324: DEC
3325: ST_TO_ADDR
3326: LD_INT 8
3328: PUSH
3329: FOR_TO
3330: IFFALSE 3355
// c = c ^ Multiplayer_GetPlayerIsComp ( i ) ;
3332: LD_ADDR_VAR 0 2
3336: PUSH
3337: LD_VAR 0 2
3341: PUSH
3342: LD_VAR 0 3
3346: PPUSH
3347: CALL_OW 532
3351: ADD
3352: ST_TO_ADDR
3353: GO 3329
3355: POP
3356: POP
// result = c ;
3357: LD_ADDR_VAR 0 1
3361: PUSH
3362: LD_VAR 0 2
3366: ST_TO_ADDR
// end ;
3367: LD_VAR 0 1
3371: RET
// export function standartSets ; begin
3372: LD_INT 0
3374: PPUSH
// if Game_Type in GT_Survival then
3375: LD_EXP 1
3379: PUSH
3380: LD_EXP 6
3384: IN
3385: IFFALSE 3528
// begin base_level = [ 1 , 1 , 1 , 2 ] ;
3387: LD_ADDR_EXP 37
3391: PUSH
3392: LD_INT 1
3394: PUSH
3395: LD_INT 1
3397: PUSH
3398: LD_INT 1
3400: PUSH
3401: LD_INT 2
3403: PUSH
3404: EMPTY
3405: LIST
3406: LIST
3407: LIST
3408: LIST
3409: ST_TO_ADDR
// starting_resources := [ [ 1000 , 100 , 100 ] , [ 2000 , 200 , 200 ] , [ 5000 , 500 , 500 ] , [ 10000 , 1000 , 1000 ] , [ 25000 , 2500 , 2500 ] , [ 50000 , 5000 , 5000 ] ] ;
3410: LD_ADDR_EXP 44
3414: PUSH
3415: LD_INT 1000
3417: PUSH
3418: LD_INT 100
3420: PUSH
3421: LD_INT 100
3423: PUSH
3424: EMPTY
3425: LIST
3426: LIST
3427: LIST
3428: PUSH
3429: LD_INT 2000
3431: PUSH
3432: LD_INT 200
3434: PUSH
3435: LD_INT 200
3437: PUSH
3438: EMPTY
3439: LIST
3440: LIST
3441: LIST
3442: PUSH
3443: LD_INT 5000
3445: PUSH
3446: LD_INT 500
3448: PUSH
3449: LD_INT 500
3451: PUSH
3452: EMPTY
3453: LIST
3454: LIST
3455: LIST
3456: PUSH
3457: LD_INT 10000
3459: PUSH
3460: LD_INT 1000
3462: PUSH
3463: LD_INT 1000
3465: PUSH
3466: EMPTY
3467: LIST
3468: LIST
3469: LIST
3470: PUSH
3471: LD_INT 25000
3473: PUSH
3474: LD_INT 2500
3476: PUSH
3477: LD_INT 2500
3479: PUSH
3480: EMPTY
3481: LIST
3482: LIST
3483: LIST
3484: PUSH
3485: LD_INT 50000
3487: PUSH
3488: LD_INT 5000
3490: PUSH
3491: LD_INT 5000
3493: PUSH
3494: EMPTY
3495: LIST
3496: LIST
3497: LIST
3498: PUSH
3499: EMPTY
3500: LIST
3501: LIST
3502: LIST
3503: LIST
3504: LIST
3505: LIST
3506: ST_TO_ADDR
// starting_crates := [ [ ] , [ ] , [ ] , [ ] ] ;
3507: LD_ADDR_EXP 43
3511: PUSH
3512: EMPTY
3513: PUSH
3514: EMPTY
3515: PUSH
3516: EMPTY
3517: PUSH
3518: EMPTY
3519: PUSH
3520: EMPTY
3521: LIST
3522: LIST
3523: LIST
3524: LIST
3525: ST_TO_ADDR
// end else
3526: GO 3681
// begin base_level = [ 0 , 1 , 1 , 1 , 2 ] ;
3528: LD_ADDR_EXP 37
3532: PUSH
3533: LD_INT 0
3535: PUSH
3536: LD_INT 1
3538: PUSH
3539: LD_INT 1
3541: PUSH
3542: LD_INT 1
3544: PUSH
3545: LD_INT 2
3547: PUSH
3548: EMPTY
3549: LIST
3550: LIST
3551: LIST
3552: LIST
3553: LIST
3554: ST_TO_ADDR
// starting_resources := [ [ 0 , 0 , 0 ] , [ 30 , 0 , 0 ] , [ 50 , 20 , 0 ] , [ 80 , 40 , 20 ] ] ;
3555: LD_ADDR_EXP 44
3559: PUSH
3560: LD_INT 0
3562: PUSH
3563: LD_INT 0
3565: PUSH
3566: LD_INT 0
3568: PUSH
3569: EMPTY
3570: LIST
3571: LIST
3572: LIST
3573: PUSH
3574: LD_INT 30
3576: PUSH
3577: LD_INT 0
3579: PUSH
3580: LD_INT 0
3582: PUSH
3583: EMPTY
3584: LIST
3585: LIST
3586: LIST
3587: PUSH
3588: LD_INT 50
3590: PUSH
3591: LD_INT 20
3593: PUSH
3594: LD_INT 0
3596: PUSH
3597: EMPTY
3598: LIST
3599: LIST
3600: LIST
3601: PUSH
3602: LD_INT 80
3604: PUSH
3605: LD_INT 40
3607: PUSH
3608: LD_INT 20
3610: PUSH
3611: EMPTY
3612: LIST
3613: LIST
3614: LIST
3615: PUSH
3616: EMPTY
3617: LIST
3618: LIST
3619: LIST
3620: LIST
3621: ST_TO_ADDR
// starting_crates := [ [ 10 ] , [ 7 , 14 ] , [ 6 , 12 , 18 ] , [ 5 , 10 , 15 , 20 ] ] ;
3622: LD_ADDR_EXP 43
3626: PUSH
3627: LD_INT 10
3629: PUSH
3630: EMPTY
3631: LIST
3632: PUSH
3633: LD_INT 7
3635: PUSH
3636: LD_INT 14
3638: PUSH
3639: EMPTY
3640: LIST
3641: LIST
3642: PUSH
3643: LD_INT 6
3645: PUSH
3646: LD_INT 12
3648: PUSH
3649: LD_INT 18
3651: PUSH
3652: EMPTY
3653: LIST
3654: LIST
3655: LIST
3656: PUSH
3657: LD_INT 5
3659: PUSH
3660: LD_INT 10
3662: PUSH
3663: LD_INT 15
3665: PUSH
3666: LD_INT 20
3668: PUSH
3669: EMPTY
3670: LIST
3671: LIST
3672: LIST
3673: LIST
3674: PUSH
3675: EMPTY
3676: LIST
3677: LIST
3678: LIST
3679: LIST
3680: ST_TO_ADDR
// end ; number_of_people = [ 4 , 5 , 6 , 7 , 8 , 9 , 10 , 11 , 12 , 13 , 14 , 15 , 16 , 17 , 18 , 19 , 20 , 21 , 22 , 23 , 24 ] ;
3681: LD_ADDR_EXP 40
3685: PUSH
3686: LD_INT 4
3688: PUSH
3689: LD_INT 5
3691: PUSH
3692: LD_INT 6
3694: PUSH
3695: LD_INT 7
3697: PUSH
3698: LD_INT 8
3700: PUSH
3701: LD_INT 9
3703: PUSH
3704: LD_INT 10
3706: PUSH
3707: LD_INT 11
3709: PUSH
3710: LD_INT 12
3712: PUSH
3713: LD_INT 13
3715: PUSH
3716: LD_INT 14
3718: PUSH
3719: LD_INT 15
3721: PUSH
3722: LD_INT 16
3724: PUSH
3725: LD_INT 17
3727: PUSH
3728: LD_INT 18
3730: PUSH
3731: LD_INT 19
3733: PUSH
3734: LD_INT 20
3736: PUSH
3737: LD_INT 21
3739: PUSH
3740: LD_INT 22
3742: PUSH
3743: LD_INT 23
3745: PUSH
3746: LD_INT 24
3748: PUSH
3749: EMPTY
3750: LIST
3751: LIST
3752: LIST
3753: LIST
3754: LIST
3755: LIST
3756: LIST
3757: LIST
3758: LIST
3759: LIST
3760: LIST
3761: LIST
3762: LIST
3763: LIST
3764: LIST
3765: LIST
3766: LIST
3767: LIST
3768: LIST
3769: LIST
3770: LIST
3771: ST_TO_ADDR
// number_of_apemen = [ 0 , 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 , 9 , 10 , 11 , 12 ] ;
3772: LD_ADDR_EXP 41
3776: PUSH
3777: LD_INT 0
3779: PUSH
3780: LD_INT 1
3782: PUSH
3783: LD_INT 2
3785: PUSH
3786: LD_INT 3
3788: PUSH
3789: LD_INT 4
3791: PUSH
3792: LD_INT 5
3794: PUSH
3795: LD_INT 6
3797: PUSH
3798: LD_INT 7
3800: PUSH
3801: LD_INT 8
3803: PUSH
3804: LD_INT 9
3806: PUSH
3807: LD_INT 10
3809: PUSH
3810: LD_INT 11
3812: PUSH
3813: LD_INT 12
3815: PUSH
3816: EMPTY
3817: LIST
3818: LIST
3819: LIST
3820: LIST
3821: LIST
3822: LIST
3823: LIST
3824: LIST
3825: LIST
3826: LIST
3827: LIST
3828: LIST
3829: LIST
3830: ST_TO_ADDR
// initial_level = [ 2 , 3 , 4 , 5 ] ;
3831: LD_ADDR_EXP 42
3835: PUSH
3836: LD_INT 2
3838: PUSH
3839: LD_INT 3
3841: PUSH
3842: LD_INT 4
3844: PUSH
3845: LD_INT 5
3847: PUSH
3848: EMPTY
3849: LIST
3850: LIST
3851: LIST
3852: LIST
3853: ST_TO_ADDR
// if def_game_rules then
3854: LD_EXP 9
3858: IFFALSE 3870
// tech_level = 8 else
3860: LD_ADDR_EXP 56
3864: PUSH
3865: LD_INT 8
3867: ST_TO_ADDR
3868: GO 3908
// if game_type in GT_mine then
3870: LD_EXP 1
3874: PUSH
3875: LD_EXP 2
3879: IN
3880: IFFALSE 3898
// tech_level = def_tech_level + 4 else
3882: LD_ADDR_EXP 56
3886: PUSH
3887: LD_EXP 26
3891: PUSH
3892: LD_INT 4
3894: PLUS
3895: ST_TO_ADDR
3896: GO 3908
// Tech_Level = def_tech_level ;
3898: LD_ADDR_EXP 56
3902: PUSH
3903: LD_EXP 26
3907: ST_TO_ADDR
// Hustota_Zasilek ;
3908: CALL 2179 0 0
// spawning_koef_of_apemen = [ 0 , 5 , 10 , 15 ] ;
3912: LD_ADDR_EXP 47
3916: PUSH
3917: LD_INT 0
3919: PUSH
3920: LD_INT 5
3922: PUSH
3923: LD_INT 10
3925: PUSH
3926: LD_INT 15
3928: PUSH
3929: EMPTY
3930: LIST
3931: LIST
3932: LIST
3933: LIST
3934: ST_TO_ADDR
// spawning_koef_of_tiger = [ 0 , 5 , 10 , 15 ] ;
3935: LD_ADDR_EXP 48
3939: PUSH
3940: LD_INT 0
3942: PUSH
3943: LD_INT 5
3945: PUSH
3946: LD_INT 10
3948: PUSH
3949: LD_INT 15
3951: PUSH
3952: EMPTY
3953: LIST
3954: LIST
3955: LIST
3956: LIST
3957: ST_TO_ADDR
// respawning_time_min = [ 8 8$0 , 3 3$00 , 1 1$00 ] ;
3958: LD_ADDR_EXP 49
3962: PUSH
3963: LD_INT 16800
3965: PUSH
3966: LD_INT 6300
3968: PUSH
3969: LD_INT 2100
3971: PUSH
3972: EMPTY
3973: LIST
3974: LIST
3975: LIST
3976: ST_TO_ADDR
// respawning_time_max = [ 10 10$10 , 6 6$00 , 2 2$00 ] ;
3977: LD_ADDR_EXP 51
3981: PUSH
3982: LD_INT 21350
3984: PUSH
3985: LD_INT 12600
3987: PUSH
3988: LD_INT 4200
3990: PUSH
3991: EMPTY
3992: LIST
3993: LIST
3994: LIST
3995: ST_TO_ADDR
// respawning_time_delay_min = [ 0 0$45 , 0 0$30 , 0 0$15 ] ;
3996: LD_ADDR_EXP 53
4000: PUSH
4001: LD_INT 1575
4003: PUSH
4004: LD_INT 1050
4006: PUSH
4007: LD_INT 525
4009: PUSH
4010: EMPTY
4011: LIST
4012: LIST
4013: LIST
4014: ST_TO_ADDR
// respawning_time_delay_max = [ 1 1$00 , 0 0$45 , 0 0$30 ] ;
4015: LD_ADDR_EXP 54
4019: PUSH
4020: LD_INT 2100
4022: PUSH
4023: LD_INT 1575
4025: PUSH
4026: LD_INT 1050
4028: PUSH
4029: EMPTY
4030: LIST
4031: LIST
4032: LIST
4033: ST_TO_ADDR
// daily_start = [ [ 4 4$00 , 7 7$00 ] , [ 8 8$00 , 12 12$00 ] , [ 13 13$00 , 17 17$00 ] , [ 18 18$00 , 22 22$00 ] , [ 23 23$00 , 27 27$00 ] ] ;
4034: LD_ADDR_EXP 58
4038: PUSH
4039: LD_INT 8400
4041: PUSH
4042: LD_INT 14700
4044: PUSH
4045: EMPTY
4046: LIST
4047: LIST
4048: PUSH
4049: LD_INT 16800
4051: PUSH
4052: LD_INT 25200
4054: PUSH
4055: EMPTY
4056: LIST
4057: LIST
4058: PUSH
4059: LD_INT 27300
4061: PUSH
4062: LD_INT 35700
4064: PUSH
4065: EMPTY
4066: LIST
4067: LIST
4068: PUSH
4069: LD_INT 37800
4071: PUSH
4072: LD_INT 46200
4074: PUSH
4075: EMPTY
4076: LIST
4077: LIST
4078: PUSH
4079: LD_INT 48300
4081: PUSH
4082: LD_INT 56700
4084: PUSH
4085: EMPTY
4086: LIST
4087: LIST
4088: PUSH
4089: EMPTY
4090: LIST
4091: LIST
4092: LIST
4093: LIST
4094: LIST
4095: ST_TO_ADDR
// daily_speed = [ 0 0$59 , 0 0$25 , 0 0$9 , 0 0$2 , 0 ] ;
4096: LD_ADDR_EXP 59
4100: PUSH
4101: LD_INT 2065
4103: PUSH
4104: LD_INT 875
4106: PUSH
4107: LD_INT 315
4109: PUSH
4110: LD_INT 70
4112: PUSH
4113: LD_INT 0
4115: PUSH
4116: EMPTY
4117: LIST
4118: LIST
4119: LIST
4120: LIST
4121: LIST
4122: ST_TO_ADDR
// TimePhase = [ 4 4$00 , 6 6$00 , 7 7$00 , 8 8$00 , 12 12$00 , 17 17$00 , 18 18$00 , 19 19$00 , 20 20$00 , 22 22$00 ] ;
4123: LD_ADDR_EXP 60
4127: PUSH
4128: LD_INT 8400
4130: PUSH
4131: LD_INT 12600
4133: PUSH
4134: LD_INT 14700
4136: PUSH
4137: LD_INT 16800
4139: PUSH
4140: LD_INT 25200
4142: PUSH
4143: LD_INT 35700
4145: PUSH
4146: LD_INT 37800
4148: PUSH
4149: LD_INT 39900
4151: PUSH
4152: LD_INT 42000
4154: PUSH
4155: LD_INT 46200
4157: PUSH
4158: EMPTY
4159: LIST
4160: LIST
4161: LIST
4162: LIST
4163: LIST
4164: LIST
4165: LIST
4166: LIST
4167: LIST
4168: LIST
4169: ST_TO_ADDR
// DailyPhase = [ colors1.txt , colors2.txt , colors3.txt , colors4.txt , colors5.txt , colors6.txt ] ;
4170: LD_ADDR_EXP 61
4174: PUSH
4175: LD_STRING colors1.txt
4177: PUSH
4178: LD_STRING colors2.txt
4180: PUSH
4181: LD_STRING colors3.txt
4183: PUSH
4184: LD_STRING colors4.txt
4186: PUSH
4187: LD_STRING colors5.txt
4189: PUSH
4190: LD_STRING colors6.txt
4192: PUSH
4193: EMPTY
4194: LIST
4195: LIST
4196: LIST
4197: LIST
4198: LIST
4199: LIST
4200: ST_TO_ADDR
// morale_decreasing_time = [ - 1 , 0 0$10 , 0 0$20 , 0 0$40 , 0 0$0 ] ;
4201: LD_ADDR_EXP 46
4205: PUSH
4206: LD_INT 1
4208: NEG
4209: PUSH
4210: LD_INT 350
4212: PUSH
4213: LD_INT 700
4215: PUSH
4216: LD_INT 1400
4218: PUSH
4219: LD_INT 0
4221: PUSH
4222: EMPTY
4223: LIST
4224: LIST
4225: LIST
4226: LIST
4227: LIST
4228: ST_TO_ADDR
// final_count = [ 0 , 200 , 300 , 500 , 700 , 1000 , 1500 , 2000 ] ;
4229: LD_ADDR_EXP 57
4233: PUSH
4234: LD_INT 0
4236: PUSH
4237: LD_INT 200
4239: PUSH
4240: LD_INT 300
4242: PUSH
4243: LD_INT 500
4245: PUSH
4246: LD_INT 700
4248: PUSH
4249: LD_INT 1000
4251: PUSH
4252: LD_INT 1500
4254: PUSH
4255: LD_INT 2000
4257: PUSH
4258: EMPTY
4259: LIST
4260: LIST
4261: LIST
4262: LIST
4263: LIST
4264: LIST
4265: LIST
4266: LIST
4267: ST_TO_ADDR
// WarForTerritory_flags = [ 0 , 3 , 4 , 5 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
4268: LD_ADDR_EXP 65
4272: PUSH
4273: LD_INT 0
4275: PUSH
4276: LD_INT 3
4278: PUSH
4279: LD_INT 4
4281: PUSH
4282: LD_INT 5
4284: PUSH
4285: LD_INT 0
4287: PUSH
4288: LD_INT 0
4290: PUSH
4291: LD_INT 0
4293: PUSH
4294: LD_INT 0
4296: PUSH
4297: LD_INT 0
4299: PUSH
4300: LD_INT 0
4302: PUSH
4303: LD_INT 0
4305: PUSH
4306: EMPTY
4307: LIST
4308: LIST
4309: LIST
4310: LIST
4311: LIST
4312: LIST
4313: LIST
4314: LIST
4315: LIST
4316: LIST
4317: LIST
4318: ST_TO_ADDR
// WarForTerritory_Points = [ 0 , 0 , 0 , 0 , 200 , 300 , 500 , 700 , 1000 , 1500 , 2000 ] ;
4319: LD_ADDR_EXP 64
4323: PUSH
4324: LD_INT 0
4326: PUSH
4327: LD_INT 0
4329: PUSH
4330: LD_INT 0
4332: PUSH
4333: LD_INT 0
4335: PUSH
4336: LD_INT 200
4338: PUSH
4339: LD_INT 300
4341: PUSH
4342: LD_INT 500
4344: PUSH
4345: LD_INT 700
4347: PUSH
4348: LD_INT 1000
4350: PUSH
4351: LD_INT 1500
4353: PUSH
4354: LD_INT 2000
4356: PUSH
4357: EMPTY
4358: LIST
4359: LIST
4360: LIST
4361: LIST
4362: LIST
4363: LIST
4364: LIST
4365: LIST
4366: LIST
4367: LIST
4368: LIST
4369: ST_TO_ADDR
// Position_Sides := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
4370: LD_ADDR_EXP 62
4374: PUSH
4375: LD_INT 0
4377: PUSH
4378: LD_INT 0
4380: PUSH
4381: LD_INT 0
4383: PUSH
4384: LD_INT 0
4386: PUSH
4387: LD_INT 0
4389: PUSH
4390: LD_INT 0
4392: PUSH
4393: LD_INT 0
4395: PUSH
4396: LD_INT 0
4398: PUSH
4399: EMPTY
4400: LIST
4401: LIST
4402: LIST
4403: LIST
4404: LIST
4405: LIST
4406: LIST
4407: LIST
4408: ST_TO_ADDR
// siberite_bomb_Delay := [ 0 , 1 , 30 30$00 , 60 60$00 , 90 90$00 , 120 120$00 ] ;
4409: LD_ADDR_EXP 66
4413: PUSH
4414: LD_INT 0
4416: PUSH
4417: LD_INT 1
4419: PUSH
4420: LD_INT 63000
4422: PUSH
4423: LD_INT 126000
4425: PUSH
4426: LD_INT 189000
4428: PUSH
4429: LD_INT 252000
4431: PUSH
4432: EMPTY
4433: LIST
4434: LIST
4435: LIST
4436: LIST
4437: LIST
4438: LIST
4439: ST_TO_ADDR
// end ;
4440: LD_VAR 0 1
4444: RET
// export function init_map ; var i ; begin
4445: LD_INT 0
4447: PPUSH
4448: PPUSH
// base_level = base_level [ def_base_level + 1 ] ;
4449: LD_ADDR_EXP 37
4453: PUSH
4454: LD_EXP 37
4458: PUSH
4459: LD_EXP 10
4463: PUSH
4464: LD_INT 1
4466: PLUS
4467: ARRAY
4468: ST_TO_ADDR
// number_of_people = number_of_people [ def_amount_of_people + 1 ] ;
4469: LD_ADDR_EXP 40
4473: PUSH
4474: LD_EXP 40
4478: PUSH
4479: LD_EXP 11
4483: PUSH
4484: LD_INT 1
4486: PLUS
4487: ARRAY
4488: ST_TO_ADDR
// number_of_apemen = number_of_apemen [ def_amount_of_apemen_in_team + 1 ] ;
4489: LD_ADDR_EXP 41
4493: PUSH
4494: LD_EXP 41
4498: PUSH
4499: LD_EXP 12
4503: PUSH
4504: LD_INT 1
4506: PLUS
4507: ARRAY
4508: ST_TO_ADDR
// initial_level = initial_level [ def_initial_level + 1 ] ;
4509: LD_ADDR_EXP 42
4513: PUSH
4514: LD_EXP 42
4518: PUSH
4519: LD_EXP 13
4523: PUSH
4524: LD_INT 1
4526: PLUS
4527: ARRAY
4528: ST_TO_ADDR
// starting_resources = starting_resources [ def_starting_resources + 1 ] ;
4529: LD_ADDR_EXP 44
4533: PUSH
4534: LD_EXP 44
4538: PUSH
4539: LD_EXP 15
4543: PUSH
4544: LD_INT 1
4546: PLUS
4547: ARRAY
4548: ST_TO_ADDR
// starting_crates = starting_crates [ def_starting_resources + 1 ] ;
4549: LD_ADDR_EXP 43
4553: PUSH
4554: LD_EXP 43
4558: PUSH
4559: LD_EXP 15
4563: PUSH
4564: LD_INT 1
4566: PLUS
4567: ARRAY
4568: ST_TO_ADDR
// Tech_Level = def_tech_level ;
4569: LD_ADDR_EXP 56
4573: PUSH
4574: LD_EXP 26
4578: ST_TO_ADDR
// Hustota_Zasilek ;
4579: CALL 2179 0 0
// spawning_koef_of_apemen = spawning_koef_of_apemen [ def_amount_of_apemen + 1 ] ;
4583: LD_ADDR_EXP 47
4587: PUSH
4588: LD_EXP 47
4592: PUSH
4593: LD_EXP 22
4597: PUSH
4598: LD_INT 1
4600: PLUS
4601: ARRAY
4602: ST_TO_ADDR
// spawning_koef_of_tiger = spawning_koef_of_tiger [ def_amount_of_tiger + 1 ] ;
4603: LD_ADDR_EXP 48
4607: PUSH
4608: LD_EXP 48
4612: PUSH
4613: LD_EXP 23
4617: PUSH
4618: LD_INT 1
4620: PLUS
4621: ARRAY
4622: ST_TO_ADDR
// respawning_time_min = respawning_time_min [ def_people_respawning + 1 ] ;
4623: LD_ADDR_EXP 49
4627: PUSH
4628: LD_EXP 49
4632: PUSH
4633: LD_EXP 25
4637: PUSH
4638: LD_INT 1
4640: PLUS
4641: ARRAY
4642: ST_TO_ADDR
// respawning_time_max = respawning_time_max [ def_people_respawning + 1 ] ;
4643: LD_ADDR_EXP 51
4647: PUSH
4648: LD_EXP 51
4652: PUSH
4653: LD_EXP 25
4657: PUSH
4658: LD_INT 1
4660: PLUS
4661: ARRAY
4662: ST_TO_ADDR
// respawning_time_delay_min = respawning_time_delay_min [ def_people_respawning + 1 ] ;
4663: LD_ADDR_EXP 53
4667: PUSH
4668: LD_EXP 53
4672: PUSH
4673: LD_EXP 25
4677: PUSH
4678: LD_INT 1
4680: PLUS
4681: ARRAY
4682: ST_TO_ADDR
// respawning_time_delay_max = respawning_time_delay_max [ def_people_respawning + 1 ] ;
4683: LD_ADDR_EXP 54
4687: PUSH
4688: LD_EXP 54
4692: PUSH
4693: LD_EXP 25
4697: PUSH
4698: LD_INT 1
4700: PLUS
4701: ARRAY
4702: ST_TO_ADDR
// daily_start = daily_start [ def_daily_start + 1 ] ;
4703: LD_ADDR_EXP 58
4707: PUSH
4708: LD_EXP 58
4712: PUSH
4713: LD_EXP 32
4717: PUSH
4718: LD_INT 1
4720: PLUS
4721: ARRAY
4722: ST_TO_ADDR
// daily_speed = daily_speed [ def_daily_speed + 1 ] ;
4723: LD_ADDR_EXP 59
4727: PUSH
4728: LD_EXP 59
4732: PUSH
4733: LD_EXP 33
4737: PUSH
4738: LD_INT 1
4740: PLUS
4741: ARRAY
4742: ST_TO_ADDR
// morale_decreasing_time = morale_decreasing_time [ def_morale_flags + 1 ] ;
4743: LD_ADDR_EXP 46
4747: PUSH
4748: LD_EXP 46
4752: PUSH
4753: LD_EXP 20
4757: PUSH
4758: LD_INT 1
4760: PLUS
4761: ARRAY
4762: ST_TO_ADDR
// battle_flags_id = [ ] ;
4763: LD_ADDR_EXP 88
4767: PUSH
4768: EMPTY
4769: ST_TO_ADDR
// heroes = [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
4770: LD_ADDR_EXP 50
4774: PUSH
4775: EMPTY
4776: PUSH
4777: EMPTY
4778: PUSH
4779: EMPTY
4780: PUSH
4781: EMPTY
4782: PUSH
4783: EMPTY
4784: PUSH
4785: EMPTY
4786: PUSH
4787: EMPTY
4788: PUSH
4789: EMPTY
4790: PUSH
4791: EMPTY
4792: LIST
4793: LIST
4794: LIST
4795: LIST
4796: LIST
4797: LIST
4798: LIST
4799: LIST
4800: ST_TO_ADDR
// final_count = final_count [ def_kings_age + 1 ] ;
4801: LD_ADDR_EXP 57
4805: PUSH
4806: LD_EXP 57
4810: PUSH
4811: LD_EXP 35
4815: PUSH
4816: LD_INT 1
4818: PLUS
4819: ARRAY
4820: ST_TO_ADDR
// WarForTerritory_flags = WarForTerritory_flags [ def_warForTerritory + 1 ] ;
4821: LD_ADDR_EXP 65
4825: PUSH
4826: LD_EXP 65
4830: PUSH
4831: LD_EXP 36
4835: PUSH
4836: LD_INT 1
4838: PLUS
4839: ARRAY
4840: ST_TO_ADDR
// WarForTerritory_Points = WarForTerritory_Points [ def_warForTerritory + 1 ] ;
4841: LD_ADDR_EXP 64
4845: PUSH
4846: LD_EXP 64
4850: PUSH
4851: LD_EXP 36
4855: PUSH
4856: LD_INT 1
4858: PLUS
4859: ARRAY
4860: ST_TO_ADDR
// buildUpTime_Delay := buildUpTime_Delay [ def_builduptime + 1 ] ;
4861: LD_ADDR_EXP 117
4865: PUSH
4866: LD_EXP 117
4870: PUSH
4871: LD_EXP 30
4875: PUSH
4876: LD_INT 1
4878: PLUS
4879: ARRAY
4880: ST_TO_ADDR
// siberite_bomb_Delay := siberite_bomb_Delay [ def_siberite_bomb + 1 ] ;
4881: LD_ADDR_EXP 66
4885: PUSH
4886: LD_EXP 66
4890: PUSH
4891: LD_EXP 29
4895: PUSH
4896: LD_INT 1
4898: PLUS
4899: ARRAY
4900: ST_TO_ADDR
// for i = 1 to depot_def + 0 do
4901: LD_ADDR_VAR 0 2
4905: PUSH
4906: DOUBLE
4907: LD_INT 1
4909: DEC
4910: ST_TO_ADDR
4911: LD_EXP 80
4915: PUSH
4916: LD_INT 0
4918: PLUS
4919: PUSH
4920: FOR_TO
4921: IFFALSE 5027
// start_def := start_def ^ [ [ ShiftX ( depot_def [ i ] [ 1 ] , depot_def [ i ] [ 3 ] mod 6 , 6 ) , ShiftY ( depot_def [ i ] [ 2 ] , depot_def [ i ] [ 3 ] mod 6 , 6 ) ] ] ;
4923: LD_ADDR_EXP 82
4927: PUSH
4928: LD_EXP 82
4932: PUSH
4933: LD_EXP 80
4937: PUSH
4938: LD_VAR 0 2
4942: ARRAY
4943: PUSH
4944: LD_INT 1
4946: ARRAY
4947: PPUSH
4948: LD_EXP 80
4952: PUSH
4953: LD_VAR 0 2
4957: ARRAY
4958: PUSH
4959: LD_INT 3
4961: ARRAY
4962: PUSH
4963: LD_INT 6
4965: MOD
4966: PPUSH
4967: LD_INT 6
4969: PPUSH
4970: CALL_OW 272
4974: PUSH
4975: LD_EXP 80
4979: PUSH
4980: LD_VAR 0 2
4984: ARRAY
4985: PUSH
4986: LD_INT 2
4988: ARRAY
4989: PPUSH
4990: LD_EXP 80
4994: PUSH
4995: LD_VAR 0 2
4999: ARRAY
5000: PUSH
5001: LD_INT 3
5003: ARRAY
5004: PUSH
5005: LD_INT 6
5007: MOD
5008: PPUSH
5009: LD_INT 6
5011: PPUSH
5012: CALL_OW 273
5016: PUSH
5017: EMPTY
5018: LIST
5019: LIST
5020: PUSH
5021: EMPTY
5022: LIST
5023: ADD
5024: ST_TO_ADDR
5025: GO 4920
5027: POP
5028: POP
// if not Game_Type in GT_Survival then
5029: LD_EXP 1
5033: PUSH
5034: LD_EXP 6
5038: IN
5039: NOT
5040: IFFALSE 5222
// begin for i in oil_deposits_locations do
5042: LD_ADDR_VAR 0 2
5046: PUSH
5047: LD_EXP 85
5051: PUSH
5052: FOR_IN
5053: IFFALSE 5082
// CreateDepositXY ( i [ 1 ] , i [ 2 ] , mat_oil ) ;
5055: LD_VAR 0 2
5059: PUSH
5060: LD_INT 1
5062: ARRAY
5063: PPUSH
5064: LD_VAR 0 2
5068: PUSH
5069: LD_INT 2
5071: ARRAY
5072: PPUSH
5073: LD_INT 2
5075: PPUSH
5076: CALL_OW 62
5080: GO 5052
5082: POP
5083: POP
// for i in siberite_deposits_locations do
5084: LD_ADDR_VAR 0 2
5088: PUSH
5089: LD_EXP 87
5093: PUSH
5094: FOR_IN
5095: IFFALSE 5124
// CreateDepositXY ( i [ 1 ] , i [ 2 ] , mat_siberit ) ;
5097: LD_VAR 0 2
5101: PUSH
5102: LD_INT 1
5104: ARRAY
5105: PPUSH
5106: LD_VAR 0 2
5110: PUSH
5111: LD_INT 2
5113: ARRAY
5114: PPUSH
5115: LD_INT 3
5117: PPUSH
5118: CALL_OW 62
5122: GO 5094
5124: POP
5125: POP
// if def_extra_oil_deposits then
5126: LD_EXP 17
5130: IFFALSE 5174
// for i in extra_oil_deposits_locations do
5132: LD_ADDR_VAR 0 2
5136: PUSH
5137: LD_EXP 84
5141: PUSH
5142: FOR_IN
5143: IFFALSE 5172
// CreateDepositXY ( i [ 1 ] , i [ 2 ] , mat_oil ) ;
5145: LD_VAR 0 2
5149: PUSH
5150: LD_INT 1
5152: ARRAY
5153: PPUSH
5154: LD_VAR 0 2
5158: PUSH
5159: LD_INT 2
5161: ARRAY
5162: PPUSH
5163: LD_INT 2
5165: PPUSH
5166: CALL_OW 62
5170: GO 5142
5172: POP
5173: POP
// if def_extra_sib_deposits then
5174: LD_EXP 18
5178: IFFALSE 5222
// for i in extra_sib_deposits_locations do
5180: LD_ADDR_VAR 0 2
5184: PUSH
5185: LD_EXP 86
5189: PUSH
5190: FOR_IN
5191: IFFALSE 5220
// CreateDepositXY ( i [ 1 ] , i [ 2 ] , mat_siberit ) ;
5193: LD_VAR 0 2
5197: PUSH
5198: LD_INT 1
5200: ARRAY
5201: PPUSH
5202: LD_VAR 0 2
5206: PUSH
5207: LD_INT 2
5209: ARRAY
5210: PPUSH
5211: LD_INT 3
5213: PPUSH
5214: CALL_OW 62
5218: GO 5190
5220: POP
5221: POP
// end ; for i := 1 to 8 do
5222: LD_ADDR_VAR 0 2
5226: PUSH
5227: DOUBLE
5228: LD_INT 1
5230: DEC
5231: ST_TO_ADDR
5232: LD_INT 8
5234: PUSH
5235: FOR_TO
5236: IFFALSE 5283
// if Side_Positions [ i ] then
5238: LD_EXP 74
5242: PUSH
5243: LD_VAR 0 2
5247: ARRAY
5248: IFFALSE 5281
// Position_Sides := Replace ( Position_Sides , Side_Positions [ i ] , i ) ;
5250: LD_ADDR_EXP 62
5254: PUSH
5255: LD_EXP 62
5259: PPUSH
5260: LD_EXP 74
5264: PUSH
5265: LD_VAR 0 2
5269: ARRAY
5270: PPUSH
5271: LD_VAR 0 2
5275: PPUSH
5276: CALL_OW 1
5280: ST_TO_ADDR
5281: GO 5235
5283: POP
5284: POP
// end ;
5285: LD_VAR 0 1
5289: RET
// export function set_shared_visions_and_alliances ; var i , j ; begin
5290: LD_INT 0
5292: PPUSH
5293: PPUSH
5294: PPUSH
// Team_Game := ( Side_Teams diff [ 0 ] ) > 1 ;
5295: LD_ADDR_EXP 79
5299: PUSH
5300: LD_EXP 71
5304: PUSH
5305: LD_INT 0
5307: PUSH
5308: EMPTY
5309: LIST
5310: DIFF
5311: PUSH
5312: LD_INT 1
5314: GREATER
5315: ST_TO_ADDR
// if not Team_Game then
5316: LD_EXP 79
5320: NOT
5321: IFFALSE 5419
// begin for i = 1 to 8 do
5323: LD_ADDR_VAR 0 2
5327: PUSH
5328: DOUBLE
5329: LD_INT 1
5331: DEC
5332: ST_TO_ADDR
5333: LD_INT 8
5335: PUSH
5336: FOR_TO
5337: IFFALSE 5415
// for j = 1 to 8 do
5339: LD_ADDR_VAR 0 3
5343: PUSH
5344: DOUBLE
5345: LD_INT 1
5347: DEC
5348: ST_TO_ADDR
5349: LD_INT 8
5351: PUSH
5352: FOR_TO
5353: IFFALSE 5411
// if i <> j then
5355: LD_VAR 0 2
5359: PUSH
5360: LD_VAR 0 3
5364: NONEQUAL
5365: IFFALSE 5389
// SetAttitude ( i , j , att_neutral , true ) else
5367: LD_VAR 0 2
5371: PPUSH
5372: LD_VAR 0 3
5376: PPUSH
5377: LD_INT 0
5379: PPUSH
5380: LD_INT 1
5382: PPUSH
5383: CALL_OW 80
5387: GO 5409
// SetAttitude ( i , j , att_friend , true ) ;
5389: LD_VAR 0 2
5393: PPUSH
5394: LD_VAR 0 3
5398: PPUSH
5399: LD_INT 1
5401: PPUSH
5402: LD_INT 1
5404: PPUSH
5405: CALL_OW 80
5409: GO 5352
5411: POP
5412: POP
5413: GO 5336
5415: POP
5416: POP
// end else
5417: GO 5594
// begin if def_shared_vision then
5419: LD_EXP 19
5423: IFFALSE 5488
// begin for i in Teams do
5425: LD_ADDR_VAR 0 2
5429: PUSH
5430: LD_EXP 72
5434: PUSH
5435: FOR_IN
5436: IFFALSE 5486
// for j = 2 to i do
5438: LD_ADDR_VAR 0 3
5442: PUSH
5443: DOUBLE
5444: LD_INT 2
5446: DEC
5447: ST_TO_ADDR
5448: LD_VAR 0 2
5452: PUSH
5453: FOR_TO
5454: IFFALSE 5482
// ChangeSideFog ( i [ j ] , i [ 1 ] ) ;
5456: LD_VAR 0 2
5460: PUSH
5461: LD_VAR 0 3
5465: ARRAY
5466: PPUSH
5467: LD_VAR 0 2
5471: PUSH
5472: LD_INT 1
5474: ARRAY
5475: PPUSH
5476: CALL_OW 343
5480: GO 5453
5482: POP
5483: POP
5484: GO 5435
5486: POP
5487: POP
// end ; for i = 1 to 8 do
5488: LD_ADDR_VAR 0 2
5492: PUSH
5493: DOUBLE
5494: LD_INT 1
5496: DEC
5497: ST_TO_ADDR
5498: LD_INT 8
5500: PUSH
5501: FOR_TO
5502: IFFALSE 5592
// for j = 1 to 8 do
5504: LD_ADDR_VAR 0 3
5508: PUSH
5509: DOUBLE
5510: LD_INT 1
5512: DEC
5513: ST_TO_ADDR
5514: LD_INT 8
5516: PUSH
5517: FOR_TO
5518: IFFALSE 5588
// if Side_Teams [ i ] = Side_Teams [ j ] then
5520: LD_EXP 71
5524: PUSH
5525: LD_VAR 0 2
5529: ARRAY
5530: PUSH
5531: LD_EXP 71
5535: PUSH
5536: LD_VAR 0 3
5540: ARRAY
5541: EQUAL
5542: IFFALSE 5566
// SetAttitude ( i , j , att_friend , true ) else
5544: LD_VAR 0 2
5548: PPUSH
5549: LD_VAR 0 3
5553: PPUSH
5554: LD_INT 1
5556: PPUSH
5557: LD_INT 1
5559: PPUSH
5560: CALL_OW 80
5564: GO 5586
// SetAttitude ( i , j , att_enemy , true ) ;
5566: LD_VAR 0 2
5570: PPUSH
5571: LD_VAR 0 3
5575: PPUSH
5576: LD_INT 2
5578: PPUSH
5579: LD_INT 1
5581: PPUSH
5582: CALL_OW 80
5586: GO 5517
5588: POP
5589: POP
5590: GO 5501
5592: POP
5593: POP
// end ; end ;
5594: LD_VAR 0 1
5598: RET
// export function prepare_sides ; var i , pos ; begin
5599: LD_INT 0
5601: PPUSH
5602: PPUSH
5603: PPUSH
// global_units = [ ] ;
5604: LD_ADDR_EXP 92
5608: PUSH
5609: EMPTY
5610: ST_TO_ADDR
// global_classes = [ ] ;
5611: LD_ADDR_EXP 96
5615: PUSH
5616: EMPTY
5617: ST_TO_ADDR
// global_defined := false ;
5618: LD_ADDR_EXP 93
5622: PUSH
5623: LD_INT 0
5625: ST_TO_ADDR
// pozice_beden = [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
5626: LD_ADDR_EXP 8
5630: PUSH
5631: EMPTY
5632: PUSH
5633: EMPTY
5634: PUSH
5635: EMPTY
5636: PUSH
5637: EMPTY
5638: PUSH
5639: EMPTY
5640: PUSH
5641: EMPTY
5642: PUSH
5643: EMPTY
5644: PUSH
5645: EMPTY
5646: PUSH
5647: EMPTY
5648: LIST
5649: LIST
5650: LIST
5651: LIST
5652: LIST
5653: LIST
5654: LIST
5655: LIST
5656: ST_TO_ADDR
// for i := 1 to 8 do
5657: LD_ADDR_VAR 0 2
5661: PUSH
5662: DOUBLE
5663: LD_INT 1
5665: DEC
5666: ST_TO_ADDR
5667: LD_INT 8
5669: PUSH
5670: FOR_TO
5671: IFFALSE 6136
// if Side_Positions [ i ] then
5673: LD_EXP 74
5677: PUSH
5678: LD_VAR 0 2
5682: ARRAY
5683: IFFALSE 6134
// begin pos := Side_Positions [ i ] ;
5685: LD_ADDR_VAR 0 3
5689: PUSH
5690: LD_EXP 74
5694: PUSH
5695: LD_VAR 0 2
5699: ARRAY
5700: ST_TO_ADDR
// if Game_Type in GT_DoubleNat ^ GT_DoublePeople then
5701: LD_EXP 1
5705: PUSH
5706: LD_EXP 3
5710: PUSH
5711: LD_EXP 4
5715: ADD
5716: IN
5717: IFFALSE 5927
// begin if Game_Type in GT_DoubleNat then
5719: LD_EXP 1
5723: PUSH
5724: LD_EXP 3
5728: IN
5729: IFFALSE 5833
// begin prepare_side ( i , pos , Position_Nations [ i ] [ 1 ] ) ;
5731: LD_VAR 0 2
5735: PPUSH
5736: LD_VAR 0 3
5740: PPUSH
5741: LD_EXP 52
5745: PUSH
5746: LD_VAR 0 2
5750: ARRAY
5751: PUSH
5752: LD_INT 1
5754: ARRAY
5755: PPUSH
5756: CALL 6516 0 3
// prepare_side ( i , pos + 1 , Position_Nations [ i ] [ 2 ] ) ;
5760: LD_VAR 0 2
5764: PPUSH
5765: LD_VAR 0 3
5769: PUSH
5770: LD_INT 1
5772: PLUS
5773: PPUSH
5774: LD_EXP 52
5778: PUSH
5779: LD_VAR 0 2
5783: ARRAY
5784: PUSH
5785: LD_INT 2
5787: ARRAY
5788: PPUSH
5789: CALL 6516 0 3
// pozice_beden = replace ( pozice_beden , i , [ pos , pos + 1 ] ) ;
5793: LD_ADDR_EXP 8
5797: PUSH
5798: LD_EXP 8
5802: PPUSH
5803: LD_VAR 0 2
5807: PPUSH
5808: LD_VAR 0 3
5812: PUSH
5813: LD_VAR 0 3
5817: PUSH
5818: LD_INT 1
5820: PLUS
5821: PUSH
5822: EMPTY
5823: LIST
5824: LIST
5825: PPUSH
5826: CALL_OW 1
5830: ST_TO_ADDR
// end else
5831: GO 5925
// begin prepare_side ( i , pos , Side_Nations [ i ] ) ;
5833: LD_VAR 0 2
5837: PPUSH
5838: LD_VAR 0 3
5842: PPUSH
5843: LD_EXP 75
5847: PUSH
5848: LD_VAR 0 2
5852: ARRAY
5853: PPUSH
5854: CALL 6516 0 3
// prepare_side ( i , pos + 1 , Side_Nations [ i ] ) ;
5858: LD_VAR 0 2
5862: PPUSH
5863: LD_VAR 0 3
5867: PUSH
5868: LD_INT 1
5870: PLUS
5871: PPUSH
5872: LD_EXP 75
5876: PUSH
5877: LD_VAR 0 2
5881: ARRAY
5882: PPUSH
5883: CALL 6516 0 3
// pozice_beden = replace ( pozice_beden , i , [ pos , pos + 1 ] ) ;
5887: LD_ADDR_EXP 8
5891: PUSH
5892: LD_EXP 8
5896: PPUSH
5897: LD_VAR 0 2
5901: PPUSH
5902: LD_VAR 0 3
5906: PUSH
5907: LD_VAR 0 3
5911: PUSH
5912: LD_INT 1
5914: PLUS
5915: PUSH
5916: EMPTY
5917: LIST
5918: LIST
5919: PPUSH
5920: CALL_OW 1
5924: ST_TO_ADDR
// end ; end else
5925: GO 6109
// if game_type in GT_TripleNat then
5927: LD_EXP 1
5931: PUSH
5932: LD_EXP 5
5936: IN
5937: IFFALSE 6084
// begin prepare_side ( i , pos , Position_Nations [ i ] [ 1 ] ) ;
5939: LD_VAR 0 2
5943: PPUSH
5944: LD_VAR 0 3
5948: PPUSH
5949: LD_EXP 52
5953: PUSH
5954: LD_VAR 0 2
5958: ARRAY
5959: PUSH
5960: LD_INT 1
5962: ARRAY
5963: PPUSH
5964: CALL 6516 0 3
// prepare_side ( i , pos + 1 , Position_Nations [ i ] [ 2 ] ) ;
5968: LD_VAR 0 2
5972: PPUSH
5973: LD_VAR 0 3
5977: PUSH
5978: LD_INT 1
5980: PLUS
5981: PPUSH
5982: LD_EXP 52
5986: PUSH
5987: LD_VAR 0 2
5991: ARRAY
5992: PUSH
5993: LD_INT 2
5995: ARRAY
5996: PPUSH
5997: CALL 6516 0 3
// prepare_side ( i , pos + 2 , Position_Nations [ i ] [ 3 ] ) ;
6001: LD_VAR 0 2
6005: PPUSH
6006: LD_VAR 0 3
6010: PUSH
6011: LD_INT 2
6013: PLUS
6014: PPUSH
6015: LD_EXP 52
6019: PUSH
6020: LD_VAR 0 2
6024: ARRAY
6025: PUSH
6026: LD_INT 3
6028: ARRAY
6029: PPUSH
6030: CALL 6516 0 3
// pozice_beden = replace ( pozice_beden , i , [ pos , pos + 1 , pos + 2 ] ) ;
6034: LD_ADDR_EXP 8
6038: PUSH
6039: LD_EXP 8
6043: PPUSH
6044: LD_VAR 0 2
6048: PPUSH
6049: LD_VAR 0 3
6053: PUSH
6054: LD_VAR 0 3
6058: PUSH
6059: LD_INT 1
6061: PLUS
6062: PUSH
6063: LD_VAR 0 3
6067: PUSH
6068: LD_INT 2
6070: PLUS
6071: PUSH
6072: EMPTY
6073: LIST
6074: LIST
6075: LIST
6076: PPUSH
6077: CALL_OW 1
6081: ST_TO_ADDR
// end else
6082: GO 6109
// prepare_side ( i , pos , Side_Nations [ i ] ) ;
6084: LD_VAR 0 2
6088: PPUSH
6089: LD_VAR 0 3
6093: PPUSH
6094: LD_EXP 75
6098: PUSH
6099: LD_VAR 0 2
6103: ARRAY
6104: PPUSH
6105: CALL 6516 0 3
// pozice_beden = replace ( pozice_beden , i , pos ) ;
6109: LD_ADDR_EXP 8
6113: PUSH
6114: LD_EXP 8
6118: PPUSH
6119: LD_VAR 0 2
6123: PPUSH
6124: LD_VAR 0 3
6128: PPUSH
6129: CALL_OW 1
6133: ST_TO_ADDR
// end ;
6134: GO 5670
6136: POP
6137: POP
// end ;
6138: LD_VAR 0 1
6142: RET
// export function Modify_Nations ; var i , n ; begin
6143: LD_INT 0
6145: PPUSH
6146: PPUSH
6147: PPUSH
// Position_Nations := [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
6148: LD_ADDR_EXP 52
6152: PUSH
6153: EMPTY
6154: PUSH
6155: EMPTY
6156: PUSH
6157: EMPTY
6158: PUSH
6159: EMPTY
6160: PUSH
6161: EMPTY
6162: PUSH
6163: EMPTY
6164: PUSH
6165: EMPTY
6166: PUSH
6167: EMPTY
6168: PUSH
6169: EMPTY
6170: LIST
6171: LIST
6172: LIST
6173: LIST
6174: LIST
6175: LIST
6176: LIST
6177: LIST
6178: ST_TO_ADDR
// if game_type in GT_doublenat then
6179: LD_EXP 1
6183: PUSH
6184: LD_EXP 3
6188: IN
6189: IFFALSE 6340
// begin for i = 1 to 8 do
6191: LD_ADDR_VAR 0 2
6195: PUSH
6196: DOUBLE
6197: LD_INT 1
6199: DEC
6200: ST_TO_ADDR
6201: LD_INT 8
6203: PUSH
6204: FOR_TO
6205: IFFALSE 6336
// if side_positions [ i ] then
6207: LD_EXP 74
6211: PUSH
6212: LD_VAR 0 2
6216: ARRAY
6217: IFFALSE 6334
// begin case side_nations [ i ] of 1 :
6219: LD_EXP 75
6223: PUSH
6224: LD_VAR 0 2
6228: ARRAY
6229: PUSH
6230: LD_INT 1
6232: DOUBLE
6233: EQUAL
6234: IFTRUE 6238
6236: GO 6256
6238: POP
// n = [ 1 , 2 ] ; 2 :
6239: LD_ADDR_VAR 0 3
6243: PUSH
6244: LD_INT 1
6246: PUSH
6247: LD_INT 2
6249: PUSH
6250: EMPTY
6251: LIST
6252: LIST
6253: ST_TO_ADDR
6254: GO 6309
6256: LD_INT 2
6258: DOUBLE
6259: EQUAL
6260: IFTRUE 6264
6262: GO 6282
6264: POP
// n = [ 2 , 3 ] ; 3 :
6265: LD_ADDR_VAR 0 3
6269: PUSH
6270: LD_INT 2
6272: PUSH
6273: LD_INT 3
6275: PUSH
6276: EMPTY
6277: LIST
6278: LIST
6279: ST_TO_ADDR
6280: GO 6309
6282: LD_INT 3
6284: DOUBLE
6285: EQUAL
6286: IFTRUE 6290
6288: GO 6308
6290: POP
// n = [ 3 , 1 ] ; end ;
6291: LD_ADDR_VAR 0 3
6295: PUSH
6296: LD_INT 3
6298: PUSH
6299: LD_INT 1
6301: PUSH
6302: EMPTY
6303: LIST
6304: LIST
6305: ST_TO_ADDR
6306: GO 6309
6308: POP
// Position_Nations = replace ( position_nations , i , n ) ;
6309: LD_ADDR_EXP 52
6313: PUSH
6314: LD_EXP 52
6318: PPUSH
6319: LD_VAR 0 2
6323: PPUSH
6324: LD_VAR 0 3
6328: PPUSH
6329: CALL_OW 1
6333: ST_TO_ADDR
// end ;
6334: GO 6204
6336: POP
6337: POP
// end else
6338: GO 6511
// if game_type in GT_triplenat then
6340: LD_EXP 1
6344: PUSH
6345: LD_EXP 5
6349: IN
6350: IFFALSE 6511
// begin for i = 1 to 8 do
6352: LD_ADDR_VAR 0 2
6356: PUSH
6357: DOUBLE
6358: LD_INT 1
6360: DEC
6361: ST_TO_ADDR
6362: LD_INT 8
6364: PUSH
6365: FOR_TO
6366: IFFALSE 6509
// if side_positions [ i ] then
6368: LD_EXP 74
6372: PUSH
6373: LD_VAR 0 2
6377: ARRAY
6378: IFFALSE 6507
// begin case side_nations [ i ] of 1 :
6380: LD_EXP 75
6384: PUSH
6385: LD_VAR 0 2
6389: ARRAY
6390: PUSH
6391: LD_INT 1
6393: DOUBLE
6394: EQUAL
6395: IFTRUE 6399
6397: GO 6421
6399: POP
// n = [ 1 , 2 , 3 ] ; 2 :
6400: LD_ADDR_VAR 0 3
6404: PUSH
6405: LD_INT 1
6407: PUSH
6408: LD_INT 2
6410: PUSH
6411: LD_INT 3
6413: PUSH
6414: EMPTY
6415: LIST
6416: LIST
6417: LIST
6418: ST_TO_ADDR
6419: GO 6482
6421: LD_INT 2
6423: DOUBLE
6424: EQUAL
6425: IFTRUE 6429
6427: GO 6451
6429: POP
// n = [ 2 , 3 , 1 ] ; 3 :
6430: LD_ADDR_VAR 0 3
6434: PUSH
6435: LD_INT 2
6437: PUSH
6438: LD_INT 3
6440: PUSH
6441: LD_INT 1
6443: PUSH
6444: EMPTY
6445: LIST
6446: LIST
6447: LIST
6448: ST_TO_ADDR
6449: GO 6482
6451: LD_INT 3
6453: DOUBLE
6454: EQUAL
6455: IFTRUE 6459
6457: GO 6481
6459: POP
// n = [ 3 , 1 , 2 ] ; end ;
6460: LD_ADDR_VAR 0 3
6464: PUSH
6465: LD_INT 3
6467: PUSH
6468: LD_INT 1
6470: PUSH
6471: LD_INT 2
6473: PUSH
6474: EMPTY
6475: LIST
6476: LIST
6477: LIST
6478: ST_TO_ADDR
6479: GO 6482
6481: POP
// Position_Nations = replace ( position_nations , i , n ) ;
6482: LD_ADDR_EXP 52
6486: PUSH
6487: LD_EXP 52
6491: PPUSH
6492: LD_VAR 0 2
6496: PPUSH
6497: LD_VAR 0 3
6501: PPUSH
6502: CALL_OW 1
6506: ST_TO_ADDR
// end ;
6507: GO 6365
6509: POP
6510: POP
// end ; end ;
6511: LD_VAR 0 1
6515: RET
// export function prepare_side ( side , pos , nation ) ; var x , y , i , r , sol , br , dep , neng , nsci , nmech , nsol ; begin
6516: LD_INT 0
6518: PPUSH
6519: PPUSH
6520: PPUSH
6521: PPUSH
6522: PPUSH
6523: PPUSH
6524: PPUSH
6525: PPUSH
6526: PPUSH
6527: PPUSH
6528: PPUSH
6529: PPUSH
// global_count = 0 ;
6530: LD_ADDR_EXP 95
6534: PUSH
6535: LD_INT 0
6537: ST_TO_ADDR
// uc_nation := nation ;
6538: LD_ADDR_OWVAR 21
6542: PUSH
6543: LD_VAR 0 3
6547: ST_TO_ADDR
// uc_side := side ;
6548: LD_ADDR_OWVAR 20
6552: PUSH
6553: LD_VAR 0 1
6557: ST_TO_ADDR
// x := depot_def [ pos ] [ 1 ] ;
6558: LD_ADDR_VAR 0 5
6562: PUSH
6563: LD_EXP 80
6567: PUSH
6568: LD_VAR 0 2
6572: ARRAY
6573: PUSH
6574: LD_INT 1
6576: ARRAY
6577: ST_TO_ADDR
// y := depot_def [ pos ] [ 2 ] ;
6578: LD_ADDR_VAR 0 6
6582: PUSH
6583: LD_EXP 80
6587: PUSH
6588: LD_VAR 0 2
6592: ARRAY
6593: PUSH
6594: LD_INT 2
6596: ARRAY
6597: ST_TO_ADDR
// case base_level of 0 :
6598: LD_EXP 37
6602: PUSH
6603: LD_INT 0
6605: DOUBLE
6606: EQUAL
6607: IFTRUE 6611
6609: GO 6758
6611: POP
// begin for i := 1 to 3 do
6612: LD_ADDR_VAR 0 7
6616: PUSH
6617: DOUBLE
6618: LD_INT 1
6620: DEC
6621: ST_TO_ADDR
6622: LD_INT 3
6624: PUSH
6625: FOR_TO
6626: IFFALSE 6754
// begin r := starting_resources [ i ] ;
6628: LD_ADDR_VAR 0 8
6632: PUSH
6633: LD_EXP 44
6637: PUSH
6638: LD_VAR 0 7
6642: ARRAY
6643: ST_TO_ADDR
// while r >= 10 do
6644: LD_VAR 0 8
6648: PUSH
6649: LD_INT 10
6651: GREATEREQUAL
6652: IFFALSE 6752
// if r > 50 then
6654: LD_VAR 0 8
6658: PUSH
6659: LD_INT 50
6661: GREATER
6662: IFFALSE 6708
// begin CreateResourcesXYR ( i , 5 , x , y , 4 , false ) ;
6664: LD_VAR 0 7
6668: PPUSH
6669: LD_INT 5
6671: PPUSH
6672: LD_VAR 0 5
6676: PPUSH
6677: LD_VAR 0 6
6681: PPUSH
6682: LD_INT 4
6684: PPUSH
6685: LD_INT 0
6687: PPUSH
6688: CALL_OW 60
// r := r - 50 ;
6692: LD_ADDR_VAR 0 8
6696: PUSH
6697: LD_VAR 0 8
6701: PUSH
6702: LD_INT 50
6704: MINUS
6705: ST_TO_ADDR
// end else
6706: GO 6750
// begin CreateResourcesXYR ( i , r div 10 , x , y , 4 , false ) ;
6708: LD_VAR 0 7
6712: PPUSH
6713: LD_VAR 0 8
6717: PUSH
6718: LD_INT 10
6720: DIV
6721: PPUSH
6722: LD_VAR 0 5
6726: PPUSH
6727: LD_VAR 0 6
6731: PPUSH
6732: LD_INT 4
6734: PPUSH
6735: LD_INT 0
6737: PPUSH
6738: CALL_OW 60
// r := 0 ;
6742: LD_ADDR_VAR 0 8
6746: PUSH
6747: LD_INT 0
6749: ST_TO_ADDR
// end ;
6750: GO 6644
// end ;
6752: GO 6625
6754: POP
6755: POP
// end ; 1 :
6756: GO 7023
6758: LD_INT 1
6760: DOUBLE
6761: EQUAL
6762: IFTRUE 6766
6764: GO 6890
6766: POP
// begin bc_type = b_depot ;
6767: LD_ADDR_OWVAR 42
6771: PUSH
6772: LD_INT 0
6774: ST_TO_ADDR
// dep := CreateAndPlaceBuildingXYD ( x , y , Depot_Def [ pos ] [ 3 ] ) ;
6775: LD_ADDR_VAR 0 11
6779: PUSH
6780: LD_VAR 0 5
6784: PPUSH
6785: LD_VAR 0 6
6789: PPUSH
6790: LD_EXP 80
6794: PUSH
6795: LD_VAR 0 2
6799: ARRAY
6800: PUSH
6801: LD_INT 3
6803: ARRAY
6804: PPUSH
6805: CALL_OW 47
6809: ST_TO_ADDR
// SetResourceType ( GetBase ( dep ) , mat_cans , starting_resources [ mat_cans ] ) ;
6810: LD_VAR 0 11
6814: PPUSH
6815: CALL_OW 274
6819: PPUSH
6820: LD_INT 1
6822: PPUSH
6823: LD_EXP 44
6827: PUSH
6828: LD_INT 1
6830: ARRAY
6831: PPUSH
6832: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_oil , starting_resources [ mat_oil ] ) ;
6836: LD_VAR 0 11
6840: PPUSH
6841: CALL_OW 274
6845: PPUSH
6846: LD_INT 2
6848: PPUSH
6849: LD_EXP 44
6853: PUSH
6854: LD_INT 2
6856: ARRAY
6857: PPUSH
6858: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_siberit , starting_resources [ mat_siberit ] ) ;
6862: LD_VAR 0 11
6866: PPUSH
6867: CALL_OW 274
6871: PPUSH
6872: LD_INT 3
6874: PPUSH
6875: LD_EXP 44
6879: PUSH
6880: LD_INT 3
6882: ARRAY
6883: PPUSH
6884: CALL_OW 277
// end ; 2 :
6888: GO 7023
6890: LD_INT 2
6892: DOUBLE
6893: EQUAL
6894: IFTRUE 6898
6896: GO 7022
6898: POP
// begin bc_type = b_warehouse ;
6899: LD_ADDR_OWVAR 42
6903: PUSH
6904: LD_INT 1
6906: ST_TO_ADDR
// dep := CreateAndPlaceBuildingXYD ( x , y , Depot_Def [ pos ] [ 3 ] ) ;
6907: LD_ADDR_VAR 0 11
6911: PUSH
6912: LD_VAR 0 5
6916: PPUSH
6917: LD_VAR 0 6
6921: PPUSH
6922: LD_EXP 80
6926: PUSH
6927: LD_VAR 0 2
6931: ARRAY
6932: PUSH
6933: LD_INT 3
6935: ARRAY
6936: PPUSH
6937: CALL_OW 47
6941: ST_TO_ADDR
// SetResourceType ( GetBase ( dep ) , mat_cans , starting_resources [ mat_cans ] ) ;
6942: LD_VAR 0 11
6946: PPUSH
6947: CALL_OW 274
6951: PPUSH
6952: LD_INT 1
6954: PPUSH
6955: LD_EXP 44
6959: PUSH
6960: LD_INT 1
6962: ARRAY
6963: PPUSH
6964: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_oil , starting_resources [ mat_oil ] ) ;
6968: LD_VAR 0 11
6972: PPUSH
6973: CALL_OW 274
6977: PPUSH
6978: LD_INT 2
6980: PPUSH
6981: LD_EXP 44
6985: PUSH
6986: LD_INT 2
6988: ARRAY
6989: PPUSH
6990: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_siberit , starting_resources [ mat_siberit ] ) ;
6994: LD_VAR 0 11
6998: PPUSH
6999: CALL_OW 274
7003: PPUSH
7004: LD_INT 3
7006: PPUSH
7007: LD_EXP 44
7011: PUSH
7012: LD_INT 3
7014: ARRAY
7015: PPUSH
7016: CALL_OW 277
// end ; end ;
7020: GO 7023
7022: POP
// x := start_def [ pos ] [ 1 ] ;
7023: LD_ADDR_VAR 0 5
7027: PUSH
7028: LD_EXP 82
7032: PUSH
7033: LD_VAR 0 2
7037: ARRAY
7038: PUSH
7039: LD_INT 1
7041: ARRAY
7042: ST_TO_ADDR
// y := start_def [ pos ] [ 2 ] ;
7043: LD_ADDR_VAR 0 6
7047: PUSH
7048: LD_EXP 82
7052: PUSH
7053: LD_VAR 0 2
7057: ARRAY
7058: PUSH
7059: LD_INT 2
7061: ARRAY
7062: ST_TO_ADDR
// for r in starting_crates do
7063: LD_ADDR_VAR 0 8
7067: PUSH
7068: LD_EXP 43
7072: PUSH
7073: FOR_IN
7074: IFFALSE 7106
// CreateResourcesXYR ( mat_cans , 5 , x , y , r , false ) ;
7076: LD_INT 1
7078: PPUSH
7079: LD_INT 5
7081: PPUSH
7082: LD_VAR 0 5
7086: PPUSH
7087: LD_VAR 0 6
7091: PPUSH
7092: LD_VAR 0 8
7096: PPUSH
7097: LD_INT 0
7099: PPUSH
7100: CALL_OW 60
7104: GO 7073
7106: POP
7107: POP
// if def_morale_flags then
7108: LD_EXP 20
7112: IFFALSE 7277
// if not def_WarForTerritory then
7114: LD_EXP 36
7118: NOT
7119: IFFALSE 7200
// battle_flags_id := battle_flags_id ^ SetBattleFlag ( side , x , y , [ [ bfo_defend_bonus_human , 100 ] , [ bfo_defend_bonus_vehicle , 50 ] , [ bfo_defend_bonus_building , 20 ] , [ bfo_height , 100 ] ] ) else
7121: LD_ADDR_EXP 88
7125: PUSH
7126: LD_EXP 88
7130: PUSH
7131: LD_VAR 0 1
7135: PPUSH
7136: LD_VAR 0 5
7140: PPUSH
7141: LD_VAR 0 6
7145: PPUSH
7146: LD_INT 1
7148: PUSH
7149: LD_INT 100
7151: PUSH
7152: EMPTY
7153: LIST
7154: LIST
7155: PUSH
7156: LD_INT 2
7158: PUSH
7159: LD_INT 50
7161: PUSH
7162: EMPTY
7163: LIST
7164: LIST
7165: PUSH
7166: LD_INT 3
7168: PUSH
7169: LD_INT 20
7171: PUSH
7172: EMPTY
7173: LIST
7174: LIST
7175: PUSH
7176: LD_INT 20
7178: PUSH
7179: LD_INT 100
7181: PUSH
7182: EMPTY
7183: LIST
7184: LIST
7185: PUSH
7186: EMPTY
7187: LIST
7188: LIST
7189: LIST
7190: LIST
7191: PPUSH
7192: CALL_OW 418
7196: ADD
7197: ST_TO_ADDR
7198: GO 7277
// battle_flags_id := battle_flags_id ^ SetBattleFlag ( side , x , y , [ [ bfo_defend_bonus_human , 200 ] , [ bfo_defend_bonus_vehicle , 100 ] , [ bfo_defend_bonus_building , 50 ] , [ bfo_height , 100 ] ] ) ;
7200: LD_ADDR_EXP 88
7204: PUSH
7205: LD_EXP 88
7209: PUSH
7210: LD_VAR 0 1
7214: PPUSH
7215: LD_VAR 0 5
7219: PPUSH
7220: LD_VAR 0 6
7224: PPUSH
7225: LD_INT 1
7227: PUSH
7228: LD_INT 200
7230: PUSH
7231: EMPTY
7232: LIST
7233: LIST
7234: PUSH
7235: LD_INT 2
7237: PUSH
7238: LD_INT 100
7240: PUSH
7241: EMPTY
7242: LIST
7243: LIST
7244: PUSH
7245: LD_INT 3
7247: PUSH
7248: LD_INT 50
7250: PUSH
7251: EMPTY
7252: LIST
7253: LIST
7254: PUSH
7255: LD_INT 20
7257: PUSH
7258: LD_INT 100
7260: PUSH
7261: EMPTY
7262: LIST
7263: LIST
7264: PUSH
7265: EMPTY
7266: LIST
7267: LIST
7268: LIST
7269: LIST
7270: PPUSH
7271: CALL_OW 418
7275: ADD
7276: ST_TO_ADDR
// if for_show_near_resources then
7277: LD_EXP 63
7281: IFFALSE 7415
// begin for i in for_show_near_resources [ pos ] [ 1 ] do
7283: LD_ADDR_VAR 0 7
7287: PUSH
7288: LD_EXP 63
7292: PUSH
7293: LD_VAR 0 2
7297: ARRAY
7298: PUSH
7299: LD_INT 1
7301: ARRAY
7302: PUSH
7303: FOR_IN
7304: IFFALSE 7335
// SetResourceVisibility ( i [ 1 ] , i [ 2 ] , side ) ;
7306: LD_VAR 0 7
7310: PUSH
7311: LD_INT 1
7313: ARRAY
7314: PPUSH
7315: LD_VAR 0 7
7319: PUSH
7320: LD_INT 2
7322: ARRAY
7323: PPUSH
7324: LD_VAR 0 1
7328: PPUSH
7329: CALL_OW 441
7333: GO 7303
7335: POP
7336: POP
// if def_siberite_detection and GetTech ( tech_sibdet , side ) = state_enabled then
7337: LD_EXP 28
7341: PUSH
7342: LD_INT 20
7344: PPUSH
7345: LD_VAR 0 1
7349: PPUSH
7350: CALL_OW 321
7354: PUSH
7355: LD_INT 1
7357: EQUAL
7358: AND
7359: IFFALSE 7415
// for i in for_show_near_resources [ pos ] [ 2 ] do
7361: LD_ADDR_VAR 0 7
7365: PUSH
7366: LD_EXP 63
7370: PUSH
7371: LD_VAR 0 2
7375: ARRAY
7376: PUSH
7377: LD_INT 2
7379: ARRAY
7380: PUSH
7381: FOR_IN
7382: IFFALSE 7413
// SetResourceVisibility ( i [ 1 ] , i [ 2 ] , side ) ;
7384: LD_VAR 0 7
7388: PUSH
7389: LD_INT 1
7391: ARRAY
7392: PPUSH
7393: LD_VAR 0 7
7397: PUSH
7398: LD_INT 2
7400: ARRAY
7401: PPUSH
7402: LD_VAR 0 1
7406: PPUSH
7407: CALL_OW 441
7411: GO 7381
7413: POP
7414: POP
// end ; bc_kind1 = b_lab_basic ;
7415: LD_ADDR_OWVAR 44
7419: PUSH
7420: LD_INT 9
7422: ST_TO_ADDR
// bc_kind2 = b_lab_basic ;
7423: LD_ADDR_OWVAR 45
7427: PUSH
7428: LD_INT 9
7430: ST_TO_ADDR
// for i in buildings_def [ pos ] do
7431: LD_ADDR_VAR 0 7
7435: PUSH
7436: LD_EXP 39
7440: PUSH
7441: LD_VAR 0 2
7445: ARRAY
7446: PUSH
7447: FOR_IN
7448: IFFALSE 7593
// begin if i [ 1 ] in [ b_oil_mine , b_siberite_mine ] then
7450: LD_VAR 0 7
7454: PUSH
7455: LD_INT 1
7457: ARRAY
7458: PUSH
7459: LD_INT 29
7461: PUSH
7462: LD_INT 30
7464: PUSH
7465: EMPTY
7466: LIST
7467: LIST
7468: IN
7469: IFFALSE 7498
// SetResourceVisibility ( i [ 2 ] , i [ 3 ] , side ) ;
7471: LD_VAR 0 7
7475: PUSH
7476: LD_INT 2
7478: ARRAY
7479: PPUSH
7480: LD_VAR 0 7
7484: PUSH
7485: LD_INT 3
7487: ARRAY
7488: PPUSH
7489: LD_VAR 0 1
7493: PPUSH
7494: CALL_OW 441
// bc_type = i [ 1 ] ;
7498: LD_ADDR_OWVAR 42
7502: PUSH
7503: LD_VAR 0 7
7507: PUSH
7508: LD_INT 1
7510: ARRAY
7511: ST_TO_ADDR
// CreateAndPlaceBuildingXYD ( i [ 2 ] , i [ 3 ] , i [ 4 ] ) ;
7512: LD_VAR 0 7
7516: PUSH
7517: LD_INT 2
7519: ARRAY
7520: PPUSH
7521: LD_VAR 0 7
7525: PUSH
7526: LD_INT 3
7528: ARRAY
7529: PPUSH
7530: LD_VAR 0 7
7534: PUSH
7535: LD_INT 4
7537: ARRAY
7538: PPUSH
7539: CALL_OW 47
// x := buildings_def [ pos ] [ 1 ] [ 2 ] ;
7543: LD_ADDR_VAR 0 5
7547: PUSH
7548: LD_EXP 39
7552: PUSH
7553: LD_VAR 0 2
7557: ARRAY
7558: PUSH
7559: LD_INT 1
7561: ARRAY
7562: PUSH
7563: LD_INT 2
7565: ARRAY
7566: ST_TO_ADDR
// y := buildings_def [ pos ] [ 1 ] [ 2 ] ;
7567: LD_ADDR_VAR 0 6
7571: PUSH
7572: LD_EXP 39
7576: PUSH
7577: LD_VAR 0 2
7581: ARRAY
7582: PUSH
7583: LD_INT 1
7585: ARRAY
7586: PUSH
7587: LD_INT 2
7589: ARRAY
7590: ST_TO_ADDR
// end ;
7591: GO 7447
7593: POP
7594: POP
// commander := true ;
7595: LD_ADDR_EXP 55
7599: PUSH
7600: LD_INT 1
7602: ST_TO_ADDR
// x := start_def [ pos ] [ 1 ] ;
7603: LD_ADDR_VAR 0 5
7607: PUSH
7608: LD_EXP 82
7612: PUSH
7613: LD_VAR 0 2
7617: ARRAY
7618: PUSH
7619: LD_INT 1
7621: ARRAY
7622: ST_TO_ADDR
// y := start_def [ pos ] [ 2 ] ;
7623: LD_ADDR_VAR 0 6
7627: PUSH
7628: LD_EXP 82
7632: PUSH
7633: LD_VAR 0 2
7637: ARRAY
7638: PUSH
7639: LD_INT 2
7641: ARRAY
7642: ST_TO_ADDR
// if def_classes then
7643: LD_EXP 14
7647: IFFALSE 7943
// begin neng := number_of_people ;
7649: LD_ADDR_VAR 0 12
7653: PUSH
7654: LD_EXP 40
7658: ST_TO_ADDR
// if nsol < neng div 4 then
7659: LD_VAR 0 15
7663: PUSH
7664: LD_VAR 0 12
7668: PUSH
7669: LD_INT 4
7671: DIV
7672: LESS
7673: IFFALSE 7689
// nsol := neng div 4 ;
7675: LD_ADDR_VAR 0 15
7679: PUSH
7680: LD_VAR 0 12
7684: PUSH
7685: LD_INT 4
7687: DIV
7688: ST_TO_ADDR
// neng := neng - nsol ;
7689: LD_ADDR_VAR 0 12
7693: PUSH
7694: LD_VAR 0 12
7698: PUSH
7699: LD_VAR 0 15
7703: MINUS
7704: ST_TO_ADDR
// nsci := neng div 3 ;
7705: LD_ADDR_VAR 0 13
7709: PUSH
7710: LD_VAR 0 12
7714: PUSH
7715: LD_INT 3
7717: DIV
7718: ST_TO_ADDR
// if nsci < 1 then
7719: LD_VAR 0 13
7723: PUSH
7724: LD_INT 1
7726: LESS
7727: IFFALSE 7737
// nsci := 1 ;
7729: LD_ADDR_VAR 0 13
7733: PUSH
7734: LD_INT 1
7736: ST_TO_ADDR
// neng := neng - nsci ;
7737: LD_ADDR_VAR 0 12
7741: PUSH
7742: LD_VAR 0 12
7746: PUSH
7747: LD_VAR 0 13
7751: MINUS
7752: ST_TO_ADDR
// nmech := neng div 2 ;
7753: LD_ADDR_VAR 0 14
7757: PUSH
7758: LD_VAR 0 12
7762: PUSH
7763: LD_INT 2
7765: DIV
7766: ST_TO_ADDR
// neng := neng - nmech ;
7767: LD_ADDR_VAR 0 12
7771: PUSH
7772: LD_VAR 0 12
7776: PUSH
7777: LD_VAR 0 14
7781: MINUS
7782: ST_TO_ADDR
// if neng < 1 then
7783: LD_VAR 0 12
7787: PUSH
7788: LD_INT 1
7790: LESS
7791: IFFALSE 7801
// neng := 1 ;
7793: LD_ADDR_VAR 0 12
7797: PUSH
7798: LD_INT 1
7800: ST_TO_ADDR
// prepare_people ( side , nsol , class_soldier , x , y , 5 , commander ) ;
7801: LD_VAR 0 1
7805: PPUSH
7806: LD_VAR 0 15
7810: PPUSH
7811: LD_INT 1
7813: PPUSH
7814: LD_VAR 0 5
7818: PPUSH
7819: LD_VAR 0 6
7823: PPUSH
7824: LD_INT 5
7826: PPUSH
7827: LD_ADDR_EXP 55
7831: PPUSH
7832: CALL 8489 0 7
// prepare_people ( side , neng , class_engineer , x , y , 5 , commander ) ;
7836: LD_VAR 0 1
7840: PPUSH
7841: LD_VAR 0 12
7845: PPUSH
7846: LD_INT 2
7848: PPUSH
7849: LD_VAR 0 5
7853: PPUSH
7854: LD_VAR 0 6
7858: PPUSH
7859: LD_INT 5
7861: PPUSH
7862: LD_ADDR_EXP 55
7866: PPUSH
7867: CALL 8489 0 7
// prepare_people ( side , nmech , class_mechanic , x , y , 5 , commander ) ;
7871: LD_VAR 0 1
7875: PPUSH
7876: LD_VAR 0 14
7880: PPUSH
7881: LD_INT 3
7883: PPUSH
7884: LD_VAR 0 5
7888: PPUSH
7889: LD_VAR 0 6
7893: PPUSH
7894: LD_INT 5
7896: PPUSH
7897: LD_ADDR_EXP 55
7901: PPUSH
7902: CALL 8489 0 7
// prepare_people ( side , nsci , class_scientistic , x , y , 5 , commander ) ;
7906: LD_VAR 0 1
7910: PPUSH
7911: LD_VAR 0 13
7915: PPUSH
7916: LD_INT 4
7918: PPUSH
7919: LD_VAR 0 5
7923: PPUSH
7924: LD_VAR 0 6
7928: PPUSH
7929: LD_INT 5
7931: PPUSH
7932: LD_ADDR_EXP 55
7936: PPUSH
7937: CALL 8489 0 7
// end else
7941: GO 8015
// begin prepare_people ( side , number_of_people - 1 , 0 , x , y , 5 , commander ) ;
7943: LD_VAR 0 1
7947: PPUSH
7948: LD_EXP 40
7952: PUSH
7953: LD_INT 1
7955: MINUS
7956: PPUSH
7957: LD_INT 0
7959: PPUSH
7960: LD_VAR 0 5
7964: PPUSH
7965: LD_VAR 0 6
7969: PPUSH
7970: LD_INT 5
7972: PPUSH
7973: LD_ADDR_EXP 55
7977: PPUSH
7978: CALL 8489 0 7
// prepare_people ( side , 1 , class_engineer , x , y , 5 , commander ) ;
7982: LD_VAR 0 1
7986: PPUSH
7987: LD_INT 1
7989: PPUSH
7990: LD_INT 2
7992: PPUSH
7993: LD_VAR 0 5
7997: PPUSH
7998: LD_VAR 0 6
8002: PPUSH
8003: LD_INT 5
8005: PPUSH
8006: LD_ADDR_EXP 55
8010: PPUSH
8011: CALL 8489 0 7
// end ; if number_of_apemen then
8015: LD_EXP 41
8019: IFFALSE 8377
// begin uc_nation = nation_nature ;
8021: LD_ADDR_OWVAR 21
8025: PUSH
8026: LD_INT 0
8028: ST_TO_ADDR
// prepare_people ( side , number_of_apemen , class_apeman , x , y , 5 , commander ) ;
8029: LD_VAR 0 1
8033: PPUSH
8034: LD_EXP 41
8038: PPUSH
8039: LD_INT 12
8041: PPUSH
8042: LD_VAR 0 5
8046: PPUSH
8047: LD_VAR 0 6
8051: PPUSH
8052: LD_INT 5
8054: PPUSH
8055: LD_ADDR_EXP 55
8059: PPUSH
8060: CALL 8489 0 7
// uc_nation = nation ;
8064: LD_ADDR_OWVAR 21
8068: PUSH
8069: LD_VAR 0 3
8073: ST_TO_ADDR
// case nation of 1 :
8074: LD_VAR 0 3
8078: PUSH
8079: LD_INT 1
8081: DOUBLE
8082: EQUAL
8083: IFTRUE 8087
8085: GO 8156
8087: POP
// begin if GetTech ( tech_ApeLang , side ) = state_enabled then
8088: LD_INT 1
8090: PPUSH
8091: LD_VAR 0 1
8095: PPUSH
8096: CALL_OW 321
8100: PUSH
8101: LD_INT 1
8103: EQUAL
8104: IFFALSE 8121
// SetTech ( tech_ApeLang , side , state_researched ) ;
8106: LD_INT 1
8108: PPUSH
8109: LD_VAR 0 1
8113: PPUSH
8114: LD_INT 2
8116: PPUSH
8117: CALL_OW 322
// if GetTech ( tech_ApePsych , side ) = state_enabled then
8121: LD_INT 2
8123: PPUSH
8124: LD_VAR 0 1
8128: PPUSH
8129: CALL_OW 321
8133: PUSH
8134: LD_INT 1
8136: EQUAL
8137: IFFALSE 8154
// SetTech ( tech_ApePsych , side , state_researched ) ;
8139: LD_INT 2
8141: PPUSH
8142: LD_VAR 0 1
8146: PPUSH
8147: LD_INT 2
8149: PPUSH
8150: CALL_OW 322
// end ; 2 :
8154: GO 8377
8156: LD_INT 2
8158: DOUBLE
8159: EQUAL
8160: IFTRUE 8164
8162: GO 8266
8164: POP
// begin if GetTech ( tech_ApeLang , side ) = state_enabled then
8165: LD_INT 1
8167: PPUSH
8168: LD_VAR 0 1
8172: PPUSH
8173: CALL_OW 321
8177: PUSH
8178: LD_INT 1
8180: EQUAL
8181: IFFALSE 8198
// SetTech ( tech_ApeLang , side , state_researched ) ;
8183: LD_INT 1
8185: PPUSH
8186: LD_VAR 0 1
8190: PPUSH
8191: LD_INT 2
8193: PPUSH
8194: CALL_OW 322
// if GetTech ( tech_ApeAgres , side ) = state_enabled then
8198: LD_INT 11
8200: PPUSH
8201: LD_VAR 0 1
8205: PPUSH
8206: CALL_OW 321
8210: PUSH
8211: LD_INT 1
8213: EQUAL
8214: IFFALSE 8231
// SetTech ( tech_ApeAgres , side , state_researched ) ;
8216: LD_INT 11
8218: PPUSH
8219: LD_VAR 0 1
8223: PPUSH
8224: LD_INT 2
8226: PPUSH
8227: CALL_OW 322
// if GetTech ( tech_ApeNeural , side ) = state_enabled then
8231: LD_INT 3
8233: PPUSH
8234: LD_VAR 0 1
8238: PPUSH
8239: CALL_OW 321
8243: PUSH
8244: LD_INT 1
8246: EQUAL
8247: IFFALSE 8264
// SetTech ( tech_ApeNeural , side , state_researched ) ;
8249: LD_INT 3
8251: PPUSH
8252: LD_VAR 0 1
8256: PPUSH
8257: LD_INT 2
8259: PPUSH
8260: CALL_OW 322
// end ; 3 :
8264: GO 8377
8266: LD_INT 3
8268: DOUBLE
8269: EQUAL
8270: IFTRUE 8274
8272: GO 8376
8274: POP
// begin if GetTech ( tech_ApeLang , side ) = state_enabled then
8275: LD_INT 1
8277: PPUSH
8278: LD_VAR 0 1
8282: PPUSH
8283: CALL_OW 321
8287: PUSH
8288: LD_INT 1
8290: EQUAL
8291: IFFALSE 8308
// SetTech ( tech_ApeLang , side , state_researched ) ;
8293: LD_INT 1
8295: PPUSH
8296: LD_VAR 0 1
8300: PPUSH
8301: LD_INT 2
8303: PPUSH
8304: CALL_OW 322
// if GetTech ( tech_ApePsych , side ) = state_enabled then
8308: LD_INT 2
8310: PPUSH
8311: LD_VAR 0 1
8315: PPUSH
8316: CALL_OW 321
8320: PUSH
8321: LD_INT 1
8323: EQUAL
8324: IFFALSE 8341
// SetTech ( tech_ApePsych , side , state_researched ) ;
8326: LD_INT 2
8328: PPUSH
8329: LD_VAR 0 1
8333: PPUSH
8334: LD_INT 2
8336: PPUSH
8337: CALL_OW 322
// if GetTech ( tech_ApeAgres , side ) = state_enabled then
8341: LD_INT 11
8343: PPUSH
8344: LD_VAR 0 1
8348: PPUSH
8349: CALL_OW 321
8353: PUSH
8354: LD_INT 1
8356: EQUAL
8357: IFFALSE 8374
// SetTech ( tech_ApeAgres , side , state_researched ) ;
8359: LD_INT 11
8361: PPUSH
8362: LD_VAR 0 1
8366: PPUSH
8367: LD_INT 2
8369: PPUSH
8370: CALL_OW 322
// end ; end ;
8374: GO 8377
8376: POP
// end ; if def_desert_warior = 2 and nation = nation_arabian then
8377: LD_EXP 31
8381: PUSH
8382: LD_INT 2
8384: EQUAL
8385: PUSH
8386: LD_VAR 0 3
8390: PUSH
8391: LD_INT 2
8393: EQUAL
8394: AND
8395: IFFALSE 8430
// prepare_people ( side , 1 , class_desert_warior , x , y , 5 , commander ) ;
8397: LD_VAR 0 1
8401: PPUSH
8402: LD_INT 1
8404: PPUSH
8405: LD_INT 11
8407: PPUSH
8408: LD_VAR 0 5
8412: PPUSH
8413: LD_VAR 0 6
8417: PPUSH
8418: LD_INT 5
8420: PPUSH
8421: LD_ADDR_EXP 55
8425: PPUSH
8426: CALL 8489 0 7
// if not global_defined then
8430: LD_EXP 93
8434: NOT
8435: IFFALSE 8445
// global_defined := true ;
8437: LD_ADDR_EXP 93
8441: PUSH
8442: LD_INT 1
8444: ST_TO_ADDR
// if def_siberite_detection and GetTech ( tech_sibdet , side ) = state_enabled then
8445: LD_EXP 28
8449: PUSH
8450: LD_INT 20
8452: PPUSH
8453: LD_VAR 0 1
8457: PPUSH
8458: CALL_OW 321
8462: PUSH
8463: LD_INT 1
8465: EQUAL
8466: AND
8467: IFFALSE 8484
// SetTech ( tech_SibDet , side , state_researched ) ;
8469: LD_INT 20
8471: PPUSH
8472: LD_VAR 0 1
8476: PPUSH
8477: LD_INT 2
8479: PPUSH
8480: CALL_OW 322
// end ;
8484: LD_VAR 0 4
8488: RET
// export function prepare_people ( side , count , pre_cl , x , y , r , var commander ) ; var i , j , un , cl ; begin
8489: LD_INT 0
8491: PPUSH
8492: PPUSH
8493: PPUSH
8494: PPUSH
8495: PPUSH
// for i := 1 to count do
8496: LD_ADDR_VAR 0 9
8500: PUSH
8501: DOUBLE
8502: LD_INT 1
8504: DEC
8505: ST_TO_ADDR
8506: LD_VAR 0 2
8510: PUSH
8511: FOR_TO
8512: IFFALSE 9116
// begin global_count = global_count + 1 ;
8514: LD_ADDR_EXP 95
8518: PUSH
8519: LD_EXP 95
8523: PUSH
8524: LD_INT 1
8526: PLUS
8527: ST_TO_ADDR
// if not def_classes and global_count <= global_classes then
8528: LD_EXP 14
8532: NOT
8533: PUSH
8534: LD_EXP 95
8538: PUSH
8539: LD_EXP 96
8543: LESSEQUAL
8544: AND
8545: IFFALSE 8565
// cl = global_classes [ global_count ] else
8547: LD_ADDR_VAR 0 12
8551: PUSH
8552: LD_EXP 96
8556: PUSH
8557: LD_EXP 95
8561: ARRAY
8562: ST_TO_ADDR
8563: GO 8603
// if pre_cl = 0 then
8565: LD_VAR 0 3
8569: PUSH
8570: LD_INT 0
8572: EQUAL
8573: IFFALSE 8593
// cl = rand ( 1 , 4 ) else
8575: LD_ADDR_VAR 0 12
8579: PUSH
8580: LD_INT 1
8582: PPUSH
8583: LD_INT 4
8585: PPUSH
8586: CALL_OW 12
8590: ST_TO_ADDR
8591: GO 8603
// cl = pre_cl ;
8593: LD_ADDR_VAR 0 12
8597: PUSH
8598: LD_VAR 0 3
8602: ST_TO_ADDR
// uc_direction := Rand ( 0 , 5 ) ;
8603: LD_ADDR_OWVAR 24
8607: PUSH
8608: LD_INT 0
8610: PPUSH
8611: LD_INT 5
8613: PPUSH
8614: CALL_OW 12
8618: ST_TO_ADDR
// if commander then
8619: LD_FROM_VAR 0 7
8623: IFFALSE 8752
// begin hc_name := mp_sides_players_names [ side ] ;
8625: LD_ADDR_OWVAR 26
8629: PUSH
8630: LD_OWVAR 19
8634: PUSH
8635: LD_VAR 0 1
8639: ARRAY
8640: ST_TO_ADDR
// PrepareHuman ( Rand ( 1 , 2 ) , cl , initial_level + 2 ) ;
8641: LD_INT 1
8643: PPUSH
8644: LD_INT 2
8646: PPUSH
8647: CALL_OW 12
8651: PPUSH
8652: LD_VAR 0 12
8656: PPUSH
8657: LD_EXP 42
8661: PUSH
8662: LD_INT 2
8664: PLUS
8665: PPUSH
8666: CALL_OW 380
// if def_desert_warior = 1 and uc_nation = nation_arabian then
8670: LD_EXP 31
8674: PUSH
8675: LD_INT 1
8677: EQUAL
8678: PUSH
8679: LD_OWVAR 21
8683: PUSH
8684: LD_INT 2
8686: EQUAL
8687: AND
8688: IFFALSE 8698
// hc_class = class_desert_warior ;
8690: LD_ADDR_OWVAR 28
8694: PUSH
8695: LD_INT 11
8697: ST_TO_ADDR
// hc_importance := 105 ;
8698: LD_ADDR_OWVAR 32
8702: PUSH
8703: LD_INT 105
8705: ST_TO_ADDR
// if Multiplayer then
8706: LD_OWVAR 4
8710: IFFALSE 8750
// begin hc_gallery := MULTIAVATARS ;
8712: LD_ADDR_OWVAR 33
8716: PUSH
8717: LD_STRING MULTIAVATARS
8719: ST_TO_ADDR
// hc_face_number := Multiplayer_GetPlayerSideNum ( Side ) ;
8720: LD_ADDR_OWVAR 34
8724: PUSH
8725: LD_VAR 0 1
8729: PPUSH
8730: CALL_OW 525
8734: ST_TO_ADDR
// hc_sex := Multiplayer_GetPlayerSex ( Side ) ;
8735: LD_ADDR_OWVAR 27
8739: PUSH
8740: LD_VAR 0 1
8744: PPUSH
8745: CALL_OW 526
8749: ST_TO_ADDR
// end ; end else
8750: GO 8858
// begin hc_name :=  ;
8752: LD_ADDR_OWVAR 26
8756: PUSH
8757: LD_STRING 
8759: ST_TO_ADDR
// if cl = class_desert_warior then
8760: LD_VAR 0 12
8764: PUSH
8765: LD_INT 11
8767: EQUAL
8768: IFFALSE 8803
// begin PrepareHuman ( rand ( 1 , 2 ) , class_soldier , initial_level ) ;
8770: LD_INT 1
8772: PPUSH
8773: LD_INT 2
8775: PPUSH
8776: CALL_OW 12
8780: PPUSH
8781: LD_INT 1
8783: PPUSH
8784: LD_EXP 42
8788: PPUSH
8789: CALL_OW 380
// hc_class = class_desert_warior end else
8793: LD_ADDR_OWVAR 28
8797: PUSH
8798: LD_INT 11
8800: ST_TO_ADDR
8801: GO 8828
// PrepareHuman ( rand ( 1 , 2 ) , cl , initial_level ) ;
8803: LD_INT 1
8805: PPUSH
8806: LD_INT 2
8808: PPUSH
8809: CALL_OW 12
8813: PPUSH
8814: LD_VAR 0 12
8818: PPUSH
8819: LD_EXP 42
8823: PPUSH
8824: CALL_OW 380
// hc_importance := 0 ;
8828: LD_ADDR_OWVAR 32
8832: PUSH
8833: LD_INT 0
8835: ST_TO_ADDR
// if Multiplayer then
8836: LD_OWVAR 4
8840: IFFALSE 8858
// begin hc_gallery :=  ;
8842: LD_ADDR_OWVAR 33
8846: PUSH
8847: LD_STRING 
8849: ST_TO_ADDR
// hc_face_number := 0 ;
8850: LD_ADDR_OWVAR 34
8854: PUSH
8855: LD_INT 0
8857: ST_TO_ADDR
// end ; end ; if hc_class = class_desert_warior then
8858: LD_OWVAR 28
8862: PUSH
8863: LD_INT 11
8865: EQUAL
8866: IFFALSE 8876
// hc_importance := 100 ;
8868: LD_ADDR_OWVAR 32
8872: PUSH
8873: LD_INT 100
8875: ST_TO_ADDR
// un := CreateHuman ;
8876: LD_ADDR_VAR 0 11
8880: PUSH
8881: CALL_OW 44
8885: ST_TO_ADDR
// if global_count <= global_units then
8886: LD_EXP 95
8890: PUSH
8891: LD_EXP 92
8895: LESSEQUAL
8896: IFFALSE 8980
// begin CopySkills ( global_units [ global_count ] , un ) ;
8898: LD_EXP 92
8902: PUSH
8903: LD_EXP 95
8907: ARRAY
8908: PPUSH
8909: LD_VAR 0 11
8913: PPUSH
8914: CALL_OW 510
// SetAttr ( un , attr_speed , GetAttr ( global_units [ global_count ] , attr_speed ) ) ;
8918: LD_VAR 0 11
8922: PPUSH
8923: LD_INT 2
8925: PPUSH
8926: LD_EXP 92
8930: PUSH
8931: LD_EXP 95
8935: ARRAY
8936: PPUSH
8937: LD_INT 2
8939: PPUSH
8940: CALL_OW 260
8944: PPUSH
8945: CALL_OW 239
// SetAttr ( un , attr_stamina , GetAttr ( global_units [ global_count ] , attr_stamina ) ) ;
8949: LD_VAR 0 11
8953: PPUSH
8954: LD_INT 1
8956: PPUSH
8957: LD_EXP 92
8961: PUSH
8962: LD_EXP 95
8966: ARRAY
8967: PPUSH
8968: LD_INT 1
8970: PPUSH
8971: CALL_OW 260
8975: PPUSH
8976: CALL_OW 239
// end ; PlaceUnitXYR ( un , x , y , r , false ) ;
8980: LD_VAR 0 11
8984: PPUSH
8985: LD_VAR 0 4
8989: PPUSH
8990: LD_VAR 0 5
8994: PPUSH
8995: LD_VAR 0 6
8999: PPUSH
9000: LD_INT 0
9002: PPUSH
9003: CALL_OW 50
// if global_classes < global_count then
9007: LD_EXP 96
9011: PUSH
9012: LD_EXP 95
9016: LESS
9017: IFFALSE 9035
// global_classes = global_classes ^ cl ;
9019: LD_ADDR_EXP 96
9023: PUSH
9024: LD_EXP 96
9028: PUSH
9029: LD_VAR 0 12
9033: ADD
9034: ST_TO_ADDR
// if global_units < global_count then
9035: LD_EXP 92
9039: PUSH
9040: LD_EXP 95
9044: LESS
9045: IFFALSE 9063
// global_units = global_units ^ un ;
9047: LD_ADDR_EXP 92
9051: PUSH
9052: LD_EXP 92
9056: PUSH
9057: LD_VAR 0 11
9061: ADD
9062: ST_TO_ADDR
// if commander then
9063: LD_FROM_VAR 0 7
9067: IFFALSE 9114
// begin heroes = replace ( heroes , side , heroes [ side ] ^ un ) ;
9069: LD_ADDR_EXP 50
9073: PUSH
9074: LD_EXP 50
9078: PPUSH
9079: LD_VAR 0 1
9083: PPUSH
9084: LD_EXP 50
9088: PUSH
9089: LD_VAR 0 1
9093: ARRAY
9094: PUSH
9095: LD_VAR 0 11
9099: ADD
9100: PPUSH
9101: CALL_OW 1
9105: ST_TO_ADDR
// commander := false ;
9106: LD_VAR 0 7
9110: PUSH
9111: LD_INT 0
9113: ST_TO_ADDR
// end ; end ;
9114: GO 8511
9116: POP
9117: POP
// end ;
9118: LD_VAR 0 8
9122: RET
// export function mastodonti ; var i , c , k ; begin
9123: LD_INT 0
9125: PPUSH
9126: PPUSH
9127: PPUSH
9128: PPUSH
// if def_desert_warior then
9129: LD_EXP 31
9133: IFFALSE 9198
// begin c = FilterAllUnits ( [ [ f_class , class_desert_warior ] ] ) ;
9135: LD_ADDR_VAR 0 3
9139: PUSH
9140: LD_INT 25
9142: PUSH
9143: LD_INT 11
9145: PUSH
9146: EMPTY
9147: LIST
9148: LIST
9149: PUSH
9150: EMPTY
9151: LIST
9152: PPUSH
9153: CALL_OW 69
9157: ST_TO_ADDR
// if c then
9158: LD_VAR 0 3
9162: IFFALSE 9194
// for c = 1 to c + 0 do
9164: LD_ADDR_VAR 0 3
9168: PUSH
9169: DOUBLE
9170: LD_INT 1
9172: DEC
9173: ST_TO_ADDR
9174: LD_VAR 0 3
9178: PUSH
9179: LD_INT 0
9181: PLUS
9182: PUSH
9183: FOR_TO
9184: IFFALSE 9192
// begin comms_mastodont ;
9186: CALL 9203 0 0
// end ;
9190: GO 9183
9192: POP
9193: POP
// comms_mastodont ;
9194: CALL 9203 0 0
// end ; end ;
9198: LD_VAR 0 1
9202: RET
// export function comms_mastodont ; var un ; begin
9203: LD_INT 0
9205: PPUSH
9206: PPUSH
// uc_nation := 0 ;
9207: LD_ADDR_OWVAR 21
9211: PUSH
9212: LD_INT 0
9214: ST_TO_ADDR
// uc_side := nation_nature ;
9215: LD_ADDR_OWVAR 20
9219: PUSH
9220: LD_INT 0
9222: ST_TO_ADDR
// vc_chassis = 31 ;
9223: LD_ADDR_OWVAR 37
9227: PUSH
9228: LD_INT 31
9230: ST_TO_ADDR
// un := createvehicle ;
9231: LD_ADDR_VAR 0 2
9235: PUSH
9236: CALL_OW 45
9240: ST_TO_ADDR
// PlaceUnitArea ( un , stred , false ) ;
9241: LD_VAR 0 2
9245: PPUSH
9246: LD_INT 30
9248: PPUSH
9249: LD_INT 0
9251: PPUSH
9252: CALL_OW 49
// end ;
9256: LD_VAR 0 1
9260: RET
// every 0 0$1 marked 31 do var i ;
9261: GO 9263
9263: DISABLE
9264: LD_INT 0
9266: PPUSH
// begin if not tech_level = 8 then
9267: LD_EXP 56
9271: PUSH
9272: LD_INT 8
9274: EQUAL
9275: NOT
9276: IFFALSE 9280
// exit ;
9278: GO 9299
// if siberite_bomb_delay then
9280: LD_EXP 66
9284: IFFALSE 9295
// wait ( siberite_bomb_Delay ) ;
9286: LD_EXP 66
9290: PPUSH
9291: CALL_OW 67
// EnableSibFiss ;
9295: CALL 9302 0 0
// end ;
9299: PPOPN 1
9301: END
// function EnableSibFiss ( ) ; var side , narodnost ; begin
9302: LD_INT 0
9304: PPUSH
9305: PPUSH
9306: PPUSH
// for side = 1 to side_positions + 0 do
9307: LD_ADDR_VAR 0 2
9311: PUSH
9312: DOUBLE
9313: LD_INT 1
9315: DEC
9316: ST_TO_ADDR
9317: LD_EXP 74
9321: PUSH
9322: LD_INT 0
9324: PLUS
9325: PUSH
9326: FOR_TO
9327: IFFALSE 9427
// begin narodnost := Side_Nations [ side ] ;
9329: LD_ADDR_VAR 0 3
9333: PUSH
9334: LD_EXP 75
9338: PUSH
9339: LD_VAR 0 2
9343: ARRAY
9344: ST_TO_ADDR
// case narodnost of 1 , 3 :
9345: LD_VAR 0 3
9349: PUSH
9350: LD_INT 1
9352: DOUBLE
9353: EQUAL
9354: IFTRUE 9364
9356: LD_INT 3
9358: DOUBLE
9359: EQUAL
9360: IFTRUE 9364
9362: GO 9390
9364: POP
// SetTech ( 25 , side , GetRestrictions ( false , 25 ) ) ; 2 :
9365: LD_INT 25
9367: PPUSH
9368: LD_VAR 0 2
9372: PPUSH
9373: LD_INT 0
9375: PPUSH
9376: LD_INT 25
9378: PPUSH
9379: CALL_OW 565
9383: PPUSH
9384: CALL_OW 322
9388: GO 9425
9390: LD_INT 2
9392: DOUBLE
9393: EQUAL
9394: IFTRUE 9398
9396: GO 9424
9398: POP
// SetTech ( 73 , side , GetRestrictions ( false , 73 ) ) ; end ;
9399: LD_INT 73
9401: PPUSH
9402: LD_VAR 0 2
9406: PPUSH
9407: LD_INT 0
9409: PPUSH
9410: LD_INT 73
9412: PPUSH
9413: CALL_OW 565
9417: PPUSH
9418: CALL_OW 322
9422: GO 9425
9424: POP
// end ;
9425: GO 9326
9427: POP
9428: POP
// Tech_Level = 8 ;
9429: LD_ADDR_EXP 56
9433: PUSH
9434: LD_INT 8
9436: ST_TO_ADDR
// end ;
9437: LD_VAR 0 1
9441: RET
// export function Start_Zvirata ; begin
9442: LD_INT 0
9444: PPUSH
// if def_amount_of_apemen > 0 then
9445: LD_EXP 22
9449: PUSH
9450: LD_INT 0
9452: GREATER
9453: IFFALSE 9462
// begin StartApe ;
9455: CALL 15090 0 0
// enable ( 493 ) ;
9459: LD_INT 493
9461: ENABLE_MARKED
// end ; if def_amount_of_tiger > 0 then
9462: LD_EXP 23
9466: PUSH
9467: LD_INT 0
9469: GREATER
9470: IFFALSE 9479
// begin StartTig ;
9472: CALL 15840 0 0
// enable ( 494 ) ;
9476: LD_INT 494
9478: ENABLE_MARKED
// end ; end ;
9479: LD_VAR 0 1
9483: RET
// export function Disable_Standard_Games ; begin
9484: LD_INT 0
9486: PPUSH
// disable ( 2 ) ;
9487: LD_INT 2
9489: DISABLE_MARKED
// disable ( 3 ) ;
9490: LD_INT 3
9492: DISABLE_MARKED
// disable ( 4 ) ;
9493: LD_INT 4
9495: DISABLE_MARKED
// disable ( 30 ) ;
9496: LD_INT 30
9498: DISABLE_MARKED
// disable ( 31 ) ;
9499: LD_INT 31
9501: DISABLE_MARKED
// disable ( 60 ) ;
9502: LD_INT 60
9504: DISABLE_MARKED
// disable ( 98 ) ;
9505: LD_INT 98
9507: DISABLE_MARKED
// disable ( 99 ) ;
9508: LD_INT 99
9510: DISABLE_MARKED
// disable ( 100 ) ;
9511: LD_INT 100
9513: DISABLE_MARKED
// disable ( 400 ) ;
9514: LD_INT 400
9516: DISABLE_MARKED
// disable ( 401 ) ;
9517: LD_INT 401
9519: DISABLE_MARKED
// disable ( 493 ) ;
9520: LD_INT 493
9522: DISABLE_MARKED
// disable ( 494 ) ;
9523: LD_INT 494
9525: DISABLE_MARKED
// disable ( 600 ) end ; end_of_file
9526: LD_INT 600
9528: DISABLE_MARKED
9529: LD_VAR 0 1
9533: RET
// export oblasti_beden , start_oblasti_beden , dalsi_oblasti_beden , koof_bedny ; var kontrolni_pocet ; every 1 1$0 + 0 0$1 do
9534: GO 9536
9536: DISABLE
// begin if game_type = GT_Survival then
9537: LD_EXP 1
9541: PUSH
9542: LD_EXP 6
9546: EQUAL
9547: IFFALSE 9551
// exit ;
9549: GO 9570
// CreateCratesAnywhere ( Rand ( 1 , 2 ) , true ) ;
9551: LD_INT 1
9553: PPUSH
9554: LD_INT 2
9556: PPUSH
9557: CALL_OW 12
9561: PPUSH
9562: LD_INT 1
9564: PPUSH
9565: CALL_OW 57
// enable ;
9569: ENABLE
// end ;
9570: END
// every 0 0$20 do var i , d , shipment , tictac , k , p ;
9571: GO 9573
9573: DISABLE
9574: LD_INT 0
9576: PPUSH
9577: PPUSH
9578: PPUSH
9579: PPUSH
9580: PPUSH
9581: PPUSH
// begin if game_type in GT_Survival then
9582: LD_EXP 1
9586: PUSH
9587: LD_EXP 6
9591: IN
9592: IFFALSE 9596
// exit ;
9594: GO 10492
// shipment := Rand ( 0 , 3 ) ;
9596: LD_ADDR_VAR 0 3
9600: PUSH
9601: LD_INT 0
9603: PPUSH
9604: LD_INT 3
9606: PPUSH
9607: CALL_OW 12
9611: ST_TO_ADDR
// tictac := 0 ;
9612: LD_ADDR_VAR 0 4
9616: PUSH
9617: LD_INT 0
9619: ST_TO_ADDR
// case tick of 1 .. 2 2$0 :
9620: LD_OWVAR 1
9624: PUSH
9625: LD_INT 1
9627: DOUBLE
9628: GREATEREQUAL
9629: IFFALSE 9637
9631: LD_INT 4200
9633: DOUBLE
9634: LESSEQUAL
9635: IFTRUE 9639
9637: GO 9650
9639: POP
// d := 150 ; 2 2$0 + 1 .. 4 4$0 :
9640: LD_ADDR_VAR 0 2
9644: PUSH
9645: LD_INT 150
9647: ST_TO_ADDR
9648: GO 9833
9650: LD_INT 4200
9652: PUSH
9653: LD_INT 1
9655: PLUS
9656: DOUBLE
9657: GREATEREQUAL
9658: IFFALSE 9666
9660: LD_INT 8400
9662: DOUBLE
9663: LESSEQUAL
9664: IFTRUE 9668
9666: GO 9679
9668: POP
// d := 120 ; 4 4$0 + 1 .. 6 6$0 :
9669: LD_ADDR_VAR 0 2
9673: PUSH
9674: LD_INT 120
9676: ST_TO_ADDR
9677: GO 9833
9679: LD_INT 8400
9681: PUSH
9682: LD_INT 1
9684: PLUS
9685: DOUBLE
9686: GREATEREQUAL
9687: IFFALSE 9695
9689: LD_INT 12600
9691: DOUBLE
9692: LESSEQUAL
9693: IFTRUE 9697
9695: GO 9708
9697: POP
// d := 100 ; 6 6$0 + 1 .. 7 7$0 :
9698: LD_ADDR_VAR 0 2
9702: PUSH
9703: LD_INT 100
9705: ST_TO_ADDR
9706: GO 9833
9708: LD_INT 12600
9710: PUSH
9711: LD_INT 1
9713: PLUS
9714: DOUBLE
9715: GREATEREQUAL
9716: IFFALSE 9724
9718: LD_INT 14700
9720: DOUBLE
9721: LESSEQUAL
9722: IFTRUE 9726
9724: GO 9737
9726: POP
// d := 80 ; 7 7$0 + 1 .. 9 9$0 :
9727: LD_ADDR_VAR 0 2
9731: PUSH
9732: LD_INT 80
9734: ST_TO_ADDR
9735: GO 9833
9737: LD_INT 14700
9739: PUSH
9740: LD_INT 1
9742: PLUS
9743: DOUBLE
9744: GREATEREQUAL
9745: IFFALSE 9753
9747: LD_INT 18900
9749: DOUBLE
9750: LESSEQUAL
9751: IFTRUE 9755
9753: GO 9766
9755: POP
// d := 70 ; 9 9$0 + 1 .. 15 15$0 :
9756: LD_ADDR_VAR 0 2
9760: PUSH
9761: LD_INT 70
9763: ST_TO_ADDR
9764: GO 9833
9766: LD_INT 18900
9768: PUSH
9769: LD_INT 1
9771: PLUS
9772: DOUBLE
9773: GREATEREQUAL
9774: IFFALSE 9782
9776: LD_INT 31500
9778: DOUBLE
9779: LESSEQUAL
9780: IFTRUE 9784
9782: GO 9795
9784: POP
// d := 45 ; 15 15$0 + 1 .. 30 30$0 :
9785: LD_ADDR_VAR 0 2
9789: PUSH
9790: LD_INT 45
9792: ST_TO_ADDR
9793: GO 9833
9795: LD_INT 31500
9797: PUSH
9798: LD_INT 1
9800: PLUS
9801: DOUBLE
9802: GREATEREQUAL
9803: IFFALSE 9811
9805: LD_INT 63000
9807: DOUBLE
9808: LESSEQUAL
9809: IFTRUE 9813
9811: GO 9824
9813: POP
// d := 30 ; else
9814: LD_ADDR_VAR 0 2
9818: PUSH
9819: LD_INT 30
9821: ST_TO_ADDR
9822: GO 9833
9824: POP
// d := 20 ; end ;
9825: LD_ADDR_VAR 0 2
9829: PUSH
9830: LD_INT 20
9832: ST_TO_ADDR
// if GetResourceArea ( celamapa , mat_cans ) < ( 100 + shipments_density * koof_bedny ) then
9833: LD_INT 32
9835: PPUSH
9836: LD_INT 1
9838: PPUSH
9839: CALL_OW 287
9843: PUSH
9844: LD_INT 100
9846: PUSH
9847: LD_EXP 45
9851: PUSH
9852: LD_EXP 100
9856: MUL
9857: PLUS
9858: LESS
9859: IFFALSE 10491
// if rand ( 1 , 10000 ) <= d * shipments_density then
9861: LD_INT 1
9863: PPUSH
9864: LD_INT 10000
9866: PPUSH
9867: CALL_OW 12
9871: PUSH
9872: LD_VAR 0 2
9876: PUSH
9877: LD_EXP 45
9881: MUL
9882: LESSEQUAL
9883: IFFALSE 10127
// begin k = Rand ( 2 , 4 ) ;
9885: LD_ADDR_VAR 0 5
9889: PUSH
9890: LD_INT 2
9892: PPUSH
9893: LD_INT 4
9895: PPUSH
9896: CALL_OW 12
9900: ST_TO_ADDR
// if start_oblasti_beden then
9901: LD_EXP 98
9905: IFFALSE 10006
// begin for i := 1 to 8 do
9907: LD_ADDR_VAR 0 1
9911: PUSH
9912: DOUBLE
9913: LD_INT 1
9915: DEC
9916: ST_TO_ADDR
9917: LD_INT 8
9919: PUSH
9920: FOR_TO
9921: IFFALSE 10002
// if side_positions [ i ] <> 0 then
9923: LD_EXP 74
9927: PUSH
9928: LD_VAR 0 1
9932: ARRAY
9933: PUSH
9934: LD_INT 0
9936: NONEQUAL
9937: IFFALSE 10000
// for p in pozice_beden [ i ] do
9939: LD_ADDR_VAR 0 6
9943: PUSH
9944: LD_EXP 8
9948: PUSH
9949: LD_VAR 0 1
9953: ARRAY
9954: PUSH
9955: FOR_IN
9956: IFFALSE 9998
// begin CreateCratesArea ( k , start_oblasti_beden [ p ] , true ) ;
9958: LD_VAR 0 5
9962: PPUSH
9963: LD_EXP 98
9967: PUSH
9968: LD_VAR 0 6
9972: ARRAY
9973: PPUSH
9974: LD_INT 1
9976: PPUSH
9977: CALL_OW 55
// Wait ( rand ( 2 , 0 0$2 ) ) ;
9981: LD_INT 2
9983: PPUSH
9984: LD_INT 70
9986: PPUSH
9987: CALL_OW 12
9991: PPUSH
9992: CALL_OW 67
// end ;
9996: GO 9955
9998: POP
9999: POP
10000: GO 9920
10002: POP
10003: POP
// end else
10004: GO 10125
// begin for i := 1 to 8 do
10006: LD_ADDR_VAR 0 1
10010: PUSH
10011: DOUBLE
10012: LD_INT 1
10014: DEC
10015: ST_TO_ADDR
10016: LD_INT 8
10018: PUSH
10019: FOR_TO
10020: IFFALSE 10123
// if side_positions [ i ] <> 0 then
10022: LD_EXP 74
10026: PUSH
10027: LD_VAR 0 1
10031: ARRAY
10032: PUSH
10033: LD_INT 0
10035: NONEQUAL
10036: IFFALSE 10121
// for p in pozice_beden [ i ] do
10038: LD_ADDR_VAR 0 6
10042: PUSH
10043: LD_EXP 8
10047: PUSH
10048: LD_VAR 0 1
10052: ARRAY
10053: PUSH
10054: FOR_IN
10055: IFFALSE 10119
// begin CreateCratesXYR ( k , start_def [ p ] [ 1 ] , start_def [ p ] [ 2 ] , 20 , true ) ;
10057: LD_VAR 0 5
10061: PPUSH
10062: LD_EXP 82
10066: PUSH
10067: LD_VAR 0 6
10071: ARRAY
10072: PUSH
10073: LD_INT 1
10075: ARRAY
10076: PPUSH
10077: LD_EXP 82
10081: PUSH
10082: LD_VAR 0 6
10086: ARRAY
10087: PUSH
10088: LD_INT 2
10090: ARRAY
10091: PPUSH
10092: LD_INT 20
10094: PPUSH
10095: LD_INT 1
10097: PPUSH
10098: CALL_OW 56
// wait ( rand ( 2 , 0 0$2 ) ) ;
10102: LD_INT 2
10104: PPUSH
10105: LD_INT 70
10107: PPUSH
10108: CALL_OW 12
10112: PPUSH
10113: CALL_OW 67
// end ;
10117: GO 10054
10119: POP
10120: POP
10121: GO 10019
10123: POP
10124: POP
// end ; end else
10125: GO 10491
// if rand ( 1 , 10000 ) <= ( 150 - d ) * shipments_density then
10127: LD_INT 1
10129: PPUSH
10130: LD_INT 10000
10132: PPUSH
10133: CALL_OW 12
10137: PUSH
10138: LD_INT 150
10140: PUSH
10141: LD_VAR 0 2
10145: MINUS
10146: PUSH
10147: LD_EXP 45
10151: MUL
10152: LESSEQUAL
10153: IFFALSE 10491
// begin k := Rand ( 1 , 4 ) ;
10155: LD_ADDR_VAR 0 5
10159: PUSH
10160: LD_INT 1
10162: PPUSH
10163: LD_INT 4
10165: PPUSH
10166: CALL_OW 12
10170: ST_TO_ADDR
// wait ( rand ( 2 , 0 0$4 ) ) ;
10171: LD_INT 2
10173: PPUSH
10174: LD_INT 140
10176: PPUSH
10177: CALL_OW 12
10181: PPUSH
10182: CALL_OW 67
// if oblasti_beden then
10186: LD_EXP 97
10190: IFFALSE 10291
// begin for i := 1 to 8 do
10192: LD_ADDR_VAR 0 1
10196: PUSH
10197: DOUBLE
10198: LD_INT 1
10200: DEC
10201: ST_TO_ADDR
10202: LD_INT 8
10204: PUSH
10205: FOR_TO
10206: IFFALSE 10287
// if side_positions [ i ] <> 0 then
10208: LD_EXP 74
10212: PUSH
10213: LD_VAR 0 1
10217: ARRAY
10218: PUSH
10219: LD_INT 0
10221: NONEQUAL
10222: IFFALSE 10285
// for p in pozice_beden [ i ] do
10224: LD_ADDR_VAR 0 6
10228: PUSH
10229: LD_EXP 8
10233: PUSH
10234: LD_VAR 0 1
10238: ARRAY
10239: PUSH
10240: FOR_IN
10241: IFFALSE 10283
// begin CreateCratesArea ( k , oblasti_beden [ p ] , true ) ;
10243: LD_VAR 0 5
10247: PPUSH
10248: LD_EXP 97
10252: PUSH
10253: LD_VAR 0 6
10257: ARRAY
10258: PPUSH
10259: LD_INT 1
10261: PPUSH
10262: CALL_OW 55
// Wait ( rand ( 2 , 0 0$1 ) ) ;
10266: LD_INT 2
10268: PPUSH
10269: LD_INT 35
10271: PPUSH
10272: CALL_OW 12
10276: PPUSH
10277: CALL_OW 67
// end ;
10281: GO 10240
10283: POP
10284: POP
10285: GO 10205
10287: POP
10288: POP
// end else
10289: GO 10410
// begin for i := 1 to 8 do
10291: LD_ADDR_VAR 0 1
10295: PUSH
10296: DOUBLE
10297: LD_INT 1
10299: DEC
10300: ST_TO_ADDR
10301: LD_INT 8
10303: PUSH
10304: FOR_TO
10305: IFFALSE 10408
// if side_positions [ i ] <> 0 then
10307: LD_EXP 74
10311: PUSH
10312: LD_VAR 0 1
10316: ARRAY
10317: PUSH
10318: LD_INT 0
10320: NONEQUAL
10321: IFFALSE 10406
// for p in pozice_beden [ i ] do
10323: LD_ADDR_VAR 0 6
10327: PUSH
10328: LD_EXP 8
10332: PUSH
10333: LD_VAR 0 1
10337: ARRAY
10338: PUSH
10339: FOR_IN
10340: IFFALSE 10404
// begin CreateCratesXYR ( k , start_def [ p ] [ 1 ] , start_def [ p ] [ 2 ] , 20 , true ) ;
10342: LD_VAR 0 5
10346: PPUSH
10347: LD_EXP 82
10351: PUSH
10352: LD_VAR 0 6
10356: ARRAY
10357: PUSH
10358: LD_INT 1
10360: ARRAY
10361: PPUSH
10362: LD_EXP 82
10366: PUSH
10367: LD_VAR 0 6
10371: ARRAY
10372: PUSH
10373: LD_INT 2
10375: ARRAY
10376: PPUSH
10377: LD_INT 20
10379: PPUSH
10380: LD_INT 1
10382: PPUSH
10383: CALL_OW 56
// wait ( rand ( 2 , 0 0$2 ) ) ;
10387: LD_INT 2
10389: PPUSH
10390: LD_INT 70
10392: PPUSH
10393: CALL_OW 12
10397: PPUSH
10398: CALL_OW 67
// end ;
10402: GO 10339
10404: POP
10405: POP
10406: GO 10304
10408: POP
10409: POP
// end ; if dalsi_oblasti_beden then
10410: LD_EXP 99
10414: IFFALSE 10491
// for k in dalsi_oblasti_beden do
10416: LD_ADDR_VAR 0 5
10420: PUSH
10421: LD_EXP 99
10425: PUSH
10426: FOR_IN
10427: IFFALSE 10489
// for i := 1 to Rand ( 1 , 3 ) do
10429: LD_ADDR_VAR 0 1
10433: PUSH
10434: DOUBLE
10435: LD_INT 1
10437: DEC
10438: ST_TO_ADDR
10439: LD_INT 1
10441: PPUSH
10442: LD_INT 3
10444: PPUSH
10445: CALL_OW 12
10449: PUSH
10450: FOR_TO
10451: IFFALSE 10485
// begin CreateCratesArea ( Rand ( 3 , 5 ) , k , true ) ;
10453: LD_INT 3
10455: PPUSH
10456: LD_INT 5
10458: PPUSH
10459: CALL_OW 12
10463: PPUSH
10464: LD_VAR 0 5
10468: PPUSH
10469: LD_INT 1
10471: PPUSH
10472: CALL_OW 55
// Wait ( 2 ) ;
10476: LD_INT 2
10478: PPUSH
10479: CALL_OW 67
// end ;
10483: GO 10450
10485: POP
10486: POP
10487: GO 10426
10489: POP
10490: POP
// end ; enable ;
10491: ENABLE
// end ; end_of_file
10492: PPOPN 6
10494: END
// var respawn , inqueue , nation , nations , noposn ; export function init_respawn ; var i , pos ; begin
10495: LD_INT 0
10497: PPUSH
10498: PPUSH
10499: PPUSH
// nation := rand ( 1 , 3 ) ;
10500: LD_ADDR_LOC 4
10504: PUSH
10505: LD_INT 1
10507: PPUSH
10508: LD_INT 3
10510: PPUSH
10511: CALL_OW 12
10515: ST_TO_ADDR
// respawn := Rand ( 1 , 8 ) ;
10516: LD_ADDR_LOC 2
10520: PUSH
10521: LD_INT 1
10523: PPUSH
10524: LD_INT 8
10526: PPUSH
10527: CALL_OW 12
10531: ST_TO_ADDR
// Nations = [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
10532: LD_ADDR_LOC 5
10536: PUSH
10537: EMPTY
10538: PUSH
10539: EMPTY
10540: PUSH
10541: EMPTY
10542: PUSH
10543: EMPTY
10544: PUSH
10545: EMPTY
10546: PUSH
10547: EMPTY
10548: PUSH
10549: EMPTY
10550: PUSH
10551: EMPTY
10552: PUSH
10553: EMPTY
10554: LIST
10555: LIST
10556: LIST
10557: LIST
10558: LIST
10559: LIST
10560: LIST
10561: LIST
10562: ST_TO_ADDR
// inqueue := [ [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] ] ;
10563: LD_ADDR_LOC 3
10567: PUSH
10568: LD_INT 0
10570: PUSH
10571: LD_INT 0
10573: PUSH
10574: LD_INT 0
10576: PUSH
10577: EMPTY
10578: LIST
10579: LIST
10580: LIST
10581: PUSH
10582: LD_INT 0
10584: PUSH
10585: LD_INT 0
10587: PUSH
10588: LD_INT 0
10590: PUSH
10591: EMPTY
10592: LIST
10593: LIST
10594: LIST
10595: PUSH
10596: LD_INT 0
10598: PUSH
10599: LD_INT 0
10601: PUSH
10602: LD_INT 0
10604: PUSH
10605: EMPTY
10606: LIST
10607: LIST
10608: LIST
10609: PUSH
10610: LD_INT 0
10612: PUSH
10613: LD_INT 0
10615: PUSH
10616: LD_INT 0
10618: PUSH
10619: EMPTY
10620: LIST
10621: LIST
10622: LIST
10623: PUSH
10624: LD_INT 0
10626: PUSH
10627: LD_INT 0
10629: PUSH
10630: LD_INT 0
10632: PUSH
10633: EMPTY
10634: LIST
10635: LIST
10636: LIST
10637: PUSH
10638: LD_INT 0
10640: PUSH
10641: LD_INT 0
10643: PUSH
10644: LD_INT 0
10646: PUSH
10647: EMPTY
10648: LIST
10649: LIST
10650: LIST
10651: PUSH
10652: LD_INT 0
10654: PUSH
10655: LD_INT 0
10657: PUSH
10658: LD_INT 0
10660: PUSH
10661: EMPTY
10662: LIST
10663: LIST
10664: LIST
10665: PUSH
10666: LD_INT 0
10668: PUSH
10669: LD_INT 0
10671: PUSH
10672: LD_INT 0
10674: PUSH
10675: EMPTY
10676: LIST
10677: LIST
10678: LIST
10679: PUSH
10680: EMPTY
10681: LIST
10682: LIST
10683: LIST
10684: LIST
10685: LIST
10686: LIST
10687: LIST
10688: LIST
10689: ST_TO_ADDR
// for i := 1 to 8 do
10690: LD_ADDR_VAR 0 2
10694: PUSH
10695: DOUBLE
10696: LD_INT 1
10698: DEC
10699: ST_TO_ADDR
10700: LD_INT 8
10702: PUSH
10703: FOR_TO
10704: IFFALSE 10809
// if Side_Positions [ i ] then
10706: LD_EXP 74
10710: PUSH
10711: LD_VAR 0 2
10715: ARRAY
10716: IFFALSE 10807
// begin if Game_Type in GT_DoubleNat ^ GT_TripleNat then
10718: LD_EXP 1
10722: PUSH
10723: LD_EXP 3
10727: PUSH
10728: LD_EXP 5
10732: ADD
10733: IN
10734: IFFALSE 10773
// nations = replace ( nations , i , Position_Nations [ i ] diff 0 ) else
10736: LD_ADDR_LOC 5
10740: PUSH
10741: LD_LOC 5
10745: PPUSH
10746: LD_VAR 0 2
10750: PPUSH
10751: LD_EXP 52
10755: PUSH
10756: LD_VAR 0 2
10760: ARRAY
10761: PUSH
10762: LD_INT 0
10764: DIFF
10765: PPUSH
10766: CALL_OW 1
10770: ST_TO_ADDR
10771: GO 10807
// nations = replace ( nations , i , [ Side_Nations [ i ] ] ) ;
10773: LD_ADDR_LOC 5
10777: PUSH
10778: LD_LOC 5
10782: PPUSH
10783: LD_VAR 0 2
10787: PPUSH
10788: LD_EXP 75
10792: PUSH
10793: LD_VAR 0 2
10797: ARRAY
10798: PUSH
10799: EMPTY
10800: LIST
10801: PPUSH
10802: CALL_OW 1
10806: ST_TO_ADDR
// end ;
10807: GO 10703
10809: POP
10810: POP
// if Game_Type in GT_DoublePeople then
10811: LD_EXP 1
10815: PUSH
10816: LD_EXP 4
10820: IN
10821: IFFALSE 10839
// noposn = number_of_people * 2 else
10823: LD_ADDR_LOC 6
10827: PUSH
10828: LD_EXP 40
10832: PUSH
10833: LD_INT 2
10835: MUL
10836: ST_TO_ADDR
10837: GO 10849
// noposn = number_of_people ;
10839: LD_ADDR_LOC 6
10843: PUSH
10844: LD_EXP 40
10848: ST_TO_ADDR
// SetRespawningTime ( respawning_time_min , respawning_time_max , respawning_time_delay_min , respawning_time_delay_max ) ;
10849: LD_EXP 49
10853: PPUSH
10854: LD_EXP 51
10858: PPUSH
10859: LD_EXP 53
10863: PPUSH
10864: LD_EXP 54
10868: PPUSH
10869: CALL 11609 0 4
// end ;
10873: LD_VAR 0 1
10877: RET
// every 0 0$1 + 0 0$0.5 do var n , building_list , aktresp , b , skills , k ;
10878: GO 10880
10880: DISABLE
10881: LD_INT 0
10883: PPUSH
10884: PPUSH
10885: PPUSH
10886: PPUSH
10887: PPUSH
10888: PPUSH
// begin if def_respawining_type = 0 then
10889: LD_EXP 24
10893: PUSH
10894: LD_INT 0
10896: EQUAL
10897: IFFALSE 10903
// exit else
10899: GO 11308
10901: GO 11308
// if def_respawining_type in [ 2 , 3 ] then
10903: LD_EXP 24
10907: PUSH
10908: LD_INT 2
10910: PUSH
10911: LD_INT 3
10913: PUSH
10914: EMPTY
10915: LIST
10916: LIST
10917: IN
10918: IFFALSE 11274
// begin if respawn = 8 then
10920: LD_LOC 2
10924: PUSH
10925: LD_INT 8
10927: EQUAL
10928: IFFALSE 10974
// begin respawn := 1 ;
10930: LD_ADDR_LOC 2
10934: PUSH
10935: LD_INT 1
10937: ST_TO_ADDR
// if nation = 3 then
10938: LD_LOC 4
10942: PUSH
10943: LD_INT 3
10945: EQUAL
10946: IFFALSE 10958
// nation := 1 else
10948: LD_ADDR_LOC 4
10952: PUSH
10953: LD_INT 1
10955: ST_TO_ADDR
10956: GO 10972
// nation := nation + 1 ;
10958: LD_ADDR_LOC 4
10962: PUSH
10963: LD_LOC 4
10967: PUSH
10968: LD_INT 1
10970: PLUS
10971: ST_TO_ADDR
// end else
10972: GO 10988
// respawn := respawn + 1 ;
10974: LD_ADDR_LOC 2
10978: PUSH
10979: LD_LOC 2
10983: PUSH
10984: LD_INT 1
10986: PLUS
10987: ST_TO_ADDR
// if Side_Positions [ respawn ] then
10988: LD_EXP 74
10992: PUSH
10993: LD_LOC 2
10997: ARRAY
10998: IFFALSE 11271
// begin if nation in nations [ respawn ] then
11000: LD_LOC 4
11004: PUSH
11005: LD_LOC 5
11009: PUSH
11010: LD_LOC 2
11014: ARRAY
11015: IN
11016: IFFALSE 11268
// begin if def_desert_warior < 2 then
11018: LD_EXP 31
11022: PUSH
11023: LD_INT 2
11025: LESS
11026: IFFALSE 11079
// n := FilterAllUnits ( [ [ f_type , unit_human ] , [ f_side , respawn ] , [ f_nation , nation ] , ] ) else
11028: LD_ADDR_VAR 0 1
11032: PUSH
11033: LD_INT 21
11035: PUSH
11036: LD_INT 1
11038: PUSH
11039: EMPTY
11040: LIST
11041: LIST
11042: PUSH
11043: LD_INT 22
11045: PUSH
11046: LD_LOC 2
11050: PUSH
11051: EMPTY
11052: LIST
11053: LIST
11054: PUSH
11055: LD_INT 23
11057: PUSH
11058: LD_LOC 4
11062: PUSH
11063: EMPTY
11064: LIST
11065: LIST
11066: PUSH
11067: EMPTY
11068: LIST
11069: LIST
11070: LIST
11071: PPUSH
11072: CALL_OW 69
11076: ST_TO_ADDR
11077: GO 11143
// n := FilterAllUnits ( [ [ f_type , unit_human ] , [ f_side , respawn ] , [ f_nation , nation ] , f_not , [ f_class , class_desert_warior ] , ] ) ;
11079: LD_ADDR_VAR 0 1
11083: PUSH
11084: LD_INT 21
11086: PUSH
11087: LD_INT 1
11089: PUSH
11090: EMPTY
11091: LIST
11092: LIST
11093: PUSH
11094: LD_INT 22
11096: PUSH
11097: LD_LOC 2
11101: PUSH
11102: EMPTY
11103: LIST
11104: LIST
11105: PUSH
11106: LD_INT 23
11108: PUSH
11109: LD_LOC 4
11113: PUSH
11114: EMPTY
11115: LIST
11116: LIST
11117: PUSH
11118: LD_INT 3
11120: PUSH
11121: LD_INT 25
11123: PUSH
11124: LD_INT 11
11126: PUSH
11127: EMPTY
11128: LIST
11129: LIST
11130: PUSH
11131: EMPTY
11132: LIST
11133: LIST
11134: LIST
11135: LIST
11136: LIST
11137: PPUSH
11138: CALL_OW 69
11142: ST_TO_ADDR
// if ( n + inqueue [ respawn ] [ nation ] ) < noposn then
11143: LD_VAR 0 1
11147: PUSH
11148: LD_LOC 3
11152: PUSH
11153: LD_LOC 2
11157: ARRAY
11158: PUSH
11159: LD_LOC 4
11163: ARRAY
11164: PLUS
11165: PUSH
11166: LD_LOC 6
11170: LESS
11171: IFFALSE 11265
// begin aktresp := respawn ;
11173: LD_ADDR_VAR 0 3
11177: PUSH
11178: LD_LOC 2
11182: ST_TO_ADDR
// inqueue := Replace ( inqueue , aktresp , replace ( inqueue [ aktresp ] , nation , inqueue [ aktresp ] [ nation ] + 1 ) ) ;
11183: LD_ADDR_LOC 3
11187: PUSH
11188: LD_LOC 3
11192: PPUSH
11193: LD_VAR 0 3
11197: PPUSH
11198: LD_LOC 3
11202: PUSH
11203: LD_VAR 0 3
11207: ARRAY
11208: PPUSH
11209: LD_LOC 4
11213: PPUSH
11214: LD_LOC 3
11218: PUSH
11219: LD_VAR 0 3
11223: ARRAY
11224: PUSH
11225: LD_LOC 4
11229: ARRAY
11230: PUSH
11231: LD_INT 1
11233: PLUS
11234: PPUSH
11235: CALL_OW 1
11239: PPUSH
11240: CALL_OW 1
11244: ST_TO_ADDR
// enable ;
11245: ENABLE
// ObnovCloveka ( aktresp , nation , false ) ;
11246: LD_VAR 0 3
11250: PPUSH
11251: LD_LOC 4
11255: PPUSH
11256: LD_INT 0
11258: PPUSH
11259: CALL 11723 0 3
// end else
11263: GO 11266
// enable ;
11265: ENABLE
// end else
11266: GO 11269
// enable ;
11268: ENABLE
// end else
11269: GO 11272
// enable ;
11271: ENABLE
// end else
11272: GO 11308
// if def_respawining_type = 1 then
11274: LD_EXP 24
11278: PUSH
11279: LD_INT 1
11281: EQUAL
11282: IFFALSE 11308
// begin wait ( rand ( respawning_time_min , respawning_time_max ) ) ;
11284: LD_EXP 49
11288: PPUSH
11289: LD_EXP 51
11293: PPUSH
11294: CALL_OW 12
11298: PPUSH
11299: CALL_OW 67
// Vytvor_noveho_cloveka_pro_vsechny ;
11303: CALL 12808 0 0
// enable ;
11307: ENABLE
// end end ;
11308: PPOPN 6
11310: END
// export function OnHumanRespawned ( un ) ; var side , nation ; begin
11311: LD_INT 0
11313: PPUSH
11314: PPUSH
11315: PPUSH
// wait ( 0 0$30 ) ;
11316: LD_INT 1050
11318: PPUSH
11319: CALL_OW 67
// side = GetSide ( un ) ;
11323: LD_ADDR_VAR 0 3
11327: PUSH
11328: LD_VAR 0 1
11332: PPUSH
11333: CALL_OW 255
11337: ST_TO_ADDR
// nation = GetNation ( un ) ;
11338: LD_ADDR_VAR 0 4
11342: PUSH
11343: LD_VAR 0 1
11347: PPUSH
11348: CALL_OW 248
11352: ST_TO_ADDR
// inqueue := Replace ( inqueue , side , replace ( inqueue [ side ] , nation , inqueue [ side ] [ nation ] - 1 ) ) ;
11353: LD_ADDR_LOC 3
11357: PUSH
11358: LD_LOC 3
11362: PPUSH
11363: LD_VAR 0 3
11367: PPUSH
11368: LD_LOC 3
11372: PUSH
11373: LD_VAR 0 3
11377: ARRAY
11378: PPUSH
11379: LD_VAR 0 4
11383: PPUSH
11384: LD_LOC 3
11388: PUSH
11389: LD_VAR 0 3
11393: ARRAY
11394: PUSH
11395: LD_VAR 0 4
11399: ARRAY
11400: PUSH
11401: LD_INT 1
11403: MINUS
11404: PPUSH
11405: CALL_OW 1
11409: PPUSH
11410: CALL_OW 1
11414: ST_TO_ADDR
// end ;
11415: LD_VAR 0 2
11419: RET
// export function RespawnHumanDestroyed ( identifier , side , nation , x , y , direction , sex , cl ) ; begin
11420: LD_INT 0
11422: PPUSH
// if def_respawining_type < 2 then
11423: LD_EXP 24
11427: PUSH
11428: LD_INT 2
11430: LESS
11431: IFFALSE 11435
// exit ;
11433: GO 11604
// if nation = nation_nature or side = 0 then
11435: LD_VAR 0 3
11439: PUSH
11440: LD_INT 0
11442: EQUAL
11443: PUSH
11444: LD_VAR 0 2
11448: PUSH
11449: LD_INT 0
11451: EQUAL
11452: OR
11453: IFFALSE 11457
// exit ;
11455: GO 11604
// if not Side_Positions [ side ] then
11457: LD_EXP 74
11461: PUSH
11462: LD_VAR 0 2
11466: ARRAY
11467: NOT
11468: IFFALSE 11472
// exit ;
11470: GO 11604
// if def_desert_warior = 2 then
11472: LD_EXP 31
11476: PUSH
11477: LD_INT 2
11479: EQUAL
11480: IFFALSE 11494
// if cl = class_desert_warior then
11482: LD_VAR 0 8
11486: PUSH
11487: LD_INT 11
11489: EQUAL
11490: IFFALSE 11494
// exit ;
11492: GO 11604
// inqueue := Replace ( inqueue , side , replace ( inqueue [ side ] , nation , inqueue [ side ] [ nation ] + 1 ) ) ;
11494: LD_ADDR_LOC 3
11498: PUSH
11499: LD_LOC 3
11503: PPUSH
11504: LD_VAR 0 2
11508: PPUSH
11509: LD_LOC 3
11513: PUSH
11514: LD_VAR 0 2
11518: ARRAY
11519: PPUSH
11520: LD_VAR 0 3
11524: PPUSH
11525: LD_LOC 3
11529: PUSH
11530: LD_VAR 0 2
11534: ARRAY
11535: PUSH
11536: LD_VAR 0 3
11540: ARRAY
11541: PUSH
11542: LD_INT 1
11544: PLUS
11545: PPUSH
11546: CALL_OW 1
11550: PPUSH
11551: CALL_OW 1
11555: ST_TO_ADDR
// if def_respawining_type = 2 then
11556: LD_EXP 24
11560: PUSH
11561: LD_INT 2
11563: EQUAL
11564: IFFALSE 11587
// ObnovCloveka ( side , nation , identifier ) else
11566: LD_VAR 0 2
11570: PPUSH
11571: LD_VAR 0 3
11575: PPUSH
11576: LD_VAR 0 1
11580: PPUSH
11581: CALL 11723 0 3
11585: GO 11604
// ObnovCloveka ( side , nation , false ) ;
11587: LD_VAR 0 2
11591: PPUSH
11592: LD_VAR 0 3
11596: PPUSH
11597: LD_INT 0
11599: PPUSH
11600: CALL 11723 0 3
// end ;
11604: LD_VAR 0 9
11608: RET
// export ObnovCas , ObnovZpozdeni ; export function SetRespawningTime ( minBTime , maxBTime , MinDelay , MaxDelay ) ; var k ; begin
11609: LD_INT 0
11611: PPUSH
11612: PPUSH
// k = Rand ( minBTime , maxBTime ) ;
11613: LD_ADDR_VAR 0 6
11617: PUSH
11618: LD_VAR 0 1
11622: PPUSH
11623: LD_VAR 0 2
11627: PPUSH
11628: CALL_OW 12
11632: ST_TO_ADDR
// ObnovCas = [ k , k , k , k , k , k , k , k ] ;
11633: LD_ADDR_EXP 101
11637: PUSH
11638: LD_VAR 0 6
11642: PUSH
11643: LD_VAR 0 6
11647: PUSH
11648: LD_VAR 0 6
11652: PUSH
11653: LD_VAR 0 6
11657: PUSH
11658: LD_VAR 0 6
11662: PUSH
11663: LD_VAR 0 6
11667: PUSH
11668: LD_VAR 0 6
11672: PUSH
11673: LD_VAR 0 6
11677: PUSH
11678: EMPTY
11679: LIST
11680: LIST
11681: LIST
11682: LIST
11683: LIST
11684: LIST
11685: LIST
11686: LIST
11687: ST_TO_ADDR
// k = Rand ( minDelay , MaxDelay ) ;
11688: LD_ADDR_VAR 0 6
11692: PUSH
11693: LD_VAR 0 3
11697: PPUSH
11698: LD_VAR 0 4
11702: PPUSH
11703: CALL_OW 12
11707: ST_TO_ADDR
// ObnovZpozdeni = k ;
11708: LD_ADDR_EXP 102
11712: PUSH
11713: LD_VAR 0 6
11717: ST_TO_ADDR
// end ;
11718: LD_VAR 0 5
11722: RET
// export unit_list ; export function ObnovCloveka ( side , nation , restored ) ; var building_list , b , n , un , k , i , base_skills , speed , def ; begin
11723: LD_INT 0
11725: PPUSH
11726: PPUSH
11727: PPUSH
11728: PPUSH
11729: PPUSH
11730: PPUSH
11731: PPUSH
11732: PPUSH
11733: PPUSH
11734: PPUSH
// if ObnovCas [ side ] = 0 then
11735: LD_EXP 101
11739: PUSH
11740: LD_VAR 0 1
11744: ARRAY
11745: PUSH
11746: LD_INT 0
11748: EQUAL
11749: IFFALSE 11753
// exit ;
11751: GO 12398
// uc_nation := nation ;
11753: LD_ADDR_OWVAR 21
11757: PUSH
11758: LD_VAR 0 2
11762: ST_TO_ADDR
// uc_side := side ;
11763: LD_ADDR_OWVAR 20
11767: PUSH
11768: LD_VAR 0 1
11772: ST_TO_ADDR
// uc_direction := Rand ( 0 , 5 ) ;
11773: LD_ADDR_OWVAR 24
11777: PUSH
11778: LD_INT 0
11780: PPUSH
11781: LD_INT 5
11783: PPUSH
11784: CALL_OW 12
11788: ST_TO_ADDR
// if restored then
11789: LD_VAR 0 3
11793: IFFALSE 11876
// begin hc_class = GetClass ( restored ) ;
11795: LD_ADDR_OWVAR 28
11799: PUSH
11800: LD_VAR 0 3
11804: PPUSH
11805: CALL_OW 257
11809: ST_TO_ADDR
// hc_attr = [ GetAttr ( restored , attr_stamina ) , GetAttr ( restored , attr_speed ) ] ;
11810: LD_ADDR_OWVAR 29
11814: PUSH
11815: LD_VAR 0 3
11819: PPUSH
11820: LD_INT 1
11822: PPUSH
11823: CALL_OW 260
11827: PUSH
11828: LD_VAR 0 3
11832: PPUSH
11833: LD_INT 2
11835: PPUSH
11836: CALL_OW 260
11840: PUSH
11841: EMPTY
11842: LIST
11843: LIST
11844: ST_TO_ADDR
// if hc_class in [ class_sniper , class_bazooker , class_mortar ] then
11845: LD_OWVAR 28
11849: PUSH
11850: LD_INT 5
11852: PUSH
11853: LD_INT 9
11855: PUSH
11856: LD_INT 8
11858: PUSH
11859: EMPTY
11860: LIST
11861: LIST
11862: LIST
11863: IN
11864: IFFALSE 11874
// hc_class = class_soldier ;
11866: LD_ADDR_OWVAR 28
11870: PUSH
11871: LD_INT 1
11873: ST_TO_ADDR
// end else
11874: GO 11885
// randomHumanStats ( initial_level ) ;
11876: LD_EXP 42
11880: PPUSH
11881: CALL 17299 0 1
// hc_importance := 0 ;
11885: LD_ADDR_OWVAR 32
11889: PUSH
11890: LD_INT 0
11892: ST_TO_ADDR
// hc_gallery :=  ;
11893: LD_ADDR_OWVAR 33
11897: PUSH
11898: LD_STRING 
11900: ST_TO_ADDR
// hc_face_number := 0 ;
11901: LD_ADDR_OWVAR 34
11905: PUSH
11906: LD_INT 0
11908: ST_TO_ADDR
// hc_name =  ;
11909: LD_ADDR_OWVAR 26
11913: PUSH
11914: LD_STRING 
11916: ST_TO_ADDR
// un := CreateHuman ;
11917: LD_ADDR_VAR 0 8
11921: PUSH
11922: CALL_OW 44
11926: ST_TO_ADDR
// if restored then
11927: LD_VAR 0 3
11931: IFFALSE 11947
// CopySkills ( restored , un ) ;
11933: LD_VAR 0 3
11937: PPUSH
11938: LD_VAR 0 8
11942: PPUSH
11943: CALL_OW 510
// k = ObnovCas [ side ] + ObnovZpozdeni ;
11947: LD_ADDR_VAR 0 9
11951: PUSH
11952: LD_EXP 101
11956: PUSH
11957: LD_VAR 0 1
11961: ARRAY
11962: PUSH
11963: LD_EXP 102
11967: PLUS
11968: ST_TO_ADDR
// ObnovCas = Replace ( ObnovCas , side , k ) ;
11969: LD_ADDR_EXP 101
11973: PUSH
11974: LD_EXP 101
11978: PPUSH
11979: LD_VAR 0 1
11983: PPUSH
11984: LD_VAR 0 9
11988: PPUSH
11989: CALL_OW 1
11993: ST_TO_ADDR
// wait ( ObnovCas [ side ] - ObnovZpozdeni ) ;
11994: LD_EXP 101
11998: PUSH
11999: LD_VAR 0 1
12003: ARRAY
12004: PUSH
12005: LD_EXP 102
12009: MINUS
12010: PPUSH
12011: CALL_OW 67
// if not ( HasPower ( side ) ) then
12015: LD_VAR 0 1
12019: PPUSH
12020: CALL 13188 0 1
12024: NOT
12025: IFFALSE 12029
// exit ;
12027: GO 12398
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_ok ] , [ f_side , side ] , [ f_nation , nation ] ] ) ;
12029: LD_ADDR_VAR 0 5
12033: PUSH
12034: LD_INT 21
12036: PUSH
12037: LD_INT 3
12039: PUSH
12040: EMPTY
12041: LIST
12042: LIST
12043: PUSH
12044: LD_INT 2
12046: PUSH
12047: LD_INT 30
12049: PUSH
12050: LD_INT 0
12052: PUSH
12053: EMPTY
12054: LIST
12055: LIST
12056: PUSH
12057: LD_INT 30
12059: PUSH
12060: LD_INT 1
12062: PUSH
12063: EMPTY
12064: LIST
12065: LIST
12066: PUSH
12067: EMPTY
12068: LIST
12069: LIST
12070: LIST
12071: PUSH
12072: LD_INT 50
12074: PUSH
12075: EMPTY
12076: LIST
12077: PUSH
12078: LD_INT 22
12080: PUSH
12081: LD_VAR 0 1
12085: PUSH
12086: EMPTY
12087: LIST
12088: LIST
12089: PUSH
12090: LD_INT 23
12092: PUSH
12093: LD_VAR 0 2
12097: PUSH
12098: EMPTY
12099: LIST
12100: LIST
12101: PUSH
12102: EMPTY
12103: LIST
12104: LIST
12105: LIST
12106: LIST
12107: LIST
12108: PPUSH
12109: CALL_OW 69
12113: ST_TO_ADDR
// if building_list = 0 then
12114: LD_VAR 0 5
12118: PUSH
12119: LD_INT 0
12121: EQUAL
12122: IFFALSE 12196
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_ok ] , [ f_side , side ] ] ) ;
12124: LD_ADDR_VAR 0 5
12128: PUSH
12129: LD_INT 21
12131: PUSH
12132: LD_INT 3
12134: PUSH
12135: EMPTY
12136: LIST
12137: LIST
12138: PUSH
12139: LD_INT 2
12141: PUSH
12142: LD_INT 30
12144: PUSH
12145: LD_INT 0
12147: PUSH
12148: EMPTY
12149: LIST
12150: LIST
12151: PUSH
12152: LD_INT 30
12154: PUSH
12155: LD_INT 1
12157: PUSH
12158: EMPTY
12159: LIST
12160: LIST
12161: PUSH
12162: EMPTY
12163: LIST
12164: LIST
12165: LIST
12166: PUSH
12167: LD_INT 50
12169: PUSH
12170: EMPTY
12171: LIST
12172: PUSH
12173: LD_INT 22
12175: PUSH
12176: LD_VAR 0 1
12180: PUSH
12181: EMPTY
12182: LIST
12183: LIST
12184: PUSH
12185: EMPTY
12186: LIST
12187: LIST
12188: LIST
12189: LIST
12190: PPUSH
12191: CALL_OW 69
12195: ST_TO_ADDR
// if building_list = 0 then
12196: LD_VAR 0 5
12200: PUSH
12201: LD_INT 0
12203: EQUAL
12204: IFFALSE 12249
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_ok ] , [ f_side , side ] ] ) ;
12206: LD_ADDR_VAR 0 5
12210: PUSH
12211: LD_INT 21
12213: PUSH
12214: LD_INT 3
12216: PUSH
12217: EMPTY
12218: LIST
12219: LIST
12220: PUSH
12221: LD_INT 50
12223: PUSH
12224: EMPTY
12225: LIST
12226: PUSH
12227: LD_INT 22
12229: PUSH
12230: LD_VAR 0 1
12234: PUSH
12235: EMPTY
12236: LIST
12237: LIST
12238: PUSH
12239: EMPTY
12240: LIST
12241: LIST
12242: LIST
12243: PPUSH
12244: CALL_OW 69
12248: ST_TO_ADDR
// if building_list > 0 then
12249: LD_VAR 0 5
12253: PUSH
12254: LD_INT 0
12256: GREATER
12257: IFFALSE 12375
// begin b := building_list [ Rand ( 1 , building_list + 0 ) ] ;
12259: LD_ADDR_VAR 0 6
12263: PUSH
12264: LD_VAR 0 5
12268: PUSH
12269: LD_INT 1
12271: PPUSH
12272: LD_VAR 0 5
12276: PUSH
12277: LD_INT 0
12279: PLUS
12280: PPUSH
12281: CALL_OW 12
12285: ARRAY
12286: ST_TO_ADDR
// if GetBType ( b ) in [ b_depot , b_warehouse ] then
12287: LD_VAR 0 6
12291: PPUSH
12292: CALL_OW 266
12296: PUSH
12297: LD_INT 0
12299: PUSH
12300: LD_INT 1
12302: PUSH
12303: EMPTY
12304: LIST
12305: LIST
12306: IN
12307: IFFALSE 12319
// n = 25 else
12309: LD_ADDR_VAR 0 7
12313: PUSH
12314: LD_INT 25
12316: ST_TO_ADDR
12317: GO 12327
// n = 10 ;
12319: LD_ADDR_VAR 0 7
12323: PUSH
12324: LD_INT 10
12326: ST_TO_ADDR
// PlaceUnitXYR ( un , GetX ( b ) , GetY ( b ) , n , true ) ;
12327: LD_VAR 0 8
12331: PPUSH
12332: LD_VAR 0 6
12336: PPUSH
12337: CALL_OW 250
12341: PPUSH
12342: LD_VAR 0 6
12346: PPUSH
12347: CALL_OW 251
12351: PPUSH
12352: LD_VAR 0 7
12356: PPUSH
12357: LD_INT 1
12359: PPUSH
12360: CALL_OW 50
// OnHumanRespawned ( un ) ;
12364: LD_VAR 0 8
12368: PPUSH
12369: CALL 11311 0 1
// end else
12373: GO 12398
// begin ObnovOpozdilceCloveka ( un , side , k / 2 ) ;
12375: LD_VAR 0 8
12379: PPUSH
12380: LD_VAR 0 1
12384: PPUSH
12385: LD_VAR 0 9
12389: PUSH
12390: LD_INT 2
12392: DIVREAL
12393: PPUSH
12394: CALL 12403 0 3
// end ; end ;
12398: LD_VAR 0 4
12402: RET
// function ObnovOpozdilceCloveka ( un , side , waitTime ) ; var building_list , n , unit_list , b ; begin
12403: LD_INT 0
12405: PPUSH
12406: PPUSH
12407: PPUSH
12408: PPUSH
12409: PPUSH
// wait ( waitTime ) ;
12410: LD_VAR 0 3
12414: PPUSH
12415: CALL_OW 67
// if not ( HasPower ( side ) ) then
12419: LD_VAR 0 2
12423: PPUSH
12424: CALL 13188 0 1
12428: NOT
12429: IFFALSE 12433
// exit ;
12431: GO 12803
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_ok ] , [ f_side , side ] , [ f_nation , GetNation ( un ) ] ] ) ;
12433: LD_ADDR_VAR 0 5
12437: PUSH
12438: LD_INT 21
12440: PUSH
12441: LD_INT 3
12443: PUSH
12444: EMPTY
12445: LIST
12446: LIST
12447: PUSH
12448: LD_INT 2
12450: PUSH
12451: LD_INT 30
12453: PUSH
12454: LD_INT 0
12456: PUSH
12457: EMPTY
12458: LIST
12459: LIST
12460: PUSH
12461: LD_INT 30
12463: PUSH
12464: LD_INT 1
12466: PUSH
12467: EMPTY
12468: LIST
12469: LIST
12470: PUSH
12471: EMPTY
12472: LIST
12473: LIST
12474: LIST
12475: PUSH
12476: LD_INT 50
12478: PUSH
12479: EMPTY
12480: LIST
12481: PUSH
12482: LD_INT 22
12484: PUSH
12485: LD_VAR 0 2
12489: PUSH
12490: EMPTY
12491: LIST
12492: LIST
12493: PUSH
12494: LD_INT 23
12496: PUSH
12497: LD_VAR 0 1
12501: PPUSH
12502: CALL_OW 248
12506: PUSH
12507: EMPTY
12508: LIST
12509: LIST
12510: PUSH
12511: EMPTY
12512: LIST
12513: LIST
12514: LIST
12515: LIST
12516: LIST
12517: PPUSH
12518: CALL_OW 69
12522: ST_TO_ADDR
// if building_list = 0 then
12523: LD_VAR 0 5
12527: PUSH
12528: LD_INT 0
12530: EQUAL
12531: IFFALSE 12605
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_ok ] , [ f_side , side ] ] ) ;
12533: LD_ADDR_VAR 0 5
12537: PUSH
12538: LD_INT 21
12540: PUSH
12541: LD_INT 3
12543: PUSH
12544: EMPTY
12545: LIST
12546: LIST
12547: PUSH
12548: LD_INT 2
12550: PUSH
12551: LD_INT 30
12553: PUSH
12554: LD_INT 0
12556: PUSH
12557: EMPTY
12558: LIST
12559: LIST
12560: PUSH
12561: LD_INT 30
12563: PUSH
12564: LD_INT 1
12566: PUSH
12567: EMPTY
12568: LIST
12569: LIST
12570: PUSH
12571: EMPTY
12572: LIST
12573: LIST
12574: LIST
12575: PUSH
12576: LD_INT 50
12578: PUSH
12579: EMPTY
12580: LIST
12581: PUSH
12582: LD_INT 22
12584: PUSH
12585: LD_VAR 0 2
12589: PUSH
12590: EMPTY
12591: LIST
12592: LIST
12593: PUSH
12594: EMPTY
12595: LIST
12596: LIST
12597: LIST
12598: LIST
12599: PPUSH
12600: CALL_OW 69
12604: ST_TO_ADDR
// if building_list = 0 then
12605: LD_VAR 0 5
12609: PUSH
12610: LD_INT 0
12612: EQUAL
12613: IFFALSE 12658
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_ok ] , [ f_side , side ] ] ) ;
12615: LD_ADDR_VAR 0 5
12619: PUSH
12620: LD_INT 21
12622: PUSH
12623: LD_INT 3
12625: PUSH
12626: EMPTY
12627: LIST
12628: LIST
12629: PUSH
12630: LD_INT 50
12632: PUSH
12633: EMPTY
12634: LIST
12635: PUSH
12636: LD_INT 22
12638: PUSH
12639: LD_VAR 0 2
12643: PUSH
12644: EMPTY
12645: LIST
12646: LIST
12647: PUSH
12648: EMPTY
12649: LIST
12650: LIST
12651: LIST
12652: PPUSH
12653: CALL_OW 69
12657: ST_TO_ADDR
// if building_list > 0 then
12658: LD_VAR 0 5
12662: PUSH
12663: LD_INT 0
12665: GREATER
12666: IFFALSE 12784
// begin b := building_list [ Rand ( 1 , building_list + 0 ) ] ;
12668: LD_ADDR_VAR 0 8
12672: PUSH
12673: LD_VAR 0 5
12677: PUSH
12678: LD_INT 1
12680: PPUSH
12681: LD_VAR 0 5
12685: PUSH
12686: LD_INT 0
12688: PLUS
12689: PPUSH
12690: CALL_OW 12
12694: ARRAY
12695: ST_TO_ADDR
// if GetBType ( b ) in [ b_depot , b_warehouse ] then
12696: LD_VAR 0 8
12700: PPUSH
12701: CALL_OW 266
12705: PUSH
12706: LD_INT 0
12708: PUSH
12709: LD_INT 1
12711: PUSH
12712: EMPTY
12713: LIST
12714: LIST
12715: IN
12716: IFFALSE 12728
// n = 25 else
12718: LD_ADDR_VAR 0 6
12722: PUSH
12723: LD_INT 25
12725: ST_TO_ADDR
12726: GO 12736
// n = 10 ;
12728: LD_ADDR_VAR 0 6
12732: PUSH
12733: LD_INT 10
12735: ST_TO_ADDR
// PlaceUnitXYR ( un , GetX ( b ) , GetY ( b ) , n , true ) ;
12736: LD_VAR 0 1
12740: PPUSH
12741: LD_VAR 0 8
12745: PPUSH
12746: CALL_OW 250
12750: PPUSH
12751: LD_VAR 0 8
12755: PPUSH
12756: CALL_OW 251
12760: PPUSH
12761: LD_VAR 0 6
12765: PPUSH
12766: LD_INT 1
12768: PPUSH
12769: CALL_OW 50
// OnHumanRespawned ( un ) ;
12773: LD_VAR 0 1
12777: PPUSH
12778: CALL 11311 0 1
// end else
12782: GO 12803
// ObnovOpozdilceCloveka ( un , side , waitTime ) ;
12784: LD_VAR 0 1
12788: PPUSH
12789: LD_VAR 0 2
12793: PPUSH
12794: LD_VAR 0 3
12798: PPUSH
12799: CALL 12403 0 3
// end ;
12803: LD_VAR 0 4
12807: RET
// export function Vytvor_noveho_cloveka_pro_vsechny ; var nat , side , sidy , i , k ; begin
12808: LD_INT 0
12810: PPUSH
12811: PPUSH
12812: PPUSH
12813: PPUSH
12814: PPUSH
12815: PPUSH
// randomHumanStats ( initial_level ) ;
12816: LD_EXP 42
12820: PPUSH
12821: CALL 17299 0 1
// sidy = [ ] ;
12825: LD_ADDR_VAR 0 4
12829: PUSH
12830: EMPTY
12831: ST_TO_ADDR
// for i = 1 to Side_positions + 0 do
12832: LD_ADDR_VAR 0 5
12836: PUSH
12837: DOUBLE
12838: LD_INT 1
12840: DEC
12841: ST_TO_ADDR
12842: LD_EXP 74
12846: PUSH
12847: LD_INT 0
12849: PLUS
12850: PUSH
12851: FOR_TO
12852: IFFALSE 12920
// if Side_positions [ i ] > 0 then
12854: LD_EXP 74
12858: PUSH
12859: LD_VAR 0 5
12863: ARRAY
12864: PUSH
12865: LD_INT 0
12867: GREATER
12868: IFFALSE 12918
// if HasPower ( i ) then
12870: LD_VAR 0 5
12874: PPUSH
12875: CALL 13188 0 1
12879: IFFALSE 12918
// for k in nations [ i ] do
12881: LD_ADDR_VAR 0 6
12885: PUSH
12886: LD_LOC 5
12890: PUSH
12891: LD_VAR 0 5
12895: ARRAY
12896: PUSH
12897: FOR_IN
12898: IFFALSE 12916
// vytvor_cloveka ( i , k ) ;
12900: LD_VAR 0 5
12904: PPUSH
12905: LD_VAR 0 6
12909: PPUSH
12910: CALL 12927 0 2
12914: GO 12897
12916: POP
12917: POP
12918: GO 12851
12920: POP
12921: POP
// end ;
12922: LD_VAR 0 1
12926: RET
// function vytvor_cloveka ( side , nat ) ; var pom ; begin
12927: LD_INT 0
12929: PPUSH
12930: PPUSH
// uc_side = side ;
12931: LD_ADDR_OWVAR 20
12935: PUSH
12936: LD_VAR 0 1
12940: ST_TO_ADDR
// uc_nation = nat ;
12941: LD_ADDR_OWVAR 21
12945: PUSH
12946: LD_VAR 0 2
12950: ST_TO_ADDR
// PlaceUnitAnywhere ( CreateHuman , true ) ;
12951: CALL_OW 44
12955: PPUSH
12956: LD_INT 1
12958: PPUSH
12959: CALL_OW 51
// if game_type in GT_DoublePeople then
12963: LD_EXP 1
12967: PUSH
12968: LD_EXP 4
12972: IN
12973: IFFALSE 12987
// PlaceUnitAnywhere ( CreateHuman , true ) ;
12975: CALL_OW 44
12979: PPUSH
12980: LD_INT 1
12982: PPUSH
12983: CALL_OW 51
// end ; end_of_file
12987: LD_VAR 0 3
12991: RET
// var defeated , GameEnded , unfoged , defeated_specs ; export function Init_Win_Condition ; var i ; begin
12992: LD_INT 0
12994: PPUSH
12995: PPUSH
// enable ( 98 ) ;
12996: LD_INT 98
12998: ENABLE_MARKED
// GameEnded = false ;
12999: LD_ADDR_LOC 8
13003: PUSH
13004: LD_INT 0
13006: ST_TO_ADDR
// defeated = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
13007: LD_ADDR_LOC 7
13011: PUSH
13012: LD_INT 0
13014: PUSH
13015: LD_INT 0
13017: PUSH
13018: LD_INT 0
13020: PUSH
13021: LD_INT 0
13023: PUSH
13024: LD_INT 0
13026: PUSH
13027: LD_INT 0
13029: PUSH
13030: LD_INT 0
13032: PUSH
13033: LD_INT 0
13035: PUSH
13036: EMPTY
13037: LIST
13038: LIST
13039: LIST
13040: LIST
13041: LIST
13042: LIST
13043: LIST
13044: LIST
13045: ST_TO_ADDR
// unfoged = false ;
13046: LD_ADDR_LOC 9
13050: PUSH
13051: LD_INT 0
13053: ST_TO_ADDR
// defeated_specs := [ ] ;
13054: LD_ADDR_LOC 10
13058: PUSH
13059: EMPTY
13060: ST_TO_ADDR
// for i = 1 to side_positions do
13061: LD_ADDR_VAR 0 2
13065: PUSH
13066: DOUBLE
13067: LD_INT 1
13069: DEC
13070: ST_TO_ADDR
13071: LD_EXP 74
13075: PUSH
13076: FOR_TO
13077: IFFALSE 13117
// if not side_positions [ i ] then
13079: LD_EXP 74
13083: PUSH
13084: LD_VAR 0 2
13088: ARRAY
13089: NOT
13090: IFFALSE 13115
// defeated = replace ( defeated , i , true ) ;
13092: LD_ADDR_LOC 7
13096: PUSH
13097: LD_LOC 7
13101: PPUSH
13102: LD_VAR 0 2
13106: PPUSH
13107: LD_INT 1
13109: PPUSH
13110: CALL_OW 1
13114: ST_TO_ADDR
13115: GO 13076
13117: POP
13118: POP
// end ;
13119: LD_VAR 0 1
13123: RET
// function CanWinLoose ; begin
13124: LD_INT 0
13126: PPUSH
// Result := true ;
13127: LD_ADDR_VAR 0 1
13131: PUSH
13132: LD_INT 1
13134: ST_TO_ADDR
// if IAmServer and PlayerCount > 0 then
13135: CALL_OW 518
13139: PUSH
13140: CALL_OW 519
13144: PUSH
13145: LD_INT 0
13147: GREATER
13148: AND
13149: IFFALSE 13159
// Result := false ;
13151: LD_ADDR_VAR 0 1
13155: PUSH
13156: LD_INT 0
13158: ST_TO_ADDR
// if IAmSpec and PlayerCount > 1 then
13159: CALL_OW 531
13163: PUSH
13164: CALL_OW 519
13168: PUSH
13169: LD_INT 1
13171: GREATER
13172: AND
13173: IFFALSE 13183
// Result := false ;
13175: LD_ADDR_VAR 0 1
13179: PUSH
13180: LD_INT 0
13182: ST_TO_ADDR
// end ;
13183: LD_VAR 0 1
13187: RET
// export function HasPower ( i ) ; var k , h ; begin
13188: LD_INT 0
13190: PPUSH
13191: PPUSH
13192: PPUSH
// if not MultiplayerSideAlive ( i ) and not Side_Comps [ i ] and MultiPlayer then
13193: LD_VAR 0 1
13197: PPUSH
13198: CALL_OW 108
13202: NOT
13203: PUSH
13204: LD_EXP 77
13208: PUSH
13209: LD_VAR 0 1
13213: ARRAY
13214: NOT
13215: AND
13216: PUSH
13217: LD_OWVAR 4
13221: AND
13222: IFFALSE 13234
// begin result = false ;
13224: LD_ADDR_VAR 0 2
13228: PUSH
13229: LD_INT 0
13231: ST_TO_ADDR
// end else
13232: GO 13529
// case def_win_rules of 0 :
13234: LD_EXP 21
13238: PUSH
13239: LD_INT 0
13241: DOUBLE
13242: EQUAL
13243: IFTRUE 13247
13245: GO 13410
13247: POP
// if def_people_respawning then
13248: LD_EXP 25
13252: IFFALSE 13343
// Result := FilterAllUnits ( [ [ f_side , i ] , [ f_or , [ f_type , unit_human ] , [ f_control , control_computer ] , [ f_control , control_apeman ] , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) else
13254: LD_ADDR_VAR 0 2
13258: PUSH
13259: LD_INT 22
13261: PUSH
13262: LD_VAR 0 1
13266: PUSH
13267: EMPTY
13268: LIST
13269: LIST
13270: PUSH
13271: LD_INT 2
13273: PUSH
13274: LD_INT 21
13276: PUSH
13277: LD_INT 1
13279: PUSH
13280: EMPTY
13281: LIST
13282: LIST
13283: PUSH
13284: LD_INT 33
13286: PUSH
13287: LD_INT 3
13289: PUSH
13290: EMPTY
13291: LIST
13292: LIST
13293: PUSH
13294: LD_INT 33
13296: PUSH
13297: LD_INT 5
13299: PUSH
13300: EMPTY
13301: LIST
13302: LIST
13303: PUSH
13304: LD_INT 30
13306: PUSH
13307: LD_INT 0
13309: PUSH
13310: EMPTY
13311: LIST
13312: LIST
13313: PUSH
13314: LD_INT 30
13316: PUSH
13317: LD_INT 1
13319: PUSH
13320: EMPTY
13321: LIST
13322: LIST
13323: PUSH
13324: EMPTY
13325: LIST
13326: LIST
13327: LIST
13328: LIST
13329: LIST
13330: LIST
13331: PUSH
13332: EMPTY
13333: LIST
13334: LIST
13335: PPUSH
13336: CALL_OW 69
13340: ST_TO_ADDR
13341: GO 13408
// Result := FilterAllUnits ( [ [ f_side , i ] , [ f_or , [ f_type , unit_human ] , [ f_control , control_computer ] , [ f_control , control_apeman ] ] ] ) ; 1 :
13343: LD_ADDR_VAR 0 2
13347: PUSH
13348: LD_INT 22
13350: PUSH
13351: LD_VAR 0 1
13355: PUSH
13356: EMPTY
13357: LIST
13358: LIST
13359: PUSH
13360: LD_INT 2
13362: PUSH
13363: LD_INT 21
13365: PUSH
13366: LD_INT 1
13368: PUSH
13369: EMPTY
13370: LIST
13371: LIST
13372: PUSH
13373: LD_INT 33
13375: PUSH
13376: LD_INT 3
13378: PUSH
13379: EMPTY
13380: LIST
13381: LIST
13382: PUSH
13383: LD_INT 33
13385: PUSH
13386: LD_INT 5
13388: PUSH
13389: EMPTY
13390: LIST
13391: LIST
13392: PUSH
13393: EMPTY
13394: LIST
13395: LIST
13396: LIST
13397: LIST
13398: PUSH
13399: EMPTY
13400: LIST
13401: LIST
13402: PPUSH
13403: CALL_OW 69
13407: ST_TO_ADDR
13408: GO 13529
13410: LD_INT 1
13412: DOUBLE
13413: EQUAL
13414: IFTRUE 13418
13416: GO 13457
13418: POP
// Result = FilterAllUnits ( [ [ f_side , i ] , [ f_type , unit_human ] ] ) ; 2 :
13419: LD_ADDR_VAR 0 2
13423: PUSH
13424: LD_INT 22
13426: PUSH
13427: LD_VAR 0 1
13431: PUSH
13432: EMPTY
13433: LIST
13434: LIST
13435: PUSH
13436: LD_INT 21
13438: PUSH
13439: LD_INT 1
13441: PUSH
13442: EMPTY
13443: LIST
13444: LIST
13445: PUSH
13446: EMPTY
13447: LIST
13448: LIST
13449: PPUSH
13450: CALL_OW 69
13454: ST_TO_ADDR
13455: GO 13529
13457: LD_INT 2
13459: DOUBLE
13460: EQUAL
13461: IFTRUE 13465
13463: GO 13528
13465: POP
// begin h = false ;
13466: LD_ADDR_VAR 0 4
13470: PUSH
13471: LD_INT 0
13473: ST_TO_ADDR
// for k in heroes [ i ] do
13474: LD_ADDR_VAR 0 3
13478: PUSH
13479: LD_EXP 50
13483: PUSH
13484: LD_VAR 0 1
13488: ARRAY
13489: PUSH
13490: FOR_IN
13491: IFFALSE 13514
// if IsLive ( k ) then
13493: LD_VAR 0 3
13497: PPUSH
13498: CALL_OW 300
13502: IFFALSE 13512
// h = true ;
13504: LD_ADDR_VAR 0 4
13508: PUSH
13509: LD_INT 1
13511: ST_TO_ADDR
13512: GO 13490
13514: POP
13515: POP
// Result := h ;
13516: LD_ADDR_VAR 0 2
13520: PUSH
13521: LD_VAR 0 4
13525: ST_TO_ADDR
// end ; end ;
13526: GO 13529
13528: POP
// end ;
13529: LD_VAR 0 2
13533: RET
// function AlliedSides ( i , j ) ; begin
13534: LD_INT 0
13536: PPUSH
// Result := false ;
13537: LD_ADDR_VAR 0 3
13541: PUSH
13542: LD_INT 0
13544: ST_TO_ADDR
// if ( GetAttitude ( i , j ) = att_friend ) and ( GetAttitude ( j , i ) = att_friend ) and GetAlliedVictory ( i ) and GetAlliedVictory ( j ) then
13545: LD_VAR 0 1
13549: PPUSH
13550: LD_VAR 0 2
13554: PPUSH
13555: CALL_OW 81
13559: PUSH
13560: LD_INT 1
13562: EQUAL
13563: PUSH
13564: LD_VAR 0 2
13568: PPUSH
13569: LD_VAR 0 1
13573: PPUSH
13574: CALL_OW 81
13578: PUSH
13579: LD_INT 1
13581: EQUAL
13582: AND
13583: PUSH
13584: LD_VAR 0 1
13588: PPUSH
13589: CALL_OW 83
13593: AND
13594: PUSH
13595: LD_VAR 0 2
13599: PPUSH
13600: CALL_OW 83
13604: AND
13605: IFFALSE 13615
// Result := true ;
13607: LD_ADDR_VAR 0 3
13611: PUSH
13612: LD_INT 1
13614: ST_TO_ADDR
// end ;
13615: LD_VAR 0 3
13619: RET
// every 100 trigger CanWinLoose and not GameEnded marked 400 do
13620: CALL 13124 0 0
13624: PUSH
13625: LD_LOC 8
13629: NOT
13630: AND
13631: IFFALSE 13647
13633: GO 13635
13635: DISABLE
// WaitServerStrings = [ #Player-Ended ] ;
13636: LD_ADDR_EXP 106
13640: PUSH
13641: LD_STRING #Player-Ended
13643: PUSH
13644: EMPTY
13645: LIST
13646: ST_TO_ADDR
13647: END
// every 100 trigger CanWinLoose and GameEnded marked 400 do
13648: CALL 13124 0 0
13652: PUSH
13653: LD_LOC 8
13657: AND
13658: IFFALSE 13667
13660: GO 13662
13662: DISABLE
// YouLostInMultiplayer ;
13663: CALL_OW 107
13667: END
// every 100 trigger not CanWinLoose and not IAmSpec marked 400 do
13668: CALL 13124 0 0
13672: NOT
13673: PUSH
13674: CALL_OW 531
13678: NOT
13679: AND
13680: IFFALSE 13696
13682: GO 13684
13684: DISABLE
// WaitServerStrings = [ #server-wait ] ;
13685: LD_ADDR_EXP 106
13689: PUSH
13690: LD_STRING #server-wait
13692: PUSH
13693: EMPTY
13694: LIST
13695: ST_TO_ADDR
13696: END
// every 100 trigger IAmSpec do
13697: CALL_OW 531
13701: IFFALSE 13717
13703: GO 13705
13705: DISABLE
// WaitServerStrings = [ #Player-IAmSpec ] ;
13706: LD_ADDR_EXP 106
13710: PUSH
13711: LD_STRING #Player-IAmSpec
13713: PUSH
13714: EMPTY
13715: LIST
13716: ST_TO_ADDR
13717: END
// every 100 trigger GameEnded and IAmSpec do
13718: LD_LOC 8
13722: PUSH
13723: CALL_OW 531
13727: AND
13728: IFFALSE 13737
13730: GO 13732
13732: DISABLE
// YouLostInMultiplayer ;
13733: CALL_OW 107
13737: END
// every 100 trigger CanWinLoose and not GameEnded marked 401 do
13738: CALL 13124 0 0
13742: PUSH
13743: LD_LOC 8
13747: NOT
13748: AND
13749: IFFALSE 13765
13751: GO 13753
13753: DISABLE
// WaitServerStrings = [ $player-win ] ;
13754: LD_ADDR_EXP 106
13758: PUSH
13759: LD_STRING $player-win
13761: PUSH
13762: EMPTY
13763: LIST
13764: ST_TO_ADDR
13765: END
// every 100 trigger CanWinLoose and GameEnded marked 401 do
13766: CALL 13124 0 0
13770: PUSH
13771: LD_LOC 8
13775: AND
13776: IFFALSE 13800
13778: GO 13780
13780: DISABLE
// begin SA_Win ( Side_Nations [ mp_player_side ] ) ;
13781: LD_EXP 75
13785: PUSH
13786: LD_OWVAR 7
13790: ARRAY
13791: PPUSH
13792: CALL 34490 0 1
// YouWinInMultiplayer ;
13796: CALL_OW 106
// end ;
13800: END
// every 100 trigger isEditor marked 401 do
13801: LD_OWVAR 84
13805: IFFALSE 13821
13807: GO 13809
13809: DISABLE
// Debug_Strings = [ You won ] ;
13810: LD_ADDR_OWVAR 48
13814: PUSH
13815: LD_STRING You won
13817: PUSH
13818: EMPTY
13819: LIST
13820: ST_TO_ADDR
13821: END
// every 100 trigger isEditor marked 400 do
13822: LD_OWVAR 84
13826: IFFALSE 13842
13828: GO 13830
13830: DISABLE
// Debug_Strings = [ You loss ] ;
13831: LD_ADDR_OWVAR 48
13835: PUSH
13836: LD_STRING You loss
13838: PUSH
13839: EMPTY
13840: LIST
13841: ST_TO_ADDR
13842: END
// every 100 marked 98 do var i , un ;
13843: GO 13845
13845: DISABLE
13846: LD_INT 0
13848: PPUSH
13849: PPUSH
// begin for i = 1 to side_positions do
13850: LD_ADDR_VAR 0 1
13854: PUSH
13855: DOUBLE
13856: LD_INT 1
13858: DEC
13859: ST_TO_ADDR
13860: LD_EXP 74
13864: PUSH
13865: FOR_TO
13866: IFFALSE 13953
// begin if side_positions [ i ] then
13868: LD_EXP 74
13872: PUSH
13873: LD_VAR 0 1
13877: ARRAY
13878: IFFALSE 13951
// if not HasPower ( i ) and not defeated [ i ] then
13880: LD_VAR 0 1
13884: PPUSH
13885: CALL 13188 0 1
13889: NOT
13890: PUSH
13891: LD_LOC 7
13895: PUSH
13896: LD_VAR 0 1
13900: ARRAY
13901: NOT
13902: AND
13903: IFFALSE 13951
// begin defeated = replace ( defeated , i , true ) ;
13905: LD_ADDR_LOC 7
13909: PUSH
13910: LD_LOC 7
13914: PPUSH
13915: LD_VAR 0 1
13919: PPUSH
13920: LD_INT 1
13922: PPUSH
13923: CALL_OW 1
13927: ST_TO_ADDR
// if i = mp_player_side then
13928: LD_VAR 0 1
13932: PUSH
13933: LD_OWVAR 7
13937: EQUAL
13938: IFFALSE 13951
// begin Multiplayer_Loose_Message ;
13940: CALL_OW 521
// SetPlayerSpectator ( ) ;
13944: CALL_OW 572
// enable ( 400 ) ;
13948: LD_INT 400
13950: ENABLE_MARKED
// end ; end ; end ;
13951: GO 13865
13953: POP
13954: POP
// DidGameEnd ;
13955: CALL 13970 0 0
// if not GameEnded then
13959: LD_LOC 8
13963: NOT
13964: IFFALSE 13967
// enable ;
13966: ENABLE
// end ;
13967: PPOPN 2
13969: END
// function DidGameEnd ; var i , k , enemy ; begin
13970: LD_INT 0
13972: PPUSH
13973: PPUSH
13974: PPUSH
13975: PPUSH
// enemy = [ ] ;
13976: LD_ADDR_VAR 0 4
13980: PUSH
13981: EMPTY
13982: ST_TO_ADDR
// for i = 1 to side_positions do
13983: LD_ADDR_VAR 0 2
13987: PUSH
13988: DOUBLE
13989: LD_INT 1
13991: DEC
13992: ST_TO_ADDR
13993: LD_EXP 74
13997: PUSH
13998: FOR_TO
13999: IFFALSE 14093
// if not defeated [ i ] then
14001: LD_LOC 7
14005: PUSH
14006: LD_VAR 0 2
14010: ARRAY
14011: NOT
14012: IFFALSE 14091
// for k = 1 to side_positions do
14014: LD_ADDR_VAR 0 3
14018: PUSH
14019: DOUBLE
14020: LD_INT 1
14022: DEC
14023: ST_TO_ADDR
14024: LD_EXP 74
14028: PUSH
14029: FOR_TO
14030: IFFALSE 14089
// if not defeated [ k ] then
14032: LD_LOC 7
14036: PUSH
14037: LD_VAR 0 3
14041: ARRAY
14042: NOT
14043: IFFALSE 14087
// if not AlliedSides ( i , k ) then
14045: LD_VAR 0 2
14049: PPUSH
14050: LD_VAR 0 3
14054: PPUSH
14055: CALL 13534 0 2
14059: NOT
14060: IFFALSE 14087
// enemy = enemy ^ [ i , k ] ;
14062: LD_ADDR_VAR 0 4
14066: PUSH
14067: LD_VAR 0 4
14071: PUSH
14072: LD_VAR 0 2
14076: PUSH
14077: LD_VAR 0 3
14081: PUSH
14082: EMPTY
14083: LIST
14084: LIST
14085: ADD
14086: ST_TO_ADDR
14087: GO 14029
14089: POP
14090: POP
14091: GO 13998
14093: POP
14094: POP
// if not enemy then
14095: LD_VAR 0 4
14099: NOT
14100: IFFALSE 14126
// begin GameEnded = true ;
14102: LD_ADDR_LOC 8
14106: PUSH
14107: LD_INT 1
14109: ST_TO_ADDR
// if not defeated [ mp_player_side ] then
14110: LD_LOC 7
14114: PUSH
14115: LD_OWVAR 7
14119: ARRAY
14120: NOT
14121: IFFALSE 14126
// enable ( 401 ) ;
14123: LD_INT 401
14125: ENABLE_MARKED
// end ; end ;
14126: LD_VAR 0 1
14130: RET
// function unfog ; var k , friends ; begin
14131: LD_INT 0
14133: PPUSH
14134: PPUSH
14135: PPUSH
// for k = 1 to side_positions do
14136: LD_ADDR_VAR 0 2
14140: PUSH
14141: DOUBLE
14142: LD_INT 1
14144: DEC
14145: ST_TO_ADDR
14146: LD_EXP 74
14150: PUSH
14151: FOR_TO
14152: IFFALSE 14208
// if not defeated [ k ] then
14154: LD_LOC 7
14158: PUSH
14159: LD_VAR 0 2
14163: ARRAY
14164: NOT
14165: IFFALSE 14206
// if GetAttitude ( mp_player_side , k ) in [ att_friend ] then
14167: LD_OWVAR 7
14171: PPUSH
14172: LD_VAR 0 2
14176: PPUSH
14177: CALL_OW 81
14181: PUSH
14182: LD_INT 1
14184: PUSH
14185: EMPTY
14186: LIST
14187: IN
14188: IFFALSE 14206
// friends = friends ^ k ;
14190: LD_ADDR_VAR 0 3
14194: PUSH
14195: LD_VAR 0 3
14199: PUSH
14200: LD_VAR 0 2
14204: ADD
14205: ST_TO_ADDR
14206: GO 14151
14208: POP
14209: POP
// if not friends then
14210: LD_VAR 0 3
14214: NOT
14215: IFFALSE 14229
// begin SetPlayerSpectator ( ) ;
14217: CALL_OW 572
// unfoged = true ;
14221: LD_ADDR_LOC 9
14225: PUSH
14226: LD_INT 1
14228: ST_TO_ADDR
// end ; end ;
14229: LD_VAR 0 1
14233: RET
// export function MakeGameEnd ; begin
14234: LD_INT 0
14236: PPUSH
// SetPlayerSpectator ( ) ;
14237: CALL_OW 572
// unfoged = true ;
14241: LD_ADDR_LOC 9
14245: PUSH
14246: LD_INT 1
14248: ST_TO_ADDR
// wait ( 0 0$5 ) ;
14249: LD_INT 175
14251: PPUSH
14252: CALL_OW 67
// GameEnded = true ;
14256: LD_ADDR_LOC 8
14260: PUSH
14261: LD_INT 1
14263: ST_TO_ADDR
// end ;
14264: LD_VAR 0 1
14268: RET
// export function GetGameEnded ; begin
14269: LD_INT 0
14271: PPUSH
// result = GameEnded ;
14272: LD_ADDR_VAR 0 1
14276: PUSH
14277: LD_LOC 8
14281: ST_TO_ADDR
// end ; end_of_file
14282: LD_VAR 0 1
14286: RET
// var nations , amount_of_players ; export ApesAreas ; function apeman_init ; var ape_names ; begin
14287: LD_INT 0
14289: PPUSH
14290: PPUSH
// uc_side := 0 ;
14291: LD_ADDR_OWVAR 20
14295: PUSH
14296: LD_INT 0
14298: ST_TO_ADDR
// uc_nation := nation_nature ;
14299: LD_ADDR_OWVAR 21
14303: PUSH
14304: LD_INT 0
14306: ST_TO_ADDR
// ape_names = [ Tupoun , Opoce , Opka , Butrus , Bubu , Condor , Kuklajs , Simon , Ugh , Urgh , Argh , Aargh , Hrumph , Grumph , Oorg , Eghrr , Rrrr , Bark , Wraughrr , :-) , Semik , Hrgh , Hur , Havran , Nazghul , Brutal , Kato Zluta Opoce , Monkey , Yeargh , Marta , Batman , Barkman , Xcenovsk , David Love , Freon , Stoupik , Quik , Jam Prckovic Laren , CFC , Kvakous , Sumys , Agent , Nazghul , Havran , Vrana , Havranek , Carlos Frank , Tekar , Andy , Angela , Janina , Shipanze , Simpan , Nazghulik , Potrusil , Potrus , Butrus , Potrusil , Simon , Auuu , NEMO , Silena opice , Meuznenapadazadnejmeno , Uhrun , Marmelada , Negr , Fnuk , Slim , Kvak , Dave , Bruntal , Arnie , Polda , Jen , Siddha , Silnickar , Bukvice , Zalud , Elvis , Nazghul , Chruadfa , Nazghul , Kato Yellow Ape , Cpt. Ape , King Of The Hill , Pterinochilus , Bad Platypus , Really Bad Ape , Looser , Looser , Looser , Megadeth , Mad Ape , Wraughhhh , ":) ] ;
14307: LD_ADDR_VAR 0 2
14311: PUSH
14312: LD_STRING Tupoun
14314: PUSH
14315: LD_STRING Opoce
14317: PUSH
14318: LD_STRING Opka
14320: PUSH
14321: LD_STRING Butrus
14323: PUSH
14324: LD_STRING Bubu
14326: PUSH
14327: LD_STRING Condor
14329: PUSH
14330: LD_STRING Kuklajs
14332: PUSH
14333: LD_STRING Simon
14335: PUSH
14336: LD_STRING Ugh
14338: PUSH
14339: LD_STRING Urgh
14341: PUSH
14342: LD_STRING Argh
14344: PUSH
14345: LD_STRING Aargh
14347: PUSH
14348: LD_STRING Hrumph
14350: PUSH
14351: LD_STRING Grumph
14353: PUSH
14354: LD_STRING Oorg
14356: PUSH
14357: LD_STRING Eghrr
14359: PUSH
14360: LD_STRING Rrrr
14362: PUSH
14363: LD_STRING Bark
14365: PUSH
14366: LD_STRING Wraughrr
14368: PUSH
14369: LD_STRING :-)
14371: PUSH
14372: LD_STRING Semik
14374: PUSH
14375: LD_STRING Hrgh
14377: PUSH
14378: LD_STRING Hur
14380: PUSH
14381: LD_STRING Havran
14383: PUSH
14384: LD_STRING Nazghul
14386: PUSH
14387: LD_STRING Brutal
14389: PUSH
14390: LD_STRING Kato Zluta Opoce
14392: PUSH
14393: LD_STRING Monkey
14395: PUSH
14396: LD_STRING Yeargh
14398: PUSH
14399: LD_STRING Marta
14401: PUSH
14402: LD_STRING Batman
14404: PUSH
14405: LD_STRING Barkman
14407: PUSH
14408: LD_STRING Xcenovsk
14410: PUSH
14411: LD_STRING David Love
14413: PUSH
14414: LD_STRING Freon
14416: PUSH
14417: LD_STRING Stoupik
14419: PUSH
14420: LD_STRING Quik
14422: PUSH
14423: LD_STRING Jam Prckovic Laren
14425: PUSH
14426: LD_STRING CFC
14428: PUSH
14429: LD_STRING Kvakous
14431: PUSH
14432: LD_STRING Sumys
14434: PUSH
14435: LD_STRING Agent
14437: PUSH
14438: LD_STRING Nazghul
14440: PUSH
14441: LD_STRING Havran
14443: PUSH
14444: LD_STRING Vrana
14446: PUSH
14447: LD_STRING Havranek
14449: PUSH
14450: LD_STRING Carlos Frank
14452: PUSH
14453: LD_STRING Tekar
14455: PUSH
14456: LD_STRING Andy
14458: PUSH
14459: LD_STRING Angela
14461: PUSH
14462: LD_STRING Janina
14464: PUSH
14465: LD_STRING Shipanze
14467: PUSH
14468: LD_STRING Simpan
14470: PUSH
14471: LD_STRING Nazghulik
14473: PUSH
14474: LD_STRING Potrusil
14476: PUSH
14477: LD_STRING Potrus
14479: PUSH
14480: LD_STRING Butrus
14482: PUSH
14483: LD_STRING Potrusil
14485: PUSH
14486: LD_STRING Simon
14488: PUSH
14489: LD_STRING Auuu
14491: PUSH
14492: LD_STRING NEMO
14494: PUSH
14495: LD_STRING Silena opice
14497: PUSH
14498: LD_STRING Meuznenapadazadnejmeno
14500: PUSH
14501: LD_STRING Uhrun
14503: PUSH
14504: LD_STRING Marmelada
14506: PUSH
14507: LD_STRING Negr
14509: PUSH
14510: LD_STRING Fnuk
14512: PUSH
14513: LD_STRING Slim
14515: PUSH
14516: LD_STRING Kvak
14518: PUSH
14519: LD_STRING Dave
14521: PUSH
14522: LD_STRING Bruntal
14524: PUSH
14525: LD_STRING Arnie
14527: PUSH
14528: LD_STRING Polda
14530: PUSH
14531: LD_STRING Jen
14533: PUSH
14534: LD_STRING Siddha
14536: PUSH
14537: LD_STRING Silnickar
14539: PUSH
14540: LD_STRING Bukvice
14542: PUSH
14543: LD_STRING Zalud
14545: PUSH
14546: LD_STRING Elvis
14548: PUSH
14549: LD_STRING Nazghul
14551: PUSH
14552: LD_STRING Chruadfa
14554: PUSH
14555: LD_STRING Nazghul
14557: PUSH
14558: LD_STRING Kato Yellow Ape
14560: PUSH
14561: LD_STRING Cpt. Ape
14563: PUSH
14564: LD_STRING King Of The Hill
14566: PUSH
14567: LD_STRING Pterinochilus
14569: PUSH
14570: LD_STRING Bad Platypus
14572: PUSH
14573: LD_STRING Really Bad Ape
14575: PUSH
14576: LD_STRING Looser
14578: PUSH
14579: LD_STRING Looser
14581: PUSH
14582: LD_STRING Looser
14584: PUSH
14585: LD_STRING Megadeth
14587: PUSH
14588: LD_STRING Mad Ape
14590: PUSH
14591: LD_STRING Wraughhhh
14593: PUSH
14594: LD_STRING ":)
14596: PUSH
14597: EMPTY
14598: LIST
14599: LIST
14600: LIST
14601: LIST
14602: LIST
14603: LIST
14604: LIST
14605: LIST
14606: LIST
14607: LIST
14608: LIST
14609: LIST
14610: LIST
14611: LIST
14612: LIST
14613: LIST
14614: LIST
14615: LIST
14616: LIST
14617: LIST
14618: LIST
14619: LIST
14620: LIST
14621: LIST
14622: LIST
14623: LIST
14624: LIST
14625: LIST
14626: LIST
14627: LIST
14628: LIST
14629: LIST
14630: LIST
14631: LIST
14632: LIST
14633: LIST
14634: LIST
14635: LIST
14636: LIST
14637: LIST
14638: LIST
14639: LIST
14640: LIST
14641: LIST
14642: LIST
14643: LIST
14644: LIST
14645: LIST
14646: LIST
14647: LIST
14648: LIST
14649: LIST
14650: LIST
14651: LIST
14652: LIST
14653: LIST
14654: LIST
14655: LIST
14656: LIST
14657: LIST
14658: LIST
14659: LIST
14660: LIST
14661: LIST
14662: LIST
14663: LIST
14664: LIST
14665: LIST
14666: LIST
14667: LIST
14668: LIST
14669: LIST
14670: LIST
14671: LIST
14672: LIST
14673: LIST
14674: LIST
14675: LIST
14676: LIST
14677: LIST
14678: LIST
14679: LIST
14680: LIST
14681: LIST
14682: LIST
14683: LIST
14684: LIST
14685: LIST
14686: LIST
14687: LIST
14688: LIST
14689: LIST
14690: LIST
14691: LIST
14692: LIST
14693: ST_TO_ADDR
// hc_name = ape_names [ Rand ( 1 , ape_names ) ] ;
14694: LD_ADDR_OWVAR 26
14698: PUSH
14699: LD_VAR 0 2
14703: PUSH
14704: LD_INT 1
14706: PPUSH
14707: LD_VAR 0 2
14711: PPUSH
14712: CALL_OW 12
14716: ARRAY
14717: ST_TO_ADDR
// randomHumanStats ( initial_level - 2 ) ;
14718: LD_EXP 42
14722: PUSH
14723: LD_INT 2
14725: MINUS
14726: PPUSH
14727: CALL 17299 0 1
// hc_class := class_apeman ;
14731: LD_ADDR_OWVAR 28
14735: PUSH
14736: LD_INT 12
14738: ST_TO_ADDR
// if hc_attr [ 2 ] < 12 then
14739: LD_OWVAR 29
14743: PUSH
14744: LD_INT 2
14746: ARRAY
14747: PUSH
14748: LD_INT 12
14750: LESS
14751: IFFALSE 14790
// hc_attr = [ hc_attr [ 1 ] + 5 , hc_attr [ 2 ] + 1 ] else
14753: LD_ADDR_OWVAR 29
14757: PUSH
14758: LD_OWVAR 29
14762: PUSH
14763: LD_INT 1
14765: ARRAY
14766: PUSH
14767: LD_INT 5
14769: PLUS
14770: PUSH
14771: LD_OWVAR 29
14775: PUSH
14776: LD_INT 2
14778: ARRAY
14779: PUSH
14780: LD_INT 1
14782: PLUS
14783: PUSH
14784: EMPTY
14785: LIST
14786: LIST
14787: ST_TO_ADDR
14788: GO 14821
// hc_attr = [ hc_attr [ 1 ] + 5 , hc_attr [ 2 ] ] ;
14790: LD_ADDR_OWVAR 29
14794: PUSH
14795: LD_OWVAR 29
14799: PUSH
14800: LD_INT 1
14802: ARRAY
14803: PUSH
14804: LD_INT 5
14806: PLUS
14807: PUSH
14808: LD_OWVAR 29
14812: PUSH
14813: LD_INT 2
14815: ARRAY
14816: PUSH
14817: EMPTY
14818: LIST
14819: LIST
14820: ST_TO_ADDR
// hc_sex := sex_male ;
14821: LD_ADDR_OWVAR 27
14825: PUSH
14826: LD_INT 1
14828: ST_TO_ADDR
// hc_importance := 0 ;
14829: LD_ADDR_OWVAR 32
14833: PUSH
14834: LD_INT 0
14836: ST_TO_ADDR
// hc_agressivity := Rand ( - 20 , 20 ) ;
14837: LD_ADDR_OWVAR 35
14841: PUSH
14842: LD_INT 20
14844: NEG
14845: PPUSH
14846: LD_INT 20
14848: PPUSH
14849: CALL_OW 12
14853: ST_TO_ADDR
// end ;
14854: LD_VAR 0 1
14858: RET
// every 0 0$15 + 0 0$1 marked 493 do var i , a , ape ;
14859: GO 14861
14861: DISABLE
14862: LD_INT 0
14864: PPUSH
14865: PPUSH
14866: PPUSH
// begin repeat ape = FilterAllUnits ( [ [ f_side , 0 ] , [ f_class , class_apeman ] ] ) ;
14867: LD_ADDR_VAR 0 3
14871: PUSH
14872: LD_INT 22
14874: PUSH
14875: LD_INT 0
14877: PUSH
14878: EMPTY
14879: LIST
14880: LIST
14881: PUSH
14882: LD_INT 25
14884: PUSH
14885: LD_INT 12
14887: PUSH
14888: EMPTY
14889: LIST
14890: LIST
14891: PUSH
14892: EMPTY
14893: LIST
14894: LIST
14895: PPUSH
14896: CALL_OW 69
14900: ST_TO_ADDR
// Wait ( ( ape + 1 ) * Rand ( 0 0$10 , 1 1$0 ) ) ;
14901: LD_VAR 0 3
14905: PUSH
14906: LD_INT 1
14908: PLUS
14909: PUSH
14910: LD_INT 350
14912: PPUSH
14913: LD_INT 2100
14915: PPUSH
14916: CALL_OW 12
14920: MUL
14921: PPUSH
14922: CALL_OW 67
// until ape <= ( spawning_koef_of_apemen / 6 ) * amount_of_players ;
14926: LD_VAR 0 3
14930: PUSH
14931: LD_EXP 47
14935: PUSH
14936: LD_INT 6
14938: DIVREAL
14939: PUSH
14940: LD_LOC 12
14944: MUL
14945: LESSEQUAL
14946: IFFALSE 14867
// for i = 1 to spawning_koef_of_apemen / 5 do
14948: LD_ADDR_VAR 0 1
14952: PUSH
14953: DOUBLE
14954: LD_INT 1
14956: DEC
14957: ST_TO_ADDR
14958: LD_EXP 47
14962: PUSH
14963: LD_INT 5
14965: DIVREAL
14966: PUSH
14967: FOR_TO
14968: IFFALSE 15070
// if ApesAreas then
14970: LD_EXP 104
14974: IFFALSE 15023
// begin for a in ApesAreas do
14976: LD_ADDR_VAR 0 2
14980: PUSH
14981: LD_EXP 104
14985: PUSH
14986: FOR_IN
14987: IFFALSE 15019
// begin apeman_init ;
14989: CALL 14287 0 0
// PlaceUnitArea ( CreateHuman , a , false ) ;
14993: CALL_OW 44
14997: PPUSH
14998: LD_VAR 0 2
15002: PPUSH
15003: LD_INT 0
15005: PPUSH
15006: CALL_OW 49
// Wait ( 3 ) ;
15010: LD_INT 3
15012: PPUSH
15013: CALL_OW 67
// end ;
15017: GO 14986
15019: POP
15020: POP
// end else
15021: GO 15068
// begin for a = 1 to amount_of_players do
15023: LD_ADDR_VAR 0 2
15027: PUSH
15028: DOUBLE
15029: LD_INT 1
15031: DEC
15032: ST_TO_ADDR
15033: LD_LOC 12
15037: PUSH
15038: FOR_TO
15039: IFFALSE 15066
// begin apeman_init ;
15041: CALL 14287 0 0
// PlaceUnitAnywhere ( CreateHuman , false ) ;
15045: CALL_OW 44
15049: PPUSH
15050: LD_INT 0
15052: PPUSH
15053: CALL_OW 51
// Wait ( 3 ) ;
15057: LD_INT 3
15059: PPUSH
15060: CALL_OW 67
// end ;
15064: GO 15038
15066: POP
15067: POP
// end ;
15068: GO 14967
15070: POP
15071: POP
// wait ( rand ( 1 1$0 , 5 5$0 ) ) ;
15072: LD_INT 2100
15074: PPUSH
15075: LD_INT 10500
15077: PPUSH
15078: CALL_OW 12
15082: PPUSH
15083: CALL_OW 67
// end ;
15087: PPOPN 3
15089: END
// export function StartApe ; var i , ape ; begin
15090: LD_INT 0
15092: PPUSH
15093: PPUSH
15094: PPUSH
// for i := 1 to 8 do
15095: LD_ADDR_VAR 0 2
15099: PUSH
15100: DOUBLE
15101: LD_INT 1
15103: DEC
15104: ST_TO_ADDR
15105: LD_INT 8
15107: PUSH
15108: FOR_TO
15109: IFFALSE 15143
// if Side_Positions [ i ] <> 0 then
15111: LD_EXP 74
15115: PUSH
15116: LD_VAR 0 2
15120: ARRAY
15121: PUSH
15122: LD_INT 0
15124: NONEQUAL
15125: IFFALSE 15141
// amount_of_players := amount_of_players + 1 ;
15127: LD_ADDR_LOC 12
15131: PUSH
15132: LD_LOC 12
15136: PUSH
15137: LD_INT 1
15139: PLUS
15140: ST_TO_ADDR
15141: GO 15108
15143: POP
15144: POP
// if game_type in GT_doublenat ^ GT_doublepeople then
15145: LD_EXP 1
15149: PUSH
15150: LD_EXP 3
15154: PUSH
15155: LD_EXP 4
15159: ADD
15160: IN
15161: IFFALSE 15179
// amount_of_players = amount_of_players * 2 else
15163: LD_ADDR_LOC 12
15167: PUSH
15168: LD_LOC 12
15172: PUSH
15173: LD_INT 2
15175: MUL
15176: ST_TO_ADDR
15177: GO 15205
// if game_type = GT_TripleNat then
15179: LD_EXP 1
15183: PUSH
15184: LD_EXP 5
15188: EQUAL
15189: IFFALSE 15205
// amount_of_players = amount_of_players * 3 ;
15191: LD_ADDR_LOC 12
15195: PUSH
15196: LD_LOC 12
15200: PUSH
15201: LD_INT 3
15203: MUL
15204: ST_TO_ADDR
// for i = 1 to Rand ( 2 , 7 ) do
15205: LD_ADDR_VAR 0 2
15209: PUSH
15210: DOUBLE
15211: LD_INT 1
15213: DEC
15214: ST_TO_ADDR
15215: LD_INT 2
15217: PPUSH
15218: LD_INT 7
15220: PPUSH
15221: CALL_OW 12
15225: PUSH
15226: FOR_TO
15227: IFFALSE 15257
// begin apeman_init ;
15229: CALL 14287 0 0
// ape := CreateHuman ;
15233: LD_ADDR_VAR 0 3
15237: PUSH
15238: CALL_OW 44
15242: ST_TO_ADDR
// PlaceUnitAnywhere ( ape , false ) ;
15243: LD_VAR 0 3
15247: PPUSH
15248: LD_INT 0
15250: PPUSH
15251: CALL_OW 51
// end ;
15255: GO 15226
15257: POP
15258: POP
// end ;
15259: LD_VAR 0 1
15263: RET
// function tiger_init ; var tiger_names ; begin
15264: LD_INT 0
15266: PPUSH
15267: PPUSH
// uc_side := 0 ;
15268: LD_ADDR_OWVAR 20
15272: PUSH
15273: LD_INT 0
15275: ST_TO_ADDR
// uc_nation := nation_nature ;
15276: LD_ADDR_OWVAR 21
15280: PUSH
15281: LD_INT 0
15283: ST_TO_ADDR
// tiger_names = [ Fredy , Montana , Pishkot , Sikorski , Riko , Kowalrski , Neo , Kessi , Riko , Lulu , Edie , Edy , Roxy , Roxas , Beast , Drago , Draco , Ali , Lessie , White Fang , Chess , Nora , Shriek , Bl Tesk , Barkman , Meuznenapadazadnejmeno , Ihavenotthinkofanyname , Hiro , Scooby , Fantasy , Troll , Baltazar , Pamella , Kleopatra , Ceasar , Gimmy , Scooby Dooby Doo , Yogi , Brutal , Brutus , Janina , Crazy , Jen , Jenova , Kiosuke , Akamaru ] ;
15284: LD_ADDR_VAR 0 2
15288: PUSH
15289: LD_STRING Fredy
15291: PUSH
15292: LD_STRING Montana
15294: PUSH
15295: LD_STRING Pishkot
15297: PUSH
15298: LD_STRING Sikorski
15300: PUSH
15301: LD_STRING Riko
15303: PUSH
15304: LD_STRING Kowalrski
15306: PUSH
15307: LD_STRING Neo
15309: PUSH
15310: LD_STRING Kessi
15312: PUSH
15313: LD_STRING Riko
15315: PUSH
15316: LD_STRING Lulu
15318: PUSH
15319: LD_STRING Edie
15321: PUSH
15322: LD_STRING Edy
15324: PUSH
15325: LD_STRING Roxy
15327: PUSH
15328: LD_STRING Roxas
15330: PUSH
15331: LD_STRING Beast
15333: PUSH
15334: LD_STRING Drago
15336: PUSH
15337: LD_STRING Draco
15339: PUSH
15340: LD_STRING Ali
15342: PUSH
15343: LD_STRING Lessie
15345: PUSH
15346: LD_STRING White Fang
15348: PUSH
15349: LD_STRING Chess
15351: PUSH
15352: LD_STRING Nora
15354: PUSH
15355: LD_STRING Shriek
15357: PUSH
15358: LD_STRING Bl Tesk
15360: PUSH
15361: LD_STRING Barkman
15363: PUSH
15364: LD_STRING Meuznenapadazadnejmeno
15366: PUSH
15367: LD_STRING Ihavenotthinkofanyname
15369: PUSH
15370: LD_STRING Hiro
15372: PUSH
15373: LD_STRING Scooby
15375: PUSH
15376: LD_STRING Fantasy
15378: PUSH
15379: LD_STRING Troll
15381: PUSH
15382: LD_STRING Baltazar
15384: PUSH
15385: LD_STRING Pamella
15387: PUSH
15388: LD_STRING Kleopatra
15390: PUSH
15391: LD_STRING Ceasar
15393: PUSH
15394: LD_STRING Gimmy
15396: PUSH
15397: LD_STRING Scooby Dooby Doo
15399: PUSH
15400: LD_STRING Yogi
15402: PUSH
15403: LD_STRING Brutal
15405: PUSH
15406: LD_STRING Brutus
15408: PUSH
15409: LD_STRING Janina
15411: PUSH
15412: LD_STRING Crazy
15414: PUSH
15415: LD_STRING Jen
15417: PUSH
15418: LD_STRING Jenova
15420: PUSH
15421: LD_STRING Kiosuke
15423: PUSH
15424: LD_STRING Akamaru
15426: PUSH
15427: EMPTY
15428: LIST
15429: LIST
15430: LIST
15431: LIST
15432: LIST
15433: LIST
15434: LIST
15435: LIST
15436: LIST
15437: LIST
15438: LIST
15439: LIST
15440: LIST
15441: LIST
15442: LIST
15443: LIST
15444: LIST
15445: LIST
15446: LIST
15447: LIST
15448: LIST
15449: LIST
15450: LIST
15451: LIST
15452: LIST
15453: LIST
15454: LIST
15455: LIST
15456: LIST
15457: LIST
15458: LIST
15459: LIST
15460: LIST
15461: LIST
15462: LIST
15463: LIST
15464: LIST
15465: LIST
15466: LIST
15467: LIST
15468: LIST
15469: LIST
15470: LIST
15471: LIST
15472: LIST
15473: LIST
15474: ST_TO_ADDR
// hc_name = tiger_names [ Rand ( 1 , tiger_names ) ] ;
15475: LD_ADDR_OWVAR 26
15479: PUSH
15480: LD_VAR 0 2
15484: PUSH
15485: LD_INT 1
15487: PPUSH
15488: LD_VAR 0 2
15492: PPUSH
15493: CALL_OW 12
15497: ARRAY
15498: ST_TO_ADDR
// randomHumanStats ( initial_level - 2 ) ;
15499: LD_EXP 42
15503: PUSH
15504: LD_INT 2
15506: MINUS
15507: PPUSH
15508: CALL 17299 0 1
// hc_class := class_tiger ;
15512: LD_ADDR_OWVAR 28
15516: PUSH
15517: LD_INT 14
15519: ST_TO_ADDR
// hc_attr = [ hc_attr [ 1 ] + 2 , hc_attr [ 2 ] + 1 ] ;
15520: LD_ADDR_OWVAR 29
15524: PUSH
15525: LD_OWVAR 29
15529: PUSH
15530: LD_INT 1
15532: ARRAY
15533: PUSH
15534: LD_INT 2
15536: PLUS
15537: PUSH
15538: LD_OWVAR 29
15542: PUSH
15543: LD_INT 2
15545: ARRAY
15546: PUSH
15547: LD_INT 1
15549: PLUS
15550: PUSH
15551: EMPTY
15552: LIST
15553: LIST
15554: ST_TO_ADDR
// hc_sex := sex_male ;
15555: LD_ADDR_OWVAR 27
15559: PUSH
15560: LD_INT 1
15562: ST_TO_ADDR
// hc_importance := 0 ;
15563: LD_ADDR_OWVAR 32
15567: PUSH
15568: LD_INT 0
15570: ST_TO_ADDR
// hc_agressivity := Rand ( 10 , 50 ) ;
15571: LD_ADDR_OWVAR 35
15575: PUSH
15576: LD_INT 10
15578: PPUSH
15579: LD_INT 50
15581: PPUSH
15582: CALL_OW 12
15586: ST_TO_ADDR
// end ;
15587: LD_VAR 0 1
15591: RET
// every 0 0$15 + 0 0$1 marked 494 do var i , d , tig ;
15592: GO 15594
15594: DISABLE
15595: LD_INT 0
15597: PPUSH
15598: PPUSH
15599: PPUSH
// begin case tick of 1 .. 1 1$0 :
15600: LD_OWVAR 1
15604: PUSH
15605: LD_INT 1
15607: DOUBLE
15608: GREATEREQUAL
15609: IFFALSE 15617
15611: LD_INT 2100
15613: DOUBLE
15614: LESSEQUAL
15615: IFTRUE 15619
15617: GO 15630
15619: POP
// d := 15 ; 1 1$0 + 1 .. 2 2$0 :
15620: LD_ADDR_VAR 0 2
15624: PUSH
15625: LD_INT 15
15627: ST_TO_ADDR
15628: GO 15726
15630: LD_INT 2100
15632: PUSH
15633: LD_INT 1
15635: PLUS
15636: DOUBLE
15637: GREATEREQUAL
15638: IFFALSE 15646
15640: LD_INT 4200
15642: DOUBLE
15643: LESSEQUAL
15644: IFTRUE 15648
15646: GO 15659
15648: POP
// d := 14 ; 20 20$0 + 1 .. 50 50$0 :
15649: LD_ADDR_VAR 0 2
15653: PUSH
15654: LD_INT 14
15656: ST_TO_ADDR
15657: GO 15726
15659: LD_INT 42000
15661: PUSH
15662: LD_INT 1
15664: PLUS
15665: DOUBLE
15666: GREATEREQUAL
15667: IFFALSE 15675
15669: LD_INT 105000
15671: DOUBLE
15672: LESSEQUAL
15673: IFTRUE 15677
15675: GO 15688
15677: POP
// d := 12 ; 50 50$0 + 1 .. 300 300$0 :
15678: LD_ADDR_VAR 0 2
15682: PUSH
15683: LD_INT 12
15685: ST_TO_ADDR
15686: GO 15726
15688: LD_INT 105000
15690: PUSH
15691: LD_INT 1
15693: PLUS
15694: DOUBLE
15695: GREATEREQUAL
15696: IFFALSE 15704
15698: LD_INT 630000
15700: DOUBLE
15701: LESSEQUAL
15702: IFTRUE 15706
15704: GO 15717
15706: POP
// d := 11 ; else
15707: LD_ADDR_VAR 0 2
15711: PUSH
15712: LD_INT 11
15714: ST_TO_ADDR
15715: GO 15726
15717: POP
// d := 9 ; end ;
15718: LD_ADDR_VAR 0 2
15722: PUSH
15723: LD_INT 9
15725: ST_TO_ADDR
// i = FilterAllUnits ( [ [ f_side , 0 ] , [ f_class , class_tiger ] ] ) ;
15726: LD_ADDR_VAR 0 1
15730: PUSH
15731: LD_INT 22
15733: PUSH
15734: LD_INT 0
15736: PUSH
15737: EMPTY
15738: LIST
15739: LIST
15740: PUSH
15741: LD_INT 25
15743: PUSH
15744: LD_INT 14
15746: PUSH
15747: EMPTY
15748: LIST
15749: LIST
15750: PUSH
15751: EMPTY
15752: LIST
15753: LIST
15754: PPUSH
15755: CALL_OW 69
15759: ST_TO_ADDR
// if i < ( spawning_koef_of_tiger / 14 * d ) then
15760: LD_VAR 0 1
15764: PUSH
15765: LD_EXP 48
15769: PUSH
15770: LD_INT 14
15772: DIVREAL
15773: PUSH
15774: LD_VAR 0 2
15778: MUL
15779: LESS
15780: IFFALSE 15836
// for i = 1 to Rand ( 1 , 2 ) do
15782: LD_ADDR_VAR 0 1
15786: PUSH
15787: DOUBLE
15788: LD_INT 1
15790: DEC
15791: ST_TO_ADDR
15792: LD_INT 1
15794: PPUSH
15795: LD_INT 2
15797: PPUSH
15798: CALL_OW 12
15802: PUSH
15803: FOR_TO
15804: IFFALSE 15834
// begin tiger_init ;
15806: CALL 15264 0 0
// tig := CreateHuman ;
15810: LD_ADDR_VAR 0 3
15814: PUSH
15815: CALL_OW 44
15819: ST_TO_ADDR
// PlaceUnitAnywhere ( tig , false ) ;
15820: LD_VAR 0 3
15824: PPUSH
15825: LD_INT 0
15827: PPUSH
15828: CALL_OW 51
// end ;
15832: GO 15803
15834: POP
15835: POP
// enable ;
15836: ENABLE
// end ;
15837: PPOPN 3
15839: END
// export function StartTig ; var i , tig ; begin
15840: LD_INT 0
15842: PPUSH
15843: PPUSH
15844: PPUSH
// for i = 1 to Rand ( 1 , 3 ) do
15845: LD_ADDR_VAR 0 2
15849: PUSH
15850: DOUBLE
15851: LD_INT 1
15853: DEC
15854: ST_TO_ADDR
15855: LD_INT 1
15857: PPUSH
15858: LD_INT 3
15860: PPUSH
15861: CALL_OW 12
15865: PUSH
15866: FOR_TO
15867: IFFALSE 15897
// begin tiger_init ;
15869: CALL 15264 0 0
// tig := CreateHuman ;
15873: LD_ADDR_VAR 0 3
15877: PUSH
15878: CALL_OW 44
15882: ST_TO_ADDR
// PlaceUnitAnywhere ( tig , false ) ;
15883: LD_VAR 0 3
15887: PPUSH
15888: LD_INT 0
15890: PPUSH
15891: CALL_OW 51
// end ;
15895: GO 15866
15897: POP
15898: POP
// end ; end_of_file
15899: LD_VAR 0 1
15903: RET
// var BaseNames ; export function InitDisplayNames ; var i , n , u , a , r ; begin
15904: LD_INT 0
15906: PPUSH
15907: PPUSH
15908: PPUSH
15909: PPUSH
15910: PPUSH
15911: PPUSH
// for i in FilterAllUnits ( [ [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_not , [ f_side , 0 ] ] ] ) do
15912: LD_ADDR_VAR 0 2
15916: PUSH
15917: LD_INT 2
15919: PUSH
15920: LD_INT 30
15922: PUSH
15923: LD_INT 0
15925: PUSH
15926: EMPTY
15927: LIST
15928: LIST
15929: PUSH
15930: LD_INT 30
15932: PUSH
15933: LD_INT 1
15935: PUSH
15936: EMPTY
15937: LIST
15938: LIST
15939: PUSH
15940: EMPTY
15941: LIST
15942: LIST
15943: LIST
15944: PUSH
15945: LD_INT 3
15947: PUSH
15948: LD_INT 22
15950: PUSH
15951: LD_INT 0
15953: PUSH
15954: EMPTY
15955: LIST
15956: LIST
15957: PUSH
15958: EMPTY
15959: LIST
15960: LIST
15961: PUSH
15962: EMPTY
15963: LIST
15964: LIST
15965: PPUSH
15966: CALL_OW 69
15970: PUSH
15971: FOR_IN
15972: IFFALSE 15999
// SetBName ( i , @ & GetSide ( i ) ) ;
15974: LD_VAR 0 2
15978: PPUSH
15979: LD_STRING @
15981: PUSH
15982: LD_VAR 0 2
15986: PPUSH
15987: CALL_OW 255
15991: STR
15992: PPUSH
15993: CALL_OW 500
15997: GO 15971
15999: POP
16000: POP
// n = [ Kasyr , Cabal , Nitheim , Vanidas , Adjun , Alcon , Anthara , Denebola , Izard , Kaus , Mira , Procyon , Sirius , Tyr , Revoria , Eterna , Korigul , freedom ] ;
16001: LD_ADDR_VAR 0 3
16005: PUSH
16006: LD_STRING Kasyr
16008: PUSH
16009: LD_STRING Cabal
16011: PUSH
16012: LD_STRING Nitheim
16014: PUSH
16015: LD_STRING Vanidas
16017: PUSH
16018: LD_STRING Adjun
16020: PUSH
16021: LD_STRING Alcon
16023: PUSH
16024: LD_STRING Anthara
16026: PUSH
16027: LD_STRING Denebola
16029: PUSH
16030: LD_STRING Izard
16032: PUSH
16033: LD_STRING Kaus
16035: PUSH
16036: LD_STRING Mira
16038: PUSH
16039: LD_STRING Procyon
16041: PUSH
16042: LD_STRING Sirius
16044: PUSH
16045: LD_STRING Tyr
16047: PUSH
16048: LD_STRING Revoria
16050: PUSH
16051: LD_STRING Eterna
16053: PUSH
16054: LD_STRING Korigul
16056: PUSH
16057: LD_STRING freedom
16059: PUSH
16060: EMPTY
16061: LIST
16062: LIST
16063: LIST
16064: LIST
16065: LIST
16066: LIST
16067: LIST
16068: LIST
16069: LIST
16070: LIST
16071: LIST
16072: LIST
16073: LIST
16074: LIST
16075: LIST
16076: LIST
16077: LIST
16078: LIST
16079: ST_TO_ADDR
// u = [ alpha , gamma , delta , epsilon , Kappa , omikron , terminal , viper ] ^ n ;
16080: LD_ADDR_VAR 0 4
16084: PUSH
16085: LD_STRING alpha
16087: PUSH
16088: LD_STRING gamma
16090: PUSH
16091: LD_STRING delta
16093: PUSH
16094: LD_STRING epsilon
16096: PUSH
16097: LD_STRING Kappa
16099: PUSH
16100: LD_STRING omikron
16102: PUSH
16103: LD_STRING terminal
16105: PUSH
16106: LD_STRING viper
16108: PUSH
16109: EMPTY
16110: LIST
16111: LIST
16112: LIST
16113: LIST
16114: LIST
16115: LIST
16116: LIST
16117: LIST
16118: PUSH
16119: LD_VAR 0 3
16123: ADD
16124: ST_TO_ADDR
// r = [ beria , kirov , kagan , ovsyenko , gorkij , trockij , bluekher , yegorob , ryutin , budonny , yakir ] ^ n ;
16125: LD_ADDR_VAR 0 6
16129: PUSH
16130: LD_STRING beria
16132: PUSH
16133: LD_STRING kirov
16135: PUSH
16136: LD_STRING kagan
16138: PUSH
16139: LD_STRING ovsyenko
16141: PUSH
16142: LD_STRING gorkij
16144: PUSH
16145: LD_STRING trockij
16147: PUSH
16148: LD_STRING bluekher
16150: PUSH
16151: LD_STRING yegorob
16153: PUSH
16154: LD_STRING ryutin
16156: PUSH
16157: LD_STRING budonny
16159: PUSH
16160: LD_STRING yakir
16162: PUSH
16163: EMPTY
16164: LIST
16165: LIST
16166: LIST
16167: LIST
16168: LIST
16169: LIST
16170: LIST
16171: LIST
16172: LIST
16173: LIST
16174: LIST
16175: PUSH
16176: LD_VAR 0 3
16180: ADD
16181: ST_TO_ADDR
// a = [ newkabul , newsamark , riyadh , jeddah , dammam ] ^ n ;
16182: LD_ADDR_VAR 0 5
16186: PUSH
16187: LD_STRING newkabul
16189: PUSH
16190: LD_STRING newsamark
16192: PUSH
16193: LD_STRING riyadh
16195: PUSH
16196: LD_STRING jeddah
16198: PUSH
16199: LD_STRING dammam
16201: PUSH
16202: EMPTY
16203: LIST
16204: LIST
16205: LIST
16206: LIST
16207: LIST
16208: PUSH
16209: LD_VAR 0 3
16213: ADD
16214: ST_TO_ADDR
// BaseNames = [ u , a , r ] ;
16215: LD_ADDR_LOC 13
16219: PUSH
16220: LD_VAR 0 4
16224: PUSH
16225: LD_VAR 0 5
16229: PUSH
16230: LD_VAR 0 6
16234: PUSH
16235: EMPTY
16236: LIST
16237: LIST
16238: LIST
16239: ST_TO_ADDR
// end ;
16240: LD_VAR 0 1
16244: RET
// export function NameBuildingComplete ( b ) ; begin
16245: LD_INT 0
16247: PPUSH
// end ;
16248: LD_VAR 0 2
16252: RET
// export function NameBuildingStarted ( b , h ) ; var n , i ; begin
16253: LD_INT 0
16255: PPUSH
16256: PPUSH
16257: PPUSH
// n = getNation ( b ) ;
16258: LD_ADDR_VAR 0 4
16262: PUSH
16263: LD_VAR 0 1
16267: PPUSH
16268: CALL_OW 248
16272: ST_TO_ADDR
// i = rand ( 1 , BaseNames [ n ] + 0 ) ;
16273: LD_ADDR_VAR 0 5
16277: PUSH
16278: LD_INT 1
16280: PPUSH
16281: LD_LOC 13
16285: PUSH
16286: LD_VAR 0 4
16290: ARRAY
16291: PUSH
16292: LD_INT 0
16294: PLUS
16295: PPUSH
16296: CALL_OW 12
16300: ST_TO_ADDR
// setBName ( b , BaseNames [ n ] [ i ] ) ;
16301: LD_VAR 0 1
16305: PPUSH
16306: LD_LOC 13
16310: PUSH
16311: LD_VAR 0 4
16315: ARRAY
16316: PUSH
16317: LD_VAR 0 5
16321: ARRAY
16322: PPUSH
16323: CALL_OW 500
// end ;
16327: LD_VAR 0 3
16331: RET
// export function NameBuildingCaptured ( b , o , e ) ; begin
16332: LD_INT 0
16334: PPUSH
// end ; end_of_file
16335: LD_VAR 0 4
16339: RET
// var strength , lastxwin , lastywin , lastxlost , lastylost ; function Update_Flags ; var un ; begin
16340: LD_INT 0
16342: PPUSH
16343: PPUSH
// for un in battle_flags_id do
16344: LD_ADDR_VAR 0 2
16348: PUSH
16349: LD_EXP 88
16353: PUSH
16354: FOR_IN
16355: IFFALSE 16430
// ChangeBattleFlagOptions ( un , [ [ bfo_defend_bonus_human , strength ] , [ bfo_defend_bonus_vehicle , strength div 2 ] , [ bfo_defend_bonus_building , strength div 5 ] , [ bfo_height , strength ] ] ) ;
16357: LD_VAR 0 2
16361: PPUSH
16362: LD_INT 1
16364: PUSH
16365: LD_LOC 14
16369: PUSH
16370: EMPTY
16371: LIST
16372: LIST
16373: PUSH
16374: LD_INT 2
16376: PUSH
16377: LD_LOC 14
16381: PUSH
16382: LD_INT 2
16384: DIV
16385: PUSH
16386: EMPTY
16387: LIST
16388: LIST
16389: PUSH
16390: LD_INT 3
16392: PUSH
16393: LD_LOC 14
16397: PUSH
16398: LD_INT 5
16400: DIV
16401: PUSH
16402: EMPTY
16403: LIST
16404: LIST
16405: PUSH
16406: LD_INT 20
16408: PUSH
16409: LD_LOC 14
16413: PUSH
16414: EMPTY
16415: LIST
16416: LIST
16417: PUSH
16418: EMPTY
16419: LIST
16420: LIST
16421: LIST
16422: LIST
16423: PPUSH
16424: CALL_OW 423
16428: GO 16354
16430: POP
16431: POP
// end ;
16432: LD_VAR 0 1
16436: RET
// every 0 0$0.1 do var un ;
16437: GO 16439
16439: DISABLE
16440: LD_INT 0
16442: PPUSH
// begin if not def_morale_flags then
16443: LD_EXP 20
16447: NOT
16448: IFFALSE 16452
// exit ;
16450: GO 16529
// if not morale_decreasing_time then
16452: LD_EXP 46
16456: NOT
16457: IFFALSE 16461
// exit ;
16459: GO 16529
// strength = 100 ;
16461: LD_ADDR_LOC 14
16465: PUSH
16466: LD_INT 100
16468: ST_TO_ADDR
// repeat wait ( morale_decreasing_time ) ;
16469: LD_EXP 46
16473: PPUSH
16474: CALL_OW 67
// strength := strength - 1 ;
16478: LD_ADDR_LOC 14
16482: PUSH
16483: LD_LOC 14
16487: PUSH
16488: LD_INT 1
16490: MINUS
16491: ST_TO_ADDR
// Update_Flags ;
16492: CALL 16340 0 0
// until not strength ;
16496: LD_LOC 14
16500: NOT
16501: IFFALSE 16469
// for un in battle_flags_id do
16503: LD_ADDR_VAR 0 1
16507: PUSH
16508: LD_EXP 88
16512: PUSH
16513: FOR_IN
16514: IFFALSE 16527
// KillBattleFlag ( un ) ;
16516: LD_VAR 0 1
16520: PPUSH
16521: CALL_OW 419
16525: GO 16513
16527: POP
16528: POP
// end ; end_of_file
16529: PPOPN 1
16531: END
// export MultiplayerTimeEnabled , WaitServerStrings , Display_kings , extraStrings , limitsStrings , CurrentTime , DebugStrings , Display_WFG ; export function GetMultiplayerTime ; begin
16532: LD_INT 0
16534: PPUSH
// Result = [ #gamespeed , game_speed - 4 ] ^ [ #Multi1x1-Time , tick ] ;
16535: LD_ADDR_VAR 0 1
16539: PUSH
16540: LD_STRING #gamespeed
16542: PUSH
16543: LD_OWVAR 65
16547: PUSH
16548: LD_INT 4
16550: MINUS
16551: PUSH
16552: EMPTY
16553: LIST
16554: LIST
16555: PUSH
16556: LD_STRING #Multi1x1-Time
16558: PUSH
16559: LD_OWVAR 1
16563: PUSH
16564: EMPTY
16565: LIST
16566: LIST
16567: ADD
16568: ST_TO_ADDR
// end ;
16569: LD_VAR 0 1
16573: RET
// export function InitMultiplayerTime ; begin
16574: LD_INT 0
16576: PPUSH
// MultiplayerTimeEnabled := true ;
16577: LD_ADDR_EXP 105
16581: PUSH
16582: LD_INT 1
16584: ST_TO_ADDR
// display_strings = GetMultiplayerTime ;
16585: LD_ADDR_OWVAR 47
16589: PUSH
16590: CALL 16532 0 0
16594: ST_TO_ADDR
// end ;
16595: LD_VAR 0 1
16599: RET
// export function ShowTimer ; var AllStrings ; begin
16600: LD_INT 0
16602: PPUSH
16603: PPUSH
// AllStrings = GetMultiplayerTime ;
16604: LD_ADDR_VAR 0 2
16608: PUSH
16609: CALL 16532 0 0
16613: ST_TO_ADDR
// if debug_strings then
16614: LD_OWVAR 48
16618: IFFALSE 16636
// AllStrings = AllStrings ^ debug_strings ;
16620: LD_ADDR_VAR 0 2
16624: PUSH
16625: LD_VAR 0 2
16629: PUSH
16630: LD_OWVAR 48
16634: ADD
16635: ST_TO_ADDR
// if 0 <= siberite_bomb_Delay - tick then
16636: LD_INT 0
16638: PUSH
16639: LD_EXP 66
16643: PUSH
16644: LD_OWVAR 1
16648: MINUS
16649: LESSEQUAL
16650: IFFALSE 16681
// AllStrings := AllStrings ^ [ #allowedsibbomb , siberite_bomb_Delay - tick ] ;
16652: LD_ADDR_VAR 0 2
16656: PUSH
16657: LD_VAR 0 2
16661: PUSH
16662: LD_STRING #allowedsibbomb
16664: PUSH
16665: LD_EXP 66
16669: PUSH
16670: LD_OWVAR 1
16674: MINUS
16675: PUSH
16676: EMPTY
16677: LIST
16678: LIST
16679: ADD
16680: ST_TO_ADDR
// if 0 <= buildUpTime_Delay - tick then
16681: LD_INT 0
16683: PUSH
16684: LD_EXP 117
16688: PUSH
16689: LD_OWVAR 1
16693: MINUS
16694: LESSEQUAL
16695: IFFALSE 16726
// AllStrings := AllStrings ^ [ #builduptime , buildUpTime_Delay - tick ] ;
16697: LD_ADDR_VAR 0 2
16701: PUSH
16702: LD_VAR 0 2
16706: PUSH
16707: LD_STRING #builduptime
16709: PUSH
16710: LD_EXP 117
16714: PUSH
16715: LD_OWVAR 1
16719: MINUS
16720: PUSH
16721: EMPTY
16722: LIST
16723: LIST
16724: ADD
16725: ST_TO_ADDR
// AllStrings := AllStrings ^ [ #TechLevel , Tech_Level ] ;
16726: LD_ADDR_VAR 0 2
16730: PUSH
16731: LD_VAR 0 2
16735: PUSH
16736: LD_STRING #TechLevel
16738: PUSH
16739: LD_EXP 56
16743: PUSH
16744: EMPTY
16745: LIST
16746: LIST
16747: ADD
16748: ST_TO_ADDR
// if ( CurrentTime ) then
16749: LD_EXP 110
16753: IFFALSE 16782
// AllStrings = AllStrings ^ [ #Daily-Time , CurrentTime ] ^  ;
16755: LD_ADDR_VAR 0 2
16759: PUSH
16760: LD_VAR 0 2
16764: PUSH
16765: LD_STRING #Daily-Time
16767: PUSH
16768: LD_EXP 110
16772: PUSH
16773: EMPTY
16774: LIST
16775: LIST
16776: ADD
16777: PUSH
16778: LD_STRING 
16780: ADD
16781: ST_TO_ADDR
// if ( WaitServerStrings ) then
16782: LD_EXP 106
16786: IFFALSE 16804
// AllStrings := AllStrings ^ WaitServerStrings ;
16788: LD_ADDR_VAR 0 2
16792: PUSH
16793: LD_VAR 0 2
16797: PUSH
16798: LD_EXP 106
16802: ADD
16803: ST_TO_ADDR
// if not isSGUI and ( Display_kings or Display_WFG ) then
16804: LD_OWVAR 83
16808: NOT
16809: PUSH
16810: LD_EXP 107
16814: PUSH
16815: LD_EXP 112
16819: OR
16820: AND
16821: IFFALSE 16921
// begin if def_public_score and Team_game then
16823: LD_EXP 34
16827: PUSH
16828: LD_EXP 79
16832: AND
16833: IFFALSE 16877
// AllStrings := AllStrings ^ [ #yourTeam , [ 3 , 1 , 2 , 7 ] [ player_team ] ] ;
16835: LD_ADDR_VAR 0 2
16839: PUSH
16840: LD_VAR 0 2
16844: PUSH
16845: LD_STRING #yourTeam
16847: PUSH
16848: LD_INT 3
16850: PUSH
16851: LD_INT 1
16853: PUSH
16854: LD_INT 2
16856: PUSH
16857: LD_INT 7
16859: PUSH
16860: EMPTY
16861: LIST
16862: LIST
16863: LIST
16864: LIST
16865: PUSH
16866: LD_EXP 70
16870: ARRAY
16871: PUSH
16872: EMPTY
16873: LIST
16874: LIST
16875: ADD
16876: ST_TO_ADDR
// if ( Display_kings ) then
16877: LD_EXP 107
16881: IFFALSE 16899
// AllStrings := AllStrings ^ Display_kings ;
16883: LD_ADDR_VAR 0 2
16887: PUSH
16888: LD_VAR 0 2
16892: PUSH
16893: LD_EXP 107
16897: ADD
16898: ST_TO_ADDR
// if ( Display_WFG ) then
16899: LD_EXP 112
16903: IFFALSE 16921
// AllStrings := AllStrings ^ Display_WFG ;
16905: LD_ADDR_VAR 0 2
16909: PUSH
16910: LD_VAR 0 2
16914: PUSH
16915: LD_EXP 112
16919: ADD
16920: ST_TO_ADDR
// end ; if ( ExtraStrings ) then
16921: LD_EXP 108
16925: IFFALSE 16947
// AllStrings := AllStrings ^  ^ ExtraStrings ;
16927: LD_ADDR_VAR 0 2
16931: PUSH
16932: LD_VAR 0 2
16936: PUSH
16937: LD_STRING 
16939: ADD
16940: PUSH
16941: LD_EXP 108
16945: ADD
16946: ST_TO_ADDR
// if ( LimitsStrings ) then
16947: LD_EXP 109
16951: IFFALSE 16973
// AllStrings := AllStrings ^  ^ LimitsStrings ;
16953: LD_ADDR_VAR 0 2
16957: PUSH
16958: LD_VAR 0 2
16962: PUSH
16963: LD_STRING 
16965: ADD
16966: PUSH
16967: LD_EXP 109
16971: ADD
16972: ST_TO_ADDR
// if ( DebugStrings ) then
16973: LD_EXP 111
16977: IFFALSE 16999
// AllStrings := AllStrings ^  ^ DebugStrings ;
16979: LD_ADDR_VAR 0 2
16983: PUSH
16984: LD_VAR 0 2
16988: PUSH
16989: LD_STRING 
16991: ADD
16992: PUSH
16993: LD_EXP 111
16997: ADD
16998: ST_TO_ADDR
// Display_Strings := AllStrings ;
16999: LD_ADDR_OWVAR 47
17003: PUSH
17004: LD_VAR 0 2
17008: ST_TO_ADDR
// end ;
17009: LD_VAR 0 1
17013: RET
// every 0 0$1 trigger MultiplayerTimeEnabled do
17014: LD_EXP 105
17018: IFFALSE 17028
17020: GO 17022
17022: DISABLE
// begin ShowTimer ;
17023: CALL 16600 0 0
// enable ;
17027: ENABLE
// end ; end_of_file
17028: END
// export MaxFlags ; export function ShowResources ( FullMapArea , EnableSiberitResurces , Range ) ; var k , k2 , i , d , r , u ; begin
17029: LD_INT 0
17031: PPUSH
17032: PPUSH
17033: PPUSH
17034: PPUSH
17035: PPUSH
17036: PPUSH
17037: PPUSH
// if range = 0 then
17038: LD_VAR 0 3
17042: PUSH
17043: LD_INT 0
17045: EQUAL
17046: IFFALSE 17056
// range = 400 ;
17048: LD_ADDR_VAR 0 3
17052: PUSH
17053: LD_INT 400
17055: ST_TO_ADDR
// r = range ;
17056: LD_ADDR_VAR 0 9
17060: PUSH
17061: LD_VAR 0 3
17065: ST_TO_ADDR
// d = GetListOfResourcesInArea ( FullMapArea ) ;
17066: LD_ADDR_VAR 0 8
17070: PUSH
17071: LD_VAR 0 1
17075: PPUSH
17076: CALL_OW 442
17080: ST_TO_ADDR
// for k = 1 to ( d / 3 ) do
17081: LD_ADDR_VAR 0 5
17085: PUSH
17086: DOUBLE
17087: LD_INT 1
17089: DEC
17090: ST_TO_ADDR
17091: LD_VAR 0 8
17095: PUSH
17096: LD_INT 3
17098: DIVREAL
17099: PUSH
17100: FOR_TO
17101: IFFALSE 17292
// begin k2 = k * 3 ;
17103: LD_ADDR_VAR 0 6
17107: PUSH
17108: LD_VAR 0 5
17112: PUSH
17113: LD_INT 3
17115: MUL
17116: ST_TO_ADDR
// for i = 1 to 8 do
17117: LD_ADDR_VAR 0 7
17121: PUSH
17122: DOUBLE
17123: LD_INT 1
17125: DEC
17126: ST_TO_ADDR
17127: LD_INT 8
17129: PUSH
17130: FOR_TO
17131: IFFALSE 17288
// begin if d [ k2 ] = 1 or ( d [ k2 ] = 2 and EnableSiberitResurces ) then
17133: LD_VAR 0 8
17137: PUSH
17138: LD_VAR 0 6
17142: ARRAY
17143: PUSH
17144: LD_INT 1
17146: EQUAL
17147: PUSH
17148: LD_VAR 0 8
17152: PUSH
17153: LD_VAR 0 6
17157: ARRAY
17158: PUSH
17159: LD_INT 2
17161: EQUAL
17162: PUSH
17163: LD_VAR 0 2
17167: AND
17168: OR
17169: IFFALSE 17286
// begin u = filterAllUnits ( [ [ f_side , i ] , [ f_distxy , d [ k2 - 2 ] , d [ k2 - 1 ] , r ] ] ) ;
17171: LD_ADDR_VAR 0 10
17175: PUSH
17176: LD_INT 22
17178: PUSH
17179: LD_VAR 0 7
17183: PUSH
17184: EMPTY
17185: LIST
17186: LIST
17187: PUSH
17188: LD_INT 92
17190: PUSH
17191: LD_VAR 0 8
17195: PUSH
17196: LD_VAR 0 6
17200: PUSH
17201: LD_INT 2
17203: MINUS
17204: ARRAY
17205: PUSH
17206: LD_VAR 0 8
17210: PUSH
17211: LD_VAR 0 6
17215: PUSH
17216: LD_INT 1
17218: MINUS
17219: ARRAY
17220: PUSH
17221: LD_VAR 0 9
17225: PUSH
17226: EMPTY
17227: LIST
17228: LIST
17229: LIST
17230: LIST
17231: PUSH
17232: EMPTY
17233: LIST
17234: LIST
17235: PPUSH
17236: CALL_OW 69
17240: ST_TO_ADDR
// if u then
17241: LD_VAR 0 10
17245: IFFALSE 17286
// SetResourceVisibility ( d [ k2 - 2 ] , d [ k2 - 1 ] , i ) ;
17247: LD_VAR 0 8
17251: PUSH
17252: LD_VAR 0 6
17256: PUSH
17257: LD_INT 2
17259: MINUS
17260: ARRAY
17261: PPUSH
17262: LD_VAR 0 8
17266: PUSH
17267: LD_VAR 0 6
17271: PUSH
17272: LD_INT 1
17274: MINUS
17275: ARRAY
17276: PPUSH
17277: LD_VAR 0 7
17281: PPUSH
17282: CALL_OW 441
// end ; end ;
17286: GO 17130
17288: POP
17289: POP
// end ;
17290: GO 17100
17292: POP
17293: POP
// end ;
17294: LD_VAR 0 4
17298: RET
// export function randomHumanStats ( init_level ) ; var cl , combat , eng , mech , sci , skills , base_skills , attr ; var i , k , base , n , def , speed ; begin
17299: LD_INT 0
17301: PPUSH
17302: PPUSH
17303: PPUSH
17304: PPUSH
17305: PPUSH
17306: PPUSH
17307: PPUSH
17308: PPUSH
17309: PPUSH
17310: PPUSH
17311: PPUSH
17312: PPUSH
17313: PPUSH
17314: PPUSH
17315: PPUSH
// cl = rand ( 1 , 4 ) ;
17316: LD_ADDR_VAR 0 3
17320: PUSH
17321: LD_INT 1
17323: PPUSH
17324: LD_INT 4
17326: PPUSH
17327: CALL_OW 12
17331: ST_TO_ADDR
// base = init_level ;
17332: LD_ADDR_VAR 0 13
17336: PUSH
17337: LD_VAR 0 1
17341: ST_TO_ADDR
// case tick of 0 .. 5 5$00 :
17342: LD_OWVAR 1
17346: PUSH
17347: LD_INT 0
17349: DOUBLE
17350: GREATEREQUAL
17351: IFFALSE 17359
17353: LD_INT 10500
17355: DOUBLE
17356: LESSEQUAL
17357: IFTRUE 17361
17359: GO 17372
17361: POP
// i = 1 ; 5 5$01 .. 9 9$00 :
17362: LD_ADDR_VAR 0 11
17366: PUSH
17367: LD_INT 1
17369: ST_TO_ADDR
17370: GO 17631
17372: LD_INT 10535
17374: DOUBLE
17375: GREATEREQUAL
17376: IFFALSE 17384
17378: LD_INT 18900
17380: DOUBLE
17381: LESSEQUAL
17382: IFTRUE 17386
17384: GO 17397
17386: POP
// i = 2 ; 9 9$01 .. 15 15$00 :
17387: LD_ADDR_VAR 0 11
17391: PUSH
17392: LD_INT 2
17394: ST_TO_ADDR
17395: GO 17631
17397: LD_INT 18935
17399: DOUBLE
17400: GREATEREQUAL
17401: IFFALSE 17409
17403: LD_INT 31500
17405: DOUBLE
17406: LESSEQUAL
17407: IFTRUE 17411
17409: GO 17422
17411: POP
// i = 3 ; 15 15$01 .. 22 22$00 :
17412: LD_ADDR_VAR 0 11
17416: PUSH
17417: LD_INT 3
17419: ST_TO_ADDR
17420: GO 17631
17422: LD_INT 31535
17424: DOUBLE
17425: GREATEREQUAL
17426: IFFALSE 17434
17428: LD_INT 46200
17430: DOUBLE
17431: LESSEQUAL
17432: IFTRUE 17436
17434: GO 17447
17436: POP
// i = 4 ; 22 22$01 .. 30 30$00 :
17437: LD_ADDR_VAR 0 11
17441: PUSH
17442: LD_INT 4
17444: ST_TO_ADDR
17445: GO 17631
17447: LD_INT 46235
17449: DOUBLE
17450: GREATEREQUAL
17451: IFFALSE 17459
17453: LD_INT 63000
17455: DOUBLE
17456: LESSEQUAL
17457: IFTRUE 17461
17459: GO 17472
17461: POP
// i = 5 ; 30 30$01 .. 40 40$00 :
17462: LD_ADDR_VAR 0 11
17466: PUSH
17467: LD_INT 5
17469: ST_TO_ADDR
17470: GO 17631
17472: LD_INT 63035
17474: DOUBLE
17475: GREATEREQUAL
17476: IFFALSE 17484
17478: LD_INT 84000
17480: DOUBLE
17481: LESSEQUAL
17482: IFTRUE 17486
17484: GO 17497
17486: POP
// i = 6 ; 40 40$01 .. 52 52$00 :
17487: LD_ADDR_VAR 0 11
17491: PUSH
17492: LD_INT 6
17494: ST_TO_ADDR
17495: GO 17631
17497: LD_INT 84035
17499: DOUBLE
17500: GREATEREQUAL
17501: IFFALSE 17509
17503: LD_INT 109200
17505: DOUBLE
17506: LESSEQUAL
17507: IFTRUE 17511
17509: GO 17522
17511: POP
// i = 7 ; 52 52$01 .. 66 66$00 :
17512: LD_ADDR_VAR 0 11
17516: PUSH
17517: LD_INT 7
17519: ST_TO_ADDR
17520: GO 17631
17522: LD_INT 109235
17524: DOUBLE
17525: GREATEREQUAL
17526: IFFALSE 17534
17528: LD_INT 138600
17530: DOUBLE
17531: LESSEQUAL
17532: IFTRUE 17536
17534: GO 17547
17536: POP
// i = 8 ; 66 66$01 .. 88 88$00 :
17537: LD_ADDR_VAR 0 11
17541: PUSH
17542: LD_INT 8
17544: ST_TO_ADDR
17545: GO 17631
17547: LD_INT 138635
17549: DOUBLE
17550: GREATEREQUAL
17551: IFFALSE 17559
17553: LD_INT 184800
17555: DOUBLE
17556: LESSEQUAL
17557: IFTRUE 17561
17559: GO 17572
17561: POP
// i = 9 ; 88 88$01 .. 100 100$00 :
17562: LD_ADDR_VAR 0 11
17566: PUSH
17567: LD_INT 9
17569: ST_TO_ADDR
17570: GO 17631
17572: LD_INT 184835
17574: DOUBLE
17575: GREATEREQUAL
17576: IFFALSE 17584
17578: LD_INT 210000
17580: DOUBLE
17581: LESSEQUAL
17582: IFTRUE 17586
17584: GO 17597
17586: POP
// i = 10 ; 100 100$01 .. 120 120$00 :
17587: LD_ADDR_VAR 0 11
17591: PUSH
17592: LD_INT 10
17594: ST_TO_ADDR
17595: GO 17631
17597: LD_INT 210035
17599: DOUBLE
17600: GREATEREQUAL
17601: IFFALSE 17609
17603: LD_INT 252000
17605: DOUBLE
17606: LESSEQUAL
17607: IFTRUE 17611
17609: GO 17622
17611: POP
// i = 11 ; else
17612: LD_ADDR_VAR 0 11
17616: PUSH
17617: LD_INT 11
17619: ST_TO_ADDR
17620: GO 17631
17622: POP
// i = 12 ; end ;
17623: LD_ADDR_VAR 0 11
17627: PUSH
17628: LD_INT 12
17630: ST_TO_ADDR
// i = i - base div 2 ;
17631: LD_ADDR_VAR 0 11
17635: PUSH
17636: LD_VAR 0 11
17640: PUSH
17641: LD_VAR 0 13
17645: PUSH
17646: LD_INT 2
17648: DIV
17649: MINUS
17650: ST_TO_ADDR
// if i < 0 then
17651: LD_VAR 0 11
17655: PUSH
17656: LD_INT 0
17658: LESS
17659: IFFALSE 17669
// i = 0 ;
17661: LD_ADDR_VAR 0 11
17665: PUSH
17666: LD_INT 0
17668: ST_TO_ADDR
// if cl = 1 then
17669: LD_VAR 0 3
17673: PUSH
17674: LD_INT 1
17676: EQUAL
17677: IFFALSE 17717
// combat = rand ( base + i - 1 , base + i ) else
17679: LD_ADDR_VAR 0 4
17683: PUSH
17684: LD_VAR 0 13
17688: PUSH
17689: LD_VAR 0 11
17693: PLUS
17694: PUSH
17695: LD_INT 1
17697: MINUS
17698: PPUSH
17699: LD_VAR 0 13
17703: PUSH
17704: LD_VAR 0 11
17708: PLUS
17709: PPUSH
17710: CALL_OW 12
17714: ST_TO_ADDR
17715: GO 17757
// combat = rand ( base + i - 4 , base + i - 1 ) ;
17717: LD_ADDR_VAR 0 4
17721: PUSH
17722: LD_VAR 0 13
17726: PUSH
17727: LD_VAR 0 11
17731: PLUS
17732: PUSH
17733: LD_INT 4
17735: MINUS
17736: PPUSH
17737: LD_VAR 0 13
17741: PUSH
17742: LD_VAR 0 11
17746: PLUS
17747: PUSH
17748: LD_INT 1
17750: MINUS
17751: PPUSH
17752: CALL_OW 12
17756: ST_TO_ADDR
// if cl = 2 then
17757: LD_VAR 0 3
17761: PUSH
17762: LD_INT 2
17764: EQUAL
17765: IFFALSE 17805
// eng = rand ( base + i - 1 , base + i ) else
17767: LD_ADDR_VAR 0 5
17771: PUSH
17772: LD_VAR 0 13
17776: PUSH
17777: LD_VAR 0 11
17781: PLUS
17782: PUSH
17783: LD_INT 1
17785: MINUS
17786: PPUSH
17787: LD_VAR 0 13
17791: PUSH
17792: LD_VAR 0 11
17796: PLUS
17797: PPUSH
17798: CALL_OW 12
17802: ST_TO_ADDR
17803: GO 17845
// eng = rand ( base + i - 4 , base + i - 1 ) ;
17805: LD_ADDR_VAR 0 5
17809: PUSH
17810: LD_VAR 0 13
17814: PUSH
17815: LD_VAR 0 11
17819: PLUS
17820: PUSH
17821: LD_INT 4
17823: MINUS
17824: PPUSH
17825: LD_VAR 0 13
17829: PUSH
17830: LD_VAR 0 11
17834: PLUS
17835: PUSH
17836: LD_INT 1
17838: MINUS
17839: PPUSH
17840: CALL_OW 12
17844: ST_TO_ADDR
// if cl = 3 then
17845: LD_VAR 0 3
17849: PUSH
17850: LD_INT 3
17852: EQUAL
17853: IFFALSE 17893
// mech = rand ( base + i - 1 , base + i ) else
17855: LD_ADDR_VAR 0 6
17859: PUSH
17860: LD_VAR 0 13
17864: PUSH
17865: LD_VAR 0 11
17869: PLUS
17870: PUSH
17871: LD_INT 1
17873: MINUS
17874: PPUSH
17875: LD_VAR 0 13
17879: PUSH
17880: LD_VAR 0 11
17884: PLUS
17885: PPUSH
17886: CALL_OW 12
17890: ST_TO_ADDR
17891: GO 17933
// mech = rand ( base + i - 4 , base + i - 1 ) ;
17893: LD_ADDR_VAR 0 6
17897: PUSH
17898: LD_VAR 0 13
17902: PUSH
17903: LD_VAR 0 11
17907: PLUS
17908: PUSH
17909: LD_INT 4
17911: MINUS
17912: PPUSH
17913: LD_VAR 0 13
17917: PUSH
17918: LD_VAR 0 11
17922: PLUS
17923: PUSH
17924: LD_INT 1
17926: MINUS
17927: PPUSH
17928: CALL_OW 12
17932: ST_TO_ADDR
// if cl = 4 then
17933: LD_VAR 0 3
17937: PUSH
17938: LD_INT 4
17940: EQUAL
17941: IFFALSE 17981
// sci = rand ( base + i - 1 , base + i ) else
17943: LD_ADDR_VAR 0 7
17947: PUSH
17948: LD_VAR 0 13
17952: PUSH
17953: LD_VAR 0 11
17957: PLUS
17958: PUSH
17959: LD_INT 1
17961: MINUS
17962: PPUSH
17963: LD_VAR 0 13
17967: PUSH
17968: LD_VAR 0 11
17972: PLUS
17973: PPUSH
17974: CALL_OW 12
17978: ST_TO_ADDR
17979: GO 18021
// sci = rand ( base + i - 4 , base + i - 1 ) ;
17981: LD_ADDR_VAR 0 7
17985: PUSH
17986: LD_VAR 0 13
17990: PUSH
17991: LD_VAR 0 11
17995: PLUS
17996: PUSH
17997: LD_INT 4
17999: MINUS
18000: PPUSH
18001: LD_VAR 0 13
18005: PUSH
18006: LD_VAR 0 11
18010: PLUS
18011: PUSH
18012: LD_INT 1
18014: MINUS
18015: PPUSH
18016: CALL_OW 12
18020: ST_TO_ADDR
// skills = [ combat , eng , mech , sci ] ;
18021: LD_ADDR_VAR 0 8
18025: PUSH
18026: LD_VAR 0 4
18030: PUSH
18031: LD_VAR 0 5
18035: PUSH
18036: LD_VAR 0 6
18040: PUSH
18041: LD_VAR 0 7
18045: PUSH
18046: EMPTY
18047: LIST
18048: LIST
18049: LIST
18050: LIST
18051: ST_TO_ADDR
// for i = 1 to 4 do
18052: LD_ADDR_VAR 0 11
18056: PUSH
18057: DOUBLE
18058: LD_INT 1
18060: DEC
18061: ST_TO_ADDR
18062: LD_INT 4
18064: PUSH
18065: FOR_TO
18066: IFFALSE 18221
// begin if skills [ i ] < 0 then
18068: LD_VAR 0 8
18072: PUSH
18073: LD_VAR 0 11
18077: ARRAY
18078: PUSH
18079: LD_INT 0
18081: LESS
18082: IFFALSE 18107
// skills = replace ( skills , i , 0 ) ;
18084: LD_ADDR_VAR 0 8
18088: PUSH
18089: LD_VAR 0 8
18093: PPUSH
18094: LD_VAR 0 11
18098: PPUSH
18099: LD_INT 0
18101: PPUSH
18102: CALL_OW 1
18106: ST_TO_ADDR
// n = [ 0 , 1 , 0 , 1 , 0 , 2 , 0 , 0 , 1 , 0 ] [ rand ( 1 , 10 ) ] ;
18107: LD_ADDR_VAR 0 14
18111: PUSH
18112: LD_INT 0
18114: PUSH
18115: LD_INT 1
18117: PUSH
18118: LD_INT 0
18120: PUSH
18121: LD_INT 1
18123: PUSH
18124: LD_INT 0
18126: PUSH
18127: LD_INT 2
18129: PUSH
18130: LD_INT 0
18132: PUSH
18133: LD_INT 0
18135: PUSH
18136: LD_INT 1
18138: PUSH
18139: LD_INT 0
18141: PUSH
18142: EMPTY
18143: LIST
18144: LIST
18145: LIST
18146: LIST
18147: LIST
18148: LIST
18149: LIST
18150: LIST
18151: LIST
18152: LIST
18153: PUSH
18154: LD_INT 1
18156: PPUSH
18157: LD_INT 10
18159: PPUSH
18160: CALL_OW 12
18164: ARRAY
18165: ST_TO_ADDR
// if n > skills [ i ] then
18166: LD_VAR 0 14
18170: PUSH
18171: LD_VAR 0 8
18175: PUSH
18176: LD_VAR 0 11
18180: ARRAY
18181: GREATER
18182: IFFALSE 18200
// n = skills [ i ] ;
18184: LD_ADDR_VAR 0 14
18188: PUSH
18189: LD_VAR 0 8
18193: PUSH
18194: LD_VAR 0 11
18198: ARRAY
18199: ST_TO_ADDR
// replace ( base_skills , i , n ) ;
18200: LD_VAR 0 9
18204: PPUSH
18205: LD_VAR 0 11
18209: PPUSH
18210: LD_VAR 0 14
18214: PPUSH
18215: CALL_OW 1
// end ;
18219: GO 18065
18221: POP
18222: POP
// n = rand ( 1 , 100 ) ;
18223: LD_ADDR_VAR 0 14
18227: PUSH
18228: LD_INT 1
18230: PPUSH
18231: LD_INT 100
18233: PPUSH
18234: CALL_OW 12
18238: ST_TO_ADDR
// case n of 1 .. 32 :
18239: LD_VAR 0 14
18243: PUSH
18244: LD_INT 1
18246: DOUBLE
18247: GREATEREQUAL
18248: IFFALSE 18256
18250: LD_INT 32
18252: DOUBLE
18253: LESSEQUAL
18254: IFTRUE 18258
18256: GO 18269
18258: POP
// def = 10 ; 31 .. 54 :
18259: LD_ADDR_VAR 0 15
18263: PUSH
18264: LD_INT 10
18266: ST_TO_ADDR
18267: GO 18370
18269: LD_INT 31
18271: DOUBLE
18272: GREATEREQUAL
18273: IFFALSE 18281
18275: LD_INT 54
18277: DOUBLE
18278: LESSEQUAL
18279: IFTRUE 18283
18281: GO 18294
18283: POP
// def = 9 ; 55 .. 76 :
18284: LD_ADDR_VAR 0 15
18288: PUSH
18289: LD_INT 9
18291: ST_TO_ADDR
18292: GO 18370
18294: LD_INT 55
18296: DOUBLE
18297: GREATEREQUAL
18298: IFFALSE 18306
18300: LD_INT 76
18302: DOUBLE
18303: LESSEQUAL
18304: IFTRUE 18308
18306: GO 18319
18308: POP
// def = 11 ; 77 .. 88 :
18309: LD_ADDR_VAR 0 15
18313: PUSH
18314: LD_INT 11
18316: ST_TO_ADDR
18317: GO 18370
18319: LD_INT 77
18321: DOUBLE
18322: GREATEREQUAL
18323: IFFALSE 18331
18325: LD_INT 88
18327: DOUBLE
18328: LESSEQUAL
18329: IFTRUE 18333
18331: GO 18344
18333: POP
// def = 8 ; 89 .. 100 :
18334: LD_ADDR_VAR 0 15
18338: PUSH
18339: LD_INT 8
18341: ST_TO_ADDR
18342: GO 18370
18344: LD_INT 89
18346: DOUBLE
18347: GREATEREQUAL
18348: IFFALSE 18356
18350: LD_INT 100
18352: DOUBLE
18353: LESSEQUAL
18354: IFTRUE 18358
18356: GO 18369
18358: POP
// def = 12 ; end ;
18359: LD_ADDR_VAR 0 15
18363: PUSH
18364: LD_INT 12
18366: ST_TO_ADDR
18367: GO 18370
18369: POP
// n = rand ( 1 , 100 ) ;
18370: LD_ADDR_VAR 0 14
18374: PUSH
18375: LD_INT 1
18377: PPUSH
18378: LD_INT 100
18380: PPUSH
18381: CALL_OW 12
18385: ST_TO_ADDR
// case n of 1 .. 44 :
18386: LD_VAR 0 14
18390: PUSH
18391: LD_INT 1
18393: DOUBLE
18394: GREATEREQUAL
18395: IFFALSE 18403
18397: LD_INT 44
18399: DOUBLE
18400: LESSEQUAL
18401: IFTRUE 18405
18403: GO 18416
18405: POP
// speed = 10 ; 45 .. 76 :
18406: LD_ADDR_VAR 0 16
18410: PUSH
18411: LD_INT 10
18413: ST_TO_ADDR
18414: GO 18492
18416: LD_INT 45
18418: DOUBLE
18419: GREATEREQUAL
18420: IFFALSE 18428
18422: LD_INT 76
18424: DOUBLE
18425: LESSEQUAL
18426: IFTRUE 18430
18428: GO 18441
18430: POP
// speed = 9 ; 77 .. 94 :
18431: LD_ADDR_VAR 0 16
18435: PUSH
18436: LD_INT 9
18438: ST_TO_ADDR
18439: GO 18492
18441: LD_INT 77
18443: DOUBLE
18444: GREATEREQUAL
18445: IFFALSE 18453
18447: LD_INT 94
18449: DOUBLE
18450: LESSEQUAL
18451: IFTRUE 18455
18453: GO 18466
18455: POP
// speed = 11 ; 95 .. 100 :
18456: LD_ADDR_VAR 0 16
18460: PUSH
18461: LD_INT 11
18463: ST_TO_ADDR
18464: GO 18492
18466: LD_INT 95
18468: DOUBLE
18469: GREATEREQUAL
18470: IFFALSE 18478
18472: LD_INT 100
18474: DOUBLE
18475: LESSEQUAL
18476: IFTRUE 18480
18478: GO 18491
18480: POP
// speed = 12 ; end ;
18481: LD_ADDR_VAR 0 16
18485: PUSH
18486: LD_INT 12
18488: ST_TO_ADDR
18489: GO 18492
18491: POP
// hc_attr = [ def , speed ] ;
18492: LD_ADDR_OWVAR 29
18496: PUSH
18497: LD_VAR 0 15
18501: PUSH
18502: LD_VAR 0 16
18506: PUSH
18507: EMPTY
18508: LIST
18509: LIST
18510: ST_TO_ADDR
// hc_basic_skills = base_skills ;
18511: LD_ADDR_OWVAR 30
18515: PUSH
18516: LD_VAR 0 9
18520: ST_TO_ADDR
// hc_skills := skills ;
18521: LD_ADDR_OWVAR 31
18525: PUSH
18526: LD_VAR 0 8
18530: ST_TO_ADDR
// hc_class = cl ;
18531: LD_ADDR_OWVAR 28
18535: PUSH
18536: LD_VAR 0 3
18540: ST_TO_ADDR
// end ; end_of_file
18541: LD_VAR 0 2
18545: RET
// var strany ; export maxTechLevel ; export function Start_tech_ur ; var i ; begin
18546: LD_INT 0
18548: PPUSH
18549: PPUSH
// if not maxTechLevel then
18550: LD_EXP 114
18554: NOT
18555: IFFALSE 18565
// maxTechLevel = 8 ;
18557: LD_ADDR_EXP 114
18561: PUSH
18562: LD_INT 8
18564: ST_TO_ADDR
// strany = [ ] ;
18565: LD_ADDR_LOC 19
18569: PUSH
18570: EMPTY
18571: ST_TO_ADDR
// if def_tech_level > maxTechLevel then
18572: LD_EXP 26
18576: PUSH
18577: LD_EXP 114
18581: GREATER
18582: IFFALSE 18594
// def_tech_level = maxTechLevel ;
18584: LD_ADDR_EXP 26
18588: PUSH
18589: LD_EXP 114
18593: ST_TO_ADDR
// for i := 1 to Side_Positions do
18594: LD_ADDR_VAR 0 2
18598: PUSH
18599: DOUBLE
18600: LD_INT 1
18602: DEC
18603: ST_TO_ADDR
18604: LD_EXP 74
18608: PUSH
18609: FOR_TO
18610: IFFALSE 18642
// if Side_Positions [ i ] then
18612: LD_EXP 74
18616: PUSH
18617: LD_VAR 0 2
18621: ARRAY
18622: IFFALSE 18640
// strany = strany ^ i ;
18624: LD_ADDR_LOC 19
18628: PUSH
18629: LD_LOC 19
18633: PUSH
18634: LD_VAR 0 2
18638: ADD
18639: ST_TO_ADDR
18640: GO 18609
18642: POP
18643: POP
// for i in strany do
18644: LD_ADDR_VAR 0 2
18648: PUSH
18649: LD_LOC 19
18653: PUSH
18654: FOR_IN
18655: IFFALSE 18668
// Vse_zakaz ( i ) ;
18657: LD_VAR 0 2
18661: PPUSH
18662: CALL 19643 0 1
18666: GO 18654
18668: POP
18669: POP
// for i in strany do
18670: LD_ADDR_VAR 0 2
18674: PUSH
18675: LD_LOC 19
18679: PUSH
18680: FOR_IN
18681: IFFALSE 19103
// case def_tech_level of 1 :
18683: LD_EXP 26
18687: PUSH
18688: LD_INT 1
18690: DOUBLE
18691: EQUAL
18692: IFTRUE 18696
18694: GO 18708
18696: POP
// ur_1 ( i ) ; 2 :
18697: LD_VAR 0 2
18701: PPUSH
18702: CALL 19803 0 1
18706: GO 19101
18708: LD_INT 2
18710: DOUBLE
18711: EQUAL
18712: IFTRUE 18716
18714: GO 18737
18716: POP
// begin ur_1 ( i ) ;
18717: LD_VAR 0 2
18721: PPUSH
18722: CALL 19803 0 1
// ur_2 ( i ) ;
18726: LD_VAR 0 2
18730: PPUSH
18731: CALL 20188 0 1
// end ; 3 :
18735: GO 19101
18737: LD_INT 3
18739: DOUBLE
18740: EQUAL
18741: IFTRUE 18745
18743: GO 18775
18745: POP
// begin ur_1 ( i ) ;
18746: LD_VAR 0 2
18750: PPUSH
18751: CALL 19803 0 1
// ur_2 ( i ) ;
18755: LD_VAR 0 2
18759: PPUSH
18760: CALL 20188 0 1
// ur_3 ( i ) ;
18764: LD_VAR 0 2
18768: PPUSH
18769: CALL 20577 0 1
// end ; 4 :
18773: GO 19101
18775: LD_INT 4
18777: DOUBLE
18778: EQUAL
18779: IFTRUE 18783
18781: GO 18822
18783: POP
// begin ur_1 ( i ) ;
18784: LD_VAR 0 2
18788: PPUSH
18789: CALL 19803 0 1
// ur_2 ( i ) ;
18793: LD_VAR 0 2
18797: PPUSH
18798: CALL 20188 0 1
// ur_3 ( i ) ;
18802: LD_VAR 0 2
18806: PPUSH
18807: CALL 20577 0 1
// ur_4 ( i ) ;
18811: LD_VAR 0 2
18815: PPUSH
18816: CALL 21038 0 1
// end ; 5 :
18820: GO 19101
18822: LD_INT 5
18824: DOUBLE
18825: EQUAL
18826: IFTRUE 18830
18828: GO 18878
18830: POP
// begin ur_1 ( i ) ;
18831: LD_VAR 0 2
18835: PPUSH
18836: CALL 19803 0 1
// ur_2 ( i ) ;
18840: LD_VAR 0 2
18844: PPUSH
18845: CALL 20188 0 1
// ur_3 ( i ) ;
18849: LD_VAR 0 2
18853: PPUSH
18854: CALL 20577 0 1
// ur_4 ( i ) ;
18858: LD_VAR 0 2
18862: PPUSH
18863: CALL 21038 0 1
// ur_5 ( i ) ;
18867: LD_VAR 0 2
18871: PPUSH
18872: CALL 21515 0 1
// end ; 6 :
18876: GO 19101
18878: LD_INT 6
18880: DOUBLE
18881: EQUAL
18882: IFTRUE 18886
18884: GO 18943
18886: POP
// begin ur_1 ( i ) ;
18887: LD_VAR 0 2
18891: PPUSH
18892: CALL 19803 0 1
// ur_2 ( i ) ;
18896: LD_VAR 0 2
18900: PPUSH
18901: CALL 20188 0 1
// ur_3 ( i ) ;
18905: LD_VAR 0 2
18909: PPUSH
18910: CALL 20577 0 1
// ur_4 ( i ) ;
18914: LD_VAR 0 2
18918: PPUSH
18919: CALL 21038 0 1
// ur_5 ( i ) ;
18923: LD_VAR 0 2
18927: PPUSH
18928: CALL 21515 0 1
// ur_6 ( i ) ;
18932: LD_VAR 0 2
18936: PPUSH
18937: CALL 21809 0 1
// end ; 7 :
18941: GO 19101
18943: LD_INT 7
18945: DOUBLE
18946: EQUAL
18947: IFTRUE 18951
18949: GO 19017
18951: POP
// begin ur_1 ( i ) ;
18952: LD_VAR 0 2
18956: PPUSH
18957: CALL 19803 0 1
// ur_2 ( i ) ;
18961: LD_VAR 0 2
18965: PPUSH
18966: CALL 20188 0 1
// ur_3 ( i ) ;
18970: LD_VAR 0 2
18974: PPUSH
18975: CALL 20577 0 1
// ur_4 ( i ) ;
18979: LD_VAR 0 2
18983: PPUSH
18984: CALL 21038 0 1
// ur_5 ( i ) ;
18988: LD_VAR 0 2
18992: PPUSH
18993: CALL 21515 0 1
// ur_6 ( i ) ;
18997: LD_VAR 0 2
19001: PPUSH
19002: CALL 21809 0 1
// ur_7 ( i ) ;
19006: LD_VAR 0 2
19010: PPUSH
19011: CALL 22079 0 1
// end ; 8 :
19015: GO 19101
19017: LD_INT 8
19019: DOUBLE
19020: EQUAL
19021: IFTRUE 19025
19023: GO 19100
19025: POP
// begin ur_1 ( i ) ;
19026: LD_VAR 0 2
19030: PPUSH
19031: CALL 19803 0 1
// ur_2 ( i ) ;
19035: LD_VAR 0 2
19039: PPUSH
19040: CALL 20188 0 1
// ur_3 ( i ) ;
19044: LD_VAR 0 2
19048: PPUSH
19049: CALL 20577 0 1
// ur_4 ( i ) ;
19053: LD_VAR 0 2
19057: PPUSH
19058: CALL 21038 0 1
// ur_5 ( i ) ;
19062: LD_VAR 0 2
19066: PPUSH
19067: CALL 21515 0 1
// ur_6 ( i ) ;
19071: LD_VAR 0 2
19075: PPUSH
19076: CALL 21809 0 1
// ur_7 ( i ) ;
19080: LD_VAR 0 2
19084: PPUSH
19085: CALL 22079 0 1
// ur_8 ( i ) ;
19089: LD_VAR 0 2
19093: PPUSH
19094: CALL 22325 0 1
// end ; end ;
19098: GO 19101
19100: POP
19101: GO 18680
19103: POP
19104: POP
// end ;
19105: LD_VAR 0 1
19109: RET
// every 0 0$01 marked 30 do var i ;
19110: GO 19112
19112: DISABLE
19113: LD_INT 0
19115: PPUSH
// begin if def_upgrade_tl = 0 then
19116: LD_EXP 27
19120: PUSH
19121: LD_INT 0
19123: EQUAL
19124: IFFALSE 19128
// exit ;
19126: GO 19640
// if def_tech_level < 1 and not maxTechLevel < 1 then
19128: LD_EXP 26
19132: PUSH
19133: LD_INT 1
19135: LESS
19136: PUSH
19137: LD_EXP 114
19141: PUSH
19142: LD_INT 1
19144: LESS
19145: NOT
19146: AND
19147: IFFALSE 19192
// begin wait ( 0 0$50 * def_upgrade_tl ) ;
19149: LD_INT 1750
19151: PUSH
19152: LD_EXP 27
19156: MUL
19157: PPUSH
19158: CALL_OW 67
// for i in strany do
19162: LD_ADDR_VAR 0 1
19166: PUSH
19167: LD_LOC 19
19171: PUSH
19172: FOR_IN
19173: IFFALSE 19186
// ur_1 ( i ) ;
19175: LD_VAR 0 1
19179: PPUSH
19180: CALL 19803 0 1
19184: GO 19172
19186: POP
19187: POP
// Hustota_Zasilek ;
19188: CALL 2179 0 0
// end ; if def_tech_level < 2 and not maxTechLevel < 2 then
19192: LD_EXP 26
19196: PUSH
19197: LD_INT 2
19199: LESS
19200: PUSH
19201: LD_EXP 114
19205: PUSH
19206: LD_INT 2
19208: LESS
19209: NOT
19210: AND
19211: IFFALSE 19256
// begin wait ( 1 1$00 * def_upgrade_tl ) ;
19213: LD_INT 2100
19215: PUSH
19216: LD_EXP 27
19220: MUL
19221: PPUSH
19222: CALL_OW 67
// for i in strany do
19226: LD_ADDR_VAR 0 1
19230: PUSH
19231: LD_LOC 19
19235: PUSH
19236: FOR_IN
19237: IFFALSE 19250
// ur_2 ( i ) ;
19239: LD_VAR 0 1
19243: PPUSH
19244: CALL 20188 0 1
19248: GO 19236
19250: POP
19251: POP
// Hustota_Zasilek ;
19252: CALL 2179 0 0
// end ; if def_tech_level < 3 and not maxTechLevel < 3 then
19256: LD_EXP 26
19260: PUSH
19261: LD_INT 3
19263: LESS
19264: PUSH
19265: LD_EXP 114
19269: PUSH
19270: LD_INT 3
19272: LESS
19273: NOT
19274: AND
19275: IFFALSE 19320
// begin wait ( 3 3$30 * def_upgrade_tl ) ;
19277: LD_INT 7350
19279: PUSH
19280: LD_EXP 27
19284: MUL
19285: PPUSH
19286: CALL_OW 67
// for i in strany do
19290: LD_ADDR_VAR 0 1
19294: PUSH
19295: LD_LOC 19
19299: PUSH
19300: FOR_IN
19301: IFFALSE 19314
// ur_3 ( i ) ;
19303: LD_VAR 0 1
19307: PPUSH
19308: CALL 20577 0 1
19312: GO 19300
19314: POP
19315: POP
// Hustota_Zasilek ;
19316: CALL 2179 0 0
// end ; if def_tech_level < 4 and not maxTechLevel < 4 then
19320: LD_EXP 26
19324: PUSH
19325: LD_INT 4
19327: LESS
19328: PUSH
19329: LD_EXP 114
19333: PUSH
19334: LD_INT 4
19336: LESS
19337: NOT
19338: AND
19339: IFFALSE 19384
// begin wait ( 4 4$30 * def_upgrade_tl ) ;
19341: LD_INT 9450
19343: PUSH
19344: LD_EXP 27
19348: MUL
19349: PPUSH
19350: CALL_OW 67
// for i in strany do
19354: LD_ADDR_VAR 0 1
19358: PUSH
19359: LD_LOC 19
19363: PUSH
19364: FOR_IN
19365: IFFALSE 19378
// ur_4 ( i ) ;
19367: LD_VAR 0 1
19371: PPUSH
19372: CALL 21038 0 1
19376: GO 19364
19378: POP
19379: POP
// Hustota_Zasilek ;
19380: CALL 2179 0 0
// end ; if def_tech_level < 5 and not maxTechLevel < 5 then
19384: LD_EXP 26
19388: PUSH
19389: LD_INT 5
19391: LESS
19392: PUSH
19393: LD_EXP 114
19397: PUSH
19398: LD_INT 5
19400: LESS
19401: NOT
19402: AND
19403: IFFALSE 19448
// begin wait ( 3 3$30 * def_upgrade_tl ) ;
19405: LD_INT 7350
19407: PUSH
19408: LD_EXP 27
19412: MUL
19413: PPUSH
19414: CALL_OW 67
// for i in strany do
19418: LD_ADDR_VAR 0 1
19422: PUSH
19423: LD_LOC 19
19427: PUSH
19428: FOR_IN
19429: IFFALSE 19442
// ur_5 ( i ) ;
19431: LD_VAR 0 1
19435: PPUSH
19436: CALL 21515 0 1
19440: GO 19428
19442: POP
19443: POP
// Hustota_Zasilek ;
19444: CALL 2179 0 0
// end ; if def_tech_level < 6 and not maxTechLevel < 6 then
19448: LD_EXP 26
19452: PUSH
19453: LD_INT 6
19455: LESS
19456: PUSH
19457: LD_EXP 114
19461: PUSH
19462: LD_INT 6
19464: LESS
19465: NOT
19466: AND
19467: IFFALSE 19512
// begin wait ( 4 4$15 * def_upgrade_tl ) ;
19469: LD_INT 8925
19471: PUSH
19472: LD_EXP 27
19476: MUL
19477: PPUSH
19478: CALL_OW 67
// for i in strany do
19482: LD_ADDR_VAR 0 1
19486: PUSH
19487: LD_LOC 19
19491: PUSH
19492: FOR_IN
19493: IFFALSE 19506
// ur_6 ( i ) ;
19495: LD_VAR 0 1
19499: PPUSH
19500: CALL 21809 0 1
19504: GO 19492
19506: POP
19507: POP
// Hustota_Zasilek ;
19508: CALL 2179 0 0
// end ; if def_tech_level < 7 and not maxTechLevel < 7 then
19512: LD_EXP 26
19516: PUSH
19517: LD_INT 7
19519: LESS
19520: PUSH
19521: LD_EXP 114
19525: PUSH
19526: LD_INT 7
19528: LESS
19529: NOT
19530: AND
19531: IFFALSE 19576
// begin wait ( 4 4$45 * def_upgrade_tl ) ;
19533: LD_INT 9975
19535: PUSH
19536: LD_EXP 27
19540: MUL
19541: PPUSH
19542: CALL_OW 67
// for i in strany do
19546: LD_ADDR_VAR 0 1
19550: PUSH
19551: LD_LOC 19
19555: PUSH
19556: FOR_IN
19557: IFFALSE 19570
// ur_7 ( i ) ;
19559: LD_VAR 0 1
19563: PPUSH
19564: CALL 22079 0 1
19568: GO 19556
19570: POP
19571: POP
// Hustota_Zasilek ;
19572: CALL 2179 0 0
// end ; if def_tech_level < 8 and not maxTechLevel < 8 then
19576: LD_EXP 26
19580: PUSH
19581: LD_INT 8
19583: LESS
19584: PUSH
19585: LD_EXP 114
19589: PUSH
19590: LD_INT 8
19592: LESS
19593: NOT
19594: AND
19595: IFFALSE 19640
// begin wait ( 6 6$00 * def_upgrade_tl ) ;
19597: LD_INT 12600
19599: PUSH
19600: LD_EXP 27
19604: MUL
19605: PPUSH
19606: CALL_OW 67
// for i in strany do
19610: LD_ADDR_VAR 0 1
19614: PUSH
19615: LD_LOC 19
19619: PUSH
19620: FOR_IN
19621: IFFALSE 19634
// ur_8 ( i ) ;
19623: LD_VAR 0 1
19627: PPUSH
19628: CALL 22325 0 1
19632: GO 19620
19634: POP
19635: POP
// Hustota_Zasilek ;
19636: CALL 2179 0 0
// end ; end ;
19640: PPOPN 1
19642: END
// function Vse_zakaz ( side ) ; var i , zbudovy ; begin
19643: LD_INT 0
19645: PPUSH
19646: PPUSH
19647: PPUSH
// for i = 1 to 72 do
19648: LD_ADDR_VAR 0 3
19652: PUSH
19653: DOUBLE
19654: LD_INT 1
19656: DEC
19657: ST_TO_ADDR
19658: LD_INT 72
19660: PUSH
19661: FOR_TO
19662: IFFALSE 19683
// SetTech ( i , side , state_disabled ) ;
19664: LD_VAR 0 3
19668: PPUSH
19669: LD_VAR 0 1
19673: PPUSH
19674: LD_INT 0
19676: PPUSH
19677: CALL_OW 322
19681: GO 19661
19683: POP
19684: POP
// zbudovy = [ 1 , 5 , 2 , 3 , 16 , 19 , 23 , 10 , 11 , 12 , 13 , 14 , 15 , 29 , 30 , 32 ] ;
19685: LD_ADDR_VAR 0 4
19689: PUSH
19690: LD_INT 1
19692: PUSH
19693: LD_INT 5
19695: PUSH
19696: LD_INT 2
19698: PUSH
19699: LD_INT 3
19701: PUSH
19702: LD_INT 16
19704: PUSH
19705: LD_INT 19
19707: PUSH
19708: LD_INT 23
19710: PUSH
19711: LD_INT 10
19713: PUSH
19714: LD_INT 11
19716: PUSH
19717: LD_INT 12
19719: PUSH
19720: LD_INT 13
19722: PUSH
19723: LD_INT 14
19725: PUSH
19726: LD_INT 15
19728: PUSH
19729: LD_INT 29
19731: PUSH
19732: LD_INT 30
19734: PUSH
19735: LD_INT 32
19737: PUSH
19738: EMPTY
19739: LIST
19740: LIST
19741: LIST
19742: LIST
19743: LIST
19744: LIST
19745: LIST
19746: LIST
19747: LIST
19748: LIST
19749: LIST
19750: LIST
19751: LIST
19752: LIST
19753: LIST
19754: LIST
19755: ST_TO_ADDR
// for i in zbudovy do
19756: LD_ADDR_VAR 0 3
19760: PUSH
19761: LD_VAR 0 4
19765: PUSH
19766: FOR_IN
19767: IFFALSE 19788
// SetRestrict ( i , side , state_disabled ) ;
19769: LD_VAR 0 3
19773: PPUSH
19774: LD_VAR 0 1
19778: PPUSH
19779: LD_INT 0
19781: PPUSH
19782: CALL_OW 324
19786: GO 19766
19788: POP
19789: POP
// Tech_Level = 0 ;
19790: LD_ADDR_EXP 56
19794: PUSH
19795: LD_INT 0
19797: ST_TO_ADDR
// end ;
19798: LD_VAR 0 2
19802: RET
// function ur_1 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
19803: LD_INT 0
19805: PPUSH
19806: PPUSH
19807: PPUSH
19808: PPUSH
19809: PPUSH
// narodnost := Side_Nations [ side ] ;
19810: LD_ADDR_VAR 0 3
19814: PUSH
19815: LD_EXP 75
19819: PUSH
19820: LD_VAR 0 1
19824: ARRAY
19825: ST_TO_ADDR
// case narodnost of 1 :
19826: LD_VAR 0 3
19830: PUSH
19831: LD_INT 1
19833: DOUBLE
19834: EQUAL
19835: IFTRUE 19839
19837: GO 19948
19839: POP
// begin pbudovy = [ 2 , 29 ] ;
19840: LD_ADDR_VAR 0 5
19844: PUSH
19845: LD_INT 2
19847: PUSH
19848: LD_INT 29
19850: PUSH
19851: EMPTY
19852: LIST
19853: LIST
19854: ST_TO_ADDR
// for i in pbudovy do
19855: LD_ADDR_VAR 0 6
19859: PUSH
19860: LD_VAR 0 5
19864: PUSH
19865: FOR_IN
19866: IFFALSE 19887
// EnableBuilding ( i , side , state_enabled ) ;
19868: LD_VAR 0 6
19872: PPUSH
19873: LD_VAR 0 1
19877: PPUSH
19878: LD_INT 1
19880: PPUSH
19881: CALL 22504 0 3
19885: GO 19865
19887: POP
19888: POP
// ptech = [ 46 , 35 , 45 , 48 ] ;
19889: LD_ADDR_VAR 0 4
19893: PUSH
19894: LD_INT 46
19896: PUSH
19897: LD_INT 35
19899: PUSH
19900: LD_INT 45
19902: PUSH
19903: LD_INT 48
19905: PUSH
19906: EMPTY
19907: LIST
19908: LIST
19909: LIST
19910: LIST
19911: ST_TO_ADDR
// for i in ptech do
19912: LD_ADDR_VAR 0 6
19916: PUSH
19917: LD_VAR 0 4
19921: PUSH
19922: FOR_IN
19923: IFFALSE 19944
// EnableTech ( i , side , state_enabled ) ;
19925: LD_VAR 0 6
19929: PPUSH
19930: LD_VAR 0 1
19934: PPUSH
19935: LD_INT 1
19937: PPUSH
19938: CALL 22425 0 3
19942: GO 19922
19944: POP
19945: POP
// end ; 2 :
19946: GO 20175
19948: LD_INT 2
19950: DOUBLE
19951: EQUAL
19952: IFTRUE 19956
19954: GO 20065
19956: POP
// begin pbudovy = [ 2 , 29 ] ;
19957: LD_ADDR_VAR 0 5
19961: PUSH
19962: LD_INT 2
19964: PUSH
19965: LD_INT 29
19967: PUSH
19968: EMPTY
19969: LIST
19970: LIST
19971: ST_TO_ADDR
// for i in pbudovy do
19972: LD_ADDR_VAR 0 6
19976: PUSH
19977: LD_VAR 0 5
19981: PUSH
19982: FOR_IN
19983: IFFALSE 20004
// EnableBuilding ( i , side , state_enabled ) ;
19985: LD_VAR 0 6
19989: PPUSH
19990: LD_VAR 0 1
19994: PPUSH
19995: LD_INT 1
19997: PPUSH
19998: CALL 22504 0 3
20002: GO 19982
20004: POP
20005: POP
// ptech = [ 46 , 35 , 45 , 48 ] ;
20006: LD_ADDR_VAR 0 4
20010: PUSH
20011: LD_INT 46
20013: PUSH
20014: LD_INT 35
20016: PUSH
20017: LD_INT 45
20019: PUSH
20020: LD_INT 48
20022: PUSH
20023: EMPTY
20024: LIST
20025: LIST
20026: LIST
20027: LIST
20028: ST_TO_ADDR
// for i in ptech do
20029: LD_ADDR_VAR 0 6
20033: PUSH
20034: LD_VAR 0 4
20038: PUSH
20039: FOR_IN
20040: IFFALSE 20061
// EnableTech ( i , side , state_enabled ) ;
20042: LD_VAR 0 6
20046: PPUSH
20047: LD_VAR 0 1
20051: PPUSH
20052: LD_INT 1
20054: PPUSH
20055: CALL 22425 0 3
20059: GO 20039
20061: POP
20062: POP
// end ; 3 :
20063: GO 20175
20065: LD_INT 3
20067: DOUBLE
20068: EQUAL
20069: IFTRUE 20073
20071: GO 20174
20073: POP
// begin pbudovy = [ 2 , 29 ] ;
20074: LD_ADDR_VAR 0 5
20078: PUSH
20079: LD_INT 2
20081: PUSH
20082: LD_INT 29
20084: PUSH
20085: EMPTY
20086: LIST
20087: LIST
20088: ST_TO_ADDR
// for i in pbudovy do
20089: LD_ADDR_VAR 0 6
20093: PUSH
20094: LD_VAR 0 5
20098: PUSH
20099: FOR_IN
20100: IFFALSE 20121
// EnableBuilding ( i , side , state_enabled ) ;
20102: LD_VAR 0 6
20106: PPUSH
20107: LD_VAR 0 1
20111: PPUSH
20112: LD_INT 1
20114: PPUSH
20115: CALL 22504 0 3
20119: GO 20099
20121: POP
20122: POP
// ptech = [ 46 , 47 ] ;
20123: LD_ADDR_VAR 0 4
20127: PUSH
20128: LD_INT 46
20130: PUSH
20131: LD_INT 47
20133: PUSH
20134: EMPTY
20135: LIST
20136: LIST
20137: ST_TO_ADDR
// for i in ptech do
20138: LD_ADDR_VAR 0 6
20142: PUSH
20143: LD_VAR 0 4
20147: PUSH
20148: FOR_IN
20149: IFFALSE 20170
// EnableTech ( i , side , state_enabled ) ;
20151: LD_VAR 0 6
20155: PPUSH
20156: LD_VAR 0 1
20160: PPUSH
20161: LD_INT 1
20163: PPUSH
20164: CALL 22425 0 3
20168: GO 20148
20170: POP
20171: POP
// end ; end ;
20172: GO 20175
20174: POP
// Tech_Level = 1 ;
20175: LD_ADDR_EXP 56
20179: PUSH
20180: LD_INT 1
20182: ST_TO_ADDR
// end ;
20183: LD_VAR 0 2
20187: RET
// function ur_2 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
20188: LD_INT 0
20190: PPUSH
20191: PPUSH
20192: PPUSH
20193: PPUSH
20194: PPUSH
// narodnost := Side_Nations [ side ] ;
20195: LD_ADDR_VAR 0 3
20199: PUSH
20200: LD_EXP 75
20204: PUSH
20205: LD_VAR 0 1
20209: ARRAY
20210: ST_TO_ADDR
// case narodnost of 1 :
20211: LD_VAR 0 3
20215: PUSH
20216: LD_INT 1
20218: DOUBLE
20219: EQUAL
20220: IFTRUE 20224
20222: GO 20333
20224: POP
// begin pbudovy = [ 10 , 3 ] ;
20225: LD_ADDR_VAR 0 5
20229: PUSH
20230: LD_INT 10
20232: PUSH
20233: LD_INT 3
20235: PUSH
20236: EMPTY
20237: LIST
20238: LIST
20239: ST_TO_ADDR
// for i in pbudovy do
20240: LD_ADDR_VAR 0 6
20244: PUSH
20245: LD_VAR 0 5
20249: PUSH
20250: FOR_IN
20251: IFFALSE 20272
// EnableBuilding ( i , side , state_enabled ) ;
20253: LD_VAR 0 6
20257: PPUSH
20258: LD_VAR 0 1
20262: PPUSH
20263: LD_INT 1
20265: PPUSH
20266: CALL 22504 0 3
20270: GO 20250
20272: POP
20273: POP
// ptech = [ 1 , 47 , 69 , 2 ] ;
20274: LD_ADDR_VAR 0 4
20278: PUSH
20279: LD_INT 1
20281: PUSH
20282: LD_INT 47
20284: PUSH
20285: LD_INT 69
20287: PUSH
20288: LD_INT 2
20290: PUSH
20291: EMPTY
20292: LIST
20293: LIST
20294: LIST
20295: LIST
20296: ST_TO_ADDR
// for i in ptech do
20297: LD_ADDR_VAR 0 6
20301: PUSH
20302: LD_VAR 0 4
20306: PUSH
20307: FOR_IN
20308: IFFALSE 20329
// EnableTech ( i , side , state_enabled ) ;
20310: LD_VAR 0 6
20314: PPUSH
20315: LD_VAR 0 1
20319: PPUSH
20320: LD_INT 1
20322: PPUSH
20323: CALL 22425 0 3
20327: GO 20307
20329: POP
20330: POP
// end ; 2 :
20331: GO 20564
20333: LD_INT 2
20335: DOUBLE
20336: EQUAL
20337: IFTRUE 20341
20339: GO 20450
20341: POP
// begin pbudovy = [ 10 , 3 ] ;
20342: LD_ADDR_VAR 0 5
20346: PUSH
20347: LD_INT 10
20349: PUSH
20350: LD_INT 3
20352: PUSH
20353: EMPTY
20354: LIST
20355: LIST
20356: ST_TO_ADDR
// for i in pbudovy do
20357: LD_ADDR_VAR 0 6
20361: PUSH
20362: LD_VAR 0 5
20366: PUSH
20367: FOR_IN
20368: IFFALSE 20389
// EnableBuilding ( i , side , state_enabled ) ;
20370: LD_VAR 0 6
20374: PPUSH
20375: LD_VAR 0 1
20379: PPUSH
20380: LD_INT 1
20382: PPUSH
20383: CALL 22504 0 3
20387: GO 20367
20389: POP
20390: POP
// ptech = [ 1 , 47 , 69 , 11 ] ;
20391: LD_ADDR_VAR 0 4
20395: PUSH
20396: LD_INT 1
20398: PUSH
20399: LD_INT 47
20401: PUSH
20402: LD_INT 69
20404: PUSH
20405: LD_INT 11
20407: PUSH
20408: EMPTY
20409: LIST
20410: LIST
20411: LIST
20412: LIST
20413: ST_TO_ADDR
// for i in ptech do
20414: LD_ADDR_VAR 0 6
20418: PUSH
20419: LD_VAR 0 4
20423: PUSH
20424: FOR_IN
20425: IFFALSE 20446
// EnableTech ( i , side , state_enabled ) ;
20427: LD_VAR 0 6
20431: PPUSH
20432: LD_VAR 0 1
20436: PPUSH
20437: LD_INT 1
20439: PPUSH
20440: CALL 22425 0 3
20444: GO 20424
20446: POP
20447: POP
// end ; 3 :
20448: GO 20564
20450: LD_INT 3
20452: DOUBLE
20453: EQUAL
20454: IFTRUE 20458
20456: GO 20563
20458: POP
// begin pbudovy = [ 10 ] ;
20459: LD_ADDR_VAR 0 5
20463: PUSH
20464: LD_INT 10
20466: PUSH
20467: EMPTY
20468: LIST
20469: ST_TO_ADDR
// for i in pbudovy do
20470: LD_ADDR_VAR 0 6
20474: PUSH
20475: LD_VAR 0 5
20479: PUSH
20480: FOR_IN
20481: IFFALSE 20502
// EnableBuilding ( i , side , state_enabled ) ;
20483: LD_VAR 0 6
20487: PPUSH
20488: LD_VAR 0 1
20492: PPUSH
20493: LD_INT 1
20495: PPUSH
20496: CALL 22504 0 3
20500: GO 20480
20502: POP
20503: POP
// ptech = [ 1 , 2 , 48 , 51 ] ;
20504: LD_ADDR_VAR 0 4
20508: PUSH
20509: LD_INT 1
20511: PUSH
20512: LD_INT 2
20514: PUSH
20515: LD_INT 48
20517: PUSH
20518: LD_INT 51
20520: PUSH
20521: EMPTY
20522: LIST
20523: LIST
20524: LIST
20525: LIST
20526: ST_TO_ADDR
// for i in ptech do
20527: LD_ADDR_VAR 0 6
20531: PUSH
20532: LD_VAR 0 4
20536: PUSH
20537: FOR_IN
20538: IFFALSE 20559
// EnableTech ( i , side , state_enabled ) ;
20540: LD_VAR 0 6
20544: PPUSH
20545: LD_VAR 0 1
20549: PPUSH
20550: LD_INT 1
20552: PPUSH
20553: CALL 22425 0 3
20557: GO 20537
20559: POP
20560: POP
// end ; end ;
20561: GO 20564
20563: POP
// Tech_Level = 2 ;
20564: LD_ADDR_EXP 56
20568: PUSH
20569: LD_INT 2
20571: ST_TO_ADDR
// end ;
20572: LD_VAR 0 2
20576: RET
// function ur_3 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
20577: LD_INT 0
20579: PPUSH
20580: PPUSH
20581: PPUSH
20582: PPUSH
20583: PPUSH
// narodnost := Side_Nations [ side ] ;
20584: LD_ADDR_VAR 0 3
20588: PUSH
20589: LD_EXP 75
20593: PUSH
20594: LD_VAR 0 1
20598: ARRAY
20599: ST_TO_ADDR
// case narodnost of 1 :
20600: LD_VAR 0 3
20604: PUSH
20605: LD_INT 1
20607: DOUBLE
20608: EQUAL
20609: IFTRUE 20613
20611: GO 20738
20613: POP
// begin pbudovy = [ 32 , 19 , 5 , 16 , 15 ] ;
20614: LD_ADDR_VAR 0 5
20618: PUSH
20619: LD_INT 32
20621: PUSH
20622: LD_INT 19
20624: PUSH
20625: LD_INT 5
20627: PUSH
20628: LD_INT 16
20630: PUSH
20631: LD_INT 15
20633: PUSH
20634: EMPTY
20635: LIST
20636: LIST
20637: LIST
20638: LIST
20639: LIST
20640: ST_TO_ADDR
// for i in pbudovy do
20641: LD_ADDR_VAR 0 6
20645: PUSH
20646: LD_VAR 0 5
20650: PUSH
20651: FOR_IN
20652: IFFALSE 20673
// EnableBuilding ( i , side , state_enabled ) ;
20654: LD_VAR 0 6
20658: PPUSH
20659: LD_VAR 0 1
20663: PPUSH
20664: LD_INT 1
20666: PPUSH
20667: CALL 22504 0 3
20671: GO 20651
20673: POP
20674: POP
// ptech = [ 39 , 49 , 6 , 12 , 51 ] ;
20675: LD_ADDR_VAR 0 4
20679: PUSH
20680: LD_INT 39
20682: PUSH
20683: LD_INT 49
20685: PUSH
20686: LD_INT 6
20688: PUSH
20689: LD_INT 12
20691: PUSH
20692: LD_INT 51
20694: PUSH
20695: EMPTY
20696: LIST
20697: LIST
20698: LIST
20699: LIST
20700: LIST
20701: ST_TO_ADDR
// for i in ptech do
20702: LD_ADDR_VAR 0 6
20706: PUSH
20707: LD_VAR 0 4
20711: PUSH
20712: FOR_IN
20713: IFFALSE 20734
// EnableTech ( i , side , state_enabled ) ;
20715: LD_VAR 0 6
20719: PPUSH
20720: LD_VAR 0 1
20724: PPUSH
20725: LD_INT 1
20727: PPUSH
20728: CALL 22425 0 3
20732: GO 20712
20734: POP
20735: POP
// end ; 2 :
20736: GO 21025
20738: LD_INT 2
20740: DOUBLE
20741: EQUAL
20742: IFTRUE 20746
20744: GO 20879
20746: POP
// begin pbudovy = [ 32 , 23 , 5 , 16 , 15 ] ;
20747: LD_ADDR_VAR 0 5
20751: PUSH
20752: LD_INT 32
20754: PUSH
20755: LD_INT 23
20757: PUSH
20758: LD_INT 5
20760: PUSH
20761: LD_INT 16
20763: PUSH
20764: LD_INT 15
20766: PUSH
20767: EMPTY
20768: LIST
20769: LIST
20770: LIST
20771: LIST
20772: LIST
20773: ST_TO_ADDR
// for i in pbudovy do
20774: LD_ADDR_VAR 0 6
20778: PUSH
20779: LD_VAR 0 5
20783: PUSH
20784: FOR_IN
20785: IFFALSE 20806
// EnableBuilding ( i , side , state_enabled ) ;
20787: LD_VAR 0 6
20791: PPUSH
20792: LD_VAR 0 1
20796: PPUSH
20797: LD_INT 1
20799: PPUSH
20800: CALL 22504 0 3
20804: GO 20784
20806: POP
20807: POP
// ptech = [ 39 , 49 , 6 , 51 , 17 , 42 , 70 ] ;
20808: LD_ADDR_VAR 0 4
20812: PUSH
20813: LD_INT 39
20815: PUSH
20816: LD_INT 49
20818: PUSH
20819: LD_INT 6
20821: PUSH
20822: LD_INT 51
20824: PUSH
20825: LD_INT 17
20827: PUSH
20828: LD_INT 42
20830: PUSH
20831: LD_INT 70
20833: PUSH
20834: EMPTY
20835: LIST
20836: LIST
20837: LIST
20838: LIST
20839: LIST
20840: LIST
20841: LIST
20842: ST_TO_ADDR
// for i in ptech do
20843: LD_ADDR_VAR 0 6
20847: PUSH
20848: LD_VAR 0 4
20852: PUSH
20853: FOR_IN
20854: IFFALSE 20875
// EnableTech ( i , side , state_enabled ) ;
20856: LD_VAR 0 6
20860: PPUSH
20861: LD_VAR 0 1
20865: PPUSH
20866: LD_INT 1
20868: PPUSH
20869: CALL 22425 0 3
20873: GO 20853
20875: POP
20876: POP
// end ; 3 :
20877: GO 21025
20879: LD_INT 3
20881: DOUBLE
20882: EQUAL
20883: IFTRUE 20887
20885: GO 21024
20887: POP
// begin pbudovy = [ 3 , 32 , 19 , 5 , 14 , 30 ] ;
20888: LD_ADDR_VAR 0 5
20892: PUSH
20893: LD_INT 3
20895: PUSH
20896: LD_INT 32
20898: PUSH
20899: LD_INT 19
20901: PUSH
20902: LD_INT 5
20904: PUSH
20905: LD_INT 14
20907: PUSH
20908: LD_INT 30
20910: PUSH
20911: EMPTY
20912: LIST
20913: LIST
20914: LIST
20915: LIST
20916: LIST
20917: LIST
20918: ST_TO_ADDR
// for i in pbudovy do
20919: LD_ADDR_VAR 0 6
20923: PUSH
20924: LD_VAR 0 5
20928: PUSH
20929: FOR_IN
20930: IFFALSE 20951
// EnableBuilding ( i , side , state_enabled ) ;
20932: LD_VAR 0 6
20936: PPUSH
20937: LD_VAR 0 1
20941: PPUSH
20942: LD_INT 1
20944: PPUSH
20945: CALL 22504 0 3
20949: GO 20929
20951: POP
20952: POP
// ptech = [ 39 , 49 , 69 , 40 , 30 , 11 , 20 ] ;
20953: LD_ADDR_VAR 0 4
20957: PUSH
20958: LD_INT 39
20960: PUSH
20961: LD_INT 49
20963: PUSH
20964: LD_INT 69
20966: PUSH
20967: LD_INT 40
20969: PUSH
20970: LD_INT 30
20972: PUSH
20973: LD_INT 11
20975: PUSH
20976: LD_INT 20
20978: PUSH
20979: EMPTY
20980: LIST
20981: LIST
20982: LIST
20983: LIST
20984: LIST
20985: LIST
20986: LIST
20987: ST_TO_ADDR
// for i in ptech do
20988: LD_ADDR_VAR 0 6
20992: PUSH
20993: LD_VAR 0 4
20997: PUSH
20998: FOR_IN
20999: IFFALSE 21020
// EnableTech ( i , side , state_enabled ) ;
21001: LD_VAR 0 6
21005: PPUSH
21006: LD_VAR 0 1
21010: PPUSH
21011: LD_INT 1
21013: PPUSH
21014: CALL 22425 0 3
21018: GO 20998
21020: POP
21021: POP
// end ; end ;
21022: GO 21025
21024: POP
// Tech_Level = 3 ;
21025: LD_ADDR_EXP 56
21029: PUSH
21030: LD_INT 3
21032: ST_TO_ADDR
// end ;
21033: LD_VAR 0 2
21037: RET
// function ur_4 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
21038: LD_INT 0
21040: PPUSH
21041: PPUSH
21042: PPUSH
21043: PPUSH
21044: PPUSH
// narodnost := Side_Nations [ side ] ;
21045: LD_ADDR_VAR 0 3
21049: PUSH
21050: LD_EXP 75
21054: PUSH
21055: LD_VAR 0 1
21059: ARRAY
21060: ST_TO_ADDR
// case narodnost of 1 :
21061: LD_VAR 0 3
21065: PUSH
21066: LD_INT 1
21068: DOUBLE
21069: EQUAL
21070: IFTRUE 21074
21072: GO 21211
21074: POP
// begin pbudovy = [ 30 , 12 , 11 , 1 ] ;
21075: LD_ADDR_VAR 0 5
21079: PUSH
21080: LD_INT 30
21082: PUSH
21083: LD_INT 12
21085: PUSH
21086: LD_INT 11
21088: PUSH
21089: LD_INT 1
21091: PUSH
21092: EMPTY
21093: LIST
21094: LIST
21095: LIST
21096: LIST
21097: ST_TO_ADDR
// for i in pbudovy do
21098: LD_ADDR_VAR 0 6
21102: PUSH
21103: LD_VAR 0 5
21107: PUSH
21108: FOR_IN
21109: IFFALSE 21130
// EnableBuilding ( i , side , state_enabled ) ;
21111: LD_VAR 0 6
21115: PPUSH
21116: LD_VAR 0 1
21120: PPUSH
21121: LD_INT 1
21123: PPUSH
21124: CALL 22504 0 3
21128: GO 21108
21130: POP
21131: POP
// ptech = [ 21 , 22 , 7 , 20 , 32 , 40 , 10 , 60 , 52 ] ;
21132: LD_ADDR_VAR 0 4
21136: PUSH
21137: LD_INT 21
21139: PUSH
21140: LD_INT 22
21142: PUSH
21143: LD_INT 7
21145: PUSH
21146: LD_INT 20
21148: PUSH
21149: LD_INT 32
21151: PUSH
21152: LD_INT 40
21154: PUSH
21155: LD_INT 10
21157: PUSH
21158: LD_INT 60
21160: PUSH
21161: LD_INT 52
21163: PUSH
21164: EMPTY
21165: LIST
21166: LIST
21167: LIST
21168: LIST
21169: LIST
21170: LIST
21171: LIST
21172: LIST
21173: LIST
21174: ST_TO_ADDR
// for i in ptech do
21175: LD_ADDR_VAR 0 6
21179: PUSH
21180: LD_VAR 0 4
21184: PUSH
21185: FOR_IN
21186: IFFALSE 21207
// EnableTech ( i , side , state_enabled ) ;
21188: LD_VAR 0 6
21192: PPUSH
21193: LD_VAR 0 1
21197: PPUSH
21198: LD_INT 1
21200: PPUSH
21201: CALL 22425 0 3
21205: GO 21185
21207: POP
21208: POP
// end ; 2 :
21209: GO 21502
21211: LD_INT 2
21213: DOUBLE
21214: EQUAL
21215: IFTRUE 21219
21217: GO 21360
21219: POP
// begin pbudovy = [ 30 , 11 , 13 , 1 ] ;
21220: LD_ADDR_VAR 0 5
21224: PUSH
21225: LD_INT 30
21227: PUSH
21228: LD_INT 11
21230: PUSH
21231: LD_INT 13
21233: PUSH
21234: LD_INT 1
21236: PUSH
21237: EMPTY
21238: LIST
21239: LIST
21240: LIST
21241: LIST
21242: ST_TO_ADDR
// for i in pbudovy do
21243: LD_ADDR_VAR 0 6
21247: PUSH
21248: LD_VAR 0 5
21252: PUSH
21253: FOR_IN
21254: IFFALSE 21275
// EnableBuilding ( i , side , state_enabled ) ;
21256: LD_VAR 0 6
21260: PPUSH
21261: LD_VAR 0 1
21265: PPUSH
21266: LD_INT 1
21268: PPUSH
21269: CALL 22504 0 3
21273: GO 21253
21275: POP
21276: POP
// ptech = [ 21 , 22 , 3 , 5 , 7 , 60 , 40 , 41 , 20 , 52 ] ;
21277: LD_ADDR_VAR 0 4
21281: PUSH
21282: LD_INT 21
21284: PUSH
21285: LD_INT 22
21287: PUSH
21288: LD_INT 3
21290: PUSH
21291: LD_INT 5
21293: PUSH
21294: LD_INT 7
21296: PUSH
21297: LD_INT 60
21299: PUSH
21300: LD_INT 40
21302: PUSH
21303: LD_INT 41
21305: PUSH
21306: LD_INT 20
21308: PUSH
21309: LD_INT 52
21311: PUSH
21312: EMPTY
21313: LIST
21314: LIST
21315: LIST
21316: LIST
21317: LIST
21318: LIST
21319: LIST
21320: LIST
21321: LIST
21322: LIST
21323: ST_TO_ADDR
// for i in ptech do
21324: LD_ADDR_VAR 0 6
21328: PUSH
21329: LD_VAR 0 4
21333: PUSH
21334: FOR_IN
21335: IFFALSE 21356
// EnableTech ( i , side , state_enabled ) ;
21337: LD_VAR 0 6
21341: PPUSH
21342: LD_VAR 0 1
21346: PPUSH
21347: LD_INT 1
21349: PPUSH
21350: CALL 22425 0 3
21354: GO 21334
21356: POP
21357: POP
// end ; 3 :
21358: GO 21502
21360: LD_INT 3
21362: DOUBLE
21363: EQUAL
21364: IFTRUE 21368
21366: GO 21501
21368: POP
// begin pbudovy = [ 12 , 11 , 16 , 1 ] ;
21369: LD_ADDR_VAR 0 5
21373: PUSH
21374: LD_INT 12
21376: PUSH
21377: LD_INT 11
21379: PUSH
21380: LD_INT 16
21382: PUSH
21383: LD_INT 1
21385: PUSH
21386: EMPTY
21387: LIST
21388: LIST
21389: LIST
21390: LIST
21391: ST_TO_ADDR
// for i in pbudovy do
21392: LD_ADDR_VAR 0 6
21396: PUSH
21397: LD_VAR 0 5
21401: PUSH
21402: FOR_IN
21403: IFFALSE 21424
// EnableBuilding ( i , side , state_enabled ) ;
21405: LD_VAR 0 6
21409: PPUSH
21410: LD_VAR 0 1
21414: PPUSH
21415: LD_INT 1
21417: PPUSH
21418: CALL 22504 0 3
21422: GO 21402
21424: POP
21425: POP
// ptech = [ 21 , 22 , 44 , 9 , 37 , 32 , 63 , 52 ] ;
21426: LD_ADDR_VAR 0 4
21430: PUSH
21431: LD_INT 21
21433: PUSH
21434: LD_INT 22
21436: PUSH
21437: LD_INT 44
21439: PUSH
21440: LD_INT 9
21442: PUSH
21443: LD_INT 37
21445: PUSH
21446: LD_INT 32
21448: PUSH
21449: LD_INT 63
21451: PUSH
21452: LD_INT 52
21454: PUSH
21455: EMPTY
21456: LIST
21457: LIST
21458: LIST
21459: LIST
21460: LIST
21461: LIST
21462: LIST
21463: LIST
21464: ST_TO_ADDR
// for i in ptech do
21465: LD_ADDR_VAR 0 6
21469: PUSH
21470: LD_VAR 0 4
21474: PUSH
21475: FOR_IN
21476: IFFALSE 21497
// EnableTech ( i , side , state_enabled ) ;
21478: LD_VAR 0 6
21482: PPUSH
21483: LD_VAR 0 1
21487: PPUSH
21488: LD_INT 1
21490: PPUSH
21491: CALL 22425 0 3
21495: GO 21475
21497: POP
21498: POP
// end ; end ;
21499: GO 21502
21501: POP
// Tech_Level = 4 ;
21502: LD_ADDR_EXP 56
21506: PUSH
21507: LD_INT 4
21509: ST_TO_ADDR
// end ;
21510: LD_VAR 0 2
21514: RET
// function ur_5 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
21515: LD_INT 0
21517: PPUSH
21518: PPUSH
21519: PPUSH
21520: PPUSH
21521: PPUSH
// narodnost := Side_Nations [ side ] ;
21522: LD_ADDR_VAR 0 3
21526: PUSH
21527: LD_EXP 75
21531: PUSH
21532: LD_VAR 0 1
21536: ARRAY
21537: ST_TO_ADDR
// case narodnost of 1 :
21538: LD_VAR 0 3
21542: PUSH
21543: LD_INT 1
21545: DOUBLE
21546: EQUAL
21547: IFTRUE 21551
21549: GO 21623
21551: POP
// begin ptech = [ 50 , 54 , 15 , 13 , 34 , 36 , 57 ] ;
21552: LD_ADDR_VAR 0 4
21556: PUSH
21557: LD_INT 50
21559: PUSH
21560: LD_INT 54
21562: PUSH
21563: LD_INT 15
21565: PUSH
21566: LD_INT 13
21568: PUSH
21569: LD_INT 34
21571: PUSH
21572: LD_INT 36
21574: PUSH
21575: LD_INT 57
21577: PUSH
21578: EMPTY
21579: LIST
21580: LIST
21581: LIST
21582: LIST
21583: LIST
21584: LIST
21585: LIST
21586: ST_TO_ADDR
// for i in ptech do
21587: LD_ADDR_VAR 0 6
21591: PUSH
21592: LD_VAR 0 4
21596: PUSH
21597: FOR_IN
21598: IFFALSE 21619
// EnableTech ( i , side , state_enabled ) ;
21600: LD_VAR 0 6
21604: PPUSH
21605: LD_VAR 0 1
21609: PPUSH
21610: LD_INT 1
21612: PPUSH
21613: CALL 22425 0 3
21617: GO 21597
21619: POP
21620: POP
// end ; 2 :
21621: GO 21796
21623: LD_INT 2
21625: DOUBLE
21626: EQUAL
21627: IFTRUE 21631
21629: GO 21703
21631: POP
// begin ptech = [ 50 , 54 , 66 , 18 , 15 , 43 , 26 , ] ;
21632: LD_ADDR_VAR 0 4
21636: PUSH
21637: LD_INT 50
21639: PUSH
21640: LD_INT 54
21642: PUSH
21643: LD_INT 66
21645: PUSH
21646: LD_INT 18
21648: PUSH
21649: LD_INT 15
21651: PUSH
21652: LD_INT 43
21654: PUSH
21655: LD_INT 26
21657: PUSH
21658: EMPTY
21659: LIST
21660: LIST
21661: LIST
21662: LIST
21663: LIST
21664: LIST
21665: LIST
21666: ST_TO_ADDR
// for i in ptech do
21667: LD_ADDR_VAR 0 6
21671: PUSH
21672: LD_VAR 0 4
21676: PUSH
21677: FOR_IN
21678: IFFALSE 21699
// EnableTech ( i , side , state_enabled ) ;
21680: LD_VAR 0 6
21684: PPUSH
21685: LD_VAR 0 1
21689: PPUSH
21690: LD_INT 1
21692: PPUSH
21693: CALL 22425 0 3
21697: GO 21677
21699: POP
21700: POP
// end ; 3 :
21701: GO 21796
21703: LD_INT 3
21705: DOUBLE
21706: EQUAL
21707: IFTRUE 21711
21709: GO 21795
21711: POP
// begin ptech = [ 50 , 54 , 57 , 29 , 28 , 33 , 34 , 19 , 27 , 38 ] ;
21712: LD_ADDR_VAR 0 4
21716: PUSH
21717: LD_INT 50
21719: PUSH
21720: LD_INT 54
21722: PUSH
21723: LD_INT 57
21725: PUSH
21726: LD_INT 29
21728: PUSH
21729: LD_INT 28
21731: PUSH
21732: LD_INT 33
21734: PUSH
21735: LD_INT 34
21737: PUSH
21738: LD_INT 19
21740: PUSH
21741: LD_INT 27
21743: PUSH
21744: LD_INT 38
21746: PUSH
21747: EMPTY
21748: LIST
21749: LIST
21750: LIST
21751: LIST
21752: LIST
21753: LIST
21754: LIST
21755: LIST
21756: LIST
21757: LIST
21758: ST_TO_ADDR
// for i in ptech do
21759: LD_ADDR_VAR 0 6
21763: PUSH
21764: LD_VAR 0 4
21768: PUSH
21769: FOR_IN
21770: IFFALSE 21791
// EnableTech ( i , side , state_enabled ) ;
21772: LD_VAR 0 6
21776: PPUSH
21777: LD_VAR 0 1
21781: PPUSH
21782: LD_INT 1
21784: PPUSH
21785: CALL 22425 0 3
21789: GO 21769
21791: POP
21792: POP
// end ; end ;
21793: GO 21796
21795: POP
// Tech_Level = 5 ;
21796: LD_ADDR_EXP 56
21800: PUSH
21801: LD_INT 5
21803: ST_TO_ADDR
// end ;
21804: LD_VAR 0 2
21808: RET
// function ur_6 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
21809: LD_INT 0
21811: PPUSH
21812: PPUSH
21813: PPUSH
21814: PPUSH
21815: PPUSH
// narodnost := Side_Nations [ side ] ;
21816: LD_ADDR_VAR 0 3
21820: PUSH
21821: LD_EXP 75
21825: PUSH
21826: LD_VAR 0 1
21830: ARRAY
21831: ST_TO_ADDR
// case narodnost of 1 :
21832: LD_VAR 0 3
21836: PUSH
21837: LD_INT 1
21839: DOUBLE
21840: EQUAL
21841: IFTRUE 21845
21843: GO 21913
21845: POP
// begin ptech = [ 53 , 55 , 16 , 61 , 58 , 27 ] ;
21846: LD_ADDR_VAR 0 4
21850: PUSH
21851: LD_INT 53
21853: PUSH
21854: LD_INT 55
21856: PUSH
21857: LD_INT 16
21859: PUSH
21860: LD_INT 61
21862: PUSH
21863: LD_INT 58
21865: PUSH
21866: LD_INT 27
21868: PUSH
21869: EMPTY
21870: LIST
21871: LIST
21872: LIST
21873: LIST
21874: LIST
21875: LIST
21876: ST_TO_ADDR
// for i in ptech do
21877: LD_ADDR_VAR 0 6
21881: PUSH
21882: LD_VAR 0 4
21886: PUSH
21887: FOR_IN
21888: IFFALSE 21909
// EnableTech ( i , side , state_enabled ) ;
21890: LD_VAR 0 6
21894: PPUSH
21895: LD_VAR 0 1
21899: PPUSH
21900: LD_INT 1
21902: PPUSH
21903: CALL 22425 0 3
21907: GO 21887
21909: POP
21910: POP
// end ; 2 :
21911: GO 22066
21913: LD_INT 2
21915: DOUBLE
21916: EQUAL
21917: IFTRUE 21921
21919: GO 21989
21921: POP
// begin ptech = [ 53 , 55 , 61 , 67 , 4 , 8 ] ;
21922: LD_ADDR_VAR 0 4
21926: PUSH
21927: LD_INT 53
21929: PUSH
21930: LD_INT 55
21932: PUSH
21933: LD_INT 61
21935: PUSH
21936: LD_INT 67
21938: PUSH
21939: LD_INT 4
21941: PUSH
21942: LD_INT 8
21944: PUSH
21945: EMPTY
21946: LIST
21947: LIST
21948: LIST
21949: LIST
21950: LIST
21951: LIST
21952: ST_TO_ADDR
// for i in ptech do
21953: LD_ADDR_VAR 0 6
21957: PUSH
21958: LD_VAR 0 4
21962: PUSH
21963: FOR_IN
21964: IFFALSE 21985
// EnableTech ( i , side , state_enabled ) ;
21966: LD_VAR 0 6
21970: PPUSH
21971: LD_VAR 0 1
21975: PPUSH
21976: LD_INT 1
21978: PPUSH
21979: CALL 22425 0 3
21983: GO 21963
21985: POP
21986: POP
// end ; 3 :
21987: GO 22066
21989: LD_INT 3
21991: DOUBLE
21992: EQUAL
21993: IFTRUE 21997
21995: GO 22065
21997: POP
// begin ptech = [ 53 , 55 , 58 , 64 , 71 , 31 ] ;
21998: LD_ADDR_VAR 0 4
22002: PUSH
22003: LD_INT 53
22005: PUSH
22006: LD_INT 55
22008: PUSH
22009: LD_INT 58
22011: PUSH
22012: LD_INT 64
22014: PUSH
22015: LD_INT 71
22017: PUSH
22018: LD_INT 31
22020: PUSH
22021: EMPTY
22022: LIST
22023: LIST
22024: LIST
22025: LIST
22026: LIST
22027: LIST
22028: ST_TO_ADDR
// for i in ptech do
22029: LD_ADDR_VAR 0 6
22033: PUSH
22034: LD_VAR 0 4
22038: PUSH
22039: FOR_IN
22040: IFFALSE 22061
// EnableTech ( i , side , state_enabled ) ;
22042: LD_VAR 0 6
22046: PPUSH
22047: LD_VAR 0 1
22051: PPUSH
22052: LD_INT 1
22054: PPUSH
22055: CALL 22425 0 3
22059: GO 22039
22061: POP
22062: POP
// end ; end ;
22063: GO 22066
22065: POP
// Tech_Level = 6 ;
22066: LD_ADDR_EXP 56
22070: PUSH
22071: LD_INT 6
22073: ST_TO_ADDR
// end ;
22074: LD_VAR 0 2
22078: RET
// function ur_7 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
22079: LD_INT 0
22081: PPUSH
22082: PPUSH
22083: PPUSH
22084: PPUSH
22085: PPUSH
// narodnost := Side_Nations [ side ] ;
22086: LD_ADDR_VAR 0 3
22090: PUSH
22091: LD_EXP 75
22095: PUSH
22096: LD_VAR 0 1
22100: ARRAY
22101: ST_TO_ADDR
// case narodnost of 1 :
22102: LD_VAR 0 3
22106: PUSH
22107: LD_INT 1
22109: DOUBLE
22110: EQUAL
22111: IFTRUE 22115
22113: GO 22175
22115: POP
// begin ptech = [ 56 , 62 , 59 , 14 ] ;
22116: LD_ADDR_VAR 0 4
22120: PUSH
22121: LD_INT 56
22123: PUSH
22124: LD_INT 62
22126: PUSH
22127: LD_INT 59
22129: PUSH
22130: LD_INT 14
22132: PUSH
22133: EMPTY
22134: LIST
22135: LIST
22136: LIST
22137: LIST
22138: ST_TO_ADDR
// for i in ptech do
22139: LD_ADDR_VAR 0 6
22143: PUSH
22144: LD_VAR 0 4
22148: PUSH
22149: FOR_IN
22150: IFFALSE 22171
// EnableTech ( i , side , state_enabled ) ;
22152: LD_VAR 0 6
22156: PPUSH
22157: LD_VAR 0 1
22161: PPUSH
22162: LD_INT 1
22164: PPUSH
22165: CALL 22425 0 3
22169: GO 22149
22171: POP
22172: POP
// end ; 2 :
22173: GO 22312
22175: LD_INT 2
22177: DOUBLE
22178: EQUAL
22179: IFTRUE 22183
22181: GO 22243
22183: POP
// begin ptech = [ 56 , 62 , 68 , 72 ] ;
22184: LD_ADDR_VAR 0 4
22188: PUSH
22189: LD_INT 56
22191: PUSH
22192: LD_INT 62
22194: PUSH
22195: LD_INT 68
22197: PUSH
22198: LD_INT 72
22200: PUSH
22201: EMPTY
22202: LIST
22203: LIST
22204: LIST
22205: LIST
22206: ST_TO_ADDR
// for i in ptech do
22207: LD_ADDR_VAR 0 6
22211: PUSH
22212: LD_VAR 0 4
22216: PUSH
22217: FOR_IN
22218: IFFALSE 22239
// EnableTech ( i , side , state_enabled ) ;
22220: LD_VAR 0 6
22224: PPUSH
22225: LD_VAR 0 1
22229: PPUSH
22230: LD_INT 1
22232: PPUSH
22233: CALL 22425 0 3
22237: GO 22217
22239: POP
22240: POP
// end ; 3 :
22241: GO 22312
22243: LD_INT 3
22245: DOUBLE
22246: EQUAL
22247: IFTRUE 22251
22249: GO 22311
22251: POP
// begin ptech = [ 56 , 59 , 65 , 23 ] ;
22252: LD_ADDR_VAR 0 4
22256: PUSH
22257: LD_INT 56
22259: PUSH
22260: LD_INT 59
22262: PUSH
22263: LD_INT 65
22265: PUSH
22266: LD_INT 23
22268: PUSH
22269: EMPTY
22270: LIST
22271: LIST
22272: LIST
22273: LIST
22274: ST_TO_ADDR
// for i in ptech do
22275: LD_ADDR_VAR 0 6
22279: PUSH
22280: LD_VAR 0 4
22284: PUSH
22285: FOR_IN
22286: IFFALSE 22307
// EnableTech ( i , side , state_enabled ) ;
22288: LD_VAR 0 6
22292: PPUSH
22293: LD_VAR 0 1
22297: PPUSH
22298: LD_INT 1
22300: PPUSH
22301: CALL 22425 0 3
22305: GO 22285
22307: POP
22308: POP
// end ; end ;
22309: GO 22312
22311: POP
// Tech_Level = 7 ;
22312: LD_ADDR_EXP 56
22316: PUSH
22317: LD_INT 7
22319: ST_TO_ADDR
// end ;
22320: LD_VAR 0 2
22324: RET
// function ur_8 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
22325: LD_INT 0
22327: PPUSH
22328: PPUSH
22329: PPUSH
22330: PPUSH
22331: PPUSH
// narodnost := Side_Nations [ side ] ;
22332: LD_ADDR_VAR 0 3
22336: PUSH
22337: LD_EXP 75
22341: PUSH
22342: LD_VAR 0 1
22346: ARRAY
22347: ST_TO_ADDR
// case narodnost of 1 , 3 :
22348: LD_VAR 0 3
22352: PUSH
22353: LD_INT 1
22355: DOUBLE
22356: EQUAL
22357: IFTRUE 22367
22359: LD_INT 3
22361: DOUBLE
22362: EQUAL
22363: IFTRUE 22367
22365: GO 22385
22367: POP
// EnableTech ( 25 , side , state_enabled ) ; 2 :
22368: LD_INT 25
22370: PPUSH
22371: LD_VAR 0 1
22375: PPUSH
22376: LD_INT 1
22378: PPUSH
22379: CALL 22425 0 3
22383: GO 22412
22385: LD_INT 2
22387: DOUBLE
22388: EQUAL
22389: IFTRUE 22393
22391: GO 22411
22393: POP
// EnableTech ( 73 , side , state_enabled ) ; end ;
22394: LD_INT 73
22396: PPUSH
22397: LD_VAR 0 1
22401: PPUSH
22402: LD_INT 1
22404: PPUSH
22405: CALL 22425 0 3
22409: GO 22412
22411: POP
// Tech_Level = 8 ;
22412: LD_ADDR_EXP 56
22416: PUSH
22417: LD_INT 8
22419: ST_TO_ADDR
// end ;
22420: LD_VAR 0 2
22424: RET
// function EnableTech ( id , side , state ) ; begin
22425: LD_INT 0
22427: PPUSH
// if state in [ state_enabled , state_researched ] then
22428: LD_VAR 0 3
22432: PUSH
22433: LD_INT 1
22435: PUSH
22436: LD_INT 2
22438: PUSH
22439: EMPTY
22440: LIST
22441: LIST
22442: IN
22443: IFFALSE 22480
// begin if GetRestrictions ( false , id ) then
22445: LD_INT 0
22447: PPUSH
22448: LD_VAR 0 1
22452: PPUSH
22453: CALL_OW 565
22457: IFFALSE 22478
// SetTech ( id , side , state ) ;
22459: LD_VAR 0 1
22463: PPUSH
22464: LD_VAR 0 2
22468: PPUSH
22469: LD_VAR 0 3
22473: PPUSH
22474: CALL_OW 322
// end else
22478: GO 22499
// setTech ( id , side , state ) ;
22480: LD_VAR 0 1
22484: PPUSH
22485: LD_VAR 0 2
22489: PPUSH
22490: LD_VAR 0 3
22494: PPUSH
22495: CALL_OW 322
// end ;
22499: LD_VAR 0 4
22503: RET
// function EnableBuilding ( id , side , state ) ; begin
22504: LD_INT 0
22506: PPUSH
// if state in [ state_enabled ] then
22507: LD_VAR 0 3
22511: PUSH
22512: LD_INT 1
22514: PUSH
22515: EMPTY
22516: LIST
22517: IN
22518: IFFALSE 22555
// begin if GetRestrictions ( true , id ) then
22520: LD_INT 1
22522: PPUSH
22523: LD_VAR 0 1
22527: PPUSH
22528: CALL_OW 565
22532: IFFALSE 22553
// SetRestrict ( id , side , state ) ;
22534: LD_VAR 0 1
22538: PPUSH
22539: LD_VAR 0 2
22543: PPUSH
22544: LD_VAR 0 3
22548: PPUSH
22549: CALL_OW 324
// end else
22553: GO 22574
// SetRestrict ( id , side , state ) ;
22555: LD_VAR 0 1
22559: PPUSH
22560: LD_VAR 0 2
22564: PPUSH
22565: LD_VAR 0 3
22569: PPUSH
22570: CALL_OW 324
// end ; end_of_file
22574: LD_VAR 0 4
22578: RET
// var win ; export function init_kings_counting ; var i ; begin
22579: LD_INT 0
22581: PPUSH
22582: PPUSH
// mp_with_score := true ;
22583: LD_ADDR_OWVAR 14
22587: PUSH
22588: LD_INT 1
22590: ST_TO_ADDR
// ResetMultiScore ;
22591: CALL_OW 508
// SetAreaMapShow ( king_territory , true ) ;
22595: LD_EXP 91
22599: PPUSH
22600: LD_INT 1
22602: PPUSH
22603: CALL_OW 424
// enable ( 2 ) ;
22607: LD_INT 2
22609: ENABLE_MARKED
// end ;
22610: LD_VAR 0 1
22614: RET
// function show_public_points ; var side , vypis , i , red , blue , yel , green , p ; begin
22615: LD_INT 0
22617: PPUSH
22618: PPUSH
22619: PPUSH
22620: PPUSH
22621: PPUSH
22622: PPUSH
22623: PPUSH
22624: PPUSH
22625: PPUSH
// vypis := [ ] ;
22626: LD_ADDR_VAR 0 3
22630: PUSH
22631: EMPTY
22632: ST_TO_ADDR
// red = 0 ;
22633: LD_ADDR_VAR 0 5
22637: PUSH
22638: LD_INT 0
22640: ST_TO_ADDR
// blue = 0 ;
22641: LD_ADDR_VAR 0 6
22645: PUSH
22646: LD_INT 0
22648: ST_TO_ADDR
// yel = 0 ;
22649: LD_ADDR_VAR 0 7
22653: PUSH
22654: LD_INT 0
22656: ST_TO_ADDR
// green = 0 ;
22657: LD_ADDR_VAR 0 8
22661: PUSH
22662: LD_INT 0
22664: ST_TO_ADDR
// if def_public_score or isSGUI then
22665: LD_EXP 34
22669: PUSH
22670: LD_OWVAR 83
22674: OR
22675: IFFALSE 23272
// if not Team_Game then
22677: LD_EXP 79
22681: NOT
22682: IFFALSE 22804
// begin for side = 1 to Side_Positions do
22684: LD_ADDR_VAR 0 2
22688: PUSH
22689: DOUBLE
22690: LD_INT 1
22692: DEC
22693: ST_TO_ADDR
22694: LD_EXP 74
22698: PUSH
22699: FOR_TO
22700: IFFALSE 22800
// if Side_Positions [ side ] then
22702: LD_EXP 74
22706: PUSH
22707: LD_VAR 0 2
22711: ARRAY
22712: IFFALSE 22798
// begin vypis := vypis ^ [ #KingoftheHill-Public , side , side , ( GetTag ( side + 10 ) div 3 ) , final_count ] ;
22714: LD_ADDR_VAR 0 3
22718: PUSH
22719: LD_VAR 0 3
22723: PUSH
22724: LD_STRING #KingoftheHill-Public
22726: PUSH
22727: LD_VAR 0 2
22731: PUSH
22732: LD_VAR 0 2
22736: PUSH
22737: LD_VAR 0 2
22741: PUSH
22742: LD_INT 10
22744: PLUS
22745: PPUSH
22746: CALL_OW 110
22750: PUSH
22751: LD_INT 3
22753: DIV
22754: PUSH
22755: LD_EXP 57
22759: PUSH
22760: EMPTY
22761: LIST
22762: LIST
22763: LIST
22764: LIST
22765: LIST
22766: ADD
22767: ST_TO_ADDR
// LScore_Update_Points ( 2 , side , ( GetTag ( side + 10 ) div 3 ) ) ;
22768: LD_INT 2
22770: PPUSH
22771: LD_VAR 0 2
22775: PPUSH
22776: LD_VAR 0 2
22780: PUSH
22781: LD_INT 10
22783: PLUS
22784: PPUSH
22785: CALL_OW 110
22789: PUSH
22790: LD_INT 3
22792: DIV
22793: PPUSH
22794: CALL 36736 0 3
// end ;
22798: GO 22699
22800: POP
22801: POP
// end else
22802: GO 23270
// begin if Teams [ 1 ] then
22804: LD_EXP 72
22808: PUSH
22809: LD_INT 1
22811: ARRAY
22812: IFFALSE 22864
// for i in Teams [ 1 ] do
22814: LD_ADDR_VAR 0 4
22818: PUSH
22819: LD_EXP 72
22823: PUSH
22824: LD_INT 1
22826: ARRAY
22827: PUSH
22828: FOR_IN
22829: IFFALSE 22862
// red = red + ( GetTag ( i + 10 ) div 3 ) ;
22831: LD_ADDR_VAR 0 5
22835: PUSH
22836: LD_VAR 0 5
22840: PUSH
22841: LD_VAR 0 4
22845: PUSH
22846: LD_INT 10
22848: PLUS
22849: PPUSH
22850: CALL_OW 110
22854: PUSH
22855: LD_INT 3
22857: DIV
22858: PLUS
22859: ST_TO_ADDR
22860: GO 22828
22862: POP
22863: POP
// if Teams [ 2 ] then
22864: LD_EXP 72
22868: PUSH
22869: LD_INT 2
22871: ARRAY
22872: IFFALSE 22924
// for i in Teams [ 2 ] do
22874: LD_ADDR_VAR 0 4
22878: PUSH
22879: LD_EXP 72
22883: PUSH
22884: LD_INT 2
22886: ARRAY
22887: PUSH
22888: FOR_IN
22889: IFFALSE 22922
// blue = blue + ( GetTag ( i + 10 ) div 3 ) ;
22891: LD_ADDR_VAR 0 6
22895: PUSH
22896: LD_VAR 0 6
22900: PUSH
22901: LD_VAR 0 4
22905: PUSH
22906: LD_INT 10
22908: PLUS
22909: PPUSH
22910: CALL_OW 110
22914: PUSH
22915: LD_INT 3
22917: DIV
22918: PLUS
22919: ST_TO_ADDR
22920: GO 22888
22922: POP
22923: POP
// if Teams [ 3 ] then
22924: LD_EXP 72
22928: PUSH
22929: LD_INT 3
22931: ARRAY
22932: IFFALSE 22984
// for i in Teams [ 3 ] do
22934: LD_ADDR_VAR 0 4
22938: PUSH
22939: LD_EXP 72
22943: PUSH
22944: LD_INT 3
22946: ARRAY
22947: PUSH
22948: FOR_IN
22949: IFFALSE 22982
// yel = yel + ( GetTag ( i + 10 ) div 3 ) ;
22951: LD_ADDR_VAR 0 7
22955: PUSH
22956: LD_VAR 0 7
22960: PUSH
22961: LD_VAR 0 4
22965: PUSH
22966: LD_INT 10
22968: PLUS
22969: PPUSH
22970: CALL_OW 110
22974: PUSH
22975: LD_INT 3
22977: DIV
22978: PLUS
22979: ST_TO_ADDR
22980: GO 22948
22982: POP
22983: POP
// if Teams [ 4 ] then
22984: LD_EXP 72
22988: PUSH
22989: LD_INT 4
22991: ARRAY
22992: IFFALSE 23044
// for i in Teams [ 4 ] do
22994: LD_ADDR_VAR 0 4
22998: PUSH
22999: LD_EXP 72
23003: PUSH
23004: LD_INT 4
23006: ARRAY
23007: PUSH
23008: FOR_IN
23009: IFFALSE 23042
// green = green + ( GetTag ( i + 10 ) div 3 ) ;
23011: LD_ADDR_VAR 0 8
23015: PUSH
23016: LD_VAR 0 8
23020: PUSH
23021: LD_VAR 0 4
23025: PUSH
23026: LD_INT 10
23028: PLUS
23029: PPUSH
23030: CALL_OW 110
23034: PUSH
23035: LD_INT 3
23037: DIV
23038: PLUS
23039: ST_TO_ADDR
23040: GO 23008
23042: POP
23043: POP
// if Teams [ 1 ] then
23044: LD_EXP 72
23048: PUSH
23049: LD_INT 1
23051: ARRAY
23052: IFFALSE 23081
// vypis := [ #KingoftheHill-Public-red , 3 , Red , final_count ] ;
23054: LD_ADDR_VAR 0 3
23058: PUSH
23059: LD_STRING #KingoftheHill-Public-red
23061: PUSH
23062: LD_INT 3
23064: PUSH
23065: LD_VAR 0 5
23069: PUSH
23070: LD_EXP 57
23074: PUSH
23075: EMPTY
23076: LIST
23077: LIST
23078: LIST
23079: LIST
23080: ST_TO_ADDR
// if Teams [ 2 ] then
23081: LD_EXP 72
23085: PUSH
23086: LD_INT 2
23088: ARRAY
23089: IFFALSE 23124
// vypis := vypis ^ [ #KingoftheHill-Public-blue , 1 , Blue , final_count ] ;
23091: LD_ADDR_VAR 0 3
23095: PUSH
23096: LD_VAR 0 3
23100: PUSH
23101: LD_STRING #KingoftheHill-Public-blue
23103: PUSH
23104: LD_INT 1
23106: PUSH
23107: LD_VAR 0 6
23111: PUSH
23112: LD_EXP 57
23116: PUSH
23117: EMPTY
23118: LIST
23119: LIST
23120: LIST
23121: LIST
23122: ADD
23123: ST_TO_ADDR
// if Teams [ 3 ] then
23124: LD_EXP 72
23128: PUSH
23129: LD_INT 3
23131: ARRAY
23132: IFFALSE 23167
// vypis := vypis ^ [ #KingoftheHill-Public-yell , 2 , yel , final_count ] ;
23134: LD_ADDR_VAR 0 3
23138: PUSH
23139: LD_VAR 0 3
23143: PUSH
23144: LD_STRING #KingoftheHill-Public-yell
23146: PUSH
23147: LD_INT 2
23149: PUSH
23150: LD_VAR 0 7
23154: PUSH
23155: LD_EXP 57
23159: PUSH
23160: EMPTY
23161: LIST
23162: LIST
23163: LIST
23164: LIST
23165: ADD
23166: ST_TO_ADDR
// if Teams [ 4 ] then
23167: LD_EXP 72
23171: PUSH
23172: LD_INT 4
23174: ARRAY
23175: IFFALSE 23210
// vypis := vypis ^ [ #KingoftheHill-Public-green , 7 , green , final_count ] ;
23177: LD_ADDR_VAR 0 3
23181: PUSH
23182: LD_VAR 0 3
23186: PUSH
23187: LD_STRING #KingoftheHill-Public-green
23189: PUSH
23190: LD_INT 7
23192: PUSH
23193: LD_VAR 0 8
23197: PUSH
23198: LD_EXP 57
23202: PUSH
23203: EMPTY
23204: LIST
23205: LIST
23206: LIST
23207: LIST
23208: ADD
23209: ST_TO_ADDR
// LScore_Update_Points ( 2 , 3 , red ) ;
23210: LD_INT 2
23212: PPUSH
23213: LD_INT 3
23215: PPUSH
23216: LD_VAR 0 5
23220: PPUSH
23221: CALL 36736 0 3
// LScore_Update_Points ( 2 , 1 , blue ) ;
23225: LD_INT 2
23227: PPUSH
23228: LD_INT 1
23230: PPUSH
23231: LD_VAR 0 6
23235: PPUSH
23236: CALL 36736 0 3
// LScore_Update_Points ( 2 , 2 , yel ) ;
23240: LD_INT 2
23242: PPUSH
23243: LD_INT 2
23245: PPUSH
23246: LD_VAR 0 7
23250: PPUSH
23251: CALL 36736 0 3
// LScore_Update_Points ( 2 , 7 , green ) ;
23255: LD_INT 2
23257: PPUSH
23258: LD_INT 7
23260: PPUSH
23261: LD_VAR 0 8
23265: PPUSH
23266: CALL 36736 0 3
// end else
23270: GO 23707
// if not Team_Game then
23272: LD_EXP 79
23276: NOT
23277: IFFALSE 23335
// vypis := vypis ^ [ #KingoftheHill-Private , mp_player_side , mp_player_side , ( GetTag ( side + 10 ) div 3 ) , final_count ] else
23279: LD_ADDR_VAR 0 3
23283: PUSH
23284: LD_VAR 0 3
23288: PUSH
23289: LD_STRING #KingoftheHill-Private
23291: PUSH
23292: LD_OWVAR 7
23296: PUSH
23297: LD_OWVAR 7
23301: PUSH
23302: LD_VAR 0 2
23306: PUSH
23307: LD_INT 10
23309: PLUS
23310: PPUSH
23311: CALL_OW 110
23315: PUSH
23316: LD_INT 3
23318: DIV
23319: PUSH
23320: LD_EXP 57
23324: PUSH
23325: EMPTY
23326: LIST
23327: LIST
23328: LIST
23329: LIST
23330: LIST
23331: ADD
23332: ST_TO_ADDR
23333: GO 23707
// begin for i in Teams [ 1 ] do
23335: LD_ADDR_VAR 0 4
23339: PUSH
23340: LD_EXP 72
23344: PUSH
23345: LD_INT 1
23347: ARRAY
23348: PUSH
23349: FOR_IN
23350: IFFALSE 23383
// red = red + ( GetTag ( i + 10 ) div 3 ) ;
23352: LD_ADDR_VAR 0 5
23356: PUSH
23357: LD_VAR 0 5
23361: PUSH
23362: LD_VAR 0 4
23366: PUSH
23367: LD_INT 10
23369: PLUS
23370: PPUSH
23371: CALL_OW 110
23375: PUSH
23376: LD_INT 3
23378: DIV
23379: PLUS
23380: ST_TO_ADDR
23381: GO 23349
23383: POP
23384: POP
// for i in Teams [ 2 ] do
23385: LD_ADDR_VAR 0 4
23389: PUSH
23390: LD_EXP 72
23394: PUSH
23395: LD_INT 2
23397: ARRAY
23398: PUSH
23399: FOR_IN
23400: IFFALSE 23433
// blue = blue + ( GetTag ( i + 10 ) div 3 ) ;
23402: LD_ADDR_VAR 0 6
23406: PUSH
23407: LD_VAR 0 6
23411: PUSH
23412: LD_VAR 0 4
23416: PUSH
23417: LD_INT 10
23419: PLUS
23420: PPUSH
23421: CALL_OW 110
23425: PUSH
23426: LD_INT 3
23428: DIV
23429: PLUS
23430: ST_TO_ADDR
23431: GO 23399
23433: POP
23434: POP
// for i in Teams [ 3 ] do
23435: LD_ADDR_VAR 0 4
23439: PUSH
23440: LD_EXP 72
23444: PUSH
23445: LD_INT 3
23447: ARRAY
23448: PUSH
23449: FOR_IN
23450: IFFALSE 23483
// yel = yel + ( GetTag ( i + 10 ) div 3 ) ;
23452: LD_ADDR_VAR 0 7
23456: PUSH
23457: LD_VAR 0 7
23461: PUSH
23462: LD_VAR 0 4
23466: PUSH
23467: LD_INT 10
23469: PLUS
23470: PPUSH
23471: CALL_OW 110
23475: PUSH
23476: LD_INT 3
23478: DIV
23479: PLUS
23480: ST_TO_ADDR
23481: GO 23449
23483: POP
23484: POP
// for i in Teams [ 4 ] do
23485: LD_ADDR_VAR 0 4
23489: PUSH
23490: LD_EXP 72
23494: PUSH
23495: LD_INT 4
23497: ARRAY
23498: PUSH
23499: FOR_IN
23500: IFFALSE 23533
// green = green + ( GetTag ( i + 10 ) div 3 ) ;
23502: LD_ADDR_VAR 0 8
23506: PUSH
23507: LD_VAR 0 8
23511: PUSH
23512: LD_VAR 0 4
23516: PUSH
23517: LD_INT 10
23519: PLUS
23520: PPUSH
23521: CALL_OW 110
23525: PUSH
23526: LD_INT 3
23528: DIV
23529: PLUS
23530: ST_TO_ADDR
23531: GO 23499
23533: POP
23534: POP
// if mp_player_side in Teams [ 1 ] then
23535: LD_OWVAR 7
23539: PUSH
23540: LD_EXP 72
23544: PUSH
23545: LD_INT 1
23547: ARRAY
23548: IN
23549: IFFALSE 23578
// vypis := [ #KingoftheHill-Public-red , 3 , Red , final_count ] ;
23551: LD_ADDR_VAR 0 3
23555: PUSH
23556: LD_STRING #KingoftheHill-Public-red
23558: PUSH
23559: LD_INT 3
23561: PUSH
23562: LD_VAR 0 5
23566: PUSH
23567: LD_EXP 57
23571: PUSH
23572: EMPTY
23573: LIST
23574: LIST
23575: LIST
23576: LIST
23577: ST_TO_ADDR
// if mp_player_side in Teams [ 2 ] then
23578: LD_OWVAR 7
23582: PUSH
23583: LD_EXP 72
23587: PUSH
23588: LD_INT 2
23590: ARRAY
23591: IN
23592: IFFALSE 23621
// vypis := [ #KingoftheHill-Public-blue , 1 , Blue , final_count ] ;
23594: LD_ADDR_VAR 0 3
23598: PUSH
23599: LD_STRING #KingoftheHill-Public-blue
23601: PUSH
23602: LD_INT 1
23604: PUSH
23605: LD_VAR 0 6
23609: PUSH
23610: LD_EXP 57
23614: PUSH
23615: EMPTY
23616: LIST
23617: LIST
23618: LIST
23619: LIST
23620: ST_TO_ADDR
// if mp_player_side in Teams [ 3 ] then
23621: LD_OWVAR 7
23625: PUSH
23626: LD_EXP 72
23630: PUSH
23631: LD_INT 3
23633: ARRAY
23634: IN
23635: IFFALSE 23664
// vypis := [ #KingoftheHill-Public-yell , 2 , yel , final_count ] ;
23637: LD_ADDR_VAR 0 3
23641: PUSH
23642: LD_STRING #KingoftheHill-Public-yell
23644: PUSH
23645: LD_INT 2
23647: PUSH
23648: LD_VAR 0 7
23652: PUSH
23653: LD_EXP 57
23657: PUSH
23658: EMPTY
23659: LIST
23660: LIST
23661: LIST
23662: LIST
23663: ST_TO_ADDR
// if mp_player_side in Teams [ 4 ] then
23664: LD_OWVAR 7
23668: PUSH
23669: LD_EXP 72
23673: PUSH
23674: LD_INT 4
23676: ARRAY
23677: IN
23678: IFFALSE 23707
// vypis := [ #KingoftheHill-Public-green , 7 , green , final_count ] ;
23680: LD_ADDR_VAR 0 3
23684: PUSH
23685: LD_STRING #KingoftheHill-Public-green
23687: PUSH
23688: LD_INT 7
23690: PUSH
23691: LD_VAR 0 8
23695: PUSH
23696: LD_EXP 57
23700: PUSH
23701: EMPTY
23702: LIST
23703: LIST
23704: LIST
23705: LIST
23706: ST_TO_ADDR
// end ; Display_kings := vypis ;
23707: LD_ADDR_EXP 107
23711: PUSH
23712: LD_VAR 0 3
23716: ST_TO_ADDR
// end ;
23717: LD_VAR 0 1
23721: RET
// function count_king ; var side , list , un , red , blue , yel , green , i ; begin
23722: LD_INT 0
23724: PPUSH
23725: PPUSH
23726: PPUSH
23727: PPUSH
23728: PPUSH
23729: PPUSH
23730: PPUSH
23731: PPUSH
23732: PPUSH
// side := [ ] ;
23733: LD_ADDR_VAR 0 2
23737: PUSH
23738: EMPTY
23739: ST_TO_ADDR
// red = 0 ;
23740: LD_ADDR_VAR 0 5
23744: PUSH
23745: LD_INT 0
23747: ST_TO_ADDR
// blue = 0 ;
23748: LD_ADDR_VAR 0 6
23752: PUSH
23753: LD_INT 0
23755: ST_TO_ADDR
// yel = 0 ;
23756: LD_ADDR_VAR 0 7
23760: PUSH
23761: LD_INT 0
23763: ST_TO_ADDR
// green = 0 ;
23764: LD_ADDR_VAR 0 8
23768: PUSH
23769: LD_INT 0
23771: ST_TO_ADDR
// list := FilterUnitsInArea ( king_territory , [ [ f_type , unit_building ] , [ f_ready ] ] ) ;
23772: LD_ADDR_VAR 0 3
23776: PUSH
23777: LD_EXP 91
23781: PPUSH
23782: LD_INT 21
23784: PUSH
23785: LD_INT 3
23787: PUSH
23788: EMPTY
23789: LIST
23790: LIST
23791: PUSH
23792: LD_INT 53
23794: PUSH
23795: EMPTY
23796: LIST
23797: PUSH
23798: EMPTY
23799: LIST
23800: LIST
23801: PPUSH
23802: CALL_OW 70
23806: ST_TO_ADDR
// for un in list do
23807: LD_ADDR_VAR 0 4
23811: PUSH
23812: LD_VAR 0 3
23816: PUSH
23817: FOR_IN
23818: IFFALSE 23843
// side := side union GetSide ( un ) ;
23820: LD_ADDR_VAR 0 2
23824: PUSH
23825: LD_VAR 0 2
23829: PUSH
23830: LD_VAR 0 4
23834: PPUSH
23835: CALL_OW 255
23839: UNION
23840: ST_TO_ADDR
23841: GO 23817
23843: POP
23844: POP
// if side <> 1 then
23845: LD_VAR 0 2
23849: PUSH
23850: LD_INT 1
23852: NONEQUAL
23853: IFFALSE 23857
// exit ;
23855: GO 24220
// side := side [ 1 ] ;
23857: LD_ADDR_VAR 0 2
23861: PUSH
23862: LD_VAR 0 2
23866: PUSH
23867: LD_INT 1
23869: ARRAY
23870: ST_TO_ADDR
// SetTag ( side + 10 , GetTag ( side + 10 ) + 1 ) ;
23871: LD_VAR 0 2
23875: PUSH
23876: LD_INT 10
23878: PLUS
23879: PPUSH
23880: LD_VAR 0 2
23884: PUSH
23885: LD_INT 10
23887: PLUS
23888: PPUSH
23889: CALL_OW 110
23893: PUSH
23894: LD_INT 1
23896: PLUS
23897: PPUSH
23898: CALL_OW 109
// SetSharedMultiScore ( side , GetTag ( side + 10 ) div 3 , 2 ) ;
23902: LD_VAR 0 2
23906: PPUSH
23907: LD_VAR 0 2
23911: PUSH
23912: LD_INT 10
23914: PLUS
23915: PPUSH
23916: CALL_OW 110
23920: PUSH
23921: LD_INT 3
23923: DIV
23924: PPUSH
23925: LD_INT 2
23927: PPUSH
23928: CALL 35287 0 3
// if not Team_Game then
23932: LD_EXP 79
23936: NOT
23937: IFFALSE 24220
// if GetTag ( side + 10 ) >= final_count * 3 then
23939: LD_VAR 0 2
23943: PUSH
23944: LD_INT 10
23946: PLUS
23947: PPUSH
23948: CALL_OW 110
23952: PUSH
23953: LD_EXP 57
23957: PUSH
23958: LD_INT 3
23960: MUL
23961: GREATEREQUAL
23962: IFFALSE 23969
// enable ( 3 ) else
23964: LD_INT 3
23966: ENABLE_MARKED
23967: GO 24220
// begin for i in Teams [ 1 ] do
23969: LD_ADDR_VAR 0 9
23973: PUSH
23974: LD_EXP 72
23978: PUSH
23979: LD_INT 1
23981: ARRAY
23982: PUSH
23983: FOR_IN
23984: IFFALSE 24017
// red = red + ( GetTag ( i + 10 ) div 3 ) ;
23986: LD_ADDR_VAR 0 5
23990: PUSH
23991: LD_VAR 0 5
23995: PUSH
23996: LD_VAR 0 9
24000: PUSH
24001: LD_INT 10
24003: PLUS
24004: PPUSH
24005: CALL_OW 110
24009: PUSH
24010: LD_INT 3
24012: DIV
24013: PLUS
24014: ST_TO_ADDR
24015: GO 23983
24017: POP
24018: POP
// for i in Teams [ 2 ] do
24019: LD_ADDR_VAR 0 9
24023: PUSH
24024: LD_EXP 72
24028: PUSH
24029: LD_INT 2
24031: ARRAY
24032: PUSH
24033: FOR_IN
24034: IFFALSE 24067
// blue = blue + ( GetTag ( i + 10 ) div 3 ) ;
24036: LD_ADDR_VAR 0 6
24040: PUSH
24041: LD_VAR 0 6
24045: PUSH
24046: LD_VAR 0 9
24050: PUSH
24051: LD_INT 10
24053: PLUS
24054: PPUSH
24055: CALL_OW 110
24059: PUSH
24060: LD_INT 3
24062: DIV
24063: PLUS
24064: ST_TO_ADDR
24065: GO 24033
24067: POP
24068: POP
// for i in Teams [ 3 ] do
24069: LD_ADDR_VAR 0 9
24073: PUSH
24074: LD_EXP 72
24078: PUSH
24079: LD_INT 3
24081: ARRAY
24082: PUSH
24083: FOR_IN
24084: IFFALSE 24117
// yel = yel + ( GetTag ( i + 10 ) div 3 ) ;
24086: LD_ADDR_VAR 0 7
24090: PUSH
24091: LD_VAR 0 7
24095: PUSH
24096: LD_VAR 0 9
24100: PUSH
24101: LD_INT 10
24103: PLUS
24104: PPUSH
24105: CALL_OW 110
24109: PUSH
24110: LD_INT 3
24112: DIV
24113: PLUS
24114: ST_TO_ADDR
24115: GO 24083
24117: POP
24118: POP
// for i in Teams [ 4 ] do
24119: LD_ADDR_VAR 0 9
24123: PUSH
24124: LD_EXP 72
24128: PUSH
24129: LD_INT 4
24131: ARRAY
24132: PUSH
24133: FOR_IN
24134: IFFALSE 24167
// green = green + ( GetTag ( i + 10 ) div 3 ) ;
24136: LD_ADDR_VAR 0 8
24140: PUSH
24141: LD_VAR 0 8
24145: PUSH
24146: LD_VAR 0 9
24150: PUSH
24151: LD_INT 10
24153: PLUS
24154: PPUSH
24155: CALL_OW 110
24159: PUSH
24160: LD_INT 3
24162: DIV
24163: PLUS
24164: ST_TO_ADDR
24165: GO 24133
24167: POP
24168: POP
// if red >= final_count or blue >= final_count or yel >= final_count or green >= final_count then
24169: LD_VAR 0 5
24173: PUSH
24174: LD_EXP 57
24178: GREATEREQUAL
24179: PUSH
24180: LD_VAR 0 6
24184: PUSH
24185: LD_EXP 57
24189: GREATEREQUAL
24190: OR
24191: PUSH
24192: LD_VAR 0 7
24196: PUSH
24197: LD_EXP 57
24201: GREATEREQUAL
24202: OR
24203: PUSH
24204: LD_VAR 0 8
24208: PUSH
24209: LD_EXP 57
24213: GREATEREQUAL
24214: OR
24215: IFFALSE 24220
// enable ( 3 ) ;
24217: LD_INT 3
24219: ENABLE_MARKED
// end ; end ;
24220: LD_VAR 0 1
24224: RET
// every 0 0$1 marked 2 do
24225: GO 24227
24227: DISABLE
// begin count_king ;
24228: CALL 23722 0 0
// show_public_points ;
24232: CALL 22615 0 0
// enable ;
24236: ENABLE
// end ;
24237: END
// every 0 0$1 marked 3 do var side , red , blue , yel , green , i ;
24238: GO 24240
24240: DISABLE
24241: LD_INT 0
24243: PPUSH
24244: PPUSH
24245: PPUSH
24246: PPUSH
24247: PPUSH
24248: PPUSH
// begin win := [ ] ;
24249: LD_ADDR_LOC 20
24253: PUSH
24254: EMPTY
24255: ST_TO_ADDR
// red = 0 ;
24256: LD_ADDR_VAR 0 2
24260: PUSH
24261: LD_INT 0
24263: ST_TO_ADDR
// blue = 0 ;
24264: LD_ADDR_VAR 0 3
24268: PUSH
24269: LD_INT 0
24271: ST_TO_ADDR
// yel = 0 ;
24272: LD_ADDR_VAR 0 4
24276: PUSH
24277: LD_INT 0
24279: ST_TO_ADDR
// green = 0 ;
24280: LD_ADDR_VAR 0 5
24284: PUSH
24285: LD_INT 0
24287: ST_TO_ADDR
// if not Team_Game then
24288: LD_EXP 79
24292: NOT
24293: IFFALSE 24370
// begin for side = 1 to 8 do
24295: LD_ADDR_VAR 0 1
24299: PUSH
24300: DOUBLE
24301: LD_INT 1
24303: DEC
24304: ST_TO_ADDR
24305: LD_INT 8
24307: PUSH
24308: FOR_TO
24309: IFFALSE 24354
// if GetTag ( side + 10 ) >= final_count * 3 then
24311: LD_VAR 0 1
24315: PUSH
24316: LD_INT 10
24318: PLUS
24319: PPUSH
24320: CALL_OW 110
24324: PUSH
24325: LD_EXP 57
24329: PUSH
24330: LD_INT 3
24332: MUL
24333: GREATEREQUAL
24334: IFFALSE 24352
// win := win ^ side ;
24336: LD_ADDR_LOC 20
24340: PUSH
24341: LD_LOC 20
24345: PUSH
24346: LD_VAR 0 1
24350: ADD
24351: ST_TO_ADDR
24352: GO 24308
24354: POP
24355: POP
// if win then
24356: LD_LOC 20
24360: IFFALSE 24367
// enable ( 4 ) else
24362: LD_INT 4
24364: ENABLE_MARKED
24365: GO 24368
// enable ;
24367: ENABLE
// end else
24368: GO 24686
// begin for i in Teams [ 1 ] do
24370: LD_ADDR_VAR 0 6
24374: PUSH
24375: LD_EXP 72
24379: PUSH
24380: LD_INT 1
24382: ARRAY
24383: PUSH
24384: FOR_IN
24385: IFFALSE 24418
// red = red + ( GetTag ( i + 10 ) div 3 ) ;
24387: LD_ADDR_VAR 0 2
24391: PUSH
24392: LD_VAR 0 2
24396: PUSH
24397: LD_VAR 0 6
24401: PUSH
24402: LD_INT 10
24404: PLUS
24405: PPUSH
24406: CALL_OW 110
24410: PUSH
24411: LD_INT 3
24413: DIV
24414: PLUS
24415: ST_TO_ADDR
24416: GO 24384
24418: POP
24419: POP
// for i in Teams [ 2 ] do
24420: LD_ADDR_VAR 0 6
24424: PUSH
24425: LD_EXP 72
24429: PUSH
24430: LD_INT 2
24432: ARRAY
24433: PUSH
24434: FOR_IN
24435: IFFALSE 24468
// blue = blue + ( GetTag ( i + 10 ) div 3 ) ;
24437: LD_ADDR_VAR 0 3
24441: PUSH
24442: LD_VAR 0 3
24446: PUSH
24447: LD_VAR 0 6
24451: PUSH
24452: LD_INT 10
24454: PLUS
24455: PPUSH
24456: CALL_OW 110
24460: PUSH
24461: LD_INT 3
24463: DIV
24464: PLUS
24465: ST_TO_ADDR
24466: GO 24434
24468: POP
24469: POP
// for i in Teams [ 3 ] do
24470: LD_ADDR_VAR 0 6
24474: PUSH
24475: LD_EXP 72
24479: PUSH
24480: LD_INT 3
24482: ARRAY
24483: PUSH
24484: FOR_IN
24485: IFFALSE 24518
// yel = yel + ( GetTag ( i + 10 ) div 3 ) ;
24487: LD_ADDR_VAR 0 4
24491: PUSH
24492: LD_VAR 0 4
24496: PUSH
24497: LD_VAR 0 6
24501: PUSH
24502: LD_INT 10
24504: PLUS
24505: PPUSH
24506: CALL_OW 110
24510: PUSH
24511: LD_INT 3
24513: DIV
24514: PLUS
24515: ST_TO_ADDR
24516: GO 24484
24518: POP
24519: POP
// for i in Teams [ 4 ] do
24520: LD_ADDR_VAR 0 6
24524: PUSH
24525: LD_EXP 72
24529: PUSH
24530: LD_INT 4
24532: ARRAY
24533: PUSH
24534: FOR_IN
24535: IFFALSE 24568
// green = green + ( GetTag ( i + 10 ) div 3 ) ;
24537: LD_ADDR_VAR 0 5
24541: PUSH
24542: LD_VAR 0 5
24546: PUSH
24547: LD_VAR 0 6
24551: PUSH
24552: LD_INT 10
24554: PLUS
24555: PPUSH
24556: CALL_OW 110
24560: PUSH
24561: LD_INT 3
24563: DIV
24564: PLUS
24565: ST_TO_ADDR
24566: GO 24534
24568: POP
24569: POP
// if red >= final_count then
24570: LD_VAR 0 2
24574: PUSH
24575: LD_EXP 57
24579: GREATEREQUAL
24580: IFFALSE 24596
// win = teams [ 1 ] ;
24582: LD_ADDR_LOC 20
24586: PUSH
24587: LD_EXP 72
24591: PUSH
24592: LD_INT 1
24594: ARRAY
24595: ST_TO_ADDR
// if blue >= final_count then
24596: LD_VAR 0 3
24600: PUSH
24601: LD_EXP 57
24605: GREATEREQUAL
24606: IFFALSE 24622
// win = teams [ 2 ] ;
24608: LD_ADDR_LOC 20
24612: PUSH
24613: LD_EXP 72
24617: PUSH
24618: LD_INT 2
24620: ARRAY
24621: ST_TO_ADDR
// if yel >= final_count then
24622: LD_VAR 0 4
24626: PUSH
24627: LD_EXP 57
24631: GREATEREQUAL
24632: IFFALSE 24648
// win = teams [ 3 ] ;
24634: LD_ADDR_LOC 20
24638: PUSH
24639: LD_EXP 72
24643: PUSH
24644: LD_INT 3
24646: ARRAY
24647: ST_TO_ADDR
// if green >= final_count then
24648: LD_VAR 0 5
24652: PUSH
24653: LD_EXP 57
24657: GREATEREQUAL
24658: IFFALSE 24674
// win = teams [ 4 ] ;
24660: LD_ADDR_LOC 20
24664: PUSH
24665: LD_EXP 72
24669: PUSH
24670: LD_INT 4
24672: ARRAY
24673: ST_TO_ADDR
// if win then
24674: LD_LOC 20
24678: IFFALSE 24685
// enable ( 4 ) else
24680: LD_INT 4
24682: ENABLE_MARKED
24683: GO 24686
// enable ;
24685: ENABLE
// end ; end ;
24686: PPOPN 6
24688: END
// every 0 0$1 marked 4 do
24689: GO 24691
24691: DISABLE
// begin if Player_Side in win then
24692: LD_EXP 69
24696: PUSH
24697: LD_LOC 20
24701: IN
24702: IFFALSE 24718
// begin wait ( 0 0$2 ) ;
24704: LD_INT 70
24706: PPUSH
24707: CALL_OW 67
// enable ( 401 ) ;
24711: LD_INT 401
24713: ENABLE_MARKED
// exit ;
24714: GO 24734
// end else
24716: GO 24734
// begin wait ( 0 0$2 ) ;
24718: LD_INT 70
24720: PPUSH
24721: CALL_OW 67
// Multiplayer_Loose_Message ;
24725: CALL_OW 521
// enable ( 400 ) ;
24729: LD_INT 400
24731: ENABLE_MARKED
// exit ;
24732: GO 24734
// end ; end ; end_of_file
24734: END
// var Month ; export function init_Daily ; begin
24735: LD_INT 0
24737: PPUSH
// if not CurrentTime then
24738: LD_EXP 110
24742: NOT
24743: IFFALSE 24815
// begin CurrentTime = Rand ( daily_start [ 1 ] , daily_start [ 2 ] ) div 0 0$01 ;
24745: LD_ADDR_EXP 110
24749: PUSH
24750: LD_EXP 58
24754: PUSH
24755: LD_INT 1
24757: ARRAY
24758: PPUSH
24759: LD_EXP 58
24763: PUSH
24764: LD_INT 2
24766: ARRAY
24767: PPUSH
24768: CALL_OW 12
24772: PUSH
24773: LD_INT 35
24775: DIV
24776: ST_TO_ADDR
// CurrentTime = CurrentTime * 0 0$01 ;
24777: LD_ADDR_EXP 110
24781: PUSH
24782: LD_EXP 110
24786: PUSH
24787: LD_INT 35
24789: MUL
24790: ST_TO_ADDR
// if CurrentTime >= 24 24$00 then
24791: LD_EXP 110
24795: PUSH
24796: LD_INT 50400
24798: GREATEREQUAL
24799: IFFALSE 24815
// CurrentTime = CurrentTime - 24 24$00 ;
24801: LD_ADDR_EXP 110
24805: PUSH
24806: LD_EXP 110
24810: PUSH
24811: LD_INT 50400
24813: MINUS
24814: ST_TO_ADDR
// end ; case CurrentTime of 0 0$00 .. TimePhase [ 1 ] , TimePhase [ 10 ] + 1 .. 24 24$00 :
24815: LD_EXP 110
24819: PUSH
24820: LD_INT 0
24822: DOUBLE
24823: GREATEREQUAL
24824: IFFALSE 24838
24826: LD_EXP 60
24830: PUSH
24831: LD_INT 1
24833: ARRAY
24834: DOUBLE
24835: LESSEQUAL
24836: IFTRUE 24862
24838: LD_EXP 60
24842: PUSH
24843: LD_INT 10
24845: ARRAY
24846: PUSH
24847: LD_INT 1
24849: PLUS
24850: DOUBLE
24851: GREATEREQUAL
24852: IFFALSE 24860
24854: LD_INT 50400
24856: DOUBLE
24857: LESSEQUAL
24858: IFTRUE 24862
24860: GO 24881
24862: POP
// begin ChangePhase ( DailyPhase [ 6 ] , 35 ) ;
24863: LD_EXP 61
24867: PUSH
24868: LD_INT 6
24870: ARRAY
24871: PPUSH
24872: LD_INT 35
24874: PPUSH
24875: CALL 25518 0 2
// end ; TimePhase [ 1 ] + 1 .. TimePhase [ 2 ] , TimePhase [ 9 ] + 1 .. TimePhase [ 10 ] :
24879: GO 25206
24881: LD_EXP 60
24885: PUSH
24886: LD_INT 1
24888: ARRAY
24889: PUSH
24890: LD_INT 1
24892: PLUS
24893: DOUBLE
24894: GREATEREQUAL
24895: IFFALSE 24909
24897: LD_EXP 60
24901: PUSH
24902: LD_INT 2
24904: ARRAY
24905: DOUBLE
24906: LESSEQUAL
24907: IFTRUE 24939
24909: LD_EXP 60
24913: PUSH
24914: LD_INT 9
24916: ARRAY
24917: PUSH
24918: LD_INT 1
24920: PLUS
24921: DOUBLE
24922: GREATEREQUAL
24923: IFFALSE 24937
24925: LD_EXP 60
24929: PUSH
24930: LD_INT 10
24932: ARRAY
24933: DOUBLE
24934: LESSEQUAL
24935: IFTRUE 24939
24937: GO 24958
24939: POP
// begin ChangePhase ( DailyPhase [ 5 ] , 50 ) ;
24940: LD_EXP 61
24944: PUSH
24945: LD_INT 5
24947: ARRAY
24948: PPUSH
24949: LD_INT 50
24951: PPUSH
24952: CALL 25518 0 2
// end ; TimePhase [ 2 ] + 1 .. TimePhase [ 3 ] , TimePhase [ 8 ] + 1 .. TimePhase [ 9 ] :
24956: GO 25206
24958: LD_EXP 60
24962: PUSH
24963: LD_INT 2
24965: ARRAY
24966: PUSH
24967: LD_INT 1
24969: PLUS
24970: DOUBLE
24971: GREATEREQUAL
24972: IFFALSE 24986
24974: LD_EXP 60
24978: PUSH
24979: LD_INT 3
24981: ARRAY
24982: DOUBLE
24983: LESSEQUAL
24984: IFTRUE 25016
24986: LD_EXP 60
24990: PUSH
24991: LD_INT 8
24993: ARRAY
24994: PUSH
24995: LD_INT 1
24997: PLUS
24998: DOUBLE
24999: GREATEREQUAL
25000: IFFALSE 25014
25002: LD_EXP 60
25006: PUSH
25007: LD_INT 9
25009: ARRAY
25010: DOUBLE
25011: LESSEQUAL
25012: IFTRUE 25016
25014: GO 25035
25016: POP
// begin ChangePhase ( DailyPhase [ 4 ] , 60 ) ;
25017: LD_EXP 61
25021: PUSH
25022: LD_INT 4
25024: ARRAY
25025: PPUSH
25026: LD_INT 60
25028: PPUSH
25029: CALL 25518 0 2
// end ; TimePhase [ 3 ] + 1 .. TimePhase [ 4 ] , TimePhase [ 7 ] + 1 .. TimePhase [ 8 ] :
25033: GO 25206
25035: LD_EXP 60
25039: PUSH
25040: LD_INT 3
25042: ARRAY
25043: PUSH
25044: LD_INT 1
25046: PLUS
25047: DOUBLE
25048: GREATEREQUAL
25049: IFFALSE 25063
25051: LD_EXP 60
25055: PUSH
25056: LD_INT 4
25058: ARRAY
25059: DOUBLE
25060: LESSEQUAL
25061: IFTRUE 25093
25063: LD_EXP 60
25067: PUSH
25068: LD_INT 7
25070: ARRAY
25071: PUSH
25072: LD_INT 1
25074: PLUS
25075: DOUBLE
25076: GREATEREQUAL
25077: IFFALSE 25091
25079: LD_EXP 60
25083: PUSH
25084: LD_INT 8
25086: ARRAY
25087: DOUBLE
25088: LESSEQUAL
25089: IFTRUE 25093
25091: GO 25112
25093: POP
// begin ChangePhase ( DailyPhase [ 3 ] , 80 ) ;
25094: LD_EXP 61
25098: PUSH
25099: LD_INT 3
25101: ARRAY
25102: PPUSH
25103: LD_INT 80
25105: PPUSH
25106: CALL 25518 0 2
// end ; TimePhase [ 4 ] + 1 .. TimePhase [ 5 ] , TimePhase [ 6 ] + 1 .. TimePhase [ 7 ] :
25110: GO 25206
25112: LD_EXP 60
25116: PUSH
25117: LD_INT 4
25119: ARRAY
25120: PUSH
25121: LD_INT 1
25123: PLUS
25124: DOUBLE
25125: GREATEREQUAL
25126: IFFALSE 25140
25128: LD_EXP 60
25132: PUSH
25133: LD_INT 5
25135: ARRAY
25136: DOUBLE
25137: LESSEQUAL
25138: IFTRUE 25170
25140: LD_EXP 60
25144: PUSH
25145: LD_INT 6
25147: ARRAY
25148: PUSH
25149: LD_INT 1
25151: PLUS
25152: DOUBLE
25153: GREATEREQUAL
25154: IFFALSE 25168
25156: LD_EXP 60
25160: PUSH
25161: LD_INT 7
25163: ARRAY
25164: DOUBLE
25165: LESSEQUAL
25166: IFTRUE 25170
25168: GO 25189
25170: POP
// begin ChangePhase ( DailyPhase [ 2 ] , 95 ) ;
25171: LD_EXP 61
25175: PUSH
25176: LD_INT 2
25178: ARRAY
25179: PPUSH
25180: LD_INT 95
25182: PPUSH
25183: CALL 25518 0 2
// end ; else
25187: GO 25206
25189: POP
// begin ChangePhase ( DailyPhase [ 1 ] , 110 ) ;
25190: LD_EXP 61
25194: PUSH
25195: LD_INT 1
25197: ARRAY
25198: PPUSH
25199: LD_INT 110
25201: PPUSH
25202: CALL 25518 0 2
// end ; end ; enable ( 31 ) ;
25206: LD_INT 31
25208: ENABLE_MARKED
// end ;
25209: LD_VAR 0 1
25213: RET
// every 0 0$01 marked 31 do
25214: GO 25216
25216: DISABLE
// begin if daily_speed then
25217: LD_EXP 59
25221: IFFALSE 25232
// wait ( daily_speed ) ;
25223: LD_EXP 59
25227: PPUSH
25228: CALL_OW 67
// CurrentTime = CurrentTime + 0 0$01 ;
25232: LD_ADDR_EXP 110
25236: PUSH
25237: LD_EXP 110
25241: PUSH
25242: LD_INT 35
25244: PLUS
25245: ST_TO_ADDR
// case CurrentTIme of TimePhase [ 5 ] :
25246: LD_EXP 110
25250: PUSH
25251: LD_EXP 60
25255: PUSH
25256: LD_INT 5
25258: ARRAY
25259: DOUBLE
25260: EQUAL
25261: IFTRUE 25265
25263: GO 25284
25265: POP
// begin ChangePhase ( DailyPhase [ 1 ] , 110 ) ;
25266: LD_EXP 61
25270: PUSH
25271: LD_INT 1
25273: ARRAY
25274: PPUSH
25275: LD_INT 110
25277: PPUSH
25278: CALL 25518 0 2
// end ; TimePhase [ 4 ] , TimePhase [ 6 ] :
25282: GO 25498
25284: LD_EXP 60
25288: PUSH
25289: LD_INT 4
25291: ARRAY
25292: DOUBLE
25293: EQUAL
25294: IFTRUE 25310
25296: LD_EXP 60
25300: PUSH
25301: LD_INT 6
25303: ARRAY
25304: DOUBLE
25305: EQUAL
25306: IFTRUE 25310
25308: GO 25329
25310: POP
// begin ChangePhase ( DailyPhase [ 2 ] , 95 ) ;
25311: LD_EXP 61
25315: PUSH
25316: LD_INT 2
25318: ARRAY
25319: PPUSH
25320: LD_INT 95
25322: PPUSH
25323: CALL 25518 0 2
// end ; TimePhase [ 3 ] , TimePhase [ 7 ] :
25327: GO 25498
25329: LD_EXP 60
25333: PUSH
25334: LD_INT 3
25336: ARRAY
25337: DOUBLE
25338: EQUAL
25339: IFTRUE 25355
25341: LD_EXP 60
25345: PUSH
25346: LD_INT 7
25348: ARRAY
25349: DOUBLE
25350: EQUAL
25351: IFTRUE 25355
25353: GO 25374
25355: POP
// begin ChangePhase ( DailyPhase [ 3 ] , 80 ) ;
25356: LD_EXP 61
25360: PUSH
25361: LD_INT 3
25363: ARRAY
25364: PPUSH
25365: LD_INT 80
25367: PPUSH
25368: CALL 25518 0 2
// end ; TimePhase [ 2 ] , TimePhase [ 8 ] :
25372: GO 25498
25374: LD_EXP 60
25378: PUSH
25379: LD_INT 2
25381: ARRAY
25382: DOUBLE
25383: EQUAL
25384: IFTRUE 25400
25386: LD_EXP 60
25390: PUSH
25391: LD_INT 8
25393: ARRAY
25394: DOUBLE
25395: EQUAL
25396: IFTRUE 25400
25398: GO 25419
25400: POP
// begin ChangePhase ( DailyPhase [ 4 ] , 60 ) ;
25401: LD_EXP 61
25405: PUSH
25406: LD_INT 4
25408: ARRAY
25409: PPUSH
25410: LD_INT 60
25412: PPUSH
25413: CALL 25518 0 2
// end ; TimePhase [ 1 ] , TimePhase [ 9 ] :
25417: GO 25498
25419: LD_EXP 60
25423: PUSH
25424: LD_INT 1
25426: ARRAY
25427: DOUBLE
25428: EQUAL
25429: IFTRUE 25445
25431: LD_EXP 60
25435: PUSH
25436: LD_INT 9
25438: ARRAY
25439: DOUBLE
25440: EQUAL
25441: IFTRUE 25445
25443: GO 25464
25445: POP
// begin ChangePhase ( DailyPhase [ 5 ] , 50 ) ;
25446: LD_EXP 61
25450: PUSH
25451: LD_INT 5
25453: ARRAY
25454: PPUSH
25455: LD_INT 50
25457: PPUSH
25458: CALL 25518 0 2
// end ; TimePhase [ 10 ] :
25462: GO 25498
25464: LD_EXP 60
25468: PUSH
25469: LD_INT 10
25471: ARRAY
25472: DOUBLE
25473: EQUAL
25474: IFTRUE 25478
25476: GO 25497
25478: POP
// begin ChangePhase ( DailyPhase [ 6 ] , 35 ) ;
25479: LD_EXP 61
25483: PUSH
25484: LD_INT 6
25486: ARRAY
25487: PPUSH
25488: LD_INT 35
25490: PPUSH
25491: CALL 25518 0 2
// end ; end ;
25495: GO 25498
25497: POP
// if CurrentTime >= 24 24$00 then
25498: LD_EXP 110
25502: PUSH
25503: LD_INT 50400
25505: GREATEREQUAL
25506: IFFALSE 25516
// CurrentTime = 0 0$00 ;
25508: LD_ADDR_EXP 110
25512: PUSH
25513: LD_INT 0
25515: ST_TO_ADDR
// enable ;
25516: ENABLE
// end ;
25517: END
// function changePhase ( dp , srp ) ; begin
25518: LD_INT 0
25520: PPUSH
// solar_recharge_percent = srp ;
25521: LD_ADDR_OWVAR 79
25525: PUSH
25526: LD_VAR 0 2
25530: ST_TO_ADDR
// LoadColorsTXT ( dp ) ;
25531: LD_VAR 0 1
25535: PPUSH
25536: CALL_OW 544
// end ; end_of_file
25540: LD_VAR 0 3
25544: RET
// export BuildUpAreas ; export BuildUpTimeActive ; export BuildUpTime_Delay ; export function BeginBuildUp ; var i , j ; begin
25545: LD_INT 0
25547: PPUSH
25548: PPUSH
25549: PPUSH
// BuildUpTime_Delay = 0 ;
25550: LD_ADDR_EXP 117
25554: PUSH
25555: LD_INT 0
25557: ST_TO_ADDR
// if not def_builduptime then
25558: LD_EXP 30
25562: NOT
25563: IFFALSE 25567
// exit ;
25565: GO 25750
// BuildUpTime_Delay := 4 4$00 + 1 1$00 * def_builduptime ;
25567: LD_ADDR_EXP 117
25571: PUSH
25572: LD_INT 8400
25574: PUSH
25575: LD_INT 2100
25577: PUSH
25578: LD_EXP 30
25582: MUL
25583: PLUS
25584: ST_TO_ADDR
// BuildUpTimeActive := true ;
25585: LD_ADDR_EXP 116
25589: PUSH
25590: LD_INT 1
25592: ST_TO_ADDR
// for i := 1 to 8 do
25593: LD_ADDR_VAR 0 2
25597: PUSH
25598: DOUBLE
25599: LD_INT 1
25601: DEC
25602: ST_TO_ADDR
25603: LD_INT 8
25605: PUSH
25606: FOR_TO
25607: IFFALSE 25748
// if Side_Positions [ i ] then
25609: LD_EXP 74
25613: PUSH
25614: LD_VAR 0 2
25618: ARRAY
25619: IFFALSE 25746
// begin SetAreaMapShow ( BuildUpAreas [ Side_Positions [ i ] ] , 5 ) ;
25621: LD_EXP 115
25625: PUSH
25626: LD_EXP 74
25630: PUSH
25631: LD_VAR 0 2
25635: ARRAY
25636: ARRAY
25637: PPUSH
25638: LD_INT 5
25640: PPUSH
25641: CALL_OW 424
// for j := 1 to 8 do
25645: LD_ADDR_VAR 0 3
25649: PUSH
25650: DOUBLE
25651: LD_INT 1
25653: DEC
25654: ST_TO_ADDR
25655: LD_INT 8
25657: PUSH
25658: FOR_TO
25659: IFFALSE 25744
// if Side_Positions [ j ] and ( ( Side_Teams [ i ] <> Side_Teams [ j ] ) or ( not Team_Game ) and ( i <> j ) ) then
25661: LD_EXP 74
25665: PUSH
25666: LD_VAR 0 3
25670: ARRAY
25671: PUSH
25672: LD_EXP 71
25676: PUSH
25677: LD_VAR 0 2
25681: ARRAY
25682: PUSH
25683: LD_EXP 71
25687: PUSH
25688: LD_VAR 0 3
25692: ARRAY
25693: NONEQUAL
25694: PUSH
25695: LD_EXP 79
25699: NOT
25700: PUSH
25701: LD_VAR 0 2
25705: PUSH
25706: LD_VAR 0 3
25710: NONEQUAL
25711: AND
25712: OR
25713: AND
25714: IFFALSE 25742
// HideArea ( j , BuildUpAreas [ Side_Positions [ i ] ] ) ;
25716: LD_VAR 0 3
25720: PPUSH
25721: LD_EXP 115
25725: PUSH
25726: LD_EXP 74
25730: PUSH
25731: LD_VAR 0 2
25735: ARRAY
25736: ARRAY
25737: PPUSH
25738: CALL_OW 333
25742: GO 25658
25744: POP
25745: POP
// end ;
25746: GO 25606
25748: POP
25749: POP
// end ;
25750: LD_VAR 0 1
25754: RET
// export function EndBuildUp ; var i , j ; begin
25755: LD_INT 0
25757: PPUSH
25758: PPUSH
25759: PPUSH
// BuildUpTimeActive := false ;
25760: LD_ADDR_EXP 116
25764: PUSH
25765: LD_INT 0
25767: ST_TO_ADDR
// for i := 1 to 8 do
25768: LD_ADDR_VAR 0 2
25772: PUSH
25773: DOUBLE
25774: LD_INT 1
25776: DEC
25777: ST_TO_ADDR
25778: LD_INT 8
25780: PUSH
25781: FOR_TO
25782: IFFALSE 25923
// if Side_Positions [ i ] then
25784: LD_EXP 74
25788: PUSH
25789: LD_VAR 0 2
25793: ARRAY
25794: IFFALSE 25921
// begin SetAreaMapShow ( BuildUpAreas [ Side_Positions [ i ] ] , 0 ) ;
25796: LD_EXP 115
25800: PUSH
25801: LD_EXP 74
25805: PUSH
25806: LD_VAR 0 2
25810: ARRAY
25811: ARRAY
25812: PPUSH
25813: LD_INT 0
25815: PPUSH
25816: CALL_OW 424
// for j := 1 to 8 do
25820: LD_ADDR_VAR 0 3
25824: PUSH
25825: DOUBLE
25826: LD_INT 1
25828: DEC
25829: ST_TO_ADDR
25830: LD_INT 8
25832: PUSH
25833: FOR_TO
25834: IFFALSE 25919
// if Side_Positions [ j ] and ( ( Side_Teams [ i ] <> Side_Teams [ j ] ) or ( not Team_Game ) and ( i <> j ) ) then
25836: LD_EXP 74
25840: PUSH
25841: LD_VAR 0 3
25845: ARRAY
25846: PUSH
25847: LD_EXP 71
25851: PUSH
25852: LD_VAR 0 2
25856: ARRAY
25857: PUSH
25858: LD_EXP 71
25862: PUSH
25863: LD_VAR 0 3
25867: ARRAY
25868: NONEQUAL
25869: PUSH
25870: LD_EXP 79
25874: NOT
25875: PUSH
25876: LD_VAR 0 2
25880: PUSH
25881: LD_VAR 0 3
25885: NONEQUAL
25886: AND
25887: OR
25888: AND
25889: IFFALSE 25917
// ShowArea ( j , BuildUpAreas [ Side_Positions [ i ] ] ) ;
25891: LD_VAR 0 3
25895: PPUSH
25896: LD_EXP 115
25900: PUSH
25901: LD_EXP 74
25905: PUSH
25906: LD_VAR 0 2
25910: ARRAY
25911: ARRAY
25912: PPUSH
25913: CALL_OW 334
25917: GO 25833
25919: POP
25920: POP
// end ;
25921: GO 25781
25923: POP
25924: POP
// end ;
25925: LD_VAR 0 1
25929: RET
// every 5 trigger BuildUpTimeActive do var i , un ;
25930: LD_EXP 116
25934: IFFALSE 26109
25936: GO 25938
25938: DISABLE
25939: LD_INT 0
25941: PPUSH
25942: PPUSH
// begin for i := 1 to 8 do
25943: LD_ADDR_VAR 0 1
25947: PUSH
25948: DOUBLE
25949: LD_INT 1
25951: DEC
25952: ST_TO_ADDR
25953: LD_INT 8
25955: PUSH
25956: FOR_TO
25957: IFFALSE 26106
// if Side_Positions [ i ] then
25959: LD_EXP 74
25963: PUSH
25964: LD_VAR 0 1
25968: ARRAY
25969: IFFALSE 26104
// for un in FilterUnitsInArea ( BuildUpAreas [ Side_Positions [ i ] ] , [ [ f_or , [ f_type , unit_human ] , [ f_type , unit_vehicle ] ] , [ f_side , Your_Side ] ] ) do
25971: LD_ADDR_VAR 0 2
25975: PUSH
25976: LD_EXP 115
25980: PUSH
25981: LD_EXP 74
25985: PUSH
25986: LD_VAR 0 1
25990: ARRAY
25991: ARRAY
25992: PPUSH
25993: LD_INT 2
25995: PUSH
25996: LD_INT 21
25998: PUSH
25999: LD_INT 1
26001: PUSH
26002: EMPTY
26003: LIST
26004: LIST
26005: PUSH
26006: LD_INT 21
26008: PUSH
26009: LD_INT 2
26011: PUSH
26012: EMPTY
26013: LIST
26014: LIST
26015: PUSH
26016: EMPTY
26017: LIST
26018: LIST
26019: LIST
26020: PUSH
26021: LD_INT 22
26023: PUSH
26024: LD_OWVAR 2
26028: PUSH
26029: EMPTY
26030: LIST
26031: LIST
26032: PUSH
26033: EMPTY
26034: LIST
26035: LIST
26036: PPUSH
26037: CALL_OW 70
26041: PUSH
26042: FOR_IN
26043: IFFALSE 26102
// if ( ( Side_Teams [ i ] <> Side_Teams [ Your_Side ] ) or ( not Team_Game ) and ( i <> Your_Side ) ) then
26045: LD_EXP 71
26049: PUSH
26050: LD_VAR 0 1
26054: ARRAY
26055: PUSH
26056: LD_EXP 71
26060: PUSH
26061: LD_OWVAR 2
26065: ARRAY
26066: NONEQUAL
26067: PUSH
26068: LD_EXP 79
26072: NOT
26073: PUSH
26074: LD_VAR 0 1
26078: PUSH
26079: LD_OWVAR 2
26083: NONEQUAL
26084: AND
26085: OR
26086: IFFALSE 26100
// ComMoveToArea ( un , BuildUpEscape ) ;
26088: LD_VAR 0 2
26092: PPUSH
26093: LD_INT 33
26095: PPUSH
26096: CALL_OW 113
26100: GO 26042
26102: POP
26103: POP
26104: GO 25956
26106: POP
26107: POP
// enable ;
26108: ENABLE
// end ;
26109: PPOPN 2
26111: END
// every 0 0$1 trigger def_builduptime do
26112: LD_EXP 30
26116: IFFALSE 26142
26118: GO 26120
26120: DISABLE
// begin wait ( 4 4$00 + ( def_builduptime * 1 1$00 ) ) ;
26121: LD_INT 8400
26123: PUSH
26124: LD_EXP 30
26128: PUSH
26129: LD_INT 2100
26131: MUL
26132: PLUS
26133: PPUSH
26134: CALL_OW 67
// EndBuildUp ;
26138: CALL 25755 0 0
// end ; end_of_file
26142: END
// var Restricted_Builds , Restricted_Builds_Amount ; var Banned_Weapons , Banned_Chassis , Banned_Controls , Banned_Engines ; var Already_Built ; var Limits_Info , Cheaters ; every 0 0$1 do
26143: GO 26145
26145: DISABLE
// begin fLimitsStrings ;
26146: CALL 26152 0 0
// enable ;
26150: ENABLE
// end ;
26151: END
// export function fLimitsStrings ; var i ; begin
26152: LD_INT 0
26154: PPUSH
26155: PPUSH
// if ( not IAmSpec ) then
26156: CALL_OW 531
26160: NOT
26161: IFFALSE 26177
// LimitsStrings := Limits_Info ^  ;
26163: LD_ADDR_EXP 109
26167: PUSH
26168: LD_LOC 29
26172: PUSH
26173: LD_STRING 
26175: ADD
26176: ST_TO_ADDR
// for i := 1 to 8 do
26177: LD_ADDR_VAR 0 2
26181: PUSH
26182: DOUBLE
26183: LD_INT 1
26185: DEC
26186: ST_TO_ADDR
26187: LD_INT 8
26189: PUSH
26190: FOR_TO
26191: IFFALSE 26236
// if Cheaters [ i ] then
26193: LD_LOC 30
26197: PUSH
26198: LD_VAR 0 2
26202: ARRAY
26203: IFFALSE 26234
// LimitsStrings := LimitsStrings ^ [ #Cheater , i , i ] ;
26205: LD_ADDR_EXP 109
26209: PUSH
26210: LD_EXP 109
26214: PUSH
26215: LD_STRING #Cheater
26217: PUSH
26218: LD_VAR 0 2
26222: PUSH
26223: LD_VAR 0 2
26227: PUSH
26228: EMPTY
26229: LIST
26230: LIST
26231: LIST
26232: ADD
26233: ST_TO_ADDR
26234: GO 26190
26236: POP
26237: POP
// end ;
26238: LD_VAR 0 1
26242: RET
// export function InitGameRules ; var Unavailable_Techs , Unavailable_Builds ; var i , j ; begin
26243: LD_INT 0
26245: PPUSH
26246: PPUSH
26247: PPUSH
26248: PPUSH
26249: PPUSH
// Cheaters := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
26250: LD_ADDR_LOC 30
26254: PUSH
26255: LD_INT 0
26257: PUSH
26258: LD_INT 0
26260: PUSH
26261: LD_INT 0
26263: PUSH
26264: LD_INT 0
26266: PUSH
26267: LD_INT 0
26269: PUSH
26270: LD_INT 0
26272: PUSH
26273: LD_INT 0
26275: PUSH
26276: LD_INT 0
26278: PUSH
26279: EMPTY
26280: LIST
26281: LIST
26282: LIST
26283: LIST
26284: LIST
26285: LIST
26286: LIST
26287: LIST
26288: ST_TO_ADDR
// case def_game_rules of 0 :
26289: LD_EXP 9
26293: PUSH
26294: LD_INT 0
26296: DOUBLE
26297: EQUAL
26298: IFTRUE 26302
26300: GO 26307
26302: POP
// exit ; 1 :
26303: GO 28943
26305: GO 28843
26307: LD_INT 1
26309: DOUBLE
26310: EQUAL
26311: IFTRUE 26315
26313: GO 26618
26315: POP
// begin def_base_level := 2 ;
26316: LD_ADDR_EXP 10
26320: PUSH
26321: LD_INT 2
26323: ST_TO_ADDR
// def_amount_of_people := 10 ;
26324: LD_ADDR_EXP 11
26328: PUSH
26329: LD_INT 10
26331: ST_TO_ADDR
// def_initial_level := 1 ;
26332: LD_ADDR_EXP 13
26336: PUSH
26337: LD_INT 1
26339: ST_TO_ADDR
// def_starting_resources := 2 ;
26340: LD_ADDR_EXP 15
26344: PUSH
26345: LD_INT 2
26347: ST_TO_ADDR
// def_shipments_density := 1 ;
26348: LD_ADDR_EXP 16
26352: PUSH
26353: LD_INT 1
26355: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
26356: LD_ADDR_EXP 17
26360: PUSH
26361: LD_INT 0
26363: ST_TO_ADDR
// def_extra_sib_deposits := 1 ;
26364: LD_ADDR_EXP 18
26368: PUSH
26369: LD_INT 1
26371: ST_TO_ADDR
// def_shared_vision := 1 ;
26372: LD_ADDR_EXP 19
26376: PUSH
26377: LD_INT 1
26379: ST_TO_ADDR
// def_morale_flags := 3 ;
26380: LD_ADDR_EXP 20
26384: PUSH
26385: LD_INT 3
26387: ST_TO_ADDR
// def_siberite_detection := 1 ;
26388: LD_ADDR_EXP 28
26392: PUSH
26393: LD_INT 1
26395: ST_TO_ADDR
// def_people_respawning := 1 ;
26396: LD_ADDR_EXP 25
26400: PUSH
26401: LD_INT 1
26403: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
26404: LD_ADDR_EXP 22
26408: PUSH
26409: LD_INT 1
26411: ST_TO_ADDR
// def_siberite_bomb := 0 ;
26412: LD_ADDR_EXP 29
26416: PUSH
26417: LD_INT 0
26419: ST_TO_ADDR
// def_builduptime := 2 ;
26420: LD_ADDR_EXP 30
26424: PUSH
26425: LD_INT 2
26427: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
26428: LD_ADDR_EXP 12
26432: PUSH
26433: LD_INT 0
26435: ST_TO_ADDR
// def_amount_of_tiger := 0 ;
26436: LD_ADDR_EXP 23
26440: PUSH
26441: LD_INT 0
26443: ST_TO_ADDR
// def_respawining_type := 3 ;
26444: LD_ADDR_EXP 24
26448: PUSH
26449: LD_INT 3
26451: ST_TO_ADDR
// def_tech_level := 8 ;
26452: LD_ADDR_EXP 26
26456: PUSH
26457: LD_INT 8
26459: ST_TO_ADDR
// def_upgrade_tl := 0 ;
26460: LD_ADDR_EXP 27
26464: PUSH
26465: LD_INT 0
26467: ST_TO_ADDR
// def_desert_warior := 0 ;
26468: LD_ADDR_EXP 31
26472: PUSH
26473: LD_INT 0
26475: ST_TO_ADDR
// Unavailable_Techs := [ ] ;
26476: LD_ADDR_VAR 0 2
26480: PUSH
26481: EMPTY
26482: ST_TO_ADDR
// Unavailable_Builds := [ ] ;
26483: LD_ADDR_VAR 0 3
26487: PUSH
26488: EMPTY
26489: ST_TO_ADDR
// Banned_Weapons := [ ] ;
26490: LD_ADDR_LOC 24
26494: PUSH
26495: EMPTY
26496: ST_TO_ADDR
// Banned_Chassis := [ ] ;
26497: LD_ADDR_LOC 25
26501: PUSH
26502: EMPTY
26503: ST_TO_ADDR
// Banned_Controls := [ ] ;
26504: LD_ADDR_LOC 26
26508: PUSH
26509: EMPTY
26510: ST_TO_ADDR
// Banned_Engines := [ ] ;
26511: LD_ADDR_LOC 27
26515: PUSH
26516: EMPTY
26517: ST_TO_ADDR
// Restricted_Builds := [ [ b_Behemoth ] , [ b_Armoury , b_Barracks ] , [ b_Breastwork , b_Bunker , b_Turret ] ] ;
26518: LD_ADDR_LOC 22
26522: PUSH
26523: LD_INT 37
26525: PUSH
26526: EMPTY
26527: LIST
26528: PUSH
26529: LD_INT 4
26531: PUSH
26532: LD_INT 5
26534: PUSH
26535: EMPTY
26536: LIST
26537: LIST
26538: PUSH
26539: LD_INT 31
26541: PUSH
26542: LD_INT 32
26544: PUSH
26545: LD_INT 33
26547: PUSH
26548: EMPTY
26549: LIST
26550: LIST
26551: LIST
26552: PUSH
26553: EMPTY
26554: LIST
26555: LIST
26556: LIST
26557: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
26558: LD_EXP 1
26562: PUSH
26563: LD_EXP 3
26567: PUSH
26568: LD_EXP 4
26572: ADD
26573: IN
26574: IFFALSE 26597
// Restricted_Builds_Amount := [ 4 , 4 , 8 ] else
26576: LD_ADDR_LOC 23
26580: PUSH
26581: LD_INT 4
26583: PUSH
26584: LD_INT 4
26586: PUSH
26587: LD_INT 8
26589: PUSH
26590: EMPTY
26591: LIST
26592: LIST
26593: LIST
26594: ST_TO_ADDR
26595: GO 26616
// Restricted_Builds_Amount := [ 2 , 2 , 4 ] ;
26597: LD_ADDR_LOC 23
26601: PUSH
26602: LD_INT 2
26604: PUSH
26605: LD_INT 2
26607: PUSH
26608: LD_INT 4
26610: PUSH
26611: EMPTY
26612: LIST
26613: LIST
26614: LIST
26615: ST_TO_ADDR
// end ; 2 :
26616: GO 28843
26618: LD_INT 2
26620: DOUBLE
26621: EQUAL
26622: IFTRUE 26626
26624: GO 26918
26626: POP
// begin def_base_level := 1 ;
26627: LD_ADDR_EXP 10
26631: PUSH
26632: LD_INT 1
26634: ST_TO_ADDR
// def_amount_of_people := 2 ;
26635: LD_ADDR_EXP 11
26639: PUSH
26640: LD_INT 2
26642: ST_TO_ADDR
// def_initial_level := 3 ;
26643: LD_ADDR_EXP 13
26647: PUSH
26648: LD_INT 3
26650: ST_TO_ADDR
// def_starting_resources := 3 ;
26651: LD_ADDR_EXP 15
26655: PUSH
26656: LD_INT 3
26658: ST_TO_ADDR
// def_shipments_density := 2 ;
26659: LD_ADDR_EXP 16
26663: PUSH
26664: LD_INT 2
26666: ST_TO_ADDR
// def_extra_oil_deposits := 1 ;
26667: LD_ADDR_EXP 17
26671: PUSH
26672: LD_INT 1
26674: ST_TO_ADDR
// def_extra_sib_deposits := 2 ;
26675: LD_ADDR_EXP 18
26679: PUSH
26680: LD_INT 2
26682: ST_TO_ADDR
// def_shared_vision := 1 ;
26683: LD_ADDR_EXP 19
26687: PUSH
26688: LD_INT 1
26690: ST_TO_ADDR
// def_morale_flags := 0 ;
26691: LD_ADDR_EXP 20
26695: PUSH
26696: LD_INT 0
26698: ST_TO_ADDR
// def_siberite_detection := 1 ;
26699: LD_ADDR_EXP 28
26703: PUSH
26704: LD_INT 1
26706: ST_TO_ADDR
// def_people_respawning := 0 ;
26707: LD_ADDR_EXP 25
26711: PUSH
26712: LD_INT 0
26714: ST_TO_ADDR
// def_amount_of_apemen := 0 ;
26715: LD_ADDR_EXP 22
26719: PUSH
26720: LD_INT 0
26722: ST_TO_ADDR
// def_siberite_bomb := 0 ;
26723: LD_ADDR_EXP 29
26727: PUSH
26728: LD_INT 0
26730: ST_TO_ADDR
// def_builduptime := 2 ;
26731: LD_ADDR_EXP 30
26735: PUSH
26736: LD_INT 2
26738: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
26739: LD_ADDR_EXP 12
26743: PUSH
26744: LD_INT 0
26746: ST_TO_ADDR
// def_amount_of_tiger := 0 ;
26747: LD_ADDR_EXP 23
26751: PUSH
26752: LD_INT 0
26754: ST_TO_ADDR
// def_respawining_type := 3 ;
26755: LD_ADDR_EXP 24
26759: PUSH
26760: LD_INT 3
26762: ST_TO_ADDR
// def_tech_level := 8 ;
26763: LD_ADDR_EXP 26
26767: PUSH
26768: LD_INT 8
26770: ST_TO_ADDR
// def_upgrade_tl := 0 ;
26771: LD_ADDR_EXP 27
26775: PUSH
26776: LD_INT 0
26778: ST_TO_ADDR
// def_desert_warior := 0 ;
26779: LD_ADDR_EXP 31
26783: PUSH
26784: LD_INT 0
26786: ST_TO_ADDR
// Unavailable_Techs := [ tech_ApeLang ] ;
26787: LD_ADDR_VAR 0 2
26791: PUSH
26792: LD_INT 1
26794: PUSH
26795: EMPTY
26796: LIST
26797: ST_TO_ADDR
// Unavailable_Builds := [ ] ;
26798: LD_ADDR_VAR 0 3
26802: PUSH
26803: EMPTY
26804: ST_TO_ADDR
// Banned_Weapons := [ ] ;
26805: LD_ADDR_LOC 24
26809: PUSH
26810: EMPTY
26811: ST_TO_ADDR
// Banned_Chassis := [ ] ;
26812: LD_ADDR_LOC 25
26816: PUSH
26817: EMPTY
26818: ST_TO_ADDR
// Banned_Controls := [ ] ;
26819: LD_ADDR_LOC 26
26823: PUSH
26824: EMPTY
26825: ST_TO_ADDR
// Banned_Engines := [ ] ;
26826: LD_ADDR_LOC 27
26830: PUSH
26831: EMPTY
26832: ST_TO_ADDR
// Restricted_Builds := [ [ b_Armoury , b_Barracks ] , [ b_Breastwork , b_Bunker , b_Turret ] ] ;
26833: LD_ADDR_LOC 22
26837: PUSH
26838: LD_INT 4
26840: PUSH
26841: LD_INT 5
26843: PUSH
26844: EMPTY
26845: LIST
26846: LIST
26847: PUSH
26848: LD_INT 31
26850: PUSH
26851: LD_INT 32
26853: PUSH
26854: LD_INT 33
26856: PUSH
26857: EMPTY
26858: LIST
26859: LIST
26860: LIST
26861: PUSH
26862: EMPTY
26863: LIST
26864: LIST
26865: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
26866: LD_EXP 1
26870: PUSH
26871: LD_EXP 3
26875: PUSH
26876: LD_EXP 4
26880: ADD
26881: IN
26882: IFFALSE 26901
// Restricted_Builds_Amount := [ 2 , 4 ] else
26884: LD_ADDR_LOC 23
26888: PUSH
26889: LD_INT 2
26891: PUSH
26892: LD_INT 4
26894: PUSH
26895: EMPTY
26896: LIST
26897: LIST
26898: ST_TO_ADDR
26899: GO 26916
// Restricted_Builds_Amount := [ 1 , 2 ] ;
26901: LD_ADDR_LOC 23
26905: PUSH
26906: LD_INT 1
26908: PUSH
26909: LD_INT 2
26911: PUSH
26912: EMPTY
26913: LIST
26914: LIST
26915: ST_TO_ADDR
// end ; 3 :
26916: GO 28843
26918: LD_INT 3
26920: DOUBLE
26921: EQUAL
26922: IFTRUE 26926
26924: GO 27209
26926: POP
// begin def_base_level := 1 ;
26927: LD_ADDR_EXP 10
26931: PUSH
26932: LD_INT 1
26934: ST_TO_ADDR
// def_amount_of_people := 10 ;
26935: LD_ADDR_EXP 11
26939: PUSH
26940: LD_INT 10
26942: ST_TO_ADDR
// def_initial_level := 3 ;
26943: LD_ADDR_EXP 13
26947: PUSH
26948: LD_INT 3
26950: ST_TO_ADDR
// def_starting_resources := 3 ;
26951: LD_ADDR_EXP 15
26955: PUSH
26956: LD_INT 3
26958: ST_TO_ADDR
// def_shipments_density := 1 ;
26959: LD_ADDR_EXP 16
26963: PUSH
26964: LD_INT 1
26966: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
26967: LD_ADDR_EXP 17
26971: PUSH
26972: LD_INT 0
26974: ST_TO_ADDR
// def_extra_sib_deposits := 1 ;
26975: LD_ADDR_EXP 18
26979: PUSH
26980: LD_INT 1
26982: ST_TO_ADDR
// def_shared_vision := 1 ;
26983: LD_ADDR_EXP 19
26987: PUSH
26988: LD_INT 1
26990: ST_TO_ADDR
// def_morale_flags := 0 ;
26991: LD_ADDR_EXP 20
26995: PUSH
26996: LD_INT 0
26998: ST_TO_ADDR
// def_siberite_detection := 1 ;
26999: LD_ADDR_EXP 28
27003: PUSH
27004: LD_INT 1
27006: ST_TO_ADDR
// def_people_respawning := 0 ;
27007: LD_ADDR_EXP 25
27011: PUSH
27012: LD_INT 0
27014: ST_TO_ADDR
// def_amount_of_apemen := 2 ;
27015: LD_ADDR_EXP 22
27019: PUSH
27020: LD_INT 2
27022: ST_TO_ADDR
// def_siberite_bomb := 0 ;
27023: LD_ADDR_EXP 29
27027: PUSH
27028: LD_INT 0
27030: ST_TO_ADDR
// def_builduptime := 1 ;
27031: LD_ADDR_EXP 30
27035: PUSH
27036: LD_INT 1
27038: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
27039: LD_ADDR_EXP 12
27043: PUSH
27044: LD_INT 0
27046: ST_TO_ADDR
// def_amount_of_tiger := 1 ;
27047: LD_ADDR_EXP 23
27051: PUSH
27052: LD_INT 1
27054: ST_TO_ADDR
// def_respawining_type := 3 ;
27055: LD_ADDR_EXP 24
27059: PUSH
27060: LD_INT 3
27062: ST_TO_ADDR
// def_tech_level := 8 ;
27063: LD_ADDR_EXP 26
27067: PUSH
27068: LD_INT 8
27070: ST_TO_ADDR
// def_upgrade_tl := 0 ;
27071: LD_ADDR_EXP 27
27075: PUSH
27076: LD_INT 0
27078: ST_TO_ADDR
// def_desert_warior := 0 ;
27079: LD_ADDR_EXP 31
27083: PUSH
27084: LD_INT 0
27086: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth ] ;
27087: LD_ADDR_VAR 0 2
27091: PUSH
27092: LD_INT 23
27094: PUSH
27095: EMPTY
27096: LIST
27097: ST_TO_ADDR
// Unavailable_Builds := [ b_Workshop , b_Behemoth , b_Bunker , b_Turret , b_Control_Tower , b_ext_track , b_ext_stitch , b_ext_siberium , b_ext_rocket , b_ext_radio , b_ext_radar , b_ext_noncombat , b_ext_laser , b_ext_gun , b_ext_computer ] ;
27098: LD_ADDR_VAR 0 3
27102: PUSH
27103: LD_INT 2
27105: PUSH
27106: LD_INT 37
27108: PUSH
27109: LD_INT 32
27111: PUSH
27112: LD_INT 33
27114: PUSH
27115: LD_INT 36
27117: PUSH
27118: LD_INT 16
27120: PUSH
27121: LD_INT 23
27123: PUSH
27124: LD_INT 21
27126: PUSH
27127: LD_INT 18
27129: PUSH
27130: LD_INT 22
27132: PUSH
27133: LD_INT 20
27135: PUSH
27136: LD_INT 19
27138: PUSH
27139: LD_INT 25
27141: PUSH
27142: LD_INT 17
27144: PUSH
27145: LD_INT 24
27147: PUSH
27148: EMPTY
27149: LIST
27150: LIST
27151: LIST
27152: LIST
27153: LIST
27154: LIST
27155: LIST
27156: LIST
27157: LIST
27158: LIST
27159: LIST
27160: LIST
27161: LIST
27162: LIST
27163: LIST
27164: ST_TO_ADDR
// Banned_Weapons := [ ] ;
27165: LD_ADDR_LOC 24
27169: PUSH
27170: EMPTY
27171: ST_TO_ADDR
// Banned_Chassis := [ ] ;
27172: LD_ADDR_LOC 25
27176: PUSH
27177: EMPTY
27178: ST_TO_ADDR
// Banned_Controls := [ ] ;
27179: LD_ADDR_LOC 26
27183: PUSH
27184: EMPTY
27185: ST_TO_ADDR
// Banned_Engines := [ ] ;
27186: LD_ADDR_LOC 27
27190: PUSH
27191: EMPTY
27192: ST_TO_ADDR
// Restricted_Builds := [ ] ;
27193: LD_ADDR_LOC 22
27197: PUSH
27198: EMPTY
27199: ST_TO_ADDR
// Restricted_Builds_Amount := [ ] ;
27200: LD_ADDR_LOC 23
27204: PUSH
27205: EMPTY
27206: ST_TO_ADDR
// end ; 4 :
27207: GO 28843
27209: LD_INT 4
27211: DOUBLE
27212: EQUAL
27213: IFTRUE 27217
27215: GO 27440
27217: POP
// begin def_base_level := 1 ;
27218: LD_ADDR_EXP 10
27222: PUSH
27223: LD_INT 1
27225: ST_TO_ADDR
// def_amount_of_people := 10 ;
27226: LD_ADDR_EXP 11
27230: PUSH
27231: LD_INT 10
27233: ST_TO_ADDR
// def_initial_level := 3 ;
27234: LD_ADDR_EXP 13
27238: PUSH
27239: LD_INT 3
27241: ST_TO_ADDR
// def_starting_resources := 3 ;
27242: LD_ADDR_EXP 15
27246: PUSH
27247: LD_INT 3
27249: ST_TO_ADDR
// def_shipments_density := 2 ;
27250: LD_ADDR_EXP 16
27254: PUSH
27255: LD_INT 2
27257: ST_TO_ADDR
// def_extra_oil_deposits := 1 ;
27258: LD_ADDR_EXP 17
27262: PUSH
27263: LD_INT 1
27265: ST_TO_ADDR
// def_extra_sib_deposits := 2 ;
27266: LD_ADDR_EXP 18
27270: PUSH
27271: LD_INT 2
27273: ST_TO_ADDR
// def_shared_vision := 1 ;
27274: LD_ADDR_EXP 19
27278: PUSH
27279: LD_INT 1
27281: ST_TO_ADDR
// def_morale_flags := 0 ;
27282: LD_ADDR_EXP 20
27286: PUSH
27287: LD_INT 0
27289: ST_TO_ADDR
// def_siberite_detection := 1 ;
27290: LD_ADDR_EXP 28
27294: PUSH
27295: LD_INT 1
27297: ST_TO_ADDR
// def_people_respawning := 0 ;
27298: LD_ADDR_EXP 25
27302: PUSH
27303: LD_INT 0
27305: ST_TO_ADDR
// def_amount_of_apemen := 0 ;
27306: LD_ADDR_EXP 22
27310: PUSH
27311: LD_INT 0
27313: ST_TO_ADDR
// def_siberite_bomb := 1 ;
27314: LD_ADDR_EXP 29
27318: PUSH
27319: LD_INT 1
27321: ST_TO_ADDR
// def_builduptime := 3 ;
27322: LD_ADDR_EXP 30
27326: PUSH
27327: LD_INT 3
27329: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
27330: LD_ADDR_EXP 12
27334: PUSH
27335: LD_INT 0
27337: ST_TO_ADDR
// def_amount_of_tiger := 0 ;
27338: LD_ADDR_EXP 23
27342: PUSH
27343: LD_INT 0
27345: ST_TO_ADDR
// def_respawining_type := 3 ;
27346: LD_ADDR_EXP 24
27350: PUSH
27351: LD_INT 3
27353: ST_TO_ADDR
// def_tech_level := 8 ;
27354: LD_ADDR_EXP 26
27358: PUSH
27359: LD_INT 8
27361: ST_TO_ADDR
// def_upgrade_tl := 0 ;
27362: LD_ADDR_EXP 27
27366: PUSH
27367: LD_INT 0
27369: ST_TO_ADDR
// def_desert_warior := 0 ;
27370: LD_ADDR_EXP 31
27374: PUSH
27375: LD_INT 0
27377: ST_TO_ADDR
// Unavailable_Techs := [ tech_ApeLang ] ;
27378: LD_ADDR_VAR 0 2
27382: PUSH
27383: LD_INT 1
27385: PUSH
27386: EMPTY
27387: LIST
27388: ST_TO_ADDR
// Unavailable_Builds := [ ] ;
27389: LD_ADDR_VAR 0 3
27393: PUSH
27394: EMPTY
27395: ST_TO_ADDR
// Banned_Weapons := [ ] ;
27396: LD_ADDR_LOC 24
27400: PUSH
27401: EMPTY
27402: ST_TO_ADDR
// Banned_Chassis := [ ] ;
27403: LD_ADDR_LOC 25
27407: PUSH
27408: EMPTY
27409: ST_TO_ADDR
// Banned_Controls := [ ] ;
27410: LD_ADDR_LOC 26
27414: PUSH
27415: EMPTY
27416: ST_TO_ADDR
// Banned_Engines := [ ] ;
27417: LD_ADDR_LOC 27
27421: PUSH
27422: EMPTY
27423: ST_TO_ADDR
// Restricted_Builds := [ ] ;
27424: LD_ADDR_LOC 22
27428: PUSH
27429: EMPTY
27430: ST_TO_ADDR
// Restricted_Builds_Amount := [ ] ;
27431: LD_ADDR_LOC 23
27435: PUSH
27436: EMPTY
27437: ST_TO_ADDR
// end ; 5 :
27438: GO 28843
27440: LD_INT 5
27442: DOUBLE
27443: EQUAL
27444: IFTRUE 27448
27446: GO 27780
27448: POP
// begin def_base_level := 0 ;
27449: LD_ADDR_EXP 10
27453: PUSH
27454: LD_INT 0
27456: ST_TO_ADDR
// def_amount_of_people := 3 ;
27457: LD_ADDR_EXP 11
27461: PUSH
27462: LD_INT 3
27464: ST_TO_ADDR
// def_initial_level := 0 ;
27465: LD_ADDR_EXP 13
27469: PUSH
27470: LD_INT 0
27472: ST_TO_ADDR
// def_starting_resources := 0 ;
27473: LD_ADDR_EXP 15
27477: PUSH
27478: LD_INT 0
27480: ST_TO_ADDR
// def_shipments_density := 0 ;
27481: LD_ADDR_EXP 16
27485: PUSH
27486: LD_INT 0
27488: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
27489: LD_ADDR_EXP 17
27493: PUSH
27494: LD_INT 0
27496: ST_TO_ADDR
// def_extra_sib_deposits := 0 ;
27497: LD_ADDR_EXP 18
27501: PUSH
27502: LD_INT 0
27504: ST_TO_ADDR
// def_shared_vision := 1 ;
27505: LD_ADDR_EXP 19
27509: PUSH
27510: LD_INT 1
27512: ST_TO_ADDR
// def_morale_flags := 0 ;
27513: LD_ADDR_EXP 20
27517: PUSH
27518: LD_INT 0
27520: ST_TO_ADDR
// def_siberite_detection := 0 ;
27521: LD_ADDR_EXP 28
27525: PUSH
27526: LD_INT 0
27528: ST_TO_ADDR
// def_people_respawning := 1 ;
27529: LD_ADDR_EXP 25
27533: PUSH
27534: LD_INT 1
27536: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
27537: LD_ADDR_EXP 22
27541: PUSH
27542: LD_INT 1
27544: ST_TO_ADDR
// def_siberite_bomb := 0 ;
27545: LD_ADDR_EXP 29
27549: PUSH
27550: LD_INT 0
27552: ST_TO_ADDR
// def_builduptime := 0 ;
27553: LD_ADDR_EXP 30
27557: PUSH
27558: LD_INT 0
27560: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
27561: LD_ADDR_EXP 12
27565: PUSH
27566: LD_INT 0
27568: ST_TO_ADDR
// def_amount_of_tiger := 2 ;
27569: LD_ADDR_EXP 23
27573: PUSH
27574: LD_INT 2
27576: ST_TO_ADDR
// def_respawining_type := 3 ;
27577: LD_ADDR_EXP 24
27581: PUSH
27582: LD_INT 3
27584: ST_TO_ADDR
// def_tech_level := 8 ;
27585: LD_ADDR_EXP 26
27589: PUSH
27590: LD_INT 8
27592: ST_TO_ADDR
// def_upgrade_tl := 0 ;
27593: LD_ADDR_EXP 27
27597: PUSH
27598: LD_INT 0
27600: ST_TO_ADDR
// def_desert_warior := 0 ;
27601: LD_ADDR_EXP 31
27605: PUSH
27606: LD_INT 0
27608: ST_TO_ADDR
// Unavailable_Techs := [ tech_Laser , tech_ApeNeural ] ;
27609: LD_ADDR_VAR 0 2
27613: PUSH
27614: LD_INT 10
27616: PUSH
27617: LD_INT 3
27619: PUSH
27620: EMPTY
27621: LIST
27622: LIST
27623: ST_TO_ADDR
// Unavailable_Builds := [ b_Lab_Computer , b_Lab_Siberium , b_Lab_Spacetime , b_Lab_Biological , b_Barracks , b_ext_Computer , b_ext_Siberium , b_Turret , b_Control_Tower ] ;
27624: LD_ADDR_VAR 0 3
27628: PUSH
27629: LD_INT 12
27631: PUSH
27632: LD_INT 11
27634: PUSH
27635: LD_INT 14
27637: PUSH
27638: LD_INT 13
27640: PUSH
27641: LD_INT 5
27643: PUSH
27644: LD_INT 24
27646: PUSH
27647: LD_INT 21
27649: PUSH
27650: LD_INT 33
27652: PUSH
27653: LD_INT 36
27655: PUSH
27656: EMPTY
27657: LIST
27658: LIST
27659: LIST
27660: LIST
27661: LIST
27662: LIST
27663: LIST
27664: LIST
27665: LIST
27666: ST_TO_ADDR
// Banned_Weapons := [ ar_Control_Tower ] ;
27667: LD_ADDR_LOC 24
27671: PUSH
27672: LD_INT 31
27674: PUSH
27675: EMPTY
27676: LIST
27677: ST_TO_ADDR
// Banned_Chassis := [ ] ;
27678: LD_ADDR_LOC 25
27682: PUSH
27683: EMPTY
27684: ST_TO_ADDR
// Banned_Controls := [ control_Remote ] ;
27685: LD_ADDR_LOC 26
27689: PUSH
27690: LD_INT 2
27692: PUSH
27693: EMPTY
27694: LIST
27695: ST_TO_ADDR
// Banned_Engines := [ ] ;
27696: LD_ADDR_LOC 27
27700: PUSH
27701: EMPTY
27702: ST_TO_ADDR
// Restricted_Builds := [ [ b_Armoury ] , [ b_Breastwork , b_Bunker ] ] ;
27703: LD_ADDR_LOC 22
27707: PUSH
27708: LD_INT 4
27710: PUSH
27711: EMPTY
27712: LIST
27713: PUSH
27714: LD_INT 31
27716: PUSH
27717: LD_INT 32
27719: PUSH
27720: EMPTY
27721: LIST
27722: LIST
27723: PUSH
27724: EMPTY
27725: LIST
27726: LIST
27727: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
27728: LD_EXP 1
27732: PUSH
27733: LD_EXP 3
27737: PUSH
27738: LD_EXP 4
27742: ADD
27743: IN
27744: IFFALSE 27763
// Restricted_Builds_Amount := [ 2 , 2 ] else
27746: LD_ADDR_LOC 23
27750: PUSH
27751: LD_INT 2
27753: PUSH
27754: LD_INT 2
27756: PUSH
27757: EMPTY
27758: LIST
27759: LIST
27760: ST_TO_ADDR
27761: GO 27778
// Restricted_Builds_Amount := [ 1 , 1 ] ;
27763: LD_ADDR_LOC 23
27767: PUSH
27768: LD_INT 1
27770: PUSH
27771: LD_INT 1
27773: PUSH
27774: EMPTY
27775: LIST
27776: LIST
27777: ST_TO_ADDR
// end ; 6 :
27778: GO 28843
27780: LD_INT 6
27782: DOUBLE
27783: EQUAL
27784: IFTRUE 27788
27786: GO 28066
27788: POP
// begin def_base_level := 1 ;
27789: LD_ADDR_EXP 10
27793: PUSH
27794: LD_INT 1
27796: ST_TO_ADDR
// def_amount_of_people := 10 ;
27797: LD_ADDR_EXP 11
27801: PUSH
27802: LD_INT 10
27804: ST_TO_ADDR
// def_initial_level := 3 ;
27805: LD_ADDR_EXP 13
27809: PUSH
27810: LD_INT 3
27812: ST_TO_ADDR
// def_starting_resources := 3 ;
27813: LD_ADDR_EXP 15
27817: PUSH
27818: LD_INT 3
27820: ST_TO_ADDR
// def_shipments_density := 1 ;
27821: LD_ADDR_EXP 16
27825: PUSH
27826: LD_INT 1
27828: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
27829: LD_ADDR_EXP 17
27833: PUSH
27834: LD_INT 0
27836: ST_TO_ADDR
// def_extra_sib_deposits := 1 ;
27837: LD_ADDR_EXP 18
27841: PUSH
27842: LD_INT 1
27844: ST_TO_ADDR
// def_shared_vision := 1 ;
27845: LD_ADDR_EXP 19
27849: PUSH
27850: LD_INT 1
27852: ST_TO_ADDR
// def_morale_flags := 0 ;
27853: LD_ADDR_EXP 20
27857: PUSH
27858: LD_INT 0
27860: ST_TO_ADDR
// def_siberite_detection := 1 ;
27861: LD_ADDR_EXP 28
27865: PUSH
27866: LD_INT 1
27868: ST_TO_ADDR
// def_people_respawning := 2 ;
27869: LD_ADDR_EXP 25
27873: PUSH
27874: LD_INT 2
27876: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
27877: LD_ADDR_EXP 22
27881: PUSH
27882: LD_INT 1
27884: ST_TO_ADDR
// def_siberite_bomb := 0 ;
27885: LD_ADDR_EXP 29
27889: PUSH
27890: LD_INT 0
27892: ST_TO_ADDR
// def_builduptime := 1 ;
27893: LD_ADDR_EXP 30
27897: PUSH
27898: LD_INT 1
27900: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
27901: LD_ADDR_EXP 12
27905: PUSH
27906: LD_INT 0
27908: ST_TO_ADDR
// def_amount_of_tiger := 1 ;
27909: LD_ADDR_EXP 23
27913: PUSH
27914: LD_INT 1
27916: ST_TO_ADDR
// def_respawining_type := 3 ;
27917: LD_ADDR_EXP 24
27921: PUSH
27922: LD_INT 3
27924: ST_TO_ADDR
// def_tech_level := 8 ;
27925: LD_ADDR_EXP 26
27929: PUSH
27930: LD_INT 8
27932: ST_TO_ADDR
// def_upgrade_tl := 0 ;
27933: LD_ADDR_EXP 27
27937: PUSH
27938: LD_INT 0
27940: ST_TO_ADDR
// def_desert_warior := 0 ;
27941: LD_ADDR_EXP 31
27945: PUSH
27946: LD_INT 0
27948: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth ] ;
27949: LD_ADDR_VAR 0 2
27953: PUSH
27954: LD_INT 23
27956: PUSH
27957: EMPTY
27958: LIST
27959: ST_TO_ADDR
// Unavailable_Builds := [ b_Workshop , b_Behemoth , b_Breastwork , b_Bunker , b_Turret ] ;
27960: LD_ADDR_VAR 0 3
27964: PUSH
27965: LD_INT 2
27967: PUSH
27968: LD_INT 37
27970: PUSH
27971: LD_INT 31
27973: PUSH
27974: LD_INT 32
27976: PUSH
27977: LD_INT 33
27979: PUSH
27980: EMPTY
27981: LIST
27982: LIST
27983: LIST
27984: LIST
27985: LIST
27986: ST_TO_ADDR
// Banned_Weapons := [ ] ;
27987: LD_ADDR_LOC 24
27991: PUSH
27992: EMPTY
27993: ST_TO_ADDR
// Banned_Chassis := [ ] ;
27994: LD_ADDR_LOC 25
27998: PUSH
27999: EMPTY
28000: ST_TO_ADDR
// Banned_Controls := [ ] ;
28001: LD_ADDR_LOC 26
28005: PUSH
28006: EMPTY
28007: ST_TO_ADDR
// Banned_Engines := [ ] ;
28008: LD_ADDR_LOC 27
28012: PUSH
28013: EMPTY
28014: ST_TO_ADDR
// Restricted_Builds := [ [ b_Armoury , b_barracks ] ] ;
28015: LD_ADDR_LOC 22
28019: PUSH
28020: LD_INT 4
28022: PUSH
28023: LD_INT 5
28025: PUSH
28026: EMPTY
28027: LIST
28028: LIST
28029: PUSH
28030: EMPTY
28031: LIST
28032: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
28033: LD_EXP 1
28037: PUSH
28038: LD_EXP 3
28042: PUSH
28043: LD_EXP 4
28047: ADD
28048: IN
28049: IFFALSE 28053
// else
28051: GO 28064
// Restricted_Builds_Amount := [ 1 ] ;
28053: LD_ADDR_LOC 23
28057: PUSH
28058: LD_INT 1
28060: PUSH
28061: EMPTY
28062: LIST
28063: ST_TO_ADDR
// end ; 7 :
28064: GO 28843
28066: LD_INT 7
28068: DOUBLE
28069: EQUAL
28070: IFTRUE 28074
28072: GO 28351
28074: POP
// begin def_base_level := 1 ;
28075: LD_ADDR_EXP 10
28079: PUSH
28080: LD_INT 1
28082: ST_TO_ADDR
// def_amount_of_people := 10 ;
28083: LD_ADDR_EXP 11
28087: PUSH
28088: LD_INT 10
28090: ST_TO_ADDR
// def_initial_level := 3 ;
28091: LD_ADDR_EXP 13
28095: PUSH
28096: LD_INT 3
28098: ST_TO_ADDR
// def_starting_resources := 3 ;
28099: LD_ADDR_EXP 15
28103: PUSH
28104: LD_INT 3
28106: ST_TO_ADDR
// def_shipments_density := 1 ;
28107: LD_ADDR_EXP 16
28111: PUSH
28112: LD_INT 1
28114: ST_TO_ADDR
// def_extra_oil_deposits := 1 ;
28115: LD_ADDR_EXP 17
28119: PUSH
28120: LD_INT 1
28122: ST_TO_ADDR
// def_extra_sib_deposits := 2 ;
28123: LD_ADDR_EXP 18
28127: PUSH
28128: LD_INT 2
28130: ST_TO_ADDR
// def_shared_vision := 1 ;
28131: LD_ADDR_EXP 19
28135: PUSH
28136: LD_INT 1
28138: ST_TO_ADDR
// def_morale_flags := 0 ;
28139: LD_ADDR_EXP 20
28143: PUSH
28144: LD_INT 0
28146: ST_TO_ADDR
// def_siberite_detection := 1 ;
28147: LD_ADDR_EXP 28
28151: PUSH
28152: LD_INT 1
28154: ST_TO_ADDR
// def_people_respawning := 0 ;
28155: LD_ADDR_EXP 25
28159: PUSH
28160: LD_INT 0
28162: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
28163: LD_ADDR_EXP 22
28167: PUSH
28168: LD_INT 1
28170: ST_TO_ADDR
// def_siberite_bomb := 0 ;
28171: LD_ADDR_EXP 29
28175: PUSH
28176: LD_INT 0
28178: ST_TO_ADDR
// def_builduptime := 3 ;
28179: LD_ADDR_EXP 30
28183: PUSH
28184: LD_INT 3
28186: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
28187: LD_ADDR_EXP 12
28191: PUSH
28192: LD_INT 0
28194: ST_TO_ADDR
// def_amount_of_tiger := 1 ;
28195: LD_ADDR_EXP 23
28199: PUSH
28200: LD_INT 1
28202: ST_TO_ADDR
// def_respawining_type := 3 ;
28203: LD_ADDR_EXP 24
28207: PUSH
28208: LD_INT 3
28210: ST_TO_ADDR
// def_tech_level := 8 ;
28211: LD_ADDR_EXP 26
28215: PUSH
28216: LD_INT 8
28218: ST_TO_ADDR
// def_upgrade_tl := 0 ;
28219: LD_ADDR_EXP 27
28223: PUSH
28224: LD_INT 0
28226: ST_TO_ADDR
// def_desert_warior := 0 ;
28227: LD_ADDR_EXP 31
28231: PUSH
28232: LD_INT 0
28234: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth ] ;
28235: LD_ADDR_VAR 0 2
28239: PUSH
28240: LD_INT 23
28242: PUSH
28243: EMPTY
28244: LIST
28245: ST_TO_ADDR
// Unavailable_Builds := [ b_Behemoth ] ;
28246: LD_ADDR_VAR 0 3
28250: PUSH
28251: LD_INT 37
28253: PUSH
28254: EMPTY
28255: LIST
28256: ST_TO_ADDR
// Banned_Weapons := [ ] ;
28257: LD_ADDR_LOC 24
28261: PUSH
28262: EMPTY
28263: ST_TO_ADDR
// Banned_Chassis := [ ] ;
28264: LD_ADDR_LOC 25
28268: PUSH
28269: EMPTY
28270: ST_TO_ADDR
// Banned_Controls := [ ] ;
28271: LD_ADDR_LOC 26
28275: PUSH
28276: EMPTY
28277: ST_TO_ADDR
// Banned_Engines := [ ] ;
28278: LD_ADDR_LOC 27
28282: PUSH
28283: EMPTY
28284: ST_TO_ADDR
// Restricted_Builds := [ [ b_Breastwork , b_Bunker , b_Turret ] ] ;
28285: LD_ADDR_LOC 22
28289: PUSH
28290: LD_INT 31
28292: PUSH
28293: LD_INT 32
28295: PUSH
28296: LD_INT 33
28298: PUSH
28299: EMPTY
28300: LIST
28301: LIST
28302: LIST
28303: PUSH
28304: EMPTY
28305: LIST
28306: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
28307: LD_EXP 1
28311: PUSH
28312: LD_EXP 3
28316: PUSH
28317: LD_EXP 4
28321: ADD
28322: IN
28323: IFFALSE 28338
// Restricted_Builds_Amount := [ 20 ] else
28325: LD_ADDR_LOC 23
28329: PUSH
28330: LD_INT 20
28332: PUSH
28333: EMPTY
28334: LIST
28335: ST_TO_ADDR
28336: GO 28349
// Restricted_Builds_Amount := [ 10 ] ;
28338: LD_ADDR_LOC 23
28342: PUSH
28343: LD_INT 10
28345: PUSH
28346: EMPTY
28347: LIST
28348: ST_TO_ADDR
// end ; 8 :
28349: GO 28843
28351: LD_INT 8
28353: DOUBLE
28354: EQUAL
28355: IFTRUE 28359
28357: GO 28842
28359: POP
// begin def_base_level := 0 ;
28360: LD_ADDR_EXP 10
28364: PUSH
28365: LD_INT 0
28367: ST_TO_ADDR
// def_amount_of_people := Rand ( 4 , 8 ) ;
28368: LD_ADDR_EXP 11
28372: PUSH
28373: LD_INT 4
28375: PPUSH
28376: LD_INT 8
28378: PPUSH
28379: CALL_OW 12
28383: ST_TO_ADDR
// def_initial_level := 0 ;
28384: LD_ADDR_EXP 13
28388: PUSH
28389: LD_INT 0
28391: ST_TO_ADDR
// def_starting_resources := 2 ;
28392: LD_ADDR_EXP 15
28396: PUSH
28397: LD_INT 2
28399: ST_TO_ADDR
// def_shipments_density := 1 ;
28400: LD_ADDR_EXP 16
28404: PUSH
28405: LD_INT 1
28407: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
28408: LD_ADDR_EXP 17
28412: PUSH
28413: LD_INT 0
28415: ST_TO_ADDR
// def_extra_sib_deposits := 0 ;
28416: LD_ADDR_EXP 18
28420: PUSH
28421: LD_INT 0
28423: ST_TO_ADDR
// def_shared_vision := 1 ;
28424: LD_ADDR_EXP 19
28428: PUSH
28429: LD_INT 1
28431: ST_TO_ADDR
// def_morale_flags := Rand ( 0 , 2 ) ;
28432: LD_ADDR_EXP 20
28436: PUSH
28437: LD_INT 0
28439: PPUSH
28440: LD_INT 2
28442: PPUSH
28443: CALL_OW 12
28447: ST_TO_ADDR
// def_siberite_detection := 0 ;
28448: LD_ADDR_EXP 28
28452: PUSH
28453: LD_INT 0
28455: ST_TO_ADDR
// def_people_respawning := 0 ;
28456: LD_ADDR_EXP 25
28460: PUSH
28461: LD_INT 0
28463: ST_TO_ADDR
// def_amount_of_apemen := 2 ;
28464: LD_ADDR_EXP 22
28468: PUSH
28469: LD_INT 2
28471: ST_TO_ADDR
// def_siberite_bomb := 0 ;
28472: LD_ADDR_EXP 29
28476: PUSH
28477: LD_INT 0
28479: ST_TO_ADDR
// def_builduptime := 0 ;
28480: LD_ADDR_EXP 30
28484: PUSH
28485: LD_INT 0
28487: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
28488: LD_ADDR_EXP 12
28492: PUSH
28493: LD_INT 0
28495: ST_TO_ADDR
// def_amount_of_tiger := 2 ;
28496: LD_ADDR_EXP 23
28500: PUSH
28501: LD_INT 2
28503: ST_TO_ADDR
// def_respawining_type := 3 ;
28504: LD_ADDR_EXP 24
28508: PUSH
28509: LD_INT 3
28511: ST_TO_ADDR
// def_tech_level := 8 ;
28512: LD_ADDR_EXP 26
28516: PUSH
28517: LD_INT 8
28519: ST_TO_ADDR
// def_upgrade_tl := 0 ;
28520: LD_ADDR_EXP 27
28524: PUSH
28525: LD_INT 0
28527: ST_TO_ADDR
// def_desert_warior := 0 ;
28528: LD_ADDR_EXP 31
28532: PUSH
28533: LD_INT 0
28535: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth , tech_SibDet , tech_Rocket , tech_OilEng , tech_OilPow , tech_Gun , tech_AdvRocket , tech_AdvMet , tech_Mortar , tech_Bazooka , tech_HidCam , tech_PartInvis ] ;
28536: LD_ADDR_VAR 0 2
28540: PUSH
28541: LD_INT 23
28543: PUSH
28544: LD_INT 20
28546: PUSH
28547: LD_INT 40
28549: PUSH
28550: LD_INT 47
28552: PUSH
28553: LD_INT 46
28555: PUSH
28556: LD_INT 39
28558: PUSH
28559: LD_INT 71
28561: PUSH
28562: LD_INT 34
28564: PUSH
28565: LD_INT 41
28567: PUSH
28568: LD_INT 44
28570: PUSH
28571: LD_INT 17
28573: PUSH
28574: LD_INT 16
28576: PUSH
28577: EMPTY
28578: LIST
28579: LIST
28580: LIST
28581: LIST
28582: LIST
28583: LIST
28584: LIST
28585: LIST
28586: LIST
28587: LIST
28588: LIST
28589: LIST
28590: ST_TO_ADDR
// Unavailable_Builds := [ b_Behemoth , b_Barracks , b_Lab_Biological , b_Teleport , b_Lab_Computer , b_Lab_Opto , b_Lab_Siberium , b_Lab_Spacetime , b_Oil_Mine , b_Siberite_Mine , b_Siberite_Power , b_Ext_Computer , b_Ext_Laser , b_Ext_Radar , b_Ext_Siberium , b_Ext_Radio , b_Control_Tower ] ;
28591: LD_ADDR_VAR 0 3
28595: PUSH
28596: LD_INT 37
28598: PUSH
28599: LD_INT 5
28601: PUSH
28602: LD_INT 13
28604: PUSH
28605: LD_INT 34
28607: PUSH
28608: LD_INT 12
28610: PUSH
28611: LD_INT 15
28613: PUSH
28614: LD_INT 11
28616: PUSH
28617: LD_INT 14
28619: PUSH
28620: LD_INT 29
28622: PUSH
28623: LD_INT 30
28625: PUSH
28626: LD_INT 28
28628: PUSH
28629: LD_INT 24
28631: PUSH
28632: LD_INT 25
28634: PUSH
28635: LD_INT 20
28637: PUSH
28638: LD_INT 21
28640: PUSH
28641: LD_INT 22
28643: PUSH
28644: LD_INT 36
28646: PUSH
28647: EMPTY
28648: LIST
28649: LIST
28650: LIST
28651: LIST
28652: LIST
28653: LIST
28654: LIST
28655: LIST
28656: LIST
28657: LIST
28658: LIST
28659: LIST
28660: LIST
28661: LIST
28662: LIST
28663: LIST
28664: LIST
28665: ST_TO_ADDR
// Banned_Weapons := [ ] ;
28666: LD_ADDR_LOC 24
28670: PUSH
28671: EMPTY
28672: ST_TO_ADDR
// Banned_Chassis := [ ar_half_tracked ] ;
28673: LD_ADDR_LOC 25
28677: PUSH
28678: LD_INT 14
28680: PUSH
28681: EMPTY
28682: LIST
28683: ST_TO_ADDR
// Banned_Controls := [ ] ;
28684: LD_ADDR_LOC 26
28688: PUSH
28689: EMPTY
28690: ST_TO_ADDR
// Banned_Engines := [ ] ;
28691: LD_ADDR_LOC 27
28695: PUSH
28696: EMPTY
28697: ST_TO_ADDR
// Restricted_Builds := [ [ b_Breastwork , b_Bunker ] , [ b_Armoury ] ] ;
28698: LD_ADDR_LOC 22
28702: PUSH
28703: LD_INT 31
28705: PUSH
28706: LD_INT 32
28708: PUSH
28709: EMPTY
28710: LIST
28711: LIST
28712: PUSH
28713: LD_INT 4
28715: PUSH
28716: EMPTY
28717: LIST
28718: PUSH
28719: EMPTY
28720: LIST
28721: LIST
28722: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
28723: LD_EXP 1
28727: PUSH
28728: LD_EXP 3
28732: PUSH
28733: LD_EXP 4
28737: ADD
28738: IN
28739: IFFALSE 28758
// Restricted_Builds_Amount := [ 4 , 2 ] else
28741: LD_ADDR_LOC 23
28745: PUSH
28746: LD_INT 4
28748: PUSH
28749: LD_INT 2
28751: PUSH
28752: EMPTY
28753: LIST
28754: LIST
28755: ST_TO_ADDR
28756: GO 28773
// Restricted_Builds_Amount := [ 2 , 1 ] ;
28758: LD_ADDR_LOC 23
28762: PUSH
28763: LD_INT 2
28765: PUSH
28766: LD_INT 1
28768: PUSH
28769: EMPTY
28770: LIST
28771: LIST
28772: ST_TO_ADDR
// for i := 1 to 8 do
28773: LD_ADDR_VAR 0 4
28777: PUSH
28778: DOUBLE
28779: LD_INT 1
28781: DEC
28782: ST_TO_ADDR
28783: LD_INT 8
28785: PUSH
28786: FOR_TO
28787: IFFALSE 28838
// if ( Side_Nations [ i ] = 3 ) then
28789: LD_EXP 75
28793: PUSH
28794: LD_VAR 0 4
28798: ARRAY
28799: PUSH
28800: LD_INT 3
28802: EQUAL
28803: IFFALSE 28836
// Side_Nations := Replace ( Side_Nations , i , Rand ( 1 , 2 ) ) ;
28805: LD_ADDR_EXP 75
28809: PUSH
28810: LD_EXP 75
28814: PPUSH
28815: LD_VAR 0 4
28819: PPUSH
28820: LD_INT 1
28822: PPUSH
28823: LD_INT 2
28825: PPUSH
28826: CALL_OW 12
28830: PPUSH
28831: CALL_OW 1
28835: ST_TO_ADDR
28836: GO 28786
28838: POP
28839: POP
// end ; end ;
28840: GO 28843
28842: POP
// for i := 1 to 8 do
28843: LD_ADDR_VAR 0 4
28847: PUSH
28848: DOUBLE
28849: LD_INT 1
28851: DEC
28852: ST_TO_ADDR
28853: LD_INT 8
28855: PUSH
28856: FOR_TO
28857: IFFALSE 28941
// if Side_Positions [ i ] then
28859: LD_EXP 74
28863: PUSH
28864: LD_VAR 0 4
28868: ARRAY
28869: IFFALSE 28939
// begin for j in Unavailable_Techs do
28871: LD_ADDR_VAR 0 5
28875: PUSH
28876: LD_VAR 0 2
28880: PUSH
28881: FOR_IN
28882: IFFALSE 28903
// SetTech ( j , i , 0 ) ;
28884: LD_VAR 0 5
28888: PPUSH
28889: LD_VAR 0 4
28893: PPUSH
28894: LD_INT 0
28896: PPUSH
28897: CALL_OW 322
28901: GO 28881
28903: POP
28904: POP
// for j in Unavailable_Builds do
28905: LD_ADDR_VAR 0 5
28909: PUSH
28910: LD_VAR 0 3
28914: PUSH
28915: FOR_IN
28916: IFFALSE 28937
// SetRestrict ( j , i , 0 ) ;
28918: LD_VAR 0 5
28922: PPUSH
28923: LD_VAR 0 4
28927: PPUSH
28928: LD_INT 0
28930: PPUSH
28931: CALL_OW 324
28935: GO 28915
28937: POP
28938: POP
// end ;
28939: GO 28856
28941: POP
28942: POP
// end ;
28943: LD_VAR 0 1
28947: RET
// export function InitLimits ; var i , j , k , amount , btype , list ; begin
28948: LD_INT 0
28950: PPUSH
28951: PPUSH
28952: PPUSH
28953: PPUSH
28954: PPUSH
28955: PPUSH
28956: PPUSH
// for i := 1 to Restricted_Builds do
28957: LD_ADDR_VAR 0 2
28961: PUSH
28962: DOUBLE
28963: LD_INT 1
28965: DEC
28966: ST_TO_ADDR
28967: LD_LOC 22
28971: PUSH
28972: FOR_TO
28973: IFFALSE 29283
// begin case Restricted_Builds [ i ] [ 1 ] of b_Breastwork , b_Bunker , b_Turret :
28975: LD_LOC 22
28979: PUSH
28980: LD_VAR 0 2
28984: ARRAY
28985: PUSH
28986: LD_INT 1
28988: ARRAY
28989: PUSH
28990: LD_INT 31
28992: DOUBLE
28993: EQUAL
28994: IFTRUE 29010
28996: LD_INT 32
28998: DOUBLE
28999: EQUAL
29000: IFTRUE 29010
29002: LD_INT 33
29004: DOUBLE
29005: EQUAL
29006: IFTRUE 29010
29008: GO 29021
29010: POP
// btype := #Turrets ; b_Armoury , b_Barracks :
29011: LD_ADDR_VAR 0 6
29015: PUSH
29016: LD_STRING #Turrets
29018: ST_TO_ADDR
29019: GO 29066
29021: LD_INT 4
29023: DOUBLE
29024: EQUAL
29025: IFTRUE 29035
29027: LD_INT 5
29029: DOUBLE
29030: EQUAL
29031: IFTRUE 29035
29033: GO 29046
29035: POP
// btype := #Armouries ; b_Behemoth :
29036: LD_ADDR_VAR 0 6
29040: PUSH
29041: LD_STRING #Armouries
29043: ST_TO_ADDR
29044: GO 29066
29046: LD_INT 37
29048: DOUBLE
29049: EQUAL
29050: IFTRUE 29054
29052: GO 29065
29054: POP
// btype := #Behemoths ; end ;
29055: LD_ADDR_VAR 0 6
29059: PUSH
29060: LD_STRING #Behemoths
29062: ST_TO_ADDR
29063: GO 29066
29065: POP
// list := [ ] ;
29066: LD_ADDR_VAR 0 7
29070: PUSH
29071: EMPTY
29072: ST_TO_ADDR
// for j := 1 to 8 do
29073: LD_ADDR_VAR 0 3
29077: PUSH
29078: DOUBLE
29079: LD_INT 1
29081: DEC
29082: ST_TO_ADDR
29083: LD_INT 8
29085: PUSH
29086: FOR_TO
29087: IFFALSE 29180
// if Side_Positions [ j ] then
29089: LD_EXP 74
29093: PUSH
29094: LD_VAR 0 3
29098: ARRAY
29099: IFFALSE 29178
// begin amount := 0 ;
29101: LD_ADDR_VAR 0 5
29105: PUSH
29106: LD_INT 0
29108: ST_TO_ADDR
// for k in Restricted_Builds [ i ] do
29109: LD_ADDR_VAR 0 4
29113: PUSH
29114: LD_LOC 22
29118: PUSH
29119: LD_VAR 0 2
29123: ARRAY
29124: PUSH
29125: FOR_IN
29126: IFFALSE 29174
// amount := amount + FilterAllUnits ( [ [ f_side , j ] , [ f_btype , k ] ] ) ;
29128: LD_ADDR_VAR 0 5
29132: PUSH
29133: LD_VAR 0 5
29137: PUSH
29138: LD_INT 22
29140: PUSH
29141: LD_VAR 0 3
29145: PUSH
29146: EMPTY
29147: LIST
29148: LIST
29149: PUSH
29150: LD_INT 30
29152: PUSH
29153: LD_VAR 0 4
29157: PUSH
29158: EMPTY
29159: LIST
29160: LIST
29161: PUSH
29162: EMPTY
29163: LIST
29164: LIST
29165: PPUSH
29166: CALL_OW 69
29170: PLUS
29171: ST_TO_ADDR
29172: GO 29125
29174: POP
29175: POP
// continue ;
29176: GO 29086
// end ;
29178: GO 29086
29180: POP
29181: POP
// list := [ ] ;
29182: LD_ADDR_VAR 0 7
29186: PUSH
29187: EMPTY
29188: ST_TO_ADDR
// for j := 1 to 8 do
29189: LD_ADDR_VAR 0 3
29193: PUSH
29194: DOUBLE
29195: LD_INT 1
29197: DEC
29198: ST_TO_ADDR
29199: LD_INT 8
29201: PUSH
29202: FOR_TO
29203: IFFALSE 29223
// list := list ^ amount ;
29205: LD_ADDR_VAR 0 7
29209: PUSH
29210: LD_VAR 0 7
29214: PUSH
29215: LD_VAR 0 5
29219: ADD
29220: ST_TO_ADDR
29221: GO 29202
29223: POP
29224: POP
// Already_Built := Already_Built ^ [ list ] ;
29225: LD_ADDR_LOC 28
29229: PUSH
29230: LD_LOC 28
29234: PUSH
29235: LD_VAR 0 7
29239: PUSH
29240: EMPTY
29241: LIST
29242: ADD
29243: ST_TO_ADDR
// Limits_Info := Limits_Info ^ [ btype , amount , Restricted_Builds_Amount [ i ] ] ;
29244: LD_ADDR_LOC 29
29248: PUSH
29249: LD_LOC 29
29253: PUSH
29254: LD_VAR 0 6
29258: PUSH
29259: LD_VAR 0 5
29263: PUSH
29264: LD_LOC 23
29268: PUSH
29269: LD_VAR 0 2
29273: ARRAY
29274: PUSH
29275: EMPTY
29276: LIST
29277: LIST
29278: LIST
29279: ADD
29280: ST_TO_ADDR
// end ;
29281: GO 28972
29283: POP
29284: POP
// Cheaters := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
29285: LD_ADDR_LOC 30
29289: PUSH
29290: LD_INT 0
29292: PUSH
29293: LD_INT 0
29295: PUSH
29296: LD_INT 0
29298: PUSH
29299: LD_INT 0
29301: PUSH
29302: LD_INT 0
29304: PUSH
29305: LD_INT 0
29307: PUSH
29308: LD_INT 0
29310: PUSH
29311: LD_INT 0
29313: PUSH
29314: EMPTY
29315: LIST
29316: LIST
29317: LIST
29318: LIST
29319: LIST
29320: LIST
29321: LIST
29322: LIST
29323: ST_TO_ADDR
// if Limits_Info then
29324: LD_LOC 29
29328: IFFALSE 29344
// Limits_Info := #Limits ^ Limits_Info ;
29330: LD_ADDR_LOC 29
29334: PUSH
29335: LD_STRING #Limits
29337: PUSH
29338: LD_LOC 29
29342: ADD
29343: ST_TO_ADDR
// end ;
29344: LD_VAR 0 1
29348: RET
// export function ExecuteLimits ( un , BType , side , old_side , count ) ; var i , j , Is_Cheater ; begin
29349: LD_INT 0
29351: PPUSH
29352: PPUSH
29353: PPUSH
29354: PPUSH
// for i := 1 to Restricted_Builds do
29355: LD_ADDR_VAR 0 7
29359: PUSH
29360: DOUBLE
29361: LD_INT 1
29363: DEC
29364: ST_TO_ADDR
29365: LD_LOC 22
29369: PUSH
29370: FOR_TO
29371: IFFALSE 29794
// if BType in Restricted_Builds [ i ] then
29373: LD_VAR 0 2
29377: PUSH
29378: LD_LOC 22
29382: PUSH
29383: LD_VAR 0 7
29387: ARRAY
29388: IN
29389: IFFALSE 29792
// begin if old_side then
29391: LD_VAR 0 4
29395: IFFALSE 29521
// if Already_Built [ i ] [ side ] + count > Restricted_Builds_Amount [ i ] then
29397: LD_LOC 28
29401: PUSH
29402: LD_VAR 0 7
29406: ARRAY
29407: PUSH
29408: LD_VAR 0 3
29412: ARRAY
29413: PUSH
29414: LD_VAR 0 5
29418: PLUS
29419: PUSH
29420: LD_LOC 23
29424: PUSH
29425: LD_VAR 0 7
29429: ARRAY
29430: GREATER
29431: IFFALSE 29457
// begin SetSide ( un , old_side ) ;
29433: LD_VAR 0 1
29437: PPUSH
29438: LD_VAR 0 4
29442: PPUSH
29443: CALL_OW 235
// count := 0 ;
29447: LD_ADDR_VAR 0 5
29451: PUSH
29452: LD_INT 0
29454: ST_TO_ADDR
// end else
29455: GO 29521
// Already_Built := Replace ( Already_Built , i , Replace ( Already_Built [ i ] , old_side , Already_Built [ i ] [ old_side ] - count ) ) ;
29457: LD_ADDR_LOC 28
29461: PUSH
29462: LD_LOC 28
29466: PPUSH
29467: LD_VAR 0 7
29471: PPUSH
29472: LD_LOC 28
29476: PUSH
29477: LD_VAR 0 7
29481: ARRAY
29482: PPUSH
29483: LD_VAR 0 4
29487: PPUSH
29488: LD_LOC 28
29492: PUSH
29493: LD_VAR 0 7
29497: ARRAY
29498: PUSH
29499: LD_VAR 0 4
29503: ARRAY
29504: PUSH
29505: LD_VAR 0 5
29509: MINUS
29510: PPUSH
29511: CALL_OW 1
29515: PPUSH
29516: CALL_OW 1
29520: ST_TO_ADDR
// Already_Built := Replace ( Already_Built , i , Replace ( Already_Built [ i ] , side , Already_Built [ i ] [ side ] + count ) ) ;
29521: LD_ADDR_LOC 28
29525: PUSH
29526: LD_LOC 28
29530: PPUSH
29531: LD_VAR 0 7
29535: PPUSH
29536: LD_LOC 28
29540: PUSH
29541: LD_VAR 0 7
29545: ARRAY
29546: PPUSH
29547: LD_VAR 0 3
29551: PPUSH
29552: LD_LOC 28
29556: PUSH
29557: LD_VAR 0 7
29561: ARRAY
29562: PUSH
29563: LD_VAR 0 3
29567: ARRAY
29568: PUSH
29569: LD_VAR 0 5
29573: PLUS
29574: PPUSH
29575: CALL_OW 1
29579: PPUSH
29580: CALL_OW 1
29584: ST_TO_ADDR
// if count <> 0 and ( side = mp_player_side ) then
29585: LD_VAR 0 5
29589: PUSH
29590: LD_INT 0
29592: NONEQUAL
29593: PUSH
29594: LD_VAR 0 3
29598: PUSH
29599: LD_OWVAR 7
29603: EQUAL
29604: AND
29605: IFFALSE 29648
// Limits_Info := Replace ( Limits_Info , 3 * i , Already_Built [ i ] [ side ] ) ;
29607: LD_ADDR_LOC 29
29611: PUSH
29612: LD_LOC 29
29616: PPUSH
29617: LD_INT 3
29619: PUSH
29620: LD_VAR 0 7
29624: MUL
29625: PPUSH
29626: LD_LOC 28
29630: PUSH
29631: LD_VAR 0 7
29635: ARRAY
29636: PUSH
29637: LD_VAR 0 3
29641: ARRAY
29642: PPUSH
29643: CALL_OW 1
29647: ST_TO_ADDR
// if Already_Built [ i ] [ side ] > Restricted_Builds_Amount [ i ] then
29648: LD_LOC 28
29652: PUSH
29653: LD_VAR 0 7
29657: ARRAY
29658: PUSH
29659: LD_VAR 0 3
29663: ARRAY
29664: PUSH
29665: LD_LOC 23
29669: PUSH
29670: LD_VAR 0 7
29674: ARRAY
29675: GREATER
29676: IFFALSE 29703
// begin Cheaters := Replace ( Cheaters , side , 1 ) ;
29678: LD_ADDR_LOC 30
29682: PUSH
29683: LD_LOC 30
29687: PPUSH
29688: LD_VAR 0 3
29692: PPUSH
29693: LD_INT 1
29695: PPUSH
29696: CALL_OW 1
29700: ST_TO_ADDR
// end else
29701: GO 29790
// begin for j := 1 to Restricted_Builds do
29703: LD_ADDR_VAR 0 8
29707: PUSH
29708: DOUBLE
29709: LD_INT 1
29711: DEC
29712: ST_TO_ADDR
29713: LD_LOC 22
29717: PUSH
29718: FOR_TO
29719: IFFALSE 29763
// if Already_Built [ j ] [ side ] > Restricted_Builds_Amount [ j ] then
29721: LD_LOC 28
29725: PUSH
29726: LD_VAR 0 8
29730: ARRAY
29731: PUSH
29732: LD_VAR 0 3
29736: ARRAY
29737: PUSH
29738: LD_LOC 23
29742: PUSH
29743: LD_VAR 0 8
29747: ARRAY
29748: GREATER
29749: IFFALSE 29761
// begin Is_Cheater := true ;
29751: LD_ADDR_VAR 0 9
29755: PUSH
29756: LD_INT 1
29758: ST_TO_ADDR
// break ;
29759: GO 29763
// end ;
29761: GO 29718
29763: POP
29764: POP
// Cheaters := Replace ( Cheaters , side , Is_Cheater ) ;
29765: LD_ADDR_LOC 30
29769: PUSH
29770: LD_LOC 30
29774: PPUSH
29775: LD_VAR 0 3
29779: PPUSH
29780: LD_VAR 0 9
29784: PPUSH
29785: CALL_OW 1
29789: ST_TO_ADDR
// end ; break ;
29790: GO 29794
// end ;
29792: GO 29370
29794: POP
29795: POP
// end ;
29796: LD_VAR 0 6
29800: RET
// export function RestrictVehicleConstructionStarted ( factory , chassis , engine , control , weapon ) ; begin
29801: LD_INT 0
29803: PPUSH
// if ( weapon in Banned_Weapons ) or ( chassis in Banned_Chassis ) or ( control in Banned_Controls ) or ( engine in Banned_Engines ) then
29804: LD_VAR 0 5
29808: PUSH
29809: LD_LOC 24
29813: IN
29814: PUSH
29815: LD_VAR 0 2
29819: PUSH
29820: LD_LOC 25
29824: IN
29825: OR
29826: PUSH
29827: LD_VAR 0 4
29831: PUSH
29832: LD_LOC 26
29836: IN
29837: OR
29838: PUSH
29839: LD_VAR 0 3
29843: PUSH
29844: LD_LOC 27
29848: IN
29849: OR
29850: IFFALSE 29861
// ComCancel ( factory ) ;
29852: LD_VAR 0 1
29856: PPUSH
29857: CALL_OW 127
// end ;
29861: LD_VAR 0 6
29865: RET
// export function RestrictWeaponPlaced ( building , weapon ) ; begin
29866: LD_INT 0
29868: PPUSH
// if ( weapon in Banned_Weapons ) then
29869: LD_VAR 0 2
29873: PUSH
29874: LD_LOC 24
29878: IN
29879: IFFALSE 29890
// ComCancel ( building ) ;
29881: LD_VAR 0 1
29885: PPUSH
29886: CALL_OW 127
// end ;
29890: LD_VAR 0 3
29894: RET
// export function RestrictBuildingStarted ( building , builder ) ; var i , BType , b , side , count , k ; begin
29895: LD_INT 0
29897: PPUSH
29898: PPUSH
29899: PPUSH
29900: PPUSH
29901: PPUSH
29902: PPUSH
29903: PPUSH
// count = 0 ;
29904: LD_ADDR_VAR 0 8
29908: PUSH
29909: LD_INT 0
29911: ST_TO_ADDR
// BType = GetBType ( Building ) ;
29912: LD_ADDR_VAR 0 5
29916: PUSH
29917: LD_VAR 0 1
29921: PPUSH
29922: CALL_OW 266
29926: ST_TO_ADDR
// side = GetSide ( Building ) ;
29927: LD_ADDR_VAR 0 7
29931: PUSH
29932: LD_VAR 0 1
29936: PPUSH
29937: CALL_OW 255
29941: ST_TO_ADDR
// for i := 1 to Restricted_Builds do
29942: LD_ADDR_VAR 0 4
29946: PUSH
29947: DOUBLE
29948: LD_INT 1
29950: DEC
29951: ST_TO_ADDR
29952: LD_LOC 22
29956: PUSH
29957: FOR_TO
29958: IFFALSE 30101
// begin if BType in Restricted_Builds [ i ] then
29960: LD_VAR 0 5
29964: PUSH
29965: LD_LOC 22
29969: PUSH
29970: LD_VAR 0 4
29974: ARRAY
29975: IN
29976: IFFALSE 30068
// for k in Restricted_Builds [ i ] do
29978: LD_ADDR_VAR 0 9
29982: PUSH
29983: LD_LOC 22
29987: PUSH
29988: LD_VAR 0 4
29992: ARRAY
29993: PUSH
29994: FOR_IN
29995: IFFALSE 30066
// begin b = FilterAllunits ( [ [ f_side , side ] , [ f_type , building ] , [ f_btype , k ] ] ) ;
29997: LD_ADDR_VAR 0 6
30001: PUSH
30002: LD_INT 22
30004: PUSH
30005: LD_VAR 0 7
30009: PUSH
30010: EMPTY
30011: LIST
30012: LIST
30013: PUSH
30014: LD_INT 21
30016: PUSH
30017: LD_VAR 0 1
30021: PUSH
30022: EMPTY
30023: LIST
30024: LIST
30025: PUSH
30026: LD_INT 30
30028: PUSH
30029: LD_VAR 0 9
30033: PUSH
30034: EMPTY
30035: LIST
30036: LIST
30037: PUSH
30038: EMPTY
30039: LIST
30040: LIST
30041: LIST
30042: PPUSH
30043: CALL_OW 69
30047: ST_TO_ADDR
// count = count + b ;
30048: LD_ADDR_VAR 0 8
30052: PUSH
30053: LD_VAR 0 8
30057: PUSH
30058: LD_VAR 0 6
30062: PLUS
30063: ST_TO_ADDR
// end ;
30064: GO 29994
30066: POP
30067: POP
// if count + 0 > Restricted_Builds_Amount [ i ] then
30068: LD_VAR 0 8
30072: PUSH
30073: LD_INT 0
30075: PLUS
30076: PUSH
30077: LD_LOC 23
30081: PUSH
30082: LD_VAR 0 4
30086: ARRAY
30087: GREATER
30088: IFFALSE 30099
// DestroyUnit ( building ) ;
30090: LD_VAR 0 1
30094: PPUSH
30095: CALL_OW 65
// end ;
30099: GO 29957
30101: POP
30102: POP
// end ;
30103: LD_VAR 0 3
30107: RET
// export function CallExecuteLimits ( j ) ; begin
30108: LD_INT 0
30110: PPUSH
// if ( GetType ( j ) = 3 ) then
30111: LD_VAR 0 1
30115: PPUSH
30116: CALL_OW 247
30120: PUSH
30121: LD_INT 3
30123: EQUAL
30124: IFFALSE 30164
// ExecuteLimits ( j , GetBType ( j ) , GetSide ( j ) , 0 , - 1 ) else
30126: LD_VAR 0 1
30130: PPUSH
30131: LD_VAR 0 1
30135: PPUSH
30136: CALL_OW 266
30140: PPUSH
30141: LD_VAR 0 1
30145: PPUSH
30146: CALL_OW 255
30150: PPUSH
30151: LD_INT 0
30153: PPUSH
30154: LD_INT 1
30156: NEG
30157: PPUSH
30158: CALL 29349 0 5
30162: GO 30208
// if ( GetChassis ( j ) = 25 ) then
30164: LD_VAR 0 1
30168: PPUSH
30169: CALL_OW 265
30173: PUSH
30174: LD_INT 25
30176: EQUAL
30177: IFFALSE 30208
// ExecuteLimits ( j , b_behemoth , GetSide ( j ) , 0 , - 1 ) ;
30179: LD_VAR 0 1
30183: PPUSH
30184: LD_INT 37
30186: PPUSH
30187: LD_VAR 0 1
30191: PPUSH
30192: CALL_OW 255
30196: PPUSH
30197: LD_INT 0
30199: PPUSH
30200: LD_INT 1
30202: NEG
30203: PPUSH
30204: CALL 29349 0 5
// end ; end_of_file
30208: LD_VAR 0 2
30212: RET
// var FLAGY ; export FLAGY_AREA ; export FLAGY_XY ; export FLAGY_AREA1 ; var teams_p ; var WFT_Goal ; export WFT_Points_MP ; var WFT_FlagOnTop ; var WFT_FlagHeight ; export function Init_WarForTerritory ; var flag , i , p ; begin
30213: LD_INT 0
30215: PPUSH
30216: PPUSH
30217: PPUSH
30218: PPUSH
// if not def_WarForTerritory then
30219: LD_EXP 36
30223: NOT
30224: IFFALSE 30228
// exit ;
30226: GO 30568
// FLAGY = [ ] ;
30228: LD_ADDR_LOC 31
30232: PUSH
30233: EMPTY
30234: ST_TO_ADDR
// WFT_FlagOnTop = [ ] ;
30235: LD_ADDR_LOC 34
30239: PUSH
30240: EMPTY
30241: ST_TO_ADDR
// WFT_FlagHeight = [ ] ;
30242: LD_ADDR_LOC 35
30246: PUSH
30247: EMPTY
30248: ST_TO_ADDR
// teams_p = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
30249: LD_ADDR_LOC 32
30253: PUSH
30254: LD_INT 0
30256: PUSH
30257: LD_INT 0
30259: PUSH
30260: LD_INT 0
30262: PUSH
30263: LD_INT 0
30265: PUSH
30266: LD_INT 0
30268: PUSH
30269: LD_INT 0
30271: PUSH
30272: LD_INT 0
30274: PUSH
30275: LD_INT 0
30277: PUSH
30278: EMPTY
30279: LIST
30280: LIST
30281: LIST
30282: LIST
30283: LIST
30284: LIST
30285: LIST
30286: LIST
30287: ST_TO_ADDR
// for i = 1 to FLAGY_AREA do
30288: LD_ADDR_VAR 0 3
30292: PUSH
30293: DOUBLE
30294: LD_INT 1
30296: DEC
30297: ST_TO_ADDR
30298: LD_EXP 118
30302: PUSH
30303: FOR_TO
30304: IFFALSE 30397
// begin flag = SetBattleFlag ( 0 , FLAGY_XY [ i ] [ 1 ] , FLAGY_XY [ i ] [ 2 ] , [ ] ) ;
30306: LD_ADDR_VAR 0 2
30310: PUSH
30311: LD_INT 0
30313: PPUSH
30314: LD_EXP 119
30318: PUSH
30319: LD_VAR 0 3
30323: ARRAY
30324: PUSH
30325: LD_INT 1
30327: ARRAY
30328: PPUSH
30329: LD_EXP 119
30333: PUSH
30334: LD_VAR 0 3
30338: ARRAY
30339: PUSH
30340: LD_INT 2
30342: ARRAY
30343: PPUSH
30344: EMPTY
30345: PPUSH
30346: CALL_OW 418
30350: ST_TO_ADDR
// FLAGY = FLAGY ^ flag ;
30351: LD_ADDR_LOC 31
30355: PUSH
30356: LD_LOC 31
30360: PUSH
30361: LD_VAR 0 2
30365: ADD
30366: ST_TO_ADDR
// WFT_FlagOnTop = WFT_FlagOnTop ^ true ;
30367: LD_ADDR_LOC 34
30371: PUSH
30372: LD_LOC 34
30376: PUSH
30377: LD_INT 1
30379: ADD
30380: ST_TO_ADDR
// WFT_FlagHeight = WFT_FlagHeight ^ 100 ;
30381: LD_ADDR_LOC 35
30385: PUSH
30386: LD_LOC 35
30390: PUSH
30391: LD_INT 100
30393: ADD
30394: ST_TO_ADDR
// end ;
30395: GO 30303
30397: POP
30398: POP
// if WarForTerritory_Flags then
30399: LD_EXP 65
30403: IFFALSE 30417
// WFT_Goal = WarForTerritory_Flags else
30405: LD_ADDR_LOC 33
30409: PUSH
30410: LD_EXP 65
30414: ST_TO_ADDR
30415: GO 30427
// WFT_Goal = WarForTerritory_Points ;
30417: LD_ADDR_LOC 33
30421: PUSH
30422: LD_EXP 64
30426: ST_TO_ADDR
// for i = 1 to flagy_area do
30427: LD_ADDR_VAR 0 3
30431: PUSH
30432: DOUBLE
30433: LD_INT 1
30435: DEC
30436: ST_TO_ADDR
30437: LD_EXP 118
30441: PUSH
30442: FOR_TO
30443: IFFALSE 30545
// begin SetAreaMapShow ( flagy_area [ i ] , 1 ) ;
30445: LD_EXP 118
30449: PUSH
30450: LD_VAR 0 3
30454: ARRAY
30455: PPUSH
30456: LD_INT 1
30458: PPUSH
30459: CALL_OW 424
// SetAreaMapShow ( flagy_area1 [ i ] , 5 ) ;
30463: LD_EXP 120
30467: PUSH
30468: LD_VAR 0 3
30472: ARRAY
30473: PPUSH
30474: LD_INT 5
30476: PPUSH
30477: CALL_OW 424
// for p = 1 to 8 do
30481: LD_ADDR_VAR 0 4
30485: PUSH
30486: DOUBLE
30487: LD_INT 1
30489: DEC
30490: ST_TO_ADDR
30491: LD_INT 8
30493: PUSH
30494: FOR_TO
30495: IFFALSE 30541
// PlaceSeeing ( flagy_xy [ i ] [ 1 ] , flagy_xy [ i ] [ 2 ] , p , 1 ) ;
30497: LD_EXP 119
30501: PUSH
30502: LD_VAR 0 3
30506: ARRAY
30507: PUSH
30508: LD_INT 1
30510: ARRAY
30511: PPUSH
30512: LD_EXP 119
30516: PUSH
30517: LD_VAR 0 3
30521: ARRAY
30522: PUSH
30523: LD_INT 2
30525: ARRAY
30526: PPUSH
30527: LD_VAR 0 4
30531: PPUSH
30532: LD_INT 1
30534: PPUSH
30535: CALL_OW 330
30539: GO 30494
30541: POP
30542: POP
// end ;
30543: GO 30442
30545: POP
30546: POP
// if WFT_Points_MP < 1 then
30547: LD_EXP 121
30551: PUSH
30552: LD_INT 1
30554: LESS
30555: IFFALSE 30565
// WFT_Points_MP = 1 ;
30557: LD_ADDR_EXP 121
30561: PUSH
30562: LD_INT 1
30564: ST_TO_ADDR
// enable ( 60 ) ;
30565: LD_INT 60
30567: ENABLE_MARKED
// end ;
30568: LD_VAR 0 1
30572: RET
// every 0 0$1 marked 60 do var i , p , pom , pom1 ; var side , sideNumber , flagSide ;
30573: GO 30575
30575: DISABLE
30576: LD_INT 0
30578: PPUSH
30579: PPUSH
30580: PPUSH
30581: PPUSH
30582: PPUSH
30583: PPUSH
30584: PPUSH
// begin zkontroluj_body ;
30585: CALL 31884 0 0
// for i := 1 to flagy + 0 do
30589: LD_ADDR_VAR 0 1
30593: PUSH
30594: DOUBLE
30595: LD_INT 1
30597: DEC
30598: ST_TO_ADDR
30599: LD_LOC 31
30603: PUSH
30604: LD_INT 0
30606: PLUS
30607: PUSH
30608: FOR_TO
30609: IFFALSE 31361
// begin sideNumber = 0 ;
30611: LD_ADDR_VAR 0 6
30615: PUSH
30616: LD_INT 0
30618: ST_TO_ADDR
// for p = 1 to 8 do
30619: LD_ADDR_VAR 0 2
30623: PUSH
30624: DOUBLE
30625: LD_INT 1
30627: DEC
30628: ST_TO_ADDR
30629: LD_INT 8
30631: PUSH
30632: FOR_TO
30633: IFFALSE 30713
// begin pom = FilterUnitsInArea ( FLAGY_AREA1 [ i ] , [ f_side , p ] ) ;
30635: LD_ADDR_VAR 0 3
30639: PUSH
30640: LD_EXP 120
30644: PUSH
30645: LD_VAR 0 1
30649: ARRAY
30650: PPUSH
30651: LD_INT 22
30653: PUSH
30654: LD_VAR 0 2
30658: PUSH
30659: EMPTY
30660: LIST
30661: LIST
30662: PPUSH
30663: CALL_OW 70
30667: ST_TO_ADDR
// if pom > 0 then
30668: LD_VAR 0 3
30672: PUSH
30673: LD_INT 0
30675: GREATER
30676: IFFALSE 30711
// begin side = getSide ( pom [ 1 ] ) ;
30678: LD_ADDR_VAR 0 5
30682: PUSH
30683: LD_VAR 0 3
30687: PUSH
30688: LD_INT 1
30690: ARRAY
30691: PPUSH
30692: CALL_OW 255
30696: ST_TO_ADDR
// sideNumber = sideNumber + 1 ;
30697: LD_ADDR_VAR 0 6
30701: PUSH
30702: LD_VAR 0 6
30706: PUSH
30707: LD_INT 1
30709: PLUS
30710: ST_TO_ADDR
// end ; end ;
30711: GO 30632
30713: POP
30714: POP
// if sideNumber = 1 then
30715: LD_VAR 0 6
30719: PUSH
30720: LD_INT 1
30722: EQUAL
30723: IFFALSE 31000
// begin flagSide = getBattleFlagSide ( FLAGY [ i ] ) ;
30725: LD_ADDR_VAR 0 7
30729: PUSH
30730: LD_LOC 31
30734: PUSH
30735: LD_VAR 0 1
30739: ARRAY
30740: PPUSH
30741: CALL_OW 421
30745: ST_TO_ADDR
// if flagSide = side then
30746: LD_VAR 0 7
30750: PUSH
30751: LD_VAR 0 5
30755: EQUAL
30756: IFFALSE 30872
// begin if WFT_FlagHeight [ i ] < 100 then
30758: LD_LOC 35
30762: PUSH
30763: LD_VAR 0 1
30767: ARRAY
30768: PUSH
30769: LD_INT 100
30771: LESS
30772: IFFALSE 30847
// begin WFT_FlagHeight = replace ( WFT_FlagHeight , i , WFT_FlagHeight [ i ] + 10 ) ;
30774: LD_ADDR_LOC 35
30778: PUSH
30779: LD_LOC 35
30783: PPUSH
30784: LD_VAR 0 1
30788: PPUSH
30789: LD_LOC 35
30793: PUSH
30794: LD_VAR 0 1
30798: ARRAY
30799: PUSH
30800: LD_INT 10
30802: PLUS
30803: PPUSH
30804: CALL_OW 1
30808: ST_TO_ADDR
// ChangeBattleFlagOptions ( FLAGY [ i ] , [ [ bfo_height , WFT_FlagHeight [ i ] ] ] ) ;
30809: LD_LOC 31
30813: PUSH
30814: LD_VAR 0 1
30818: ARRAY
30819: PPUSH
30820: LD_INT 20
30822: PUSH
30823: LD_LOC 35
30827: PUSH
30828: LD_VAR 0 1
30832: ARRAY
30833: PUSH
30834: EMPTY
30835: LIST
30836: LIST
30837: PUSH
30838: EMPTY
30839: LIST
30840: PPUSH
30841: CALL_OW 423
// end else
30845: GO 30870
// WFT_FlagOnTop = replace ( WFT_FlagOnTop , i , true ) ;
30847: LD_ADDR_LOC 34
30851: PUSH
30852: LD_LOC 34
30856: PPUSH
30857: LD_VAR 0 1
30861: PPUSH
30862: LD_INT 1
30864: PPUSH
30865: CALL_OW 1
30869: ST_TO_ADDR
// end else
30870: GO 30998
// begin if WFT_FlagHeight [ i ] > 0 then
30872: LD_LOC 35
30876: PUSH
30877: LD_VAR 0 1
30881: ARRAY
30882: PUSH
30883: LD_INT 0
30885: GREATER
30886: IFFALSE 30961
// begin WFT_FlagHeight = replace ( WFT_FlagHeight , i , WFT_FlagHeight [ i ] - 10 ) ;
30888: LD_ADDR_LOC 35
30892: PUSH
30893: LD_LOC 35
30897: PPUSH
30898: LD_VAR 0 1
30902: PPUSH
30903: LD_LOC 35
30907: PUSH
30908: LD_VAR 0 1
30912: ARRAY
30913: PUSH
30914: LD_INT 10
30916: MINUS
30917: PPUSH
30918: CALL_OW 1
30922: ST_TO_ADDR
// ChangeBattleFlagOptions ( FLAGY [ i ] , [ [ bfo_height , WFT_FlagHeight [ i ] ] ] ) ;
30923: LD_LOC 31
30927: PUSH
30928: LD_VAR 0 1
30932: ARRAY
30933: PPUSH
30934: LD_INT 20
30936: PUSH
30937: LD_LOC 35
30941: PUSH
30942: LD_VAR 0 1
30946: ARRAY
30947: PUSH
30948: EMPTY
30949: LIST
30950: LIST
30951: PUSH
30952: EMPTY
30953: LIST
30954: PPUSH
30955: CALL_OW 423
// end else
30959: GO 30998
// begin zmen_vlajku ( i , side ) ;
30961: LD_VAR 0 1
30965: PPUSH
30966: LD_VAR 0 5
30970: PPUSH
30971: CALL 31367 0 2
// WFT_FlagOnTop = replace ( WFT_FlagOnTop , i , false ) ;
30975: LD_ADDR_LOC 34
30979: PUSH
30980: LD_LOC 34
30984: PPUSH
30985: LD_VAR 0 1
30989: PPUSH
30990: LD_INT 0
30992: PPUSH
30993: CALL_OW 1
30997: ST_TO_ADDR
// end ; end ; end else
30998: GO 31359
// if sideNumber = 0 then
31000: LD_VAR 0 6
31004: PUSH
31005: LD_INT 0
31007: EQUAL
31008: IFFALSE 31359
// begin if getBattleFlagSide ( FLAGY [ i ] ) <> 0 then
31010: LD_LOC 31
31014: PUSH
31015: LD_VAR 0 1
31019: ARRAY
31020: PPUSH
31021: CALL_OW 421
31025: PUSH
31026: LD_INT 0
31028: NONEQUAL
31029: IFFALSE 31236
// begin if WFT_FlagHeight [ i ] > 0 and WFT_FlagHeight [ i ] < 100 then
31031: LD_LOC 35
31035: PUSH
31036: LD_VAR 0 1
31040: ARRAY
31041: PUSH
31042: LD_INT 0
31044: GREATER
31045: PUSH
31046: LD_LOC 35
31050: PUSH
31051: LD_VAR 0 1
31055: ARRAY
31056: PUSH
31057: LD_INT 100
31059: LESS
31060: AND
31061: IFFALSE 31185
// begin if WFT_FlagOnTop [ i ] then
31063: LD_LOC 34
31067: PUSH
31068: LD_VAR 0 1
31072: ARRAY
31073: IFFALSE 31112
// WFT_FlagHeight = replace ( WFT_FlagHeight , i , WFT_FlagHeight [ i ] + 10 ) else
31075: LD_ADDR_LOC 35
31079: PUSH
31080: LD_LOC 35
31084: PPUSH
31085: LD_VAR 0 1
31089: PPUSH
31090: LD_LOC 35
31094: PUSH
31095: LD_VAR 0 1
31099: ARRAY
31100: PUSH
31101: LD_INT 10
31103: PLUS
31104: PPUSH
31105: CALL_OW 1
31109: ST_TO_ADDR
31110: GO 31147
// WFT_FlagHeight = replace ( WFT_FlagHeight , i , WFT_FlagHeight [ i ] - 10 ) ;
31112: LD_ADDR_LOC 35
31116: PUSH
31117: LD_LOC 35
31121: PPUSH
31122: LD_VAR 0 1
31126: PPUSH
31127: LD_LOC 35
31131: PUSH
31132: LD_VAR 0 1
31136: ARRAY
31137: PUSH
31138: LD_INT 10
31140: MINUS
31141: PPUSH
31142: CALL_OW 1
31146: ST_TO_ADDR
// ChangeBattleFlagOptions ( FLAGY [ i ] , [ [ bfo_height , WFT_FlagHeight [ i ] ] ] ) ;
31147: LD_LOC 31
31151: PUSH
31152: LD_VAR 0 1
31156: ARRAY
31157: PPUSH
31158: LD_INT 20
31160: PUSH
31161: LD_LOC 35
31165: PUSH
31166: LD_VAR 0 1
31170: ARRAY
31171: PUSH
31172: EMPTY
31173: LIST
31174: LIST
31175: PUSH
31176: EMPTY
31177: LIST
31178: PPUSH
31179: CALL_OW 423
// end else
31183: GO 31234
// if WFT_FlagHeight [ i ] = 0 and getBattleFlagSide ( FLAGY [ i ] ) <> 0 then
31185: LD_LOC 35
31189: PUSH
31190: LD_VAR 0 1
31194: ARRAY
31195: PUSH
31196: LD_INT 0
31198: EQUAL
31199: PUSH
31200: LD_LOC 31
31204: PUSH
31205: LD_VAR 0 1
31209: ARRAY
31210: PPUSH
31211: CALL_OW 421
31215: PUSH
31216: LD_INT 0
31218: NONEQUAL
31219: AND
31220: IFFALSE 31234
// zmen_vlajku ( i , 0 ) ;
31222: LD_VAR 0 1
31226: PPUSH
31227: LD_INT 0
31229: PPUSH
31230: CALL 31367 0 2
// end else
31234: GO 31359
// if WFT_FlagHeight [ i ] < 100 then
31236: LD_LOC 35
31240: PUSH
31241: LD_VAR 0 1
31245: ARRAY
31246: PUSH
31247: LD_INT 100
31249: LESS
31250: IFFALSE 31359
// begin if not WFT_FlagOnTop [ i ] then
31252: LD_LOC 34
31256: PUSH
31257: LD_VAR 0 1
31261: ARRAY
31262: NOT
31263: IFFALSE 31288
// WFT_FlagOnTop = replace ( WFT_FlagOnTop , i , true ) ;
31265: LD_ADDR_LOC 34
31269: PUSH
31270: LD_LOC 34
31274: PPUSH
31275: LD_VAR 0 1
31279: PPUSH
31280: LD_INT 1
31282: PPUSH
31283: CALL_OW 1
31287: ST_TO_ADDR
// WFT_FlagHeight = replace ( WFT_FlagHeight , i , WFT_FlagHeight [ i ] + 10 ) ;
31288: LD_ADDR_LOC 35
31292: PUSH
31293: LD_LOC 35
31297: PPUSH
31298: LD_VAR 0 1
31302: PPUSH
31303: LD_LOC 35
31307: PUSH
31308: LD_VAR 0 1
31312: ARRAY
31313: PUSH
31314: LD_INT 10
31316: PLUS
31317: PPUSH
31318: CALL_OW 1
31322: ST_TO_ADDR
// ChangeBattleFlagOptions ( FLAGY [ i ] , [ [ bfo_height , WFT_FlagHeight [ i ] ] ] ) ;
31323: LD_LOC 31
31327: PUSH
31328: LD_VAR 0 1
31332: ARRAY
31333: PPUSH
31334: LD_INT 20
31336: PUSH
31337: LD_LOC 35
31341: PUSH
31342: LD_VAR 0 1
31346: ARRAY
31347: PUSH
31348: EMPTY
31349: LIST
31350: LIST
31351: PUSH
31352: EMPTY
31353: LIST
31354: PPUSH
31355: CALL_OW 423
// end ; end ; end ;
31359: GO 30608
31361: POP
31362: POP
// enable ;
31363: ENABLE
// end ;
31364: PPOPN 7
31366: END
// function zmen_vlajku ( pozice , side ) ; var i ; begin
31367: LD_INT 0
31369: PPUSH
31370: PPUSH
// if FLAGY [ pozice ] and side >= 0 and side <= 8 then
31371: LD_LOC 31
31375: PUSH
31376: LD_VAR 0 1
31380: ARRAY
31381: PUSH
31382: LD_VAR 0 2
31386: PUSH
31387: LD_INT 0
31389: GREATEREQUAL
31390: AND
31391: PUSH
31392: LD_VAR 0 2
31396: PUSH
31397: LD_INT 8
31399: LESSEQUAL
31400: AND
31401: IFFALSE 31423
// changeBattleFlagSide ( FLAGY [ pozice ] , side ) ;
31403: LD_LOC 31
31407: PUSH
31408: LD_VAR 0 1
31412: ARRAY
31413: PPUSH
31414: LD_VAR 0 2
31418: PPUSH
31419: CALL_OW 422
// end ;
31423: LD_VAR 0 3
31427: RET
// export function vloz_na_pozici ( co , cislo , pozice ) ; var ii ; var pom ; begin
31428: LD_INT 0
31430: PPUSH
31431: PPUSH
31432: PPUSH
// pom = [ ] ;
31433: LD_ADDR_VAR 0 6
31437: PUSH
31438: EMPTY
31439: ST_TO_ADDR
// for ii := 1 to pozice do
31440: LD_ADDR_VAR 0 5
31444: PUSH
31445: DOUBLE
31446: LD_INT 1
31448: DEC
31449: ST_TO_ADDR
31450: LD_VAR 0 3
31454: PUSH
31455: FOR_TO
31456: IFFALSE 31512
// if ii <> cislo then
31458: LD_VAR 0 5
31462: PUSH
31463: LD_VAR 0 2
31467: NONEQUAL
31468: IFFALSE 31494
// pom = pom ^ pozice [ ii ] else
31470: LD_ADDR_VAR 0 6
31474: PUSH
31475: LD_VAR 0 6
31479: PUSH
31480: LD_VAR 0 3
31484: PUSH
31485: LD_VAR 0 5
31489: ARRAY
31490: ADD
31491: ST_TO_ADDR
31492: GO 31510
// pom = pom ^ co ;
31494: LD_ADDR_VAR 0 6
31498: PUSH
31499: LD_VAR 0 6
31503: PUSH
31504: LD_VAR 0 1
31508: ADD
31509: ST_TO_ADDR
31510: GO 31455
31512: POP
31513: POP
// result := pom ;
31514: LD_ADDR_VAR 0 4
31518: PUSH
31519: LD_VAR 0 6
31523: ST_TO_ADDR
// end ;
31524: LD_VAR 0 4
31528: RET
// function budovy_ok ( bud ) ; var a ; var i ; begin
31529: LD_INT 0
31531: PPUSH
31532: PPUSH
31533: PPUSH
// a = false ;
31534: LD_ADDR_VAR 0 3
31538: PUSH
31539: LD_INT 0
31541: ST_TO_ADDR
// for i in bud do
31542: LD_ADDR_VAR 0 4
31546: PUSH
31547: LD_VAR 0 1
31551: PUSH
31552: FOR_IN
31553: IFFALSE 31576
// if IsOK ( i ) then
31555: LD_VAR 0 4
31559: PPUSH
31560: CALL_OW 302
31564: IFFALSE 31574
// a = true ;
31566: LD_ADDR_VAR 0 3
31570: PUSH
31571: LD_INT 1
31573: ST_TO_ADDR
31574: GO 31552
31576: POP
31577: POP
// result := a ;
31578: LD_ADDR_VAR 0 2
31582: PUSH
31583: LD_VAR 0 3
31587: ST_TO_ADDR
// end ;
31588: LD_VAR 0 2
31592: RET
// every 0 0$3 marked 60 do var i , j ; var pom , goal , p ;
31593: GO 31595
31595: DISABLE
31596: LD_INT 0
31598: PPUSH
31599: PPUSH
31600: PPUSH
31601: PPUSH
31602: PPUSH
// begin if WarForTerritory_points then
31603: LD_EXP 64
31607: IFFALSE 31631
// goal = WFT_Goal * ( 3 * WFT_Points_MP ) else
31609: LD_ADDR_VAR 0 4
31613: PUSH
31614: LD_LOC 33
31618: PUSH
31619: LD_INT 3
31621: PUSH
31622: LD_EXP 121
31626: MUL
31627: MUL
31628: ST_TO_ADDR
31629: GO 31641
// goal = WFT_goal ;
31631: LD_ADDR_VAR 0 4
31635: PUSH
31636: LD_LOC 33
31640: ST_TO_ADDR
// for i := 1 to teams_p do
31641: LD_ADDR_VAR 0 1
31645: PUSH
31646: DOUBLE
31647: LD_INT 1
31649: DEC
31650: ST_TO_ADDR
31651: LD_LOC 32
31655: PUSH
31656: FOR_TO
31657: IFFALSE 31878
// if teams_p [ i ] >= Goal then
31659: LD_LOC 32
31663: PUSH
31664: LD_VAR 0 1
31668: ARRAY
31669: PUSH
31670: LD_VAR 0 4
31674: GREATEREQUAL
31675: IFFALSE 31876
// begin if not Team_Game then
31677: LD_EXP 79
31681: NOT
31682: IFFALSE 31706
// begin if i = mp_player_side then
31684: LD_VAR 0 1
31688: PUSH
31689: LD_OWVAR 7
31693: EQUAL
31694: IFFALSE 31701
// enable ( 401 ) else
31696: LD_INT 401
31698: ENABLE_MARKED
31699: GO 31704
// enable ( 400 ) ;
31701: LD_INT 400
31703: ENABLE_MARKED
// end else
31704: GO 31726
// if i = Player_Team then
31706: LD_VAR 0 1
31710: PUSH
31711: LD_EXP 70
31715: EQUAL
31716: IFFALSE 31723
// enable ( 401 ) else
31718: LD_INT 401
31720: ENABLE_MARKED
31721: GO 31726
// enable ( 400 ) ;
31723: LD_INT 400
31725: ENABLE_MARKED
// if WarForTerritory_points then
31726: LD_EXP 64
31730: IFFALSE 31804
// begin for p = 1 to side_positions do
31732: LD_ADDR_VAR 0 5
31736: PUSH
31737: DOUBLE
31738: LD_INT 1
31740: DEC
31741: ST_TO_ADDR
31742: LD_EXP 74
31746: PUSH
31747: FOR_TO
31748: IFFALSE 31800
// if Side_Positions [ p ] then
31750: LD_EXP 74
31754: PUSH
31755: LD_VAR 0 5
31759: ARRAY
31760: IFFALSE 31798
// SetSharedMultiScore ( p , GetTag ( p + 20 ) div ( 3 * WFT_points_MP ) , 3 ) ;
31762: LD_VAR 0 5
31766: PPUSH
31767: LD_VAR 0 5
31771: PUSH
31772: LD_INT 20
31774: PLUS
31775: PPUSH
31776: CALL_OW 110
31780: PUSH
31781: LD_INT 3
31783: PUSH
31784: LD_EXP 121
31788: MUL
31789: DIV
31790: PPUSH
31791: LD_INT 3
31793: PPUSH
31794: CALL 35287 0 3
31798: GO 31747
31800: POP
31801: POP
// end else
31802: GO 31868
// for p = 1 to side_positions do
31804: LD_ADDR_VAR 0 5
31808: PUSH
31809: DOUBLE
31810: LD_INT 1
31812: DEC
31813: ST_TO_ADDR
31814: LD_EXP 74
31818: PUSH
31819: FOR_TO
31820: IFFALSE 31866
// if Side_Positions [ p ] then
31822: LD_EXP 74
31826: PUSH
31827: LD_VAR 0 5
31831: ARRAY
31832: IFFALSE 31864
// SetSharedMultiScore ( p , GetTag ( i + 20 ) * 1000 , 3 ) ;
31834: LD_VAR 0 5
31838: PPUSH
31839: LD_VAR 0 1
31843: PUSH
31844: LD_INT 20
31846: PLUS
31847: PPUSH
31848: CALL_OW 110
31852: PUSH
31853: LD_INT 1000
31855: MUL
31856: PPUSH
31857: LD_INT 3
31859: PPUSH
31860: CALL 35287 0 3
31864: GO 31819
31866: POP
31867: POP
// MakeGameEnd ;
31868: CALL 14234 0 0
// exit ;
31872: POP
31873: POP
31874: GO 31881
// end ;
31876: GO 31656
31878: POP
31879: POP
// enable ;
31880: ENABLE
// end ;
31881: PPOPN 5
31883: END
// function zkontroluj_body ; var side , list , un , red , blue , yel , green , i , pom ; begin
31884: LD_INT 0
31886: PPUSH
31887: PPUSH
31888: PPUSH
31889: PPUSH
31890: PPUSH
31891: PPUSH
31892: PPUSH
31893: PPUSH
31894: PPUSH
31895: PPUSH
// list = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
31896: LD_ADDR_VAR 0 3
31900: PUSH
31901: LD_INT 0
31903: PUSH
31904: LD_INT 0
31906: PUSH
31907: LD_INT 0
31909: PUSH
31910: LD_INT 0
31912: PUSH
31913: LD_INT 0
31915: PUSH
31916: LD_INT 0
31918: PUSH
31919: LD_INT 0
31921: PUSH
31922: LD_INT 0
31924: PUSH
31925: EMPTY
31926: LIST
31927: LIST
31928: LIST
31929: LIST
31930: LIST
31931: LIST
31932: LIST
31933: LIST
31934: ST_TO_ADDR
// red = 0 ;
31935: LD_ADDR_VAR 0 5
31939: PUSH
31940: LD_INT 0
31942: ST_TO_ADDR
// blue = 0 ;
31943: LD_ADDR_VAR 0 6
31947: PUSH
31948: LD_INT 0
31950: ST_TO_ADDR
// yel = 0 ;
31951: LD_ADDR_VAR 0 7
31955: PUSH
31956: LD_INT 0
31958: ST_TO_ADDR
// green = 0 ;
31959: LD_ADDR_VAR 0 8
31963: PUSH
31964: LD_INT 0
31966: ST_TO_ADDR
// if WarForTerritory_flags then
31967: LD_EXP 65
31971: IFFALSE 32337
// begin for i = 1 to FLAGY + 0 do
31973: LD_ADDR_VAR 0 9
31977: PUSH
31978: DOUBLE
31979: LD_INT 1
31981: DEC
31982: ST_TO_ADDR
31983: LD_LOC 31
31987: PUSH
31988: LD_INT 0
31990: PLUS
31991: PUSH
31992: FOR_TO
31993: IFFALSE 32065
// if WFT_FlagOnTop [ i ] then
31995: LD_LOC 34
31999: PUSH
32000: LD_VAR 0 9
32004: ARRAY
32005: IFFALSE 32063
// begin pom = GetBattleFlagSide ( FLAGY [ i ] ) ;
32007: LD_ADDR_VAR 0 10
32011: PUSH
32012: LD_LOC 31
32016: PUSH
32017: LD_VAR 0 9
32021: ARRAY
32022: PPUSH
32023: CALL_OW 421
32027: ST_TO_ADDR
// list = vloz_na_pozici ( list [ pom ] + 1 , pom , list ) ;
32028: LD_ADDR_VAR 0 3
32032: PUSH
32033: LD_VAR 0 3
32037: PUSH
32038: LD_VAR 0 10
32042: ARRAY
32043: PUSH
32044: LD_INT 1
32046: PLUS
32047: PPUSH
32048: LD_VAR 0 10
32052: PPUSH
32053: LD_VAR 0 3
32057: PPUSH
32058: CALL 31428 0 3
32062: ST_TO_ADDR
// end ;
32063: GO 31992
32065: POP
32066: POP
// if not Team_Game then
32067: LD_EXP 79
32071: NOT
32072: IFFALSE 32086
// teams_p = list else
32074: LD_ADDR_LOC 32
32078: PUSH
32079: LD_VAR 0 3
32083: ST_TO_ADDR
32084: GO 32289
// begin for i in Teams [ 1 ] do
32086: LD_ADDR_VAR 0 9
32090: PUSH
32091: LD_EXP 72
32095: PUSH
32096: LD_INT 1
32098: ARRAY
32099: PUSH
32100: FOR_IN
32101: IFFALSE 32127
// red = red + list [ i ] ;
32103: LD_ADDR_VAR 0 5
32107: PUSH
32108: LD_VAR 0 5
32112: PUSH
32113: LD_VAR 0 3
32117: PUSH
32118: LD_VAR 0 9
32122: ARRAY
32123: PLUS
32124: ST_TO_ADDR
32125: GO 32100
32127: POP
32128: POP
// for i in Teams [ 2 ] do
32129: LD_ADDR_VAR 0 9
32133: PUSH
32134: LD_EXP 72
32138: PUSH
32139: LD_INT 2
32141: ARRAY
32142: PUSH
32143: FOR_IN
32144: IFFALSE 32170
// blue = blue + list [ i ] ;
32146: LD_ADDR_VAR 0 6
32150: PUSH
32151: LD_VAR 0 6
32155: PUSH
32156: LD_VAR 0 3
32160: PUSH
32161: LD_VAR 0 9
32165: ARRAY
32166: PLUS
32167: ST_TO_ADDR
32168: GO 32143
32170: POP
32171: POP
// for i in Teams [ 3 ] do
32172: LD_ADDR_VAR 0 9
32176: PUSH
32177: LD_EXP 72
32181: PUSH
32182: LD_INT 3
32184: ARRAY
32185: PUSH
32186: FOR_IN
32187: IFFALSE 32213
// yel = yel + list [ i ] ;
32189: LD_ADDR_VAR 0 7
32193: PUSH
32194: LD_VAR 0 7
32198: PUSH
32199: LD_VAR 0 3
32203: PUSH
32204: LD_VAR 0 9
32208: ARRAY
32209: PLUS
32210: ST_TO_ADDR
32211: GO 32186
32213: POP
32214: POP
// for i in Teams [ 4 ] do
32215: LD_ADDR_VAR 0 9
32219: PUSH
32220: LD_EXP 72
32224: PUSH
32225: LD_INT 4
32227: ARRAY
32228: PUSH
32229: FOR_IN
32230: IFFALSE 32256
// green = green + list [ i ] ;
32232: LD_ADDR_VAR 0 8
32236: PUSH
32237: LD_VAR 0 8
32241: PUSH
32242: LD_VAR 0 3
32246: PUSH
32247: LD_VAR 0 9
32251: ARRAY
32252: PLUS
32253: ST_TO_ADDR
32254: GO 32229
32256: POP
32257: POP
// teams_p = [ red , blue , yel , green ] ;
32258: LD_ADDR_LOC 32
32262: PUSH
32263: LD_VAR 0 5
32267: PUSH
32268: LD_VAR 0 6
32272: PUSH
32273: LD_VAR 0 7
32277: PUSH
32278: LD_VAR 0 8
32282: PUSH
32283: EMPTY
32284: LIST
32285: LIST
32286: LIST
32287: LIST
32288: ST_TO_ADDR
// end ; for i = 1 to list do
32289: LD_ADDR_VAR 0 9
32293: PUSH
32294: DOUBLE
32295: LD_INT 1
32297: DEC
32298: ST_TO_ADDR
32299: LD_VAR 0 3
32303: PUSH
32304: FOR_TO
32305: IFFALSE 32333
// SetTag ( i + 20 , list [ i ] ) ;
32307: LD_VAR 0 9
32311: PUSH
32312: LD_INT 20
32314: PLUS
32315: PPUSH
32316: LD_VAR 0 3
32320: PUSH
32321: LD_VAR 0 9
32325: ARRAY
32326: PPUSH
32327: CALL_OW 109
32331: GO 32304
32333: POP
32334: POP
// end else
32335: GO 32815
// if WarForTerritory_points then
32337: LD_EXP 64
32341: IFFALSE 32815
// begin for i = 1 to FLAGY + 0 do
32343: LD_ADDR_VAR 0 9
32347: PUSH
32348: DOUBLE
32349: LD_INT 1
32351: DEC
32352: ST_TO_ADDR
32353: LD_LOC 31
32357: PUSH
32358: LD_INT 0
32360: PLUS
32361: PUSH
32362: FOR_TO
32363: IFFALSE 32435
// if WFT_FlagOnTop [ i ] then
32365: LD_LOC 34
32369: PUSH
32370: LD_VAR 0 9
32374: ARRAY
32375: IFFALSE 32433
// begin pom = GetBattleFlagSide ( FLAGY [ i ] ) ;
32377: LD_ADDR_VAR 0 10
32381: PUSH
32382: LD_LOC 31
32386: PUSH
32387: LD_VAR 0 9
32391: ARRAY
32392: PPUSH
32393: CALL_OW 421
32397: ST_TO_ADDR
// list = vloz_na_pozici ( list [ pom ] + 1 , pom , list ) ;
32398: LD_ADDR_VAR 0 3
32402: PUSH
32403: LD_VAR 0 3
32407: PUSH
32408: LD_VAR 0 10
32412: ARRAY
32413: PUSH
32414: LD_INT 1
32416: PLUS
32417: PPUSH
32418: LD_VAR 0 10
32422: PPUSH
32423: LD_VAR 0 3
32427: PPUSH
32428: CALL 31428 0 3
32432: ST_TO_ADDR
// end ;
32433: GO 32362
32435: POP
32436: POP
// if not Team_Game then
32437: LD_EXP 79
32441: NOT
32442: IFFALSE 32511
// for i = 1 to side_positions do
32444: LD_ADDR_VAR 0 9
32448: PUSH
32449: DOUBLE
32450: LD_INT 1
32452: DEC
32453: ST_TO_ADDR
32454: LD_EXP 74
32458: PUSH
32459: FOR_TO
32460: IFFALSE 32507
// teams_p = vloz_na_pozici ( teams_p [ i ] + ( list [ i ] ) , i , teams_p ) else
32462: LD_ADDR_LOC 32
32466: PUSH
32467: LD_LOC 32
32471: PUSH
32472: LD_VAR 0 9
32476: ARRAY
32477: PUSH
32478: LD_VAR 0 3
32482: PUSH
32483: LD_VAR 0 9
32487: ARRAY
32488: PLUS
32489: PPUSH
32490: LD_VAR 0 9
32494: PPUSH
32495: LD_LOC 32
32499: PPUSH
32500: CALL 31428 0 3
32504: ST_TO_ADDR
32505: GO 32459
32507: POP
32508: POP
32509: GO 32754
// begin for i in Teams [ 1 ] do
32511: LD_ADDR_VAR 0 9
32515: PUSH
32516: LD_EXP 72
32520: PUSH
32521: LD_INT 1
32523: ARRAY
32524: PUSH
32525: FOR_IN
32526: IFFALSE 32552
// red = red + list [ i ] ;
32528: LD_ADDR_VAR 0 5
32532: PUSH
32533: LD_VAR 0 5
32537: PUSH
32538: LD_VAR 0 3
32542: PUSH
32543: LD_VAR 0 9
32547: ARRAY
32548: PLUS
32549: ST_TO_ADDR
32550: GO 32525
32552: POP
32553: POP
// for i in Teams [ 2 ] do
32554: LD_ADDR_VAR 0 9
32558: PUSH
32559: LD_EXP 72
32563: PUSH
32564: LD_INT 2
32566: ARRAY
32567: PUSH
32568: FOR_IN
32569: IFFALSE 32595
// blue = blue + list [ i ] ;
32571: LD_ADDR_VAR 0 6
32575: PUSH
32576: LD_VAR 0 6
32580: PUSH
32581: LD_VAR 0 3
32585: PUSH
32586: LD_VAR 0 9
32590: ARRAY
32591: PLUS
32592: ST_TO_ADDR
32593: GO 32568
32595: POP
32596: POP
// for i in Teams [ 3 ] do
32597: LD_ADDR_VAR 0 9
32601: PUSH
32602: LD_EXP 72
32606: PUSH
32607: LD_INT 3
32609: ARRAY
32610: PUSH
32611: FOR_IN
32612: IFFALSE 32638
// yel = yel + list [ i ] ;
32614: LD_ADDR_VAR 0 7
32618: PUSH
32619: LD_VAR 0 7
32623: PUSH
32624: LD_VAR 0 3
32628: PUSH
32629: LD_VAR 0 9
32633: ARRAY
32634: PLUS
32635: ST_TO_ADDR
32636: GO 32611
32638: POP
32639: POP
// for i in Teams [ 4 ] do
32640: LD_ADDR_VAR 0 9
32644: PUSH
32645: LD_EXP 72
32649: PUSH
32650: LD_INT 4
32652: ARRAY
32653: PUSH
32654: FOR_IN
32655: IFFALSE 32681
// green = green + list [ i ] ;
32657: LD_ADDR_VAR 0 8
32661: PUSH
32662: LD_VAR 0 8
32666: PUSH
32667: LD_VAR 0 3
32671: PUSH
32672: LD_VAR 0 9
32676: ARRAY
32677: PLUS
32678: ST_TO_ADDR
32679: GO 32654
32681: POP
32682: POP
// teams_p = [ teams_p [ 1 ] + red , teams_p [ 2 ] + blue , teams_p [ 3 ] + yel , teams_p [ 4 ] + green ] ;
32683: LD_ADDR_LOC 32
32687: PUSH
32688: LD_LOC 32
32692: PUSH
32693: LD_INT 1
32695: ARRAY
32696: PUSH
32697: LD_VAR 0 5
32701: PLUS
32702: PUSH
32703: LD_LOC 32
32707: PUSH
32708: LD_INT 2
32710: ARRAY
32711: PUSH
32712: LD_VAR 0 6
32716: PLUS
32717: PUSH
32718: LD_LOC 32
32722: PUSH
32723: LD_INT 3
32725: ARRAY
32726: PUSH
32727: LD_VAR 0 7
32731: PLUS
32732: PUSH
32733: LD_LOC 32
32737: PUSH
32738: LD_INT 4
32740: ARRAY
32741: PUSH
32742: LD_VAR 0 8
32746: PLUS
32747: PUSH
32748: EMPTY
32749: LIST
32750: LIST
32751: LIST
32752: LIST
32753: ST_TO_ADDR
// end ; for i = 1 to list do
32754: LD_ADDR_VAR 0 9
32758: PUSH
32759: DOUBLE
32760: LD_INT 1
32762: DEC
32763: ST_TO_ADDR
32764: LD_VAR 0 3
32768: PUSH
32769: FOR_TO
32770: IFFALSE 32813
// SetTag ( i + 20 , getTag ( i + 20 ) + list [ i ] ) ;
32772: LD_VAR 0 9
32776: PUSH
32777: LD_INT 20
32779: PLUS
32780: PPUSH
32781: LD_VAR 0 9
32785: PUSH
32786: LD_INT 20
32788: PLUS
32789: PPUSH
32790: CALL_OW 110
32794: PUSH
32795: LD_VAR 0 3
32799: PUSH
32800: LD_VAR 0 9
32804: ARRAY
32805: PLUS
32806: PPUSH
32807: CALL_OW 109
32811: GO 32769
32813: POP
32814: POP
// end ; if WarForTerritory_points then
32815: LD_EXP 64
32819: IFFALSE 32893
// begin for i = 1 to side_positions do
32821: LD_ADDR_VAR 0 9
32825: PUSH
32826: DOUBLE
32827: LD_INT 1
32829: DEC
32830: ST_TO_ADDR
32831: LD_EXP 74
32835: PUSH
32836: FOR_TO
32837: IFFALSE 32889
// if Side_Positions [ i ] then
32839: LD_EXP 74
32843: PUSH
32844: LD_VAR 0 9
32848: ARRAY
32849: IFFALSE 32887
// SetSharedMultiScore ( i , GetTag ( i + 20 ) div ( 3 * WFT_points_MP ) , 3 ) ;
32851: LD_VAR 0 9
32855: PPUSH
32856: LD_VAR 0 9
32860: PUSH
32861: LD_INT 20
32863: PLUS
32864: PPUSH
32865: CALL_OW 110
32869: PUSH
32870: LD_INT 3
32872: PUSH
32873: LD_EXP 121
32877: MUL
32878: DIV
32879: PPUSH
32880: LD_INT 3
32882: PPUSH
32883: CALL 35287 0 3
32887: GO 32836
32889: POP
32890: POP
// end else
32891: GO 32957
// for i = 1 to side_positions do
32893: LD_ADDR_VAR 0 9
32897: PUSH
32898: DOUBLE
32899: LD_INT 1
32901: DEC
32902: ST_TO_ADDR
32903: LD_EXP 74
32907: PUSH
32908: FOR_TO
32909: IFFALSE 32955
// if Side_Positions [ i ] then
32911: LD_EXP 74
32915: PUSH
32916: LD_VAR 0 9
32920: ARRAY
32921: IFFALSE 32953
// SetSharedMultiScore ( i , GetTag ( i + 20 ) * 1000 , 3 ) ;
32923: LD_VAR 0 9
32927: PPUSH
32928: LD_VAR 0 9
32932: PUSH
32933: LD_INT 20
32935: PLUS
32936: PPUSH
32937: CALL_OW 110
32941: PUSH
32942: LD_INT 1000
32944: MUL
32945: PPUSH
32946: LD_INT 3
32948: PPUSH
32949: CALL 35287 0 3
32953: GO 32908
32955: POP
32956: POP
// show_points ;
32957: CALL 32966 0 0
// end ;
32961: LD_VAR 0 1
32965: RET
// function show_points ; var side , vypis , i , red , blue , yel , green , s ; begin
32966: LD_INT 0
32968: PPUSH
32969: PPUSH
32970: PPUSH
32971: PPUSH
32972: PPUSH
32973: PPUSH
32974: PPUSH
32975: PPUSH
32976: PPUSH
// vypis := [ ] ;
32977: LD_ADDR_VAR 0 3
32981: PUSH
32982: EMPTY
32983: ST_TO_ADDR
// red = 0 ;
32984: LD_ADDR_VAR 0 5
32988: PUSH
32989: LD_INT 0
32991: ST_TO_ADDR
// blue = 0 ;
32992: LD_ADDR_VAR 0 6
32996: PUSH
32997: LD_INT 0
32999: ST_TO_ADDR
// yel = 0 ;
33000: LD_ADDR_VAR 0 7
33004: PUSH
33005: LD_INT 0
33007: ST_TO_ADDR
// green = 0 ;
33008: LD_ADDR_VAR 0 8
33012: PUSH
33013: LD_INT 0
33015: ST_TO_ADDR
// if WarForTerritory_flags then
33016: LD_EXP 65
33020: IFFALSE 33682
// begin if def_public_score or isSGUI then
33022: LD_EXP 34
33026: PUSH
33027: LD_OWVAR 83
33031: OR
33032: IFFALSE 33436
// begin if not Team_Game then
33034: LD_EXP 79
33038: NOT
33039: IFFALSE 33181
// begin s = [ ] ;
33041: LD_ADDR_VAR 0 9
33045: PUSH
33046: EMPTY
33047: ST_TO_ADDR
// for side = 1 to Side_Positions do
33048: LD_ADDR_VAR 0 2
33052: PUSH
33053: DOUBLE
33054: LD_INT 1
33056: DEC
33057: ST_TO_ADDR
33058: LD_EXP 74
33062: PUSH
33063: FOR_TO
33064: IFFALSE 33165
// if Side_Positions [ side ] then
33066: LD_EXP 74
33070: PUSH
33071: LD_VAR 0 2
33075: ARRAY
33076: IFFALSE 33149
// begin vypis := vypis ^ [ #WarForTerritory-Flags-Public , side , side , teams_p [ side ] , WFT_Goal ] ;
33078: LD_ADDR_VAR 0 3
33082: PUSH
33083: LD_VAR 0 3
33087: PUSH
33088: LD_STRING #WarForTerritory-Flags-Public
33090: PUSH
33091: LD_VAR 0 2
33095: PUSH
33096: LD_VAR 0 2
33100: PUSH
33101: LD_LOC 32
33105: PUSH
33106: LD_VAR 0 2
33110: ARRAY
33111: PUSH
33112: LD_LOC 33
33116: PUSH
33117: EMPTY
33118: LIST
33119: LIST
33120: LIST
33121: LIST
33122: LIST
33123: ADD
33124: ST_TO_ADDR
// s = s ^ teams_p [ side ] ;
33125: LD_ADDR_VAR 0 9
33129: PUSH
33130: LD_VAR 0 9
33134: PUSH
33135: LD_LOC 32
33139: PUSH
33140: LD_VAR 0 2
33144: ARRAY
33145: ADD
33146: ST_TO_ADDR
// end else
33147: GO 33163
// s = s ^ 0 ;
33149: LD_ADDR_VAR 0 9
33153: PUSH
33154: LD_VAR 0 9
33158: PUSH
33159: LD_INT 0
33161: ADD
33162: ST_TO_ADDR
33163: GO 33063
33165: POP
33166: POP
// LScore_Update_Peices ( 3 , s ) ;
33167: LD_INT 3
33169: PPUSH
33170: LD_VAR 0 9
33174: PPUSH
33175: CALL 36908 0 2
// end else
33179: GO 33434
// begin if Teams [ 1 ] then
33181: LD_EXP 72
33185: PUSH
33186: LD_INT 1
33188: ARRAY
33189: IFFALSE 33228
// vypis := vypis ^ [ #WarForTerritory-Flags-Public-red , 3 , teams_p [ 1 ] , WFT_Goal ] ;
33191: LD_ADDR_VAR 0 3
33195: PUSH
33196: LD_VAR 0 3
33200: PUSH
33201: LD_STRING #WarForTerritory-Flags-Public-red
33203: PUSH
33204: LD_INT 3
33206: PUSH
33207: LD_LOC 32
33211: PUSH
33212: LD_INT 1
33214: ARRAY
33215: PUSH
33216: LD_LOC 33
33220: PUSH
33221: EMPTY
33222: LIST
33223: LIST
33224: LIST
33225: LIST
33226: ADD
33227: ST_TO_ADDR
// if Teams [ 2 ] then
33228: LD_EXP 72
33232: PUSH
33233: LD_INT 2
33235: ARRAY
33236: IFFALSE 33275
// vypis := vypis ^ [ #WarForTerritory-Flags-Public-blue , 1 , teams_p [ 2 ] , WFT_Goal ] ;
33238: LD_ADDR_VAR 0 3
33242: PUSH
33243: LD_VAR 0 3
33247: PUSH
33248: LD_STRING #WarForTerritory-Flags-Public-blue
33250: PUSH
33251: LD_INT 1
33253: PUSH
33254: LD_LOC 32
33258: PUSH
33259: LD_INT 2
33261: ARRAY
33262: PUSH
33263: LD_LOC 33
33267: PUSH
33268: EMPTY
33269: LIST
33270: LIST
33271: LIST
33272: LIST
33273: ADD
33274: ST_TO_ADDR
// if Teams [ 3 ] then
33275: LD_EXP 72
33279: PUSH
33280: LD_INT 3
33282: ARRAY
33283: IFFALSE 33322
// vypis := vypis ^ [ #WarForTerritory-Flags-Public-yell , 2 , teams_p [ 3 ] , WFT_Goal ] ;
33285: LD_ADDR_VAR 0 3
33289: PUSH
33290: LD_VAR 0 3
33294: PUSH
33295: LD_STRING #WarForTerritory-Flags-Public-yell
33297: PUSH
33298: LD_INT 2
33300: PUSH
33301: LD_LOC 32
33305: PUSH
33306: LD_INT 3
33308: ARRAY
33309: PUSH
33310: LD_LOC 33
33314: PUSH
33315: EMPTY
33316: LIST
33317: LIST
33318: LIST
33319: LIST
33320: ADD
33321: ST_TO_ADDR
// if Teams [ 4 ] then
33322: LD_EXP 72
33326: PUSH
33327: LD_INT 4
33329: ARRAY
33330: IFFALSE 33369
// vypis := vypis ^ [ #WarForTerritory-Flags-Public-green , 7 , teams_p [ 4 ] , WFT_Goal ] ;
33332: LD_ADDR_VAR 0 3
33336: PUSH
33337: LD_VAR 0 3
33341: PUSH
33342: LD_STRING #WarForTerritory-Flags-Public-green
33344: PUSH
33345: LD_INT 7
33347: PUSH
33348: LD_LOC 32
33352: PUSH
33353: LD_INT 4
33355: ARRAY
33356: PUSH
33357: LD_LOC 33
33361: PUSH
33362: EMPTY
33363: LIST
33364: LIST
33365: LIST
33366: LIST
33367: ADD
33368: ST_TO_ADDR
// LScore_Update_Peices ( 3 , [ teams_p [ 2 ] , teams_p [ 3 ] , teams_p [ 1 ] , 0 , 0 , 0 , teams_p [ 4 ] , 0 ] ) ;
33369: LD_INT 3
33371: PPUSH
33372: LD_LOC 32
33376: PUSH
33377: LD_INT 2
33379: ARRAY
33380: PUSH
33381: LD_LOC 32
33385: PUSH
33386: LD_INT 3
33388: ARRAY
33389: PUSH
33390: LD_LOC 32
33394: PUSH
33395: LD_INT 1
33397: ARRAY
33398: PUSH
33399: LD_INT 0
33401: PUSH
33402: LD_INT 0
33404: PUSH
33405: LD_INT 0
33407: PUSH
33408: LD_LOC 32
33412: PUSH
33413: LD_INT 4
33415: ARRAY
33416: PUSH
33417: LD_INT 0
33419: PUSH
33420: EMPTY
33421: LIST
33422: LIST
33423: LIST
33424: LIST
33425: LIST
33426: LIST
33427: LIST
33428: LIST
33429: PPUSH
33430: CALL 36908 0 2
// end ; end else
33434: GO 33680
// begin if not Team_Game then
33436: LD_EXP 79
33440: NOT
33441: IFFALSE 33492
// begin vypis := vypis ^ [ #WarForTerritory-Flags-Private , mp_player_side , mp_player_side , teams_p [ side ] , WFT_Goal ] ;
33443: LD_ADDR_VAR 0 3
33447: PUSH
33448: LD_VAR 0 3
33452: PUSH
33453: LD_STRING #WarForTerritory-Flags-Private
33455: PUSH
33456: LD_OWVAR 7
33460: PUSH
33461: LD_OWVAR 7
33465: PUSH
33466: LD_LOC 32
33470: PUSH
33471: LD_VAR 0 2
33475: ARRAY
33476: PUSH
33477: LD_LOC 33
33481: PUSH
33482: EMPTY
33483: LIST
33484: LIST
33485: LIST
33486: LIST
33487: LIST
33488: ADD
33489: ST_TO_ADDR
// end else
33490: GO 33680
// begin if mp_player_side in Teams [ 1 ] then
33492: LD_OWVAR 7
33496: PUSH
33497: LD_EXP 72
33501: PUSH
33502: LD_INT 1
33504: ARRAY
33505: IN
33506: IFFALSE 33539
// vypis := [ #WarForTerritory-points-Flags-red , 3 , teams_p [ 1 ] , WFT_Goal ] ;
33508: LD_ADDR_VAR 0 3
33512: PUSH
33513: LD_STRING #WarForTerritory-points-Flags-red
33515: PUSH
33516: LD_INT 3
33518: PUSH
33519: LD_LOC 32
33523: PUSH
33524: LD_INT 1
33526: ARRAY
33527: PUSH
33528: LD_LOC 33
33532: PUSH
33533: EMPTY
33534: LIST
33535: LIST
33536: LIST
33537: LIST
33538: ST_TO_ADDR
// if mp_player_side in Teams [ 2 ] then
33539: LD_OWVAR 7
33543: PUSH
33544: LD_EXP 72
33548: PUSH
33549: LD_INT 2
33551: ARRAY
33552: IN
33553: IFFALSE 33586
// vypis := [ #WarForTerritory-points-Flags-blue , 1 , teams_p [ 2 ] , WFT_Goal ] ;
33555: LD_ADDR_VAR 0 3
33559: PUSH
33560: LD_STRING #WarForTerritory-points-Flags-blue
33562: PUSH
33563: LD_INT 1
33565: PUSH
33566: LD_LOC 32
33570: PUSH
33571: LD_INT 2
33573: ARRAY
33574: PUSH
33575: LD_LOC 33
33579: PUSH
33580: EMPTY
33581: LIST
33582: LIST
33583: LIST
33584: LIST
33585: ST_TO_ADDR
// if mp_player_side in Teams [ 3 ] then
33586: LD_OWVAR 7
33590: PUSH
33591: LD_EXP 72
33595: PUSH
33596: LD_INT 3
33598: ARRAY
33599: IN
33600: IFFALSE 33633
// vypis := [ #WarForTerritory-points-Flags-yell , 2 , teams_p [ 3 ] , WFT_Goal ] ;
33602: LD_ADDR_VAR 0 3
33606: PUSH
33607: LD_STRING #WarForTerritory-points-Flags-yell
33609: PUSH
33610: LD_INT 2
33612: PUSH
33613: LD_LOC 32
33617: PUSH
33618: LD_INT 3
33620: ARRAY
33621: PUSH
33622: LD_LOC 33
33626: PUSH
33627: EMPTY
33628: LIST
33629: LIST
33630: LIST
33631: LIST
33632: ST_TO_ADDR
// if mp_player_side in Teams [ 4 ] then
33633: LD_OWVAR 7
33637: PUSH
33638: LD_EXP 72
33642: PUSH
33643: LD_INT 4
33645: ARRAY
33646: IN
33647: IFFALSE 33680
// vypis := [ #WarForTerritory-points-Flags-green , 7 , teams_p [ 4 ] , WFT_Goal ] ;
33649: LD_ADDR_VAR 0 3
33653: PUSH
33654: LD_STRING #WarForTerritory-points-Flags-green
33656: PUSH
33657: LD_INT 7
33659: PUSH
33660: LD_LOC 32
33664: PUSH
33665: LD_INT 4
33667: ARRAY
33668: PUSH
33669: LD_LOC 33
33673: PUSH
33674: EMPTY
33675: LIST
33676: LIST
33677: LIST
33678: LIST
33679: ST_TO_ADDR
// end ; end ; end else
33680: GO 34433
// if def_public_score or isSGUI then
33682: LD_EXP 34
33686: PUSH
33687: LD_OWVAR 83
33691: OR
33692: IFFALSE 34139
// begin if not Team_Game then
33694: LD_EXP 79
33698: NOT
33699: IFFALSE 33827
// begin for side = 1 to Side_Positions do
33701: LD_ADDR_VAR 0 2
33705: PUSH
33706: DOUBLE
33707: LD_INT 1
33709: DEC
33710: ST_TO_ADDR
33711: LD_EXP 74
33715: PUSH
33716: FOR_TO
33717: IFFALSE 33823
// if Side_Positions [ side ] then
33719: LD_EXP 74
33723: PUSH
33724: LD_VAR 0 2
33728: ARRAY
33729: IFFALSE 33821
// begin vypis := vypis ^ [ #WarForTerritory-points-Public , side , side , teams_p [ side ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
33731: LD_ADDR_VAR 0 3
33735: PUSH
33736: LD_VAR 0 3
33740: PUSH
33741: LD_STRING #WarForTerritory-points-Public
33743: PUSH
33744: LD_VAR 0 2
33748: PUSH
33749: LD_VAR 0 2
33753: PUSH
33754: LD_LOC 32
33758: PUSH
33759: LD_VAR 0 2
33763: ARRAY
33764: PUSH
33765: LD_INT 3
33767: PUSH
33768: LD_EXP 121
33772: MUL
33773: DIV
33774: PUSH
33775: LD_LOC 33
33779: PUSH
33780: EMPTY
33781: LIST
33782: LIST
33783: LIST
33784: LIST
33785: LIST
33786: ADD
33787: ST_TO_ADDR
// LScore_Update_Points ( 3 , side , ( teams_p [ side ] div ( 3 * WFT_Points_MP ) ) ) ;
33788: LD_INT 3
33790: PPUSH
33791: LD_VAR 0 2
33795: PPUSH
33796: LD_LOC 32
33800: PUSH
33801: LD_VAR 0 2
33805: ARRAY
33806: PUSH
33807: LD_INT 3
33809: PUSH
33810: LD_EXP 121
33814: MUL
33815: DIV
33816: PPUSH
33817: CALL 36736 0 3
// end ;
33821: GO 33716
33823: POP
33824: POP
// end else
33825: GO 34137
// begin if Teams [ 1 ] then
33827: LD_EXP 72
33831: PUSH
33832: LD_INT 1
33834: ARRAY
33835: IFFALSE 33884
// vypis := vypis ^ [ #WarForTerritory-points-Public-red , 3 , teams_p [ 1 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
33837: LD_ADDR_VAR 0 3
33841: PUSH
33842: LD_VAR 0 3
33846: PUSH
33847: LD_STRING #WarForTerritory-points-Public-red
33849: PUSH
33850: LD_INT 3
33852: PUSH
33853: LD_LOC 32
33857: PUSH
33858: LD_INT 1
33860: ARRAY
33861: PUSH
33862: LD_INT 3
33864: PUSH
33865: LD_EXP 121
33869: MUL
33870: DIV
33871: PUSH
33872: LD_LOC 33
33876: PUSH
33877: EMPTY
33878: LIST
33879: LIST
33880: LIST
33881: LIST
33882: ADD
33883: ST_TO_ADDR
// if Teams [ 2 ] then
33884: LD_EXP 72
33888: PUSH
33889: LD_INT 2
33891: ARRAY
33892: IFFALSE 33941
// vypis := vypis ^ [ #WarForTerritory-points-Public-blue , 1 , teams_p [ 2 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
33894: LD_ADDR_VAR 0 3
33898: PUSH
33899: LD_VAR 0 3
33903: PUSH
33904: LD_STRING #WarForTerritory-points-Public-blue
33906: PUSH
33907: LD_INT 1
33909: PUSH
33910: LD_LOC 32
33914: PUSH
33915: LD_INT 2
33917: ARRAY
33918: PUSH
33919: LD_INT 3
33921: PUSH
33922: LD_EXP 121
33926: MUL
33927: DIV
33928: PUSH
33929: LD_LOC 33
33933: PUSH
33934: EMPTY
33935: LIST
33936: LIST
33937: LIST
33938: LIST
33939: ADD
33940: ST_TO_ADDR
// if Teams [ 3 ] then
33941: LD_EXP 72
33945: PUSH
33946: LD_INT 3
33948: ARRAY
33949: IFFALSE 33998
// vypis := vypis ^ [ #WarForTerritory-points-Public-yell , 2 , teams_p [ 3 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
33951: LD_ADDR_VAR 0 3
33955: PUSH
33956: LD_VAR 0 3
33960: PUSH
33961: LD_STRING #WarForTerritory-points-Public-yell
33963: PUSH
33964: LD_INT 2
33966: PUSH
33967: LD_LOC 32
33971: PUSH
33972: LD_INT 3
33974: ARRAY
33975: PUSH
33976: LD_INT 3
33978: PUSH
33979: LD_EXP 121
33983: MUL
33984: DIV
33985: PUSH
33986: LD_LOC 33
33990: PUSH
33991: EMPTY
33992: LIST
33993: LIST
33994: LIST
33995: LIST
33996: ADD
33997: ST_TO_ADDR
// if Teams [ 4 ] then
33998: LD_EXP 72
34002: PUSH
34003: LD_INT 4
34005: ARRAY
34006: IFFALSE 34055
// vypis := vypis ^ [ #WarForTerritory-points-Public-green , 7 , teams_p [ 4 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
34008: LD_ADDR_VAR 0 3
34012: PUSH
34013: LD_VAR 0 3
34017: PUSH
34018: LD_STRING #WarForTerritory-points-Public-green
34020: PUSH
34021: LD_INT 7
34023: PUSH
34024: LD_LOC 32
34028: PUSH
34029: LD_INT 4
34031: ARRAY
34032: PUSH
34033: LD_INT 3
34035: PUSH
34036: LD_EXP 121
34040: MUL
34041: DIV
34042: PUSH
34043: LD_LOC 33
34047: PUSH
34048: EMPTY
34049: LIST
34050: LIST
34051: LIST
34052: LIST
34053: ADD
34054: ST_TO_ADDR
// s = [ 3 , 1 , 2 , 7 ] ;
34055: LD_ADDR_VAR 0 9
34059: PUSH
34060: LD_INT 3
34062: PUSH
34063: LD_INT 1
34065: PUSH
34066: LD_INT 2
34068: PUSH
34069: LD_INT 7
34071: PUSH
34072: EMPTY
34073: LIST
34074: LIST
34075: LIST
34076: LIST
34077: ST_TO_ADDR
// for i = 1 to 4 do
34078: LD_ADDR_VAR 0 4
34082: PUSH
34083: DOUBLE
34084: LD_INT 1
34086: DEC
34087: ST_TO_ADDR
34088: LD_INT 4
34090: PUSH
34091: FOR_TO
34092: IFFALSE 34135
// LScore_Update_Points ( 3 , s [ i ] , ( teams_p [ i ] div ( 3 * WFT_Points_MP ) ) ) ;
34094: LD_INT 3
34096: PPUSH
34097: LD_VAR 0 9
34101: PUSH
34102: LD_VAR 0 4
34106: ARRAY
34107: PPUSH
34108: LD_LOC 32
34112: PUSH
34113: LD_VAR 0 4
34117: ARRAY
34118: PUSH
34119: LD_INT 3
34121: PUSH
34122: LD_EXP 121
34126: MUL
34127: DIV
34128: PPUSH
34129: CALL 36736 0 3
34133: GO 34091
34135: POP
34136: POP
// end ; end else
34137: GO 34433
// if not Team_Game then
34139: LD_EXP 79
34143: NOT
34144: IFFALSE 34205
// begin vypis := vypis ^ [ #WarForTerritory-points-Private , mp_player_side , mp_player_side , teams_p [ side ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] end else
34146: LD_ADDR_VAR 0 3
34150: PUSH
34151: LD_VAR 0 3
34155: PUSH
34156: LD_STRING #WarForTerritory-points-Private
34158: PUSH
34159: LD_OWVAR 7
34163: PUSH
34164: LD_OWVAR 7
34168: PUSH
34169: LD_LOC 32
34173: PUSH
34174: LD_VAR 0 2
34178: ARRAY
34179: PUSH
34180: LD_INT 3
34182: PUSH
34183: LD_EXP 121
34187: MUL
34188: DIV
34189: PUSH
34190: LD_LOC 33
34194: PUSH
34195: EMPTY
34196: LIST
34197: LIST
34198: LIST
34199: LIST
34200: LIST
34201: ADD
34202: ST_TO_ADDR
34203: GO 34433
// begin if mp_player_side in Teams [ 1 ] then
34205: LD_OWVAR 7
34209: PUSH
34210: LD_EXP 72
34214: PUSH
34215: LD_INT 1
34217: ARRAY
34218: IN
34219: IFFALSE 34262
// vypis := [ #WarForTerritory-points-Public-red , 3 , teams_p [ 1 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
34221: LD_ADDR_VAR 0 3
34225: PUSH
34226: LD_STRING #WarForTerritory-points-Public-red
34228: PUSH
34229: LD_INT 3
34231: PUSH
34232: LD_LOC 32
34236: PUSH
34237: LD_INT 1
34239: ARRAY
34240: PUSH
34241: LD_INT 3
34243: PUSH
34244: LD_EXP 121
34248: MUL
34249: DIV
34250: PUSH
34251: LD_LOC 33
34255: PUSH
34256: EMPTY
34257: LIST
34258: LIST
34259: LIST
34260: LIST
34261: ST_TO_ADDR
// if mp_player_side in Teams [ 2 ] then
34262: LD_OWVAR 7
34266: PUSH
34267: LD_EXP 72
34271: PUSH
34272: LD_INT 2
34274: ARRAY
34275: IN
34276: IFFALSE 34319
// vypis := [ #WarForTerritory-points-Public-blue , 1 , teams_p [ 2 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
34278: LD_ADDR_VAR 0 3
34282: PUSH
34283: LD_STRING #WarForTerritory-points-Public-blue
34285: PUSH
34286: LD_INT 1
34288: PUSH
34289: LD_LOC 32
34293: PUSH
34294: LD_INT 2
34296: ARRAY
34297: PUSH
34298: LD_INT 3
34300: PUSH
34301: LD_EXP 121
34305: MUL
34306: DIV
34307: PUSH
34308: LD_LOC 33
34312: PUSH
34313: EMPTY
34314: LIST
34315: LIST
34316: LIST
34317: LIST
34318: ST_TO_ADDR
// if mp_player_side in Teams [ 3 ] then
34319: LD_OWVAR 7
34323: PUSH
34324: LD_EXP 72
34328: PUSH
34329: LD_INT 3
34331: ARRAY
34332: IN
34333: IFFALSE 34376
// vypis := [ #WarForTerritory-points-Public-yell , 2 , teams_p [ 3 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
34335: LD_ADDR_VAR 0 3
34339: PUSH
34340: LD_STRING #WarForTerritory-points-Public-yell
34342: PUSH
34343: LD_INT 2
34345: PUSH
34346: LD_LOC 32
34350: PUSH
34351: LD_INT 3
34353: ARRAY
34354: PUSH
34355: LD_INT 3
34357: PUSH
34358: LD_EXP 121
34362: MUL
34363: DIV
34364: PUSH
34365: LD_LOC 33
34369: PUSH
34370: EMPTY
34371: LIST
34372: LIST
34373: LIST
34374: LIST
34375: ST_TO_ADDR
// if mp_player_side in Teams [ 4 ] then
34376: LD_OWVAR 7
34380: PUSH
34381: LD_EXP 72
34385: PUSH
34386: LD_INT 4
34388: ARRAY
34389: IN
34390: IFFALSE 34433
// vypis := [ #WarForTerritory-points-Public-green , 7 , teams_p [ 4 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
34392: LD_ADDR_VAR 0 3
34396: PUSH
34397: LD_STRING #WarForTerritory-points-Public-green
34399: PUSH
34400: LD_INT 7
34402: PUSH
34403: LD_LOC 32
34407: PUSH
34408: LD_INT 4
34410: ARRAY
34411: PUSH
34412: LD_INT 3
34414: PUSH
34415: LD_EXP 121
34419: MUL
34420: DIV
34421: PUSH
34422: LD_LOC 33
34426: PUSH
34427: EMPTY
34428: LIST
34429: LIST
34430: LIST
34431: LIST
34432: ST_TO_ADDR
// end ; Display_WFG := vypis ;
34433: LD_ADDR_EXP 112
34437: PUSH
34438: LD_VAR 0 3
34442: ST_TO_ADDR
// end ; end_of_file
34443: LD_VAR 0 1
34447: RET
// export function SA_OnSiberiteRocketExploded ( siberite_rocket_vehicle , target_x , target_y , requestSide ) ; begin
34448: LD_INT 0
34450: PPUSH
// if GetSide ( siberite_rocket_vehicle ) = requestSide then
34451: LD_VAR 0 1
34455: PPUSH
34456: CALL_OW 255
34460: PUSH
34461: LD_VAR 0 4
34465: EQUAL
34466: IFFALSE 34485
// begin SetAchievement ( ACH_RAD ) ;
34468: LD_STRING ACH_RAD
34470: PPUSH
34471: CALL_OW 543
// SetAchievementEx ( ACH_NL , 1 ) ;
34475: LD_STRING ACH_NL
34477: PPUSH
34478: LD_INT 1
34480: PPUSH
34481: CALL_OW 564
// end end ;
34485: LD_VAR 0 5
34489: RET
// export function SA_Win ( side ) ; begin
34490: LD_INT 0
34492: PPUSH
// case side of 1 :
34493: LD_VAR 0 1
34497: PUSH
34498: LD_INT 1
34500: DOUBLE
34501: EQUAL
34502: IFTRUE 34506
34504: GO 34519
34506: POP
// SetAchievementEx ( ACH_AH , 1 ) ; 2 :
34507: LD_STRING ACH_AH
34509: PPUSH
34510: LD_INT 1
34512: PPUSH
34513: CALL_OW 564
34517: GO 34682
34519: LD_INT 2
34521: DOUBLE
34522: EQUAL
34523: IFTRUE 34527
34525: GO 34540
34527: POP
// SetAchievementEx ( ACH_E , 1 ) ; 3 :
34528: LD_STRING ACH_E
34530: PPUSH
34531: LD_INT 1
34533: PPUSH
34534: CALL_OW 564
34538: GO 34682
34540: LD_INT 3
34542: DOUBLE
34543: EQUAL
34544: IFTRUE 34548
34546: GO 34561
34548: POP
// SetAchievementEx ( ACH_OOL , 1 ) ; [ 1 , 2 ] :
34549: LD_STRING ACH_OOL
34551: PPUSH
34552: LD_INT 1
34554: PPUSH
34555: CALL_OW 564
34559: GO 34682
34561: LD_INT 1
34563: PUSH
34564: LD_INT 2
34566: PUSH
34567: EMPTY
34568: LIST
34569: LIST
34570: DOUBLE
34571: EQUAL
34572: IFTRUE 34576
34574: GO 34601
34576: POP
// begin SetAchievementEx ( ACH_AH , 0.5 ) ;
34577: LD_STRING ACH_AH
34579: PPUSH
34580: LD_REAL  5.00000000000000E-0001
34583: PPUSH
34584: CALL_OW 564
// SetAchievementEx ( ACH_E , 0.5 ) ;
34588: LD_STRING ACH_E
34590: PPUSH
34591: LD_REAL  5.00000000000000E-0001
34594: PPUSH
34595: CALL_OW 564
// end ; [ 2 , 3 ] :
34599: GO 34682
34601: LD_INT 2
34603: PUSH
34604: LD_INT 3
34606: PUSH
34607: EMPTY
34608: LIST
34609: LIST
34610: DOUBLE
34611: EQUAL
34612: IFTRUE 34616
34614: GO 34641
34616: POP
// begin SetAchievementEx ( ACH_OOL , 0.5 ) ;
34617: LD_STRING ACH_OOL
34619: PPUSH
34620: LD_REAL  5.00000000000000E-0001
34623: PPUSH
34624: CALL_OW 564
// SetAchievementEx ( ACH_E , 0.5 ) ;
34628: LD_STRING ACH_E
34630: PPUSH
34631: LD_REAL  5.00000000000000E-0001
34634: PPUSH
34635: CALL_OW 564
// end ; [ 3 , 1 ] :
34639: GO 34682
34641: LD_INT 3
34643: PUSH
34644: LD_INT 1
34646: PUSH
34647: EMPTY
34648: LIST
34649: LIST
34650: DOUBLE
34651: EQUAL
34652: IFTRUE 34656
34654: GO 34681
34656: POP
// begin SetAchievementEx ( ACH_AH , 0.5 ) ;
34657: LD_STRING ACH_AH
34659: PPUSH
34660: LD_REAL  5.00000000000000E-0001
34663: PPUSH
34664: CALL_OW 564
// SetAchievementEx ( ACH_OOL , 0.5 ) ;
34668: LD_STRING ACH_OOL
34670: PPUSH
34671: LD_REAL  5.00000000000000E-0001
34674: PPUSH
34675: CALL_OW 564
// end ; end ;
34679: GO 34682
34681: POP
// end ; end_of_file
34682: LD_VAR 0 2
34686: RET
// var sharedPoints1 , sharedPoints2 , sharedPoints3 ; var pointGame ; export function InitPoints ( ) ; var i , d ; begin
34687: LD_INT 0
34689: PPUSH
34690: PPUSH
34691: PPUSH
// sharedPoints1 = [ ] ;
34692: LD_ADDR_LOC 36
34696: PUSH
34697: EMPTY
34698: ST_TO_ADDR
// sharedPoints2 = [ ] ;
34699: LD_ADDR_LOC 37
34703: PUSH
34704: EMPTY
34705: ST_TO_ADDR
// sharedPoints3 = [ ] ;
34706: LD_ADDR_LOC 38
34710: PUSH
34711: EMPTY
34712: ST_TO_ADDR
// for i = 1 to Side_Positions + 0 do
34713: LD_ADDR_VAR 0 2
34717: PUSH
34718: DOUBLE
34719: LD_INT 1
34721: DEC
34722: ST_TO_ADDR
34723: LD_EXP 74
34727: PUSH
34728: LD_INT 0
34730: PLUS
34731: PUSH
34732: FOR_TO
34733: IFFALSE 34835
// begin if not Side_Positions [ i ] = 0 then
34735: LD_EXP 74
34739: PUSH
34740: LD_VAR 0 2
34744: ARRAY
34745: PUSH
34746: LD_INT 0
34748: EQUAL
34749: NOT
34750: IFFALSE 34764
// SetMultiScore ( i , 0 ) ;
34752: LD_VAR 0 2
34756: PPUSH
34757: LD_INT 0
34759: PPUSH
34760: CALL_OW 506
// sharedPoints1 = Replace ( sharedPoints1 , i , 0 ) ;
34764: LD_ADDR_LOC 36
34768: PUSH
34769: LD_LOC 36
34773: PPUSH
34774: LD_VAR 0 2
34778: PPUSH
34779: LD_INT 0
34781: PPUSH
34782: CALL_OW 1
34786: ST_TO_ADDR
// sharedPoints2 = Replace ( sharedPoints2 , i , 0 ) ;
34787: LD_ADDR_LOC 37
34791: PUSH
34792: LD_LOC 37
34796: PPUSH
34797: LD_VAR 0 2
34801: PPUSH
34802: LD_INT 0
34804: PPUSH
34805: CALL_OW 1
34809: ST_TO_ADDR
// sharedPoints3 = Replace ( sharedPoints3 , i , 0 ) ;
34810: LD_ADDR_LOC 38
34814: PUSH
34815: LD_LOC 38
34819: PPUSH
34820: LD_VAR 0 2
34824: PPUSH
34825: LD_INT 0
34827: PPUSH
34828: CALL_OW 1
34832: ST_TO_ADDR
// end ;
34833: GO 34732
34835: POP
34836: POP
// pointGame = true ;
34837: LD_ADDR_LOC 39
34841: PUSH
34842: LD_INT 1
34844: ST_TO_ADDR
// end ;
34845: LD_VAR 0 1
34849: RET
// every 0 0$1 trigger pointGame do var i , red , blue , yel , green , redN , blueN , yelN , greenN , s , n , p , you ;
34850: LD_LOC 39
34854: IFFALSE 35284
34856: GO 34858
34858: DISABLE
34859: LD_INT 0
34861: PPUSH
34862: PPUSH
34863: PPUSH
34864: PPUSH
34865: PPUSH
34866: PPUSH
34867: PPUSH
34868: PPUSH
34869: PPUSH
34870: PPUSH
34871: PPUSH
34872: PPUSH
34873: PPUSH
// begin if isSGUI then
34874: LD_OWVAR 83
34878: IFFALSE 35284
// begin if Teams [ 1 ] then
34880: LD_EXP 72
34884: PUSH
34885: LD_INT 1
34887: ARRAY
34888: IFFALSE 34900
// red = true else
34890: LD_ADDR_VAR 0 2
34894: PUSH
34895: LD_INT 1
34897: ST_TO_ADDR
34898: GO 34908
// red = false ;
34900: LD_ADDR_VAR 0 2
34904: PUSH
34905: LD_INT 0
34907: ST_TO_ADDR
// if Teams [ 2 ] then
34908: LD_EXP 72
34912: PUSH
34913: LD_INT 2
34915: ARRAY
34916: IFFALSE 34928
// blue = true else
34918: LD_ADDR_VAR 0 3
34922: PUSH
34923: LD_INT 1
34925: ST_TO_ADDR
34926: GO 34936
// blue = false ;
34928: LD_ADDR_VAR 0 3
34932: PUSH
34933: LD_INT 0
34935: ST_TO_ADDR
// if Teams [ 3 ] then
34936: LD_EXP 72
34940: PUSH
34941: LD_INT 3
34943: ARRAY
34944: IFFALSE 34956
// yel = true else
34946: LD_ADDR_VAR 0 4
34950: PUSH
34951: LD_INT 1
34953: ST_TO_ADDR
34954: GO 34964
// yel = false ;
34956: LD_ADDR_VAR 0 4
34960: PUSH
34961: LD_INT 0
34963: ST_TO_ADDR
// if Teams [ 4 ] then
34964: LD_EXP 72
34968: PUSH
34969: LD_INT 4
34971: ARRAY
34972: IFFALSE 34984
// green = true else
34974: LD_ADDR_VAR 0 5
34978: PUSH
34979: LD_INT 1
34981: ST_TO_ADDR
34982: GO 34992
// green = false ;
34984: LD_ADDR_VAR 0 5
34988: PUSH
34989: LD_INT 0
34991: ST_TO_ADDR
// if def_public_score then
34992: LD_EXP 34
34996: IFFALSE 35008
// p = true else
34998: LD_ADDR_VAR 0 12
35002: PUSH
35003: LD_INT 1
35005: ST_TO_ADDR
35006: GO 35016
// p = false ;
35008: LD_ADDR_VAR 0 12
35012: PUSH
35013: LD_INT 0
35015: ST_TO_ADDR
// if team_game then
35016: LD_EXP 79
35020: IFFALSE 35100
// begin you = [ 3 , 1 , 2 , 7 ] [ player_team ] ;
35022: LD_ADDR_VAR 0 13
35026: PUSH
35027: LD_INT 3
35029: PUSH
35030: LD_INT 1
35032: PUSH
35033: LD_INT 2
35035: PUSH
35036: LD_INT 7
35038: PUSH
35039: EMPTY
35040: LIST
35041: LIST
35042: LIST
35043: LIST
35044: PUSH
35045: LD_EXP 70
35049: ARRAY
35050: ST_TO_ADDR
// s = [ blue , yel , red , false , false , false , green , false ] ;
35051: LD_ADDR_VAR 0 10
35055: PUSH
35056: LD_VAR 0 3
35060: PUSH
35061: LD_VAR 0 4
35065: PUSH
35066: LD_VAR 0 2
35070: PUSH
35071: LD_INT 0
35073: PUSH
35074: LD_INT 0
35076: PUSH
35077: LD_INT 0
35079: PUSH
35080: LD_VAR 0 5
35084: PUSH
35085: LD_INT 0
35087: PUSH
35088: EMPTY
35089: LIST
35090: LIST
35091: LIST
35092: LIST
35093: LIST
35094: LIST
35095: LIST
35096: LIST
35097: ST_TO_ADDR
// end else
35098: GO 35185
// begin you = your_side ;
35100: LD_ADDR_VAR 0 13
35104: PUSH
35105: LD_OWVAR 2
35109: ST_TO_ADDR
// s = [ ] ;
35110: LD_ADDR_VAR 0 10
35114: PUSH
35115: EMPTY
35116: ST_TO_ADDR
// for i = 1 to side_positions + 0 do
35117: LD_ADDR_VAR 0 1
35121: PUSH
35122: DOUBLE
35123: LD_INT 1
35125: DEC
35126: ST_TO_ADDR
35127: LD_EXP 74
35131: PUSH
35132: LD_INT 0
35134: PLUS
35135: PUSH
35136: FOR_TO
35137: IFFALSE 35183
// if side_positions [ i ] then
35139: LD_EXP 74
35143: PUSH
35144: LD_VAR 0 1
35148: ARRAY
35149: IFFALSE 35167
// s = s ^ true else
35151: LD_ADDR_VAR 0 10
35155: PUSH
35156: LD_VAR 0 10
35160: PUSH
35161: LD_INT 1
35163: ADD
35164: ST_TO_ADDR
35165: GO 35181
// s = s ^ false ;
35167: LD_ADDR_VAR 0 10
35171: PUSH
35172: LD_VAR 0 10
35176: PUSH
35177: LD_INT 0
35179: ADD
35180: ST_TO_ADDR
35181: GO 35136
35183: POP
35184: POP
// end ; LScore_Init ( s , p , you ) ;
35185: LD_VAR 0 10
35189: PPUSH
35190: LD_VAR 0 12
35194: PPUSH
35195: LD_VAR 0 13
35199: PPUSH
35200: CALL 35464 0 3
// if def_warForTerritory and WarForTerritory_flags then
35204: LD_EXP 36
35208: PUSH
35209: LD_EXP 65
35213: AND
35214: IFFALSE 35236
// LScore_Add_Pieces ( 3 , 3 , WarForTerritory_flags , MaxFlags ) ;
35216: LD_INT 3
35218: PPUSH
35219: LD_INT 3
35221: PPUSH
35222: LD_EXP 65
35226: PPUSH
35227: LD_EXP 113
35231: PPUSH
35232: CALL 36853 0 4
// if def_warForTerritory and WarForTerritory_Points then
35236: LD_EXP 36
35240: PUSH
35241: LD_EXP 64
35245: AND
35246: IFFALSE 35263
// LScore_Add_Points ( 3 , 3 , WarForTerritory_Points ) ;
35248: LD_INT 3
35250: PPUSH
35251: LD_INT 3
35253: PPUSH
35254: LD_EXP 64
35258: PPUSH
35259: CALL 36691 0 3
// if def_kings_age then
35263: LD_EXP 35
35267: IFFALSE 35284
// LScore_Add_Points ( 2 , 2 , final_count ) ;
35269: LD_INT 2
35271: PPUSH
35272: LD_INT 2
35274: PPUSH
35275: LD_EXP 57
35279: PPUSH
35280: CALL 36691 0 3
// end ; end ;
35284: PPOPN 13
35286: END
// export function SetSharedMultiScore ( side , points , typ ) ; var p ; begin
35287: LD_INT 0
35289: PPUSH
35290: PPUSH
// case typ of 1 :
35291: LD_VAR 0 3
35295: PUSH
35296: LD_INT 1
35298: DOUBLE
35299: EQUAL
35300: IFTRUE 35304
35302: GO 35332
35304: POP
// sharedPoints1 = Replace ( sharedPoints1 , side , points ) ; 2 :
35305: LD_ADDR_LOC 36
35309: PUSH
35310: LD_LOC 36
35314: PPUSH
35315: LD_VAR 0 1
35319: PPUSH
35320: LD_VAR 0 2
35324: PPUSH
35325: CALL_OW 1
35329: ST_TO_ADDR
35330: GO 35405
35332: LD_INT 2
35334: DOUBLE
35335: EQUAL
35336: IFTRUE 35340
35338: GO 35368
35340: POP
// sharedPoints2 = Replace ( sharedPoints2 , side , points ) ; 3 :
35341: LD_ADDR_LOC 37
35345: PUSH
35346: LD_LOC 37
35350: PPUSH
35351: LD_VAR 0 1
35355: PPUSH
35356: LD_VAR 0 2
35360: PPUSH
35361: CALL_OW 1
35365: ST_TO_ADDR
35366: GO 35405
35368: LD_INT 3
35370: DOUBLE
35371: EQUAL
35372: IFTRUE 35376
35374: GO 35404
35376: POP
// sharedPoints3 = Replace ( sharedPoints3 , side , points ) ; end ;
35377: LD_ADDR_LOC 38
35381: PUSH
35382: LD_LOC 38
35386: PPUSH
35387: LD_VAR 0 1
35391: PPUSH
35392: LD_VAR 0 2
35396: PPUSH
35397: CALL_OW 1
35401: ST_TO_ADDR
35402: GO 35405
35404: POP
// p = sharedPoints1 [ side ] + sharedPoints2 [ side ] + sharedPoints3 [ side ] ;
35405: LD_ADDR_VAR 0 5
35409: PUSH
35410: LD_LOC 36
35414: PUSH
35415: LD_VAR 0 1
35419: ARRAY
35420: PUSH
35421: LD_LOC 37
35425: PUSH
35426: LD_VAR 0 1
35430: ARRAY
35431: PLUS
35432: PUSH
35433: LD_LOC 38
35437: PUSH
35438: LD_VAR 0 1
35442: ARRAY
35443: PLUS
35444: ST_TO_ADDR
// SetMultiScore ( side , p ) ;
35445: LD_VAR 0 1
35449: PPUSH
35450: LD_VAR 0 5
35454: PPUSH
35455: CALL_OW 506
// end ; end_of_file
35459: LD_VAR 0 4
35463: RET
// export function LScore_Init ( sides , ifPScore , yourSide ) ; begin
35464: LD_INT 0
35466: PPUSH
// LScore_Init2 ( sides , ifPScore , yourSide , false ) ;
35467: LD_VAR 0 1
35471: PPUSH
35472: LD_VAR 0 2
35476: PPUSH
35477: LD_VAR 0 3
35481: PPUSH
35482: LD_INT 0
35484: PPUSH
35485: CALL 35494 0 4
// end ;
35489: LD_VAR 0 4
35493: RET
// export function LScore_Init2 ( sides , ifPScore , yourSide , lockTeam ) ; begin
35494: LD_INT 0
35496: PPUSH
// ToLua ( initScore({ & sides [ 1 ] & , & sides [ 2 ] & , & sides [ 3 ] & , & sides [ 4 ] & , & sides [ 5 ] & , & sides [ 6 ] & , & sides [ 7 ] & , & sides [ 8 ] & }, & ifPScore & , & yourSide & , & lockTeam & ); ) ;
35497: LD_STRING initScore({
35499: PUSH
35500: LD_VAR 0 1
35504: PUSH
35505: LD_INT 1
35507: ARRAY
35508: STR
35509: PUSH
35510: LD_STRING ,
35512: STR
35513: PUSH
35514: LD_VAR 0 1
35518: PUSH
35519: LD_INT 2
35521: ARRAY
35522: STR
35523: PUSH
35524: LD_STRING ,
35526: STR
35527: PUSH
35528: LD_VAR 0 1
35532: PUSH
35533: LD_INT 3
35535: ARRAY
35536: STR
35537: PUSH
35538: LD_STRING ,
35540: STR
35541: PUSH
35542: LD_VAR 0 1
35546: PUSH
35547: LD_INT 4
35549: ARRAY
35550: STR
35551: PUSH
35552: LD_STRING ,
35554: STR
35555: PUSH
35556: LD_VAR 0 1
35560: PUSH
35561: LD_INT 5
35563: ARRAY
35564: STR
35565: PUSH
35566: LD_STRING ,
35568: STR
35569: PUSH
35570: LD_VAR 0 1
35574: PUSH
35575: LD_INT 6
35577: ARRAY
35578: STR
35579: PUSH
35580: LD_STRING ,
35582: STR
35583: PUSH
35584: LD_VAR 0 1
35588: PUSH
35589: LD_INT 7
35591: ARRAY
35592: STR
35593: PUSH
35594: LD_STRING ,
35596: STR
35597: PUSH
35598: LD_VAR 0 1
35602: PUSH
35603: LD_INT 8
35605: ARRAY
35606: STR
35607: PUSH
35608: LD_STRING },
35610: STR
35611: PUSH
35612: LD_VAR 0 2
35616: STR
35617: PUSH
35618: LD_STRING ,
35620: STR
35621: PUSH
35622: LD_VAR 0 3
35626: STR
35627: PUSH
35628: LD_STRING ,
35630: STR
35631: PUSH
35632: LD_VAR 0 4
35636: STR
35637: PUSH
35638: LD_STRING );
35640: STR
35641: PPUSH
35642: CALL_OW 559
// end ;
35646: LD_VAR 0 5
35650: RET
// export function LScore_Reset ( ) ; begin
35651: LD_INT 0
35653: PPUSH
// ToLua ( ResetScorebar(); ) ;
35654: LD_STRING ResetScorebar();
35656: PPUSH
35657: CALL_OW 559
// end ;
35661: LD_VAR 0 1
35665: RET
// export function LScore_Delete ( ID ) ; begin
35666: LD_INT 0
35668: PPUSH
// ToLua ( deleteScore( & ID & ); ) ;
35669: LD_STRING deleteScore(
35671: PUSH
35672: LD_VAR 0 1
35676: STR
35677: PUSH
35678: LD_STRING );
35680: STR
35681: PPUSH
35682: CALL_OW 559
// end ;
35686: LD_VAR 0 2
35690: RET
// export function LScore_Add_Timer ( ID , typ , totalTime ) ; begin
35691: LD_INT 0
35693: PPUSH
// ToLua ( AST( & ID & , & typ & , & totalTime & ,); ) ;
35694: LD_STRING AST(
35696: PUSH
35697: LD_VAR 0 1
35701: STR
35702: PUSH
35703: LD_STRING ,
35705: STR
35706: PUSH
35707: LD_VAR 0 2
35711: STR
35712: PUSH
35713: LD_STRING ,
35715: STR
35716: PUSH
35717: LD_VAR 0 3
35721: STR
35722: PUSH
35723: LD_STRING ,);
35725: STR
35726: PPUSH
35727: CALL_OW 559
// end ;
35731: LD_VAR 0 4
35735: RET
// export function LScore_Add_Timer2 ( ID , typ , totalTime , show_total ) ; begin
35736: LD_INT 0
35738: PPUSH
// ToLua ( AST( & ID & , & typ & , & totalTime & , & show_total & ); ) ;
35739: LD_STRING AST(
35741: PUSH
35742: LD_VAR 0 1
35746: STR
35747: PUSH
35748: LD_STRING ,
35750: STR
35751: PUSH
35752: LD_VAR 0 2
35756: STR
35757: PUSH
35758: LD_STRING ,
35760: STR
35761: PUSH
35762: LD_VAR 0 3
35766: STR
35767: PUSH
35768: LD_STRING ,
35770: STR
35771: PUSH
35772: LD_VAR 0 4
35776: STR
35777: PUSH
35778: LD_STRING );
35780: STR
35781: PPUSH
35782: CALL_OW 559
// end ;
35786: LD_VAR 0 5
35790: RET
// export function LScore_Add_Timer3 ( ID , typ , totalTime , show_total , currentTime ) ; begin
35791: LD_INT 0
35793: PPUSH
// ToLua ( AST( & ID & , & typ & , & totalTime & , & show_total & , & currentTime & ); ) ;
35794: LD_STRING AST(
35796: PUSH
35797: LD_VAR 0 1
35801: STR
35802: PUSH
35803: LD_STRING ,
35805: STR
35806: PUSH
35807: LD_VAR 0 2
35811: STR
35812: PUSH
35813: LD_STRING ,
35815: STR
35816: PUSH
35817: LD_VAR 0 3
35821: STR
35822: PUSH
35823: LD_STRING ,
35825: STR
35826: PUSH
35827: LD_VAR 0 4
35831: STR
35832: PUSH
35833: LD_STRING ,
35835: STR
35836: PUSH
35837: LD_VAR 0 5
35841: STR
35842: PUSH
35843: LD_STRING );
35845: STR
35846: PPUSH
35847: CALL_OW 559
// end ;
35851: LD_VAR 0 6
35855: RET
// export function LScore_Add_ReverseTimer ( ID , typ , totalTime ) ; begin
35856: LD_INT 0
35858: PPUSH
// ToLua ( ASRT( & ID & , & typ & , & totalTime & ,); ) ;
35859: LD_STRING ASRT(
35861: PUSH
35862: LD_VAR 0 1
35866: STR
35867: PUSH
35868: LD_STRING ,
35870: STR
35871: PUSH
35872: LD_VAR 0 2
35876: STR
35877: PUSH
35878: LD_STRING ,
35880: STR
35881: PUSH
35882: LD_VAR 0 3
35886: STR
35887: PUSH
35888: LD_STRING ,);
35890: STR
35891: PPUSH
35892: CALL_OW 559
// end ;
35896: LD_VAR 0 4
35900: RET
// export function LScore_Add_ReverseTimer2 ( ID , typ , totalTime , show_total ) ; begin
35901: LD_INT 0
35903: PPUSH
// ToLua ( ASRT( & ID & , & typ & , & totalTime & , & show_total & ); ) ;
35904: LD_STRING ASRT(
35906: PUSH
35907: LD_VAR 0 1
35911: STR
35912: PUSH
35913: LD_STRING ,
35915: STR
35916: PUSH
35917: LD_VAR 0 2
35921: STR
35922: PUSH
35923: LD_STRING ,
35925: STR
35926: PUSH
35927: LD_VAR 0 3
35931: STR
35932: PUSH
35933: LD_STRING ,
35935: STR
35936: PUSH
35937: LD_VAR 0 4
35941: STR
35942: PUSH
35943: LD_STRING );
35945: STR
35946: PPUSH
35947: CALL_OW 559
// end ;
35951: LD_VAR 0 5
35955: RET
// export function LScore_Add_ReverseTimer3 ( ID , typ , totalTime , show_total , currentTime ) ; begin
35956: LD_INT 0
35958: PPUSH
// ToLua ( ASRT( & ID & , & typ & , & totalTime & , & show_total & , & currentTime & ); ) ;
35959: LD_STRING ASRT(
35961: PUSH
35962: LD_VAR 0 1
35966: STR
35967: PUSH
35968: LD_STRING ,
35970: STR
35971: PUSH
35972: LD_VAR 0 2
35976: STR
35977: PUSH
35978: LD_STRING ,
35980: STR
35981: PUSH
35982: LD_VAR 0 3
35986: STR
35987: PUSH
35988: LD_STRING ,
35990: STR
35991: PUSH
35992: LD_VAR 0 4
35996: STR
35997: PUSH
35998: LD_STRING ,
36000: STR
36001: PUSH
36002: LD_VAR 0 5
36006: STR
36007: PUSH
36008: LD_STRING );
36010: STR
36011: PPUSH
36012: CALL_OW 559
// end ;
36016: LD_VAR 0 6
36020: RET
// export function LScore_update_Timer ( ID , currentTime ) ; begin
36021: LD_INT 0
36023: PPUSH
// ToLua ( UST( & id & , & currentTime & ); ) ;
36024: LD_STRING UST(
36026: PUSH
36027: LD_VAR 0 1
36031: STR
36032: PUSH
36033: LD_STRING ,
36035: STR
36036: PUSH
36037: LD_VAR 0 2
36041: STR
36042: PUSH
36043: LD_STRING );
36045: STR
36046: PPUSH
36047: CALL_OW 559
// end ;
36051: LD_VAR 0 3
36055: RET
// export function LScore_update_Timer2 ( ID , currentTime , totalTime ) ; begin
36056: LD_INT 0
36058: PPUSH
// ToLua ( UST( & id & , & currentTime & , & totalTime & ); ) ;
36059: LD_STRING UST(
36061: PUSH
36062: LD_VAR 0 1
36066: STR
36067: PUSH
36068: LD_STRING ,
36070: STR
36071: PUSH
36072: LD_VAR 0 2
36076: STR
36077: PUSH
36078: LD_STRING ,
36080: STR
36081: PUSH
36082: LD_VAR 0 3
36086: STR
36087: PUSH
36088: LD_STRING );
36090: STR
36091: PPUSH
36092: CALL_OW 559
// end ;
36096: LD_VAR 0 4
36100: RET
// export function LScore_Change_TimerColourRGB ( id , red , green , blue ) ; begin
36101: LD_INT 0
36103: PPUSH
// ToLua ( CCST( & id & ,{ & red & , & green & , & blue & }); ) ;
36104: LD_STRING CCST(
36106: PUSH
36107: LD_VAR 0 1
36111: STR
36112: PUSH
36113: LD_STRING ,{
36115: STR
36116: PUSH
36117: LD_VAR 0 2
36121: STR
36122: PUSH
36123: LD_STRING ,
36125: STR
36126: PUSH
36127: LD_VAR 0 3
36131: STR
36132: PUSH
36133: LD_STRING ,
36135: STR
36136: PUSH
36137: LD_VAR 0 4
36141: STR
36142: PUSH
36143: LD_STRING });
36145: STR
36146: PPUSH
36147: CALL_OW 559
// end ;
36151: LD_VAR 0 5
36155: RET
// export function LScore_Change_TimerColour ( id , side ) ; begin
36156: LD_INT 0
36158: PPUSH
// ToLua ( CCST( & id & , & side & ); ) ;
36159: LD_STRING CCST(
36161: PUSH
36162: LD_VAR 0 1
36166: STR
36167: PUSH
36168: LD_STRING ,
36170: STR
36171: PUSH
36172: LD_VAR 0 2
36176: STR
36177: PUSH
36178: LD_STRING );
36180: STR
36181: PPUSH
36182: CALL_OW 559
// end ;
36186: LD_VAR 0 3
36190: RET
// export function LScore_Add_SinglePoints ( ID , typ , totalPoints ) ; begin
36191: LD_INT 0
36193: PPUSH
// ToLua ( ASSP( & ID & , & typ & , & totalPoints & ,); ) ;
36194: LD_STRING ASSP(
36196: PUSH
36197: LD_VAR 0 1
36201: STR
36202: PUSH
36203: LD_STRING ,
36205: STR
36206: PUSH
36207: LD_VAR 0 2
36211: STR
36212: PUSH
36213: LD_STRING ,
36215: STR
36216: PUSH
36217: LD_VAR 0 3
36221: STR
36222: PUSH
36223: LD_STRING ,);
36225: STR
36226: PPUSH
36227: CALL_OW 559
// end ;
36231: LD_VAR 0 4
36235: RET
// export function LScore_Add_SinglePoints2 ( ID , typ , totalPoints , show_total ) ; begin
36236: LD_INT 0
36238: PPUSH
// ToLua ( ASSP( & ID & , & typ & , & totalPoints & , & show_total & ); ) ;
36239: LD_STRING ASSP(
36241: PUSH
36242: LD_VAR 0 1
36246: STR
36247: PUSH
36248: LD_STRING ,
36250: STR
36251: PUSH
36252: LD_VAR 0 2
36256: STR
36257: PUSH
36258: LD_STRING ,
36260: STR
36261: PUSH
36262: LD_VAR 0 3
36266: STR
36267: PUSH
36268: LD_STRING ,
36270: STR
36271: PUSH
36272: LD_VAR 0 4
36276: STR
36277: PUSH
36278: LD_STRING );
36280: STR
36281: PPUSH
36282: CALL_OW 559
// end ;
36286: LD_VAR 0 5
36290: RET
// export function LScore_Add_SinglePoints3 ( ID , typ , totalPoints , show_total , currentPoints ) ; begin
36291: LD_INT 0
36293: PPUSH
// ToLua ( ASSP( & ID & , & typ & , & totalPoints & , & show_total & , & currentPoints & ); ) ;
36294: LD_STRING ASSP(
36296: PUSH
36297: LD_VAR 0 1
36301: STR
36302: PUSH
36303: LD_STRING ,
36305: STR
36306: PUSH
36307: LD_VAR 0 2
36311: STR
36312: PUSH
36313: LD_STRING ,
36315: STR
36316: PUSH
36317: LD_VAR 0 3
36321: STR
36322: PUSH
36323: LD_STRING ,
36325: STR
36326: PUSH
36327: LD_VAR 0 4
36331: STR
36332: PUSH
36333: LD_STRING ,
36335: STR
36336: PUSH
36337: LD_VAR 0 5
36341: STR
36342: PUSH
36343: LD_STRING );
36345: STR
36346: PPUSH
36347: CALL_OW 559
// end ;
36351: LD_VAR 0 6
36355: RET
// export function LScore_Add_ReverseSinglePoints ( ID , typ , totalPoints ) ; begin
36356: LD_INT 0
36358: PPUSH
// ToLua ( ASRSP( & ID & , & typ & , & totalPoints & ,); ) ;
36359: LD_STRING ASRSP(
36361: PUSH
36362: LD_VAR 0 1
36366: STR
36367: PUSH
36368: LD_STRING ,
36370: STR
36371: PUSH
36372: LD_VAR 0 2
36376: STR
36377: PUSH
36378: LD_STRING ,
36380: STR
36381: PUSH
36382: LD_VAR 0 3
36386: STR
36387: PUSH
36388: LD_STRING ,);
36390: STR
36391: PPUSH
36392: CALL_OW 559
// end ;
36396: LD_VAR 0 4
36400: RET
// export function LScore_Add_ReverseSinglePoints2 ( ID , typ , totalPoints , show_total ) ; begin
36401: LD_INT 0
36403: PPUSH
// ToLua ( ASRSP( & ID & , & typ & , & totalPoints & , & show_total & ); ) ;
36404: LD_STRING ASRSP(
36406: PUSH
36407: LD_VAR 0 1
36411: STR
36412: PUSH
36413: LD_STRING ,
36415: STR
36416: PUSH
36417: LD_VAR 0 2
36421: STR
36422: PUSH
36423: LD_STRING ,
36425: STR
36426: PUSH
36427: LD_VAR 0 3
36431: STR
36432: PUSH
36433: LD_STRING ,
36435: STR
36436: PUSH
36437: LD_VAR 0 4
36441: STR
36442: PUSH
36443: LD_STRING );
36445: STR
36446: PPUSH
36447: CALL_OW 559
// end ;
36451: LD_VAR 0 5
36455: RET
// export function LScore_Add_ReverseSinglePoints3 ( ID , typ , totalPoints , show_total , currentPoints ) ; begin
36456: LD_INT 0
36458: PPUSH
// ToLua ( ASRSP( & ID & , & typ & , & totalPoints & , & show_total & , & currentPoints & ); ) ;
36459: LD_STRING ASRSP(
36461: PUSH
36462: LD_VAR 0 1
36466: STR
36467: PUSH
36468: LD_STRING ,
36470: STR
36471: PUSH
36472: LD_VAR 0 2
36476: STR
36477: PUSH
36478: LD_STRING ,
36480: STR
36481: PUSH
36482: LD_VAR 0 3
36486: STR
36487: PUSH
36488: LD_STRING ,
36490: STR
36491: PUSH
36492: LD_VAR 0 4
36496: STR
36497: PUSH
36498: LD_STRING ,
36500: STR
36501: PUSH
36502: LD_VAR 0 5
36506: STR
36507: PUSH
36508: LD_STRING );
36510: STR
36511: PPUSH
36512: CALL_OW 559
// end ;
36516: LD_VAR 0 6
36520: RET
// export function LScore_update_SinglePoints ( ID , currentPoints ) ; begin
36521: LD_INT 0
36523: PPUSH
// ToLua ( USSP( & id & , & currentPoints & ); ) ;
36524: LD_STRING USSP(
36526: PUSH
36527: LD_VAR 0 1
36531: STR
36532: PUSH
36533: LD_STRING ,
36535: STR
36536: PUSH
36537: LD_VAR 0 2
36541: STR
36542: PUSH
36543: LD_STRING );
36545: STR
36546: PPUSH
36547: CALL_OW 559
// end ;
36551: LD_VAR 0 3
36555: RET
// export function LScore_update_SinglePoints2 ( ID , currentPoints , totalPoints ) ; begin
36556: LD_INT 0
36558: PPUSH
// ToLua ( USSP( & id & , & currentPoints & , & totalPoints & ); ) ;
36559: LD_STRING USSP(
36561: PUSH
36562: LD_VAR 0 1
36566: STR
36567: PUSH
36568: LD_STRING ,
36570: STR
36571: PUSH
36572: LD_VAR 0 2
36576: STR
36577: PUSH
36578: LD_STRING ,
36580: STR
36581: PUSH
36582: LD_VAR 0 3
36586: STR
36587: PUSH
36588: LD_STRING );
36590: STR
36591: PPUSH
36592: CALL_OW 559
// end ;
36596: LD_VAR 0 4
36600: RET
// export function LScore_Change_SinglePointsRGB ( id , red , green , blue ) ; begin
36601: LD_INT 0
36603: PPUSH
// ToLua ( CCSSP( & id & ,{ & red & , & green & , & blue & }); ) ;
36604: LD_STRING CCSSP(
36606: PUSH
36607: LD_VAR 0 1
36611: STR
36612: PUSH
36613: LD_STRING ,{
36615: STR
36616: PUSH
36617: LD_VAR 0 2
36621: STR
36622: PUSH
36623: LD_STRING ,
36625: STR
36626: PUSH
36627: LD_VAR 0 3
36631: STR
36632: PUSH
36633: LD_STRING ,
36635: STR
36636: PUSH
36637: LD_VAR 0 4
36641: STR
36642: PUSH
36643: LD_STRING });
36645: STR
36646: PPUSH
36647: CALL_OW 559
// end ;
36651: LD_VAR 0 5
36655: RET
// export function LScore_Change_SinglePoints ( id , side ) ; begin
36656: LD_INT 0
36658: PPUSH
// ToLua ( CCSSP( & id & , & side & ); ) ;
36659: LD_STRING CCSSP(
36661: PUSH
36662: LD_VAR 0 1
36666: STR
36667: PUSH
36668: LD_STRING ,
36670: STR
36671: PUSH
36672: LD_VAR 0 2
36676: STR
36677: PUSH
36678: LD_STRING );
36680: STR
36681: PPUSH
36682: CALL_OW 559
// end ;
36686: LD_VAR 0 3
36690: RET
// export function LScore_Add_Points ( ID , typ , goal ) ; begin
36691: LD_INT 0
36693: PPUSH
// ToLua ( ASP( & id & , & typ & , & goal & ); ) ;
36694: LD_STRING ASP(
36696: PUSH
36697: LD_VAR 0 1
36701: STR
36702: PUSH
36703: LD_STRING ,
36705: STR
36706: PUSH
36707: LD_VAR 0 2
36711: STR
36712: PUSH
36713: LD_STRING ,
36715: STR
36716: PUSH
36717: LD_VAR 0 3
36721: STR
36722: PUSH
36723: LD_STRING );
36725: STR
36726: PPUSH
36727: CALL_OW 559
// end ;
36731: LD_VAR 0 4
36735: RET
// export function LScore_Update_Points ( ID , side , points ) ; begin
36736: LD_INT 0
36738: PPUSH
// ToLua ( USP( & id & , & side & , & points & ); ) ;
36739: LD_STRING USP(
36741: PUSH
36742: LD_VAR 0 1
36746: STR
36747: PUSH
36748: LD_STRING ,
36750: STR
36751: PUSH
36752: LD_VAR 0 2
36756: STR
36757: PUSH
36758: LD_STRING ,
36760: STR
36761: PUSH
36762: LD_VAR 0 3
36766: STR
36767: PUSH
36768: LD_STRING );
36770: STR
36771: PPUSH
36772: CALL_OW 559
// end ;
36776: LD_VAR 0 4
36780: RET
// export function LScore_Update_PointsAll ( ID , score ) ; var i ; begin
36781: LD_INT 0
36783: PPUSH
36784: PPUSH
// for i = 1 to 8 do
36785: LD_ADDR_VAR 0 4
36789: PUSH
36790: DOUBLE
36791: LD_INT 1
36793: DEC
36794: ST_TO_ADDR
36795: LD_INT 8
36797: PUSH
36798: FOR_TO
36799: IFFALSE 36846
// ToLua ( USP( & ID & , & i & , & score [ i ] & ); ) ;
36801: LD_STRING USP(
36803: PUSH
36804: LD_VAR 0 1
36808: STR
36809: PUSH
36810: LD_STRING ,
36812: STR
36813: PUSH
36814: LD_VAR 0 4
36818: STR
36819: PUSH
36820: LD_STRING ,
36822: STR
36823: PUSH
36824: LD_VAR 0 2
36828: PUSH
36829: LD_VAR 0 4
36833: ARRAY
36834: STR
36835: PUSH
36836: LD_STRING );
36838: STR
36839: PPUSH
36840: CALL_OW 559
36844: GO 36798
36846: POP
36847: POP
// end ;
36848: LD_VAR 0 3
36852: RET
// export function LScore_Add_Pieces ( id , typ , goal , total ) ; begin
36853: LD_INT 0
36855: PPUSH
// ToLua ( ASC( & id & , & typ & , & goal & , & total & ); ) ;
36856: LD_STRING ASC(
36858: PUSH
36859: LD_VAR 0 1
36863: STR
36864: PUSH
36865: LD_STRING ,
36867: STR
36868: PUSH
36869: LD_VAR 0 2
36873: STR
36874: PUSH
36875: LD_STRING ,
36877: STR
36878: PUSH
36879: LD_VAR 0 3
36883: STR
36884: PUSH
36885: LD_STRING ,
36887: STR
36888: PUSH
36889: LD_VAR 0 4
36893: STR
36894: PUSH
36895: LD_STRING );
36897: STR
36898: PPUSH
36899: CALL_OW 559
// end ;
36903: LD_VAR 0 5
36907: RET
// export function LScore_Update_Peices ( id , sidesChunks ) ; begin
36908: LD_INT 0
36910: PPUSH
// ToLua ( USC( & id & ,{ & sidesChunks [ 1 ] & , & sidesChunks [ 2 ] & , & sidesChunks [ 3 ] & , & sidesChunks [ 4 ] & , & sidesChunks [ 5 ] & , & sidesChunks [ 6 ] & , & sidesChunks [ 7 ] & , & sidesChunks [ 8 ] & }); ) ;
36911: LD_STRING USC(
36913: PUSH
36914: LD_VAR 0 1
36918: STR
36919: PUSH
36920: LD_STRING ,{
36922: STR
36923: PUSH
36924: LD_VAR 0 2
36928: PUSH
36929: LD_INT 1
36931: ARRAY
36932: STR
36933: PUSH
36934: LD_STRING ,
36936: STR
36937: PUSH
36938: LD_VAR 0 2
36942: PUSH
36943: LD_INT 2
36945: ARRAY
36946: STR
36947: PUSH
36948: LD_STRING ,
36950: STR
36951: PUSH
36952: LD_VAR 0 2
36956: PUSH
36957: LD_INT 3
36959: ARRAY
36960: STR
36961: PUSH
36962: LD_STRING ,
36964: STR
36965: PUSH
36966: LD_VAR 0 2
36970: PUSH
36971: LD_INT 4
36973: ARRAY
36974: STR
36975: PUSH
36976: LD_STRING ,
36978: STR
36979: PUSH
36980: LD_VAR 0 2
36984: PUSH
36985: LD_INT 5
36987: ARRAY
36988: STR
36989: PUSH
36990: LD_STRING ,
36992: STR
36993: PUSH
36994: LD_VAR 0 2
36998: PUSH
36999: LD_INT 6
37001: ARRAY
37002: STR
37003: PUSH
37004: LD_STRING ,
37006: STR
37007: PUSH
37008: LD_VAR 0 2
37012: PUSH
37013: LD_INT 7
37015: ARRAY
37016: STR
37017: PUSH
37018: LD_STRING ,
37020: STR
37021: PUSH
37022: LD_VAR 0 2
37026: PUSH
37027: LD_INT 8
37029: ARRAY
37030: STR
37031: PUSH
37032: LD_STRING });
37034: STR
37035: PPUSH
37036: CALL_OW 559
// end ; end_of_file
37040: LD_VAR 0 3
37044: RET
// export function UpdateSpectatorBar ; var i , j , crates , oil , sib , people , base , bases ; begin
37045: LD_INT 0
37047: PPUSH
37048: PPUSH
37049: PPUSH
37050: PPUSH
37051: PPUSH
37052: PPUSH
37053: PPUSH
37054: PPUSH
37055: PPUSH
// for i := 1 to 8 do
37056: LD_ADDR_VAR 0 2
37060: PUSH
37061: DOUBLE
37062: LD_INT 1
37064: DEC
37065: ST_TO_ADDR
37066: LD_INT 8
37068: PUSH
37069: FOR_TO
37070: IFFALSE 37454
// begin if Side_Positions [ i ] then
37072: LD_EXP 74
37076: PUSH
37077: LD_VAR 0 2
37081: ARRAY
37082: IFFALSE 37452
// begin people := FilterAllUnits ( [ [ f_side , i ] , [ f_type , unit_human ] ] ) + 0 ;
37084: LD_ADDR_VAR 0 7
37088: PUSH
37089: LD_INT 22
37091: PUSH
37092: LD_VAR 0 2
37096: PUSH
37097: EMPTY
37098: LIST
37099: LIST
37100: PUSH
37101: LD_INT 21
37103: PUSH
37104: LD_INT 1
37106: PUSH
37107: EMPTY
37108: LIST
37109: LIST
37110: PUSH
37111: EMPTY
37112: LIST
37113: LIST
37114: PPUSH
37115: CALL_OW 69
37119: PUSH
37120: LD_INT 0
37122: PLUS
37123: ST_TO_ADDR
// bases := FilterAllUnits ( [ [ f_side , i ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) ;
37124: LD_ADDR_VAR 0 9
37128: PUSH
37129: LD_INT 22
37131: PUSH
37132: LD_VAR 0 2
37136: PUSH
37137: EMPTY
37138: LIST
37139: LIST
37140: PUSH
37141: LD_INT 2
37143: PUSH
37144: LD_INT 30
37146: PUSH
37147: LD_INT 0
37149: PUSH
37150: EMPTY
37151: LIST
37152: LIST
37153: PUSH
37154: LD_INT 30
37156: PUSH
37157: LD_INT 1
37159: PUSH
37160: EMPTY
37161: LIST
37162: LIST
37163: PUSH
37164: EMPTY
37165: LIST
37166: LIST
37167: LIST
37168: PUSH
37169: EMPTY
37170: LIST
37171: LIST
37172: PPUSH
37173: CALL_OW 69
37177: ST_TO_ADDR
// crates := 0 ;
37178: LD_ADDR_VAR 0 4
37182: PUSH
37183: LD_INT 0
37185: ST_TO_ADDR
// oil := 0 ;
37186: LD_ADDR_VAR 0 5
37190: PUSH
37191: LD_INT 0
37193: ST_TO_ADDR
// sib := 0 ;
37194: LD_ADDR_VAR 0 6
37198: PUSH
37199: LD_INT 0
37201: ST_TO_ADDR
// if bases then
37202: LD_VAR 0 9
37206: IFFALSE 37312
// begin for j in bases do
37208: LD_ADDR_VAR 0 3
37212: PUSH
37213: LD_VAR 0 9
37217: PUSH
37218: FOR_IN
37219: IFFALSE 37310
// begin base := GetBase ( j ) ;
37221: LD_ADDR_VAR 0 8
37225: PUSH
37226: LD_VAR 0 3
37230: PPUSH
37231: CALL_OW 274
37235: ST_TO_ADDR
// crates := crates + GetResourceType ( base , mat_cans ) ;
37236: LD_ADDR_VAR 0 4
37240: PUSH
37241: LD_VAR 0 4
37245: PUSH
37246: LD_VAR 0 8
37250: PPUSH
37251: LD_INT 1
37253: PPUSH
37254: CALL_OW 275
37258: PLUS
37259: ST_TO_ADDR
// oil := oil + GetResourceType ( base , mat_oil ) ;
37260: LD_ADDR_VAR 0 5
37264: PUSH
37265: LD_VAR 0 5
37269: PUSH
37270: LD_VAR 0 8
37274: PPUSH
37275: LD_INT 2
37277: PPUSH
37278: CALL_OW 275
37282: PLUS
37283: ST_TO_ADDR
// sib := sib + GetResourceType ( base , mat_siberit ) ;
37284: LD_ADDR_VAR 0 6
37288: PUSH
37289: LD_VAR 0 6
37293: PUSH
37294: LD_VAR 0 8
37298: PPUSH
37299: LD_INT 3
37301: PPUSH
37302: CALL_OW 275
37306: PLUS
37307: ST_TO_ADDR
// end ;
37308: GO 37218
37310: POP
37311: POP
// end ; ToLua ( setSpecText( & i & , & 2 & , & crates & ) ) ;
37312: LD_STRING setSpecText(
37314: PUSH
37315: LD_VAR 0 2
37319: STR
37320: PUSH
37321: LD_STRING ,
37323: STR
37324: PUSH
37325: LD_INT 2
37327: STR
37328: PUSH
37329: LD_STRING ,
37331: STR
37332: PUSH
37333: LD_VAR 0 4
37337: STR
37338: PUSH
37339: LD_STRING )
37341: STR
37342: PPUSH
37343: CALL_OW 559
// ToLua ( setSpecText( & i & , & 3 & , & oil & ) ) ;
37347: LD_STRING setSpecText(
37349: PUSH
37350: LD_VAR 0 2
37354: STR
37355: PUSH
37356: LD_STRING ,
37358: STR
37359: PUSH
37360: LD_INT 3
37362: STR
37363: PUSH
37364: LD_STRING ,
37366: STR
37367: PUSH
37368: LD_VAR 0 5
37372: STR
37373: PUSH
37374: LD_STRING )
37376: STR
37377: PPUSH
37378: CALL_OW 559
// ToLua ( setSpecText( & i & , & 4 & , & sib & ) ) ;
37382: LD_STRING setSpecText(
37384: PUSH
37385: LD_VAR 0 2
37389: STR
37390: PUSH
37391: LD_STRING ,
37393: STR
37394: PUSH
37395: LD_INT 4
37397: STR
37398: PUSH
37399: LD_STRING ,
37401: STR
37402: PUSH
37403: LD_VAR 0 6
37407: STR
37408: PUSH
37409: LD_STRING )
37411: STR
37412: PPUSH
37413: CALL_OW 559
// ToLua ( setSpecText( & i & , & 5 & , & people & ) ) ;
37417: LD_STRING setSpecText(
37419: PUSH
37420: LD_VAR 0 2
37424: STR
37425: PUSH
37426: LD_STRING ,
37428: STR
37429: PUSH
37430: LD_INT 5
37432: STR
37433: PUSH
37434: LD_STRING ,
37436: STR
37437: PUSH
37438: LD_VAR 0 7
37442: STR
37443: PUSH
37444: LD_STRING )
37446: STR
37447: PPUSH
37448: CALL_OW 559
// end ; end ;
37452: GO 37069
37454: POP
37455: POP
// end ;
37456: LD_VAR 0 1
37460: RET
// every 0 0$1 do
37461: GO 37463
37463: DISABLE
// begin ToLua ( setSpecLogoNumber( & 2 & , & 1 & ) ) ;
37464: LD_STRING setSpecLogoNumber(
37466: PUSH
37467: LD_INT 2
37469: STR
37470: PUSH
37471: LD_STRING ,
37473: STR
37474: PUSH
37475: LD_INT 1
37477: STR
37478: PUSH
37479: LD_STRING )
37481: STR
37482: PPUSH
37483: CALL_OW 559
// ToLua ( setSpecLogoNumber( & 3 & , & 2 & ) ) ;
37487: LD_STRING setSpecLogoNumber(
37489: PUSH
37490: LD_INT 3
37492: STR
37493: PUSH
37494: LD_STRING ,
37496: STR
37497: PUSH
37498: LD_INT 2
37500: STR
37501: PUSH
37502: LD_STRING )
37504: STR
37505: PPUSH
37506: CALL_OW 559
// ToLua ( setSpecLogoNumber( & 4 & , & 3 & ) ) ;
37510: LD_STRING setSpecLogoNumber(
37512: PUSH
37513: LD_INT 4
37515: STR
37516: PUSH
37517: LD_STRING ,
37519: STR
37520: PUSH
37521: LD_INT 3
37523: STR
37524: PUSH
37525: LD_STRING )
37527: STR
37528: PPUSH
37529: CALL_OW 559
// ToLua ( setSpecLogoNumber( & 5 & , & 4 & ) ) ;
37533: LD_STRING setSpecLogoNumber(
37535: PUSH
37536: LD_INT 5
37538: STR
37539: PUSH
37540: LD_STRING ,
37542: STR
37543: PUSH
37544: LD_INT 4
37546: STR
37547: PUSH
37548: LD_STRING )
37550: STR
37551: PPUSH
37552: CALL_OW 559
// end ;
37556: END
// every 20 + 0 0$5 trigger FilterAllUnits ( [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ) do
37557: LD_INT 2
37559: PUSH
37560: LD_INT 30
37562: PUSH
37563: LD_INT 0
37565: PUSH
37566: EMPTY
37567: LIST
37568: LIST
37569: PUSH
37570: LD_INT 30
37572: PUSH
37573: LD_INT 1
37575: PUSH
37576: EMPTY
37577: LIST
37578: LIST
37579: PUSH
37580: EMPTY
37581: LIST
37582: LIST
37583: LIST
37584: PPUSH
37585: CALL_OW 69
37589: IFFALSE 37599
37591: GO 37593
37593: DISABLE
// begin enable ;
37594: ENABLE
// UpdateSpectatorBar ;
37595: CALL 37045 0 0
// end ;
37599: END
