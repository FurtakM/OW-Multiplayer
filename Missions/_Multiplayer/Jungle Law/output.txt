// starting begin GT_DoubleNat = [ ] ;
   0: LD_ADDR_EXP 3
   4: PUSH
   5: EMPTY
   6: ST_TO_ADDR
// GT_DoublePeople = [ ] ;
   7: LD_ADDR_EXP 4
  11: PUSH
  12: EMPTY
  13: ST_TO_ADDR
// GT_TripleNat = [ ] ;
  14: LD_ADDR_EXP 5
  18: PUSH
  19: EMPTY
  20: ST_TO_ADDR
// GT_Survival = [ 24 , 23 , 22 , 21 ] ;
  21: LD_ADDR_EXP 6
  25: PUSH
  26: LD_INT 24
  28: PUSH
  29: LD_INT 23
  31: PUSH
  32: LD_INT 22
  34: PUSH
  35: LD_INT 21
  37: PUSH
  38: EMPTY
  39: LIST
  40: LIST
  41: LIST
  42: LIST
  43: ST_TO_ADDR
// GT_Mine = [ ] ;
  44: LD_ADDR_EXP 2
  48: PUSH
  49: EMPTY
  50: ST_TO_ADDR
// GT_RankedGames = [ 10 , 11 ] ;
  51: LD_ADDR_EXP 7
  55: PUSH
  56: LD_INT 10
  58: PUSH
  59: LD_INT 11
  61: PUSH
  62: EMPTY
  63: LIST
  64: LIST
  65: ST_TO_ADDR
// enable_human_prediction := true ;
  66: LD_ADDR_OWVAR 51
  70: PUSH
  71: LD_INT 1
  73: ST_TO_ADDR
// Disable_All_Games ;
  74: CALL 357 0 0
// mp_selectmsg = true ;
  78: LD_ADDR_OWVAR 13
  82: PUSH
  83: LD_INT 1
  85: ST_TO_ADDR
// read_multiplayer_and_game_parameters ;
  86: CALL 2760 0 0
// specialParameters ;
  90: CALL 369 0 0
// standartSets ;
  94: CALL 3378 0 0
// prepare_map_coordinates ;
  98: CALL 400 0 0
// InitGameRules ;
 102: CALL 26231 0 0
// set_shared_visions_and_alliances ;
 106: CALL 5319 0 0
// ResetFog ;
 110: CALL_OW 335
// ClearAllFogForSide ( Player_Side ) ;
 114: LD_EXP 70
 118: PPUSH
 119: CALL_OW 520
// AnimateTrees ( true ) ;
 123: LD_INT 1
 125: PPUSH
 126: CALL_OW 573
// init_map ;
 130: CALL 4474 0 0
// if Game_Type in GT_DoubleNat ^ GT_TripleNat then
 134: LD_EXP 1
 138: PUSH
 139: LD_EXP 3
 143: PUSH
 144: LD_EXP 5
 148: ADD
 149: IN
 150: IFFALSE 156
// modify_nations ;
 152: CALL 6172 0 0
// if not def_game_rules then
 156: LD_EXP 9
 160: NOT
 161: IFFALSE 170
// begin Start_tech_ur ;
 163: CALL 18506 0 0
// enable ( 30 ) ;
 167: LD_INT 30
 169: ENABLE_MARKED
// end ; prepare_sides ;
 170: CALL 5628 0 0
// InitLimits ;
 174: CALL 28936 0 0
// if def_kings_age or def_warForTerritory then
 178: LD_EXP 35
 182: PUSH
 183: LD_EXP 36
 187: OR
 188: IFFALSE 194
// InitPoints ;
 190: CALL 34675 0 0
// if def_kings_age then
 194: LD_EXP 35
 198: IFFALSE 204
// init_kings_counting ;
 200: CALL 22539 0 0
// init_respawn ;
 204: CALL 10524 0 0
// Init_Win_Condition ;
 208: CALL 13021 0 0
// mastodonti ;
 212: CALL 9152 0 0
// Start_Zvirata ;
 216: CALL 9471 0 0
// init_Daily ;
 220: CALL 24695 0 0
// your_side := Player_Side ;
 224: LD_ADDR_OWVAR 2
 228: PUSH
 229: LD_EXP 70
 233: ST_TO_ADDR
// music_nat := Side_Nations [ your_side ] ;
 234: LD_ADDR_OWVAR 71
 238: PUSH
 239: LD_EXP 76
 243: PUSH
 244: LD_OWVAR 2
 248: ARRAY
 249: ST_TO_ADDR
// if IAmSpec then
 250: CALL_OW 531
 254: IFFALSE 278
// begin FogOff ( true ) ;
 256: LD_INT 1
 258: PPUSH
 259: CALL_OW 344
// CenterNowOnXY ( 120 , 80 ) ;
 263: LD_INT 120
 265: PPUSH
 266: LD_INT 80
 268: PPUSH
 269: CALL_OW 86
// enable ( 400 ) ;
 273: LD_INT 400
 275: ENABLE_MARKED
// end else
 276: GO 328
// begin CenterNowOnXY ( start_def [ Side_Positions [ your_side ] ] [ 1 ] , start_def [ Side_Positions [ your_side ] ] [ 2 ] ) ;
 278: LD_EXP 83
 282: PUSH
 283: LD_EXP 75
 287: PUSH
 288: LD_OWVAR 2
 292: ARRAY
 293: ARRAY
 294: PUSH
 295: LD_INT 1
 297: ARRAY
 298: PPUSH
 299: LD_EXP 83
 303: PUSH
 304: LD_EXP 75
 308: PUSH
 309: LD_OWVAR 2
 313: ARRAY
 314: ARRAY
 315: PUSH
 316: LD_INT 2
 318: ARRAY
 319: PPUSH
 320: CALL_OW 86
// Init_Win_Condition ;
 324: CALL 13021 0 0
// end ; if def_builduptime then
 328: LD_EXP 30
 332: IFFALSE 338
// BeginBuildUp ;
 334: CALL 25505 0 0
// if def_warForTerritory then
 338: LD_EXP 36
 342: IFFALSE 348
// Init_WarForTerritory ;
 344: CALL 30201 0 0
// InitDisplayNames ;
 348: CALL 15864 0 0
// InitMultiplayerTime ;
 352: CALL 16534 0 0
// end ;
 356: END
// function Disable_All_Games ; begin
 357: LD_INT 0
 359: PPUSH
// Disable_Standard_Games ;
 360: CALL 9513 0 0
// end ;
 364: LD_VAR 0 1
 368: RET
// function specialParameters ; var d ; begin
 369: LD_INT 0
 371: PPUSH
 372: PPUSH
// if not isSGUI then
 373: LD_OWVAR 83
 377: NOT
 378: IFFALSE 395
// begin if not game_type in GT_Survival then
 380: LD_EXP 1
 384: PUSH
 385: LD_EXP 6
 389: IN
 390: NOT
 391: IFFALSE 393
// begin end ; end else
 393: GO 395
// begin end ; end ;
 395: LD_VAR 0 1
 399: RET
// function prepare_map_coordinates ; begin
 400: LD_INT 0
 402: PPUSH
// depot_def := [ [ 12 , 8 , 2 ] , [ 83 , 146 , 0 ] , [ 156 , 9 , 3 ] , [ 225 , 149 , 5 ] ] ;
 403: LD_ADDR_EXP 81
 407: PUSH
 408: LD_INT 12
 410: PUSH
 411: LD_INT 8
 413: PUSH
 414: LD_INT 2
 416: PUSH
 417: EMPTY
 418: LIST
 419: LIST
 420: LIST
 421: PUSH
 422: LD_INT 83
 424: PUSH
 425: LD_INT 146
 427: PUSH
 428: LD_INT 0
 430: PUSH
 431: EMPTY
 432: LIST
 433: LIST
 434: LIST
 435: PUSH
 436: LD_INT 156
 438: PUSH
 439: LD_INT 9
 441: PUSH
 442: LD_INT 3
 444: PUSH
 445: EMPTY
 446: LIST
 447: LIST
 448: LIST
 449: PUSH
 450: LD_INT 225
 452: PUSH
 453: LD_INT 149
 455: PUSH
 456: LD_INT 5
 458: PUSH
 459: EMPTY
 460: LIST
 461: LIST
 462: LIST
 463: PUSH
 464: EMPTY
 465: LIST
 466: LIST
 467: LIST
 468: LIST
 469: ST_TO_ADDR
// oil_deposits_locations := [ [ 20 , 4 ] , [ 93 , 153 ] , [ 141 , 4 ] , [ 220 , 155 ] , ] ;
 470: LD_ADDR_EXP 86
 474: PUSH
 475: LD_INT 20
 477: PUSH
 478: LD_INT 4
 480: PUSH
 481: EMPTY
 482: LIST
 483: LIST
 484: PUSH
 485: LD_INT 93
 487: PUSH
 488: LD_INT 153
 490: PUSH
 491: EMPTY
 492: LIST
 493: LIST
 494: PUSH
 495: LD_INT 141
 497: PUSH
 498: LD_INT 4
 500: PUSH
 501: EMPTY
 502: LIST
 503: LIST
 504: PUSH
 505: LD_INT 220
 507: PUSH
 508: LD_INT 155
 510: PUSH
 511: EMPTY
 512: LIST
 513: LIST
 514: PUSH
 515: EMPTY
 516: LIST
 517: LIST
 518: LIST
 519: LIST
 520: ST_TO_ADDR
// siberite_deposits_locations := [ [ 18 , 27 ] , [ 70 , 133 ] , [ 169 , 29 ] , [ 221 , 130 ] , ] ;
 521: LD_ADDR_EXP 88
 525: PUSH
 526: LD_INT 18
 528: PUSH
 529: LD_INT 27
 531: PUSH
 532: EMPTY
 533: LIST
 534: LIST
 535: PUSH
 536: LD_INT 70
 538: PUSH
 539: LD_INT 133
 541: PUSH
 542: EMPTY
 543: LIST
 544: LIST
 545: PUSH
 546: LD_INT 169
 548: PUSH
 549: LD_INT 29
 551: PUSH
 552: EMPTY
 553: LIST
 554: LIST
 555: PUSH
 556: LD_INT 221
 558: PUSH
 559: LD_INT 130
 561: PUSH
 562: EMPTY
 563: LIST
 564: LIST
 565: PUSH
 566: EMPTY
 567: LIST
 568: LIST
 569: LIST
 570: LIST
 571: ST_TO_ADDR
// extra_oil_deposits_locations := [ [ 53 , 26 ] , [ 187 , 139 ] , [ 129 , 20 ] , [ 106 , 135 ] ] ;
 572: LD_ADDR_EXP 85
 576: PUSH
 577: LD_INT 53
 579: PUSH
 580: LD_INT 26
 582: PUSH
 583: EMPTY
 584: LIST
 585: LIST
 586: PUSH
 587: LD_INT 187
 589: PUSH
 590: LD_INT 139
 592: PUSH
 593: EMPTY
 594: LIST
 595: LIST
 596: PUSH
 597: LD_INT 129
 599: PUSH
 600: LD_INT 20
 602: PUSH
 603: EMPTY
 604: LIST
 605: LIST
 606: PUSH
 607: LD_INT 106
 609: PUSH
 610: LD_INT 135
 612: PUSH
 613: EMPTY
 614: LIST
 615: LIST
 616: PUSH
 617: EMPTY
 618: LIST
 619: LIST
 620: LIST
 621: LIST
 622: ST_TO_ADDR
// extra_sib_deposits_locations := [ [ 51 , 53 ] , [ 183 , 107 ] , [ 155 , 53 ] , [ 80 , 106 ] ] ;
 623: LD_ADDR_EXP 87
 627: PUSH
 628: LD_INT 51
 630: PUSH
 631: LD_INT 53
 633: PUSH
 634: EMPTY
 635: LIST
 636: LIST
 637: PUSH
 638: LD_INT 183
 640: PUSH
 641: LD_INT 107
 643: PUSH
 644: EMPTY
 645: LIST
 646: LIST
 647: PUSH
 648: LD_INT 155
 650: PUSH
 651: LD_INT 53
 653: PUSH
 654: EMPTY
 655: LIST
 656: LIST
 657: PUSH
 658: LD_INT 80
 660: PUSH
 661: LD_INT 106
 663: PUSH
 664: EMPTY
 665: LIST
 666: LIST
 667: PUSH
 668: EMPTY
 669: LIST
 670: LIST
 671: LIST
 672: LIST
 673: ST_TO_ADDR
// for_show_near_resources = [ [ [ oil_deposits_locations [ 1 ] ] , [ siberite_deposits_locations [ 1 ] ] ] , [ [ oil_deposits_locations [ 2 ] ] , [ siberite_deposits_locations [ 2 ] ] ] , [ [ oil_deposits_locations [ 3 ] ] , [ siberite_deposits_locations [ 3 ] ] ] , [ [ oil_deposits_locations [ 4 ] ] , [ siberite_deposits_locations [ 4 ] ] ] , ] ;
 674: LD_ADDR_EXP 63
 678: PUSH
 679: LD_EXP 86
 683: PUSH
 684: LD_INT 1
 686: ARRAY
 687: PUSH
 688: EMPTY
 689: LIST
 690: PUSH
 691: LD_EXP 88
 695: PUSH
 696: LD_INT 1
 698: ARRAY
 699: PUSH
 700: EMPTY
 701: LIST
 702: PUSH
 703: EMPTY
 704: LIST
 705: LIST
 706: PUSH
 707: LD_EXP 86
 711: PUSH
 712: LD_INT 2
 714: ARRAY
 715: PUSH
 716: EMPTY
 717: LIST
 718: PUSH
 719: LD_EXP 88
 723: PUSH
 724: LD_INT 2
 726: ARRAY
 727: PUSH
 728: EMPTY
 729: LIST
 730: PUSH
 731: EMPTY
 732: LIST
 733: LIST
 734: PUSH
 735: LD_EXP 86
 739: PUSH
 740: LD_INT 3
 742: ARRAY
 743: PUSH
 744: EMPTY
 745: LIST
 746: PUSH
 747: LD_EXP 88
 751: PUSH
 752: LD_INT 3
 754: ARRAY
 755: PUSH
 756: EMPTY
 757: LIST
 758: PUSH
 759: EMPTY
 760: LIST
 761: LIST
 762: PUSH
 763: LD_EXP 86
 767: PUSH
 768: LD_INT 4
 770: ARRAY
 771: PUSH
 772: EMPTY
 773: LIST
 774: PUSH
 775: LD_EXP 88
 779: PUSH
 780: LD_INT 4
 782: ARRAY
 783: PUSH
 784: EMPTY
 785: LIST
 786: PUSH
 787: EMPTY
 788: LIST
 789: LIST
 790: PUSH
 791: EMPTY
 792: LIST
 793: LIST
 794: LIST
 795: LIST
 796: ST_TO_ADDR
// case def_base_level of 0 :
 797: LD_EXP 10
 801: PUSH
 802: LD_INT 0
 804: DOUBLE
 805: EQUAL
 806: IFTRUE 810
 808: GO 844
 810: POP
// begin buildings_def = [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
 811: LD_ADDR_EXP 39
 815: PUSH
 816: EMPTY
 817: PUSH
 818: EMPTY
 819: PUSH
 820: EMPTY
 821: PUSH
 822: EMPTY
 823: PUSH
 824: EMPTY
 825: PUSH
 826: EMPTY
 827: PUSH
 828: EMPTY
 829: PUSH
 830: EMPTY
 831: PUSH
 832: EMPTY
 833: LIST
 834: LIST
 835: LIST
 836: LIST
 837: LIST
 838: LIST
 839: LIST
 840: LIST
 841: ST_TO_ADDR
// end ; 1 :
 842: GO 1225
 844: LD_INT 1
 846: DOUBLE
 847: EQUAL
 848: IFTRUE 852
 850: GO 886
 852: POP
// begin buildings_def = [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
 853: LD_ADDR_EXP 39
 857: PUSH
 858: EMPTY
 859: PUSH
 860: EMPTY
 861: PUSH
 862: EMPTY
 863: PUSH
 864: EMPTY
 865: PUSH
 866: EMPTY
 867: PUSH
 868: EMPTY
 869: PUSH
 870: EMPTY
 871: PUSH
 872: EMPTY
 873: PUSH
 874: EMPTY
 875: LIST
 876: LIST
 877: LIST
 878: LIST
 879: LIST
 880: LIST
 881: LIST
 882: LIST
 883: ST_TO_ADDR
// end ; 2 :
 884: GO 1225
 886: LD_INT 2
 888: DOUBLE
 889: EQUAL
 890: IFTRUE 894
 892: GO 1224
 894: POP
// begin buildings_def = [ [ [ b_oil_mine , oil_deposits_locations [ 1 ] [ 1 ] , oil_deposits_locations [ 1 ] [ 2 ] , 4 ] , [ b_breastwork , 31 , 34 , 5 ] , [ b_breastwork , 40 , 16 , 4 ] ] , [ [ b_oil_mine , oil_deposits_locations [ 2 ] [ 1 ] , oil_deposits_locations [ 2 ] [ 2 ] , 0 ] , [ b_breastwork , 77 , 125 , 3 ] , [ b_breastwork , 77 , 126 , 4 ] ] , [ [ b_oil_mine , oil_deposits_locations [ 3 ] [ 1 ] , oil_deposits_locations [ 3 ] [ 2 ] , 4 ] , [ b_breastwork , 133 , 16 , 1 ] , [ b_breastwork , 161 , 34 , 0 ] ] , [ [ b_oil_mine , oil_deposits_locations [ 4 ] [ 1 ] , oil_deposits_locations [ 4 ] [ 2 ] , 0 ] , [ b_breastwork , 200 , 144 , 2 ] , [ b_breastwork , 210 , 126 , 2 ] ] ] ;
 895: LD_ADDR_EXP 39
 899: PUSH
 900: LD_INT 29
 902: PUSH
 903: LD_EXP 86
 907: PUSH
 908: LD_INT 1
 910: ARRAY
 911: PUSH
 912: LD_INT 1
 914: ARRAY
 915: PUSH
 916: LD_EXP 86
 920: PUSH
 921: LD_INT 1
 923: ARRAY
 924: PUSH
 925: LD_INT 2
 927: ARRAY
 928: PUSH
 929: LD_INT 4
 931: PUSH
 932: EMPTY
 933: LIST
 934: LIST
 935: LIST
 936: LIST
 937: PUSH
 938: LD_INT 31
 940: PUSH
 941: LD_INT 31
 943: PUSH
 944: LD_INT 34
 946: PUSH
 947: LD_INT 5
 949: PUSH
 950: EMPTY
 951: LIST
 952: LIST
 953: LIST
 954: LIST
 955: PUSH
 956: LD_INT 31
 958: PUSH
 959: LD_INT 40
 961: PUSH
 962: LD_INT 16
 964: PUSH
 965: LD_INT 4
 967: PUSH
 968: EMPTY
 969: LIST
 970: LIST
 971: LIST
 972: LIST
 973: PUSH
 974: EMPTY
 975: LIST
 976: LIST
 977: LIST
 978: PUSH
 979: LD_INT 29
 981: PUSH
 982: LD_EXP 86
 986: PUSH
 987: LD_INT 2
 989: ARRAY
 990: PUSH
 991: LD_INT 1
 993: ARRAY
 994: PUSH
 995: LD_EXP 86
 999: PUSH
1000: LD_INT 2
1002: ARRAY
1003: PUSH
1004: LD_INT 2
1006: ARRAY
1007: PUSH
1008: LD_INT 0
1010: PUSH
1011: EMPTY
1012: LIST
1013: LIST
1014: LIST
1015: LIST
1016: PUSH
1017: LD_INT 31
1019: PUSH
1020: LD_INT 77
1022: PUSH
1023: LD_INT 125
1025: PUSH
1026: LD_INT 3
1028: PUSH
1029: EMPTY
1030: LIST
1031: LIST
1032: LIST
1033: LIST
1034: PUSH
1035: LD_INT 31
1037: PUSH
1038: LD_INT 77
1040: PUSH
1041: LD_INT 126
1043: PUSH
1044: LD_INT 4
1046: PUSH
1047: EMPTY
1048: LIST
1049: LIST
1050: LIST
1051: LIST
1052: PUSH
1053: EMPTY
1054: LIST
1055: LIST
1056: LIST
1057: PUSH
1058: LD_INT 29
1060: PUSH
1061: LD_EXP 86
1065: PUSH
1066: LD_INT 3
1068: ARRAY
1069: PUSH
1070: LD_INT 1
1072: ARRAY
1073: PUSH
1074: LD_EXP 86
1078: PUSH
1079: LD_INT 3
1081: ARRAY
1082: PUSH
1083: LD_INT 2
1085: ARRAY
1086: PUSH
1087: LD_INT 4
1089: PUSH
1090: EMPTY
1091: LIST
1092: LIST
1093: LIST
1094: LIST
1095: PUSH
1096: LD_INT 31
1098: PUSH
1099: LD_INT 133
1101: PUSH
1102: LD_INT 16
1104: PUSH
1105: LD_INT 1
1107: PUSH
1108: EMPTY
1109: LIST
1110: LIST
1111: LIST
1112: LIST
1113: PUSH
1114: LD_INT 31
1116: PUSH
1117: LD_INT 161
1119: PUSH
1120: LD_INT 34
1122: PUSH
1123: LD_INT 0
1125: PUSH
1126: EMPTY
1127: LIST
1128: LIST
1129: LIST
1130: LIST
1131: PUSH
1132: EMPTY
1133: LIST
1134: LIST
1135: LIST
1136: PUSH
1137: LD_INT 29
1139: PUSH
1140: LD_EXP 86
1144: PUSH
1145: LD_INT 4
1147: ARRAY
1148: PUSH
1149: LD_INT 1
1151: ARRAY
1152: PUSH
1153: LD_EXP 86
1157: PUSH
1158: LD_INT 4
1160: ARRAY
1161: PUSH
1162: LD_INT 2
1164: ARRAY
1165: PUSH
1166: LD_INT 0
1168: PUSH
1169: EMPTY
1170: LIST
1171: LIST
1172: LIST
1173: LIST
1174: PUSH
1175: LD_INT 31
1177: PUSH
1178: LD_INT 200
1180: PUSH
1181: LD_INT 144
1183: PUSH
1184: LD_INT 2
1186: PUSH
1187: EMPTY
1188: LIST
1189: LIST
1190: LIST
1191: LIST
1192: PUSH
1193: LD_INT 31
1195: PUSH
1196: LD_INT 210
1198: PUSH
1199: LD_INT 126
1201: PUSH
1202: LD_INT 2
1204: PUSH
1205: EMPTY
1206: LIST
1207: LIST
1208: LIST
1209: LIST
1210: PUSH
1211: EMPTY
1212: LIST
1213: LIST
1214: LIST
1215: PUSH
1216: EMPTY
1217: LIST
1218: LIST
1219: LIST
1220: LIST
1221: ST_TO_ADDR
// end ; end ;
1222: GO 1225
1224: POP
// Cela_mapa = celamapa ;
1225: LD_ADDR_EXP 91
1229: PUSH
1230: LD_INT 32
1232: ST_TO_ADDR
// king_territory = stred ;
1233: LD_ADDR_EXP 92
1237: PUSH
1238: LD_INT 30
1240: ST_TO_ADDR
// oblasti_beden := [ ctverec1 , ctverec2 , ctverec3 , ctverec4 ] ;
1241: LD_ADDR_EXP 98
1245: PUSH
1246: LD_INT 12
1248: PUSH
1249: LD_INT 13
1251: PUSH
1252: LD_INT 15
1254: PUSH
1255: LD_INT 14
1257: PUSH
1258: EMPTY
1259: LIST
1260: LIST
1261: LIST
1262: LIST
1263: ST_TO_ADDR
// dalsi_oblasti_beden := [ map_center ] ;
1264: LD_ADDR_EXP 100
1268: PUSH
1269: LD_INT 16
1271: PUSH
1272: EMPTY
1273: LIST
1274: ST_TO_ADDR
// koof_bedny = 1.5 ;
1275: LD_ADDR_EXP 101
1279: PUSH
1280: LD_REAL  1.50000000000000E+0000
1283: ST_TO_ADDR
// BuildUpAreas := [ AR_ZaklLH , AR_ZaklLD , AR_ZaklPH , AR_ZaklPD ] ;
1284: LD_ADDR_EXP 116
1288: PUSH
1289: LD_INT 4
1291: PUSH
1292: LD_INT 6
1294: PUSH
1295: LD_INT 5
1297: PUSH
1298: LD_INT 7
1300: PUSH
1301: EMPTY
1302: LIST
1303: LIST
1304: LIST
1305: LIST
1306: ST_TO_ADDR
// DailyPhase = [ [ colors1.txt , colors2.txt , colors3.txt , colors4.txt , colors5.txt , colors6.txt ] , [ colors21.txt , colors22.txt , colors23.txt , colors24.txt , colors25.txt , colors26.txt ] , [ colors31.txt , colors32.txt , colors33.txt , colors34.txt , colors35.txt , colors36.txt ] ] [ rand ( 1 , 3 ) ] ;
1307: LD_ADDR_EXP 61
1311: PUSH
1312: LD_STRING colors1.txt
1314: PUSH
1315: LD_STRING colors2.txt
1317: PUSH
1318: LD_STRING colors3.txt
1320: PUSH
1321: LD_STRING colors4.txt
1323: PUSH
1324: LD_STRING colors5.txt
1326: PUSH
1327: LD_STRING colors6.txt
1329: PUSH
1330: EMPTY
1331: LIST
1332: LIST
1333: LIST
1334: LIST
1335: LIST
1336: LIST
1337: PUSH
1338: LD_STRING colors21.txt
1340: PUSH
1341: LD_STRING colors22.txt
1343: PUSH
1344: LD_STRING colors23.txt
1346: PUSH
1347: LD_STRING colors24.txt
1349: PUSH
1350: LD_STRING colors25.txt
1352: PUSH
1353: LD_STRING colors26.txt
1355: PUSH
1356: EMPTY
1357: LIST
1358: LIST
1359: LIST
1360: LIST
1361: LIST
1362: LIST
1363: PUSH
1364: LD_STRING colors31.txt
1366: PUSH
1367: LD_STRING colors32.txt
1369: PUSH
1370: LD_STRING colors33.txt
1372: PUSH
1373: LD_STRING colors34.txt
1375: PUSH
1376: LD_STRING colors35.txt
1378: PUSH
1379: LD_STRING colors36.txt
1381: PUSH
1382: EMPTY
1383: LIST
1384: LIST
1385: LIST
1386: LIST
1387: LIST
1388: LIST
1389: PUSH
1390: EMPTY
1391: LIST
1392: LIST
1393: LIST
1394: PUSH
1395: LD_INT 1
1397: PPUSH
1398: LD_INT 3
1400: PPUSH
1401: CALL_OW 12
1405: ARRAY
1406: ST_TO_ADDR
// WFT_Points_MP = 2 ;
1407: LD_ADDR_EXP 121
1411: PUSH
1412: LD_INT 2
1414: ST_TO_ADDR
// FLAGY_AREA = [ f1 , f2 , f3 , f4 , f5 , f6 , f7 , f8 , f9 ] ;
1415: LD_ADDR_EXP 118
1419: PUSH
1420: LD_INT 39
1422: PUSH
1423: LD_INT 40
1425: PUSH
1426: LD_INT 41
1428: PUSH
1429: LD_INT 42
1431: PUSH
1432: LD_INT 43
1434: PUSH
1435: LD_INT 48
1437: PUSH
1438: LD_INT 49
1440: PUSH
1441: LD_INT 50
1443: PUSH
1444: LD_INT 51
1446: PUSH
1447: EMPTY
1448: LIST
1449: LIST
1450: LIST
1451: LIST
1452: LIST
1453: LIST
1454: LIST
1455: LIST
1456: LIST
1457: ST_TO_ADDR
// FLAGY_XY = [ [ 118 , 73 ] , [ 147 , 55 ] , [ 78 , 30 ] , [ 86 , 99 ] , [ 157 , 124 ] , [ 106 , 19 ] , [ 172 , 98 ] , [ 133 , 140 ] , [ 70 , 61 ] , ] ;
1458: LD_ADDR_EXP 119
1462: PUSH
1463: LD_INT 118
1465: PUSH
1466: LD_INT 73
1468: PUSH
1469: EMPTY
1470: LIST
1471: LIST
1472: PUSH
1473: LD_INT 147
1475: PUSH
1476: LD_INT 55
1478: PUSH
1479: EMPTY
1480: LIST
1481: LIST
1482: PUSH
1483: LD_INT 78
1485: PUSH
1486: LD_INT 30
1488: PUSH
1489: EMPTY
1490: LIST
1491: LIST
1492: PUSH
1493: LD_INT 86
1495: PUSH
1496: LD_INT 99
1498: PUSH
1499: EMPTY
1500: LIST
1501: LIST
1502: PUSH
1503: LD_INT 157
1505: PUSH
1506: LD_INT 124
1508: PUSH
1509: EMPTY
1510: LIST
1511: LIST
1512: PUSH
1513: LD_INT 106
1515: PUSH
1516: LD_INT 19
1518: PUSH
1519: EMPTY
1520: LIST
1521: LIST
1522: PUSH
1523: LD_INT 172
1525: PUSH
1526: LD_INT 98
1528: PUSH
1529: EMPTY
1530: LIST
1531: LIST
1532: PUSH
1533: LD_INT 133
1535: PUSH
1536: LD_INT 140
1538: PUSH
1539: EMPTY
1540: LIST
1541: LIST
1542: PUSH
1543: LD_INT 70
1545: PUSH
1546: LD_INT 61
1548: PUSH
1549: EMPTY
1550: LIST
1551: LIST
1552: PUSH
1553: EMPTY
1554: LIST
1555: LIST
1556: LIST
1557: LIST
1558: LIST
1559: LIST
1560: LIST
1561: LIST
1562: LIST
1563: ST_TO_ADDR
// FLAGY_AREA1 = [ ff1 , ff2 , ff3 , ff4 , ff5 , ff6 , ff7 , ff8 , ff9 ] ;
1564: LD_ADDR_EXP 120
1568: PUSH
1569: LD_INT 34
1571: PUSH
1572: LD_INT 35
1574: PUSH
1575: LD_INT 36
1577: PUSH
1578: LD_INT 37
1580: PUSH
1581: LD_INT 38
1583: PUSH
1584: LD_INT 44
1586: PUSH
1587: LD_INT 45
1589: PUSH
1590: LD_INT 46
1592: PUSH
1593: LD_INT 47
1595: PUSH
1596: EMPTY
1597: LIST
1598: LIST
1599: LIST
1600: LIST
1601: LIST
1602: LIST
1603: LIST
1604: LIST
1605: LIST
1606: ST_TO_ADDR
// MaxFlags = 9 ;
1607: LD_ADDR_EXP 114
1611: PUSH
1612: LD_INT 9
1614: ST_TO_ADDR
// WarForTerritory_flags = [ 0 , 5 , 7 , 9 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
1615: LD_ADDR_EXP 65
1619: PUSH
1620: LD_INT 0
1622: PUSH
1623: LD_INT 5
1625: PUSH
1626: LD_INT 7
1628: PUSH
1629: LD_INT 9
1631: PUSH
1632: LD_INT 0
1634: PUSH
1635: LD_INT 0
1637: PUSH
1638: LD_INT 0
1640: PUSH
1641: LD_INT 0
1643: PUSH
1644: LD_INT 0
1646: PUSH
1647: LD_INT 0
1649: PUSH
1650: LD_INT 0
1652: PUSH
1653: EMPTY
1654: LIST
1655: LIST
1656: LIST
1657: LIST
1658: LIST
1659: LIST
1660: LIST
1661: LIST
1662: LIST
1663: LIST
1664: LIST
1665: ST_TO_ADDR
// WarForTerritory_Points = [ 0 , 0 , 0 , 0 , 300 , 500 , 700 , 1000 , 1500 , 2000 , 3000 ] ;
1666: LD_ADDR_EXP 64
1670: PUSH
1671: LD_INT 0
1673: PUSH
1674: LD_INT 0
1676: PUSH
1677: LD_INT 0
1679: PUSH
1680: LD_INT 0
1682: PUSH
1683: LD_INT 300
1685: PUSH
1686: LD_INT 500
1688: PUSH
1689: LD_INT 700
1691: PUSH
1692: LD_INT 1000
1694: PUSH
1695: LD_INT 1500
1697: PUSH
1698: LD_INT 2000
1700: PUSH
1701: LD_INT 3000
1703: PUSH
1704: EMPTY
1705: LIST
1706: LIST
1707: LIST
1708: LIST
1709: LIST
1710: LIST
1711: LIST
1712: LIST
1713: LIST
1714: LIST
1715: LIST
1716: ST_TO_ADDR
// end ;
1717: LD_VAR 0 1
1721: RET
// export function SimMPDefinition ; begin
1722: LD_INT 0
1724: PPUSH
// Game_Type = 1 ;
1725: LD_ADDR_EXP 1
1729: PUSH
1730: LD_INT 1
1732: ST_TO_ADDR
// Player_Side = 3 ;
1733: LD_ADDR_EXP 70
1737: PUSH
1738: LD_INT 3
1740: ST_TO_ADDR
// Player_Team = 2 ;
1741: LD_ADDR_EXP 71
1745: PUSH
1746: LD_INT 2
1748: ST_TO_ADDR
// Side_Positions = [ 1 , 2 , 3 , 4 , 0 , 0 , 0 , 0 ] ;
1749: LD_ADDR_EXP 75
1753: PUSH
1754: LD_INT 1
1756: PUSH
1757: LD_INT 2
1759: PUSH
1760: LD_INT 3
1762: PUSH
1763: LD_INT 4
1765: PUSH
1766: LD_INT 0
1768: PUSH
1769: LD_INT 0
1771: PUSH
1772: LD_INT 0
1774: PUSH
1775: LD_INT 0
1777: PUSH
1778: EMPTY
1779: LIST
1780: LIST
1781: LIST
1782: LIST
1783: LIST
1784: LIST
1785: LIST
1786: LIST
1787: ST_TO_ADDR
// Side_Teams = [ 1 , 1 , 2 , 2 , 0 , 0 , 0 , 0 ] ;
1788: LD_ADDR_EXP 72
1792: PUSH
1793: LD_INT 1
1795: PUSH
1796: LD_INT 1
1798: PUSH
1799: LD_INT 2
1801: PUSH
1802: LD_INT 2
1804: PUSH
1805: LD_INT 0
1807: PUSH
1808: LD_INT 0
1810: PUSH
1811: LD_INT 0
1813: PUSH
1814: LD_INT 0
1816: PUSH
1817: EMPTY
1818: LIST
1819: LIST
1820: LIST
1821: LIST
1822: LIST
1823: LIST
1824: LIST
1825: LIST
1826: ST_TO_ADDR
// Side_Nations = [ 1 , 2 , 2 , 1 , 0 , 0 , 0 , 0 ] ;
1827: LD_ADDR_EXP 76
1831: PUSH
1832: LD_INT 1
1834: PUSH
1835: LD_INT 2
1837: PUSH
1838: LD_INT 2
1840: PUSH
1841: LD_INT 1
1843: PUSH
1844: LD_INT 0
1846: PUSH
1847: LD_INT 0
1849: PUSH
1850: LD_INT 0
1852: PUSH
1853: LD_INT 0
1855: PUSH
1856: EMPTY
1857: LIST
1858: LIST
1859: LIST
1860: LIST
1861: LIST
1862: LIST
1863: LIST
1864: LIST
1865: ST_TO_ADDR
// Side_Comps = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
1866: LD_ADDR_EXP 78
1870: PUSH
1871: LD_INT 0
1873: PUSH
1874: LD_INT 0
1876: PUSH
1877: LD_INT 0
1879: PUSH
1880: LD_INT 0
1882: PUSH
1883: LD_INT 0
1885: PUSH
1886: LD_INT 0
1888: PUSH
1889: LD_INT 0
1891: PUSH
1892: LD_INT 0
1894: PUSH
1895: EMPTY
1896: LIST
1897: LIST
1898: LIST
1899: LIST
1900: LIST
1901: LIST
1902: LIST
1903: LIST
1904: ST_TO_ADDR
// Teams = [ [ 1 , 2 ] , [ 3 , 4 ] , [ 0 ] ] diff [ 0 ] ;
1905: LD_ADDR_EXP 73
1909: PUSH
1910: LD_INT 1
1912: PUSH
1913: LD_INT 2
1915: PUSH
1916: EMPTY
1917: LIST
1918: LIST
1919: PUSH
1920: LD_INT 3
1922: PUSH
1923: LD_INT 4
1925: PUSH
1926: EMPTY
1927: LIST
1928: LIST
1929: PUSH
1930: LD_INT 0
1932: PUSH
1933: EMPTY
1934: LIST
1935: PUSH
1936: EMPTY
1937: LIST
1938: LIST
1939: LIST
1940: PUSH
1941: LD_INT 0
1943: PUSH
1944: EMPTY
1945: LIST
1946: DIFF
1947: ST_TO_ADDR
// end ;
1948: LD_VAR 0 1
1952: RET
// export function SimMPOptions ; begin
1953: LD_INT 0
1955: PPUSH
// def_game_rules = 0 ;
1956: LD_ADDR_EXP 9
1960: PUSH
1961: LD_INT 0
1963: ST_TO_ADDR
// def_base_level = 2 ;
1964: LD_ADDR_EXP 10
1968: PUSH
1969: LD_INT 2
1971: ST_TO_ADDR
// def_amount_of_people = 5 ;
1972: LD_ADDR_EXP 11
1976: PUSH
1977: LD_INT 5
1979: ST_TO_ADDR
// def_amount_of_apemen_in_team = 2 ;
1980: LD_ADDR_EXP 12
1984: PUSH
1985: LD_INT 2
1987: ST_TO_ADDR
// def_initial_level = 1 ;
1988: LD_ADDR_EXP 13
1992: PUSH
1993: LD_INT 1
1995: ST_TO_ADDR
// def_classes = 0 ;
1996: LD_ADDR_EXP 14
2000: PUSH
2001: LD_INT 0
2003: ST_TO_ADDR
// def_starting_resources = 2 ;
2004: LD_ADDR_EXP 15
2008: PUSH
2009: LD_INT 2
2011: ST_TO_ADDR
// def_shipments_density = 2 ;
2012: LD_ADDR_EXP 16
2016: PUSH
2017: LD_INT 2
2019: ST_TO_ADDR
// def_extra_oil_deposits = 1 ;
2020: LD_ADDR_EXP 17
2024: PUSH
2025: LD_INT 1
2027: ST_TO_ADDR
// def_extra_sib_deposits = 1 ;
2028: LD_ADDR_EXP 18
2032: PUSH
2033: LD_INT 1
2035: ST_TO_ADDR
// def_shared_vision = 1 ;
2036: LD_ADDR_EXP 19
2040: PUSH
2041: LD_INT 1
2043: ST_TO_ADDR
// def_morale_flags = 1 ;
2044: LD_ADDR_EXP 20
2048: PUSH
2049: LD_INT 1
2051: ST_TO_ADDR
// def_win_rules = 2 ;
2052: LD_ADDR_EXP 21
2056: PUSH
2057: LD_INT 2
2059: ST_TO_ADDR
// def_amount_of_apemen = 1 ;
2060: LD_ADDR_EXP 22
2064: PUSH
2065: LD_INT 1
2067: ST_TO_ADDR
// def_amount_of_tiger = 1 ;
2068: LD_ADDR_EXP 23
2072: PUSH
2073: LD_INT 1
2075: ST_TO_ADDR
// def_respawining_type = 1 ;
2076: LD_ADDR_EXP 24
2080: PUSH
2081: LD_INT 1
2083: ST_TO_ADDR
// def_people_respawning = 1 ;
2084: LD_ADDR_EXP 25
2088: PUSH
2089: LD_INT 1
2091: ST_TO_ADDR
// def_tech_level = 8 ;
2092: LD_ADDR_EXP 26
2096: PUSH
2097: LD_INT 8
2099: ST_TO_ADDR
// def_upgrade_tl = 1 ;
2100: LD_ADDR_EXP 27
2104: PUSH
2105: LD_INT 1
2107: ST_TO_ADDR
// def_siberite_detection = 1 ;
2108: LD_ADDR_EXP 28
2112: PUSH
2113: LD_INT 1
2115: ST_TO_ADDR
// def_siberite_bomb = 3 ;
2116: LD_ADDR_EXP 29
2120: PUSH
2121: LD_INT 3
2123: ST_TO_ADDR
// def_builduptime = 1 ;
2124: LD_ADDR_EXP 30
2128: PUSH
2129: LD_INT 1
2131: ST_TO_ADDR
// def_desert_warior = 2 ;
2132: LD_ADDR_EXP 31
2136: PUSH
2137: LD_INT 2
2139: ST_TO_ADDR
// def_daily_start = 2 ;
2140: LD_ADDR_EXP 32
2144: PUSH
2145: LD_INT 2
2147: ST_TO_ADDR
// def_daily_speed = 3 ;
2148: LD_ADDR_EXP 33
2152: PUSH
2153: LD_INT 3
2155: ST_TO_ADDR
// def_public_score = 1 ;
2156: LD_ADDR_EXP 34
2160: PUSH
2161: LD_INT 1
2163: ST_TO_ADDR
// def_kings_age = 1 ;
2164: LD_ADDR_EXP 35
2168: PUSH
2169: LD_INT 1
2171: ST_TO_ADDR
// def_warForTerritory = 5 ;
2172: LD_ADDR_EXP 36
2176: PUSH
2177: LD_INT 5
2179: ST_TO_ADDR
// end ;
2180: LD_VAR 0 1
2184: RET
// export function Hustota_Zasilek ; var i ; begin
2185: LD_INT 0
2187: PPUSH
2188: PPUSH
// if def_game_rules then
2189: LD_EXP 9
2193: IFFALSE 2203
// tech_level = 8 ;
2195: LD_ADDR_EXP 56
2199: PUSH
2200: LD_INT 8
2202: ST_TO_ADDR
// case def_shipments_density of 0 :
2203: LD_EXP 16
2207: PUSH
2208: LD_INT 0
2210: DOUBLE
2211: EQUAL
2212: IFTRUE 2216
2214: GO 2227
2216: POP
// shipments_density := 40 ; 1 :
2217: LD_ADDR_EXP 45
2221: PUSH
2222: LD_INT 40
2224: ST_TO_ADDR
2225: GO 2266
2227: LD_INT 1
2229: DOUBLE
2230: EQUAL
2231: IFTRUE 2235
2233: GO 2246
2235: POP
// shipments_density := 60 ; 2 :
2236: LD_ADDR_EXP 45
2240: PUSH
2241: LD_INT 60
2243: ST_TO_ADDR
2244: GO 2266
2246: LD_INT 2
2248: DOUBLE
2249: EQUAL
2250: IFTRUE 2254
2252: GO 2265
2254: POP
// shipments_density := 90 ; end ;
2255: LD_ADDR_EXP 45
2259: PUSH
2260: LD_INT 90
2262: ST_TO_ADDR
2263: GO 2266
2265: POP
// if tech_level < 7 then
2266: LD_EXP 56
2270: PUSH
2271: LD_INT 7
2273: LESS
2274: IFFALSE 2293
// shipments_density := shipments_density * 0.85 else
2276: LD_ADDR_EXP 45
2280: PUSH
2281: LD_EXP 45
2285: PUSH
2286: LD_REAL  8.50000000000000E-0001
2289: MUL
2290: ST_TO_ADDR
2291: GO 2345
// if tech_level < 5 then
2293: LD_EXP 56
2297: PUSH
2298: LD_INT 5
2300: LESS
2301: IFFALSE 2320
// shipments_density := shipments_density * 0.7 else
2303: LD_ADDR_EXP 45
2307: PUSH
2308: LD_EXP 45
2312: PUSH
2313: LD_REAL  7.00000000000000E-0001
2316: MUL
2317: ST_TO_ADDR
2318: GO 2345
// if tech_level < 3 then
2320: LD_EXP 56
2324: PUSH
2325: LD_INT 3
2327: LESS
2328: IFFALSE 2345
// shipments_density := shipments_density * 0.6 ;
2330: LD_ADDR_EXP 45
2334: PUSH
2335: LD_EXP 45
2339: PUSH
2340: LD_REAL  6.00000000000000E-0001
2343: MUL
2344: ST_TO_ADDR
// end ; end_of_file
2345: LD_VAR 0 1
2349: RET
// on VehicleConstructionStarted ( factory , chassis , engine , control , weapon ) do RestrictVehicleConstructionStarted ( factory , chassis , engine , control , weapon ) ;
2350: LD_VAR 0 1
2354: PPUSH
2355: LD_VAR 0 2
2359: PPUSH
2360: LD_VAR 0 3
2364: PPUSH
2365: LD_VAR 0 4
2369: PPUSH
2370: LD_VAR 0 5
2374: PPUSH
2375: CALL 29789 0 5
2379: PPOPN 5
2381: END
// on WeaponPlaced ( building , weapon ) do RestrictWeaponPlaced ( building , weapon ) ;
2382: LD_VAR 0 1
2386: PPUSH
2387: LD_VAR 0 2
2391: PPUSH
2392: CALL 29854 0 2
2396: PPOPN 2
2398: END
// on BuildingStarted ( b , h ) do begin if def_game_rules then
2399: LD_EXP 9
2403: IFFALSE 2440
// begin ExecuteLimits ( b , GetBType ( b ) , GetSide ( b ) , 0 , 1 ) ;
2405: LD_VAR 0 1
2409: PPUSH
2410: LD_VAR 0 1
2414: PPUSH
2415: CALL_OW 266
2419: PPUSH
2420: LD_VAR 0 1
2424: PPUSH
2425: CALL_OW 255
2429: PPUSH
2430: LD_INT 0
2432: PPUSH
2433: LD_INT 1
2435: PPUSH
2436: CALL 29337 0 5
// end ; if GetBType ( b ) in [ b_depot , b_warehouse ] then
2440: LD_VAR 0 1
2444: PPUSH
2445: CALL_OW 266
2449: PUSH
2450: LD_INT 0
2452: PUSH
2453: LD_INT 1
2455: PUSH
2456: EMPTY
2457: LIST
2458: LIST
2459: IN
2460: IFFALSE 2476
// NameBuildingStarted ( b , h ) ;
2462: LD_VAR 0 1
2466: PPUSH
2467: LD_VAR 0 2
2471: PPUSH
2472: CALL 16213 0 2
// end ;
2476: PPOPN 2
2478: END
// on BuildingComplete ( b ) do begin if GetBType ( b ) in [ b_depot , b_warehouse ] then
2479: LD_VAR 0 1
2483: PPUSH
2484: CALL_OW 266
2488: PUSH
2489: LD_INT 0
2491: PUSH
2492: LD_INT 1
2494: PUSH
2495: EMPTY
2496: LIST
2497: LIST
2498: IN
2499: IFFALSE 2510
// NameBuildingComplete ( b ) ;
2501: LD_VAR 0 1
2505: PPUSH
2506: CALL 16205 0 1
// end ;
2510: PPOPN 1
2512: END
// on BuildingCaptured ( b , o , e ) do begin if def_game_rules then
2513: LD_EXP 9
2517: IFFALSE 2554
// begin ExecuteLimits ( b , GetBType ( b ) , GetSide ( b ) , 0 , 1 ) ;
2519: LD_VAR 0 1
2523: PPUSH
2524: LD_VAR 0 1
2528: PPUSH
2529: CALL_OW 266
2533: PPUSH
2534: LD_VAR 0 1
2538: PPUSH
2539: CALL_OW 255
2543: PPUSH
2544: LD_INT 0
2546: PPUSH
2547: LD_INT 1
2549: PPUSH
2550: CALL 29337 0 5
// end ; if GetBType ( b ) in [ b_depot , b_warehouse ] then
2554: LD_VAR 0 1
2558: PPUSH
2559: CALL_OW 266
2563: PUSH
2564: LD_INT 0
2566: PUSH
2567: LD_INT 1
2569: PUSH
2570: EMPTY
2571: LIST
2572: LIST
2573: IN
2574: IFFALSE 2595
// NameBuildingCaptured ( b , o , e ) ;
2576: LD_VAR 0 1
2580: PPUSH
2581: LD_VAR 0 2
2585: PPUSH
2586: LD_VAR 0 3
2590: PPUSH
2591: CALL 16292 0 3
// end ;
2595: PPOPN 3
2597: END
// on UnitDestroyed ( j ) do var x , y , pos , dir ;
2598: LD_INT 0
2600: PPUSH
2601: PPUSH
2602: PPUSH
2603: PPUSH
// begin if def_game_rules then
2604: LD_EXP 9
2608: IFFALSE 2619
// CallExecuteLimits ( j ) ;
2610: LD_VAR 0 1
2614: PPUSH
2615: CALL 30096 0 1
// end ;
2619: PPOPN 5
2621: END
// on VehicleCaptured ( j , i1 , o , i2 ) do begin if def_game_rules and ( GetChassis ( j ) = 25 ) then
2622: LD_EXP 9
2626: PUSH
2627: LD_VAR 0 1
2631: PPUSH
2632: CALL_OW 265
2636: PUSH
2637: LD_INT 25
2639: EQUAL
2640: AND
2641: IFFALSE 2673
// ExecuteLimits ( j , b_behemoth , GetSide ( j ) , o , 1 ) ;
2643: LD_VAR 0 1
2647: PPUSH
2648: LD_INT 37
2650: PPUSH
2651: LD_VAR 0 1
2655: PPUSH
2656: CALL_OW 255
2660: PPUSH
2661: LD_VAR 0 3
2665: PPUSH
2666: LD_INT 1
2668: PPUSH
2669: CALL 29337 0 5
// end ;
2673: PPOPN 4
2675: END
// on HumanDestroyed ( identifier , side , nation , x , y , direction , sex , cl ) do if def_respawining_type > 1 then
2676: LD_EXP 24
2680: PUSH
2681: LD_INT 1
2683: GREATER
2684: IFFALSE 2730
// RespawnHumanDestroyed ( identifier , side , nation , x , y , direction , sex , cl ) ;
2686: LD_VAR 0 1
2690: PPUSH
2691: LD_VAR 0 2
2695: PPUSH
2696: LD_VAR 0 3
2700: PPUSH
2701: LD_VAR 0 4
2705: PPUSH
2706: LD_VAR 0 5
2710: PPUSH
2711: LD_VAR 0 6
2715: PPUSH
2716: LD_VAR 0 7
2720: PPUSH
2721: LD_VAR 0 8
2725: PPUSH
2726: CALL 11449 0 8
2730: PPOPN 8
2732: END
// on siberiterocketexploded ( un , x , y ) do SA_OnSiberiteRocketExploded ( un , x , y , Your_Side ) ; end_of_file
2733: LD_VAR 0 1
2737: PPUSH
2738: LD_VAR 0 2
2742: PPUSH
2743: LD_VAR 0 3
2747: PPUSH
2748: LD_OWVAR 2
2752: PPUSH
2753: CALL 34436 0 4
2757: PPOPN 3
2759: END
// export game_type , GT_Mine , GT_doubleNat , GT_doublePeople , GT_tripleNat , GT_Survival , GT_RankedGames , pozice_beden ; export def_game_rules , def_base_level , def_amount_of_people , def_amount_of_apemen_in_team , def_initial_level , def_classes , def_starting_resources , def_shipments_density , def_extra_oil_deposits , def_extra_sib_deposits , def_shared_vision , def_morale_flags , def_win_rules , def_amount_of_apemen , def_amount_of_tiger , def_respawining_type , def_people_respawning , def_tech_level , def_upgrade_tl , def_siberite_detection , def_siberite_bomb , def_builduptime , def_desert_warior , def_daily_start , def_daily_speed , def_public_score , def_kings_age , def_WarForTerritory ; export base_level , number_of_breastworks , buildings_def , number_of_people , number_of_apemen , initial_level , starting_crates , starting_resources , shipments_density , morale_decreasing_time , spawning_koef_of_apemen , spawning_koef_of_tiger , respawning_time_min , heroes , respawning_time_max , Position_Nations , respawning_time_delay_min , respawning_time_delay_max , commander , tech_level , final_count , daily_start , daily_speed , TimePhase , DailyPhase , Position_Sides , for_show_near_resources , WarForTerritory_Points , WarForTerritory_flags , buildUpTime_Delay , siberite_bomb_Delay ; export Side_Count , Team_Count , Player_Side , Player_Team , Side_Teams , Teams , Side_IsSpec ; export Side_Positions , Side_Nations , Side_Names , Side_Comps , Team_Names , Team_Game ; export depot_def , breastworks_def , start_def , pocet_hracu , extra_oil_deposits_locations , oil_deposits_locations , extra_sib_deposits_locations , siberite_deposits_locations , battle_flags_id , def_max_sides ; export Cela_Mapa , king_territory ; export global_units , global_defined , soldiers_created , global_count , global_classes ; export function read_multiplayer_and_game_parameters ; var side , dep , br1 , br2 , br3 , un , i ; begin
2760: LD_INT 0
2762: PPUSH
2763: PPUSH
2764: PPUSH
2765: PPUSH
2766: PPUSH
2767: PPUSH
2768: PPUSH
2769: PPUSH
// if MultiPlayer then
2770: LD_OWVAR 4
2774: IFFALSE 2858
// begin Game_Type = mp_game_type ;
2776: LD_ADDR_EXP 1
2780: PUSH
2781: LD_OWVAR 6
2785: ST_TO_ADDR
// Player_Side = mp_player_side ;
2786: LD_ADDR_EXP 70
2790: PUSH
2791: LD_OWVAR 7
2795: ST_TO_ADDR
// Player_Team = mp_player_team ;
2796: LD_ADDR_EXP 71
2800: PUSH
2801: LD_OWVAR 8
2805: ST_TO_ADDR
// Side_Positions = mp_sides_positions ;
2806: LD_ADDR_EXP 75
2810: PUSH
2811: LD_OWVAR 17
2815: ST_TO_ADDR
// Side_Teams = mp_sides_teams ;
2816: LD_ADDR_EXP 72
2820: PUSH
2821: LD_OWVAR 15
2825: ST_TO_ADDR
// Side_Nations = mp_sides_nations ;
2826: LD_ADDR_EXP 76
2830: PUSH
2831: LD_OWVAR 16
2835: ST_TO_ADDR
// Side_Comps = mp_sides_comps ;
2836: LD_ADDR_EXP 78
2840: PUSH
2841: CALL 3310 0 0
2845: ST_TO_ADDR
// Teams = mp_teams ;
2846: LD_ADDR_EXP 73
2850: PUSH
2851: LD_OWVAR 12
2855: ST_TO_ADDR
// end else
2856: GO 2862
// begin SimMPDefinition ;
2858: CALL 1722 0 0
// end ; Side_Count = ( Side_Positions diff [ 0 ] ) + 0 ;
2862: LD_ADDR_EXP 68
2866: PUSH
2867: LD_EXP 75
2871: PUSH
2872: LD_INT 0
2874: PUSH
2875: EMPTY
2876: LIST
2877: DIFF
2878: PUSH
2879: LD_INT 0
2881: PLUS
2882: ST_TO_ADDR
// Team_Count = ( Side_Teams diff [ 0 ] ) + 0 ;
2883: LD_ADDR_EXP 69
2887: PUSH
2888: LD_EXP 72
2892: PUSH
2893: LD_INT 0
2895: PUSH
2896: EMPTY
2897: LIST
2898: DIFF
2899: PUSH
2900: LD_INT 0
2902: PLUS
2903: ST_TO_ADDR
// if MultiPlayer then
2904: LD_OWVAR 4
2908: IFFALSE 3271
// begin def_game_rules = GetMultiplayerSetting ( 0 ) ;
2910: LD_ADDR_EXP 9
2914: PUSH
2915: LD_INT 0
2917: PPUSH
2918: CALL_OW 426
2922: ST_TO_ADDR
// def_base_level = GetMultiplayerSetting ( 1 ) ;
2923: LD_ADDR_EXP 10
2927: PUSH
2928: LD_INT 1
2930: PPUSH
2931: CALL_OW 426
2935: ST_TO_ADDR
// def_amount_of_people = GetMultiplayerSetting ( 2 ) ;
2936: LD_ADDR_EXP 11
2940: PUSH
2941: LD_INT 2
2943: PPUSH
2944: CALL_OW 426
2948: ST_TO_ADDR
// def_amount_of_apemen_in_team = GetMultiplayerSetting ( 3 ) ;
2949: LD_ADDR_EXP 12
2953: PUSH
2954: LD_INT 3
2956: PPUSH
2957: CALL_OW 426
2961: ST_TO_ADDR
// def_initial_level = GetMultiplayerSetting ( 4 ) ;
2962: LD_ADDR_EXP 13
2966: PUSH
2967: LD_INT 4
2969: PPUSH
2970: CALL_OW 426
2974: ST_TO_ADDR
// def_classes = GetMultiplayerSetting ( 5 ) ;
2975: LD_ADDR_EXP 14
2979: PUSH
2980: LD_INT 5
2982: PPUSH
2983: CALL_OW 426
2987: ST_TO_ADDR
// def_starting_resources = GetMultiplayerSetting ( 6 ) ;
2988: LD_ADDR_EXP 15
2992: PUSH
2993: LD_INT 6
2995: PPUSH
2996: CALL_OW 426
3000: ST_TO_ADDR
// def_shipments_density = GetMultiplayerSetting ( 7 ) ;
3001: LD_ADDR_EXP 16
3005: PUSH
3006: LD_INT 7
3008: PPUSH
3009: CALL_OW 426
3013: ST_TO_ADDR
// def_extra_oil_deposits = GetMultiplayerSetting ( 8 ) ;
3014: LD_ADDR_EXP 17
3018: PUSH
3019: LD_INT 8
3021: PPUSH
3022: CALL_OW 426
3026: ST_TO_ADDR
// def_extra_sib_deposits = GetMultiplayerSetting ( 9 ) ;
3027: LD_ADDR_EXP 18
3031: PUSH
3032: LD_INT 9
3034: PPUSH
3035: CALL_OW 426
3039: ST_TO_ADDR
// def_morale_flags = GetMultiplayerSetting ( 10 ) ;
3040: LD_ADDR_EXP 20
3044: PUSH
3045: LD_INT 10
3047: PPUSH
3048: CALL_OW 426
3052: ST_TO_ADDR
// def_win_rules = GetMultiplayerSetting ( 11 ) ;
3053: LD_ADDR_EXP 21
3057: PUSH
3058: LD_INT 11
3060: PPUSH
3061: CALL_OW 426
3065: ST_TO_ADDR
// def_amount_of_apemen = GetMultiplayerSetting ( 12 ) ;
3066: LD_ADDR_EXP 22
3070: PUSH
3071: LD_INT 12
3073: PPUSH
3074: CALL_OW 426
3078: ST_TO_ADDR
// def_amount_of_tiger = GetMultiplayerSetting ( 13 ) ;
3079: LD_ADDR_EXP 23
3083: PUSH
3084: LD_INT 13
3086: PPUSH
3087: CALL_OW 426
3091: ST_TO_ADDR
// def_respawining_type = GetMultiplayerSetting ( 14 ) ;
3092: LD_ADDR_EXP 24
3096: PUSH
3097: LD_INT 14
3099: PPUSH
3100: CALL_OW 426
3104: ST_TO_ADDR
// def_people_respawning = GetMultiplayerSetting ( 15 ) ;
3105: LD_ADDR_EXP 25
3109: PUSH
3110: LD_INT 15
3112: PPUSH
3113: CALL_OW 426
3117: ST_TO_ADDR
// def_tech_level = GetMultiplayerSetting ( 16 ) ;
3118: LD_ADDR_EXP 26
3122: PUSH
3123: LD_INT 16
3125: PPUSH
3126: CALL_OW 426
3130: ST_TO_ADDR
// def_upgrade_tl = GetMultiplayerSetting ( 17 ) ;
3131: LD_ADDR_EXP 27
3135: PUSH
3136: LD_INT 17
3138: PPUSH
3139: CALL_OW 426
3143: ST_TO_ADDR
// def_siberite_detection = GetMultiplayerSetting ( 18 ) ;
3144: LD_ADDR_EXP 28
3148: PUSH
3149: LD_INT 18
3151: PPUSH
3152: CALL_OW 426
3156: ST_TO_ADDR
// def_siberite_bomb = GetMultiplayerSetting ( 19 ) ;
3157: LD_ADDR_EXP 29
3161: PUSH
3162: LD_INT 19
3164: PPUSH
3165: CALL_OW 426
3169: ST_TO_ADDR
// def_builduptime = GetMultiplayerSetting ( 20 ) ;
3170: LD_ADDR_EXP 30
3174: PUSH
3175: LD_INT 20
3177: PPUSH
3178: CALL_OW 426
3182: ST_TO_ADDR
// def_desert_warior = GetMultiplayerSetting ( 21 ) ;
3183: LD_ADDR_EXP 31
3187: PUSH
3188: LD_INT 21
3190: PPUSH
3191: CALL_OW 426
3195: ST_TO_ADDR
// def_daily_start = GetMultiplayerSetting ( 22 ) ;
3196: LD_ADDR_EXP 32
3200: PUSH
3201: LD_INT 22
3203: PPUSH
3204: CALL_OW 426
3208: ST_TO_ADDR
// def_daily_speed = GetMultiplayerSetting ( 23 ) ;
3209: LD_ADDR_EXP 33
3213: PUSH
3214: LD_INT 23
3216: PPUSH
3217: CALL_OW 426
3221: ST_TO_ADDR
// def_public_score = GetMultiplayerSetting ( 24 ) ;
3222: LD_ADDR_EXP 34
3226: PUSH
3227: LD_INT 24
3229: PPUSH
3230: CALL_OW 426
3234: ST_TO_ADDR
// def_kings_age = GetMultiplayerSetting ( 25 ) ;
3235: LD_ADDR_EXP 35
3239: PUSH
3240: LD_INT 25
3242: PPUSH
3243: CALL_OW 426
3247: ST_TO_ADDR
// def_warForTerritory = GetMultiplayerSetting ( 26 ) ;
3248: LD_ADDR_EXP 36
3252: PUSH
3253: LD_INT 26
3255: PPUSH
3256: CALL_OW 426
3260: ST_TO_ADDR
// def_shared_vision = true ;
3261: LD_ADDR_EXP 19
3265: PUSH
3266: LD_INT 1
3268: ST_TO_ADDR
// end else
3269: GO 3279
// begin randomizeAll ;
3271: CALL_OW 11
// SimMPOptions ;
3275: CALL 1953 0 0
// end ; if Game_Type in GT_RankedGames then
3279: LD_EXP 1
3283: PUSH
3284: LD_EXP 7
3288: IN
3289: IFFALSE 3305
// def_game_rules = def_game_rules + 1 ;
3291: LD_ADDR_EXP 9
3295: PUSH
3296: LD_EXP 9
3300: PUSH
3301: LD_INT 1
3303: PLUS
3304: ST_TO_ADDR
// end ;
3305: LD_VAR 0 1
3309: RET
// function mp_sides_comps ; var c , i ; begin
3310: LD_INT 0
3312: PPUSH
3313: PPUSH
3314: PPUSH
// c = [ ] ;
3315: LD_ADDR_VAR 0 2
3319: PUSH
3320: EMPTY
3321: ST_TO_ADDR
// for i = 1 to 8 do
3322: LD_ADDR_VAR 0 3
3326: PUSH
3327: DOUBLE
3328: LD_INT 1
3330: DEC
3331: ST_TO_ADDR
3332: LD_INT 8
3334: PUSH
3335: FOR_TO
3336: IFFALSE 3361
// c = c ^ Multiplayer_GetPlayerIsComp ( i ) ;
3338: LD_ADDR_VAR 0 2
3342: PUSH
3343: LD_VAR 0 2
3347: PUSH
3348: LD_VAR 0 3
3352: PPUSH
3353: CALL_OW 532
3357: ADD
3358: ST_TO_ADDR
3359: GO 3335
3361: POP
3362: POP
// result = c ;
3363: LD_ADDR_VAR 0 1
3367: PUSH
3368: LD_VAR 0 2
3372: ST_TO_ADDR
// end ;
3373: LD_VAR 0 1
3377: RET
// export function standartSets ; begin
3378: LD_INT 0
3380: PPUSH
// if Game_Type in GT_Survival then
3381: LD_EXP 1
3385: PUSH
3386: LD_EXP 6
3390: IN
3391: IFFALSE 3534
// begin base_level = [ 1 , 1 , 1 , 2 ] ;
3393: LD_ADDR_EXP 37
3397: PUSH
3398: LD_INT 1
3400: PUSH
3401: LD_INT 1
3403: PUSH
3404: LD_INT 1
3406: PUSH
3407: LD_INT 2
3409: PUSH
3410: EMPTY
3411: LIST
3412: LIST
3413: LIST
3414: LIST
3415: ST_TO_ADDR
// starting_resources := [ [ 1000 , 100 , 100 ] , [ 2000 , 200 , 200 ] , [ 5000 , 500 , 500 ] , [ 10000 , 1000 , 1000 ] , [ 25000 , 2500 , 2500 ] , [ 50000 , 5000 , 5000 ] ] ;
3416: LD_ADDR_EXP 44
3420: PUSH
3421: LD_INT 1000
3423: PUSH
3424: LD_INT 100
3426: PUSH
3427: LD_INT 100
3429: PUSH
3430: EMPTY
3431: LIST
3432: LIST
3433: LIST
3434: PUSH
3435: LD_INT 2000
3437: PUSH
3438: LD_INT 200
3440: PUSH
3441: LD_INT 200
3443: PUSH
3444: EMPTY
3445: LIST
3446: LIST
3447: LIST
3448: PUSH
3449: LD_INT 5000
3451: PUSH
3452: LD_INT 500
3454: PUSH
3455: LD_INT 500
3457: PUSH
3458: EMPTY
3459: LIST
3460: LIST
3461: LIST
3462: PUSH
3463: LD_INT 10000
3465: PUSH
3466: LD_INT 1000
3468: PUSH
3469: LD_INT 1000
3471: PUSH
3472: EMPTY
3473: LIST
3474: LIST
3475: LIST
3476: PUSH
3477: LD_INT 25000
3479: PUSH
3480: LD_INT 2500
3482: PUSH
3483: LD_INT 2500
3485: PUSH
3486: EMPTY
3487: LIST
3488: LIST
3489: LIST
3490: PUSH
3491: LD_INT 50000
3493: PUSH
3494: LD_INT 5000
3496: PUSH
3497: LD_INT 5000
3499: PUSH
3500: EMPTY
3501: LIST
3502: LIST
3503: LIST
3504: PUSH
3505: EMPTY
3506: LIST
3507: LIST
3508: LIST
3509: LIST
3510: LIST
3511: LIST
3512: ST_TO_ADDR
// starting_crates := [ [ ] , [ ] , [ ] , [ ] ] ;
3513: LD_ADDR_EXP 43
3517: PUSH
3518: EMPTY
3519: PUSH
3520: EMPTY
3521: PUSH
3522: EMPTY
3523: PUSH
3524: EMPTY
3525: PUSH
3526: EMPTY
3527: LIST
3528: LIST
3529: LIST
3530: LIST
3531: ST_TO_ADDR
// end else
3532: GO 3687
// begin base_level = [ 0 , 1 , 1 , 1 , 2 ] ;
3534: LD_ADDR_EXP 37
3538: PUSH
3539: LD_INT 0
3541: PUSH
3542: LD_INT 1
3544: PUSH
3545: LD_INT 1
3547: PUSH
3548: LD_INT 1
3550: PUSH
3551: LD_INT 2
3553: PUSH
3554: EMPTY
3555: LIST
3556: LIST
3557: LIST
3558: LIST
3559: LIST
3560: ST_TO_ADDR
// starting_resources := [ [ 0 , 0 , 0 ] , [ 30 , 0 , 0 ] , [ 50 , 20 , 0 ] , [ 80 , 40 , 20 ] ] ;
3561: LD_ADDR_EXP 44
3565: PUSH
3566: LD_INT 0
3568: PUSH
3569: LD_INT 0
3571: PUSH
3572: LD_INT 0
3574: PUSH
3575: EMPTY
3576: LIST
3577: LIST
3578: LIST
3579: PUSH
3580: LD_INT 30
3582: PUSH
3583: LD_INT 0
3585: PUSH
3586: LD_INT 0
3588: PUSH
3589: EMPTY
3590: LIST
3591: LIST
3592: LIST
3593: PUSH
3594: LD_INT 50
3596: PUSH
3597: LD_INT 20
3599: PUSH
3600: LD_INT 0
3602: PUSH
3603: EMPTY
3604: LIST
3605: LIST
3606: LIST
3607: PUSH
3608: LD_INT 80
3610: PUSH
3611: LD_INT 40
3613: PUSH
3614: LD_INT 20
3616: PUSH
3617: EMPTY
3618: LIST
3619: LIST
3620: LIST
3621: PUSH
3622: EMPTY
3623: LIST
3624: LIST
3625: LIST
3626: LIST
3627: ST_TO_ADDR
// starting_crates := [ [ 10 ] , [ 7 , 14 ] , [ 6 , 12 , 18 ] , [ 5 , 10 , 15 , 20 ] ] ;
3628: LD_ADDR_EXP 43
3632: PUSH
3633: LD_INT 10
3635: PUSH
3636: EMPTY
3637: LIST
3638: PUSH
3639: LD_INT 7
3641: PUSH
3642: LD_INT 14
3644: PUSH
3645: EMPTY
3646: LIST
3647: LIST
3648: PUSH
3649: LD_INT 6
3651: PUSH
3652: LD_INT 12
3654: PUSH
3655: LD_INT 18
3657: PUSH
3658: EMPTY
3659: LIST
3660: LIST
3661: LIST
3662: PUSH
3663: LD_INT 5
3665: PUSH
3666: LD_INT 10
3668: PUSH
3669: LD_INT 15
3671: PUSH
3672: LD_INT 20
3674: PUSH
3675: EMPTY
3676: LIST
3677: LIST
3678: LIST
3679: LIST
3680: PUSH
3681: EMPTY
3682: LIST
3683: LIST
3684: LIST
3685: LIST
3686: ST_TO_ADDR
// end ; number_of_people = [ 4 , 5 , 6 , 7 , 8 , 9 , 10 , 11 , 12 , 13 , 14 , 15 , 16 , 17 , 18 , 19 , 20 , 21 , 22 , 23 , 24 ] ;
3687: LD_ADDR_EXP 40
3691: PUSH
3692: LD_INT 4
3694: PUSH
3695: LD_INT 5
3697: PUSH
3698: LD_INT 6
3700: PUSH
3701: LD_INT 7
3703: PUSH
3704: LD_INT 8
3706: PUSH
3707: LD_INT 9
3709: PUSH
3710: LD_INT 10
3712: PUSH
3713: LD_INT 11
3715: PUSH
3716: LD_INT 12
3718: PUSH
3719: LD_INT 13
3721: PUSH
3722: LD_INT 14
3724: PUSH
3725: LD_INT 15
3727: PUSH
3728: LD_INT 16
3730: PUSH
3731: LD_INT 17
3733: PUSH
3734: LD_INT 18
3736: PUSH
3737: LD_INT 19
3739: PUSH
3740: LD_INT 20
3742: PUSH
3743: LD_INT 21
3745: PUSH
3746: LD_INT 22
3748: PUSH
3749: LD_INT 23
3751: PUSH
3752: LD_INT 24
3754: PUSH
3755: EMPTY
3756: LIST
3757: LIST
3758: LIST
3759: LIST
3760: LIST
3761: LIST
3762: LIST
3763: LIST
3764: LIST
3765: LIST
3766: LIST
3767: LIST
3768: LIST
3769: LIST
3770: LIST
3771: LIST
3772: LIST
3773: LIST
3774: LIST
3775: LIST
3776: LIST
3777: ST_TO_ADDR
// number_of_apemen = [ 0 , 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 , 9 , 10 , 11 , 12 ] ;
3778: LD_ADDR_EXP 41
3782: PUSH
3783: LD_INT 0
3785: PUSH
3786: LD_INT 1
3788: PUSH
3789: LD_INT 2
3791: PUSH
3792: LD_INT 3
3794: PUSH
3795: LD_INT 4
3797: PUSH
3798: LD_INT 5
3800: PUSH
3801: LD_INT 6
3803: PUSH
3804: LD_INT 7
3806: PUSH
3807: LD_INT 8
3809: PUSH
3810: LD_INT 9
3812: PUSH
3813: LD_INT 10
3815: PUSH
3816: LD_INT 11
3818: PUSH
3819: LD_INT 12
3821: PUSH
3822: EMPTY
3823: LIST
3824: LIST
3825: LIST
3826: LIST
3827: LIST
3828: LIST
3829: LIST
3830: LIST
3831: LIST
3832: LIST
3833: LIST
3834: LIST
3835: LIST
3836: ST_TO_ADDR
// initial_level = [ 2 , 3 , 4 , 5 ] ;
3837: LD_ADDR_EXP 42
3841: PUSH
3842: LD_INT 2
3844: PUSH
3845: LD_INT 3
3847: PUSH
3848: LD_INT 4
3850: PUSH
3851: LD_INT 5
3853: PUSH
3854: EMPTY
3855: LIST
3856: LIST
3857: LIST
3858: LIST
3859: ST_TO_ADDR
// if def_game_rules then
3860: LD_EXP 9
3864: IFFALSE 3876
// tech_level = 8 else
3866: LD_ADDR_EXP 56
3870: PUSH
3871: LD_INT 8
3873: ST_TO_ADDR
3874: GO 3914
// if game_type in GT_mine then
3876: LD_EXP 1
3880: PUSH
3881: LD_EXP 2
3885: IN
3886: IFFALSE 3904
// tech_level = def_tech_level + 4 else
3888: LD_ADDR_EXP 56
3892: PUSH
3893: LD_EXP 26
3897: PUSH
3898: LD_INT 4
3900: PLUS
3901: ST_TO_ADDR
3902: GO 3914
// Tech_Level = def_tech_level ;
3904: LD_ADDR_EXP 56
3908: PUSH
3909: LD_EXP 26
3913: ST_TO_ADDR
// Hustota_Zasilek ;
3914: CALL 2185 0 0
// spawning_koef_of_apemen = [ 0 , 5 , 10 , 15 ] ;
3918: LD_ADDR_EXP 47
3922: PUSH
3923: LD_INT 0
3925: PUSH
3926: LD_INT 5
3928: PUSH
3929: LD_INT 10
3931: PUSH
3932: LD_INT 15
3934: PUSH
3935: EMPTY
3936: LIST
3937: LIST
3938: LIST
3939: LIST
3940: ST_TO_ADDR
// spawning_koef_of_tiger = [ 0 , 5 , 10 , 15 ] ;
3941: LD_ADDR_EXP 48
3945: PUSH
3946: LD_INT 0
3948: PUSH
3949: LD_INT 5
3951: PUSH
3952: LD_INT 10
3954: PUSH
3955: LD_INT 15
3957: PUSH
3958: EMPTY
3959: LIST
3960: LIST
3961: LIST
3962: LIST
3963: ST_TO_ADDR
// respawning_time_min = [ 8 8$0 , 3 3$00 , 1 1$00 ] ;
3964: LD_ADDR_EXP 49
3968: PUSH
3969: LD_INT 16800
3971: PUSH
3972: LD_INT 6300
3974: PUSH
3975: LD_INT 2100
3977: PUSH
3978: EMPTY
3979: LIST
3980: LIST
3981: LIST
3982: ST_TO_ADDR
// respawning_time_max = [ 10 10$10 , 6 6$00 , 2 2$00 ] ;
3983: LD_ADDR_EXP 51
3987: PUSH
3988: LD_INT 21350
3990: PUSH
3991: LD_INT 12600
3993: PUSH
3994: LD_INT 4200
3996: PUSH
3997: EMPTY
3998: LIST
3999: LIST
4000: LIST
4001: ST_TO_ADDR
// respawning_time_delay_min = [ 0 0$45 , 0 0$30 , 0 0$15 ] ;
4002: LD_ADDR_EXP 53
4006: PUSH
4007: LD_INT 1575
4009: PUSH
4010: LD_INT 1050
4012: PUSH
4013: LD_INT 525
4015: PUSH
4016: EMPTY
4017: LIST
4018: LIST
4019: LIST
4020: ST_TO_ADDR
// respawning_time_delay_max = [ 1 1$00 , 0 0$45 , 0 0$30 ] ;
4021: LD_ADDR_EXP 54
4025: PUSH
4026: LD_INT 2100
4028: PUSH
4029: LD_INT 1575
4031: PUSH
4032: LD_INT 1050
4034: PUSH
4035: EMPTY
4036: LIST
4037: LIST
4038: LIST
4039: ST_TO_ADDR
// daily_start = [ [ 4 4$00 , 7 7$00 ] , [ 8 8$00 , 12 12$00 ] , [ 13 13$00 , 17 17$00 ] , [ 18 18$00 , 22 22$00 ] , [ 23 23$00 , 27 27$00 ] ] ;
4040: LD_ADDR_EXP 58
4044: PUSH
4045: LD_INT 8400
4047: PUSH
4048: LD_INT 14700
4050: PUSH
4051: EMPTY
4052: LIST
4053: LIST
4054: PUSH
4055: LD_INT 16800
4057: PUSH
4058: LD_INT 25200
4060: PUSH
4061: EMPTY
4062: LIST
4063: LIST
4064: PUSH
4065: LD_INT 27300
4067: PUSH
4068: LD_INT 35700
4070: PUSH
4071: EMPTY
4072: LIST
4073: LIST
4074: PUSH
4075: LD_INT 37800
4077: PUSH
4078: LD_INT 46200
4080: PUSH
4081: EMPTY
4082: LIST
4083: LIST
4084: PUSH
4085: LD_INT 48300
4087: PUSH
4088: LD_INT 56700
4090: PUSH
4091: EMPTY
4092: LIST
4093: LIST
4094: PUSH
4095: EMPTY
4096: LIST
4097: LIST
4098: LIST
4099: LIST
4100: LIST
4101: ST_TO_ADDR
// daily_speed = [ 0 0$59 , 0 0$25 , 0 0$9 , 0 0$2 , 0 ] ;
4102: LD_ADDR_EXP 59
4106: PUSH
4107: LD_INT 2065
4109: PUSH
4110: LD_INT 875
4112: PUSH
4113: LD_INT 315
4115: PUSH
4116: LD_INT 70
4118: PUSH
4119: LD_INT 0
4121: PUSH
4122: EMPTY
4123: LIST
4124: LIST
4125: LIST
4126: LIST
4127: LIST
4128: ST_TO_ADDR
// TimePhase = [ 4 4$00 , 6 6$00 , 7 7$00 , 8 8$00 , 12 12$00 , 17 17$00 , 18 18$00 , 19 19$00 , 20 20$00 , 22 22$00 ] ;
4129: LD_ADDR_EXP 60
4133: PUSH
4134: LD_INT 8400
4136: PUSH
4137: LD_INT 12600
4139: PUSH
4140: LD_INT 14700
4142: PUSH
4143: LD_INT 16800
4145: PUSH
4146: LD_INT 25200
4148: PUSH
4149: LD_INT 35700
4151: PUSH
4152: LD_INT 37800
4154: PUSH
4155: LD_INT 39900
4157: PUSH
4158: LD_INT 42000
4160: PUSH
4161: LD_INT 46200
4163: PUSH
4164: EMPTY
4165: LIST
4166: LIST
4167: LIST
4168: LIST
4169: LIST
4170: LIST
4171: LIST
4172: LIST
4173: LIST
4174: LIST
4175: ST_TO_ADDR
// DailyPhase = [ colors1.txt , colors2.txt , colors3.txt , colors4.txt , colors5.txt , colors6.txt ] ;
4176: LD_ADDR_EXP 61
4180: PUSH
4181: LD_STRING colors1.txt
4183: PUSH
4184: LD_STRING colors2.txt
4186: PUSH
4187: LD_STRING colors3.txt
4189: PUSH
4190: LD_STRING colors4.txt
4192: PUSH
4193: LD_STRING colors5.txt
4195: PUSH
4196: LD_STRING colors6.txt
4198: PUSH
4199: EMPTY
4200: LIST
4201: LIST
4202: LIST
4203: LIST
4204: LIST
4205: LIST
4206: ST_TO_ADDR
// morale_decreasing_time = [ - 1 , 0 0$10 , 0 0$20 , 0 0$40 , 0 0$0 ] ;
4207: LD_ADDR_EXP 46
4211: PUSH
4212: LD_INT 1
4214: NEG
4215: PUSH
4216: LD_INT 350
4218: PUSH
4219: LD_INT 700
4221: PUSH
4222: LD_INT 1400
4224: PUSH
4225: LD_INT 0
4227: PUSH
4228: EMPTY
4229: LIST
4230: LIST
4231: LIST
4232: LIST
4233: LIST
4234: ST_TO_ADDR
// final_count = [ 0 , 200 , 300 , 500 , 700 , 1000 , 1500 , 2000 ] ;
4235: LD_ADDR_EXP 57
4239: PUSH
4240: LD_INT 0
4242: PUSH
4243: LD_INT 200
4245: PUSH
4246: LD_INT 300
4248: PUSH
4249: LD_INT 500
4251: PUSH
4252: LD_INT 700
4254: PUSH
4255: LD_INT 1000
4257: PUSH
4258: LD_INT 1500
4260: PUSH
4261: LD_INT 2000
4263: PUSH
4264: EMPTY
4265: LIST
4266: LIST
4267: LIST
4268: LIST
4269: LIST
4270: LIST
4271: LIST
4272: LIST
4273: ST_TO_ADDR
// WarForTerritory_flags = [ 0 , 3 , 4 , 5 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
4274: LD_ADDR_EXP 65
4278: PUSH
4279: LD_INT 0
4281: PUSH
4282: LD_INT 3
4284: PUSH
4285: LD_INT 4
4287: PUSH
4288: LD_INT 5
4290: PUSH
4291: LD_INT 0
4293: PUSH
4294: LD_INT 0
4296: PUSH
4297: LD_INT 0
4299: PUSH
4300: LD_INT 0
4302: PUSH
4303: LD_INT 0
4305: PUSH
4306: LD_INT 0
4308: PUSH
4309: LD_INT 0
4311: PUSH
4312: EMPTY
4313: LIST
4314: LIST
4315: LIST
4316: LIST
4317: LIST
4318: LIST
4319: LIST
4320: LIST
4321: LIST
4322: LIST
4323: LIST
4324: ST_TO_ADDR
// WarForTerritory_Points = [ 0 , 0 , 0 , 0 , 200 , 300 , 500 , 700 , 1000 , 1500 , 2000 ] ;
4325: LD_ADDR_EXP 64
4329: PUSH
4330: LD_INT 0
4332: PUSH
4333: LD_INT 0
4335: PUSH
4336: LD_INT 0
4338: PUSH
4339: LD_INT 0
4341: PUSH
4342: LD_INT 200
4344: PUSH
4345: LD_INT 300
4347: PUSH
4348: LD_INT 500
4350: PUSH
4351: LD_INT 700
4353: PUSH
4354: LD_INT 1000
4356: PUSH
4357: LD_INT 1500
4359: PUSH
4360: LD_INT 2000
4362: PUSH
4363: EMPTY
4364: LIST
4365: LIST
4366: LIST
4367: LIST
4368: LIST
4369: LIST
4370: LIST
4371: LIST
4372: LIST
4373: LIST
4374: LIST
4375: ST_TO_ADDR
// Position_Sides := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
4376: LD_ADDR_EXP 62
4380: PUSH
4381: LD_INT 0
4383: PUSH
4384: LD_INT 0
4386: PUSH
4387: LD_INT 0
4389: PUSH
4390: LD_INT 0
4392: PUSH
4393: LD_INT 0
4395: PUSH
4396: LD_INT 0
4398: PUSH
4399: LD_INT 0
4401: PUSH
4402: LD_INT 0
4404: PUSH
4405: EMPTY
4406: LIST
4407: LIST
4408: LIST
4409: LIST
4410: LIST
4411: LIST
4412: LIST
4413: LIST
4414: ST_TO_ADDR
// buildUpTime_Delay := [ 0 , 5 5$00 , 10 10$00 , 15 15$00 ] ;
4415: LD_ADDR_EXP 66
4419: PUSH
4420: LD_INT 0
4422: PUSH
4423: LD_INT 10500
4425: PUSH
4426: LD_INT 21000
4428: PUSH
4429: LD_INT 31500
4431: PUSH
4432: EMPTY
4433: LIST
4434: LIST
4435: LIST
4436: LIST
4437: ST_TO_ADDR
// siberite_bomb_Delay := [ 0 , 1 , 30 30$00 , 60 60$00 , 90 90$00 , 120 120$00 ] ;
4438: LD_ADDR_EXP 67
4442: PUSH
4443: LD_INT 0
4445: PUSH
4446: LD_INT 1
4448: PUSH
4449: LD_INT 63000
4451: PUSH
4452: LD_INT 126000
4454: PUSH
4455: LD_INT 189000
4457: PUSH
4458: LD_INT 252000
4460: PUSH
4461: EMPTY
4462: LIST
4463: LIST
4464: LIST
4465: LIST
4466: LIST
4467: LIST
4468: ST_TO_ADDR
// end ;
4469: LD_VAR 0 1
4473: RET
// export function init_map ; var i ; begin
4474: LD_INT 0
4476: PPUSH
4477: PPUSH
// base_level = base_level [ def_base_level + 1 ] ;
4478: LD_ADDR_EXP 37
4482: PUSH
4483: LD_EXP 37
4487: PUSH
4488: LD_EXP 10
4492: PUSH
4493: LD_INT 1
4495: PLUS
4496: ARRAY
4497: ST_TO_ADDR
// number_of_people = number_of_people [ def_amount_of_people + 1 ] ;
4498: LD_ADDR_EXP 40
4502: PUSH
4503: LD_EXP 40
4507: PUSH
4508: LD_EXP 11
4512: PUSH
4513: LD_INT 1
4515: PLUS
4516: ARRAY
4517: ST_TO_ADDR
// number_of_apemen = number_of_apemen [ def_amount_of_apemen_in_team + 1 ] ;
4518: LD_ADDR_EXP 41
4522: PUSH
4523: LD_EXP 41
4527: PUSH
4528: LD_EXP 12
4532: PUSH
4533: LD_INT 1
4535: PLUS
4536: ARRAY
4537: ST_TO_ADDR
// initial_level = initial_level [ def_initial_level + 1 ] ;
4538: LD_ADDR_EXP 42
4542: PUSH
4543: LD_EXP 42
4547: PUSH
4548: LD_EXP 13
4552: PUSH
4553: LD_INT 1
4555: PLUS
4556: ARRAY
4557: ST_TO_ADDR
// starting_resources = starting_resources [ def_starting_resources + 1 ] ;
4558: LD_ADDR_EXP 44
4562: PUSH
4563: LD_EXP 44
4567: PUSH
4568: LD_EXP 15
4572: PUSH
4573: LD_INT 1
4575: PLUS
4576: ARRAY
4577: ST_TO_ADDR
// starting_crates = starting_crates [ def_starting_resources + 1 ] ;
4578: LD_ADDR_EXP 43
4582: PUSH
4583: LD_EXP 43
4587: PUSH
4588: LD_EXP 15
4592: PUSH
4593: LD_INT 1
4595: PLUS
4596: ARRAY
4597: ST_TO_ADDR
// Tech_Level = def_tech_level ;
4598: LD_ADDR_EXP 56
4602: PUSH
4603: LD_EXP 26
4607: ST_TO_ADDR
// Hustota_Zasilek ;
4608: CALL 2185 0 0
// spawning_koef_of_apemen = spawning_koef_of_apemen [ def_amount_of_apemen + 1 ] ;
4612: LD_ADDR_EXP 47
4616: PUSH
4617: LD_EXP 47
4621: PUSH
4622: LD_EXP 22
4626: PUSH
4627: LD_INT 1
4629: PLUS
4630: ARRAY
4631: ST_TO_ADDR
// spawning_koef_of_tiger = spawning_koef_of_tiger [ def_amount_of_tiger + 1 ] ;
4632: LD_ADDR_EXP 48
4636: PUSH
4637: LD_EXP 48
4641: PUSH
4642: LD_EXP 23
4646: PUSH
4647: LD_INT 1
4649: PLUS
4650: ARRAY
4651: ST_TO_ADDR
// respawning_time_min = respawning_time_min [ def_people_respawning + 1 ] ;
4652: LD_ADDR_EXP 49
4656: PUSH
4657: LD_EXP 49
4661: PUSH
4662: LD_EXP 25
4666: PUSH
4667: LD_INT 1
4669: PLUS
4670: ARRAY
4671: ST_TO_ADDR
// respawning_time_max = respawning_time_max [ def_people_respawning + 1 ] ;
4672: LD_ADDR_EXP 51
4676: PUSH
4677: LD_EXP 51
4681: PUSH
4682: LD_EXP 25
4686: PUSH
4687: LD_INT 1
4689: PLUS
4690: ARRAY
4691: ST_TO_ADDR
// respawning_time_delay_min = respawning_time_delay_min [ def_people_respawning + 1 ] ;
4692: LD_ADDR_EXP 53
4696: PUSH
4697: LD_EXP 53
4701: PUSH
4702: LD_EXP 25
4706: PUSH
4707: LD_INT 1
4709: PLUS
4710: ARRAY
4711: ST_TO_ADDR
// respawning_time_delay_max = respawning_time_delay_max [ def_people_respawning + 1 ] ;
4712: LD_ADDR_EXP 54
4716: PUSH
4717: LD_EXP 54
4721: PUSH
4722: LD_EXP 25
4726: PUSH
4727: LD_INT 1
4729: PLUS
4730: ARRAY
4731: ST_TO_ADDR
// daily_start = daily_start [ def_daily_start + 1 ] ;
4732: LD_ADDR_EXP 58
4736: PUSH
4737: LD_EXP 58
4741: PUSH
4742: LD_EXP 32
4746: PUSH
4747: LD_INT 1
4749: PLUS
4750: ARRAY
4751: ST_TO_ADDR
// daily_speed = daily_speed [ def_daily_speed + 1 ] ;
4752: LD_ADDR_EXP 59
4756: PUSH
4757: LD_EXP 59
4761: PUSH
4762: LD_EXP 33
4766: PUSH
4767: LD_INT 1
4769: PLUS
4770: ARRAY
4771: ST_TO_ADDR
// morale_decreasing_time = morale_decreasing_time [ def_morale_flags + 1 ] ;
4772: LD_ADDR_EXP 46
4776: PUSH
4777: LD_EXP 46
4781: PUSH
4782: LD_EXP 20
4786: PUSH
4787: LD_INT 1
4789: PLUS
4790: ARRAY
4791: ST_TO_ADDR
// battle_flags_id = [ ] ;
4792: LD_ADDR_EXP 89
4796: PUSH
4797: EMPTY
4798: ST_TO_ADDR
// heroes = [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
4799: LD_ADDR_EXP 50
4803: PUSH
4804: EMPTY
4805: PUSH
4806: EMPTY
4807: PUSH
4808: EMPTY
4809: PUSH
4810: EMPTY
4811: PUSH
4812: EMPTY
4813: PUSH
4814: EMPTY
4815: PUSH
4816: EMPTY
4817: PUSH
4818: EMPTY
4819: PUSH
4820: EMPTY
4821: LIST
4822: LIST
4823: LIST
4824: LIST
4825: LIST
4826: LIST
4827: LIST
4828: LIST
4829: ST_TO_ADDR
// final_count = final_count [ def_kings_age + 1 ] ;
4830: LD_ADDR_EXP 57
4834: PUSH
4835: LD_EXP 57
4839: PUSH
4840: LD_EXP 35
4844: PUSH
4845: LD_INT 1
4847: PLUS
4848: ARRAY
4849: ST_TO_ADDR
// WarForTerritory_flags = WarForTerritory_flags [ def_warForTerritory + 1 ] ;
4850: LD_ADDR_EXP 65
4854: PUSH
4855: LD_EXP 65
4859: PUSH
4860: LD_EXP 36
4864: PUSH
4865: LD_INT 1
4867: PLUS
4868: ARRAY
4869: ST_TO_ADDR
// WarForTerritory_Points = WarForTerritory_Points [ def_warForTerritory + 1 ] ;
4870: LD_ADDR_EXP 64
4874: PUSH
4875: LD_EXP 64
4879: PUSH
4880: LD_EXP 36
4884: PUSH
4885: LD_INT 1
4887: PLUS
4888: ARRAY
4889: ST_TO_ADDR
// buildUpTime_Delay := buildUpTime_Delay [ def_builduptime + 1 ] ;
4890: LD_ADDR_EXP 66
4894: PUSH
4895: LD_EXP 66
4899: PUSH
4900: LD_EXP 30
4904: PUSH
4905: LD_INT 1
4907: PLUS
4908: ARRAY
4909: ST_TO_ADDR
// siberite_bomb_Delay := siberite_bomb_Delay [ def_siberite_bomb + 1 ] ;
4910: LD_ADDR_EXP 67
4914: PUSH
4915: LD_EXP 67
4919: PUSH
4920: LD_EXP 29
4924: PUSH
4925: LD_INT 1
4927: PLUS
4928: ARRAY
4929: ST_TO_ADDR
// for i = 1 to depot_def + 0 do
4930: LD_ADDR_VAR 0 2
4934: PUSH
4935: DOUBLE
4936: LD_INT 1
4938: DEC
4939: ST_TO_ADDR
4940: LD_EXP 81
4944: PUSH
4945: LD_INT 0
4947: PLUS
4948: PUSH
4949: FOR_TO
4950: IFFALSE 5056
// start_def := start_def ^ [ [ ShiftX ( depot_def [ i ] [ 1 ] , depot_def [ i ] [ 3 ] mod 6 , 6 ) , ShiftY ( depot_def [ i ] [ 2 ] , depot_def [ i ] [ 3 ] mod 6 , 6 ) ] ] ;
4952: LD_ADDR_EXP 83
4956: PUSH
4957: LD_EXP 83
4961: PUSH
4962: LD_EXP 81
4966: PUSH
4967: LD_VAR 0 2
4971: ARRAY
4972: PUSH
4973: LD_INT 1
4975: ARRAY
4976: PPUSH
4977: LD_EXP 81
4981: PUSH
4982: LD_VAR 0 2
4986: ARRAY
4987: PUSH
4988: LD_INT 3
4990: ARRAY
4991: PUSH
4992: LD_INT 6
4994: MOD
4995: PPUSH
4996: LD_INT 6
4998: PPUSH
4999: CALL_OW 272
5003: PUSH
5004: LD_EXP 81
5008: PUSH
5009: LD_VAR 0 2
5013: ARRAY
5014: PUSH
5015: LD_INT 2
5017: ARRAY
5018: PPUSH
5019: LD_EXP 81
5023: PUSH
5024: LD_VAR 0 2
5028: ARRAY
5029: PUSH
5030: LD_INT 3
5032: ARRAY
5033: PUSH
5034: LD_INT 6
5036: MOD
5037: PPUSH
5038: LD_INT 6
5040: PPUSH
5041: CALL_OW 273
5045: PUSH
5046: EMPTY
5047: LIST
5048: LIST
5049: PUSH
5050: EMPTY
5051: LIST
5052: ADD
5053: ST_TO_ADDR
5054: GO 4949
5056: POP
5057: POP
// if not Game_Type in GT_Survival then
5058: LD_EXP 1
5062: PUSH
5063: LD_EXP 6
5067: IN
5068: NOT
5069: IFFALSE 5251
// begin for i in oil_deposits_locations do
5071: LD_ADDR_VAR 0 2
5075: PUSH
5076: LD_EXP 86
5080: PUSH
5081: FOR_IN
5082: IFFALSE 5111
// CreateDepositXY ( i [ 1 ] , i [ 2 ] , mat_oil ) ;
5084: LD_VAR 0 2
5088: PUSH
5089: LD_INT 1
5091: ARRAY
5092: PPUSH
5093: LD_VAR 0 2
5097: PUSH
5098: LD_INT 2
5100: ARRAY
5101: PPUSH
5102: LD_INT 2
5104: PPUSH
5105: CALL_OW 62
5109: GO 5081
5111: POP
5112: POP
// for i in siberite_deposits_locations do
5113: LD_ADDR_VAR 0 2
5117: PUSH
5118: LD_EXP 88
5122: PUSH
5123: FOR_IN
5124: IFFALSE 5153
// CreateDepositXY ( i [ 1 ] , i [ 2 ] , mat_siberit ) ;
5126: LD_VAR 0 2
5130: PUSH
5131: LD_INT 1
5133: ARRAY
5134: PPUSH
5135: LD_VAR 0 2
5139: PUSH
5140: LD_INT 2
5142: ARRAY
5143: PPUSH
5144: LD_INT 3
5146: PPUSH
5147: CALL_OW 62
5151: GO 5123
5153: POP
5154: POP
// if def_extra_oil_deposits then
5155: LD_EXP 17
5159: IFFALSE 5203
// for i in extra_oil_deposits_locations do
5161: LD_ADDR_VAR 0 2
5165: PUSH
5166: LD_EXP 85
5170: PUSH
5171: FOR_IN
5172: IFFALSE 5201
// CreateDepositXY ( i [ 1 ] , i [ 2 ] , mat_oil ) ;
5174: LD_VAR 0 2
5178: PUSH
5179: LD_INT 1
5181: ARRAY
5182: PPUSH
5183: LD_VAR 0 2
5187: PUSH
5188: LD_INT 2
5190: ARRAY
5191: PPUSH
5192: LD_INT 2
5194: PPUSH
5195: CALL_OW 62
5199: GO 5171
5201: POP
5202: POP
// if def_extra_sib_deposits then
5203: LD_EXP 18
5207: IFFALSE 5251
// for i in extra_sib_deposits_locations do
5209: LD_ADDR_VAR 0 2
5213: PUSH
5214: LD_EXP 87
5218: PUSH
5219: FOR_IN
5220: IFFALSE 5249
// CreateDepositXY ( i [ 1 ] , i [ 2 ] , mat_siberit ) ;
5222: LD_VAR 0 2
5226: PUSH
5227: LD_INT 1
5229: ARRAY
5230: PPUSH
5231: LD_VAR 0 2
5235: PUSH
5236: LD_INT 2
5238: ARRAY
5239: PPUSH
5240: LD_INT 3
5242: PPUSH
5243: CALL_OW 62
5247: GO 5219
5249: POP
5250: POP
// end ; for i := 1 to 8 do
5251: LD_ADDR_VAR 0 2
5255: PUSH
5256: DOUBLE
5257: LD_INT 1
5259: DEC
5260: ST_TO_ADDR
5261: LD_INT 8
5263: PUSH
5264: FOR_TO
5265: IFFALSE 5312
// if Side_Positions [ i ] then
5267: LD_EXP 75
5271: PUSH
5272: LD_VAR 0 2
5276: ARRAY
5277: IFFALSE 5310
// Position_Sides := Replace ( Position_Sides , Side_Positions [ i ] , i ) ;
5279: LD_ADDR_EXP 62
5283: PUSH
5284: LD_EXP 62
5288: PPUSH
5289: LD_EXP 75
5293: PUSH
5294: LD_VAR 0 2
5298: ARRAY
5299: PPUSH
5300: LD_VAR 0 2
5304: PPUSH
5305: CALL_OW 1
5309: ST_TO_ADDR
5310: GO 5264
5312: POP
5313: POP
// end ;
5314: LD_VAR 0 1
5318: RET
// export function set_shared_visions_and_alliances ; var i , j ; begin
5319: LD_INT 0
5321: PPUSH
5322: PPUSH
5323: PPUSH
// Team_Game := ( Side_Teams diff [ 0 ] ) > 1 ;
5324: LD_ADDR_EXP 80
5328: PUSH
5329: LD_EXP 72
5333: PUSH
5334: LD_INT 0
5336: PUSH
5337: EMPTY
5338: LIST
5339: DIFF
5340: PUSH
5341: LD_INT 1
5343: GREATER
5344: ST_TO_ADDR
// if not Team_Game then
5345: LD_EXP 80
5349: NOT
5350: IFFALSE 5448
// begin for i = 1 to 8 do
5352: LD_ADDR_VAR 0 2
5356: PUSH
5357: DOUBLE
5358: LD_INT 1
5360: DEC
5361: ST_TO_ADDR
5362: LD_INT 8
5364: PUSH
5365: FOR_TO
5366: IFFALSE 5444
// for j = 1 to 8 do
5368: LD_ADDR_VAR 0 3
5372: PUSH
5373: DOUBLE
5374: LD_INT 1
5376: DEC
5377: ST_TO_ADDR
5378: LD_INT 8
5380: PUSH
5381: FOR_TO
5382: IFFALSE 5440
// if i <> j then
5384: LD_VAR 0 2
5388: PUSH
5389: LD_VAR 0 3
5393: NONEQUAL
5394: IFFALSE 5418
// SetAttitude ( i , j , att_neutral , true ) else
5396: LD_VAR 0 2
5400: PPUSH
5401: LD_VAR 0 3
5405: PPUSH
5406: LD_INT 0
5408: PPUSH
5409: LD_INT 1
5411: PPUSH
5412: CALL_OW 80
5416: GO 5438
// SetAttitude ( i , j , att_friend , true ) ;
5418: LD_VAR 0 2
5422: PPUSH
5423: LD_VAR 0 3
5427: PPUSH
5428: LD_INT 1
5430: PPUSH
5431: LD_INT 1
5433: PPUSH
5434: CALL_OW 80
5438: GO 5381
5440: POP
5441: POP
5442: GO 5365
5444: POP
5445: POP
// end else
5446: GO 5623
// begin if def_shared_vision then
5448: LD_EXP 19
5452: IFFALSE 5517
// begin for i in Teams do
5454: LD_ADDR_VAR 0 2
5458: PUSH
5459: LD_EXP 73
5463: PUSH
5464: FOR_IN
5465: IFFALSE 5515
// for j = 2 to i do
5467: LD_ADDR_VAR 0 3
5471: PUSH
5472: DOUBLE
5473: LD_INT 2
5475: DEC
5476: ST_TO_ADDR
5477: LD_VAR 0 2
5481: PUSH
5482: FOR_TO
5483: IFFALSE 5511
// ChangeSideFog ( i [ j ] , i [ 1 ] ) ;
5485: LD_VAR 0 2
5489: PUSH
5490: LD_VAR 0 3
5494: ARRAY
5495: PPUSH
5496: LD_VAR 0 2
5500: PUSH
5501: LD_INT 1
5503: ARRAY
5504: PPUSH
5505: CALL_OW 343
5509: GO 5482
5511: POP
5512: POP
5513: GO 5464
5515: POP
5516: POP
// end ; for i = 1 to 8 do
5517: LD_ADDR_VAR 0 2
5521: PUSH
5522: DOUBLE
5523: LD_INT 1
5525: DEC
5526: ST_TO_ADDR
5527: LD_INT 8
5529: PUSH
5530: FOR_TO
5531: IFFALSE 5621
// for j = 1 to 8 do
5533: LD_ADDR_VAR 0 3
5537: PUSH
5538: DOUBLE
5539: LD_INT 1
5541: DEC
5542: ST_TO_ADDR
5543: LD_INT 8
5545: PUSH
5546: FOR_TO
5547: IFFALSE 5617
// if Side_Teams [ i ] = Side_Teams [ j ] then
5549: LD_EXP 72
5553: PUSH
5554: LD_VAR 0 2
5558: ARRAY
5559: PUSH
5560: LD_EXP 72
5564: PUSH
5565: LD_VAR 0 3
5569: ARRAY
5570: EQUAL
5571: IFFALSE 5595
// SetAttitude ( i , j , att_friend , true ) else
5573: LD_VAR 0 2
5577: PPUSH
5578: LD_VAR 0 3
5582: PPUSH
5583: LD_INT 1
5585: PPUSH
5586: LD_INT 1
5588: PPUSH
5589: CALL_OW 80
5593: GO 5615
// SetAttitude ( i , j , att_enemy , true ) ;
5595: LD_VAR 0 2
5599: PPUSH
5600: LD_VAR 0 3
5604: PPUSH
5605: LD_INT 2
5607: PPUSH
5608: LD_INT 1
5610: PPUSH
5611: CALL_OW 80
5615: GO 5546
5617: POP
5618: POP
5619: GO 5530
5621: POP
5622: POP
// end ; end ;
5623: LD_VAR 0 1
5627: RET
// export function prepare_sides ; var i , pos ; begin
5628: LD_INT 0
5630: PPUSH
5631: PPUSH
5632: PPUSH
// global_units = [ ] ;
5633: LD_ADDR_EXP 93
5637: PUSH
5638: EMPTY
5639: ST_TO_ADDR
// global_classes = [ ] ;
5640: LD_ADDR_EXP 97
5644: PUSH
5645: EMPTY
5646: ST_TO_ADDR
// global_defined := false ;
5647: LD_ADDR_EXP 94
5651: PUSH
5652: LD_INT 0
5654: ST_TO_ADDR
// pozice_beden = [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
5655: LD_ADDR_EXP 8
5659: PUSH
5660: EMPTY
5661: PUSH
5662: EMPTY
5663: PUSH
5664: EMPTY
5665: PUSH
5666: EMPTY
5667: PUSH
5668: EMPTY
5669: PUSH
5670: EMPTY
5671: PUSH
5672: EMPTY
5673: PUSH
5674: EMPTY
5675: PUSH
5676: EMPTY
5677: LIST
5678: LIST
5679: LIST
5680: LIST
5681: LIST
5682: LIST
5683: LIST
5684: LIST
5685: ST_TO_ADDR
// for i := 1 to 8 do
5686: LD_ADDR_VAR 0 2
5690: PUSH
5691: DOUBLE
5692: LD_INT 1
5694: DEC
5695: ST_TO_ADDR
5696: LD_INT 8
5698: PUSH
5699: FOR_TO
5700: IFFALSE 6165
// if Side_Positions [ i ] then
5702: LD_EXP 75
5706: PUSH
5707: LD_VAR 0 2
5711: ARRAY
5712: IFFALSE 6163
// begin pos := Side_Positions [ i ] ;
5714: LD_ADDR_VAR 0 3
5718: PUSH
5719: LD_EXP 75
5723: PUSH
5724: LD_VAR 0 2
5728: ARRAY
5729: ST_TO_ADDR
// if Game_Type in GT_DoubleNat ^ GT_DoublePeople then
5730: LD_EXP 1
5734: PUSH
5735: LD_EXP 3
5739: PUSH
5740: LD_EXP 4
5744: ADD
5745: IN
5746: IFFALSE 5956
// begin if Game_Type in GT_DoubleNat then
5748: LD_EXP 1
5752: PUSH
5753: LD_EXP 3
5757: IN
5758: IFFALSE 5862
// begin prepare_side ( i , pos , Position_Nations [ i ] [ 1 ] ) ;
5760: LD_VAR 0 2
5764: PPUSH
5765: LD_VAR 0 3
5769: PPUSH
5770: LD_EXP 52
5774: PUSH
5775: LD_VAR 0 2
5779: ARRAY
5780: PUSH
5781: LD_INT 1
5783: ARRAY
5784: PPUSH
5785: CALL 6545 0 3
// prepare_side ( i , pos + 1 , Position_Nations [ i ] [ 2 ] ) ;
5789: LD_VAR 0 2
5793: PPUSH
5794: LD_VAR 0 3
5798: PUSH
5799: LD_INT 1
5801: PLUS
5802: PPUSH
5803: LD_EXP 52
5807: PUSH
5808: LD_VAR 0 2
5812: ARRAY
5813: PUSH
5814: LD_INT 2
5816: ARRAY
5817: PPUSH
5818: CALL 6545 0 3
// pozice_beden = replace ( pozice_beden , i , [ pos , pos + 1 ] ) ;
5822: LD_ADDR_EXP 8
5826: PUSH
5827: LD_EXP 8
5831: PPUSH
5832: LD_VAR 0 2
5836: PPUSH
5837: LD_VAR 0 3
5841: PUSH
5842: LD_VAR 0 3
5846: PUSH
5847: LD_INT 1
5849: PLUS
5850: PUSH
5851: EMPTY
5852: LIST
5853: LIST
5854: PPUSH
5855: CALL_OW 1
5859: ST_TO_ADDR
// end else
5860: GO 5954
// begin prepare_side ( i , pos , Side_Nations [ i ] ) ;
5862: LD_VAR 0 2
5866: PPUSH
5867: LD_VAR 0 3
5871: PPUSH
5872: LD_EXP 76
5876: PUSH
5877: LD_VAR 0 2
5881: ARRAY
5882: PPUSH
5883: CALL 6545 0 3
// prepare_side ( i , pos + 1 , Side_Nations [ i ] ) ;
5887: LD_VAR 0 2
5891: PPUSH
5892: LD_VAR 0 3
5896: PUSH
5897: LD_INT 1
5899: PLUS
5900: PPUSH
5901: LD_EXP 76
5905: PUSH
5906: LD_VAR 0 2
5910: ARRAY
5911: PPUSH
5912: CALL 6545 0 3
// pozice_beden = replace ( pozice_beden , i , [ pos , pos + 1 ] ) ;
5916: LD_ADDR_EXP 8
5920: PUSH
5921: LD_EXP 8
5925: PPUSH
5926: LD_VAR 0 2
5930: PPUSH
5931: LD_VAR 0 3
5935: PUSH
5936: LD_VAR 0 3
5940: PUSH
5941: LD_INT 1
5943: PLUS
5944: PUSH
5945: EMPTY
5946: LIST
5947: LIST
5948: PPUSH
5949: CALL_OW 1
5953: ST_TO_ADDR
// end ; end else
5954: GO 6138
// if game_type in GT_TripleNat then
5956: LD_EXP 1
5960: PUSH
5961: LD_EXP 5
5965: IN
5966: IFFALSE 6113
// begin prepare_side ( i , pos , Position_Nations [ i ] [ 1 ] ) ;
5968: LD_VAR 0 2
5972: PPUSH
5973: LD_VAR 0 3
5977: PPUSH
5978: LD_EXP 52
5982: PUSH
5983: LD_VAR 0 2
5987: ARRAY
5988: PUSH
5989: LD_INT 1
5991: ARRAY
5992: PPUSH
5993: CALL 6545 0 3
// prepare_side ( i , pos + 1 , Position_Nations [ i ] [ 2 ] ) ;
5997: LD_VAR 0 2
6001: PPUSH
6002: LD_VAR 0 3
6006: PUSH
6007: LD_INT 1
6009: PLUS
6010: PPUSH
6011: LD_EXP 52
6015: PUSH
6016: LD_VAR 0 2
6020: ARRAY
6021: PUSH
6022: LD_INT 2
6024: ARRAY
6025: PPUSH
6026: CALL 6545 0 3
// prepare_side ( i , pos + 2 , Position_Nations [ i ] [ 3 ] ) ;
6030: LD_VAR 0 2
6034: PPUSH
6035: LD_VAR 0 3
6039: PUSH
6040: LD_INT 2
6042: PLUS
6043: PPUSH
6044: LD_EXP 52
6048: PUSH
6049: LD_VAR 0 2
6053: ARRAY
6054: PUSH
6055: LD_INT 3
6057: ARRAY
6058: PPUSH
6059: CALL 6545 0 3
// pozice_beden = replace ( pozice_beden , i , [ pos , pos + 1 , pos + 2 ] ) ;
6063: LD_ADDR_EXP 8
6067: PUSH
6068: LD_EXP 8
6072: PPUSH
6073: LD_VAR 0 2
6077: PPUSH
6078: LD_VAR 0 3
6082: PUSH
6083: LD_VAR 0 3
6087: PUSH
6088: LD_INT 1
6090: PLUS
6091: PUSH
6092: LD_VAR 0 3
6096: PUSH
6097: LD_INT 2
6099: PLUS
6100: PUSH
6101: EMPTY
6102: LIST
6103: LIST
6104: LIST
6105: PPUSH
6106: CALL_OW 1
6110: ST_TO_ADDR
// end else
6111: GO 6138
// prepare_side ( i , pos , Side_Nations [ i ] ) ;
6113: LD_VAR 0 2
6117: PPUSH
6118: LD_VAR 0 3
6122: PPUSH
6123: LD_EXP 76
6127: PUSH
6128: LD_VAR 0 2
6132: ARRAY
6133: PPUSH
6134: CALL 6545 0 3
// pozice_beden = replace ( pozice_beden , i , pos ) ;
6138: LD_ADDR_EXP 8
6142: PUSH
6143: LD_EXP 8
6147: PPUSH
6148: LD_VAR 0 2
6152: PPUSH
6153: LD_VAR 0 3
6157: PPUSH
6158: CALL_OW 1
6162: ST_TO_ADDR
// end ;
6163: GO 5699
6165: POP
6166: POP
// end ;
6167: LD_VAR 0 1
6171: RET
// export function Modify_Nations ; var i , n ; begin
6172: LD_INT 0
6174: PPUSH
6175: PPUSH
6176: PPUSH
// Position_Nations := [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
6177: LD_ADDR_EXP 52
6181: PUSH
6182: EMPTY
6183: PUSH
6184: EMPTY
6185: PUSH
6186: EMPTY
6187: PUSH
6188: EMPTY
6189: PUSH
6190: EMPTY
6191: PUSH
6192: EMPTY
6193: PUSH
6194: EMPTY
6195: PUSH
6196: EMPTY
6197: PUSH
6198: EMPTY
6199: LIST
6200: LIST
6201: LIST
6202: LIST
6203: LIST
6204: LIST
6205: LIST
6206: LIST
6207: ST_TO_ADDR
// if game_type in GT_doublenat then
6208: LD_EXP 1
6212: PUSH
6213: LD_EXP 3
6217: IN
6218: IFFALSE 6369
// begin for i = 1 to 8 do
6220: LD_ADDR_VAR 0 2
6224: PUSH
6225: DOUBLE
6226: LD_INT 1
6228: DEC
6229: ST_TO_ADDR
6230: LD_INT 8
6232: PUSH
6233: FOR_TO
6234: IFFALSE 6365
// if side_positions [ i ] then
6236: LD_EXP 75
6240: PUSH
6241: LD_VAR 0 2
6245: ARRAY
6246: IFFALSE 6363
// begin case side_nations [ i ] of 1 :
6248: LD_EXP 76
6252: PUSH
6253: LD_VAR 0 2
6257: ARRAY
6258: PUSH
6259: LD_INT 1
6261: DOUBLE
6262: EQUAL
6263: IFTRUE 6267
6265: GO 6285
6267: POP
// n = [ 1 , 2 ] ; 2 :
6268: LD_ADDR_VAR 0 3
6272: PUSH
6273: LD_INT 1
6275: PUSH
6276: LD_INT 2
6278: PUSH
6279: EMPTY
6280: LIST
6281: LIST
6282: ST_TO_ADDR
6283: GO 6338
6285: LD_INT 2
6287: DOUBLE
6288: EQUAL
6289: IFTRUE 6293
6291: GO 6311
6293: POP
// n = [ 2 , 3 ] ; 3 :
6294: LD_ADDR_VAR 0 3
6298: PUSH
6299: LD_INT 2
6301: PUSH
6302: LD_INT 3
6304: PUSH
6305: EMPTY
6306: LIST
6307: LIST
6308: ST_TO_ADDR
6309: GO 6338
6311: LD_INT 3
6313: DOUBLE
6314: EQUAL
6315: IFTRUE 6319
6317: GO 6337
6319: POP
// n = [ 3 , 1 ] ; end ;
6320: LD_ADDR_VAR 0 3
6324: PUSH
6325: LD_INT 3
6327: PUSH
6328: LD_INT 1
6330: PUSH
6331: EMPTY
6332: LIST
6333: LIST
6334: ST_TO_ADDR
6335: GO 6338
6337: POP
// Position_Nations = replace ( position_nations , i , n ) ;
6338: LD_ADDR_EXP 52
6342: PUSH
6343: LD_EXP 52
6347: PPUSH
6348: LD_VAR 0 2
6352: PPUSH
6353: LD_VAR 0 3
6357: PPUSH
6358: CALL_OW 1
6362: ST_TO_ADDR
// end ;
6363: GO 6233
6365: POP
6366: POP
// end else
6367: GO 6540
// if game_type in GT_triplenat then
6369: LD_EXP 1
6373: PUSH
6374: LD_EXP 5
6378: IN
6379: IFFALSE 6540
// begin for i = 1 to 8 do
6381: LD_ADDR_VAR 0 2
6385: PUSH
6386: DOUBLE
6387: LD_INT 1
6389: DEC
6390: ST_TO_ADDR
6391: LD_INT 8
6393: PUSH
6394: FOR_TO
6395: IFFALSE 6538
// if side_positions [ i ] then
6397: LD_EXP 75
6401: PUSH
6402: LD_VAR 0 2
6406: ARRAY
6407: IFFALSE 6536
// begin case side_nations [ i ] of 1 :
6409: LD_EXP 76
6413: PUSH
6414: LD_VAR 0 2
6418: ARRAY
6419: PUSH
6420: LD_INT 1
6422: DOUBLE
6423: EQUAL
6424: IFTRUE 6428
6426: GO 6450
6428: POP
// n = [ 1 , 2 , 3 ] ; 2 :
6429: LD_ADDR_VAR 0 3
6433: PUSH
6434: LD_INT 1
6436: PUSH
6437: LD_INT 2
6439: PUSH
6440: LD_INT 3
6442: PUSH
6443: EMPTY
6444: LIST
6445: LIST
6446: LIST
6447: ST_TO_ADDR
6448: GO 6511
6450: LD_INT 2
6452: DOUBLE
6453: EQUAL
6454: IFTRUE 6458
6456: GO 6480
6458: POP
// n = [ 2 , 3 , 1 ] ; 3 :
6459: LD_ADDR_VAR 0 3
6463: PUSH
6464: LD_INT 2
6466: PUSH
6467: LD_INT 3
6469: PUSH
6470: LD_INT 1
6472: PUSH
6473: EMPTY
6474: LIST
6475: LIST
6476: LIST
6477: ST_TO_ADDR
6478: GO 6511
6480: LD_INT 3
6482: DOUBLE
6483: EQUAL
6484: IFTRUE 6488
6486: GO 6510
6488: POP
// n = [ 3 , 1 , 2 ] ; end ;
6489: LD_ADDR_VAR 0 3
6493: PUSH
6494: LD_INT 3
6496: PUSH
6497: LD_INT 1
6499: PUSH
6500: LD_INT 2
6502: PUSH
6503: EMPTY
6504: LIST
6505: LIST
6506: LIST
6507: ST_TO_ADDR
6508: GO 6511
6510: POP
// Position_Nations = replace ( position_nations , i , n ) ;
6511: LD_ADDR_EXP 52
6515: PUSH
6516: LD_EXP 52
6520: PPUSH
6521: LD_VAR 0 2
6525: PPUSH
6526: LD_VAR 0 3
6530: PPUSH
6531: CALL_OW 1
6535: ST_TO_ADDR
// end ;
6536: GO 6394
6538: POP
6539: POP
// end ; end ;
6540: LD_VAR 0 1
6544: RET
// export function prepare_side ( side , pos , nation ) ; var x , y , i , r , sol , br , dep , neng , nsci , nmech , nsol ; begin
6545: LD_INT 0
6547: PPUSH
6548: PPUSH
6549: PPUSH
6550: PPUSH
6551: PPUSH
6552: PPUSH
6553: PPUSH
6554: PPUSH
6555: PPUSH
6556: PPUSH
6557: PPUSH
6558: PPUSH
// global_count = 0 ;
6559: LD_ADDR_EXP 96
6563: PUSH
6564: LD_INT 0
6566: ST_TO_ADDR
// uc_nation := nation ;
6567: LD_ADDR_OWVAR 21
6571: PUSH
6572: LD_VAR 0 3
6576: ST_TO_ADDR
// uc_side := side ;
6577: LD_ADDR_OWVAR 20
6581: PUSH
6582: LD_VAR 0 1
6586: ST_TO_ADDR
// x := depot_def [ pos ] [ 1 ] ;
6587: LD_ADDR_VAR 0 5
6591: PUSH
6592: LD_EXP 81
6596: PUSH
6597: LD_VAR 0 2
6601: ARRAY
6602: PUSH
6603: LD_INT 1
6605: ARRAY
6606: ST_TO_ADDR
// y := depot_def [ pos ] [ 2 ] ;
6607: LD_ADDR_VAR 0 6
6611: PUSH
6612: LD_EXP 81
6616: PUSH
6617: LD_VAR 0 2
6621: ARRAY
6622: PUSH
6623: LD_INT 2
6625: ARRAY
6626: ST_TO_ADDR
// case base_level of 0 :
6627: LD_EXP 37
6631: PUSH
6632: LD_INT 0
6634: DOUBLE
6635: EQUAL
6636: IFTRUE 6640
6638: GO 6787
6640: POP
// begin for i := 1 to 3 do
6641: LD_ADDR_VAR 0 7
6645: PUSH
6646: DOUBLE
6647: LD_INT 1
6649: DEC
6650: ST_TO_ADDR
6651: LD_INT 3
6653: PUSH
6654: FOR_TO
6655: IFFALSE 6783
// begin r := starting_resources [ i ] ;
6657: LD_ADDR_VAR 0 8
6661: PUSH
6662: LD_EXP 44
6666: PUSH
6667: LD_VAR 0 7
6671: ARRAY
6672: ST_TO_ADDR
// while r >= 10 do
6673: LD_VAR 0 8
6677: PUSH
6678: LD_INT 10
6680: GREATEREQUAL
6681: IFFALSE 6781
// if r > 50 then
6683: LD_VAR 0 8
6687: PUSH
6688: LD_INT 50
6690: GREATER
6691: IFFALSE 6737
// begin CreateResourcesXYR ( i , 5 , x , y , 4 , false ) ;
6693: LD_VAR 0 7
6697: PPUSH
6698: LD_INT 5
6700: PPUSH
6701: LD_VAR 0 5
6705: PPUSH
6706: LD_VAR 0 6
6710: PPUSH
6711: LD_INT 4
6713: PPUSH
6714: LD_INT 0
6716: PPUSH
6717: CALL_OW 60
// r := r - 50 ;
6721: LD_ADDR_VAR 0 8
6725: PUSH
6726: LD_VAR 0 8
6730: PUSH
6731: LD_INT 50
6733: MINUS
6734: ST_TO_ADDR
// end else
6735: GO 6779
// begin CreateResourcesXYR ( i , r div 10 , x , y , 4 , false ) ;
6737: LD_VAR 0 7
6741: PPUSH
6742: LD_VAR 0 8
6746: PUSH
6747: LD_INT 10
6749: DIV
6750: PPUSH
6751: LD_VAR 0 5
6755: PPUSH
6756: LD_VAR 0 6
6760: PPUSH
6761: LD_INT 4
6763: PPUSH
6764: LD_INT 0
6766: PPUSH
6767: CALL_OW 60
// r := 0 ;
6771: LD_ADDR_VAR 0 8
6775: PUSH
6776: LD_INT 0
6778: ST_TO_ADDR
// end ;
6779: GO 6673
// end ;
6781: GO 6654
6783: POP
6784: POP
// end ; 1 :
6785: GO 7052
6787: LD_INT 1
6789: DOUBLE
6790: EQUAL
6791: IFTRUE 6795
6793: GO 6919
6795: POP
// begin bc_type = b_depot ;
6796: LD_ADDR_OWVAR 42
6800: PUSH
6801: LD_INT 0
6803: ST_TO_ADDR
// dep := CreateAndPlaceBuildingXYD ( x , y , Depot_Def [ pos ] [ 3 ] ) ;
6804: LD_ADDR_VAR 0 11
6808: PUSH
6809: LD_VAR 0 5
6813: PPUSH
6814: LD_VAR 0 6
6818: PPUSH
6819: LD_EXP 81
6823: PUSH
6824: LD_VAR 0 2
6828: ARRAY
6829: PUSH
6830: LD_INT 3
6832: ARRAY
6833: PPUSH
6834: CALL_OW 47
6838: ST_TO_ADDR
// SetResourceType ( GetBase ( dep ) , mat_cans , starting_resources [ mat_cans ] ) ;
6839: LD_VAR 0 11
6843: PPUSH
6844: CALL_OW 274
6848: PPUSH
6849: LD_INT 1
6851: PPUSH
6852: LD_EXP 44
6856: PUSH
6857: LD_INT 1
6859: ARRAY
6860: PPUSH
6861: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_oil , starting_resources [ mat_oil ] ) ;
6865: LD_VAR 0 11
6869: PPUSH
6870: CALL_OW 274
6874: PPUSH
6875: LD_INT 2
6877: PPUSH
6878: LD_EXP 44
6882: PUSH
6883: LD_INT 2
6885: ARRAY
6886: PPUSH
6887: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_siberit , starting_resources [ mat_siberit ] ) ;
6891: LD_VAR 0 11
6895: PPUSH
6896: CALL_OW 274
6900: PPUSH
6901: LD_INT 3
6903: PPUSH
6904: LD_EXP 44
6908: PUSH
6909: LD_INT 3
6911: ARRAY
6912: PPUSH
6913: CALL_OW 277
// end ; 2 :
6917: GO 7052
6919: LD_INT 2
6921: DOUBLE
6922: EQUAL
6923: IFTRUE 6927
6925: GO 7051
6927: POP
// begin bc_type = b_warehouse ;
6928: LD_ADDR_OWVAR 42
6932: PUSH
6933: LD_INT 1
6935: ST_TO_ADDR
// dep := CreateAndPlaceBuildingXYD ( x , y , Depot_Def [ pos ] [ 3 ] ) ;
6936: LD_ADDR_VAR 0 11
6940: PUSH
6941: LD_VAR 0 5
6945: PPUSH
6946: LD_VAR 0 6
6950: PPUSH
6951: LD_EXP 81
6955: PUSH
6956: LD_VAR 0 2
6960: ARRAY
6961: PUSH
6962: LD_INT 3
6964: ARRAY
6965: PPUSH
6966: CALL_OW 47
6970: ST_TO_ADDR
// SetResourceType ( GetBase ( dep ) , mat_cans , starting_resources [ mat_cans ] ) ;
6971: LD_VAR 0 11
6975: PPUSH
6976: CALL_OW 274
6980: PPUSH
6981: LD_INT 1
6983: PPUSH
6984: LD_EXP 44
6988: PUSH
6989: LD_INT 1
6991: ARRAY
6992: PPUSH
6993: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_oil , starting_resources [ mat_oil ] ) ;
6997: LD_VAR 0 11
7001: PPUSH
7002: CALL_OW 274
7006: PPUSH
7007: LD_INT 2
7009: PPUSH
7010: LD_EXP 44
7014: PUSH
7015: LD_INT 2
7017: ARRAY
7018: PPUSH
7019: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_siberit , starting_resources [ mat_siberit ] ) ;
7023: LD_VAR 0 11
7027: PPUSH
7028: CALL_OW 274
7032: PPUSH
7033: LD_INT 3
7035: PPUSH
7036: LD_EXP 44
7040: PUSH
7041: LD_INT 3
7043: ARRAY
7044: PPUSH
7045: CALL_OW 277
// end ; end ;
7049: GO 7052
7051: POP
// x := start_def [ pos ] [ 1 ] ;
7052: LD_ADDR_VAR 0 5
7056: PUSH
7057: LD_EXP 83
7061: PUSH
7062: LD_VAR 0 2
7066: ARRAY
7067: PUSH
7068: LD_INT 1
7070: ARRAY
7071: ST_TO_ADDR
// y := start_def [ pos ] [ 2 ] ;
7072: LD_ADDR_VAR 0 6
7076: PUSH
7077: LD_EXP 83
7081: PUSH
7082: LD_VAR 0 2
7086: ARRAY
7087: PUSH
7088: LD_INT 2
7090: ARRAY
7091: ST_TO_ADDR
// for r in starting_crates do
7092: LD_ADDR_VAR 0 8
7096: PUSH
7097: LD_EXP 43
7101: PUSH
7102: FOR_IN
7103: IFFALSE 7135
// CreateResourcesXYR ( mat_cans , 5 , x , y , r , false ) ;
7105: LD_INT 1
7107: PPUSH
7108: LD_INT 5
7110: PPUSH
7111: LD_VAR 0 5
7115: PPUSH
7116: LD_VAR 0 6
7120: PPUSH
7121: LD_VAR 0 8
7125: PPUSH
7126: LD_INT 0
7128: PPUSH
7129: CALL_OW 60
7133: GO 7102
7135: POP
7136: POP
// if def_morale_flags then
7137: LD_EXP 20
7141: IFFALSE 7306
// if not def_WarForTerritory then
7143: LD_EXP 36
7147: NOT
7148: IFFALSE 7229
// battle_flags_id := battle_flags_id ^ SetBattleFlag ( side , x , y , [ [ bfo_defend_bonus_human , 100 ] , [ bfo_defend_bonus_vehicle , 50 ] , [ bfo_defend_bonus_building , 20 ] , [ bfo_height , 100 ] ] ) else
7150: LD_ADDR_EXP 89
7154: PUSH
7155: LD_EXP 89
7159: PUSH
7160: LD_VAR 0 1
7164: PPUSH
7165: LD_VAR 0 5
7169: PPUSH
7170: LD_VAR 0 6
7174: PPUSH
7175: LD_INT 1
7177: PUSH
7178: LD_INT 100
7180: PUSH
7181: EMPTY
7182: LIST
7183: LIST
7184: PUSH
7185: LD_INT 2
7187: PUSH
7188: LD_INT 50
7190: PUSH
7191: EMPTY
7192: LIST
7193: LIST
7194: PUSH
7195: LD_INT 3
7197: PUSH
7198: LD_INT 20
7200: PUSH
7201: EMPTY
7202: LIST
7203: LIST
7204: PUSH
7205: LD_INT 20
7207: PUSH
7208: LD_INT 100
7210: PUSH
7211: EMPTY
7212: LIST
7213: LIST
7214: PUSH
7215: EMPTY
7216: LIST
7217: LIST
7218: LIST
7219: LIST
7220: PPUSH
7221: CALL_OW 418
7225: ADD
7226: ST_TO_ADDR
7227: GO 7306
// battle_flags_id := battle_flags_id ^ SetBattleFlag ( side , x , y , [ [ bfo_defend_bonus_human , 200 ] , [ bfo_defend_bonus_vehicle , 100 ] , [ bfo_defend_bonus_building , 50 ] , [ bfo_height , 100 ] ] ) ;
7229: LD_ADDR_EXP 89
7233: PUSH
7234: LD_EXP 89
7238: PUSH
7239: LD_VAR 0 1
7243: PPUSH
7244: LD_VAR 0 5
7248: PPUSH
7249: LD_VAR 0 6
7253: PPUSH
7254: LD_INT 1
7256: PUSH
7257: LD_INT 200
7259: PUSH
7260: EMPTY
7261: LIST
7262: LIST
7263: PUSH
7264: LD_INT 2
7266: PUSH
7267: LD_INT 100
7269: PUSH
7270: EMPTY
7271: LIST
7272: LIST
7273: PUSH
7274: LD_INT 3
7276: PUSH
7277: LD_INT 50
7279: PUSH
7280: EMPTY
7281: LIST
7282: LIST
7283: PUSH
7284: LD_INT 20
7286: PUSH
7287: LD_INT 100
7289: PUSH
7290: EMPTY
7291: LIST
7292: LIST
7293: PUSH
7294: EMPTY
7295: LIST
7296: LIST
7297: LIST
7298: LIST
7299: PPUSH
7300: CALL_OW 418
7304: ADD
7305: ST_TO_ADDR
// if for_show_near_resources then
7306: LD_EXP 63
7310: IFFALSE 7444
// begin for i in for_show_near_resources [ pos ] [ 1 ] do
7312: LD_ADDR_VAR 0 7
7316: PUSH
7317: LD_EXP 63
7321: PUSH
7322: LD_VAR 0 2
7326: ARRAY
7327: PUSH
7328: LD_INT 1
7330: ARRAY
7331: PUSH
7332: FOR_IN
7333: IFFALSE 7364
// SetResourceVisibility ( i [ 1 ] , i [ 2 ] , side ) ;
7335: LD_VAR 0 7
7339: PUSH
7340: LD_INT 1
7342: ARRAY
7343: PPUSH
7344: LD_VAR 0 7
7348: PUSH
7349: LD_INT 2
7351: ARRAY
7352: PPUSH
7353: LD_VAR 0 1
7357: PPUSH
7358: CALL_OW 441
7362: GO 7332
7364: POP
7365: POP
// if def_siberite_detection and GetTech ( tech_sibdet , side ) = state_enabled then
7366: LD_EXP 28
7370: PUSH
7371: LD_INT 20
7373: PPUSH
7374: LD_VAR 0 1
7378: PPUSH
7379: CALL_OW 321
7383: PUSH
7384: LD_INT 1
7386: EQUAL
7387: AND
7388: IFFALSE 7444
// for i in for_show_near_resources [ pos ] [ 2 ] do
7390: LD_ADDR_VAR 0 7
7394: PUSH
7395: LD_EXP 63
7399: PUSH
7400: LD_VAR 0 2
7404: ARRAY
7405: PUSH
7406: LD_INT 2
7408: ARRAY
7409: PUSH
7410: FOR_IN
7411: IFFALSE 7442
// SetResourceVisibility ( i [ 1 ] , i [ 2 ] , side ) ;
7413: LD_VAR 0 7
7417: PUSH
7418: LD_INT 1
7420: ARRAY
7421: PPUSH
7422: LD_VAR 0 7
7426: PUSH
7427: LD_INT 2
7429: ARRAY
7430: PPUSH
7431: LD_VAR 0 1
7435: PPUSH
7436: CALL_OW 441
7440: GO 7410
7442: POP
7443: POP
// end ; bc_kind1 = b_lab_basic ;
7444: LD_ADDR_OWVAR 44
7448: PUSH
7449: LD_INT 9
7451: ST_TO_ADDR
// bc_kind2 = b_lab_basic ;
7452: LD_ADDR_OWVAR 45
7456: PUSH
7457: LD_INT 9
7459: ST_TO_ADDR
// for i in buildings_def [ pos ] do
7460: LD_ADDR_VAR 0 7
7464: PUSH
7465: LD_EXP 39
7469: PUSH
7470: LD_VAR 0 2
7474: ARRAY
7475: PUSH
7476: FOR_IN
7477: IFFALSE 7622
// begin if i [ 1 ] in [ b_oil_mine , b_siberite_mine ] then
7479: LD_VAR 0 7
7483: PUSH
7484: LD_INT 1
7486: ARRAY
7487: PUSH
7488: LD_INT 29
7490: PUSH
7491: LD_INT 30
7493: PUSH
7494: EMPTY
7495: LIST
7496: LIST
7497: IN
7498: IFFALSE 7527
// SetResourceVisibility ( i [ 2 ] , i [ 3 ] , side ) ;
7500: LD_VAR 0 7
7504: PUSH
7505: LD_INT 2
7507: ARRAY
7508: PPUSH
7509: LD_VAR 0 7
7513: PUSH
7514: LD_INT 3
7516: ARRAY
7517: PPUSH
7518: LD_VAR 0 1
7522: PPUSH
7523: CALL_OW 441
// bc_type = i [ 1 ] ;
7527: LD_ADDR_OWVAR 42
7531: PUSH
7532: LD_VAR 0 7
7536: PUSH
7537: LD_INT 1
7539: ARRAY
7540: ST_TO_ADDR
// CreateAndPlaceBuildingXYD ( i [ 2 ] , i [ 3 ] , i [ 4 ] ) ;
7541: LD_VAR 0 7
7545: PUSH
7546: LD_INT 2
7548: ARRAY
7549: PPUSH
7550: LD_VAR 0 7
7554: PUSH
7555: LD_INT 3
7557: ARRAY
7558: PPUSH
7559: LD_VAR 0 7
7563: PUSH
7564: LD_INT 4
7566: ARRAY
7567: PPUSH
7568: CALL_OW 47
// x := buildings_def [ pos ] [ 1 ] [ 2 ] ;
7572: LD_ADDR_VAR 0 5
7576: PUSH
7577: LD_EXP 39
7581: PUSH
7582: LD_VAR 0 2
7586: ARRAY
7587: PUSH
7588: LD_INT 1
7590: ARRAY
7591: PUSH
7592: LD_INT 2
7594: ARRAY
7595: ST_TO_ADDR
// y := buildings_def [ pos ] [ 1 ] [ 2 ] ;
7596: LD_ADDR_VAR 0 6
7600: PUSH
7601: LD_EXP 39
7605: PUSH
7606: LD_VAR 0 2
7610: ARRAY
7611: PUSH
7612: LD_INT 1
7614: ARRAY
7615: PUSH
7616: LD_INT 2
7618: ARRAY
7619: ST_TO_ADDR
// end ;
7620: GO 7476
7622: POP
7623: POP
// commander := true ;
7624: LD_ADDR_EXP 55
7628: PUSH
7629: LD_INT 1
7631: ST_TO_ADDR
// x := start_def [ pos ] [ 1 ] ;
7632: LD_ADDR_VAR 0 5
7636: PUSH
7637: LD_EXP 83
7641: PUSH
7642: LD_VAR 0 2
7646: ARRAY
7647: PUSH
7648: LD_INT 1
7650: ARRAY
7651: ST_TO_ADDR
// y := start_def [ pos ] [ 2 ] ;
7652: LD_ADDR_VAR 0 6
7656: PUSH
7657: LD_EXP 83
7661: PUSH
7662: LD_VAR 0 2
7666: ARRAY
7667: PUSH
7668: LD_INT 2
7670: ARRAY
7671: ST_TO_ADDR
// if def_classes then
7672: LD_EXP 14
7676: IFFALSE 7972
// begin neng := number_of_people ;
7678: LD_ADDR_VAR 0 12
7682: PUSH
7683: LD_EXP 40
7687: ST_TO_ADDR
// if nsol < neng div 4 then
7688: LD_VAR 0 15
7692: PUSH
7693: LD_VAR 0 12
7697: PUSH
7698: LD_INT 4
7700: DIV
7701: LESS
7702: IFFALSE 7718
// nsol := neng div 4 ;
7704: LD_ADDR_VAR 0 15
7708: PUSH
7709: LD_VAR 0 12
7713: PUSH
7714: LD_INT 4
7716: DIV
7717: ST_TO_ADDR
// neng := neng - nsol ;
7718: LD_ADDR_VAR 0 12
7722: PUSH
7723: LD_VAR 0 12
7727: PUSH
7728: LD_VAR 0 15
7732: MINUS
7733: ST_TO_ADDR
// nsci := neng div 3 ;
7734: LD_ADDR_VAR 0 13
7738: PUSH
7739: LD_VAR 0 12
7743: PUSH
7744: LD_INT 3
7746: DIV
7747: ST_TO_ADDR
// if nsci < 1 then
7748: LD_VAR 0 13
7752: PUSH
7753: LD_INT 1
7755: LESS
7756: IFFALSE 7766
// nsci := 1 ;
7758: LD_ADDR_VAR 0 13
7762: PUSH
7763: LD_INT 1
7765: ST_TO_ADDR
// neng := neng - nsci ;
7766: LD_ADDR_VAR 0 12
7770: PUSH
7771: LD_VAR 0 12
7775: PUSH
7776: LD_VAR 0 13
7780: MINUS
7781: ST_TO_ADDR
// nmech := neng div 2 ;
7782: LD_ADDR_VAR 0 14
7786: PUSH
7787: LD_VAR 0 12
7791: PUSH
7792: LD_INT 2
7794: DIV
7795: ST_TO_ADDR
// neng := neng - nmech ;
7796: LD_ADDR_VAR 0 12
7800: PUSH
7801: LD_VAR 0 12
7805: PUSH
7806: LD_VAR 0 14
7810: MINUS
7811: ST_TO_ADDR
// if neng < 1 then
7812: LD_VAR 0 12
7816: PUSH
7817: LD_INT 1
7819: LESS
7820: IFFALSE 7830
// neng := 1 ;
7822: LD_ADDR_VAR 0 12
7826: PUSH
7827: LD_INT 1
7829: ST_TO_ADDR
// prepare_people ( side , nsol , class_soldier , x , y , 5 , commander ) ;
7830: LD_VAR 0 1
7834: PPUSH
7835: LD_VAR 0 15
7839: PPUSH
7840: LD_INT 1
7842: PPUSH
7843: LD_VAR 0 5
7847: PPUSH
7848: LD_VAR 0 6
7852: PPUSH
7853: LD_INT 5
7855: PPUSH
7856: LD_ADDR_EXP 55
7860: PPUSH
7861: CALL 8518 0 7
// prepare_people ( side , neng , class_engineer , x , y , 5 , commander ) ;
7865: LD_VAR 0 1
7869: PPUSH
7870: LD_VAR 0 12
7874: PPUSH
7875: LD_INT 2
7877: PPUSH
7878: LD_VAR 0 5
7882: PPUSH
7883: LD_VAR 0 6
7887: PPUSH
7888: LD_INT 5
7890: PPUSH
7891: LD_ADDR_EXP 55
7895: PPUSH
7896: CALL 8518 0 7
// prepare_people ( side , nmech , class_mechanic , x , y , 5 , commander ) ;
7900: LD_VAR 0 1
7904: PPUSH
7905: LD_VAR 0 14
7909: PPUSH
7910: LD_INT 3
7912: PPUSH
7913: LD_VAR 0 5
7917: PPUSH
7918: LD_VAR 0 6
7922: PPUSH
7923: LD_INT 5
7925: PPUSH
7926: LD_ADDR_EXP 55
7930: PPUSH
7931: CALL 8518 0 7
// prepare_people ( side , nsci , class_scientistic , x , y , 5 , commander ) ;
7935: LD_VAR 0 1
7939: PPUSH
7940: LD_VAR 0 13
7944: PPUSH
7945: LD_INT 4
7947: PPUSH
7948: LD_VAR 0 5
7952: PPUSH
7953: LD_VAR 0 6
7957: PPUSH
7958: LD_INT 5
7960: PPUSH
7961: LD_ADDR_EXP 55
7965: PPUSH
7966: CALL 8518 0 7
// end else
7970: GO 8044
// begin prepare_people ( side , number_of_people - 1 , 0 , x , y , 5 , commander ) ;
7972: LD_VAR 0 1
7976: PPUSH
7977: LD_EXP 40
7981: PUSH
7982: LD_INT 1
7984: MINUS
7985: PPUSH
7986: LD_INT 0
7988: PPUSH
7989: LD_VAR 0 5
7993: PPUSH
7994: LD_VAR 0 6
7998: PPUSH
7999: LD_INT 5
8001: PPUSH
8002: LD_ADDR_EXP 55
8006: PPUSH
8007: CALL 8518 0 7
// prepare_people ( side , 1 , class_engineer , x , y , 5 , commander ) ;
8011: LD_VAR 0 1
8015: PPUSH
8016: LD_INT 1
8018: PPUSH
8019: LD_INT 2
8021: PPUSH
8022: LD_VAR 0 5
8026: PPUSH
8027: LD_VAR 0 6
8031: PPUSH
8032: LD_INT 5
8034: PPUSH
8035: LD_ADDR_EXP 55
8039: PPUSH
8040: CALL 8518 0 7
// end ; if number_of_apemen then
8044: LD_EXP 41
8048: IFFALSE 8406
// begin uc_nation = nation_nature ;
8050: LD_ADDR_OWVAR 21
8054: PUSH
8055: LD_INT 0
8057: ST_TO_ADDR
// prepare_people ( side , number_of_apemen , class_apeman , x , y , 5 , commander ) ;
8058: LD_VAR 0 1
8062: PPUSH
8063: LD_EXP 41
8067: PPUSH
8068: LD_INT 12
8070: PPUSH
8071: LD_VAR 0 5
8075: PPUSH
8076: LD_VAR 0 6
8080: PPUSH
8081: LD_INT 5
8083: PPUSH
8084: LD_ADDR_EXP 55
8088: PPUSH
8089: CALL 8518 0 7
// uc_nation = nation ;
8093: LD_ADDR_OWVAR 21
8097: PUSH
8098: LD_VAR 0 3
8102: ST_TO_ADDR
// case nation of 1 :
8103: LD_VAR 0 3
8107: PUSH
8108: LD_INT 1
8110: DOUBLE
8111: EQUAL
8112: IFTRUE 8116
8114: GO 8185
8116: POP
// begin if GetTech ( tech_ApeLang , side ) = state_enabled then
8117: LD_INT 1
8119: PPUSH
8120: LD_VAR 0 1
8124: PPUSH
8125: CALL_OW 321
8129: PUSH
8130: LD_INT 1
8132: EQUAL
8133: IFFALSE 8150
// SetTech ( tech_ApeLang , side , state_researched ) ;
8135: LD_INT 1
8137: PPUSH
8138: LD_VAR 0 1
8142: PPUSH
8143: LD_INT 2
8145: PPUSH
8146: CALL_OW 322
// if GetTech ( tech_ApePsych , side ) = state_enabled then
8150: LD_INT 2
8152: PPUSH
8153: LD_VAR 0 1
8157: PPUSH
8158: CALL_OW 321
8162: PUSH
8163: LD_INT 1
8165: EQUAL
8166: IFFALSE 8183
// SetTech ( tech_ApePsych , side , state_researched ) ;
8168: LD_INT 2
8170: PPUSH
8171: LD_VAR 0 1
8175: PPUSH
8176: LD_INT 2
8178: PPUSH
8179: CALL_OW 322
// end ; 2 :
8183: GO 8406
8185: LD_INT 2
8187: DOUBLE
8188: EQUAL
8189: IFTRUE 8193
8191: GO 8295
8193: POP
// begin if GetTech ( tech_ApeLang , side ) = state_enabled then
8194: LD_INT 1
8196: PPUSH
8197: LD_VAR 0 1
8201: PPUSH
8202: CALL_OW 321
8206: PUSH
8207: LD_INT 1
8209: EQUAL
8210: IFFALSE 8227
// SetTech ( tech_ApeLang , side , state_researched ) ;
8212: LD_INT 1
8214: PPUSH
8215: LD_VAR 0 1
8219: PPUSH
8220: LD_INT 2
8222: PPUSH
8223: CALL_OW 322
// if GetTech ( tech_ApeAgres , side ) = state_enabled then
8227: LD_INT 11
8229: PPUSH
8230: LD_VAR 0 1
8234: PPUSH
8235: CALL_OW 321
8239: PUSH
8240: LD_INT 1
8242: EQUAL
8243: IFFALSE 8260
// SetTech ( tech_ApeAgres , side , state_researched ) ;
8245: LD_INT 11
8247: PPUSH
8248: LD_VAR 0 1
8252: PPUSH
8253: LD_INT 2
8255: PPUSH
8256: CALL_OW 322
// if GetTech ( tech_ApeNeural , side ) = state_enabled then
8260: LD_INT 3
8262: PPUSH
8263: LD_VAR 0 1
8267: PPUSH
8268: CALL_OW 321
8272: PUSH
8273: LD_INT 1
8275: EQUAL
8276: IFFALSE 8293
// SetTech ( tech_ApeNeural , side , state_researched ) ;
8278: LD_INT 3
8280: PPUSH
8281: LD_VAR 0 1
8285: PPUSH
8286: LD_INT 2
8288: PPUSH
8289: CALL_OW 322
// end ; 3 :
8293: GO 8406
8295: LD_INT 3
8297: DOUBLE
8298: EQUAL
8299: IFTRUE 8303
8301: GO 8405
8303: POP
// begin if GetTech ( tech_ApeLang , side ) = state_enabled then
8304: LD_INT 1
8306: PPUSH
8307: LD_VAR 0 1
8311: PPUSH
8312: CALL_OW 321
8316: PUSH
8317: LD_INT 1
8319: EQUAL
8320: IFFALSE 8337
// SetTech ( tech_ApeLang , side , state_researched ) ;
8322: LD_INT 1
8324: PPUSH
8325: LD_VAR 0 1
8329: PPUSH
8330: LD_INT 2
8332: PPUSH
8333: CALL_OW 322
// if GetTech ( tech_ApePsych , side ) = state_enabled then
8337: LD_INT 2
8339: PPUSH
8340: LD_VAR 0 1
8344: PPUSH
8345: CALL_OW 321
8349: PUSH
8350: LD_INT 1
8352: EQUAL
8353: IFFALSE 8370
// SetTech ( tech_ApePsych , side , state_researched ) ;
8355: LD_INT 2
8357: PPUSH
8358: LD_VAR 0 1
8362: PPUSH
8363: LD_INT 2
8365: PPUSH
8366: CALL_OW 322
// if GetTech ( tech_ApeAgres , side ) = state_enabled then
8370: LD_INT 11
8372: PPUSH
8373: LD_VAR 0 1
8377: PPUSH
8378: CALL_OW 321
8382: PUSH
8383: LD_INT 1
8385: EQUAL
8386: IFFALSE 8403
// SetTech ( tech_ApeAgres , side , state_researched ) ;
8388: LD_INT 11
8390: PPUSH
8391: LD_VAR 0 1
8395: PPUSH
8396: LD_INT 2
8398: PPUSH
8399: CALL_OW 322
// end ; end ;
8403: GO 8406
8405: POP
// end ; if def_desert_warior = 2 and nation = nation_arabian then
8406: LD_EXP 31
8410: PUSH
8411: LD_INT 2
8413: EQUAL
8414: PUSH
8415: LD_VAR 0 3
8419: PUSH
8420: LD_INT 2
8422: EQUAL
8423: AND
8424: IFFALSE 8459
// prepare_people ( side , 1 , class_desert_warior , x , y , 5 , commander ) ;
8426: LD_VAR 0 1
8430: PPUSH
8431: LD_INT 1
8433: PPUSH
8434: LD_INT 11
8436: PPUSH
8437: LD_VAR 0 5
8441: PPUSH
8442: LD_VAR 0 6
8446: PPUSH
8447: LD_INT 5
8449: PPUSH
8450: LD_ADDR_EXP 55
8454: PPUSH
8455: CALL 8518 0 7
// if not global_defined then
8459: LD_EXP 94
8463: NOT
8464: IFFALSE 8474
// global_defined := true ;
8466: LD_ADDR_EXP 94
8470: PUSH
8471: LD_INT 1
8473: ST_TO_ADDR
// if def_siberite_detection and GetTech ( tech_sibdet , side ) = state_enabled then
8474: LD_EXP 28
8478: PUSH
8479: LD_INT 20
8481: PPUSH
8482: LD_VAR 0 1
8486: PPUSH
8487: CALL_OW 321
8491: PUSH
8492: LD_INT 1
8494: EQUAL
8495: AND
8496: IFFALSE 8513
// SetTech ( tech_SibDet , side , state_researched ) ;
8498: LD_INT 20
8500: PPUSH
8501: LD_VAR 0 1
8505: PPUSH
8506: LD_INT 2
8508: PPUSH
8509: CALL_OW 322
// end ;
8513: LD_VAR 0 4
8517: RET
// export function prepare_people ( side , count , pre_cl , x , y , r , var commander ) ; var i , j , un , cl ; begin
8518: LD_INT 0
8520: PPUSH
8521: PPUSH
8522: PPUSH
8523: PPUSH
8524: PPUSH
// for i := 1 to count do
8525: LD_ADDR_VAR 0 9
8529: PUSH
8530: DOUBLE
8531: LD_INT 1
8533: DEC
8534: ST_TO_ADDR
8535: LD_VAR 0 2
8539: PUSH
8540: FOR_TO
8541: IFFALSE 9145
// begin global_count = global_count + 1 ;
8543: LD_ADDR_EXP 96
8547: PUSH
8548: LD_EXP 96
8552: PUSH
8553: LD_INT 1
8555: PLUS
8556: ST_TO_ADDR
// if not def_classes and global_count <= global_classes then
8557: LD_EXP 14
8561: NOT
8562: PUSH
8563: LD_EXP 96
8567: PUSH
8568: LD_EXP 97
8572: LESSEQUAL
8573: AND
8574: IFFALSE 8594
// cl = global_classes [ global_count ] else
8576: LD_ADDR_VAR 0 12
8580: PUSH
8581: LD_EXP 97
8585: PUSH
8586: LD_EXP 96
8590: ARRAY
8591: ST_TO_ADDR
8592: GO 8632
// if pre_cl = 0 then
8594: LD_VAR 0 3
8598: PUSH
8599: LD_INT 0
8601: EQUAL
8602: IFFALSE 8622
// cl = rand ( 1 , 4 ) else
8604: LD_ADDR_VAR 0 12
8608: PUSH
8609: LD_INT 1
8611: PPUSH
8612: LD_INT 4
8614: PPUSH
8615: CALL_OW 12
8619: ST_TO_ADDR
8620: GO 8632
// cl = pre_cl ;
8622: LD_ADDR_VAR 0 12
8626: PUSH
8627: LD_VAR 0 3
8631: ST_TO_ADDR
// uc_direction := Rand ( 0 , 5 ) ;
8632: LD_ADDR_OWVAR 24
8636: PUSH
8637: LD_INT 0
8639: PPUSH
8640: LD_INT 5
8642: PPUSH
8643: CALL_OW 12
8647: ST_TO_ADDR
// if commander then
8648: LD_FROM_VAR 0 7
8652: IFFALSE 8781
// begin hc_name := mp_sides_players_names [ side ] ;
8654: LD_ADDR_OWVAR 26
8658: PUSH
8659: LD_OWVAR 19
8663: PUSH
8664: LD_VAR 0 1
8668: ARRAY
8669: ST_TO_ADDR
// PrepareHuman ( Rand ( 1 , 2 ) , cl , initial_level + 2 ) ;
8670: LD_INT 1
8672: PPUSH
8673: LD_INT 2
8675: PPUSH
8676: CALL_OW 12
8680: PPUSH
8681: LD_VAR 0 12
8685: PPUSH
8686: LD_EXP 42
8690: PUSH
8691: LD_INT 2
8693: PLUS
8694: PPUSH
8695: CALL_OW 380
// if def_desert_warior = 1 and uc_nation = nation_arabian then
8699: LD_EXP 31
8703: PUSH
8704: LD_INT 1
8706: EQUAL
8707: PUSH
8708: LD_OWVAR 21
8712: PUSH
8713: LD_INT 2
8715: EQUAL
8716: AND
8717: IFFALSE 8727
// hc_class = class_desert_warior ;
8719: LD_ADDR_OWVAR 28
8723: PUSH
8724: LD_INT 11
8726: ST_TO_ADDR
// hc_importance := 105 ;
8727: LD_ADDR_OWVAR 32
8731: PUSH
8732: LD_INT 105
8734: ST_TO_ADDR
// if Multiplayer then
8735: LD_OWVAR 4
8739: IFFALSE 8779
// begin hc_gallery := MULTIAVATARS ;
8741: LD_ADDR_OWVAR 33
8745: PUSH
8746: LD_STRING MULTIAVATARS
8748: ST_TO_ADDR
// hc_face_number := Multiplayer_GetPlayerSideNum ( Side ) ;
8749: LD_ADDR_OWVAR 34
8753: PUSH
8754: LD_VAR 0 1
8758: PPUSH
8759: CALL_OW 525
8763: ST_TO_ADDR
// hc_sex := Multiplayer_GetPlayerSex ( Side ) ;
8764: LD_ADDR_OWVAR 27
8768: PUSH
8769: LD_VAR 0 1
8773: PPUSH
8774: CALL_OW 526
8778: ST_TO_ADDR
// end ; end else
8779: GO 8887
// begin hc_name :=  ;
8781: LD_ADDR_OWVAR 26
8785: PUSH
8786: LD_STRING 
8788: ST_TO_ADDR
// if cl = class_desert_warior then
8789: LD_VAR 0 12
8793: PUSH
8794: LD_INT 11
8796: EQUAL
8797: IFFALSE 8832
// begin PrepareHuman ( rand ( 1 , 2 ) , class_soldier , initial_level ) ;
8799: LD_INT 1
8801: PPUSH
8802: LD_INT 2
8804: PPUSH
8805: CALL_OW 12
8809: PPUSH
8810: LD_INT 1
8812: PPUSH
8813: LD_EXP 42
8817: PPUSH
8818: CALL_OW 380
// hc_class = class_desert_warior end else
8822: LD_ADDR_OWVAR 28
8826: PUSH
8827: LD_INT 11
8829: ST_TO_ADDR
8830: GO 8857
// PrepareHuman ( rand ( 1 , 2 ) , cl , initial_level ) ;
8832: LD_INT 1
8834: PPUSH
8835: LD_INT 2
8837: PPUSH
8838: CALL_OW 12
8842: PPUSH
8843: LD_VAR 0 12
8847: PPUSH
8848: LD_EXP 42
8852: PPUSH
8853: CALL_OW 380
// hc_importance := 0 ;
8857: LD_ADDR_OWVAR 32
8861: PUSH
8862: LD_INT 0
8864: ST_TO_ADDR
// if Multiplayer then
8865: LD_OWVAR 4
8869: IFFALSE 8887
// begin hc_gallery :=  ;
8871: LD_ADDR_OWVAR 33
8875: PUSH
8876: LD_STRING 
8878: ST_TO_ADDR
// hc_face_number := 0 ;
8879: LD_ADDR_OWVAR 34
8883: PUSH
8884: LD_INT 0
8886: ST_TO_ADDR
// end ; end ; if hc_class = class_desert_warior then
8887: LD_OWVAR 28
8891: PUSH
8892: LD_INT 11
8894: EQUAL
8895: IFFALSE 8905
// hc_importance := 100 ;
8897: LD_ADDR_OWVAR 32
8901: PUSH
8902: LD_INT 100
8904: ST_TO_ADDR
// un := CreateHuman ;
8905: LD_ADDR_VAR 0 11
8909: PUSH
8910: CALL_OW 44
8914: ST_TO_ADDR
// if global_count <= global_units then
8915: LD_EXP 96
8919: PUSH
8920: LD_EXP 93
8924: LESSEQUAL
8925: IFFALSE 9009
// begin CopySkills ( global_units [ global_count ] , un ) ;
8927: LD_EXP 93
8931: PUSH
8932: LD_EXP 96
8936: ARRAY
8937: PPUSH
8938: LD_VAR 0 11
8942: PPUSH
8943: CALL_OW 510
// SetAttr ( un , attr_speed , GetAttr ( global_units [ global_count ] , attr_speed ) ) ;
8947: LD_VAR 0 11
8951: PPUSH
8952: LD_INT 2
8954: PPUSH
8955: LD_EXP 93
8959: PUSH
8960: LD_EXP 96
8964: ARRAY
8965: PPUSH
8966: LD_INT 2
8968: PPUSH
8969: CALL_OW 260
8973: PPUSH
8974: CALL_OW 239
// SetAttr ( un , attr_stamina , GetAttr ( global_units [ global_count ] , attr_stamina ) ) ;
8978: LD_VAR 0 11
8982: PPUSH
8983: LD_INT 1
8985: PPUSH
8986: LD_EXP 93
8990: PUSH
8991: LD_EXP 96
8995: ARRAY
8996: PPUSH
8997: LD_INT 1
8999: PPUSH
9000: CALL_OW 260
9004: PPUSH
9005: CALL_OW 239
// end ; PlaceUnitXYR ( un , x , y , r , false ) ;
9009: LD_VAR 0 11
9013: PPUSH
9014: LD_VAR 0 4
9018: PPUSH
9019: LD_VAR 0 5
9023: PPUSH
9024: LD_VAR 0 6
9028: PPUSH
9029: LD_INT 0
9031: PPUSH
9032: CALL_OW 50
// if global_classes < global_count then
9036: LD_EXP 97
9040: PUSH
9041: LD_EXP 96
9045: LESS
9046: IFFALSE 9064
// global_classes = global_classes ^ cl ;
9048: LD_ADDR_EXP 97
9052: PUSH
9053: LD_EXP 97
9057: PUSH
9058: LD_VAR 0 12
9062: ADD
9063: ST_TO_ADDR
// if global_units < global_count then
9064: LD_EXP 93
9068: PUSH
9069: LD_EXP 96
9073: LESS
9074: IFFALSE 9092
// global_units = global_units ^ un ;
9076: LD_ADDR_EXP 93
9080: PUSH
9081: LD_EXP 93
9085: PUSH
9086: LD_VAR 0 11
9090: ADD
9091: ST_TO_ADDR
// if commander then
9092: LD_FROM_VAR 0 7
9096: IFFALSE 9143
// begin heroes = replace ( heroes , side , heroes [ side ] ^ un ) ;
9098: LD_ADDR_EXP 50
9102: PUSH
9103: LD_EXP 50
9107: PPUSH
9108: LD_VAR 0 1
9112: PPUSH
9113: LD_EXP 50
9117: PUSH
9118: LD_VAR 0 1
9122: ARRAY
9123: PUSH
9124: LD_VAR 0 11
9128: ADD
9129: PPUSH
9130: CALL_OW 1
9134: ST_TO_ADDR
// commander := false ;
9135: LD_VAR 0 7
9139: PUSH
9140: LD_INT 0
9142: ST_TO_ADDR
// end ; end ;
9143: GO 8540
9145: POP
9146: POP
// end ;
9147: LD_VAR 0 8
9151: RET
// export function mastodonti ; var i , c , k ; begin
9152: LD_INT 0
9154: PPUSH
9155: PPUSH
9156: PPUSH
9157: PPUSH
// if def_desert_warior then
9158: LD_EXP 31
9162: IFFALSE 9227
// begin c = FilterAllUnits ( [ [ f_class , class_desert_warior ] ] ) ;
9164: LD_ADDR_VAR 0 3
9168: PUSH
9169: LD_INT 25
9171: PUSH
9172: LD_INT 11
9174: PUSH
9175: EMPTY
9176: LIST
9177: LIST
9178: PUSH
9179: EMPTY
9180: LIST
9181: PPUSH
9182: CALL_OW 69
9186: ST_TO_ADDR
// if c then
9187: LD_VAR 0 3
9191: IFFALSE 9223
// for c = 1 to c + 0 do
9193: LD_ADDR_VAR 0 3
9197: PUSH
9198: DOUBLE
9199: LD_INT 1
9201: DEC
9202: ST_TO_ADDR
9203: LD_VAR 0 3
9207: PUSH
9208: LD_INT 0
9210: PLUS
9211: PUSH
9212: FOR_TO
9213: IFFALSE 9221
// begin comms_mastodont ;
9215: CALL 9232 0 0
// end ;
9219: GO 9212
9221: POP
9222: POP
// comms_mastodont ;
9223: CALL 9232 0 0
// end ; end ;
9227: LD_VAR 0 1
9231: RET
// export function comms_mastodont ; var un ; begin
9232: LD_INT 0
9234: PPUSH
9235: PPUSH
// uc_nation := 0 ;
9236: LD_ADDR_OWVAR 21
9240: PUSH
9241: LD_INT 0
9243: ST_TO_ADDR
// uc_side := nation_nature ;
9244: LD_ADDR_OWVAR 20
9248: PUSH
9249: LD_INT 0
9251: ST_TO_ADDR
// vc_chassis = 31 ;
9252: LD_ADDR_OWVAR 37
9256: PUSH
9257: LD_INT 31
9259: ST_TO_ADDR
// un := createvehicle ;
9260: LD_ADDR_VAR 0 2
9264: PUSH
9265: CALL_OW 45
9269: ST_TO_ADDR
// PlaceUnitArea ( un , stred , false ) ;
9270: LD_VAR 0 2
9274: PPUSH
9275: LD_INT 30
9277: PPUSH
9278: LD_INT 0
9280: PPUSH
9281: CALL_OW 49
// end ;
9285: LD_VAR 0 1
9289: RET
// every 0 0$1 marked 31 do var i ;
9290: GO 9292
9292: DISABLE
9293: LD_INT 0
9295: PPUSH
// begin if not tech_level = 8 then
9296: LD_EXP 56
9300: PUSH
9301: LD_INT 8
9303: EQUAL
9304: NOT
9305: IFFALSE 9309
// exit ;
9307: GO 9328
// if siberite_bomb_delay then
9309: LD_EXP 67
9313: IFFALSE 9324
// wait ( siberite_bomb_Delay ) ;
9315: LD_EXP 67
9319: PPUSH
9320: CALL_OW 67
// EnableSibFiss ;
9324: CALL 9331 0 0
// end ;
9328: PPOPN 1
9330: END
// function EnableSibFiss ( ) ; var side , narodnost ; begin
9331: LD_INT 0
9333: PPUSH
9334: PPUSH
9335: PPUSH
// for side = 1 to side_positions + 0 do
9336: LD_ADDR_VAR 0 2
9340: PUSH
9341: DOUBLE
9342: LD_INT 1
9344: DEC
9345: ST_TO_ADDR
9346: LD_EXP 75
9350: PUSH
9351: LD_INT 0
9353: PLUS
9354: PUSH
9355: FOR_TO
9356: IFFALSE 9456
// begin narodnost := Side_Nations [ side ] ;
9358: LD_ADDR_VAR 0 3
9362: PUSH
9363: LD_EXP 76
9367: PUSH
9368: LD_VAR 0 2
9372: ARRAY
9373: ST_TO_ADDR
// case narodnost of 1 , 3 :
9374: LD_VAR 0 3
9378: PUSH
9379: LD_INT 1
9381: DOUBLE
9382: EQUAL
9383: IFTRUE 9393
9385: LD_INT 3
9387: DOUBLE
9388: EQUAL
9389: IFTRUE 9393
9391: GO 9419
9393: POP
// SetTech ( 25 , side , GetRestrictions ( false , 25 ) ) ; 2 :
9394: LD_INT 25
9396: PPUSH
9397: LD_VAR 0 2
9401: PPUSH
9402: LD_INT 0
9404: PPUSH
9405: LD_INT 25
9407: PPUSH
9408: CALL_OW 565
9412: PPUSH
9413: CALL_OW 322
9417: GO 9454
9419: LD_INT 2
9421: DOUBLE
9422: EQUAL
9423: IFTRUE 9427
9425: GO 9453
9427: POP
// SetTech ( 73 , side , GetRestrictions ( false , 73 ) ) ; end ;
9428: LD_INT 73
9430: PPUSH
9431: LD_VAR 0 2
9435: PPUSH
9436: LD_INT 0
9438: PPUSH
9439: LD_INT 73
9441: PPUSH
9442: CALL_OW 565
9446: PPUSH
9447: CALL_OW 322
9451: GO 9454
9453: POP
// end ;
9454: GO 9355
9456: POP
9457: POP
// Tech_Level = 8 ;
9458: LD_ADDR_EXP 56
9462: PUSH
9463: LD_INT 8
9465: ST_TO_ADDR
// end ;
9466: LD_VAR 0 1
9470: RET
// export function Start_Zvirata ; begin
9471: LD_INT 0
9473: PPUSH
// if def_amount_of_apemen > 0 then
9474: LD_EXP 22
9478: PUSH
9479: LD_INT 0
9481: GREATER
9482: IFFALSE 9491
// begin StartApe ;
9484: CALL 15050 0 0
// enable ( 493 ) ;
9488: LD_INT 493
9490: ENABLE_MARKED
// end ; if def_amount_of_tiger > 0 then
9491: LD_EXP 23
9495: PUSH
9496: LD_INT 0
9498: GREATER
9499: IFFALSE 9508
// begin StartTig ;
9501: CALL 15800 0 0
// enable ( 494 ) ;
9505: LD_INT 494
9507: ENABLE_MARKED
// end ; end ;
9508: LD_VAR 0 1
9512: RET
// export function Disable_Standard_Games ; begin
9513: LD_INT 0
9515: PPUSH
// disable ( 2 ) ;
9516: LD_INT 2
9518: DISABLE_MARKED
// disable ( 3 ) ;
9519: LD_INT 3
9521: DISABLE_MARKED
// disable ( 4 ) ;
9522: LD_INT 4
9524: DISABLE_MARKED
// disable ( 30 ) ;
9525: LD_INT 30
9527: DISABLE_MARKED
// disable ( 31 ) ;
9528: LD_INT 31
9530: DISABLE_MARKED
// disable ( 60 ) ;
9531: LD_INT 60
9533: DISABLE_MARKED
// disable ( 98 ) ;
9534: LD_INT 98
9536: DISABLE_MARKED
// disable ( 99 ) ;
9537: LD_INT 99
9539: DISABLE_MARKED
// disable ( 100 ) ;
9540: LD_INT 100
9542: DISABLE_MARKED
// disable ( 400 ) ;
9543: LD_INT 400
9545: DISABLE_MARKED
// disable ( 401 ) ;
9546: LD_INT 401
9548: DISABLE_MARKED
// disable ( 493 ) ;
9549: LD_INT 493
9551: DISABLE_MARKED
// disable ( 494 ) ;
9552: LD_INT 494
9554: DISABLE_MARKED
// disable ( 600 ) end ; end_of_file
9555: LD_INT 600
9557: DISABLE_MARKED
9558: LD_VAR 0 1
9562: RET
// export oblasti_beden , start_oblasti_beden , dalsi_oblasti_beden , koof_bedny ; var kontrolni_pocet ; every 1 1$0 + 0 0$1 do
9563: GO 9565
9565: DISABLE
// begin if game_type = GT_Survival then
9566: LD_EXP 1
9570: PUSH
9571: LD_EXP 6
9575: EQUAL
9576: IFFALSE 9580
// exit ;
9578: GO 9599
// CreateCratesAnywhere ( Rand ( 1 , 2 ) , true ) ;
9580: LD_INT 1
9582: PPUSH
9583: LD_INT 2
9585: PPUSH
9586: CALL_OW 12
9590: PPUSH
9591: LD_INT 1
9593: PPUSH
9594: CALL_OW 57
// enable ;
9598: ENABLE
// end ;
9599: END
// every 0 0$20 do var i , d , shipment , tictac , k , p ;
9600: GO 9602
9602: DISABLE
9603: LD_INT 0
9605: PPUSH
9606: PPUSH
9607: PPUSH
9608: PPUSH
9609: PPUSH
9610: PPUSH
// begin if game_type in GT_Survival then
9611: LD_EXP 1
9615: PUSH
9616: LD_EXP 6
9620: IN
9621: IFFALSE 9625
// exit ;
9623: GO 10521
// shipment := Rand ( 0 , 3 ) ;
9625: LD_ADDR_VAR 0 3
9629: PUSH
9630: LD_INT 0
9632: PPUSH
9633: LD_INT 3
9635: PPUSH
9636: CALL_OW 12
9640: ST_TO_ADDR
// tictac := 0 ;
9641: LD_ADDR_VAR 0 4
9645: PUSH
9646: LD_INT 0
9648: ST_TO_ADDR
// case tick of 1 .. 2 2$0 :
9649: LD_OWVAR 1
9653: PUSH
9654: LD_INT 1
9656: DOUBLE
9657: GREATEREQUAL
9658: IFFALSE 9666
9660: LD_INT 4200
9662: DOUBLE
9663: LESSEQUAL
9664: IFTRUE 9668
9666: GO 9679
9668: POP
// d := 150 ; 2 2$0 + 1 .. 4 4$0 :
9669: LD_ADDR_VAR 0 2
9673: PUSH
9674: LD_INT 150
9676: ST_TO_ADDR
9677: GO 9862
9679: LD_INT 4200
9681: PUSH
9682: LD_INT 1
9684: PLUS
9685: DOUBLE
9686: GREATEREQUAL
9687: IFFALSE 9695
9689: LD_INT 8400
9691: DOUBLE
9692: LESSEQUAL
9693: IFTRUE 9697
9695: GO 9708
9697: POP
// d := 120 ; 4 4$0 + 1 .. 6 6$0 :
9698: LD_ADDR_VAR 0 2
9702: PUSH
9703: LD_INT 120
9705: ST_TO_ADDR
9706: GO 9862
9708: LD_INT 8400
9710: PUSH
9711: LD_INT 1
9713: PLUS
9714: DOUBLE
9715: GREATEREQUAL
9716: IFFALSE 9724
9718: LD_INT 12600
9720: DOUBLE
9721: LESSEQUAL
9722: IFTRUE 9726
9724: GO 9737
9726: POP
// d := 100 ; 6 6$0 + 1 .. 7 7$0 :
9727: LD_ADDR_VAR 0 2
9731: PUSH
9732: LD_INT 100
9734: ST_TO_ADDR
9735: GO 9862
9737: LD_INT 12600
9739: PUSH
9740: LD_INT 1
9742: PLUS
9743: DOUBLE
9744: GREATEREQUAL
9745: IFFALSE 9753
9747: LD_INT 14700
9749: DOUBLE
9750: LESSEQUAL
9751: IFTRUE 9755
9753: GO 9766
9755: POP
// d := 80 ; 7 7$0 + 1 .. 9 9$0 :
9756: LD_ADDR_VAR 0 2
9760: PUSH
9761: LD_INT 80
9763: ST_TO_ADDR
9764: GO 9862
9766: LD_INT 14700
9768: PUSH
9769: LD_INT 1
9771: PLUS
9772: DOUBLE
9773: GREATEREQUAL
9774: IFFALSE 9782
9776: LD_INT 18900
9778: DOUBLE
9779: LESSEQUAL
9780: IFTRUE 9784
9782: GO 9795
9784: POP
// d := 70 ; 9 9$0 + 1 .. 15 15$0 :
9785: LD_ADDR_VAR 0 2
9789: PUSH
9790: LD_INT 70
9792: ST_TO_ADDR
9793: GO 9862
9795: LD_INT 18900
9797: PUSH
9798: LD_INT 1
9800: PLUS
9801: DOUBLE
9802: GREATEREQUAL
9803: IFFALSE 9811
9805: LD_INT 31500
9807: DOUBLE
9808: LESSEQUAL
9809: IFTRUE 9813
9811: GO 9824
9813: POP
// d := 45 ; 15 15$0 + 1 .. 30 30$0 :
9814: LD_ADDR_VAR 0 2
9818: PUSH
9819: LD_INT 45
9821: ST_TO_ADDR
9822: GO 9862
9824: LD_INT 31500
9826: PUSH
9827: LD_INT 1
9829: PLUS
9830: DOUBLE
9831: GREATEREQUAL
9832: IFFALSE 9840
9834: LD_INT 63000
9836: DOUBLE
9837: LESSEQUAL
9838: IFTRUE 9842
9840: GO 9853
9842: POP
// d := 30 ; else
9843: LD_ADDR_VAR 0 2
9847: PUSH
9848: LD_INT 30
9850: ST_TO_ADDR
9851: GO 9862
9853: POP
// d := 20 ; end ;
9854: LD_ADDR_VAR 0 2
9858: PUSH
9859: LD_INT 20
9861: ST_TO_ADDR
// if GetResourceArea ( celamapa , mat_cans ) < ( 100 + shipments_density * koof_bedny ) then
9862: LD_INT 32
9864: PPUSH
9865: LD_INT 1
9867: PPUSH
9868: CALL_OW 287
9872: PUSH
9873: LD_INT 100
9875: PUSH
9876: LD_EXP 45
9880: PUSH
9881: LD_EXP 101
9885: MUL
9886: PLUS
9887: LESS
9888: IFFALSE 10520
// if rand ( 1 , 10000 ) <= d * shipments_density then
9890: LD_INT 1
9892: PPUSH
9893: LD_INT 10000
9895: PPUSH
9896: CALL_OW 12
9900: PUSH
9901: LD_VAR 0 2
9905: PUSH
9906: LD_EXP 45
9910: MUL
9911: LESSEQUAL
9912: IFFALSE 10156
// begin k = Rand ( 2 , 4 ) ;
9914: LD_ADDR_VAR 0 5
9918: PUSH
9919: LD_INT 2
9921: PPUSH
9922: LD_INT 4
9924: PPUSH
9925: CALL_OW 12
9929: ST_TO_ADDR
// if start_oblasti_beden then
9930: LD_EXP 99
9934: IFFALSE 10035
// begin for i := 1 to 8 do
9936: LD_ADDR_VAR 0 1
9940: PUSH
9941: DOUBLE
9942: LD_INT 1
9944: DEC
9945: ST_TO_ADDR
9946: LD_INT 8
9948: PUSH
9949: FOR_TO
9950: IFFALSE 10031
// if side_positions [ i ] <> 0 then
9952: LD_EXP 75
9956: PUSH
9957: LD_VAR 0 1
9961: ARRAY
9962: PUSH
9963: LD_INT 0
9965: NONEQUAL
9966: IFFALSE 10029
// for p in pozice_beden [ i ] do
9968: LD_ADDR_VAR 0 6
9972: PUSH
9973: LD_EXP 8
9977: PUSH
9978: LD_VAR 0 1
9982: ARRAY
9983: PUSH
9984: FOR_IN
9985: IFFALSE 10027
// begin CreateCratesArea ( k , start_oblasti_beden [ p ] , true ) ;
9987: LD_VAR 0 5
9991: PPUSH
9992: LD_EXP 99
9996: PUSH
9997: LD_VAR 0 6
10001: ARRAY
10002: PPUSH
10003: LD_INT 1
10005: PPUSH
10006: CALL_OW 55
// Wait ( rand ( 2 , 0 0$2 ) ) ;
10010: LD_INT 2
10012: PPUSH
10013: LD_INT 70
10015: PPUSH
10016: CALL_OW 12
10020: PPUSH
10021: CALL_OW 67
// end ;
10025: GO 9984
10027: POP
10028: POP
10029: GO 9949
10031: POP
10032: POP
// end else
10033: GO 10154
// begin for i := 1 to 8 do
10035: LD_ADDR_VAR 0 1
10039: PUSH
10040: DOUBLE
10041: LD_INT 1
10043: DEC
10044: ST_TO_ADDR
10045: LD_INT 8
10047: PUSH
10048: FOR_TO
10049: IFFALSE 10152
// if side_positions [ i ] <> 0 then
10051: LD_EXP 75
10055: PUSH
10056: LD_VAR 0 1
10060: ARRAY
10061: PUSH
10062: LD_INT 0
10064: NONEQUAL
10065: IFFALSE 10150
// for p in pozice_beden [ i ] do
10067: LD_ADDR_VAR 0 6
10071: PUSH
10072: LD_EXP 8
10076: PUSH
10077: LD_VAR 0 1
10081: ARRAY
10082: PUSH
10083: FOR_IN
10084: IFFALSE 10148
// begin CreateCratesXYR ( k , start_def [ p ] [ 1 ] , start_def [ p ] [ 2 ] , 20 , true ) ;
10086: LD_VAR 0 5
10090: PPUSH
10091: LD_EXP 83
10095: PUSH
10096: LD_VAR 0 6
10100: ARRAY
10101: PUSH
10102: LD_INT 1
10104: ARRAY
10105: PPUSH
10106: LD_EXP 83
10110: PUSH
10111: LD_VAR 0 6
10115: ARRAY
10116: PUSH
10117: LD_INT 2
10119: ARRAY
10120: PPUSH
10121: LD_INT 20
10123: PPUSH
10124: LD_INT 1
10126: PPUSH
10127: CALL_OW 56
// wait ( rand ( 2 , 0 0$2 ) ) ;
10131: LD_INT 2
10133: PPUSH
10134: LD_INT 70
10136: PPUSH
10137: CALL_OW 12
10141: PPUSH
10142: CALL_OW 67
// end ;
10146: GO 10083
10148: POP
10149: POP
10150: GO 10048
10152: POP
10153: POP
// end ; end else
10154: GO 10520
// if rand ( 1 , 10000 ) <= ( 150 - d ) * shipments_density then
10156: LD_INT 1
10158: PPUSH
10159: LD_INT 10000
10161: PPUSH
10162: CALL_OW 12
10166: PUSH
10167: LD_INT 150
10169: PUSH
10170: LD_VAR 0 2
10174: MINUS
10175: PUSH
10176: LD_EXP 45
10180: MUL
10181: LESSEQUAL
10182: IFFALSE 10520
// begin k := Rand ( 1 , 4 ) ;
10184: LD_ADDR_VAR 0 5
10188: PUSH
10189: LD_INT 1
10191: PPUSH
10192: LD_INT 4
10194: PPUSH
10195: CALL_OW 12
10199: ST_TO_ADDR
// wait ( rand ( 2 , 0 0$4 ) ) ;
10200: LD_INT 2
10202: PPUSH
10203: LD_INT 140
10205: PPUSH
10206: CALL_OW 12
10210: PPUSH
10211: CALL_OW 67
// if oblasti_beden then
10215: LD_EXP 98
10219: IFFALSE 10320
// begin for i := 1 to 8 do
10221: LD_ADDR_VAR 0 1
10225: PUSH
10226: DOUBLE
10227: LD_INT 1
10229: DEC
10230: ST_TO_ADDR
10231: LD_INT 8
10233: PUSH
10234: FOR_TO
10235: IFFALSE 10316
// if side_positions [ i ] <> 0 then
10237: LD_EXP 75
10241: PUSH
10242: LD_VAR 0 1
10246: ARRAY
10247: PUSH
10248: LD_INT 0
10250: NONEQUAL
10251: IFFALSE 10314
// for p in pozice_beden [ i ] do
10253: LD_ADDR_VAR 0 6
10257: PUSH
10258: LD_EXP 8
10262: PUSH
10263: LD_VAR 0 1
10267: ARRAY
10268: PUSH
10269: FOR_IN
10270: IFFALSE 10312
// begin CreateCratesArea ( k , oblasti_beden [ p ] , true ) ;
10272: LD_VAR 0 5
10276: PPUSH
10277: LD_EXP 98
10281: PUSH
10282: LD_VAR 0 6
10286: ARRAY
10287: PPUSH
10288: LD_INT 1
10290: PPUSH
10291: CALL_OW 55
// Wait ( rand ( 2 , 0 0$1 ) ) ;
10295: LD_INT 2
10297: PPUSH
10298: LD_INT 35
10300: PPUSH
10301: CALL_OW 12
10305: PPUSH
10306: CALL_OW 67
// end ;
10310: GO 10269
10312: POP
10313: POP
10314: GO 10234
10316: POP
10317: POP
// end else
10318: GO 10439
// begin for i := 1 to 8 do
10320: LD_ADDR_VAR 0 1
10324: PUSH
10325: DOUBLE
10326: LD_INT 1
10328: DEC
10329: ST_TO_ADDR
10330: LD_INT 8
10332: PUSH
10333: FOR_TO
10334: IFFALSE 10437
// if side_positions [ i ] <> 0 then
10336: LD_EXP 75
10340: PUSH
10341: LD_VAR 0 1
10345: ARRAY
10346: PUSH
10347: LD_INT 0
10349: NONEQUAL
10350: IFFALSE 10435
// for p in pozice_beden [ i ] do
10352: LD_ADDR_VAR 0 6
10356: PUSH
10357: LD_EXP 8
10361: PUSH
10362: LD_VAR 0 1
10366: ARRAY
10367: PUSH
10368: FOR_IN
10369: IFFALSE 10433
// begin CreateCratesXYR ( k , start_def [ p ] [ 1 ] , start_def [ p ] [ 2 ] , 20 , true ) ;
10371: LD_VAR 0 5
10375: PPUSH
10376: LD_EXP 83
10380: PUSH
10381: LD_VAR 0 6
10385: ARRAY
10386: PUSH
10387: LD_INT 1
10389: ARRAY
10390: PPUSH
10391: LD_EXP 83
10395: PUSH
10396: LD_VAR 0 6
10400: ARRAY
10401: PUSH
10402: LD_INT 2
10404: ARRAY
10405: PPUSH
10406: LD_INT 20
10408: PPUSH
10409: LD_INT 1
10411: PPUSH
10412: CALL_OW 56
// wait ( rand ( 2 , 0 0$2 ) ) ;
10416: LD_INT 2
10418: PPUSH
10419: LD_INT 70
10421: PPUSH
10422: CALL_OW 12
10426: PPUSH
10427: CALL_OW 67
// end ;
10431: GO 10368
10433: POP
10434: POP
10435: GO 10333
10437: POP
10438: POP
// end ; if dalsi_oblasti_beden then
10439: LD_EXP 100
10443: IFFALSE 10520
// for k in dalsi_oblasti_beden do
10445: LD_ADDR_VAR 0 5
10449: PUSH
10450: LD_EXP 100
10454: PUSH
10455: FOR_IN
10456: IFFALSE 10518
// for i := 1 to Rand ( 1 , 3 ) do
10458: LD_ADDR_VAR 0 1
10462: PUSH
10463: DOUBLE
10464: LD_INT 1
10466: DEC
10467: ST_TO_ADDR
10468: LD_INT 1
10470: PPUSH
10471: LD_INT 3
10473: PPUSH
10474: CALL_OW 12
10478: PUSH
10479: FOR_TO
10480: IFFALSE 10514
// begin CreateCratesArea ( Rand ( 3 , 5 ) , k , true ) ;
10482: LD_INT 3
10484: PPUSH
10485: LD_INT 5
10487: PPUSH
10488: CALL_OW 12
10492: PPUSH
10493: LD_VAR 0 5
10497: PPUSH
10498: LD_INT 1
10500: PPUSH
10501: CALL_OW 55
// Wait ( 2 ) ;
10505: LD_INT 2
10507: PPUSH
10508: CALL_OW 67
// end ;
10512: GO 10479
10514: POP
10515: POP
10516: GO 10455
10518: POP
10519: POP
// end ; enable ;
10520: ENABLE
// end ; end_of_file
10521: PPOPN 6
10523: END
// var respawn , inqueue , nation , nations , noposn ; export function init_respawn ; var i , pos ; begin
10524: LD_INT 0
10526: PPUSH
10527: PPUSH
10528: PPUSH
// nation := rand ( 1 , 3 ) ;
10529: LD_ADDR_LOC 4
10533: PUSH
10534: LD_INT 1
10536: PPUSH
10537: LD_INT 3
10539: PPUSH
10540: CALL_OW 12
10544: ST_TO_ADDR
// respawn := Rand ( 1 , 8 ) ;
10545: LD_ADDR_LOC 2
10549: PUSH
10550: LD_INT 1
10552: PPUSH
10553: LD_INT 8
10555: PPUSH
10556: CALL_OW 12
10560: ST_TO_ADDR
// Nations = [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
10561: LD_ADDR_LOC 5
10565: PUSH
10566: EMPTY
10567: PUSH
10568: EMPTY
10569: PUSH
10570: EMPTY
10571: PUSH
10572: EMPTY
10573: PUSH
10574: EMPTY
10575: PUSH
10576: EMPTY
10577: PUSH
10578: EMPTY
10579: PUSH
10580: EMPTY
10581: PUSH
10582: EMPTY
10583: LIST
10584: LIST
10585: LIST
10586: LIST
10587: LIST
10588: LIST
10589: LIST
10590: LIST
10591: ST_TO_ADDR
// inqueue := [ [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] ] ;
10592: LD_ADDR_LOC 3
10596: PUSH
10597: LD_INT 0
10599: PUSH
10600: LD_INT 0
10602: PUSH
10603: LD_INT 0
10605: PUSH
10606: EMPTY
10607: LIST
10608: LIST
10609: LIST
10610: PUSH
10611: LD_INT 0
10613: PUSH
10614: LD_INT 0
10616: PUSH
10617: LD_INT 0
10619: PUSH
10620: EMPTY
10621: LIST
10622: LIST
10623: LIST
10624: PUSH
10625: LD_INT 0
10627: PUSH
10628: LD_INT 0
10630: PUSH
10631: LD_INT 0
10633: PUSH
10634: EMPTY
10635: LIST
10636: LIST
10637: LIST
10638: PUSH
10639: LD_INT 0
10641: PUSH
10642: LD_INT 0
10644: PUSH
10645: LD_INT 0
10647: PUSH
10648: EMPTY
10649: LIST
10650: LIST
10651: LIST
10652: PUSH
10653: LD_INT 0
10655: PUSH
10656: LD_INT 0
10658: PUSH
10659: LD_INT 0
10661: PUSH
10662: EMPTY
10663: LIST
10664: LIST
10665: LIST
10666: PUSH
10667: LD_INT 0
10669: PUSH
10670: LD_INT 0
10672: PUSH
10673: LD_INT 0
10675: PUSH
10676: EMPTY
10677: LIST
10678: LIST
10679: LIST
10680: PUSH
10681: LD_INT 0
10683: PUSH
10684: LD_INT 0
10686: PUSH
10687: LD_INT 0
10689: PUSH
10690: EMPTY
10691: LIST
10692: LIST
10693: LIST
10694: PUSH
10695: LD_INT 0
10697: PUSH
10698: LD_INT 0
10700: PUSH
10701: LD_INT 0
10703: PUSH
10704: EMPTY
10705: LIST
10706: LIST
10707: LIST
10708: PUSH
10709: EMPTY
10710: LIST
10711: LIST
10712: LIST
10713: LIST
10714: LIST
10715: LIST
10716: LIST
10717: LIST
10718: ST_TO_ADDR
// for i := 1 to 8 do
10719: LD_ADDR_VAR 0 2
10723: PUSH
10724: DOUBLE
10725: LD_INT 1
10727: DEC
10728: ST_TO_ADDR
10729: LD_INT 8
10731: PUSH
10732: FOR_TO
10733: IFFALSE 10838
// if Side_Positions [ i ] then
10735: LD_EXP 75
10739: PUSH
10740: LD_VAR 0 2
10744: ARRAY
10745: IFFALSE 10836
// begin if Game_Type in GT_DoubleNat ^ GT_TripleNat then
10747: LD_EXP 1
10751: PUSH
10752: LD_EXP 3
10756: PUSH
10757: LD_EXP 5
10761: ADD
10762: IN
10763: IFFALSE 10802
// nations = replace ( nations , i , Position_Nations [ i ] diff 0 ) else
10765: LD_ADDR_LOC 5
10769: PUSH
10770: LD_LOC 5
10774: PPUSH
10775: LD_VAR 0 2
10779: PPUSH
10780: LD_EXP 52
10784: PUSH
10785: LD_VAR 0 2
10789: ARRAY
10790: PUSH
10791: LD_INT 0
10793: DIFF
10794: PPUSH
10795: CALL_OW 1
10799: ST_TO_ADDR
10800: GO 10836
// nations = replace ( nations , i , [ Side_Nations [ i ] ] ) ;
10802: LD_ADDR_LOC 5
10806: PUSH
10807: LD_LOC 5
10811: PPUSH
10812: LD_VAR 0 2
10816: PPUSH
10817: LD_EXP 76
10821: PUSH
10822: LD_VAR 0 2
10826: ARRAY
10827: PUSH
10828: EMPTY
10829: LIST
10830: PPUSH
10831: CALL_OW 1
10835: ST_TO_ADDR
// end ;
10836: GO 10732
10838: POP
10839: POP
// if Game_Type in GT_DoublePeople then
10840: LD_EXP 1
10844: PUSH
10845: LD_EXP 4
10849: IN
10850: IFFALSE 10868
// noposn = number_of_people * 2 else
10852: LD_ADDR_LOC 6
10856: PUSH
10857: LD_EXP 40
10861: PUSH
10862: LD_INT 2
10864: MUL
10865: ST_TO_ADDR
10866: GO 10878
// noposn = number_of_people ;
10868: LD_ADDR_LOC 6
10872: PUSH
10873: LD_EXP 40
10877: ST_TO_ADDR
// SetRespawningTime ( respawning_time_min , respawning_time_max , respawning_time_delay_min , respawning_time_delay_max ) ;
10878: LD_EXP 49
10882: PPUSH
10883: LD_EXP 51
10887: PPUSH
10888: LD_EXP 53
10892: PPUSH
10893: LD_EXP 54
10897: PPUSH
10898: CALL 11638 0 4
// end ;
10902: LD_VAR 0 1
10906: RET
// every 0 0$1 + 0 0$0.5 do var n , building_list , aktresp , b , skills , k ;
10907: GO 10909
10909: DISABLE
10910: LD_INT 0
10912: PPUSH
10913: PPUSH
10914: PPUSH
10915: PPUSH
10916: PPUSH
10917: PPUSH
// begin if def_respawining_type = 0 then
10918: LD_EXP 24
10922: PUSH
10923: LD_INT 0
10925: EQUAL
10926: IFFALSE 10932
// exit else
10928: GO 11337
10930: GO 11337
// if def_respawining_type in [ 2 , 3 ] then
10932: LD_EXP 24
10936: PUSH
10937: LD_INT 2
10939: PUSH
10940: LD_INT 3
10942: PUSH
10943: EMPTY
10944: LIST
10945: LIST
10946: IN
10947: IFFALSE 11303
// begin if respawn = 8 then
10949: LD_LOC 2
10953: PUSH
10954: LD_INT 8
10956: EQUAL
10957: IFFALSE 11003
// begin respawn := 1 ;
10959: LD_ADDR_LOC 2
10963: PUSH
10964: LD_INT 1
10966: ST_TO_ADDR
// if nation = 3 then
10967: LD_LOC 4
10971: PUSH
10972: LD_INT 3
10974: EQUAL
10975: IFFALSE 10987
// nation := 1 else
10977: LD_ADDR_LOC 4
10981: PUSH
10982: LD_INT 1
10984: ST_TO_ADDR
10985: GO 11001
// nation := nation + 1 ;
10987: LD_ADDR_LOC 4
10991: PUSH
10992: LD_LOC 4
10996: PUSH
10997: LD_INT 1
10999: PLUS
11000: ST_TO_ADDR
// end else
11001: GO 11017
// respawn := respawn + 1 ;
11003: LD_ADDR_LOC 2
11007: PUSH
11008: LD_LOC 2
11012: PUSH
11013: LD_INT 1
11015: PLUS
11016: ST_TO_ADDR
// if Side_Positions [ respawn ] then
11017: LD_EXP 75
11021: PUSH
11022: LD_LOC 2
11026: ARRAY
11027: IFFALSE 11300
// begin if nation in nations [ respawn ] then
11029: LD_LOC 4
11033: PUSH
11034: LD_LOC 5
11038: PUSH
11039: LD_LOC 2
11043: ARRAY
11044: IN
11045: IFFALSE 11297
// begin if def_desert_warior < 2 then
11047: LD_EXP 31
11051: PUSH
11052: LD_INT 2
11054: LESS
11055: IFFALSE 11108
// n := FilterAllUnits ( [ [ f_type , unit_human ] , [ f_side , respawn ] , [ f_nation , nation ] , ] ) else
11057: LD_ADDR_VAR 0 1
11061: PUSH
11062: LD_INT 21
11064: PUSH
11065: LD_INT 1
11067: PUSH
11068: EMPTY
11069: LIST
11070: LIST
11071: PUSH
11072: LD_INT 22
11074: PUSH
11075: LD_LOC 2
11079: PUSH
11080: EMPTY
11081: LIST
11082: LIST
11083: PUSH
11084: LD_INT 23
11086: PUSH
11087: LD_LOC 4
11091: PUSH
11092: EMPTY
11093: LIST
11094: LIST
11095: PUSH
11096: EMPTY
11097: LIST
11098: LIST
11099: LIST
11100: PPUSH
11101: CALL_OW 69
11105: ST_TO_ADDR
11106: GO 11172
// n := FilterAllUnits ( [ [ f_type , unit_human ] , [ f_side , respawn ] , [ f_nation , nation ] , f_not , [ f_class , class_desert_warior ] , ] ) ;
11108: LD_ADDR_VAR 0 1
11112: PUSH
11113: LD_INT 21
11115: PUSH
11116: LD_INT 1
11118: PUSH
11119: EMPTY
11120: LIST
11121: LIST
11122: PUSH
11123: LD_INT 22
11125: PUSH
11126: LD_LOC 2
11130: PUSH
11131: EMPTY
11132: LIST
11133: LIST
11134: PUSH
11135: LD_INT 23
11137: PUSH
11138: LD_LOC 4
11142: PUSH
11143: EMPTY
11144: LIST
11145: LIST
11146: PUSH
11147: LD_INT 3
11149: PUSH
11150: LD_INT 25
11152: PUSH
11153: LD_INT 11
11155: PUSH
11156: EMPTY
11157: LIST
11158: LIST
11159: PUSH
11160: EMPTY
11161: LIST
11162: LIST
11163: LIST
11164: LIST
11165: LIST
11166: PPUSH
11167: CALL_OW 69
11171: ST_TO_ADDR
// if ( n + inqueue [ respawn ] [ nation ] ) < noposn then
11172: LD_VAR 0 1
11176: PUSH
11177: LD_LOC 3
11181: PUSH
11182: LD_LOC 2
11186: ARRAY
11187: PUSH
11188: LD_LOC 4
11192: ARRAY
11193: PLUS
11194: PUSH
11195: LD_LOC 6
11199: LESS
11200: IFFALSE 11294
// begin aktresp := respawn ;
11202: LD_ADDR_VAR 0 3
11206: PUSH
11207: LD_LOC 2
11211: ST_TO_ADDR
// inqueue := Replace ( inqueue , aktresp , replace ( inqueue [ aktresp ] , nation , inqueue [ aktresp ] [ nation ] + 1 ) ) ;
11212: LD_ADDR_LOC 3
11216: PUSH
11217: LD_LOC 3
11221: PPUSH
11222: LD_VAR 0 3
11226: PPUSH
11227: LD_LOC 3
11231: PUSH
11232: LD_VAR 0 3
11236: ARRAY
11237: PPUSH
11238: LD_LOC 4
11242: PPUSH
11243: LD_LOC 3
11247: PUSH
11248: LD_VAR 0 3
11252: ARRAY
11253: PUSH
11254: LD_LOC 4
11258: ARRAY
11259: PUSH
11260: LD_INT 1
11262: PLUS
11263: PPUSH
11264: CALL_OW 1
11268: PPUSH
11269: CALL_OW 1
11273: ST_TO_ADDR
// enable ;
11274: ENABLE
// ObnovCloveka ( aktresp , nation , false ) ;
11275: LD_VAR 0 3
11279: PPUSH
11280: LD_LOC 4
11284: PPUSH
11285: LD_INT 0
11287: PPUSH
11288: CALL 11752 0 3
// end else
11292: GO 11295
// enable ;
11294: ENABLE
// end else
11295: GO 11298
// enable ;
11297: ENABLE
// end else
11298: GO 11301
// enable ;
11300: ENABLE
// end else
11301: GO 11337
// if def_respawining_type = 1 then
11303: LD_EXP 24
11307: PUSH
11308: LD_INT 1
11310: EQUAL
11311: IFFALSE 11337
// begin wait ( rand ( respawning_time_min , respawning_time_max ) ) ;
11313: LD_EXP 49
11317: PPUSH
11318: LD_EXP 51
11322: PPUSH
11323: CALL_OW 12
11327: PPUSH
11328: CALL_OW 67
// Vytvor_noveho_cloveka_pro_vsechny ;
11332: CALL 12837 0 0
// enable ;
11336: ENABLE
// end end ;
11337: PPOPN 6
11339: END
// export function OnHumanRespawned ( un ) ; var side , nation ; begin
11340: LD_INT 0
11342: PPUSH
11343: PPUSH
11344: PPUSH
// wait ( 0 0$30 ) ;
11345: LD_INT 1050
11347: PPUSH
11348: CALL_OW 67
// side = GetSide ( un ) ;
11352: LD_ADDR_VAR 0 3
11356: PUSH
11357: LD_VAR 0 1
11361: PPUSH
11362: CALL_OW 255
11366: ST_TO_ADDR
// nation = GetNation ( un ) ;
11367: LD_ADDR_VAR 0 4
11371: PUSH
11372: LD_VAR 0 1
11376: PPUSH
11377: CALL_OW 248
11381: ST_TO_ADDR
// inqueue := Replace ( inqueue , side , replace ( inqueue [ side ] , nation , inqueue [ side ] [ nation ] - 1 ) ) ;
11382: LD_ADDR_LOC 3
11386: PUSH
11387: LD_LOC 3
11391: PPUSH
11392: LD_VAR 0 3
11396: PPUSH
11397: LD_LOC 3
11401: PUSH
11402: LD_VAR 0 3
11406: ARRAY
11407: PPUSH
11408: LD_VAR 0 4
11412: PPUSH
11413: LD_LOC 3
11417: PUSH
11418: LD_VAR 0 3
11422: ARRAY
11423: PUSH
11424: LD_VAR 0 4
11428: ARRAY
11429: PUSH
11430: LD_INT 1
11432: MINUS
11433: PPUSH
11434: CALL_OW 1
11438: PPUSH
11439: CALL_OW 1
11443: ST_TO_ADDR
// end ;
11444: LD_VAR 0 2
11448: RET
// export function RespawnHumanDestroyed ( identifier , side , nation , x , y , direction , sex , cl ) ; begin
11449: LD_INT 0
11451: PPUSH
// if def_respawining_type < 2 then
11452: LD_EXP 24
11456: PUSH
11457: LD_INT 2
11459: LESS
11460: IFFALSE 11464
// exit ;
11462: GO 11633
// if nation = nation_nature or side = 0 then
11464: LD_VAR 0 3
11468: PUSH
11469: LD_INT 0
11471: EQUAL
11472: PUSH
11473: LD_VAR 0 2
11477: PUSH
11478: LD_INT 0
11480: EQUAL
11481: OR
11482: IFFALSE 11486
// exit ;
11484: GO 11633
// if not Side_Positions [ side ] then
11486: LD_EXP 75
11490: PUSH
11491: LD_VAR 0 2
11495: ARRAY
11496: NOT
11497: IFFALSE 11501
// exit ;
11499: GO 11633
// if def_desert_warior = 2 then
11501: LD_EXP 31
11505: PUSH
11506: LD_INT 2
11508: EQUAL
11509: IFFALSE 11523
// if cl = class_desert_warior then
11511: LD_VAR 0 8
11515: PUSH
11516: LD_INT 11
11518: EQUAL
11519: IFFALSE 11523
// exit ;
11521: GO 11633
// inqueue := Replace ( inqueue , side , replace ( inqueue [ side ] , nation , inqueue [ side ] [ nation ] + 1 ) ) ;
11523: LD_ADDR_LOC 3
11527: PUSH
11528: LD_LOC 3
11532: PPUSH
11533: LD_VAR 0 2
11537: PPUSH
11538: LD_LOC 3
11542: PUSH
11543: LD_VAR 0 2
11547: ARRAY
11548: PPUSH
11549: LD_VAR 0 3
11553: PPUSH
11554: LD_LOC 3
11558: PUSH
11559: LD_VAR 0 2
11563: ARRAY
11564: PUSH
11565: LD_VAR 0 3
11569: ARRAY
11570: PUSH
11571: LD_INT 1
11573: PLUS
11574: PPUSH
11575: CALL_OW 1
11579: PPUSH
11580: CALL_OW 1
11584: ST_TO_ADDR
// if def_respawining_type = 2 then
11585: LD_EXP 24
11589: PUSH
11590: LD_INT 2
11592: EQUAL
11593: IFFALSE 11616
// ObnovCloveka ( side , nation , identifier ) else
11595: LD_VAR 0 2
11599: PPUSH
11600: LD_VAR 0 3
11604: PPUSH
11605: LD_VAR 0 1
11609: PPUSH
11610: CALL 11752 0 3
11614: GO 11633
// ObnovCloveka ( side , nation , false ) ;
11616: LD_VAR 0 2
11620: PPUSH
11621: LD_VAR 0 3
11625: PPUSH
11626: LD_INT 0
11628: PPUSH
11629: CALL 11752 0 3
// end ;
11633: LD_VAR 0 9
11637: RET
// export ObnovCas , ObnovZpozdeni ; export function SetRespawningTime ( minBTime , maxBTime , MinDelay , MaxDelay ) ; var k ; begin
11638: LD_INT 0
11640: PPUSH
11641: PPUSH
// k = Rand ( minBTime , maxBTime ) ;
11642: LD_ADDR_VAR 0 6
11646: PUSH
11647: LD_VAR 0 1
11651: PPUSH
11652: LD_VAR 0 2
11656: PPUSH
11657: CALL_OW 12
11661: ST_TO_ADDR
// ObnovCas = [ k , k , k , k , k , k , k , k ] ;
11662: LD_ADDR_EXP 102
11666: PUSH
11667: LD_VAR 0 6
11671: PUSH
11672: LD_VAR 0 6
11676: PUSH
11677: LD_VAR 0 6
11681: PUSH
11682: LD_VAR 0 6
11686: PUSH
11687: LD_VAR 0 6
11691: PUSH
11692: LD_VAR 0 6
11696: PUSH
11697: LD_VAR 0 6
11701: PUSH
11702: LD_VAR 0 6
11706: PUSH
11707: EMPTY
11708: LIST
11709: LIST
11710: LIST
11711: LIST
11712: LIST
11713: LIST
11714: LIST
11715: LIST
11716: ST_TO_ADDR
// k = Rand ( minDelay , MaxDelay ) ;
11717: LD_ADDR_VAR 0 6
11721: PUSH
11722: LD_VAR 0 3
11726: PPUSH
11727: LD_VAR 0 4
11731: PPUSH
11732: CALL_OW 12
11736: ST_TO_ADDR
// ObnovZpozdeni = k ;
11737: LD_ADDR_EXP 103
11741: PUSH
11742: LD_VAR 0 6
11746: ST_TO_ADDR
// end ;
11747: LD_VAR 0 5
11751: RET
// export unit_list ; export function ObnovCloveka ( side , nation , restored ) ; var building_list , b , n , un , k , i , base_skills , speed , def ; begin
11752: LD_INT 0
11754: PPUSH
11755: PPUSH
11756: PPUSH
11757: PPUSH
11758: PPUSH
11759: PPUSH
11760: PPUSH
11761: PPUSH
11762: PPUSH
11763: PPUSH
// if ObnovCas [ side ] = 0 then
11764: LD_EXP 102
11768: PUSH
11769: LD_VAR 0 1
11773: ARRAY
11774: PUSH
11775: LD_INT 0
11777: EQUAL
11778: IFFALSE 11782
// exit ;
11780: GO 12427
// uc_nation := nation ;
11782: LD_ADDR_OWVAR 21
11786: PUSH
11787: LD_VAR 0 2
11791: ST_TO_ADDR
// uc_side := side ;
11792: LD_ADDR_OWVAR 20
11796: PUSH
11797: LD_VAR 0 1
11801: ST_TO_ADDR
// uc_direction := Rand ( 0 , 5 ) ;
11802: LD_ADDR_OWVAR 24
11806: PUSH
11807: LD_INT 0
11809: PPUSH
11810: LD_INT 5
11812: PPUSH
11813: CALL_OW 12
11817: ST_TO_ADDR
// if restored then
11818: LD_VAR 0 3
11822: IFFALSE 11905
// begin hc_class = GetClass ( restored ) ;
11824: LD_ADDR_OWVAR 28
11828: PUSH
11829: LD_VAR 0 3
11833: PPUSH
11834: CALL_OW 257
11838: ST_TO_ADDR
// hc_attr = [ GetAttr ( restored , attr_stamina ) , GetAttr ( restored , attr_speed ) ] ;
11839: LD_ADDR_OWVAR 29
11843: PUSH
11844: LD_VAR 0 3
11848: PPUSH
11849: LD_INT 1
11851: PPUSH
11852: CALL_OW 260
11856: PUSH
11857: LD_VAR 0 3
11861: PPUSH
11862: LD_INT 2
11864: PPUSH
11865: CALL_OW 260
11869: PUSH
11870: EMPTY
11871: LIST
11872: LIST
11873: ST_TO_ADDR
// if hc_class in [ class_sniper , class_bazooker , class_mortar ] then
11874: LD_OWVAR 28
11878: PUSH
11879: LD_INT 5
11881: PUSH
11882: LD_INT 9
11884: PUSH
11885: LD_INT 8
11887: PUSH
11888: EMPTY
11889: LIST
11890: LIST
11891: LIST
11892: IN
11893: IFFALSE 11903
// hc_class = class_soldier ;
11895: LD_ADDR_OWVAR 28
11899: PUSH
11900: LD_INT 1
11902: ST_TO_ADDR
// end else
11903: GO 11914
// randomHumanStats ( initial_level ) ;
11905: LD_EXP 42
11909: PPUSH
11910: CALL 17259 0 1
// hc_importance := 0 ;
11914: LD_ADDR_OWVAR 32
11918: PUSH
11919: LD_INT 0
11921: ST_TO_ADDR
// hc_gallery :=  ;
11922: LD_ADDR_OWVAR 33
11926: PUSH
11927: LD_STRING 
11929: ST_TO_ADDR
// hc_face_number := 0 ;
11930: LD_ADDR_OWVAR 34
11934: PUSH
11935: LD_INT 0
11937: ST_TO_ADDR
// hc_name =  ;
11938: LD_ADDR_OWVAR 26
11942: PUSH
11943: LD_STRING 
11945: ST_TO_ADDR
// un := CreateHuman ;
11946: LD_ADDR_VAR 0 8
11950: PUSH
11951: CALL_OW 44
11955: ST_TO_ADDR
// if restored then
11956: LD_VAR 0 3
11960: IFFALSE 11976
// CopySkills ( restored , un ) ;
11962: LD_VAR 0 3
11966: PPUSH
11967: LD_VAR 0 8
11971: PPUSH
11972: CALL_OW 510
// k = ObnovCas [ side ] + ObnovZpozdeni ;
11976: LD_ADDR_VAR 0 9
11980: PUSH
11981: LD_EXP 102
11985: PUSH
11986: LD_VAR 0 1
11990: ARRAY
11991: PUSH
11992: LD_EXP 103
11996: PLUS
11997: ST_TO_ADDR
// ObnovCas = Replace ( ObnovCas , side , k ) ;
11998: LD_ADDR_EXP 102
12002: PUSH
12003: LD_EXP 102
12007: PPUSH
12008: LD_VAR 0 1
12012: PPUSH
12013: LD_VAR 0 9
12017: PPUSH
12018: CALL_OW 1
12022: ST_TO_ADDR
// wait ( ObnovCas [ side ] - ObnovZpozdeni ) ;
12023: LD_EXP 102
12027: PUSH
12028: LD_VAR 0 1
12032: ARRAY
12033: PUSH
12034: LD_EXP 103
12038: MINUS
12039: PPUSH
12040: CALL_OW 67
// if not ( HasPower ( side ) ) then
12044: LD_VAR 0 1
12048: PPUSH
12049: CALL 13210 0 1
12053: NOT
12054: IFFALSE 12058
// exit ;
12056: GO 12427
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_ok ] , [ f_side , side ] , [ f_nation , nation ] ] ) ;
12058: LD_ADDR_VAR 0 5
12062: PUSH
12063: LD_INT 21
12065: PUSH
12066: LD_INT 3
12068: PUSH
12069: EMPTY
12070: LIST
12071: LIST
12072: PUSH
12073: LD_INT 2
12075: PUSH
12076: LD_INT 30
12078: PUSH
12079: LD_INT 0
12081: PUSH
12082: EMPTY
12083: LIST
12084: LIST
12085: PUSH
12086: LD_INT 30
12088: PUSH
12089: LD_INT 1
12091: PUSH
12092: EMPTY
12093: LIST
12094: LIST
12095: PUSH
12096: EMPTY
12097: LIST
12098: LIST
12099: LIST
12100: PUSH
12101: LD_INT 50
12103: PUSH
12104: EMPTY
12105: LIST
12106: PUSH
12107: LD_INT 22
12109: PUSH
12110: LD_VAR 0 1
12114: PUSH
12115: EMPTY
12116: LIST
12117: LIST
12118: PUSH
12119: LD_INT 23
12121: PUSH
12122: LD_VAR 0 2
12126: PUSH
12127: EMPTY
12128: LIST
12129: LIST
12130: PUSH
12131: EMPTY
12132: LIST
12133: LIST
12134: LIST
12135: LIST
12136: LIST
12137: PPUSH
12138: CALL_OW 69
12142: ST_TO_ADDR
// if building_list = 0 then
12143: LD_VAR 0 5
12147: PUSH
12148: LD_INT 0
12150: EQUAL
12151: IFFALSE 12225
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_ok ] , [ f_side , side ] ] ) ;
12153: LD_ADDR_VAR 0 5
12157: PUSH
12158: LD_INT 21
12160: PUSH
12161: LD_INT 3
12163: PUSH
12164: EMPTY
12165: LIST
12166: LIST
12167: PUSH
12168: LD_INT 2
12170: PUSH
12171: LD_INT 30
12173: PUSH
12174: LD_INT 0
12176: PUSH
12177: EMPTY
12178: LIST
12179: LIST
12180: PUSH
12181: LD_INT 30
12183: PUSH
12184: LD_INT 1
12186: PUSH
12187: EMPTY
12188: LIST
12189: LIST
12190: PUSH
12191: EMPTY
12192: LIST
12193: LIST
12194: LIST
12195: PUSH
12196: LD_INT 50
12198: PUSH
12199: EMPTY
12200: LIST
12201: PUSH
12202: LD_INT 22
12204: PUSH
12205: LD_VAR 0 1
12209: PUSH
12210: EMPTY
12211: LIST
12212: LIST
12213: PUSH
12214: EMPTY
12215: LIST
12216: LIST
12217: LIST
12218: LIST
12219: PPUSH
12220: CALL_OW 69
12224: ST_TO_ADDR
// if building_list = 0 then
12225: LD_VAR 0 5
12229: PUSH
12230: LD_INT 0
12232: EQUAL
12233: IFFALSE 12278
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_ok ] , [ f_side , side ] ] ) ;
12235: LD_ADDR_VAR 0 5
12239: PUSH
12240: LD_INT 21
12242: PUSH
12243: LD_INT 3
12245: PUSH
12246: EMPTY
12247: LIST
12248: LIST
12249: PUSH
12250: LD_INT 50
12252: PUSH
12253: EMPTY
12254: LIST
12255: PUSH
12256: LD_INT 22
12258: PUSH
12259: LD_VAR 0 1
12263: PUSH
12264: EMPTY
12265: LIST
12266: LIST
12267: PUSH
12268: EMPTY
12269: LIST
12270: LIST
12271: LIST
12272: PPUSH
12273: CALL_OW 69
12277: ST_TO_ADDR
// if building_list > 0 then
12278: LD_VAR 0 5
12282: PUSH
12283: LD_INT 0
12285: GREATER
12286: IFFALSE 12404
// begin b := building_list [ Rand ( 1 , building_list + 0 ) ] ;
12288: LD_ADDR_VAR 0 6
12292: PUSH
12293: LD_VAR 0 5
12297: PUSH
12298: LD_INT 1
12300: PPUSH
12301: LD_VAR 0 5
12305: PUSH
12306: LD_INT 0
12308: PLUS
12309: PPUSH
12310: CALL_OW 12
12314: ARRAY
12315: ST_TO_ADDR
// if GetBType ( b ) in [ b_depot , b_warehouse ] then
12316: LD_VAR 0 6
12320: PPUSH
12321: CALL_OW 266
12325: PUSH
12326: LD_INT 0
12328: PUSH
12329: LD_INT 1
12331: PUSH
12332: EMPTY
12333: LIST
12334: LIST
12335: IN
12336: IFFALSE 12348
// n = 25 else
12338: LD_ADDR_VAR 0 7
12342: PUSH
12343: LD_INT 25
12345: ST_TO_ADDR
12346: GO 12356
// n = 10 ;
12348: LD_ADDR_VAR 0 7
12352: PUSH
12353: LD_INT 10
12355: ST_TO_ADDR
// PlaceUnitXYR ( un , GetX ( b ) , GetY ( b ) , n , true ) ;
12356: LD_VAR 0 8
12360: PPUSH
12361: LD_VAR 0 6
12365: PPUSH
12366: CALL_OW 250
12370: PPUSH
12371: LD_VAR 0 6
12375: PPUSH
12376: CALL_OW 251
12380: PPUSH
12381: LD_VAR 0 7
12385: PPUSH
12386: LD_INT 1
12388: PPUSH
12389: CALL_OW 50
// OnHumanRespawned ( un ) ;
12393: LD_VAR 0 8
12397: PPUSH
12398: CALL 11340 0 1
// end else
12402: GO 12427
// begin ObnovOpozdilceCloveka ( un , side , k / 2 ) ;
12404: LD_VAR 0 8
12408: PPUSH
12409: LD_VAR 0 1
12413: PPUSH
12414: LD_VAR 0 9
12418: PUSH
12419: LD_INT 2
12421: DIVREAL
12422: PPUSH
12423: CALL 12432 0 3
// end ; end ;
12427: LD_VAR 0 4
12431: RET
// function ObnovOpozdilceCloveka ( un , side , waitTime ) ; var building_list , n , unit_list , b ; begin
12432: LD_INT 0
12434: PPUSH
12435: PPUSH
12436: PPUSH
12437: PPUSH
12438: PPUSH
// wait ( waitTime ) ;
12439: LD_VAR 0 3
12443: PPUSH
12444: CALL_OW 67
// if not ( HasPower ( side ) ) then
12448: LD_VAR 0 2
12452: PPUSH
12453: CALL 13210 0 1
12457: NOT
12458: IFFALSE 12462
// exit ;
12460: GO 12832
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_ok ] , [ f_side , side ] , [ f_nation , GetNation ( un ) ] ] ) ;
12462: LD_ADDR_VAR 0 5
12466: PUSH
12467: LD_INT 21
12469: PUSH
12470: LD_INT 3
12472: PUSH
12473: EMPTY
12474: LIST
12475: LIST
12476: PUSH
12477: LD_INT 2
12479: PUSH
12480: LD_INT 30
12482: PUSH
12483: LD_INT 0
12485: PUSH
12486: EMPTY
12487: LIST
12488: LIST
12489: PUSH
12490: LD_INT 30
12492: PUSH
12493: LD_INT 1
12495: PUSH
12496: EMPTY
12497: LIST
12498: LIST
12499: PUSH
12500: EMPTY
12501: LIST
12502: LIST
12503: LIST
12504: PUSH
12505: LD_INT 50
12507: PUSH
12508: EMPTY
12509: LIST
12510: PUSH
12511: LD_INT 22
12513: PUSH
12514: LD_VAR 0 2
12518: PUSH
12519: EMPTY
12520: LIST
12521: LIST
12522: PUSH
12523: LD_INT 23
12525: PUSH
12526: LD_VAR 0 1
12530: PPUSH
12531: CALL_OW 248
12535: PUSH
12536: EMPTY
12537: LIST
12538: LIST
12539: PUSH
12540: EMPTY
12541: LIST
12542: LIST
12543: LIST
12544: LIST
12545: LIST
12546: PPUSH
12547: CALL_OW 69
12551: ST_TO_ADDR
// if building_list = 0 then
12552: LD_VAR 0 5
12556: PUSH
12557: LD_INT 0
12559: EQUAL
12560: IFFALSE 12634
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_ok ] , [ f_side , side ] ] ) ;
12562: LD_ADDR_VAR 0 5
12566: PUSH
12567: LD_INT 21
12569: PUSH
12570: LD_INT 3
12572: PUSH
12573: EMPTY
12574: LIST
12575: LIST
12576: PUSH
12577: LD_INT 2
12579: PUSH
12580: LD_INT 30
12582: PUSH
12583: LD_INT 0
12585: PUSH
12586: EMPTY
12587: LIST
12588: LIST
12589: PUSH
12590: LD_INT 30
12592: PUSH
12593: LD_INT 1
12595: PUSH
12596: EMPTY
12597: LIST
12598: LIST
12599: PUSH
12600: EMPTY
12601: LIST
12602: LIST
12603: LIST
12604: PUSH
12605: LD_INT 50
12607: PUSH
12608: EMPTY
12609: LIST
12610: PUSH
12611: LD_INT 22
12613: PUSH
12614: LD_VAR 0 2
12618: PUSH
12619: EMPTY
12620: LIST
12621: LIST
12622: PUSH
12623: EMPTY
12624: LIST
12625: LIST
12626: LIST
12627: LIST
12628: PPUSH
12629: CALL_OW 69
12633: ST_TO_ADDR
// if building_list = 0 then
12634: LD_VAR 0 5
12638: PUSH
12639: LD_INT 0
12641: EQUAL
12642: IFFALSE 12687
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_ok ] , [ f_side , side ] ] ) ;
12644: LD_ADDR_VAR 0 5
12648: PUSH
12649: LD_INT 21
12651: PUSH
12652: LD_INT 3
12654: PUSH
12655: EMPTY
12656: LIST
12657: LIST
12658: PUSH
12659: LD_INT 50
12661: PUSH
12662: EMPTY
12663: LIST
12664: PUSH
12665: LD_INT 22
12667: PUSH
12668: LD_VAR 0 2
12672: PUSH
12673: EMPTY
12674: LIST
12675: LIST
12676: PUSH
12677: EMPTY
12678: LIST
12679: LIST
12680: LIST
12681: PPUSH
12682: CALL_OW 69
12686: ST_TO_ADDR
// if building_list > 0 then
12687: LD_VAR 0 5
12691: PUSH
12692: LD_INT 0
12694: GREATER
12695: IFFALSE 12813
// begin b := building_list [ Rand ( 1 , building_list + 0 ) ] ;
12697: LD_ADDR_VAR 0 8
12701: PUSH
12702: LD_VAR 0 5
12706: PUSH
12707: LD_INT 1
12709: PPUSH
12710: LD_VAR 0 5
12714: PUSH
12715: LD_INT 0
12717: PLUS
12718: PPUSH
12719: CALL_OW 12
12723: ARRAY
12724: ST_TO_ADDR
// if GetBType ( b ) in [ b_depot , b_warehouse ] then
12725: LD_VAR 0 8
12729: PPUSH
12730: CALL_OW 266
12734: PUSH
12735: LD_INT 0
12737: PUSH
12738: LD_INT 1
12740: PUSH
12741: EMPTY
12742: LIST
12743: LIST
12744: IN
12745: IFFALSE 12757
// n = 25 else
12747: LD_ADDR_VAR 0 6
12751: PUSH
12752: LD_INT 25
12754: ST_TO_ADDR
12755: GO 12765
// n = 10 ;
12757: LD_ADDR_VAR 0 6
12761: PUSH
12762: LD_INT 10
12764: ST_TO_ADDR
// PlaceUnitXYR ( un , GetX ( b ) , GetY ( b ) , n , true ) ;
12765: LD_VAR 0 1
12769: PPUSH
12770: LD_VAR 0 8
12774: PPUSH
12775: CALL_OW 250
12779: PPUSH
12780: LD_VAR 0 8
12784: PPUSH
12785: CALL_OW 251
12789: PPUSH
12790: LD_VAR 0 6
12794: PPUSH
12795: LD_INT 1
12797: PPUSH
12798: CALL_OW 50
// OnHumanRespawned ( un ) ;
12802: LD_VAR 0 1
12806: PPUSH
12807: CALL 11340 0 1
// end else
12811: GO 12832
// ObnovOpozdilceCloveka ( un , side , waitTime ) ;
12813: LD_VAR 0 1
12817: PPUSH
12818: LD_VAR 0 2
12822: PPUSH
12823: LD_VAR 0 3
12827: PPUSH
12828: CALL 12432 0 3
// end ;
12832: LD_VAR 0 4
12836: RET
// export function Vytvor_noveho_cloveka_pro_vsechny ; var nat , side , sidy , i , k ; begin
12837: LD_INT 0
12839: PPUSH
12840: PPUSH
12841: PPUSH
12842: PPUSH
12843: PPUSH
12844: PPUSH
// randomHumanStats ( initial_level ) ;
12845: LD_EXP 42
12849: PPUSH
12850: CALL 17259 0 1
// sidy = [ ] ;
12854: LD_ADDR_VAR 0 4
12858: PUSH
12859: EMPTY
12860: ST_TO_ADDR
// for i = 1 to Side_positions + 0 do
12861: LD_ADDR_VAR 0 5
12865: PUSH
12866: DOUBLE
12867: LD_INT 1
12869: DEC
12870: ST_TO_ADDR
12871: LD_EXP 75
12875: PUSH
12876: LD_INT 0
12878: PLUS
12879: PUSH
12880: FOR_TO
12881: IFFALSE 12949
// if Side_positions [ i ] > 0 then
12883: LD_EXP 75
12887: PUSH
12888: LD_VAR 0 5
12892: ARRAY
12893: PUSH
12894: LD_INT 0
12896: GREATER
12897: IFFALSE 12947
// if HasPower ( i ) then
12899: LD_VAR 0 5
12903: PPUSH
12904: CALL 13210 0 1
12908: IFFALSE 12947
// for k in nations [ i ] do
12910: LD_ADDR_VAR 0 6
12914: PUSH
12915: LD_LOC 5
12919: PUSH
12920: LD_VAR 0 5
12924: ARRAY
12925: PUSH
12926: FOR_IN
12927: IFFALSE 12945
// vytvor_cloveka ( i , k ) ;
12929: LD_VAR 0 5
12933: PPUSH
12934: LD_VAR 0 6
12938: PPUSH
12939: CALL 12956 0 2
12943: GO 12926
12945: POP
12946: POP
12947: GO 12880
12949: POP
12950: POP
// end ;
12951: LD_VAR 0 1
12955: RET
// function vytvor_cloveka ( side , nat ) ; var pom ; begin
12956: LD_INT 0
12958: PPUSH
12959: PPUSH
// uc_side = side ;
12960: LD_ADDR_OWVAR 20
12964: PUSH
12965: LD_VAR 0 1
12969: ST_TO_ADDR
// uc_nation = nat ;
12970: LD_ADDR_OWVAR 21
12974: PUSH
12975: LD_VAR 0 2
12979: ST_TO_ADDR
// PlaceUnitAnywhere ( CreateHuman , true ) ;
12980: CALL_OW 44
12984: PPUSH
12985: LD_INT 1
12987: PPUSH
12988: CALL_OW 51
// if game_type in GT_DoublePeople then
12992: LD_EXP 1
12996: PUSH
12997: LD_EXP 4
13001: IN
13002: IFFALSE 13016
// PlaceUnitAnywhere ( CreateHuman , true ) ;
13004: CALL_OW 44
13008: PPUSH
13009: LD_INT 1
13011: PPUSH
13012: CALL_OW 51
// end ; end_of_file
13016: LD_VAR 0 3
13020: RET
// var defaited , GameEnded , unfoged ; export function Init_Win_Condition ; var i ; begin
13021: LD_INT 0
13023: PPUSH
13024: PPUSH
// enable ( 98 ) ;
13025: LD_INT 98
13027: ENABLE_MARKED
// GameEnded = false ;
13028: LD_ADDR_LOC 8
13032: PUSH
13033: LD_INT 0
13035: ST_TO_ADDR
// defaited = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
13036: LD_ADDR_LOC 7
13040: PUSH
13041: LD_INT 0
13043: PUSH
13044: LD_INT 0
13046: PUSH
13047: LD_INT 0
13049: PUSH
13050: LD_INT 0
13052: PUSH
13053: LD_INT 0
13055: PUSH
13056: LD_INT 0
13058: PUSH
13059: LD_INT 0
13061: PUSH
13062: LD_INT 0
13064: PUSH
13065: EMPTY
13066: LIST
13067: LIST
13068: LIST
13069: LIST
13070: LIST
13071: LIST
13072: LIST
13073: LIST
13074: ST_TO_ADDR
// unfoged = false ;
13075: LD_ADDR_LOC 9
13079: PUSH
13080: LD_INT 0
13082: ST_TO_ADDR
// for i = 1 to side_positions do
13083: LD_ADDR_VAR 0 2
13087: PUSH
13088: DOUBLE
13089: LD_INT 1
13091: DEC
13092: ST_TO_ADDR
13093: LD_EXP 75
13097: PUSH
13098: FOR_TO
13099: IFFALSE 13139
// if not side_positions [ i ] then
13101: LD_EXP 75
13105: PUSH
13106: LD_VAR 0 2
13110: ARRAY
13111: NOT
13112: IFFALSE 13137
// defaited = replace ( defaited , i , true ) ;
13114: LD_ADDR_LOC 7
13118: PUSH
13119: LD_LOC 7
13123: PPUSH
13124: LD_VAR 0 2
13128: PPUSH
13129: LD_INT 1
13131: PPUSH
13132: CALL_OW 1
13136: ST_TO_ADDR
13137: GO 13098
13139: POP
13140: POP
// end ;
13141: LD_VAR 0 1
13145: RET
// function CanWinLoose ; begin
13146: LD_INT 0
13148: PPUSH
// Result := true ;
13149: LD_ADDR_VAR 0 1
13153: PUSH
13154: LD_INT 1
13156: ST_TO_ADDR
// if IAmServer and PlayerCount > 0 then
13157: CALL_OW 518
13161: PUSH
13162: CALL_OW 519
13166: PUSH
13167: LD_INT 0
13169: GREATER
13170: AND
13171: IFFALSE 13181
// Result := false ;
13173: LD_ADDR_VAR 0 1
13177: PUSH
13178: LD_INT 0
13180: ST_TO_ADDR
// if IAmSpec and PlayerCount > 1 then
13181: CALL_OW 531
13185: PUSH
13186: CALL_OW 519
13190: PUSH
13191: LD_INT 1
13193: GREATER
13194: AND
13195: IFFALSE 13205
// Result := false ;
13197: LD_ADDR_VAR 0 1
13201: PUSH
13202: LD_INT 0
13204: ST_TO_ADDR
// end ;
13205: LD_VAR 0 1
13209: RET
// export function HasPower ( i ) ; var k , h ; begin
13210: LD_INT 0
13212: PPUSH
13213: PPUSH
13214: PPUSH
// if not MultiplayerSideAlive ( i ) and not Side_Comps [ i ] and MultiPlayer then
13215: LD_VAR 0 1
13219: PPUSH
13220: CALL_OW 108
13224: NOT
13225: PUSH
13226: LD_EXP 78
13230: PUSH
13231: LD_VAR 0 1
13235: ARRAY
13236: NOT
13237: AND
13238: PUSH
13239: LD_OWVAR 4
13243: AND
13244: IFFALSE 13256
// begin result = false ;
13246: LD_ADDR_VAR 0 2
13250: PUSH
13251: LD_INT 0
13253: ST_TO_ADDR
// end else
13254: GO 13551
// case def_win_rules of 0 :
13256: LD_EXP 21
13260: PUSH
13261: LD_INT 0
13263: DOUBLE
13264: EQUAL
13265: IFTRUE 13269
13267: GO 13432
13269: POP
// if def_people_respawning then
13270: LD_EXP 25
13274: IFFALSE 13365
// Result := FilterAllUnits ( [ [ f_side , i ] , [ f_or , [ f_type , unit_human ] , [ f_control , control_computer ] , [ f_control , control_apeman ] , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) else
13276: LD_ADDR_VAR 0 2
13280: PUSH
13281: LD_INT 22
13283: PUSH
13284: LD_VAR 0 1
13288: PUSH
13289: EMPTY
13290: LIST
13291: LIST
13292: PUSH
13293: LD_INT 2
13295: PUSH
13296: LD_INT 21
13298: PUSH
13299: LD_INT 1
13301: PUSH
13302: EMPTY
13303: LIST
13304: LIST
13305: PUSH
13306: LD_INT 33
13308: PUSH
13309: LD_INT 3
13311: PUSH
13312: EMPTY
13313: LIST
13314: LIST
13315: PUSH
13316: LD_INT 33
13318: PUSH
13319: LD_INT 5
13321: PUSH
13322: EMPTY
13323: LIST
13324: LIST
13325: PUSH
13326: LD_INT 30
13328: PUSH
13329: LD_INT 0
13331: PUSH
13332: EMPTY
13333: LIST
13334: LIST
13335: PUSH
13336: LD_INT 30
13338: PUSH
13339: LD_INT 1
13341: PUSH
13342: EMPTY
13343: LIST
13344: LIST
13345: PUSH
13346: EMPTY
13347: LIST
13348: LIST
13349: LIST
13350: LIST
13351: LIST
13352: LIST
13353: PUSH
13354: EMPTY
13355: LIST
13356: LIST
13357: PPUSH
13358: CALL_OW 69
13362: ST_TO_ADDR
13363: GO 13430
// Result := FilterAllUnits ( [ [ f_side , i ] , [ f_or , [ f_type , unit_human ] , [ f_control , control_computer ] , [ f_control , control_apeman ] ] ] ) ; 1 :
13365: LD_ADDR_VAR 0 2
13369: PUSH
13370: LD_INT 22
13372: PUSH
13373: LD_VAR 0 1
13377: PUSH
13378: EMPTY
13379: LIST
13380: LIST
13381: PUSH
13382: LD_INT 2
13384: PUSH
13385: LD_INT 21
13387: PUSH
13388: LD_INT 1
13390: PUSH
13391: EMPTY
13392: LIST
13393: LIST
13394: PUSH
13395: LD_INT 33
13397: PUSH
13398: LD_INT 3
13400: PUSH
13401: EMPTY
13402: LIST
13403: LIST
13404: PUSH
13405: LD_INT 33
13407: PUSH
13408: LD_INT 5
13410: PUSH
13411: EMPTY
13412: LIST
13413: LIST
13414: PUSH
13415: EMPTY
13416: LIST
13417: LIST
13418: LIST
13419: LIST
13420: PUSH
13421: EMPTY
13422: LIST
13423: LIST
13424: PPUSH
13425: CALL_OW 69
13429: ST_TO_ADDR
13430: GO 13551
13432: LD_INT 1
13434: DOUBLE
13435: EQUAL
13436: IFTRUE 13440
13438: GO 13479
13440: POP
// Result = FilterAllUnits ( [ [ f_side , i ] , [ f_type , unit_human ] ] ) ; 2 :
13441: LD_ADDR_VAR 0 2
13445: PUSH
13446: LD_INT 22
13448: PUSH
13449: LD_VAR 0 1
13453: PUSH
13454: EMPTY
13455: LIST
13456: LIST
13457: PUSH
13458: LD_INT 21
13460: PUSH
13461: LD_INT 1
13463: PUSH
13464: EMPTY
13465: LIST
13466: LIST
13467: PUSH
13468: EMPTY
13469: LIST
13470: LIST
13471: PPUSH
13472: CALL_OW 69
13476: ST_TO_ADDR
13477: GO 13551
13479: LD_INT 2
13481: DOUBLE
13482: EQUAL
13483: IFTRUE 13487
13485: GO 13550
13487: POP
// begin h = false ;
13488: LD_ADDR_VAR 0 4
13492: PUSH
13493: LD_INT 0
13495: ST_TO_ADDR
// for k in heroes [ i ] do
13496: LD_ADDR_VAR 0 3
13500: PUSH
13501: LD_EXP 50
13505: PUSH
13506: LD_VAR 0 1
13510: ARRAY
13511: PUSH
13512: FOR_IN
13513: IFFALSE 13536
// if IsLive ( k ) then
13515: LD_VAR 0 3
13519: PPUSH
13520: CALL_OW 300
13524: IFFALSE 13534
// h = true ;
13526: LD_ADDR_VAR 0 4
13530: PUSH
13531: LD_INT 1
13533: ST_TO_ADDR
13534: GO 13512
13536: POP
13537: POP
// Result := h ;
13538: LD_ADDR_VAR 0 2
13542: PUSH
13543: LD_VAR 0 4
13547: ST_TO_ADDR
// end ; end ;
13548: GO 13551
13550: POP
// end ;
13551: LD_VAR 0 2
13555: RET
// function AlliedSides ( i , j ) ; begin
13556: LD_INT 0
13558: PPUSH
// Result := false ;
13559: LD_ADDR_VAR 0 3
13563: PUSH
13564: LD_INT 0
13566: ST_TO_ADDR
// if ( GetAttitude ( i , j ) = att_friend ) and ( GetAttitude ( j , i ) = att_friend ) and GetAlliedVictory ( i ) and GetAlliedVictory ( j ) then
13567: LD_VAR 0 1
13571: PPUSH
13572: LD_VAR 0 2
13576: PPUSH
13577: CALL_OW 81
13581: PUSH
13582: LD_INT 1
13584: EQUAL
13585: PUSH
13586: LD_VAR 0 2
13590: PPUSH
13591: LD_VAR 0 1
13595: PPUSH
13596: CALL_OW 81
13600: PUSH
13601: LD_INT 1
13603: EQUAL
13604: AND
13605: PUSH
13606: LD_VAR 0 1
13610: PPUSH
13611: CALL_OW 83
13615: AND
13616: PUSH
13617: LD_VAR 0 2
13621: PPUSH
13622: CALL_OW 83
13626: AND
13627: IFFALSE 13637
// Result := true ;
13629: LD_ADDR_VAR 0 3
13633: PUSH
13634: LD_INT 1
13636: ST_TO_ADDR
// end ;
13637: LD_VAR 0 3
13641: RET
// every 100 trigger CanWinLoose and not GameEnded marked 400 do
13642: CALL 13146 0 0
13646: PUSH
13647: LD_LOC 8
13651: NOT
13652: AND
13653: IFFALSE 13669
13655: GO 13657
13657: DISABLE
// WaitServerStrings = [ #Player-Ended ] ;
13658: LD_ADDR_EXP 107
13662: PUSH
13663: LD_STRING #Player-Ended
13665: PUSH
13666: EMPTY
13667: LIST
13668: ST_TO_ADDR
13669: END
// every 100 trigger CanWinLoose and GameEnded marked 400 do
13670: CALL 13146 0 0
13674: PUSH
13675: LD_LOC 8
13679: AND
13680: IFFALSE 13689
13682: GO 13684
13684: DISABLE
// YouLostInMultiplayer ;
13685: CALL_OW 107
13689: END
// every 100 trigger not CanWinLoose and not IAmSpec marked 400 do
13690: CALL 13146 0 0
13694: NOT
13695: PUSH
13696: CALL_OW 531
13700: NOT
13701: AND
13702: IFFALSE 13718
13704: GO 13706
13706: DISABLE
// WaitServerStrings = [ #server-wait ] ;
13707: LD_ADDR_EXP 107
13711: PUSH
13712: LD_STRING #server-wait
13714: PUSH
13715: EMPTY
13716: LIST
13717: ST_TO_ADDR
13718: END
// every 100 trigger IAmSpec do
13719: CALL_OW 531
13723: IFFALSE 13739
13725: GO 13727
13727: DISABLE
// WaitServerStrings = [ #Player-IAmSpec ] ;
13728: LD_ADDR_EXP 107
13732: PUSH
13733: LD_STRING #Player-IAmSpec
13735: PUSH
13736: EMPTY
13737: LIST
13738: ST_TO_ADDR
13739: END
// every 100 trigger GameEnded and IAmSpec do
13740: LD_LOC 8
13744: PUSH
13745: CALL_OW 531
13749: AND
13750: IFFALSE 13759
13752: GO 13754
13754: DISABLE
// YouLostInMultiplayer ;
13755: CALL_OW 107
13759: END
// every 100 trigger CanWinLoose and not GameEnded marked 401 do
13760: CALL 13146 0 0
13764: PUSH
13765: LD_LOC 8
13769: NOT
13770: AND
13771: IFFALSE 13787
13773: GO 13775
13775: DISABLE
// WaitServerStrings = [ $player-win ] ;
13776: LD_ADDR_EXP 107
13780: PUSH
13781: LD_STRING $player-win
13783: PUSH
13784: EMPTY
13785: LIST
13786: ST_TO_ADDR
13787: END
// every 100 trigger CanWinLoose and GameEnded marked 401 do
13788: CALL 13146 0 0
13792: PUSH
13793: LD_LOC 8
13797: AND
13798: IFFALSE 13822
13800: GO 13802
13802: DISABLE
// begin SA_Win ( Side_Nations [ Your_side ] ) ;
13803: LD_EXP 76
13807: PUSH
13808: LD_OWVAR 2
13812: ARRAY
13813: PPUSH
13814: CALL 34478 0 1
// YouWinInMultiplayer ;
13818: CALL_OW 106
// end ;
13822: END
// every 100 trigger isEditor marked 401 do
13823: LD_OWVAR 84
13827: IFFALSE 13843
13829: GO 13831
13831: DISABLE
// Debug_Strings = [ You won ] ;
13832: LD_ADDR_OWVAR 48
13836: PUSH
13837: LD_STRING You won
13839: PUSH
13840: EMPTY
13841: LIST
13842: ST_TO_ADDR
13843: END
// every 100 trigger isEditor marked 400 do
13844: LD_OWVAR 84
13848: IFFALSE 13864
13850: GO 13852
13852: DISABLE
// Debug_Strings = [ You loss ] ;
13853: LD_ADDR_OWVAR 48
13857: PUSH
13858: LD_STRING You loss
13860: PUSH
13861: EMPTY
13862: LIST
13863: ST_TO_ADDR
13864: END
// every 100 marked 98 do var i , un ;
13865: GO 13867
13867: DISABLE
13868: LD_INT 0
13870: PPUSH
13871: PPUSH
// begin for i = 1 to side_positions do
13872: LD_ADDR_VAR 0 1
13876: PUSH
13877: DOUBLE
13878: LD_INT 1
13880: DEC
13881: ST_TO_ADDR
13882: LD_EXP 75
13886: PUSH
13887: FOR_TO
13888: IFFALSE 13971
// if side_positions [ i ] then
13890: LD_EXP 75
13894: PUSH
13895: LD_VAR 0 1
13899: ARRAY
13900: IFFALSE 13969
// if not HasPower ( i ) and not Defaited [ i ] then
13902: LD_VAR 0 1
13906: PPUSH
13907: CALL 13210 0 1
13911: NOT
13912: PUSH
13913: LD_LOC 7
13917: PUSH
13918: LD_VAR 0 1
13922: ARRAY
13923: NOT
13924: AND
13925: IFFALSE 13969
// begin Defaited = replace ( Defaited , i , true ) ;
13927: LD_ADDR_LOC 7
13931: PUSH
13932: LD_LOC 7
13936: PPUSH
13937: LD_VAR 0 1
13941: PPUSH
13942: LD_INT 1
13944: PPUSH
13945: CALL_OW 1
13949: ST_TO_ADDR
// if i = your_side then
13950: LD_VAR 0 1
13954: PUSH
13955: LD_OWVAR 2
13959: EQUAL
13960: IFFALSE 13969
// begin Multiplayer_Loose_Message ;
13962: CALL_OW 521
// enable ( 400 ) ;
13966: LD_INT 400
13968: ENABLE_MARKED
// end ; end ;
13969: GO 13887
13971: POP
13972: POP
// if not Unfoged and defaited [ your_side ] then
13973: LD_LOC 9
13977: NOT
13978: PUSH
13979: LD_LOC 7
13983: PUSH
13984: LD_OWVAR 2
13988: ARRAY
13989: AND
13990: IFFALSE 13996
// Unfog ;
13992: CALL 14172 0 0
// DidGameEnd ;
13996: CALL 14011 0 0
// if not GameEnded then
14000: LD_LOC 8
14004: NOT
14005: IFFALSE 14008
// enable ;
14007: ENABLE
// end ;
14008: PPOPN 2
14010: END
// function DidGameEnd ; var i , k , enemy ; begin
14011: LD_INT 0
14013: PPUSH
14014: PPUSH
14015: PPUSH
14016: PPUSH
// enemy = [ ] ;
14017: LD_ADDR_VAR 0 4
14021: PUSH
14022: EMPTY
14023: ST_TO_ADDR
// for i = 1 to side_positions do
14024: LD_ADDR_VAR 0 2
14028: PUSH
14029: DOUBLE
14030: LD_INT 1
14032: DEC
14033: ST_TO_ADDR
14034: LD_EXP 75
14038: PUSH
14039: FOR_TO
14040: IFFALSE 14134
// if not defaited [ i ] then
14042: LD_LOC 7
14046: PUSH
14047: LD_VAR 0 2
14051: ARRAY
14052: NOT
14053: IFFALSE 14132
// for k = 1 to side_positions do
14055: LD_ADDR_VAR 0 3
14059: PUSH
14060: DOUBLE
14061: LD_INT 1
14063: DEC
14064: ST_TO_ADDR
14065: LD_EXP 75
14069: PUSH
14070: FOR_TO
14071: IFFALSE 14130
// if not defaited [ k ] then
14073: LD_LOC 7
14077: PUSH
14078: LD_VAR 0 3
14082: ARRAY
14083: NOT
14084: IFFALSE 14128
// if not AlliedSides ( i , k ) then
14086: LD_VAR 0 2
14090: PPUSH
14091: LD_VAR 0 3
14095: PPUSH
14096: CALL 13556 0 2
14100: NOT
14101: IFFALSE 14128
// enemy = enemy ^ [ i , k ] ;
14103: LD_ADDR_VAR 0 4
14107: PUSH
14108: LD_VAR 0 4
14112: PUSH
14113: LD_VAR 0 2
14117: PUSH
14118: LD_VAR 0 3
14122: PUSH
14123: EMPTY
14124: LIST
14125: LIST
14126: ADD
14127: ST_TO_ADDR
14128: GO 14070
14130: POP
14131: POP
14132: GO 14039
14134: POP
14135: POP
// if not enemy then
14136: LD_VAR 0 4
14140: NOT
14141: IFFALSE 14167
// begin GameEnded = true ;
14143: LD_ADDR_LOC 8
14147: PUSH
14148: LD_INT 1
14150: ST_TO_ADDR
// if not defaited [ your_side ] then
14151: LD_LOC 7
14155: PUSH
14156: LD_OWVAR 2
14160: ARRAY
14161: NOT
14162: IFFALSE 14167
// enable ( 401 ) ;
14164: LD_INT 401
14166: ENABLE_MARKED
// end ; end ;
14167: LD_VAR 0 1
14171: RET
// function unfog ; var k , friends ; begin
14172: LD_INT 0
14174: PPUSH
14175: PPUSH
14176: PPUSH
// SetPlayerSpectator ( ) ;
14177: CALL_OW 572
// unfoged = true ;
14181: LD_ADDR_LOC 9
14185: PUSH
14186: LD_INT 1
14188: ST_TO_ADDR
// end ;
14189: LD_VAR 0 1
14193: RET
// export function MakeGameEnd ; begin
14194: LD_INT 0
14196: PPUSH
// SetPlayerSpectator ( ) ;
14197: CALL_OW 572
// unfoged = true ;
14201: LD_ADDR_LOC 9
14205: PUSH
14206: LD_INT 1
14208: ST_TO_ADDR
// wait ( 0 0$5 ) ;
14209: LD_INT 175
14211: PPUSH
14212: CALL_OW 67
// GameEnded = true ;
14216: LD_ADDR_LOC 8
14220: PUSH
14221: LD_INT 1
14223: ST_TO_ADDR
// end ;
14224: LD_VAR 0 1
14228: RET
// export function GetGameEnded ; begin
14229: LD_INT 0
14231: PPUSH
// result = GameEnded ;
14232: LD_ADDR_VAR 0 1
14236: PUSH
14237: LD_LOC 8
14241: ST_TO_ADDR
// end ; end_of_file
14242: LD_VAR 0 1
14246: RET
// var nations , amount_of_players ; export ApesAreas ; function apeman_init ; var ape_names ; begin
14247: LD_INT 0
14249: PPUSH
14250: PPUSH
// uc_side := 0 ;
14251: LD_ADDR_OWVAR 20
14255: PUSH
14256: LD_INT 0
14258: ST_TO_ADDR
// uc_nation := nation_nature ;
14259: LD_ADDR_OWVAR 21
14263: PUSH
14264: LD_INT 0
14266: ST_TO_ADDR
// ape_names = [ Tupoun , Opoce , Opka , Butrus , Bubu , Condor , Kuklajs , Simon , Ugh , Urgh , Argh , Aargh , Hrumph , Grumph , Oorg , Eghrr , Rrrr , Bark , Wraughrr , :-) , Semik , Hrgh , Hur , Havran , Nazghul , Brutal , Kato Zluta Opoce , Monkey , Yeargh , Marta , Batman , Barkman , Xcenovsk , David Love , Freon , Stoupik , Quik , Jam Prckovic Laren , CFC , Kvakous , Sumys , Agent , Nazghul , Havran , Vrana , Havranek , Carlos Frank , Tekar , Andy , Angela , Janina , Shipanze , Simpan , Nazghulik , Potrusil , Potrus , Butrus , Potrusil , Simon , Auuu , NEMO , Silena opice , Meuznenapadazadnejmeno , Uhrun , Marmelada , Negr , Fnuk , Slim , Kvak , Dave , Bruntal , Arnie , Polda , Jen , Siddha , Silnickar , Bukvice , Zalud , Elvis , Nazghul , Chruadfa , Nazghul , Kato Yellow Ape , Cpt. Ape , King Of The Hill , Pterinochilus , Bad Platypus , Really Bad Ape , Looser , Looser , Looser , Megadeth , Mad Ape , Wraughhhh , ":) ] ;
14267: LD_ADDR_VAR 0 2
14271: PUSH
14272: LD_STRING Tupoun
14274: PUSH
14275: LD_STRING Opoce
14277: PUSH
14278: LD_STRING Opka
14280: PUSH
14281: LD_STRING Butrus
14283: PUSH
14284: LD_STRING Bubu
14286: PUSH
14287: LD_STRING Condor
14289: PUSH
14290: LD_STRING Kuklajs
14292: PUSH
14293: LD_STRING Simon
14295: PUSH
14296: LD_STRING Ugh
14298: PUSH
14299: LD_STRING Urgh
14301: PUSH
14302: LD_STRING Argh
14304: PUSH
14305: LD_STRING Aargh
14307: PUSH
14308: LD_STRING Hrumph
14310: PUSH
14311: LD_STRING Grumph
14313: PUSH
14314: LD_STRING Oorg
14316: PUSH
14317: LD_STRING Eghrr
14319: PUSH
14320: LD_STRING Rrrr
14322: PUSH
14323: LD_STRING Bark
14325: PUSH
14326: LD_STRING Wraughrr
14328: PUSH
14329: LD_STRING :-)
14331: PUSH
14332: LD_STRING Semik
14334: PUSH
14335: LD_STRING Hrgh
14337: PUSH
14338: LD_STRING Hur
14340: PUSH
14341: LD_STRING Havran
14343: PUSH
14344: LD_STRING Nazghul
14346: PUSH
14347: LD_STRING Brutal
14349: PUSH
14350: LD_STRING Kato Zluta Opoce
14352: PUSH
14353: LD_STRING Monkey
14355: PUSH
14356: LD_STRING Yeargh
14358: PUSH
14359: LD_STRING Marta
14361: PUSH
14362: LD_STRING Batman
14364: PUSH
14365: LD_STRING Barkman
14367: PUSH
14368: LD_STRING Xcenovsk
14370: PUSH
14371: LD_STRING David Love
14373: PUSH
14374: LD_STRING Freon
14376: PUSH
14377: LD_STRING Stoupik
14379: PUSH
14380: LD_STRING Quik
14382: PUSH
14383: LD_STRING Jam Prckovic Laren
14385: PUSH
14386: LD_STRING CFC
14388: PUSH
14389: LD_STRING Kvakous
14391: PUSH
14392: LD_STRING Sumys
14394: PUSH
14395: LD_STRING Agent
14397: PUSH
14398: LD_STRING Nazghul
14400: PUSH
14401: LD_STRING Havran
14403: PUSH
14404: LD_STRING Vrana
14406: PUSH
14407: LD_STRING Havranek
14409: PUSH
14410: LD_STRING Carlos Frank
14412: PUSH
14413: LD_STRING Tekar
14415: PUSH
14416: LD_STRING Andy
14418: PUSH
14419: LD_STRING Angela
14421: PUSH
14422: LD_STRING Janina
14424: PUSH
14425: LD_STRING Shipanze
14427: PUSH
14428: LD_STRING Simpan
14430: PUSH
14431: LD_STRING Nazghulik
14433: PUSH
14434: LD_STRING Potrusil
14436: PUSH
14437: LD_STRING Potrus
14439: PUSH
14440: LD_STRING Butrus
14442: PUSH
14443: LD_STRING Potrusil
14445: PUSH
14446: LD_STRING Simon
14448: PUSH
14449: LD_STRING Auuu
14451: PUSH
14452: LD_STRING NEMO
14454: PUSH
14455: LD_STRING Silena opice
14457: PUSH
14458: LD_STRING Meuznenapadazadnejmeno
14460: PUSH
14461: LD_STRING Uhrun
14463: PUSH
14464: LD_STRING Marmelada
14466: PUSH
14467: LD_STRING Negr
14469: PUSH
14470: LD_STRING Fnuk
14472: PUSH
14473: LD_STRING Slim
14475: PUSH
14476: LD_STRING Kvak
14478: PUSH
14479: LD_STRING Dave
14481: PUSH
14482: LD_STRING Bruntal
14484: PUSH
14485: LD_STRING Arnie
14487: PUSH
14488: LD_STRING Polda
14490: PUSH
14491: LD_STRING Jen
14493: PUSH
14494: LD_STRING Siddha
14496: PUSH
14497: LD_STRING Silnickar
14499: PUSH
14500: LD_STRING Bukvice
14502: PUSH
14503: LD_STRING Zalud
14505: PUSH
14506: LD_STRING Elvis
14508: PUSH
14509: LD_STRING Nazghul
14511: PUSH
14512: LD_STRING Chruadfa
14514: PUSH
14515: LD_STRING Nazghul
14517: PUSH
14518: LD_STRING Kato Yellow Ape
14520: PUSH
14521: LD_STRING Cpt. Ape
14523: PUSH
14524: LD_STRING King Of The Hill
14526: PUSH
14527: LD_STRING Pterinochilus
14529: PUSH
14530: LD_STRING Bad Platypus
14532: PUSH
14533: LD_STRING Really Bad Ape
14535: PUSH
14536: LD_STRING Looser
14538: PUSH
14539: LD_STRING Looser
14541: PUSH
14542: LD_STRING Looser
14544: PUSH
14545: LD_STRING Megadeth
14547: PUSH
14548: LD_STRING Mad Ape
14550: PUSH
14551: LD_STRING Wraughhhh
14553: PUSH
14554: LD_STRING ":)
14556: PUSH
14557: EMPTY
14558: LIST
14559: LIST
14560: LIST
14561: LIST
14562: LIST
14563: LIST
14564: LIST
14565: LIST
14566: LIST
14567: LIST
14568: LIST
14569: LIST
14570: LIST
14571: LIST
14572: LIST
14573: LIST
14574: LIST
14575: LIST
14576: LIST
14577: LIST
14578: LIST
14579: LIST
14580: LIST
14581: LIST
14582: LIST
14583: LIST
14584: LIST
14585: LIST
14586: LIST
14587: LIST
14588: LIST
14589: LIST
14590: LIST
14591: LIST
14592: LIST
14593: LIST
14594: LIST
14595: LIST
14596: LIST
14597: LIST
14598: LIST
14599: LIST
14600: LIST
14601: LIST
14602: LIST
14603: LIST
14604: LIST
14605: LIST
14606: LIST
14607: LIST
14608: LIST
14609: LIST
14610: LIST
14611: LIST
14612: LIST
14613: LIST
14614: LIST
14615: LIST
14616: LIST
14617: LIST
14618: LIST
14619: LIST
14620: LIST
14621: LIST
14622: LIST
14623: LIST
14624: LIST
14625: LIST
14626: LIST
14627: LIST
14628: LIST
14629: LIST
14630: LIST
14631: LIST
14632: LIST
14633: LIST
14634: LIST
14635: LIST
14636: LIST
14637: LIST
14638: LIST
14639: LIST
14640: LIST
14641: LIST
14642: LIST
14643: LIST
14644: LIST
14645: LIST
14646: LIST
14647: LIST
14648: LIST
14649: LIST
14650: LIST
14651: LIST
14652: LIST
14653: ST_TO_ADDR
// hc_name = ape_names [ Rand ( 1 , ape_names ) ] ;
14654: LD_ADDR_OWVAR 26
14658: PUSH
14659: LD_VAR 0 2
14663: PUSH
14664: LD_INT 1
14666: PPUSH
14667: LD_VAR 0 2
14671: PPUSH
14672: CALL_OW 12
14676: ARRAY
14677: ST_TO_ADDR
// randomHumanStats ( initial_level - 2 ) ;
14678: LD_EXP 42
14682: PUSH
14683: LD_INT 2
14685: MINUS
14686: PPUSH
14687: CALL 17259 0 1
// hc_class := class_apeman ;
14691: LD_ADDR_OWVAR 28
14695: PUSH
14696: LD_INT 12
14698: ST_TO_ADDR
// if hc_attr [ 2 ] < 12 then
14699: LD_OWVAR 29
14703: PUSH
14704: LD_INT 2
14706: ARRAY
14707: PUSH
14708: LD_INT 12
14710: LESS
14711: IFFALSE 14750
// hc_attr = [ hc_attr [ 1 ] + 5 , hc_attr [ 2 ] + 1 ] else
14713: LD_ADDR_OWVAR 29
14717: PUSH
14718: LD_OWVAR 29
14722: PUSH
14723: LD_INT 1
14725: ARRAY
14726: PUSH
14727: LD_INT 5
14729: PLUS
14730: PUSH
14731: LD_OWVAR 29
14735: PUSH
14736: LD_INT 2
14738: ARRAY
14739: PUSH
14740: LD_INT 1
14742: PLUS
14743: PUSH
14744: EMPTY
14745: LIST
14746: LIST
14747: ST_TO_ADDR
14748: GO 14781
// hc_attr = [ hc_attr [ 1 ] + 5 , hc_attr [ 2 ] ] ;
14750: LD_ADDR_OWVAR 29
14754: PUSH
14755: LD_OWVAR 29
14759: PUSH
14760: LD_INT 1
14762: ARRAY
14763: PUSH
14764: LD_INT 5
14766: PLUS
14767: PUSH
14768: LD_OWVAR 29
14772: PUSH
14773: LD_INT 2
14775: ARRAY
14776: PUSH
14777: EMPTY
14778: LIST
14779: LIST
14780: ST_TO_ADDR
// hc_sex := sex_male ;
14781: LD_ADDR_OWVAR 27
14785: PUSH
14786: LD_INT 1
14788: ST_TO_ADDR
// hc_importance := 0 ;
14789: LD_ADDR_OWVAR 32
14793: PUSH
14794: LD_INT 0
14796: ST_TO_ADDR
// hc_agressivity := Rand ( - 20 , 20 ) ;
14797: LD_ADDR_OWVAR 35
14801: PUSH
14802: LD_INT 20
14804: NEG
14805: PPUSH
14806: LD_INT 20
14808: PPUSH
14809: CALL_OW 12
14813: ST_TO_ADDR
// end ;
14814: LD_VAR 0 1
14818: RET
// every 0 0$15 + 0 0$1 marked 493 do var i , a , ape ;
14819: GO 14821
14821: DISABLE
14822: LD_INT 0
14824: PPUSH
14825: PPUSH
14826: PPUSH
// begin repeat ape = FilterAllUnits ( [ [ f_side , 0 ] , [ f_class , class_apeman ] ] ) ;
14827: LD_ADDR_VAR 0 3
14831: PUSH
14832: LD_INT 22
14834: PUSH
14835: LD_INT 0
14837: PUSH
14838: EMPTY
14839: LIST
14840: LIST
14841: PUSH
14842: LD_INT 25
14844: PUSH
14845: LD_INT 12
14847: PUSH
14848: EMPTY
14849: LIST
14850: LIST
14851: PUSH
14852: EMPTY
14853: LIST
14854: LIST
14855: PPUSH
14856: CALL_OW 69
14860: ST_TO_ADDR
// Wait ( ( ape + 1 ) * Rand ( 0 0$10 , 1 1$0 ) ) ;
14861: LD_VAR 0 3
14865: PUSH
14866: LD_INT 1
14868: PLUS
14869: PUSH
14870: LD_INT 350
14872: PPUSH
14873: LD_INT 2100
14875: PPUSH
14876: CALL_OW 12
14880: MUL
14881: PPUSH
14882: CALL_OW 67
// until ape <= ( spawning_koef_of_apemen / 6 ) * amount_of_players ;
14886: LD_VAR 0 3
14890: PUSH
14891: LD_EXP 47
14895: PUSH
14896: LD_INT 6
14898: DIVREAL
14899: PUSH
14900: LD_LOC 11
14904: MUL
14905: LESSEQUAL
14906: IFFALSE 14827
// for i = 1 to spawning_koef_of_apemen / 5 do
14908: LD_ADDR_VAR 0 1
14912: PUSH
14913: DOUBLE
14914: LD_INT 1
14916: DEC
14917: ST_TO_ADDR
14918: LD_EXP 47
14922: PUSH
14923: LD_INT 5
14925: DIVREAL
14926: PUSH
14927: FOR_TO
14928: IFFALSE 15030
// if ApesAreas then
14930: LD_EXP 105
14934: IFFALSE 14983
// begin for a in ApesAreas do
14936: LD_ADDR_VAR 0 2
14940: PUSH
14941: LD_EXP 105
14945: PUSH
14946: FOR_IN
14947: IFFALSE 14979
// begin apeman_init ;
14949: CALL 14247 0 0
// PlaceUnitArea ( CreateHuman , a , false ) ;
14953: CALL_OW 44
14957: PPUSH
14958: LD_VAR 0 2
14962: PPUSH
14963: LD_INT 0
14965: PPUSH
14966: CALL_OW 49
// Wait ( 3 ) ;
14970: LD_INT 3
14972: PPUSH
14973: CALL_OW 67
// end ;
14977: GO 14946
14979: POP
14980: POP
// end else
14981: GO 15028
// begin for a = 1 to amount_of_players do
14983: LD_ADDR_VAR 0 2
14987: PUSH
14988: DOUBLE
14989: LD_INT 1
14991: DEC
14992: ST_TO_ADDR
14993: LD_LOC 11
14997: PUSH
14998: FOR_TO
14999: IFFALSE 15026
// begin apeman_init ;
15001: CALL 14247 0 0
// PlaceUnitAnywhere ( CreateHuman , false ) ;
15005: CALL_OW 44
15009: PPUSH
15010: LD_INT 0
15012: PPUSH
15013: CALL_OW 51
// Wait ( 3 ) ;
15017: LD_INT 3
15019: PPUSH
15020: CALL_OW 67
// end ;
15024: GO 14998
15026: POP
15027: POP
// end ;
15028: GO 14927
15030: POP
15031: POP
// wait ( rand ( 1 1$0 , 5 5$0 ) ) ;
15032: LD_INT 2100
15034: PPUSH
15035: LD_INT 10500
15037: PPUSH
15038: CALL_OW 12
15042: PPUSH
15043: CALL_OW 67
// end ;
15047: PPOPN 3
15049: END
// export function StartApe ; var i , ape ; begin
15050: LD_INT 0
15052: PPUSH
15053: PPUSH
15054: PPUSH
// for i := 1 to 8 do
15055: LD_ADDR_VAR 0 2
15059: PUSH
15060: DOUBLE
15061: LD_INT 1
15063: DEC
15064: ST_TO_ADDR
15065: LD_INT 8
15067: PUSH
15068: FOR_TO
15069: IFFALSE 15103
// if Side_Positions [ i ] <> 0 then
15071: LD_EXP 75
15075: PUSH
15076: LD_VAR 0 2
15080: ARRAY
15081: PUSH
15082: LD_INT 0
15084: NONEQUAL
15085: IFFALSE 15101
// amount_of_players := amount_of_players + 1 ;
15087: LD_ADDR_LOC 11
15091: PUSH
15092: LD_LOC 11
15096: PUSH
15097: LD_INT 1
15099: PLUS
15100: ST_TO_ADDR
15101: GO 15068
15103: POP
15104: POP
// if game_type in GT_doublenat ^ GT_doublepeople then
15105: LD_EXP 1
15109: PUSH
15110: LD_EXP 3
15114: PUSH
15115: LD_EXP 4
15119: ADD
15120: IN
15121: IFFALSE 15139
// amount_of_players = amount_of_players * 2 else
15123: LD_ADDR_LOC 11
15127: PUSH
15128: LD_LOC 11
15132: PUSH
15133: LD_INT 2
15135: MUL
15136: ST_TO_ADDR
15137: GO 15165
// if game_type = GT_TripleNat then
15139: LD_EXP 1
15143: PUSH
15144: LD_EXP 5
15148: EQUAL
15149: IFFALSE 15165
// amount_of_players = amount_of_players * 3 ;
15151: LD_ADDR_LOC 11
15155: PUSH
15156: LD_LOC 11
15160: PUSH
15161: LD_INT 3
15163: MUL
15164: ST_TO_ADDR
// for i = 1 to Rand ( 2 , 7 ) do
15165: LD_ADDR_VAR 0 2
15169: PUSH
15170: DOUBLE
15171: LD_INT 1
15173: DEC
15174: ST_TO_ADDR
15175: LD_INT 2
15177: PPUSH
15178: LD_INT 7
15180: PPUSH
15181: CALL_OW 12
15185: PUSH
15186: FOR_TO
15187: IFFALSE 15217
// begin apeman_init ;
15189: CALL 14247 0 0
// ape := CreateHuman ;
15193: LD_ADDR_VAR 0 3
15197: PUSH
15198: CALL_OW 44
15202: ST_TO_ADDR
// PlaceUnitAnywhere ( ape , false ) ;
15203: LD_VAR 0 3
15207: PPUSH
15208: LD_INT 0
15210: PPUSH
15211: CALL_OW 51
// end ;
15215: GO 15186
15217: POP
15218: POP
// end ;
15219: LD_VAR 0 1
15223: RET
// function tiger_init ; var tiger_names ; begin
15224: LD_INT 0
15226: PPUSH
15227: PPUSH
// uc_side := 0 ;
15228: LD_ADDR_OWVAR 20
15232: PUSH
15233: LD_INT 0
15235: ST_TO_ADDR
// uc_nation := nation_nature ;
15236: LD_ADDR_OWVAR 21
15240: PUSH
15241: LD_INT 0
15243: ST_TO_ADDR
// tiger_names = [ Fredy , Montana , Pishkot , Sikorski , Riko , Kowalrski , Neo , Kessi , Riko , Lulu , Edie , Edy , Roxy , Roxas , Beast , Drago , Draco , Ali , Lessie , White Fang , Chess , Nora , Shriek , Bl Tesk , Barkman , Meuznenapadazadnejmeno , Ihavenotthinkofanyname , Hiro , Scooby , Fantasy , Troll , Baltazar , Pamella , Kleopatra , Ceasar , Gimmy , Scooby Dooby Doo , Yogi , Brutal , Brutus , Janina , Crazy , Jen , Jenova , Kiosuke , Akamaru ] ;
15244: LD_ADDR_VAR 0 2
15248: PUSH
15249: LD_STRING Fredy
15251: PUSH
15252: LD_STRING Montana
15254: PUSH
15255: LD_STRING Pishkot
15257: PUSH
15258: LD_STRING Sikorski
15260: PUSH
15261: LD_STRING Riko
15263: PUSH
15264: LD_STRING Kowalrski
15266: PUSH
15267: LD_STRING Neo
15269: PUSH
15270: LD_STRING Kessi
15272: PUSH
15273: LD_STRING Riko
15275: PUSH
15276: LD_STRING Lulu
15278: PUSH
15279: LD_STRING Edie
15281: PUSH
15282: LD_STRING Edy
15284: PUSH
15285: LD_STRING Roxy
15287: PUSH
15288: LD_STRING Roxas
15290: PUSH
15291: LD_STRING Beast
15293: PUSH
15294: LD_STRING Drago
15296: PUSH
15297: LD_STRING Draco
15299: PUSH
15300: LD_STRING Ali
15302: PUSH
15303: LD_STRING Lessie
15305: PUSH
15306: LD_STRING White Fang
15308: PUSH
15309: LD_STRING Chess
15311: PUSH
15312: LD_STRING Nora
15314: PUSH
15315: LD_STRING Shriek
15317: PUSH
15318: LD_STRING Bl Tesk
15320: PUSH
15321: LD_STRING Barkman
15323: PUSH
15324: LD_STRING Meuznenapadazadnejmeno
15326: PUSH
15327: LD_STRING Ihavenotthinkofanyname
15329: PUSH
15330: LD_STRING Hiro
15332: PUSH
15333: LD_STRING Scooby
15335: PUSH
15336: LD_STRING Fantasy
15338: PUSH
15339: LD_STRING Troll
15341: PUSH
15342: LD_STRING Baltazar
15344: PUSH
15345: LD_STRING Pamella
15347: PUSH
15348: LD_STRING Kleopatra
15350: PUSH
15351: LD_STRING Ceasar
15353: PUSH
15354: LD_STRING Gimmy
15356: PUSH
15357: LD_STRING Scooby Dooby Doo
15359: PUSH
15360: LD_STRING Yogi
15362: PUSH
15363: LD_STRING Brutal
15365: PUSH
15366: LD_STRING Brutus
15368: PUSH
15369: LD_STRING Janina
15371: PUSH
15372: LD_STRING Crazy
15374: PUSH
15375: LD_STRING Jen
15377: PUSH
15378: LD_STRING Jenova
15380: PUSH
15381: LD_STRING Kiosuke
15383: PUSH
15384: LD_STRING Akamaru
15386: PUSH
15387: EMPTY
15388: LIST
15389: LIST
15390: LIST
15391: LIST
15392: LIST
15393: LIST
15394: LIST
15395: LIST
15396: LIST
15397: LIST
15398: LIST
15399: LIST
15400: LIST
15401: LIST
15402: LIST
15403: LIST
15404: LIST
15405: LIST
15406: LIST
15407: LIST
15408: LIST
15409: LIST
15410: LIST
15411: LIST
15412: LIST
15413: LIST
15414: LIST
15415: LIST
15416: LIST
15417: LIST
15418: LIST
15419: LIST
15420: LIST
15421: LIST
15422: LIST
15423: LIST
15424: LIST
15425: LIST
15426: LIST
15427: LIST
15428: LIST
15429: LIST
15430: LIST
15431: LIST
15432: LIST
15433: LIST
15434: ST_TO_ADDR
// hc_name = tiger_names [ Rand ( 1 , tiger_names ) ] ;
15435: LD_ADDR_OWVAR 26
15439: PUSH
15440: LD_VAR 0 2
15444: PUSH
15445: LD_INT 1
15447: PPUSH
15448: LD_VAR 0 2
15452: PPUSH
15453: CALL_OW 12
15457: ARRAY
15458: ST_TO_ADDR
// randomHumanStats ( initial_level - 2 ) ;
15459: LD_EXP 42
15463: PUSH
15464: LD_INT 2
15466: MINUS
15467: PPUSH
15468: CALL 17259 0 1
// hc_class := class_tiger ;
15472: LD_ADDR_OWVAR 28
15476: PUSH
15477: LD_INT 14
15479: ST_TO_ADDR
// hc_attr = [ hc_attr [ 1 ] + 2 , hc_attr [ 2 ] + 1 ] ;
15480: LD_ADDR_OWVAR 29
15484: PUSH
15485: LD_OWVAR 29
15489: PUSH
15490: LD_INT 1
15492: ARRAY
15493: PUSH
15494: LD_INT 2
15496: PLUS
15497: PUSH
15498: LD_OWVAR 29
15502: PUSH
15503: LD_INT 2
15505: ARRAY
15506: PUSH
15507: LD_INT 1
15509: PLUS
15510: PUSH
15511: EMPTY
15512: LIST
15513: LIST
15514: ST_TO_ADDR
// hc_sex := sex_male ;
15515: LD_ADDR_OWVAR 27
15519: PUSH
15520: LD_INT 1
15522: ST_TO_ADDR
// hc_importance := 0 ;
15523: LD_ADDR_OWVAR 32
15527: PUSH
15528: LD_INT 0
15530: ST_TO_ADDR
// hc_agressivity := Rand ( 10 , 50 ) ;
15531: LD_ADDR_OWVAR 35
15535: PUSH
15536: LD_INT 10
15538: PPUSH
15539: LD_INT 50
15541: PPUSH
15542: CALL_OW 12
15546: ST_TO_ADDR
// end ;
15547: LD_VAR 0 1
15551: RET
// every 0 0$15 + 0 0$1 marked 494 do var i , d , tig ;
15552: GO 15554
15554: DISABLE
15555: LD_INT 0
15557: PPUSH
15558: PPUSH
15559: PPUSH
// begin case tick of 1 .. 1 1$0 :
15560: LD_OWVAR 1
15564: PUSH
15565: LD_INT 1
15567: DOUBLE
15568: GREATEREQUAL
15569: IFFALSE 15577
15571: LD_INT 2100
15573: DOUBLE
15574: LESSEQUAL
15575: IFTRUE 15579
15577: GO 15590
15579: POP
// d := 15 ; 1 1$0 + 1 .. 2 2$0 :
15580: LD_ADDR_VAR 0 2
15584: PUSH
15585: LD_INT 15
15587: ST_TO_ADDR
15588: GO 15686
15590: LD_INT 2100
15592: PUSH
15593: LD_INT 1
15595: PLUS
15596: DOUBLE
15597: GREATEREQUAL
15598: IFFALSE 15606
15600: LD_INT 4200
15602: DOUBLE
15603: LESSEQUAL
15604: IFTRUE 15608
15606: GO 15619
15608: POP
// d := 14 ; 20 20$0 + 1 .. 50 50$0 :
15609: LD_ADDR_VAR 0 2
15613: PUSH
15614: LD_INT 14
15616: ST_TO_ADDR
15617: GO 15686
15619: LD_INT 42000
15621: PUSH
15622: LD_INT 1
15624: PLUS
15625: DOUBLE
15626: GREATEREQUAL
15627: IFFALSE 15635
15629: LD_INT 105000
15631: DOUBLE
15632: LESSEQUAL
15633: IFTRUE 15637
15635: GO 15648
15637: POP
// d := 12 ; 50 50$0 + 1 .. 300 300$0 :
15638: LD_ADDR_VAR 0 2
15642: PUSH
15643: LD_INT 12
15645: ST_TO_ADDR
15646: GO 15686
15648: LD_INT 105000
15650: PUSH
15651: LD_INT 1
15653: PLUS
15654: DOUBLE
15655: GREATEREQUAL
15656: IFFALSE 15664
15658: LD_INT 630000
15660: DOUBLE
15661: LESSEQUAL
15662: IFTRUE 15666
15664: GO 15677
15666: POP
// d := 11 ; else
15667: LD_ADDR_VAR 0 2
15671: PUSH
15672: LD_INT 11
15674: ST_TO_ADDR
15675: GO 15686
15677: POP
// d := 9 ; end ;
15678: LD_ADDR_VAR 0 2
15682: PUSH
15683: LD_INT 9
15685: ST_TO_ADDR
// i = FilterAllUnits ( [ [ f_side , 0 ] , [ f_class , class_tiger ] ] ) ;
15686: LD_ADDR_VAR 0 1
15690: PUSH
15691: LD_INT 22
15693: PUSH
15694: LD_INT 0
15696: PUSH
15697: EMPTY
15698: LIST
15699: LIST
15700: PUSH
15701: LD_INT 25
15703: PUSH
15704: LD_INT 14
15706: PUSH
15707: EMPTY
15708: LIST
15709: LIST
15710: PUSH
15711: EMPTY
15712: LIST
15713: LIST
15714: PPUSH
15715: CALL_OW 69
15719: ST_TO_ADDR
// if i < ( spawning_koef_of_tiger / 14 * d ) then
15720: LD_VAR 0 1
15724: PUSH
15725: LD_EXP 48
15729: PUSH
15730: LD_INT 14
15732: DIVREAL
15733: PUSH
15734: LD_VAR 0 2
15738: MUL
15739: LESS
15740: IFFALSE 15796
// for i = 1 to Rand ( 1 , 2 ) do
15742: LD_ADDR_VAR 0 1
15746: PUSH
15747: DOUBLE
15748: LD_INT 1
15750: DEC
15751: ST_TO_ADDR
15752: LD_INT 1
15754: PPUSH
15755: LD_INT 2
15757: PPUSH
15758: CALL_OW 12
15762: PUSH
15763: FOR_TO
15764: IFFALSE 15794
// begin tiger_init ;
15766: CALL 15224 0 0
// tig := CreateHuman ;
15770: LD_ADDR_VAR 0 3
15774: PUSH
15775: CALL_OW 44
15779: ST_TO_ADDR
// PlaceUnitAnywhere ( tig , false ) ;
15780: LD_VAR 0 3
15784: PPUSH
15785: LD_INT 0
15787: PPUSH
15788: CALL_OW 51
// end ;
15792: GO 15763
15794: POP
15795: POP
// enable ;
15796: ENABLE
// end ;
15797: PPOPN 3
15799: END
// export function StartTig ; var i , tig ; begin
15800: LD_INT 0
15802: PPUSH
15803: PPUSH
15804: PPUSH
// for i = 1 to Rand ( 1 , 3 ) do
15805: LD_ADDR_VAR 0 2
15809: PUSH
15810: DOUBLE
15811: LD_INT 1
15813: DEC
15814: ST_TO_ADDR
15815: LD_INT 1
15817: PPUSH
15818: LD_INT 3
15820: PPUSH
15821: CALL_OW 12
15825: PUSH
15826: FOR_TO
15827: IFFALSE 15857
// begin tiger_init ;
15829: CALL 15224 0 0
// tig := CreateHuman ;
15833: LD_ADDR_VAR 0 3
15837: PUSH
15838: CALL_OW 44
15842: ST_TO_ADDR
// PlaceUnitAnywhere ( tig , false ) ;
15843: LD_VAR 0 3
15847: PPUSH
15848: LD_INT 0
15850: PPUSH
15851: CALL_OW 51
// end ;
15855: GO 15826
15857: POP
15858: POP
// end ; end_of_file
15859: LD_VAR 0 1
15863: RET
// var BaseNames ; export function InitDisplayNames ; var i , n , u , a , r ; begin
15864: LD_INT 0
15866: PPUSH
15867: PPUSH
15868: PPUSH
15869: PPUSH
15870: PPUSH
15871: PPUSH
// for i in FilterAllUnits ( [ [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_not , [ f_side , 0 ] ] ] ) do
15872: LD_ADDR_VAR 0 2
15876: PUSH
15877: LD_INT 2
15879: PUSH
15880: LD_INT 30
15882: PUSH
15883: LD_INT 0
15885: PUSH
15886: EMPTY
15887: LIST
15888: LIST
15889: PUSH
15890: LD_INT 30
15892: PUSH
15893: LD_INT 1
15895: PUSH
15896: EMPTY
15897: LIST
15898: LIST
15899: PUSH
15900: EMPTY
15901: LIST
15902: LIST
15903: LIST
15904: PUSH
15905: LD_INT 3
15907: PUSH
15908: LD_INT 22
15910: PUSH
15911: LD_INT 0
15913: PUSH
15914: EMPTY
15915: LIST
15916: LIST
15917: PUSH
15918: EMPTY
15919: LIST
15920: LIST
15921: PUSH
15922: EMPTY
15923: LIST
15924: LIST
15925: PPUSH
15926: CALL_OW 69
15930: PUSH
15931: FOR_IN
15932: IFFALSE 15959
// SetBName ( i , @ & GetSide ( i ) ) ;
15934: LD_VAR 0 2
15938: PPUSH
15939: LD_STRING @
15941: PUSH
15942: LD_VAR 0 2
15946: PPUSH
15947: CALL_OW 255
15951: STR
15952: PPUSH
15953: CALL_OW 500
15957: GO 15931
15959: POP
15960: POP
// n = [ Kasyr , Cabal , Nitheim , Vanidas , Adjun , Alcon , Anthara , Denebola , Izard , Kaus , Mira , Procyon , Sirius , Tyr , Revoria , Eterna , Korigul , freedom ] ;
15961: LD_ADDR_VAR 0 3
15965: PUSH
15966: LD_STRING Kasyr
15968: PUSH
15969: LD_STRING Cabal
15971: PUSH
15972: LD_STRING Nitheim
15974: PUSH
15975: LD_STRING Vanidas
15977: PUSH
15978: LD_STRING Adjun
15980: PUSH
15981: LD_STRING Alcon
15983: PUSH
15984: LD_STRING Anthara
15986: PUSH
15987: LD_STRING Denebola
15989: PUSH
15990: LD_STRING Izard
15992: PUSH
15993: LD_STRING Kaus
15995: PUSH
15996: LD_STRING Mira
15998: PUSH
15999: LD_STRING Procyon
16001: PUSH
16002: LD_STRING Sirius
16004: PUSH
16005: LD_STRING Tyr
16007: PUSH
16008: LD_STRING Revoria
16010: PUSH
16011: LD_STRING Eterna
16013: PUSH
16014: LD_STRING Korigul
16016: PUSH
16017: LD_STRING freedom
16019: PUSH
16020: EMPTY
16021: LIST
16022: LIST
16023: LIST
16024: LIST
16025: LIST
16026: LIST
16027: LIST
16028: LIST
16029: LIST
16030: LIST
16031: LIST
16032: LIST
16033: LIST
16034: LIST
16035: LIST
16036: LIST
16037: LIST
16038: LIST
16039: ST_TO_ADDR
// u = [ alpha , gamma , delta , epsilon , Kappa , omikron , terminal , viper ] ^ n ;
16040: LD_ADDR_VAR 0 4
16044: PUSH
16045: LD_STRING alpha
16047: PUSH
16048: LD_STRING gamma
16050: PUSH
16051: LD_STRING delta
16053: PUSH
16054: LD_STRING epsilon
16056: PUSH
16057: LD_STRING Kappa
16059: PUSH
16060: LD_STRING omikron
16062: PUSH
16063: LD_STRING terminal
16065: PUSH
16066: LD_STRING viper
16068: PUSH
16069: EMPTY
16070: LIST
16071: LIST
16072: LIST
16073: LIST
16074: LIST
16075: LIST
16076: LIST
16077: LIST
16078: PUSH
16079: LD_VAR 0 3
16083: ADD
16084: ST_TO_ADDR
// r = [ beria , kirov , kagan , ovsyenko , gorkij , trockij , bluekher , yegorob , ryutin , budonny , yakir ] ^ n ;
16085: LD_ADDR_VAR 0 6
16089: PUSH
16090: LD_STRING beria
16092: PUSH
16093: LD_STRING kirov
16095: PUSH
16096: LD_STRING kagan
16098: PUSH
16099: LD_STRING ovsyenko
16101: PUSH
16102: LD_STRING gorkij
16104: PUSH
16105: LD_STRING trockij
16107: PUSH
16108: LD_STRING bluekher
16110: PUSH
16111: LD_STRING yegorob
16113: PUSH
16114: LD_STRING ryutin
16116: PUSH
16117: LD_STRING budonny
16119: PUSH
16120: LD_STRING yakir
16122: PUSH
16123: EMPTY
16124: LIST
16125: LIST
16126: LIST
16127: LIST
16128: LIST
16129: LIST
16130: LIST
16131: LIST
16132: LIST
16133: LIST
16134: LIST
16135: PUSH
16136: LD_VAR 0 3
16140: ADD
16141: ST_TO_ADDR
// a = [ newkabul , newsamark , riyadh , jeddah , dammam ] ^ n ;
16142: LD_ADDR_VAR 0 5
16146: PUSH
16147: LD_STRING newkabul
16149: PUSH
16150: LD_STRING newsamark
16152: PUSH
16153: LD_STRING riyadh
16155: PUSH
16156: LD_STRING jeddah
16158: PUSH
16159: LD_STRING dammam
16161: PUSH
16162: EMPTY
16163: LIST
16164: LIST
16165: LIST
16166: LIST
16167: LIST
16168: PUSH
16169: LD_VAR 0 3
16173: ADD
16174: ST_TO_ADDR
// BaseNames = [ u , a , r ] ;
16175: LD_ADDR_LOC 12
16179: PUSH
16180: LD_VAR 0 4
16184: PUSH
16185: LD_VAR 0 5
16189: PUSH
16190: LD_VAR 0 6
16194: PUSH
16195: EMPTY
16196: LIST
16197: LIST
16198: LIST
16199: ST_TO_ADDR
// end ;
16200: LD_VAR 0 1
16204: RET
// export function NameBuildingComplete ( b ) ; begin
16205: LD_INT 0
16207: PPUSH
// end ;
16208: LD_VAR 0 2
16212: RET
// export function NameBuildingStarted ( b , h ) ; var n , i ; begin
16213: LD_INT 0
16215: PPUSH
16216: PPUSH
16217: PPUSH
// n = getNation ( b ) ;
16218: LD_ADDR_VAR 0 4
16222: PUSH
16223: LD_VAR 0 1
16227: PPUSH
16228: CALL_OW 248
16232: ST_TO_ADDR
// i = rand ( 1 , BaseNames [ n ] + 0 ) ;
16233: LD_ADDR_VAR 0 5
16237: PUSH
16238: LD_INT 1
16240: PPUSH
16241: LD_LOC 12
16245: PUSH
16246: LD_VAR 0 4
16250: ARRAY
16251: PUSH
16252: LD_INT 0
16254: PLUS
16255: PPUSH
16256: CALL_OW 12
16260: ST_TO_ADDR
// setBName ( b , BaseNames [ n ] [ i ] ) ;
16261: LD_VAR 0 1
16265: PPUSH
16266: LD_LOC 12
16270: PUSH
16271: LD_VAR 0 4
16275: ARRAY
16276: PUSH
16277: LD_VAR 0 5
16281: ARRAY
16282: PPUSH
16283: CALL_OW 500
// end ;
16287: LD_VAR 0 3
16291: RET
// export function NameBuildingCaptured ( b , o , e ) ; begin
16292: LD_INT 0
16294: PPUSH
// end ; end_of_file
16295: LD_VAR 0 4
16299: RET
// var strength , lastxwin , lastywin , lastxlost , lastylost ; function Update_Flags ; var un ; begin
16300: LD_INT 0
16302: PPUSH
16303: PPUSH
// for un in battle_flags_id do
16304: LD_ADDR_VAR 0 2
16308: PUSH
16309: LD_EXP 89
16313: PUSH
16314: FOR_IN
16315: IFFALSE 16390
// ChangeBattleFlagOptions ( un , [ [ bfo_defend_bonus_human , strength ] , [ bfo_defend_bonus_vehicle , strength div 2 ] , [ bfo_defend_bonus_building , strength div 5 ] , [ bfo_height , strength ] ] ) ;
16317: LD_VAR 0 2
16321: PPUSH
16322: LD_INT 1
16324: PUSH
16325: LD_LOC 13
16329: PUSH
16330: EMPTY
16331: LIST
16332: LIST
16333: PUSH
16334: LD_INT 2
16336: PUSH
16337: LD_LOC 13
16341: PUSH
16342: LD_INT 2
16344: DIV
16345: PUSH
16346: EMPTY
16347: LIST
16348: LIST
16349: PUSH
16350: LD_INT 3
16352: PUSH
16353: LD_LOC 13
16357: PUSH
16358: LD_INT 5
16360: DIV
16361: PUSH
16362: EMPTY
16363: LIST
16364: LIST
16365: PUSH
16366: LD_INT 20
16368: PUSH
16369: LD_LOC 13
16373: PUSH
16374: EMPTY
16375: LIST
16376: LIST
16377: PUSH
16378: EMPTY
16379: LIST
16380: LIST
16381: LIST
16382: LIST
16383: PPUSH
16384: CALL_OW 423
16388: GO 16314
16390: POP
16391: POP
// end ;
16392: LD_VAR 0 1
16396: RET
// every 0 0$0.1 do var un ;
16397: GO 16399
16399: DISABLE
16400: LD_INT 0
16402: PPUSH
// begin if not def_morale_flags then
16403: LD_EXP 20
16407: NOT
16408: IFFALSE 16412
// exit ;
16410: GO 16489
// if not morale_decreasing_time then
16412: LD_EXP 46
16416: NOT
16417: IFFALSE 16421
// exit ;
16419: GO 16489
// strength = 100 ;
16421: LD_ADDR_LOC 13
16425: PUSH
16426: LD_INT 100
16428: ST_TO_ADDR
// repeat wait ( morale_decreasing_time ) ;
16429: LD_EXP 46
16433: PPUSH
16434: CALL_OW 67
// strength := strength - 1 ;
16438: LD_ADDR_LOC 13
16442: PUSH
16443: LD_LOC 13
16447: PUSH
16448: LD_INT 1
16450: MINUS
16451: ST_TO_ADDR
// Update_Flags ;
16452: CALL 16300 0 0
// until not strength ;
16456: LD_LOC 13
16460: NOT
16461: IFFALSE 16429
// for un in battle_flags_id do
16463: LD_ADDR_VAR 0 1
16467: PUSH
16468: LD_EXP 89
16472: PUSH
16473: FOR_IN
16474: IFFALSE 16487
// KillBattleFlag ( un ) ;
16476: LD_VAR 0 1
16480: PPUSH
16481: CALL_OW 419
16485: GO 16473
16487: POP
16488: POP
// end ; end_of_file
16489: PPOPN 1
16491: END
// export MultiplayerTimeEnabled , WaitServerStrings , Display_kings , extraStrings , limitsStrings , CurrentTime , DebugStrings , Display_WFG ; export function GetMultiplayerTime ; begin
16492: LD_INT 0
16494: PPUSH
// Result = [ #gamespeed , game_speed - 4 ] ^ [ #Multi1x1-Time , tick ] ;
16495: LD_ADDR_VAR 0 1
16499: PUSH
16500: LD_STRING #gamespeed
16502: PUSH
16503: LD_OWVAR 65
16507: PUSH
16508: LD_INT 4
16510: MINUS
16511: PUSH
16512: EMPTY
16513: LIST
16514: LIST
16515: PUSH
16516: LD_STRING #Multi1x1-Time
16518: PUSH
16519: LD_OWVAR 1
16523: PUSH
16524: EMPTY
16525: LIST
16526: LIST
16527: ADD
16528: ST_TO_ADDR
// end ;
16529: LD_VAR 0 1
16533: RET
// export function InitMultiplayerTime ; begin
16534: LD_INT 0
16536: PPUSH
// MultiplayerTimeEnabled := true ;
16537: LD_ADDR_EXP 106
16541: PUSH
16542: LD_INT 1
16544: ST_TO_ADDR
// display_strings = GetMultiplayerTime ;
16545: LD_ADDR_OWVAR 47
16549: PUSH
16550: CALL 16492 0 0
16554: ST_TO_ADDR
// end ;
16555: LD_VAR 0 1
16559: RET
// export function ShowTimer ; var AllStrings ; begin
16560: LD_INT 0
16562: PPUSH
16563: PPUSH
// AllStrings = GetMultiplayerTime ;
16564: LD_ADDR_VAR 0 2
16568: PUSH
16569: CALL 16492 0 0
16573: ST_TO_ADDR
// if debug_strings then
16574: LD_OWVAR 48
16578: IFFALSE 16596
// AllStrings = AllStrings ^ debug_strings ;
16580: LD_ADDR_VAR 0 2
16584: PUSH
16585: LD_VAR 0 2
16589: PUSH
16590: LD_OWVAR 48
16594: ADD
16595: ST_TO_ADDR
// if 0 <= siberite_bomb_Delay - tick then
16596: LD_INT 0
16598: PUSH
16599: LD_EXP 67
16603: PUSH
16604: LD_OWVAR 1
16608: MINUS
16609: LESSEQUAL
16610: IFFALSE 16641
// AllStrings := AllStrings ^ [ #allowedsibbomb , siberite_bomb_Delay - tick ] ;
16612: LD_ADDR_VAR 0 2
16616: PUSH
16617: LD_VAR 0 2
16621: PUSH
16622: LD_STRING #allowedsibbomb
16624: PUSH
16625: LD_EXP 67
16629: PUSH
16630: LD_OWVAR 1
16634: MINUS
16635: PUSH
16636: EMPTY
16637: LIST
16638: LIST
16639: ADD
16640: ST_TO_ADDR
// if 0 <= buildUpTime_Delay - tick then
16641: LD_INT 0
16643: PUSH
16644: LD_EXP 66
16648: PUSH
16649: LD_OWVAR 1
16653: MINUS
16654: LESSEQUAL
16655: IFFALSE 16686
// AllStrings := AllStrings ^ [ #builduptime , buildUpTime_Delay - tick ] ;
16657: LD_ADDR_VAR 0 2
16661: PUSH
16662: LD_VAR 0 2
16666: PUSH
16667: LD_STRING #builduptime
16669: PUSH
16670: LD_EXP 66
16674: PUSH
16675: LD_OWVAR 1
16679: MINUS
16680: PUSH
16681: EMPTY
16682: LIST
16683: LIST
16684: ADD
16685: ST_TO_ADDR
// AllStrings := AllStrings ^ [ #TechLevel , Tech_Level ] ;
16686: LD_ADDR_VAR 0 2
16690: PUSH
16691: LD_VAR 0 2
16695: PUSH
16696: LD_STRING #TechLevel
16698: PUSH
16699: LD_EXP 56
16703: PUSH
16704: EMPTY
16705: LIST
16706: LIST
16707: ADD
16708: ST_TO_ADDR
// if ( CurrentTime ) then
16709: LD_EXP 111
16713: IFFALSE 16742
// AllStrings = AllStrings ^ [ #Daily-Time , CurrentTime ] ^  ;
16715: LD_ADDR_VAR 0 2
16719: PUSH
16720: LD_VAR 0 2
16724: PUSH
16725: LD_STRING #Daily-Time
16727: PUSH
16728: LD_EXP 111
16732: PUSH
16733: EMPTY
16734: LIST
16735: LIST
16736: ADD
16737: PUSH
16738: LD_STRING 
16740: ADD
16741: ST_TO_ADDR
// if ( WaitServerStrings ) then
16742: LD_EXP 107
16746: IFFALSE 16764
// AllStrings := AllStrings ^ WaitServerStrings ;
16748: LD_ADDR_VAR 0 2
16752: PUSH
16753: LD_VAR 0 2
16757: PUSH
16758: LD_EXP 107
16762: ADD
16763: ST_TO_ADDR
// if not isSGUI and ( Display_kings or Display_WFG ) then
16764: LD_OWVAR 83
16768: NOT
16769: PUSH
16770: LD_EXP 108
16774: PUSH
16775: LD_EXP 113
16779: OR
16780: AND
16781: IFFALSE 16881
// begin if def_public_score and Team_game then
16783: LD_EXP 34
16787: PUSH
16788: LD_EXP 80
16792: AND
16793: IFFALSE 16837
// AllStrings := AllStrings ^ [ #yourTeam , [ 3 , 1 , 2 , 7 ] [ player_team ] ] ;
16795: LD_ADDR_VAR 0 2
16799: PUSH
16800: LD_VAR 0 2
16804: PUSH
16805: LD_STRING #yourTeam
16807: PUSH
16808: LD_INT 3
16810: PUSH
16811: LD_INT 1
16813: PUSH
16814: LD_INT 2
16816: PUSH
16817: LD_INT 7
16819: PUSH
16820: EMPTY
16821: LIST
16822: LIST
16823: LIST
16824: LIST
16825: PUSH
16826: LD_EXP 71
16830: ARRAY
16831: PUSH
16832: EMPTY
16833: LIST
16834: LIST
16835: ADD
16836: ST_TO_ADDR
// if ( Display_kings ) then
16837: LD_EXP 108
16841: IFFALSE 16859
// AllStrings := AllStrings ^ Display_kings ;
16843: LD_ADDR_VAR 0 2
16847: PUSH
16848: LD_VAR 0 2
16852: PUSH
16853: LD_EXP 108
16857: ADD
16858: ST_TO_ADDR
// if ( Display_WFG ) then
16859: LD_EXP 113
16863: IFFALSE 16881
// AllStrings := AllStrings ^ Display_WFG ;
16865: LD_ADDR_VAR 0 2
16869: PUSH
16870: LD_VAR 0 2
16874: PUSH
16875: LD_EXP 113
16879: ADD
16880: ST_TO_ADDR
// end ; if ( ExtraStrings ) then
16881: LD_EXP 109
16885: IFFALSE 16907
// AllStrings := AllStrings ^  ^ ExtraStrings ;
16887: LD_ADDR_VAR 0 2
16891: PUSH
16892: LD_VAR 0 2
16896: PUSH
16897: LD_STRING 
16899: ADD
16900: PUSH
16901: LD_EXP 109
16905: ADD
16906: ST_TO_ADDR
// if ( LimitsStrings ) then
16907: LD_EXP 110
16911: IFFALSE 16933
// AllStrings := AllStrings ^  ^ LimitsStrings ;
16913: LD_ADDR_VAR 0 2
16917: PUSH
16918: LD_VAR 0 2
16922: PUSH
16923: LD_STRING 
16925: ADD
16926: PUSH
16927: LD_EXP 110
16931: ADD
16932: ST_TO_ADDR
// if ( DebugStrings ) then
16933: LD_EXP 112
16937: IFFALSE 16959
// AllStrings := AllStrings ^  ^ DebugStrings ;
16939: LD_ADDR_VAR 0 2
16943: PUSH
16944: LD_VAR 0 2
16948: PUSH
16949: LD_STRING 
16951: ADD
16952: PUSH
16953: LD_EXP 112
16957: ADD
16958: ST_TO_ADDR
// Display_Strings := AllStrings ;
16959: LD_ADDR_OWVAR 47
16963: PUSH
16964: LD_VAR 0 2
16968: ST_TO_ADDR
// end ;
16969: LD_VAR 0 1
16973: RET
// every 0 0$1 trigger MultiplayerTimeEnabled do
16974: LD_EXP 106
16978: IFFALSE 16988
16980: GO 16982
16982: DISABLE
// begin ShowTimer ;
16983: CALL 16560 0 0
// enable ;
16987: ENABLE
// end ; end_of_file
16988: END
// export MaxFlags ; export function ShowResources ( FullMapArea , EnableSiberitResurces , Range ) ; var k , k2 , i , d , r , u ; begin
16989: LD_INT 0
16991: PPUSH
16992: PPUSH
16993: PPUSH
16994: PPUSH
16995: PPUSH
16996: PPUSH
16997: PPUSH
// if range = 0 then
16998: LD_VAR 0 3
17002: PUSH
17003: LD_INT 0
17005: EQUAL
17006: IFFALSE 17016
// range = 400 ;
17008: LD_ADDR_VAR 0 3
17012: PUSH
17013: LD_INT 400
17015: ST_TO_ADDR
// r = range ;
17016: LD_ADDR_VAR 0 9
17020: PUSH
17021: LD_VAR 0 3
17025: ST_TO_ADDR
// d = GetListOfResourcesInArea ( FullMapArea ) ;
17026: LD_ADDR_VAR 0 8
17030: PUSH
17031: LD_VAR 0 1
17035: PPUSH
17036: CALL_OW 442
17040: ST_TO_ADDR
// for k = 1 to ( d / 3 ) do
17041: LD_ADDR_VAR 0 5
17045: PUSH
17046: DOUBLE
17047: LD_INT 1
17049: DEC
17050: ST_TO_ADDR
17051: LD_VAR 0 8
17055: PUSH
17056: LD_INT 3
17058: DIVREAL
17059: PUSH
17060: FOR_TO
17061: IFFALSE 17252
// begin k2 = k * 3 ;
17063: LD_ADDR_VAR 0 6
17067: PUSH
17068: LD_VAR 0 5
17072: PUSH
17073: LD_INT 3
17075: MUL
17076: ST_TO_ADDR
// for i = 1 to 8 do
17077: LD_ADDR_VAR 0 7
17081: PUSH
17082: DOUBLE
17083: LD_INT 1
17085: DEC
17086: ST_TO_ADDR
17087: LD_INT 8
17089: PUSH
17090: FOR_TO
17091: IFFALSE 17248
// begin if d [ k2 ] = 1 or ( d [ k2 ] = 2 and EnableSiberitResurces ) then
17093: LD_VAR 0 8
17097: PUSH
17098: LD_VAR 0 6
17102: ARRAY
17103: PUSH
17104: LD_INT 1
17106: EQUAL
17107: PUSH
17108: LD_VAR 0 8
17112: PUSH
17113: LD_VAR 0 6
17117: ARRAY
17118: PUSH
17119: LD_INT 2
17121: EQUAL
17122: PUSH
17123: LD_VAR 0 2
17127: AND
17128: OR
17129: IFFALSE 17246
// begin u = filterAllUnits ( [ [ f_side , i ] , [ f_distxy , d [ k2 - 2 ] , d [ k2 - 1 ] , r ] ] ) ;
17131: LD_ADDR_VAR 0 10
17135: PUSH
17136: LD_INT 22
17138: PUSH
17139: LD_VAR 0 7
17143: PUSH
17144: EMPTY
17145: LIST
17146: LIST
17147: PUSH
17148: LD_INT 92
17150: PUSH
17151: LD_VAR 0 8
17155: PUSH
17156: LD_VAR 0 6
17160: PUSH
17161: LD_INT 2
17163: MINUS
17164: ARRAY
17165: PUSH
17166: LD_VAR 0 8
17170: PUSH
17171: LD_VAR 0 6
17175: PUSH
17176: LD_INT 1
17178: MINUS
17179: ARRAY
17180: PUSH
17181: LD_VAR 0 9
17185: PUSH
17186: EMPTY
17187: LIST
17188: LIST
17189: LIST
17190: LIST
17191: PUSH
17192: EMPTY
17193: LIST
17194: LIST
17195: PPUSH
17196: CALL_OW 69
17200: ST_TO_ADDR
// if u then
17201: LD_VAR 0 10
17205: IFFALSE 17246
// SetResourceVisibility ( d [ k2 - 2 ] , d [ k2 - 1 ] , i ) ;
17207: LD_VAR 0 8
17211: PUSH
17212: LD_VAR 0 6
17216: PUSH
17217: LD_INT 2
17219: MINUS
17220: ARRAY
17221: PPUSH
17222: LD_VAR 0 8
17226: PUSH
17227: LD_VAR 0 6
17231: PUSH
17232: LD_INT 1
17234: MINUS
17235: ARRAY
17236: PPUSH
17237: LD_VAR 0 7
17241: PPUSH
17242: CALL_OW 441
// end ; end ;
17246: GO 17090
17248: POP
17249: POP
// end ;
17250: GO 17060
17252: POP
17253: POP
// end ;
17254: LD_VAR 0 4
17258: RET
// export function randomHumanStats ( init_level ) ; var cl , combat , eng , mech , sci , skills , base_skills , attr ; var i , k , base , n , def , speed ; begin
17259: LD_INT 0
17261: PPUSH
17262: PPUSH
17263: PPUSH
17264: PPUSH
17265: PPUSH
17266: PPUSH
17267: PPUSH
17268: PPUSH
17269: PPUSH
17270: PPUSH
17271: PPUSH
17272: PPUSH
17273: PPUSH
17274: PPUSH
17275: PPUSH
// cl = rand ( 1 , 4 ) ;
17276: LD_ADDR_VAR 0 3
17280: PUSH
17281: LD_INT 1
17283: PPUSH
17284: LD_INT 4
17286: PPUSH
17287: CALL_OW 12
17291: ST_TO_ADDR
// base = init_level ;
17292: LD_ADDR_VAR 0 13
17296: PUSH
17297: LD_VAR 0 1
17301: ST_TO_ADDR
// case tick of 0 .. 5 5$00 :
17302: LD_OWVAR 1
17306: PUSH
17307: LD_INT 0
17309: DOUBLE
17310: GREATEREQUAL
17311: IFFALSE 17319
17313: LD_INT 10500
17315: DOUBLE
17316: LESSEQUAL
17317: IFTRUE 17321
17319: GO 17332
17321: POP
// i = 1 ; 5 5$01 .. 9 9$00 :
17322: LD_ADDR_VAR 0 11
17326: PUSH
17327: LD_INT 1
17329: ST_TO_ADDR
17330: GO 17591
17332: LD_INT 10535
17334: DOUBLE
17335: GREATEREQUAL
17336: IFFALSE 17344
17338: LD_INT 18900
17340: DOUBLE
17341: LESSEQUAL
17342: IFTRUE 17346
17344: GO 17357
17346: POP
// i = 2 ; 9 9$01 .. 15 15$00 :
17347: LD_ADDR_VAR 0 11
17351: PUSH
17352: LD_INT 2
17354: ST_TO_ADDR
17355: GO 17591
17357: LD_INT 18935
17359: DOUBLE
17360: GREATEREQUAL
17361: IFFALSE 17369
17363: LD_INT 31500
17365: DOUBLE
17366: LESSEQUAL
17367: IFTRUE 17371
17369: GO 17382
17371: POP
// i = 3 ; 15 15$01 .. 22 22$00 :
17372: LD_ADDR_VAR 0 11
17376: PUSH
17377: LD_INT 3
17379: ST_TO_ADDR
17380: GO 17591
17382: LD_INT 31535
17384: DOUBLE
17385: GREATEREQUAL
17386: IFFALSE 17394
17388: LD_INT 46200
17390: DOUBLE
17391: LESSEQUAL
17392: IFTRUE 17396
17394: GO 17407
17396: POP
// i = 4 ; 22 22$01 .. 30 30$00 :
17397: LD_ADDR_VAR 0 11
17401: PUSH
17402: LD_INT 4
17404: ST_TO_ADDR
17405: GO 17591
17407: LD_INT 46235
17409: DOUBLE
17410: GREATEREQUAL
17411: IFFALSE 17419
17413: LD_INT 63000
17415: DOUBLE
17416: LESSEQUAL
17417: IFTRUE 17421
17419: GO 17432
17421: POP
// i = 5 ; 30 30$01 .. 40 40$00 :
17422: LD_ADDR_VAR 0 11
17426: PUSH
17427: LD_INT 5
17429: ST_TO_ADDR
17430: GO 17591
17432: LD_INT 63035
17434: DOUBLE
17435: GREATEREQUAL
17436: IFFALSE 17444
17438: LD_INT 84000
17440: DOUBLE
17441: LESSEQUAL
17442: IFTRUE 17446
17444: GO 17457
17446: POP
// i = 6 ; 40 40$01 .. 52 52$00 :
17447: LD_ADDR_VAR 0 11
17451: PUSH
17452: LD_INT 6
17454: ST_TO_ADDR
17455: GO 17591
17457: LD_INT 84035
17459: DOUBLE
17460: GREATEREQUAL
17461: IFFALSE 17469
17463: LD_INT 109200
17465: DOUBLE
17466: LESSEQUAL
17467: IFTRUE 17471
17469: GO 17482
17471: POP
// i = 7 ; 52 52$01 .. 66 66$00 :
17472: LD_ADDR_VAR 0 11
17476: PUSH
17477: LD_INT 7
17479: ST_TO_ADDR
17480: GO 17591
17482: LD_INT 109235
17484: DOUBLE
17485: GREATEREQUAL
17486: IFFALSE 17494
17488: LD_INT 138600
17490: DOUBLE
17491: LESSEQUAL
17492: IFTRUE 17496
17494: GO 17507
17496: POP
// i = 8 ; 66 66$01 .. 88 88$00 :
17497: LD_ADDR_VAR 0 11
17501: PUSH
17502: LD_INT 8
17504: ST_TO_ADDR
17505: GO 17591
17507: LD_INT 138635
17509: DOUBLE
17510: GREATEREQUAL
17511: IFFALSE 17519
17513: LD_INT 184800
17515: DOUBLE
17516: LESSEQUAL
17517: IFTRUE 17521
17519: GO 17532
17521: POP
// i = 9 ; 88 88$01 .. 100 100$00 :
17522: LD_ADDR_VAR 0 11
17526: PUSH
17527: LD_INT 9
17529: ST_TO_ADDR
17530: GO 17591
17532: LD_INT 184835
17534: DOUBLE
17535: GREATEREQUAL
17536: IFFALSE 17544
17538: LD_INT 210000
17540: DOUBLE
17541: LESSEQUAL
17542: IFTRUE 17546
17544: GO 17557
17546: POP
// i = 10 ; 100 100$01 .. 120 120$00 :
17547: LD_ADDR_VAR 0 11
17551: PUSH
17552: LD_INT 10
17554: ST_TO_ADDR
17555: GO 17591
17557: LD_INT 210035
17559: DOUBLE
17560: GREATEREQUAL
17561: IFFALSE 17569
17563: LD_INT 252000
17565: DOUBLE
17566: LESSEQUAL
17567: IFTRUE 17571
17569: GO 17582
17571: POP
// i = 11 ; else
17572: LD_ADDR_VAR 0 11
17576: PUSH
17577: LD_INT 11
17579: ST_TO_ADDR
17580: GO 17591
17582: POP
// i = 12 ; end ;
17583: LD_ADDR_VAR 0 11
17587: PUSH
17588: LD_INT 12
17590: ST_TO_ADDR
// i = i - base div 2 ;
17591: LD_ADDR_VAR 0 11
17595: PUSH
17596: LD_VAR 0 11
17600: PUSH
17601: LD_VAR 0 13
17605: PUSH
17606: LD_INT 2
17608: DIV
17609: MINUS
17610: ST_TO_ADDR
// if i < 0 then
17611: LD_VAR 0 11
17615: PUSH
17616: LD_INT 0
17618: LESS
17619: IFFALSE 17629
// i = 0 ;
17621: LD_ADDR_VAR 0 11
17625: PUSH
17626: LD_INT 0
17628: ST_TO_ADDR
// if cl = 1 then
17629: LD_VAR 0 3
17633: PUSH
17634: LD_INT 1
17636: EQUAL
17637: IFFALSE 17677
// combat = rand ( base + i - 1 , base + i ) else
17639: LD_ADDR_VAR 0 4
17643: PUSH
17644: LD_VAR 0 13
17648: PUSH
17649: LD_VAR 0 11
17653: PLUS
17654: PUSH
17655: LD_INT 1
17657: MINUS
17658: PPUSH
17659: LD_VAR 0 13
17663: PUSH
17664: LD_VAR 0 11
17668: PLUS
17669: PPUSH
17670: CALL_OW 12
17674: ST_TO_ADDR
17675: GO 17717
// combat = rand ( base + i - 4 , base + i - 1 ) ;
17677: LD_ADDR_VAR 0 4
17681: PUSH
17682: LD_VAR 0 13
17686: PUSH
17687: LD_VAR 0 11
17691: PLUS
17692: PUSH
17693: LD_INT 4
17695: MINUS
17696: PPUSH
17697: LD_VAR 0 13
17701: PUSH
17702: LD_VAR 0 11
17706: PLUS
17707: PUSH
17708: LD_INT 1
17710: MINUS
17711: PPUSH
17712: CALL_OW 12
17716: ST_TO_ADDR
// if cl = 2 then
17717: LD_VAR 0 3
17721: PUSH
17722: LD_INT 2
17724: EQUAL
17725: IFFALSE 17765
// eng = rand ( base + i - 1 , base + i ) else
17727: LD_ADDR_VAR 0 5
17731: PUSH
17732: LD_VAR 0 13
17736: PUSH
17737: LD_VAR 0 11
17741: PLUS
17742: PUSH
17743: LD_INT 1
17745: MINUS
17746: PPUSH
17747: LD_VAR 0 13
17751: PUSH
17752: LD_VAR 0 11
17756: PLUS
17757: PPUSH
17758: CALL_OW 12
17762: ST_TO_ADDR
17763: GO 17805
// eng = rand ( base + i - 4 , base + i - 1 ) ;
17765: LD_ADDR_VAR 0 5
17769: PUSH
17770: LD_VAR 0 13
17774: PUSH
17775: LD_VAR 0 11
17779: PLUS
17780: PUSH
17781: LD_INT 4
17783: MINUS
17784: PPUSH
17785: LD_VAR 0 13
17789: PUSH
17790: LD_VAR 0 11
17794: PLUS
17795: PUSH
17796: LD_INT 1
17798: MINUS
17799: PPUSH
17800: CALL_OW 12
17804: ST_TO_ADDR
// if cl = 3 then
17805: LD_VAR 0 3
17809: PUSH
17810: LD_INT 3
17812: EQUAL
17813: IFFALSE 17853
// mech = rand ( base + i - 1 , base + i ) else
17815: LD_ADDR_VAR 0 6
17819: PUSH
17820: LD_VAR 0 13
17824: PUSH
17825: LD_VAR 0 11
17829: PLUS
17830: PUSH
17831: LD_INT 1
17833: MINUS
17834: PPUSH
17835: LD_VAR 0 13
17839: PUSH
17840: LD_VAR 0 11
17844: PLUS
17845: PPUSH
17846: CALL_OW 12
17850: ST_TO_ADDR
17851: GO 17893
// mech = rand ( base + i - 4 , base + i - 1 ) ;
17853: LD_ADDR_VAR 0 6
17857: PUSH
17858: LD_VAR 0 13
17862: PUSH
17863: LD_VAR 0 11
17867: PLUS
17868: PUSH
17869: LD_INT 4
17871: MINUS
17872: PPUSH
17873: LD_VAR 0 13
17877: PUSH
17878: LD_VAR 0 11
17882: PLUS
17883: PUSH
17884: LD_INT 1
17886: MINUS
17887: PPUSH
17888: CALL_OW 12
17892: ST_TO_ADDR
// if cl = 4 then
17893: LD_VAR 0 3
17897: PUSH
17898: LD_INT 4
17900: EQUAL
17901: IFFALSE 17941
// sci = rand ( base + i - 1 , base + i ) else
17903: LD_ADDR_VAR 0 7
17907: PUSH
17908: LD_VAR 0 13
17912: PUSH
17913: LD_VAR 0 11
17917: PLUS
17918: PUSH
17919: LD_INT 1
17921: MINUS
17922: PPUSH
17923: LD_VAR 0 13
17927: PUSH
17928: LD_VAR 0 11
17932: PLUS
17933: PPUSH
17934: CALL_OW 12
17938: ST_TO_ADDR
17939: GO 17981
// sci = rand ( base + i - 4 , base + i - 1 ) ;
17941: LD_ADDR_VAR 0 7
17945: PUSH
17946: LD_VAR 0 13
17950: PUSH
17951: LD_VAR 0 11
17955: PLUS
17956: PUSH
17957: LD_INT 4
17959: MINUS
17960: PPUSH
17961: LD_VAR 0 13
17965: PUSH
17966: LD_VAR 0 11
17970: PLUS
17971: PUSH
17972: LD_INT 1
17974: MINUS
17975: PPUSH
17976: CALL_OW 12
17980: ST_TO_ADDR
// skills = [ combat , eng , mech , sci ] ;
17981: LD_ADDR_VAR 0 8
17985: PUSH
17986: LD_VAR 0 4
17990: PUSH
17991: LD_VAR 0 5
17995: PUSH
17996: LD_VAR 0 6
18000: PUSH
18001: LD_VAR 0 7
18005: PUSH
18006: EMPTY
18007: LIST
18008: LIST
18009: LIST
18010: LIST
18011: ST_TO_ADDR
// for i = 1 to 4 do
18012: LD_ADDR_VAR 0 11
18016: PUSH
18017: DOUBLE
18018: LD_INT 1
18020: DEC
18021: ST_TO_ADDR
18022: LD_INT 4
18024: PUSH
18025: FOR_TO
18026: IFFALSE 18181
// begin if skills [ i ] < 0 then
18028: LD_VAR 0 8
18032: PUSH
18033: LD_VAR 0 11
18037: ARRAY
18038: PUSH
18039: LD_INT 0
18041: LESS
18042: IFFALSE 18067
// skills = replace ( skills , i , 0 ) ;
18044: LD_ADDR_VAR 0 8
18048: PUSH
18049: LD_VAR 0 8
18053: PPUSH
18054: LD_VAR 0 11
18058: PPUSH
18059: LD_INT 0
18061: PPUSH
18062: CALL_OW 1
18066: ST_TO_ADDR
// n = [ 0 , 1 , 0 , 1 , 0 , 2 , 0 , 0 , 1 , 0 ] [ rand ( 1 , 10 ) ] ;
18067: LD_ADDR_VAR 0 14
18071: PUSH
18072: LD_INT 0
18074: PUSH
18075: LD_INT 1
18077: PUSH
18078: LD_INT 0
18080: PUSH
18081: LD_INT 1
18083: PUSH
18084: LD_INT 0
18086: PUSH
18087: LD_INT 2
18089: PUSH
18090: LD_INT 0
18092: PUSH
18093: LD_INT 0
18095: PUSH
18096: LD_INT 1
18098: PUSH
18099: LD_INT 0
18101: PUSH
18102: EMPTY
18103: LIST
18104: LIST
18105: LIST
18106: LIST
18107: LIST
18108: LIST
18109: LIST
18110: LIST
18111: LIST
18112: LIST
18113: PUSH
18114: LD_INT 1
18116: PPUSH
18117: LD_INT 10
18119: PPUSH
18120: CALL_OW 12
18124: ARRAY
18125: ST_TO_ADDR
// if n > skills [ i ] then
18126: LD_VAR 0 14
18130: PUSH
18131: LD_VAR 0 8
18135: PUSH
18136: LD_VAR 0 11
18140: ARRAY
18141: GREATER
18142: IFFALSE 18160
// n = skills [ i ] ;
18144: LD_ADDR_VAR 0 14
18148: PUSH
18149: LD_VAR 0 8
18153: PUSH
18154: LD_VAR 0 11
18158: ARRAY
18159: ST_TO_ADDR
// replace ( base_skills , i , n ) ;
18160: LD_VAR 0 9
18164: PPUSH
18165: LD_VAR 0 11
18169: PPUSH
18170: LD_VAR 0 14
18174: PPUSH
18175: CALL_OW 1
// end ;
18179: GO 18025
18181: POP
18182: POP
// n = rand ( 1 , 100 ) ;
18183: LD_ADDR_VAR 0 14
18187: PUSH
18188: LD_INT 1
18190: PPUSH
18191: LD_INT 100
18193: PPUSH
18194: CALL_OW 12
18198: ST_TO_ADDR
// case n of 1 .. 32 :
18199: LD_VAR 0 14
18203: PUSH
18204: LD_INT 1
18206: DOUBLE
18207: GREATEREQUAL
18208: IFFALSE 18216
18210: LD_INT 32
18212: DOUBLE
18213: LESSEQUAL
18214: IFTRUE 18218
18216: GO 18229
18218: POP
// def = 10 ; 31 .. 54 :
18219: LD_ADDR_VAR 0 15
18223: PUSH
18224: LD_INT 10
18226: ST_TO_ADDR
18227: GO 18330
18229: LD_INT 31
18231: DOUBLE
18232: GREATEREQUAL
18233: IFFALSE 18241
18235: LD_INT 54
18237: DOUBLE
18238: LESSEQUAL
18239: IFTRUE 18243
18241: GO 18254
18243: POP
// def = 9 ; 55 .. 76 :
18244: LD_ADDR_VAR 0 15
18248: PUSH
18249: LD_INT 9
18251: ST_TO_ADDR
18252: GO 18330
18254: LD_INT 55
18256: DOUBLE
18257: GREATEREQUAL
18258: IFFALSE 18266
18260: LD_INT 76
18262: DOUBLE
18263: LESSEQUAL
18264: IFTRUE 18268
18266: GO 18279
18268: POP
// def = 11 ; 77 .. 88 :
18269: LD_ADDR_VAR 0 15
18273: PUSH
18274: LD_INT 11
18276: ST_TO_ADDR
18277: GO 18330
18279: LD_INT 77
18281: DOUBLE
18282: GREATEREQUAL
18283: IFFALSE 18291
18285: LD_INT 88
18287: DOUBLE
18288: LESSEQUAL
18289: IFTRUE 18293
18291: GO 18304
18293: POP
// def = 8 ; 89 .. 100 :
18294: LD_ADDR_VAR 0 15
18298: PUSH
18299: LD_INT 8
18301: ST_TO_ADDR
18302: GO 18330
18304: LD_INT 89
18306: DOUBLE
18307: GREATEREQUAL
18308: IFFALSE 18316
18310: LD_INT 100
18312: DOUBLE
18313: LESSEQUAL
18314: IFTRUE 18318
18316: GO 18329
18318: POP
// def = 12 ; end ;
18319: LD_ADDR_VAR 0 15
18323: PUSH
18324: LD_INT 12
18326: ST_TO_ADDR
18327: GO 18330
18329: POP
// n = rand ( 1 , 100 ) ;
18330: LD_ADDR_VAR 0 14
18334: PUSH
18335: LD_INT 1
18337: PPUSH
18338: LD_INT 100
18340: PPUSH
18341: CALL_OW 12
18345: ST_TO_ADDR
// case n of 1 .. 44 :
18346: LD_VAR 0 14
18350: PUSH
18351: LD_INT 1
18353: DOUBLE
18354: GREATEREQUAL
18355: IFFALSE 18363
18357: LD_INT 44
18359: DOUBLE
18360: LESSEQUAL
18361: IFTRUE 18365
18363: GO 18376
18365: POP
// speed = 10 ; 45 .. 76 :
18366: LD_ADDR_VAR 0 16
18370: PUSH
18371: LD_INT 10
18373: ST_TO_ADDR
18374: GO 18452
18376: LD_INT 45
18378: DOUBLE
18379: GREATEREQUAL
18380: IFFALSE 18388
18382: LD_INT 76
18384: DOUBLE
18385: LESSEQUAL
18386: IFTRUE 18390
18388: GO 18401
18390: POP
// speed = 9 ; 77 .. 94 :
18391: LD_ADDR_VAR 0 16
18395: PUSH
18396: LD_INT 9
18398: ST_TO_ADDR
18399: GO 18452
18401: LD_INT 77
18403: DOUBLE
18404: GREATEREQUAL
18405: IFFALSE 18413
18407: LD_INT 94
18409: DOUBLE
18410: LESSEQUAL
18411: IFTRUE 18415
18413: GO 18426
18415: POP
// speed = 11 ; 95 .. 100 :
18416: LD_ADDR_VAR 0 16
18420: PUSH
18421: LD_INT 11
18423: ST_TO_ADDR
18424: GO 18452
18426: LD_INT 95
18428: DOUBLE
18429: GREATEREQUAL
18430: IFFALSE 18438
18432: LD_INT 100
18434: DOUBLE
18435: LESSEQUAL
18436: IFTRUE 18440
18438: GO 18451
18440: POP
// speed = 12 ; end ;
18441: LD_ADDR_VAR 0 16
18445: PUSH
18446: LD_INT 12
18448: ST_TO_ADDR
18449: GO 18452
18451: POP
// hc_attr = [ def , speed ] ;
18452: LD_ADDR_OWVAR 29
18456: PUSH
18457: LD_VAR 0 15
18461: PUSH
18462: LD_VAR 0 16
18466: PUSH
18467: EMPTY
18468: LIST
18469: LIST
18470: ST_TO_ADDR
// hc_basic_skills = base_skills ;
18471: LD_ADDR_OWVAR 30
18475: PUSH
18476: LD_VAR 0 9
18480: ST_TO_ADDR
// hc_skills := skills ;
18481: LD_ADDR_OWVAR 31
18485: PUSH
18486: LD_VAR 0 8
18490: ST_TO_ADDR
// hc_class = cl ;
18491: LD_ADDR_OWVAR 28
18495: PUSH
18496: LD_VAR 0 3
18500: ST_TO_ADDR
// end ; end_of_file
18501: LD_VAR 0 2
18505: RET
// var strany ; export maxTechLevel ; export function Start_tech_ur ; var i ; begin
18506: LD_INT 0
18508: PPUSH
18509: PPUSH
// if not maxTechLevel then
18510: LD_EXP 115
18514: NOT
18515: IFFALSE 18525
// maxTechLevel = 8 ;
18517: LD_ADDR_EXP 115
18521: PUSH
18522: LD_INT 8
18524: ST_TO_ADDR
// strany = [ ] ;
18525: LD_ADDR_LOC 18
18529: PUSH
18530: EMPTY
18531: ST_TO_ADDR
// if def_tech_level > maxTechLevel then
18532: LD_EXP 26
18536: PUSH
18537: LD_EXP 115
18541: GREATER
18542: IFFALSE 18554
// def_tech_level = maxTechLevel ;
18544: LD_ADDR_EXP 26
18548: PUSH
18549: LD_EXP 115
18553: ST_TO_ADDR
// for i := 1 to Side_Positions do
18554: LD_ADDR_VAR 0 2
18558: PUSH
18559: DOUBLE
18560: LD_INT 1
18562: DEC
18563: ST_TO_ADDR
18564: LD_EXP 75
18568: PUSH
18569: FOR_TO
18570: IFFALSE 18602
// if Side_Positions [ i ] then
18572: LD_EXP 75
18576: PUSH
18577: LD_VAR 0 2
18581: ARRAY
18582: IFFALSE 18600
// strany = strany ^ i ;
18584: LD_ADDR_LOC 18
18588: PUSH
18589: LD_LOC 18
18593: PUSH
18594: LD_VAR 0 2
18598: ADD
18599: ST_TO_ADDR
18600: GO 18569
18602: POP
18603: POP
// for i in strany do
18604: LD_ADDR_VAR 0 2
18608: PUSH
18609: LD_LOC 18
18613: PUSH
18614: FOR_IN
18615: IFFALSE 18628
// Vse_zakaz ( i ) ;
18617: LD_VAR 0 2
18621: PPUSH
18622: CALL 19603 0 1
18626: GO 18614
18628: POP
18629: POP
// for i in strany do
18630: LD_ADDR_VAR 0 2
18634: PUSH
18635: LD_LOC 18
18639: PUSH
18640: FOR_IN
18641: IFFALSE 19063
// case def_tech_level of 1 :
18643: LD_EXP 26
18647: PUSH
18648: LD_INT 1
18650: DOUBLE
18651: EQUAL
18652: IFTRUE 18656
18654: GO 18668
18656: POP
// ur_1 ( i ) ; 2 :
18657: LD_VAR 0 2
18661: PPUSH
18662: CALL 19763 0 1
18666: GO 19061
18668: LD_INT 2
18670: DOUBLE
18671: EQUAL
18672: IFTRUE 18676
18674: GO 18697
18676: POP
// begin ur_1 ( i ) ;
18677: LD_VAR 0 2
18681: PPUSH
18682: CALL 19763 0 1
// ur_2 ( i ) ;
18686: LD_VAR 0 2
18690: PPUSH
18691: CALL 20148 0 1
// end ; 3 :
18695: GO 19061
18697: LD_INT 3
18699: DOUBLE
18700: EQUAL
18701: IFTRUE 18705
18703: GO 18735
18705: POP
// begin ur_1 ( i ) ;
18706: LD_VAR 0 2
18710: PPUSH
18711: CALL 19763 0 1
// ur_2 ( i ) ;
18715: LD_VAR 0 2
18719: PPUSH
18720: CALL 20148 0 1
// ur_3 ( i ) ;
18724: LD_VAR 0 2
18728: PPUSH
18729: CALL 20537 0 1
// end ; 4 :
18733: GO 19061
18735: LD_INT 4
18737: DOUBLE
18738: EQUAL
18739: IFTRUE 18743
18741: GO 18782
18743: POP
// begin ur_1 ( i ) ;
18744: LD_VAR 0 2
18748: PPUSH
18749: CALL 19763 0 1
// ur_2 ( i ) ;
18753: LD_VAR 0 2
18757: PPUSH
18758: CALL 20148 0 1
// ur_3 ( i ) ;
18762: LD_VAR 0 2
18766: PPUSH
18767: CALL 20537 0 1
// ur_4 ( i ) ;
18771: LD_VAR 0 2
18775: PPUSH
18776: CALL 20998 0 1
// end ; 5 :
18780: GO 19061
18782: LD_INT 5
18784: DOUBLE
18785: EQUAL
18786: IFTRUE 18790
18788: GO 18838
18790: POP
// begin ur_1 ( i ) ;
18791: LD_VAR 0 2
18795: PPUSH
18796: CALL 19763 0 1
// ur_2 ( i ) ;
18800: LD_VAR 0 2
18804: PPUSH
18805: CALL 20148 0 1
// ur_3 ( i ) ;
18809: LD_VAR 0 2
18813: PPUSH
18814: CALL 20537 0 1
// ur_4 ( i ) ;
18818: LD_VAR 0 2
18822: PPUSH
18823: CALL 20998 0 1
// ur_5 ( i ) ;
18827: LD_VAR 0 2
18831: PPUSH
18832: CALL 21475 0 1
// end ; 6 :
18836: GO 19061
18838: LD_INT 6
18840: DOUBLE
18841: EQUAL
18842: IFTRUE 18846
18844: GO 18903
18846: POP
// begin ur_1 ( i ) ;
18847: LD_VAR 0 2
18851: PPUSH
18852: CALL 19763 0 1
// ur_2 ( i ) ;
18856: LD_VAR 0 2
18860: PPUSH
18861: CALL 20148 0 1
// ur_3 ( i ) ;
18865: LD_VAR 0 2
18869: PPUSH
18870: CALL 20537 0 1
// ur_4 ( i ) ;
18874: LD_VAR 0 2
18878: PPUSH
18879: CALL 20998 0 1
// ur_5 ( i ) ;
18883: LD_VAR 0 2
18887: PPUSH
18888: CALL 21475 0 1
// ur_6 ( i ) ;
18892: LD_VAR 0 2
18896: PPUSH
18897: CALL 21769 0 1
// end ; 7 :
18901: GO 19061
18903: LD_INT 7
18905: DOUBLE
18906: EQUAL
18907: IFTRUE 18911
18909: GO 18977
18911: POP
// begin ur_1 ( i ) ;
18912: LD_VAR 0 2
18916: PPUSH
18917: CALL 19763 0 1
// ur_2 ( i ) ;
18921: LD_VAR 0 2
18925: PPUSH
18926: CALL 20148 0 1
// ur_3 ( i ) ;
18930: LD_VAR 0 2
18934: PPUSH
18935: CALL 20537 0 1
// ur_4 ( i ) ;
18939: LD_VAR 0 2
18943: PPUSH
18944: CALL 20998 0 1
// ur_5 ( i ) ;
18948: LD_VAR 0 2
18952: PPUSH
18953: CALL 21475 0 1
// ur_6 ( i ) ;
18957: LD_VAR 0 2
18961: PPUSH
18962: CALL 21769 0 1
// ur_7 ( i ) ;
18966: LD_VAR 0 2
18970: PPUSH
18971: CALL 22039 0 1
// end ; 8 :
18975: GO 19061
18977: LD_INT 8
18979: DOUBLE
18980: EQUAL
18981: IFTRUE 18985
18983: GO 19060
18985: POP
// begin ur_1 ( i ) ;
18986: LD_VAR 0 2
18990: PPUSH
18991: CALL 19763 0 1
// ur_2 ( i ) ;
18995: LD_VAR 0 2
18999: PPUSH
19000: CALL 20148 0 1
// ur_3 ( i ) ;
19004: LD_VAR 0 2
19008: PPUSH
19009: CALL 20537 0 1
// ur_4 ( i ) ;
19013: LD_VAR 0 2
19017: PPUSH
19018: CALL 20998 0 1
// ur_5 ( i ) ;
19022: LD_VAR 0 2
19026: PPUSH
19027: CALL 21475 0 1
// ur_6 ( i ) ;
19031: LD_VAR 0 2
19035: PPUSH
19036: CALL 21769 0 1
// ur_7 ( i ) ;
19040: LD_VAR 0 2
19044: PPUSH
19045: CALL 22039 0 1
// ur_8 ( i ) ;
19049: LD_VAR 0 2
19053: PPUSH
19054: CALL 22285 0 1
// end ; end ;
19058: GO 19061
19060: POP
19061: GO 18640
19063: POP
19064: POP
// end ;
19065: LD_VAR 0 1
19069: RET
// every 0 0$01 marked 30 do var i ;
19070: GO 19072
19072: DISABLE
19073: LD_INT 0
19075: PPUSH
// begin if def_upgrade_tl = 0 then
19076: LD_EXP 27
19080: PUSH
19081: LD_INT 0
19083: EQUAL
19084: IFFALSE 19088
// exit ;
19086: GO 19600
// if def_tech_level < 1 and not maxTechLevel < 1 then
19088: LD_EXP 26
19092: PUSH
19093: LD_INT 1
19095: LESS
19096: PUSH
19097: LD_EXP 115
19101: PUSH
19102: LD_INT 1
19104: LESS
19105: NOT
19106: AND
19107: IFFALSE 19152
// begin wait ( 0 0$50 * def_upgrade_tl ) ;
19109: LD_INT 1750
19111: PUSH
19112: LD_EXP 27
19116: MUL
19117: PPUSH
19118: CALL_OW 67
// for i in strany do
19122: LD_ADDR_VAR 0 1
19126: PUSH
19127: LD_LOC 18
19131: PUSH
19132: FOR_IN
19133: IFFALSE 19146
// ur_1 ( i ) ;
19135: LD_VAR 0 1
19139: PPUSH
19140: CALL 19763 0 1
19144: GO 19132
19146: POP
19147: POP
// Hustota_Zasilek ;
19148: CALL 2185 0 0
// end ; if def_tech_level < 2 and not maxTechLevel < 2 then
19152: LD_EXP 26
19156: PUSH
19157: LD_INT 2
19159: LESS
19160: PUSH
19161: LD_EXP 115
19165: PUSH
19166: LD_INT 2
19168: LESS
19169: NOT
19170: AND
19171: IFFALSE 19216
// begin wait ( 1 1$00 * def_upgrade_tl ) ;
19173: LD_INT 2100
19175: PUSH
19176: LD_EXP 27
19180: MUL
19181: PPUSH
19182: CALL_OW 67
// for i in strany do
19186: LD_ADDR_VAR 0 1
19190: PUSH
19191: LD_LOC 18
19195: PUSH
19196: FOR_IN
19197: IFFALSE 19210
// ur_2 ( i ) ;
19199: LD_VAR 0 1
19203: PPUSH
19204: CALL 20148 0 1
19208: GO 19196
19210: POP
19211: POP
// Hustota_Zasilek ;
19212: CALL 2185 0 0
// end ; if def_tech_level < 3 and not maxTechLevel < 3 then
19216: LD_EXP 26
19220: PUSH
19221: LD_INT 3
19223: LESS
19224: PUSH
19225: LD_EXP 115
19229: PUSH
19230: LD_INT 3
19232: LESS
19233: NOT
19234: AND
19235: IFFALSE 19280
// begin wait ( 3 3$30 * def_upgrade_tl ) ;
19237: LD_INT 7350
19239: PUSH
19240: LD_EXP 27
19244: MUL
19245: PPUSH
19246: CALL_OW 67
// for i in strany do
19250: LD_ADDR_VAR 0 1
19254: PUSH
19255: LD_LOC 18
19259: PUSH
19260: FOR_IN
19261: IFFALSE 19274
// ur_3 ( i ) ;
19263: LD_VAR 0 1
19267: PPUSH
19268: CALL 20537 0 1
19272: GO 19260
19274: POP
19275: POP
// Hustota_Zasilek ;
19276: CALL 2185 0 0
// end ; if def_tech_level < 4 and not maxTechLevel < 4 then
19280: LD_EXP 26
19284: PUSH
19285: LD_INT 4
19287: LESS
19288: PUSH
19289: LD_EXP 115
19293: PUSH
19294: LD_INT 4
19296: LESS
19297: NOT
19298: AND
19299: IFFALSE 19344
// begin wait ( 4 4$30 * def_upgrade_tl ) ;
19301: LD_INT 9450
19303: PUSH
19304: LD_EXP 27
19308: MUL
19309: PPUSH
19310: CALL_OW 67
// for i in strany do
19314: LD_ADDR_VAR 0 1
19318: PUSH
19319: LD_LOC 18
19323: PUSH
19324: FOR_IN
19325: IFFALSE 19338
// ur_4 ( i ) ;
19327: LD_VAR 0 1
19331: PPUSH
19332: CALL 20998 0 1
19336: GO 19324
19338: POP
19339: POP
// Hustota_Zasilek ;
19340: CALL 2185 0 0
// end ; if def_tech_level < 5 and not maxTechLevel < 5 then
19344: LD_EXP 26
19348: PUSH
19349: LD_INT 5
19351: LESS
19352: PUSH
19353: LD_EXP 115
19357: PUSH
19358: LD_INT 5
19360: LESS
19361: NOT
19362: AND
19363: IFFALSE 19408
// begin wait ( 3 3$30 * def_upgrade_tl ) ;
19365: LD_INT 7350
19367: PUSH
19368: LD_EXP 27
19372: MUL
19373: PPUSH
19374: CALL_OW 67
// for i in strany do
19378: LD_ADDR_VAR 0 1
19382: PUSH
19383: LD_LOC 18
19387: PUSH
19388: FOR_IN
19389: IFFALSE 19402
// ur_5 ( i ) ;
19391: LD_VAR 0 1
19395: PPUSH
19396: CALL 21475 0 1
19400: GO 19388
19402: POP
19403: POP
// Hustota_Zasilek ;
19404: CALL 2185 0 0
// end ; if def_tech_level < 6 and not maxTechLevel < 6 then
19408: LD_EXP 26
19412: PUSH
19413: LD_INT 6
19415: LESS
19416: PUSH
19417: LD_EXP 115
19421: PUSH
19422: LD_INT 6
19424: LESS
19425: NOT
19426: AND
19427: IFFALSE 19472
// begin wait ( 4 4$15 * def_upgrade_tl ) ;
19429: LD_INT 8925
19431: PUSH
19432: LD_EXP 27
19436: MUL
19437: PPUSH
19438: CALL_OW 67
// for i in strany do
19442: LD_ADDR_VAR 0 1
19446: PUSH
19447: LD_LOC 18
19451: PUSH
19452: FOR_IN
19453: IFFALSE 19466
// ur_6 ( i ) ;
19455: LD_VAR 0 1
19459: PPUSH
19460: CALL 21769 0 1
19464: GO 19452
19466: POP
19467: POP
// Hustota_Zasilek ;
19468: CALL 2185 0 0
// end ; if def_tech_level < 7 and not maxTechLevel < 7 then
19472: LD_EXP 26
19476: PUSH
19477: LD_INT 7
19479: LESS
19480: PUSH
19481: LD_EXP 115
19485: PUSH
19486: LD_INT 7
19488: LESS
19489: NOT
19490: AND
19491: IFFALSE 19536
// begin wait ( 4 4$45 * def_upgrade_tl ) ;
19493: LD_INT 9975
19495: PUSH
19496: LD_EXP 27
19500: MUL
19501: PPUSH
19502: CALL_OW 67
// for i in strany do
19506: LD_ADDR_VAR 0 1
19510: PUSH
19511: LD_LOC 18
19515: PUSH
19516: FOR_IN
19517: IFFALSE 19530
// ur_7 ( i ) ;
19519: LD_VAR 0 1
19523: PPUSH
19524: CALL 22039 0 1
19528: GO 19516
19530: POP
19531: POP
// Hustota_Zasilek ;
19532: CALL 2185 0 0
// end ; if def_tech_level < 8 and not maxTechLevel < 8 then
19536: LD_EXP 26
19540: PUSH
19541: LD_INT 8
19543: LESS
19544: PUSH
19545: LD_EXP 115
19549: PUSH
19550: LD_INT 8
19552: LESS
19553: NOT
19554: AND
19555: IFFALSE 19600
// begin wait ( 6 6$00 * def_upgrade_tl ) ;
19557: LD_INT 12600
19559: PUSH
19560: LD_EXP 27
19564: MUL
19565: PPUSH
19566: CALL_OW 67
// for i in strany do
19570: LD_ADDR_VAR 0 1
19574: PUSH
19575: LD_LOC 18
19579: PUSH
19580: FOR_IN
19581: IFFALSE 19594
// ur_8 ( i ) ;
19583: LD_VAR 0 1
19587: PPUSH
19588: CALL 22285 0 1
19592: GO 19580
19594: POP
19595: POP
// Hustota_Zasilek ;
19596: CALL 2185 0 0
// end ; end ;
19600: PPOPN 1
19602: END
// function Vse_zakaz ( side ) ; var i , zbudovy ; begin
19603: LD_INT 0
19605: PPUSH
19606: PPUSH
19607: PPUSH
// for i = 1 to 72 do
19608: LD_ADDR_VAR 0 3
19612: PUSH
19613: DOUBLE
19614: LD_INT 1
19616: DEC
19617: ST_TO_ADDR
19618: LD_INT 72
19620: PUSH
19621: FOR_TO
19622: IFFALSE 19643
// SetTech ( i , side , state_disabled ) ;
19624: LD_VAR 0 3
19628: PPUSH
19629: LD_VAR 0 1
19633: PPUSH
19634: LD_INT 0
19636: PPUSH
19637: CALL_OW 322
19641: GO 19621
19643: POP
19644: POP
// zbudovy = [ 1 , 5 , 2 , 3 , 16 , 19 , 23 , 10 , 11 , 12 , 13 , 14 , 15 , 29 , 30 , 32 ] ;
19645: LD_ADDR_VAR 0 4
19649: PUSH
19650: LD_INT 1
19652: PUSH
19653: LD_INT 5
19655: PUSH
19656: LD_INT 2
19658: PUSH
19659: LD_INT 3
19661: PUSH
19662: LD_INT 16
19664: PUSH
19665: LD_INT 19
19667: PUSH
19668: LD_INT 23
19670: PUSH
19671: LD_INT 10
19673: PUSH
19674: LD_INT 11
19676: PUSH
19677: LD_INT 12
19679: PUSH
19680: LD_INT 13
19682: PUSH
19683: LD_INT 14
19685: PUSH
19686: LD_INT 15
19688: PUSH
19689: LD_INT 29
19691: PUSH
19692: LD_INT 30
19694: PUSH
19695: LD_INT 32
19697: PUSH
19698: EMPTY
19699: LIST
19700: LIST
19701: LIST
19702: LIST
19703: LIST
19704: LIST
19705: LIST
19706: LIST
19707: LIST
19708: LIST
19709: LIST
19710: LIST
19711: LIST
19712: LIST
19713: LIST
19714: LIST
19715: ST_TO_ADDR
// for i in zbudovy do
19716: LD_ADDR_VAR 0 3
19720: PUSH
19721: LD_VAR 0 4
19725: PUSH
19726: FOR_IN
19727: IFFALSE 19748
// SetRestrict ( i , side , state_disabled ) ;
19729: LD_VAR 0 3
19733: PPUSH
19734: LD_VAR 0 1
19738: PPUSH
19739: LD_INT 0
19741: PPUSH
19742: CALL_OW 324
19746: GO 19726
19748: POP
19749: POP
// Tech_Level = 0 ;
19750: LD_ADDR_EXP 56
19754: PUSH
19755: LD_INT 0
19757: ST_TO_ADDR
// end ;
19758: LD_VAR 0 2
19762: RET
// function ur_1 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
19763: LD_INT 0
19765: PPUSH
19766: PPUSH
19767: PPUSH
19768: PPUSH
19769: PPUSH
// narodnost := Side_Nations [ side ] ;
19770: LD_ADDR_VAR 0 3
19774: PUSH
19775: LD_EXP 76
19779: PUSH
19780: LD_VAR 0 1
19784: ARRAY
19785: ST_TO_ADDR
// case narodnost of 1 :
19786: LD_VAR 0 3
19790: PUSH
19791: LD_INT 1
19793: DOUBLE
19794: EQUAL
19795: IFTRUE 19799
19797: GO 19908
19799: POP
// begin pbudovy = [ 2 , 29 ] ;
19800: LD_ADDR_VAR 0 5
19804: PUSH
19805: LD_INT 2
19807: PUSH
19808: LD_INT 29
19810: PUSH
19811: EMPTY
19812: LIST
19813: LIST
19814: ST_TO_ADDR
// for i in pbudovy do
19815: LD_ADDR_VAR 0 6
19819: PUSH
19820: LD_VAR 0 5
19824: PUSH
19825: FOR_IN
19826: IFFALSE 19847
// EnableBuilding ( i , side , state_enabled ) ;
19828: LD_VAR 0 6
19832: PPUSH
19833: LD_VAR 0 1
19837: PPUSH
19838: LD_INT 1
19840: PPUSH
19841: CALL 22464 0 3
19845: GO 19825
19847: POP
19848: POP
// ptech = [ 46 , 35 , 45 , 48 ] ;
19849: LD_ADDR_VAR 0 4
19853: PUSH
19854: LD_INT 46
19856: PUSH
19857: LD_INT 35
19859: PUSH
19860: LD_INT 45
19862: PUSH
19863: LD_INT 48
19865: PUSH
19866: EMPTY
19867: LIST
19868: LIST
19869: LIST
19870: LIST
19871: ST_TO_ADDR
// for i in ptech do
19872: LD_ADDR_VAR 0 6
19876: PUSH
19877: LD_VAR 0 4
19881: PUSH
19882: FOR_IN
19883: IFFALSE 19904
// EnableTech ( i , side , state_enabled ) ;
19885: LD_VAR 0 6
19889: PPUSH
19890: LD_VAR 0 1
19894: PPUSH
19895: LD_INT 1
19897: PPUSH
19898: CALL 22385 0 3
19902: GO 19882
19904: POP
19905: POP
// end ; 2 :
19906: GO 20135
19908: LD_INT 2
19910: DOUBLE
19911: EQUAL
19912: IFTRUE 19916
19914: GO 20025
19916: POP
// begin pbudovy = [ 2 , 29 ] ;
19917: LD_ADDR_VAR 0 5
19921: PUSH
19922: LD_INT 2
19924: PUSH
19925: LD_INT 29
19927: PUSH
19928: EMPTY
19929: LIST
19930: LIST
19931: ST_TO_ADDR
// for i in pbudovy do
19932: LD_ADDR_VAR 0 6
19936: PUSH
19937: LD_VAR 0 5
19941: PUSH
19942: FOR_IN
19943: IFFALSE 19964
// EnableBuilding ( i , side , state_enabled ) ;
19945: LD_VAR 0 6
19949: PPUSH
19950: LD_VAR 0 1
19954: PPUSH
19955: LD_INT 1
19957: PPUSH
19958: CALL 22464 0 3
19962: GO 19942
19964: POP
19965: POP
// ptech = [ 46 , 35 , 45 , 48 ] ;
19966: LD_ADDR_VAR 0 4
19970: PUSH
19971: LD_INT 46
19973: PUSH
19974: LD_INT 35
19976: PUSH
19977: LD_INT 45
19979: PUSH
19980: LD_INT 48
19982: PUSH
19983: EMPTY
19984: LIST
19985: LIST
19986: LIST
19987: LIST
19988: ST_TO_ADDR
// for i in ptech do
19989: LD_ADDR_VAR 0 6
19993: PUSH
19994: LD_VAR 0 4
19998: PUSH
19999: FOR_IN
20000: IFFALSE 20021
// EnableTech ( i , side , state_enabled ) ;
20002: LD_VAR 0 6
20006: PPUSH
20007: LD_VAR 0 1
20011: PPUSH
20012: LD_INT 1
20014: PPUSH
20015: CALL 22385 0 3
20019: GO 19999
20021: POP
20022: POP
// end ; 3 :
20023: GO 20135
20025: LD_INT 3
20027: DOUBLE
20028: EQUAL
20029: IFTRUE 20033
20031: GO 20134
20033: POP
// begin pbudovy = [ 2 , 29 ] ;
20034: LD_ADDR_VAR 0 5
20038: PUSH
20039: LD_INT 2
20041: PUSH
20042: LD_INT 29
20044: PUSH
20045: EMPTY
20046: LIST
20047: LIST
20048: ST_TO_ADDR
// for i in pbudovy do
20049: LD_ADDR_VAR 0 6
20053: PUSH
20054: LD_VAR 0 5
20058: PUSH
20059: FOR_IN
20060: IFFALSE 20081
// EnableBuilding ( i , side , state_enabled ) ;
20062: LD_VAR 0 6
20066: PPUSH
20067: LD_VAR 0 1
20071: PPUSH
20072: LD_INT 1
20074: PPUSH
20075: CALL 22464 0 3
20079: GO 20059
20081: POP
20082: POP
// ptech = [ 46 , 47 ] ;
20083: LD_ADDR_VAR 0 4
20087: PUSH
20088: LD_INT 46
20090: PUSH
20091: LD_INT 47
20093: PUSH
20094: EMPTY
20095: LIST
20096: LIST
20097: ST_TO_ADDR
// for i in ptech do
20098: LD_ADDR_VAR 0 6
20102: PUSH
20103: LD_VAR 0 4
20107: PUSH
20108: FOR_IN
20109: IFFALSE 20130
// EnableTech ( i , side , state_enabled ) ;
20111: LD_VAR 0 6
20115: PPUSH
20116: LD_VAR 0 1
20120: PPUSH
20121: LD_INT 1
20123: PPUSH
20124: CALL 22385 0 3
20128: GO 20108
20130: POP
20131: POP
// end ; end ;
20132: GO 20135
20134: POP
// Tech_Level = 1 ;
20135: LD_ADDR_EXP 56
20139: PUSH
20140: LD_INT 1
20142: ST_TO_ADDR
// end ;
20143: LD_VAR 0 2
20147: RET
// function ur_2 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
20148: LD_INT 0
20150: PPUSH
20151: PPUSH
20152: PPUSH
20153: PPUSH
20154: PPUSH
// narodnost := Side_Nations [ side ] ;
20155: LD_ADDR_VAR 0 3
20159: PUSH
20160: LD_EXP 76
20164: PUSH
20165: LD_VAR 0 1
20169: ARRAY
20170: ST_TO_ADDR
// case narodnost of 1 :
20171: LD_VAR 0 3
20175: PUSH
20176: LD_INT 1
20178: DOUBLE
20179: EQUAL
20180: IFTRUE 20184
20182: GO 20293
20184: POP
// begin pbudovy = [ 10 , 3 ] ;
20185: LD_ADDR_VAR 0 5
20189: PUSH
20190: LD_INT 10
20192: PUSH
20193: LD_INT 3
20195: PUSH
20196: EMPTY
20197: LIST
20198: LIST
20199: ST_TO_ADDR
// for i in pbudovy do
20200: LD_ADDR_VAR 0 6
20204: PUSH
20205: LD_VAR 0 5
20209: PUSH
20210: FOR_IN
20211: IFFALSE 20232
// EnableBuilding ( i , side , state_enabled ) ;
20213: LD_VAR 0 6
20217: PPUSH
20218: LD_VAR 0 1
20222: PPUSH
20223: LD_INT 1
20225: PPUSH
20226: CALL 22464 0 3
20230: GO 20210
20232: POP
20233: POP
// ptech = [ 1 , 47 , 69 , 2 ] ;
20234: LD_ADDR_VAR 0 4
20238: PUSH
20239: LD_INT 1
20241: PUSH
20242: LD_INT 47
20244: PUSH
20245: LD_INT 69
20247: PUSH
20248: LD_INT 2
20250: PUSH
20251: EMPTY
20252: LIST
20253: LIST
20254: LIST
20255: LIST
20256: ST_TO_ADDR
// for i in ptech do
20257: LD_ADDR_VAR 0 6
20261: PUSH
20262: LD_VAR 0 4
20266: PUSH
20267: FOR_IN
20268: IFFALSE 20289
// EnableTech ( i , side , state_enabled ) ;
20270: LD_VAR 0 6
20274: PPUSH
20275: LD_VAR 0 1
20279: PPUSH
20280: LD_INT 1
20282: PPUSH
20283: CALL 22385 0 3
20287: GO 20267
20289: POP
20290: POP
// end ; 2 :
20291: GO 20524
20293: LD_INT 2
20295: DOUBLE
20296: EQUAL
20297: IFTRUE 20301
20299: GO 20410
20301: POP
// begin pbudovy = [ 10 , 3 ] ;
20302: LD_ADDR_VAR 0 5
20306: PUSH
20307: LD_INT 10
20309: PUSH
20310: LD_INT 3
20312: PUSH
20313: EMPTY
20314: LIST
20315: LIST
20316: ST_TO_ADDR
// for i in pbudovy do
20317: LD_ADDR_VAR 0 6
20321: PUSH
20322: LD_VAR 0 5
20326: PUSH
20327: FOR_IN
20328: IFFALSE 20349
// EnableBuilding ( i , side , state_enabled ) ;
20330: LD_VAR 0 6
20334: PPUSH
20335: LD_VAR 0 1
20339: PPUSH
20340: LD_INT 1
20342: PPUSH
20343: CALL 22464 0 3
20347: GO 20327
20349: POP
20350: POP
// ptech = [ 1 , 47 , 69 , 11 ] ;
20351: LD_ADDR_VAR 0 4
20355: PUSH
20356: LD_INT 1
20358: PUSH
20359: LD_INT 47
20361: PUSH
20362: LD_INT 69
20364: PUSH
20365: LD_INT 11
20367: PUSH
20368: EMPTY
20369: LIST
20370: LIST
20371: LIST
20372: LIST
20373: ST_TO_ADDR
// for i in ptech do
20374: LD_ADDR_VAR 0 6
20378: PUSH
20379: LD_VAR 0 4
20383: PUSH
20384: FOR_IN
20385: IFFALSE 20406
// EnableTech ( i , side , state_enabled ) ;
20387: LD_VAR 0 6
20391: PPUSH
20392: LD_VAR 0 1
20396: PPUSH
20397: LD_INT 1
20399: PPUSH
20400: CALL 22385 0 3
20404: GO 20384
20406: POP
20407: POP
// end ; 3 :
20408: GO 20524
20410: LD_INT 3
20412: DOUBLE
20413: EQUAL
20414: IFTRUE 20418
20416: GO 20523
20418: POP
// begin pbudovy = [ 10 ] ;
20419: LD_ADDR_VAR 0 5
20423: PUSH
20424: LD_INT 10
20426: PUSH
20427: EMPTY
20428: LIST
20429: ST_TO_ADDR
// for i in pbudovy do
20430: LD_ADDR_VAR 0 6
20434: PUSH
20435: LD_VAR 0 5
20439: PUSH
20440: FOR_IN
20441: IFFALSE 20462
// EnableBuilding ( i , side , state_enabled ) ;
20443: LD_VAR 0 6
20447: PPUSH
20448: LD_VAR 0 1
20452: PPUSH
20453: LD_INT 1
20455: PPUSH
20456: CALL 22464 0 3
20460: GO 20440
20462: POP
20463: POP
// ptech = [ 1 , 2 , 48 , 51 ] ;
20464: LD_ADDR_VAR 0 4
20468: PUSH
20469: LD_INT 1
20471: PUSH
20472: LD_INT 2
20474: PUSH
20475: LD_INT 48
20477: PUSH
20478: LD_INT 51
20480: PUSH
20481: EMPTY
20482: LIST
20483: LIST
20484: LIST
20485: LIST
20486: ST_TO_ADDR
// for i in ptech do
20487: LD_ADDR_VAR 0 6
20491: PUSH
20492: LD_VAR 0 4
20496: PUSH
20497: FOR_IN
20498: IFFALSE 20519
// EnableTech ( i , side , state_enabled ) ;
20500: LD_VAR 0 6
20504: PPUSH
20505: LD_VAR 0 1
20509: PPUSH
20510: LD_INT 1
20512: PPUSH
20513: CALL 22385 0 3
20517: GO 20497
20519: POP
20520: POP
// end ; end ;
20521: GO 20524
20523: POP
// Tech_Level = 2 ;
20524: LD_ADDR_EXP 56
20528: PUSH
20529: LD_INT 2
20531: ST_TO_ADDR
// end ;
20532: LD_VAR 0 2
20536: RET
// function ur_3 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
20537: LD_INT 0
20539: PPUSH
20540: PPUSH
20541: PPUSH
20542: PPUSH
20543: PPUSH
// narodnost := Side_Nations [ side ] ;
20544: LD_ADDR_VAR 0 3
20548: PUSH
20549: LD_EXP 76
20553: PUSH
20554: LD_VAR 0 1
20558: ARRAY
20559: ST_TO_ADDR
// case narodnost of 1 :
20560: LD_VAR 0 3
20564: PUSH
20565: LD_INT 1
20567: DOUBLE
20568: EQUAL
20569: IFTRUE 20573
20571: GO 20698
20573: POP
// begin pbudovy = [ 32 , 19 , 5 , 16 , 15 ] ;
20574: LD_ADDR_VAR 0 5
20578: PUSH
20579: LD_INT 32
20581: PUSH
20582: LD_INT 19
20584: PUSH
20585: LD_INT 5
20587: PUSH
20588: LD_INT 16
20590: PUSH
20591: LD_INT 15
20593: PUSH
20594: EMPTY
20595: LIST
20596: LIST
20597: LIST
20598: LIST
20599: LIST
20600: ST_TO_ADDR
// for i in pbudovy do
20601: LD_ADDR_VAR 0 6
20605: PUSH
20606: LD_VAR 0 5
20610: PUSH
20611: FOR_IN
20612: IFFALSE 20633
// EnableBuilding ( i , side , state_enabled ) ;
20614: LD_VAR 0 6
20618: PPUSH
20619: LD_VAR 0 1
20623: PPUSH
20624: LD_INT 1
20626: PPUSH
20627: CALL 22464 0 3
20631: GO 20611
20633: POP
20634: POP
// ptech = [ 39 , 49 , 6 , 12 , 51 ] ;
20635: LD_ADDR_VAR 0 4
20639: PUSH
20640: LD_INT 39
20642: PUSH
20643: LD_INT 49
20645: PUSH
20646: LD_INT 6
20648: PUSH
20649: LD_INT 12
20651: PUSH
20652: LD_INT 51
20654: PUSH
20655: EMPTY
20656: LIST
20657: LIST
20658: LIST
20659: LIST
20660: LIST
20661: ST_TO_ADDR
// for i in ptech do
20662: LD_ADDR_VAR 0 6
20666: PUSH
20667: LD_VAR 0 4
20671: PUSH
20672: FOR_IN
20673: IFFALSE 20694
// EnableTech ( i , side , state_enabled ) ;
20675: LD_VAR 0 6
20679: PPUSH
20680: LD_VAR 0 1
20684: PPUSH
20685: LD_INT 1
20687: PPUSH
20688: CALL 22385 0 3
20692: GO 20672
20694: POP
20695: POP
// end ; 2 :
20696: GO 20985
20698: LD_INT 2
20700: DOUBLE
20701: EQUAL
20702: IFTRUE 20706
20704: GO 20839
20706: POP
// begin pbudovy = [ 32 , 23 , 5 , 16 , 15 ] ;
20707: LD_ADDR_VAR 0 5
20711: PUSH
20712: LD_INT 32
20714: PUSH
20715: LD_INT 23
20717: PUSH
20718: LD_INT 5
20720: PUSH
20721: LD_INT 16
20723: PUSH
20724: LD_INT 15
20726: PUSH
20727: EMPTY
20728: LIST
20729: LIST
20730: LIST
20731: LIST
20732: LIST
20733: ST_TO_ADDR
// for i in pbudovy do
20734: LD_ADDR_VAR 0 6
20738: PUSH
20739: LD_VAR 0 5
20743: PUSH
20744: FOR_IN
20745: IFFALSE 20766
// EnableBuilding ( i , side , state_enabled ) ;
20747: LD_VAR 0 6
20751: PPUSH
20752: LD_VAR 0 1
20756: PPUSH
20757: LD_INT 1
20759: PPUSH
20760: CALL 22464 0 3
20764: GO 20744
20766: POP
20767: POP
// ptech = [ 39 , 49 , 6 , 51 , 17 , 42 , 70 ] ;
20768: LD_ADDR_VAR 0 4
20772: PUSH
20773: LD_INT 39
20775: PUSH
20776: LD_INT 49
20778: PUSH
20779: LD_INT 6
20781: PUSH
20782: LD_INT 51
20784: PUSH
20785: LD_INT 17
20787: PUSH
20788: LD_INT 42
20790: PUSH
20791: LD_INT 70
20793: PUSH
20794: EMPTY
20795: LIST
20796: LIST
20797: LIST
20798: LIST
20799: LIST
20800: LIST
20801: LIST
20802: ST_TO_ADDR
// for i in ptech do
20803: LD_ADDR_VAR 0 6
20807: PUSH
20808: LD_VAR 0 4
20812: PUSH
20813: FOR_IN
20814: IFFALSE 20835
// EnableTech ( i , side , state_enabled ) ;
20816: LD_VAR 0 6
20820: PPUSH
20821: LD_VAR 0 1
20825: PPUSH
20826: LD_INT 1
20828: PPUSH
20829: CALL 22385 0 3
20833: GO 20813
20835: POP
20836: POP
// end ; 3 :
20837: GO 20985
20839: LD_INT 3
20841: DOUBLE
20842: EQUAL
20843: IFTRUE 20847
20845: GO 20984
20847: POP
// begin pbudovy = [ 3 , 32 , 19 , 5 , 14 , 30 ] ;
20848: LD_ADDR_VAR 0 5
20852: PUSH
20853: LD_INT 3
20855: PUSH
20856: LD_INT 32
20858: PUSH
20859: LD_INT 19
20861: PUSH
20862: LD_INT 5
20864: PUSH
20865: LD_INT 14
20867: PUSH
20868: LD_INT 30
20870: PUSH
20871: EMPTY
20872: LIST
20873: LIST
20874: LIST
20875: LIST
20876: LIST
20877: LIST
20878: ST_TO_ADDR
// for i in pbudovy do
20879: LD_ADDR_VAR 0 6
20883: PUSH
20884: LD_VAR 0 5
20888: PUSH
20889: FOR_IN
20890: IFFALSE 20911
// EnableBuilding ( i , side , state_enabled ) ;
20892: LD_VAR 0 6
20896: PPUSH
20897: LD_VAR 0 1
20901: PPUSH
20902: LD_INT 1
20904: PPUSH
20905: CALL 22464 0 3
20909: GO 20889
20911: POP
20912: POP
// ptech = [ 39 , 49 , 69 , 40 , 30 , 11 , 20 ] ;
20913: LD_ADDR_VAR 0 4
20917: PUSH
20918: LD_INT 39
20920: PUSH
20921: LD_INT 49
20923: PUSH
20924: LD_INT 69
20926: PUSH
20927: LD_INT 40
20929: PUSH
20930: LD_INT 30
20932: PUSH
20933: LD_INT 11
20935: PUSH
20936: LD_INT 20
20938: PUSH
20939: EMPTY
20940: LIST
20941: LIST
20942: LIST
20943: LIST
20944: LIST
20945: LIST
20946: LIST
20947: ST_TO_ADDR
// for i in ptech do
20948: LD_ADDR_VAR 0 6
20952: PUSH
20953: LD_VAR 0 4
20957: PUSH
20958: FOR_IN
20959: IFFALSE 20980
// EnableTech ( i , side , state_enabled ) ;
20961: LD_VAR 0 6
20965: PPUSH
20966: LD_VAR 0 1
20970: PPUSH
20971: LD_INT 1
20973: PPUSH
20974: CALL 22385 0 3
20978: GO 20958
20980: POP
20981: POP
// end ; end ;
20982: GO 20985
20984: POP
// Tech_Level = 3 ;
20985: LD_ADDR_EXP 56
20989: PUSH
20990: LD_INT 3
20992: ST_TO_ADDR
// end ;
20993: LD_VAR 0 2
20997: RET
// function ur_4 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
20998: LD_INT 0
21000: PPUSH
21001: PPUSH
21002: PPUSH
21003: PPUSH
21004: PPUSH
// narodnost := Side_Nations [ side ] ;
21005: LD_ADDR_VAR 0 3
21009: PUSH
21010: LD_EXP 76
21014: PUSH
21015: LD_VAR 0 1
21019: ARRAY
21020: ST_TO_ADDR
// case narodnost of 1 :
21021: LD_VAR 0 3
21025: PUSH
21026: LD_INT 1
21028: DOUBLE
21029: EQUAL
21030: IFTRUE 21034
21032: GO 21171
21034: POP
// begin pbudovy = [ 30 , 12 , 11 , 1 ] ;
21035: LD_ADDR_VAR 0 5
21039: PUSH
21040: LD_INT 30
21042: PUSH
21043: LD_INT 12
21045: PUSH
21046: LD_INT 11
21048: PUSH
21049: LD_INT 1
21051: PUSH
21052: EMPTY
21053: LIST
21054: LIST
21055: LIST
21056: LIST
21057: ST_TO_ADDR
// for i in pbudovy do
21058: LD_ADDR_VAR 0 6
21062: PUSH
21063: LD_VAR 0 5
21067: PUSH
21068: FOR_IN
21069: IFFALSE 21090
// EnableBuilding ( i , side , state_enabled ) ;
21071: LD_VAR 0 6
21075: PPUSH
21076: LD_VAR 0 1
21080: PPUSH
21081: LD_INT 1
21083: PPUSH
21084: CALL 22464 0 3
21088: GO 21068
21090: POP
21091: POP
// ptech = [ 21 , 22 , 7 , 20 , 32 , 40 , 10 , 60 , 52 ] ;
21092: LD_ADDR_VAR 0 4
21096: PUSH
21097: LD_INT 21
21099: PUSH
21100: LD_INT 22
21102: PUSH
21103: LD_INT 7
21105: PUSH
21106: LD_INT 20
21108: PUSH
21109: LD_INT 32
21111: PUSH
21112: LD_INT 40
21114: PUSH
21115: LD_INT 10
21117: PUSH
21118: LD_INT 60
21120: PUSH
21121: LD_INT 52
21123: PUSH
21124: EMPTY
21125: LIST
21126: LIST
21127: LIST
21128: LIST
21129: LIST
21130: LIST
21131: LIST
21132: LIST
21133: LIST
21134: ST_TO_ADDR
// for i in ptech do
21135: LD_ADDR_VAR 0 6
21139: PUSH
21140: LD_VAR 0 4
21144: PUSH
21145: FOR_IN
21146: IFFALSE 21167
// EnableTech ( i , side , state_enabled ) ;
21148: LD_VAR 0 6
21152: PPUSH
21153: LD_VAR 0 1
21157: PPUSH
21158: LD_INT 1
21160: PPUSH
21161: CALL 22385 0 3
21165: GO 21145
21167: POP
21168: POP
// end ; 2 :
21169: GO 21462
21171: LD_INT 2
21173: DOUBLE
21174: EQUAL
21175: IFTRUE 21179
21177: GO 21320
21179: POP
// begin pbudovy = [ 30 , 11 , 13 , 1 ] ;
21180: LD_ADDR_VAR 0 5
21184: PUSH
21185: LD_INT 30
21187: PUSH
21188: LD_INT 11
21190: PUSH
21191: LD_INT 13
21193: PUSH
21194: LD_INT 1
21196: PUSH
21197: EMPTY
21198: LIST
21199: LIST
21200: LIST
21201: LIST
21202: ST_TO_ADDR
// for i in pbudovy do
21203: LD_ADDR_VAR 0 6
21207: PUSH
21208: LD_VAR 0 5
21212: PUSH
21213: FOR_IN
21214: IFFALSE 21235
// EnableBuilding ( i , side , state_enabled ) ;
21216: LD_VAR 0 6
21220: PPUSH
21221: LD_VAR 0 1
21225: PPUSH
21226: LD_INT 1
21228: PPUSH
21229: CALL 22464 0 3
21233: GO 21213
21235: POP
21236: POP
// ptech = [ 21 , 22 , 3 , 5 , 7 , 60 , 40 , 41 , 20 , 52 ] ;
21237: LD_ADDR_VAR 0 4
21241: PUSH
21242: LD_INT 21
21244: PUSH
21245: LD_INT 22
21247: PUSH
21248: LD_INT 3
21250: PUSH
21251: LD_INT 5
21253: PUSH
21254: LD_INT 7
21256: PUSH
21257: LD_INT 60
21259: PUSH
21260: LD_INT 40
21262: PUSH
21263: LD_INT 41
21265: PUSH
21266: LD_INT 20
21268: PUSH
21269: LD_INT 52
21271: PUSH
21272: EMPTY
21273: LIST
21274: LIST
21275: LIST
21276: LIST
21277: LIST
21278: LIST
21279: LIST
21280: LIST
21281: LIST
21282: LIST
21283: ST_TO_ADDR
// for i in ptech do
21284: LD_ADDR_VAR 0 6
21288: PUSH
21289: LD_VAR 0 4
21293: PUSH
21294: FOR_IN
21295: IFFALSE 21316
// EnableTech ( i , side , state_enabled ) ;
21297: LD_VAR 0 6
21301: PPUSH
21302: LD_VAR 0 1
21306: PPUSH
21307: LD_INT 1
21309: PPUSH
21310: CALL 22385 0 3
21314: GO 21294
21316: POP
21317: POP
// end ; 3 :
21318: GO 21462
21320: LD_INT 3
21322: DOUBLE
21323: EQUAL
21324: IFTRUE 21328
21326: GO 21461
21328: POP
// begin pbudovy = [ 12 , 11 , 16 , 1 ] ;
21329: LD_ADDR_VAR 0 5
21333: PUSH
21334: LD_INT 12
21336: PUSH
21337: LD_INT 11
21339: PUSH
21340: LD_INT 16
21342: PUSH
21343: LD_INT 1
21345: PUSH
21346: EMPTY
21347: LIST
21348: LIST
21349: LIST
21350: LIST
21351: ST_TO_ADDR
// for i in pbudovy do
21352: LD_ADDR_VAR 0 6
21356: PUSH
21357: LD_VAR 0 5
21361: PUSH
21362: FOR_IN
21363: IFFALSE 21384
// EnableBuilding ( i , side , state_enabled ) ;
21365: LD_VAR 0 6
21369: PPUSH
21370: LD_VAR 0 1
21374: PPUSH
21375: LD_INT 1
21377: PPUSH
21378: CALL 22464 0 3
21382: GO 21362
21384: POP
21385: POP
// ptech = [ 21 , 22 , 44 , 9 , 37 , 32 , 63 , 52 ] ;
21386: LD_ADDR_VAR 0 4
21390: PUSH
21391: LD_INT 21
21393: PUSH
21394: LD_INT 22
21396: PUSH
21397: LD_INT 44
21399: PUSH
21400: LD_INT 9
21402: PUSH
21403: LD_INT 37
21405: PUSH
21406: LD_INT 32
21408: PUSH
21409: LD_INT 63
21411: PUSH
21412: LD_INT 52
21414: PUSH
21415: EMPTY
21416: LIST
21417: LIST
21418: LIST
21419: LIST
21420: LIST
21421: LIST
21422: LIST
21423: LIST
21424: ST_TO_ADDR
// for i in ptech do
21425: LD_ADDR_VAR 0 6
21429: PUSH
21430: LD_VAR 0 4
21434: PUSH
21435: FOR_IN
21436: IFFALSE 21457
// EnableTech ( i , side , state_enabled ) ;
21438: LD_VAR 0 6
21442: PPUSH
21443: LD_VAR 0 1
21447: PPUSH
21448: LD_INT 1
21450: PPUSH
21451: CALL 22385 0 3
21455: GO 21435
21457: POP
21458: POP
// end ; end ;
21459: GO 21462
21461: POP
// Tech_Level = 4 ;
21462: LD_ADDR_EXP 56
21466: PUSH
21467: LD_INT 4
21469: ST_TO_ADDR
// end ;
21470: LD_VAR 0 2
21474: RET
// function ur_5 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
21475: LD_INT 0
21477: PPUSH
21478: PPUSH
21479: PPUSH
21480: PPUSH
21481: PPUSH
// narodnost := Side_Nations [ side ] ;
21482: LD_ADDR_VAR 0 3
21486: PUSH
21487: LD_EXP 76
21491: PUSH
21492: LD_VAR 0 1
21496: ARRAY
21497: ST_TO_ADDR
// case narodnost of 1 :
21498: LD_VAR 0 3
21502: PUSH
21503: LD_INT 1
21505: DOUBLE
21506: EQUAL
21507: IFTRUE 21511
21509: GO 21583
21511: POP
// begin ptech = [ 50 , 54 , 15 , 13 , 34 , 36 , 57 ] ;
21512: LD_ADDR_VAR 0 4
21516: PUSH
21517: LD_INT 50
21519: PUSH
21520: LD_INT 54
21522: PUSH
21523: LD_INT 15
21525: PUSH
21526: LD_INT 13
21528: PUSH
21529: LD_INT 34
21531: PUSH
21532: LD_INT 36
21534: PUSH
21535: LD_INT 57
21537: PUSH
21538: EMPTY
21539: LIST
21540: LIST
21541: LIST
21542: LIST
21543: LIST
21544: LIST
21545: LIST
21546: ST_TO_ADDR
// for i in ptech do
21547: LD_ADDR_VAR 0 6
21551: PUSH
21552: LD_VAR 0 4
21556: PUSH
21557: FOR_IN
21558: IFFALSE 21579
// EnableTech ( i , side , state_enabled ) ;
21560: LD_VAR 0 6
21564: PPUSH
21565: LD_VAR 0 1
21569: PPUSH
21570: LD_INT 1
21572: PPUSH
21573: CALL 22385 0 3
21577: GO 21557
21579: POP
21580: POP
// end ; 2 :
21581: GO 21756
21583: LD_INT 2
21585: DOUBLE
21586: EQUAL
21587: IFTRUE 21591
21589: GO 21663
21591: POP
// begin ptech = [ 50 , 54 , 66 , 18 , 15 , 43 , 26 , ] ;
21592: LD_ADDR_VAR 0 4
21596: PUSH
21597: LD_INT 50
21599: PUSH
21600: LD_INT 54
21602: PUSH
21603: LD_INT 66
21605: PUSH
21606: LD_INT 18
21608: PUSH
21609: LD_INT 15
21611: PUSH
21612: LD_INT 43
21614: PUSH
21615: LD_INT 26
21617: PUSH
21618: EMPTY
21619: LIST
21620: LIST
21621: LIST
21622: LIST
21623: LIST
21624: LIST
21625: LIST
21626: ST_TO_ADDR
// for i in ptech do
21627: LD_ADDR_VAR 0 6
21631: PUSH
21632: LD_VAR 0 4
21636: PUSH
21637: FOR_IN
21638: IFFALSE 21659
// EnableTech ( i , side , state_enabled ) ;
21640: LD_VAR 0 6
21644: PPUSH
21645: LD_VAR 0 1
21649: PPUSH
21650: LD_INT 1
21652: PPUSH
21653: CALL 22385 0 3
21657: GO 21637
21659: POP
21660: POP
// end ; 3 :
21661: GO 21756
21663: LD_INT 3
21665: DOUBLE
21666: EQUAL
21667: IFTRUE 21671
21669: GO 21755
21671: POP
// begin ptech = [ 50 , 54 , 57 , 29 , 28 , 33 , 34 , 19 , 27 , 38 ] ;
21672: LD_ADDR_VAR 0 4
21676: PUSH
21677: LD_INT 50
21679: PUSH
21680: LD_INT 54
21682: PUSH
21683: LD_INT 57
21685: PUSH
21686: LD_INT 29
21688: PUSH
21689: LD_INT 28
21691: PUSH
21692: LD_INT 33
21694: PUSH
21695: LD_INT 34
21697: PUSH
21698: LD_INT 19
21700: PUSH
21701: LD_INT 27
21703: PUSH
21704: LD_INT 38
21706: PUSH
21707: EMPTY
21708: LIST
21709: LIST
21710: LIST
21711: LIST
21712: LIST
21713: LIST
21714: LIST
21715: LIST
21716: LIST
21717: LIST
21718: ST_TO_ADDR
// for i in ptech do
21719: LD_ADDR_VAR 0 6
21723: PUSH
21724: LD_VAR 0 4
21728: PUSH
21729: FOR_IN
21730: IFFALSE 21751
// EnableTech ( i , side , state_enabled ) ;
21732: LD_VAR 0 6
21736: PPUSH
21737: LD_VAR 0 1
21741: PPUSH
21742: LD_INT 1
21744: PPUSH
21745: CALL 22385 0 3
21749: GO 21729
21751: POP
21752: POP
// end ; end ;
21753: GO 21756
21755: POP
// Tech_Level = 5 ;
21756: LD_ADDR_EXP 56
21760: PUSH
21761: LD_INT 5
21763: ST_TO_ADDR
// end ;
21764: LD_VAR 0 2
21768: RET
// function ur_6 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
21769: LD_INT 0
21771: PPUSH
21772: PPUSH
21773: PPUSH
21774: PPUSH
21775: PPUSH
// narodnost := Side_Nations [ side ] ;
21776: LD_ADDR_VAR 0 3
21780: PUSH
21781: LD_EXP 76
21785: PUSH
21786: LD_VAR 0 1
21790: ARRAY
21791: ST_TO_ADDR
// case narodnost of 1 :
21792: LD_VAR 0 3
21796: PUSH
21797: LD_INT 1
21799: DOUBLE
21800: EQUAL
21801: IFTRUE 21805
21803: GO 21873
21805: POP
// begin ptech = [ 53 , 55 , 16 , 61 , 58 , 27 ] ;
21806: LD_ADDR_VAR 0 4
21810: PUSH
21811: LD_INT 53
21813: PUSH
21814: LD_INT 55
21816: PUSH
21817: LD_INT 16
21819: PUSH
21820: LD_INT 61
21822: PUSH
21823: LD_INT 58
21825: PUSH
21826: LD_INT 27
21828: PUSH
21829: EMPTY
21830: LIST
21831: LIST
21832: LIST
21833: LIST
21834: LIST
21835: LIST
21836: ST_TO_ADDR
// for i in ptech do
21837: LD_ADDR_VAR 0 6
21841: PUSH
21842: LD_VAR 0 4
21846: PUSH
21847: FOR_IN
21848: IFFALSE 21869
// EnableTech ( i , side , state_enabled ) ;
21850: LD_VAR 0 6
21854: PPUSH
21855: LD_VAR 0 1
21859: PPUSH
21860: LD_INT 1
21862: PPUSH
21863: CALL 22385 0 3
21867: GO 21847
21869: POP
21870: POP
// end ; 2 :
21871: GO 22026
21873: LD_INT 2
21875: DOUBLE
21876: EQUAL
21877: IFTRUE 21881
21879: GO 21949
21881: POP
// begin ptech = [ 53 , 55 , 61 , 67 , 4 , 8 ] ;
21882: LD_ADDR_VAR 0 4
21886: PUSH
21887: LD_INT 53
21889: PUSH
21890: LD_INT 55
21892: PUSH
21893: LD_INT 61
21895: PUSH
21896: LD_INT 67
21898: PUSH
21899: LD_INT 4
21901: PUSH
21902: LD_INT 8
21904: PUSH
21905: EMPTY
21906: LIST
21907: LIST
21908: LIST
21909: LIST
21910: LIST
21911: LIST
21912: ST_TO_ADDR
// for i in ptech do
21913: LD_ADDR_VAR 0 6
21917: PUSH
21918: LD_VAR 0 4
21922: PUSH
21923: FOR_IN
21924: IFFALSE 21945
// EnableTech ( i , side , state_enabled ) ;
21926: LD_VAR 0 6
21930: PPUSH
21931: LD_VAR 0 1
21935: PPUSH
21936: LD_INT 1
21938: PPUSH
21939: CALL 22385 0 3
21943: GO 21923
21945: POP
21946: POP
// end ; 3 :
21947: GO 22026
21949: LD_INT 3
21951: DOUBLE
21952: EQUAL
21953: IFTRUE 21957
21955: GO 22025
21957: POP
// begin ptech = [ 53 , 55 , 58 , 64 , 71 , 31 ] ;
21958: LD_ADDR_VAR 0 4
21962: PUSH
21963: LD_INT 53
21965: PUSH
21966: LD_INT 55
21968: PUSH
21969: LD_INT 58
21971: PUSH
21972: LD_INT 64
21974: PUSH
21975: LD_INT 71
21977: PUSH
21978: LD_INT 31
21980: PUSH
21981: EMPTY
21982: LIST
21983: LIST
21984: LIST
21985: LIST
21986: LIST
21987: LIST
21988: ST_TO_ADDR
// for i in ptech do
21989: LD_ADDR_VAR 0 6
21993: PUSH
21994: LD_VAR 0 4
21998: PUSH
21999: FOR_IN
22000: IFFALSE 22021
// EnableTech ( i , side , state_enabled ) ;
22002: LD_VAR 0 6
22006: PPUSH
22007: LD_VAR 0 1
22011: PPUSH
22012: LD_INT 1
22014: PPUSH
22015: CALL 22385 0 3
22019: GO 21999
22021: POP
22022: POP
// end ; end ;
22023: GO 22026
22025: POP
// Tech_Level = 6 ;
22026: LD_ADDR_EXP 56
22030: PUSH
22031: LD_INT 6
22033: ST_TO_ADDR
// end ;
22034: LD_VAR 0 2
22038: RET
// function ur_7 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
22039: LD_INT 0
22041: PPUSH
22042: PPUSH
22043: PPUSH
22044: PPUSH
22045: PPUSH
// narodnost := Side_Nations [ side ] ;
22046: LD_ADDR_VAR 0 3
22050: PUSH
22051: LD_EXP 76
22055: PUSH
22056: LD_VAR 0 1
22060: ARRAY
22061: ST_TO_ADDR
// case narodnost of 1 :
22062: LD_VAR 0 3
22066: PUSH
22067: LD_INT 1
22069: DOUBLE
22070: EQUAL
22071: IFTRUE 22075
22073: GO 22135
22075: POP
// begin ptech = [ 56 , 62 , 59 , 14 ] ;
22076: LD_ADDR_VAR 0 4
22080: PUSH
22081: LD_INT 56
22083: PUSH
22084: LD_INT 62
22086: PUSH
22087: LD_INT 59
22089: PUSH
22090: LD_INT 14
22092: PUSH
22093: EMPTY
22094: LIST
22095: LIST
22096: LIST
22097: LIST
22098: ST_TO_ADDR
// for i in ptech do
22099: LD_ADDR_VAR 0 6
22103: PUSH
22104: LD_VAR 0 4
22108: PUSH
22109: FOR_IN
22110: IFFALSE 22131
// EnableTech ( i , side , state_enabled ) ;
22112: LD_VAR 0 6
22116: PPUSH
22117: LD_VAR 0 1
22121: PPUSH
22122: LD_INT 1
22124: PPUSH
22125: CALL 22385 0 3
22129: GO 22109
22131: POP
22132: POP
// end ; 2 :
22133: GO 22272
22135: LD_INT 2
22137: DOUBLE
22138: EQUAL
22139: IFTRUE 22143
22141: GO 22203
22143: POP
// begin ptech = [ 56 , 62 , 68 , 72 ] ;
22144: LD_ADDR_VAR 0 4
22148: PUSH
22149: LD_INT 56
22151: PUSH
22152: LD_INT 62
22154: PUSH
22155: LD_INT 68
22157: PUSH
22158: LD_INT 72
22160: PUSH
22161: EMPTY
22162: LIST
22163: LIST
22164: LIST
22165: LIST
22166: ST_TO_ADDR
// for i in ptech do
22167: LD_ADDR_VAR 0 6
22171: PUSH
22172: LD_VAR 0 4
22176: PUSH
22177: FOR_IN
22178: IFFALSE 22199
// EnableTech ( i , side , state_enabled ) ;
22180: LD_VAR 0 6
22184: PPUSH
22185: LD_VAR 0 1
22189: PPUSH
22190: LD_INT 1
22192: PPUSH
22193: CALL 22385 0 3
22197: GO 22177
22199: POP
22200: POP
// end ; 3 :
22201: GO 22272
22203: LD_INT 3
22205: DOUBLE
22206: EQUAL
22207: IFTRUE 22211
22209: GO 22271
22211: POP
// begin ptech = [ 56 , 59 , 65 , 23 ] ;
22212: LD_ADDR_VAR 0 4
22216: PUSH
22217: LD_INT 56
22219: PUSH
22220: LD_INT 59
22222: PUSH
22223: LD_INT 65
22225: PUSH
22226: LD_INT 23
22228: PUSH
22229: EMPTY
22230: LIST
22231: LIST
22232: LIST
22233: LIST
22234: ST_TO_ADDR
// for i in ptech do
22235: LD_ADDR_VAR 0 6
22239: PUSH
22240: LD_VAR 0 4
22244: PUSH
22245: FOR_IN
22246: IFFALSE 22267
// EnableTech ( i , side , state_enabled ) ;
22248: LD_VAR 0 6
22252: PPUSH
22253: LD_VAR 0 1
22257: PPUSH
22258: LD_INT 1
22260: PPUSH
22261: CALL 22385 0 3
22265: GO 22245
22267: POP
22268: POP
// end ; end ;
22269: GO 22272
22271: POP
// Tech_Level = 7 ;
22272: LD_ADDR_EXP 56
22276: PUSH
22277: LD_INT 7
22279: ST_TO_ADDR
// end ;
22280: LD_VAR 0 2
22284: RET
// function ur_8 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
22285: LD_INT 0
22287: PPUSH
22288: PPUSH
22289: PPUSH
22290: PPUSH
22291: PPUSH
// narodnost := Side_Nations [ side ] ;
22292: LD_ADDR_VAR 0 3
22296: PUSH
22297: LD_EXP 76
22301: PUSH
22302: LD_VAR 0 1
22306: ARRAY
22307: ST_TO_ADDR
// case narodnost of 1 , 3 :
22308: LD_VAR 0 3
22312: PUSH
22313: LD_INT 1
22315: DOUBLE
22316: EQUAL
22317: IFTRUE 22327
22319: LD_INT 3
22321: DOUBLE
22322: EQUAL
22323: IFTRUE 22327
22325: GO 22345
22327: POP
// EnableTech ( 25 , side , state_enabled ) ; 2 :
22328: LD_INT 25
22330: PPUSH
22331: LD_VAR 0 1
22335: PPUSH
22336: LD_INT 1
22338: PPUSH
22339: CALL 22385 0 3
22343: GO 22372
22345: LD_INT 2
22347: DOUBLE
22348: EQUAL
22349: IFTRUE 22353
22351: GO 22371
22353: POP
// EnableTech ( 73 , side , state_enabled ) ; end ;
22354: LD_INT 73
22356: PPUSH
22357: LD_VAR 0 1
22361: PPUSH
22362: LD_INT 1
22364: PPUSH
22365: CALL 22385 0 3
22369: GO 22372
22371: POP
// Tech_Level = 8 ;
22372: LD_ADDR_EXP 56
22376: PUSH
22377: LD_INT 8
22379: ST_TO_ADDR
// end ;
22380: LD_VAR 0 2
22384: RET
// function EnableTech ( id , side , state ) ; begin
22385: LD_INT 0
22387: PPUSH
// if state in [ state_enabled , state_researched ] then
22388: LD_VAR 0 3
22392: PUSH
22393: LD_INT 1
22395: PUSH
22396: LD_INT 2
22398: PUSH
22399: EMPTY
22400: LIST
22401: LIST
22402: IN
22403: IFFALSE 22440
// begin if GetRestrictions ( false , id ) then
22405: LD_INT 0
22407: PPUSH
22408: LD_VAR 0 1
22412: PPUSH
22413: CALL_OW 565
22417: IFFALSE 22438
// SetTech ( id , side , state ) ;
22419: LD_VAR 0 1
22423: PPUSH
22424: LD_VAR 0 2
22428: PPUSH
22429: LD_VAR 0 3
22433: PPUSH
22434: CALL_OW 322
// end else
22438: GO 22459
// setTech ( id , side , state ) ;
22440: LD_VAR 0 1
22444: PPUSH
22445: LD_VAR 0 2
22449: PPUSH
22450: LD_VAR 0 3
22454: PPUSH
22455: CALL_OW 322
// end ;
22459: LD_VAR 0 4
22463: RET
// function EnableBuilding ( id , side , state ) ; begin
22464: LD_INT 0
22466: PPUSH
// if state in [ state_enabled ] then
22467: LD_VAR 0 3
22471: PUSH
22472: LD_INT 1
22474: PUSH
22475: EMPTY
22476: LIST
22477: IN
22478: IFFALSE 22515
// begin if GetRestrictions ( true , id ) then
22480: LD_INT 1
22482: PPUSH
22483: LD_VAR 0 1
22487: PPUSH
22488: CALL_OW 565
22492: IFFALSE 22513
// SetRestrict ( id , side , state ) ;
22494: LD_VAR 0 1
22498: PPUSH
22499: LD_VAR 0 2
22503: PPUSH
22504: LD_VAR 0 3
22508: PPUSH
22509: CALL_OW 324
// end else
22513: GO 22534
// SetRestrict ( id , side , state ) ;
22515: LD_VAR 0 1
22519: PPUSH
22520: LD_VAR 0 2
22524: PPUSH
22525: LD_VAR 0 3
22529: PPUSH
22530: CALL_OW 324
// end ; end_of_file
22534: LD_VAR 0 4
22538: RET
// var win ; export function init_kings_counting ; var i ; begin
22539: LD_INT 0
22541: PPUSH
22542: PPUSH
// mp_with_score := true ;
22543: LD_ADDR_OWVAR 14
22547: PUSH
22548: LD_INT 1
22550: ST_TO_ADDR
// ResetMultiScore ;
22551: CALL_OW 508
// SetAreaMapShow ( king_territory , true ) ;
22555: LD_EXP 92
22559: PPUSH
22560: LD_INT 1
22562: PPUSH
22563: CALL_OW 424
// enable ( 2 ) ;
22567: LD_INT 2
22569: ENABLE_MARKED
// end ;
22570: LD_VAR 0 1
22574: RET
// function show_public_points ; var side , vypis , i , red , blue , yel , green , p ; begin
22575: LD_INT 0
22577: PPUSH
22578: PPUSH
22579: PPUSH
22580: PPUSH
22581: PPUSH
22582: PPUSH
22583: PPUSH
22584: PPUSH
22585: PPUSH
// vypis := [ ] ;
22586: LD_ADDR_VAR 0 3
22590: PUSH
22591: EMPTY
22592: ST_TO_ADDR
// red = 0 ;
22593: LD_ADDR_VAR 0 5
22597: PUSH
22598: LD_INT 0
22600: ST_TO_ADDR
// blue = 0 ;
22601: LD_ADDR_VAR 0 6
22605: PUSH
22606: LD_INT 0
22608: ST_TO_ADDR
// yel = 0 ;
22609: LD_ADDR_VAR 0 7
22613: PUSH
22614: LD_INT 0
22616: ST_TO_ADDR
// green = 0 ;
22617: LD_ADDR_VAR 0 8
22621: PUSH
22622: LD_INT 0
22624: ST_TO_ADDR
// if def_public_score or isSGUI then
22625: LD_EXP 34
22629: PUSH
22630: LD_OWVAR 83
22634: OR
22635: IFFALSE 23232
// if not Team_Game then
22637: LD_EXP 80
22641: NOT
22642: IFFALSE 22764
// begin for side = 1 to Side_Positions do
22644: LD_ADDR_VAR 0 2
22648: PUSH
22649: DOUBLE
22650: LD_INT 1
22652: DEC
22653: ST_TO_ADDR
22654: LD_EXP 75
22658: PUSH
22659: FOR_TO
22660: IFFALSE 22760
// if Side_Positions [ side ] then
22662: LD_EXP 75
22666: PUSH
22667: LD_VAR 0 2
22671: ARRAY
22672: IFFALSE 22758
// begin vypis := vypis ^ [ #KingoftheHill-Public , side , side , ( GetTag ( side + 10 ) div 3 ) , final_count ] ;
22674: LD_ADDR_VAR 0 3
22678: PUSH
22679: LD_VAR 0 3
22683: PUSH
22684: LD_STRING #KingoftheHill-Public
22686: PUSH
22687: LD_VAR 0 2
22691: PUSH
22692: LD_VAR 0 2
22696: PUSH
22697: LD_VAR 0 2
22701: PUSH
22702: LD_INT 10
22704: PLUS
22705: PPUSH
22706: CALL_OW 110
22710: PUSH
22711: LD_INT 3
22713: DIV
22714: PUSH
22715: LD_EXP 57
22719: PUSH
22720: EMPTY
22721: LIST
22722: LIST
22723: LIST
22724: LIST
22725: LIST
22726: ADD
22727: ST_TO_ADDR
// LScore_Update_Points ( 2 , side , ( GetTag ( side + 10 ) div 3 ) ) ;
22728: LD_INT 2
22730: PPUSH
22731: LD_VAR 0 2
22735: PPUSH
22736: LD_VAR 0 2
22740: PUSH
22741: LD_INT 10
22743: PLUS
22744: PPUSH
22745: CALL_OW 110
22749: PUSH
22750: LD_INT 3
22752: DIV
22753: PPUSH
22754: CALL 36724 0 3
// end ;
22758: GO 22659
22760: POP
22761: POP
// end else
22762: GO 23230
// begin if Teams [ 1 ] then
22764: LD_EXP 73
22768: PUSH
22769: LD_INT 1
22771: ARRAY
22772: IFFALSE 22824
// for i in Teams [ 1 ] do
22774: LD_ADDR_VAR 0 4
22778: PUSH
22779: LD_EXP 73
22783: PUSH
22784: LD_INT 1
22786: ARRAY
22787: PUSH
22788: FOR_IN
22789: IFFALSE 22822
// red = red + ( GetTag ( i + 10 ) div 3 ) ;
22791: LD_ADDR_VAR 0 5
22795: PUSH
22796: LD_VAR 0 5
22800: PUSH
22801: LD_VAR 0 4
22805: PUSH
22806: LD_INT 10
22808: PLUS
22809: PPUSH
22810: CALL_OW 110
22814: PUSH
22815: LD_INT 3
22817: DIV
22818: PLUS
22819: ST_TO_ADDR
22820: GO 22788
22822: POP
22823: POP
// if Teams [ 2 ] then
22824: LD_EXP 73
22828: PUSH
22829: LD_INT 2
22831: ARRAY
22832: IFFALSE 22884
// for i in Teams [ 2 ] do
22834: LD_ADDR_VAR 0 4
22838: PUSH
22839: LD_EXP 73
22843: PUSH
22844: LD_INT 2
22846: ARRAY
22847: PUSH
22848: FOR_IN
22849: IFFALSE 22882
// blue = blue + ( GetTag ( i + 10 ) div 3 ) ;
22851: LD_ADDR_VAR 0 6
22855: PUSH
22856: LD_VAR 0 6
22860: PUSH
22861: LD_VAR 0 4
22865: PUSH
22866: LD_INT 10
22868: PLUS
22869: PPUSH
22870: CALL_OW 110
22874: PUSH
22875: LD_INT 3
22877: DIV
22878: PLUS
22879: ST_TO_ADDR
22880: GO 22848
22882: POP
22883: POP
// if Teams [ 3 ] then
22884: LD_EXP 73
22888: PUSH
22889: LD_INT 3
22891: ARRAY
22892: IFFALSE 22944
// for i in Teams [ 3 ] do
22894: LD_ADDR_VAR 0 4
22898: PUSH
22899: LD_EXP 73
22903: PUSH
22904: LD_INT 3
22906: ARRAY
22907: PUSH
22908: FOR_IN
22909: IFFALSE 22942
// yel = yel + ( GetTag ( i + 10 ) div 3 ) ;
22911: LD_ADDR_VAR 0 7
22915: PUSH
22916: LD_VAR 0 7
22920: PUSH
22921: LD_VAR 0 4
22925: PUSH
22926: LD_INT 10
22928: PLUS
22929: PPUSH
22930: CALL_OW 110
22934: PUSH
22935: LD_INT 3
22937: DIV
22938: PLUS
22939: ST_TO_ADDR
22940: GO 22908
22942: POP
22943: POP
// if Teams [ 4 ] then
22944: LD_EXP 73
22948: PUSH
22949: LD_INT 4
22951: ARRAY
22952: IFFALSE 23004
// for i in Teams [ 4 ] do
22954: LD_ADDR_VAR 0 4
22958: PUSH
22959: LD_EXP 73
22963: PUSH
22964: LD_INT 4
22966: ARRAY
22967: PUSH
22968: FOR_IN
22969: IFFALSE 23002
// green = green + ( GetTag ( i + 10 ) div 3 ) ;
22971: LD_ADDR_VAR 0 8
22975: PUSH
22976: LD_VAR 0 8
22980: PUSH
22981: LD_VAR 0 4
22985: PUSH
22986: LD_INT 10
22988: PLUS
22989: PPUSH
22990: CALL_OW 110
22994: PUSH
22995: LD_INT 3
22997: DIV
22998: PLUS
22999: ST_TO_ADDR
23000: GO 22968
23002: POP
23003: POP
// if Teams [ 1 ] then
23004: LD_EXP 73
23008: PUSH
23009: LD_INT 1
23011: ARRAY
23012: IFFALSE 23041
// vypis := [ #KingoftheHill-Public-red , 3 , Red , final_count ] ;
23014: LD_ADDR_VAR 0 3
23018: PUSH
23019: LD_STRING #KingoftheHill-Public-red
23021: PUSH
23022: LD_INT 3
23024: PUSH
23025: LD_VAR 0 5
23029: PUSH
23030: LD_EXP 57
23034: PUSH
23035: EMPTY
23036: LIST
23037: LIST
23038: LIST
23039: LIST
23040: ST_TO_ADDR
// if Teams [ 2 ] then
23041: LD_EXP 73
23045: PUSH
23046: LD_INT 2
23048: ARRAY
23049: IFFALSE 23084
// vypis := vypis ^ [ #KingoftheHill-Public-blue , 1 , Blue , final_count ] ;
23051: LD_ADDR_VAR 0 3
23055: PUSH
23056: LD_VAR 0 3
23060: PUSH
23061: LD_STRING #KingoftheHill-Public-blue
23063: PUSH
23064: LD_INT 1
23066: PUSH
23067: LD_VAR 0 6
23071: PUSH
23072: LD_EXP 57
23076: PUSH
23077: EMPTY
23078: LIST
23079: LIST
23080: LIST
23081: LIST
23082: ADD
23083: ST_TO_ADDR
// if Teams [ 3 ] then
23084: LD_EXP 73
23088: PUSH
23089: LD_INT 3
23091: ARRAY
23092: IFFALSE 23127
// vypis := vypis ^ [ #KingoftheHill-Public-yell , 2 , yel , final_count ] ;
23094: LD_ADDR_VAR 0 3
23098: PUSH
23099: LD_VAR 0 3
23103: PUSH
23104: LD_STRING #KingoftheHill-Public-yell
23106: PUSH
23107: LD_INT 2
23109: PUSH
23110: LD_VAR 0 7
23114: PUSH
23115: LD_EXP 57
23119: PUSH
23120: EMPTY
23121: LIST
23122: LIST
23123: LIST
23124: LIST
23125: ADD
23126: ST_TO_ADDR
// if Teams [ 4 ] then
23127: LD_EXP 73
23131: PUSH
23132: LD_INT 4
23134: ARRAY
23135: IFFALSE 23170
// vypis := vypis ^ [ #KingoftheHill-Public-green , 7 , green , final_count ] ;
23137: LD_ADDR_VAR 0 3
23141: PUSH
23142: LD_VAR 0 3
23146: PUSH
23147: LD_STRING #KingoftheHill-Public-green
23149: PUSH
23150: LD_INT 7
23152: PUSH
23153: LD_VAR 0 8
23157: PUSH
23158: LD_EXP 57
23162: PUSH
23163: EMPTY
23164: LIST
23165: LIST
23166: LIST
23167: LIST
23168: ADD
23169: ST_TO_ADDR
// LScore_Update_Points ( 2 , 3 , red ) ;
23170: LD_INT 2
23172: PPUSH
23173: LD_INT 3
23175: PPUSH
23176: LD_VAR 0 5
23180: PPUSH
23181: CALL 36724 0 3
// LScore_Update_Points ( 2 , 1 , blue ) ;
23185: LD_INT 2
23187: PPUSH
23188: LD_INT 1
23190: PPUSH
23191: LD_VAR 0 6
23195: PPUSH
23196: CALL 36724 0 3
// LScore_Update_Points ( 2 , 2 , yel ) ;
23200: LD_INT 2
23202: PPUSH
23203: LD_INT 2
23205: PPUSH
23206: LD_VAR 0 7
23210: PPUSH
23211: CALL 36724 0 3
// LScore_Update_Points ( 2 , 7 , green ) ;
23215: LD_INT 2
23217: PPUSH
23218: LD_INT 7
23220: PPUSH
23221: LD_VAR 0 8
23225: PPUSH
23226: CALL 36724 0 3
// end else
23230: GO 23667
// if not Team_Game then
23232: LD_EXP 80
23236: NOT
23237: IFFALSE 23295
// vypis := vypis ^ [ #KingoftheHill-Private , your_side , your_side , ( GetTag ( side + 10 ) div 3 ) , final_count ] else
23239: LD_ADDR_VAR 0 3
23243: PUSH
23244: LD_VAR 0 3
23248: PUSH
23249: LD_STRING #KingoftheHill-Private
23251: PUSH
23252: LD_OWVAR 2
23256: PUSH
23257: LD_OWVAR 2
23261: PUSH
23262: LD_VAR 0 2
23266: PUSH
23267: LD_INT 10
23269: PLUS
23270: PPUSH
23271: CALL_OW 110
23275: PUSH
23276: LD_INT 3
23278: DIV
23279: PUSH
23280: LD_EXP 57
23284: PUSH
23285: EMPTY
23286: LIST
23287: LIST
23288: LIST
23289: LIST
23290: LIST
23291: ADD
23292: ST_TO_ADDR
23293: GO 23667
// begin for i in Teams [ 1 ] do
23295: LD_ADDR_VAR 0 4
23299: PUSH
23300: LD_EXP 73
23304: PUSH
23305: LD_INT 1
23307: ARRAY
23308: PUSH
23309: FOR_IN
23310: IFFALSE 23343
// red = red + ( GetTag ( i + 10 ) div 3 ) ;
23312: LD_ADDR_VAR 0 5
23316: PUSH
23317: LD_VAR 0 5
23321: PUSH
23322: LD_VAR 0 4
23326: PUSH
23327: LD_INT 10
23329: PLUS
23330: PPUSH
23331: CALL_OW 110
23335: PUSH
23336: LD_INT 3
23338: DIV
23339: PLUS
23340: ST_TO_ADDR
23341: GO 23309
23343: POP
23344: POP
// for i in Teams [ 2 ] do
23345: LD_ADDR_VAR 0 4
23349: PUSH
23350: LD_EXP 73
23354: PUSH
23355: LD_INT 2
23357: ARRAY
23358: PUSH
23359: FOR_IN
23360: IFFALSE 23393
// blue = blue + ( GetTag ( i + 10 ) div 3 ) ;
23362: LD_ADDR_VAR 0 6
23366: PUSH
23367: LD_VAR 0 6
23371: PUSH
23372: LD_VAR 0 4
23376: PUSH
23377: LD_INT 10
23379: PLUS
23380: PPUSH
23381: CALL_OW 110
23385: PUSH
23386: LD_INT 3
23388: DIV
23389: PLUS
23390: ST_TO_ADDR
23391: GO 23359
23393: POP
23394: POP
// for i in Teams [ 3 ] do
23395: LD_ADDR_VAR 0 4
23399: PUSH
23400: LD_EXP 73
23404: PUSH
23405: LD_INT 3
23407: ARRAY
23408: PUSH
23409: FOR_IN
23410: IFFALSE 23443
// yel = yel + ( GetTag ( i + 10 ) div 3 ) ;
23412: LD_ADDR_VAR 0 7
23416: PUSH
23417: LD_VAR 0 7
23421: PUSH
23422: LD_VAR 0 4
23426: PUSH
23427: LD_INT 10
23429: PLUS
23430: PPUSH
23431: CALL_OW 110
23435: PUSH
23436: LD_INT 3
23438: DIV
23439: PLUS
23440: ST_TO_ADDR
23441: GO 23409
23443: POP
23444: POP
// for i in Teams [ 4 ] do
23445: LD_ADDR_VAR 0 4
23449: PUSH
23450: LD_EXP 73
23454: PUSH
23455: LD_INT 4
23457: ARRAY
23458: PUSH
23459: FOR_IN
23460: IFFALSE 23493
// green = green + ( GetTag ( i + 10 ) div 3 ) ;
23462: LD_ADDR_VAR 0 8
23466: PUSH
23467: LD_VAR 0 8
23471: PUSH
23472: LD_VAR 0 4
23476: PUSH
23477: LD_INT 10
23479: PLUS
23480: PPUSH
23481: CALL_OW 110
23485: PUSH
23486: LD_INT 3
23488: DIV
23489: PLUS
23490: ST_TO_ADDR
23491: GO 23459
23493: POP
23494: POP
// if your_side in Teams [ 1 ] then
23495: LD_OWVAR 2
23499: PUSH
23500: LD_EXP 73
23504: PUSH
23505: LD_INT 1
23507: ARRAY
23508: IN
23509: IFFALSE 23538
// vypis := [ #KingoftheHill-Public-red , 3 , Red , final_count ] ;
23511: LD_ADDR_VAR 0 3
23515: PUSH
23516: LD_STRING #KingoftheHill-Public-red
23518: PUSH
23519: LD_INT 3
23521: PUSH
23522: LD_VAR 0 5
23526: PUSH
23527: LD_EXP 57
23531: PUSH
23532: EMPTY
23533: LIST
23534: LIST
23535: LIST
23536: LIST
23537: ST_TO_ADDR
// if your_side in Teams [ 2 ] then
23538: LD_OWVAR 2
23542: PUSH
23543: LD_EXP 73
23547: PUSH
23548: LD_INT 2
23550: ARRAY
23551: IN
23552: IFFALSE 23581
// vypis := [ #KingoftheHill-Public-blue , 1 , Blue , final_count ] ;
23554: LD_ADDR_VAR 0 3
23558: PUSH
23559: LD_STRING #KingoftheHill-Public-blue
23561: PUSH
23562: LD_INT 1
23564: PUSH
23565: LD_VAR 0 6
23569: PUSH
23570: LD_EXP 57
23574: PUSH
23575: EMPTY
23576: LIST
23577: LIST
23578: LIST
23579: LIST
23580: ST_TO_ADDR
// if your_side in Teams [ 3 ] then
23581: LD_OWVAR 2
23585: PUSH
23586: LD_EXP 73
23590: PUSH
23591: LD_INT 3
23593: ARRAY
23594: IN
23595: IFFALSE 23624
// vypis := [ #KingoftheHill-Public-yell , 2 , yel , final_count ] ;
23597: LD_ADDR_VAR 0 3
23601: PUSH
23602: LD_STRING #KingoftheHill-Public-yell
23604: PUSH
23605: LD_INT 2
23607: PUSH
23608: LD_VAR 0 7
23612: PUSH
23613: LD_EXP 57
23617: PUSH
23618: EMPTY
23619: LIST
23620: LIST
23621: LIST
23622: LIST
23623: ST_TO_ADDR
// if your_side in Teams [ 4 ] then
23624: LD_OWVAR 2
23628: PUSH
23629: LD_EXP 73
23633: PUSH
23634: LD_INT 4
23636: ARRAY
23637: IN
23638: IFFALSE 23667
// vypis := [ #KingoftheHill-Public-green , 7 , green , final_count ] ;
23640: LD_ADDR_VAR 0 3
23644: PUSH
23645: LD_STRING #KingoftheHill-Public-green
23647: PUSH
23648: LD_INT 7
23650: PUSH
23651: LD_VAR 0 8
23655: PUSH
23656: LD_EXP 57
23660: PUSH
23661: EMPTY
23662: LIST
23663: LIST
23664: LIST
23665: LIST
23666: ST_TO_ADDR
// end ; Display_kings := vypis ;
23667: LD_ADDR_EXP 108
23671: PUSH
23672: LD_VAR 0 3
23676: ST_TO_ADDR
// end ;
23677: LD_VAR 0 1
23681: RET
// function count_king ; var side , list , un , red , blue , yel , green , i ; begin
23682: LD_INT 0
23684: PPUSH
23685: PPUSH
23686: PPUSH
23687: PPUSH
23688: PPUSH
23689: PPUSH
23690: PPUSH
23691: PPUSH
23692: PPUSH
// side := [ ] ;
23693: LD_ADDR_VAR 0 2
23697: PUSH
23698: EMPTY
23699: ST_TO_ADDR
// red = 0 ;
23700: LD_ADDR_VAR 0 5
23704: PUSH
23705: LD_INT 0
23707: ST_TO_ADDR
// blue = 0 ;
23708: LD_ADDR_VAR 0 6
23712: PUSH
23713: LD_INT 0
23715: ST_TO_ADDR
// yel = 0 ;
23716: LD_ADDR_VAR 0 7
23720: PUSH
23721: LD_INT 0
23723: ST_TO_ADDR
// green = 0 ;
23724: LD_ADDR_VAR 0 8
23728: PUSH
23729: LD_INT 0
23731: ST_TO_ADDR
// list := FilterUnitsInArea ( king_territory , [ [ f_type , unit_building ] , [ f_ready ] ] ) ;
23732: LD_ADDR_VAR 0 3
23736: PUSH
23737: LD_EXP 92
23741: PPUSH
23742: LD_INT 21
23744: PUSH
23745: LD_INT 3
23747: PUSH
23748: EMPTY
23749: LIST
23750: LIST
23751: PUSH
23752: LD_INT 53
23754: PUSH
23755: EMPTY
23756: LIST
23757: PUSH
23758: EMPTY
23759: LIST
23760: LIST
23761: PPUSH
23762: CALL_OW 70
23766: ST_TO_ADDR
// for un in list do
23767: LD_ADDR_VAR 0 4
23771: PUSH
23772: LD_VAR 0 3
23776: PUSH
23777: FOR_IN
23778: IFFALSE 23803
// side := side union GetSide ( un ) ;
23780: LD_ADDR_VAR 0 2
23784: PUSH
23785: LD_VAR 0 2
23789: PUSH
23790: LD_VAR 0 4
23794: PPUSH
23795: CALL_OW 255
23799: UNION
23800: ST_TO_ADDR
23801: GO 23777
23803: POP
23804: POP
// if side <> 1 then
23805: LD_VAR 0 2
23809: PUSH
23810: LD_INT 1
23812: NONEQUAL
23813: IFFALSE 23817
// exit ;
23815: GO 24180
// side := side [ 1 ] ;
23817: LD_ADDR_VAR 0 2
23821: PUSH
23822: LD_VAR 0 2
23826: PUSH
23827: LD_INT 1
23829: ARRAY
23830: ST_TO_ADDR
// SetTag ( side + 10 , GetTag ( side + 10 ) + 1 ) ;
23831: LD_VAR 0 2
23835: PUSH
23836: LD_INT 10
23838: PLUS
23839: PPUSH
23840: LD_VAR 0 2
23844: PUSH
23845: LD_INT 10
23847: PLUS
23848: PPUSH
23849: CALL_OW 110
23853: PUSH
23854: LD_INT 1
23856: PLUS
23857: PPUSH
23858: CALL_OW 109
// SetSharedMultiScore ( side , GetTag ( side + 10 ) div 3 , 2 ) ;
23862: LD_VAR 0 2
23866: PPUSH
23867: LD_VAR 0 2
23871: PUSH
23872: LD_INT 10
23874: PLUS
23875: PPUSH
23876: CALL_OW 110
23880: PUSH
23881: LD_INT 3
23883: DIV
23884: PPUSH
23885: LD_INT 2
23887: PPUSH
23888: CALL 35275 0 3
// if not Team_Game then
23892: LD_EXP 80
23896: NOT
23897: IFFALSE 24180
// if GetTag ( side + 10 ) >= final_count * 3 then
23899: LD_VAR 0 2
23903: PUSH
23904: LD_INT 10
23906: PLUS
23907: PPUSH
23908: CALL_OW 110
23912: PUSH
23913: LD_EXP 57
23917: PUSH
23918: LD_INT 3
23920: MUL
23921: GREATEREQUAL
23922: IFFALSE 23929
// enable ( 3 ) else
23924: LD_INT 3
23926: ENABLE_MARKED
23927: GO 24180
// begin for i in Teams [ 1 ] do
23929: LD_ADDR_VAR 0 9
23933: PUSH
23934: LD_EXP 73
23938: PUSH
23939: LD_INT 1
23941: ARRAY
23942: PUSH
23943: FOR_IN
23944: IFFALSE 23977
// red = red + ( GetTag ( i + 10 ) div 3 ) ;
23946: LD_ADDR_VAR 0 5
23950: PUSH
23951: LD_VAR 0 5
23955: PUSH
23956: LD_VAR 0 9
23960: PUSH
23961: LD_INT 10
23963: PLUS
23964: PPUSH
23965: CALL_OW 110
23969: PUSH
23970: LD_INT 3
23972: DIV
23973: PLUS
23974: ST_TO_ADDR
23975: GO 23943
23977: POP
23978: POP
// for i in Teams [ 2 ] do
23979: LD_ADDR_VAR 0 9
23983: PUSH
23984: LD_EXP 73
23988: PUSH
23989: LD_INT 2
23991: ARRAY
23992: PUSH
23993: FOR_IN
23994: IFFALSE 24027
// blue = blue + ( GetTag ( i + 10 ) div 3 ) ;
23996: LD_ADDR_VAR 0 6
24000: PUSH
24001: LD_VAR 0 6
24005: PUSH
24006: LD_VAR 0 9
24010: PUSH
24011: LD_INT 10
24013: PLUS
24014: PPUSH
24015: CALL_OW 110
24019: PUSH
24020: LD_INT 3
24022: DIV
24023: PLUS
24024: ST_TO_ADDR
24025: GO 23993
24027: POP
24028: POP
// for i in Teams [ 3 ] do
24029: LD_ADDR_VAR 0 9
24033: PUSH
24034: LD_EXP 73
24038: PUSH
24039: LD_INT 3
24041: ARRAY
24042: PUSH
24043: FOR_IN
24044: IFFALSE 24077
// yel = yel + ( GetTag ( i + 10 ) div 3 ) ;
24046: LD_ADDR_VAR 0 7
24050: PUSH
24051: LD_VAR 0 7
24055: PUSH
24056: LD_VAR 0 9
24060: PUSH
24061: LD_INT 10
24063: PLUS
24064: PPUSH
24065: CALL_OW 110
24069: PUSH
24070: LD_INT 3
24072: DIV
24073: PLUS
24074: ST_TO_ADDR
24075: GO 24043
24077: POP
24078: POP
// for i in Teams [ 4 ] do
24079: LD_ADDR_VAR 0 9
24083: PUSH
24084: LD_EXP 73
24088: PUSH
24089: LD_INT 4
24091: ARRAY
24092: PUSH
24093: FOR_IN
24094: IFFALSE 24127
// green = green + ( GetTag ( i + 10 ) div 3 ) ;
24096: LD_ADDR_VAR 0 8
24100: PUSH
24101: LD_VAR 0 8
24105: PUSH
24106: LD_VAR 0 9
24110: PUSH
24111: LD_INT 10
24113: PLUS
24114: PPUSH
24115: CALL_OW 110
24119: PUSH
24120: LD_INT 3
24122: DIV
24123: PLUS
24124: ST_TO_ADDR
24125: GO 24093
24127: POP
24128: POP
// if red >= final_count or blue >= final_count or yel >= final_count or green >= final_count then
24129: LD_VAR 0 5
24133: PUSH
24134: LD_EXP 57
24138: GREATEREQUAL
24139: PUSH
24140: LD_VAR 0 6
24144: PUSH
24145: LD_EXP 57
24149: GREATEREQUAL
24150: OR
24151: PUSH
24152: LD_VAR 0 7
24156: PUSH
24157: LD_EXP 57
24161: GREATEREQUAL
24162: OR
24163: PUSH
24164: LD_VAR 0 8
24168: PUSH
24169: LD_EXP 57
24173: GREATEREQUAL
24174: OR
24175: IFFALSE 24180
// enable ( 3 ) ;
24177: LD_INT 3
24179: ENABLE_MARKED
// end ; end ;
24180: LD_VAR 0 1
24184: RET
// every 0 0$1 marked 2 do
24185: GO 24187
24187: DISABLE
// begin count_king ;
24188: CALL 23682 0 0
// show_public_points ;
24192: CALL 22575 0 0
// enable ;
24196: ENABLE
// end ;
24197: END
// every 0 0$1 marked 3 do var side , red , blue , yel , green , i ;
24198: GO 24200
24200: DISABLE
24201: LD_INT 0
24203: PPUSH
24204: PPUSH
24205: PPUSH
24206: PPUSH
24207: PPUSH
24208: PPUSH
// begin win := [ ] ;
24209: LD_ADDR_LOC 19
24213: PUSH
24214: EMPTY
24215: ST_TO_ADDR
// red = 0 ;
24216: LD_ADDR_VAR 0 2
24220: PUSH
24221: LD_INT 0
24223: ST_TO_ADDR
// blue = 0 ;
24224: LD_ADDR_VAR 0 3
24228: PUSH
24229: LD_INT 0
24231: ST_TO_ADDR
// yel = 0 ;
24232: LD_ADDR_VAR 0 4
24236: PUSH
24237: LD_INT 0
24239: ST_TO_ADDR
// green = 0 ;
24240: LD_ADDR_VAR 0 5
24244: PUSH
24245: LD_INT 0
24247: ST_TO_ADDR
// if not Team_Game then
24248: LD_EXP 80
24252: NOT
24253: IFFALSE 24330
// begin for side = 1 to 8 do
24255: LD_ADDR_VAR 0 1
24259: PUSH
24260: DOUBLE
24261: LD_INT 1
24263: DEC
24264: ST_TO_ADDR
24265: LD_INT 8
24267: PUSH
24268: FOR_TO
24269: IFFALSE 24314
// if GetTag ( side + 10 ) >= final_count * 3 then
24271: LD_VAR 0 1
24275: PUSH
24276: LD_INT 10
24278: PLUS
24279: PPUSH
24280: CALL_OW 110
24284: PUSH
24285: LD_EXP 57
24289: PUSH
24290: LD_INT 3
24292: MUL
24293: GREATEREQUAL
24294: IFFALSE 24312
// win := win ^ side ;
24296: LD_ADDR_LOC 19
24300: PUSH
24301: LD_LOC 19
24305: PUSH
24306: LD_VAR 0 1
24310: ADD
24311: ST_TO_ADDR
24312: GO 24268
24314: POP
24315: POP
// if win then
24316: LD_LOC 19
24320: IFFALSE 24327
// enable ( 4 ) else
24322: LD_INT 4
24324: ENABLE_MARKED
24325: GO 24328
// enable ;
24327: ENABLE
// end else
24328: GO 24646
// begin for i in Teams [ 1 ] do
24330: LD_ADDR_VAR 0 6
24334: PUSH
24335: LD_EXP 73
24339: PUSH
24340: LD_INT 1
24342: ARRAY
24343: PUSH
24344: FOR_IN
24345: IFFALSE 24378
// red = red + ( GetTag ( i + 10 ) div 3 ) ;
24347: LD_ADDR_VAR 0 2
24351: PUSH
24352: LD_VAR 0 2
24356: PUSH
24357: LD_VAR 0 6
24361: PUSH
24362: LD_INT 10
24364: PLUS
24365: PPUSH
24366: CALL_OW 110
24370: PUSH
24371: LD_INT 3
24373: DIV
24374: PLUS
24375: ST_TO_ADDR
24376: GO 24344
24378: POP
24379: POP
// for i in Teams [ 2 ] do
24380: LD_ADDR_VAR 0 6
24384: PUSH
24385: LD_EXP 73
24389: PUSH
24390: LD_INT 2
24392: ARRAY
24393: PUSH
24394: FOR_IN
24395: IFFALSE 24428
// blue = blue + ( GetTag ( i + 10 ) div 3 ) ;
24397: LD_ADDR_VAR 0 3
24401: PUSH
24402: LD_VAR 0 3
24406: PUSH
24407: LD_VAR 0 6
24411: PUSH
24412: LD_INT 10
24414: PLUS
24415: PPUSH
24416: CALL_OW 110
24420: PUSH
24421: LD_INT 3
24423: DIV
24424: PLUS
24425: ST_TO_ADDR
24426: GO 24394
24428: POP
24429: POP
// for i in Teams [ 3 ] do
24430: LD_ADDR_VAR 0 6
24434: PUSH
24435: LD_EXP 73
24439: PUSH
24440: LD_INT 3
24442: ARRAY
24443: PUSH
24444: FOR_IN
24445: IFFALSE 24478
// yel = yel + ( GetTag ( i + 10 ) div 3 ) ;
24447: LD_ADDR_VAR 0 4
24451: PUSH
24452: LD_VAR 0 4
24456: PUSH
24457: LD_VAR 0 6
24461: PUSH
24462: LD_INT 10
24464: PLUS
24465: PPUSH
24466: CALL_OW 110
24470: PUSH
24471: LD_INT 3
24473: DIV
24474: PLUS
24475: ST_TO_ADDR
24476: GO 24444
24478: POP
24479: POP
// for i in Teams [ 4 ] do
24480: LD_ADDR_VAR 0 6
24484: PUSH
24485: LD_EXP 73
24489: PUSH
24490: LD_INT 4
24492: ARRAY
24493: PUSH
24494: FOR_IN
24495: IFFALSE 24528
// green = green + ( GetTag ( i + 10 ) div 3 ) ;
24497: LD_ADDR_VAR 0 5
24501: PUSH
24502: LD_VAR 0 5
24506: PUSH
24507: LD_VAR 0 6
24511: PUSH
24512: LD_INT 10
24514: PLUS
24515: PPUSH
24516: CALL_OW 110
24520: PUSH
24521: LD_INT 3
24523: DIV
24524: PLUS
24525: ST_TO_ADDR
24526: GO 24494
24528: POP
24529: POP
// if red >= final_count then
24530: LD_VAR 0 2
24534: PUSH
24535: LD_EXP 57
24539: GREATEREQUAL
24540: IFFALSE 24556
// win = teams [ 1 ] ;
24542: LD_ADDR_LOC 19
24546: PUSH
24547: LD_EXP 73
24551: PUSH
24552: LD_INT 1
24554: ARRAY
24555: ST_TO_ADDR
// if blue >= final_count then
24556: LD_VAR 0 3
24560: PUSH
24561: LD_EXP 57
24565: GREATEREQUAL
24566: IFFALSE 24582
// win = teams [ 2 ] ;
24568: LD_ADDR_LOC 19
24572: PUSH
24573: LD_EXP 73
24577: PUSH
24578: LD_INT 2
24580: ARRAY
24581: ST_TO_ADDR
// if yel >= final_count then
24582: LD_VAR 0 4
24586: PUSH
24587: LD_EXP 57
24591: GREATEREQUAL
24592: IFFALSE 24608
// win = teams [ 3 ] ;
24594: LD_ADDR_LOC 19
24598: PUSH
24599: LD_EXP 73
24603: PUSH
24604: LD_INT 3
24606: ARRAY
24607: ST_TO_ADDR
// if green >= final_count then
24608: LD_VAR 0 5
24612: PUSH
24613: LD_EXP 57
24617: GREATEREQUAL
24618: IFFALSE 24634
// win = teams [ 4 ] ;
24620: LD_ADDR_LOC 19
24624: PUSH
24625: LD_EXP 73
24629: PUSH
24630: LD_INT 4
24632: ARRAY
24633: ST_TO_ADDR
// if win then
24634: LD_LOC 19
24638: IFFALSE 24645
// enable ( 4 ) else
24640: LD_INT 4
24642: ENABLE_MARKED
24643: GO 24646
// enable ;
24645: ENABLE
// end ; end ;
24646: PPOPN 6
24648: END
// every 0 0$1 marked 4 do
24649: GO 24651
24651: DISABLE
// begin if Player_Side in win then
24652: LD_EXP 70
24656: PUSH
24657: LD_LOC 19
24661: IN
24662: IFFALSE 24678
// begin wait ( 0 0$2 ) ;
24664: LD_INT 70
24666: PPUSH
24667: CALL_OW 67
// enable ( 401 ) ;
24671: LD_INT 401
24673: ENABLE_MARKED
// exit ;
24674: GO 24694
// end else
24676: GO 24694
// begin wait ( 0 0$2 ) ;
24678: LD_INT 70
24680: PPUSH
24681: CALL_OW 67
// Multiplayer_Loose_Message ;
24685: CALL_OW 521
// enable ( 400 ) ;
24689: LD_INT 400
24691: ENABLE_MARKED
// exit ;
24692: GO 24694
// end ; end ; end_of_file
24694: END
// var Month ; export function init_Daily ; begin
24695: LD_INT 0
24697: PPUSH
// if not CurrentTime then
24698: LD_EXP 111
24702: NOT
24703: IFFALSE 24775
// begin CurrentTime = Rand ( daily_start [ 1 ] , daily_start [ 2 ] ) div 0 0$01 ;
24705: LD_ADDR_EXP 111
24709: PUSH
24710: LD_EXP 58
24714: PUSH
24715: LD_INT 1
24717: ARRAY
24718: PPUSH
24719: LD_EXP 58
24723: PUSH
24724: LD_INT 2
24726: ARRAY
24727: PPUSH
24728: CALL_OW 12
24732: PUSH
24733: LD_INT 35
24735: DIV
24736: ST_TO_ADDR
// CurrentTime = CurrentTime * 0 0$01 ;
24737: LD_ADDR_EXP 111
24741: PUSH
24742: LD_EXP 111
24746: PUSH
24747: LD_INT 35
24749: MUL
24750: ST_TO_ADDR
// if CurrentTime >= 24 24$00 then
24751: LD_EXP 111
24755: PUSH
24756: LD_INT 50400
24758: GREATEREQUAL
24759: IFFALSE 24775
// CurrentTime = CurrentTime - 24 24$00 ;
24761: LD_ADDR_EXP 111
24765: PUSH
24766: LD_EXP 111
24770: PUSH
24771: LD_INT 50400
24773: MINUS
24774: ST_TO_ADDR
// end ; case CurrentTime of 0 0$00 .. TimePhase [ 1 ] , TimePhase [ 10 ] + 1 .. 24 24$00 :
24775: LD_EXP 111
24779: PUSH
24780: LD_INT 0
24782: DOUBLE
24783: GREATEREQUAL
24784: IFFALSE 24798
24786: LD_EXP 60
24790: PUSH
24791: LD_INT 1
24793: ARRAY
24794: DOUBLE
24795: LESSEQUAL
24796: IFTRUE 24822
24798: LD_EXP 60
24802: PUSH
24803: LD_INT 10
24805: ARRAY
24806: PUSH
24807: LD_INT 1
24809: PLUS
24810: DOUBLE
24811: GREATEREQUAL
24812: IFFALSE 24820
24814: LD_INT 50400
24816: DOUBLE
24817: LESSEQUAL
24818: IFTRUE 24822
24820: GO 24841
24822: POP
// begin ChangePhase ( DailyPhase [ 6 ] , 35 ) ;
24823: LD_EXP 61
24827: PUSH
24828: LD_INT 6
24830: ARRAY
24831: PPUSH
24832: LD_INT 35
24834: PPUSH
24835: CALL 25478 0 2
// end ; TimePhase [ 1 ] + 1 .. TimePhase [ 2 ] , TimePhase [ 9 ] + 1 .. TimePhase [ 10 ] :
24839: GO 25166
24841: LD_EXP 60
24845: PUSH
24846: LD_INT 1
24848: ARRAY
24849: PUSH
24850: LD_INT 1
24852: PLUS
24853: DOUBLE
24854: GREATEREQUAL
24855: IFFALSE 24869
24857: LD_EXP 60
24861: PUSH
24862: LD_INT 2
24864: ARRAY
24865: DOUBLE
24866: LESSEQUAL
24867: IFTRUE 24899
24869: LD_EXP 60
24873: PUSH
24874: LD_INT 9
24876: ARRAY
24877: PUSH
24878: LD_INT 1
24880: PLUS
24881: DOUBLE
24882: GREATEREQUAL
24883: IFFALSE 24897
24885: LD_EXP 60
24889: PUSH
24890: LD_INT 10
24892: ARRAY
24893: DOUBLE
24894: LESSEQUAL
24895: IFTRUE 24899
24897: GO 24918
24899: POP
// begin ChangePhase ( DailyPhase [ 5 ] , 50 ) ;
24900: LD_EXP 61
24904: PUSH
24905: LD_INT 5
24907: ARRAY
24908: PPUSH
24909: LD_INT 50
24911: PPUSH
24912: CALL 25478 0 2
// end ; TimePhase [ 2 ] + 1 .. TimePhase [ 3 ] , TimePhase [ 8 ] + 1 .. TimePhase [ 9 ] :
24916: GO 25166
24918: LD_EXP 60
24922: PUSH
24923: LD_INT 2
24925: ARRAY
24926: PUSH
24927: LD_INT 1
24929: PLUS
24930: DOUBLE
24931: GREATEREQUAL
24932: IFFALSE 24946
24934: LD_EXP 60
24938: PUSH
24939: LD_INT 3
24941: ARRAY
24942: DOUBLE
24943: LESSEQUAL
24944: IFTRUE 24976
24946: LD_EXP 60
24950: PUSH
24951: LD_INT 8
24953: ARRAY
24954: PUSH
24955: LD_INT 1
24957: PLUS
24958: DOUBLE
24959: GREATEREQUAL
24960: IFFALSE 24974
24962: LD_EXP 60
24966: PUSH
24967: LD_INT 9
24969: ARRAY
24970: DOUBLE
24971: LESSEQUAL
24972: IFTRUE 24976
24974: GO 24995
24976: POP
// begin ChangePhase ( DailyPhase [ 4 ] , 60 ) ;
24977: LD_EXP 61
24981: PUSH
24982: LD_INT 4
24984: ARRAY
24985: PPUSH
24986: LD_INT 60
24988: PPUSH
24989: CALL 25478 0 2
// end ; TimePhase [ 3 ] + 1 .. TimePhase [ 4 ] , TimePhase [ 7 ] + 1 .. TimePhase [ 8 ] :
24993: GO 25166
24995: LD_EXP 60
24999: PUSH
25000: LD_INT 3
25002: ARRAY
25003: PUSH
25004: LD_INT 1
25006: PLUS
25007: DOUBLE
25008: GREATEREQUAL
25009: IFFALSE 25023
25011: LD_EXP 60
25015: PUSH
25016: LD_INT 4
25018: ARRAY
25019: DOUBLE
25020: LESSEQUAL
25021: IFTRUE 25053
25023: LD_EXP 60
25027: PUSH
25028: LD_INT 7
25030: ARRAY
25031: PUSH
25032: LD_INT 1
25034: PLUS
25035: DOUBLE
25036: GREATEREQUAL
25037: IFFALSE 25051
25039: LD_EXP 60
25043: PUSH
25044: LD_INT 8
25046: ARRAY
25047: DOUBLE
25048: LESSEQUAL
25049: IFTRUE 25053
25051: GO 25072
25053: POP
// begin ChangePhase ( DailyPhase [ 3 ] , 80 ) ;
25054: LD_EXP 61
25058: PUSH
25059: LD_INT 3
25061: ARRAY
25062: PPUSH
25063: LD_INT 80
25065: PPUSH
25066: CALL 25478 0 2
// end ; TimePhase [ 4 ] + 1 .. TimePhase [ 5 ] , TimePhase [ 6 ] + 1 .. TimePhase [ 7 ] :
25070: GO 25166
25072: LD_EXP 60
25076: PUSH
25077: LD_INT 4
25079: ARRAY
25080: PUSH
25081: LD_INT 1
25083: PLUS
25084: DOUBLE
25085: GREATEREQUAL
25086: IFFALSE 25100
25088: LD_EXP 60
25092: PUSH
25093: LD_INT 5
25095: ARRAY
25096: DOUBLE
25097: LESSEQUAL
25098: IFTRUE 25130
25100: LD_EXP 60
25104: PUSH
25105: LD_INT 6
25107: ARRAY
25108: PUSH
25109: LD_INT 1
25111: PLUS
25112: DOUBLE
25113: GREATEREQUAL
25114: IFFALSE 25128
25116: LD_EXP 60
25120: PUSH
25121: LD_INT 7
25123: ARRAY
25124: DOUBLE
25125: LESSEQUAL
25126: IFTRUE 25130
25128: GO 25149
25130: POP
// begin ChangePhase ( DailyPhase [ 2 ] , 95 ) ;
25131: LD_EXP 61
25135: PUSH
25136: LD_INT 2
25138: ARRAY
25139: PPUSH
25140: LD_INT 95
25142: PPUSH
25143: CALL 25478 0 2
// end ; else
25147: GO 25166
25149: POP
// begin ChangePhase ( DailyPhase [ 1 ] , 110 ) ;
25150: LD_EXP 61
25154: PUSH
25155: LD_INT 1
25157: ARRAY
25158: PPUSH
25159: LD_INT 110
25161: PPUSH
25162: CALL 25478 0 2
// end ; end ; enable ( 31 ) ;
25166: LD_INT 31
25168: ENABLE_MARKED
// end ;
25169: LD_VAR 0 1
25173: RET
// every 0 0$01 marked 31 do
25174: GO 25176
25176: DISABLE
// begin if daily_speed then
25177: LD_EXP 59
25181: IFFALSE 25192
// wait ( daily_speed ) ;
25183: LD_EXP 59
25187: PPUSH
25188: CALL_OW 67
// CurrentTime = CurrentTime + 0 0$01 ;
25192: LD_ADDR_EXP 111
25196: PUSH
25197: LD_EXP 111
25201: PUSH
25202: LD_INT 35
25204: PLUS
25205: ST_TO_ADDR
// case CurrentTIme of TimePhase [ 5 ] :
25206: LD_EXP 111
25210: PUSH
25211: LD_EXP 60
25215: PUSH
25216: LD_INT 5
25218: ARRAY
25219: DOUBLE
25220: EQUAL
25221: IFTRUE 25225
25223: GO 25244
25225: POP
// begin ChangePhase ( DailyPhase [ 1 ] , 110 ) ;
25226: LD_EXP 61
25230: PUSH
25231: LD_INT 1
25233: ARRAY
25234: PPUSH
25235: LD_INT 110
25237: PPUSH
25238: CALL 25478 0 2
// end ; TimePhase [ 4 ] , TimePhase [ 6 ] :
25242: GO 25458
25244: LD_EXP 60
25248: PUSH
25249: LD_INT 4
25251: ARRAY
25252: DOUBLE
25253: EQUAL
25254: IFTRUE 25270
25256: LD_EXP 60
25260: PUSH
25261: LD_INT 6
25263: ARRAY
25264: DOUBLE
25265: EQUAL
25266: IFTRUE 25270
25268: GO 25289
25270: POP
// begin ChangePhase ( DailyPhase [ 2 ] , 95 ) ;
25271: LD_EXP 61
25275: PUSH
25276: LD_INT 2
25278: ARRAY
25279: PPUSH
25280: LD_INT 95
25282: PPUSH
25283: CALL 25478 0 2
// end ; TimePhase [ 3 ] , TimePhase [ 7 ] :
25287: GO 25458
25289: LD_EXP 60
25293: PUSH
25294: LD_INT 3
25296: ARRAY
25297: DOUBLE
25298: EQUAL
25299: IFTRUE 25315
25301: LD_EXP 60
25305: PUSH
25306: LD_INT 7
25308: ARRAY
25309: DOUBLE
25310: EQUAL
25311: IFTRUE 25315
25313: GO 25334
25315: POP
// begin ChangePhase ( DailyPhase [ 3 ] , 80 ) ;
25316: LD_EXP 61
25320: PUSH
25321: LD_INT 3
25323: ARRAY
25324: PPUSH
25325: LD_INT 80
25327: PPUSH
25328: CALL 25478 0 2
// end ; TimePhase [ 2 ] , TimePhase [ 8 ] :
25332: GO 25458
25334: LD_EXP 60
25338: PUSH
25339: LD_INT 2
25341: ARRAY
25342: DOUBLE
25343: EQUAL
25344: IFTRUE 25360
25346: LD_EXP 60
25350: PUSH
25351: LD_INT 8
25353: ARRAY
25354: DOUBLE
25355: EQUAL
25356: IFTRUE 25360
25358: GO 25379
25360: POP
// begin ChangePhase ( DailyPhase [ 4 ] , 60 ) ;
25361: LD_EXP 61
25365: PUSH
25366: LD_INT 4
25368: ARRAY
25369: PPUSH
25370: LD_INT 60
25372: PPUSH
25373: CALL 25478 0 2
// end ; TimePhase [ 1 ] , TimePhase [ 9 ] :
25377: GO 25458
25379: LD_EXP 60
25383: PUSH
25384: LD_INT 1
25386: ARRAY
25387: DOUBLE
25388: EQUAL
25389: IFTRUE 25405
25391: LD_EXP 60
25395: PUSH
25396: LD_INT 9
25398: ARRAY
25399: DOUBLE
25400: EQUAL
25401: IFTRUE 25405
25403: GO 25424
25405: POP
// begin ChangePhase ( DailyPhase [ 5 ] , 50 ) ;
25406: LD_EXP 61
25410: PUSH
25411: LD_INT 5
25413: ARRAY
25414: PPUSH
25415: LD_INT 50
25417: PPUSH
25418: CALL 25478 0 2
// end ; TimePhase [ 10 ] :
25422: GO 25458
25424: LD_EXP 60
25428: PUSH
25429: LD_INT 10
25431: ARRAY
25432: DOUBLE
25433: EQUAL
25434: IFTRUE 25438
25436: GO 25457
25438: POP
// begin ChangePhase ( DailyPhase [ 6 ] , 35 ) ;
25439: LD_EXP 61
25443: PUSH
25444: LD_INT 6
25446: ARRAY
25447: PPUSH
25448: LD_INT 35
25450: PPUSH
25451: CALL 25478 0 2
// end ; end ;
25455: GO 25458
25457: POP
// if CurrentTime >= 24 24$00 then
25458: LD_EXP 111
25462: PUSH
25463: LD_INT 50400
25465: GREATEREQUAL
25466: IFFALSE 25476
// CurrentTime = 0 0$00 ;
25468: LD_ADDR_EXP 111
25472: PUSH
25473: LD_INT 0
25475: ST_TO_ADDR
// enable ;
25476: ENABLE
// end ;
25477: END
// function changePhase ( dp , srp ) ; begin
25478: LD_INT 0
25480: PPUSH
// solar_recharge_percent = srp ;
25481: LD_ADDR_OWVAR 79
25485: PUSH
25486: LD_VAR 0 2
25490: ST_TO_ADDR
// LoadColorsTXT ( dp ) ;
25491: LD_VAR 0 1
25495: PPUSH
25496: CALL_OW 544
// end ; end_of_file
25500: LD_VAR 0 3
25504: RET
// export BuildUpAreas , BuildUp ; export function BeginBuildUp ; var i , j ; begin
25505: LD_INT 0
25507: PPUSH
25508: PPUSH
25509: PPUSH
// enable ( 600 ) ;
25510: LD_INT 600
25512: ENABLE_MARKED
// BuildUp = true ;
25513: LD_ADDR_EXP 117
25517: PUSH
25518: LD_INT 1
25520: ST_TO_ADDR
// for i := 1 to BuildUpAreas do
25521: LD_ADDR_VAR 0 2
25525: PUSH
25526: DOUBLE
25527: LD_INT 1
25529: DEC
25530: ST_TO_ADDR
25531: LD_EXP 116
25535: PUSH
25536: FOR_TO
25537: IFFALSE 25692
// if Position_Sides [ i ] then
25539: LD_EXP 62
25543: PUSH
25544: LD_VAR 0 2
25548: ARRAY
25549: IFFALSE 25690
// for j := 1 to 8 do
25551: LD_ADDR_VAR 0 3
25555: PUSH
25556: DOUBLE
25557: LD_INT 1
25559: DEC
25560: ST_TO_ADDR
25561: LD_INT 8
25563: PUSH
25564: FOR_TO
25565: IFFALSE 25688
// if Side_Positions [ j ] and ( ( Side_Teams [ Position_Sides [ i ] ] <> Side_Teams [ j ] ) or ( not Team_Game ) and ( Position_Sides [ i ] <> j ) ) then
25567: LD_EXP 75
25571: PUSH
25572: LD_VAR 0 3
25576: ARRAY
25577: PUSH
25578: LD_EXP 72
25582: PUSH
25583: LD_EXP 62
25587: PUSH
25588: LD_VAR 0 2
25592: ARRAY
25593: ARRAY
25594: PUSH
25595: LD_EXP 72
25599: PUSH
25600: LD_VAR 0 3
25604: ARRAY
25605: NONEQUAL
25606: PUSH
25607: LD_EXP 80
25611: NOT
25612: PUSH
25613: LD_EXP 62
25617: PUSH
25618: LD_VAR 0 2
25622: ARRAY
25623: PUSH
25624: LD_VAR 0 3
25628: NONEQUAL
25629: AND
25630: OR
25631: AND
25632: IFFALSE 25656
// HideArea ( j , BuildUpAreas [ i ] ) else
25634: LD_VAR 0 3
25638: PPUSH
25639: LD_EXP 116
25643: PUSH
25644: LD_VAR 0 2
25648: ARRAY
25649: PPUSH
25650: CALL_OW 333
25654: GO 25686
// if ( j = your_side ) then
25656: LD_VAR 0 3
25660: PUSH
25661: LD_OWVAR 2
25665: EQUAL
25666: IFFALSE 25686
// SetAreaMapShow ( BuildUpAreas [ i ] , 3 ) ;
25668: LD_EXP 116
25672: PUSH
25673: LD_VAR 0 2
25677: ARRAY
25678: PPUSH
25679: LD_INT 3
25681: PPUSH
25682: CALL_OW 424
25686: GO 25564
25688: POP
25689: POP
25690: GO 25536
25692: POP
25693: POP
// end ;
25694: LD_VAR 0 1
25698: RET
// export function EndBuildUp ; var i , j ; begin
25699: LD_INT 0
25701: PPUSH
25702: PPUSH
25703: PPUSH
// disable ( 600 ) ;
25704: LD_INT 600
25706: DISABLE_MARKED
// BuildUp = false ;
25707: LD_ADDR_EXP 117
25711: PUSH
25712: LD_INT 0
25714: ST_TO_ADDR
// for i := 1 to BuildUpAreas do
25715: LD_ADDR_VAR 0 2
25719: PUSH
25720: DOUBLE
25721: LD_INT 1
25723: DEC
25724: ST_TO_ADDR
25725: LD_EXP 116
25729: PUSH
25730: FOR_TO
25731: IFFALSE 25886
// if Position_Sides [ i ] then
25733: LD_EXP 62
25737: PUSH
25738: LD_VAR 0 2
25742: ARRAY
25743: IFFALSE 25884
// for j := 1 to 8 do
25745: LD_ADDR_VAR 0 3
25749: PUSH
25750: DOUBLE
25751: LD_INT 1
25753: DEC
25754: ST_TO_ADDR
25755: LD_INT 8
25757: PUSH
25758: FOR_TO
25759: IFFALSE 25882
// if Side_Positions [ j ] and ( ( Side_Teams [ Position_Sides [ i ] ] <> Side_Teams [ j ] ) or ( not Team_Game ) and ( Position_Sides [ i ] <> j ) ) then
25761: LD_EXP 75
25765: PUSH
25766: LD_VAR 0 3
25770: ARRAY
25771: PUSH
25772: LD_EXP 72
25776: PUSH
25777: LD_EXP 62
25781: PUSH
25782: LD_VAR 0 2
25786: ARRAY
25787: ARRAY
25788: PUSH
25789: LD_EXP 72
25793: PUSH
25794: LD_VAR 0 3
25798: ARRAY
25799: NONEQUAL
25800: PUSH
25801: LD_EXP 80
25805: NOT
25806: PUSH
25807: LD_EXP 62
25811: PUSH
25812: LD_VAR 0 2
25816: ARRAY
25817: PUSH
25818: LD_VAR 0 3
25822: NONEQUAL
25823: AND
25824: OR
25825: AND
25826: IFFALSE 25850
// ShowArea ( j , BuildUpAreas [ i ] ) else
25828: LD_VAR 0 3
25832: PPUSH
25833: LD_EXP 116
25837: PUSH
25838: LD_VAR 0 2
25842: ARRAY
25843: PPUSH
25844: CALL_OW 334
25848: GO 25880
// if ( j = your_side ) then
25850: LD_VAR 0 3
25854: PUSH
25855: LD_OWVAR 2
25859: EQUAL
25860: IFFALSE 25880
// SetAreaMapShow ( BuildUpAreas [ i ] , 0 ) ;
25862: LD_EXP 116
25866: PUSH
25867: LD_VAR 0 2
25871: ARRAY
25872: PPUSH
25873: LD_INT 0
25875: PPUSH
25876: CALL_OW 424
25880: GO 25758
25882: POP
25883: POP
25884: GO 25730
25886: POP
25887: POP
// end ;
25888: LD_VAR 0 1
25892: RET
// every 1 marked 600 do var i , un ;
25893: GO 25895
25895: DISABLE
25896: LD_INT 0
25898: PPUSH
25899: PPUSH
// begin for i := 1 to BuildUpAreas do
25900: LD_ADDR_VAR 0 1
25904: PUSH
25905: DOUBLE
25906: LD_INT 1
25908: DEC
25909: ST_TO_ADDR
25910: LD_EXP 116
25914: PUSH
25915: FOR_TO
25916: IFFALSE 26086
// if Position_Sides [ i ] then
25918: LD_EXP 62
25922: PUSH
25923: LD_VAR 0 1
25927: ARRAY
25928: IFFALSE 26084
// for un in FilterUnitsInArea ( BuildUpAreas [ i ] , [ [ f_or , [ f_type , unit_human ] , [ f_type , unit_vehicle ] ] , [ f_not , [ f_side , 0 ] ] ] ) do
25930: LD_ADDR_VAR 0 2
25934: PUSH
25935: LD_EXP 116
25939: PUSH
25940: LD_VAR 0 1
25944: ARRAY
25945: PPUSH
25946: LD_INT 2
25948: PUSH
25949: LD_INT 21
25951: PUSH
25952: LD_INT 1
25954: PUSH
25955: EMPTY
25956: LIST
25957: LIST
25958: PUSH
25959: LD_INT 21
25961: PUSH
25962: LD_INT 2
25964: PUSH
25965: EMPTY
25966: LIST
25967: LIST
25968: PUSH
25969: EMPTY
25970: LIST
25971: LIST
25972: LIST
25973: PUSH
25974: LD_INT 3
25976: PUSH
25977: LD_INT 22
25979: PUSH
25980: LD_INT 0
25982: PUSH
25983: EMPTY
25984: LIST
25985: LIST
25986: PUSH
25987: EMPTY
25988: LIST
25989: LIST
25990: PUSH
25991: EMPTY
25992: LIST
25993: LIST
25994: PPUSH
25995: CALL_OW 70
25999: PUSH
26000: FOR_IN
26001: IFFALSE 26082
// if ( ( Side_Teams [ Position_Sides [ i ] ] <> Side_Teams [ GetSide ( un ) ] ) or ( not Team_Game ) and ( Position_Sides [ i ] <> GetSide ( un ) ) ) then
26003: LD_EXP 72
26007: PUSH
26008: LD_EXP 62
26012: PUSH
26013: LD_VAR 0 1
26017: ARRAY
26018: ARRAY
26019: PUSH
26020: LD_EXP 72
26024: PUSH
26025: LD_VAR 0 2
26029: PPUSH
26030: CALL_OW 255
26034: ARRAY
26035: NONEQUAL
26036: PUSH
26037: LD_EXP 80
26041: NOT
26042: PUSH
26043: LD_EXP 62
26047: PUSH
26048: LD_VAR 0 1
26052: ARRAY
26053: PUSH
26054: LD_VAR 0 2
26058: PPUSH
26059: CALL_OW 255
26063: NONEQUAL
26064: AND
26065: OR
26066: IFFALSE 26080
// ComMoveToArea ( un , BuildUpEscape ) ;
26068: LD_VAR 0 2
26072: PPUSH
26073: LD_INT 33
26075: PPUSH
26076: CALL_OW 113
26080: GO 26000
26082: POP
26083: POP
26084: GO 25915
26086: POP
26087: POP
// if BuildUp then
26088: LD_EXP 117
26092: IFFALSE 26095
// enable ;
26094: ENABLE
// end ;
26095: PPOPN 2
26097: END
// every 1 do
26098: GO 26100
26100: DISABLE
// if ( def_builduptime > 0 ) then
26101: LD_EXP 30
26105: PUSH
26106: LD_INT 0
26108: GREATER
26109: IFFALSE 26130
// begin if buildUpTime_Delay then
26111: LD_EXP 66
26115: IFFALSE 26126
// wait ( buildUpTime_Delay ) ;
26117: LD_EXP 66
26121: PPUSH
26122: CALL_OW 67
// EndBuildUp ;
26126: CALL 25699 0 0
// end ; end_of_file
26130: END
// var Restricted_Builds , Restricted_Builds_Amount ; var Banned_Weapons , Banned_Chassis , Banned_Controls , Banned_Engines ; var Already_Built ; var Limits_Info , Cheaters ; every 0 0$1 do
26131: GO 26133
26133: DISABLE
// begin fLimitsStrings ;
26134: CALL 26140 0 0
// enable ;
26138: ENABLE
// end ;
26139: END
// export function fLimitsStrings ; var i ; begin
26140: LD_INT 0
26142: PPUSH
26143: PPUSH
// if ( not IAmSpec ) then
26144: CALL_OW 531
26148: NOT
26149: IFFALSE 26165
// LimitsStrings := Limits_Info ^  ;
26151: LD_ADDR_EXP 110
26155: PUSH
26156: LD_LOC 28
26160: PUSH
26161: LD_STRING 
26163: ADD
26164: ST_TO_ADDR
// for i := 1 to 8 do
26165: LD_ADDR_VAR 0 2
26169: PUSH
26170: DOUBLE
26171: LD_INT 1
26173: DEC
26174: ST_TO_ADDR
26175: LD_INT 8
26177: PUSH
26178: FOR_TO
26179: IFFALSE 26224
// if Cheaters [ i ] then
26181: LD_LOC 29
26185: PUSH
26186: LD_VAR 0 2
26190: ARRAY
26191: IFFALSE 26222
// LimitsStrings := LimitsStrings ^ [ #Cheater , i , i ] ;
26193: LD_ADDR_EXP 110
26197: PUSH
26198: LD_EXP 110
26202: PUSH
26203: LD_STRING #Cheater
26205: PUSH
26206: LD_VAR 0 2
26210: PUSH
26211: LD_VAR 0 2
26215: PUSH
26216: EMPTY
26217: LIST
26218: LIST
26219: LIST
26220: ADD
26221: ST_TO_ADDR
26222: GO 26178
26224: POP
26225: POP
// end ;
26226: LD_VAR 0 1
26230: RET
// export function InitGameRules ; var Unavailable_Techs , Unavailable_Builds ; var i , j ; begin
26231: LD_INT 0
26233: PPUSH
26234: PPUSH
26235: PPUSH
26236: PPUSH
26237: PPUSH
// Cheaters := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
26238: LD_ADDR_LOC 29
26242: PUSH
26243: LD_INT 0
26245: PUSH
26246: LD_INT 0
26248: PUSH
26249: LD_INT 0
26251: PUSH
26252: LD_INT 0
26254: PUSH
26255: LD_INT 0
26257: PUSH
26258: LD_INT 0
26260: PUSH
26261: LD_INT 0
26263: PUSH
26264: LD_INT 0
26266: PUSH
26267: EMPTY
26268: LIST
26269: LIST
26270: LIST
26271: LIST
26272: LIST
26273: LIST
26274: LIST
26275: LIST
26276: ST_TO_ADDR
// case def_game_rules of 0 :
26277: LD_EXP 9
26281: PUSH
26282: LD_INT 0
26284: DOUBLE
26285: EQUAL
26286: IFTRUE 26290
26288: GO 26295
26290: POP
// exit ; 1 :
26291: GO 28931
26293: GO 28831
26295: LD_INT 1
26297: DOUBLE
26298: EQUAL
26299: IFTRUE 26303
26301: GO 26606
26303: POP
// begin def_base_level := 2 ;
26304: LD_ADDR_EXP 10
26308: PUSH
26309: LD_INT 2
26311: ST_TO_ADDR
// def_amount_of_people := 10 ;
26312: LD_ADDR_EXP 11
26316: PUSH
26317: LD_INT 10
26319: ST_TO_ADDR
// def_initial_level := 1 ;
26320: LD_ADDR_EXP 13
26324: PUSH
26325: LD_INT 1
26327: ST_TO_ADDR
// def_starting_resources := 2 ;
26328: LD_ADDR_EXP 15
26332: PUSH
26333: LD_INT 2
26335: ST_TO_ADDR
// def_shipments_density := 1 ;
26336: LD_ADDR_EXP 16
26340: PUSH
26341: LD_INT 1
26343: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
26344: LD_ADDR_EXP 17
26348: PUSH
26349: LD_INT 0
26351: ST_TO_ADDR
// def_extra_sib_deposits := 1 ;
26352: LD_ADDR_EXP 18
26356: PUSH
26357: LD_INT 1
26359: ST_TO_ADDR
// def_shared_vision := 1 ;
26360: LD_ADDR_EXP 19
26364: PUSH
26365: LD_INT 1
26367: ST_TO_ADDR
// def_morale_flags := 3 ;
26368: LD_ADDR_EXP 20
26372: PUSH
26373: LD_INT 3
26375: ST_TO_ADDR
// def_siberite_detection := 1 ;
26376: LD_ADDR_EXP 28
26380: PUSH
26381: LD_INT 1
26383: ST_TO_ADDR
// def_people_respawning := 1 ;
26384: LD_ADDR_EXP 25
26388: PUSH
26389: LD_INT 1
26391: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
26392: LD_ADDR_EXP 22
26396: PUSH
26397: LD_INT 1
26399: ST_TO_ADDR
// def_siberite_bomb := 0 ;
26400: LD_ADDR_EXP 29
26404: PUSH
26405: LD_INT 0
26407: ST_TO_ADDR
// def_builduptime := 2 ;
26408: LD_ADDR_EXP 30
26412: PUSH
26413: LD_INT 2
26415: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
26416: LD_ADDR_EXP 12
26420: PUSH
26421: LD_INT 0
26423: ST_TO_ADDR
// def_amount_of_tiger := 0 ;
26424: LD_ADDR_EXP 23
26428: PUSH
26429: LD_INT 0
26431: ST_TO_ADDR
// def_respawining_type := 3 ;
26432: LD_ADDR_EXP 24
26436: PUSH
26437: LD_INT 3
26439: ST_TO_ADDR
// def_tech_level := 8 ;
26440: LD_ADDR_EXP 26
26444: PUSH
26445: LD_INT 8
26447: ST_TO_ADDR
// def_upgrade_tl := 0 ;
26448: LD_ADDR_EXP 27
26452: PUSH
26453: LD_INT 0
26455: ST_TO_ADDR
// def_desert_warior := 0 ;
26456: LD_ADDR_EXP 31
26460: PUSH
26461: LD_INT 0
26463: ST_TO_ADDR
// Unavailable_Techs := [ ] ;
26464: LD_ADDR_VAR 0 2
26468: PUSH
26469: EMPTY
26470: ST_TO_ADDR
// Unavailable_Builds := [ ] ;
26471: LD_ADDR_VAR 0 3
26475: PUSH
26476: EMPTY
26477: ST_TO_ADDR
// Banned_Weapons := [ ] ;
26478: LD_ADDR_LOC 23
26482: PUSH
26483: EMPTY
26484: ST_TO_ADDR
// Banned_Chassis := [ ] ;
26485: LD_ADDR_LOC 24
26489: PUSH
26490: EMPTY
26491: ST_TO_ADDR
// Banned_Controls := [ ] ;
26492: LD_ADDR_LOC 25
26496: PUSH
26497: EMPTY
26498: ST_TO_ADDR
// Banned_Engines := [ ] ;
26499: LD_ADDR_LOC 26
26503: PUSH
26504: EMPTY
26505: ST_TO_ADDR
// Restricted_Builds := [ [ b_Behemoth ] , [ b_Armoury , b_Barracks ] , [ b_Breastwork , b_Bunker , b_Turret ] ] ;
26506: LD_ADDR_LOC 21
26510: PUSH
26511: LD_INT 37
26513: PUSH
26514: EMPTY
26515: LIST
26516: PUSH
26517: LD_INT 4
26519: PUSH
26520: LD_INT 5
26522: PUSH
26523: EMPTY
26524: LIST
26525: LIST
26526: PUSH
26527: LD_INT 31
26529: PUSH
26530: LD_INT 32
26532: PUSH
26533: LD_INT 33
26535: PUSH
26536: EMPTY
26537: LIST
26538: LIST
26539: LIST
26540: PUSH
26541: EMPTY
26542: LIST
26543: LIST
26544: LIST
26545: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
26546: LD_EXP 1
26550: PUSH
26551: LD_EXP 3
26555: PUSH
26556: LD_EXP 4
26560: ADD
26561: IN
26562: IFFALSE 26585
// Restricted_Builds_Amount := [ 4 , 4 , 8 ] else
26564: LD_ADDR_LOC 22
26568: PUSH
26569: LD_INT 4
26571: PUSH
26572: LD_INT 4
26574: PUSH
26575: LD_INT 8
26577: PUSH
26578: EMPTY
26579: LIST
26580: LIST
26581: LIST
26582: ST_TO_ADDR
26583: GO 26604
// Restricted_Builds_Amount := [ 2 , 2 , 4 ] ;
26585: LD_ADDR_LOC 22
26589: PUSH
26590: LD_INT 2
26592: PUSH
26593: LD_INT 2
26595: PUSH
26596: LD_INT 4
26598: PUSH
26599: EMPTY
26600: LIST
26601: LIST
26602: LIST
26603: ST_TO_ADDR
// end ; 2 :
26604: GO 28831
26606: LD_INT 2
26608: DOUBLE
26609: EQUAL
26610: IFTRUE 26614
26612: GO 26906
26614: POP
// begin def_base_level := 1 ;
26615: LD_ADDR_EXP 10
26619: PUSH
26620: LD_INT 1
26622: ST_TO_ADDR
// def_amount_of_people := 2 ;
26623: LD_ADDR_EXP 11
26627: PUSH
26628: LD_INT 2
26630: ST_TO_ADDR
// def_initial_level := 3 ;
26631: LD_ADDR_EXP 13
26635: PUSH
26636: LD_INT 3
26638: ST_TO_ADDR
// def_starting_resources := 3 ;
26639: LD_ADDR_EXP 15
26643: PUSH
26644: LD_INT 3
26646: ST_TO_ADDR
// def_shipments_density := 2 ;
26647: LD_ADDR_EXP 16
26651: PUSH
26652: LD_INT 2
26654: ST_TO_ADDR
// def_extra_oil_deposits := 1 ;
26655: LD_ADDR_EXP 17
26659: PUSH
26660: LD_INT 1
26662: ST_TO_ADDR
// def_extra_sib_deposits := 2 ;
26663: LD_ADDR_EXP 18
26667: PUSH
26668: LD_INT 2
26670: ST_TO_ADDR
// def_shared_vision := 1 ;
26671: LD_ADDR_EXP 19
26675: PUSH
26676: LD_INT 1
26678: ST_TO_ADDR
// def_morale_flags := 0 ;
26679: LD_ADDR_EXP 20
26683: PUSH
26684: LD_INT 0
26686: ST_TO_ADDR
// def_siberite_detection := 1 ;
26687: LD_ADDR_EXP 28
26691: PUSH
26692: LD_INT 1
26694: ST_TO_ADDR
// def_people_respawning := 0 ;
26695: LD_ADDR_EXP 25
26699: PUSH
26700: LD_INT 0
26702: ST_TO_ADDR
// def_amount_of_apemen := 0 ;
26703: LD_ADDR_EXP 22
26707: PUSH
26708: LD_INT 0
26710: ST_TO_ADDR
// def_siberite_bomb := 0 ;
26711: LD_ADDR_EXP 29
26715: PUSH
26716: LD_INT 0
26718: ST_TO_ADDR
// def_builduptime := 2 ;
26719: LD_ADDR_EXP 30
26723: PUSH
26724: LD_INT 2
26726: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
26727: LD_ADDR_EXP 12
26731: PUSH
26732: LD_INT 0
26734: ST_TO_ADDR
// def_amount_of_tiger := 0 ;
26735: LD_ADDR_EXP 23
26739: PUSH
26740: LD_INT 0
26742: ST_TO_ADDR
// def_respawining_type := 3 ;
26743: LD_ADDR_EXP 24
26747: PUSH
26748: LD_INT 3
26750: ST_TO_ADDR
// def_tech_level := 8 ;
26751: LD_ADDR_EXP 26
26755: PUSH
26756: LD_INT 8
26758: ST_TO_ADDR
// def_upgrade_tl := 0 ;
26759: LD_ADDR_EXP 27
26763: PUSH
26764: LD_INT 0
26766: ST_TO_ADDR
// def_desert_warior := 0 ;
26767: LD_ADDR_EXP 31
26771: PUSH
26772: LD_INT 0
26774: ST_TO_ADDR
// Unavailable_Techs := [ tech_ApeLang ] ;
26775: LD_ADDR_VAR 0 2
26779: PUSH
26780: LD_INT 1
26782: PUSH
26783: EMPTY
26784: LIST
26785: ST_TO_ADDR
// Unavailable_Builds := [ ] ;
26786: LD_ADDR_VAR 0 3
26790: PUSH
26791: EMPTY
26792: ST_TO_ADDR
// Banned_Weapons := [ ] ;
26793: LD_ADDR_LOC 23
26797: PUSH
26798: EMPTY
26799: ST_TO_ADDR
// Banned_Chassis := [ ] ;
26800: LD_ADDR_LOC 24
26804: PUSH
26805: EMPTY
26806: ST_TO_ADDR
// Banned_Controls := [ ] ;
26807: LD_ADDR_LOC 25
26811: PUSH
26812: EMPTY
26813: ST_TO_ADDR
// Banned_Engines := [ ] ;
26814: LD_ADDR_LOC 26
26818: PUSH
26819: EMPTY
26820: ST_TO_ADDR
// Restricted_Builds := [ [ b_Armoury , b_Barracks ] , [ b_Breastwork , b_Bunker , b_Turret ] ] ;
26821: LD_ADDR_LOC 21
26825: PUSH
26826: LD_INT 4
26828: PUSH
26829: LD_INT 5
26831: PUSH
26832: EMPTY
26833: LIST
26834: LIST
26835: PUSH
26836: LD_INT 31
26838: PUSH
26839: LD_INT 32
26841: PUSH
26842: LD_INT 33
26844: PUSH
26845: EMPTY
26846: LIST
26847: LIST
26848: LIST
26849: PUSH
26850: EMPTY
26851: LIST
26852: LIST
26853: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
26854: LD_EXP 1
26858: PUSH
26859: LD_EXP 3
26863: PUSH
26864: LD_EXP 4
26868: ADD
26869: IN
26870: IFFALSE 26889
// Restricted_Builds_Amount := [ 2 , 4 ] else
26872: LD_ADDR_LOC 22
26876: PUSH
26877: LD_INT 2
26879: PUSH
26880: LD_INT 4
26882: PUSH
26883: EMPTY
26884: LIST
26885: LIST
26886: ST_TO_ADDR
26887: GO 26904
// Restricted_Builds_Amount := [ 1 , 2 ] ;
26889: LD_ADDR_LOC 22
26893: PUSH
26894: LD_INT 1
26896: PUSH
26897: LD_INT 2
26899: PUSH
26900: EMPTY
26901: LIST
26902: LIST
26903: ST_TO_ADDR
// end ; 3 :
26904: GO 28831
26906: LD_INT 3
26908: DOUBLE
26909: EQUAL
26910: IFTRUE 26914
26912: GO 27197
26914: POP
// begin def_base_level := 1 ;
26915: LD_ADDR_EXP 10
26919: PUSH
26920: LD_INT 1
26922: ST_TO_ADDR
// def_amount_of_people := 10 ;
26923: LD_ADDR_EXP 11
26927: PUSH
26928: LD_INT 10
26930: ST_TO_ADDR
// def_initial_level := 3 ;
26931: LD_ADDR_EXP 13
26935: PUSH
26936: LD_INT 3
26938: ST_TO_ADDR
// def_starting_resources := 3 ;
26939: LD_ADDR_EXP 15
26943: PUSH
26944: LD_INT 3
26946: ST_TO_ADDR
// def_shipments_density := 1 ;
26947: LD_ADDR_EXP 16
26951: PUSH
26952: LD_INT 1
26954: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
26955: LD_ADDR_EXP 17
26959: PUSH
26960: LD_INT 0
26962: ST_TO_ADDR
// def_extra_sib_deposits := 1 ;
26963: LD_ADDR_EXP 18
26967: PUSH
26968: LD_INT 1
26970: ST_TO_ADDR
// def_shared_vision := 1 ;
26971: LD_ADDR_EXP 19
26975: PUSH
26976: LD_INT 1
26978: ST_TO_ADDR
// def_morale_flags := 0 ;
26979: LD_ADDR_EXP 20
26983: PUSH
26984: LD_INT 0
26986: ST_TO_ADDR
// def_siberite_detection := 1 ;
26987: LD_ADDR_EXP 28
26991: PUSH
26992: LD_INT 1
26994: ST_TO_ADDR
// def_people_respawning := 0 ;
26995: LD_ADDR_EXP 25
26999: PUSH
27000: LD_INT 0
27002: ST_TO_ADDR
// def_amount_of_apemen := 2 ;
27003: LD_ADDR_EXP 22
27007: PUSH
27008: LD_INT 2
27010: ST_TO_ADDR
// def_siberite_bomb := 0 ;
27011: LD_ADDR_EXP 29
27015: PUSH
27016: LD_INT 0
27018: ST_TO_ADDR
// def_builduptime := 1 ;
27019: LD_ADDR_EXP 30
27023: PUSH
27024: LD_INT 1
27026: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
27027: LD_ADDR_EXP 12
27031: PUSH
27032: LD_INT 0
27034: ST_TO_ADDR
// def_amount_of_tiger := 1 ;
27035: LD_ADDR_EXP 23
27039: PUSH
27040: LD_INT 1
27042: ST_TO_ADDR
// def_respawining_type := 3 ;
27043: LD_ADDR_EXP 24
27047: PUSH
27048: LD_INT 3
27050: ST_TO_ADDR
// def_tech_level := 8 ;
27051: LD_ADDR_EXP 26
27055: PUSH
27056: LD_INT 8
27058: ST_TO_ADDR
// def_upgrade_tl := 0 ;
27059: LD_ADDR_EXP 27
27063: PUSH
27064: LD_INT 0
27066: ST_TO_ADDR
// def_desert_warior := 0 ;
27067: LD_ADDR_EXP 31
27071: PUSH
27072: LD_INT 0
27074: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth ] ;
27075: LD_ADDR_VAR 0 2
27079: PUSH
27080: LD_INT 23
27082: PUSH
27083: EMPTY
27084: LIST
27085: ST_TO_ADDR
// Unavailable_Builds := [ b_Workshop , b_Behemoth , b_Bunker , b_Turret , b_Control_Tower , b_ext_track , b_ext_stitch , b_ext_siberium , b_ext_rocket , b_ext_radio , b_ext_radar , b_ext_noncombat , b_ext_laser , b_ext_gun , b_ext_computer ] ;
27086: LD_ADDR_VAR 0 3
27090: PUSH
27091: LD_INT 2
27093: PUSH
27094: LD_INT 37
27096: PUSH
27097: LD_INT 32
27099: PUSH
27100: LD_INT 33
27102: PUSH
27103: LD_INT 36
27105: PUSH
27106: LD_INT 16
27108: PUSH
27109: LD_INT 23
27111: PUSH
27112: LD_INT 21
27114: PUSH
27115: LD_INT 18
27117: PUSH
27118: LD_INT 22
27120: PUSH
27121: LD_INT 20
27123: PUSH
27124: LD_INT 19
27126: PUSH
27127: LD_INT 25
27129: PUSH
27130: LD_INT 17
27132: PUSH
27133: LD_INT 24
27135: PUSH
27136: EMPTY
27137: LIST
27138: LIST
27139: LIST
27140: LIST
27141: LIST
27142: LIST
27143: LIST
27144: LIST
27145: LIST
27146: LIST
27147: LIST
27148: LIST
27149: LIST
27150: LIST
27151: LIST
27152: ST_TO_ADDR
// Banned_Weapons := [ ] ;
27153: LD_ADDR_LOC 23
27157: PUSH
27158: EMPTY
27159: ST_TO_ADDR
// Banned_Chassis := [ ] ;
27160: LD_ADDR_LOC 24
27164: PUSH
27165: EMPTY
27166: ST_TO_ADDR
// Banned_Controls := [ ] ;
27167: LD_ADDR_LOC 25
27171: PUSH
27172: EMPTY
27173: ST_TO_ADDR
// Banned_Engines := [ ] ;
27174: LD_ADDR_LOC 26
27178: PUSH
27179: EMPTY
27180: ST_TO_ADDR
// Restricted_Builds := [ ] ;
27181: LD_ADDR_LOC 21
27185: PUSH
27186: EMPTY
27187: ST_TO_ADDR
// Restricted_Builds_Amount := [ ] ;
27188: LD_ADDR_LOC 22
27192: PUSH
27193: EMPTY
27194: ST_TO_ADDR
// end ; 4 :
27195: GO 28831
27197: LD_INT 4
27199: DOUBLE
27200: EQUAL
27201: IFTRUE 27205
27203: GO 27428
27205: POP
// begin def_base_level := 1 ;
27206: LD_ADDR_EXP 10
27210: PUSH
27211: LD_INT 1
27213: ST_TO_ADDR
// def_amount_of_people := 10 ;
27214: LD_ADDR_EXP 11
27218: PUSH
27219: LD_INT 10
27221: ST_TO_ADDR
// def_initial_level := 3 ;
27222: LD_ADDR_EXP 13
27226: PUSH
27227: LD_INT 3
27229: ST_TO_ADDR
// def_starting_resources := 3 ;
27230: LD_ADDR_EXP 15
27234: PUSH
27235: LD_INT 3
27237: ST_TO_ADDR
// def_shipments_density := 2 ;
27238: LD_ADDR_EXP 16
27242: PUSH
27243: LD_INT 2
27245: ST_TO_ADDR
// def_extra_oil_deposits := 1 ;
27246: LD_ADDR_EXP 17
27250: PUSH
27251: LD_INT 1
27253: ST_TO_ADDR
// def_extra_sib_deposits := 2 ;
27254: LD_ADDR_EXP 18
27258: PUSH
27259: LD_INT 2
27261: ST_TO_ADDR
// def_shared_vision := 1 ;
27262: LD_ADDR_EXP 19
27266: PUSH
27267: LD_INT 1
27269: ST_TO_ADDR
// def_morale_flags := 0 ;
27270: LD_ADDR_EXP 20
27274: PUSH
27275: LD_INT 0
27277: ST_TO_ADDR
// def_siberite_detection := 1 ;
27278: LD_ADDR_EXP 28
27282: PUSH
27283: LD_INT 1
27285: ST_TO_ADDR
// def_people_respawning := 0 ;
27286: LD_ADDR_EXP 25
27290: PUSH
27291: LD_INT 0
27293: ST_TO_ADDR
// def_amount_of_apemen := 0 ;
27294: LD_ADDR_EXP 22
27298: PUSH
27299: LD_INT 0
27301: ST_TO_ADDR
// def_siberite_bomb := 1 ;
27302: LD_ADDR_EXP 29
27306: PUSH
27307: LD_INT 1
27309: ST_TO_ADDR
// def_builduptime := 3 ;
27310: LD_ADDR_EXP 30
27314: PUSH
27315: LD_INT 3
27317: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
27318: LD_ADDR_EXP 12
27322: PUSH
27323: LD_INT 0
27325: ST_TO_ADDR
// def_amount_of_tiger := 0 ;
27326: LD_ADDR_EXP 23
27330: PUSH
27331: LD_INT 0
27333: ST_TO_ADDR
// def_respawining_type := 3 ;
27334: LD_ADDR_EXP 24
27338: PUSH
27339: LD_INT 3
27341: ST_TO_ADDR
// def_tech_level := 8 ;
27342: LD_ADDR_EXP 26
27346: PUSH
27347: LD_INT 8
27349: ST_TO_ADDR
// def_upgrade_tl := 0 ;
27350: LD_ADDR_EXP 27
27354: PUSH
27355: LD_INT 0
27357: ST_TO_ADDR
// def_desert_warior := 0 ;
27358: LD_ADDR_EXP 31
27362: PUSH
27363: LD_INT 0
27365: ST_TO_ADDR
// Unavailable_Techs := [ tech_ApeLang ] ;
27366: LD_ADDR_VAR 0 2
27370: PUSH
27371: LD_INT 1
27373: PUSH
27374: EMPTY
27375: LIST
27376: ST_TO_ADDR
// Unavailable_Builds := [ ] ;
27377: LD_ADDR_VAR 0 3
27381: PUSH
27382: EMPTY
27383: ST_TO_ADDR
// Banned_Weapons := [ ] ;
27384: LD_ADDR_LOC 23
27388: PUSH
27389: EMPTY
27390: ST_TO_ADDR
// Banned_Chassis := [ ] ;
27391: LD_ADDR_LOC 24
27395: PUSH
27396: EMPTY
27397: ST_TO_ADDR
// Banned_Controls := [ ] ;
27398: LD_ADDR_LOC 25
27402: PUSH
27403: EMPTY
27404: ST_TO_ADDR
// Banned_Engines := [ ] ;
27405: LD_ADDR_LOC 26
27409: PUSH
27410: EMPTY
27411: ST_TO_ADDR
// Restricted_Builds := [ ] ;
27412: LD_ADDR_LOC 21
27416: PUSH
27417: EMPTY
27418: ST_TO_ADDR
// Restricted_Builds_Amount := [ ] ;
27419: LD_ADDR_LOC 22
27423: PUSH
27424: EMPTY
27425: ST_TO_ADDR
// end ; 5 :
27426: GO 28831
27428: LD_INT 5
27430: DOUBLE
27431: EQUAL
27432: IFTRUE 27436
27434: GO 27768
27436: POP
// begin def_base_level := 0 ;
27437: LD_ADDR_EXP 10
27441: PUSH
27442: LD_INT 0
27444: ST_TO_ADDR
// def_amount_of_people := 3 ;
27445: LD_ADDR_EXP 11
27449: PUSH
27450: LD_INT 3
27452: ST_TO_ADDR
// def_initial_level := 0 ;
27453: LD_ADDR_EXP 13
27457: PUSH
27458: LD_INT 0
27460: ST_TO_ADDR
// def_starting_resources := 0 ;
27461: LD_ADDR_EXP 15
27465: PUSH
27466: LD_INT 0
27468: ST_TO_ADDR
// def_shipments_density := 0 ;
27469: LD_ADDR_EXP 16
27473: PUSH
27474: LD_INT 0
27476: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
27477: LD_ADDR_EXP 17
27481: PUSH
27482: LD_INT 0
27484: ST_TO_ADDR
// def_extra_sib_deposits := 0 ;
27485: LD_ADDR_EXP 18
27489: PUSH
27490: LD_INT 0
27492: ST_TO_ADDR
// def_shared_vision := 1 ;
27493: LD_ADDR_EXP 19
27497: PUSH
27498: LD_INT 1
27500: ST_TO_ADDR
// def_morale_flags := 0 ;
27501: LD_ADDR_EXP 20
27505: PUSH
27506: LD_INT 0
27508: ST_TO_ADDR
// def_siberite_detection := 0 ;
27509: LD_ADDR_EXP 28
27513: PUSH
27514: LD_INT 0
27516: ST_TO_ADDR
// def_people_respawning := 1 ;
27517: LD_ADDR_EXP 25
27521: PUSH
27522: LD_INT 1
27524: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
27525: LD_ADDR_EXP 22
27529: PUSH
27530: LD_INT 1
27532: ST_TO_ADDR
// def_siberite_bomb := 0 ;
27533: LD_ADDR_EXP 29
27537: PUSH
27538: LD_INT 0
27540: ST_TO_ADDR
// def_builduptime := 0 ;
27541: LD_ADDR_EXP 30
27545: PUSH
27546: LD_INT 0
27548: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
27549: LD_ADDR_EXP 12
27553: PUSH
27554: LD_INT 0
27556: ST_TO_ADDR
// def_amount_of_tiger := 2 ;
27557: LD_ADDR_EXP 23
27561: PUSH
27562: LD_INT 2
27564: ST_TO_ADDR
// def_respawining_type := 3 ;
27565: LD_ADDR_EXP 24
27569: PUSH
27570: LD_INT 3
27572: ST_TO_ADDR
// def_tech_level := 8 ;
27573: LD_ADDR_EXP 26
27577: PUSH
27578: LD_INT 8
27580: ST_TO_ADDR
// def_upgrade_tl := 0 ;
27581: LD_ADDR_EXP 27
27585: PUSH
27586: LD_INT 0
27588: ST_TO_ADDR
// def_desert_warior := 0 ;
27589: LD_ADDR_EXP 31
27593: PUSH
27594: LD_INT 0
27596: ST_TO_ADDR
// Unavailable_Techs := [ tech_Laser , tech_ApeNeural ] ;
27597: LD_ADDR_VAR 0 2
27601: PUSH
27602: LD_INT 10
27604: PUSH
27605: LD_INT 3
27607: PUSH
27608: EMPTY
27609: LIST
27610: LIST
27611: ST_TO_ADDR
// Unavailable_Builds := [ b_Lab_Computer , b_Lab_Siberium , b_Lab_Spacetime , b_Lab_Biological , b_Barracks , b_ext_Computer , b_ext_Siberium , b_Turret , b_Control_Tower ] ;
27612: LD_ADDR_VAR 0 3
27616: PUSH
27617: LD_INT 12
27619: PUSH
27620: LD_INT 11
27622: PUSH
27623: LD_INT 14
27625: PUSH
27626: LD_INT 13
27628: PUSH
27629: LD_INT 5
27631: PUSH
27632: LD_INT 24
27634: PUSH
27635: LD_INT 21
27637: PUSH
27638: LD_INT 33
27640: PUSH
27641: LD_INT 36
27643: PUSH
27644: EMPTY
27645: LIST
27646: LIST
27647: LIST
27648: LIST
27649: LIST
27650: LIST
27651: LIST
27652: LIST
27653: LIST
27654: ST_TO_ADDR
// Banned_Weapons := [ ar_Control_Tower ] ;
27655: LD_ADDR_LOC 23
27659: PUSH
27660: LD_INT 31
27662: PUSH
27663: EMPTY
27664: LIST
27665: ST_TO_ADDR
// Banned_Chassis := [ ] ;
27666: LD_ADDR_LOC 24
27670: PUSH
27671: EMPTY
27672: ST_TO_ADDR
// Banned_Controls := [ control_Remote ] ;
27673: LD_ADDR_LOC 25
27677: PUSH
27678: LD_INT 2
27680: PUSH
27681: EMPTY
27682: LIST
27683: ST_TO_ADDR
// Banned_Engines := [ ] ;
27684: LD_ADDR_LOC 26
27688: PUSH
27689: EMPTY
27690: ST_TO_ADDR
// Restricted_Builds := [ [ b_Armoury ] , [ b_Breastwork , b_Bunker ] ] ;
27691: LD_ADDR_LOC 21
27695: PUSH
27696: LD_INT 4
27698: PUSH
27699: EMPTY
27700: LIST
27701: PUSH
27702: LD_INT 31
27704: PUSH
27705: LD_INT 32
27707: PUSH
27708: EMPTY
27709: LIST
27710: LIST
27711: PUSH
27712: EMPTY
27713: LIST
27714: LIST
27715: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
27716: LD_EXP 1
27720: PUSH
27721: LD_EXP 3
27725: PUSH
27726: LD_EXP 4
27730: ADD
27731: IN
27732: IFFALSE 27751
// Restricted_Builds_Amount := [ 2 , 2 ] else
27734: LD_ADDR_LOC 22
27738: PUSH
27739: LD_INT 2
27741: PUSH
27742: LD_INT 2
27744: PUSH
27745: EMPTY
27746: LIST
27747: LIST
27748: ST_TO_ADDR
27749: GO 27766
// Restricted_Builds_Amount := [ 1 , 1 ] ;
27751: LD_ADDR_LOC 22
27755: PUSH
27756: LD_INT 1
27758: PUSH
27759: LD_INT 1
27761: PUSH
27762: EMPTY
27763: LIST
27764: LIST
27765: ST_TO_ADDR
// end ; 6 :
27766: GO 28831
27768: LD_INT 6
27770: DOUBLE
27771: EQUAL
27772: IFTRUE 27776
27774: GO 28054
27776: POP
// begin def_base_level := 1 ;
27777: LD_ADDR_EXP 10
27781: PUSH
27782: LD_INT 1
27784: ST_TO_ADDR
// def_amount_of_people := 10 ;
27785: LD_ADDR_EXP 11
27789: PUSH
27790: LD_INT 10
27792: ST_TO_ADDR
// def_initial_level := 3 ;
27793: LD_ADDR_EXP 13
27797: PUSH
27798: LD_INT 3
27800: ST_TO_ADDR
// def_starting_resources := 3 ;
27801: LD_ADDR_EXP 15
27805: PUSH
27806: LD_INT 3
27808: ST_TO_ADDR
// def_shipments_density := 1 ;
27809: LD_ADDR_EXP 16
27813: PUSH
27814: LD_INT 1
27816: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
27817: LD_ADDR_EXP 17
27821: PUSH
27822: LD_INT 0
27824: ST_TO_ADDR
// def_extra_sib_deposits := 1 ;
27825: LD_ADDR_EXP 18
27829: PUSH
27830: LD_INT 1
27832: ST_TO_ADDR
// def_shared_vision := 1 ;
27833: LD_ADDR_EXP 19
27837: PUSH
27838: LD_INT 1
27840: ST_TO_ADDR
// def_morale_flags := 0 ;
27841: LD_ADDR_EXP 20
27845: PUSH
27846: LD_INT 0
27848: ST_TO_ADDR
// def_siberite_detection := 1 ;
27849: LD_ADDR_EXP 28
27853: PUSH
27854: LD_INT 1
27856: ST_TO_ADDR
// def_people_respawning := 2 ;
27857: LD_ADDR_EXP 25
27861: PUSH
27862: LD_INT 2
27864: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
27865: LD_ADDR_EXP 22
27869: PUSH
27870: LD_INT 1
27872: ST_TO_ADDR
// def_siberite_bomb := 0 ;
27873: LD_ADDR_EXP 29
27877: PUSH
27878: LD_INT 0
27880: ST_TO_ADDR
// def_builduptime := 1 ;
27881: LD_ADDR_EXP 30
27885: PUSH
27886: LD_INT 1
27888: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
27889: LD_ADDR_EXP 12
27893: PUSH
27894: LD_INT 0
27896: ST_TO_ADDR
// def_amount_of_tiger := 1 ;
27897: LD_ADDR_EXP 23
27901: PUSH
27902: LD_INT 1
27904: ST_TO_ADDR
// def_respawining_type := 3 ;
27905: LD_ADDR_EXP 24
27909: PUSH
27910: LD_INT 3
27912: ST_TO_ADDR
// def_tech_level := 8 ;
27913: LD_ADDR_EXP 26
27917: PUSH
27918: LD_INT 8
27920: ST_TO_ADDR
// def_upgrade_tl := 0 ;
27921: LD_ADDR_EXP 27
27925: PUSH
27926: LD_INT 0
27928: ST_TO_ADDR
// def_desert_warior := 0 ;
27929: LD_ADDR_EXP 31
27933: PUSH
27934: LD_INT 0
27936: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth ] ;
27937: LD_ADDR_VAR 0 2
27941: PUSH
27942: LD_INT 23
27944: PUSH
27945: EMPTY
27946: LIST
27947: ST_TO_ADDR
// Unavailable_Builds := [ b_Workshop , b_Behemoth , b_Breastwork , b_Bunker , b_Turret ] ;
27948: LD_ADDR_VAR 0 3
27952: PUSH
27953: LD_INT 2
27955: PUSH
27956: LD_INT 37
27958: PUSH
27959: LD_INT 31
27961: PUSH
27962: LD_INT 32
27964: PUSH
27965: LD_INT 33
27967: PUSH
27968: EMPTY
27969: LIST
27970: LIST
27971: LIST
27972: LIST
27973: LIST
27974: ST_TO_ADDR
// Banned_Weapons := [ ] ;
27975: LD_ADDR_LOC 23
27979: PUSH
27980: EMPTY
27981: ST_TO_ADDR
// Banned_Chassis := [ ] ;
27982: LD_ADDR_LOC 24
27986: PUSH
27987: EMPTY
27988: ST_TO_ADDR
// Banned_Controls := [ ] ;
27989: LD_ADDR_LOC 25
27993: PUSH
27994: EMPTY
27995: ST_TO_ADDR
// Banned_Engines := [ ] ;
27996: LD_ADDR_LOC 26
28000: PUSH
28001: EMPTY
28002: ST_TO_ADDR
// Restricted_Builds := [ [ b_Armoury , b_barracks ] ] ;
28003: LD_ADDR_LOC 21
28007: PUSH
28008: LD_INT 4
28010: PUSH
28011: LD_INT 5
28013: PUSH
28014: EMPTY
28015: LIST
28016: LIST
28017: PUSH
28018: EMPTY
28019: LIST
28020: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
28021: LD_EXP 1
28025: PUSH
28026: LD_EXP 3
28030: PUSH
28031: LD_EXP 4
28035: ADD
28036: IN
28037: IFFALSE 28041
// else
28039: GO 28052
// Restricted_Builds_Amount := [ 1 ] ;
28041: LD_ADDR_LOC 22
28045: PUSH
28046: LD_INT 1
28048: PUSH
28049: EMPTY
28050: LIST
28051: ST_TO_ADDR
// end ; 7 :
28052: GO 28831
28054: LD_INT 7
28056: DOUBLE
28057: EQUAL
28058: IFTRUE 28062
28060: GO 28339
28062: POP
// begin def_base_level := 1 ;
28063: LD_ADDR_EXP 10
28067: PUSH
28068: LD_INT 1
28070: ST_TO_ADDR
// def_amount_of_people := 10 ;
28071: LD_ADDR_EXP 11
28075: PUSH
28076: LD_INT 10
28078: ST_TO_ADDR
// def_initial_level := 3 ;
28079: LD_ADDR_EXP 13
28083: PUSH
28084: LD_INT 3
28086: ST_TO_ADDR
// def_starting_resources := 3 ;
28087: LD_ADDR_EXP 15
28091: PUSH
28092: LD_INT 3
28094: ST_TO_ADDR
// def_shipments_density := 1 ;
28095: LD_ADDR_EXP 16
28099: PUSH
28100: LD_INT 1
28102: ST_TO_ADDR
// def_extra_oil_deposits := 1 ;
28103: LD_ADDR_EXP 17
28107: PUSH
28108: LD_INT 1
28110: ST_TO_ADDR
// def_extra_sib_deposits := 2 ;
28111: LD_ADDR_EXP 18
28115: PUSH
28116: LD_INT 2
28118: ST_TO_ADDR
// def_shared_vision := 1 ;
28119: LD_ADDR_EXP 19
28123: PUSH
28124: LD_INT 1
28126: ST_TO_ADDR
// def_morale_flags := 0 ;
28127: LD_ADDR_EXP 20
28131: PUSH
28132: LD_INT 0
28134: ST_TO_ADDR
// def_siberite_detection := 1 ;
28135: LD_ADDR_EXP 28
28139: PUSH
28140: LD_INT 1
28142: ST_TO_ADDR
// def_people_respawning := 0 ;
28143: LD_ADDR_EXP 25
28147: PUSH
28148: LD_INT 0
28150: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
28151: LD_ADDR_EXP 22
28155: PUSH
28156: LD_INT 1
28158: ST_TO_ADDR
// def_siberite_bomb := 0 ;
28159: LD_ADDR_EXP 29
28163: PUSH
28164: LD_INT 0
28166: ST_TO_ADDR
// def_builduptime := 3 ;
28167: LD_ADDR_EXP 30
28171: PUSH
28172: LD_INT 3
28174: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
28175: LD_ADDR_EXP 12
28179: PUSH
28180: LD_INT 0
28182: ST_TO_ADDR
// def_amount_of_tiger := 1 ;
28183: LD_ADDR_EXP 23
28187: PUSH
28188: LD_INT 1
28190: ST_TO_ADDR
// def_respawining_type := 3 ;
28191: LD_ADDR_EXP 24
28195: PUSH
28196: LD_INT 3
28198: ST_TO_ADDR
// def_tech_level := 8 ;
28199: LD_ADDR_EXP 26
28203: PUSH
28204: LD_INT 8
28206: ST_TO_ADDR
// def_upgrade_tl := 0 ;
28207: LD_ADDR_EXP 27
28211: PUSH
28212: LD_INT 0
28214: ST_TO_ADDR
// def_desert_warior := 0 ;
28215: LD_ADDR_EXP 31
28219: PUSH
28220: LD_INT 0
28222: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth ] ;
28223: LD_ADDR_VAR 0 2
28227: PUSH
28228: LD_INT 23
28230: PUSH
28231: EMPTY
28232: LIST
28233: ST_TO_ADDR
// Unavailable_Builds := [ b_Behemoth ] ;
28234: LD_ADDR_VAR 0 3
28238: PUSH
28239: LD_INT 37
28241: PUSH
28242: EMPTY
28243: LIST
28244: ST_TO_ADDR
// Banned_Weapons := [ ] ;
28245: LD_ADDR_LOC 23
28249: PUSH
28250: EMPTY
28251: ST_TO_ADDR
// Banned_Chassis := [ ] ;
28252: LD_ADDR_LOC 24
28256: PUSH
28257: EMPTY
28258: ST_TO_ADDR
// Banned_Controls := [ ] ;
28259: LD_ADDR_LOC 25
28263: PUSH
28264: EMPTY
28265: ST_TO_ADDR
// Banned_Engines := [ ] ;
28266: LD_ADDR_LOC 26
28270: PUSH
28271: EMPTY
28272: ST_TO_ADDR
// Restricted_Builds := [ [ b_Breastwork , b_Bunker , b_Turret ] ] ;
28273: LD_ADDR_LOC 21
28277: PUSH
28278: LD_INT 31
28280: PUSH
28281: LD_INT 32
28283: PUSH
28284: LD_INT 33
28286: PUSH
28287: EMPTY
28288: LIST
28289: LIST
28290: LIST
28291: PUSH
28292: EMPTY
28293: LIST
28294: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
28295: LD_EXP 1
28299: PUSH
28300: LD_EXP 3
28304: PUSH
28305: LD_EXP 4
28309: ADD
28310: IN
28311: IFFALSE 28326
// Restricted_Builds_Amount := [ 20 ] else
28313: LD_ADDR_LOC 22
28317: PUSH
28318: LD_INT 20
28320: PUSH
28321: EMPTY
28322: LIST
28323: ST_TO_ADDR
28324: GO 28337
// Restricted_Builds_Amount := [ 10 ] ;
28326: LD_ADDR_LOC 22
28330: PUSH
28331: LD_INT 10
28333: PUSH
28334: EMPTY
28335: LIST
28336: ST_TO_ADDR
// end ; 8 :
28337: GO 28831
28339: LD_INT 8
28341: DOUBLE
28342: EQUAL
28343: IFTRUE 28347
28345: GO 28830
28347: POP
// begin def_base_level := 0 ;
28348: LD_ADDR_EXP 10
28352: PUSH
28353: LD_INT 0
28355: ST_TO_ADDR
// def_amount_of_people := Rand ( 4 , 8 ) ;
28356: LD_ADDR_EXP 11
28360: PUSH
28361: LD_INT 4
28363: PPUSH
28364: LD_INT 8
28366: PPUSH
28367: CALL_OW 12
28371: ST_TO_ADDR
// def_initial_level := 0 ;
28372: LD_ADDR_EXP 13
28376: PUSH
28377: LD_INT 0
28379: ST_TO_ADDR
// def_starting_resources := 2 ;
28380: LD_ADDR_EXP 15
28384: PUSH
28385: LD_INT 2
28387: ST_TO_ADDR
// def_shipments_density := 1 ;
28388: LD_ADDR_EXP 16
28392: PUSH
28393: LD_INT 1
28395: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
28396: LD_ADDR_EXP 17
28400: PUSH
28401: LD_INT 0
28403: ST_TO_ADDR
// def_extra_sib_deposits := 0 ;
28404: LD_ADDR_EXP 18
28408: PUSH
28409: LD_INT 0
28411: ST_TO_ADDR
// def_shared_vision := 1 ;
28412: LD_ADDR_EXP 19
28416: PUSH
28417: LD_INT 1
28419: ST_TO_ADDR
// def_morale_flags := Rand ( 0 , 2 ) ;
28420: LD_ADDR_EXP 20
28424: PUSH
28425: LD_INT 0
28427: PPUSH
28428: LD_INT 2
28430: PPUSH
28431: CALL_OW 12
28435: ST_TO_ADDR
// def_siberite_detection := 0 ;
28436: LD_ADDR_EXP 28
28440: PUSH
28441: LD_INT 0
28443: ST_TO_ADDR
// def_people_respawning := 0 ;
28444: LD_ADDR_EXP 25
28448: PUSH
28449: LD_INT 0
28451: ST_TO_ADDR
// def_amount_of_apemen := 2 ;
28452: LD_ADDR_EXP 22
28456: PUSH
28457: LD_INT 2
28459: ST_TO_ADDR
// def_siberite_bomb := 0 ;
28460: LD_ADDR_EXP 29
28464: PUSH
28465: LD_INT 0
28467: ST_TO_ADDR
// def_builduptime := 0 ;
28468: LD_ADDR_EXP 30
28472: PUSH
28473: LD_INT 0
28475: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
28476: LD_ADDR_EXP 12
28480: PUSH
28481: LD_INT 0
28483: ST_TO_ADDR
// def_amount_of_tiger := 2 ;
28484: LD_ADDR_EXP 23
28488: PUSH
28489: LD_INT 2
28491: ST_TO_ADDR
// def_respawining_type := 3 ;
28492: LD_ADDR_EXP 24
28496: PUSH
28497: LD_INT 3
28499: ST_TO_ADDR
// def_tech_level := 8 ;
28500: LD_ADDR_EXP 26
28504: PUSH
28505: LD_INT 8
28507: ST_TO_ADDR
// def_upgrade_tl := 0 ;
28508: LD_ADDR_EXP 27
28512: PUSH
28513: LD_INT 0
28515: ST_TO_ADDR
// def_desert_warior := 0 ;
28516: LD_ADDR_EXP 31
28520: PUSH
28521: LD_INT 0
28523: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth , tech_SibDet , tech_Rocket , tech_OilEng , tech_OilPow , tech_Gun , tech_AdvRocket , tech_AdvMet , tech_Mortar , tech_Bazooka , tech_HidCam , tech_PartInvis ] ;
28524: LD_ADDR_VAR 0 2
28528: PUSH
28529: LD_INT 23
28531: PUSH
28532: LD_INT 20
28534: PUSH
28535: LD_INT 40
28537: PUSH
28538: LD_INT 47
28540: PUSH
28541: LD_INT 46
28543: PUSH
28544: LD_INT 39
28546: PUSH
28547: LD_INT 71
28549: PUSH
28550: LD_INT 34
28552: PUSH
28553: LD_INT 41
28555: PUSH
28556: LD_INT 44
28558: PUSH
28559: LD_INT 17
28561: PUSH
28562: LD_INT 16
28564: PUSH
28565: EMPTY
28566: LIST
28567: LIST
28568: LIST
28569: LIST
28570: LIST
28571: LIST
28572: LIST
28573: LIST
28574: LIST
28575: LIST
28576: LIST
28577: LIST
28578: ST_TO_ADDR
// Unavailable_Builds := [ b_Behemoth , b_Barracks , b_Lab_Biological , b_Teleport , b_Lab_Computer , b_Lab_Opto , b_Lab_Siberium , b_Lab_Spacetime , b_Oil_Mine , b_Siberite_Mine , b_Siberite_Power , b_Ext_Computer , b_Ext_Laser , b_Ext_Radar , b_Ext_Siberium , b_Ext_Radio , b_Control_Tower ] ;
28579: LD_ADDR_VAR 0 3
28583: PUSH
28584: LD_INT 37
28586: PUSH
28587: LD_INT 5
28589: PUSH
28590: LD_INT 13
28592: PUSH
28593: LD_INT 34
28595: PUSH
28596: LD_INT 12
28598: PUSH
28599: LD_INT 15
28601: PUSH
28602: LD_INT 11
28604: PUSH
28605: LD_INT 14
28607: PUSH
28608: LD_INT 29
28610: PUSH
28611: LD_INT 30
28613: PUSH
28614: LD_INT 28
28616: PUSH
28617: LD_INT 24
28619: PUSH
28620: LD_INT 25
28622: PUSH
28623: LD_INT 20
28625: PUSH
28626: LD_INT 21
28628: PUSH
28629: LD_INT 22
28631: PUSH
28632: LD_INT 36
28634: PUSH
28635: EMPTY
28636: LIST
28637: LIST
28638: LIST
28639: LIST
28640: LIST
28641: LIST
28642: LIST
28643: LIST
28644: LIST
28645: LIST
28646: LIST
28647: LIST
28648: LIST
28649: LIST
28650: LIST
28651: LIST
28652: LIST
28653: ST_TO_ADDR
// Banned_Weapons := [ ] ;
28654: LD_ADDR_LOC 23
28658: PUSH
28659: EMPTY
28660: ST_TO_ADDR
// Banned_Chassis := [ ar_half_tracked ] ;
28661: LD_ADDR_LOC 24
28665: PUSH
28666: LD_INT 14
28668: PUSH
28669: EMPTY
28670: LIST
28671: ST_TO_ADDR
// Banned_Controls := [ ] ;
28672: LD_ADDR_LOC 25
28676: PUSH
28677: EMPTY
28678: ST_TO_ADDR
// Banned_Engines := [ ] ;
28679: LD_ADDR_LOC 26
28683: PUSH
28684: EMPTY
28685: ST_TO_ADDR
// Restricted_Builds := [ [ b_Breastwork , b_Bunker ] , [ b_Armoury ] ] ;
28686: LD_ADDR_LOC 21
28690: PUSH
28691: LD_INT 31
28693: PUSH
28694: LD_INT 32
28696: PUSH
28697: EMPTY
28698: LIST
28699: LIST
28700: PUSH
28701: LD_INT 4
28703: PUSH
28704: EMPTY
28705: LIST
28706: PUSH
28707: EMPTY
28708: LIST
28709: LIST
28710: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
28711: LD_EXP 1
28715: PUSH
28716: LD_EXP 3
28720: PUSH
28721: LD_EXP 4
28725: ADD
28726: IN
28727: IFFALSE 28746
// Restricted_Builds_Amount := [ 4 , 2 ] else
28729: LD_ADDR_LOC 22
28733: PUSH
28734: LD_INT 4
28736: PUSH
28737: LD_INT 2
28739: PUSH
28740: EMPTY
28741: LIST
28742: LIST
28743: ST_TO_ADDR
28744: GO 28761
// Restricted_Builds_Amount := [ 2 , 1 ] ;
28746: LD_ADDR_LOC 22
28750: PUSH
28751: LD_INT 2
28753: PUSH
28754: LD_INT 1
28756: PUSH
28757: EMPTY
28758: LIST
28759: LIST
28760: ST_TO_ADDR
// for i := 1 to 8 do
28761: LD_ADDR_VAR 0 4
28765: PUSH
28766: DOUBLE
28767: LD_INT 1
28769: DEC
28770: ST_TO_ADDR
28771: LD_INT 8
28773: PUSH
28774: FOR_TO
28775: IFFALSE 28826
// if ( Side_Nations [ i ] = 3 ) then
28777: LD_EXP 76
28781: PUSH
28782: LD_VAR 0 4
28786: ARRAY
28787: PUSH
28788: LD_INT 3
28790: EQUAL
28791: IFFALSE 28824
// Side_Nations := Replace ( Side_Nations , i , Rand ( 1 , 2 ) ) ;
28793: LD_ADDR_EXP 76
28797: PUSH
28798: LD_EXP 76
28802: PPUSH
28803: LD_VAR 0 4
28807: PPUSH
28808: LD_INT 1
28810: PPUSH
28811: LD_INT 2
28813: PPUSH
28814: CALL_OW 12
28818: PPUSH
28819: CALL_OW 1
28823: ST_TO_ADDR
28824: GO 28774
28826: POP
28827: POP
// end ; end ;
28828: GO 28831
28830: POP
// for i := 1 to 8 do
28831: LD_ADDR_VAR 0 4
28835: PUSH
28836: DOUBLE
28837: LD_INT 1
28839: DEC
28840: ST_TO_ADDR
28841: LD_INT 8
28843: PUSH
28844: FOR_TO
28845: IFFALSE 28929
// if Side_Positions [ i ] then
28847: LD_EXP 75
28851: PUSH
28852: LD_VAR 0 4
28856: ARRAY
28857: IFFALSE 28927
// begin for j in Unavailable_Techs do
28859: LD_ADDR_VAR 0 5
28863: PUSH
28864: LD_VAR 0 2
28868: PUSH
28869: FOR_IN
28870: IFFALSE 28891
// SetTech ( j , i , 0 ) ;
28872: LD_VAR 0 5
28876: PPUSH
28877: LD_VAR 0 4
28881: PPUSH
28882: LD_INT 0
28884: PPUSH
28885: CALL_OW 322
28889: GO 28869
28891: POP
28892: POP
// for j in Unavailable_Builds do
28893: LD_ADDR_VAR 0 5
28897: PUSH
28898: LD_VAR 0 3
28902: PUSH
28903: FOR_IN
28904: IFFALSE 28925
// SetRestrict ( j , i , 0 ) ;
28906: LD_VAR 0 5
28910: PPUSH
28911: LD_VAR 0 4
28915: PPUSH
28916: LD_INT 0
28918: PPUSH
28919: CALL_OW 324
28923: GO 28903
28925: POP
28926: POP
// end ;
28927: GO 28844
28929: POP
28930: POP
// end ;
28931: LD_VAR 0 1
28935: RET
// export function InitLimits ; var i , j , k , amount , btype , list ; begin
28936: LD_INT 0
28938: PPUSH
28939: PPUSH
28940: PPUSH
28941: PPUSH
28942: PPUSH
28943: PPUSH
28944: PPUSH
// for i := 1 to Restricted_Builds do
28945: LD_ADDR_VAR 0 2
28949: PUSH
28950: DOUBLE
28951: LD_INT 1
28953: DEC
28954: ST_TO_ADDR
28955: LD_LOC 21
28959: PUSH
28960: FOR_TO
28961: IFFALSE 29271
// begin case Restricted_Builds [ i ] [ 1 ] of b_Breastwork , b_Bunker , b_Turret :
28963: LD_LOC 21
28967: PUSH
28968: LD_VAR 0 2
28972: ARRAY
28973: PUSH
28974: LD_INT 1
28976: ARRAY
28977: PUSH
28978: LD_INT 31
28980: DOUBLE
28981: EQUAL
28982: IFTRUE 28998
28984: LD_INT 32
28986: DOUBLE
28987: EQUAL
28988: IFTRUE 28998
28990: LD_INT 33
28992: DOUBLE
28993: EQUAL
28994: IFTRUE 28998
28996: GO 29009
28998: POP
// btype := #Turrets ; b_Armoury , b_Barracks :
28999: LD_ADDR_VAR 0 6
29003: PUSH
29004: LD_STRING #Turrets
29006: ST_TO_ADDR
29007: GO 29054
29009: LD_INT 4
29011: DOUBLE
29012: EQUAL
29013: IFTRUE 29023
29015: LD_INT 5
29017: DOUBLE
29018: EQUAL
29019: IFTRUE 29023
29021: GO 29034
29023: POP
// btype := #Armouries ; b_Behemoth :
29024: LD_ADDR_VAR 0 6
29028: PUSH
29029: LD_STRING #Armouries
29031: ST_TO_ADDR
29032: GO 29054
29034: LD_INT 37
29036: DOUBLE
29037: EQUAL
29038: IFTRUE 29042
29040: GO 29053
29042: POP
// btype := #Behemoths ; end ;
29043: LD_ADDR_VAR 0 6
29047: PUSH
29048: LD_STRING #Behemoths
29050: ST_TO_ADDR
29051: GO 29054
29053: POP
// list := [ ] ;
29054: LD_ADDR_VAR 0 7
29058: PUSH
29059: EMPTY
29060: ST_TO_ADDR
// for j := 1 to 8 do
29061: LD_ADDR_VAR 0 3
29065: PUSH
29066: DOUBLE
29067: LD_INT 1
29069: DEC
29070: ST_TO_ADDR
29071: LD_INT 8
29073: PUSH
29074: FOR_TO
29075: IFFALSE 29168
// if Side_Positions [ j ] then
29077: LD_EXP 75
29081: PUSH
29082: LD_VAR 0 3
29086: ARRAY
29087: IFFALSE 29166
// begin amount := 0 ;
29089: LD_ADDR_VAR 0 5
29093: PUSH
29094: LD_INT 0
29096: ST_TO_ADDR
// for k in Restricted_Builds [ i ] do
29097: LD_ADDR_VAR 0 4
29101: PUSH
29102: LD_LOC 21
29106: PUSH
29107: LD_VAR 0 2
29111: ARRAY
29112: PUSH
29113: FOR_IN
29114: IFFALSE 29162
// amount := amount + FilterAllUnits ( [ [ f_side , j ] , [ f_btype , k ] ] ) ;
29116: LD_ADDR_VAR 0 5
29120: PUSH
29121: LD_VAR 0 5
29125: PUSH
29126: LD_INT 22
29128: PUSH
29129: LD_VAR 0 3
29133: PUSH
29134: EMPTY
29135: LIST
29136: LIST
29137: PUSH
29138: LD_INT 30
29140: PUSH
29141: LD_VAR 0 4
29145: PUSH
29146: EMPTY
29147: LIST
29148: LIST
29149: PUSH
29150: EMPTY
29151: LIST
29152: LIST
29153: PPUSH
29154: CALL_OW 69
29158: PLUS
29159: ST_TO_ADDR
29160: GO 29113
29162: POP
29163: POP
// continue ;
29164: GO 29074
// end ;
29166: GO 29074
29168: POP
29169: POP
// list := [ ] ;
29170: LD_ADDR_VAR 0 7
29174: PUSH
29175: EMPTY
29176: ST_TO_ADDR
// for j := 1 to 8 do
29177: LD_ADDR_VAR 0 3
29181: PUSH
29182: DOUBLE
29183: LD_INT 1
29185: DEC
29186: ST_TO_ADDR
29187: LD_INT 8
29189: PUSH
29190: FOR_TO
29191: IFFALSE 29211
// list := list ^ amount ;
29193: LD_ADDR_VAR 0 7
29197: PUSH
29198: LD_VAR 0 7
29202: PUSH
29203: LD_VAR 0 5
29207: ADD
29208: ST_TO_ADDR
29209: GO 29190
29211: POP
29212: POP
// Already_Built := Already_Built ^ [ list ] ;
29213: LD_ADDR_LOC 27
29217: PUSH
29218: LD_LOC 27
29222: PUSH
29223: LD_VAR 0 7
29227: PUSH
29228: EMPTY
29229: LIST
29230: ADD
29231: ST_TO_ADDR
// Limits_Info := Limits_Info ^ [ btype , amount , Restricted_Builds_Amount [ i ] ] ;
29232: LD_ADDR_LOC 28
29236: PUSH
29237: LD_LOC 28
29241: PUSH
29242: LD_VAR 0 6
29246: PUSH
29247: LD_VAR 0 5
29251: PUSH
29252: LD_LOC 22
29256: PUSH
29257: LD_VAR 0 2
29261: ARRAY
29262: PUSH
29263: EMPTY
29264: LIST
29265: LIST
29266: LIST
29267: ADD
29268: ST_TO_ADDR
// end ;
29269: GO 28960
29271: POP
29272: POP
// Cheaters := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
29273: LD_ADDR_LOC 29
29277: PUSH
29278: LD_INT 0
29280: PUSH
29281: LD_INT 0
29283: PUSH
29284: LD_INT 0
29286: PUSH
29287: LD_INT 0
29289: PUSH
29290: LD_INT 0
29292: PUSH
29293: LD_INT 0
29295: PUSH
29296: LD_INT 0
29298: PUSH
29299: LD_INT 0
29301: PUSH
29302: EMPTY
29303: LIST
29304: LIST
29305: LIST
29306: LIST
29307: LIST
29308: LIST
29309: LIST
29310: LIST
29311: ST_TO_ADDR
// if Limits_Info then
29312: LD_LOC 28
29316: IFFALSE 29332
// Limits_Info := #Limits ^ Limits_Info ;
29318: LD_ADDR_LOC 28
29322: PUSH
29323: LD_STRING #Limits
29325: PUSH
29326: LD_LOC 28
29330: ADD
29331: ST_TO_ADDR
// end ;
29332: LD_VAR 0 1
29336: RET
// export function ExecuteLimits ( un , BType , side , old_side , count ) ; var i , j , Is_Cheater ; begin
29337: LD_INT 0
29339: PPUSH
29340: PPUSH
29341: PPUSH
29342: PPUSH
// for i := 1 to Restricted_Builds do
29343: LD_ADDR_VAR 0 7
29347: PUSH
29348: DOUBLE
29349: LD_INT 1
29351: DEC
29352: ST_TO_ADDR
29353: LD_LOC 21
29357: PUSH
29358: FOR_TO
29359: IFFALSE 29782
// if BType in Restricted_Builds [ i ] then
29361: LD_VAR 0 2
29365: PUSH
29366: LD_LOC 21
29370: PUSH
29371: LD_VAR 0 7
29375: ARRAY
29376: IN
29377: IFFALSE 29780
// begin if old_side then
29379: LD_VAR 0 4
29383: IFFALSE 29509
// if Already_Built [ i ] [ side ] + count > Restricted_Builds_Amount [ i ] then
29385: LD_LOC 27
29389: PUSH
29390: LD_VAR 0 7
29394: ARRAY
29395: PUSH
29396: LD_VAR 0 3
29400: ARRAY
29401: PUSH
29402: LD_VAR 0 5
29406: PLUS
29407: PUSH
29408: LD_LOC 22
29412: PUSH
29413: LD_VAR 0 7
29417: ARRAY
29418: GREATER
29419: IFFALSE 29445
// begin SetSide ( un , old_side ) ;
29421: LD_VAR 0 1
29425: PPUSH
29426: LD_VAR 0 4
29430: PPUSH
29431: CALL_OW 235
// count := 0 ;
29435: LD_ADDR_VAR 0 5
29439: PUSH
29440: LD_INT 0
29442: ST_TO_ADDR
// end else
29443: GO 29509
// Already_Built := Replace ( Already_Built , i , Replace ( Already_Built [ i ] , old_side , Already_Built [ i ] [ old_side ] - count ) ) ;
29445: LD_ADDR_LOC 27
29449: PUSH
29450: LD_LOC 27
29454: PPUSH
29455: LD_VAR 0 7
29459: PPUSH
29460: LD_LOC 27
29464: PUSH
29465: LD_VAR 0 7
29469: ARRAY
29470: PPUSH
29471: LD_VAR 0 4
29475: PPUSH
29476: LD_LOC 27
29480: PUSH
29481: LD_VAR 0 7
29485: ARRAY
29486: PUSH
29487: LD_VAR 0 4
29491: ARRAY
29492: PUSH
29493: LD_VAR 0 5
29497: MINUS
29498: PPUSH
29499: CALL_OW 1
29503: PPUSH
29504: CALL_OW 1
29508: ST_TO_ADDR
// Already_Built := Replace ( Already_Built , i , Replace ( Already_Built [ i ] , side , Already_Built [ i ] [ side ] + count ) ) ;
29509: LD_ADDR_LOC 27
29513: PUSH
29514: LD_LOC 27
29518: PPUSH
29519: LD_VAR 0 7
29523: PPUSH
29524: LD_LOC 27
29528: PUSH
29529: LD_VAR 0 7
29533: ARRAY
29534: PPUSH
29535: LD_VAR 0 3
29539: PPUSH
29540: LD_LOC 27
29544: PUSH
29545: LD_VAR 0 7
29549: ARRAY
29550: PUSH
29551: LD_VAR 0 3
29555: ARRAY
29556: PUSH
29557: LD_VAR 0 5
29561: PLUS
29562: PPUSH
29563: CALL_OW 1
29567: PPUSH
29568: CALL_OW 1
29572: ST_TO_ADDR
// if count <> 0 and ( side = your_side ) then
29573: LD_VAR 0 5
29577: PUSH
29578: LD_INT 0
29580: NONEQUAL
29581: PUSH
29582: LD_VAR 0 3
29586: PUSH
29587: LD_OWVAR 2
29591: EQUAL
29592: AND
29593: IFFALSE 29636
// Limits_Info := Replace ( Limits_Info , 3 * i , Already_Built [ i ] [ side ] ) ;
29595: LD_ADDR_LOC 28
29599: PUSH
29600: LD_LOC 28
29604: PPUSH
29605: LD_INT 3
29607: PUSH
29608: LD_VAR 0 7
29612: MUL
29613: PPUSH
29614: LD_LOC 27
29618: PUSH
29619: LD_VAR 0 7
29623: ARRAY
29624: PUSH
29625: LD_VAR 0 3
29629: ARRAY
29630: PPUSH
29631: CALL_OW 1
29635: ST_TO_ADDR
// if Already_Built [ i ] [ side ] > Restricted_Builds_Amount [ i ] then
29636: LD_LOC 27
29640: PUSH
29641: LD_VAR 0 7
29645: ARRAY
29646: PUSH
29647: LD_VAR 0 3
29651: ARRAY
29652: PUSH
29653: LD_LOC 22
29657: PUSH
29658: LD_VAR 0 7
29662: ARRAY
29663: GREATER
29664: IFFALSE 29691
// begin Cheaters := Replace ( Cheaters , side , 1 ) ;
29666: LD_ADDR_LOC 29
29670: PUSH
29671: LD_LOC 29
29675: PPUSH
29676: LD_VAR 0 3
29680: PPUSH
29681: LD_INT 1
29683: PPUSH
29684: CALL_OW 1
29688: ST_TO_ADDR
// end else
29689: GO 29778
// begin for j := 1 to Restricted_Builds do
29691: LD_ADDR_VAR 0 8
29695: PUSH
29696: DOUBLE
29697: LD_INT 1
29699: DEC
29700: ST_TO_ADDR
29701: LD_LOC 21
29705: PUSH
29706: FOR_TO
29707: IFFALSE 29751
// if Already_Built [ j ] [ side ] > Restricted_Builds_Amount [ j ] then
29709: LD_LOC 27
29713: PUSH
29714: LD_VAR 0 8
29718: ARRAY
29719: PUSH
29720: LD_VAR 0 3
29724: ARRAY
29725: PUSH
29726: LD_LOC 22
29730: PUSH
29731: LD_VAR 0 8
29735: ARRAY
29736: GREATER
29737: IFFALSE 29749
// begin Is_Cheater := true ;
29739: LD_ADDR_VAR 0 9
29743: PUSH
29744: LD_INT 1
29746: ST_TO_ADDR
// break ;
29747: GO 29751
// end ;
29749: GO 29706
29751: POP
29752: POP
// Cheaters := Replace ( Cheaters , side , Is_Cheater ) ;
29753: LD_ADDR_LOC 29
29757: PUSH
29758: LD_LOC 29
29762: PPUSH
29763: LD_VAR 0 3
29767: PPUSH
29768: LD_VAR 0 9
29772: PPUSH
29773: CALL_OW 1
29777: ST_TO_ADDR
// end ; break ;
29778: GO 29782
// end ;
29780: GO 29358
29782: POP
29783: POP
// end ;
29784: LD_VAR 0 6
29788: RET
// export function RestrictVehicleConstructionStarted ( factory , chassis , engine , control , weapon ) ; begin
29789: LD_INT 0
29791: PPUSH
// if ( weapon in Banned_Weapons ) or ( chassis in Banned_Chassis ) or ( control in Banned_Controls ) or ( engine in Banned_Engines ) then
29792: LD_VAR 0 5
29796: PUSH
29797: LD_LOC 23
29801: IN
29802: PUSH
29803: LD_VAR 0 2
29807: PUSH
29808: LD_LOC 24
29812: IN
29813: OR
29814: PUSH
29815: LD_VAR 0 4
29819: PUSH
29820: LD_LOC 25
29824: IN
29825: OR
29826: PUSH
29827: LD_VAR 0 3
29831: PUSH
29832: LD_LOC 26
29836: IN
29837: OR
29838: IFFALSE 29849
// ComCancel ( factory ) ;
29840: LD_VAR 0 1
29844: PPUSH
29845: CALL_OW 127
// end ;
29849: LD_VAR 0 6
29853: RET
// export function RestrictWeaponPlaced ( building , weapon ) ; begin
29854: LD_INT 0
29856: PPUSH
// if ( weapon in Banned_Weapons ) then
29857: LD_VAR 0 2
29861: PUSH
29862: LD_LOC 23
29866: IN
29867: IFFALSE 29878
// ComCancel ( building ) ;
29869: LD_VAR 0 1
29873: PPUSH
29874: CALL_OW 127
// end ;
29878: LD_VAR 0 3
29882: RET
// export function RestrictBuildingStarted ( building , builder ) ; var i , BType , b , side , count , k ; begin
29883: LD_INT 0
29885: PPUSH
29886: PPUSH
29887: PPUSH
29888: PPUSH
29889: PPUSH
29890: PPUSH
29891: PPUSH
// count = 0 ;
29892: LD_ADDR_VAR 0 8
29896: PUSH
29897: LD_INT 0
29899: ST_TO_ADDR
// BType = GetBType ( Building ) ;
29900: LD_ADDR_VAR 0 5
29904: PUSH
29905: LD_VAR 0 1
29909: PPUSH
29910: CALL_OW 266
29914: ST_TO_ADDR
// side = GetSide ( Building ) ;
29915: LD_ADDR_VAR 0 7
29919: PUSH
29920: LD_VAR 0 1
29924: PPUSH
29925: CALL_OW 255
29929: ST_TO_ADDR
// for i := 1 to Restricted_Builds do
29930: LD_ADDR_VAR 0 4
29934: PUSH
29935: DOUBLE
29936: LD_INT 1
29938: DEC
29939: ST_TO_ADDR
29940: LD_LOC 21
29944: PUSH
29945: FOR_TO
29946: IFFALSE 30089
// begin if BType in Restricted_Builds [ i ] then
29948: LD_VAR 0 5
29952: PUSH
29953: LD_LOC 21
29957: PUSH
29958: LD_VAR 0 4
29962: ARRAY
29963: IN
29964: IFFALSE 30056
// for k in Restricted_Builds [ i ] do
29966: LD_ADDR_VAR 0 9
29970: PUSH
29971: LD_LOC 21
29975: PUSH
29976: LD_VAR 0 4
29980: ARRAY
29981: PUSH
29982: FOR_IN
29983: IFFALSE 30054
// begin b = FilterAllunits ( [ [ f_side , side ] , [ f_type , building ] , [ f_btype , k ] ] ) ;
29985: LD_ADDR_VAR 0 6
29989: PUSH
29990: LD_INT 22
29992: PUSH
29993: LD_VAR 0 7
29997: PUSH
29998: EMPTY
29999: LIST
30000: LIST
30001: PUSH
30002: LD_INT 21
30004: PUSH
30005: LD_VAR 0 1
30009: PUSH
30010: EMPTY
30011: LIST
30012: LIST
30013: PUSH
30014: LD_INT 30
30016: PUSH
30017: LD_VAR 0 9
30021: PUSH
30022: EMPTY
30023: LIST
30024: LIST
30025: PUSH
30026: EMPTY
30027: LIST
30028: LIST
30029: LIST
30030: PPUSH
30031: CALL_OW 69
30035: ST_TO_ADDR
// count = count + b ;
30036: LD_ADDR_VAR 0 8
30040: PUSH
30041: LD_VAR 0 8
30045: PUSH
30046: LD_VAR 0 6
30050: PLUS
30051: ST_TO_ADDR
// end ;
30052: GO 29982
30054: POP
30055: POP
// if count + 0 > Restricted_Builds_Amount [ i ] then
30056: LD_VAR 0 8
30060: PUSH
30061: LD_INT 0
30063: PLUS
30064: PUSH
30065: LD_LOC 22
30069: PUSH
30070: LD_VAR 0 4
30074: ARRAY
30075: GREATER
30076: IFFALSE 30087
// DestroyUnit ( building ) ;
30078: LD_VAR 0 1
30082: PPUSH
30083: CALL_OW 65
// end ;
30087: GO 29945
30089: POP
30090: POP
// end ;
30091: LD_VAR 0 3
30095: RET
// export function CallExecuteLimits ( j ) ; begin
30096: LD_INT 0
30098: PPUSH
// if ( GetType ( j ) = 3 ) then
30099: LD_VAR 0 1
30103: PPUSH
30104: CALL_OW 247
30108: PUSH
30109: LD_INT 3
30111: EQUAL
30112: IFFALSE 30152
// ExecuteLimits ( j , GetBType ( j ) , GetSide ( j ) , 0 , - 1 ) else
30114: LD_VAR 0 1
30118: PPUSH
30119: LD_VAR 0 1
30123: PPUSH
30124: CALL_OW 266
30128: PPUSH
30129: LD_VAR 0 1
30133: PPUSH
30134: CALL_OW 255
30138: PPUSH
30139: LD_INT 0
30141: PPUSH
30142: LD_INT 1
30144: NEG
30145: PPUSH
30146: CALL 29337 0 5
30150: GO 30196
// if ( GetChassis ( j ) = 25 ) then
30152: LD_VAR 0 1
30156: PPUSH
30157: CALL_OW 265
30161: PUSH
30162: LD_INT 25
30164: EQUAL
30165: IFFALSE 30196
// ExecuteLimits ( j , b_behemoth , GetSide ( j ) , 0 , - 1 ) ;
30167: LD_VAR 0 1
30171: PPUSH
30172: LD_INT 37
30174: PPUSH
30175: LD_VAR 0 1
30179: PPUSH
30180: CALL_OW 255
30184: PPUSH
30185: LD_INT 0
30187: PPUSH
30188: LD_INT 1
30190: NEG
30191: PPUSH
30192: CALL 29337 0 5
// end ; end_of_file
30196: LD_VAR 0 2
30200: RET
// var FLAGY ; export FLAGY_AREA ; export FLAGY_XY ; export FLAGY_AREA1 ; var teams_p ; var WFT_Goal ; export WFT_Points_MP ; var WFT_FlagOnTop ; var WFT_FlagHeight ; export function Init_WarForTerritory ; var flag , i , p ; begin
30201: LD_INT 0
30203: PPUSH
30204: PPUSH
30205: PPUSH
30206: PPUSH
// if not def_WarForTerritory then
30207: LD_EXP 36
30211: NOT
30212: IFFALSE 30216
// exit ;
30214: GO 30556
// FLAGY = [ ] ;
30216: LD_ADDR_LOC 30
30220: PUSH
30221: EMPTY
30222: ST_TO_ADDR
// WFT_FlagOnTop = [ ] ;
30223: LD_ADDR_LOC 33
30227: PUSH
30228: EMPTY
30229: ST_TO_ADDR
// WFT_FlagHeight = [ ] ;
30230: LD_ADDR_LOC 34
30234: PUSH
30235: EMPTY
30236: ST_TO_ADDR
// teams_p = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
30237: LD_ADDR_LOC 31
30241: PUSH
30242: LD_INT 0
30244: PUSH
30245: LD_INT 0
30247: PUSH
30248: LD_INT 0
30250: PUSH
30251: LD_INT 0
30253: PUSH
30254: LD_INT 0
30256: PUSH
30257: LD_INT 0
30259: PUSH
30260: LD_INT 0
30262: PUSH
30263: LD_INT 0
30265: PUSH
30266: EMPTY
30267: LIST
30268: LIST
30269: LIST
30270: LIST
30271: LIST
30272: LIST
30273: LIST
30274: LIST
30275: ST_TO_ADDR
// for i = 1 to FLAGY_AREA do
30276: LD_ADDR_VAR 0 3
30280: PUSH
30281: DOUBLE
30282: LD_INT 1
30284: DEC
30285: ST_TO_ADDR
30286: LD_EXP 118
30290: PUSH
30291: FOR_TO
30292: IFFALSE 30385
// begin flag = SetBattleFlag ( 0 , FLAGY_XY [ i ] [ 1 ] , FLAGY_XY [ i ] [ 2 ] , [ ] ) ;
30294: LD_ADDR_VAR 0 2
30298: PUSH
30299: LD_INT 0
30301: PPUSH
30302: LD_EXP 119
30306: PUSH
30307: LD_VAR 0 3
30311: ARRAY
30312: PUSH
30313: LD_INT 1
30315: ARRAY
30316: PPUSH
30317: LD_EXP 119
30321: PUSH
30322: LD_VAR 0 3
30326: ARRAY
30327: PUSH
30328: LD_INT 2
30330: ARRAY
30331: PPUSH
30332: EMPTY
30333: PPUSH
30334: CALL_OW 418
30338: ST_TO_ADDR
// FLAGY = FLAGY ^ flag ;
30339: LD_ADDR_LOC 30
30343: PUSH
30344: LD_LOC 30
30348: PUSH
30349: LD_VAR 0 2
30353: ADD
30354: ST_TO_ADDR
// WFT_FlagOnTop = WFT_FlagOnTop ^ true ;
30355: LD_ADDR_LOC 33
30359: PUSH
30360: LD_LOC 33
30364: PUSH
30365: LD_INT 1
30367: ADD
30368: ST_TO_ADDR
// WFT_FlagHeight = WFT_FlagHeight ^ 100 ;
30369: LD_ADDR_LOC 34
30373: PUSH
30374: LD_LOC 34
30378: PUSH
30379: LD_INT 100
30381: ADD
30382: ST_TO_ADDR
// end ;
30383: GO 30291
30385: POP
30386: POP
// if WarForTerritory_Flags then
30387: LD_EXP 65
30391: IFFALSE 30405
// WFT_Goal = WarForTerritory_Flags else
30393: LD_ADDR_LOC 32
30397: PUSH
30398: LD_EXP 65
30402: ST_TO_ADDR
30403: GO 30415
// WFT_Goal = WarForTerritory_Points ;
30405: LD_ADDR_LOC 32
30409: PUSH
30410: LD_EXP 64
30414: ST_TO_ADDR
// for i = 1 to flagy_area do
30415: LD_ADDR_VAR 0 3
30419: PUSH
30420: DOUBLE
30421: LD_INT 1
30423: DEC
30424: ST_TO_ADDR
30425: LD_EXP 118
30429: PUSH
30430: FOR_TO
30431: IFFALSE 30533
// begin SetAreaMapShow ( flagy_area [ i ] , 1 ) ;
30433: LD_EXP 118
30437: PUSH
30438: LD_VAR 0 3
30442: ARRAY
30443: PPUSH
30444: LD_INT 1
30446: PPUSH
30447: CALL_OW 424
// SetAreaMapShow ( flagy_area1 [ i ] , 5 ) ;
30451: LD_EXP 120
30455: PUSH
30456: LD_VAR 0 3
30460: ARRAY
30461: PPUSH
30462: LD_INT 5
30464: PPUSH
30465: CALL_OW 424
// for p = 1 to 8 do
30469: LD_ADDR_VAR 0 4
30473: PUSH
30474: DOUBLE
30475: LD_INT 1
30477: DEC
30478: ST_TO_ADDR
30479: LD_INT 8
30481: PUSH
30482: FOR_TO
30483: IFFALSE 30529
// PlaceSeeing ( flagy_xy [ i ] [ 1 ] , flagy_xy [ i ] [ 2 ] , p , 1 ) ;
30485: LD_EXP 119
30489: PUSH
30490: LD_VAR 0 3
30494: ARRAY
30495: PUSH
30496: LD_INT 1
30498: ARRAY
30499: PPUSH
30500: LD_EXP 119
30504: PUSH
30505: LD_VAR 0 3
30509: ARRAY
30510: PUSH
30511: LD_INT 2
30513: ARRAY
30514: PPUSH
30515: LD_VAR 0 4
30519: PPUSH
30520: LD_INT 1
30522: PPUSH
30523: CALL_OW 330
30527: GO 30482
30529: POP
30530: POP
// end ;
30531: GO 30430
30533: POP
30534: POP
// if WFT_Points_MP < 1 then
30535: LD_EXP 121
30539: PUSH
30540: LD_INT 1
30542: LESS
30543: IFFALSE 30553
// WFT_Points_MP = 1 ;
30545: LD_ADDR_EXP 121
30549: PUSH
30550: LD_INT 1
30552: ST_TO_ADDR
// enable ( 60 ) ;
30553: LD_INT 60
30555: ENABLE_MARKED
// end ;
30556: LD_VAR 0 1
30560: RET
// every 0 0$1 marked 60 do var i , p , pom , pom1 ; var side , sideNumber , flagSide ;
30561: GO 30563
30563: DISABLE
30564: LD_INT 0
30566: PPUSH
30567: PPUSH
30568: PPUSH
30569: PPUSH
30570: PPUSH
30571: PPUSH
30572: PPUSH
// begin zkontroluj_body ;
30573: CALL 31872 0 0
// for i := 1 to flagy + 0 do
30577: LD_ADDR_VAR 0 1
30581: PUSH
30582: DOUBLE
30583: LD_INT 1
30585: DEC
30586: ST_TO_ADDR
30587: LD_LOC 30
30591: PUSH
30592: LD_INT 0
30594: PLUS
30595: PUSH
30596: FOR_TO
30597: IFFALSE 31349
// begin sideNumber = 0 ;
30599: LD_ADDR_VAR 0 6
30603: PUSH
30604: LD_INT 0
30606: ST_TO_ADDR
// for p = 1 to 8 do
30607: LD_ADDR_VAR 0 2
30611: PUSH
30612: DOUBLE
30613: LD_INT 1
30615: DEC
30616: ST_TO_ADDR
30617: LD_INT 8
30619: PUSH
30620: FOR_TO
30621: IFFALSE 30701
// begin pom = FilterUnitsInArea ( FLAGY_AREA1 [ i ] , [ f_side , p ] ) ;
30623: LD_ADDR_VAR 0 3
30627: PUSH
30628: LD_EXP 120
30632: PUSH
30633: LD_VAR 0 1
30637: ARRAY
30638: PPUSH
30639: LD_INT 22
30641: PUSH
30642: LD_VAR 0 2
30646: PUSH
30647: EMPTY
30648: LIST
30649: LIST
30650: PPUSH
30651: CALL_OW 70
30655: ST_TO_ADDR
// if pom > 0 then
30656: LD_VAR 0 3
30660: PUSH
30661: LD_INT 0
30663: GREATER
30664: IFFALSE 30699
// begin side = getSide ( pom [ 1 ] ) ;
30666: LD_ADDR_VAR 0 5
30670: PUSH
30671: LD_VAR 0 3
30675: PUSH
30676: LD_INT 1
30678: ARRAY
30679: PPUSH
30680: CALL_OW 255
30684: ST_TO_ADDR
// sideNumber = sideNumber + 1 ;
30685: LD_ADDR_VAR 0 6
30689: PUSH
30690: LD_VAR 0 6
30694: PUSH
30695: LD_INT 1
30697: PLUS
30698: ST_TO_ADDR
// end ; end ;
30699: GO 30620
30701: POP
30702: POP
// if sideNumber = 1 then
30703: LD_VAR 0 6
30707: PUSH
30708: LD_INT 1
30710: EQUAL
30711: IFFALSE 30988
// begin flagSide = getBattleFlagSide ( FLAGY [ i ] ) ;
30713: LD_ADDR_VAR 0 7
30717: PUSH
30718: LD_LOC 30
30722: PUSH
30723: LD_VAR 0 1
30727: ARRAY
30728: PPUSH
30729: CALL_OW 421
30733: ST_TO_ADDR
// if flagSide = side then
30734: LD_VAR 0 7
30738: PUSH
30739: LD_VAR 0 5
30743: EQUAL
30744: IFFALSE 30860
// begin if WFT_FlagHeight [ i ] < 100 then
30746: LD_LOC 34
30750: PUSH
30751: LD_VAR 0 1
30755: ARRAY
30756: PUSH
30757: LD_INT 100
30759: LESS
30760: IFFALSE 30835
// begin WFT_FlagHeight = replace ( WFT_FlagHeight , i , WFT_FlagHeight [ i ] + 10 ) ;
30762: LD_ADDR_LOC 34
30766: PUSH
30767: LD_LOC 34
30771: PPUSH
30772: LD_VAR 0 1
30776: PPUSH
30777: LD_LOC 34
30781: PUSH
30782: LD_VAR 0 1
30786: ARRAY
30787: PUSH
30788: LD_INT 10
30790: PLUS
30791: PPUSH
30792: CALL_OW 1
30796: ST_TO_ADDR
// ChangeBattleFlagOptions ( FLAGY [ i ] , [ [ bfo_height , WFT_FlagHeight [ i ] ] ] ) ;
30797: LD_LOC 30
30801: PUSH
30802: LD_VAR 0 1
30806: ARRAY
30807: PPUSH
30808: LD_INT 20
30810: PUSH
30811: LD_LOC 34
30815: PUSH
30816: LD_VAR 0 1
30820: ARRAY
30821: PUSH
30822: EMPTY
30823: LIST
30824: LIST
30825: PUSH
30826: EMPTY
30827: LIST
30828: PPUSH
30829: CALL_OW 423
// end else
30833: GO 30858
// WFT_FlagOnTop = replace ( WFT_FlagOnTop , i , true ) ;
30835: LD_ADDR_LOC 33
30839: PUSH
30840: LD_LOC 33
30844: PPUSH
30845: LD_VAR 0 1
30849: PPUSH
30850: LD_INT 1
30852: PPUSH
30853: CALL_OW 1
30857: ST_TO_ADDR
// end else
30858: GO 30986
// begin if WFT_FlagHeight [ i ] > 0 then
30860: LD_LOC 34
30864: PUSH
30865: LD_VAR 0 1
30869: ARRAY
30870: PUSH
30871: LD_INT 0
30873: GREATER
30874: IFFALSE 30949
// begin WFT_FlagHeight = replace ( WFT_FlagHeight , i , WFT_FlagHeight [ i ] - 10 ) ;
30876: LD_ADDR_LOC 34
30880: PUSH
30881: LD_LOC 34
30885: PPUSH
30886: LD_VAR 0 1
30890: PPUSH
30891: LD_LOC 34
30895: PUSH
30896: LD_VAR 0 1
30900: ARRAY
30901: PUSH
30902: LD_INT 10
30904: MINUS
30905: PPUSH
30906: CALL_OW 1
30910: ST_TO_ADDR
// ChangeBattleFlagOptions ( FLAGY [ i ] , [ [ bfo_height , WFT_FlagHeight [ i ] ] ] ) ;
30911: LD_LOC 30
30915: PUSH
30916: LD_VAR 0 1
30920: ARRAY
30921: PPUSH
30922: LD_INT 20
30924: PUSH
30925: LD_LOC 34
30929: PUSH
30930: LD_VAR 0 1
30934: ARRAY
30935: PUSH
30936: EMPTY
30937: LIST
30938: LIST
30939: PUSH
30940: EMPTY
30941: LIST
30942: PPUSH
30943: CALL_OW 423
// end else
30947: GO 30986
// begin zmen_vlajku ( i , side ) ;
30949: LD_VAR 0 1
30953: PPUSH
30954: LD_VAR 0 5
30958: PPUSH
30959: CALL 31355 0 2
// WFT_FlagOnTop = replace ( WFT_FlagOnTop , i , false ) ;
30963: LD_ADDR_LOC 33
30967: PUSH
30968: LD_LOC 33
30972: PPUSH
30973: LD_VAR 0 1
30977: PPUSH
30978: LD_INT 0
30980: PPUSH
30981: CALL_OW 1
30985: ST_TO_ADDR
// end ; end ; end else
30986: GO 31347
// if sideNumber = 0 then
30988: LD_VAR 0 6
30992: PUSH
30993: LD_INT 0
30995: EQUAL
30996: IFFALSE 31347
// begin if getBattleFlagSide ( FLAGY [ i ] ) <> 0 then
30998: LD_LOC 30
31002: PUSH
31003: LD_VAR 0 1
31007: ARRAY
31008: PPUSH
31009: CALL_OW 421
31013: PUSH
31014: LD_INT 0
31016: NONEQUAL
31017: IFFALSE 31224
// begin if WFT_FlagHeight [ i ] > 0 and WFT_FlagHeight [ i ] < 100 then
31019: LD_LOC 34
31023: PUSH
31024: LD_VAR 0 1
31028: ARRAY
31029: PUSH
31030: LD_INT 0
31032: GREATER
31033: PUSH
31034: LD_LOC 34
31038: PUSH
31039: LD_VAR 0 1
31043: ARRAY
31044: PUSH
31045: LD_INT 100
31047: LESS
31048: AND
31049: IFFALSE 31173
// begin if WFT_FlagOnTop [ i ] then
31051: LD_LOC 33
31055: PUSH
31056: LD_VAR 0 1
31060: ARRAY
31061: IFFALSE 31100
// WFT_FlagHeight = replace ( WFT_FlagHeight , i , WFT_FlagHeight [ i ] + 10 ) else
31063: LD_ADDR_LOC 34
31067: PUSH
31068: LD_LOC 34
31072: PPUSH
31073: LD_VAR 0 1
31077: PPUSH
31078: LD_LOC 34
31082: PUSH
31083: LD_VAR 0 1
31087: ARRAY
31088: PUSH
31089: LD_INT 10
31091: PLUS
31092: PPUSH
31093: CALL_OW 1
31097: ST_TO_ADDR
31098: GO 31135
// WFT_FlagHeight = replace ( WFT_FlagHeight , i , WFT_FlagHeight [ i ] - 10 ) ;
31100: LD_ADDR_LOC 34
31104: PUSH
31105: LD_LOC 34
31109: PPUSH
31110: LD_VAR 0 1
31114: PPUSH
31115: LD_LOC 34
31119: PUSH
31120: LD_VAR 0 1
31124: ARRAY
31125: PUSH
31126: LD_INT 10
31128: MINUS
31129: PPUSH
31130: CALL_OW 1
31134: ST_TO_ADDR
// ChangeBattleFlagOptions ( FLAGY [ i ] , [ [ bfo_height , WFT_FlagHeight [ i ] ] ] ) ;
31135: LD_LOC 30
31139: PUSH
31140: LD_VAR 0 1
31144: ARRAY
31145: PPUSH
31146: LD_INT 20
31148: PUSH
31149: LD_LOC 34
31153: PUSH
31154: LD_VAR 0 1
31158: ARRAY
31159: PUSH
31160: EMPTY
31161: LIST
31162: LIST
31163: PUSH
31164: EMPTY
31165: LIST
31166: PPUSH
31167: CALL_OW 423
// end else
31171: GO 31222
// if WFT_FlagHeight [ i ] = 0 and getBattleFlagSide ( FLAGY [ i ] ) <> 0 then
31173: LD_LOC 34
31177: PUSH
31178: LD_VAR 0 1
31182: ARRAY
31183: PUSH
31184: LD_INT 0
31186: EQUAL
31187: PUSH
31188: LD_LOC 30
31192: PUSH
31193: LD_VAR 0 1
31197: ARRAY
31198: PPUSH
31199: CALL_OW 421
31203: PUSH
31204: LD_INT 0
31206: NONEQUAL
31207: AND
31208: IFFALSE 31222
// zmen_vlajku ( i , 0 ) ;
31210: LD_VAR 0 1
31214: PPUSH
31215: LD_INT 0
31217: PPUSH
31218: CALL 31355 0 2
// end else
31222: GO 31347
// if WFT_FlagHeight [ i ] < 100 then
31224: LD_LOC 34
31228: PUSH
31229: LD_VAR 0 1
31233: ARRAY
31234: PUSH
31235: LD_INT 100
31237: LESS
31238: IFFALSE 31347
// begin if not WFT_FlagOnTop [ i ] then
31240: LD_LOC 33
31244: PUSH
31245: LD_VAR 0 1
31249: ARRAY
31250: NOT
31251: IFFALSE 31276
// WFT_FlagOnTop = replace ( WFT_FlagOnTop , i , true ) ;
31253: LD_ADDR_LOC 33
31257: PUSH
31258: LD_LOC 33
31262: PPUSH
31263: LD_VAR 0 1
31267: PPUSH
31268: LD_INT 1
31270: PPUSH
31271: CALL_OW 1
31275: ST_TO_ADDR
// WFT_FlagHeight = replace ( WFT_FlagHeight , i , WFT_FlagHeight [ i ] + 10 ) ;
31276: LD_ADDR_LOC 34
31280: PUSH
31281: LD_LOC 34
31285: PPUSH
31286: LD_VAR 0 1
31290: PPUSH
31291: LD_LOC 34
31295: PUSH
31296: LD_VAR 0 1
31300: ARRAY
31301: PUSH
31302: LD_INT 10
31304: PLUS
31305: PPUSH
31306: CALL_OW 1
31310: ST_TO_ADDR
// ChangeBattleFlagOptions ( FLAGY [ i ] , [ [ bfo_height , WFT_FlagHeight [ i ] ] ] ) ;
31311: LD_LOC 30
31315: PUSH
31316: LD_VAR 0 1
31320: ARRAY
31321: PPUSH
31322: LD_INT 20
31324: PUSH
31325: LD_LOC 34
31329: PUSH
31330: LD_VAR 0 1
31334: ARRAY
31335: PUSH
31336: EMPTY
31337: LIST
31338: LIST
31339: PUSH
31340: EMPTY
31341: LIST
31342: PPUSH
31343: CALL_OW 423
// end ; end ; end ;
31347: GO 30596
31349: POP
31350: POP
// enable ;
31351: ENABLE
// end ;
31352: PPOPN 7
31354: END
// function zmen_vlajku ( pozice , side ) ; var i ; begin
31355: LD_INT 0
31357: PPUSH
31358: PPUSH
// if FLAGY [ pozice ] and side >= 0 and side <= 8 then
31359: LD_LOC 30
31363: PUSH
31364: LD_VAR 0 1
31368: ARRAY
31369: PUSH
31370: LD_VAR 0 2
31374: PUSH
31375: LD_INT 0
31377: GREATEREQUAL
31378: AND
31379: PUSH
31380: LD_VAR 0 2
31384: PUSH
31385: LD_INT 8
31387: LESSEQUAL
31388: AND
31389: IFFALSE 31411
// changeBattleFlagSide ( FLAGY [ pozice ] , side ) ;
31391: LD_LOC 30
31395: PUSH
31396: LD_VAR 0 1
31400: ARRAY
31401: PPUSH
31402: LD_VAR 0 2
31406: PPUSH
31407: CALL_OW 422
// end ;
31411: LD_VAR 0 3
31415: RET
// export function vloz_na_pozici ( co , cislo , pozice ) ; var ii ; var pom ; begin
31416: LD_INT 0
31418: PPUSH
31419: PPUSH
31420: PPUSH
// pom = [ ] ;
31421: LD_ADDR_VAR 0 6
31425: PUSH
31426: EMPTY
31427: ST_TO_ADDR
// for ii := 1 to pozice do
31428: LD_ADDR_VAR 0 5
31432: PUSH
31433: DOUBLE
31434: LD_INT 1
31436: DEC
31437: ST_TO_ADDR
31438: LD_VAR 0 3
31442: PUSH
31443: FOR_TO
31444: IFFALSE 31500
// if ii <> cislo then
31446: LD_VAR 0 5
31450: PUSH
31451: LD_VAR 0 2
31455: NONEQUAL
31456: IFFALSE 31482
// pom = pom ^ pozice [ ii ] else
31458: LD_ADDR_VAR 0 6
31462: PUSH
31463: LD_VAR 0 6
31467: PUSH
31468: LD_VAR 0 3
31472: PUSH
31473: LD_VAR 0 5
31477: ARRAY
31478: ADD
31479: ST_TO_ADDR
31480: GO 31498
// pom = pom ^ co ;
31482: LD_ADDR_VAR 0 6
31486: PUSH
31487: LD_VAR 0 6
31491: PUSH
31492: LD_VAR 0 1
31496: ADD
31497: ST_TO_ADDR
31498: GO 31443
31500: POP
31501: POP
// result := pom ;
31502: LD_ADDR_VAR 0 4
31506: PUSH
31507: LD_VAR 0 6
31511: ST_TO_ADDR
// end ;
31512: LD_VAR 0 4
31516: RET
// function budovy_ok ( bud ) ; var a ; var i ; begin
31517: LD_INT 0
31519: PPUSH
31520: PPUSH
31521: PPUSH
// a = false ;
31522: LD_ADDR_VAR 0 3
31526: PUSH
31527: LD_INT 0
31529: ST_TO_ADDR
// for i in bud do
31530: LD_ADDR_VAR 0 4
31534: PUSH
31535: LD_VAR 0 1
31539: PUSH
31540: FOR_IN
31541: IFFALSE 31564
// if IsOK ( i ) then
31543: LD_VAR 0 4
31547: PPUSH
31548: CALL_OW 302
31552: IFFALSE 31562
// a = true ;
31554: LD_ADDR_VAR 0 3
31558: PUSH
31559: LD_INT 1
31561: ST_TO_ADDR
31562: GO 31540
31564: POP
31565: POP
// result := a ;
31566: LD_ADDR_VAR 0 2
31570: PUSH
31571: LD_VAR 0 3
31575: ST_TO_ADDR
// end ;
31576: LD_VAR 0 2
31580: RET
// every 0 0$3 marked 60 do var i , j ; var pom , goal , p ;
31581: GO 31583
31583: DISABLE
31584: LD_INT 0
31586: PPUSH
31587: PPUSH
31588: PPUSH
31589: PPUSH
31590: PPUSH
// begin if WarForTerritory_points then
31591: LD_EXP 64
31595: IFFALSE 31619
// goal = WFT_Goal * ( 3 * WFT_Points_MP ) else
31597: LD_ADDR_VAR 0 4
31601: PUSH
31602: LD_LOC 32
31606: PUSH
31607: LD_INT 3
31609: PUSH
31610: LD_EXP 121
31614: MUL
31615: MUL
31616: ST_TO_ADDR
31617: GO 31629
// goal = WFT_goal ;
31619: LD_ADDR_VAR 0 4
31623: PUSH
31624: LD_LOC 32
31628: ST_TO_ADDR
// for i := 1 to teams_p do
31629: LD_ADDR_VAR 0 1
31633: PUSH
31634: DOUBLE
31635: LD_INT 1
31637: DEC
31638: ST_TO_ADDR
31639: LD_LOC 31
31643: PUSH
31644: FOR_TO
31645: IFFALSE 31866
// if teams_p [ i ] >= Goal then
31647: LD_LOC 31
31651: PUSH
31652: LD_VAR 0 1
31656: ARRAY
31657: PUSH
31658: LD_VAR 0 4
31662: GREATEREQUAL
31663: IFFALSE 31864
// begin if not Team_Game then
31665: LD_EXP 80
31669: NOT
31670: IFFALSE 31694
// begin if i = your_side then
31672: LD_VAR 0 1
31676: PUSH
31677: LD_OWVAR 2
31681: EQUAL
31682: IFFALSE 31689
// enable ( 401 ) else
31684: LD_INT 401
31686: ENABLE_MARKED
31687: GO 31692
// enable ( 400 ) ;
31689: LD_INT 400
31691: ENABLE_MARKED
// end else
31692: GO 31714
// if i = Player_Team then
31694: LD_VAR 0 1
31698: PUSH
31699: LD_EXP 71
31703: EQUAL
31704: IFFALSE 31711
// enable ( 401 ) else
31706: LD_INT 401
31708: ENABLE_MARKED
31709: GO 31714
// enable ( 400 ) ;
31711: LD_INT 400
31713: ENABLE_MARKED
// if WarForTerritory_points then
31714: LD_EXP 64
31718: IFFALSE 31792
// begin for p = 1 to side_positions do
31720: LD_ADDR_VAR 0 5
31724: PUSH
31725: DOUBLE
31726: LD_INT 1
31728: DEC
31729: ST_TO_ADDR
31730: LD_EXP 75
31734: PUSH
31735: FOR_TO
31736: IFFALSE 31788
// if Side_Positions [ p ] then
31738: LD_EXP 75
31742: PUSH
31743: LD_VAR 0 5
31747: ARRAY
31748: IFFALSE 31786
// SetSharedMultiScore ( p , GetTag ( p + 20 ) div ( 3 * WFT_points_MP ) , 3 ) ;
31750: LD_VAR 0 5
31754: PPUSH
31755: LD_VAR 0 5
31759: PUSH
31760: LD_INT 20
31762: PLUS
31763: PPUSH
31764: CALL_OW 110
31768: PUSH
31769: LD_INT 3
31771: PUSH
31772: LD_EXP 121
31776: MUL
31777: DIV
31778: PPUSH
31779: LD_INT 3
31781: PPUSH
31782: CALL 35275 0 3
31786: GO 31735
31788: POP
31789: POP
// end else
31790: GO 31856
// for p = 1 to side_positions do
31792: LD_ADDR_VAR 0 5
31796: PUSH
31797: DOUBLE
31798: LD_INT 1
31800: DEC
31801: ST_TO_ADDR
31802: LD_EXP 75
31806: PUSH
31807: FOR_TO
31808: IFFALSE 31854
// if Side_Positions [ p ] then
31810: LD_EXP 75
31814: PUSH
31815: LD_VAR 0 5
31819: ARRAY
31820: IFFALSE 31852
// SetSharedMultiScore ( p , GetTag ( i + 20 ) * 1000 , 3 ) ;
31822: LD_VAR 0 5
31826: PPUSH
31827: LD_VAR 0 1
31831: PUSH
31832: LD_INT 20
31834: PLUS
31835: PPUSH
31836: CALL_OW 110
31840: PUSH
31841: LD_INT 1000
31843: MUL
31844: PPUSH
31845: LD_INT 3
31847: PPUSH
31848: CALL 35275 0 3
31852: GO 31807
31854: POP
31855: POP
// MakeGameEnd ;
31856: CALL 14194 0 0
// exit ;
31860: POP
31861: POP
31862: GO 31869
// end ;
31864: GO 31644
31866: POP
31867: POP
// enable ;
31868: ENABLE
// end ;
31869: PPOPN 5
31871: END
// function zkontroluj_body ; var side , list , un , red , blue , yel , green , i , pom ; begin
31872: LD_INT 0
31874: PPUSH
31875: PPUSH
31876: PPUSH
31877: PPUSH
31878: PPUSH
31879: PPUSH
31880: PPUSH
31881: PPUSH
31882: PPUSH
31883: PPUSH
// list = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
31884: LD_ADDR_VAR 0 3
31888: PUSH
31889: LD_INT 0
31891: PUSH
31892: LD_INT 0
31894: PUSH
31895: LD_INT 0
31897: PUSH
31898: LD_INT 0
31900: PUSH
31901: LD_INT 0
31903: PUSH
31904: LD_INT 0
31906: PUSH
31907: LD_INT 0
31909: PUSH
31910: LD_INT 0
31912: PUSH
31913: EMPTY
31914: LIST
31915: LIST
31916: LIST
31917: LIST
31918: LIST
31919: LIST
31920: LIST
31921: LIST
31922: ST_TO_ADDR
// red = 0 ;
31923: LD_ADDR_VAR 0 5
31927: PUSH
31928: LD_INT 0
31930: ST_TO_ADDR
// blue = 0 ;
31931: LD_ADDR_VAR 0 6
31935: PUSH
31936: LD_INT 0
31938: ST_TO_ADDR
// yel = 0 ;
31939: LD_ADDR_VAR 0 7
31943: PUSH
31944: LD_INT 0
31946: ST_TO_ADDR
// green = 0 ;
31947: LD_ADDR_VAR 0 8
31951: PUSH
31952: LD_INT 0
31954: ST_TO_ADDR
// if WarForTerritory_flags then
31955: LD_EXP 65
31959: IFFALSE 32325
// begin for i = 1 to FLAGY + 0 do
31961: LD_ADDR_VAR 0 9
31965: PUSH
31966: DOUBLE
31967: LD_INT 1
31969: DEC
31970: ST_TO_ADDR
31971: LD_LOC 30
31975: PUSH
31976: LD_INT 0
31978: PLUS
31979: PUSH
31980: FOR_TO
31981: IFFALSE 32053
// if WFT_FlagOnTop [ i ] then
31983: LD_LOC 33
31987: PUSH
31988: LD_VAR 0 9
31992: ARRAY
31993: IFFALSE 32051
// begin pom = GetBattleFlagSide ( FLAGY [ i ] ) ;
31995: LD_ADDR_VAR 0 10
31999: PUSH
32000: LD_LOC 30
32004: PUSH
32005: LD_VAR 0 9
32009: ARRAY
32010: PPUSH
32011: CALL_OW 421
32015: ST_TO_ADDR
// list = vloz_na_pozici ( list [ pom ] + 1 , pom , list ) ;
32016: LD_ADDR_VAR 0 3
32020: PUSH
32021: LD_VAR 0 3
32025: PUSH
32026: LD_VAR 0 10
32030: ARRAY
32031: PUSH
32032: LD_INT 1
32034: PLUS
32035: PPUSH
32036: LD_VAR 0 10
32040: PPUSH
32041: LD_VAR 0 3
32045: PPUSH
32046: CALL 31416 0 3
32050: ST_TO_ADDR
// end ;
32051: GO 31980
32053: POP
32054: POP
// if not Team_Game then
32055: LD_EXP 80
32059: NOT
32060: IFFALSE 32074
// teams_p = list else
32062: LD_ADDR_LOC 31
32066: PUSH
32067: LD_VAR 0 3
32071: ST_TO_ADDR
32072: GO 32277
// begin for i in Teams [ 1 ] do
32074: LD_ADDR_VAR 0 9
32078: PUSH
32079: LD_EXP 73
32083: PUSH
32084: LD_INT 1
32086: ARRAY
32087: PUSH
32088: FOR_IN
32089: IFFALSE 32115
// red = red + list [ i ] ;
32091: LD_ADDR_VAR 0 5
32095: PUSH
32096: LD_VAR 0 5
32100: PUSH
32101: LD_VAR 0 3
32105: PUSH
32106: LD_VAR 0 9
32110: ARRAY
32111: PLUS
32112: ST_TO_ADDR
32113: GO 32088
32115: POP
32116: POP
// for i in Teams [ 2 ] do
32117: LD_ADDR_VAR 0 9
32121: PUSH
32122: LD_EXP 73
32126: PUSH
32127: LD_INT 2
32129: ARRAY
32130: PUSH
32131: FOR_IN
32132: IFFALSE 32158
// blue = blue + list [ i ] ;
32134: LD_ADDR_VAR 0 6
32138: PUSH
32139: LD_VAR 0 6
32143: PUSH
32144: LD_VAR 0 3
32148: PUSH
32149: LD_VAR 0 9
32153: ARRAY
32154: PLUS
32155: ST_TO_ADDR
32156: GO 32131
32158: POP
32159: POP
// for i in Teams [ 3 ] do
32160: LD_ADDR_VAR 0 9
32164: PUSH
32165: LD_EXP 73
32169: PUSH
32170: LD_INT 3
32172: ARRAY
32173: PUSH
32174: FOR_IN
32175: IFFALSE 32201
// yel = yel + list [ i ] ;
32177: LD_ADDR_VAR 0 7
32181: PUSH
32182: LD_VAR 0 7
32186: PUSH
32187: LD_VAR 0 3
32191: PUSH
32192: LD_VAR 0 9
32196: ARRAY
32197: PLUS
32198: ST_TO_ADDR
32199: GO 32174
32201: POP
32202: POP
// for i in Teams [ 4 ] do
32203: LD_ADDR_VAR 0 9
32207: PUSH
32208: LD_EXP 73
32212: PUSH
32213: LD_INT 4
32215: ARRAY
32216: PUSH
32217: FOR_IN
32218: IFFALSE 32244
// green = green + list [ i ] ;
32220: LD_ADDR_VAR 0 8
32224: PUSH
32225: LD_VAR 0 8
32229: PUSH
32230: LD_VAR 0 3
32234: PUSH
32235: LD_VAR 0 9
32239: ARRAY
32240: PLUS
32241: ST_TO_ADDR
32242: GO 32217
32244: POP
32245: POP
// teams_p = [ red , blue , yel , green ] ;
32246: LD_ADDR_LOC 31
32250: PUSH
32251: LD_VAR 0 5
32255: PUSH
32256: LD_VAR 0 6
32260: PUSH
32261: LD_VAR 0 7
32265: PUSH
32266: LD_VAR 0 8
32270: PUSH
32271: EMPTY
32272: LIST
32273: LIST
32274: LIST
32275: LIST
32276: ST_TO_ADDR
// end ; for i = 1 to list do
32277: LD_ADDR_VAR 0 9
32281: PUSH
32282: DOUBLE
32283: LD_INT 1
32285: DEC
32286: ST_TO_ADDR
32287: LD_VAR 0 3
32291: PUSH
32292: FOR_TO
32293: IFFALSE 32321
// SetTag ( i + 20 , list [ i ] ) ;
32295: LD_VAR 0 9
32299: PUSH
32300: LD_INT 20
32302: PLUS
32303: PPUSH
32304: LD_VAR 0 3
32308: PUSH
32309: LD_VAR 0 9
32313: ARRAY
32314: PPUSH
32315: CALL_OW 109
32319: GO 32292
32321: POP
32322: POP
// end else
32323: GO 32803
// if WarForTerritory_points then
32325: LD_EXP 64
32329: IFFALSE 32803
// begin for i = 1 to FLAGY + 0 do
32331: LD_ADDR_VAR 0 9
32335: PUSH
32336: DOUBLE
32337: LD_INT 1
32339: DEC
32340: ST_TO_ADDR
32341: LD_LOC 30
32345: PUSH
32346: LD_INT 0
32348: PLUS
32349: PUSH
32350: FOR_TO
32351: IFFALSE 32423
// if WFT_FlagOnTop [ i ] then
32353: LD_LOC 33
32357: PUSH
32358: LD_VAR 0 9
32362: ARRAY
32363: IFFALSE 32421
// begin pom = GetBattleFlagSide ( FLAGY [ i ] ) ;
32365: LD_ADDR_VAR 0 10
32369: PUSH
32370: LD_LOC 30
32374: PUSH
32375: LD_VAR 0 9
32379: ARRAY
32380: PPUSH
32381: CALL_OW 421
32385: ST_TO_ADDR
// list = vloz_na_pozici ( list [ pom ] + 1 , pom , list ) ;
32386: LD_ADDR_VAR 0 3
32390: PUSH
32391: LD_VAR 0 3
32395: PUSH
32396: LD_VAR 0 10
32400: ARRAY
32401: PUSH
32402: LD_INT 1
32404: PLUS
32405: PPUSH
32406: LD_VAR 0 10
32410: PPUSH
32411: LD_VAR 0 3
32415: PPUSH
32416: CALL 31416 0 3
32420: ST_TO_ADDR
// end ;
32421: GO 32350
32423: POP
32424: POP
// if not Team_Game then
32425: LD_EXP 80
32429: NOT
32430: IFFALSE 32499
// for i = 1 to side_positions do
32432: LD_ADDR_VAR 0 9
32436: PUSH
32437: DOUBLE
32438: LD_INT 1
32440: DEC
32441: ST_TO_ADDR
32442: LD_EXP 75
32446: PUSH
32447: FOR_TO
32448: IFFALSE 32495
// teams_p = vloz_na_pozici ( teams_p [ i ] + ( list [ i ] ) , i , teams_p ) else
32450: LD_ADDR_LOC 31
32454: PUSH
32455: LD_LOC 31
32459: PUSH
32460: LD_VAR 0 9
32464: ARRAY
32465: PUSH
32466: LD_VAR 0 3
32470: PUSH
32471: LD_VAR 0 9
32475: ARRAY
32476: PLUS
32477: PPUSH
32478: LD_VAR 0 9
32482: PPUSH
32483: LD_LOC 31
32487: PPUSH
32488: CALL 31416 0 3
32492: ST_TO_ADDR
32493: GO 32447
32495: POP
32496: POP
32497: GO 32742
// begin for i in Teams [ 1 ] do
32499: LD_ADDR_VAR 0 9
32503: PUSH
32504: LD_EXP 73
32508: PUSH
32509: LD_INT 1
32511: ARRAY
32512: PUSH
32513: FOR_IN
32514: IFFALSE 32540
// red = red + list [ i ] ;
32516: LD_ADDR_VAR 0 5
32520: PUSH
32521: LD_VAR 0 5
32525: PUSH
32526: LD_VAR 0 3
32530: PUSH
32531: LD_VAR 0 9
32535: ARRAY
32536: PLUS
32537: ST_TO_ADDR
32538: GO 32513
32540: POP
32541: POP
// for i in Teams [ 2 ] do
32542: LD_ADDR_VAR 0 9
32546: PUSH
32547: LD_EXP 73
32551: PUSH
32552: LD_INT 2
32554: ARRAY
32555: PUSH
32556: FOR_IN
32557: IFFALSE 32583
// blue = blue + list [ i ] ;
32559: LD_ADDR_VAR 0 6
32563: PUSH
32564: LD_VAR 0 6
32568: PUSH
32569: LD_VAR 0 3
32573: PUSH
32574: LD_VAR 0 9
32578: ARRAY
32579: PLUS
32580: ST_TO_ADDR
32581: GO 32556
32583: POP
32584: POP
// for i in Teams [ 3 ] do
32585: LD_ADDR_VAR 0 9
32589: PUSH
32590: LD_EXP 73
32594: PUSH
32595: LD_INT 3
32597: ARRAY
32598: PUSH
32599: FOR_IN
32600: IFFALSE 32626
// yel = yel + list [ i ] ;
32602: LD_ADDR_VAR 0 7
32606: PUSH
32607: LD_VAR 0 7
32611: PUSH
32612: LD_VAR 0 3
32616: PUSH
32617: LD_VAR 0 9
32621: ARRAY
32622: PLUS
32623: ST_TO_ADDR
32624: GO 32599
32626: POP
32627: POP
// for i in Teams [ 4 ] do
32628: LD_ADDR_VAR 0 9
32632: PUSH
32633: LD_EXP 73
32637: PUSH
32638: LD_INT 4
32640: ARRAY
32641: PUSH
32642: FOR_IN
32643: IFFALSE 32669
// green = green + list [ i ] ;
32645: LD_ADDR_VAR 0 8
32649: PUSH
32650: LD_VAR 0 8
32654: PUSH
32655: LD_VAR 0 3
32659: PUSH
32660: LD_VAR 0 9
32664: ARRAY
32665: PLUS
32666: ST_TO_ADDR
32667: GO 32642
32669: POP
32670: POP
// teams_p = [ teams_p [ 1 ] + red , teams_p [ 2 ] + blue , teams_p [ 3 ] + yel , teams_p [ 4 ] + green ] ;
32671: LD_ADDR_LOC 31
32675: PUSH
32676: LD_LOC 31
32680: PUSH
32681: LD_INT 1
32683: ARRAY
32684: PUSH
32685: LD_VAR 0 5
32689: PLUS
32690: PUSH
32691: LD_LOC 31
32695: PUSH
32696: LD_INT 2
32698: ARRAY
32699: PUSH
32700: LD_VAR 0 6
32704: PLUS
32705: PUSH
32706: LD_LOC 31
32710: PUSH
32711: LD_INT 3
32713: ARRAY
32714: PUSH
32715: LD_VAR 0 7
32719: PLUS
32720: PUSH
32721: LD_LOC 31
32725: PUSH
32726: LD_INT 4
32728: ARRAY
32729: PUSH
32730: LD_VAR 0 8
32734: PLUS
32735: PUSH
32736: EMPTY
32737: LIST
32738: LIST
32739: LIST
32740: LIST
32741: ST_TO_ADDR
// end ; for i = 1 to list do
32742: LD_ADDR_VAR 0 9
32746: PUSH
32747: DOUBLE
32748: LD_INT 1
32750: DEC
32751: ST_TO_ADDR
32752: LD_VAR 0 3
32756: PUSH
32757: FOR_TO
32758: IFFALSE 32801
// SetTag ( i + 20 , getTag ( i + 20 ) + list [ i ] ) ;
32760: LD_VAR 0 9
32764: PUSH
32765: LD_INT 20
32767: PLUS
32768: PPUSH
32769: LD_VAR 0 9
32773: PUSH
32774: LD_INT 20
32776: PLUS
32777: PPUSH
32778: CALL_OW 110
32782: PUSH
32783: LD_VAR 0 3
32787: PUSH
32788: LD_VAR 0 9
32792: ARRAY
32793: PLUS
32794: PPUSH
32795: CALL_OW 109
32799: GO 32757
32801: POP
32802: POP
// end ; if WarForTerritory_points then
32803: LD_EXP 64
32807: IFFALSE 32881
// begin for i = 1 to side_positions do
32809: LD_ADDR_VAR 0 9
32813: PUSH
32814: DOUBLE
32815: LD_INT 1
32817: DEC
32818: ST_TO_ADDR
32819: LD_EXP 75
32823: PUSH
32824: FOR_TO
32825: IFFALSE 32877
// if Side_Positions [ i ] then
32827: LD_EXP 75
32831: PUSH
32832: LD_VAR 0 9
32836: ARRAY
32837: IFFALSE 32875
// SetSharedMultiScore ( i , GetTag ( i + 20 ) div ( 3 * WFT_points_MP ) , 3 ) ;
32839: LD_VAR 0 9
32843: PPUSH
32844: LD_VAR 0 9
32848: PUSH
32849: LD_INT 20
32851: PLUS
32852: PPUSH
32853: CALL_OW 110
32857: PUSH
32858: LD_INT 3
32860: PUSH
32861: LD_EXP 121
32865: MUL
32866: DIV
32867: PPUSH
32868: LD_INT 3
32870: PPUSH
32871: CALL 35275 0 3
32875: GO 32824
32877: POP
32878: POP
// end else
32879: GO 32945
// for i = 1 to side_positions do
32881: LD_ADDR_VAR 0 9
32885: PUSH
32886: DOUBLE
32887: LD_INT 1
32889: DEC
32890: ST_TO_ADDR
32891: LD_EXP 75
32895: PUSH
32896: FOR_TO
32897: IFFALSE 32943
// if Side_Positions [ i ] then
32899: LD_EXP 75
32903: PUSH
32904: LD_VAR 0 9
32908: ARRAY
32909: IFFALSE 32941
// SetSharedMultiScore ( i , GetTag ( i + 20 ) * 1000 , 3 ) ;
32911: LD_VAR 0 9
32915: PPUSH
32916: LD_VAR 0 9
32920: PUSH
32921: LD_INT 20
32923: PLUS
32924: PPUSH
32925: CALL_OW 110
32929: PUSH
32930: LD_INT 1000
32932: MUL
32933: PPUSH
32934: LD_INT 3
32936: PPUSH
32937: CALL 35275 0 3
32941: GO 32896
32943: POP
32944: POP
// show_points ;
32945: CALL 32954 0 0
// end ;
32949: LD_VAR 0 1
32953: RET
// function show_points ; var side , vypis , i , red , blue , yel , green , s ; begin
32954: LD_INT 0
32956: PPUSH
32957: PPUSH
32958: PPUSH
32959: PPUSH
32960: PPUSH
32961: PPUSH
32962: PPUSH
32963: PPUSH
32964: PPUSH
// vypis := [ ] ;
32965: LD_ADDR_VAR 0 3
32969: PUSH
32970: EMPTY
32971: ST_TO_ADDR
// red = 0 ;
32972: LD_ADDR_VAR 0 5
32976: PUSH
32977: LD_INT 0
32979: ST_TO_ADDR
// blue = 0 ;
32980: LD_ADDR_VAR 0 6
32984: PUSH
32985: LD_INT 0
32987: ST_TO_ADDR
// yel = 0 ;
32988: LD_ADDR_VAR 0 7
32992: PUSH
32993: LD_INT 0
32995: ST_TO_ADDR
// green = 0 ;
32996: LD_ADDR_VAR 0 8
33000: PUSH
33001: LD_INT 0
33003: ST_TO_ADDR
// if WarForTerritory_flags then
33004: LD_EXP 65
33008: IFFALSE 33670
// begin if def_public_score or isSGUI then
33010: LD_EXP 34
33014: PUSH
33015: LD_OWVAR 83
33019: OR
33020: IFFALSE 33424
// begin if not Team_Game then
33022: LD_EXP 80
33026: NOT
33027: IFFALSE 33169
// begin s = [ ] ;
33029: LD_ADDR_VAR 0 9
33033: PUSH
33034: EMPTY
33035: ST_TO_ADDR
// for side = 1 to Side_Positions do
33036: LD_ADDR_VAR 0 2
33040: PUSH
33041: DOUBLE
33042: LD_INT 1
33044: DEC
33045: ST_TO_ADDR
33046: LD_EXP 75
33050: PUSH
33051: FOR_TO
33052: IFFALSE 33153
// if Side_Positions [ side ] then
33054: LD_EXP 75
33058: PUSH
33059: LD_VAR 0 2
33063: ARRAY
33064: IFFALSE 33137
// begin vypis := vypis ^ [ #WarForTerritory-Flags-Public , side , side , teams_p [ side ] , WFT_Goal ] ;
33066: LD_ADDR_VAR 0 3
33070: PUSH
33071: LD_VAR 0 3
33075: PUSH
33076: LD_STRING #WarForTerritory-Flags-Public
33078: PUSH
33079: LD_VAR 0 2
33083: PUSH
33084: LD_VAR 0 2
33088: PUSH
33089: LD_LOC 31
33093: PUSH
33094: LD_VAR 0 2
33098: ARRAY
33099: PUSH
33100: LD_LOC 32
33104: PUSH
33105: EMPTY
33106: LIST
33107: LIST
33108: LIST
33109: LIST
33110: LIST
33111: ADD
33112: ST_TO_ADDR
// s = s ^ teams_p [ side ] ;
33113: LD_ADDR_VAR 0 9
33117: PUSH
33118: LD_VAR 0 9
33122: PUSH
33123: LD_LOC 31
33127: PUSH
33128: LD_VAR 0 2
33132: ARRAY
33133: ADD
33134: ST_TO_ADDR
// end else
33135: GO 33151
// s = s ^ 0 ;
33137: LD_ADDR_VAR 0 9
33141: PUSH
33142: LD_VAR 0 9
33146: PUSH
33147: LD_INT 0
33149: ADD
33150: ST_TO_ADDR
33151: GO 33051
33153: POP
33154: POP
// LScore_Update_Peices ( 3 , s ) ;
33155: LD_INT 3
33157: PPUSH
33158: LD_VAR 0 9
33162: PPUSH
33163: CALL 36896 0 2
// end else
33167: GO 33422
// begin if Teams [ 1 ] then
33169: LD_EXP 73
33173: PUSH
33174: LD_INT 1
33176: ARRAY
33177: IFFALSE 33216
// vypis := vypis ^ [ #WarForTerritory-Flags-Public-red , 3 , teams_p [ 1 ] , WFT_Goal ] ;
33179: LD_ADDR_VAR 0 3
33183: PUSH
33184: LD_VAR 0 3
33188: PUSH
33189: LD_STRING #WarForTerritory-Flags-Public-red
33191: PUSH
33192: LD_INT 3
33194: PUSH
33195: LD_LOC 31
33199: PUSH
33200: LD_INT 1
33202: ARRAY
33203: PUSH
33204: LD_LOC 32
33208: PUSH
33209: EMPTY
33210: LIST
33211: LIST
33212: LIST
33213: LIST
33214: ADD
33215: ST_TO_ADDR
// if Teams [ 2 ] then
33216: LD_EXP 73
33220: PUSH
33221: LD_INT 2
33223: ARRAY
33224: IFFALSE 33263
// vypis := vypis ^ [ #WarForTerritory-Flags-Public-blue , 1 , teams_p [ 2 ] , WFT_Goal ] ;
33226: LD_ADDR_VAR 0 3
33230: PUSH
33231: LD_VAR 0 3
33235: PUSH
33236: LD_STRING #WarForTerritory-Flags-Public-blue
33238: PUSH
33239: LD_INT 1
33241: PUSH
33242: LD_LOC 31
33246: PUSH
33247: LD_INT 2
33249: ARRAY
33250: PUSH
33251: LD_LOC 32
33255: PUSH
33256: EMPTY
33257: LIST
33258: LIST
33259: LIST
33260: LIST
33261: ADD
33262: ST_TO_ADDR
// if Teams [ 3 ] then
33263: LD_EXP 73
33267: PUSH
33268: LD_INT 3
33270: ARRAY
33271: IFFALSE 33310
// vypis := vypis ^ [ #WarForTerritory-Flags-Public-yell , 2 , teams_p [ 3 ] , WFT_Goal ] ;
33273: LD_ADDR_VAR 0 3
33277: PUSH
33278: LD_VAR 0 3
33282: PUSH
33283: LD_STRING #WarForTerritory-Flags-Public-yell
33285: PUSH
33286: LD_INT 2
33288: PUSH
33289: LD_LOC 31
33293: PUSH
33294: LD_INT 3
33296: ARRAY
33297: PUSH
33298: LD_LOC 32
33302: PUSH
33303: EMPTY
33304: LIST
33305: LIST
33306: LIST
33307: LIST
33308: ADD
33309: ST_TO_ADDR
// if Teams [ 4 ] then
33310: LD_EXP 73
33314: PUSH
33315: LD_INT 4
33317: ARRAY
33318: IFFALSE 33357
// vypis := vypis ^ [ #WarForTerritory-Flags-Public-green , 7 , teams_p [ 4 ] , WFT_Goal ] ;
33320: LD_ADDR_VAR 0 3
33324: PUSH
33325: LD_VAR 0 3
33329: PUSH
33330: LD_STRING #WarForTerritory-Flags-Public-green
33332: PUSH
33333: LD_INT 7
33335: PUSH
33336: LD_LOC 31
33340: PUSH
33341: LD_INT 4
33343: ARRAY
33344: PUSH
33345: LD_LOC 32
33349: PUSH
33350: EMPTY
33351: LIST
33352: LIST
33353: LIST
33354: LIST
33355: ADD
33356: ST_TO_ADDR
// LScore_Update_Peices ( 3 , [ teams_p [ 2 ] , teams_p [ 3 ] , teams_p [ 1 ] , 0 , 0 , 0 , teams_p [ 4 ] , 0 ] ) ;
33357: LD_INT 3
33359: PPUSH
33360: LD_LOC 31
33364: PUSH
33365: LD_INT 2
33367: ARRAY
33368: PUSH
33369: LD_LOC 31
33373: PUSH
33374: LD_INT 3
33376: ARRAY
33377: PUSH
33378: LD_LOC 31
33382: PUSH
33383: LD_INT 1
33385: ARRAY
33386: PUSH
33387: LD_INT 0
33389: PUSH
33390: LD_INT 0
33392: PUSH
33393: LD_INT 0
33395: PUSH
33396: LD_LOC 31
33400: PUSH
33401: LD_INT 4
33403: ARRAY
33404: PUSH
33405: LD_INT 0
33407: PUSH
33408: EMPTY
33409: LIST
33410: LIST
33411: LIST
33412: LIST
33413: LIST
33414: LIST
33415: LIST
33416: LIST
33417: PPUSH
33418: CALL 36896 0 2
// end ; end else
33422: GO 33668
// begin if not Team_Game then
33424: LD_EXP 80
33428: NOT
33429: IFFALSE 33480
// begin vypis := vypis ^ [ #WarForTerritory-Flags-Private , your_side , your_side , teams_p [ side ] , WFT_Goal ] ;
33431: LD_ADDR_VAR 0 3
33435: PUSH
33436: LD_VAR 0 3
33440: PUSH
33441: LD_STRING #WarForTerritory-Flags-Private
33443: PUSH
33444: LD_OWVAR 2
33448: PUSH
33449: LD_OWVAR 2
33453: PUSH
33454: LD_LOC 31
33458: PUSH
33459: LD_VAR 0 2
33463: ARRAY
33464: PUSH
33465: LD_LOC 32
33469: PUSH
33470: EMPTY
33471: LIST
33472: LIST
33473: LIST
33474: LIST
33475: LIST
33476: ADD
33477: ST_TO_ADDR
// end else
33478: GO 33668
// begin if your_side in Teams [ 1 ] then
33480: LD_OWVAR 2
33484: PUSH
33485: LD_EXP 73
33489: PUSH
33490: LD_INT 1
33492: ARRAY
33493: IN
33494: IFFALSE 33527
// vypis := [ #WarForTerritory-points-Flags-red , 3 , teams_p [ 1 ] , WFT_Goal ] ;
33496: LD_ADDR_VAR 0 3
33500: PUSH
33501: LD_STRING #WarForTerritory-points-Flags-red
33503: PUSH
33504: LD_INT 3
33506: PUSH
33507: LD_LOC 31
33511: PUSH
33512: LD_INT 1
33514: ARRAY
33515: PUSH
33516: LD_LOC 32
33520: PUSH
33521: EMPTY
33522: LIST
33523: LIST
33524: LIST
33525: LIST
33526: ST_TO_ADDR
// if your_side in Teams [ 2 ] then
33527: LD_OWVAR 2
33531: PUSH
33532: LD_EXP 73
33536: PUSH
33537: LD_INT 2
33539: ARRAY
33540: IN
33541: IFFALSE 33574
// vypis := [ #WarForTerritory-points-Flags-blue , 1 , teams_p [ 2 ] , WFT_Goal ] ;
33543: LD_ADDR_VAR 0 3
33547: PUSH
33548: LD_STRING #WarForTerritory-points-Flags-blue
33550: PUSH
33551: LD_INT 1
33553: PUSH
33554: LD_LOC 31
33558: PUSH
33559: LD_INT 2
33561: ARRAY
33562: PUSH
33563: LD_LOC 32
33567: PUSH
33568: EMPTY
33569: LIST
33570: LIST
33571: LIST
33572: LIST
33573: ST_TO_ADDR
// if your_side in Teams [ 3 ] then
33574: LD_OWVAR 2
33578: PUSH
33579: LD_EXP 73
33583: PUSH
33584: LD_INT 3
33586: ARRAY
33587: IN
33588: IFFALSE 33621
// vypis := [ #WarForTerritory-points-Flags-yell , 2 , teams_p [ 3 ] , WFT_Goal ] ;
33590: LD_ADDR_VAR 0 3
33594: PUSH
33595: LD_STRING #WarForTerritory-points-Flags-yell
33597: PUSH
33598: LD_INT 2
33600: PUSH
33601: LD_LOC 31
33605: PUSH
33606: LD_INT 3
33608: ARRAY
33609: PUSH
33610: LD_LOC 32
33614: PUSH
33615: EMPTY
33616: LIST
33617: LIST
33618: LIST
33619: LIST
33620: ST_TO_ADDR
// if your_side in Teams [ 4 ] then
33621: LD_OWVAR 2
33625: PUSH
33626: LD_EXP 73
33630: PUSH
33631: LD_INT 4
33633: ARRAY
33634: IN
33635: IFFALSE 33668
// vypis := [ #WarForTerritory-points-Flags-green , 7 , teams_p [ 4 ] , WFT_Goal ] ;
33637: LD_ADDR_VAR 0 3
33641: PUSH
33642: LD_STRING #WarForTerritory-points-Flags-green
33644: PUSH
33645: LD_INT 7
33647: PUSH
33648: LD_LOC 31
33652: PUSH
33653: LD_INT 4
33655: ARRAY
33656: PUSH
33657: LD_LOC 32
33661: PUSH
33662: EMPTY
33663: LIST
33664: LIST
33665: LIST
33666: LIST
33667: ST_TO_ADDR
// end ; end ; end else
33668: GO 34421
// if def_public_score or isSGUI then
33670: LD_EXP 34
33674: PUSH
33675: LD_OWVAR 83
33679: OR
33680: IFFALSE 34127
// begin if not Team_Game then
33682: LD_EXP 80
33686: NOT
33687: IFFALSE 33815
// begin for side = 1 to Side_Positions do
33689: LD_ADDR_VAR 0 2
33693: PUSH
33694: DOUBLE
33695: LD_INT 1
33697: DEC
33698: ST_TO_ADDR
33699: LD_EXP 75
33703: PUSH
33704: FOR_TO
33705: IFFALSE 33811
// if Side_Positions [ side ] then
33707: LD_EXP 75
33711: PUSH
33712: LD_VAR 0 2
33716: ARRAY
33717: IFFALSE 33809
// begin vypis := vypis ^ [ #WarForTerritory-points-Public , side , side , teams_p [ side ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
33719: LD_ADDR_VAR 0 3
33723: PUSH
33724: LD_VAR 0 3
33728: PUSH
33729: LD_STRING #WarForTerritory-points-Public
33731: PUSH
33732: LD_VAR 0 2
33736: PUSH
33737: LD_VAR 0 2
33741: PUSH
33742: LD_LOC 31
33746: PUSH
33747: LD_VAR 0 2
33751: ARRAY
33752: PUSH
33753: LD_INT 3
33755: PUSH
33756: LD_EXP 121
33760: MUL
33761: DIV
33762: PUSH
33763: LD_LOC 32
33767: PUSH
33768: EMPTY
33769: LIST
33770: LIST
33771: LIST
33772: LIST
33773: LIST
33774: ADD
33775: ST_TO_ADDR
// LScore_Update_Points ( 3 , side , ( teams_p [ side ] div ( 3 * WFT_Points_MP ) ) ) ;
33776: LD_INT 3
33778: PPUSH
33779: LD_VAR 0 2
33783: PPUSH
33784: LD_LOC 31
33788: PUSH
33789: LD_VAR 0 2
33793: ARRAY
33794: PUSH
33795: LD_INT 3
33797: PUSH
33798: LD_EXP 121
33802: MUL
33803: DIV
33804: PPUSH
33805: CALL 36724 0 3
// end ;
33809: GO 33704
33811: POP
33812: POP
// end else
33813: GO 34125
// begin if Teams [ 1 ] then
33815: LD_EXP 73
33819: PUSH
33820: LD_INT 1
33822: ARRAY
33823: IFFALSE 33872
// vypis := vypis ^ [ #WarForTerritory-points-Public-red , 3 , teams_p [ 1 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
33825: LD_ADDR_VAR 0 3
33829: PUSH
33830: LD_VAR 0 3
33834: PUSH
33835: LD_STRING #WarForTerritory-points-Public-red
33837: PUSH
33838: LD_INT 3
33840: PUSH
33841: LD_LOC 31
33845: PUSH
33846: LD_INT 1
33848: ARRAY
33849: PUSH
33850: LD_INT 3
33852: PUSH
33853: LD_EXP 121
33857: MUL
33858: DIV
33859: PUSH
33860: LD_LOC 32
33864: PUSH
33865: EMPTY
33866: LIST
33867: LIST
33868: LIST
33869: LIST
33870: ADD
33871: ST_TO_ADDR
// if Teams [ 2 ] then
33872: LD_EXP 73
33876: PUSH
33877: LD_INT 2
33879: ARRAY
33880: IFFALSE 33929
// vypis := vypis ^ [ #WarForTerritory-points-Public-blue , 1 , teams_p [ 2 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
33882: LD_ADDR_VAR 0 3
33886: PUSH
33887: LD_VAR 0 3
33891: PUSH
33892: LD_STRING #WarForTerritory-points-Public-blue
33894: PUSH
33895: LD_INT 1
33897: PUSH
33898: LD_LOC 31
33902: PUSH
33903: LD_INT 2
33905: ARRAY
33906: PUSH
33907: LD_INT 3
33909: PUSH
33910: LD_EXP 121
33914: MUL
33915: DIV
33916: PUSH
33917: LD_LOC 32
33921: PUSH
33922: EMPTY
33923: LIST
33924: LIST
33925: LIST
33926: LIST
33927: ADD
33928: ST_TO_ADDR
// if Teams [ 3 ] then
33929: LD_EXP 73
33933: PUSH
33934: LD_INT 3
33936: ARRAY
33937: IFFALSE 33986
// vypis := vypis ^ [ #WarForTerritory-points-Public-yell , 2 , teams_p [ 3 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
33939: LD_ADDR_VAR 0 3
33943: PUSH
33944: LD_VAR 0 3
33948: PUSH
33949: LD_STRING #WarForTerritory-points-Public-yell
33951: PUSH
33952: LD_INT 2
33954: PUSH
33955: LD_LOC 31
33959: PUSH
33960: LD_INT 3
33962: ARRAY
33963: PUSH
33964: LD_INT 3
33966: PUSH
33967: LD_EXP 121
33971: MUL
33972: DIV
33973: PUSH
33974: LD_LOC 32
33978: PUSH
33979: EMPTY
33980: LIST
33981: LIST
33982: LIST
33983: LIST
33984: ADD
33985: ST_TO_ADDR
// if Teams [ 4 ] then
33986: LD_EXP 73
33990: PUSH
33991: LD_INT 4
33993: ARRAY
33994: IFFALSE 34043
// vypis := vypis ^ [ #WarForTerritory-points-Public-green , 7 , teams_p [ 4 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
33996: LD_ADDR_VAR 0 3
34000: PUSH
34001: LD_VAR 0 3
34005: PUSH
34006: LD_STRING #WarForTerritory-points-Public-green
34008: PUSH
34009: LD_INT 7
34011: PUSH
34012: LD_LOC 31
34016: PUSH
34017: LD_INT 4
34019: ARRAY
34020: PUSH
34021: LD_INT 3
34023: PUSH
34024: LD_EXP 121
34028: MUL
34029: DIV
34030: PUSH
34031: LD_LOC 32
34035: PUSH
34036: EMPTY
34037: LIST
34038: LIST
34039: LIST
34040: LIST
34041: ADD
34042: ST_TO_ADDR
// s = [ 3 , 1 , 2 , 7 ] ;
34043: LD_ADDR_VAR 0 9
34047: PUSH
34048: LD_INT 3
34050: PUSH
34051: LD_INT 1
34053: PUSH
34054: LD_INT 2
34056: PUSH
34057: LD_INT 7
34059: PUSH
34060: EMPTY
34061: LIST
34062: LIST
34063: LIST
34064: LIST
34065: ST_TO_ADDR
// for i = 1 to 4 do
34066: LD_ADDR_VAR 0 4
34070: PUSH
34071: DOUBLE
34072: LD_INT 1
34074: DEC
34075: ST_TO_ADDR
34076: LD_INT 4
34078: PUSH
34079: FOR_TO
34080: IFFALSE 34123
// LScore_Update_Points ( 3 , s [ i ] , ( teams_p [ i ] div ( 3 * WFT_Points_MP ) ) ) ;
34082: LD_INT 3
34084: PPUSH
34085: LD_VAR 0 9
34089: PUSH
34090: LD_VAR 0 4
34094: ARRAY
34095: PPUSH
34096: LD_LOC 31
34100: PUSH
34101: LD_VAR 0 4
34105: ARRAY
34106: PUSH
34107: LD_INT 3
34109: PUSH
34110: LD_EXP 121
34114: MUL
34115: DIV
34116: PPUSH
34117: CALL 36724 0 3
34121: GO 34079
34123: POP
34124: POP
// end ; end else
34125: GO 34421
// if not Team_Game then
34127: LD_EXP 80
34131: NOT
34132: IFFALSE 34193
// begin vypis := vypis ^ [ #WarForTerritory-points-Private , your_side , your_side , teams_p [ side ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] end else
34134: LD_ADDR_VAR 0 3
34138: PUSH
34139: LD_VAR 0 3
34143: PUSH
34144: LD_STRING #WarForTerritory-points-Private
34146: PUSH
34147: LD_OWVAR 2
34151: PUSH
34152: LD_OWVAR 2
34156: PUSH
34157: LD_LOC 31
34161: PUSH
34162: LD_VAR 0 2
34166: ARRAY
34167: PUSH
34168: LD_INT 3
34170: PUSH
34171: LD_EXP 121
34175: MUL
34176: DIV
34177: PUSH
34178: LD_LOC 32
34182: PUSH
34183: EMPTY
34184: LIST
34185: LIST
34186: LIST
34187: LIST
34188: LIST
34189: ADD
34190: ST_TO_ADDR
34191: GO 34421
// begin if your_side in Teams [ 1 ] then
34193: LD_OWVAR 2
34197: PUSH
34198: LD_EXP 73
34202: PUSH
34203: LD_INT 1
34205: ARRAY
34206: IN
34207: IFFALSE 34250
// vypis := [ #WarForTerritory-points-Public-red , 3 , teams_p [ 1 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
34209: LD_ADDR_VAR 0 3
34213: PUSH
34214: LD_STRING #WarForTerritory-points-Public-red
34216: PUSH
34217: LD_INT 3
34219: PUSH
34220: LD_LOC 31
34224: PUSH
34225: LD_INT 1
34227: ARRAY
34228: PUSH
34229: LD_INT 3
34231: PUSH
34232: LD_EXP 121
34236: MUL
34237: DIV
34238: PUSH
34239: LD_LOC 32
34243: PUSH
34244: EMPTY
34245: LIST
34246: LIST
34247: LIST
34248: LIST
34249: ST_TO_ADDR
// if your_side in Teams [ 2 ] then
34250: LD_OWVAR 2
34254: PUSH
34255: LD_EXP 73
34259: PUSH
34260: LD_INT 2
34262: ARRAY
34263: IN
34264: IFFALSE 34307
// vypis := [ #WarForTerritory-points-Public-blue , 1 , teams_p [ 2 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
34266: LD_ADDR_VAR 0 3
34270: PUSH
34271: LD_STRING #WarForTerritory-points-Public-blue
34273: PUSH
34274: LD_INT 1
34276: PUSH
34277: LD_LOC 31
34281: PUSH
34282: LD_INT 2
34284: ARRAY
34285: PUSH
34286: LD_INT 3
34288: PUSH
34289: LD_EXP 121
34293: MUL
34294: DIV
34295: PUSH
34296: LD_LOC 32
34300: PUSH
34301: EMPTY
34302: LIST
34303: LIST
34304: LIST
34305: LIST
34306: ST_TO_ADDR
// if your_side in Teams [ 3 ] then
34307: LD_OWVAR 2
34311: PUSH
34312: LD_EXP 73
34316: PUSH
34317: LD_INT 3
34319: ARRAY
34320: IN
34321: IFFALSE 34364
// vypis := [ #WarForTerritory-points-Public-yell , 2 , teams_p [ 3 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
34323: LD_ADDR_VAR 0 3
34327: PUSH
34328: LD_STRING #WarForTerritory-points-Public-yell
34330: PUSH
34331: LD_INT 2
34333: PUSH
34334: LD_LOC 31
34338: PUSH
34339: LD_INT 3
34341: ARRAY
34342: PUSH
34343: LD_INT 3
34345: PUSH
34346: LD_EXP 121
34350: MUL
34351: DIV
34352: PUSH
34353: LD_LOC 32
34357: PUSH
34358: EMPTY
34359: LIST
34360: LIST
34361: LIST
34362: LIST
34363: ST_TO_ADDR
// if your_side in Teams [ 4 ] then
34364: LD_OWVAR 2
34368: PUSH
34369: LD_EXP 73
34373: PUSH
34374: LD_INT 4
34376: ARRAY
34377: IN
34378: IFFALSE 34421
// vypis := [ #WarForTerritory-points-Public-green , 7 , teams_p [ 4 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
34380: LD_ADDR_VAR 0 3
34384: PUSH
34385: LD_STRING #WarForTerritory-points-Public-green
34387: PUSH
34388: LD_INT 7
34390: PUSH
34391: LD_LOC 31
34395: PUSH
34396: LD_INT 4
34398: ARRAY
34399: PUSH
34400: LD_INT 3
34402: PUSH
34403: LD_EXP 121
34407: MUL
34408: DIV
34409: PUSH
34410: LD_LOC 32
34414: PUSH
34415: EMPTY
34416: LIST
34417: LIST
34418: LIST
34419: LIST
34420: ST_TO_ADDR
// end ; Display_WFG := vypis ;
34421: LD_ADDR_EXP 113
34425: PUSH
34426: LD_VAR 0 3
34430: ST_TO_ADDR
// end ; end_of_file
34431: LD_VAR 0 1
34435: RET
// export function SA_OnSiberiteRocketExploded ( siberite_rocket_vehicle , target_x , target_y , requestSide ) ; begin
34436: LD_INT 0
34438: PPUSH
// if GetSide ( siberite_rocket_vehicle ) = requestSide then
34439: LD_VAR 0 1
34443: PPUSH
34444: CALL_OW 255
34448: PUSH
34449: LD_VAR 0 4
34453: EQUAL
34454: IFFALSE 34473
// begin SetAchievement ( ACH_RAD ) ;
34456: LD_STRING ACH_RAD
34458: PPUSH
34459: CALL_OW 543
// SetAchievementEx ( ACH_NL , 1 ) ;
34463: LD_STRING ACH_NL
34465: PPUSH
34466: LD_INT 1
34468: PPUSH
34469: CALL_OW 564
// end end ;
34473: LD_VAR 0 5
34477: RET
// export function SA_Win ( side ) ; begin
34478: LD_INT 0
34480: PPUSH
// case side of 1 :
34481: LD_VAR 0 1
34485: PUSH
34486: LD_INT 1
34488: DOUBLE
34489: EQUAL
34490: IFTRUE 34494
34492: GO 34507
34494: POP
// SetAchievementEx ( ACH_AH , 1 ) ; 2 :
34495: LD_STRING ACH_AH
34497: PPUSH
34498: LD_INT 1
34500: PPUSH
34501: CALL_OW 564
34505: GO 34670
34507: LD_INT 2
34509: DOUBLE
34510: EQUAL
34511: IFTRUE 34515
34513: GO 34528
34515: POP
// SetAchievementEx ( ACH_E , 1 ) ; 3 :
34516: LD_STRING ACH_E
34518: PPUSH
34519: LD_INT 1
34521: PPUSH
34522: CALL_OW 564
34526: GO 34670
34528: LD_INT 3
34530: DOUBLE
34531: EQUAL
34532: IFTRUE 34536
34534: GO 34549
34536: POP
// SetAchievementEx ( ACH_OOL , 1 ) ; [ 1 , 2 ] :
34537: LD_STRING ACH_OOL
34539: PPUSH
34540: LD_INT 1
34542: PPUSH
34543: CALL_OW 564
34547: GO 34670
34549: LD_INT 1
34551: PUSH
34552: LD_INT 2
34554: PUSH
34555: EMPTY
34556: LIST
34557: LIST
34558: DOUBLE
34559: EQUAL
34560: IFTRUE 34564
34562: GO 34589
34564: POP
// begin SetAchievementEx ( ACH_AH , 0.5 ) ;
34565: LD_STRING ACH_AH
34567: PPUSH
34568: LD_REAL  5.00000000000000E-0001
34571: PPUSH
34572: CALL_OW 564
// SetAchievementEx ( ACH_E , 0.5 ) ;
34576: LD_STRING ACH_E
34578: PPUSH
34579: LD_REAL  5.00000000000000E-0001
34582: PPUSH
34583: CALL_OW 564
// end ; [ 2 , 3 ] :
34587: GO 34670
34589: LD_INT 2
34591: PUSH
34592: LD_INT 3
34594: PUSH
34595: EMPTY
34596: LIST
34597: LIST
34598: DOUBLE
34599: EQUAL
34600: IFTRUE 34604
34602: GO 34629
34604: POP
// begin SetAchievementEx ( ACH_OOL , 0.5 ) ;
34605: LD_STRING ACH_OOL
34607: PPUSH
34608: LD_REAL  5.00000000000000E-0001
34611: PPUSH
34612: CALL_OW 564
// SetAchievementEx ( ACH_E , 0.5 ) ;
34616: LD_STRING ACH_E
34618: PPUSH
34619: LD_REAL  5.00000000000000E-0001
34622: PPUSH
34623: CALL_OW 564
// end ; [ 3 , 1 ] :
34627: GO 34670
34629: LD_INT 3
34631: PUSH
34632: LD_INT 1
34634: PUSH
34635: EMPTY
34636: LIST
34637: LIST
34638: DOUBLE
34639: EQUAL
34640: IFTRUE 34644
34642: GO 34669
34644: POP
// begin SetAchievementEx ( ACH_AH , 0.5 ) ;
34645: LD_STRING ACH_AH
34647: PPUSH
34648: LD_REAL  5.00000000000000E-0001
34651: PPUSH
34652: CALL_OW 564
// SetAchievementEx ( ACH_OOL , 0.5 ) ;
34656: LD_STRING ACH_OOL
34658: PPUSH
34659: LD_REAL  5.00000000000000E-0001
34662: PPUSH
34663: CALL_OW 564
// end ; end ;
34667: GO 34670
34669: POP
// end ; end_of_file
34670: LD_VAR 0 2
34674: RET
// var sharedPoints1 , sharedPoints2 , sharedPoints3 ; var pointGame ; export function InitPoints ( ) ; var i , d ; begin
34675: LD_INT 0
34677: PPUSH
34678: PPUSH
34679: PPUSH
// sharedPoints1 = [ ] ;
34680: LD_ADDR_LOC 35
34684: PUSH
34685: EMPTY
34686: ST_TO_ADDR
// sharedPoints2 = [ ] ;
34687: LD_ADDR_LOC 36
34691: PUSH
34692: EMPTY
34693: ST_TO_ADDR
// sharedPoints3 = [ ] ;
34694: LD_ADDR_LOC 37
34698: PUSH
34699: EMPTY
34700: ST_TO_ADDR
// for i = 1 to Side_Positions + 0 do
34701: LD_ADDR_VAR 0 2
34705: PUSH
34706: DOUBLE
34707: LD_INT 1
34709: DEC
34710: ST_TO_ADDR
34711: LD_EXP 75
34715: PUSH
34716: LD_INT 0
34718: PLUS
34719: PUSH
34720: FOR_TO
34721: IFFALSE 34823
// begin if not Side_Positions [ i ] = 0 then
34723: LD_EXP 75
34727: PUSH
34728: LD_VAR 0 2
34732: ARRAY
34733: PUSH
34734: LD_INT 0
34736: EQUAL
34737: NOT
34738: IFFALSE 34752
// SetMultiScore ( i , 0 ) ;
34740: LD_VAR 0 2
34744: PPUSH
34745: LD_INT 0
34747: PPUSH
34748: CALL_OW 506
// sharedPoints1 = Replace ( sharedPoints1 , i , 0 ) ;
34752: LD_ADDR_LOC 35
34756: PUSH
34757: LD_LOC 35
34761: PPUSH
34762: LD_VAR 0 2
34766: PPUSH
34767: LD_INT 0
34769: PPUSH
34770: CALL_OW 1
34774: ST_TO_ADDR
// sharedPoints2 = Replace ( sharedPoints2 , i , 0 ) ;
34775: LD_ADDR_LOC 36
34779: PUSH
34780: LD_LOC 36
34784: PPUSH
34785: LD_VAR 0 2
34789: PPUSH
34790: LD_INT 0
34792: PPUSH
34793: CALL_OW 1
34797: ST_TO_ADDR
// sharedPoints3 = Replace ( sharedPoints3 , i , 0 ) ;
34798: LD_ADDR_LOC 37
34802: PUSH
34803: LD_LOC 37
34807: PPUSH
34808: LD_VAR 0 2
34812: PPUSH
34813: LD_INT 0
34815: PPUSH
34816: CALL_OW 1
34820: ST_TO_ADDR
// end ;
34821: GO 34720
34823: POP
34824: POP
// pointGame = true ;
34825: LD_ADDR_LOC 38
34829: PUSH
34830: LD_INT 1
34832: ST_TO_ADDR
// end ;
34833: LD_VAR 0 1
34837: RET
// every 0 0$1 trigger pointGame do var i , red , blue , yel , green , redN , blueN , yelN , greenN , s , n , p , you ;
34838: LD_LOC 38
34842: IFFALSE 35272
34844: GO 34846
34846: DISABLE
34847: LD_INT 0
34849: PPUSH
34850: PPUSH
34851: PPUSH
34852: PPUSH
34853: PPUSH
34854: PPUSH
34855: PPUSH
34856: PPUSH
34857: PPUSH
34858: PPUSH
34859: PPUSH
34860: PPUSH
34861: PPUSH
// begin if isSGUI then
34862: LD_OWVAR 83
34866: IFFALSE 35272
// begin if Teams [ 1 ] then
34868: LD_EXP 73
34872: PUSH
34873: LD_INT 1
34875: ARRAY
34876: IFFALSE 34888
// red = true else
34878: LD_ADDR_VAR 0 2
34882: PUSH
34883: LD_INT 1
34885: ST_TO_ADDR
34886: GO 34896
// red = false ;
34888: LD_ADDR_VAR 0 2
34892: PUSH
34893: LD_INT 0
34895: ST_TO_ADDR
// if Teams [ 2 ] then
34896: LD_EXP 73
34900: PUSH
34901: LD_INT 2
34903: ARRAY
34904: IFFALSE 34916
// blue = true else
34906: LD_ADDR_VAR 0 3
34910: PUSH
34911: LD_INT 1
34913: ST_TO_ADDR
34914: GO 34924
// blue = false ;
34916: LD_ADDR_VAR 0 3
34920: PUSH
34921: LD_INT 0
34923: ST_TO_ADDR
// if Teams [ 3 ] then
34924: LD_EXP 73
34928: PUSH
34929: LD_INT 3
34931: ARRAY
34932: IFFALSE 34944
// yel = true else
34934: LD_ADDR_VAR 0 4
34938: PUSH
34939: LD_INT 1
34941: ST_TO_ADDR
34942: GO 34952
// yel = false ;
34944: LD_ADDR_VAR 0 4
34948: PUSH
34949: LD_INT 0
34951: ST_TO_ADDR
// if Teams [ 4 ] then
34952: LD_EXP 73
34956: PUSH
34957: LD_INT 4
34959: ARRAY
34960: IFFALSE 34972
// green = true else
34962: LD_ADDR_VAR 0 5
34966: PUSH
34967: LD_INT 1
34969: ST_TO_ADDR
34970: GO 34980
// green = false ;
34972: LD_ADDR_VAR 0 5
34976: PUSH
34977: LD_INT 0
34979: ST_TO_ADDR
// if def_public_score then
34980: LD_EXP 34
34984: IFFALSE 34996
// p = true else
34986: LD_ADDR_VAR 0 12
34990: PUSH
34991: LD_INT 1
34993: ST_TO_ADDR
34994: GO 35004
// p = false ;
34996: LD_ADDR_VAR 0 12
35000: PUSH
35001: LD_INT 0
35003: ST_TO_ADDR
// if team_game then
35004: LD_EXP 80
35008: IFFALSE 35088
// begin you = [ 3 , 1 , 2 , 7 ] [ player_team ] ;
35010: LD_ADDR_VAR 0 13
35014: PUSH
35015: LD_INT 3
35017: PUSH
35018: LD_INT 1
35020: PUSH
35021: LD_INT 2
35023: PUSH
35024: LD_INT 7
35026: PUSH
35027: EMPTY
35028: LIST
35029: LIST
35030: LIST
35031: LIST
35032: PUSH
35033: LD_EXP 71
35037: ARRAY
35038: ST_TO_ADDR
// s = [ blue , yel , red , false , false , false , green , false ] ;
35039: LD_ADDR_VAR 0 10
35043: PUSH
35044: LD_VAR 0 3
35048: PUSH
35049: LD_VAR 0 4
35053: PUSH
35054: LD_VAR 0 2
35058: PUSH
35059: LD_INT 0
35061: PUSH
35062: LD_INT 0
35064: PUSH
35065: LD_INT 0
35067: PUSH
35068: LD_VAR 0 5
35072: PUSH
35073: LD_INT 0
35075: PUSH
35076: EMPTY
35077: LIST
35078: LIST
35079: LIST
35080: LIST
35081: LIST
35082: LIST
35083: LIST
35084: LIST
35085: ST_TO_ADDR
// end else
35086: GO 35173
// begin you = your_side ;
35088: LD_ADDR_VAR 0 13
35092: PUSH
35093: LD_OWVAR 2
35097: ST_TO_ADDR
// s = [ ] ;
35098: LD_ADDR_VAR 0 10
35102: PUSH
35103: EMPTY
35104: ST_TO_ADDR
// for i = 1 to side_positions + 0 do
35105: LD_ADDR_VAR 0 1
35109: PUSH
35110: DOUBLE
35111: LD_INT 1
35113: DEC
35114: ST_TO_ADDR
35115: LD_EXP 75
35119: PUSH
35120: LD_INT 0
35122: PLUS
35123: PUSH
35124: FOR_TO
35125: IFFALSE 35171
// if side_positions [ i ] then
35127: LD_EXP 75
35131: PUSH
35132: LD_VAR 0 1
35136: ARRAY
35137: IFFALSE 35155
// s = s ^ true else
35139: LD_ADDR_VAR 0 10
35143: PUSH
35144: LD_VAR 0 10
35148: PUSH
35149: LD_INT 1
35151: ADD
35152: ST_TO_ADDR
35153: GO 35169
// s = s ^ false ;
35155: LD_ADDR_VAR 0 10
35159: PUSH
35160: LD_VAR 0 10
35164: PUSH
35165: LD_INT 0
35167: ADD
35168: ST_TO_ADDR
35169: GO 35124
35171: POP
35172: POP
// end ; LScore_Init ( s , p , you ) ;
35173: LD_VAR 0 10
35177: PPUSH
35178: LD_VAR 0 12
35182: PPUSH
35183: LD_VAR 0 13
35187: PPUSH
35188: CALL 35452 0 3
// if def_warForTerritory and WarForTerritory_flags then
35192: LD_EXP 36
35196: PUSH
35197: LD_EXP 65
35201: AND
35202: IFFALSE 35224
// LScore_Add_Pieces ( 3 , 3 , WarForTerritory_flags , MaxFlags ) ;
35204: LD_INT 3
35206: PPUSH
35207: LD_INT 3
35209: PPUSH
35210: LD_EXP 65
35214: PPUSH
35215: LD_EXP 114
35219: PPUSH
35220: CALL 36841 0 4
// if def_warForTerritory and WarForTerritory_Points then
35224: LD_EXP 36
35228: PUSH
35229: LD_EXP 64
35233: AND
35234: IFFALSE 35251
// LScore_Add_Points ( 3 , 3 , WarForTerritory_Points ) ;
35236: LD_INT 3
35238: PPUSH
35239: LD_INT 3
35241: PPUSH
35242: LD_EXP 64
35246: PPUSH
35247: CALL 36679 0 3
// if def_kings_age then
35251: LD_EXP 35
35255: IFFALSE 35272
// LScore_Add_Points ( 2 , 2 , final_count ) ;
35257: LD_INT 2
35259: PPUSH
35260: LD_INT 2
35262: PPUSH
35263: LD_EXP 57
35267: PPUSH
35268: CALL 36679 0 3
// end ; end ;
35272: PPOPN 13
35274: END
// export function SetSharedMultiScore ( side , points , typ ) ; var p ; begin
35275: LD_INT 0
35277: PPUSH
35278: PPUSH
// case typ of 1 :
35279: LD_VAR 0 3
35283: PUSH
35284: LD_INT 1
35286: DOUBLE
35287: EQUAL
35288: IFTRUE 35292
35290: GO 35320
35292: POP
// sharedPoints1 = Replace ( sharedPoints1 , side , points ) ; 2 :
35293: LD_ADDR_LOC 35
35297: PUSH
35298: LD_LOC 35
35302: PPUSH
35303: LD_VAR 0 1
35307: PPUSH
35308: LD_VAR 0 2
35312: PPUSH
35313: CALL_OW 1
35317: ST_TO_ADDR
35318: GO 35393
35320: LD_INT 2
35322: DOUBLE
35323: EQUAL
35324: IFTRUE 35328
35326: GO 35356
35328: POP
// sharedPoints2 = Replace ( sharedPoints2 , side , points ) ; 3 :
35329: LD_ADDR_LOC 36
35333: PUSH
35334: LD_LOC 36
35338: PPUSH
35339: LD_VAR 0 1
35343: PPUSH
35344: LD_VAR 0 2
35348: PPUSH
35349: CALL_OW 1
35353: ST_TO_ADDR
35354: GO 35393
35356: LD_INT 3
35358: DOUBLE
35359: EQUAL
35360: IFTRUE 35364
35362: GO 35392
35364: POP
// sharedPoints3 = Replace ( sharedPoints3 , side , points ) ; end ;
35365: LD_ADDR_LOC 37
35369: PUSH
35370: LD_LOC 37
35374: PPUSH
35375: LD_VAR 0 1
35379: PPUSH
35380: LD_VAR 0 2
35384: PPUSH
35385: CALL_OW 1
35389: ST_TO_ADDR
35390: GO 35393
35392: POP
// p = sharedPoints1 [ side ] + sharedPoints2 [ side ] + sharedPoints3 [ side ] ;
35393: LD_ADDR_VAR 0 5
35397: PUSH
35398: LD_LOC 35
35402: PUSH
35403: LD_VAR 0 1
35407: ARRAY
35408: PUSH
35409: LD_LOC 36
35413: PUSH
35414: LD_VAR 0 1
35418: ARRAY
35419: PLUS
35420: PUSH
35421: LD_LOC 37
35425: PUSH
35426: LD_VAR 0 1
35430: ARRAY
35431: PLUS
35432: ST_TO_ADDR
// SetMultiScore ( side , p ) ;
35433: LD_VAR 0 1
35437: PPUSH
35438: LD_VAR 0 5
35442: PPUSH
35443: CALL_OW 506
// end ; end_of_file
35447: LD_VAR 0 4
35451: RET
// export function LScore_Init ( sides , ifPScore , yourSide ) ; begin
35452: LD_INT 0
35454: PPUSH
// LScore_Init2 ( sides , ifPScore , yourSide , false ) ;
35455: LD_VAR 0 1
35459: PPUSH
35460: LD_VAR 0 2
35464: PPUSH
35465: LD_VAR 0 3
35469: PPUSH
35470: LD_INT 0
35472: PPUSH
35473: CALL 35482 0 4
// end ;
35477: LD_VAR 0 4
35481: RET
// export function LScore_Init2 ( sides , ifPScore , yourSide , lockTeam ) ; begin
35482: LD_INT 0
35484: PPUSH
// ToLua ( initScore({ & sides [ 1 ] & , & sides [ 2 ] & , & sides [ 3 ] & , & sides [ 4 ] & , & sides [ 5 ] & , & sides [ 6 ] & , & sides [ 7 ] & , & sides [ 8 ] & }, & ifPScore & , & yourSide & , & lockTeam & ); ) ;
35485: LD_STRING initScore({
35487: PUSH
35488: LD_VAR 0 1
35492: PUSH
35493: LD_INT 1
35495: ARRAY
35496: STR
35497: PUSH
35498: LD_STRING ,
35500: STR
35501: PUSH
35502: LD_VAR 0 1
35506: PUSH
35507: LD_INT 2
35509: ARRAY
35510: STR
35511: PUSH
35512: LD_STRING ,
35514: STR
35515: PUSH
35516: LD_VAR 0 1
35520: PUSH
35521: LD_INT 3
35523: ARRAY
35524: STR
35525: PUSH
35526: LD_STRING ,
35528: STR
35529: PUSH
35530: LD_VAR 0 1
35534: PUSH
35535: LD_INT 4
35537: ARRAY
35538: STR
35539: PUSH
35540: LD_STRING ,
35542: STR
35543: PUSH
35544: LD_VAR 0 1
35548: PUSH
35549: LD_INT 5
35551: ARRAY
35552: STR
35553: PUSH
35554: LD_STRING ,
35556: STR
35557: PUSH
35558: LD_VAR 0 1
35562: PUSH
35563: LD_INT 6
35565: ARRAY
35566: STR
35567: PUSH
35568: LD_STRING ,
35570: STR
35571: PUSH
35572: LD_VAR 0 1
35576: PUSH
35577: LD_INT 7
35579: ARRAY
35580: STR
35581: PUSH
35582: LD_STRING ,
35584: STR
35585: PUSH
35586: LD_VAR 0 1
35590: PUSH
35591: LD_INT 8
35593: ARRAY
35594: STR
35595: PUSH
35596: LD_STRING },
35598: STR
35599: PUSH
35600: LD_VAR 0 2
35604: STR
35605: PUSH
35606: LD_STRING ,
35608: STR
35609: PUSH
35610: LD_VAR 0 3
35614: STR
35615: PUSH
35616: LD_STRING ,
35618: STR
35619: PUSH
35620: LD_VAR 0 4
35624: STR
35625: PUSH
35626: LD_STRING );
35628: STR
35629: PPUSH
35630: CALL_OW 559
// end ;
35634: LD_VAR 0 5
35638: RET
// export function LScore_Reset ( ) ; begin
35639: LD_INT 0
35641: PPUSH
// ToLua ( ResetScorebar(); ) ;
35642: LD_STRING ResetScorebar();
35644: PPUSH
35645: CALL_OW 559
// end ;
35649: LD_VAR 0 1
35653: RET
// export function LScore_Delete ( ID ) ; begin
35654: LD_INT 0
35656: PPUSH
// ToLua ( deleteScore( & ID & ); ) ;
35657: LD_STRING deleteScore(
35659: PUSH
35660: LD_VAR 0 1
35664: STR
35665: PUSH
35666: LD_STRING );
35668: STR
35669: PPUSH
35670: CALL_OW 559
// end ;
35674: LD_VAR 0 2
35678: RET
// export function LScore_Add_Timer ( ID , typ , totalTime ) ; begin
35679: LD_INT 0
35681: PPUSH
// ToLua ( AST( & ID & , & typ & , & totalTime & ,); ) ;
35682: LD_STRING AST(
35684: PUSH
35685: LD_VAR 0 1
35689: STR
35690: PUSH
35691: LD_STRING ,
35693: STR
35694: PUSH
35695: LD_VAR 0 2
35699: STR
35700: PUSH
35701: LD_STRING ,
35703: STR
35704: PUSH
35705: LD_VAR 0 3
35709: STR
35710: PUSH
35711: LD_STRING ,);
35713: STR
35714: PPUSH
35715: CALL_OW 559
// end ;
35719: LD_VAR 0 4
35723: RET
// export function LScore_Add_Timer2 ( ID , typ , totalTime , show_total ) ; begin
35724: LD_INT 0
35726: PPUSH
// ToLua ( AST( & ID & , & typ & , & totalTime & , & show_total & ); ) ;
35727: LD_STRING AST(
35729: PUSH
35730: LD_VAR 0 1
35734: STR
35735: PUSH
35736: LD_STRING ,
35738: STR
35739: PUSH
35740: LD_VAR 0 2
35744: STR
35745: PUSH
35746: LD_STRING ,
35748: STR
35749: PUSH
35750: LD_VAR 0 3
35754: STR
35755: PUSH
35756: LD_STRING ,
35758: STR
35759: PUSH
35760: LD_VAR 0 4
35764: STR
35765: PUSH
35766: LD_STRING );
35768: STR
35769: PPUSH
35770: CALL_OW 559
// end ;
35774: LD_VAR 0 5
35778: RET
// export function LScore_Add_Timer3 ( ID , typ , totalTime , show_total , currentTime ) ; begin
35779: LD_INT 0
35781: PPUSH
// ToLua ( AST( & ID & , & typ & , & totalTime & , & show_total & , & currentTime & ); ) ;
35782: LD_STRING AST(
35784: PUSH
35785: LD_VAR 0 1
35789: STR
35790: PUSH
35791: LD_STRING ,
35793: STR
35794: PUSH
35795: LD_VAR 0 2
35799: STR
35800: PUSH
35801: LD_STRING ,
35803: STR
35804: PUSH
35805: LD_VAR 0 3
35809: STR
35810: PUSH
35811: LD_STRING ,
35813: STR
35814: PUSH
35815: LD_VAR 0 4
35819: STR
35820: PUSH
35821: LD_STRING ,
35823: STR
35824: PUSH
35825: LD_VAR 0 5
35829: STR
35830: PUSH
35831: LD_STRING );
35833: STR
35834: PPUSH
35835: CALL_OW 559
// end ;
35839: LD_VAR 0 6
35843: RET
// export function LScore_Add_ReverseTimer ( ID , typ , totalTime ) ; begin
35844: LD_INT 0
35846: PPUSH
// ToLua ( ASRT( & ID & , & typ & , & totalTime & ,); ) ;
35847: LD_STRING ASRT(
35849: PUSH
35850: LD_VAR 0 1
35854: STR
35855: PUSH
35856: LD_STRING ,
35858: STR
35859: PUSH
35860: LD_VAR 0 2
35864: STR
35865: PUSH
35866: LD_STRING ,
35868: STR
35869: PUSH
35870: LD_VAR 0 3
35874: STR
35875: PUSH
35876: LD_STRING ,);
35878: STR
35879: PPUSH
35880: CALL_OW 559
// end ;
35884: LD_VAR 0 4
35888: RET
// export function LScore_Add_ReverseTimer2 ( ID , typ , totalTime , show_total ) ; begin
35889: LD_INT 0
35891: PPUSH
// ToLua ( ASRT( & ID & , & typ & , & totalTime & , & show_total & ); ) ;
35892: LD_STRING ASRT(
35894: PUSH
35895: LD_VAR 0 1
35899: STR
35900: PUSH
35901: LD_STRING ,
35903: STR
35904: PUSH
35905: LD_VAR 0 2
35909: STR
35910: PUSH
35911: LD_STRING ,
35913: STR
35914: PUSH
35915: LD_VAR 0 3
35919: STR
35920: PUSH
35921: LD_STRING ,
35923: STR
35924: PUSH
35925: LD_VAR 0 4
35929: STR
35930: PUSH
35931: LD_STRING );
35933: STR
35934: PPUSH
35935: CALL_OW 559
// end ;
35939: LD_VAR 0 5
35943: RET
// export function LScore_Add_ReverseTimer3 ( ID , typ , totalTime , show_total , currentTime ) ; begin
35944: LD_INT 0
35946: PPUSH
// ToLua ( ASRT( & ID & , & typ & , & totalTime & , & show_total & , & currentTime & ); ) ;
35947: LD_STRING ASRT(
35949: PUSH
35950: LD_VAR 0 1
35954: STR
35955: PUSH
35956: LD_STRING ,
35958: STR
35959: PUSH
35960: LD_VAR 0 2
35964: STR
35965: PUSH
35966: LD_STRING ,
35968: STR
35969: PUSH
35970: LD_VAR 0 3
35974: STR
35975: PUSH
35976: LD_STRING ,
35978: STR
35979: PUSH
35980: LD_VAR 0 4
35984: STR
35985: PUSH
35986: LD_STRING ,
35988: STR
35989: PUSH
35990: LD_VAR 0 5
35994: STR
35995: PUSH
35996: LD_STRING );
35998: STR
35999: PPUSH
36000: CALL_OW 559
// end ;
36004: LD_VAR 0 6
36008: RET
// export function LScore_update_Timer ( ID , currentTime ) ; begin
36009: LD_INT 0
36011: PPUSH
// ToLua ( UST( & id & , & currentTime & ); ) ;
36012: LD_STRING UST(
36014: PUSH
36015: LD_VAR 0 1
36019: STR
36020: PUSH
36021: LD_STRING ,
36023: STR
36024: PUSH
36025: LD_VAR 0 2
36029: STR
36030: PUSH
36031: LD_STRING );
36033: STR
36034: PPUSH
36035: CALL_OW 559
// end ;
36039: LD_VAR 0 3
36043: RET
// export function LScore_update_Timer2 ( ID , currentTime , totalTime ) ; begin
36044: LD_INT 0
36046: PPUSH
// ToLua ( UST( & id & , & currentTime & , & totalTime & ); ) ;
36047: LD_STRING UST(
36049: PUSH
36050: LD_VAR 0 1
36054: STR
36055: PUSH
36056: LD_STRING ,
36058: STR
36059: PUSH
36060: LD_VAR 0 2
36064: STR
36065: PUSH
36066: LD_STRING ,
36068: STR
36069: PUSH
36070: LD_VAR 0 3
36074: STR
36075: PUSH
36076: LD_STRING );
36078: STR
36079: PPUSH
36080: CALL_OW 559
// end ;
36084: LD_VAR 0 4
36088: RET
// export function LScore_Change_TimerColourRGB ( id , red , green , blue ) ; begin
36089: LD_INT 0
36091: PPUSH
// ToLua ( CCST( & id & ,{ & red & , & green & , & blue & }); ) ;
36092: LD_STRING CCST(
36094: PUSH
36095: LD_VAR 0 1
36099: STR
36100: PUSH
36101: LD_STRING ,{
36103: STR
36104: PUSH
36105: LD_VAR 0 2
36109: STR
36110: PUSH
36111: LD_STRING ,
36113: STR
36114: PUSH
36115: LD_VAR 0 3
36119: STR
36120: PUSH
36121: LD_STRING ,
36123: STR
36124: PUSH
36125: LD_VAR 0 4
36129: STR
36130: PUSH
36131: LD_STRING });
36133: STR
36134: PPUSH
36135: CALL_OW 559
// end ;
36139: LD_VAR 0 5
36143: RET
// export function LScore_Change_TimerColour ( id , side ) ; begin
36144: LD_INT 0
36146: PPUSH
// ToLua ( CCST( & id & , & side & ); ) ;
36147: LD_STRING CCST(
36149: PUSH
36150: LD_VAR 0 1
36154: STR
36155: PUSH
36156: LD_STRING ,
36158: STR
36159: PUSH
36160: LD_VAR 0 2
36164: STR
36165: PUSH
36166: LD_STRING );
36168: STR
36169: PPUSH
36170: CALL_OW 559
// end ;
36174: LD_VAR 0 3
36178: RET
// export function LScore_Add_SinglePoints ( ID , typ , totalPoints ) ; begin
36179: LD_INT 0
36181: PPUSH
// ToLua ( ASSP( & ID & , & typ & , & totalPoints & ,); ) ;
36182: LD_STRING ASSP(
36184: PUSH
36185: LD_VAR 0 1
36189: STR
36190: PUSH
36191: LD_STRING ,
36193: STR
36194: PUSH
36195: LD_VAR 0 2
36199: STR
36200: PUSH
36201: LD_STRING ,
36203: STR
36204: PUSH
36205: LD_VAR 0 3
36209: STR
36210: PUSH
36211: LD_STRING ,);
36213: STR
36214: PPUSH
36215: CALL_OW 559
// end ;
36219: LD_VAR 0 4
36223: RET
// export function LScore_Add_SinglePoints2 ( ID , typ , totalPoints , show_total ) ; begin
36224: LD_INT 0
36226: PPUSH
// ToLua ( ASSP( & ID & , & typ & , & totalPoints & , & show_total & ); ) ;
36227: LD_STRING ASSP(
36229: PUSH
36230: LD_VAR 0 1
36234: STR
36235: PUSH
36236: LD_STRING ,
36238: STR
36239: PUSH
36240: LD_VAR 0 2
36244: STR
36245: PUSH
36246: LD_STRING ,
36248: STR
36249: PUSH
36250: LD_VAR 0 3
36254: STR
36255: PUSH
36256: LD_STRING ,
36258: STR
36259: PUSH
36260: LD_VAR 0 4
36264: STR
36265: PUSH
36266: LD_STRING );
36268: STR
36269: PPUSH
36270: CALL_OW 559
// end ;
36274: LD_VAR 0 5
36278: RET
// export function LScore_Add_SinglePoints3 ( ID , typ , totalPoints , show_total , currentPoints ) ; begin
36279: LD_INT 0
36281: PPUSH
// ToLua ( ASSP( & ID & , & typ & , & totalPoints & , & show_total & , & currentPoints & ); ) ;
36282: LD_STRING ASSP(
36284: PUSH
36285: LD_VAR 0 1
36289: STR
36290: PUSH
36291: LD_STRING ,
36293: STR
36294: PUSH
36295: LD_VAR 0 2
36299: STR
36300: PUSH
36301: LD_STRING ,
36303: STR
36304: PUSH
36305: LD_VAR 0 3
36309: STR
36310: PUSH
36311: LD_STRING ,
36313: STR
36314: PUSH
36315: LD_VAR 0 4
36319: STR
36320: PUSH
36321: LD_STRING ,
36323: STR
36324: PUSH
36325: LD_VAR 0 5
36329: STR
36330: PUSH
36331: LD_STRING );
36333: STR
36334: PPUSH
36335: CALL_OW 559
// end ;
36339: LD_VAR 0 6
36343: RET
// export function LScore_Add_ReverseSinglePoints ( ID , typ , totalPoints ) ; begin
36344: LD_INT 0
36346: PPUSH
// ToLua ( ASRSP( & ID & , & typ & , & totalPoints & ,); ) ;
36347: LD_STRING ASRSP(
36349: PUSH
36350: LD_VAR 0 1
36354: STR
36355: PUSH
36356: LD_STRING ,
36358: STR
36359: PUSH
36360: LD_VAR 0 2
36364: STR
36365: PUSH
36366: LD_STRING ,
36368: STR
36369: PUSH
36370: LD_VAR 0 3
36374: STR
36375: PUSH
36376: LD_STRING ,);
36378: STR
36379: PPUSH
36380: CALL_OW 559
// end ;
36384: LD_VAR 0 4
36388: RET
// export function LScore_Add_ReverseSinglePoints2 ( ID , typ , totalPoints , show_total ) ; begin
36389: LD_INT 0
36391: PPUSH
// ToLua ( ASRSP( & ID & , & typ & , & totalPoints & , & show_total & ); ) ;
36392: LD_STRING ASRSP(
36394: PUSH
36395: LD_VAR 0 1
36399: STR
36400: PUSH
36401: LD_STRING ,
36403: STR
36404: PUSH
36405: LD_VAR 0 2
36409: STR
36410: PUSH
36411: LD_STRING ,
36413: STR
36414: PUSH
36415: LD_VAR 0 3
36419: STR
36420: PUSH
36421: LD_STRING ,
36423: STR
36424: PUSH
36425: LD_VAR 0 4
36429: STR
36430: PUSH
36431: LD_STRING );
36433: STR
36434: PPUSH
36435: CALL_OW 559
// end ;
36439: LD_VAR 0 5
36443: RET
// export function LScore_Add_ReverseSinglePoints3 ( ID , typ , totalPoints , show_total , currentPoints ) ; begin
36444: LD_INT 0
36446: PPUSH
// ToLua ( ASRSP( & ID & , & typ & , & totalPoints & , & show_total & , & currentPoints & ); ) ;
36447: LD_STRING ASRSP(
36449: PUSH
36450: LD_VAR 0 1
36454: STR
36455: PUSH
36456: LD_STRING ,
36458: STR
36459: PUSH
36460: LD_VAR 0 2
36464: STR
36465: PUSH
36466: LD_STRING ,
36468: STR
36469: PUSH
36470: LD_VAR 0 3
36474: STR
36475: PUSH
36476: LD_STRING ,
36478: STR
36479: PUSH
36480: LD_VAR 0 4
36484: STR
36485: PUSH
36486: LD_STRING ,
36488: STR
36489: PUSH
36490: LD_VAR 0 5
36494: STR
36495: PUSH
36496: LD_STRING );
36498: STR
36499: PPUSH
36500: CALL_OW 559
// end ;
36504: LD_VAR 0 6
36508: RET
// export function LScore_update_SinglePoints ( ID , currentPoints ) ; begin
36509: LD_INT 0
36511: PPUSH
// ToLua ( USSP( & id & , & currentPoints & ); ) ;
36512: LD_STRING USSP(
36514: PUSH
36515: LD_VAR 0 1
36519: STR
36520: PUSH
36521: LD_STRING ,
36523: STR
36524: PUSH
36525: LD_VAR 0 2
36529: STR
36530: PUSH
36531: LD_STRING );
36533: STR
36534: PPUSH
36535: CALL_OW 559
// end ;
36539: LD_VAR 0 3
36543: RET
// export function LScore_update_SinglePoints2 ( ID , currentPoints , totalPoints ) ; begin
36544: LD_INT 0
36546: PPUSH
// ToLua ( USSP( & id & , & currentPoints & , & totalPoints & ); ) ;
36547: LD_STRING USSP(
36549: PUSH
36550: LD_VAR 0 1
36554: STR
36555: PUSH
36556: LD_STRING ,
36558: STR
36559: PUSH
36560: LD_VAR 0 2
36564: STR
36565: PUSH
36566: LD_STRING ,
36568: STR
36569: PUSH
36570: LD_VAR 0 3
36574: STR
36575: PUSH
36576: LD_STRING );
36578: STR
36579: PPUSH
36580: CALL_OW 559
// end ;
36584: LD_VAR 0 4
36588: RET
// export function LScore_Change_SinglePointsRGB ( id , red , green , blue ) ; begin
36589: LD_INT 0
36591: PPUSH
// ToLua ( CCSSP( & id & ,{ & red & , & green & , & blue & }); ) ;
36592: LD_STRING CCSSP(
36594: PUSH
36595: LD_VAR 0 1
36599: STR
36600: PUSH
36601: LD_STRING ,{
36603: STR
36604: PUSH
36605: LD_VAR 0 2
36609: STR
36610: PUSH
36611: LD_STRING ,
36613: STR
36614: PUSH
36615: LD_VAR 0 3
36619: STR
36620: PUSH
36621: LD_STRING ,
36623: STR
36624: PUSH
36625: LD_VAR 0 4
36629: STR
36630: PUSH
36631: LD_STRING });
36633: STR
36634: PPUSH
36635: CALL_OW 559
// end ;
36639: LD_VAR 0 5
36643: RET
// export function LScore_Change_SinglePoints ( id , side ) ; begin
36644: LD_INT 0
36646: PPUSH
// ToLua ( CCSSP( & id & , & side & ); ) ;
36647: LD_STRING CCSSP(
36649: PUSH
36650: LD_VAR 0 1
36654: STR
36655: PUSH
36656: LD_STRING ,
36658: STR
36659: PUSH
36660: LD_VAR 0 2
36664: STR
36665: PUSH
36666: LD_STRING );
36668: STR
36669: PPUSH
36670: CALL_OW 559
// end ;
36674: LD_VAR 0 3
36678: RET
// export function LScore_Add_Points ( ID , typ , goal ) ; begin
36679: LD_INT 0
36681: PPUSH
// ToLua ( ASP( & id & , & typ & , & goal & ); ) ;
36682: LD_STRING ASP(
36684: PUSH
36685: LD_VAR 0 1
36689: STR
36690: PUSH
36691: LD_STRING ,
36693: STR
36694: PUSH
36695: LD_VAR 0 2
36699: STR
36700: PUSH
36701: LD_STRING ,
36703: STR
36704: PUSH
36705: LD_VAR 0 3
36709: STR
36710: PUSH
36711: LD_STRING );
36713: STR
36714: PPUSH
36715: CALL_OW 559
// end ;
36719: LD_VAR 0 4
36723: RET
// export function LScore_Update_Points ( ID , side , points ) ; begin
36724: LD_INT 0
36726: PPUSH
// ToLua ( USP( & id & , & side & , & points & ); ) ;
36727: LD_STRING USP(
36729: PUSH
36730: LD_VAR 0 1
36734: STR
36735: PUSH
36736: LD_STRING ,
36738: STR
36739: PUSH
36740: LD_VAR 0 2
36744: STR
36745: PUSH
36746: LD_STRING ,
36748: STR
36749: PUSH
36750: LD_VAR 0 3
36754: STR
36755: PUSH
36756: LD_STRING );
36758: STR
36759: PPUSH
36760: CALL_OW 559
// end ;
36764: LD_VAR 0 4
36768: RET
// export function LScore_Update_PointsAll ( ID , score ) ; var i ; begin
36769: LD_INT 0
36771: PPUSH
36772: PPUSH
// for i = 1 to 8 do
36773: LD_ADDR_VAR 0 4
36777: PUSH
36778: DOUBLE
36779: LD_INT 1
36781: DEC
36782: ST_TO_ADDR
36783: LD_INT 8
36785: PUSH
36786: FOR_TO
36787: IFFALSE 36834
// ToLua ( USP( & ID & , & i & , & score [ i ] & ); ) ;
36789: LD_STRING USP(
36791: PUSH
36792: LD_VAR 0 1
36796: STR
36797: PUSH
36798: LD_STRING ,
36800: STR
36801: PUSH
36802: LD_VAR 0 4
36806: STR
36807: PUSH
36808: LD_STRING ,
36810: STR
36811: PUSH
36812: LD_VAR 0 2
36816: PUSH
36817: LD_VAR 0 4
36821: ARRAY
36822: STR
36823: PUSH
36824: LD_STRING );
36826: STR
36827: PPUSH
36828: CALL_OW 559
36832: GO 36786
36834: POP
36835: POP
// end ;
36836: LD_VAR 0 3
36840: RET
// export function LScore_Add_Pieces ( id , typ , goal , total ) ; begin
36841: LD_INT 0
36843: PPUSH
// ToLua ( ASC( & id & , & typ & , & goal & , & total & ); ) ;
36844: LD_STRING ASC(
36846: PUSH
36847: LD_VAR 0 1
36851: STR
36852: PUSH
36853: LD_STRING ,
36855: STR
36856: PUSH
36857: LD_VAR 0 2
36861: STR
36862: PUSH
36863: LD_STRING ,
36865: STR
36866: PUSH
36867: LD_VAR 0 3
36871: STR
36872: PUSH
36873: LD_STRING ,
36875: STR
36876: PUSH
36877: LD_VAR 0 4
36881: STR
36882: PUSH
36883: LD_STRING );
36885: STR
36886: PPUSH
36887: CALL_OW 559
// end ;
36891: LD_VAR 0 5
36895: RET
// export function LScore_Update_Peices ( id , sidesChunks ) ; begin
36896: LD_INT 0
36898: PPUSH
// ToLua ( USC( & id & ,{ & sidesChunks [ 1 ] & , & sidesChunks [ 2 ] & , & sidesChunks [ 3 ] & , & sidesChunks [ 4 ] & , & sidesChunks [ 5 ] & , & sidesChunks [ 6 ] & , & sidesChunks [ 7 ] & , & sidesChunks [ 8 ] & }); ) ;
36899: LD_STRING USC(
36901: PUSH
36902: LD_VAR 0 1
36906: STR
36907: PUSH
36908: LD_STRING ,{
36910: STR
36911: PUSH
36912: LD_VAR 0 2
36916: PUSH
36917: LD_INT 1
36919: ARRAY
36920: STR
36921: PUSH
36922: LD_STRING ,
36924: STR
36925: PUSH
36926: LD_VAR 0 2
36930: PUSH
36931: LD_INT 2
36933: ARRAY
36934: STR
36935: PUSH
36936: LD_STRING ,
36938: STR
36939: PUSH
36940: LD_VAR 0 2
36944: PUSH
36945: LD_INT 3
36947: ARRAY
36948: STR
36949: PUSH
36950: LD_STRING ,
36952: STR
36953: PUSH
36954: LD_VAR 0 2
36958: PUSH
36959: LD_INT 4
36961: ARRAY
36962: STR
36963: PUSH
36964: LD_STRING ,
36966: STR
36967: PUSH
36968: LD_VAR 0 2
36972: PUSH
36973: LD_INT 5
36975: ARRAY
36976: STR
36977: PUSH
36978: LD_STRING ,
36980: STR
36981: PUSH
36982: LD_VAR 0 2
36986: PUSH
36987: LD_INT 6
36989: ARRAY
36990: STR
36991: PUSH
36992: LD_STRING ,
36994: STR
36995: PUSH
36996: LD_VAR 0 2
37000: PUSH
37001: LD_INT 7
37003: ARRAY
37004: STR
37005: PUSH
37006: LD_STRING ,
37008: STR
37009: PUSH
37010: LD_VAR 0 2
37014: PUSH
37015: LD_INT 8
37017: ARRAY
37018: STR
37019: PUSH
37020: LD_STRING });
37022: STR
37023: PPUSH
37024: CALL_OW 559
// end ; end_of_file
37028: LD_VAR 0 3
37032: RET
// export function UpdateSpectatorBar ; var i , j , crates , oil , sib , people , base , bases ; begin
37033: LD_INT 0
37035: PPUSH
37036: PPUSH
37037: PPUSH
37038: PPUSH
37039: PPUSH
37040: PPUSH
37041: PPUSH
37042: PPUSH
37043: PPUSH
// for i := 1 to 8 do
37044: LD_ADDR_VAR 0 2
37048: PUSH
37049: DOUBLE
37050: LD_INT 1
37052: DEC
37053: ST_TO_ADDR
37054: LD_INT 8
37056: PUSH
37057: FOR_TO
37058: IFFALSE 37442
// begin if Side_Positions [ i ] then
37060: LD_EXP 75
37064: PUSH
37065: LD_VAR 0 2
37069: ARRAY
37070: IFFALSE 37440
// begin people := FilterAllUnits ( [ [ f_side , i ] , [ f_type , unit_human ] ] ) + 0 ;
37072: LD_ADDR_VAR 0 7
37076: PUSH
37077: LD_INT 22
37079: PUSH
37080: LD_VAR 0 2
37084: PUSH
37085: EMPTY
37086: LIST
37087: LIST
37088: PUSH
37089: LD_INT 21
37091: PUSH
37092: LD_INT 1
37094: PUSH
37095: EMPTY
37096: LIST
37097: LIST
37098: PUSH
37099: EMPTY
37100: LIST
37101: LIST
37102: PPUSH
37103: CALL_OW 69
37107: PUSH
37108: LD_INT 0
37110: PLUS
37111: ST_TO_ADDR
// bases := FilterAllUnits ( [ [ f_side , i ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) ;
37112: LD_ADDR_VAR 0 9
37116: PUSH
37117: LD_INT 22
37119: PUSH
37120: LD_VAR 0 2
37124: PUSH
37125: EMPTY
37126: LIST
37127: LIST
37128: PUSH
37129: LD_INT 2
37131: PUSH
37132: LD_INT 30
37134: PUSH
37135: LD_INT 0
37137: PUSH
37138: EMPTY
37139: LIST
37140: LIST
37141: PUSH
37142: LD_INT 30
37144: PUSH
37145: LD_INT 1
37147: PUSH
37148: EMPTY
37149: LIST
37150: LIST
37151: PUSH
37152: EMPTY
37153: LIST
37154: LIST
37155: LIST
37156: PUSH
37157: EMPTY
37158: LIST
37159: LIST
37160: PPUSH
37161: CALL_OW 69
37165: ST_TO_ADDR
// crates := 0 ;
37166: LD_ADDR_VAR 0 4
37170: PUSH
37171: LD_INT 0
37173: ST_TO_ADDR
// oil := 0 ;
37174: LD_ADDR_VAR 0 5
37178: PUSH
37179: LD_INT 0
37181: ST_TO_ADDR
// sib := 0 ;
37182: LD_ADDR_VAR 0 6
37186: PUSH
37187: LD_INT 0
37189: ST_TO_ADDR
// if bases then
37190: LD_VAR 0 9
37194: IFFALSE 37300
// begin for j in bases do
37196: LD_ADDR_VAR 0 3
37200: PUSH
37201: LD_VAR 0 9
37205: PUSH
37206: FOR_IN
37207: IFFALSE 37298
// begin base := GetBase ( j ) ;
37209: LD_ADDR_VAR 0 8
37213: PUSH
37214: LD_VAR 0 3
37218: PPUSH
37219: CALL_OW 274
37223: ST_TO_ADDR
// crates := crates + GetResourceType ( base , mat_cans ) ;
37224: LD_ADDR_VAR 0 4
37228: PUSH
37229: LD_VAR 0 4
37233: PUSH
37234: LD_VAR 0 8
37238: PPUSH
37239: LD_INT 1
37241: PPUSH
37242: CALL_OW 275
37246: PLUS
37247: ST_TO_ADDR
// oil := oil + GetResourceType ( base , mat_oil ) ;
37248: LD_ADDR_VAR 0 5
37252: PUSH
37253: LD_VAR 0 5
37257: PUSH
37258: LD_VAR 0 8
37262: PPUSH
37263: LD_INT 2
37265: PPUSH
37266: CALL_OW 275
37270: PLUS
37271: ST_TO_ADDR
// sib := sib + GetResourceType ( base , mat_siberit ) ;
37272: LD_ADDR_VAR 0 6
37276: PUSH
37277: LD_VAR 0 6
37281: PUSH
37282: LD_VAR 0 8
37286: PPUSH
37287: LD_INT 3
37289: PPUSH
37290: CALL_OW 275
37294: PLUS
37295: ST_TO_ADDR
// end ;
37296: GO 37206
37298: POP
37299: POP
// end ; ToLua ( setSpecText( & i & , & 2 & , & crates & ) ) ;
37300: LD_STRING setSpecText(
37302: PUSH
37303: LD_VAR 0 2
37307: STR
37308: PUSH
37309: LD_STRING ,
37311: STR
37312: PUSH
37313: LD_INT 2
37315: STR
37316: PUSH
37317: LD_STRING ,
37319: STR
37320: PUSH
37321: LD_VAR 0 4
37325: STR
37326: PUSH
37327: LD_STRING )
37329: STR
37330: PPUSH
37331: CALL_OW 559
// ToLua ( setSpecText( & i & , & 3 & , & oil & ) ) ;
37335: LD_STRING setSpecText(
37337: PUSH
37338: LD_VAR 0 2
37342: STR
37343: PUSH
37344: LD_STRING ,
37346: STR
37347: PUSH
37348: LD_INT 3
37350: STR
37351: PUSH
37352: LD_STRING ,
37354: STR
37355: PUSH
37356: LD_VAR 0 5
37360: STR
37361: PUSH
37362: LD_STRING )
37364: STR
37365: PPUSH
37366: CALL_OW 559
// ToLua ( setSpecText( & i & , & 4 & , & sib & ) ) ;
37370: LD_STRING setSpecText(
37372: PUSH
37373: LD_VAR 0 2
37377: STR
37378: PUSH
37379: LD_STRING ,
37381: STR
37382: PUSH
37383: LD_INT 4
37385: STR
37386: PUSH
37387: LD_STRING ,
37389: STR
37390: PUSH
37391: LD_VAR 0 6
37395: STR
37396: PUSH
37397: LD_STRING )
37399: STR
37400: PPUSH
37401: CALL_OW 559
// ToLua ( setSpecText( & i & , & 5 & , & people & ) ) ;
37405: LD_STRING setSpecText(
37407: PUSH
37408: LD_VAR 0 2
37412: STR
37413: PUSH
37414: LD_STRING ,
37416: STR
37417: PUSH
37418: LD_INT 5
37420: STR
37421: PUSH
37422: LD_STRING ,
37424: STR
37425: PUSH
37426: LD_VAR 0 7
37430: STR
37431: PUSH
37432: LD_STRING )
37434: STR
37435: PPUSH
37436: CALL_OW 559
// end ; end ;
37440: GO 37057
37442: POP
37443: POP
// end ;
37444: LD_VAR 0 1
37448: RET
// every 0 0$1 do
37449: GO 37451
37451: DISABLE
// begin ToLua ( setSpecLogoNumber( & 2 & , & 1 & ) ) ;
37452: LD_STRING setSpecLogoNumber(
37454: PUSH
37455: LD_INT 2
37457: STR
37458: PUSH
37459: LD_STRING ,
37461: STR
37462: PUSH
37463: LD_INT 1
37465: STR
37466: PUSH
37467: LD_STRING )
37469: STR
37470: PPUSH
37471: CALL_OW 559
// ToLua ( setSpecLogoNumber( & 3 & , & 2 & ) ) ;
37475: LD_STRING setSpecLogoNumber(
37477: PUSH
37478: LD_INT 3
37480: STR
37481: PUSH
37482: LD_STRING ,
37484: STR
37485: PUSH
37486: LD_INT 2
37488: STR
37489: PUSH
37490: LD_STRING )
37492: STR
37493: PPUSH
37494: CALL_OW 559
// ToLua ( setSpecLogoNumber( & 4 & , & 3 & ) ) ;
37498: LD_STRING setSpecLogoNumber(
37500: PUSH
37501: LD_INT 4
37503: STR
37504: PUSH
37505: LD_STRING ,
37507: STR
37508: PUSH
37509: LD_INT 3
37511: STR
37512: PUSH
37513: LD_STRING )
37515: STR
37516: PPUSH
37517: CALL_OW 559
// ToLua ( setSpecLogoNumber( & 5 & , & 4 & ) ) ;
37521: LD_STRING setSpecLogoNumber(
37523: PUSH
37524: LD_INT 5
37526: STR
37527: PUSH
37528: LD_STRING ,
37530: STR
37531: PUSH
37532: LD_INT 4
37534: STR
37535: PUSH
37536: LD_STRING )
37538: STR
37539: PPUSH
37540: CALL_OW 559
// end ;
37544: END
// every 20 trigger FilterAllUnits ( [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ) do
37545: LD_INT 2
37547: PUSH
37548: LD_INT 30
37550: PUSH
37551: LD_INT 0
37553: PUSH
37554: EMPTY
37555: LIST
37556: LIST
37557: PUSH
37558: LD_INT 30
37560: PUSH
37561: LD_INT 1
37563: PUSH
37564: EMPTY
37565: LIST
37566: LIST
37567: PUSH
37568: EMPTY
37569: LIST
37570: LIST
37571: LIST
37572: PPUSH
37573: CALL_OW 69
37577: IFFALSE 37587
37579: GO 37581
37581: DISABLE
// begin enable ;
37582: ENABLE
// UpdateSpectatorBar ;
37583: CALL 37033 0 0
// end ;
37587: END
