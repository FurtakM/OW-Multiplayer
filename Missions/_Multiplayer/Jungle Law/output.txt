// starting begin GT_DoubleNat = [ ] ;
   0: LD_ADDR_EXP 3
   4: PUSH
   5: EMPTY
   6: ST_TO_ADDR
// GT_DoublePeople = [ ] ;
   7: LD_ADDR_EXP 4
  11: PUSH
  12: EMPTY
  13: ST_TO_ADDR
// GT_TripleNat = [ ] ;
  14: LD_ADDR_EXP 5
  18: PUSH
  19: EMPTY
  20: ST_TO_ADDR
// GT_Survival = [ 24 , 23 , 22 , 21 ] ;
  21: LD_ADDR_EXP 6
  25: PUSH
  26: LD_INT 24
  28: PUSH
  29: LD_INT 23
  31: PUSH
  32: LD_INT 22
  34: PUSH
  35: LD_INT 21
  37: PUSH
  38: EMPTY
  39: LIST
  40: LIST
  41: LIST
  42: LIST
  43: ST_TO_ADDR
// GT_Mine = [ ] ;
  44: LD_ADDR_EXP 2
  48: PUSH
  49: EMPTY
  50: ST_TO_ADDR
// GT_RankedGames = [ 10 , 11 ] ;
  51: LD_ADDR_EXP 7
  55: PUSH
  56: LD_INT 10
  58: PUSH
  59: LD_INT 11
  61: PUSH
  62: EMPTY
  63: LIST
  64: LIST
  65: ST_TO_ADDR
// enable_human_prediction := true ;
  66: LD_ADDR_OWVAR 51
  70: PUSH
  71: LD_INT 1
  73: ST_TO_ADDR
// Disable_All_Games ;
  74: CALL 374 0 0
// mp_selectmsg = true ;
  78: LD_ADDR_OWVAR 13
  82: PUSH
  83: LD_INT 1
  85: ST_TO_ADDR
// read_multiplayer_and_game_parameters ;
  86: CALL 2754 0 0
// specialParameters ;
  90: CALL 386 0 0
// standartSets ;
  94: CALL 3372 0 0
// prepare_map_coordinates ;
  98: CALL 417 0 0
// InitGameRules ;
 102: CALL 26275 0 0
// set_shared_visions_and_alliances ;
 106: CALL 5290 0 0
// ResetFog ;
 110: CALL_OW 335
// ClearAllFogForSide ( Player_Side ) ;
 114: LD_EXP 69
 118: PPUSH
 119: CALL_OW 520
// AnimateTrees ( true ) ;
 123: LD_INT 1
 125: PPUSH
 126: CALL_OW 573
// init_map ;
 130: CALL 4445 0 0
// if Game_Type in GT_DoubleNat ^ GT_TripleNat then
 134: LD_EXP 1
 138: PUSH
 139: LD_EXP 3
 143: PUSH
 144: LD_EXP 5
 148: ADD
 149: IN
 150: IFFALSE 156
// modify_nations ;
 152: CALL 6143 0 0
// if not def_game_rules then
 156: LD_EXP 9
 160: NOT
 161: IFFALSE 170
// begin Start_tech_ur ;
 163: CALL 18578 0 0
// enable ( 30 ) ;
 167: LD_INT 30
 169: ENABLE_MARKED
// end ; prepare_sides ;
 170: CALL 5599 0 0
// InitLimits ;
 174: CALL 28980 0 0
// if def_kings_age or def_warForTerritory then
 178: LD_EXP 35
 182: PUSH
 183: LD_EXP 36
 187: OR
 188: IFFALSE 194
// InitPoints ;
 190: CALL 34719 0 0
// if def_kings_age then
 194: LD_EXP 35
 198: IFFALSE 204
// init_kings_counting ;
 200: CALL 22611 0 0
// init_respawn ;
 204: CALL 10495 0 0
// Init_Win_Condition ;
 208: CALL 13024 0 0
// mastodonti ;
 212: CALL 9123 0 0
// Start_Zvirata ;
 216: CALL 9442 0 0
// init_Daily ;
 220: CALL 24767 0 0
// your_side := Player_Side ;
 224: LD_ADDR_OWVAR 2
 228: PUSH
 229: LD_EXP 69
 233: ST_TO_ADDR
// music_nat := Side_Nations [ your_side ] ;
 234: LD_ADDR_OWVAR 71
 238: PUSH
 239: LD_EXP 75
 243: PUSH
 244: LD_OWVAR 2
 248: ARRAY
 249: ST_TO_ADDR
// if IAmSpec then
 250: CALL_OW 531
 254: IFFALSE 278
// begin FogOff ( true ) ;
 256: LD_INT 1
 258: PPUSH
 259: CALL_OW 344
// CenterNowOnXY ( 120 , 80 ) ;
 263: LD_INT 120
 265: PPUSH
 266: LD_INT 80
 268: PPUSH
 269: CALL_OW 86
// enable ( 400 ) ;
 273: LD_INT 400
 275: ENABLE_MARKED
// end else
 276: GO 328
// begin CenterNowOnXY ( start_def [ Side_Positions [ your_side ] ] [ 1 ] , start_def [ Side_Positions [ your_side ] ] [ 2 ] ) ;
 278: LD_EXP 82
 282: PUSH
 283: LD_EXP 74
 287: PUSH
 288: LD_OWVAR 2
 292: ARRAY
 293: ARRAY
 294: PUSH
 295: LD_INT 1
 297: ARRAY
 298: PPUSH
 299: LD_EXP 82
 303: PUSH
 304: LD_EXP 74
 308: PUSH
 309: LD_OWVAR 2
 313: ARRAY
 314: ARRAY
 315: PUSH
 316: LD_INT 2
 318: ARRAY
 319: PPUSH
 320: CALL_OW 86
// Init_Win_Condition ;
 324: CALL 13024 0 0
// end ; BuildUpAreas := [ AR_ZaklLH , AR_ZaklLD , AR_ZaklPH , AR_ZaklPD ] ;
 328: LD_ADDR_EXP 115
 332: PUSH
 333: LD_INT 4
 335: PUSH
 336: LD_INT 6
 338: PUSH
 339: LD_INT 5
 341: PUSH
 342: LD_INT 7
 344: PUSH
 345: EMPTY
 346: LIST
 347: LIST
 348: LIST
 349: LIST
 350: ST_TO_ADDR
// BeginBuildUp ;
 351: CALL 25577 0 0
// if def_warForTerritory then
 355: LD_EXP 36
 359: IFFALSE 365
// Init_WarForTerritory ;
 361: CALL 30245 0 0
// InitDisplayNames ;
 365: CALL 15936 0 0
// InitMultiplayerTime ;
 369: CALL 16606 0 0
// end ;
 373: END
// function Disable_All_Games ; begin
 374: LD_INT 0
 376: PPUSH
// Disable_Standard_Games ;
 377: CALL 9484 0 0
// end ;
 381: LD_VAR 0 1
 385: RET
// function specialParameters ; var d ; begin
 386: LD_INT 0
 388: PPUSH
 389: PPUSH
// if not isSGUI then
 390: LD_OWVAR 83
 394: NOT
 395: IFFALSE 412
// begin if not game_type in GT_Survival then
 397: LD_EXP 1
 401: PUSH
 402: LD_EXP 6
 406: IN
 407: NOT
 408: IFFALSE 410
// begin end ; end else
 410: GO 412
// begin end ; end ;
 412: LD_VAR 0 1
 416: RET
// function prepare_map_coordinates ; begin
 417: LD_INT 0
 419: PPUSH
// depot_def := [ [ 12 , 8 , 2 ] , [ 83 , 146 , 0 ] , [ 156 , 9 , 3 ] , [ 225 , 149 , 5 ] ] ;
 420: LD_ADDR_EXP 80
 424: PUSH
 425: LD_INT 12
 427: PUSH
 428: LD_INT 8
 430: PUSH
 431: LD_INT 2
 433: PUSH
 434: EMPTY
 435: LIST
 436: LIST
 437: LIST
 438: PUSH
 439: LD_INT 83
 441: PUSH
 442: LD_INT 146
 444: PUSH
 445: LD_INT 0
 447: PUSH
 448: EMPTY
 449: LIST
 450: LIST
 451: LIST
 452: PUSH
 453: LD_INT 156
 455: PUSH
 456: LD_INT 9
 458: PUSH
 459: LD_INT 3
 461: PUSH
 462: EMPTY
 463: LIST
 464: LIST
 465: LIST
 466: PUSH
 467: LD_INT 225
 469: PUSH
 470: LD_INT 149
 472: PUSH
 473: LD_INT 5
 475: PUSH
 476: EMPTY
 477: LIST
 478: LIST
 479: LIST
 480: PUSH
 481: EMPTY
 482: LIST
 483: LIST
 484: LIST
 485: LIST
 486: ST_TO_ADDR
// oil_deposits_locations := [ [ 20 , 4 ] , [ 93 , 153 ] , [ 141 , 4 ] , [ 220 , 155 ] , ] ;
 487: LD_ADDR_EXP 85
 491: PUSH
 492: LD_INT 20
 494: PUSH
 495: LD_INT 4
 497: PUSH
 498: EMPTY
 499: LIST
 500: LIST
 501: PUSH
 502: LD_INT 93
 504: PUSH
 505: LD_INT 153
 507: PUSH
 508: EMPTY
 509: LIST
 510: LIST
 511: PUSH
 512: LD_INT 141
 514: PUSH
 515: LD_INT 4
 517: PUSH
 518: EMPTY
 519: LIST
 520: LIST
 521: PUSH
 522: LD_INT 220
 524: PUSH
 525: LD_INT 155
 527: PUSH
 528: EMPTY
 529: LIST
 530: LIST
 531: PUSH
 532: EMPTY
 533: LIST
 534: LIST
 535: LIST
 536: LIST
 537: ST_TO_ADDR
// siberite_deposits_locations := [ [ 18 , 27 ] , [ 70 , 133 ] , [ 169 , 29 ] , [ 221 , 130 ] , ] ;
 538: LD_ADDR_EXP 87
 542: PUSH
 543: LD_INT 18
 545: PUSH
 546: LD_INT 27
 548: PUSH
 549: EMPTY
 550: LIST
 551: LIST
 552: PUSH
 553: LD_INT 70
 555: PUSH
 556: LD_INT 133
 558: PUSH
 559: EMPTY
 560: LIST
 561: LIST
 562: PUSH
 563: LD_INT 169
 565: PUSH
 566: LD_INT 29
 568: PUSH
 569: EMPTY
 570: LIST
 571: LIST
 572: PUSH
 573: LD_INT 221
 575: PUSH
 576: LD_INT 130
 578: PUSH
 579: EMPTY
 580: LIST
 581: LIST
 582: PUSH
 583: EMPTY
 584: LIST
 585: LIST
 586: LIST
 587: LIST
 588: ST_TO_ADDR
// extra_oil_deposits_locations := [ [ 53 , 26 ] , [ 187 , 139 ] , [ 129 , 20 ] , [ 106 , 135 ] ] ;
 589: LD_ADDR_EXP 84
 593: PUSH
 594: LD_INT 53
 596: PUSH
 597: LD_INT 26
 599: PUSH
 600: EMPTY
 601: LIST
 602: LIST
 603: PUSH
 604: LD_INT 187
 606: PUSH
 607: LD_INT 139
 609: PUSH
 610: EMPTY
 611: LIST
 612: LIST
 613: PUSH
 614: LD_INT 129
 616: PUSH
 617: LD_INT 20
 619: PUSH
 620: EMPTY
 621: LIST
 622: LIST
 623: PUSH
 624: LD_INT 106
 626: PUSH
 627: LD_INT 135
 629: PUSH
 630: EMPTY
 631: LIST
 632: LIST
 633: PUSH
 634: EMPTY
 635: LIST
 636: LIST
 637: LIST
 638: LIST
 639: ST_TO_ADDR
// extra_sib_deposits_locations := [ [ 51 , 53 ] , [ 183 , 107 ] , [ 155 , 53 ] , [ 80 , 106 ] ] ;
 640: LD_ADDR_EXP 86
 644: PUSH
 645: LD_INT 51
 647: PUSH
 648: LD_INT 53
 650: PUSH
 651: EMPTY
 652: LIST
 653: LIST
 654: PUSH
 655: LD_INT 183
 657: PUSH
 658: LD_INT 107
 660: PUSH
 661: EMPTY
 662: LIST
 663: LIST
 664: PUSH
 665: LD_INT 155
 667: PUSH
 668: LD_INT 53
 670: PUSH
 671: EMPTY
 672: LIST
 673: LIST
 674: PUSH
 675: LD_INT 80
 677: PUSH
 678: LD_INT 106
 680: PUSH
 681: EMPTY
 682: LIST
 683: LIST
 684: PUSH
 685: EMPTY
 686: LIST
 687: LIST
 688: LIST
 689: LIST
 690: ST_TO_ADDR
// for_show_near_resources = [ [ [ oil_deposits_locations [ 1 ] ] , [ siberite_deposits_locations [ 1 ] ] ] , [ [ oil_deposits_locations [ 2 ] ] , [ siberite_deposits_locations [ 2 ] ] ] , [ [ oil_deposits_locations [ 3 ] ] , [ siberite_deposits_locations [ 3 ] ] ] , [ [ oil_deposits_locations [ 4 ] ] , [ siberite_deposits_locations [ 4 ] ] ] , ] ;
 691: LD_ADDR_EXP 63
 695: PUSH
 696: LD_EXP 85
 700: PUSH
 701: LD_INT 1
 703: ARRAY
 704: PUSH
 705: EMPTY
 706: LIST
 707: PUSH
 708: LD_EXP 87
 712: PUSH
 713: LD_INT 1
 715: ARRAY
 716: PUSH
 717: EMPTY
 718: LIST
 719: PUSH
 720: EMPTY
 721: LIST
 722: LIST
 723: PUSH
 724: LD_EXP 85
 728: PUSH
 729: LD_INT 2
 731: ARRAY
 732: PUSH
 733: EMPTY
 734: LIST
 735: PUSH
 736: LD_EXP 87
 740: PUSH
 741: LD_INT 2
 743: ARRAY
 744: PUSH
 745: EMPTY
 746: LIST
 747: PUSH
 748: EMPTY
 749: LIST
 750: LIST
 751: PUSH
 752: LD_EXP 85
 756: PUSH
 757: LD_INT 3
 759: ARRAY
 760: PUSH
 761: EMPTY
 762: LIST
 763: PUSH
 764: LD_EXP 87
 768: PUSH
 769: LD_INT 3
 771: ARRAY
 772: PUSH
 773: EMPTY
 774: LIST
 775: PUSH
 776: EMPTY
 777: LIST
 778: LIST
 779: PUSH
 780: LD_EXP 85
 784: PUSH
 785: LD_INT 4
 787: ARRAY
 788: PUSH
 789: EMPTY
 790: LIST
 791: PUSH
 792: LD_EXP 87
 796: PUSH
 797: LD_INT 4
 799: ARRAY
 800: PUSH
 801: EMPTY
 802: LIST
 803: PUSH
 804: EMPTY
 805: LIST
 806: LIST
 807: PUSH
 808: EMPTY
 809: LIST
 810: LIST
 811: LIST
 812: LIST
 813: ST_TO_ADDR
// case def_base_level of 0 :
 814: LD_EXP 10
 818: PUSH
 819: LD_INT 0
 821: DOUBLE
 822: EQUAL
 823: IFTRUE 827
 825: GO 861
 827: POP
// begin buildings_def = [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
 828: LD_ADDR_EXP 39
 832: PUSH
 833: EMPTY
 834: PUSH
 835: EMPTY
 836: PUSH
 837: EMPTY
 838: PUSH
 839: EMPTY
 840: PUSH
 841: EMPTY
 842: PUSH
 843: EMPTY
 844: PUSH
 845: EMPTY
 846: PUSH
 847: EMPTY
 848: PUSH
 849: EMPTY
 850: LIST
 851: LIST
 852: LIST
 853: LIST
 854: LIST
 855: LIST
 856: LIST
 857: LIST
 858: ST_TO_ADDR
// end ; 1 :
 859: GO 1242
 861: LD_INT 1
 863: DOUBLE
 864: EQUAL
 865: IFTRUE 869
 867: GO 903
 869: POP
// begin buildings_def = [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
 870: LD_ADDR_EXP 39
 874: PUSH
 875: EMPTY
 876: PUSH
 877: EMPTY
 878: PUSH
 879: EMPTY
 880: PUSH
 881: EMPTY
 882: PUSH
 883: EMPTY
 884: PUSH
 885: EMPTY
 886: PUSH
 887: EMPTY
 888: PUSH
 889: EMPTY
 890: PUSH
 891: EMPTY
 892: LIST
 893: LIST
 894: LIST
 895: LIST
 896: LIST
 897: LIST
 898: LIST
 899: LIST
 900: ST_TO_ADDR
// end ; 2 :
 901: GO 1242
 903: LD_INT 2
 905: DOUBLE
 906: EQUAL
 907: IFTRUE 911
 909: GO 1241
 911: POP
// begin buildings_def = [ [ [ b_oil_mine , oil_deposits_locations [ 1 ] [ 1 ] , oil_deposits_locations [ 1 ] [ 2 ] , 4 ] , [ b_breastwork , 31 , 34 , 5 ] , [ b_breastwork , 40 , 16 , 4 ] ] , [ [ b_oil_mine , oil_deposits_locations [ 2 ] [ 1 ] , oil_deposits_locations [ 2 ] [ 2 ] , 0 ] , [ b_breastwork , 77 , 125 , 3 ] , [ b_breastwork , 77 , 126 , 4 ] ] , [ [ b_oil_mine , oil_deposits_locations [ 3 ] [ 1 ] , oil_deposits_locations [ 3 ] [ 2 ] , 4 ] , [ b_breastwork , 133 , 16 , 1 ] , [ b_breastwork , 161 , 34 , 0 ] ] , [ [ b_oil_mine , oil_deposits_locations [ 4 ] [ 1 ] , oil_deposits_locations [ 4 ] [ 2 ] , 0 ] , [ b_breastwork , 200 , 144 , 2 ] , [ b_breastwork , 210 , 126 , 2 ] ] ] ;
 912: LD_ADDR_EXP 39
 916: PUSH
 917: LD_INT 29
 919: PUSH
 920: LD_EXP 85
 924: PUSH
 925: LD_INT 1
 927: ARRAY
 928: PUSH
 929: LD_INT 1
 931: ARRAY
 932: PUSH
 933: LD_EXP 85
 937: PUSH
 938: LD_INT 1
 940: ARRAY
 941: PUSH
 942: LD_INT 2
 944: ARRAY
 945: PUSH
 946: LD_INT 4
 948: PUSH
 949: EMPTY
 950: LIST
 951: LIST
 952: LIST
 953: LIST
 954: PUSH
 955: LD_INT 31
 957: PUSH
 958: LD_INT 31
 960: PUSH
 961: LD_INT 34
 963: PUSH
 964: LD_INT 5
 966: PUSH
 967: EMPTY
 968: LIST
 969: LIST
 970: LIST
 971: LIST
 972: PUSH
 973: LD_INT 31
 975: PUSH
 976: LD_INT 40
 978: PUSH
 979: LD_INT 16
 981: PUSH
 982: LD_INT 4
 984: PUSH
 985: EMPTY
 986: LIST
 987: LIST
 988: LIST
 989: LIST
 990: PUSH
 991: EMPTY
 992: LIST
 993: LIST
 994: LIST
 995: PUSH
 996: LD_INT 29
 998: PUSH
 999: LD_EXP 85
1003: PUSH
1004: LD_INT 2
1006: ARRAY
1007: PUSH
1008: LD_INT 1
1010: ARRAY
1011: PUSH
1012: LD_EXP 85
1016: PUSH
1017: LD_INT 2
1019: ARRAY
1020: PUSH
1021: LD_INT 2
1023: ARRAY
1024: PUSH
1025: LD_INT 0
1027: PUSH
1028: EMPTY
1029: LIST
1030: LIST
1031: LIST
1032: LIST
1033: PUSH
1034: LD_INT 31
1036: PUSH
1037: LD_INT 77
1039: PUSH
1040: LD_INT 125
1042: PUSH
1043: LD_INT 3
1045: PUSH
1046: EMPTY
1047: LIST
1048: LIST
1049: LIST
1050: LIST
1051: PUSH
1052: LD_INT 31
1054: PUSH
1055: LD_INT 77
1057: PUSH
1058: LD_INT 126
1060: PUSH
1061: LD_INT 4
1063: PUSH
1064: EMPTY
1065: LIST
1066: LIST
1067: LIST
1068: LIST
1069: PUSH
1070: EMPTY
1071: LIST
1072: LIST
1073: LIST
1074: PUSH
1075: LD_INT 29
1077: PUSH
1078: LD_EXP 85
1082: PUSH
1083: LD_INT 3
1085: ARRAY
1086: PUSH
1087: LD_INT 1
1089: ARRAY
1090: PUSH
1091: LD_EXP 85
1095: PUSH
1096: LD_INT 3
1098: ARRAY
1099: PUSH
1100: LD_INT 2
1102: ARRAY
1103: PUSH
1104: LD_INT 4
1106: PUSH
1107: EMPTY
1108: LIST
1109: LIST
1110: LIST
1111: LIST
1112: PUSH
1113: LD_INT 31
1115: PUSH
1116: LD_INT 133
1118: PUSH
1119: LD_INT 16
1121: PUSH
1122: LD_INT 1
1124: PUSH
1125: EMPTY
1126: LIST
1127: LIST
1128: LIST
1129: LIST
1130: PUSH
1131: LD_INT 31
1133: PUSH
1134: LD_INT 161
1136: PUSH
1137: LD_INT 34
1139: PUSH
1140: LD_INT 0
1142: PUSH
1143: EMPTY
1144: LIST
1145: LIST
1146: LIST
1147: LIST
1148: PUSH
1149: EMPTY
1150: LIST
1151: LIST
1152: LIST
1153: PUSH
1154: LD_INT 29
1156: PUSH
1157: LD_EXP 85
1161: PUSH
1162: LD_INT 4
1164: ARRAY
1165: PUSH
1166: LD_INT 1
1168: ARRAY
1169: PUSH
1170: LD_EXP 85
1174: PUSH
1175: LD_INT 4
1177: ARRAY
1178: PUSH
1179: LD_INT 2
1181: ARRAY
1182: PUSH
1183: LD_INT 0
1185: PUSH
1186: EMPTY
1187: LIST
1188: LIST
1189: LIST
1190: LIST
1191: PUSH
1192: LD_INT 31
1194: PUSH
1195: LD_INT 200
1197: PUSH
1198: LD_INT 144
1200: PUSH
1201: LD_INT 2
1203: PUSH
1204: EMPTY
1205: LIST
1206: LIST
1207: LIST
1208: LIST
1209: PUSH
1210: LD_INT 31
1212: PUSH
1213: LD_INT 210
1215: PUSH
1216: LD_INT 126
1218: PUSH
1219: LD_INT 2
1221: PUSH
1222: EMPTY
1223: LIST
1224: LIST
1225: LIST
1226: LIST
1227: PUSH
1228: EMPTY
1229: LIST
1230: LIST
1231: LIST
1232: PUSH
1233: EMPTY
1234: LIST
1235: LIST
1236: LIST
1237: LIST
1238: ST_TO_ADDR
// end ; end ;
1239: GO 1242
1241: POP
// Cela_mapa = celamapa ;
1242: LD_ADDR_EXP 90
1246: PUSH
1247: LD_INT 32
1249: ST_TO_ADDR
// king_territory = stred ;
1250: LD_ADDR_EXP 91
1254: PUSH
1255: LD_INT 30
1257: ST_TO_ADDR
// oblasti_beden := [ ctverec1 , ctverec2 , ctverec3 , ctverec4 ] ;
1258: LD_ADDR_EXP 97
1262: PUSH
1263: LD_INT 12
1265: PUSH
1266: LD_INT 13
1268: PUSH
1269: LD_INT 15
1271: PUSH
1272: LD_INT 14
1274: PUSH
1275: EMPTY
1276: LIST
1277: LIST
1278: LIST
1279: LIST
1280: ST_TO_ADDR
// dalsi_oblasti_beden := [ map_center ] ;
1281: LD_ADDR_EXP 99
1285: PUSH
1286: LD_INT 16
1288: PUSH
1289: EMPTY
1290: LIST
1291: ST_TO_ADDR
// koof_bedny = 1.5 ;
1292: LD_ADDR_EXP 100
1296: PUSH
1297: LD_REAL  1.50000000000000E+0000
1300: ST_TO_ADDR
// DailyPhase = [ [ colors1.txt , colors2.txt , colors3.txt , colors4.txt , colors5.txt , colors6.txt ] , [ colors21.txt , colors22.txt , colors23.txt , colors24.txt , colors25.txt , colors26.txt ] , [ colors31.txt , colors32.txt , colors33.txt , colors34.txt , colors35.txt , colors36.txt ] ] [ rand ( 1 , 3 ) ] ;
1301: LD_ADDR_EXP 61
1305: PUSH
1306: LD_STRING colors1.txt
1308: PUSH
1309: LD_STRING colors2.txt
1311: PUSH
1312: LD_STRING colors3.txt
1314: PUSH
1315: LD_STRING colors4.txt
1317: PUSH
1318: LD_STRING colors5.txt
1320: PUSH
1321: LD_STRING colors6.txt
1323: PUSH
1324: EMPTY
1325: LIST
1326: LIST
1327: LIST
1328: LIST
1329: LIST
1330: LIST
1331: PUSH
1332: LD_STRING colors21.txt
1334: PUSH
1335: LD_STRING colors22.txt
1337: PUSH
1338: LD_STRING colors23.txt
1340: PUSH
1341: LD_STRING colors24.txt
1343: PUSH
1344: LD_STRING colors25.txt
1346: PUSH
1347: LD_STRING colors26.txt
1349: PUSH
1350: EMPTY
1351: LIST
1352: LIST
1353: LIST
1354: LIST
1355: LIST
1356: LIST
1357: PUSH
1358: LD_STRING colors31.txt
1360: PUSH
1361: LD_STRING colors32.txt
1363: PUSH
1364: LD_STRING colors33.txt
1366: PUSH
1367: LD_STRING colors34.txt
1369: PUSH
1370: LD_STRING colors35.txt
1372: PUSH
1373: LD_STRING colors36.txt
1375: PUSH
1376: EMPTY
1377: LIST
1378: LIST
1379: LIST
1380: LIST
1381: LIST
1382: LIST
1383: PUSH
1384: EMPTY
1385: LIST
1386: LIST
1387: LIST
1388: PUSH
1389: LD_INT 1
1391: PPUSH
1392: LD_INT 3
1394: PPUSH
1395: CALL_OW 12
1399: ARRAY
1400: ST_TO_ADDR
// WFT_Points_MP = 2 ;
1401: LD_ADDR_EXP 121
1405: PUSH
1406: LD_INT 2
1408: ST_TO_ADDR
// FLAGY_AREA = [ f1 , f2 , f3 , f4 , f5 , f6 , f7 , f8 , f9 ] ;
1409: LD_ADDR_EXP 118
1413: PUSH
1414: LD_INT 39
1416: PUSH
1417: LD_INT 40
1419: PUSH
1420: LD_INT 41
1422: PUSH
1423: LD_INT 42
1425: PUSH
1426: LD_INT 43
1428: PUSH
1429: LD_INT 48
1431: PUSH
1432: LD_INT 49
1434: PUSH
1435: LD_INT 50
1437: PUSH
1438: LD_INT 51
1440: PUSH
1441: EMPTY
1442: LIST
1443: LIST
1444: LIST
1445: LIST
1446: LIST
1447: LIST
1448: LIST
1449: LIST
1450: LIST
1451: ST_TO_ADDR
// FLAGY_XY = [ [ 118 , 73 ] , [ 147 , 55 ] , [ 78 , 30 ] , [ 86 , 99 ] , [ 157 , 124 ] , [ 106 , 19 ] , [ 172 , 98 ] , [ 133 , 140 ] , [ 70 , 61 ] , ] ;
1452: LD_ADDR_EXP 119
1456: PUSH
1457: LD_INT 118
1459: PUSH
1460: LD_INT 73
1462: PUSH
1463: EMPTY
1464: LIST
1465: LIST
1466: PUSH
1467: LD_INT 147
1469: PUSH
1470: LD_INT 55
1472: PUSH
1473: EMPTY
1474: LIST
1475: LIST
1476: PUSH
1477: LD_INT 78
1479: PUSH
1480: LD_INT 30
1482: PUSH
1483: EMPTY
1484: LIST
1485: LIST
1486: PUSH
1487: LD_INT 86
1489: PUSH
1490: LD_INT 99
1492: PUSH
1493: EMPTY
1494: LIST
1495: LIST
1496: PUSH
1497: LD_INT 157
1499: PUSH
1500: LD_INT 124
1502: PUSH
1503: EMPTY
1504: LIST
1505: LIST
1506: PUSH
1507: LD_INT 106
1509: PUSH
1510: LD_INT 19
1512: PUSH
1513: EMPTY
1514: LIST
1515: LIST
1516: PUSH
1517: LD_INT 172
1519: PUSH
1520: LD_INT 98
1522: PUSH
1523: EMPTY
1524: LIST
1525: LIST
1526: PUSH
1527: LD_INT 133
1529: PUSH
1530: LD_INT 140
1532: PUSH
1533: EMPTY
1534: LIST
1535: LIST
1536: PUSH
1537: LD_INT 70
1539: PUSH
1540: LD_INT 61
1542: PUSH
1543: EMPTY
1544: LIST
1545: LIST
1546: PUSH
1547: EMPTY
1548: LIST
1549: LIST
1550: LIST
1551: LIST
1552: LIST
1553: LIST
1554: LIST
1555: LIST
1556: LIST
1557: ST_TO_ADDR
// FLAGY_AREA1 = [ ff1 , ff2 , ff3 , ff4 , ff5 , ff6 , ff7 , ff8 , ff9 ] ;
1558: LD_ADDR_EXP 120
1562: PUSH
1563: LD_INT 34
1565: PUSH
1566: LD_INT 35
1568: PUSH
1569: LD_INT 36
1571: PUSH
1572: LD_INT 37
1574: PUSH
1575: LD_INT 38
1577: PUSH
1578: LD_INT 44
1580: PUSH
1581: LD_INT 45
1583: PUSH
1584: LD_INT 46
1586: PUSH
1587: LD_INT 47
1589: PUSH
1590: EMPTY
1591: LIST
1592: LIST
1593: LIST
1594: LIST
1595: LIST
1596: LIST
1597: LIST
1598: LIST
1599: LIST
1600: ST_TO_ADDR
// MaxFlags = 9 ;
1601: LD_ADDR_EXP 113
1605: PUSH
1606: LD_INT 9
1608: ST_TO_ADDR
// WarForTerritory_flags = [ 0 , 5 , 7 , 9 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
1609: LD_ADDR_EXP 65
1613: PUSH
1614: LD_INT 0
1616: PUSH
1617: LD_INT 5
1619: PUSH
1620: LD_INT 7
1622: PUSH
1623: LD_INT 9
1625: PUSH
1626: LD_INT 0
1628: PUSH
1629: LD_INT 0
1631: PUSH
1632: LD_INT 0
1634: PUSH
1635: LD_INT 0
1637: PUSH
1638: LD_INT 0
1640: PUSH
1641: LD_INT 0
1643: PUSH
1644: LD_INT 0
1646: PUSH
1647: EMPTY
1648: LIST
1649: LIST
1650: LIST
1651: LIST
1652: LIST
1653: LIST
1654: LIST
1655: LIST
1656: LIST
1657: LIST
1658: LIST
1659: ST_TO_ADDR
// WarForTerritory_Points = [ 0 , 0 , 0 , 0 , 300 , 500 , 700 , 1000 , 1500 , 2000 , 3000 ] ;
1660: LD_ADDR_EXP 64
1664: PUSH
1665: LD_INT 0
1667: PUSH
1668: LD_INT 0
1670: PUSH
1671: LD_INT 0
1673: PUSH
1674: LD_INT 0
1676: PUSH
1677: LD_INT 300
1679: PUSH
1680: LD_INT 500
1682: PUSH
1683: LD_INT 700
1685: PUSH
1686: LD_INT 1000
1688: PUSH
1689: LD_INT 1500
1691: PUSH
1692: LD_INT 2000
1694: PUSH
1695: LD_INT 3000
1697: PUSH
1698: EMPTY
1699: LIST
1700: LIST
1701: LIST
1702: LIST
1703: LIST
1704: LIST
1705: LIST
1706: LIST
1707: LIST
1708: LIST
1709: LIST
1710: ST_TO_ADDR
// end ;
1711: LD_VAR 0 1
1715: RET
// export function SimMPDefinition ; begin
1716: LD_INT 0
1718: PPUSH
// Game_Type = 1 ;
1719: LD_ADDR_EXP 1
1723: PUSH
1724: LD_INT 1
1726: ST_TO_ADDR
// Player_Side = 3 ;
1727: LD_ADDR_EXP 69
1731: PUSH
1732: LD_INT 3
1734: ST_TO_ADDR
// Player_Team = 2 ;
1735: LD_ADDR_EXP 70
1739: PUSH
1740: LD_INT 2
1742: ST_TO_ADDR
// Side_Positions = [ 1 , 2 , 3 , 4 , 0 , 0 , 0 , 0 ] ;
1743: LD_ADDR_EXP 74
1747: PUSH
1748: LD_INT 1
1750: PUSH
1751: LD_INT 2
1753: PUSH
1754: LD_INT 3
1756: PUSH
1757: LD_INT 4
1759: PUSH
1760: LD_INT 0
1762: PUSH
1763: LD_INT 0
1765: PUSH
1766: LD_INT 0
1768: PUSH
1769: LD_INT 0
1771: PUSH
1772: EMPTY
1773: LIST
1774: LIST
1775: LIST
1776: LIST
1777: LIST
1778: LIST
1779: LIST
1780: LIST
1781: ST_TO_ADDR
// Side_Teams = [ 1 , 1 , 2 , 2 , 0 , 0 , 0 , 0 ] ;
1782: LD_ADDR_EXP 71
1786: PUSH
1787: LD_INT 1
1789: PUSH
1790: LD_INT 1
1792: PUSH
1793: LD_INT 2
1795: PUSH
1796: LD_INT 2
1798: PUSH
1799: LD_INT 0
1801: PUSH
1802: LD_INT 0
1804: PUSH
1805: LD_INT 0
1807: PUSH
1808: LD_INT 0
1810: PUSH
1811: EMPTY
1812: LIST
1813: LIST
1814: LIST
1815: LIST
1816: LIST
1817: LIST
1818: LIST
1819: LIST
1820: ST_TO_ADDR
// Side_Nations = [ 1 , 2 , 2 , 1 , 0 , 0 , 0 , 0 ] ;
1821: LD_ADDR_EXP 75
1825: PUSH
1826: LD_INT 1
1828: PUSH
1829: LD_INT 2
1831: PUSH
1832: LD_INT 2
1834: PUSH
1835: LD_INT 1
1837: PUSH
1838: LD_INT 0
1840: PUSH
1841: LD_INT 0
1843: PUSH
1844: LD_INT 0
1846: PUSH
1847: LD_INT 0
1849: PUSH
1850: EMPTY
1851: LIST
1852: LIST
1853: LIST
1854: LIST
1855: LIST
1856: LIST
1857: LIST
1858: LIST
1859: ST_TO_ADDR
// Side_Comps = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
1860: LD_ADDR_EXP 77
1864: PUSH
1865: LD_INT 0
1867: PUSH
1868: LD_INT 0
1870: PUSH
1871: LD_INT 0
1873: PUSH
1874: LD_INT 0
1876: PUSH
1877: LD_INT 0
1879: PUSH
1880: LD_INT 0
1882: PUSH
1883: LD_INT 0
1885: PUSH
1886: LD_INT 0
1888: PUSH
1889: EMPTY
1890: LIST
1891: LIST
1892: LIST
1893: LIST
1894: LIST
1895: LIST
1896: LIST
1897: LIST
1898: ST_TO_ADDR
// Teams = [ [ 1 , 2 ] , [ 3 , 4 ] , [ 0 ] ] diff [ 0 ] ;
1899: LD_ADDR_EXP 72
1903: PUSH
1904: LD_INT 1
1906: PUSH
1907: LD_INT 2
1909: PUSH
1910: EMPTY
1911: LIST
1912: LIST
1913: PUSH
1914: LD_INT 3
1916: PUSH
1917: LD_INT 4
1919: PUSH
1920: EMPTY
1921: LIST
1922: LIST
1923: PUSH
1924: LD_INT 0
1926: PUSH
1927: EMPTY
1928: LIST
1929: PUSH
1930: EMPTY
1931: LIST
1932: LIST
1933: LIST
1934: PUSH
1935: LD_INT 0
1937: PUSH
1938: EMPTY
1939: LIST
1940: DIFF
1941: ST_TO_ADDR
// end ;
1942: LD_VAR 0 1
1946: RET
// export function SimMPOptions ; begin
1947: LD_INT 0
1949: PPUSH
// def_game_rules = 0 ;
1950: LD_ADDR_EXP 9
1954: PUSH
1955: LD_INT 0
1957: ST_TO_ADDR
// def_base_level = 2 ;
1958: LD_ADDR_EXP 10
1962: PUSH
1963: LD_INT 2
1965: ST_TO_ADDR
// def_amount_of_people = 5 ;
1966: LD_ADDR_EXP 11
1970: PUSH
1971: LD_INT 5
1973: ST_TO_ADDR
// def_amount_of_apemen_in_team = 2 ;
1974: LD_ADDR_EXP 12
1978: PUSH
1979: LD_INT 2
1981: ST_TO_ADDR
// def_initial_level = 1 ;
1982: LD_ADDR_EXP 13
1986: PUSH
1987: LD_INT 1
1989: ST_TO_ADDR
// def_classes = 0 ;
1990: LD_ADDR_EXP 14
1994: PUSH
1995: LD_INT 0
1997: ST_TO_ADDR
// def_starting_resources = 2 ;
1998: LD_ADDR_EXP 15
2002: PUSH
2003: LD_INT 2
2005: ST_TO_ADDR
// def_shipments_density = 2 ;
2006: LD_ADDR_EXP 16
2010: PUSH
2011: LD_INT 2
2013: ST_TO_ADDR
// def_extra_oil_deposits = 1 ;
2014: LD_ADDR_EXP 17
2018: PUSH
2019: LD_INT 1
2021: ST_TO_ADDR
// def_extra_sib_deposits = 1 ;
2022: LD_ADDR_EXP 18
2026: PUSH
2027: LD_INT 1
2029: ST_TO_ADDR
// def_shared_vision = 1 ;
2030: LD_ADDR_EXP 19
2034: PUSH
2035: LD_INT 1
2037: ST_TO_ADDR
// def_morale_flags = 1 ;
2038: LD_ADDR_EXP 20
2042: PUSH
2043: LD_INT 1
2045: ST_TO_ADDR
// def_win_rules = 2 ;
2046: LD_ADDR_EXP 21
2050: PUSH
2051: LD_INT 2
2053: ST_TO_ADDR
// def_amount_of_apemen = 1 ;
2054: LD_ADDR_EXP 22
2058: PUSH
2059: LD_INT 1
2061: ST_TO_ADDR
// def_amount_of_tiger = 1 ;
2062: LD_ADDR_EXP 23
2066: PUSH
2067: LD_INT 1
2069: ST_TO_ADDR
// def_respawining_type = 1 ;
2070: LD_ADDR_EXP 24
2074: PUSH
2075: LD_INT 1
2077: ST_TO_ADDR
// def_people_respawning = 1 ;
2078: LD_ADDR_EXP 25
2082: PUSH
2083: LD_INT 1
2085: ST_TO_ADDR
// def_tech_level = 8 ;
2086: LD_ADDR_EXP 26
2090: PUSH
2091: LD_INT 8
2093: ST_TO_ADDR
// def_upgrade_tl = 1 ;
2094: LD_ADDR_EXP 27
2098: PUSH
2099: LD_INT 1
2101: ST_TO_ADDR
// def_siberite_detection = 1 ;
2102: LD_ADDR_EXP 28
2106: PUSH
2107: LD_INT 1
2109: ST_TO_ADDR
// def_siberite_bomb = 3 ;
2110: LD_ADDR_EXP 29
2114: PUSH
2115: LD_INT 3
2117: ST_TO_ADDR
// def_builduptime = 1 ;
2118: LD_ADDR_EXP 30
2122: PUSH
2123: LD_INT 1
2125: ST_TO_ADDR
// def_desert_warior = 2 ;
2126: LD_ADDR_EXP 31
2130: PUSH
2131: LD_INT 2
2133: ST_TO_ADDR
// def_daily_start = 2 ;
2134: LD_ADDR_EXP 32
2138: PUSH
2139: LD_INT 2
2141: ST_TO_ADDR
// def_daily_speed = 3 ;
2142: LD_ADDR_EXP 33
2146: PUSH
2147: LD_INT 3
2149: ST_TO_ADDR
// def_public_score = 1 ;
2150: LD_ADDR_EXP 34
2154: PUSH
2155: LD_INT 1
2157: ST_TO_ADDR
// def_kings_age = 1 ;
2158: LD_ADDR_EXP 35
2162: PUSH
2163: LD_INT 1
2165: ST_TO_ADDR
// def_warForTerritory = 5 ;
2166: LD_ADDR_EXP 36
2170: PUSH
2171: LD_INT 5
2173: ST_TO_ADDR
// end ;
2174: LD_VAR 0 1
2178: RET
// export function Hustota_Zasilek ; var i ; begin
2179: LD_INT 0
2181: PPUSH
2182: PPUSH
// if def_game_rules then
2183: LD_EXP 9
2187: IFFALSE 2197
// tech_level = 8 ;
2189: LD_ADDR_EXP 56
2193: PUSH
2194: LD_INT 8
2196: ST_TO_ADDR
// case def_shipments_density of 0 :
2197: LD_EXP 16
2201: PUSH
2202: LD_INT 0
2204: DOUBLE
2205: EQUAL
2206: IFTRUE 2210
2208: GO 2221
2210: POP
// shipments_density := 40 ; 1 :
2211: LD_ADDR_EXP 45
2215: PUSH
2216: LD_INT 40
2218: ST_TO_ADDR
2219: GO 2260
2221: LD_INT 1
2223: DOUBLE
2224: EQUAL
2225: IFTRUE 2229
2227: GO 2240
2229: POP
// shipments_density := 60 ; 2 :
2230: LD_ADDR_EXP 45
2234: PUSH
2235: LD_INT 60
2237: ST_TO_ADDR
2238: GO 2260
2240: LD_INT 2
2242: DOUBLE
2243: EQUAL
2244: IFTRUE 2248
2246: GO 2259
2248: POP
// shipments_density := 90 ; end ;
2249: LD_ADDR_EXP 45
2253: PUSH
2254: LD_INT 90
2256: ST_TO_ADDR
2257: GO 2260
2259: POP
// if tech_level < 7 then
2260: LD_EXP 56
2264: PUSH
2265: LD_INT 7
2267: LESS
2268: IFFALSE 2287
// shipments_density := shipments_density * 0.85 else
2270: LD_ADDR_EXP 45
2274: PUSH
2275: LD_EXP 45
2279: PUSH
2280: LD_REAL  8.50000000000000E-0001
2283: MUL
2284: ST_TO_ADDR
2285: GO 2339
// if tech_level < 5 then
2287: LD_EXP 56
2291: PUSH
2292: LD_INT 5
2294: LESS
2295: IFFALSE 2314
// shipments_density := shipments_density * 0.7 else
2297: LD_ADDR_EXP 45
2301: PUSH
2302: LD_EXP 45
2306: PUSH
2307: LD_REAL  7.00000000000000E-0001
2310: MUL
2311: ST_TO_ADDR
2312: GO 2339
// if tech_level < 3 then
2314: LD_EXP 56
2318: PUSH
2319: LD_INT 3
2321: LESS
2322: IFFALSE 2339
// shipments_density := shipments_density * 0.6 ;
2324: LD_ADDR_EXP 45
2328: PUSH
2329: LD_EXP 45
2333: PUSH
2334: LD_REAL  6.00000000000000E-0001
2337: MUL
2338: ST_TO_ADDR
// end ; end_of_file
2339: LD_VAR 0 1
2343: RET
// on VehicleConstructionStarted ( factory , chassis , engine , control , weapon ) do RestrictVehicleConstructionStarted ( factory , chassis , engine , control , weapon ) ;
2344: LD_VAR 0 1
2348: PPUSH
2349: LD_VAR 0 2
2353: PPUSH
2354: LD_VAR 0 3
2358: PPUSH
2359: LD_VAR 0 4
2363: PPUSH
2364: LD_VAR 0 5
2368: PPUSH
2369: CALL 29833 0 5
2373: PPOPN 5
2375: END
// on WeaponPlaced ( building , weapon ) do RestrictWeaponPlaced ( building , weapon ) ;
2376: LD_VAR 0 1
2380: PPUSH
2381: LD_VAR 0 2
2385: PPUSH
2386: CALL 29898 0 2
2390: PPOPN 2
2392: END
// on BuildingStarted ( b , h ) do begin if def_game_rules then
2393: LD_EXP 9
2397: IFFALSE 2434
// begin ExecuteLimits ( b , GetBType ( b ) , GetSide ( b ) , 0 , 1 ) ;
2399: LD_VAR 0 1
2403: PPUSH
2404: LD_VAR 0 1
2408: PPUSH
2409: CALL_OW 266
2413: PPUSH
2414: LD_VAR 0 1
2418: PPUSH
2419: CALL_OW 255
2423: PPUSH
2424: LD_INT 0
2426: PPUSH
2427: LD_INT 1
2429: PPUSH
2430: CALL 29381 0 5
// end ; if GetBType ( b ) in [ b_depot , b_warehouse ] then
2434: LD_VAR 0 1
2438: PPUSH
2439: CALL_OW 266
2443: PUSH
2444: LD_INT 0
2446: PUSH
2447: LD_INT 1
2449: PUSH
2450: EMPTY
2451: LIST
2452: LIST
2453: IN
2454: IFFALSE 2470
// NameBuildingStarted ( b , h ) ;
2456: LD_VAR 0 1
2460: PPUSH
2461: LD_VAR 0 2
2465: PPUSH
2466: CALL 16285 0 2
// end ;
2470: PPOPN 2
2472: END
// on BuildingComplete ( b ) do begin if GetBType ( b ) in [ b_depot , b_warehouse ] then
2473: LD_VAR 0 1
2477: PPUSH
2478: CALL_OW 266
2482: PUSH
2483: LD_INT 0
2485: PUSH
2486: LD_INT 1
2488: PUSH
2489: EMPTY
2490: LIST
2491: LIST
2492: IN
2493: IFFALSE 2504
// NameBuildingComplete ( b ) ;
2495: LD_VAR 0 1
2499: PPUSH
2500: CALL 16277 0 1
// end ;
2504: PPOPN 1
2506: END
// on BuildingCaptured ( b , o , e ) do begin if def_game_rules then
2507: LD_EXP 9
2511: IFFALSE 2548
// begin ExecuteLimits ( b , GetBType ( b ) , GetSide ( b ) , 0 , 1 ) ;
2513: LD_VAR 0 1
2517: PPUSH
2518: LD_VAR 0 1
2522: PPUSH
2523: CALL_OW 266
2527: PPUSH
2528: LD_VAR 0 1
2532: PPUSH
2533: CALL_OW 255
2537: PPUSH
2538: LD_INT 0
2540: PPUSH
2541: LD_INT 1
2543: PPUSH
2544: CALL 29381 0 5
// end ; if GetBType ( b ) in [ b_depot , b_warehouse ] then
2548: LD_VAR 0 1
2552: PPUSH
2553: CALL_OW 266
2557: PUSH
2558: LD_INT 0
2560: PUSH
2561: LD_INT 1
2563: PUSH
2564: EMPTY
2565: LIST
2566: LIST
2567: IN
2568: IFFALSE 2589
// NameBuildingCaptured ( b , o , e ) ;
2570: LD_VAR 0 1
2574: PPUSH
2575: LD_VAR 0 2
2579: PPUSH
2580: LD_VAR 0 3
2584: PPUSH
2585: CALL 16364 0 3
// end ;
2589: PPOPN 3
2591: END
// on UnitDestroyed ( j ) do var x , y , pos , dir ;
2592: LD_INT 0
2594: PPUSH
2595: PPUSH
2596: PPUSH
2597: PPUSH
// begin if def_game_rules then
2598: LD_EXP 9
2602: IFFALSE 2613
// CallExecuteLimits ( j ) ;
2604: LD_VAR 0 1
2608: PPUSH
2609: CALL 30140 0 1
// end ;
2613: PPOPN 5
2615: END
// on VehicleCaptured ( j , i1 , o , i2 ) do begin if def_game_rules and ( GetChassis ( j ) = 25 ) then
2616: LD_EXP 9
2620: PUSH
2621: LD_VAR 0 1
2625: PPUSH
2626: CALL_OW 265
2630: PUSH
2631: LD_INT 25
2633: EQUAL
2634: AND
2635: IFFALSE 2667
// ExecuteLimits ( j , b_behemoth , GetSide ( j ) , o , 1 ) ;
2637: LD_VAR 0 1
2641: PPUSH
2642: LD_INT 37
2644: PPUSH
2645: LD_VAR 0 1
2649: PPUSH
2650: CALL_OW 255
2654: PPUSH
2655: LD_VAR 0 3
2659: PPUSH
2660: LD_INT 1
2662: PPUSH
2663: CALL 29381 0 5
// end ;
2667: PPOPN 4
2669: END
// on HumanDestroyed ( identifier , side , nation , x , y , direction , sex , cl ) do if def_respawining_type > 1 then
2670: LD_EXP 24
2674: PUSH
2675: LD_INT 1
2677: GREATER
2678: IFFALSE 2724
// RespawnHumanDestroyed ( identifier , side , nation , x , y , direction , sex , cl ) ;
2680: LD_VAR 0 1
2684: PPUSH
2685: LD_VAR 0 2
2689: PPUSH
2690: LD_VAR 0 3
2694: PPUSH
2695: LD_VAR 0 4
2699: PPUSH
2700: LD_VAR 0 5
2704: PPUSH
2705: LD_VAR 0 6
2709: PPUSH
2710: LD_VAR 0 7
2714: PPUSH
2715: LD_VAR 0 8
2719: PPUSH
2720: CALL 11420 0 8
2724: PPOPN 8
2726: END
// on siberiterocketexploded ( un , x , y ) do SA_OnSiberiteRocketExploded ( un , x , y , Your_Side ) ; end_of_file
2727: LD_VAR 0 1
2731: PPUSH
2732: LD_VAR 0 2
2736: PPUSH
2737: LD_VAR 0 3
2741: PPUSH
2742: LD_OWVAR 2
2746: PPUSH
2747: CALL 34480 0 4
2751: PPOPN 3
2753: END
// export game_type , GT_Mine , GT_doubleNat , GT_doublePeople , GT_tripleNat , GT_Survival , GT_RankedGames , pozice_beden ; export def_game_rules , def_base_level , def_amount_of_people , def_amount_of_apemen_in_team , def_initial_level , def_classes , def_starting_resources , def_shipments_density , def_extra_oil_deposits , def_extra_sib_deposits , def_shared_vision , def_morale_flags , def_win_rules , def_amount_of_apemen , def_amount_of_tiger , def_respawining_type , def_people_respawning , def_tech_level , def_upgrade_tl , def_siberite_detection , def_siberite_bomb , def_builduptime , def_desert_warior , def_daily_start , def_daily_speed , def_public_score , def_kings_age , def_WarForTerritory ; export base_level , number_of_breastworks , buildings_def , number_of_people , number_of_apemen , initial_level , starting_crates , starting_resources , shipments_density , morale_decreasing_time , spawning_koef_of_apemen , spawning_koef_of_tiger , respawning_time_min , heroes , respawning_time_max , Position_Nations , respawning_time_delay_min , respawning_time_delay_max , commander , tech_level , final_count , daily_start , daily_speed , TimePhase , DailyPhase , Position_Sides , for_show_near_resources , WarForTerritory_Points , WarForTerritory_flags , siberite_bomb_Delay ; export Side_Count , Team_Count , Player_Side , Player_Team , Side_Teams , Teams , Side_IsSpec ; export Side_Positions , Side_Nations , Side_Names , Side_Comps , Team_Names , Team_Game ; export depot_def , breastworks_def , start_def , pocet_hracu , extra_oil_deposits_locations , oil_deposits_locations , extra_sib_deposits_locations , siberite_deposits_locations , battle_flags_id , def_max_sides ; export Cela_Mapa , king_territory ; export global_units , global_defined , soldiers_created , global_count , global_classes ; export function read_multiplayer_and_game_parameters ; var side , dep , br1 , br2 , br3 , un , i ; begin
2754: LD_INT 0
2756: PPUSH
2757: PPUSH
2758: PPUSH
2759: PPUSH
2760: PPUSH
2761: PPUSH
2762: PPUSH
2763: PPUSH
// if MultiPlayer then
2764: LD_OWVAR 4
2768: IFFALSE 2852
// begin Game_Type = mp_game_type ;
2770: LD_ADDR_EXP 1
2774: PUSH
2775: LD_OWVAR 6
2779: ST_TO_ADDR
// Player_Side = mp_player_side ;
2780: LD_ADDR_EXP 69
2784: PUSH
2785: LD_OWVAR 7
2789: ST_TO_ADDR
// Player_Team = mp_player_team ;
2790: LD_ADDR_EXP 70
2794: PUSH
2795: LD_OWVAR 8
2799: ST_TO_ADDR
// Side_Positions = mp_sides_positions ;
2800: LD_ADDR_EXP 74
2804: PUSH
2805: LD_OWVAR 17
2809: ST_TO_ADDR
// Side_Teams = mp_sides_teams ;
2810: LD_ADDR_EXP 71
2814: PUSH
2815: LD_OWVAR 15
2819: ST_TO_ADDR
// Side_Nations = mp_sides_nations ;
2820: LD_ADDR_EXP 75
2824: PUSH
2825: LD_OWVAR 16
2829: ST_TO_ADDR
// Side_Comps = mp_sides_comps ;
2830: LD_ADDR_EXP 77
2834: PUSH
2835: CALL 3304 0 0
2839: ST_TO_ADDR
// Teams = mp_teams ;
2840: LD_ADDR_EXP 72
2844: PUSH
2845: LD_OWVAR 12
2849: ST_TO_ADDR
// end else
2850: GO 2856
// begin SimMPDefinition ;
2852: CALL 1716 0 0
// end ; Side_Count = ( Side_Positions diff [ 0 ] ) + 0 ;
2856: LD_ADDR_EXP 67
2860: PUSH
2861: LD_EXP 74
2865: PUSH
2866: LD_INT 0
2868: PUSH
2869: EMPTY
2870: LIST
2871: DIFF
2872: PUSH
2873: LD_INT 0
2875: PLUS
2876: ST_TO_ADDR
// Team_Count = ( Side_Teams diff [ 0 ] ) + 0 ;
2877: LD_ADDR_EXP 68
2881: PUSH
2882: LD_EXP 71
2886: PUSH
2887: LD_INT 0
2889: PUSH
2890: EMPTY
2891: LIST
2892: DIFF
2893: PUSH
2894: LD_INT 0
2896: PLUS
2897: ST_TO_ADDR
// if MultiPlayer then
2898: LD_OWVAR 4
2902: IFFALSE 3265
// begin def_game_rules = GetMultiplayerSetting ( 0 ) ;
2904: LD_ADDR_EXP 9
2908: PUSH
2909: LD_INT 0
2911: PPUSH
2912: CALL_OW 426
2916: ST_TO_ADDR
// def_base_level = GetMultiplayerSetting ( 1 ) ;
2917: LD_ADDR_EXP 10
2921: PUSH
2922: LD_INT 1
2924: PPUSH
2925: CALL_OW 426
2929: ST_TO_ADDR
// def_amount_of_people = GetMultiplayerSetting ( 2 ) ;
2930: LD_ADDR_EXP 11
2934: PUSH
2935: LD_INT 2
2937: PPUSH
2938: CALL_OW 426
2942: ST_TO_ADDR
// def_amount_of_apemen_in_team = GetMultiplayerSetting ( 3 ) ;
2943: LD_ADDR_EXP 12
2947: PUSH
2948: LD_INT 3
2950: PPUSH
2951: CALL_OW 426
2955: ST_TO_ADDR
// def_initial_level = GetMultiplayerSetting ( 4 ) ;
2956: LD_ADDR_EXP 13
2960: PUSH
2961: LD_INT 4
2963: PPUSH
2964: CALL_OW 426
2968: ST_TO_ADDR
// def_classes = GetMultiplayerSetting ( 5 ) ;
2969: LD_ADDR_EXP 14
2973: PUSH
2974: LD_INT 5
2976: PPUSH
2977: CALL_OW 426
2981: ST_TO_ADDR
// def_starting_resources = GetMultiplayerSetting ( 6 ) ;
2982: LD_ADDR_EXP 15
2986: PUSH
2987: LD_INT 6
2989: PPUSH
2990: CALL_OW 426
2994: ST_TO_ADDR
// def_shipments_density = GetMultiplayerSetting ( 7 ) ;
2995: LD_ADDR_EXP 16
2999: PUSH
3000: LD_INT 7
3002: PPUSH
3003: CALL_OW 426
3007: ST_TO_ADDR
// def_extra_oil_deposits = GetMultiplayerSetting ( 8 ) ;
3008: LD_ADDR_EXP 17
3012: PUSH
3013: LD_INT 8
3015: PPUSH
3016: CALL_OW 426
3020: ST_TO_ADDR
// def_extra_sib_deposits = GetMultiplayerSetting ( 9 ) ;
3021: LD_ADDR_EXP 18
3025: PUSH
3026: LD_INT 9
3028: PPUSH
3029: CALL_OW 426
3033: ST_TO_ADDR
// def_morale_flags = GetMultiplayerSetting ( 10 ) ;
3034: LD_ADDR_EXP 20
3038: PUSH
3039: LD_INT 10
3041: PPUSH
3042: CALL_OW 426
3046: ST_TO_ADDR
// def_win_rules = GetMultiplayerSetting ( 11 ) ;
3047: LD_ADDR_EXP 21
3051: PUSH
3052: LD_INT 11
3054: PPUSH
3055: CALL_OW 426
3059: ST_TO_ADDR
// def_amount_of_apemen = GetMultiplayerSetting ( 12 ) ;
3060: LD_ADDR_EXP 22
3064: PUSH
3065: LD_INT 12
3067: PPUSH
3068: CALL_OW 426
3072: ST_TO_ADDR
// def_amount_of_tiger = GetMultiplayerSetting ( 13 ) ;
3073: LD_ADDR_EXP 23
3077: PUSH
3078: LD_INT 13
3080: PPUSH
3081: CALL_OW 426
3085: ST_TO_ADDR
// def_respawining_type = GetMultiplayerSetting ( 14 ) ;
3086: LD_ADDR_EXP 24
3090: PUSH
3091: LD_INT 14
3093: PPUSH
3094: CALL_OW 426
3098: ST_TO_ADDR
// def_people_respawning = GetMultiplayerSetting ( 15 ) ;
3099: LD_ADDR_EXP 25
3103: PUSH
3104: LD_INT 15
3106: PPUSH
3107: CALL_OW 426
3111: ST_TO_ADDR
// def_tech_level = GetMultiplayerSetting ( 16 ) ;
3112: LD_ADDR_EXP 26
3116: PUSH
3117: LD_INT 16
3119: PPUSH
3120: CALL_OW 426
3124: ST_TO_ADDR
// def_upgrade_tl = GetMultiplayerSetting ( 17 ) ;
3125: LD_ADDR_EXP 27
3129: PUSH
3130: LD_INT 17
3132: PPUSH
3133: CALL_OW 426
3137: ST_TO_ADDR
// def_siberite_detection = GetMultiplayerSetting ( 18 ) ;
3138: LD_ADDR_EXP 28
3142: PUSH
3143: LD_INT 18
3145: PPUSH
3146: CALL_OW 426
3150: ST_TO_ADDR
// def_siberite_bomb = GetMultiplayerSetting ( 19 ) ;
3151: LD_ADDR_EXP 29
3155: PUSH
3156: LD_INT 19
3158: PPUSH
3159: CALL_OW 426
3163: ST_TO_ADDR
// def_builduptime = GetMultiplayerSetting ( 20 ) ;
3164: LD_ADDR_EXP 30
3168: PUSH
3169: LD_INT 20
3171: PPUSH
3172: CALL_OW 426
3176: ST_TO_ADDR
// def_desert_warior = GetMultiplayerSetting ( 21 ) ;
3177: LD_ADDR_EXP 31
3181: PUSH
3182: LD_INT 21
3184: PPUSH
3185: CALL_OW 426
3189: ST_TO_ADDR
// def_daily_start = GetMultiplayerSetting ( 22 ) ;
3190: LD_ADDR_EXP 32
3194: PUSH
3195: LD_INT 22
3197: PPUSH
3198: CALL_OW 426
3202: ST_TO_ADDR
// def_daily_speed = GetMultiplayerSetting ( 23 ) ;
3203: LD_ADDR_EXP 33
3207: PUSH
3208: LD_INT 23
3210: PPUSH
3211: CALL_OW 426
3215: ST_TO_ADDR
// def_public_score = GetMultiplayerSetting ( 24 ) ;
3216: LD_ADDR_EXP 34
3220: PUSH
3221: LD_INT 24
3223: PPUSH
3224: CALL_OW 426
3228: ST_TO_ADDR
// def_kings_age = GetMultiplayerSetting ( 25 ) ;
3229: LD_ADDR_EXP 35
3233: PUSH
3234: LD_INT 25
3236: PPUSH
3237: CALL_OW 426
3241: ST_TO_ADDR
// def_warForTerritory = GetMultiplayerSetting ( 26 ) ;
3242: LD_ADDR_EXP 36
3246: PUSH
3247: LD_INT 26
3249: PPUSH
3250: CALL_OW 426
3254: ST_TO_ADDR
// def_shared_vision = true ;
3255: LD_ADDR_EXP 19
3259: PUSH
3260: LD_INT 1
3262: ST_TO_ADDR
// end else
3263: GO 3273
// begin randomizeAll ;
3265: CALL_OW 11
// SimMPOptions ;
3269: CALL 1947 0 0
// end ; if Game_Type in GT_RankedGames then
3273: LD_EXP 1
3277: PUSH
3278: LD_EXP 7
3282: IN
3283: IFFALSE 3299
// def_game_rules = def_game_rules + 1 ;
3285: LD_ADDR_EXP 9
3289: PUSH
3290: LD_EXP 9
3294: PUSH
3295: LD_INT 1
3297: PLUS
3298: ST_TO_ADDR
// end ;
3299: LD_VAR 0 1
3303: RET
// function mp_sides_comps ; var c , i ; begin
3304: LD_INT 0
3306: PPUSH
3307: PPUSH
3308: PPUSH
// c = [ ] ;
3309: LD_ADDR_VAR 0 2
3313: PUSH
3314: EMPTY
3315: ST_TO_ADDR
// for i = 1 to 8 do
3316: LD_ADDR_VAR 0 3
3320: PUSH
3321: DOUBLE
3322: LD_INT 1
3324: DEC
3325: ST_TO_ADDR
3326: LD_INT 8
3328: PUSH
3329: FOR_TO
3330: IFFALSE 3355
// c = c ^ Multiplayer_GetPlayerIsComp ( i ) ;
3332: LD_ADDR_VAR 0 2
3336: PUSH
3337: LD_VAR 0 2
3341: PUSH
3342: LD_VAR 0 3
3346: PPUSH
3347: CALL_OW 532
3351: ADD
3352: ST_TO_ADDR
3353: GO 3329
3355: POP
3356: POP
// result = c ;
3357: LD_ADDR_VAR 0 1
3361: PUSH
3362: LD_VAR 0 2
3366: ST_TO_ADDR
// end ;
3367: LD_VAR 0 1
3371: RET
// export function standartSets ; begin
3372: LD_INT 0
3374: PPUSH
// if Game_Type in GT_Survival then
3375: LD_EXP 1
3379: PUSH
3380: LD_EXP 6
3384: IN
3385: IFFALSE 3528
// begin base_level = [ 1 , 1 , 1 , 2 ] ;
3387: LD_ADDR_EXP 37
3391: PUSH
3392: LD_INT 1
3394: PUSH
3395: LD_INT 1
3397: PUSH
3398: LD_INT 1
3400: PUSH
3401: LD_INT 2
3403: PUSH
3404: EMPTY
3405: LIST
3406: LIST
3407: LIST
3408: LIST
3409: ST_TO_ADDR
// starting_resources := [ [ 1000 , 100 , 100 ] , [ 2000 , 200 , 200 ] , [ 5000 , 500 , 500 ] , [ 10000 , 1000 , 1000 ] , [ 25000 , 2500 , 2500 ] , [ 50000 , 5000 , 5000 ] ] ;
3410: LD_ADDR_EXP 44
3414: PUSH
3415: LD_INT 1000
3417: PUSH
3418: LD_INT 100
3420: PUSH
3421: LD_INT 100
3423: PUSH
3424: EMPTY
3425: LIST
3426: LIST
3427: LIST
3428: PUSH
3429: LD_INT 2000
3431: PUSH
3432: LD_INT 200
3434: PUSH
3435: LD_INT 200
3437: PUSH
3438: EMPTY
3439: LIST
3440: LIST
3441: LIST
3442: PUSH
3443: LD_INT 5000
3445: PUSH
3446: LD_INT 500
3448: PUSH
3449: LD_INT 500
3451: PUSH
3452: EMPTY
3453: LIST
3454: LIST
3455: LIST
3456: PUSH
3457: LD_INT 10000
3459: PUSH
3460: LD_INT 1000
3462: PUSH
3463: LD_INT 1000
3465: PUSH
3466: EMPTY
3467: LIST
3468: LIST
3469: LIST
3470: PUSH
3471: LD_INT 25000
3473: PUSH
3474: LD_INT 2500
3476: PUSH
3477: LD_INT 2500
3479: PUSH
3480: EMPTY
3481: LIST
3482: LIST
3483: LIST
3484: PUSH
3485: LD_INT 50000
3487: PUSH
3488: LD_INT 5000
3490: PUSH
3491: LD_INT 5000
3493: PUSH
3494: EMPTY
3495: LIST
3496: LIST
3497: LIST
3498: PUSH
3499: EMPTY
3500: LIST
3501: LIST
3502: LIST
3503: LIST
3504: LIST
3505: LIST
3506: ST_TO_ADDR
// starting_crates := [ [ ] , [ ] , [ ] , [ ] ] ;
3507: LD_ADDR_EXP 43
3511: PUSH
3512: EMPTY
3513: PUSH
3514: EMPTY
3515: PUSH
3516: EMPTY
3517: PUSH
3518: EMPTY
3519: PUSH
3520: EMPTY
3521: LIST
3522: LIST
3523: LIST
3524: LIST
3525: ST_TO_ADDR
// end else
3526: GO 3681
// begin base_level = [ 0 , 1 , 1 , 1 , 2 ] ;
3528: LD_ADDR_EXP 37
3532: PUSH
3533: LD_INT 0
3535: PUSH
3536: LD_INT 1
3538: PUSH
3539: LD_INT 1
3541: PUSH
3542: LD_INT 1
3544: PUSH
3545: LD_INT 2
3547: PUSH
3548: EMPTY
3549: LIST
3550: LIST
3551: LIST
3552: LIST
3553: LIST
3554: ST_TO_ADDR
// starting_resources := [ [ 0 , 0 , 0 ] , [ 30 , 0 , 0 ] , [ 50 , 20 , 0 ] , [ 80 , 40 , 20 ] ] ;
3555: LD_ADDR_EXP 44
3559: PUSH
3560: LD_INT 0
3562: PUSH
3563: LD_INT 0
3565: PUSH
3566: LD_INT 0
3568: PUSH
3569: EMPTY
3570: LIST
3571: LIST
3572: LIST
3573: PUSH
3574: LD_INT 30
3576: PUSH
3577: LD_INT 0
3579: PUSH
3580: LD_INT 0
3582: PUSH
3583: EMPTY
3584: LIST
3585: LIST
3586: LIST
3587: PUSH
3588: LD_INT 50
3590: PUSH
3591: LD_INT 20
3593: PUSH
3594: LD_INT 0
3596: PUSH
3597: EMPTY
3598: LIST
3599: LIST
3600: LIST
3601: PUSH
3602: LD_INT 80
3604: PUSH
3605: LD_INT 40
3607: PUSH
3608: LD_INT 20
3610: PUSH
3611: EMPTY
3612: LIST
3613: LIST
3614: LIST
3615: PUSH
3616: EMPTY
3617: LIST
3618: LIST
3619: LIST
3620: LIST
3621: ST_TO_ADDR
// starting_crates := [ [ 10 ] , [ 7 , 14 ] , [ 6 , 12 , 18 ] , [ 5 , 10 , 15 , 20 ] ] ;
3622: LD_ADDR_EXP 43
3626: PUSH
3627: LD_INT 10
3629: PUSH
3630: EMPTY
3631: LIST
3632: PUSH
3633: LD_INT 7
3635: PUSH
3636: LD_INT 14
3638: PUSH
3639: EMPTY
3640: LIST
3641: LIST
3642: PUSH
3643: LD_INT 6
3645: PUSH
3646: LD_INT 12
3648: PUSH
3649: LD_INT 18
3651: PUSH
3652: EMPTY
3653: LIST
3654: LIST
3655: LIST
3656: PUSH
3657: LD_INT 5
3659: PUSH
3660: LD_INT 10
3662: PUSH
3663: LD_INT 15
3665: PUSH
3666: LD_INT 20
3668: PUSH
3669: EMPTY
3670: LIST
3671: LIST
3672: LIST
3673: LIST
3674: PUSH
3675: EMPTY
3676: LIST
3677: LIST
3678: LIST
3679: LIST
3680: ST_TO_ADDR
// end ; number_of_people = [ 4 , 5 , 6 , 7 , 8 , 9 , 10 , 11 , 12 , 13 , 14 , 15 , 16 , 17 , 18 , 19 , 20 , 21 , 22 , 23 , 24 ] ;
3681: LD_ADDR_EXP 40
3685: PUSH
3686: LD_INT 4
3688: PUSH
3689: LD_INT 5
3691: PUSH
3692: LD_INT 6
3694: PUSH
3695: LD_INT 7
3697: PUSH
3698: LD_INT 8
3700: PUSH
3701: LD_INT 9
3703: PUSH
3704: LD_INT 10
3706: PUSH
3707: LD_INT 11
3709: PUSH
3710: LD_INT 12
3712: PUSH
3713: LD_INT 13
3715: PUSH
3716: LD_INT 14
3718: PUSH
3719: LD_INT 15
3721: PUSH
3722: LD_INT 16
3724: PUSH
3725: LD_INT 17
3727: PUSH
3728: LD_INT 18
3730: PUSH
3731: LD_INT 19
3733: PUSH
3734: LD_INT 20
3736: PUSH
3737: LD_INT 21
3739: PUSH
3740: LD_INT 22
3742: PUSH
3743: LD_INT 23
3745: PUSH
3746: LD_INT 24
3748: PUSH
3749: EMPTY
3750: LIST
3751: LIST
3752: LIST
3753: LIST
3754: LIST
3755: LIST
3756: LIST
3757: LIST
3758: LIST
3759: LIST
3760: LIST
3761: LIST
3762: LIST
3763: LIST
3764: LIST
3765: LIST
3766: LIST
3767: LIST
3768: LIST
3769: LIST
3770: LIST
3771: ST_TO_ADDR
// number_of_apemen = [ 0 , 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 , 9 , 10 , 11 , 12 ] ;
3772: LD_ADDR_EXP 41
3776: PUSH
3777: LD_INT 0
3779: PUSH
3780: LD_INT 1
3782: PUSH
3783: LD_INT 2
3785: PUSH
3786: LD_INT 3
3788: PUSH
3789: LD_INT 4
3791: PUSH
3792: LD_INT 5
3794: PUSH
3795: LD_INT 6
3797: PUSH
3798: LD_INT 7
3800: PUSH
3801: LD_INT 8
3803: PUSH
3804: LD_INT 9
3806: PUSH
3807: LD_INT 10
3809: PUSH
3810: LD_INT 11
3812: PUSH
3813: LD_INT 12
3815: PUSH
3816: EMPTY
3817: LIST
3818: LIST
3819: LIST
3820: LIST
3821: LIST
3822: LIST
3823: LIST
3824: LIST
3825: LIST
3826: LIST
3827: LIST
3828: LIST
3829: LIST
3830: ST_TO_ADDR
// initial_level = [ 2 , 3 , 4 , 5 ] ;
3831: LD_ADDR_EXP 42
3835: PUSH
3836: LD_INT 2
3838: PUSH
3839: LD_INT 3
3841: PUSH
3842: LD_INT 4
3844: PUSH
3845: LD_INT 5
3847: PUSH
3848: EMPTY
3849: LIST
3850: LIST
3851: LIST
3852: LIST
3853: ST_TO_ADDR
// if def_game_rules then
3854: LD_EXP 9
3858: IFFALSE 3870
// tech_level = 8 else
3860: LD_ADDR_EXP 56
3864: PUSH
3865: LD_INT 8
3867: ST_TO_ADDR
3868: GO 3908
// if game_type in GT_mine then
3870: LD_EXP 1
3874: PUSH
3875: LD_EXP 2
3879: IN
3880: IFFALSE 3898
// tech_level = def_tech_level + 4 else
3882: LD_ADDR_EXP 56
3886: PUSH
3887: LD_EXP 26
3891: PUSH
3892: LD_INT 4
3894: PLUS
3895: ST_TO_ADDR
3896: GO 3908
// Tech_Level = def_tech_level ;
3898: LD_ADDR_EXP 56
3902: PUSH
3903: LD_EXP 26
3907: ST_TO_ADDR
// Hustota_Zasilek ;
3908: CALL 2179 0 0
// spawning_koef_of_apemen = [ 0 , 5 , 10 , 15 ] ;
3912: LD_ADDR_EXP 47
3916: PUSH
3917: LD_INT 0
3919: PUSH
3920: LD_INT 5
3922: PUSH
3923: LD_INT 10
3925: PUSH
3926: LD_INT 15
3928: PUSH
3929: EMPTY
3930: LIST
3931: LIST
3932: LIST
3933: LIST
3934: ST_TO_ADDR
// spawning_koef_of_tiger = [ 0 , 5 , 10 , 15 ] ;
3935: LD_ADDR_EXP 48
3939: PUSH
3940: LD_INT 0
3942: PUSH
3943: LD_INT 5
3945: PUSH
3946: LD_INT 10
3948: PUSH
3949: LD_INT 15
3951: PUSH
3952: EMPTY
3953: LIST
3954: LIST
3955: LIST
3956: LIST
3957: ST_TO_ADDR
// respawning_time_min = [ 8 8$0 , 3 3$00 , 1 1$00 ] ;
3958: LD_ADDR_EXP 49
3962: PUSH
3963: LD_INT 16800
3965: PUSH
3966: LD_INT 6300
3968: PUSH
3969: LD_INT 2100
3971: PUSH
3972: EMPTY
3973: LIST
3974: LIST
3975: LIST
3976: ST_TO_ADDR
// respawning_time_max = [ 10 10$10 , 6 6$00 , 2 2$00 ] ;
3977: LD_ADDR_EXP 51
3981: PUSH
3982: LD_INT 21350
3984: PUSH
3985: LD_INT 12600
3987: PUSH
3988: LD_INT 4200
3990: PUSH
3991: EMPTY
3992: LIST
3993: LIST
3994: LIST
3995: ST_TO_ADDR
// respawning_time_delay_min = [ 0 0$45 , 0 0$30 , 0 0$15 ] ;
3996: LD_ADDR_EXP 53
4000: PUSH
4001: LD_INT 1575
4003: PUSH
4004: LD_INT 1050
4006: PUSH
4007: LD_INT 525
4009: PUSH
4010: EMPTY
4011: LIST
4012: LIST
4013: LIST
4014: ST_TO_ADDR
// respawning_time_delay_max = [ 1 1$00 , 0 0$45 , 0 0$30 ] ;
4015: LD_ADDR_EXP 54
4019: PUSH
4020: LD_INT 2100
4022: PUSH
4023: LD_INT 1575
4025: PUSH
4026: LD_INT 1050
4028: PUSH
4029: EMPTY
4030: LIST
4031: LIST
4032: LIST
4033: ST_TO_ADDR
// daily_start = [ [ 4 4$00 , 7 7$00 ] , [ 8 8$00 , 12 12$00 ] , [ 13 13$00 , 17 17$00 ] , [ 18 18$00 , 22 22$00 ] , [ 23 23$00 , 27 27$00 ] ] ;
4034: LD_ADDR_EXP 58
4038: PUSH
4039: LD_INT 8400
4041: PUSH
4042: LD_INT 14700
4044: PUSH
4045: EMPTY
4046: LIST
4047: LIST
4048: PUSH
4049: LD_INT 16800
4051: PUSH
4052: LD_INT 25200
4054: PUSH
4055: EMPTY
4056: LIST
4057: LIST
4058: PUSH
4059: LD_INT 27300
4061: PUSH
4062: LD_INT 35700
4064: PUSH
4065: EMPTY
4066: LIST
4067: LIST
4068: PUSH
4069: LD_INT 37800
4071: PUSH
4072: LD_INT 46200
4074: PUSH
4075: EMPTY
4076: LIST
4077: LIST
4078: PUSH
4079: LD_INT 48300
4081: PUSH
4082: LD_INT 56700
4084: PUSH
4085: EMPTY
4086: LIST
4087: LIST
4088: PUSH
4089: EMPTY
4090: LIST
4091: LIST
4092: LIST
4093: LIST
4094: LIST
4095: ST_TO_ADDR
// daily_speed = [ 0 0$59 , 0 0$25 , 0 0$9 , 0 0$2 , 0 ] ;
4096: LD_ADDR_EXP 59
4100: PUSH
4101: LD_INT 2065
4103: PUSH
4104: LD_INT 875
4106: PUSH
4107: LD_INT 315
4109: PUSH
4110: LD_INT 70
4112: PUSH
4113: LD_INT 0
4115: PUSH
4116: EMPTY
4117: LIST
4118: LIST
4119: LIST
4120: LIST
4121: LIST
4122: ST_TO_ADDR
// TimePhase = [ 4 4$00 , 6 6$00 , 7 7$00 , 8 8$00 , 12 12$00 , 17 17$00 , 18 18$00 , 19 19$00 , 20 20$00 , 22 22$00 ] ;
4123: LD_ADDR_EXP 60
4127: PUSH
4128: LD_INT 8400
4130: PUSH
4131: LD_INT 12600
4133: PUSH
4134: LD_INT 14700
4136: PUSH
4137: LD_INT 16800
4139: PUSH
4140: LD_INT 25200
4142: PUSH
4143: LD_INT 35700
4145: PUSH
4146: LD_INT 37800
4148: PUSH
4149: LD_INT 39900
4151: PUSH
4152: LD_INT 42000
4154: PUSH
4155: LD_INT 46200
4157: PUSH
4158: EMPTY
4159: LIST
4160: LIST
4161: LIST
4162: LIST
4163: LIST
4164: LIST
4165: LIST
4166: LIST
4167: LIST
4168: LIST
4169: ST_TO_ADDR
// DailyPhase = [ colors1.txt , colors2.txt , colors3.txt , colors4.txt , colors5.txt , colors6.txt ] ;
4170: LD_ADDR_EXP 61
4174: PUSH
4175: LD_STRING colors1.txt
4177: PUSH
4178: LD_STRING colors2.txt
4180: PUSH
4181: LD_STRING colors3.txt
4183: PUSH
4184: LD_STRING colors4.txt
4186: PUSH
4187: LD_STRING colors5.txt
4189: PUSH
4190: LD_STRING colors6.txt
4192: PUSH
4193: EMPTY
4194: LIST
4195: LIST
4196: LIST
4197: LIST
4198: LIST
4199: LIST
4200: ST_TO_ADDR
// morale_decreasing_time = [ - 1 , 0 0$10 , 0 0$20 , 0 0$40 , 0 0$0 ] ;
4201: LD_ADDR_EXP 46
4205: PUSH
4206: LD_INT 1
4208: NEG
4209: PUSH
4210: LD_INT 350
4212: PUSH
4213: LD_INT 700
4215: PUSH
4216: LD_INT 1400
4218: PUSH
4219: LD_INT 0
4221: PUSH
4222: EMPTY
4223: LIST
4224: LIST
4225: LIST
4226: LIST
4227: LIST
4228: ST_TO_ADDR
// final_count = [ 0 , 200 , 300 , 500 , 700 , 1000 , 1500 , 2000 ] ;
4229: LD_ADDR_EXP 57
4233: PUSH
4234: LD_INT 0
4236: PUSH
4237: LD_INT 200
4239: PUSH
4240: LD_INT 300
4242: PUSH
4243: LD_INT 500
4245: PUSH
4246: LD_INT 700
4248: PUSH
4249: LD_INT 1000
4251: PUSH
4252: LD_INT 1500
4254: PUSH
4255: LD_INT 2000
4257: PUSH
4258: EMPTY
4259: LIST
4260: LIST
4261: LIST
4262: LIST
4263: LIST
4264: LIST
4265: LIST
4266: LIST
4267: ST_TO_ADDR
// WarForTerritory_flags = [ 0 , 3 , 4 , 5 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
4268: LD_ADDR_EXP 65
4272: PUSH
4273: LD_INT 0
4275: PUSH
4276: LD_INT 3
4278: PUSH
4279: LD_INT 4
4281: PUSH
4282: LD_INT 5
4284: PUSH
4285: LD_INT 0
4287: PUSH
4288: LD_INT 0
4290: PUSH
4291: LD_INT 0
4293: PUSH
4294: LD_INT 0
4296: PUSH
4297: LD_INT 0
4299: PUSH
4300: LD_INT 0
4302: PUSH
4303: LD_INT 0
4305: PUSH
4306: EMPTY
4307: LIST
4308: LIST
4309: LIST
4310: LIST
4311: LIST
4312: LIST
4313: LIST
4314: LIST
4315: LIST
4316: LIST
4317: LIST
4318: ST_TO_ADDR
// WarForTerritory_Points = [ 0 , 0 , 0 , 0 , 200 , 300 , 500 , 700 , 1000 , 1500 , 2000 ] ;
4319: LD_ADDR_EXP 64
4323: PUSH
4324: LD_INT 0
4326: PUSH
4327: LD_INT 0
4329: PUSH
4330: LD_INT 0
4332: PUSH
4333: LD_INT 0
4335: PUSH
4336: LD_INT 200
4338: PUSH
4339: LD_INT 300
4341: PUSH
4342: LD_INT 500
4344: PUSH
4345: LD_INT 700
4347: PUSH
4348: LD_INT 1000
4350: PUSH
4351: LD_INT 1500
4353: PUSH
4354: LD_INT 2000
4356: PUSH
4357: EMPTY
4358: LIST
4359: LIST
4360: LIST
4361: LIST
4362: LIST
4363: LIST
4364: LIST
4365: LIST
4366: LIST
4367: LIST
4368: LIST
4369: ST_TO_ADDR
// Position_Sides := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
4370: LD_ADDR_EXP 62
4374: PUSH
4375: LD_INT 0
4377: PUSH
4378: LD_INT 0
4380: PUSH
4381: LD_INT 0
4383: PUSH
4384: LD_INT 0
4386: PUSH
4387: LD_INT 0
4389: PUSH
4390: LD_INT 0
4392: PUSH
4393: LD_INT 0
4395: PUSH
4396: LD_INT 0
4398: PUSH
4399: EMPTY
4400: LIST
4401: LIST
4402: LIST
4403: LIST
4404: LIST
4405: LIST
4406: LIST
4407: LIST
4408: ST_TO_ADDR
// siberite_bomb_Delay := [ 0 , 1 , 30 30$00 , 60 60$00 , 90 90$00 , 120 120$00 ] ;
4409: LD_ADDR_EXP 66
4413: PUSH
4414: LD_INT 0
4416: PUSH
4417: LD_INT 1
4419: PUSH
4420: LD_INT 63000
4422: PUSH
4423: LD_INT 126000
4425: PUSH
4426: LD_INT 189000
4428: PUSH
4429: LD_INT 252000
4431: PUSH
4432: EMPTY
4433: LIST
4434: LIST
4435: LIST
4436: LIST
4437: LIST
4438: LIST
4439: ST_TO_ADDR
// end ;
4440: LD_VAR 0 1
4444: RET
// export function init_map ; var i ; begin
4445: LD_INT 0
4447: PPUSH
4448: PPUSH
// base_level = base_level [ def_base_level + 1 ] ;
4449: LD_ADDR_EXP 37
4453: PUSH
4454: LD_EXP 37
4458: PUSH
4459: LD_EXP 10
4463: PUSH
4464: LD_INT 1
4466: PLUS
4467: ARRAY
4468: ST_TO_ADDR
// number_of_people = number_of_people [ def_amount_of_people + 1 ] ;
4469: LD_ADDR_EXP 40
4473: PUSH
4474: LD_EXP 40
4478: PUSH
4479: LD_EXP 11
4483: PUSH
4484: LD_INT 1
4486: PLUS
4487: ARRAY
4488: ST_TO_ADDR
// number_of_apemen = number_of_apemen [ def_amount_of_apemen_in_team + 1 ] ;
4489: LD_ADDR_EXP 41
4493: PUSH
4494: LD_EXP 41
4498: PUSH
4499: LD_EXP 12
4503: PUSH
4504: LD_INT 1
4506: PLUS
4507: ARRAY
4508: ST_TO_ADDR
// initial_level = initial_level [ def_initial_level + 1 ] ;
4509: LD_ADDR_EXP 42
4513: PUSH
4514: LD_EXP 42
4518: PUSH
4519: LD_EXP 13
4523: PUSH
4524: LD_INT 1
4526: PLUS
4527: ARRAY
4528: ST_TO_ADDR
// starting_resources = starting_resources [ def_starting_resources + 1 ] ;
4529: LD_ADDR_EXP 44
4533: PUSH
4534: LD_EXP 44
4538: PUSH
4539: LD_EXP 15
4543: PUSH
4544: LD_INT 1
4546: PLUS
4547: ARRAY
4548: ST_TO_ADDR
// starting_crates = starting_crates [ def_starting_resources + 1 ] ;
4549: LD_ADDR_EXP 43
4553: PUSH
4554: LD_EXP 43
4558: PUSH
4559: LD_EXP 15
4563: PUSH
4564: LD_INT 1
4566: PLUS
4567: ARRAY
4568: ST_TO_ADDR
// Tech_Level = def_tech_level ;
4569: LD_ADDR_EXP 56
4573: PUSH
4574: LD_EXP 26
4578: ST_TO_ADDR
// Hustota_Zasilek ;
4579: CALL 2179 0 0
// spawning_koef_of_apemen = spawning_koef_of_apemen [ def_amount_of_apemen + 1 ] ;
4583: LD_ADDR_EXP 47
4587: PUSH
4588: LD_EXP 47
4592: PUSH
4593: LD_EXP 22
4597: PUSH
4598: LD_INT 1
4600: PLUS
4601: ARRAY
4602: ST_TO_ADDR
// spawning_koef_of_tiger = spawning_koef_of_tiger [ def_amount_of_tiger + 1 ] ;
4603: LD_ADDR_EXP 48
4607: PUSH
4608: LD_EXP 48
4612: PUSH
4613: LD_EXP 23
4617: PUSH
4618: LD_INT 1
4620: PLUS
4621: ARRAY
4622: ST_TO_ADDR
// respawning_time_min = respawning_time_min [ def_people_respawning + 1 ] ;
4623: LD_ADDR_EXP 49
4627: PUSH
4628: LD_EXP 49
4632: PUSH
4633: LD_EXP 25
4637: PUSH
4638: LD_INT 1
4640: PLUS
4641: ARRAY
4642: ST_TO_ADDR
// respawning_time_max = respawning_time_max [ def_people_respawning + 1 ] ;
4643: LD_ADDR_EXP 51
4647: PUSH
4648: LD_EXP 51
4652: PUSH
4653: LD_EXP 25
4657: PUSH
4658: LD_INT 1
4660: PLUS
4661: ARRAY
4662: ST_TO_ADDR
// respawning_time_delay_min = respawning_time_delay_min [ def_people_respawning + 1 ] ;
4663: LD_ADDR_EXP 53
4667: PUSH
4668: LD_EXP 53
4672: PUSH
4673: LD_EXP 25
4677: PUSH
4678: LD_INT 1
4680: PLUS
4681: ARRAY
4682: ST_TO_ADDR
// respawning_time_delay_max = respawning_time_delay_max [ def_people_respawning + 1 ] ;
4683: LD_ADDR_EXP 54
4687: PUSH
4688: LD_EXP 54
4692: PUSH
4693: LD_EXP 25
4697: PUSH
4698: LD_INT 1
4700: PLUS
4701: ARRAY
4702: ST_TO_ADDR
// daily_start = daily_start [ def_daily_start + 1 ] ;
4703: LD_ADDR_EXP 58
4707: PUSH
4708: LD_EXP 58
4712: PUSH
4713: LD_EXP 32
4717: PUSH
4718: LD_INT 1
4720: PLUS
4721: ARRAY
4722: ST_TO_ADDR
// daily_speed = daily_speed [ def_daily_speed + 1 ] ;
4723: LD_ADDR_EXP 59
4727: PUSH
4728: LD_EXP 59
4732: PUSH
4733: LD_EXP 33
4737: PUSH
4738: LD_INT 1
4740: PLUS
4741: ARRAY
4742: ST_TO_ADDR
// morale_decreasing_time = morale_decreasing_time [ def_morale_flags + 1 ] ;
4743: LD_ADDR_EXP 46
4747: PUSH
4748: LD_EXP 46
4752: PUSH
4753: LD_EXP 20
4757: PUSH
4758: LD_INT 1
4760: PLUS
4761: ARRAY
4762: ST_TO_ADDR
// battle_flags_id = [ ] ;
4763: LD_ADDR_EXP 88
4767: PUSH
4768: EMPTY
4769: ST_TO_ADDR
// heroes = [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
4770: LD_ADDR_EXP 50
4774: PUSH
4775: EMPTY
4776: PUSH
4777: EMPTY
4778: PUSH
4779: EMPTY
4780: PUSH
4781: EMPTY
4782: PUSH
4783: EMPTY
4784: PUSH
4785: EMPTY
4786: PUSH
4787: EMPTY
4788: PUSH
4789: EMPTY
4790: PUSH
4791: EMPTY
4792: LIST
4793: LIST
4794: LIST
4795: LIST
4796: LIST
4797: LIST
4798: LIST
4799: LIST
4800: ST_TO_ADDR
// final_count = final_count [ def_kings_age + 1 ] ;
4801: LD_ADDR_EXP 57
4805: PUSH
4806: LD_EXP 57
4810: PUSH
4811: LD_EXP 35
4815: PUSH
4816: LD_INT 1
4818: PLUS
4819: ARRAY
4820: ST_TO_ADDR
// WarForTerritory_flags = WarForTerritory_flags [ def_warForTerritory + 1 ] ;
4821: LD_ADDR_EXP 65
4825: PUSH
4826: LD_EXP 65
4830: PUSH
4831: LD_EXP 36
4835: PUSH
4836: LD_INT 1
4838: PLUS
4839: ARRAY
4840: ST_TO_ADDR
// WarForTerritory_Points = WarForTerritory_Points [ def_warForTerritory + 1 ] ;
4841: LD_ADDR_EXP 64
4845: PUSH
4846: LD_EXP 64
4850: PUSH
4851: LD_EXP 36
4855: PUSH
4856: LD_INT 1
4858: PLUS
4859: ARRAY
4860: ST_TO_ADDR
// buildUpTime_Delay := buildUpTime_Delay [ def_builduptime + 1 ] ;
4861: LD_ADDR_EXP 117
4865: PUSH
4866: LD_EXP 117
4870: PUSH
4871: LD_EXP 30
4875: PUSH
4876: LD_INT 1
4878: PLUS
4879: ARRAY
4880: ST_TO_ADDR
// siberite_bomb_Delay := siberite_bomb_Delay [ def_siberite_bomb + 1 ] ;
4881: LD_ADDR_EXP 66
4885: PUSH
4886: LD_EXP 66
4890: PUSH
4891: LD_EXP 29
4895: PUSH
4896: LD_INT 1
4898: PLUS
4899: ARRAY
4900: ST_TO_ADDR
// for i = 1 to depot_def + 0 do
4901: LD_ADDR_VAR 0 2
4905: PUSH
4906: DOUBLE
4907: LD_INT 1
4909: DEC
4910: ST_TO_ADDR
4911: LD_EXP 80
4915: PUSH
4916: LD_INT 0
4918: PLUS
4919: PUSH
4920: FOR_TO
4921: IFFALSE 5027
// start_def := start_def ^ [ [ ShiftX ( depot_def [ i ] [ 1 ] , depot_def [ i ] [ 3 ] mod 6 , 6 ) , ShiftY ( depot_def [ i ] [ 2 ] , depot_def [ i ] [ 3 ] mod 6 , 6 ) ] ] ;
4923: LD_ADDR_EXP 82
4927: PUSH
4928: LD_EXP 82
4932: PUSH
4933: LD_EXP 80
4937: PUSH
4938: LD_VAR 0 2
4942: ARRAY
4943: PUSH
4944: LD_INT 1
4946: ARRAY
4947: PPUSH
4948: LD_EXP 80
4952: PUSH
4953: LD_VAR 0 2
4957: ARRAY
4958: PUSH
4959: LD_INT 3
4961: ARRAY
4962: PUSH
4963: LD_INT 6
4965: MOD
4966: PPUSH
4967: LD_INT 6
4969: PPUSH
4970: CALL_OW 272
4974: PUSH
4975: LD_EXP 80
4979: PUSH
4980: LD_VAR 0 2
4984: ARRAY
4985: PUSH
4986: LD_INT 2
4988: ARRAY
4989: PPUSH
4990: LD_EXP 80
4994: PUSH
4995: LD_VAR 0 2
4999: ARRAY
5000: PUSH
5001: LD_INT 3
5003: ARRAY
5004: PUSH
5005: LD_INT 6
5007: MOD
5008: PPUSH
5009: LD_INT 6
5011: PPUSH
5012: CALL_OW 273
5016: PUSH
5017: EMPTY
5018: LIST
5019: LIST
5020: PUSH
5021: EMPTY
5022: LIST
5023: ADD
5024: ST_TO_ADDR
5025: GO 4920
5027: POP
5028: POP
// if not Game_Type in GT_Survival then
5029: LD_EXP 1
5033: PUSH
5034: LD_EXP 6
5038: IN
5039: NOT
5040: IFFALSE 5222
// begin for i in oil_deposits_locations do
5042: LD_ADDR_VAR 0 2
5046: PUSH
5047: LD_EXP 85
5051: PUSH
5052: FOR_IN
5053: IFFALSE 5082
// CreateDepositXY ( i [ 1 ] , i [ 2 ] , mat_oil ) ;
5055: LD_VAR 0 2
5059: PUSH
5060: LD_INT 1
5062: ARRAY
5063: PPUSH
5064: LD_VAR 0 2
5068: PUSH
5069: LD_INT 2
5071: ARRAY
5072: PPUSH
5073: LD_INT 2
5075: PPUSH
5076: CALL_OW 62
5080: GO 5052
5082: POP
5083: POP
// for i in siberite_deposits_locations do
5084: LD_ADDR_VAR 0 2
5088: PUSH
5089: LD_EXP 87
5093: PUSH
5094: FOR_IN
5095: IFFALSE 5124
// CreateDepositXY ( i [ 1 ] , i [ 2 ] , mat_siberit ) ;
5097: LD_VAR 0 2
5101: PUSH
5102: LD_INT 1
5104: ARRAY
5105: PPUSH
5106: LD_VAR 0 2
5110: PUSH
5111: LD_INT 2
5113: ARRAY
5114: PPUSH
5115: LD_INT 3
5117: PPUSH
5118: CALL_OW 62
5122: GO 5094
5124: POP
5125: POP
// if def_extra_oil_deposits then
5126: LD_EXP 17
5130: IFFALSE 5174
// for i in extra_oil_deposits_locations do
5132: LD_ADDR_VAR 0 2
5136: PUSH
5137: LD_EXP 84
5141: PUSH
5142: FOR_IN
5143: IFFALSE 5172
// CreateDepositXY ( i [ 1 ] , i [ 2 ] , mat_oil ) ;
5145: LD_VAR 0 2
5149: PUSH
5150: LD_INT 1
5152: ARRAY
5153: PPUSH
5154: LD_VAR 0 2
5158: PUSH
5159: LD_INT 2
5161: ARRAY
5162: PPUSH
5163: LD_INT 2
5165: PPUSH
5166: CALL_OW 62
5170: GO 5142
5172: POP
5173: POP
// if def_extra_sib_deposits then
5174: LD_EXP 18
5178: IFFALSE 5222
// for i in extra_sib_deposits_locations do
5180: LD_ADDR_VAR 0 2
5184: PUSH
5185: LD_EXP 86
5189: PUSH
5190: FOR_IN
5191: IFFALSE 5220
// CreateDepositXY ( i [ 1 ] , i [ 2 ] , mat_siberit ) ;
5193: LD_VAR 0 2
5197: PUSH
5198: LD_INT 1
5200: ARRAY
5201: PPUSH
5202: LD_VAR 0 2
5206: PUSH
5207: LD_INT 2
5209: ARRAY
5210: PPUSH
5211: LD_INT 3
5213: PPUSH
5214: CALL_OW 62
5218: GO 5190
5220: POP
5221: POP
// end ; for i := 1 to 8 do
5222: LD_ADDR_VAR 0 2
5226: PUSH
5227: DOUBLE
5228: LD_INT 1
5230: DEC
5231: ST_TO_ADDR
5232: LD_INT 8
5234: PUSH
5235: FOR_TO
5236: IFFALSE 5283
// if Side_Positions [ i ] then
5238: LD_EXP 74
5242: PUSH
5243: LD_VAR 0 2
5247: ARRAY
5248: IFFALSE 5281
// Position_Sides := Replace ( Position_Sides , Side_Positions [ i ] , i ) ;
5250: LD_ADDR_EXP 62
5254: PUSH
5255: LD_EXP 62
5259: PPUSH
5260: LD_EXP 74
5264: PUSH
5265: LD_VAR 0 2
5269: ARRAY
5270: PPUSH
5271: LD_VAR 0 2
5275: PPUSH
5276: CALL_OW 1
5280: ST_TO_ADDR
5281: GO 5235
5283: POP
5284: POP
// end ;
5285: LD_VAR 0 1
5289: RET
// export function set_shared_visions_and_alliances ; var i , j ; begin
5290: LD_INT 0
5292: PPUSH
5293: PPUSH
5294: PPUSH
// Team_Game := ( Side_Teams diff [ 0 ] ) > 1 ;
5295: LD_ADDR_EXP 79
5299: PUSH
5300: LD_EXP 71
5304: PUSH
5305: LD_INT 0
5307: PUSH
5308: EMPTY
5309: LIST
5310: DIFF
5311: PUSH
5312: LD_INT 1
5314: GREATER
5315: ST_TO_ADDR
// if not Team_Game then
5316: LD_EXP 79
5320: NOT
5321: IFFALSE 5419
// begin for i = 1 to 8 do
5323: LD_ADDR_VAR 0 2
5327: PUSH
5328: DOUBLE
5329: LD_INT 1
5331: DEC
5332: ST_TO_ADDR
5333: LD_INT 8
5335: PUSH
5336: FOR_TO
5337: IFFALSE 5415
// for j = 1 to 8 do
5339: LD_ADDR_VAR 0 3
5343: PUSH
5344: DOUBLE
5345: LD_INT 1
5347: DEC
5348: ST_TO_ADDR
5349: LD_INT 8
5351: PUSH
5352: FOR_TO
5353: IFFALSE 5411
// if i <> j then
5355: LD_VAR 0 2
5359: PUSH
5360: LD_VAR 0 3
5364: NONEQUAL
5365: IFFALSE 5389
// SetAttitude ( i , j , att_neutral , true ) else
5367: LD_VAR 0 2
5371: PPUSH
5372: LD_VAR 0 3
5376: PPUSH
5377: LD_INT 0
5379: PPUSH
5380: LD_INT 1
5382: PPUSH
5383: CALL_OW 80
5387: GO 5409
// SetAttitude ( i , j , att_friend , true ) ;
5389: LD_VAR 0 2
5393: PPUSH
5394: LD_VAR 0 3
5398: PPUSH
5399: LD_INT 1
5401: PPUSH
5402: LD_INT 1
5404: PPUSH
5405: CALL_OW 80
5409: GO 5352
5411: POP
5412: POP
5413: GO 5336
5415: POP
5416: POP
// end else
5417: GO 5594
// begin if def_shared_vision then
5419: LD_EXP 19
5423: IFFALSE 5488
// begin for i in Teams do
5425: LD_ADDR_VAR 0 2
5429: PUSH
5430: LD_EXP 72
5434: PUSH
5435: FOR_IN
5436: IFFALSE 5486
// for j = 2 to i do
5438: LD_ADDR_VAR 0 3
5442: PUSH
5443: DOUBLE
5444: LD_INT 2
5446: DEC
5447: ST_TO_ADDR
5448: LD_VAR 0 2
5452: PUSH
5453: FOR_TO
5454: IFFALSE 5482
// ChangeSideFog ( i [ j ] , i [ 1 ] ) ;
5456: LD_VAR 0 2
5460: PUSH
5461: LD_VAR 0 3
5465: ARRAY
5466: PPUSH
5467: LD_VAR 0 2
5471: PUSH
5472: LD_INT 1
5474: ARRAY
5475: PPUSH
5476: CALL_OW 343
5480: GO 5453
5482: POP
5483: POP
5484: GO 5435
5486: POP
5487: POP
// end ; for i = 1 to 8 do
5488: LD_ADDR_VAR 0 2
5492: PUSH
5493: DOUBLE
5494: LD_INT 1
5496: DEC
5497: ST_TO_ADDR
5498: LD_INT 8
5500: PUSH
5501: FOR_TO
5502: IFFALSE 5592
// for j = 1 to 8 do
5504: LD_ADDR_VAR 0 3
5508: PUSH
5509: DOUBLE
5510: LD_INT 1
5512: DEC
5513: ST_TO_ADDR
5514: LD_INT 8
5516: PUSH
5517: FOR_TO
5518: IFFALSE 5588
// if Side_Teams [ i ] = Side_Teams [ j ] then
5520: LD_EXP 71
5524: PUSH
5525: LD_VAR 0 2
5529: ARRAY
5530: PUSH
5531: LD_EXP 71
5535: PUSH
5536: LD_VAR 0 3
5540: ARRAY
5541: EQUAL
5542: IFFALSE 5566
// SetAttitude ( i , j , att_friend , true ) else
5544: LD_VAR 0 2
5548: PPUSH
5549: LD_VAR 0 3
5553: PPUSH
5554: LD_INT 1
5556: PPUSH
5557: LD_INT 1
5559: PPUSH
5560: CALL_OW 80
5564: GO 5586
// SetAttitude ( i , j , att_enemy , true ) ;
5566: LD_VAR 0 2
5570: PPUSH
5571: LD_VAR 0 3
5575: PPUSH
5576: LD_INT 2
5578: PPUSH
5579: LD_INT 1
5581: PPUSH
5582: CALL_OW 80
5586: GO 5517
5588: POP
5589: POP
5590: GO 5501
5592: POP
5593: POP
// end ; end ;
5594: LD_VAR 0 1
5598: RET
// export function prepare_sides ; var i , pos ; begin
5599: LD_INT 0
5601: PPUSH
5602: PPUSH
5603: PPUSH
// global_units = [ ] ;
5604: LD_ADDR_EXP 92
5608: PUSH
5609: EMPTY
5610: ST_TO_ADDR
// global_classes = [ ] ;
5611: LD_ADDR_EXP 96
5615: PUSH
5616: EMPTY
5617: ST_TO_ADDR
// global_defined := false ;
5618: LD_ADDR_EXP 93
5622: PUSH
5623: LD_INT 0
5625: ST_TO_ADDR
// pozice_beden = [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
5626: LD_ADDR_EXP 8
5630: PUSH
5631: EMPTY
5632: PUSH
5633: EMPTY
5634: PUSH
5635: EMPTY
5636: PUSH
5637: EMPTY
5638: PUSH
5639: EMPTY
5640: PUSH
5641: EMPTY
5642: PUSH
5643: EMPTY
5644: PUSH
5645: EMPTY
5646: PUSH
5647: EMPTY
5648: LIST
5649: LIST
5650: LIST
5651: LIST
5652: LIST
5653: LIST
5654: LIST
5655: LIST
5656: ST_TO_ADDR
// for i := 1 to 8 do
5657: LD_ADDR_VAR 0 2
5661: PUSH
5662: DOUBLE
5663: LD_INT 1
5665: DEC
5666: ST_TO_ADDR
5667: LD_INT 8
5669: PUSH
5670: FOR_TO
5671: IFFALSE 6136
// if Side_Positions [ i ] then
5673: LD_EXP 74
5677: PUSH
5678: LD_VAR 0 2
5682: ARRAY
5683: IFFALSE 6134
// begin pos := Side_Positions [ i ] ;
5685: LD_ADDR_VAR 0 3
5689: PUSH
5690: LD_EXP 74
5694: PUSH
5695: LD_VAR 0 2
5699: ARRAY
5700: ST_TO_ADDR
// if Game_Type in GT_DoubleNat ^ GT_DoublePeople then
5701: LD_EXP 1
5705: PUSH
5706: LD_EXP 3
5710: PUSH
5711: LD_EXP 4
5715: ADD
5716: IN
5717: IFFALSE 5927
// begin if Game_Type in GT_DoubleNat then
5719: LD_EXP 1
5723: PUSH
5724: LD_EXP 3
5728: IN
5729: IFFALSE 5833
// begin prepare_side ( i , pos , Position_Nations [ i ] [ 1 ] ) ;
5731: LD_VAR 0 2
5735: PPUSH
5736: LD_VAR 0 3
5740: PPUSH
5741: LD_EXP 52
5745: PUSH
5746: LD_VAR 0 2
5750: ARRAY
5751: PUSH
5752: LD_INT 1
5754: ARRAY
5755: PPUSH
5756: CALL 6516 0 3
// prepare_side ( i , pos + 1 , Position_Nations [ i ] [ 2 ] ) ;
5760: LD_VAR 0 2
5764: PPUSH
5765: LD_VAR 0 3
5769: PUSH
5770: LD_INT 1
5772: PLUS
5773: PPUSH
5774: LD_EXP 52
5778: PUSH
5779: LD_VAR 0 2
5783: ARRAY
5784: PUSH
5785: LD_INT 2
5787: ARRAY
5788: PPUSH
5789: CALL 6516 0 3
// pozice_beden = replace ( pozice_beden , i , [ pos , pos + 1 ] ) ;
5793: LD_ADDR_EXP 8
5797: PUSH
5798: LD_EXP 8
5802: PPUSH
5803: LD_VAR 0 2
5807: PPUSH
5808: LD_VAR 0 3
5812: PUSH
5813: LD_VAR 0 3
5817: PUSH
5818: LD_INT 1
5820: PLUS
5821: PUSH
5822: EMPTY
5823: LIST
5824: LIST
5825: PPUSH
5826: CALL_OW 1
5830: ST_TO_ADDR
// end else
5831: GO 5925
// begin prepare_side ( i , pos , Side_Nations [ i ] ) ;
5833: LD_VAR 0 2
5837: PPUSH
5838: LD_VAR 0 3
5842: PPUSH
5843: LD_EXP 75
5847: PUSH
5848: LD_VAR 0 2
5852: ARRAY
5853: PPUSH
5854: CALL 6516 0 3
// prepare_side ( i , pos + 1 , Side_Nations [ i ] ) ;
5858: LD_VAR 0 2
5862: PPUSH
5863: LD_VAR 0 3
5867: PUSH
5868: LD_INT 1
5870: PLUS
5871: PPUSH
5872: LD_EXP 75
5876: PUSH
5877: LD_VAR 0 2
5881: ARRAY
5882: PPUSH
5883: CALL 6516 0 3
// pozice_beden = replace ( pozice_beden , i , [ pos , pos + 1 ] ) ;
5887: LD_ADDR_EXP 8
5891: PUSH
5892: LD_EXP 8
5896: PPUSH
5897: LD_VAR 0 2
5901: PPUSH
5902: LD_VAR 0 3
5906: PUSH
5907: LD_VAR 0 3
5911: PUSH
5912: LD_INT 1
5914: PLUS
5915: PUSH
5916: EMPTY
5917: LIST
5918: LIST
5919: PPUSH
5920: CALL_OW 1
5924: ST_TO_ADDR
// end ; end else
5925: GO 6109
// if game_type in GT_TripleNat then
5927: LD_EXP 1
5931: PUSH
5932: LD_EXP 5
5936: IN
5937: IFFALSE 6084
// begin prepare_side ( i , pos , Position_Nations [ i ] [ 1 ] ) ;
5939: LD_VAR 0 2
5943: PPUSH
5944: LD_VAR 0 3
5948: PPUSH
5949: LD_EXP 52
5953: PUSH
5954: LD_VAR 0 2
5958: ARRAY
5959: PUSH
5960: LD_INT 1
5962: ARRAY
5963: PPUSH
5964: CALL 6516 0 3
// prepare_side ( i , pos + 1 , Position_Nations [ i ] [ 2 ] ) ;
5968: LD_VAR 0 2
5972: PPUSH
5973: LD_VAR 0 3
5977: PUSH
5978: LD_INT 1
5980: PLUS
5981: PPUSH
5982: LD_EXP 52
5986: PUSH
5987: LD_VAR 0 2
5991: ARRAY
5992: PUSH
5993: LD_INT 2
5995: ARRAY
5996: PPUSH
5997: CALL 6516 0 3
// prepare_side ( i , pos + 2 , Position_Nations [ i ] [ 3 ] ) ;
6001: LD_VAR 0 2
6005: PPUSH
6006: LD_VAR 0 3
6010: PUSH
6011: LD_INT 2
6013: PLUS
6014: PPUSH
6015: LD_EXP 52
6019: PUSH
6020: LD_VAR 0 2
6024: ARRAY
6025: PUSH
6026: LD_INT 3
6028: ARRAY
6029: PPUSH
6030: CALL 6516 0 3
// pozice_beden = replace ( pozice_beden , i , [ pos , pos + 1 , pos + 2 ] ) ;
6034: LD_ADDR_EXP 8
6038: PUSH
6039: LD_EXP 8
6043: PPUSH
6044: LD_VAR 0 2
6048: PPUSH
6049: LD_VAR 0 3
6053: PUSH
6054: LD_VAR 0 3
6058: PUSH
6059: LD_INT 1
6061: PLUS
6062: PUSH
6063: LD_VAR 0 3
6067: PUSH
6068: LD_INT 2
6070: PLUS
6071: PUSH
6072: EMPTY
6073: LIST
6074: LIST
6075: LIST
6076: PPUSH
6077: CALL_OW 1
6081: ST_TO_ADDR
// end else
6082: GO 6109
// prepare_side ( i , pos , Side_Nations [ i ] ) ;
6084: LD_VAR 0 2
6088: PPUSH
6089: LD_VAR 0 3
6093: PPUSH
6094: LD_EXP 75
6098: PUSH
6099: LD_VAR 0 2
6103: ARRAY
6104: PPUSH
6105: CALL 6516 0 3
// pozice_beden = replace ( pozice_beden , i , pos ) ;
6109: LD_ADDR_EXP 8
6113: PUSH
6114: LD_EXP 8
6118: PPUSH
6119: LD_VAR 0 2
6123: PPUSH
6124: LD_VAR 0 3
6128: PPUSH
6129: CALL_OW 1
6133: ST_TO_ADDR
// end ;
6134: GO 5670
6136: POP
6137: POP
// end ;
6138: LD_VAR 0 1
6142: RET
// export function Modify_Nations ; var i , n ; begin
6143: LD_INT 0
6145: PPUSH
6146: PPUSH
6147: PPUSH
// Position_Nations := [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
6148: LD_ADDR_EXP 52
6152: PUSH
6153: EMPTY
6154: PUSH
6155: EMPTY
6156: PUSH
6157: EMPTY
6158: PUSH
6159: EMPTY
6160: PUSH
6161: EMPTY
6162: PUSH
6163: EMPTY
6164: PUSH
6165: EMPTY
6166: PUSH
6167: EMPTY
6168: PUSH
6169: EMPTY
6170: LIST
6171: LIST
6172: LIST
6173: LIST
6174: LIST
6175: LIST
6176: LIST
6177: LIST
6178: ST_TO_ADDR
// if game_type in GT_doublenat then
6179: LD_EXP 1
6183: PUSH
6184: LD_EXP 3
6188: IN
6189: IFFALSE 6340
// begin for i = 1 to 8 do
6191: LD_ADDR_VAR 0 2
6195: PUSH
6196: DOUBLE
6197: LD_INT 1
6199: DEC
6200: ST_TO_ADDR
6201: LD_INT 8
6203: PUSH
6204: FOR_TO
6205: IFFALSE 6336
// if side_positions [ i ] then
6207: LD_EXP 74
6211: PUSH
6212: LD_VAR 0 2
6216: ARRAY
6217: IFFALSE 6334
// begin case side_nations [ i ] of 1 :
6219: LD_EXP 75
6223: PUSH
6224: LD_VAR 0 2
6228: ARRAY
6229: PUSH
6230: LD_INT 1
6232: DOUBLE
6233: EQUAL
6234: IFTRUE 6238
6236: GO 6256
6238: POP
// n = [ 1 , 2 ] ; 2 :
6239: LD_ADDR_VAR 0 3
6243: PUSH
6244: LD_INT 1
6246: PUSH
6247: LD_INT 2
6249: PUSH
6250: EMPTY
6251: LIST
6252: LIST
6253: ST_TO_ADDR
6254: GO 6309
6256: LD_INT 2
6258: DOUBLE
6259: EQUAL
6260: IFTRUE 6264
6262: GO 6282
6264: POP
// n = [ 2 , 3 ] ; 3 :
6265: LD_ADDR_VAR 0 3
6269: PUSH
6270: LD_INT 2
6272: PUSH
6273: LD_INT 3
6275: PUSH
6276: EMPTY
6277: LIST
6278: LIST
6279: ST_TO_ADDR
6280: GO 6309
6282: LD_INT 3
6284: DOUBLE
6285: EQUAL
6286: IFTRUE 6290
6288: GO 6308
6290: POP
// n = [ 3 , 1 ] ; end ;
6291: LD_ADDR_VAR 0 3
6295: PUSH
6296: LD_INT 3
6298: PUSH
6299: LD_INT 1
6301: PUSH
6302: EMPTY
6303: LIST
6304: LIST
6305: ST_TO_ADDR
6306: GO 6309
6308: POP
// Position_Nations = replace ( position_nations , i , n ) ;
6309: LD_ADDR_EXP 52
6313: PUSH
6314: LD_EXP 52
6318: PPUSH
6319: LD_VAR 0 2
6323: PPUSH
6324: LD_VAR 0 3
6328: PPUSH
6329: CALL_OW 1
6333: ST_TO_ADDR
// end ;
6334: GO 6204
6336: POP
6337: POP
// end else
6338: GO 6511
// if game_type in GT_triplenat then
6340: LD_EXP 1
6344: PUSH
6345: LD_EXP 5
6349: IN
6350: IFFALSE 6511
// begin for i = 1 to 8 do
6352: LD_ADDR_VAR 0 2
6356: PUSH
6357: DOUBLE
6358: LD_INT 1
6360: DEC
6361: ST_TO_ADDR
6362: LD_INT 8
6364: PUSH
6365: FOR_TO
6366: IFFALSE 6509
// if side_positions [ i ] then
6368: LD_EXP 74
6372: PUSH
6373: LD_VAR 0 2
6377: ARRAY
6378: IFFALSE 6507
// begin case side_nations [ i ] of 1 :
6380: LD_EXP 75
6384: PUSH
6385: LD_VAR 0 2
6389: ARRAY
6390: PUSH
6391: LD_INT 1
6393: DOUBLE
6394: EQUAL
6395: IFTRUE 6399
6397: GO 6421
6399: POP
// n = [ 1 , 2 , 3 ] ; 2 :
6400: LD_ADDR_VAR 0 3
6404: PUSH
6405: LD_INT 1
6407: PUSH
6408: LD_INT 2
6410: PUSH
6411: LD_INT 3
6413: PUSH
6414: EMPTY
6415: LIST
6416: LIST
6417: LIST
6418: ST_TO_ADDR
6419: GO 6482
6421: LD_INT 2
6423: DOUBLE
6424: EQUAL
6425: IFTRUE 6429
6427: GO 6451
6429: POP
// n = [ 2 , 3 , 1 ] ; 3 :
6430: LD_ADDR_VAR 0 3
6434: PUSH
6435: LD_INT 2
6437: PUSH
6438: LD_INT 3
6440: PUSH
6441: LD_INT 1
6443: PUSH
6444: EMPTY
6445: LIST
6446: LIST
6447: LIST
6448: ST_TO_ADDR
6449: GO 6482
6451: LD_INT 3
6453: DOUBLE
6454: EQUAL
6455: IFTRUE 6459
6457: GO 6481
6459: POP
// n = [ 3 , 1 , 2 ] ; end ;
6460: LD_ADDR_VAR 0 3
6464: PUSH
6465: LD_INT 3
6467: PUSH
6468: LD_INT 1
6470: PUSH
6471: LD_INT 2
6473: PUSH
6474: EMPTY
6475: LIST
6476: LIST
6477: LIST
6478: ST_TO_ADDR
6479: GO 6482
6481: POP
// Position_Nations = replace ( position_nations , i , n ) ;
6482: LD_ADDR_EXP 52
6486: PUSH
6487: LD_EXP 52
6491: PPUSH
6492: LD_VAR 0 2
6496: PPUSH
6497: LD_VAR 0 3
6501: PPUSH
6502: CALL_OW 1
6506: ST_TO_ADDR
// end ;
6507: GO 6365
6509: POP
6510: POP
// end ; end ;
6511: LD_VAR 0 1
6515: RET
// export function prepare_side ( side , pos , nation ) ; var x , y , i , r , sol , br , dep , neng , nsci , nmech , nsol ; begin
6516: LD_INT 0
6518: PPUSH
6519: PPUSH
6520: PPUSH
6521: PPUSH
6522: PPUSH
6523: PPUSH
6524: PPUSH
6525: PPUSH
6526: PPUSH
6527: PPUSH
6528: PPUSH
6529: PPUSH
// global_count = 0 ;
6530: LD_ADDR_EXP 95
6534: PUSH
6535: LD_INT 0
6537: ST_TO_ADDR
// uc_nation := nation ;
6538: LD_ADDR_OWVAR 21
6542: PUSH
6543: LD_VAR 0 3
6547: ST_TO_ADDR
// uc_side := side ;
6548: LD_ADDR_OWVAR 20
6552: PUSH
6553: LD_VAR 0 1
6557: ST_TO_ADDR
// x := depot_def [ pos ] [ 1 ] ;
6558: LD_ADDR_VAR 0 5
6562: PUSH
6563: LD_EXP 80
6567: PUSH
6568: LD_VAR 0 2
6572: ARRAY
6573: PUSH
6574: LD_INT 1
6576: ARRAY
6577: ST_TO_ADDR
// y := depot_def [ pos ] [ 2 ] ;
6578: LD_ADDR_VAR 0 6
6582: PUSH
6583: LD_EXP 80
6587: PUSH
6588: LD_VAR 0 2
6592: ARRAY
6593: PUSH
6594: LD_INT 2
6596: ARRAY
6597: ST_TO_ADDR
// case base_level of 0 :
6598: LD_EXP 37
6602: PUSH
6603: LD_INT 0
6605: DOUBLE
6606: EQUAL
6607: IFTRUE 6611
6609: GO 6758
6611: POP
// begin for i := 1 to 3 do
6612: LD_ADDR_VAR 0 7
6616: PUSH
6617: DOUBLE
6618: LD_INT 1
6620: DEC
6621: ST_TO_ADDR
6622: LD_INT 3
6624: PUSH
6625: FOR_TO
6626: IFFALSE 6754
// begin r := starting_resources [ i ] ;
6628: LD_ADDR_VAR 0 8
6632: PUSH
6633: LD_EXP 44
6637: PUSH
6638: LD_VAR 0 7
6642: ARRAY
6643: ST_TO_ADDR
// while r >= 10 do
6644: LD_VAR 0 8
6648: PUSH
6649: LD_INT 10
6651: GREATEREQUAL
6652: IFFALSE 6752
// if r > 50 then
6654: LD_VAR 0 8
6658: PUSH
6659: LD_INT 50
6661: GREATER
6662: IFFALSE 6708
// begin CreateResourcesXYR ( i , 5 , x , y , 4 , false ) ;
6664: LD_VAR 0 7
6668: PPUSH
6669: LD_INT 5
6671: PPUSH
6672: LD_VAR 0 5
6676: PPUSH
6677: LD_VAR 0 6
6681: PPUSH
6682: LD_INT 4
6684: PPUSH
6685: LD_INT 0
6687: PPUSH
6688: CALL_OW 60
// r := r - 50 ;
6692: LD_ADDR_VAR 0 8
6696: PUSH
6697: LD_VAR 0 8
6701: PUSH
6702: LD_INT 50
6704: MINUS
6705: ST_TO_ADDR
// end else
6706: GO 6750
// begin CreateResourcesXYR ( i , r div 10 , x , y , 4 , false ) ;
6708: LD_VAR 0 7
6712: PPUSH
6713: LD_VAR 0 8
6717: PUSH
6718: LD_INT 10
6720: DIV
6721: PPUSH
6722: LD_VAR 0 5
6726: PPUSH
6727: LD_VAR 0 6
6731: PPUSH
6732: LD_INT 4
6734: PPUSH
6735: LD_INT 0
6737: PPUSH
6738: CALL_OW 60
// r := 0 ;
6742: LD_ADDR_VAR 0 8
6746: PUSH
6747: LD_INT 0
6749: ST_TO_ADDR
// end ;
6750: GO 6644
// end ;
6752: GO 6625
6754: POP
6755: POP
// end ; 1 :
6756: GO 7023
6758: LD_INT 1
6760: DOUBLE
6761: EQUAL
6762: IFTRUE 6766
6764: GO 6890
6766: POP
// begin bc_type = b_depot ;
6767: LD_ADDR_OWVAR 42
6771: PUSH
6772: LD_INT 0
6774: ST_TO_ADDR
// dep := CreateAndPlaceBuildingXYD ( x , y , Depot_Def [ pos ] [ 3 ] ) ;
6775: LD_ADDR_VAR 0 11
6779: PUSH
6780: LD_VAR 0 5
6784: PPUSH
6785: LD_VAR 0 6
6789: PPUSH
6790: LD_EXP 80
6794: PUSH
6795: LD_VAR 0 2
6799: ARRAY
6800: PUSH
6801: LD_INT 3
6803: ARRAY
6804: PPUSH
6805: CALL_OW 47
6809: ST_TO_ADDR
// SetResourceType ( GetBase ( dep ) , mat_cans , starting_resources [ mat_cans ] ) ;
6810: LD_VAR 0 11
6814: PPUSH
6815: CALL_OW 274
6819: PPUSH
6820: LD_INT 1
6822: PPUSH
6823: LD_EXP 44
6827: PUSH
6828: LD_INT 1
6830: ARRAY
6831: PPUSH
6832: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_oil , starting_resources [ mat_oil ] ) ;
6836: LD_VAR 0 11
6840: PPUSH
6841: CALL_OW 274
6845: PPUSH
6846: LD_INT 2
6848: PPUSH
6849: LD_EXP 44
6853: PUSH
6854: LD_INT 2
6856: ARRAY
6857: PPUSH
6858: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_siberit , starting_resources [ mat_siberit ] ) ;
6862: LD_VAR 0 11
6866: PPUSH
6867: CALL_OW 274
6871: PPUSH
6872: LD_INT 3
6874: PPUSH
6875: LD_EXP 44
6879: PUSH
6880: LD_INT 3
6882: ARRAY
6883: PPUSH
6884: CALL_OW 277
// end ; 2 :
6888: GO 7023
6890: LD_INT 2
6892: DOUBLE
6893: EQUAL
6894: IFTRUE 6898
6896: GO 7022
6898: POP
// begin bc_type = b_warehouse ;
6899: LD_ADDR_OWVAR 42
6903: PUSH
6904: LD_INT 1
6906: ST_TO_ADDR
// dep := CreateAndPlaceBuildingXYD ( x , y , Depot_Def [ pos ] [ 3 ] ) ;
6907: LD_ADDR_VAR 0 11
6911: PUSH
6912: LD_VAR 0 5
6916: PPUSH
6917: LD_VAR 0 6
6921: PPUSH
6922: LD_EXP 80
6926: PUSH
6927: LD_VAR 0 2
6931: ARRAY
6932: PUSH
6933: LD_INT 3
6935: ARRAY
6936: PPUSH
6937: CALL_OW 47
6941: ST_TO_ADDR
// SetResourceType ( GetBase ( dep ) , mat_cans , starting_resources [ mat_cans ] ) ;
6942: LD_VAR 0 11
6946: PPUSH
6947: CALL_OW 274
6951: PPUSH
6952: LD_INT 1
6954: PPUSH
6955: LD_EXP 44
6959: PUSH
6960: LD_INT 1
6962: ARRAY
6963: PPUSH
6964: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_oil , starting_resources [ mat_oil ] ) ;
6968: LD_VAR 0 11
6972: PPUSH
6973: CALL_OW 274
6977: PPUSH
6978: LD_INT 2
6980: PPUSH
6981: LD_EXP 44
6985: PUSH
6986: LD_INT 2
6988: ARRAY
6989: PPUSH
6990: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_siberit , starting_resources [ mat_siberit ] ) ;
6994: LD_VAR 0 11
6998: PPUSH
6999: CALL_OW 274
7003: PPUSH
7004: LD_INT 3
7006: PPUSH
7007: LD_EXP 44
7011: PUSH
7012: LD_INT 3
7014: ARRAY
7015: PPUSH
7016: CALL_OW 277
// end ; end ;
7020: GO 7023
7022: POP
// x := start_def [ pos ] [ 1 ] ;
7023: LD_ADDR_VAR 0 5
7027: PUSH
7028: LD_EXP 82
7032: PUSH
7033: LD_VAR 0 2
7037: ARRAY
7038: PUSH
7039: LD_INT 1
7041: ARRAY
7042: ST_TO_ADDR
// y := start_def [ pos ] [ 2 ] ;
7043: LD_ADDR_VAR 0 6
7047: PUSH
7048: LD_EXP 82
7052: PUSH
7053: LD_VAR 0 2
7057: ARRAY
7058: PUSH
7059: LD_INT 2
7061: ARRAY
7062: ST_TO_ADDR
// for r in starting_crates do
7063: LD_ADDR_VAR 0 8
7067: PUSH
7068: LD_EXP 43
7072: PUSH
7073: FOR_IN
7074: IFFALSE 7106
// CreateResourcesXYR ( mat_cans , 5 , x , y , r , false ) ;
7076: LD_INT 1
7078: PPUSH
7079: LD_INT 5
7081: PPUSH
7082: LD_VAR 0 5
7086: PPUSH
7087: LD_VAR 0 6
7091: PPUSH
7092: LD_VAR 0 8
7096: PPUSH
7097: LD_INT 0
7099: PPUSH
7100: CALL_OW 60
7104: GO 7073
7106: POP
7107: POP
// if def_morale_flags then
7108: LD_EXP 20
7112: IFFALSE 7277
// if not def_WarForTerritory then
7114: LD_EXP 36
7118: NOT
7119: IFFALSE 7200
// battle_flags_id := battle_flags_id ^ SetBattleFlag ( side , x , y , [ [ bfo_defend_bonus_human , 100 ] , [ bfo_defend_bonus_vehicle , 50 ] , [ bfo_defend_bonus_building , 20 ] , [ bfo_height , 100 ] ] ) else
7121: LD_ADDR_EXP 88
7125: PUSH
7126: LD_EXP 88
7130: PUSH
7131: LD_VAR 0 1
7135: PPUSH
7136: LD_VAR 0 5
7140: PPUSH
7141: LD_VAR 0 6
7145: PPUSH
7146: LD_INT 1
7148: PUSH
7149: LD_INT 100
7151: PUSH
7152: EMPTY
7153: LIST
7154: LIST
7155: PUSH
7156: LD_INT 2
7158: PUSH
7159: LD_INT 50
7161: PUSH
7162: EMPTY
7163: LIST
7164: LIST
7165: PUSH
7166: LD_INT 3
7168: PUSH
7169: LD_INT 20
7171: PUSH
7172: EMPTY
7173: LIST
7174: LIST
7175: PUSH
7176: LD_INT 20
7178: PUSH
7179: LD_INT 100
7181: PUSH
7182: EMPTY
7183: LIST
7184: LIST
7185: PUSH
7186: EMPTY
7187: LIST
7188: LIST
7189: LIST
7190: LIST
7191: PPUSH
7192: CALL_OW 418
7196: ADD
7197: ST_TO_ADDR
7198: GO 7277
// battle_flags_id := battle_flags_id ^ SetBattleFlag ( side , x , y , [ [ bfo_defend_bonus_human , 200 ] , [ bfo_defend_bonus_vehicle , 100 ] , [ bfo_defend_bonus_building , 50 ] , [ bfo_height , 100 ] ] ) ;
7200: LD_ADDR_EXP 88
7204: PUSH
7205: LD_EXP 88
7209: PUSH
7210: LD_VAR 0 1
7214: PPUSH
7215: LD_VAR 0 5
7219: PPUSH
7220: LD_VAR 0 6
7224: PPUSH
7225: LD_INT 1
7227: PUSH
7228: LD_INT 200
7230: PUSH
7231: EMPTY
7232: LIST
7233: LIST
7234: PUSH
7235: LD_INT 2
7237: PUSH
7238: LD_INT 100
7240: PUSH
7241: EMPTY
7242: LIST
7243: LIST
7244: PUSH
7245: LD_INT 3
7247: PUSH
7248: LD_INT 50
7250: PUSH
7251: EMPTY
7252: LIST
7253: LIST
7254: PUSH
7255: LD_INT 20
7257: PUSH
7258: LD_INT 100
7260: PUSH
7261: EMPTY
7262: LIST
7263: LIST
7264: PUSH
7265: EMPTY
7266: LIST
7267: LIST
7268: LIST
7269: LIST
7270: PPUSH
7271: CALL_OW 418
7275: ADD
7276: ST_TO_ADDR
// if for_show_near_resources then
7277: LD_EXP 63
7281: IFFALSE 7415
// begin for i in for_show_near_resources [ pos ] [ 1 ] do
7283: LD_ADDR_VAR 0 7
7287: PUSH
7288: LD_EXP 63
7292: PUSH
7293: LD_VAR 0 2
7297: ARRAY
7298: PUSH
7299: LD_INT 1
7301: ARRAY
7302: PUSH
7303: FOR_IN
7304: IFFALSE 7335
// SetResourceVisibility ( i [ 1 ] , i [ 2 ] , side ) ;
7306: LD_VAR 0 7
7310: PUSH
7311: LD_INT 1
7313: ARRAY
7314: PPUSH
7315: LD_VAR 0 7
7319: PUSH
7320: LD_INT 2
7322: ARRAY
7323: PPUSH
7324: LD_VAR 0 1
7328: PPUSH
7329: CALL_OW 441
7333: GO 7303
7335: POP
7336: POP
// if def_siberite_detection and GetTech ( tech_sibdet , side ) = state_enabled then
7337: LD_EXP 28
7341: PUSH
7342: LD_INT 20
7344: PPUSH
7345: LD_VAR 0 1
7349: PPUSH
7350: CALL_OW 321
7354: PUSH
7355: LD_INT 1
7357: EQUAL
7358: AND
7359: IFFALSE 7415
// for i in for_show_near_resources [ pos ] [ 2 ] do
7361: LD_ADDR_VAR 0 7
7365: PUSH
7366: LD_EXP 63
7370: PUSH
7371: LD_VAR 0 2
7375: ARRAY
7376: PUSH
7377: LD_INT 2
7379: ARRAY
7380: PUSH
7381: FOR_IN
7382: IFFALSE 7413
// SetResourceVisibility ( i [ 1 ] , i [ 2 ] , side ) ;
7384: LD_VAR 0 7
7388: PUSH
7389: LD_INT 1
7391: ARRAY
7392: PPUSH
7393: LD_VAR 0 7
7397: PUSH
7398: LD_INT 2
7400: ARRAY
7401: PPUSH
7402: LD_VAR 0 1
7406: PPUSH
7407: CALL_OW 441
7411: GO 7381
7413: POP
7414: POP
// end ; bc_kind1 = b_lab_basic ;
7415: LD_ADDR_OWVAR 44
7419: PUSH
7420: LD_INT 9
7422: ST_TO_ADDR
// bc_kind2 = b_lab_basic ;
7423: LD_ADDR_OWVAR 45
7427: PUSH
7428: LD_INT 9
7430: ST_TO_ADDR
// for i in buildings_def [ pos ] do
7431: LD_ADDR_VAR 0 7
7435: PUSH
7436: LD_EXP 39
7440: PUSH
7441: LD_VAR 0 2
7445: ARRAY
7446: PUSH
7447: FOR_IN
7448: IFFALSE 7593
// begin if i [ 1 ] in [ b_oil_mine , b_siberite_mine ] then
7450: LD_VAR 0 7
7454: PUSH
7455: LD_INT 1
7457: ARRAY
7458: PUSH
7459: LD_INT 29
7461: PUSH
7462: LD_INT 30
7464: PUSH
7465: EMPTY
7466: LIST
7467: LIST
7468: IN
7469: IFFALSE 7498
// SetResourceVisibility ( i [ 2 ] , i [ 3 ] , side ) ;
7471: LD_VAR 0 7
7475: PUSH
7476: LD_INT 2
7478: ARRAY
7479: PPUSH
7480: LD_VAR 0 7
7484: PUSH
7485: LD_INT 3
7487: ARRAY
7488: PPUSH
7489: LD_VAR 0 1
7493: PPUSH
7494: CALL_OW 441
// bc_type = i [ 1 ] ;
7498: LD_ADDR_OWVAR 42
7502: PUSH
7503: LD_VAR 0 7
7507: PUSH
7508: LD_INT 1
7510: ARRAY
7511: ST_TO_ADDR
// CreateAndPlaceBuildingXYD ( i [ 2 ] , i [ 3 ] , i [ 4 ] ) ;
7512: LD_VAR 0 7
7516: PUSH
7517: LD_INT 2
7519: ARRAY
7520: PPUSH
7521: LD_VAR 0 7
7525: PUSH
7526: LD_INT 3
7528: ARRAY
7529: PPUSH
7530: LD_VAR 0 7
7534: PUSH
7535: LD_INT 4
7537: ARRAY
7538: PPUSH
7539: CALL_OW 47
// x := buildings_def [ pos ] [ 1 ] [ 2 ] ;
7543: LD_ADDR_VAR 0 5
7547: PUSH
7548: LD_EXP 39
7552: PUSH
7553: LD_VAR 0 2
7557: ARRAY
7558: PUSH
7559: LD_INT 1
7561: ARRAY
7562: PUSH
7563: LD_INT 2
7565: ARRAY
7566: ST_TO_ADDR
// y := buildings_def [ pos ] [ 1 ] [ 2 ] ;
7567: LD_ADDR_VAR 0 6
7571: PUSH
7572: LD_EXP 39
7576: PUSH
7577: LD_VAR 0 2
7581: ARRAY
7582: PUSH
7583: LD_INT 1
7585: ARRAY
7586: PUSH
7587: LD_INT 2
7589: ARRAY
7590: ST_TO_ADDR
// end ;
7591: GO 7447
7593: POP
7594: POP
// commander := true ;
7595: LD_ADDR_EXP 55
7599: PUSH
7600: LD_INT 1
7602: ST_TO_ADDR
// x := start_def [ pos ] [ 1 ] ;
7603: LD_ADDR_VAR 0 5
7607: PUSH
7608: LD_EXP 82
7612: PUSH
7613: LD_VAR 0 2
7617: ARRAY
7618: PUSH
7619: LD_INT 1
7621: ARRAY
7622: ST_TO_ADDR
// y := start_def [ pos ] [ 2 ] ;
7623: LD_ADDR_VAR 0 6
7627: PUSH
7628: LD_EXP 82
7632: PUSH
7633: LD_VAR 0 2
7637: ARRAY
7638: PUSH
7639: LD_INT 2
7641: ARRAY
7642: ST_TO_ADDR
// if def_classes then
7643: LD_EXP 14
7647: IFFALSE 7943
// begin neng := number_of_people ;
7649: LD_ADDR_VAR 0 12
7653: PUSH
7654: LD_EXP 40
7658: ST_TO_ADDR
// if nsol < neng div 4 then
7659: LD_VAR 0 15
7663: PUSH
7664: LD_VAR 0 12
7668: PUSH
7669: LD_INT 4
7671: DIV
7672: LESS
7673: IFFALSE 7689
// nsol := neng div 4 ;
7675: LD_ADDR_VAR 0 15
7679: PUSH
7680: LD_VAR 0 12
7684: PUSH
7685: LD_INT 4
7687: DIV
7688: ST_TO_ADDR
// neng := neng - nsol ;
7689: LD_ADDR_VAR 0 12
7693: PUSH
7694: LD_VAR 0 12
7698: PUSH
7699: LD_VAR 0 15
7703: MINUS
7704: ST_TO_ADDR
// nsci := neng div 3 ;
7705: LD_ADDR_VAR 0 13
7709: PUSH
7710: LD_VAR 0 12
7714: PUSH
7715: LD_INT 3
7717: DIV
7718: ST_TO_ADDR
// if nsci < 1 then
7719: LD_VAR 0 13
7723: PUSH
7724: LD_INT 1
7726: LESS
7727: IFFALSE 7737
// nsci := 1 ;
7729: LD_ADDR_VAR 0 13
7733: PUSH
7734: LD_INT 1
7736: ST_TO_ADDR
// neng := neng - nsci ;
7737: LD_ADDR_VAR 0 12
7741: PUSH
7742: LD_VAR 0 12
7746: PUSH
7747: LD_VAR 0 13
7751: MINUS
7752: ST_TO_ADDR
// nmech := neng div 2 ;
7753: LD_ADDR_VAR 0 14
7757: PUSH
7758: LD_VAR 0 12
7762: PUSH
7763: LD_INT 2
7765: DIV
7766: ST_TO_ADDR
// neng := neng - nmech ;
7767: LD_ADDR_VAR 0 12
7771: PUSH
7772: LD_VAR 0 12
7776: PUSH
7777: LD_VAR 0 14
7781: MINUS
7782: ST_TO_ADDR
// if neng < 1 then
7783: LD_VAR 0 12
7787: PUSH
7788: LD_INT 1
7790: LESS
7791: IFFALSE 7801
// neng := 1 ;
7793: LD_ADDR_VAR 0 12
7797: PUSH
7798: LD_INT 1
7800: ST_TO_ADDR
// prepare_people ( side , nsol , class_soldier , x , y , 5 , commander ) ;
7801: LD_VAR 0 1
7805: PPUSH
7806: LD_VAR 0 15
7810: PPUSH
7811: LD_INT 1
7813: PPUSH
7814: LD_VAR 0 5
7818: PPUSH
7819: LD_VAR 0 6
7823: PPUSH
7824: LD_INT 5
7826: PPUSH
7827: LD_ADDR_EXP 55
7831: PPUSH
7832: CALL 8489 0 7
// prepare_people ( side , neng , class_engineer , x , y , 5 , commander ) ;
7836: LD_VAR 0 1
7840: PPUSH
7841: LD_VAR 0 12
7845: PPUSH
7846: LD_INT 2
7848: PPUSH
7849: LD_VAR 0 5
7853: PPUSH
7854: LD_VAR 0 6
7858: PPUSH
7859: LD_INT 5
7861: PPUSH
7862: LD_ADDR_EXP 55
7866: PPUSH
7867: CALL 8489 0 7
// prepare_people ( side , nmech , class_mechanic , x , y , 5 , commander ) ;
7871: LD_VAR 0 1
7875: PPUSH
7876: LD_VAR 0 14
7880: PPUSH
7881: LD_INT 3
7883: PPUSH
7884: LD_VAR 0 5
7888: PPUSH
7889: LD_VAR 0 6
7893: PPUSH
7894: LD_INT 5
7896: PPUSH
7897: LD_ADDR_EXP 55
7901: PPUSH
7902: CALL 8489 0 7
// prepare_people ( side , nsci , class_scientistic , x , y , 5 , commander ) ;
7906: LD_VAR 0 1
7910: PPUSH
7911: LD_VAR 0 13
7915: PPUSH
7916: LD_INT 4
7918: PPUSH
7919: LD_VAR 0 5
7923: PPUSH
7924: LD_VAR 0 6
7928: PPUSH
7929: LD_INT 5
7931: PPUSH
7932: LD_ADDR_EXP 55
7936: PPUSH
7937: CALL 8489 0 7
// end else
7941: GO 8015
// begin prepare_people ( side , number_of_people - 1 , 0 , x , y , 5 , commander ) ;
7943: LD_VAR 0 1
7947: PPUSH
7948: LD_EXP 40
7952: PUSH
7953: LD_INT 1
7955: MINUS
7956: PPUSH
7957: LD_INT 0
7959: PPUSH
7960: LD_VAR 0 5
7964: PPUSH
7965: LD_VAR 0 6
7969: PPUSH
7970: LD_INT 5
7972: PPUSH
7973: LD_ADDR_EXP 55
7977: PPUSH
7978: CALL 8489 0 7
// prepare_people ( side , 1 , class_engineer , x , y , 5 , commander ) ;
7982: LD_VAR 0 1
7986: PPUSH
7987: LD_INT 1
7989: PPUSH
7990: LD_INT 2
7992: PPUSH
7993: LD_VAR 0 5
7997: PPUSH
7998: LD_VAR 0 6
8002: PPUSH
8003: LD_INT 5
8005: PPUSH
8006: LD_ADDR_EXP 55
8010: PPUSH
8011: CALL 8489 0 7
// end ; if number_of_apemen then
8015: LD_EXP 41
8019: IFFALSE 8377
// begin uc_nation = nation_nature ;
8021: LD_ADDR_OWVAR 21
8025: PUSH
8026: LD_INT 0
8028: ST_TO_ADDR
// prepare_people ( side , number_of_apemen , class_apeman , x , y , 5 , commander ) ;
8029: LD_VAR 0 1
8033: PPUSH
8034: LD_EXP 41
8038: PPUSH
8039: LD_INT 12
8041: PPUSH
8042: LD_VAR 0 5
8046: PPUSH
8047: LD_VAR 0 6
8051: PPUSH
8052: LD_INT 5
8054: PPUSH
8055: LD_ADDR_EXP 55
8059: PPUSH
8060: CALL 8489 0 7
// uc_nation = nation ;
8064: LD_ADDR_OWVAR 21
8068: PUSH
8069: LD_VAR 0 3
8073: ST_TO_ADDR
// case nation of 1 :
8074: LD_VAR 0 3
8078: PUSH
8079: LD_INT 1
8081: DOUBLE
8082: EQUAL
8083: IFTRUE 8087
8085: GO 8156
8087: POP
// begin if GetTech ( tech_ApeLang , side ) = state_enabled then
8088: LD_INT 1
8090: PPUSH
8091: LD_VAR 0 1
8095: PPUSH
8096: CALL_OW 321
8100: PUSH
8101: LD_INT 1
8103: EQUAL
8104: IFFALSE 8121
// SetTech ( tech_ApeLang , side , state_researched ) ;
8106: LD_INT 1
8108: PPUSH
8109: LD_VAR 0 1
8113: PPUSH
8114: LD_INT 2
8116: PPUSH
8117: CALL_OW 322
// if GetTech ( tech_ApePsych , side ) = state_enabled then
8121: LD_INT 2
8123: PPUSH
8124: LD_VAR 0 1
8128: PPUSH
8129: CALL_OW 321
8133: PUSH
8134: LD_INT 1
8136: EQUAL
8137: IFFALSE 8154
// SetTech ( tech_ApePsych , side , state_researched ) ;
8139: LD_INT 2
8141: PPUSH
8142: LD_VAR 0 1
8146: PPUSH
8147: LD_INT 2
8149: PPUSH
8150: CALL_OW 322
// end ; 2 :
8154: GO 8377
8156: LD_INT 2
8158: DOUBLE
8159: EQUAL
8160: IFTRUE 8164
8162: GO 8266
8164: POP
// begin if GetTech ( tech_ApeLang , side ) = state_enabled then
8165: LD_INT 1
8167: PPUSH
8168: LD_VAR 0 1
8172: PPUSH
8173: CALL_OW 321
8177: PUSH
8178: LD_INT 1
8180: EQUAL
8181: IFFALSE 8198
// SetTech ( tech_ApeLang , side , state_researched ) ;
8183: LD_INT 1
8185: PPUSH
8186: LD_VAR 0 1
8190: PPUSH
8191: LD_INT 2
8193: PPUSH
8194: CALL_OW 322
// if GetTech ( tech_ApeAgres , side ) = state_enabled then
8198: LD_INT 11
8200: PPUSH
8201: LD_VAR 0 1
8205: PPUSH
8206: CALL_OW 321
8210: PUSH
8211: LD_INT 1
8213: EQUAL
8214: IFFALSE 8231
// SetTech ( tech_ApeAgres , side , state_researched ) ;
8216: LD_INT 11
8218: PPUSH
8219: LD_VAR 0 1
8223: PPUSH
8224: LD_INT 2
8226: PPUSH
8227: CALL_OW 322
// if GetTech ( tech_ApeNeural , side ) = state_enabled then
8231: LD_INT 3
8233: PPUSH
8234: LD_VAR 0 1
8238: PPUSH
8239: CALL_OW 321
8243: PUSH
8244: LD_INT 1
8246: EQUAL
8247: IFFALSE 8264
// SetTech ( tech_ApeNeural , side , state_researched ) ;
8249: LD_INT 3
8251: PPUSH
8252: LD_VAR 0 1
8256: PPUSH
8257: LD_INT 2
8259: PPUSH
8260: CALL_OW 322
// end ; 3 :
8264: GO 8377
8266: LD_INT 3
8268: DOUBLE
8269: EQUAL
8270: IFTRUE 8274
8272: GO 8376
8274: POP
// begin if GetTech ( tech_ApeLang , side ) = state_enabled then
8275: LD_INT 1
8277: PPUSH
8278: LD_VAR 0 1
8282: PPUSH
8283: CALL_OW 321
8287: PUSH
8288: LD_INT 1
8290: EQUAL
8291: IFFALSE 8308
// SetTech ( tech_ApeLang , side , state_researched ) ;
8293: LD_INT 1
8295: PPUSH
8296: LD_VAR 0 1
8300: PPUSH
8301: LD_INT 2
8303: PPUSH
8304: CALL_OW 322
// if GetTech ( tech_ApePsych , side ) = state_enabled then
8308: LD_INT 2
8310: PPUSH
8311: LD_VAR 0 1
8315: PPUSH
8316: CALL_OW 321
8320: PUSH
8321: LD_INT 1
8323: EQUAL
8324: IFFALSE 8341
// SetTech ( tech_ApePsych , side , state_researched ) ;
8326: LD_INT 2
8328: PPUSH
8329: LD_VAR 0 1
8333: PPUSH
8334: LD_INT 2
8336: PPUSH
8337: CALL_OW 322
// if GetTech ( tech_ApeAgres , side ) = state_enabled then
8341: LD_INT 11
8343: PPUSH
8344: LD_VAR 0 1
8348: PPUSH
8349: CALL_OW 321
8353: PUSH
8354: LD_INT 1
8356: EQUAL
8357: IFFALSE 8374
// SetTech ( tech_ApeAgres , side , state_researched ) ;
8359: LD_INT 11
8361: PPUSH
8362: LD_VAR 0 1
8366: PPUSH
8367: LD_INT 2
8369: PPUSH
8370: CALL_OW 322
// end ; end ;
8374: GO 8377
8376: POP
// end ; if def_desert_warior = 2 and nation = nation_arabian then
8377: LD_EXP 31
8381: PUSH
8382: LD_INT 2
8384: EQUAL
8385: PUSH
8386: LD_VAR 0 3
8390: PUSH
8391: LD_INT 2
8393: EQUAL
8394: AND
8395: IFFALSE 8430
// prepare_people ( side , 1 , class_desert_warior , x , y , 5 , commander ) ;
8397: LD_VAR 0 1
8401: PPUSH
8402: LD_INT 1
8404: PPUSH
8405: LD_INT 11
8407: PPUSH
8408: LD_VAR 0 5
8412: PPUSH
8413: LD_VAR 0 6
8417: PPUSH
8418: LD_INT 5
8420: PPUSH
8421: LD_ADDR_EXP 55
8425: PPUSH
8426: CALL 8489 0 7
// if not global_defined then
8430: LD_EXP 93
8434: NOT
8435: IFFALSE 8445
// global_defined := true ;
8437: LD_ADDR_EXP 93
8441: PUSH
8442: LD_INT 1
8444: ST_TO_ADDR
// if def_siberite_detection and GetTech ( tech_sibdet , side ) = state_enabled then
8445: LD_EXP 28
8449: PUSH
8450: LD_INT 20
8452: PPUSH
8453: LD_VAR 0 1
8457: PPUSH
8458: CALL_OW 321
8462: PUSH
8463: LD_INT 1
8465: EQUAL
8466: AND
8467: IFFALSE 8484
// SetTech ( tech_SibDet , side , state_researched ) ;
8469: LD_INT 20
8471: PPUSH
8472: LD_VAR 0 1
8476: PPUSH
8477: LD_INT 2
8479: PPUSH
8480: CALL_OW 322
// end ;
8484: LD_VAR 0 4
8488: RET
// export function prepare_people ( side , count , pre_cl , x , y , r , var commander ) ; var i , j , un , cl ; begin
8489: LD_INT 0
8491: PPUSH
8492: PPUSH
8493: PPUSH
8494: PPUSH
8495: PPUSH
// for i := 1 to count do
8496: LD_ADDR_VAR 0 9
8500: PUSH
8501: DOUBLE
8502: LD_INT 1
8504: DEC
8505: ST_TO_ADDR
8506: LD_VAR 0 2
8510: PUSH
8511: FOR_TO
8512: IFFALSE 9116
// begin global_count = global_count + 1 ;
8514: LD_ADDR_EXP 95
8518: PUSH
8519: LD_EXP 95
8523: PUSH
8524: LD_INT 1
8526: PLUS
8527: ST_TO_ADDR
// if not def_classes and global_count <= global_classes then
8528: LD_EXP 14
8532: NOT
8533: PUSH
8534: LD_EXP 95
8538: PUSH
8539: LD_EXP 96
8543: LESSEQUAL
8544: AND
8545: IFFALSE 8565
// cl = global_classes [ global_count ] else
8547: LD_ADDR_VAR 0 12
8551: PUSH
8552: LD_EXP 96
8556: PUSH
8557: LD_EXP 95
8561: ARRAY
8562: ST_TO_ADDR
8563: GO 8603
// if pre_cl = 0 then
8565: LD_VAR 0 3
8569: PUSH
8570: LD_INT 0
8572: EQUAL
8573: IFFALSE 8593
// cl = rand ( 1 , 4 ) else
8575: LD_ADDR_VAR 0 12
8579: PUSH
8580: LD_INT 1
8582: PPUSH
8583: LD_INT 4
8585: PPUSH
8586: CALL_OW 12
8590: ST_TO_ADDR
8591: GO 8603
// cl = pre_cl ;
8593: LD_ADDR_VAR 0 12
8597: PUSH
8598: LD_VAR 0 3
8602: ST_TO_ADDR
// uc_direction := Rand ( 0 , 5 ) ;
8603: LD_ADDR_OWVAR 24
8607: PUSH
8608: LD_INT 0
8610: PPUSH
8611: LD_INT 5
8613: PPUSH
8614: CALL_OW 12
8618: ST_TO_ADDR
// if commander then
8619: LD_FROM_VAR 0 7
8623: IFFALSE 8752
// begin hc_name := mp_sides_players_names [ side ] ;
8625: LD_ADDR_OWVAR 26
8629: PUSH
8630: LD_OWVAR 19
8634: PUSH
8635: LD_VAR 0 1
8639: ARRAY
8640: ST_TO_ADDR
// PrepareHuman ( Rand ( 1 , 2 ) , cl , initial_level + 2 ) ;
8641: LD_INT 1
8643: PPUSH
8644: LD_INT 2
8646: PPUSH
8647: CALL_OW 12
8651: PPUSH
8652: LD_VAR 0 12
8656: PPUSH
8657: LD_EXP 42
8661: PUSH
8662: LD_INT 2
8664: PLUS
8665: PPUSH
8666: CALL_OW 380
// if def_desert_warior = 1 and uc_nation = nation_arabian then
8670: LD_EXP 31
8674: PUSH
8675: LD_INT 1
8677: EQUAL
8678: PUSH
8679: LD_OWVAR 21
8683: PUSH
8684: LD_INT 2
8686: EQUAL
8687: AND
8688: IFFALSE 8698
// hc_class = class_desert_warior ;
8690: LD_ADDR_OWVAR 28
8694: PUSH
8695: LD_INT 11
8697: ST_TO_ADDR
// hc_importance := 105 ;
8698: LD_ADDR_OWVAR 32
8702: PUSH
8703: LD_INT 105
8705: ST_TO_ADDR
// if Multiplayer then
8706: LD_OWVAR 4
8710: IFFALSE 8750
// begin hc_gallery := MULTIAVATARS ;
8712: LD_ADDR_OWVAR 33
8716: PUSH
8717: LD_STRING MULTIAVATARS
8719: ST_TO_ADDR
// hc_face_number := Multiplayer_GetPlayerSideNum ( Side ) ;
8720: LD_ADDR_OWVAR 34
8724: PUSH
8725: LD_VAR 0 1
8729: PPUSH
8730: CALL_OW 525
8734: ST_TO_ADDR
// hc_sex := Multiplayer_GetPlayerSex ( Side ) ;
8735: LD_ADDR_OWVAR 27
8739: PUSH
8740: LD_VAR 0 1
8744: PPUSH
8745: CALL_OW 526
8749: ST_TO_ADDR
// end ; end else
8750: GO 8858
// begin hc_name :=  ;
8752: LD_ADDR_OWVAR 26
8756: PUSH
8757: LD_STRING 
8759: ST_TO_ADDR
// if cl = class_desert_warior then
8760: LD_VAR 0 12
8764: PUSH
8765: LD_INT 11
8767: EQUAL
8768: IFFALSE 8803
// begin PrepareHuman ( rand ( 1 , 2 ) , class_soldier , initial_level ) ;
8770: LD_INT 1
8772: PPUSH
8773: LD_INT 2
8775: PPUSH
8776: CALL_OW 12
8780: PPUSH
8781: LD_INT 1
8783: PPUSH
8784: LD_EXP 42
8788: PPUSH
8789: CALL_OW 380
// hc_class = class_desert_warior end else
8793: LD_ADDR_OWVAR 28
8797: PUSH
8798: LD_INT 11
8800: ST_TO_ADDR
8801: GO 8828
// PrepareHuman ( rand ( 1 , 2 ) , cl , initial_level ) ;
8803: LD_INT 1
8805: PPUSH
8806: LD_INT 2
8808: PPUSH
8809: CALL_OW 12
8813: PPUSH
8814: LD_VAR 0 12
8818: PPUSH
8819: LD_EXP 42
8823: PPUSH
8824: CALL_OW 380
// hc_importance := 0 ;
8828: LD_ADDR_OWVAR 32
8832: PUSH
8833: LD_INT 0
8835: ST_TO_ADDR
// if Multiplayer then
8836: LD_OWVAR 4
8840: IFFALSE 8858
// begin hc_gallery :=  ;
8842: LD_ADDR_OWVAR 33
8846: PUSH
8847: LD_STRING 
8849: ST_TO_ADDR
// hc_face_number := 0 ;
8850: LD_ADDR_OWVAR 34
8854: PUSH
8855: LD_INT 0
8857: ST_TO_ADDR
// end ; end ; if hc_class = class_desert_warior then
8858: LD_OWVAR 28
8862: PUSH
8863: LD_INT 11
8865: EQUAL
8866: IFFALSE 8876
// hc_importance := 100 ;
8868: LD_ADDR_OWVAR 32
8872: PUSH
8873: LD_INT 100
8875: ST_TO_ADDR
// un := CreateHuman ;
8876: LD_ADDR_VAR 0 11
8880: PUSH
8881: CALL_OW 44
8885: ST_TO_ADDR
// if global_count <= global_units then
8886: LD_EXP 95
8890: PUSH
8891: LD_EXP 92
8895: LESSEQUAL
8896: IFFALSE 8980
// begin CopySkills ( global_units [ global_count ] , un ) ;
8898: LD_EXP 92
8902: PUSH
8903: LD_EXP 95
8907: ARRAY
8908: PPUSH
8909: LD_VAR 0 11
8913: PPUSH
8914: CALL_OW 510
// SetAttr ( un , attr_speed , GetAttr ( global_units [ global_count ] , attr_speed ) ) ;
8918: LD_VAR 0 11
8922: PPUSH
8923: LD_INT 2
8925: PPUSH
8926: LD_EXP 92
8930: PUSH
8931: LD_EXP 95
8935: ARRAY
8936: PPUSH
8937: LD_INT 2
8939: PPUSH
8940: CALL_OW 260
8944: PPUSH
8945: CALL_OW 239
// SetAttr ( un , attr_stamina , GetAttr ( global_units [ global_count ] , attr_stamina ) ) ;
8949: LD_VAR 0 11
8953: PPUSH
8954: LD_INT 1
8956: PPUSH
8957: LD_EXP 92
8961: PUSH
8962: LD_EXP 95
8966: ARRAY
8967: PPUSH
8968: LD_INT 1
8970: PPUSH
8971: CALL_OW 260
8975: PPUSH
8976: CALL_OW 239
// end ; PlaceUnitXYR ( un , x , y , r , false ) ;
8980: LD_VAR 0 11
8984: PPUSH
8985: LD_VAR 0 4
8989: PPUSH
8990: LD_VAR 0 5
8994: PPUSH
8995: LD_VAR 0 6
8999: PPUSH
9000: LD_INT 0
9002: PPUSH
9003: CALL_OW 50
// if global_classes < global_count then
9007: LD_EXP 96
9011: PUSH
9012: LD_EXP 95
9016: LESS
9017: IFFALSE 9035
// global_classes = global_classes ^ cl ;
9019: LD_ADDR_EXP 96
9023: PUSH
9024: LD_EXP 96
9028: PUSH
9029: LD_VAR 0 12
9033: ADD
9034: ST_TO_ADDR
// if global_units < global_count then
9035: LD_EXP 92
9039: PUSH
9040: LD_EXP 95
9044: LESS
9045: IFFALSE 9063
// global_units = global_units ^ un ;
9047: LD_ADDR_EXP 92
9051: PUSH
9052: LD_EXP 92
9056: PUSH
9057: LD_VAR 0 11
9061: ADD
9062: ST_TO_ADDR
// if commander then
9063: LD_FROM_VAR 0 7
9067: IFFALSE 9114
// begin heroes = replace ( heroes , side , heroes [ side ] ^ un ) ;
9069: LD_ADDR_EXP 50
9073: PUSH
9074: LD_EXP 50
9078: PPUSH
9079: LD_VAR 0 1
9083: PPUSH
9084: LD_EXP 50
9088: PUSH
9089: LD_VAR 0 1
9093: ARRAY
9094: PUSH
9095: LD_VAR 0 11
9099: ADD
9100: PPUSH
9101: CALL_OW 1
9105: ST_TO_ADDR
// commander := false ;
9106: LD_VAR 0 7
9110: PUSH
9111: LD_INT 0
9113: ST_TO_ADDR
// end ; end ;
9114: GO 8511
9116: POP
9117: POP
// end ;
9118: LD_VAR 0 8
9122: RET
// export function mastodonti ; var i , c , k ; begin
9123: LD_INT 0
9125: PPUSH
9126: PPUSH
9127: PPUSH
9128: PPUSH
// if def_desert_warior then
9129: LD_EXP 31
9133: IFFALSE 9198
// begin c = FilterAllUnits ( [ [ f_class , class_desert_warior ] ] ) ;
9135: LD_ADDR_VAR 0 3
9139: PUSH
9140: LD_INT 25
9142: PUSH
9143: LD_INT 11
9145: PUSH
9146: EMPTY
9147: LIST
9148: LIST
9149: PUSH
9150: EMPTY
9151: LIST
9152: PPUSH
9153: CALL_OW 69
9157: ST_TO_ADDR
// if c then
9158: LD_VAR 0 3
9162: IFFALSE 9194
// for c = 1 to c + 0 do
9164: LD_ADDR_VAR 0 3
9168: PUSH
9169: DOUBLE
9170: LD_INT 1
9172: DEC
9173: ST_TO_ADDR
9174: LD_VAR 0 3
9178: PUSH
9179: LD_INT 0
9181: PLUS
9182: PUSH
9183: FOR_TO
9184: IFFALSE 9192
// begin comms_mastodont ;
9186: CALL 9203 0 0
// end ;
9190: GO 9183
9192: POP
9193: POP
// comms_mastodont ;
9194: CALL 9203 0 0
// end ; end ;
9198: LD_VAR 0 1
9202: RET
// export function comms_mastodont ; var un ; begin
9203: LD_INT 0
9205: PPUSH
9206: PPUSH
// uc_nation := 0 ;
9207: LD_ADDR_OWVAR 21
9211: PUSH
9212: LD_INT 0
9214: ST_TO_ADDR
// uc_side := nation_nature ;
9215: LD_ADDR_OWVAR 20
9219: PUSH
9220: LD_INT 0
9222: ST_TO_ADDR
// vc_chassis = 31 ;
9223: LD_ADDR_OWVAR 37
9227: PUSH
9228: LD_INT 31
9230: ST_TO_ADDR
// un := createvehicle ;
9231: LD_ADDR_VAR 0 2
9235: PUSH
9236: CALL_OW 45
9240: ST_TO_ADDR
// PlaceUnitArea ( un , stred , false ) ;
9241: LD_VAR 0 2
9245: PPUSH
9246: LD_INT 30
9248: PPUSH
9249: LD_INT 0
9251: PPUSH
9252: CALL_OW 49
// end ;
9256: LD_VAR 0 1
9260: RET
// every 0 0$1 marked 31 do var i ;
9261: GO 9263
9263: DISABLE
9264: LD_INT 0
9266: PPUSH
// begin if not tech_level = 8 then
9267: LD_EXP 56
9271: PUSH
9272: LD_INT 8
9274: EQUAL
9275: NOT
9276: IFFALSE 9280
// exit ;
9278: GO 9299
// if siberite_bomb_delay then
9280: LD_EXP 66
9284: IFFALSE 9295
// wait ( siberite_bomb_Delay ) ;
9286: LD_EXP 66
9290: PPUSH
9291: CALL_OW 67
// EnableSibFiss ;
9295: CALL 9302 0 0
// end ;
9299: PPOPN 1
9301: END
// function EnableSibFiss ( ) ; var side , narodnost ; begin
9302: LD_INT 0
9304: PPUSH
9305: PPUSH
9306: PPUSH
// for side = 1 to side_positions + 0 do
9307: LD_ADDR_VAR 0 2
9311: PUSH
9312: DOUBLE
9313: LD_INT 1
9315: DEC
9316: ST_TO_ADDR
9317: LD_EXP 74
9321: PUSH
9322: LD_INT 0
9324: PLUS
9325: PUSH
9326: FOR_TO
9327: IFFALSE 9427
// begin narodnost := Side_Nations [ side ] ;
9329: LD_ADDR_VAR 0 3
9333: PUSH
9334: LD_EXP 75
9338: PUSH
9339: LD_VAR 0 2
9343: ARRAY
9344: ST_TO_ADDR
// case narodnost of 1 , 3 :
9345: LD_VAR 0 3
9349: PUSH
9350: LD_INT 1
9352: DOUBLE
9353: EQUAL
9354: IFTRUE 9364
9356: LD_INT 3
9358: DOUBLE
9359: EQUAL
9360: IFTRUE 9364
9362: GO 9390
9364: POP
// SetTech ( 25 , side , GetRestrictions ( false , 25 ) ) ; 2 :
9365: LD_INT 25
9367: PPUSH
9368: LD_VAR 0 2
9372: PPUSH
9373: LD_INT 0
9375: PPUSH
9376: LD_INT 25
9378: PPUSH
9379: CALL_OW 565
9383: PPUSH
9384: CALL_OW 322
9388: GO 9425
9390: LD_INT 2
9392: DOUBLE
9393: EQUAL
9394: IFTRUE 9398
9396: GO 9424
9398: POP
// SetTech ( 73 , side , GetRestrictions ( false , 73 ) ) ; end ;
9399: LD_INT 73
9401: PPUSH
9402: LD_VAR 0 2
9406: PPUSH
9407: LD_INT 0
9409: PPUSH
9410: LD_INT 73
9412: PPUSH
9413: CALL_OW 565
9417: PPUSH
9418: CALL_OW 322
9422: GO 9425
9424: POP
// end ;
9425: GO 9326
9427: POP
9428: POP
// Tech_Level = 8 ;
9429: LD_ADDR_EXP 56
9433: PUSH
9434: LD_INT 8
9436: ST_TO_ADDR
// end ;
9437: LD_VAR 0 1
9441: RET
// export function Start_Zvirata ; begin
9442: LD_INT 0
9444: PPUSH
// if def_amount_of_apemen > 0 then
9445: LD_EXP 22
9449: PUSH
9450: LD_INT 0
9452: GREATER
9453: IFFALSE 9462
// begin StartApe ;
9455: CALL 15122 0 0
// enable ( 493 ) ;
9459: LD_INT 493
9461: ENABLE_MARKED
// end ; if def_amount_of_tiger > 0 then
9462: LD_EXP 23
9466: PUSH
9467: LD_INT 0
9469: GREATER
9470: IFFALSE 9479
// begin StartTig ;
9472: CALL 15872 0 0
// enable ( 494 ) ;
9476: LD_INT 494
9478: ENABLE_MARKED
// end ; end ;
9479: LD_VAR 0 1
9483: RET
// export function Disable_Standard_Games ; begin
9484: LD_INT 0
9486: PPUSH
// disable ( 2 ) ;
9487: LD_INT 2
9489: DISABLE_MARKED
// disable ( 3 ) ;
9490: LD_INT 3
9492: DISABLE_MARKED
// disable ( 4 ) ;
9493: LD_INT 4
9495: DISABLE_MARKED
// disable ( 30 ) ;
9496: LD_INT 30
9498: DISABLE_MARKED
// disable ( 31 ) ;
9499: LD_INT 31
9501: DISABLE_MARKED
// disable ( 60 ) ;
9502: LD_INT 60
9504: DISABLE_MARKED
// disable ( 98 ) ;
9505: LD_INT 98
9507: DISABLE_MARKED
// disable ( 99 ) ;
9508: LD_INT 99
9510: DISABLE_MARKED
// disable ( 100 ) ;
9511: LD_INT 100
9513: DISABLE_MARKED
// disable ( 400 ) ;
9514: LD_INT 400
9516: DISABLE_MARKED
// disable ( 401 ) ;
9517: LD_INT 401
9519: DISABLE_MARKED
// disable ( 493 ) ;
9520: LD_INT 493
9522: DISABLE_MARKED
// disable ( 494 ) ;
9523: LD_INT 494
9525: DISABLE_MARKED
// disable ( 600 ) end ; end_of_file
9526: LD_INT 600
9528: DISABLE_MARKED
9529: LD_VAR 0 1
9533: RET
// export oblasti_beden , start_oblasti_beden , dalsi_oblasti_beden , koof_bedny ; var kontrolni_pocet ; every 1 1$0 + 0 0$1 do
9534: GO 9536
9536: DISABLE
// begin if game_type = GT_Survival then
9537: LD_EXP 1
9541: PUSH
9542: LD_EXP 6
9546: EQUAL
9547: IFFALSE 9551
// exit ;
9549: GO 9570
// CreateCratesAnywhere ( Rand ( 1 , 2 ) , true ) ;
9551: LD_INT 1
9553: PPUSH
9554: LD_INT 2
9556: PPUSH
9557: CALL_OW 12
9561: PPUSH
9562: LD_INT 1
9564: PPUSH
9565: CALL_OW 57
// enable ;
9569: ENABLE
// end ;
9570: END
// every 0 0$20 do var i , d , shipment , tictac , k , p ;
9571: GO 9573
9573: DISABLE
9574: LD_INT 0
9576: PPUSH
9577: PPUSH
9578: PPUSH
9579: PPUSH
9580: PPUSH
9581: PPUSH
// begin if game_type in GT_Survival then
9582: LD_EXP 1
9586: PUSH
9587: LD_EXP 6
9591: IN
9592: IFFALSE 9596
// exit ;
9594: GO 10492
// shipment := Rand ( 0 , 3 ) ;
9596: LD_ADDR_VAR 0 3
9600: PUSH
9601: LD_INT 0
9603: PPUSH
9604: LD_INT 3
9606: PPUSH
9607: CALL_OW 12
9611: ST_TO_ADDR
// tictac := 0 ;
9612: LD_ADDR_VAR 0 4
9616: PUSH
9617: LD_INT 0
9619: ST_TO_ADDR
// case tick of 1 .. 2 2$0 :
9620: LD_OWVAR 1
9624: PUSH
9625: LD_INT 1
9627: DOUBLE
9628: GREATEREQUAL
9629: IFFALSE 9637
9631: LD_INT 4200
9633: DOUBLE
9634: LESSEQUAL
9635: IFTRUE 9639
9637: GO 9650
9639: POP
// d := 150 ; 2 2$0 + 1 .. 4 4$0 :
9640: LD_ADDR_VAR 0 2
9644: PUSH
9645: LD_INT 150
9647: ST_TO_ADDR
9648: GO 9833
9650: LD_INT 4200
9652: PUSH
9653: LD_INT 1
9655: PLUS
9656: DOUBLE
9657: GREATEREQUAL
9658: IFFALSE 9666
9660: LD_INT 8400
9662: DOUBLE
9663: LESSEQUAL
9664: IFTRUE 9668
9666: GO 9679
9668: POP
// d := 120 ; 4 4$0 + 1 .. 6 6$0 :
9669: LD_ADDR_VAR 0 2
9673: PUSH
9674: LD_INT 120
9676: ST_TO_ADDR
9677: GO 9833
9679: LD_INT 8400
9681: PUSH
9682: LD_INT 1
9684: PLUS
9685: DOUBLE
9686: GREATEREQUAL
9687: IFFALSE 9695
9689: LD_INT 12600
9691: DOUBLE
9692: LESSEQUAL
9693: IFTRUE 9697
9695: GO 9708
9697: POP
// d := 100 ; 6 6$0 + 1 .. 7 7$0 :
9698: LD_ADDR_VAR 0 2
9702: PUSH
9703: LD_INT 100
9705: ST_TO_ADDR
9706: GO 9833
9708: LD_INT 12600
9710: PUSH
9711: LD_INT 1
9713: PLUS
9714: DOUBLE
9715: GREATEREQUAL
9716: IFFALSE 9724
9718: LD_INT 14700
9720: DOUBLE
9721: LESSEQUAL
9722: IFTRUE 9726
9724: GO 9737
9726: POP
// d := 80 ; 7 7$0 + 1 .. 9 9$0 :
9727: LD_ADDR_VAR 0 2
9731: PUSH
9732: LD_INT 80
9734: ST_TO_ADDR
9735: GO 9833
9737: LD_INT 14700
9739: PUSH
9740: LD_INT 1
9742: PLUS
9743: DOUBLE
9744: GREATEREQUAL
9745: IFFALSE 9753
9747: LD_INT 18900
9749: DOUBLE
9750: LESSEQUAL
9751: IFTRUE 9755
9753: GO 9766
9755: POP
// d := 70 ; 9 9$0 + 1 .. 15 15$0 :
9756: LD_ADDR_VAR 0 2
9760: PUSH
9761: LD_INT 70
9763: ST_TO_ADDR
9764: GO 9833
9766: LD_INT 18900
9768: PUSH
9769: LD_INT 1
9771: PLUS
9772: DOUBLE
9773: GREATEREQUAL
9774: IFFALSE 9782
9776: LD_INT 31500
9778: DOUBLE
9779: LESSEQUAL
9780: IFTRUE 9784
9782: GO 9795
9784: POP
// d := 45 ; 15 15$0 + 1 .. 30 30$0 :
9785: LD_ADDR_VAR 0 2
9789: PUSH
9790: LD_INT 45
9792: ST_TO_ADDR
9793: GO 9833
9795: LD_INT 31500
9797: PUSH
9798: LD_INT 1
9800: PLUS
9801: DOUBLE
9802: GREATEREQUAL
9803: IFFALSE 9811
9805: LD_INT 63000
9807: DOUBLE
9808: LESSEQUAL
9809: IFTRUE 9813
9811: GO 9824
9813: POP
// d := 30 ; else
9814: LD_ADDR_VAR 0 2
9818: PUSH
9819: LD_INT 30
9821: ST_TO_ADDR
9822: GO 9833
9824: POP
// d := 20 ; end ;
9825: LD_ADDR_VAR 0 2
9829: PUSH
9830: LD_INT 20
9832: ST_TO_ADDR
// if GetResourceArea ( celamapa , mat_cans ) < ( 100 + shipments_density * koof_bedny ) then
9833: LD_INT 32
9835: PPUSH
9836: LD_INT 1
9838: PPUSH
9839: CALL_OW 287
9843: PUSH
9844: LD_INT 100
9846: PUSH
9847: LD_EXP 45
9851: PUSH
9852: LD_EXP 100
9856: MUL
9857: PLUS
9858: LESS
9859: IFFALSE 10491
// if rand ( 1 , 10000 ) <= d * shipments_density then
9861: LD_INT 1
9863: PPUSH
9864: LD_INT 10000
9866: PPUSH
9867: CALL_OW 12
9871: PUSH
9872: LD_VAR 0 2
9876: PUSH
9877: LD_EXP 45
9881: MUL
9882: LESSEQUAL
9883: IFFALSE 10127
// begin k = Rand ( 2 , 4 ) ;
9885: LD_ADDR_VAR 0 5
9889: PUSH
9890: LD_INT 2
9892: PPUSH
9893: LD_INT 4
9895: PPUSH
9896: CALL_OW 12
9900: ST_TO_ADDR
// if start_oblasti_beden then
9901: LD_EXP 98
9905: IFFALSE 10006
// begin for i := 1 to 8 do
9907: LD_ADDR_VAR 0 1
9911: PUSH
9912: DOUBLE
9913: LD_INT 1
9915: DEC
9916: ST_TO_ADDR
9917: LD_INT 8
9919: PUSH
9920: FOR_TO
9921: IFFALSE 10002
// if side_positions [ i ] <> 0 then
9923: LD_EXP 74
9927: PUSH
9928: LD_VAR 0 1
9932: ARRAY
9933: PUSH
9934: LD_INT 0
9936: NONEQUAL
9937: IFFALSE 10000
// for p in pozice_beden [ i ] do
9939: LD_ADDR_VAR 0 6
9943: PUSH
9944: LD_EXP 8
9948: PUSH
9949: LD_VAR 0 1
9953: ARRAY
9954: PUSH
9955: FOR_IN
9956: IFFALSE 9998
// begin CreateCratesArea ( k , start_oblasti_beden [ p ] , true ) ;
9958: LD_VAR 0 5
9962: PPUSH
9963: LD_EXP 98
9967: PUSH
9968: LD_VAR 0 6
9972: ARRAY
9973: PPUSH
9974: LD_INT 1
9976: PPUSH
9977: CALL_OW 55
// Wait ( rand ( 2 , 0 0$2 ) ) ;
9981: LD_INT 2
9983: PPUSH
9984: LD_INT 70
9986: PPUSH
9987: CALL_OW 12
9991: PPUSH
9992: CALL_OW 67
// end ;
9996: GO 9955
9998: POP
9999: POP
10000: GO 9920
10002: POP
10003: POP
// end else
10004: GO 10125
// begin for i := 1 to 8 do
10006: LD_ADDR_VAR 0 1
10010: PUSH
10011: DOUBLE
10012: LD_INT 1
10014: DEC
10015: ST_TO_ADDR
10016: LD_INT 8
10018: PUSH
10019: FOR_TO
10020: IFFALSE 10123
// if side_positions [ i ] <> 0 then
10022: LD_EXP 74
10026: PUSH
10027: LD_VAR 0 1
10031: ARRAY
10032: PUSH
10033: LD_INT 0
10035: NONEQUAL
10036: IFFALSE 10121
// for p in pozice_beden [ i ] do
10038: LD_ADDR_VAR 0 6
10042: PUSH
10043: LD_EXP 8
10047: PUSH
10048: LD_VAR 0 1
10052: ARRAY
10053: PUSH
10054: FOR_IN
10055: IFFALSE 10119
// begin CreateCratesXYR ( k , start_def [ p ] [ 1 ] , start_def [ p ] [ 2 ] , 20 , true ) ;
10057: LD_VAR 0 5
10061: PPUSH
10062: LD_EXP 82
10066: PUSH
10067: LD_VAR 0 6
10071: ARRAY
10072: PUSH
10073: LD_INT 1
10075: ARRAY
10076: PPUSH
10077: LD_EXP 82
10081: PUSH
10082: LD_VAR 0 6
10086: ARRAY
10087: PUSH
10088: LD_INT 2
10090: ARRAY
10091: PPUSH
10092: LD_INT 20
10094: PPUSH
10095: LD_INT 1
10097: PPUSH
10098: CALL_OW 56
// wait ( rand ( 2 , 0 0$2 ) ) ;
10102: LD_INT 2
10104: PPUSH
10105: LD_INT 70
10107: PPUSH
10108: CALL_OW 12
10112: PPUSH
10113: CALL_OW 67
// end ;
10117: GO 10054
10119: POP
10120: POP
10121: GO 10019
10123: POP
10124: POP
// end ; end else
10125: GO 10491
// if rand ( 1 , 10000 ) <= ( 150 - d ) * shipments_density then
10127: LD_INT 1
10129: PPUSH
10130: LD_INT 10000
10132: PPUSH
10133: CALL_OW 12
10137: PUSH
10138: LD_INT 150
10140: PUSH
10141: LD_VAR 0 2
10145: MINUS
10146: PUSH
10147: LD_EXP 45
10151: MUL
10152: LESSEQUAL
10153: IFFALSE 10491
// begin k := Rand ( 1 , 4 ) ;
10155: LD_ADDR_VAR 0 5
10159: PUSH
10160: LD_INT 1
10162: PPUSH
10163: LD_INT 4
10165: PPUSH
10166: CALL_OW 12
10170: ST_TO_ADDR
// wait ( rand ( 2 , 0 0$4 ) ) ;
10171: LD_INT 2
10173: PPUSH
10174: LD_INT 140
10176: PPUSH
10177: CALL_OW 12
10181: PPUSH
10182: CALL_OW 67
// if oblasti_beden then
10186: LD_EXP 97
10190: IFFALSE 10291
// begin for i := 1 to 8 do
10192: LD_ADDR_VAR 0 1
10196: PUSH
10197: DOUBLE
10198: LD_INT 1
10200: DEC
10201: ST_TO_ADDR
10202: LD_INT 8
10204: PUSH
10205: FOR_TO
10206: IFFALSE 10287
// if side_positions [ i ] <> 0 then
10208: LD_EXP 74
10212: PUSH
10213: LD_VAR 0 1
10217: ARRAY
10218: PUSH
10219: LD_INT 0
10221: NONEQUAL
10222: IFFALSE 10285
// for p in pozice_beden [ i ] do
10224: LD_ADDR_VAR 0 6
10228: PUSH
10229: LD_EXP 8
10233: PUSH
10234: LD_VAR 0 1
10238: ARRAY
10239: PUSH
10240: FOR_IN
10241: IFFALSE 10283
// begin CreateCratesArea ( k , oblasti_beden [ p ] , true ) ;
10243: LD_VAR 0 5
10247: PPUSH
10248: LD_EXP 97
10252: PUSH
10253: LD_VAR 0 6
10257: ARRAY
10258: PPUSH
10259: LD_INT 1
10261: PPUSH
10262: CALL_OW 55
// Wait ( rand ( 2 , 0 0$1 ) ) ;
10266: LD_INT 2
10268: PPUSH
10269: LD_INT 35
10271: PPUSH
10272: CALL_OW 12
10276: PPUSH
10277: CALL_OW 67
// end ;
10281: GO 10240
10283: POP
10284: POP
10285: GO 10205
10287: POP
10288: POP
// end else
10289: GO 10410
// begin for i := 1 to 8 do
10291: LD_ADDR_VAR 0 1
10295: PUSH
10296: DOUBLE
10297: LD_INT 1
10299: DEC
10300: ST_TO_ADDR
10301: LD_INT 8
10303: PUSH
10304: FOR_TO
10305: IFFALSE 10408
// if side_positions [ i ] <> 0 then
10307: LD_EXP 74
10311: PUSH
10312: LD_VAR 0 1
10316: ARRAY
10317: PUSH
10318: LD_INT 0
10320: NONEQUAL
10321: IFFALSE 10406
// for p in pozice_beden [ i ] do
10323: LD_ADDR_VAR 0 6
10327: PUSH
10328: LD_EXP 8
10332: PUSH
10333: LD_VAR 0 1
10337: ARRAY
10338: PUSH
10339: FOR_IN
10340: IFFALSE 10404
// begin CreateCratesXYR ( k , start_def [ p ] [ 1 ] , start_def [ p ] [ 2 ] , 20 , true ) ;
10342: LD_VAR 0 5
10346: PPUSH
10347: LD_EXP 82
10351: PUSH
10352: LD_VAR 0 6
10356: ARRAY
10357: PUSH
10358: LD_INT 1
10360: ARRAY
10361: PPUSH
10362: LD_EXP 82
10366: PUSH
10367: LD_VAR 0 6
10371: ARRAY
10372: PUSH
10373: LD_INT 2
10375: ARRAY
10376: PPUSH
10377: LD_INT 20
10379: PPUSH
10380: LD_INT 1
10382: PPUSH
10383: CALL_OW 56
// wait ( rand ( 2 , 0 0$2 ) ) ;
10387: LD_INT 2
10389: PPUSH
10390: LD_INT 70
10392: PPUSH
10393: CALL_OW 12
10397: PPUSH
10398: CALL_OW 67
// end ;
10402: GO 10339
10404: POP
10405: POP
10406: GO 10304
10408: POP
10409: POP
// end ; if dalsi_oblasti_beden then
10410: LD_EXP 99
10414: IFFALSE 10491
// for k in dalsi_oblasti_beden do
10416: LD_ADDR_VAR 0 5
10420: PUSH
10421: LD_EXP 99
10425: PUSH
10426: FOR_IN
10427: IFFALSE 10489
// for i := 1 to Rand ( 1 , 3 ) do
10429: LD_ADDR_VAR 0 1
10433: PUSH
10434: DOUBLE
10435: LD_INT 1
10437: DEC
10438: ST_TO_ADDR
10439: LD_INT 1
10441: PPUSH
10442: LD_INT 3
10444: PPUSH
10445: CALL_OW 12
10449: PUSH
10450: FOR_TO
10451: IFFALSE 10485
// begin CreateCratesArea ( Rand ( 3 , 5 ) , k , true ) ;
10453: LD_INT 3
10455: PPUSH
10456: LD_INT 5
10458: PPUSH
10459: CALL_OW 12
10463: PPUSH
10464: LD_VAR 0 5
10468: PPUSH
10469: LD_INT 1
10471: PPUSH
10472: CALL_OW 55
// Wait ( 2 ) ;
10476: LD_INT 2
10478: PPUSH
10479: CALL_OW 67
// end ;
10483: GO 10450
10485: POP
10486: POP
10487: GO 10426
10489: POP
10490: POP
// end ; enable ;
10491: ENABLE
// end ; end_of_file
10492: PPOPN 6
10494: END
// var respawn , inqueue , nation , nations , noposn ; export function init_respawn ; var i , pos ; begin
10495: LD_INT 0
10497: PPUSH
10498: PPUSH
10499: PPUSH
// nation := rand ( 1 , 3 ) ;
10500: LD_ADDR_LOC 4
10504: PUSH
10505: LD_INT 1
10507: PPUSH
10508: LD_INT 3
10510: PPUSH
10511: CALL_OW 12
10515: ST_TO_ADDR
// respawn := Rand ( 1 , 8 ) ;
10516: LD_ADDR_LOC 2
10520: PUSH
10521: LD_INT 1
10523: PPUSH
10524: LD_INT 8
10526: PPUSH
10527: CALL_OW 12
10531: ST_TO_ADDR
// Nations = [ [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] , [ ] ] ;
10532: LD_ADDR_LOC 5
10536: PUSH
10537: EMPTY
10538: PUSH
10539: EMPTY
10540: PUSH
10541: EMPTY
10542: PUSH
10543: EMPTY
10544: PUSH
10545: EMPTY
10546: PUSH
10547: EMPTY
10548: PUSH
10549: EMPTY
10550: PUSH
10551: EMPTY
10552: PUSH
10553: EMPTY
10554: LIST
10555: LIST
10556: LIST
10557: LIST
10558: LIST
10559: LIST
10560: LIST
10561: LIST
10562: ST_TO_ADDR
// inqueue := [ [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] , [ 0 , 0 , 0 ] ] ;
10563: LD_ADDR_LOC 3
10567: PUSH
10568: LD_INT 0
10570: PUSH
10571: LD_INT 0
10573: PUSH
10574: LD_INT 0
10576: PUSH
10577: EMPTY
10578: LIST
10579: LIST
10580: LIST
10581: PUSH
10582: LD_INT 0
10584: PUSH
10585: LD_INT 0
10587: PUSH
10588: LD_INT 0
10590: PUSH
10591: EMPTY
10592: LIST
10593: LIST
10594: LIST
10595: PUSH
10596: LD_INT 0
10598: PUSH
10599: LD_INT 0
10601: PUSH
10602: LD_INT 0
10604: PUSH
10605: EMPTY
10606: LIST
10607: LIST
10608: LIST
10609: PUSH
10610: LD_INT 0
10612: PUSH
10613: LD_INT 0
10615: PUSH
10616: LD_INT 0
10618: PUSH
10619: EMPTY
10620: LIST
10621: LIST
10622: LIST
10623: PUSH
10624: LD_INT 0
10626: PUSH
10627: LD_INT 0
10629: PUSH
10630: LD_INT 0
10632: PUSH
10633: EMPTY
10634: LIST
10635: LIST
10636: LIST
10637: PUSH
10638: LD_INT 0
10640: PUSH
10641: LD_INT 0
10643: PUSH
10644: LD_INT 0
10646: PUSH
10647: EMPTY
10648: LIST
10649: LIST
10650: LIST
10651: PUSH
10652: LD_INT 0
10654: PUSH
10655: LD_INT 0
10657: PUSH
10658: LD_INT 0
10660: PUSH
10661: EMPTY
10662: LIST
10663: LIST
10664: LIST
10665: PUSH
10666: LD_INT 0
10668: PUSH
10669: LD_INT 0
10671: PUSH
10672: LD_INT 0
10674: PUSH
10675: EMPTY
10676: LIST
10677: LIST
10678: LIST
10679: PUSH
10680: EMPTY
10681: LIST
10682: LIST
10683: LIST
10684: LIST
10685: LIST
10686: LIST
10687: LIST
10688: LIST
10689: ST_TO_ADDR
// for i := 1 to 8 do
10690: LD_ADDR_VAR 0 2
10694: PUSH
10695: DOUBLE
10696: LD_INT 1
10698: DEC
10699: ST_TO_ADDR
10700: LD_INT 8
10702: PUSH
10703: FOR_TO
10704: IFFALSE 10809
// if Side_Positions [ i ] then
10706: LD_EXP 74
10710: PUSH
10711: LD_VAR 0 2
10715: ARRAY
10716: IFFALSE 10807
// begin if Game_Type in GT_DoubleNat ^ GT_TripleNat then
10718: LD_EXP 1
10722: PUSH
10723: LD_EXP 3
10727: PUSH
10728: LD_EXP 5
10732: ADD
10733: IN
10734: IFFALSE 10773
// nations = replace ( nations , i , Position_Nations [ i ] diff 0 ) else
10736: LD_ADDR_LOC 5
10740: PUSH
10741: LD_LOC 5
10745: PPUSH
10746: LD_VAR 0 2
10750: PPUSH
10751: LD_EXP 52
10755: PUSH
10756: LD_VAR 0 2
10760: ARRAY
10761: PUSH
10762: LD_INT 0
10764: DIFF
10765: PPUSH
10766: CALL_OW 1
10770: ST_TO_ADDR
10771: GO 10807
// nations = replace ( nations , i , [ Side_Nations [ i ] ] ) ;
10773: LD_ADDR_LOC 5
10777: PUSH
10778: LD_LOC 5
10782: PPUSH
10783: LD_VAR 0 2
10787: PPUSH
10788: LD_EXP 75
10792: PUSH
10793: LD_VAR 0 2
10797: ARRAY
10798: PUSH
10799: EMPTY
10800: LIST
10801: PPUSH
10802: CALL_OW 1
10806: ST_TO_ADDR
// end ;
10807: GO 10703
10809: POP
10810: POP
// if Game_Type in GT_DoublePeople then
10811: LD_EXP 1
10815: PUSH
10816: LD_EXP 4
10820: IN
10821: IFFALSE 10839
// noposn = number_of_people * 2 else
10823: LD_ADDR_LOC 6
10827: PUSH
10828: LD_EXP 40
10832: PUSH
10833: LD_INT 2
10835: MUL
10836: ST_TO_ADDR
10837: GO 10849
// noposn = number_of_people ;
10839: LD_ADDR_LOC 6
10843: PUSH
10844: LD_EXP 40
10848: ST_TO_ADDR
// SetRespawningTime ( respawning_time_min , respawning_time_max , respawning_time_delay_min , respawning_time_delay_max ) ;
10849: LD_EXP 49
10853: PPUSH
10854: LD_EXP 51
10858: PPUSH
10859: LD_EXP 53
10863: PPUSH
10864: LD_EXP 54
10868: PPUSH
10869: CALL 11609 0 4
// end ;
10873: LD_VAR 0 1
10877: RET
// every 0 0$1 + 0 0$0.5 do var n , building_list , aktresp , b , skills , k ;
10878: GO 10880
10880: DISABLE
10881: LD_INT 0
10883: PPUSH
10884: PPUSH
10885: PPUSH
10886: PPUSH
10887: PPUSH
10888: PPUSH
// begin if def_respawining_type = 0 then
10889: LD_EXP 24
10893: PUSH
10894: LD_INT 0
10896: EQUAL
10897: IFFALSE 10903
// exit else
10899: GO 11308
10901: GO 11308
// if def_respawining_type in [ 2 , 3 ] then
10903: LD_EXP 24
10907: PUSH
10908: LD_INT 2
10910: PUSH
10911: LD_INT 3
10913: PUSH
10914: EMPTY
10915: LIST
10916: LIST
10917: IN
10918: IFFALSE 11274
// begin if respawn = 8 then
10920: LD_LOC 2
10924: PUSH
10925: LD_INT 8
10927: EQUAL
10928: IFFALSE 10974
// begin respawn := 1 ;
10930: LD_ADDR_LOC 2
10934: PUSH
10935: LD_INT 1
10937: ST_TO_ADDR
// if nation = 3 then
10938: LD_LOC 4
10942: PUSH
10943: LD_INT 3
10945: EQUAL
10946: IFFALSE 10958
// nation := 1 else
10948: LD_ADDR_LOC 4
10952: PUSH
10953: LD_INT 1
10955: ST_TO_ADDR
10956: GO 10972
// nation := nation + 1 ;
10958: LD_ADDR_LOC 4
10962: PUSH
10963: LD_LOC 4
10967: PUSH
10968: LD_INT 1
10970: PLUS
10971: ST_TO_ADDR
// end else
10972: GO 10988
// respawn := respawn + 1 ;
10974: LD_ADDR_LOC 2
10978: PUSH
10979: LD_LOC 2
10983: PUSH
10984: LD_INT 1
10986: PLUS
10987: ST_TO_ADDR
// if Side_Positions [ respawn ] then
10988: LD_EXP 74
10992: PUSH
10993: LD_LOC 2
10997: ARRAY
10998: IFFALSE 11271
// begin if nation in nations [ respawn ] then
11000: LD_LOC 4
11004: PUSH
11005: LD_LOC 5
11009: PUSH
11010: LD_LOC 2
11014: ARRAY
11015: IN
11016: IFFALSE 11268
// begin if def_desert_warior < 2 then
11018: LD_EXP 31
11022: PUSH
11023: LD_INT 2
11025: LESS
11026: IFFALSE 11079
// n := FilterAllUnits ( [ [ f_type , unit_human ] , [ f_side , respawn ] , [ f_nation , nation ] , ] ) else
11028: LD_ADDR_VAR 0 1
11032: PUSH
11033: LD_INT 21
11035: PUSH
11036: LD_INT 1
11038: PUSH
11039: EMPTY
11040: LIST
11041: LIST
11042: PUSH
11043: LD_INT 22
11045: PUSH
11046: LD_LOC 2
11050: PUSH
11051: EMPTY
11052: LIST
11053: LIST
11054: PUSH
11055: LD_INT 23
11057: PUSH
11058: LD_LOC 4
11062: PUSH
11063: EMPTY
11064: LIST
11065: LIST
11066: PUSH
11067: EMPTY
11068: LIST
11069: LIST
11070: LIST
11071: PPUSH
11072: CALL_OW 69
11076: ST_TO_ADDR
11077: GO 11143
// n := FilterAllUnits ( [ [ f_type , unit_human ] , [ f_side , respawn ] , [ f_nation , nation ] , f_not , [ f_class , class_desert_warior ] , ] ) ;
11079: LD_ADDR_VAR 0 1
11083: PUSH
11084: LD_INT 21
11086: PUSH
11087: LD_INT 1
11089: PUSH
11090: EMPTY
11091: LIST
11092: LIST
11093: PUSH
11094: LD_INT 22
11096: PUSH
11097: LD_LOC 2
11101: PUSH
11102: EMPTY
11103: LIST
11104: LIST
11105: PUSH
11106: LD_INT 23
11108: PUSH
11109: LD_LOC 4
11113: PUSH
11114: EMPTY
11115: LIST
11116: LIST
11117: PUSH
11118: LD_INT 3
11120: PUSH
11121: LD_INT 25
11123: PUSH
11124: LD_INT 11
11126: PUSH
11127: EMPTY
11128: LIST
11129: LIST
11130: PUSH
11131: EMPTY
11132: LIST
11133: LIST
11134: LIST
11135: LIST
11136: LIST
11137: PPUSH
11138: CALL_OW 69
11142: ST_TO_ADDR
// if ( n + inqueue [ respawn ] [ nation ] ) < noposn then
11143: LD_VAR 0 1
11147: PUSH
11148: LD_LOC 3
11152: PUSH
11153: LD_LOC 2
11157: ARRAY
11158: PUSH
11159: LD_LOC 4
11163: ARRAY
11164: PLUS
11165: PUSH
11166: LD_LOC 6
11170: LESS
11171: IFFALSE 11265
// begin aktresp := respawn ;
11173: LD_ADDR_VAR 0 3
11177: PUSH
11178: LD_LOC 2
11182: ST_TO_ADDR
// inqueue := Replace ( inqueue , aktresp , replace ( inqueue [ aktresp ] , nation , inqueue [ aktresp ] [ nation ] + 1 ) ) ;
11183: LD_ADDR_LOC 3
11187: PUSH
11188: LD_LOC 3
11192: PPUSH
11193: LD_VAR 0 3
11197: PPUSH
11198: LD_LOC 3
11202: PUSH
11203: LD_VAR 0 3
11207: ARRAY
11208: PPUSH
11209: LD_LOC 4
11213: PPUSH
11214: LD_LOC 3
11218: PUSH
11219: LD_VAR 0 3
11223: ARRAY
11224: PUSH
11225: LD_LOC 4
11229: ARRAY
11230: PUSH
11231: LD_INT 1
11233: PLUS
11234: PPUSH
11235: CALL_OW 1
11239: PPUSH
11240: CALL_OW 1
11244: ST_TO_ADDR
// enable ;
11245: ENABLE
// ObnovCloveka ( aktresp , nation , false ) ;
11246: LD_VAR 0 3
11250: PPUSH
11251: LD_LOC 4
11255: PPUSH
11256: LD_INT 0
11258: PPUSH
11259: CALL 11723 0 3
// end else
11263: GO 11266
// enable ;
11265: ENABLE
// end else
11266: GO 11269
// enable ;
11268: ENABLE
// end else
11269: GO 11272
// enable ;
11271: ENABLE
// end else
11272: GO 11308
// if def_respawining_type = 1 then
11274: LD_EXP 24
11278: PUSH
11279: LD_INT 1
11281: EQUAL
11282: IFFALSE 11308
// begin wait ( rand ( respawning_time_min , respawning_time_max ) ) ;
11284: LD_EXP 49
11288: PPUSH
11289: LD_EXP 51
11293: PPUSH
11294: CALL_OW 12
11298: PPUSH
11299: CALL_OW 67
// Vytvor_noveho_cloveka_pro_vsechny ;
11303: CALL 12808 0 0
// enable ;
11307: ENABLE
// end end ;
11308: PPOPN 6
11310: END
// export function OnHumanRespawned ( un ) ; var side , nation ; begin
11311: LD_INT 0
11313: PPUSH
11314: PPUSH
11315: PPUSH
// wait ( 0 0$30 ) ;
11316: LD_INT 1050
11318: PPUSH
11319: CALL_OW 67
// side = GetSide ( un ) ;
11323: LD_ADDR_VAR 0 3
11327: PUSH
11328: LD_VAR 0 1
11332: PPUSH
11333: CALL_OW 255
11337: ST_TO_ADDR
// nation = GetNation ( un ) ;
11338: LD_ADDR_VAR 0 4
11342: PUSH
11343: LD_VAR 0 1
11347: PPUSH
11348: CALL_OW 248
11352: ST_TO_ADDR
// inqueue := Replace ( inqueue , side , replace ( inqueue [ side ] , nation , inqueue [ side ] [ nation ] - 1 ) ) ;
11353: LD_ADDR_LOC 3
11357: PUSH
11358: LD_LOC 3
11362: PPUSH
11363: LD_VAR 0 3
11367: PPUSH
11368: LD_LOC 3
11372: PUSH
11373: LD_VAR 0 3
11377: ARRAY
11378: PPUSH
11379: LD_VAR 0 4
11383: PPUSH
11384: LD_LOC 3
11388: PUSH
11389: LD_VAR 0 3
11393: ARRAY
11394: PUSH
11395: LD_VAR 0 4
11399: ARRAY
11400: PUSH
11401: LD_INT 1
11403: MINUS
11404: PPUSH
11405: CALL_OW 1
11409: PPUSH
11410: CALL_OW 1
11414: ST_TO_ADDR
// end ;
11415: LD_VAR 0 2
11419: RET
// export function RespawnHumanDestroyed ( identifier , side , nation , x , y , direction , sex , cl ) ; begin
11420: LD_INT 0
11422: PPUSH
// if def_respawining_type < 2 then
11423: LD_EXP 24
11427: PUSH
11428: LD_INT 2
11430: LESS
11431: IFFALSE 11435
// exit ;
11433: GO 11604
// if nation = nation_nature or side = 0 then
11435: LD_VAR 0 3
11439: PUSH
11440: LD_INT 0
11442: EQUAL
11443: PUSH
11444: LD_VAR 0 2
11448: PUSH
11449: LD_INT 0
11451: EQUAL
11452: OR
11453: IFFALSE 11457
// exit ;
11455: GO 11604
// if not Side_Positions [ side ] then
11457: LD_EXP 74
11461: PUSH
11462: LD_VAR 0 2
11466: ARRAY
11467: NOT
11468: IFFALSE 11472
// exit ;
11470: GO 11604
// if def_desert_warior = 2 then
11472: LD_EXP 31
11476: PUSH
11477: LD_INT 2
11479: EQUAL
11480: IFFALSE 11494
// if cl = class_desert_warior then
11482: LD_VAR 0 8
11486: PUSH
11487: LD_INT 11
11489: EQUAL
11490: IFFALSE 11494
// exit ;
11492: GO 11604
// inqueue := Replace ( inqueue , side , replace ( inqueue [ side ] , nation , inqueue [ side ] [ nation ] + 1 ) ) ;
11494: LD_ADDR_LOC 3
11498: PUSH
11499: LD_LOC 3
11503: PPUSH
11504: LD_VAR 0 2
11508: PPUSH
11509: LD_LOC 3
11513: PUSH
11514: LD_VAR 0 2
11518: ARRAY
11519: PPUSH
11520: LD_VAR 0 3
11524: PPUSH
11525: LD_LOC 3
11529: PUSH
11530: LD_VAR 0 2
11534: ARRAY
11535: PUSH
11536: LD_VAR 0 3
11540: ARRAY
11541: PUSH
11542: LD_INT 1
11544: PLUS
11545: PPUSH
11546: CALL_OW 1
11550: PPUSH
11551: CALL_OW 1
11555: ST_TO_ADDR
// if def_respawining_type = 2 then
11556: LD_EXP 24
11560: PUSH
11561: LD_INT 2
11563: EQUAL
11564: IFFALSE 11587
// ObnovCloveka ( side , nation , identifier ) else
11566: LD_VAR 0 2
11570: PPUSH
11571: LD_VAR 0 3
11575: PPUSH
11576: LD_VAR 0 1
11580: PPUSH
11581: CALL 11723 0 3
11585: GO 11604
// ObnovCloveka ( side , nation , false ) ;
11587: LD_VAR 0 2
11591: PPUSH
11592: LD_VAR 0 3
11596: PPUSH
11597: LD_INT 0
11599: PPUSH
11600: CALL 11723 0 3
// end ;
11604: LD_VAR 0 9
11608: RET
// export ObnovCas , ObnovZpozdeni ; export function SetRespawningTime ( minBTime , maxBTime , MinDelay , MaxDelay ) ; var k ; begin
11609: LD_INT 0
11611: PPUSH
11612: PPUSH
// k = Rand ( minBTime , maxBTime ) ;
11613: LD_ADDR_VAR 0 6
11617: PUSH
11618: LD_VAR 0 1
11622: PPUSH
11623: LD_VAR 0 2
11627: PPUSH
11628: CALL_OW 12
11632: ST_TO_ADDR
// ObnovCas = [ k , k , k , k , k , k , k , k ] ;
11633: LD_ADDR_EXP 101
11637: PUSH
11638: LD_VAR 0 6
11642: PUSH
11643: LD_VAR 0 6
11647: PUSH
11648: LD_VAR 0 6
11652: PUSH
11653: LD_VAR 0 6
11657: PUSH
11658: LD_VAR 0 6
11662: PUSH
11663: LD_VAR 0 6
11667: PUSH
11668: LD_VAR 0 6
11672: PUSH
11673: LD_VAR 0 6
11677: PUSH
11678: EMPTY
11679: LIST
11680: LIST
11681: LIST
11682: LIST
11683: LIST
11684: LIST
11685: LIST
11686: LIST
11687: ST_TO_ADDR
// k = Rand ( minDelay , MaxDelay ) ;
11688: LD_ADDR_VAR 0 6
11692: PUSH
11693: LD_VAR 0 3
11697: PPUSH
11698: LD_VAR 0 4
11702: PPUSH
11703: CALL_OW 12
11707: ST_TO_ADDR
// ObnovZpozdeni = k ;
11708: LD_ADDR_EXP 102
11712: PUSH
11713: LD_VAR 0 6
11717: ST_TO_ADDR
// end ;
11718: LD_VAR 0 5
11722: RET
// export unit_list ; export function ObnovCloveka ( side , nation , restored ) ; var building_list , b , n , un , k , i , base_skills , speed , def ; begin
11723: LD_INT 0
11725: PPUSH
11726: PPUSH
11727: PPUSH
11728: PPUSH
11729: PPUSH
11730: PPUSH
11731: PPUSH
11732: PPUSH
11733: PPUSH
11734: PPUSH
// if ObnovCas [ side ] = 0 then
11735: LD_EXP 101
11739: PUSH
11740: LD_VAR 0 1
11744: ARRAY
11745: PUSH
11746: LD_INT 0
11748: EQUAL
11749: IFFALSE 11753
// exit ;
11751: GO 12398
// uc_nation := nation ;
11753: LD_ADDR_OWVAR 21
11757: PUSH
11758: LD_VAR 0 2
11762: ST_TO_ADDR
// uc_side := side ;
11763: LD_ADDR_OWVAR 20
11767: PUSH
11768: LD_VAR 0 1
11772: ST_TO_ADDR
// uc_direction := Rand ( 0 , 5 ) ;
11773: LD_ADDR_OWVAR 24
11777: PUSH
11778: LD_INT 0
11780: PPUSH
11781: LD_INT 5
11783: PPUSH
11784: CALL_OW 12
11788: ST_TO_ADDR
// if restored then
11789: LD_VAR 0 3
11793: IFFALSE 11876
// begin hc_class = GetClass ( restored ) ;
11795: LD_ADDR_OWVAR 28
11799: PUSH
11800: LD_VAR 0 3
11804: PPUSH
11805: CALL_OW 257
11809: ST_TO_ADDR
// hc_attr = [ GetAttr ( restored , attr_stamina ) , GetAttr ( restored , attr_speed ) ] ;
11810: LD_ADDR_OWVAR 29
11814: PUSH
11815: LD_VAR 0 3
11819: PPUSH
11820: LD_INT 1
11822: PPUSH
11823: CALL_OW 260
11827: PUSH
11828: LD_VAR 0 3
11832: PPUSH
11833: LD_INT 2
11835: PPUSH
11836: CALL_OW 260
11840: PUSH
11841: EMPTY
11842: LIST
11843: LIST
11844: ST_TO_ADDR
// if hc_class in [ class_sniper , class_bazooker , class_mortar ] then
11845: LD_OWVAR 28
11849: PUSH
11850: LD_INT 5
11852: PUSH
11853: LD_INT 9
11855: PUSH
11856: LD_INT 8
11858: PUSH
11859: EMPTY
11860: LIST
11861: LIST
11862: LIST
11863: IN
11864: IFFALSE 11874
// hc_class = class_soldier ;
11866: LD_ADDR_OWVAR 28
11870: PUSH
11871: LD_INT 1
11873: ST_TO_ADDR
// end else
11874: GO 11885
// randomHumanStats ( initial_level ) ;
11876: LD_EXP 42
11880: PPUSH
11881: CALL 17331 0 1
// hc_importance := 0 ;
11885: LD_ADDR_OWVAR 32
11889: PUSH
11890: LD_INT 0
11892: ST_TO_ADDR
// hc_gallery :=  ;
11893: LD_ADDR_OWVAR 33
11897: PUSH
11898: LD_STRING 
11900: ST_TO_ADDR
// hc_face_number := 0 ;
11901: LD_ADDR_OWVAR 34
11905: PUSH
11906: LD_INT 0
11908: ST_TO_ADDR
// hc_name =  ;
11909: LD_ADDR_OWVAR 26
11913: PUSH
11914: LD_STRING 
11916: ST_TO_ADDR
// un := CreateHuman ;
11917: LD_ADDR_VAR 0 8
11921: PUSH
11922: CALL_OW 44
11926: ST_TO_ADDR
// if restored then
11927: LD_VAR 0 3
11931: IFFALSE 11947
// CopySkills ( restored , un ) ;
11933: LD_VAR 0 3
11937: PPUSH
11938: LD_VAR 0 8
11942: PPUSH
11943: CALL_OW 510
// k = ObnovCas [ side ] + ObnovZpozdeni ;
11947: LD_ADDR_VAR 0 9
11951: PUSH
11952: LD_EXP 101
11956: PUSH
11957: LD_VAR 0 1
11961: ARRAY
11962: PUSH
11963: LD_EXP 102
11967: PLUS
11968: ST_TO_ADDR
// ObnovCas = Replace ( ObnovCas , side , k ) ;
11969: LD_ADDR_EXP 101
11973: PUSH
11974: LD_EXP 101
11978: PPUSH
11979: LD_VAR 0 1
11983: PPUSH
11984: LD_VAR 0 9
11988: PPUSH
11989: CALL_OW 1
11993: ST_TO_ADDR
// wait ( ObnovCas [ side ] - ObnovZpozdeni ) ;
11994: LD_EXP 101
11998: PUSH
11999: LD_VAR 0 1
12003: ARRAY
12004: PUSH
12005: LD_EXP 102
12009: MINUS
12010: PPUSH
12011: CALL_OW 67
// if not ( HasPower ( side ) ) then
12015: LD_VAR 0 1
12019: PPUSH
12020: CALL 13220 0 1
12024: NOT
12025: IFFALSE 12029
// exit ;
12027: GO 12398
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_ok ] , [ f_side , side ] , [ f_nation , nation ] ] ) ;
12029: LD_ADDR_VAR 0 5
12033: PUSH
12034: LD_INT 21
12036: PUSH
12037: LD_INT 3
12039: PUSH
12040: EMPTY
12041: LIST
12042: LIST
12043: PUSH
12044: LD_INT 2
12046: PUSH
12047: LD_INT 30
12049: PUSH
12050: LD_INT 0
12052: PUSH
12053: EMPTY
12054: LIST
12055: LIST
12056: PUSH
12057: LD_INT 30
12059: PUSH
12060: LD_INT 1
12062: PUSH
12063: EMPTY
12064: LIST
12065: LIST
12066: PUSH
12067: EMPTY
12068: LIST
12069: LIST
12070: LIST
12071: PUSH
12072: LD_INT 50
12074: PUSH
12075: EMPTY
12076: LIST
12077: PUSH
12078: LD_INT 22
12080: PUSH
12081: LD_VAR 0 1
12085: PUSH
12086: EMPTY
12087: LIST
12088: LIST
12089: PUSH
12090: LD_INT 23
12092: PUSH
12093: LD_VAR 0 2
12097: PUSH
12098: EMPTY
12099: LIST
12100: LIST
12101: PUSH
12102: EMPTY
12103: LIST
12104: LIST
12105: LIST
12106: LIST
12107: LIST
12108: PPUSH
12109: CALL_OW 69
12113: ST_TO_ADDR
// if building_list = 0 then
12114: LD_VAR 0 5
12118: PUSH
12119: LD_INT 0
12121: EQUAL
12122: IFFALSE 12196
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_ok ] , [ f_side , side ] ] ) ;
12124: LD_ADDR_VAR 0 5
12128: PUSH
12129: LD_INT 21
12131: PUSH
12132: LD_INT 3
12134: PUSH
12135: EMPTY
12136: LIST
12137: LIST
12138: PUSH
12139: LD_INT 2
12141: PUSH
12142: LD_INT 30
12144: PUSH
12145: LD_INT 0
12147: PUSH
12148: EMPTY
12149: LIST
12150: LIST
12151: PUSH
12152: LD_INT 30
12154: PUSH
12155: LD_INT 1
12157: PUSH
12158: EMPTY
12159: LIST
12160: LIST
12161: PUSH
12162: EMPTY
12163: LIST
12164: LIST
12165: LIST
12166: PUSH
12167: LD_INT 50
12169: PUSH
12170: EMPTY
12171: LIST
12172: PUSH
12173: LD_INT 22
12175: PUSH
12176: LD_VAR 0 1
12180: PUSH
12181: EMPTY
12182: LIST
12183: LIST
12184: PUSH
12185: EMPTY
12186: LIST
12187: LIST
12188: LIST
12189: LIST
12190: PPUSH
12191: CALL_OW 69
12195: ST_TO_ADDR
// if building_list = 0 then
12196: LD_VAR 0 5
12200: PUSH
12201: LD_INT 0
12203: EQUAL
12204: IFFALSE 12249
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_ok ] , [ f_side , side ] ] ) ;
12206: LD_ADDR_VAR 0 5
12210: PUSH
12211: LD_INT 21
12213: PUSH
12214: LD_INT 3
12216: PUSH
12217: EMPTY
12218: LIST
12219: LIST
12220: PUSH
12221: LD_INT 50
12223: PUSH
12224: EMPTY
12225: LIST
12226: PUSH
12227: LD_INT 22
12229: PUSH
12230: LD_VAR 0 1
12234: PUSH
12235: EMPTY
12236: LIST
12237: LIST
12238: PUSH
12239: EMPTY
12240: LIST
12241: LIST
12242: LIST
12243: PPUSH
12244: CALL_OW 69
12248: ST_TO_ADDR
// if building_list > 0 then
12249: LD_VAR 0 5
12253: PUSH
12254: LD_INT 0
12256: GREATER
12257: IFFALSE 12375
// begin b := building_list [ Rand ( 1 , building_list + 0 ) ] ;
12259: LD_ADDR_VAR 0 6
12263: PUSH
12264: LD_VAR 0 5
12268: PUSH
12269: LD_INT 1
12271: PPUSH
12272: LD_VAR 0 5
12276: PUSH
12277: LD_INT 0
12279: PLUS
12280: PPUSH
12281: CALL_OW 12
12285: ARRAY
12286: ST_TO_ADDR
// if GetBType ( b ) in [ b_depot , b_warehouse ] then
12287: LD_VAR 0 6
12291: PPUSH
12292: CALL_OW 266
12296: PUSH
12297: LD_INT 0
12299: PUSH
12300: LD_INT 1
12302: PUSH
12303: EMPTY
12304: LIST
12305: LIST
12306: IN
12307: IFFALSE 12319
// n = 25 else
12309: LD_ADDR_VAR 0 7
12313: PUSH
12314: LD_INT 25
12316: ST_TO_ADDR
12317: GO 12327
// n = 10 ;
12319: LD_ADDR_VAR 0 7
12323: PUSH
12324: LD_INT 10
12326: ST_TO_ADDR
// PlaceUnitXYR ( un , GetX ( b ) , GetY ( b ) , n , true ) ;
12327: LD_VAR 0 8
12331: PPUSH
12332: LD_VAR 0 6
12336: PPUSH
12337: CALL_OW 250
12341: PPUSH
12342: LD_VAR 0 6
12346: PPUSH
12347: CALL_OW 251
12351: PPUSH
12352: LD_VAR 0 7
12356: PPUSH
12357: LD_INT 1
12359: PPUSH
12360: CALL_OW 50
// OnHumanRespawned ( un ) ;
12364: LD_VAR 0 8
12368: PPUSH
12369: CALL 11311 0 1
// end else
12373: GO 12398
// begin ObnovOpozdilceCloveka ( un , side , k / 2 ) ;
12375: LD_VAR 0 8
12379: PPUSH
12380: LD_VAR 0 1
12384: PPUSH
12385: LD_VAR 0 9
12389: PUSH
12390: LD_INT 2
12392: DIVREAL
12393: PPUSH
12394: CALL 12403 0 3
// end ; end ;
12398: LD_VAR 0 4
12402: RET
// function ObnovOpozdilceCloveka ( un , side , waitTime ) ; var building_list , n , unit_list , b ; begin
12403: LD_INT 0
12405: PPUSH
12406: PPUSH
12407: PPUSH
12408: PPUSH
12409: PPUSH
// wait ( waitTime ) ;
12410: LD_VAR 0 3
12414: PPUSH
12415: CALL_OW 67
// if not ( HasPower ( side ) ) then
12419: LD_VAR 0 2
12423: PPUSH
12424: CALL 13220 0 1
12428: NOT
12429: IFFALSE 12433
// exit ;
12431: GO 12803
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_ok ] , [ f_side , side ] , [ f_nation , GetNation ( un ) ] ] ) ;
12433: LD_ADDR_VAR 0 5
12437: PUSH
12438: LD_INT 21
12440: PUSH
12441: LD_INT 3
12443: PUSH
12444: EMPTY
12445: LIST
12446: LIST
12447: PUSH
12448: LD_INT 2
12450: PUSH
12451: LD_INT 30
12453: PUSH
12454: LD_INT 0
12456: PUSH
12457: EMPTY
12458: LIST
12459: LIST
12460: PUSH
12461: LD_INT 30
12463: PUSH
12464: LD_INT 1
12466: PUSH
12467: EMPTY
12468: LIST
12469: LIST
12470: PUSH
12471: EMPTY
12472: LIST
12473: LIST
12474: LIST
12475: PUSH
12476: LD_INT 50
12478: PUSH
12479: EMPTY
12480: LIST
12481: PUSH
12482: LD_INT 22
12484: PUSH
12485: LD_VAR 0 2
12489: PUSH
12490: EMPTY
12491: LIST
12492: LIST
12493: PUSH
12494: LD_INT 23
12496: PUSH
12497: LD_VAR 0 1
12501: PPUSH
12502: CALL_OW 248
12506: PUSH
12507: EMPTY
12508: LIST
12509: LIST
12510: PUSH
12511: EMPTY
12512: LIST
12513: LIST
12514: LIST
12515: LIST
12516: LIST
12517: PPUSH
12518: CALL_OW 69
12522: ST_TO_ADDR
// if building_list = 0 then
12523: LD_VAR 0 5
12527: PUSH
12528: LD_INT 0
12530: EQUAL
12531: IFFALSE 12605
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_ok ] , [ f_side , side ] ] ) ;
12533: LD_ADDR_VAR 0 5
12537: PUSH
12538: LD_INT 21
12540: PUSH
12541: LD_INT 3
12543: PUSH
12544: EMPTY
12545: LIST
12546: LIST
12547: PUSH
12548: LD_INT 2
12550: PUSH
12551: LD_INT 30
12553: PUSH
12554: LD_INT 0
12556: PUSH
12557: EMPTY
12558: LIST
12559: LIST
12560: PUSH
12561: LD_INT 30
12563: PUSH
12564: LD_INT 1
12566: PUSH
12567: EMPTY
12568: LIST
12569: LIST
12570: PUSH
12571: EMPTY
12572: LIST
12573: LIST
12574: LIST
12575: PUSH
12576: LD_INT 50
12578: PUSH
12579: EMPTY
12580: LIST
12581: PUSH
12582: LD_INT 22
12584: PUSH
12585: LD_VAR 0 2
12589: PUSH
12590: EMPTY
12591: LIST
12592: LIST
12593: PUSH
12594: EMPTY
12595: LIST
12596: LIST
12597: LIST
12598: LIST
12599: PPUSH
12600: CALL_OW 69
12604: ST_TO_ADDR
// if building_list = 0 then
12605: LD_VAR 0 5
12609: PUSH
12610: LD_INT 0
12612: EQUAL
12613: IFFALSE 12658
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_ok ] , [ f_side , side ] ] ) ;
12615: LD_ADDR_VAR 0 5
12619: PUSH
12620: LD_INT 21
12622: PUSH
12623: LD_INT 3
12625: PUSH
12626: EMPTY
12627: LIST
12628: LIST
12629: PUSH
12630: LD_INT 50
12632: PUSH
12633: EMPTY
12634: LIST
12635: PUSH
12636: LD_INT 22
12638: PUSH
12639: LD_VAR 0 2
12643: PUSH
12644: EMPTY
12645: LIST
12646: LIST
12647: PUSH
12648: EMPTY
12649: LIST
12650: LIST
12651: LIST
12652: PPUSH
12653: CALL_OW 69
12657: ST_TO_ADDR
// if building_list > 0 then
12658: LD_VAR 0 5
12662: PUSH
12663: LD_INT 0
12665: GREATER
12666: IFFALSE 12784
// begin b := building_list [ Rand ( 1 , building_list + 0 ) ] ;
12668: LD_ADDR_VAR 0 8
12672: PUSH
12673: LD_VAR 0 5
12677: PUSH
12678: LD_INT 1
12680: PPUSH
12681: LD_VAR 0 5
12685: PUSH
12686: LD_INT 0
12688: PLUS
12689: PPUSH
12690: CALL_OW 12
12694: ARRAY
12695: ST_TO_ADDR
// if GetBType ( b ) in [ b_depot , b_warehouse ] then
12696: LD_VAR 0 8
12700: PPUSH
12701: CALL_OW 266
12705: PUSH
12706: LD_INT 0
12708: PUSH
12709: LD_INT 1
12711: PUSH
12712: EMPTY
12713: LIST
12714: LIST
12715: IN
12716: IFFALSE 12728
// n = 25 else
12718: LD_ADDR_VAR 0 6
12722: PUSH
12723: LD_INT 25
12725: ST_TO_ADDR
12726: GO 12736
// n = 10 ;
12728: LD_ADDR_VAR 0 6
12732: PUSH
12733: LD_INT 10
12735: ST_TO_ADDR
// PlaceUnitXYR ( un , GetX ( b ) , GetY ( b ) , n , true ) ;
12736: LD_VAR 0 1
12740: PPUSH
12741: LD_VAR 0 8
12745: PPUSH
12746: CALL_OW 250
12750: PPUSH
12751: LD_VAR 0 8
12755: PPUSH
12756: CALL_OW 251
12760: PPUSH
12761: LD_VAR 0 6
12765: PPUSH
12766: LD_INT 1
12768: PPUSH
12769: CALL_OW 50
// OnHumanRespawned ( un ) ;
12773: LD_VAR 0 1
12777: PPUSH
12778: CALL 11311 0 1
// end else
12782: GO 12803
// ObnovOpozdilceCloveka ( un , side , waitTime ) ;
12784: LD_VAR 0 1
12788: PPUSH
12789: LD_VAR 0 2
12793: PPUSH
12794: LD_VAR 0 3
12798: PPUSH
12799: CALL 12403 0 3
// end ;
12803: LD_VAR 0 4
12807: RET
// export function Vytvor_noveho_cloveka_pro_vsechny ; var nat , side , sidy , i , k ; begin
12808: LD_INT 0
12810: PPUSH
12811: PPUSH
12812: PPUSH
12813: PPUSH
12814: PPUSH
12815: PPUSH
// randomHumanStats ( initial_level ) ;
12816: LD_EXP 42
12820: PPUSH
12821: CALL 17331 0 1
// sidy = [ ] ;
12825: LD_ADDR_VAR 0 4
12829: PUSH
12830: EMPTY
12831: ST_TO_ADDR
// for i = 1 to Side_positions + 0 do
12832: LD_ADDR_VAR 0 5
12836: PUSH
12837: DOUBLE
12838: LD_INT 1
12840: DEC
12841: ST_TO_ADDR
12842: LD_EXP 74
12846: PUSH
12847: LD_INT 0
12849: PLUS
12850: PUSH
12851: FOR_TO
12852: IFFALSE 12920
// if Side_positions [ i ] > 0 then
12854: LD_EXP 74
12858: PUSH
12859: LD_VAR 0 5
12863: ARRAY
12864: PUSH
12865: LD_INT 0
12867: GREATER
12868: IFFALSE 12918
// if HasPower ( i ) then
12870: LD_VAR 0 5
12874: PPUSH
12875: CALL 13220 0 1
12879: IFFALSE 12918
// for k in nations [ i ] do
12881: LD_ADDR_VAR 0 6
12885: PUSH
12886: LD_LOC 5
12890: PUSH
12891: LD_VAR 0 5
12895: ARRAY
12896: PUSH
12897: FOR_IN
12898: IFFALSE 12916
// vytvor_cloveka ( i , k ) ;
12900: LD_VAR 0 5
12904: PPUSH
12905: LD_VAR 0 6
12909: PPUSH
12910: CALL 12927 0 2
12914: GO 12897
12916: POP
12917: POP
12918: GO 12851
12920: POP
12921: POP
// end ;
12922: LD_VAR 0 1
12926: RET
// function vytvor_cloveka ( side , nat ) ; var pom ; begin
12927: LD_INT 0
12929: PPUSH
12930: PPUSH
// uc_side = side ;
12931: LD_ADDR_OWVAR 20
12935: PUSH
12936: LD_VAR 0 1
12940: ST_TO_ADDR
// uc_nation = nat ;
12941: LD_ADDR_OWVAR 21
12945: PUSH
12946: LD_VAR 0 2
12950: ST_TO_ADDR
// hc_importance := 0 ;
12951: LD_ADDR_OWVAR 32
12955: PUSH
12956: LD_INT 0
12958: ST_TO_ADDR
// hc_gallery :=  ;
12959: LD_ADDR_OWVAR 33
12963: PUSH
12964: LD_STRING 
12966: ST_TO_ADDR
// hc_face_number := 0 ;
12967: LD_ADDR_OWVAR 34
12971: PUSH
12972: LD_INT 0
12974: ST_TO_ADDR
// hc_name =  ;
12975: LD_ADDR_OWVAR 26
12979: PUSH
12980: LD_STRING 
12982: ST_TO_ADDR
// PlaceUnitAnywhere ( CreateHuman , true ) ;
12983: CALL_OW 44
12987: PPUSH
12988: LD_INT 1
12990: PPUSH
12991: CALL_OW 51
// if game_type in GT_DoublePeople then
12995: LD_EXP 1
12999: PUSH
13000: LD_EXP 4
13004: IN
13005: IFFALSE 13019
// PlaceUnitAnywhere ( CreateHuman , true ) ;
13007: CALL_OW 44
13011: PPUSH
13012: LD_INT 1
13014: PPUSH
13015: CALL_OW 51
// end ; end_of_file
13019: LD_VAR 0 3
13023: RET
// var defeated , GameEnded , unfoged , defeated_specs ; export function Init_Win_Condition ; var i ; begin
13024: LD_INT 0
13026: PPUSH
13027: PPUSH
// enable ( 98 ) ;
13028: LD_INT 98
13030: ENABLE_MARKED
// GameEnded = false ;
13031: LD_ADDR_LOC 8
13035: PUSH
13036: LD_INT 0
13038: ST_TO_ADDR
// defeated = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
13039: LD_ADDR_LOC 7
13043: PUSH
13044: LD_INT 0
13046: PUSH
13047: LD_INT 0
13049: PUSH
13050: LD_INT 0
13052: PUSH
13053: LD_INT 0
13055: PUSH
13056: LD_INT 0
13058: PUSH
13059: LD_INT 0
13061: PUSH
13062: LD_INT 0
13064: PUSH
13065: LD_INT 0
13067: PUSH
13068: EMPTY
13069: LIST
13070: LIST
13071: LIST
13072: LIST
13073: LIST
13074: LIST
13075: LIST
13076: LIST
13077: ST_TO_ADDR
// unfoged = false ;
13078: LD_ADDR_LOC 9
13082: PUSH
13083: LD_INT 0
13085: ST_TO_ADDR
// defeated_specs := [ ] ;
13086: LD_ADDR_LOC 10
13090: PUSH
13091: EMPTY
13092: ST_TO_ADDR
// for i = 1 to side_positions do
13093: LD_ADDR_VAR 0 2
13097: PUSH
13098: DOUBLE
13099: LD_INT 1
13101: DEC
13102: ST_TO_ADDR
13103: LD_EXP 74
13107: PUSH
13108: FOR_TO
13109: IFFALSE 13149
// if not side_positions [ i ] then
13111: LD_EXP 74
13115: PUSH
13116: LD_VAR 0 2
13120: ARRAY
13121: NOT
13122: IFFALSE 13147
// defeated = replace ( defeated , i , true ) ;
13124: LD_ADDR_LOC 7
13128: PUSH
13129: LD_LOC 7
13133: PPUSH
13134: LD_VAR 0 2
13138: PPUSH
13139: LD_INT 1
13141: PPUSH
13142: CALL_OW 1
13146: ST_TO_ADDR
13147: GO 13108
13149: POP
13150: POP
// end ;
13151: LD_VAR 0 1
13155: RET
// function CanWinLoose ; begin
13156: LD_INT 0
13158: PPUSH
// Result := true ;
13159: LD_ADDR_VAR 0 1
13163: PUSH
13164: LD_INT 1
13166: ST_TO_ADDR
// if IAmServer and PlayerCount > 0 then
13167: CALL_OW 518
13171: PUSH
13172: CALL_OW 519
13176: PUSH
13177: LD_INT 0
13179: GREATER
13180: AND
13181: IFFALSE 13191
// Result := false ;
13183: LD_ADDR_VAR 0 1
13187: PUSH
13188: LD_INT 0
13190: ST_TO_ADDR
// if IAmSpec and PlayerCount > 1 then
13191: CALL_OW 531
13195: PUSH
13196: CALL_OW 519
13200: PUSH
13201: LD_INT 1
13203: GREATER
13204: AND
13205: IFFALSE 13215
// Result := false ;
13207: LD_ADDR_VAR 0 1
13211: PUSH
13212: LD_INT 0
13214: ST_TO_ADDR
// end ;
13215: LD_VAR 0 1
13219: RET
// export function HasPower ( i ) ; var k , h ; begin
13220: LD_INT 0
13222: PPUSH
13223: PPUSH
13224: PPUSH
// if not MultiplayerSideAlive ( i ) and not Side_Comps [ i ] and MultiPlayer then
13225: LD_VAR 0 1
13229: PPUSH
13230: CALL_OW 108
13234: NOT
13235: PUSH
13236: LD_EXP 77
13240: PUSH
13241: LD_VAR 0 1
13245: ARRAY
13246: NOT
13247: AND
13248: PUSH
13249: LD_OWVAR 4
13253: AND
13254: IFFALSE 13266
// begin result = false ;
13256: LD_ADDR_VAR 0 2
13260: PUSH
13261: LD_INT 0
13263: ST_TO_ADDR
// end else
13264: GO 13561
// case def_win_rules of 0 :
13266: LD_EXP 21
13270: PUSH
13271: LD_INT 0
13273: DOUBLE
13274: EQUAL
13275: IFTRUE 13279
13277: GO 13442
13279: POP
// if def_people_respawning then
13280: LD_EXP 25
13284: IFFALSE 13375
// Result := FilterAllUnits ( [ [ f_side , i ] , [ f_or , [ f_type , unit_human ] , [ f_control , control_computer ] , [ f_control , control_apeman ] , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) else
13286: LD_ADDR_VAR 0 2
13290: PUSH
13291: LD_INT 22
13293: PUSH
13294: LD_VAR 0 1
13298: PUSH
13299: EMPTY
13300: LIST
13301: LIST
13302: PUSH
13303: LD_INT 2
13305: PUSH
13306: LD_INT 21
13308: PUSH
13309: LD_INT 1
13311: PUSH
13312: EMPTY
13313: LIST
13314: LIST
13315: PUSH
13316: LD_INT 33
13318: PUSH
13319: LD_INT 3
13321: PUSH
13322: EMPTY
13323: LIST
13324: LIST
13325: PUSH
13326: LD_INT 33
13328: PUSH
13329: LD_INT 5
13331: PUSH
13332: EMPTY
13333: LIST
13334: LIST
13335: PUSH
13336: LD_INT 30
13338: PUSH
13339: LD_INT 0
13341: PUSH
13342: EMPTY
13343: LIST
13344: LIST
13345: PUSH
13346: LD_INT 30
13348: PUSH
13349: LD_INT 1
13351: PUSH
13352: EMPTY
13353: LIST
13354: LIST
13355: PUSH
13356: EMPTY
13357: LIST
13358: LIST
13359: LIST
13360: LIST
13361: LIST
13362: LIST
13363: PUSH
13364: EMPTY
13365: LIST
13366: LIST
13367: PPUSH
13368: CALL_OW 69
13372: ST_TO_ADDR
13373: GO 13440
// Result := FilterAllUnits ( [ [ f_side , i ] , [ f_or , [ f_type , unit_human ] , [ f_control , control_computer ] , [ f_control , control_apeman ] ] ] ) ; 1 :
13375: LD_ADDR_VAR 0 2
13379: PUSH
13380: LD_INT 22
13382: PUSH
13383: LD_VAR 0 1
13387: PUSH
13388: EMPTY
13389: LIST
13390: LIST
13391: PUSH
13392: LD_INT 2
13394: PUSH
13395: LD_INT 21
13397: PUSH
13398: LD_INT 1
13400: PUSH
13401: EMPTY
13402: LIST
13403: LIST
13404: PUSH
13405: LD_INT 33
13407: PUSH
13408: LD_INT 3
13410: PUSH
13411: EMPTY
13412: LIST
13413: LIST
13414: PUSH
13415: LD_INT 33
13417: PUSH
13418: LD_INT 5
13420: PUSH
13421: EMPTY
13422: LIST
13423: LIST
13424: PUSH
13425: EMPTY
13426: LIST
13427: LIST
13428: LIST
13429: LIST
13430: PUSH
13431: EMPTY
13432: LIST
13433: LIST
13434: PPUSH
13435: CALL_OW 69
13439: ST_TO_ADDR
13440: GO 13561
13442: LD_INT 1
13444: DOUBLE
13445: EQUAL
13446: IFTRUE 13450
13448: GO 13489
13450: POP
// Result = FilterAllUnits ( [ [ f_side , i ] , [ f_type , unit_human ] ] ) ; 2 :
13451: LD_ADDR_VAR 0 2
13455: PUSH
13456: LD_INT 22
13458: PUSH
13459: LD_VAR 0 1
13463: PUSH
13464: EMPTY
13465: LIST
13466: LIST
13467: PUSH
13468: LD_INT 21
13470: PUSH
13471: LD_INT 1
13473: PUSH
13474: EMPTY
13475: LIST
13476: LIST
13477: PUSH
13478: EMPTY
13479: LIST
13480: LIST
13481: PPUSH
13482: CALL_OW 69
13486: ST_TO_ADDR
13487: GO 13561
13489: LD_INT 2
13491: DOUBLE
13492: EQUAL
13493: IFTRUE 13497
13495: GO 13560
13497: POP
// begin h = false ;
13498: LD_ADDR_VAR 0 4
13502: PUSH
13503: LD_INT 0
13505: ST_TO_ADDR
// for k in heroes [ i ] do
13506: LD_ADDR_VAR 0 3
13510: PUSH
13511: LD_EXP 50
13515: PUSH
13516: LD_VAR 0 1
13520: ARRAY
13521: PUSH
13522: FOR_IN
13523: IFFALSE 13546
// if IsLive ( k ) then
13525: LD_VAR 0 3
13529: PPUSH
13530: CALL_OW 300
13534: IFFALSE 13544
// h = true ;
13536: LD_ADDR_VAR 0 4
13540: PUSH
13541: LD_INT 1
13543: ST_TO_ADDR
13544: GO 13522
13546: POP
13547: POP
// Result := h ;
13548: LD_ADDR_VAR 0 2
13552: PUSH
13553: LD_VAR 0 4
13557: ST_TO_ADDR
// end ; end ;
13558: GO 13561
13560: POP
// end ;
13561: LD_VAR 0 2
13565: RET
// function AlliedSides ( i , j ) ; begin
13566: LD_INT 0
13568: PPUSH
// Result := false ;
13569: LD_ADDR_VAR 0 3
13573: PUSH
13574: LD_INT 0
13576: ST_TO_ADDR
// if ( GetAttitude ( i , j ) = att_friend ) and ( GetAttitude ( j , i ) = att_friend ) and GetAlliedVictory ( i ) and GetAlliedVictory ( j ) then
13577: LD_VAR 0 1
13581: PPUSH
13582: LD_VAR 0 2
13586: PPUSH
13587: CALL_OW 81
13591: PUSH
13592: LD_INT 1
13594: EQUAL
13595: PUSH
13596: LD_VAR 0 2
13600: PPUSH
13601: LD_VAR 0 1
13605: PPUSH
13606: CALL_OW 81
13610: PUSH
13611: LD_INT 1
13613: EQUAL
13614: AND
13615: PUSH
13616: LD_VAR 0 1
13620: PPUSH
13621: CALL_OW 83
13625: AND
13626: PUSH
13627: LD_VAR 0 2
13631: PPUSH
13632: CALL_OW 83
13636: AND
13637: IFFALSE 13647
// Result := true ;
13639: LD_ADDR_VAR 0 3
13643: PUSH
13644: LD_INT 1
13646: ST_TO_ADDR
// end ;
13647: LD_VAR 0 3
13651: RET
// every 100 trigger CanWinLoose and not GameEnded marked 400 do
13652: CALL 13156 0 0
13656: PUSH
13657: LD_LOC 8
13661: NOT
13662: AND
13663: IFFALSE 13679
13665: GO 13667
13667: DISABLE
// WaitServerStrings = [ #Player-Ended ] ;
13668: LD_ADDR_EXP 106
13672: PUSH
13673: LD_STRING #Player-Ended
13675: PUSH
13676: EMPTY
13677: LIST
13678: ST_TO_ADDR
13679: END
// every 100 trigger CanWinLoose and GameEnded marked 400 do
13680: CALL 13156 0 0
13684: PUSH
13685: LD_LOC 8
13689: AND
13690: IFFALSE 13699
13692: GO 13694
13694: DISABLE
// YouLostInMultiplayer ;
13695: CALL_OW 107
13699: END
// every 100 trigger not CanWinLoose and not IAmSpec marked 400 do
13700: CALL 13156 0 0
13704: NOT
13705: PUSH
13706: CALL_OW 531
13710: NOT
13711: AND
13712: IFFALSE 13728
13714: GO 13716
13716: DISABLE
// WaitServerStrings = [ #server-wait ] ;
13717: LD_ADDR_EXP 106
13721: PUSH
13722: LD_STRING #server-wait
13724: PUSH
13725: EMPTY
13726: LIST
13727: ST_TO_ADDR
13728: END
// every 100 trigger IAmSpec do
13729: CALL_OW 531
13733: IFFALSE 13749
13735: GO 13737
13737: DISABLE
// WaitServerStrings = [ #Player-IAmSpec ] ;
13738: LD_ADDR_EXP 106
13742: PUSH
13743: LD_STRING #Player-IAmSpec
13745: PUSH
13746: EMPTY
13747: LIST
13748: ST_TO_ADDR
13749: END
// every 100 trigger GameEnded and IAmSpec do
13750: LD_LOC 8
13754: PUSH
13755: CALL_OW 531
13759: AND
13760: IFFALSE 13769
13762: GO 13764
13764: DISABLE
// YouLostInMultiplayer ;
13765: CALL_OW 107
13769: END
// every 100 trigger CanWinLoose and not GameEnded marked 401 do
13770: CALL 13156 0 0
13774: PUSH
13775: LD_LOC 8
13779: NOT
13780: AND
13781: IFFALSE 13797
13783: GO 13785
13785: DISABLE
// WaitServerStrings = [ $player-win ] ;
13786: LD_ADDR_EXP 106
13790: PUSH
13791: LD_STRING $player-win
13793: PUSH
13794: EMPTY
13795: LIST
13796: ST_TO_ADDR
13797: END
// every 100 trigger CanWinLoose and GameEnded marked 401 do
13798: CALL 13156 0 0
13802: PUSH
13803: LD_LOC 8
13807: AND
13808: IFFALSE 13832
13810: GO 13812
13812: DISABLE
// begin SA_Win ( Side_Nations [ mp_player_side ] ) ;
13813: LD_EXP 75
13817: PUSH
13818: LD_OWVAR 7
13822: ARRAY
13823: PPUSH
13824: CALL 34522 0 1
// YouWinInMultiplayer ;
13828: CALL_OW 106
// end ;
13832: END
// every 100 trigger isEditor marked 401 do
13833: LD_OWVAR 84
13837: IFFALSE 13853
13839: GO 13841
13841: DISABLE
// Debug_Strings = [ You won ] ;
13842: LD_ADDR_OWVAR 48
13846: PUSH
13847: LD_STRING You won
13849: PUSH
13850: EMPTY
13851: LIST
13852: ST_TO_ADDR
13853: END
// every 100 trigger isEditor marked 400 do
13854: LD_OWVAR 84
13858: IFFALSE 13874
13860: GO 13862
13862: DISABLE
// Debug_Strings = [ You loss ] ;
13863: LD_ADDR_OWVAR 48
13867: PUSH
13868: LD_STRING You loss
13870: PUSH
13871: EMPTY
13872: LIST
13873: ST_TO_ADDR
13874: END
// every 100 marked 98 do var i , un ;
13875: GO 13877
13877: DISABLE
13878: LD_INT 0
13880: PPUSH
13881: PPUSH
// begin for i = 1 to side_positions do
13882: LD_ADDR_VAR 0 1
13886: PUSH
13887: DOUBLE
13888: LD_INT 1
13890: DEC
13891: ST_TO_ADDR
13892: LD_EXP 74
13896: PUSH
13897: FOR_TO
13898: IFFALSE 13985
// begin if side_positions [ i ] then
13900: LD_EXP 74
13904: PUSH
13905: LD_VAR 0 1
13909: ARRAY
13910: IFFALSE 13983
// if not HasPower ( i ) and not defeated [ i ] then
13912: LD_VAR 0 1
13916: PPUSH
13917: CALL 13220 0 1
13921: NOT
13922: PUSH
13923: LD_LOC 7
13927: PUSH
13928: LD_VAR 0 1
13932: ARRAY
13933: NOT
13934: AND
13935: IFFALSE 13983
// begin defeated = replace ( defeated , i , true ) ;
13937: LD_ADDR_LOC 7
13941: PUSH
13942: LD_LOC 7
13946: PPUSH
13947: LD_VAR 0 1
13951: PPUSH
13952: LD_INT 1
13954: PPUSH
13955: CALL_OW 1
13959: ST_TO_ADDR
// if i = mp_player_side then
13960: LD_VAR 0 1
13964: PUSH
13965: LD_OWVAR 7
13969: EQUAL
13970: IFFALSE 13983
// begin Multiplayer_Loose_Message ;
13972: CALL_OW 521
// SetPlayerSpectator ( ) ;
13976: CALL_OW 572
// enable ( 400 ) ;
13980: LD_INT 400
13982: ENABLE_MARKED
// end ; end ; end ;
13983: GO 13897
13985: POP
13986: POP
// DidGameEnd ;
13987: CALL 14002 0 0
// if not GameEnded then
13991: LD_LOC 8
13995: NOT
13996: IFFALSE 13999
// enable ;
13998: ENABLE
// end ;
13999: PPOPN 2
14001: END
// function DidGameEnd ; var i , k , enemy ; begin
14002: LD_INT 0
14004: PPUSH
14005: PPUSH
14006: PPUSH
14007: PPUSH
// enemy = [ ] ;
14008: LD_ADDR_VAR 0 4
14012: PUSH
14013: EMPTY
14014: ST_TO_ADDR
// for i = 1 to side_positions do
14015: LD_ADDR_VAR 0 2
14019: PUSH
14020: DOUBLE
14021: LD_INT 1
14023: DEC
14024: ST_TO_ADDR
14025: LD_EXP 74
14029: PUSH
14030: FOR_TO
14031: IFFALSE 14125
// if not defeated [ i ] then
14033: LD_LOC 7
14037: PUSH
14038: LD_VAR 0 2
14042: ARRAY
14043: NOT
14044: IFFALSE 14123
// for k = 1 to side_positions do
14046: LD_ADDR_VAR 0 3
14050: PUSH
14051: DOUBLE
14052: LD_INT 1
14054: DEC
14055: ST_TO_ADDR
14056: LD_EXP 74
14060: PUSH
14061: FOR_TO
14062: IFFALSE 14121
// if not defeated [ k ] then
14064: LD_LOC 7
14068: PUSH
14069: LD_VAR 0 3
14073: ARRAY
14074: NOT
14075: IFFALSE 14119
// if not AlliedSides ( i , k ) then
14077: LD_VAR 0 2
14081: PPUSH
14082: LD_VAR 0 3
14086: PPUSH
14087: CALL 13566 0 2
14091: NOT
14092: IFFALSE 14119
// enemy = enemy ^ [ i , k ] ;
14094: LD_ADDR_VAR 0 4
14098: PUSH
14099: LD_VAR 0 4
14103: PUSH
14104: LD_VAR 0 2
14108: PUSH
14109: LD_VAR 0 3
14113: PUSH
14114: EMPTY
14115: LIST
14116: LIST
14117: ADD
14118: ST_TO_ADDR
14119: GO 14061
14121: POP
14122: POP
14123: GO 14030
14125: POP
14126: POP
// if not enemy then
14127: LD_VAR 0 4
14131: NOT
14132: IFFALSE 14158
// begin GameEnded = true ;
14134: LD_ADDR_LOC 8
14138: PUSH
14139: LD_INT 1
14141: ST_TO_ADDR
// if not defeated [ mp_player_side ] then
14142: LD_LOC 7
14146: PUSH
14147: LD_OWVAR 7
14151: ARRAY
14152: NOT
14153: IFFALSE 14158
// enable ( 401 ) ;
14155: LD_INT 401
14157: ENABLE_MARKED
// end ; end ;
14158: LD_VAR 0 1
14162: RET
// function unfog ; var k , friends ; begin
14163: LD_INT 0
14165: PPUSH
14166: PPUSH
14167: PPUSH
// for k = 1 to side_positions do
14168: LD_ADDR_VAR 0 2
14172: PUSH
14173: DOUBLE
14174: LD_INT 1
14176: DEC
14177: ST_TO_ADDR
14178: LD_EXP 74
14182: PUSH
14183: FOR_TO
14184: IFFALSE 14240
// if not defeated [ k ] then
14186: LD_LOC 7
14190: PUSH
14191: LD_VAR 0 2
14195: ARRAY
14196: NOT
14197: IFFALSE 14238
// if GetAttitude ( mp_player_side , k ) in [ att_friend ] then
14199: LD_OWVAR 7
14203: PPUSH
14204: LD_VAR 0 2
14208: PPUSH
14209: CALL_OW 81
14213: PUSH
14214: LD_INT 1
14216: PUSH
14217: EMPTY
14218: LIST
14219: IN
14220: IFFALSE 14238
// friends = friends ^ k ;
14222: LD_ADDR_VAR 0 3
14226: PUSH
14227: LD_VAR 0 3
14231: PUSH
14232: LD_VAR 0 2
14236: ADD
14237: ST_TO_ADDR
14238: GO 14183
14240: POP
14241: POP
// if not friends then
14242: LD_VAR 0 3
14246: NOT
14247: IFFALSE 14261
// begin SetPlayerSpectator ( ) ;
14249: CALL_OW 572
// unfoged = true ;
14253: LD_ADDR_LOC 9
14257: PUSH
14258: LD_INT 1
14260: ST_TO_ADDR
// end ; end ;
14261: LD_VAR 0 1
14265: RET
// export function MakeGameEnd ; begin
14266: LD_INT 0
14268: PPUSH
// SetPlayerSpectator ( ) ;
14269: CALL_OW 572
// unfoged = true ;
14273: LD_ADDR_LOC 9
14277: PUSH
14278: LD_INT 1
14280: ST_TO_ADDR
// wait ( 0 0$5 ) ;
14281: LD_INT 175
14283: PPUSH
14284: CALL_OW 67
// GameEnded = true ;
14288: LD_ADDR_LOC 8
14292: PUSH
14293: LD_INT 1
14295: ST_TO_ADDR
// end ;
14296: LD_VAR 0 1
14300: RET
// export function GetGameEnded ; begin
14301: LD_INT 0
14303: PPUSH
// result = GameEnded ;
14304: LD_ADDR_VAR 0 1
14308: PUSH
14309: LD_LOC 8
14313: ST_TO_ADDR
// end ; end_of_file
14314: LD_VAR 0 1
14318: RET
// var nations , amount_of_players ; export ApesAreas ; function apeman_init ; var ape_names ; begin
14319: LD_INT 0
14321: PPUSH
14322: PPUSH
// uc_side := 0 ;
14323: LD_ADDR_OWVAR 20
14327: PUSH
14328: LD_INT 0
14330: ST_TO_ADDR
// uc_nation := nation_nature ;
14331: LD_ADDR_OWVAR 21
14335: PUSH
14336: LD_INT 0
14338: ST_TO_ADDR
// ape_names = [ Tupoun , Opoce , Opka , Butrus , Bubu , Condor , Kuklajs , Simon , Ugh , Urgh , Argh , Aargh , Hrumph , Grumph , Oorg , Eghrr , Rrrr , Bark , Wraughrr , :-) , Semik , Hrgh , Hur , Havran , Nazghul , Brutal , Kato Zluta Opoce , Monkey , Yeargh , Marta , Batman , Barkman , Xcenovsk , David Love , Freon , Stoupik , Quik , Jam Prckovic Laren , CFC , Kvakous , Sumys , Agent , Nazghul , Havran , Vrana , Havranek , Carlos Frank , Tekar , Andy , Angela , Janina , Shipanze , Simpan , Nazghulik , Potrusil , Potrus , Butrus , Potrusil , Simon , Auuu , NEMO , Silena opice , Meuznenapadazadnejmeno , Uhrun , Marmelada , Negr , Fnuk , Slim , Kvak , Dave , Bruntal , Arnie , Polda , Jen , Siddha , Silnickar , Bukvice , Zalud , Elvis , Nazghul , Chruadfa , Nazghul , Kato Yellow Ape , Cpt. Ape , King Of The Hill , Pterinochilus , Bad Platypus , Really Bad Ape , Looser , Looser , Looser , Megadeth , Mad Ape , Wraughhhh , ":) ] ;
14339: LD_ADDR_VAR 0 2
14343: PUSH
14344: LD_STRING Tupoun
14346: PUSH
14347: LD_STRING Opoce
14349: PUSH
14350: LD_STRING Opka
14352: PUSH
14353: LD_STRING Butrus
14355: PUSH
14356: LD_STRING Bubu
14358: PUSH
14359: LD_STRING Condor
14361: PUSH
14362: LD_STRING Kuklajs
14364: PUSH
14365: LD_STRING Simon
14367: PUSH
14368: LD_STRING Ugh
14370: PUSH
14371: LD_STRING Urgh
14373: PUSH
14374: LD_STRING Argh
14376: PUSH
14377: LD_STRING Aargh
14379: PUSH
14380: LD_STRING Hrumph
14382: PUSH
14383: LD_STRING Grumph
14385: PUSH
14386: LD_STRING Oorg
14388: PUSH
14389: LD_STRING Eghrr
14391: PUSH
14392: LD_STRING Rrrr
14394: PUSH
14395: LD_STRING Bark
14397: PUSH
14398: LD_STRING Wraughrr
14400: PUSH
14401: LD_STRING :-)
14403: PUSH
14404: LD_STRING Semik
14406: PUSH
14407: LD_STRING Hrgh
14409: PUSH
14410: LD_STRING Hur
14412: PUSH
14413: LD_STRING Havran
14415: PUSH
14416: LD_STRING Nazghul
14418: PUSH
14419: LD_STRING Brutal
14421: PUSH
14422: LD_STRING Kato Zluta Opoce
14424: PUSH
14425: LD_STRING Monkey
14427: PUSH
14428: LD_STRING Yeargh
14430: PUSH
14431: LD_STRING Marta
14433: PUSH
14434: LD_STRING Batman
14436: PUSH
14437: LD_STRING Barkman
14439: PUSH
14440: LD_STRING Xcenovsk
14442: PUSH
14443: LD_STRING David Love
14445: PUSH
14446: LD_STRING Freon
14448: PUSH
14449: LD_STRING Stoupik
14451: PUSH
14452: LD_STRING Quik
14454: PUSH
14455: LD_STRING Jam Prckovic Laren
14457: PUSH
14458: LD_STRING CFC
14460: PUSH
14461: LD_STRING Kvakous
14463: PUSH
14464: LD_STRING Sumys
14466: PUSH
14467: LD_STRING Agent
14469: PUSH
14470: LD_STRING Nazghul
14472: PUSH
14473: LD_STRING Havran
14475: PUSH
14476: LD_STRING Vrana
14478: PUSH
14479: LD_STRING Havranek
14481: PUSH
14482: LD_STRING Carlos Frank
14484: PUSH
14485: LD_STRING Tekar
14487: PUSH
14488: LD_STRING Andy
14490: PUSH
14491: LD_STRING Angela
14493: PUSH
14494: LD_STRING Janina
14496: PUSH
14497: LD_STRING Shipanze
14499: PUSH
14500: LD_STRING Simpan
14502: PUSH
14503: LD_STRING Nazghulik
14505: PUSH
14506: LD_STRING Potrusil
14508: PUSH
14509: LD_STRING Potrus
14511: PUSH
14512: LD_STRING Butrus
14514: PUSH
14515: LD_STRING Potrusil
14517: PUSH
14518: LD_STRING Simon
14520: PUSH
14521: LD_STRING Auuu
14523: PUSH
14524: LD_STRING NEMO
14526: PUSH
14527: LD_STRING Silena opice
14529: PUSH
14530: LD_STRING Meuznenapadazadnejmeno
14532: PUSH
14533: LD_STRING Uhrun
14535: PUSH
14536: LD_STRING Marmelada
14538: PUSH
14539: LD_STRING Negr
14541: PUSH
14542: LD_STRING Fnuk
14544: PUSH
14545: LD_STRING Slim
14547: PUSH
14548: LD_STRING Kvak
14550: PUSH
14551: LD_STRING Dave
14553: PUSH
14554: LD_STRING Bruntal
14556: PUSH
14557: LD_STRING Arnie
14559: PUSH
14560: LD_STRING Polda
14562: PUSH
14563: LD_STRING Jen
14565: PUSH
14566: LD_STRING Siddha
14568: PUSH
14569: LD_STRING Silnickar
14571: PUSH
14572: LD_STRING Bukvice
14574: PUSH
14575: LD_STRING Zalud
14577: PUSH
14578: LD_STRING Elvis
14580: PUSH
14581: LD_STRING Nazghul
14583: PUSH
14584: LD_STRING Chruadfa
14586: PUSH
14587: LD_STRING Nazghul
14589: PUSH
14590: LD_STRING Kato Yellow Ape
14592: PUSH
14593: LD_STRING Cpt. Ape
14595: PUSH
14596: LD_STRING King Of The Hill
14598: PUSH
14599: LD_STRING Pterinochilus
14601: PUSH
14602: LD_STRING Bad Platypus
14604: PUSH
14605: LD_STRING Really Bad Ape
14607: PUSH
14608: LD_STRING Looser
14610: PUSH
14611: LD_STRING Looser
14613: PUSH
14614: LD_STRING Looser
14616: PUSH
14617: LD_STRING Megadeth
14619: PUSH
14620: LD_STRING Mad Ape
14622: PUSH
14623: LD_STRING Wraughhhh
14625: PUSH
14626: LD_STRING ":)
14628: PUSH
14629: EMPTY
14630: LIST
14631: LIST
14632: LIST
14633: LIST
14634: LIST
14635: LIST
14636: LIST
14637: LIST
14638: LIST
14639: LIST
14640: LIST
14641: LIST
14642: LIST
14643: LIST
14644: LIST
14645: LIST
14646: LIST
14647: LIST
14648: LIST
14649: LIST
14650: LIST
14651: LIST
14652: LIST
14653: LIST
14654: LIST
14655: LIST
14656: LIST
14657: LIST
14658: LIST
14659: LIST
14660: LIST
14661: LIST
14662: LIST
14663: LIST
14664: LIST
14665: LIST
14666: LIST
14667: LIST
14668: LIST
14669: LIST
14670: LIST
14671: LIST
14672: LIST
14673: LIST
14674: LIST
14675: LIST
14676: LIST
14677: LIST
14678: LIST
14679: LIST
14680: LIST
14681: LIST
14682: LIST
14683: LIST
14684: LIST
14685: LIST
14686: LIST
14687: LIST
14688: LIST
14689: LIST
14690: LIST
14691: LIST
14692: LIST
14693: LIST
14694: LIST
14695: LIST
14696: LIST
14697: LIST
14698: LIST
14699: LIST
14700: LIST
14701: LIST
14702: LIST
14703: LIST
14704: LIST
14705: LIST
14706: LIST
14707: LIST
14708: LIST
14709: LIST
14710: LIST
14711: LIST
14712: LIST
14713: LIST
14714: LIST
14715: LIST
14716: LIST
14717: LIST
14718: LIST
14719: LIST
14720: LIST
14721: LIST
14722: LIST
14723: LIST
14724: LIST
14725: ST_TO_ADDR
// hc_name = ape_names [ Rand ( 1 , ape_names ) ] ;
14726: LD_ADDR_OWVAR 26
14730: PUSH
14731: LD_VAR 0 2
14735: PUSH
14736: LD_INT 1
14738: PPUSH
14739: LD_VAR 0 2
14743: PPUSH
14744: CALL_OW 12
14748: ARRAY
14749: ST_TO_ADDR
// randomHumanStats ( initial_level - 2 ) ;
14750: LD_EXP 42
14754: PUSH
14755: LD_INT 2
14757: MINUS
14758: PPUSH
14759: CALL 17331 0 1
// hc_class := class_apeman ;
14763: LD_ADDR_OWVAR 28
14767: PUSH
14768: LD_INT 12
14770: ST_TO_ADDR
// if hc_attr [ 2 ] < 12 then
14771: LD_OWVAR 29
14775: PUSH
14776: LD_INT 2
14778: ARRAY
14779: PUSH
14780: LD_INT 12
14782: LESS
14783: IFFALSE 14822
// hc_attr = [ hc_attr [ 1 ] + 5 , hc_attr [ 2 ] + 1 ] else
14785: LD_ADDR_OWVAR 29
14789: PUSH
14790: LD_OWVAR 29
14794: PUSH
14795: LD_INT 1
14797: ARRAY
14798: PUSH
14799: LD_INT 5
14801: PLUS
14802: PUSH
14803: LD_OWVAR 29
14807: PUSH
14808: LD_INT 2
14810: ARRAY
14811: PUSH
14812: LD_INT 1
14814: PLUS
14815: PUSH
14816: EMPTY
14817: LIST
14818: LIST
14819: ST_TO_ADDR
14820: GO 14853
// hc_attr = [ hc_attr [ 1 ] + 5 , hc_attr [ 2 ] ] ;
14822: LD_ADDR_OWVAR 29
14826: PUSH
14827: LD_OWVAR 29
14831: PUSH
14832: LD_INT 1
14834: ARRAY
14835: PUSH
14836: LD_INT 5
14838: PLUS
14839: PUSH
14840: LD_OWVAR 29
14844: PUSH
14845: LD_INT 2
14847: ARRAY
14848: PUSH
14849: EMPTY
14850: LIST
14851: LIST
14852: ST_TO_ADDR
// hc_sex := sex_male ;
14853: LD_ADDR_OWVAR 27
14857: PUSH
14858: LD_INT 1
14860: ST_TO_ADDR
// hc_importance := 0 ;
14861: LD_ADDR_OWVAR 32
14865: PUSH
14866: LD_INT 0
14868: ST_TO_ADDR
// hc_agressivity := Rand ( - 20 , 20 ) ;
14869: LD_ADDR_OWVAR 35
14873: PUSH
14874: LD_INT 20
14876: NEG
14877: PPUSH
14878: LD_INT 20
14880: PPUSH
14881: CALL_OW 12
14885: ST_TO_ADDR
// end ;
14886: LD_VAR 0 1
14890: RET
// every 0 0$15 + 0 0$1 marked 493 do var i , a , ape ;
14891: GO 14893
14893: DISABLE
14894: LD_INT 0
14896: PPUSH
14897: PPUSH
14898: PPUSH
// begin repeat ape = FilterAllUnits ( [ [ f_side , 0 ] , [ f_class , class_apeman ] ] ) ;
14899: LD_ADDR_VAR 0 3
14903: PUSH
14904: LD_INT 22
14906: PUSH
14907: LD_INT 0
14909: PUSH
14910: EMPTY
14911: LIST
14912: LIST
14913: PUSH
14914: LD_INT 25
14916: PUSH
14917: LD_INT 12
14919: PUSH
14920: EMPTY
14921: LIST
14922: LIST
14923: PUSH
14924: EMPTY
14925: LIST
14926: LIST
14927: PPUSH
14928: CALL_OW 69
14932: ST_TO_ADDR
// Wait ( ( ape + 1 ) * Rand ( 0 0$10 , 1 1$0 ) ) ;
14933: LD_VAR 0 3
14937: PUSH
14938: LD_INT 1
14940: PLUS
14941: PUSH
14942: LD_INT 350
14944: PPUSH
14945: LD_INT 2100
14947: PPUSH
14948: CALL_OW 12
14952: MUL
14953: PPUSH
14954: CALL_OW 67
// until ape <= ( spawning_koef_of_apemen / 6 ) * amount_of_players ;
14958: LD_VAR 0 3
14962: PUSH
14963: LD_EXP 47
14967: PUSH
14968: LD_INT 6
14970: DIVREAL
14971: PUSH
14972: LD_LOC 12
14976: MUL
14977: LESSEQUAL
14978: IFFALSE 14899
// for i = 1 to spawning_koef_of_apemen / 5 do
14980: LD_ADDR_VAR 0 1
14984: PUSH
14985: DOUBLE
14986: LD_INT 1
14988: DEC
14989: ST_TO_ADDR
14990: LD_EXP 47
14994: PUSH
14995: LD_INT 5
14997: DIVREAL
14998: PUSH
14999: FOR_TO
15000: IFFALSE 15102
// if ApesAreas then
15002: LD_EXP 104
15006: IFFALSE 15055
// begin for a in ApesAreas do
15008: LD_ADDR_VAR 0 2
15012: PUSH
15013: LD_EXP 104
15017: PUSH
15018: FOR_IN
15019: IFFALSE 15051
// begin apeman_init ;
15021: CALL 14319 0 0
// PlaceUnitArea ( CreateHuman , a , false ) ;
15025: CALL_OW 44
15029: PPUSH
15030: LD_VAR 0 2
15034: PPUSH
15035: LD_INT 0
15037: PPUSH
15038: CALL_OW 49
// Wait ( 3 ) ;
15042: LD_INT 3
15044: PPUSH
15045: CALL_OW 67
// end ;
15049: GO 15018
15051: POP
15052: POP
// end else
15053: GO 15100
// begin for a = 1 to amount_of_players do
15055: LD_ADDR_VAR 0 2
15059: PUSH
15060: DOUBLE
15061: LD_INT 1
15063: DEC
15064: ST_TO_ADDR
15065: LD_LOC 12
15069: PUSH
15070: FOR_TO
15071: IFFALSE 15098
// begin apeman_init ;
15073: CALL 14319 0 0
// PlaceUnitAnywhere ( CreateHuman , false ) ;
15077: CALL_OW 44
15081: PPUSH
15082: LD_INT 0
15084: PPUSH
15085: CALL_OW 51
// Wait ( 3 ) ;
15089: LD_INT 3
15091: PPUSH
15092: CALL_OW 67
// end ;
15096: GO 15070
15098: POP
15099: POP
// end ;
15100: GO 14999
15102: POP
15103: POP
// wait ( rand ( 1 1$0 , 5 5$0 ) ) ;
15104: LD_INT 2100
15106: PPUSH
15107: LD_INT 10500
15109: PPUSH
15110: CALL_OW 12
15114: PPUSH
15115: CALL_OW 67
// end ;
15119: PPOPN 3
15121: END
// export function StartApe ; var i , ape ; begin
15122: LD_INT 0
15124: PPUSH
15125: PPUSH
15126: PPUSH
// for i := 1 to 8 do
15127: LD_ADDR_VAR 0 2
15131: PUSH
15132: DOUBLE
15133: LD_INT 1
15135: DEC
15136: ST_TO_ADDR
15137: LD_INT 8
15139: PUSH
15140: FOR_TO
15141: IFFALSE 15175
// if Side_Positions [ i ] <> 0 then
15143: LD_EXP 74
15147: PUSH
15148: LD_VAR 0 2
15152: ARRAY
15153: PUSH
15154: LD_INT 0
15156: NONEQUAL
15157: IFFALSE 15173
// amount_of_players := amount_of_players + 1 ;
15159: LD_ADDR_LOC 12
15163: PUSH
15164: LD_LOC 12
15168: PUSH
15169: LD_INT 1
15171: PLUS
15172: ST_TO_ADDR
15173: GO 15140
15175: POP
15176: POP
// if game_type in GT_doublenat ^ GT_doublepeople then
15177: LD_EXP 1
15181: PUSH
15182: LD_EXP 3
15186: PUSH
15187: LD_EXP 4
15191: ADD
15192: IN
15193: IFFALSE 15211
// amount_of_players = amount_of_players * 2 else
15195: LD_ADDR_LOC 12
15199: PUSH
15200: LD_LOC 12
15204: PUSH
15205: LD_INT 2
15207: MUL
15208: ST_TO_ADDR
15209: GO 15237
// if game_type = GT_TripleNat then
15211: LD_EXP 1
15215: PUSH
15216: LD_EXP 5
15220: EQUAL
15221: IFFALSE 15237
// amount_of_players = amount_of_players * 3 ;
15223: LD_ADDR_LOC 12
15227: PUSH
15228: LD_LOC 12
15232: PUSH
15233: LD_INT 3
15235: MUL
15236: ST_TO_ADDR
// for i = 1 to Rand ( 2 , 7 ) do
15237: LD_ADDR_VAR 0 2
15241: PUSH
15242: DOUBLE
15243: LD_INT 1
15245: DEC
15246: ST_TO_ADDR
15247: LD_INT 2
15249: PPUSH
15250: LD_INT 7
15252: PPUSH
15253: CALL_OW 12
15257: PUSH
15258: FOR_TO
15259: IFFALSE 15289
// begin apeman_init ;
15261: CALL 14319 0 0
// ape := CreateHuman ;
15265: LD_ADDR_VAR 0 3
15269: PUSH
15270: CALL_OW 44
15274: ST_TO_ADDR
// PlaceUnitAnywhere ( ape , false ) ;
15275: LD_VAR 0 3
15279: PPUSH
15280: LD_INT 0
15282: PPUSH
15283: CALL_OW 51
// end ;
15287: GO 15258
15289: POP
15290: POP
// end ;
15291: LD_VAR 0 1
15295: RET
// function tiger_init ; var tiger_names ; begin
15296: LD_INT 0
15298: PPUSH
15299: PPUSH
// uc_side := 0 ;
15300: LD_ADDR_OWVAR 20
15304: PUSH
15305: LD_INT 0
15307: ST_TO_ADDR
// uc_nation := nation_nature ;
15308: LD_ADDR_OWVAR 21
15312: PUSH
15313: LD_INT 0
15315: ST_TO_ADDR
// tiger_names = [ Fredy , Montana , Pishkot , Sikorski , Riko , Kowalrski , Neo , Kessi , Riko , Lulu , Edie , Edy , Roxy , Roxas , Beast , Drago , Draco , Ali , Lessie , White Fang , Chess , Nora , Shriek , Bl Tesk , Barkman , Meuznenapadazadnejmeno , Ihavenotthinkofanyname , Hiro , Scooby , Fantasy , Troll , Baltazar , Pamella , Kleopatra , Ceasar , Gimmy , Scooby Dooby Doo , Yogi , Brutal , Brutus , Janina , Crazy , Jen , Jenova , Kiosuke , Akamaru ] ;
15316: LD_ADDR_VAR 0 2
15320: PUSH
15321: LD_STRING Fredy
15323: PUSH
15324: LD_STRING Montana
15326: PUSH
15327: LD_STRING Pishkot
15329: PUSH
15330: LD_STRING Sikorski
15332: PUSH
15333: LD_STRING Riko
15335: PUSH
15336: LD_STRING Kowalrski
15338: PUSH
15339: LD_STRING Neo
15341: PUSH
15342: LD_STRING Kessi
15344: PUSH
15345: LD_STRING Riko
15347: PUSH
15348: LD_STRING Lulu
15350: PUSH
15351: LD_STRING Edie
15353: PUSH
15354: LD_STRING Edy
15356: PUSH
15357: LD_STRING Roxy
15359: PUSH
15360: LD_STRING Roxas
15362: PUSH
15363: LD_STRING Beast
15365: PUSH
15366: LD_STRING Drago
15368: PUSH
15369: LD_STRING Draco
15371: PUSH
15372: LD_STRING Ali
15374: PUSH
15375: LD_STRING Lessie
15377: PUSH
15378: LD_STRING White Fang
15380: PUSH
15381: LD_STRING Chess
15383: PUSH
15384: LD_STRING Nora
15386: PUSH
15387: LD_STRING Shriek
15389: PUSH
15390: LD_STRING Bl Tesk
15392: PUSH
15393: LD_STRING Barkman
15395: PUSH
15396: LD_STRING Meuznenapadazadnejmeno
15398: PUSH
15399: LD_STRING Ihavenotthinkofanyname
15401: PUSH
15402: LD_STRING Hiro
15404: PUSH
15405: LD_STRING Scooby
15407: PUSH
15408: LD_STRING Fantasy
15410: PUSH
15411: LD_STRING Troll
15413: PUSH
15414: LD_STRING Baltazar
15416: PUSH
15417: LD_STRING Pamella
15419: PUSH
15420: LD_STRING Kleopatra
15422: PUSH
15423: LD_STRING Ceasar
15425: PUSH
15426: LD_STRING Gimmy
15428: PUSH
15429: LD_STRING Scooby Dooby Doo
15431: PUSH
15432: LD_STRING Yogi
15434: PUSH
15435: LD_STRING Brutal
15437: PUSH
15438: LD_STRING Brutus
15440: PUSH
15441: LD_STRING Janina
15443: PUSH
15444: LD_STRING Crazy
15446: PUSH
15447: LD_STRING Jen
15449: PUSH
15450: LD_STRING Jenova
15452: PUSH
15453: LD_STRING Kiosuke
15455: PUSH
15456: LD_STRING Akamaru
15458: PUSH
15459: EMPTY
15460: LIST
15461: LIST
15462: LIST
15463: LIST
15464: LIST
15465: LIST
15466: LIST
15467: LIST
15468: LIST
15469: LIST
15470: LIST
15471: LIST
15472: LIST
15473: LIST
15474: LIST
15475: LIST
15476: LIST
15477: LIST
15478: LIST
15479: LIST
15480: LIST
15481: LIST
15482: LIST
15483: LIST
15484: LIST
15485: LIST
15486: LIST
15487: LIST
15488: LIST
15489: LIST
15490: LIST
15491: LIST
15492: LIST
15493: LIST
15494: LIST
15495: LIST
15496: LIST
15497: LIST
15498: LIST
15499: LIST
15500: LIST
15501: LIST
15502: LIST
15503: LIST
15504: LIST
15505: LIST
15506: ST_TO_ADDR
// hc_name = tiger_names [ Rand ( 1 , tiger_names ) ] ;
15507: LD_ADDR_OWVAR 26
15511: PUSH
15512: LD_VAR 0 2
15516: PUSH
15517: LD_INT 1
15519: PPUSH
15520: LD_VAR 0 2
15524: PPUSH
15525: CALL_OW 12
15529: ARRAY
15530: ST_TO_ADDR
// randomHumanStats ( initial_level - 2 ) ;
15531: LD_EXP 42
15535: PUSH
15536: LD_INT 2
15538: MINUS
15539: PPUSH
15540: CALL 17331 0 1
// hc_class := class_tiger ;
15544: LD_ADDR_OWVAR 28
15548: PUSH
15549: LD_INT 14
15551: ST_TO_ADDR
// hc_attr = [ hc_attr [ 1 ] + 2 , hc_attr [ 2 ] + 1 ] ;
15552: LD_ADDR_OWVAR 29
15556: PUSH
15557: LD_OWVAR 29
15561: PUSH
15562: LD_INT 1
15564: ARRAY
15565: PUSH
15566: LD_INT 2
15568: PLUS
15569: PUSH
15570: LD_OWVAR 29
15574: PUSH
15575: LD_INT 2
15577: ARRAY
15578: PUSH
15579: LD_INT 1
15581: PLUS
15582: PUSH
15583: EMPTY
15584: LIST
15585: LIST
15586: ST_TO_ADDR
// hc_sex := sex_male ;
15587: LD_ADDR_OWVAR 27
15591: PUSH
15592: LD_INT 1
15594: ST_TO_ADDR
// hc_importance := 0 ;
15595: LD_ADDR_OWVAR 32
15599: PUSH
15600: LD_INT 0
15602: ST_TO_ADDR
// hc_agressivity := Rand ( 10 , 50 ) ;
15603: LD_ADDR_OWVAR 35
15607: PUSH
15608: LD_INT 10
15610: PPUSH
15611: LD_INT 50
15613: PPUSH
15614: CALL_OW 12
15618: ST_TO_ADDR
// end ;
15619: LD_VAR 0 1
15623: RET
// every 0 0$15 + 0 0$1 marked 494 do var i , d , tig ;
15624: GO 15626
15626: DISABLE
15627: LD_INT 0
15629: PPUSH
15630: PPUSH
15631: PPUSH
// begin case tick of 1 .. 1 1$0 :
15632: LD_OWVAR 1
15636: PUSH
15637: LD_INT 1
15639: DOUBLE
15640: GREATEREQUAL
15641: IFFALSE 15649
15643: LD_INT 2100
15645: DOUBLE
15646: LESSEQUAL
15647: IFTRUE 15651
15649: GO 15662
15651: POP
// d := 15 ; 1 1$0 + 1 .. 2 2$0 :
15652: LD_ADDR_VAR 0 2
15656: PUSH
15657: LD_INT 15
15659: ST_TO_ADDR
15660: GO 15758
15662: LD_INT 2100
15664: PUSH
15665: LD_INT 1
15667: PLUS
15668: DOUBLE
15669: GREATEREQUAL
15670: IFFALSE 15678
15672: LD_INT 4200
15674: DOUBLE
15675: LESSEQUAL
15676: IFTRUE 15680
15678: GO 15691
15680: POP
// d := 14 ; 20 20$0 + 1 .. 50 50$0 :
15681: LD_ADDR_VAR 0 2
15685: PUSH
15686: LD_INT 14
15688: ST_TO_ADDR
15689: GO 15758
15691: LD_INT 42000
15693: PUSH
15694: LD_INT 1
15696: PLUS
15697: DOUBLE
15698: GREATEREQUAL
15699: IFFALSE 15707
15701: LD_INT 105000
15703: DOUBLE
15704: LESSEQUAL
15705: IFTRUE 15709
15707: GO 15720
15709: POP
// d := 12 ; 50 50$0 + 1 .. 300 300$0 :
15710: LD_ADDR_VAR 0 2
15714: PUSH
15715: LD_INT 12
15717: ST_TO_ADDR
15718: GO 15758
15720: LD_INT 105000
15722: PUSH
15723: LD_INT 1
15725: PLUS
15726: DOUBLE
15727: GREATEREQUAL
15728: IFFALSE 15736
15730: LD_INT 630000
15732: DOUBLE
15733: LESSEQUAL
15734: IFTRUE 15738
15736: GO 15749
15738: POP
// d := 11 ; else
15739: LD_ADDR_VAR 0 2
15743: PUSH
15744: LD_INT 11
15746: ST_TO_ADDR
15747: GO 15758
15749: POP
// d := 9 ; end ;
15750: LD_ADDR_VAR 0 2
15754: PUSH
15755: LD_INT 9
15757: ST_TO_ADDR
// i = FilterAllUnits ( [ [ f_side , 0 ] , [ f_class , class_tiger ] ] ) ;
15758: LD_ADDR_VAR 0 1
15762: PUSH
15763: LD_INT 22
15765: PUSH
15766: LD_INT 0
15768: PUSH
15769: EMPTY
15770: LIST
15771: LIST
15772: PUSH
15773: LD_INT 25
15775: PUSH
15776: LD_INT 14
15778: PUSH
15779: EMPTY
15780: LIST
15781: LIST
15782: PUSH
15783: EMPTY
15784: LIST
15785: LIST
15786: PPUSH
15787: CALL_OW 69
15791: ST_TO_ADDR
// if i < ( spawning_koef_of_tiger / 14 * d ) then
15792: LD_VAR 0 1
15796: PUSH
15797: LD_EXP 48
15801: PUSH
15802: LD_INT 14
15804: DIVREAL
15805: PUSH
15806: LD_VAR 0 2
15810: MUL
15811: LESS
15812: IFFALSE 15868
// for i = 1 to Rand ( 1 , 2 ) do
15814: LD_ADDR_VAR 0 1
15818: PUSH
15819: DOUBLE
15820: LD_INT 1
15822: DEC
15823: ST_TO_ADDR
15824: LD_INT 1
15826: PPUSH
15827: LD_INT 2
15829: PPUSH
15830: CALL_OW 12
15834: PUSH
15835: FOR_TO
15836: IFFALSE 15866
// begin tiger_init ;
15838: CALL 15296 0 0
// tig := CreateHuman ;
15842: LD_ADDR_VAR 0 3
15846: PUSH
15847: CALL_OW 44
15851: ST_TO_ADDR
// PlaceUnitAnywhere ( tig , false ) ;
15852: LD_VAR 0 3
15856: PPUSH
15857: LD_INT 0
15859: PPUSH
15860: CALL_OW 51
// end ;
15864: GO 15835
15866: POP
15867: POP
// enable ;
15868: ENABLE
// end ;
15869: PPOPN 3
15871: END
// export function StartTig ; var i , tig ; begin
15872: LD_INT 0
15874: PPUSH
15875: PPUSH
15876: PPUSH
// for i = 1 to Rand ( 1 , 3 ) do
15877: LD_ADDR_VAR 0 2
15881: PUSH
15882: DOUBLE
15883: LD_INT 1
15885: DEC
15886: ST_TO_ADDR
15887: LD_INT 1
15889: PPUSH
15890: LD_INT 3
15892: PPUSH
15893: CALL_OW 12
15897: PUSH
15898: FOR_TO
15899: IFFALSE 15929
// begin tiger_init ;
15901: CALL 15296 0 0
// tig := CreateHuman ;
15905: LD_ADDR_VAR 0 3
15909: PUSH
15910: CALL_OW 44
15914: ST_TO_ADDR
// PlaceUnitAnywhere ( tig , false ) ;
15915: LD_VAR 0 3
15919: PPUSH
15920: LD_INT 0
15922: PPUSH
15923: CALL_OW 51
// end ;
15927: GO 15898
15929: POP
15930: POP
// end ; end_of_file
15931: LD_VAR 0 1
15935: RET
// var BaseNames ; export function InitDisplayNames ; var i , n , u , a , r ; begin
15936: LD_INT 0
15938: PPUSH
15939: PPUSH
15940: PPUSH
15941: PPUSH
15942: PPUSH
15943: PPUSH
// for i in FilterAllUnits ( [ [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_not , [ f_side , 0 ] ] ] ) do
15944: LD_ADDR_VAR 0 2
15948: PUSH
15949: LD_INT 2
15951: PUSH
15952: LD_INT 30
15954: PUSH
15955: LD_INT 0
15957: PUSH
15958: EMPTY
15959: LIST
15960: LIST
15961: PUSH
15962: LD_INT 30
15964: PUSH
15965: LD_INT 1
15967: PUSH
15968: EMPTY
15969: LIST
15970: LIST
15971: PUSH
15972: EMPTY
15973: LIST
15974: LIST
15975: LIST
15976: PUSH
15977: LD_INT 3
15979: PUSH
15980: LD_INT 22
15982: PUSH
15983: LD_INT 0
15985: PUSH
15986: EMPTY
15987: LIST
15988: LIST
15989: PUSH
15990: EMPTY
15991: LIST
15992: LIST
15993: PUSH
15994: EMPTY
15995: LIST
15996: LIST
15997: PPUSH
15998: CALL_OW 69
16002: PUSH
16003: FOR_IN
16004: IFFALSE 16031
// SetBName ( i , @ & GetSide ( i ) ) ;
16006: LD_VAR 0 2
16010: PPUSH
16011: LD_STRING @
16013: PUSH
16014: LD_VAR 0 2
16018: PPUSH
16019: CALL_OW 255
16023: STR
16024: PPUSH
16025: CALL_OW 500
16029: GO 16003
16031: POP
16032: POP
// n = [ Kasyr , Cabal , Nitheim , Vanidas , Adjun , Alcon , Anthara , Denebola , Izard , Kaus , Mira , Procyon , Sirius , Tyr , Revoria , Eterna , Korigul , freedom ] ;
16033: LD_ADDR_VAR 0 3
16037: PUSH
16038: LD_STRING Kasyr
16040: PUSH
16041: LD_STRING Cabal
16043: PUSH
16044: LD_STRING Nitheim
16046: PUSH
16047: LD_STRING Vanidas
16049: PUSH
16050: LD_STRING Adjun
16052: PUSH
16053: LD_STRING Alcon
16055: PUSH
16056: LD_STRING Anthara
16058: PUSH
16059: LD_STRING Denebola
16061: PUSH
16062: LD_STRING Izard
16064: PUSH
16065: LD_STRING Kaus
16067: PUSH
16068: LD_STRING Mira
16070: PUSH
16071: LD_STRING Procyon
16073: PUSH
16074: LD_STRING Sirius
16076: PUSH
16077: LD_STRING Tyr
16079: PUSH
16080: LD_STRING Revoria
16082: PUSH
16083: LD_STRING Eterna
16085: PUSH
16086: LD_STRING Korigul
16088: PUSH
16089: LD_STRING freedom
16091: PUSH
16092: EMPTY
16093: LIST
16094: LIST
16095: LIST
16096: LIST
16097: LIST
16098: LIST
16099: LIST
16100: LIST
16101: LIST
16102: LIST
16103: LIST
16104: LIST
16105: LIST
16106: LIST
16107: LIST
16108: LIST
16109: LIST
16110: LIST
16111: ST_TO_ADDR
// u = [ alpha , gamma , delta , epsilon , Kappa , omikron , terminal , viper ] ^ n ;
16112: LD_ADDR_VAR 0 4
16116: PUSH
16117: LD_STRING alpha
16119: PUSH
16120: LD_STRING gamma
16122: PUSH
16123: LD_STRING delta
16125: PUSH
16126: LD_STRING epsilon
16128: PUSH
16129: LD_STRING Kappa
16131: PUSH
16132: LD_STRING omikron
16134: PUSH
16135: LD_STRING terminal
16137: PUSH
16138: LD_STRING viper
16140: PUSH
16141: EMPTY
16142: LIST
16143: LIST
16144: LIST
16145: LIST
16146: LIST
16147: LIST
16148: LIST
16149: LIST
16150: PUSH
16151: LD_VAR 0 3
16155: ADD
16156: ST_TO_ADDR
// r = [ beria , kirov , kagan , ovsyenko , gorkij , trockij , bluekher , yegorob , ryutin , budonny , yakir ] ^ n ;
16157: LD_ADDR_VAR 0 6
16161: PUSH
16162: LD_STRING beria
16164: PUSH
16165: LD_STRING kirov
16167: PUSH
16168: LD_STRING kagan
16170: PUSH
16171: LD_STRING ovsyenko
16173: PUSH
16174: LD_STRING gorkij
16176: PUSH
16177: LD_STRING trockij
16179: PUSH
16180: LD_STRING bluekher
16182: PUSH
16183: LD_STRING yegorob
16185: PUSH
16186: LD_STRING ryutin
16188: PUSH
16189: LD_STRING budonny
16191: PUSH
16192: LD_STRING yakir
16194: PUSH
16195: EMPTY
16196: LIST
16197: LIST
16198: LIST
16199: LIST
16200: LIST
16201: LIST
16202: LIST
16203: LIST
16204: LIST
16205: LIST
16206: LIST
16207: PUSH
16208: LD_VAR 0 3
16212: ADD
16213: ST_TO_ADDR
// a = [ newkabul , newsamark , riyadh , jeddah , dammam ] ^ n ;
16214: LD_ADDR_VAR 0 5
16218: PUSH
16219: LD_STRING newkabul
16221: PUSH
16222: LD_STRING newsamark
16224: PUSH
16225: LD_STRING riyadh
16227: PUSH
16228: LD_STRING jeddah
16230: PUSH
16231: LD_STRING dammam
16233: PUSH
16234: EMPTY
16235: LIST
16236: LIST
16237: LIST
16238: LIST
16239: LIST
16240: PUSH
16241: LD_VAR 0 3
16245: ADD
16246: ST_TO_ADDR
// BaseNames = [ u , a , r ] ;
16247: LD_ADDR_LOC 13
16251: PUSH
16252: LD_VAR 0 4
16256: PUSH
16257: LD_VAR 0 5
16261: PUSH
16262: LD_VAR 0 6
16266: PUSH
16267: EMPTY
16268: LIST
16269: LIST
16270: LIST
16271: ST_TO_ADDR
// end ;
16272: LD_VAR 0 1
16276: RET
// export function NameBuildingComplete ( b ) ; begin
16277: LD_INT 0
16279: PPUSH
// end ;
16280: LD_VAR 0 2
16284: RET
// export function NameBuildingStarted ( b , h ) ; var n , i ; begin
16285: LD_INT 0
16287: PPUSH
16288: PPUSH
16289: PPUSH
// n = getNation ( b ) ;
16290: LD_ADDR_VAR 0 4
16294: PUSH
16295: LD_VAR 0 1
16299: PPUSH
16300: CALL_OW 248
16304: ST_TO_ADDR
// i = rand ( 1 , BaseNames [ n ] + 0 ) ;
16305: LD_ADDR_VAR 0 5
16309: PUSH
16310: LD_INT 1
16312: PPUSH
16313: LD_LOC 13
16317: PUSH
16318: LD_VAR 0 4
16322: ARRAY
16323: PUSH
16324: LD_INT 0
16326: PLUS
16327: PPUSH
16328: CALL_OW 12
16332: ST_TO_ADDR
// setBName ( b , BaseNames [ n ] [ i ] ) ;
16333: LD_VAR 0 1
16337: PPUSH
16338: LD_LOC 13
16342: PUSH
16343: LD_VAR 0 4
16347: ARRAY
16348: PUSH
16349: LD_VAR 0 5
16353: ARRAY
16354: PPUSH
16355: CALL_OW 500
// end ;
16359: LD_VAR 0 3
16363: RET
// export function NameBuildingCaptured ( b , o , e ) ; begin
16364: LD_INT 0
16366: PPUSH
// end ; end_of_file
16367: LD_VAR 0 4
16371: RET
// var strength , lastxwin , lastywin , lastxlost , lastylost ; function Update_Flags ; var un ; begin
16372: LD_INT 0
16374: PPUSH
16375: PPUSH
// for un in battle_flags_id do
16376: LD_ADDR_VAR 0 2
16380: PUSH
16381: LD_EXP 88
16385: PUSH
16386: FOR_IN
16387: IFFALSE 16462
// ChangeBattleFlagOptions ( un , [ [ bfo_defend_bonus_human , strength ] , [ bfo_defend_bonus_vehicle , strength div 2 ] , [ bfo_defend_bonus_building , strength div 5 ] , [ bfo_height , strength ] ] ) ;
16389: LD_VAR 0 2
16393: PPUSH
16394: LD_INT 1
16396: PUSH
16397: LD_LOC 14
16401: PUSH
16402: EMPTY
16403: LIST
16404: LIST
16405: PUSH
16406: LD_INT 2
16408: PUSH
16409: LD_LOC 14
16413: PUSH
16414: LD_INT 2
16416: DIV
16417: PUSH
16418: EMPTY
16419: LIST
16420: LIST
16421: PUSH
16422: LD_INT 3
16424: PUSH
16425: LD_LOC 14
16429: PUSH
16430: LD_INT 5
16432: DIV
16433: PUSH
16434: EMPTY
16435: LIST
16436: LIST
16437: PUSH
16438: LD_INT 20
16440: PUSH
16441: LD_LOC 14
16445: PUSH
16446: EMPTY
16447: LIST
16448: LIST
16449: PUSH
16450: EMPTY
16451: LIST
16452: LIST
16453: LIST
16454: LIST
16455: PPUSH
16456: CALL_OW 423
16460: GO 16386
16462: POP
16463: POP
// end ;
16464: LD_VAR 0 1
16468: RET
// every 0 0$0.1 do var un ;
16469: GO 16471
16471: DISABLE
16472: LD_INT 0
16474: PPUSH
// begin if not def_morale_flags then
16475: LD_EXP 20
16479: NOT
16480: IFFALSE 16484
// exit ;
16482: GO 16561
// if not morale_decreasing_time then
16484: LD_EXP 46
16488: NOT
16489: IFFALSE 16493
// exit ;
16491: GO 16561
// strength = 100 ;
16493: LD_ADDR_LOC 14
16497: PUSH
16498: LD_INT 100
16500: ST_TO_ADDR
// repeat wait ( morale_decreasing_time ) ;
16501: LD_EXP 46
16505: PPUSH
16506: CALL_OW 67
// strength := strength - 1 ;
16510: LD_ADDR_LOC 14
16514: PUSH
16515: LD_LOC 14
16519: PUSH
16520: LD_INT 1
16522: MINUS
16523: ST_TO_ADDR
// Update_Flags ;
16524: CALL 16372 0 0
// until not strength ;
16528: LD_LOC 14
16532: NOT
16533: IFFALSE 16501
// for un in battle_flags_id do
16535: LD_ADDR_VAR 0 1
16539: PUSH
16540: LD_EXP 88
16544: PUSH
16545: FOR_IN
16546: IFFALSE 16559
// KillBattleFlag ( un ) ;
16548: LD_VAR 0 1
16552: PPUSH
16553: CALL_OW 419
16557: GO 16545
16559: POP
16560: POP
// end ; end_of_file
16561: PPOPN 1
16563: END
// export MultiplayerTimeEnabled , WaitServerStrings , Display_kings , extraStrings , limitsStrings , CurrentTime , DebugStrings , Display_WFG ; export function GetMultiplayerTime ; begin
16564: LD_INT 0
16566: PPUSH
// Result = [ #gamespeed , game_speed - 4 ] ^ [ #Multi1x1-Time , tick ] ;
16567: LD_ADDR_VAR 0 1
16571: PUSH
16572: LD_STRING #gamespeed
16574: PUSH
16575: LD_OWVAR 65
16579: PUSH
16580: LD_INT 4
16582: MINUS
16583: PUSH
16584: EMPTY
16585: LIST
16586: LIST
16587: PUSH
16588: LD_STRING #Multi1x1-Time
16590: PUSH
16591: LD_OWVAR 1
16595: PUSH
16596: EMPTY
16597: LIST
16598: LIST
16599: ADD
16600: ST_TO_ADDR
// end ;
16601: LD_VAR 0 1
16605: RET
// export function InitMultiplayerTime ; begin
16606: LD_INT 0
16608: PPUSH
// MultiplayerTimeEnabled := true ;
16609: LD_ADDR_EXP 105
16613: PUSH
16614: LD_INT 1
16616: ST_TO_ADDR
// display_strings = GetMultiplayerTime ;
16617: LD_ADDR_OWVAR 47
16621: PUSH
16622: CALL 16564 0 0
16626: ST_TO_ADDR
// end ;
16627: LD_VAR 0 1
16631: RET
// export function ShowTimer ; var AllStrings ; begin
16632: LD_INT 0
16634: PPUSH
16635: PPUSH
// AllStrings = GetMultiplayerTime ;
16636: LD_ADDR_VAR 0 2
16640: PUSH
16641: CALL 16564 0 0
16645: ST_TO_ADDR
// if debug_strings then
16646: LD_OWVAR 48
16650: IFFALSE 16668
// AllStrings = AllStrings ^ debug_strings ;
16652: LD_ADDR_VAR 0 2
16656: PUSH
16657: LD_VAR 0 2
16661: PUSH
16662: LD_OWVAR 48
16666: ADD
16667: ST_TO_ADDR
// if 0 <= siberite_bomb_Delay - tick then
16668: LD_INT 0
16670: PUSH
16671: LD_EXP 66
16675: PUSH
16676: LD_OWVAR 1
16680: MINUS
16681: LESSEQUAL
16682: IFFALSE 16713
// AllStrings := AllStrings ^ [ #allowedsibbomb , siberite_bomb_Delay - tick ] ;
16684: LD_ADDR_VAR 0 2
16688: PUSH
16689: LD_VAR 0 2
16693: PUSH
16694: LD_STRING #allowedsibbomb
16696: PUSH
16697: LD_EXP 66
16701: PUSH
16702: LD_OWVAR 1
16706: MINUS
16707: PUSH
16708: EMPTY
16709: LIST
16710: LIST
16711: ADD
16712: ST_TO_ADDR
// if 0 <= buildUpTime_Delay - tick then
16713: LD_INT 0
16715: PUSH
16716: LD_EXP 117
16720: PUSH
16721: LD_OWVAR 1
16725: MINUS
16726: LESSEQUAL
16727: IFFALSE 16758
// AllStrings := AllStrings ^ [ #builduptime , buildUpTime_Delay - tick ] ;
16729: LD_ADDR_VAR 0 2
16733: PUSH
16734: LD_VAR 0 2
16738: PUSH
16739: LD_STRING #builduptime
16741: PUSH
16742: LD_EXP 117
16746: PUSH
16747: LD_OWVAR 1
16751: MINUS
16752: PUSH
16753: EMPTY
16754: LIST
16755: LIST
16756: ADD
16757: ST_TO_ADDR
// AllStrings := AllStrings ^ [ #TechLevel , Tech_Level ] ;
16758: LD_ADDR_VAR 0 2
16762: PUSH
16763: LD_VAR 0 2
16767: PUSH
16768: LD_STRING #TechLevel
16770: PUSH
16771: LD_EXP 56
16775: PUSH
16776: EMPTY
16777: LIST
16778: LIST
16779: ADD
16780: ST_TO_ADDR
// if ( CurrentTime ) then
16781: LD_EXP 110
16785: IFFALSE 16814
// AllStrings = AllStrings ^ [ #Daily-Time , CurrentTime ] ^  ;
16787: LD_ADDR_VAR 0 2
16791: PUSH
16792: LD_VAR 0 2
16796: PUSH
16797: LD_STRING #Daily-Time
16799: PUSH
16800: LD_EXP 110
16804: PUSH
16805: EMPTY
16806: LIST
16807: LIST
16808: ADD
16809: PUSH
16810: LD_STRING 
16812: ADD
16813: ST_TO_ADDR
// if ( WaitServerStrings ) then
16814: LD_EXP 106
16818: IFFALSE 16836
// AllStrings := AllStrings ^ WaitServerStrings ;
16820: LD_ADDR_VAR 0 2
16824: PUSH
16825: LD_VAR 0 2
16829: PUSH
16830: LD_EXP 106
16834: ADD
16835: ST_TO_ADDR
// if not isSGUI and ( Display_kings or Display_WFG ) then
16836: LD_OWVAR 83
16840: NOT
16841: PUSH
16842: LD_EXP 107
16846: PUSH
16847: LD_EXP 112
16851: OR
16852: AND
16853: IFFALSE 16953
// begin if def_public_score and Team_game then
16855: LD_EXP 34
16859: PUSH
16860: LD_EXP 79
16864: AND
16865: IFFALSE 16909
// AllStrings := AllStrings ^ [ #yourTeam , [ 3 , 1 , 2 , 7 ] [ player_team ] ] ;
16867: LD_ADDR_VAR 0 2
16871: PUSH
16872: LD_VAR 0 2
16876: PUSH
16877: LD_STRING #yourTeam
16879: PUSH
16880: LD_INT 3
16882: PUSH
16883: LD_INT 1
16885: PUSH
16886: LD_INT 2
16888: PUSH
16889: LD_INT 7
16891: PUSH
16892: EMPTY
16893: LIST
16894: LIST
16895: LIST
16896: LIST
16897: PUSH
16898: LD_EXP 70
16902: ARRAY
16903: PUSH
16904: EMPTY
16905: LIST
16906: LIST
16907: ADD
16908: ST_TO_ADDR
// if ( Display_kings ) then
16909: LD_EXP 107
16913: IFFALSE 16931
// AllStrings := AllStrings ^ Display_kings ;
16915: LD_ADDR_VAR 0 2
16919: PUSH
16920: LD_VAR 0 2
16924: PUSH
16925: LD_EXP 107
16929: ADD
16930: ST_TO_ADDR
// if ( Display_WFG ) then
16931: LD_EXP 112
16935: IFFALSE 16953
// AllStrings := AllStrings ^ Display_WFG ;
16937: LD_ADDR_VAR 0 2
16941: PUSH
16942: LD_VAR 0 2
16946: PUSH
16947: LD_EXP 112
16951: ADD
16952: ST_TO_ADDR
// end ; if ( ExtraStrings ) then
16953: LD_EXP 108
16957: IFFALSE 16979
// AllStrings := AllStrings ^  ^ ExtraStrings ;
16959: LD_ADDR_VAR 0 2
16963: PUSH
16964: LD_VAR 0 2
16968: PUSH
16969: LD_STRING 
16971: ADD
16972: PUSH
16973: LD_EXP 108
16977: ADD
16978: ST_TO_ADDR
// if ( LimitsStrings ) then
16979: LD_EXP 109
16983: IFFALSE 17005
// AllStrings := AllStrings ^  ^ LimitsStrings ;
16985: LD_ADDR_VAR 0 2
16989: PUSH
16990: LD_VAR 0 2
16994: PUSH
16995: LD_STRING 
16997: ADD
16998: PUSH
16999: LD_EXP 109
17003: ADD
17004: ST_TO_ADDR
// if ( DebugStrings ) then
17005: LD_EXP 111
17009: IFFALSE 17031
// AllStrings := AllStrings ^  ^ DebugStrings ;
17011: LD_ADDR_VAR 0 2
17015: PUSH
17016: LD_VAR 0 2
17020: PUSH
17021: LD_STRING 
17023: ADD
17024: PUSH
17025: LD_EXP 111
17029: ADD
17030: ST_TO_ADDR
// Display_Strings := AllStrings ;
17031: LD_ADDR_OWVAR 47
17035: PUSH
17036: LD_VAR 0 2
17040: ST_TO_ADDR
// end ;
17041: LD_VAR 0 1
17045: RET
// every 0 0$1 trigger MultiplayerTimeEnabled do
17046: LD_EXP 105
17050: IFFALSE 17060
17052: GO 17054
17054: DISABLE
// begin ShowTimer ;
17055: CALL 16632 0 0
// enable ;
17059: ENABLE
// end ; end_of_file
17060: END
// export MaxFlags ; export function ShowResources ( FullMapArea , EnableSiberitResurces , Range ) ; var k , k2 , i , d , r , u ; begin
17061: LD_INT 0
17063: PPUSH
17064: PPUSH
17065: PPUSH
17066: PPUSH
17067: PPUSH
17068: PPUSH
17069: PPUSH
// if range = 0 then
17070: LD_VAR 0 3
17074: PUSH
17075: LD_INT 0
17077: EQUAL
17078: IFFALSE 17088
// range = 400 ;
17080: LD_ADDR_VAR 0 3
17084: PUSH
17085: LD_INT 400
17087: ST_TO_ADDR
// r = range ;
17088: LD_ADDR_VAR 0 9
17092: PUSH
17093: LD_VAR 0 3
17097: ST_TO_ADDR
// d = GetListOfResourcesInArea ( FullMapArea ) ;
17098: LD_ADDR_VAR 0 8
17102: PUSH
17103: LD_VAR 0 1
17107: PPUSH
17108: CALL_OW 442
17112: ST_TO_ADDR
// for k = 1 to ( d / 3 ) do
17113: LD_ADDR_VAR 0 5
17117: PUSH
17118: DOUBLE
17119: LD_INT 1
17121: DEC
17122: ST_TO_ADDR
17123: LD_VAR 0 8
17127: PUSH
17128: LD_INT 3
17130: DIVREAL
17131: PUSH
17132: FOR_TO
17133: IFFALSE 17324
// begin k2 = k * 3 ;
17135: LD_ADDR_VAR 0 6
17139: PUSH
17140: LD_VAR 0 5
17144: PUSH
17145: LD_INT 3
17147: MUL
17148: ST_TO_ADDR
// for i = 1 to 8 do
17149: LD_ADDR_VAR 0 7
17153: PUSH
17154: DOUBLE
17155: LD_INT 1
17157: DEC
17158: ST_TO_ADDR
17159: LD_INT 8
17161: PUSH
17162: FOR_TO
17163: IFFALSE 17320
// begin if d [ k2 ] = 1 or ( d [ k2 ] = 2 and EnableSiberitResurces ) then
17165: LD_VAR 0 8
17169: PUSH
17170: LD_VAR 0 6
17174: ARRAY
17175: PUSH
17176: LD_INT 1
17178: EQUAL
17179: PUSH
17180: LD_VAR 0 8
17184: PUSH
17185: LD_VAR 0 6
17189: ARRAY
17190: PUSH
17191: LD_INT 2
17193: EQUAL
17194: PUSH
17195: LD_VAR 0 2
17199: AND
17200: OR
17201: IFFALSE 17318
// begin u = filterAllUnits ( [ [ f_side , i ] , [ f_distxy , d [ k2 - 2 ] , d [ k2 - 1 ] , r ] ] ) ;
17203: LD_ADDR_VAR 0 10
17207: PUSH
17208: LD_INT 22
17210: PUSH
17211: LD_VAR 0 7
17215: PUSH
17216: EMPTY
17217: LIST
17218: LIST
17219: PUSH
17220: LD_INT 92
17222: PUSH
17223: LD_VAR 0 8
17227: PUSH
17228: LD_VAR 0 6
17232: PUSH
17233: LD_INT 2
17235: MINUS
17236: ARRAY
17237: PUSH
17238: LD_VAR 0 8
17242: PUSH
17243: LD_VAR 0 6
17247: PUSH
17248: LD_INT 1
17250: MINUS
17251: ARRAY
17252: PUSH
17253: LD_VAR 0 9
17257: PUSH
17258: EMPTY
17259: LIST
17260: LIST
17261: LIST
17262: LIST
17263: PUSH
17264: EMPTY
17265: LIST
17266: LIST
17267: PPUSH
17268: CALL_OW 69
17272: ST_TO_ADDR
// if u then
17273: LD_VAR 0 10
17277: IFFALSE 17318
// SetResourceVisibility ( d [ k2 - 2 ] , d [ k2 - 1 ] , i ) ;
17279: LD_VAR 0 8
17283: PUSH
17284: LD_VAR 0 6
17288: PUSH
17289: LD_INT 2
17291: MINUS
17292: ARRAY
17293: PPUSH
17294: LD_VAR 0 8
17298: PUSH
17299: LD_VAR 0 6
17303: PUSH
17304: LD_INT 1
17306: MINUS
17307: ARRAY
17308: PPUSH
17309: LD_VAR 0 7
17313: PPUSH
17314: CALL_OW 441
// end ; end ;
17318: GO 17162
17320: POP
17321: POP
// end ;
17322: GO 17132
17324: POP
17325: POP
// end ;
17326: LD_VAR 0 4
17330: RET
// export function randomHumanStats ( init_level ) ; var cl , combat , eng , mech , sci , skills , base_skills , attr ; var i , k , base , n , def , speed ; begin
17331: LD_INT 0
17333: PPUSH
17334: PPUSH
17335: PPUSH
17336: PPUSH
17337: PPUSH
17338: PPUSH
17339: PPUSH
17340: PPUSH
17341: PPUSH
17342: PPUSH
17343: PPUSH
17344: PPUSH
17345: PPUSH
17346: PPUSH
17347: PPUSH
// cl = rand ( 1 , 4 ) ;
17348: LD_ADDR_VAR 0 3
17352: PUSH
17353: LD_INT 1
17355: PPUSH
17356: LD_INT 4
17358: PPUSH
17359: CALL_OW 12
17363: ST_TO_ADDR
// base = init_level ;
17364: LD_ADDR_VAR 0 13
17368: PUSH
17369: LD_VAR 0 1
17373: ST_TO_ADDR
// case tick of 0 .. 5 5$00 :
17374: LD_OWVAR 1
17378: PUSH
17379: LD_INT 0
17381: DOUBLE
17382: GREATEREQUAL
17383: IFFALSE 17391
17385: LD_INT 10500
17387: DOUBLE
17388: LESSEQUAL
17389: IFTRUE 17393
17391: GO 17404
17393: POP
// i = 1 ; 5 5$01 .. 9 9$00 :
17394: LD_ADDR_VAR 0 11
17398: PUSH
17399: LD_INT 1
17401: ST_TO_ADDR
17402: GO 17663
17404: LD_INT 10535
17406: DOUBLE
17407: GREATEREQUAL
17408: IFFALSE 17416
17410: LD_INT 18900
17412: DOUBLE
17413: LESSEQUAL
17414: IFTRUE 17418
17416: GO 17429
17418: POP
// i = 2 ; 9 9$01 .. 15 15$00 :
17419: LD_ADDR_VAR 0 11
17423: PUSH
17424: LD_INT 2
17426: ST_TO_ADDR
17427: GO 17663
17429: LD_INT 18935
17431: DOUBLE
17432: GREATEREQUAL
17433: IFFALSE 17441
17435: LD_INT 31500
17437: DOUBLE
17438: LESSEQUAL
17439: IFTRUE 17443
17441: GO 17454
17443: POP
// i = 3 ; 15 15$01 .. 22 22$00 :
17444: LD_ADDR_VAR 0 11
17448: PUSH
17449: LD_INT 3
17451: ST_TO_ADDR
17452: GO 17663
17454: LD_INT 31535
17456: DOUBLE
17457: GREATEREQUAL
17458: IFFALSE 17466
17460: LD_INT 46200
17462: DOUBLE
17463: LESSEQUAL
17464: IFTRUE 17468
17466: GO 17479
17468: POP
// i = 4 ; 22 22$01 .. 30 30$00 :
17469: LD_ADDR_VAR 0 11
17473: PUSH
17474: LD_INT 4
17476: ST_TO_ADDR
17477: GO 17663
17479: LD_INT 46235
17481: DOUBLE
17482: GREATEREQUAL
17483: IFFALSE 17491
17485: LD_INT 63000
17487: DOUBLE
17488: LESSEQUAL
17489: IFTRUE 17493
17491: GO 17504
17493: POP
// i = 5 ; 30 30$01 .. 40 40$00 :
17494: LD_ADDR_VAR 0 11
17498: PUSH
17499: LD_INT 5
17501: ST_TO_ADDR
17502: GO 17663
17504: LD_INT 63035
17506: DOUBLE
17507: GREATEREQUAL
17508: IFFALSE 17516
17510: LD_INT 84000
17512: DOUBLE
17513: LESSEQUAL
17514: IFTRUE 17518
17516: GO 17529
17518: POP
// i = 6 ; 40 40$01 .. 52 52$00 :
17519: LD_ADDR_VAR 0 11
17523: PUSH
17524: LD_INT 6
17526: ST_TO_ADDR
17527: GO 17663
17529: LD_INT 84035
17531: DOUBLE
17532: GREATEREQUAL
17533: IFFALSE 17541
17535: LD_INT 109200
17537: DOUBLE
17538: LESSEQUAL
17539: IFTRUE 17543
17541: GO 17554
17543: POP
// i = 7 ; 52 52$01 .. 66 66$00 :
17544: LD_ADDR_VAR 0 11
17548: PUSH
17549: LD_INT 7
17551: ST_TO_ADDR
17552: GO 17663
17554: LD_INT 109235
17556: DOUBLE
17557: GREATEREQUAL
17558: IFFALSE 17566
17560: LD_INT 138600
17562: DOUBLE
17563: LESSEQUAL
17564: IFTRUE 17568
17566: GO 17579
17568: POP
// i = 8 ; 66 66$01 .. 88 88$00 :
17569: LD_ADDR_VAR 0 11
17573: PUSH
17574: LD_INT 8
17576: ST_TO_ADDR
17577: GO 17663
17579: LD_INT 138635
17581: DOUBLE
17582: GREATEREQUAL
17583: IFFALSE 17591
17585: LD_INT 184800
17587: DOUBLE
17588: LESSEQUAL
17589: IFTRUE 17593
17591: GO 17604
17593: POP
// i = 9 ; 88 88$01 .. 100 100$00 :
17594: LD_ADDR_VAR 0 11
17598: PUSH
17599: LD_INT 9
17601: ST_TO_ADDR
17602: GO 17663
17604: LD_INT 184835
17606: DOUBLE
17607: GREATEREQUAL
17608: IFFALSE 17616
17610: LD_INT 210000
17612: DOUBLE
17613: LESSEQUAL
17614: IFTRUE 17618
17616: GO 17629
17618: POP
// i = 10 ; 100 100$01 .. 120 120$00 :
17619: LD_ADDR_VAR 0 11
17623: PUSH
17624: LD_INT 10
17626: ST_TO_ADDR
17627: GO 17663
17629: LD_INT 210035
17631: DOUBLE
17632: GREATEREQUAL
17633: IFFALSE 17641
17635: LD_INT 252000
17637: DOUBLE
17638: LESSEQUAL
17639: IFTRUE 17643
17641: GO 17654
17643: POP
// i = 11 ; else
17644: LD_ADDR_VAR 0 11
17648: PUSH
17649: LD_INT 11
17651: ST_TO_ADDR
17652: GO 17663
17654: POP
// i = 12 ; end ;
17655: LD_ADDR_VAR 0 11
17659: PUSH
17660: LD_INT 12
17662: ST_TO_ADDR
// i = i - base div 2 ;
17663: LD_ADDR_VAR 0 11
17667: PUSH
17668: LD_VAR 0 11
17672: PUSH
17673: LD_VAR 0 13
17677: PUSH
17678: LD_INT 2
17680: DIV
17681: MINUS
17682: ST_TO_ADDR
// if i < 0 then
17683: LD_VAR 0 11
17687: PUSH
17688: LD_INT 0
17690: LESS
17691: IFFALSE 17701
// i = 0 ;
17693: LD_ADDR_VAR 0 11
17697: PUSH
17698: LD_INT 0
17700: ST_TO_ADDR
// if cl = 1 then
17701: LD_VAR 0 3
17705: PUSH
17706: LD_INT 1
17708: EQUAL
17709: IFFALSE 17749
// combat = rand ( base + i - 1 , base + i ) else
17711: LD_ADDR_VAR 0 4
17715: PUSH
17716: LD_VAR 0 13
17720: PUSH
17721: LD_VAR 0 11
17725: PLUS
17726: PUSH
17727: LD_INT 1
17729: MINUS
17730: PPUSH
17731: LD_VAR 0 13
17735: PUSH
17736: LD_VAR 0 11
17740: PLUS
17741: PPUSH
17742: CALL_OW 12
17746: ST_TO_ADDR
17747: GO 17789
// combat = rand ( base + i - 4 , base + i - 1 ) ;
17749: LD_ADDR_VAR 0 4
17753: PUSH
17754: LD_VAR 0 13
17758: PUSH
17759: LD_VAR 0 11
17763: PLUS
17764: PUSH
17765: LD_INT 4
17767: MINUS
17768: PPUSH
17769: LD_VAR 0 13
17773: PUSH
17774: LD_VAR 0 11
17778: PLUS
17779: PUSH
17780: LD_INT 1
17782: MINUS
17783: PPUSH
17784: CALL_OW 12
17788: ST_TO_ADDR
// if cl = 2 then
17789: LD_VAR 0 3
17793: PUSH
17794: LD_INT 2
17796: EQUAL
17797: IFFALSE 17837
// eng = rand ( base + i - 1 , base + i ) else
17799: LD_ADDR_VAR 0 5
17803: PUSH
17804: LD_VAR 0 13
17808: PUSH
17809: LD_VAR 0 11
17813: PLUS
17814: PUSH
17815: LD_INT 1
17817: MINUS
17818: PPUSH
17819: LD_VAR 0 13
17823: PUSH
17824: LD_VAR 0 11
17828: PLUS
17829: PPUSH
17830: CALL_OW 12
17834: ST_TO_ADDR
17835: GO 17877
// eng = rand ( base + i - 4 , base + i - 1 ) ;
17837: LD_ADDR_VAR 0 5
17841: PUSH
17842: LD_VAR 0 13
17846: PUSH
17847: LD_VAR 0 11
17851: PLUS
17852: PUSH
17853: LD_INT 4
17855: MINUS
17856: PPUSH
17857: LD_VAR 0 13
17861: PUSH
17862: LD_VAR 0 11
17866: PLUS
17867: PUSH
17868: LD_INT 1
17870: MINUS
17871: PPUSH
17872: CALL_OW 12
17876: ST_TO_ADDR
// if cl = 3 then
17877: LD_VAR 0 3
17881: PUSH
17882: LD_INT 3
17884: EQUAL
17885: IFFALSE 17925
// mech = rand ( base + i - 1 , base + i ) else
17887: LD_ADDR_VAR 0 6
17891: PUSH
17892: LD_VAR 0 13
17896: PUSH
17897: LD_VAR 0 11
17901: PLUS
17902: PUSH
17903: LD_INT 1
17905: MINUS
17906: PPUSH
17907: LD_VAR 0 13
17911: PUSH
17912: LD_VAR 0 11
17916: PLUS
17917: PPUSH
17918: CALL_OW 12
17922: ST_TO_ADDR
17923: GO 17965
// mech = rand ( base + i - 4 , base + i - 1 ) ;
17925: LD_ADDR_VAR 0 6
17929: PUSH
17930: LD_VAR 0 13
17934: PUSH
17935: LD_VAR 0 11
17939: PLUS
17940: PUSH
17941: LD_INT 4
17943: MINUS
17944: PPUSH
17945: LD_VAR 0 13
17949: PUSH
17950: LD_VAR 0 11
17954: PLUS
17955: PUSH
17956: LD_INT 1
17958: MINUS
17959: PPUSH
17960: CALL_OW 12
17964: ST_TO_ADDR
// if cl = 4 then
17965: LD_VAR 0 3
17969: PUSH
17970: LD_INT 4
17972: EQUAL
17973: IFFALSE 18013
// sci = rand ( base + i - 1 , base + i ) else
17975: LD_ADDR_VAR 0 7
17979: PUSH
17980: LD_VAR 0 13
17984: PUSH
17985: LD_VAR 0 11
17989: PLUS
17990: PUSH
17991: LD_INT 1
17993: MINUS
17994: PPUSH
17995: LD_VAR 0 13
17999: PUSH
18000: LD_VAR 0 11
18004: PLUS
18005: PPUSH
18006: CALL_OW 12
18010: ST_TO_ADDR
18011: GO 18053
// sci = rand ( base + i - 4 , base + i - 1 ) ;
18013: LD_ADDR_VAR 0 7
18017: PUSH
18018: LD_VAR 0 13
18022: PUSH
18023: LD_VAR 0 11
18027: PLUS
18028: PUSH
18029: LD_INT 4
18031: MINUS
18032: PPUSH
18033: LD_VAR 0 13
18037: PUSH
18038: LD_VAR 0 11
18042: PLUS
18043: PUSH
18044: LD_INT 1
18046: MINUS
18047: PPUSH
18048: CALL_OW 12
18052: ST_TO_ADDR
// skills = [ combat , eng , mech , sci ] ;
18053: LD_ADDR_VAR 0 8
18057: PUSH
18058: LD_VAR 0 4
18062: PUSH
18063: LD_VAR 0 5
18067: PUSH
18068: LD_VAR 0 6
18072: PUSH
18073: LD_VAR 0 7
18077: PUSH
18078: EMPTY
18079: LIST
18080: LIST
18081: LIST
18082: LIST
18083: ST_TO_ADDR
// for i = 1 to 4 do
18084: LD_ADDR_VAR 0 11
18088: PUSH
18089: DOUBLE
18090: LD_INT 1
18092: DEC
18093: ST_TO_ADDR
18094: LD_INT 4
18096: PUSH
18097: FOR_TO
18098: IFFALSE 18253
// begin if skills [ i ] < 0 then
18100: LD_VAR 0 8
18104: PUSH
18105: LD_VAR 0 11
18109: ARRAY
18110: PUSH
18111: LD_INT 0
18113: LESS
18114: IFFALSE 18139
// skills = replace ( skills , i , 0 ) ;
18116: LD_ADDR_VAR 0 8
18120: PUSH
18121: LD_VAR 0 8
18125: PPUSH
18126: LD_VAR 0 11
18130: PPUSH
18131: LD_INT 0
18133: PPUSH
18134: CALL_OW 1
18138: ST_TO_ADDR
// n = [ 0 , 1 , 0 , 1 , 0 , 2 , 0 , 0 , 1 , 0 ] [ rand ( 1 , 10 ) ] ;
18139: LD_ADDR_VAR 0 14
18143: PUSH
18144: LD_INT 0
18146: PUSH
18147: LD_INT 1
18149: PUSH
18150: LD_INT 0
18152: PUSH
18153: LD_INT 1
18155: PUSH
18156: LD_INT 0
18158: PUSH
18159: LD_INT 2
18161: PUSH
18162: LD_INT 0
18164: PUSH
18165: LD_INT 0
18167: PUSH
18168: LD_INT 1
18170: PUSH
18171: LD_INT 0
18173: PUSH
18174: EMPTY
18175: LIST
18176: LIST
18177: LIST
18178: LIST
18179: LIST
18180: LIST
18181: LIST
18182: LIST
18183: LIST
18184: LIST
18185: PUSH
18186: LD_INT 1
18188: PPUSH
18189: LD_INT 10
18191: PPUSH
18192: CALL_OW 12
18196: ARRAY
18197: ST_TO_ADDR
// if n > skills [ i ] then
18198: LD_VAR 0 14
18202: PUSH
18203: LD_VAR 0 8
18207: PUSH
18208: LD_VAR 0 11
18212: ARRAY
18213: GREATER
18214: IFFALSE 18232
// n = skills [ i ] ;
18216: LD_ADDR_VAR 0 14
18220: PUSH
18221: LD_VAR 0 8
18225: PUSH
18226: LD_VAR 0 11
18230: ARRAY
18231: ST_TO_ADDR
// replace ( base_skills , i , n ) ;
18232: LD_VAR 0 9
18236: PPUSH
18237: LD_VAR 0 11
18241: PPUSH
18242: LD_VAR 0 14
18246: PPUSH
18247: CALL_OW 1
// end ;
18251: GO 18097
18253: POP
18254: POP
// n = rand ( 1 , 100 ) ;
18255: LD_ADDR_VAR 0 14
18259: PUSH
18260: LD_INT 1
18262: PPUSH
18263: LD_INT 100
18265: PPUSH
18266: CALL_OW 12
18270: ST_TO_ADDR
// case n of 1 .. 32 :
18271: LD_VAR 0 14
18275: PUSH
18276: LD_INT 1
18278: DOUBLE
18279: GREATEREQUAL
18280: IFFALSE 18288
18282: LD_INT 32
18284: DOUBLE
18285: LESSEQUAL
18286: IFTRUE 18290
18288: GO 18301
18290: POP
// def = 10 ; 31 .. 54 :
18291: LD_ADDR_VAR 0 15
18295: PUSH
18296: LD_INT 10
18298: ST_TO_ADDR
18299: GO 18402
18301: LD_INT 31
18303: DOUBLE
18304: GREATEREQUAL
18305: IFFALSE 18313
18307: LD_INT 54
18309: DOUBLE
18310: LESSEQUAL
18311: IFTRUE 18315
18313: GO 18326
18315: POP
// def = 9 ; 55 .. 76 :
18316: LD_ADDR_VAR 0 15
18320: PUSH
18321: LD_INT 9
18323: ST_TO_ADDR
18324: GO 18402
18326: LD_INT 55
18328: DOUBLE
18329: GREATEREQUAL
18330: IFFALSE 18338
18332: LD_INT 76
18334: DOUBLE
18335: LESSEQUAL
18336: IFTRUE 18340
18338: GO 18351
18340: POP
// def = 11 ; 77 .. 88 :
18341: LD_ADDR_VAR 0 15
18345: PUSH
18346: LD_INT 11
18348: ST_TO_ADDR
18349: GO 18402
18351: LD_INT 77
18353: DOUBLE
18354: GREATEREQUAL
18355: IFFALSE 18363
18357: LD_INT 88
18359: DOUBLE
18360: LESSEQUAL
18361: IFTRUE 18365
18363: GO 18376
18365: POP
// def = 8 ; 89 .. 100 :
18366: LD_ADDR_VAR 0 15
18370: PUSH
18371: LD_INT 8
18373: ST_TO_ADDR
18374: GO 18402
18376: LD_INT 89
18378: DOUBLE
18379: GREATEREQUAL
18380: IFFALSE 18388
18382: LD_INT 100
18384: DOUBLE
18385: LESSEQUAL
18386: IFTRUE 18390
18388: GO 18401
18390: POP
// def = 12 ; end ;
18391: LD_ADDR_VAR 0 15
18395: PUSH
18396: LD_INT 12
18398: ST_TO_ADDR
18399: GO 18402
18401: POP
// n = rand ( 1 , 100 ) ;
18402: LD_ADDR_VAR 0 14
18406: PUSH
18407: LD_INT 1
18409: PPUSH
18410: LD_INT 100
18412: PPUSH
18413: CALL_OW 12
18417: ST_TO_ADDR
// case n of 1 .. 44 :
18418: LD_VAR 0 14
18422: PUSH
18423: LD_INT 1
18425: DOUBLE
18426: GREATEREQUAL
18427: IFFALSE 18435
18429: LD_INT 44
18431: DOUBLE
18432: LESSEQUAL
18433: IFTRUE 18437
18435: GO 18448
18437: POP
// speed = 10 ; 45 .. 76 :
18438: LD_ADDR_VAR 0 16
18442: PUSH
18443: LD_INT 10
18445: ST_TO_ADDR
18446: GO 18524
18448: LD_INT 45
18450: DOUBLE
18451: GREATEREQUAL
18452: IFFALSE 18460
18454: LD_INT 76
18456: DOUBLE
18457: LESSEQUAL
18458: IFTRUE 18462
18460: GO 18473
18462: POP
// speed = 9 ; 77 .. 94 :
18463: LD_ADDR_VAR 0 16
18467: PUSH
18468: LD_INT 9
18470: ST_TO_ADDR
18471: GO 18524
18473: LD_INT 77
18475: DOUBLE
18476: GREATEREQUAL
18477: IFFALSE 18485
18479: LD_INT 94
18481: DOUBLE
18482: LESSEQUAL
18483: IFTRUE 18487
18485: GO 18498
18487: POP
// speed = 11 ; 95 .. 100 :
18488: LD_ADDR_VAR 0 16
18492: PUSH
18493: LD_INT 11
18495: ST_TO_ADDR
18496: GO 18524
18498: LD_INT 95
18500: DOUBLE
18501: GREATEREQUAL
18502: IFFALSE 18510
18504: LD_INT 100
18506: DOUBLE
18507: LESSEQUAL
18508: IFTRUE 18512
18510: GO 18523
18512: POP
// speed = 12 ; end ;
18513: LD_ADDR_VAR 0 16
18517: PUSH
18518: LD_INT 12
18520: ST_TO_ADDR
18521: GO 18524
18523: POP
// hc_attr = [ def , speed ] ;
18524: LD_ADDR_OWVAR 29
18528: PUSH
18529: LD_VAR 0 15
18533: PUSH
18534: LD_VAR 0 16
18538: PUSH
18539: EMPTY
18540: LIST
18541: LIST
18542: ST_TO_ADDR
// hc_basic_skills = base_skills ;
18543: LD_ADDR_OWVAR 30
18547: PUSH
18548: LD_VAR 0 9
18552: ST_TO_ADDR
// hc_skills := skills ;
18553: LD_ADDR_OWVAR 31
18557: PUSH
18558: LD_VAR 0 8
18562: ST_TO_ADDR
// hc_class = cl ;
18563: LD_ADDR_OWVAR 28
18567: PUSH
18568: LD_VAR 0 3
18572: ST_TO_ADDR
// end ; end_of_file
18573: LD_VAR 0 2
18577: RET
// var strany ; export maxTechLevel ; export function Start_tech_ur ; var i ; begin
18578: LD_INT 0
18580: PPUSH
18581: PPUSH
// if not maxTechLevel then
18582: LD_EXP 114
18586: NOT
18587: IFFALSE 18597
// maxTechLevel = 8 ;
18589: LD_ADDR_EXP 114
18593: PUSH
18594: LD_INT 8
18596: ST_TO_ADDR
// strany = [ ] ;
18597: LD_ADDR_LOC 19
18601: PUSH
18602: EMPTY
18603: ST_TO_ADDR
// if def_tech_level > maxTechLevel then
18604: LD_EXP 26
18608: PUSH
18609: LD_EXP 114
18613: GREATER
18614: IFFALSE 18626
// def_tech_level = maxTechLevel ;
18616: LD_ADDR_EXP 26
18620: PUSH
18621: LD_EXP 114
18625: ST_TO_ADDR
// for i := 1 to Side_Positions do
18626: LD_ADDR_VAR 0 2
18630: PUSH
18631: DOUBLE
18632: LD_INT 1
18634: DEC
18635: ST_TO_ADDR
18636: LD_EXP 74
18640: PUSH
18641: FOR_TO
18642: IFFALSE 18674
// if Side_Positions [ i ] then
18644: LD_EXP 74
18648: PUSH
18649: LD_VAR 0 2
18653: ARRAY
18654: IFFALSE 18672
// strany = strany ^ i ;
18656: LD_ADDR_LOC 19
18660: PUSH
18661: LD_LOC 19
18665: PUSH
18666: LD_VAR 0 2
18670: ADD
18671: ST_TO_ADDR
18672: GO 18641
18674: POP
18675: POP
// for i in strany do
18676: LD_ADDR_VAR 0 2
18680: PUSH
18681: LD_LOC 19
18685: PUSH
18686: FOR_IN
18687: IFFALSE 18700
// Vse_zakaz ( i ) ;
18689: LD_VAR 0 2
18693: PPUSH
18694: CALL 19675 0 1
18698: GO 18686
18700: POP
18701: POP
// for i in strany do
18702: LD_ADDR_VAR 0 2
18706: PUSH
18707: LD_LOC 19
18711: PUSH
18712: FOR_IN
18713: IFFALSE 19135
// case def_tech_level of 1 :
18715: LD_EXP 26
18719: PUSH
18720: LD_INT 1
18722: DOUBLE
18723: EQUAL
18724: IFTRUE 18728
18726: GO 18740
18728: POP
// ur_1 ( i ) ; 2 :
18729: LD_VAR 0 2
18733: PPUSH
18734: CALL 19835 0 1
18738: GO 19133
18740: LD_INT 2
18742: DOUBLE
18743: EQUAL
18744: IFTRUE 18748
18746: GO 18769
18748: POP
// begin ur_1 ( i ) ;
18749: LD_VAR 0 2
18753: PPUSH
18754: CALL 19835 0 1
// ur_2 ( i ) ;
18758: LD_VAR 0 2
18762: PPUSH
18763: CALL 20220 0 1
// end ; 3 :
18767: GO 19133
18769: LD_INT 3
18771: DOUBLE
18772: EQUAL
18773: IFTRUE 18777
18775: GO 18807
18777: POP
// begin ur_1 ( i ) ;
18778: LD_VAR 0 2
18782: PPUSH
18783: CALL 19835 0 1
// ur_2 ( i ) ;
18787: LD_VAR 0 2
18791: PPUSH
18792: CALL 20220 0 1
// ur_3 ( i ) ;
18796: LD_VAR 0 2
18800: PPUSH
18801: CALL 20609 0 1
// end ; 4 :
18805: GO 19133
18807: LD_INT 4
18809: DOUBLE
18810: EQUAL
18811: IFTRUE 18815
18813: GO 18854
18815: POP
// begin ur_1 ( i ) ;
18816: LD_VAR 0 2
18820: PPUSH
18821: CALL 19835 0 1
// ur_2 ( i ) ;
18825: LD_VAR 0 2
18829: PPUSH
18830: CALL 20220 0 1
// ur_3 ( i ) ;
18834: LD_VAR 0 2
18838: PPUSH
18839: CALL 20609 0 1
// ur_4 ( i ) ;
18843: LD_VAR 0 2
18847: PPUSH
18848: CALL 21070 0 1
// end ; 5 :
18852: GO 19133
18854: LD_INT 5
18856: DOUBLE
18857: EQUAL
18858: IFTRUE 18862
18860: GO 18910
18862: POP
// begin ur_1 ( i ) ;
18863: LD_VAR 0 2
18867: PPUSH
18868: CALL 19835 0 1
// ur_2 ( i ) ;
18872: LD_VAR 0 2
18876: PPUSH
18877: CALL 20220 0 1
// ur_3 ( i ) ;
18881: LD_VAR 0 2
18885: PPUSH
18886: CALL 20609 0 1
// ur_4 ( i ) ;
18890: LD_VAR 0 2
18894: PPUSH
18895: CALL 21070 0 1
// ur_5 ( i ) ;
18899: LD_VAR 0 2
18903: PPUSH
18904: CALL 21547 0 1
// end ; 6 :
18908: GO 19133
18910: LD_INT 6
18912: DOUBLE
18913: EQUAL
18914: IFTRUE 18918
18916: GO 18975
18918: POP
// begin ur_1 ( i ) ;
18919: LD_VAR 0 2
18923: PPUSH
18924: CALL 19835 0 1
// ur_2 ( i ) ;
18928: LD_VAR 0 2
18932: PPUSH
18933: CALL 20220 0 1
// ur_3 ( i ) ;
18937: LD_VAR 0 2
18941: PPUSH
18942: CALL 20609 0 1
// ur_4 ( i ) ;
18946: LD_VAR 0 2
18950: PPUSH
18951: CALL 21070 0 1
// ur_5 ( i ) ;
18955: LD_VAR 0 2
18959: PPUSH
18960: CALL 21547 0 1
// ur_6 ( i ) ;
18964: LD_VAR 0 2
18968: PPUSH
18969: CALL 21841 0 1
// end ; 7 :
18973: GO 19133
18975: LD_INT 7
18977: DOUBLE
18978: EQUAL
18979: IFTRUE 18983
18981: GO 19049
18983: POP
// begin ur_1 ( i ) ;
18984: LD_VAR 0 2
18988: PPUSH
18989: CALL 19835 0 1
// ur_2 ( i ) ;
18993: LD_VAR 0 2
18997: PPUSH
18998: CALL 20220 0 1
// ur_3 ( i ) ;
19002: LD_VAR 0 2
19006: PPUSH
19007: CALL 20609 0 1
// ur_4 ( i ) ;
19011: LD_VAR 0 2
19015: PPUSH
19016: CALL 21070 0 1
// ur_5 ( i ) ;
19020: LD_VAR 0 2
19024: PPUSH
19025: CALL 21547 0 1
// ur_6 ( i ) ;
19029: LD_VAR 0 2
19033: PPUSH
19034: CALL 21841 0 1
// ur_7 ( i ) ;
19038: LD_VAR 0 2
19042: PPUSH
19043: CALL 22111 0 1
// end ; 8 :
19047: GO 19133
19049: LD_INT 8
19051: DOUBLE
19052: EQUAL
19053: IFTRUE 19057
19055: GO 19132
19057: POP
// begin ur_1 ( i ) ;
19058: LD_VAR 0 2
19062: PPUSH
19063: CALL 19835 0 1
// ur_2 ( i ) ;
19067: LD_VAR 0 2
19071: PPUSH
19072: CALL 20220 0 1
// ur_3 ( i ) ;
19076: LD_VAR 0 2
19080: PPUSH
19081: CALL 20609 0 1
// ur_4 ( i ) ;
19085: LD_VAR 0 2
19089: PPUSH
19090: CALL 21070 0 1
// ur_5 ( i ) ;
19094: LD_VAR 0 2
19098: PPUSH
19099: CALL 21547 0 1
// ur_6 ( i ) ;
19103: LD_VAR 0 2
19107: PPUSH
19108: CALL 21841 0 1
// ur_7 ( i ) ;
19112: LD_VAR 0 2
19116: PPUSH
19117: CALL 22111 0 1
// ur_8 ( i ) ;
19121: LD_VAR 0 2
19125: PPUSH
19126: CALL 22357 0 1
// end ; end ;
19130: GO 19133
19132: POP
19133: GO 18712
19135: POP
19136: POP
// end ;
19137: LD_VAR 0 1
19141: RET
// every 0 0$01 marked 30 do var i ;
19142: GO 19144
19144: DISABLE
19145: LD_INT 0
19147: PPUSH
// begin if def_upgrade_tl = 0 then
19148: LD_EXP 27
19152: PUSH
19153: LD_INT 0
19155: EQUAL
19156: IFFALSE 19160
// exit ;
19158: GO 19672
// if def_tech_level < 1 and not maxTechLevel < 1 then
19160: LD_EXP 26
19164: PUSH
19165: LD_INT 1
19167: LESS
19168: PUSH
19169: LD_EXP 114
19173: PUSH
19174: LD_INT 1
19176: LESS
19177: NOT
19178: AND
19179: IFFALSE 19224
// begin wait ( 0 0$50 * def_upgrade_tl ) ;
19181: LD_INT 1750
19183: PUSH
19184: LD_EXP 27
19188: MUL
19189: PPUSH
19190: CALL_OW 67
// for i in strany do
19194: LD_ADDR_VAR 0 1
19198: PUSH
19199: LD_LOC 19
19203: PUSH
19204: FOR_IN
19205: IFFALSE 19218
// ur_1 ( i ) ;
19207: LD_VAR 0 1
19211: PPUSH
19212: CALL 19835 0 1
19216: GO 19204
19218: POP
19219: POP
// Hustota_Zasilek ;
19220: CALL 2179 0 0
// end ; if def_tech_level < 2 and not maxTechLevel < 2 then
19224: LD_EXP 26
19228: PUSH
19229: LD_INT 2
19231: LESS
19232: PUSH
19233: LD_EXP 114
19237: PUSH
19238: LD_INT 2
19240: LESS
19241: NOT
19242: AND
19243: IFFALSE 19288
// begin wait ( 1 1$00 * def_upgrade_tl ) ;
19245: LD_INT 2100
19247: PUSH
19248: LD_EXP 27
19252: MUL
19253: PPUSH
19254: CALL_OW 67
// for i in strany do
19258: LD_ADDR_VAR 0 1
19262: PUSH
19263: LD_LOC 19
19267: PUSH
19268: FOR_IN
19269: IFFALSE 19282
// ur_2 ( i ) ;
19271: LD_VAR 0 1
19275: PPUSH
19276: CALL 20220 0 1
19280: GO 19268
19282: POP
19283: POP
// Hustota_Zasilek ;
19284: CALL 2179 0 0
// end ; if def_tech_level < 3 and not maxTechLevel < 3 then
19288: LD_EXP 26
19292: PUSH
19293: LD_INT 3
19295: LESS
19296: PUSH
19297: LD_EXP 114
19301: PUSH
19302: LD_INT 3
19304: LESS
19305: NOT
19306: AND
19307: IFFALSE 19352
// begin wait ( 3 3$30 * def_upgrade_tl ) ;
19309: LD_INT 7350
19311: PUSH
19312: LD_EXP 27
19316: MUL
19317: PPUSH
19318: CALL_OW 67
// for i in strany do
19322: LD_ADDR_VAR 0 1
19326: PUSH
19327: LD_LOC 19
19331: PUSH
19332: FOR_IN
19333: IFFALSE 19346
// ur_3 ( i ) ;
19335: LD_VAR 0 1
19339: PPUSH
19340: CALL 20609 0 1
19344: GO 19332
19346: POP
19347: POP
// Hustota_Zasilek ;
19348: CALL 2179 0 0
// end ; if def_tech_level < 4 and not maxTechLevel < 4 then
19352: LD_EXP 26
19356: PUSH
19357: LD_INT 4
19359: LESS
19360: PUSH
19361: LD_EXP 114
19365: PUSH
19366: LD_INT 4
19368: LESS
19369: NOT
19370: AND
19371: IFFALSE 19416
// begin wait ( 4 4$30 * def_upgrade_tl ) ;
19373: LD_INT 9450
19375: PUSH
19376: LD_EXP 27
19380: MUL
19381: PPUSH
19382: CALL_OW 67
// for i in strany do
19386: LD_ADDR_VAR 0 1
19390: PUSH
19391: LD_LOC 19
19395: PUSH
19396: FOR_IN
19397: IFFALSE 19410
// ur_4 ( i ) ;
19399: LD_VAR 0 1
19403: PPUSH
19404: CALL 21070 0 1
19408: GO 19396
19410: POP
19411: POP
// Hustota_Zasilek ;
19412: CALL 2179 0 0
// end ; if def_tech_level < 5 and not maxTechLevel < 5 then
19416: LD_EXP 26
19420: PUSH
19421: LD_INT 5
19423: LESS
19424: PUSH
19425: LD_EXP 114
19429: PUSH
19430: LD_INT 5
19432: LESS
19433: NOT
19434: AND
19435: IFFALSE 19480
// begin wait ( 3 3$30 * def_upgrade_tl ) ;
19437: LD_INT 7350
19439: PUSH
19440: LD_EXP 27
19444: MUL
19445: PPUSH
19446: CALL_OW 67
// for i in strany do
19450: LD_ADDR_VAR 0 1
19454: PUSH
19455: LD_LOC 19
19459: PUSH
19460: FOR_IN
19461: IFFALSE 19474
// ur_5 ( i ) ;
19463: LD_VAR 0 1
19467: PPUSH
19468: CALL 21547 0 1
19472: GO 19460
19474: POP
19475: POP
// Hustota_Zasilek ;
19476: CALL 2179 0 0
// end ; if def_tech_level < 6 and not maxTechLevel < 6 then
19480: LD_EXP 26
19484: PUSH
19485: LD_INT 6
19487: LESS
19488: PUSH
19489: LD_EXP 114
19493: PUSH
19494: LD_INT 6
19496: LESS
19497: NOT
19498: AND
19499: IFFALSE 19544
// begin wait ( 4 4$15 * def_upgrade_tl ) ;
19501: LD_INT 8925
19503: PUSH
19504: LD_EXP 27
19508: MUL
19509: PPUSH
19510: CALL_OW 67
// for i in strany do
19514: LD_ADDR_VAR 0 1
19518: PUSH
19519: LD_LOC 19
19523: PUSH
19524: FOR_IN
19525: IFFALSE 19538
// ur_6 ( i ) ;
19527: LD_VAR 0 1
19531: PPUSH
19532: CALL 21841 0 1
19536: GO 19524
19538: POP
19539: POP
// Hustota_Zasilek ;
19540: CALL 2179 0 0
// end ; if def_tech_level < 7 and not maxTechLevel < 7 then
19544: LD_EXP 26
19548: PUSH
19549: LD_INT 7
19551: LESS
19552: PUSH
19553: LD_EXP 114
19557: PUSH
19558: LD_INT 7
19560: LESS
19561: NOT
19562: AND
19563: IFFALSE 19608
// begin wait ( 4 4$45 * def_upgrade_tl ) ;
19565: LD_INT 9975
19567: PUSH
19568: LD_EXP 27
19572: MUL
19573: PPUSH
19574: CALL_OW 67
// for i in strany do
19578: LD_ADDR_VAR 0 1
19582: PUSH
19583: LD_LOC 19
19587: PUSH
19588: FOR_IN
19589: IFFALSE 19602
// ur_7 ( i ) ;
19591: LD_VAR 0 1
19595: PPUSH
19596: CALL 22111 0 1
19600: GO 19588
19602: POP
19603: POP
// Hustota_Zasilek ;
19604: CALL 2179 0 0
// end ; if def_tech_level < 8 and not maxTechLevel < 8 then
19608: LD_EXP 26
19612: PUSH
19613: LD_INT 8
19615: LESS
19616: PUSH
19617: LD_EXP 114
19621: PUSH
19622: LD_INT 8
19624: LESS
19625: NOT
19626: AND
19627: IFFALSE 19672
// begin wait ( 6 6$00 * def_upgrade_tl ) ;
19629: LD_INT 12600
19631: PUSH
19632: LD_EXP 27
19636: MUL
19637: PPUSH
19638: CALL_OW 67
// for i in strany do
19642: LD_ADDR_VAR 0 1
19646: PUSH
19647: LD_LOC 19
19651: PUSH
19652: FOR_IN
19653: IFFALSE 19666
// ur_8 ( i ) ;
19655: LD_VAR 0 1
19659: PPUSH
19660: CALL 22357 0 1
19664: GO 19652
19666: POP
19667: POP
// Hustota_Zasilek ;
19668: CALL 2179 0 0
// end ; end ;
19672: PPOPN 1
19674: END
// function Vse_zakaz ( side ) ; var i , zbudovy ; begin
19675: LD_INT 0
19677: PPUSH
19678: PPUSH
19679: PPUSH
// for i = 1 to 72 do
19680: LD_ADDR_VAR 0 3
19684: PUSH
19685: DOUBLE
19686: LD_INT 1
19688: DEC
19689: ST_TO_ADDR
19690: LD_INT 72
19692: PUSH
19693: FOR_TO
19694: IFFALSE 19715
// SetTech ( i , side , state_disabled ) ;
19696: LD_VAR 0 3
19700: PPUSH
19701: LD_VAR 0 1
19705: PPUSH
19706: LD_INT 0
19708: PPUSH
19709: CALL_OW 322
19713: GO 19693
19715: POP
19716: POP
// zbudovy = [ 1 , 5 , 2 , 3 , 16 , 19 , 23 , 10 , 11 , 12 , 13 , 14 , 15 , 29 , 30 , 32 ] ;
19717: LD_ADDR_VAR 0 4
19721: PUSH
19722: LD_INT 1
19724: PUSH
19725: LD_INT 5
19727: PUSH
19728: LD_INT 2
19730: PUSH
19731: LD_INT 3
19733: PUSH
19734: LD_INT 16
19736: PUSH
19737: LD_INT 19
19739: PUSH
19740: LD_INT 23
19742: PUSH
19743: LD_INT 10
19745: PUSH
19746: LD_INT 11
19748: PUSH
19749: LD_INT 12
19751: PUSH
19752: LD_INT 13
19754: PUSH
19755: LD_INT 14
19757: PUSH
19758: LD_INT 15
19760: PUSH
19761: LD_INT 29
19763: PUSH
19764: LD_INT 30
19766: PUSH
19767: LD_INT 32
19769: PUSH
19770: EMPTY
19771: LIST
19772: LIST
19773: LIST
19774: LIST
19775: LIST
19776: LIST
19777: LIST
19778: LIST
19779: LIST
19780: LIST
19781: LIST
19782: LIST
19783: LIST
19784: LIST
19785: LIST
19786: LIST
19787: ST_TO_ADDR
// for i in zbudovy do
19788: LD_ADDR_VAR 0 3
19792: PUSH
19793: LD_VAR 0 4
19797: PUSH
19798: FOR_IN
19799: IFFALSE 19820
// SetRestrict ( i , side , state_disabled ) ;
19801: LD_VAR 0 3
19805: PPUSH
19806: LD_VAR 0 1
19810: PPUSH
19811: LD_INT 0
19813: PPUSH
19814: CALL_OW 324
19818: GO 19798
19820: POP
19821: POP
// Tech_Level = 0 ;
19822: LD_ADDR_EXP 56
19826: PUSH
19827: LD_INT 0
19829: ST_TO_ADDR
// end ;
19830: LD_VAR 0 2
19834: RET
// function ur_1 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
19835: LD_INT 0
19837: PPUSH
19838: PPUSH
19839: PPUSH
19840: PPUSH
19841: PPUSH
// narodnost := Side_Nations [ side ] ;
19842: LD_ADDR_VAR 0 3
19846: PUSH
19847: LD_EXP 75
19851: PUSH
19852: LD_VAR 0 1
19856: ARRAY
19857: ST_TO_ADDR
// case narodnost of 1 :
19858: LD_VAR 0 3
19862: PUSH
19863: LD_INT 1
19865: DOUBLE
19866: EQUAL
19867: IFTRUE 19871
19869: GO 19980
19871: POP
// begin pbudovy = [ 2 , 29 ] ;
19872: LD_ADDR_VAR 0 5
19876: PUSH
19877: LD_INT 2
19879: PUSH
19880: LD_INT 29
19882: PUSH
19883: EMPTY
19884: LIST
19885: LIST
19886: ST_TO_ADDR
// for i in pbudovy do
19887: LD_ADDR_VAR 0 6
19891: PUSH
19892: LD_VAR 0 5
19896: PUSH
19897: FOR_IN
19898: IFFALSE 19919
// EnableBuilding ( i , side , state_enabled ) ;
19900: LD_VAR 0 6
19904: PPUSH
19905: LD_VAR 0 1
19909: PPUSH
19910: LD_INT 1
19912: PPUSH
19913: CALL 22536 0 3
19917: GO 19897
19919: POP
19920: POP
// ptech = [ 46 , 35 , 45 , 48 ] ;
19921: LD_ADDR_VAR 0 4
19925: PUSH
19926: LD_INT 46
19928: PUSH
19929: LD_INT 35
19931: PUSH
19932: LD_INT 45
19934: PUSH
19935: LD_INT 48
19937: PUSH
19938: EMPTY
19939: LIST
19940: LIST
19941: LIST
19942: LIST
19943: ST_TO_ADDR
// for i in ptech do
19944: LD_ADDR_VAR 0 6
19948: PUSH
19949: LD_VAR 0 4
19953: PUSH
19954: FOR_IN
19955: IFFALSE 19976
// EnableTech ( i , side , state_enabled ) ;
19957: LD_VAR 0 6
19961: PPUSH
19962: LD_VAR 0 1
19966: PPUSH
19967: LD_INT 1
19969: PPUSH
19970: CALL 22457 0 3
19974: GO 19954
19976: POP
19977: POP
// end ; 2 :
19978: GO 20207
19980: LD_INT 2
19982: DOUBLE
19983: EQUAL
19984: IFTRUE 19988
19986: GO 20097
19988: POP
// begin pbudovy = [ 2 , 29 ] ;
19989: LD_ADDR_VAR 0 5
19993: PUSH
19994: LD_INT 2
19996: PUSH
19997: LD_INT 29
19999: PUSH
20000: EMPTY
20001: LIST
20002: LIST
20003: ST_TO_ADDR
// for i in pbudovy do
20004: LD_ADDR_VAR 0 6
20008: PUSH
20009: LD_VAR 0 5
20013: PUSH
20014: FOR_IN
20015: IFFALSE 20036
// EnableBuilding ( i , side , state_enabled ) ;
20017: LD_VAR 0 6
20021: PPUSH
20022: LD_VAR 0 1
20026: PPUSH
20027: LD_INT 1
20029: PPUSH
20030: CALL 22536 0 3
20034: GO 20014
20036: POP
20037: POP
// ptech = [ 46 , 35 , 45 , 48 ] ;
20038: LD_ADDR_VAR 0 4
20042: PUSH
20043: LD_INT 46
20045: PUSH
20046: LD_INT 35
20048: PUSH
20049: LD_INT 45
20051: PUSH
20052: LD_INT 48
20054: PUSH
20055: EMPTY
20056: LIST
20057: LIST
20058: LIST
20059: LIST
20060: ST_TO_ADDR
// for i in ptech do
20061: LD_ADDR_VAR 0 6
20065: PUSH
20066: LD_VAR 0 4
20070: PUSH
20071: FOR_IN
20072: IFFALSE 20093
// EnableTech ( i , side , state_enabled ) ;
20074: LD_VAR 0 6
20078: PPUSH
20079: LD_VAR 0 1
20083: PPUSH
20084: LD_INT 1
20086: PPUSH
20087: CALL 22457 0 3
20091: GO 20071
20093: POP
20094: POP
// end ; 3 :
20095: GO 20207
20097: LD_INT 3
20099: DOUBLE
20100: EQUAL
20101: IFTRUE 20105
20103: GO 20206
20105: POP
// begin pbudovy = [ 2 , 29 ] ;
20106: LD_ADDR_VAR 0 5
20110: PUSH
20111: LD_INT 2
20113: PUSH
20114: LD_INT 29
20116: PUSH
20117: EMPTY
20118: LIST
20119: LIST
20120: ST_TO_ADDR
// for i in pbudovy do
20121: LD_ADDR_VAR 0 6
20125: PUSH
20126: LD_VAR 0 5
20130: PUSH
20131: FOR_IN
20132: IFFALSE 20153
// EnableBuilding ( i , side , state_enabled ) ;
20134: LD_VAR 0 6
20138: PPUSH
20139: LD_VAR 0 1
20143: PPUSH
20144: LD_INT 1
20146: PPUSH
20147: CALL 22536 0 3
20151: GO 20131
20153: POP
20154: POP
// ptech = [ 46 , 47 ] ;
20155: LD_ADDR_VAR 0 4
20159: PUSH
20160: LD_INT 46
20162: PUSH
20163: LD_INT 47
20165: PUSH
20166: EMPTY
20167: LIST
20168: LIST
20169: ST_TO_ADDR
// for i in ptech do
20170: LD_ADDR_VAR 0 6
20174: PUSH
20175: LD_VAR 0 4
20179: PUSH
20180: FOR_IN
20181: IFFALSE 20202
// EnableTech ( i , side , state_enabled ) ;
20183: LD_VAR 0 6
20187: PPUSH
20188: LD_VAR 0 1
20192: PPUSH
20193: LD_INT 1
20195: PPUSH
20196: CALL 22457 0 3
20200: GO 20180
20202: POP
20203: POP
// end ; end ;
20204: GO 20207
20206: POP
// Tech_Level = 1 ;
20207: LD_ADDR_EXP 56
20211: PUSH
20212: LD_INT 1
20214: ST_TO_ADDR
// end ;
20215: LD_VAR 0 2
20219: RET
// function ur_2 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
20220: LD_INT 0
20222: PPUSH
20223: PPUSH
20224: PPUSH
20225: PPUSH
20226: PPUSH
// narodnost := Side_Nations [ side ] ;
20227: LD_ADDR_VAR 0 3
20231: PUSH
20232: LD_EXP 75
20236: PUSH
20237: LD_VAR 0 1
20241: ARRAY
20242: ST_TO_ADDR
// case narodnost of 1 :
20243: LD_VAR 0 3
20247: PUSH
20248: LD_INT 1
20250: DOUBLE
20251: EQUAL
20252: IFTRUE 20256
20254: GO 20365
20256: POP
// begin pbudovy = [ 10 , 3 ] ;
20257: LD_ADDR_VAR 0 5
20261: PUSH
20262: LD_INT 10
20264: PUSH
20265: LD_INT 3
20267: PUSH
20268: EMPTY
20269: LIST
20270: LIST
20271: ST_TO_ADDR
// for i in pbudovy do
20272: LD_ADDR_VAR 0 6
20276: PUSH
20277: LD_VAR 0 5
20281: PUSH
20282: FOR_IN
20283: IFFALSE 20304
// EnableBuilding ( i , side , state_enabled ) ;
20285: LD_VAR 0 6
20289: PPUSH
20290: LD_VAR 0 1
20294: PPUSH
20295: LD_INT 1
20297: PPUSH
20298: CALL 22536 0 3
20302: GO 20282
20304: POP
20305: POP
// ptech = [ 1 , 47 , 69 , 2 ] ;
20306: LD_ADDR_VAR 0 4
20310: PUSH
20311: LD_INT 1
20313: PUSH
20314: LD_INT 47
20316: PUSH
20317: LD_INT 69
20319: PUSH
20320: LD_INT 2
20322: PUSH
20323: EMPTY
20324: LIST
20325: LIST
20326: LIST
20327: LIST
20328: ST_TO_ADDR
// for i in ptech do
20329: LD_ADDR_VAR 0 6
20333: PUSH
20334: LD_VAR 0 4
20338: PUSH
20339: FOR_IN
20340: IFFALSE 20361
// EnableTech ( i , side , state_enabled ) ;
20342: LD_VAR 0 6
20346: PPUSH
20347: LD_VAR 0 1
20351: PPUSH
20352: LD_INT 1
20354: PPUSH
20355: CALL 22457 0 3
20359: GO 20339
20361: POP
20362: POP
// end ; 2 :
20363: GO 20596
20365: LD_INT 2
20367: DOUBLE
20368: EQUAL
20369: IFTRUE 20373
20371: GO 20482
20373: POP
// begin pbudovy = [ 10 , 3 ] ;
20374: LD_ADDR_VAR 0 5
20378: PUSH
20379: LD_INT 10
20381: PUSH
20382: LD_INT 3
20384: PUSH
20385: EMPTY
20386: LIST
20387: LIST
20388: ST_TO_ADDR
// for i in pbudovy do
20389: LD_ADDR_VAR 0 6
20393: PUSH
20394: LD_VAR 0 5
20398: PUSH
20399: FOR_IN
20400: IFFALSE 20421
// EnableBuilding ( i , side , state_enabled ) ;
20402: LD_VAR 0 6
20406: PPUSH
20407: LD_VAR 0 1
20411: PPUSH
20412: LD_INT 1
20414: PPUSH
20415: CALL 22536 0 3
20419: GO 20399
20421: POP
20422: POP
// ptech = [ 1 , 47 , 69 , 11 ] ;
20423: LD_ADDR_VAR 0 4
20427: PUSH
20428: LD_INT 1
20430: PUSH
20431: LD_INT 47
20433: PUSH
20434: LD_INT 69
20436: PUSH
20437: LD_INT 11
20439: PUSH
20440: EMPTY
20441: LIST
20442: LIST
20443: LIST
20444: LIST
20445: ST_TO_ADDR
// for i in ptech do
20446: LD_ADDR_VAR 0 6
20450: PUSH
20451: LD_VAR 0 4
20455: PUSH
20456: FOR_IN
20457: IFFALSE 20478
// EnableTech ( i , side , state_enabled ) ;
20459: LD_VAR 0 6
20463: PPUSH
20464: LD_VAR 0 1
20468: PPUSH
20469: LD_INT 1
20471: PPUSH
20472: CALL 22457 0 3
20476: GO 20456
20478: POP
20479: POP
// end ; 3 :
20480: GO 20596
20482: LD_INT 3
20484: DOUBLE
20485: EQUAL
20486: IFTRUE 20490
20488: GO 20595
20490: POP
// begin pbudovy = [ 10 ] ;
20491: LD_ADDR_VAR 0 5
20495: PUSH
20496: LD_INT 10
20498: PUSH
20499: EMPTY
20500: LIST
20501: ST_TO_ADDR
// for i in pbudovy do
20502: LD_ADDR_VAR 0 6
20506: PUSH
20507: LD_VAR 0 5
20511: PUSH
20512: FOR_IN
20513: IFFALSE 20534
// EnableBuilding ( i , side , state_enabled ) ;
20515: LD_VAR 0 6
20519: PPUSH
20520: LD_VAR 0 1
20524: PPUSH
20525: LD_INT 1
20527: PPUSH
20528: CALL 22536 0 3
20532: GO 20512
20534: POP
20535: POP
// ptech = [ 1 , 2 , 48 , 51 ] ;
20536: LD_ADDR_VAR 0 4
20540: PUSH
20541: LD_INT 1
20543: PUSH
20544: LD_INT 2
20546: PUSH
20547: LD_INT 48
20549: PUSH
20550: LD_INT 51
20552: PUSH
20553: EMPTY
20554: LIST
20555: LIST
20556: LIST
20557: LIST
20558: ST_TO_ADDR
// for i in ptech do
20559: LD_ADDR_VAR 0 6
20563: PUSH
20564: LD_VAR 0 4
20568: PUSH
20569: FOR_IN
20570: IFFALSE 20591
// EnableTech ( i , side , state_enabled ) ;
20572: LD_VAR 0 6
20576: PPUSH
20577: LD_VAR 0 1
20581: PPUSH
20582: LD_INT 1
20584: PPUSH
20585: CALL 22457 0 3
20589: GO 20569
20591: POP
20592: POP
// end ; end ;
20593: GO 20596
20595: POP
// Tech_Level = 2 ;
20596: LD_ADDR_EXP 56
20600: PUSH
20601: LD_INT 2
20603: ST_TO_ADDR
// end ;
20604: LD_VAR 0 2
20608: RET
// function ur_3 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
20609: LD_INT 0
20611: PPUSH
20612: PPUSH
20613: PPUSH
20614: PPUSH
20615: PPUSH
// narodnost := Side_Nations [ side ] ;
20616: LD_ADDR_VAR 0 3
20620: PUSH
20621: LD_EXP 75
20625: PUSH
20626: LD_VAR 0 1
20630: ARRAY
20631: ST_TO_ADDR
// case narodnost of 1 :
20632: LD_VAR 0 3
20636: PUSH
20637: LD_INT 1
20639: DOUBLE
20640: EQUAL
20641: IFTRUE 20645
20643: GO 20770
20645: POP
// begin pbudovy = [ 32 , 19 , 5 , 16 , 15 ] ;
20646: LD_ADDR_VAR 0 5
20650: PUSH
20651: LD_INT 32
20653: PUSH
20654: LD_INT 19
20656: PUSH
20657: LD_INT 5
20659: PUSH
20660: LD_INT 16
20662: PUSH
20663: LD_INT 15
20665: PUSH
20666: EMPTY
20667: LIST
20668: LIST
20669: LIST
20670: LIST
20671: LIST
20672: ST_TO_ADDR
// for i in pbudovy do
20673: LD_ADDR_VAR 0 6
20677: PUSH
20678: LD_VAR 0 5
20682: PUSH
20683: FOR_IN
20684: IFFALSE 20705
// EnableBuilding ( i , side , state_enabled ) ;
20686: LD_VAR 0 6
20690: PPUSH
20691: LD_VAR 0 1
20695: PPUSH
20696: LD_INT 1
20698: PPUSH
20699: CALL 22536 0 3
20703: GO 20683
20705: POP
20706: POP
// ptech = [ 39 , 49 , 6 , 12 , 51 ] ;
20707: LD_ADDR_VAR 0 4
20711: PUSH
20712: LD_INT 39
20714: PUSH
20715: LD_INT 49
20717: PUSH
20718: LD_INT 6
20720: PUSH
20721: LD_INT 12
20723: PUSH
20724: LD_INT 51
20726: PUSH
20727: EMPTY
20728: LIST
20729: LIST
20730: LIST
20731: LIST
20732: LIST
20733: ST_TO_ADDR
// for i in ptech do
20734: LD_ADDR_VAR 0 6
20738: PUSH
20739: LD_VAR 0 4
20743: PUSH
20744: FOR_IN
20745: IFFALSE 20766
// EnableTech ( i , side , state_enabled ) ;
20747: LD_VAR 0 6
20751: PPUSH
20752: LD_VAR 0 1
20756: PPUSH
20757: LD_INT 1
20759: PPUSH
20760: CALL 22457 0 3
20764: GO 20744
20766: POP
20767: POP
// end ; 2 :
20768: GO 21057
20770: LD_INT 2
20772: DOUBLE
20773: EQUAL
20774: IFTRUE 20778
20776: GO 20911
20778: POP
// begin pbudovy = [ 32 , 23 , 5 , 16 , 15 ] ;
20779: LD_ADDR_VAR 0 5
20783: PUSH
20784: LD_INT 32
20786: PUSH
20787: LD_INT 23
20789: PUSH
20790: LD_INT 5
20792: PUSH
20793: LD_INT 16
20795: PUSH
20796: LD_INT 15
20798: PUSH
20799: EMPTY
20800: LIST
20801: LIST
20802: LIST
20803: LIST
20804: LIST
20805: ST_TO_ADDR
// for i in pbudovy do
20806: LD_ADDR_VAR 0 6
20810: PUSH
20811: LD_VAR 0 5
20815: PUSH
20816: FOR_IN
20817: IFFALSE 20838
// EnableBuilding ( i , side , state_enabled ) ;
20819: LD_VAR 0 6
20823: PPUSH
20824: LD_VAR 0 1
20828: PPUSH
20829: LD_INT 1
20831: PPUSH
20832: CALL 22536 0 3
20836: GO 20816
20838: POP
20839: POP
// ptech = [ 39 , 49 , 6 , 51 , 17 , 42 , 70 ] ;
20840: LD_ADDR_VAR 0 4
20844: PUSH
20845: LD_INT 39
20847: PUSH
20848: LD_INT 49
20850: PUSH
20851: LD_INT 6
20853: PUSH
20854: LD_INT 51
20856: PUSH
20857: LD_INT 17
20859: PUSH
20860: LD_INT 42
20862: PUSH
20863: LD_INT 70
20865: PUSH
20866: EMPTY
20867: LIST
20868: LIST
20869: LIST
20870: LIST
20871: LIST
20872: LIST
20873: LIST
20874: ST_TO_ADDR
// for i in ptech do
20875: LD_ADDR_VAR 0 6
20879: PUSH
20880: LD_VAR 0 4
20884: PUSH
20885: FOR_IN
20886: IFFALSE 20907
// EnableTech ( i , side , state_enabled ) ;
20888: LD_VAR 0 6
20892: PPUSH
20893: LD_VAR 0 1
20897: PPUSH
20898: LD_INT 1
20900: PPUSH
20901: CALL 22457 0 3
20905: GO 20885
20907: POP
20908: POP
// end ; 3 :
20909: GO 21057
20911: LD_INT 3
20913: DOUBLE
20914: EQUAL
20915: IFTRUE 20919
20917: GO 21056
20919: POP
// begin pbudovy = [ 3 , 32 , 19 , 5 , 14 , 30 ] ;
20920: LD_ADDR_VAR 0 5
20924: PUSH
20925: LD_INT 3
20927: PUSH
20928: LD_INT 32
20930: PUSH
20931: LD_INT 19
20933: PUSH
20934: LD_INT 5
20936: PUSH
20937: LD_INT 14
20939: PUSH
20940: LD_INT 30
20942: PUSH
20943: EMPTY
20944: LIST
20945: LIST
20946: LIST
20947: LIST
20948: LIST
20949: LIST
20950: ST_TO_ADDR
// for i in pbudovy do
20951: LD_ADDR_VAR 0 6
20955: PUSH
20956: LD_VAR 0 5
20960: PUSH
20961: FOR_IN
20962: IFFALSE 20983
// EnableBuilding ( i , side , state_enabled ) ;
20964: LD_VAR 0 6
20968: PPUSH
20969: LD_VAR 0 1
20973: PPUSH
20974: LD_INT 1
20976: PPUSH
20977: CALL 22536 0 3
20981: GO 20961
20983: POP
20984: POP
// ptech = [ 39 , 49 , 69 , 40 , 30 , 11 , 20 ] ;
20985: LD_ADDR_VAR 0 4
20989: PUSH
20990: LD_INT 39
20992: PUSH
20993: LD_INT 49
20995: PUSH
20996: LD_INT 69
20998: PUSH
20999: LD_INT 40
21001: PUSH
21002: LD_INT 30
21004: PUSH
21005: LD_INT 11
21007: PUSH
21008: LD_INT 20
21010: PUSH
21011: EMPTY
21012: LIST
21013: LIST
21014: LIST
21015: LIST
21016: LIST
21017: LIST
21018: LIST
21019: ST_TO_ADDR
// for i in ptech do
21020: LD_ADDR_VAR 0 6
21024: PUSH
21025: LD_VAR 0 4
21029: PUSH
21030: FOR_IN
21031: IFFALSE 21052
// EnableTech ( i , side , state_enabled ) ;
21033: LD_VAR 0 6
21037: PPUSH
21038: LD_VAR 0 1
21042: PPUSH
21043: LD_INT 1
21045: PPUSH
21046: CALL 22457 0 3
21050: GO 21030
21052: POP
21053: POP
// end ; end ;
21054: GO 21057
21056: POP
// Tech_Level = 3 ;
21057: LD_ADDR_EXP 56
21061: PUSH
21062: LD_INT 3
21064: ST_TO_ADDR
// end ;
21065: LD_VAR 0 2
21069: RET
// function ur_4 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
21070: LD_INT 0
21072: PPUSH
21073: PPUSH
21074: PPUSH
21075: PPUSH
21076: PPUSH
// narodnost := Side_Nations [ side ] ;
21077: LD_ADDR_VAR 0 3
21081: PUSH
21082: LD_EXP 75
21086: PUSH
21087: LD_VAR 0 1
21091: ARRAY
21092: ST_TO_ADDR
// case narodnost of 1 :
21093: LD_VAR 0 3
21097: PUSH
21098: LD_INT 1
21100: DOUBLE
21101: EQUAL
21102: IFTRUE 21106
21104: GO 21243
21106: POP
// begin pbudovy = [ 30 , 12 , 11 , 1 ] ;
21107: LD_ADDR_VAR 0 5
21111: PUSH
21112: LD_INT 30
21114: PUSH
21115: LD_INT 12
21117: PUSH
21118: LD_INT 11
21120: PUSH
21121: LD_INT 1
21123: PUSH
21124: EMPTY
21125: LIST
21126: LIST
21127: LIST
21128: LIST
21129: ST_TO_ADDR
// for i in pbudovy do
21130: LD_ADDR_VAR 0 6
21134: PUSH
21135: LD_VAR 0 5
21139: PUSH
21140: FOR_IN
21141: IFFALSE 21162
// EnableBuilding ( i , side , state_enabled ) ;
21143: LD_VAR 0 6
21147: PPUSH
21148: LD_VAR 0 1
21152: PPUSH
21153: LD_INT 1
21155: PPUSH
21156: CALL 22536 0 3
21160: GO 21140
21162: POP
21163: POP
// ptech = [ 21 , 22 , 7 , 20 , 32 , 40 , 10 , 60 , 52 ] ;
21164: LD_ADDR_VAR 0 4
21168: PUSH
21169: LD_INT 21
21171: PUSH
21172: LD_INT 22
21174: PUSH
21175: LD_INT 7
21177: PUSH
21178: LD_INT 20
21180: PUSH
21181: LD_INT 32
21183: PUSH
21184: LD_INT 40
21186: PUSH
21187: LD_INT 10
21189: PUSH
21190: LD_INT 60
21192: PUSH
21193: LD_INT 52
21195: PUSH
21196: EMPTY
21197: LIST
21198: LIST
21199: LIST
21200: LIST
21201: LIST
21202: LIST
21203: LIST
21204: LIST
21205: LIST
21206: ST_TO_ADDR
// for i in ptech do
21207: LD_ADDR_VAR 0 6
21211: PUSH
21212: LD_VAR 0 4
21216: PUSH
21217: FOR_IN
21218: IFFALSE 21239
// EnableTech ( i , side , state_enabled ) ;
21220: LD_VAR 0 6
21224: PPUSH
21225: LD_VAR 0 1
21229: PPUSH
21230: LD_INT 1
21232: PPUSH
21233: CALL 22457 0 3
21237: GO 21217
21239: POP
21240: POP
// end ; 2 :
21241: GO 21534
21243: LD_INT 2
21245: DOUBLE
21246: EQUAL
21247: IFTRUE 21251
21249: GO 21392
21251: POP
// begin pbudovy = [ 30 , 11 , 13 , 1 ] ;
21252: LD_ADDR_VAR 0 5
21256: PUSH
21257: LD_INT 30
21259: PUSH
21260: LD_INT 11
21262: PUSH
21263: LD_INT 13
21265: PUSH
21266: LD_INT 1
21268: PUSH
21269: EMPTY
21270: LIST
21271: LIST
21272: LIST
21273: LIST
21274: ST_TO_ADDR
// for i in pbudovy do
21275: LD_ADDR_VAR 0 6
21279: PUSH
21280: LD_VAR 0 5
21284: PUSH
21285: FOR_IN
21286: IFFALSE 21307
// EnableBuilding ( i , side , state_enabled ) ;
21288: LD_VAR 0 6
21292: PPUSH
21293: LD_VAR 0 1
21297: PPUSH
21298: LD_INT 1
21300: PPUSH
21301: CALL 22536 0 3
21305: GO 21285
21307: POP
21308: POP
// ptech = [ 21 , 22 , 3 , 5 , 7 , 60 , 40 , 41 , 20 , 52 ] ;
21309: LD_ADDR_VAR 0 4
21313: PUSH
21314: LD_INT 21
21316: PUSH
21317: LD_INT 22
21319: PUSH
21320: LD_INT 3
21322: PUSH
21323: LD_INT 5
21325: PUSH
21326: LD_INT 7
21328: PUSH
21329: LD_INT 60
21331: PUSH
21332: LD_INT 40
21334: PUSH
21335: LD_INT 41
21337: PUSH
21338: LD_INT 20
21340: PUSH
21341: LD_INT 52
21343: PUSH
21344: EMPTY
21345: LIST
21346: LIST
21347: LIST
21348: LIST
21349: LIST
21350: LIST
21351: LIST
21352: LIST
21353: LIST
21354: LIST
21355: ST_TO_ADDR
// for i in ptech do
21356: LD_ADDR_VAR 0 6
21360: PUSH
21361: LD_VAR 0 4
21365: PUSH
21366: FOR_IN
21367: IFFALSE 21388
// EnableTech ( i , side , state_enabled ) ;
21369: LD_VAR 0 6
21373: PPUSH
21374: LD_VAR 0 1
21378: PPUSH
21379: LD_INT 1
21381: PPUSH
21382: CALL 22457 0 3
21386: GO 21366
21388: POP
21389: POP
// end ; 3 :
21390: GO 21534
21392: LD_INT 3
21394: DOUBLE
21395: EQUAL
21396: IFTRUE 21400
21398: GO 21533
21400: POP
// begin pbudovy = [ 12 , 11 , 16 , 1 ] ;
21401: LD_ADDR_VAR 0 5
21405: PUSH
21406: LD_INT 12
21408: PUSH
21409: LD_INT 11
21411: PUSH
21412: LD_INT 16
21414: PUSH
21415: LD_INT 1
21417: PUSH
21418: EMPTY
21419: LIST
21420: LIST
21421: LIST
21422: LIST
21423: ST_TO_ADDR
// for i in pbudovy do
21424: LD_ADDR_VAR 0 6
21428: PUSH
21429: LD_VAR 0 5
21433: PUSH
21434: FOR_IN
21435: IFFALSE 21456
// EnableBuilding ( i , side , state_enabled ) ;
21437: LD_VAR 0 6
21441: PPUSH
21442: LD_VAR 0 1
21446: PPUSH
21447: LD_INT 1
21449: PPUSH
21450: CALL 22536 0 3
21454: GO 21434
21456: POP
21457: POP
// ptech = [ 21 , 22 , 44 , 9 , 37 , 32 , 63 , 52 ] ;
21458: LD_ADDR_VAR 0 4
21462: PUSH
21463: LD_INT 21
21465: PUSH
21466: LD_INT 22
21468: PUSH
21469: LD_INT 44
21471: PUSH
21472: LD_INT 9
21474: PUSH
21475: LD_INT 37
21477: PUSH
21478: LD_INT 32
21480: PUSH
21481: LD_INT 63
21483: PUSH
21484: LD_INT 52
21486: PUSH
21487: EMPTY
21488: LIST
21489: LIST
21490: LIST
21491: LIST
21492: LIST
21493: LIST
21494: LIST
21495: LIST
21496: ST_TO_ADDR
// for i in ptech do
21497: LD_ADDR_VAR 0 6
21501: PUSH
21502: LD_VAR 0 4
21506: PUSH
21507: FOR_IN
21508: IFFALSE 21529
// EnableTech ( i , side , state_enabled ) ;
21510: LD_VAR 0 6
21514: PPUSH
21515: LD_VAR 0 1
21519: PPUSH
21520: LD_INT 1
21522: PPUSH
21523: CALL 22457 0 3
21527: GO 21507
21529: POP
21530: POP
// end ; end ;
21531: GO 21534
21533: POP
// Tech_Level = 4 ;
21534: LD_ADDR_EXP 56
21538: PUSH
21539: LD_INT 4
21541: ST_TO_ADDR
// end ;
21542: LD_VAR 0 2
21546: RET
// function ur_5 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
21547: LD_INT 0
21549: PPUSH
21550: PPUSH
21551: PPUSH
21552: PPUSH
21553: PPUSH
// narodnost := Side_Nations [ side ] ;
21554: LD_ADDR_VAR 0 3
21558: PUSH
21559: LD_EXP 75
21563: PUSH
21564: LD_VAR 0 1
21568: ARRAY
21569: ST_TO_ADDR
// case narodnost of 1 :
21570: LD_VAR 0 3
21574: PUSH
21575: LD_INT 1
21577: DOUBLE
21578: EQUAL
21579: IFTRUE 21583
21581: GO 21655
21583: POP
// begin ptech = [ 50 , 54 , 15 , 13 , 34 , 36 , 57 ] ;
21584: LD_ADDR_VAR 0 4
21588: PUSH
21589: LD_INT 50
21591: PUSH
21592: LD_INT 54
21594: PUSH
21595: LD_INT 15
21597: PUSH
21598: LD_INT 13
21600: PUSH
21601: LD_INT 34
21603: PUSH
21604: LD_INT 36
21606: PUSH
21607: LD_INT 57
21609: PUSH
21610: EMPTY
21611: LIST
21612: LIST
21613: LIST
21614: LIST
21615: LIST
21616: LIST
21617: LIST
21618: ST_TO_ADDR
// for i in ptech do
21619: LD_ADDR_VAR 0 6
21623: PUSH
21624: LD_VAR 0 4
21628: PUSH
21629: FOR_IN
21630: IFFALSE 21651
// EnableTech ( i , side , state_enabled ) ;
21632: LD_VAR 0 6
21636: PPUSH
21637: LD_VAR 0 1
21641: PPUSH
21642: LD_INT 1
21644: PPUSH
21645: CALL 22457 0 3
21649: GO 21629
21651: POP
21652: POP
// end ; 2 :
21653: GO 21828
21655: LD_INT 2
21657: DOUBLE
21658: EQUAL
21659: IFTRUE 21663
21661: GO 21735
21663: POP
// begin ptech = [ 50 , 54 , 66 , 18 , 15 , 43 , 26 , ] ;
21664: LD_ADDR_VAR 0 4
21668: PUSH
21669: LD_INT 50
21671: PUSH
21672: LD_INT 54
21674: PUSH
21675: LD_INT 66
21677: PUSH
21678: LD_INT 18
21680: PUSH
21681: LD_INT 15
21683: PUSH
21684: LD_INT 43
21686: PUSH
21687: LD_INT 26
21689: PUSH
21690: EMPTY
21691: LIST
21692: LIST
21693: LIST
21694: LIST
21695: LIST
21696: LIST
21697: LIST
21698: ST_TO_ADDR
// for i in ptech do
21699: LD_ADDR_VAR 0 6
21703: PUSH
21704: LD_VAR 0 4
21708: PUSH
21709: FOR_IN
21710: IFFALSE 21731
// EnableTech ( i , side , state_enabled ) ;
21712: LD_VAR 0 6
21716: PPUSH
21717: LD_VAR 0 1
21721: PPUSH
21722: LD_INT 1
21724: PPUSH
21725: CALL 22457 0 3
21729: GO 21709
21731: POP
21732: POP
// end ; 3 :
21733: GO 21828
21735: LD_INT 3
21737: DOUBLE
21738: EQUAL
21739: IFTRUE 21743
21741: GO 21827
21743: POP
// begin ptech = [ 50 , 54 , 57 , 29 , 28 , 33 , 34 , 19 , 27 , 38 ] ;
21744: LD_ADDR_VAR 0 4
21748: PUSH
21749: LD_INT 50
21751: PUSH
21752: LD_INT 54
21754: PUSH
21755: LD_INT 57
21757: PUSH
21758: LD_INT 29
21760: PUSH
21761: LD_INT 28
21763: PUSH
21764: LD_INT 33
21766: PUSH
21767: LD_INT 34
21769: PUSH
21770: LD_INT 19
21772: PUSH
21773: LD_INT 27
21775: PUSH
21776: LD_INT 38
21778: PUSH
21779: EMPTY
21780: LIST
21781: LIST
21782: LIST
21783: LIST
21784: LIST
21785: LIST
21786: LIST
21787: LIST
21788: LIST
21789: LIST
21790: ST_TO_ADDR
// for i in ptech do
21791: LD_ADDR_VAR 0 6
21795: PUSH
21796: LD_VAR 0 4
21800: PUSH
21801: FOR_IN
21802: IFFALSE 21823
// EnableTech ( i , side , state_enabled ) ;
21804: LD_VAR 0 6
21808: PPUSH
21809: LD_VAR 0 1
21813: PPUSH
21814: LD_INT 1
21816: PPUSH
21817: CALL 22457 0 3
21821: GO 21801
21823: POP
21824: POP
// end ; end ;
21825: GO 21828
21827: POP
// Tech_Level = 5 ;
21828: LD_ADDR_EXP 56
21832: PUSH
21833: LD_INT 5
21835: ST_TO_ADDR
// end ;
21836: LD_VAR 0 2
21840: RET
// function ur_6 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
21841: LD_INT 0
21843: PPUSH
21844: PPUSH
21845: PPUSH
21846: PPUSH
21847: PPUSH
// narodnost := Side_Nations [ side ] ;
21848: LD_ADDR_VAR 0 3
21852: PUSH
21853: LD_EXP 75
21857: PUSH
21858: LD_VAR 0 1
21862: ARRAY
21863: ST_TO_ADDR
// case narodnost of 1 :
21864: LD_VAR 0 3
21868: PUSH
21869: LD_INT 1
21871: DOUBLE
21872: EQUAL
21873: IFTRUE 21877
21875: GO 21945
21877: POP
// begin ptech = [ 53 , 55 , 16 , 61 , 58 , 27 ] ;
21878: LD_ADDR_VAR 0 4
21882: PUSH
21883: LD_INT 53
21885: PUSH
21886: LD_INT 55
21888: PUSH
21889: LD_INT 16
21891: PUSH
21892: LD_INT 61
21894: PUSH
21895: LD_INT 58
21897: PUSH
21898: LD_INT 27
21900: PUSH
21901: EMPTY
21902: LIST
21903: LIST
21904: LIST
21905: LIST
21906: LIST
21907: LIST
21908: ST_TO_ADDR
// for i in ptech do
21909: LD_ADDR_VAR 0 6
21913: PUSH
21914: LD_VAR 0 4
21918: PUSH
21919: FOR_IN
21920: IFFALSE 21941
// EnableTech ( i , side , state_enabled ) ;
21922: LD_VAR 0 6
21926: PPUSH
21927: LD_VAR 0 1
21931: PPUSH
21932: LD_INT 1
21934: PPUSH
21935: CALL 22457 0 3
21939: GO 21919
21941: POP
21942: POP
// end ; 2 :
21943: GO 22098
21945: LD_INT 2
21947: DOUBLE
21948: EQUAL
21949: IFTRUE 21953
21951: GO 22021
21953: POP
// begin ptech = [ 53 , 55 , 61 , 67 , 4 , 8 ] ;
21954: LD_ADDR_VAR 0 4
21958: PUSH
21959: LD_INT 53
21961: PUSH
21962: LD_INT 55
21964: PUSH
21965: LD_INT 61
21967: PUSH
21968: LD_INT 67
21970: PUSH
21971: LD_INT 4
21973: PUSH
21974: LD_INT 8
21976: PUSH
21977: EMPTY
21978: LIST
21979: LIST
21980: LIST
21981: LIST
21982: LIST
21983: LIST
21984: ST_TO_ADDR
// for i in ptech do
21985: LD_ADDR_VAR 0 6
21989: PUSH
21990: LD_VAR 0 4
21994: PUSH
21995: FOR_IN
21996: IFFALSE 22017
// EnableTech ( i , side , state_enabled ) ;
21998: LD_VAR 0 6
22002: PPUSH
22003: LD_VAR 0 1
22007: PPUSH
22008: LD_INT 1
22010: PPUSH
22011: CALL 22457 0 3
22015: GO 21995
22017: POP
22018: POP
// end ; 3 :
22019: GO 22098
22021: LD_INT 3
22023: DOUBLE
22024: EQUAL
22025: IFTRUE 22029
22027: GO 22097
22029: POP
// begin ptech = [ 53 , 55 , 58 , 64 , 71 , 31 ] ;
22030: LD_ADDR_VAR 0 4
22034: PUSH
22035: LD_INT 53
22037: PUSH
22038: LD_INT 55
22040: PUSH
22041: LD_INT 58
22043: PUSH
22044: LD_INT 64
22046: PUSH
22047: LD_INT 71
22049: PUSH
22050: LD_INT 31
22052: PUSH
22053: EMPTY
22054: LIST
22055: LIST
22056: LIST
22057: LIST
22058: LIST
22059: LIST
22060: ST_TO_ADDR
// for i in ptech do
22061: LD_ADDR_VAR 0 6
22065: PUSH
22066: LD_VAR 0 4
22070: PUSH
22071: FOR_IN
22072: IFFALSE 22093
// EnableTech ( i , side , state_enabled ) ;
22074: LD_VAR 0 6
22078: PPUSH
22079: LD_VAR 0 1
22083: PPUSH
22084: LD_INT 1
22086: PPUSH
22087: CALL 22457 0 3
22091: GO 22071
22093: POP
22094: POP
// end ; end ;
22095: GO 22098
22097: POP
// Tech_Level = 6 ;
22098: LD_ADDR_EXP 56
22102: PUSH
22103: LD_INT 6
22105: ST_TO_ADDR
// end ;
22106: LD_VAR 0 2
22110: RET
// function ur_7 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
22111: LD_INT 0
22113: PPUSH
22114: PPUSH
22115: PPUSH
22116: PPUSH
22117: PPUSH
// narodnost := Side_Nations [ side ] ;
22118: LD_ADDR_VAR 0 3
22122: PUSH
22123: LD_EXP 75
22127: PUSH
22128: LD_VAR 0 1
22132: ARRAY
22133: ST_TO_ADDR
// case narodnost of 1 :
22134: LD_VAR 0 3
22138: PUSH
22139: LD_INT 1
22141: DOUBLE
22142: EQUAL
22143: IFTRUE 22147
22145: GO 22207
22147: POP
// begin ptech = [ 56 , 62 , 59 , 14 ] ;
22148: LD_ADDR_VAR 0 4
22152: PUSH
22153: LD_INT 56
22155: PUSH
22156: LD_INT 62
22158: PUSH
22159: LD_INT 59
22161: PUSH
22162: LD_INT 14
22164: PUSH
22165: EMPTY
22166: LIST
22167: LIST
22168: LIST
22169: LIST
22170: ST_TO_ADDR
// for i in ptech do
22171: LD_ADDR_VAR 0 6
22175: PUSH
22176: LD_VAR 0 4
22180: PUSH
22181: FOR_IN
22182: IFFALSE 22203
// EnableTech ( i , side , state_enabled ) ;
22184: LD_VAR 0 6
22188: PPUSH
22189: LD_VAR 0 1
22193: PPUSH
22194: LD_INT 1
22196: PPUSH
22197: CALL 22457 0 3
22201: GO 22181
22203: POP
22204: POP
// end ; 2 :
22205: GO 22344
22207: LD_INT 2
22209: DOUBLE
22210: EQUAL
22211: IFTRUE 22215
22213: GO 22275
22215: POP
// begin ptech = [ 56 , 62 , 68 , 72 ] ;
22216: LD_ADDR_VAR 0 4
22220: PUSH
22221: LD_INT 56
22223: PUSH
22224: LD_INT 62
22226: PUSH
22227: LD_INT 68
22229: PUSH
22230: LD_INT 72
22232: PUSH
22233: EMPTY
22234: LIST
22235: LIST
22236: LIST
22237: LIST
22238: ST_TO_ADDR
// for i in ptech do
22239: LD_ADDR_VAR 0 6
22243: PUSH
22244: LD_VAR 0 4
22248: PUSH
22249: FOR_IN
22250: IFFALSE 22271
// EnableTech ( i , side , state_enabled ) ;
22252: LD_VAR 0 6
22256: PPUSH
22257: LD_VAR 0 1
22261: PPUSH
22262: LD_INT 1
22264: PPUSH
22265: CALL 22457 0 3
22269: GO 22249
22271: POP
22272: POP
// end ; 3 :
22273: GO 22344
22275: LD_INT 3
22277: DOUBLE
22278: EQUAL
22279: IFTRUE 22283
22281: GO 22343
22283: POP
// begin ptech = [ 56 , 59 , 65 , 23 ] ;
22284: LD_ADDR_VAR 0 4
22288: PUSH
22289: LD_INT 56
22291: PUSH
22292: LD_INT 59
22294: PUSH
22295: LD_INT 65
22297: PUSH
22298: LD_INT 23
22300: PUSH
22301: EMPTY
22302: LIST
22303: LIST
22304: LIST
22305: LIST
22306: ST_TO_ADDR
// for i in ptech do
22307: LD_ADDR_VAR 0 6
22311: PUSH
22312: LD_VAR 0 4
22316: PUSH
22317: FOR_IN
22318: IFFALSE 22339
// EnableTech ( i , side , state_enabled ) ;
22320: LD_VAR 0 6
22324: PPUSH
22325: LD_VAR 0 1
22329: PPUSH
22330: LD_INT 1
22332: PPUSH
22333: CALL 22457 0 3
22337: GO 22317
22339: POP
22340: POP
// end ; end ;
22341: GO 22344
22343: POP
// Tech_Level = 7 ;
22344: LD_ADDR_EXP 56
22348: PUSH
22349: LD_INT 7
22351: ST_TO_ADDR
// end ;
22352: LD_VAR 0 2
22356: RET
// function ur_8 ( side ) ; var narodnost , ptech , pbudovy ; var i ; begin
22357: LD_INT 0
22359: PPUSH
22360: PPUSH
22361: PPUSH
22362: PPUSH
22363: PPUSH
// narodnost := Side_Nations [ side ] ;
22364: LD_ADDR_VAR 0 3
22368: PUSH
22369: LD_EXP 75
22373: PUSH
22374: LD_VAR 0 1
22378: ARRAY
22379: ST_TO_ADDR
// case narodnost of 1 , 3 :
22380: LD_VAR 0 3
22384: PUSH
22385: LD_INT 1
22387: DOUBLE
22388: EQUAL
22389: IFTRUE 22399
22391: LD_INT 3
22393: DOUBLE
22394: EQUAL
22395: IFTRUE 22399
22397: GO 22417
22399: POP
// EnableTech ( 25 , side , state_enabled ) ; 2 :
22400: LD_INT 25
22402: PPUSH
22403: LD_VAR 0 1
22407: PPUSH
22408: LD_INT 1
22410: PPUSH
22411: CALL 22457 0 3
22415: GO 22444
22417: LD_INT 2
22419: DOUBLE
22420: EQUAL
22421: IFTRUE 22425
22423: GO 22443
22425: POP
// EnableTech ( 73 , side , state_enabled ) ; end ;
22426: LD_INT 73
22428: PPUSH
22429: LD_VAR 0 1
22433: PPUSH
22434: LD_INT 1
22436: PPUSH
22437: CALL 22457 0 3
22441: GO 22444
22443: POP
// Tech_Level = 8 ;
22444: LD_ADDR_EXP 56
22448: PUSH
22449: LD_INT 8
22451: ST_TO_ADDR
// end ;
22452: LD_VAR 0 2
22456: RET
// function EnableTech ( id , side , state ) ; begin
22457: LD_INT 0
22459: PPUSH
// if state in [ state_enabled , state_researched ] then
22460: LD_VAR 0 3
22464: PUSH
22465: LD_INT 1
22467: PUSH
22468: LD_INT 2
22470: PUSH
22471: EMPTY
22472: LIST
22473: LIST
22474: IN
22475: IFFALSE 22512
// begin if GetRestrictions ( false , id ) then
22477: LD_INT 0
22479: PPUSH
22480: LD_VAR 0 1
22484: PPUSH
22485: CALL_OW 565
22489: IFFALSE 22510
// SetTech ( id , side , state ) ;
22491: LD_VAR 0 1
22495: PPUSH
22496: LD_VAR 0 2
22500: PPUSH
22501: LD_VAR 0 3
22505: PPUSH
22506: CALL_OW 322
// end else
22510: GO 22531
// setTech ( id , side , state ) ;
22512: LD_VAR 0 1
22516: PPUSH
22517: LD_VAR 0 2
22521: PPUSH
22522: LD_VAR 0 3
22526: PPUSH
22527: CALL_OW 322
// end ;
22531: LD_VAR 0 4
22535: RET
// function EnableBuilding ( id , side , state ) ; begin
22536: LD_INT 0
22538: PPUSH
// if state in [ state_enabled ] then
22539: LD_VAR 0 3
22543: PUSH
22544: LD_INT 1
22546: PUSH
22547: EMPTY
22548: LIST
22549: IN
22550: IFFALSE 22587
// begin if GetRestrictions ( true , id ) then
22552: LD_INT 1
22554: PPUSH
22555: LD_VAR 0 1
22559: PPUSH
22560: CALL_OW 565
22564: IFFALSE 22585
// SetRestrict ( id , side , state ) ;
22566: LD_VAR 0 1
22570: PPUSH
22571: LD_VAR 0 2
22575: PPUSH
22576: LD_VAR 0 3
22580: PPUSH
22581: CALL_OW 324
// end else
22585: GO 22606
// SetRestrict ( id , side , state ) ;
22587: LD_VAR 0 1
22591: PPUSH
22592: LD_VAR 0 2
22596: PPUSH
22597: LD_VAR 0 3
22601: PPUSH
22602: CALL_OW 324
// end ; end_of_file
22606: LD_VAR 0 4
22610: RET
// var win ; export function init_kings_counting ; var i ; begin
22611: LD_INT 0
22613: PPUSH
22614: PPUSH
// mp_with_score := true ;
22615: LD_ADDR_OWVAR 14
22619: PUSH
22620: LD_INT 1
22622: ST_TO_ADDR
// ResetMultiScore ;
22623: CALL_OW 508
// SetAreaMapShow ( king_territory , true ) ;
22627: LD_EXP 91
22631: PPUSH
22632: LD_INT 1
22634: PPUSH
22635: CALL_OW 424
// enable ( 2 ) ;
22639: LD_INT 2
22641: ENABLE_MARKED
// end ;
22642: LD_VAR 0 1
22646: RET
// function show_public_points ; var side , vypis , i , red , blue , yel , green , p ; begin
22647: LD_INT 0
22649: PPUSH
22650: PPUSH
22651: PPUSH
22652: PPUSH
22653: PPUSH
22654: PPUSH
22655: PPUSH
22656: PPUSH
22657: PPUSH
// vypis := [ ] ;
22658: LD_ADDR_VAR 0 3
22662: PUSH
22663: EMPTY
22664: ST_TO_ADDR
// red = 0 ;
22665: LD_ADDR_VAR 0 5
22669: PUSH
22670: LD_INT 0
22672: ST_TO_ADDR
// blue = 0 ;
22673: LD_ADDR_VAR 0 6
22677: PUSH
22678: LD_INT 0
22680: ST_TO_ADDR
// yel = 0 ;
22681: LD_ADDR_VAR 0 7
22685: PUSH
22686: LD_INT 0
22688: ST_TO_ADDR
// green = 0 ;
22689: LD_ADDR_VAR 0 8
22693: PUSH
22694: LD_INT 0
22696: ST_TO_ADDR
// if def_public_score or isSGUI then
22697: LD_EXP 34
22701: PUSH
22702: LD_OWVAR 83
22706: OR
22707: IFFALSE 23304
// if not Team_Game then
22709: LD_EXP 79
22713: NOT
22714: IFFALSE 22836
// begin for side = 1 to Side_Positions do
22716: LD_ADDR_VAR 0 2
22720: PUSH
22721: DOUBLE
22722: LD_INT 1
22724: DEC
22725: ST_TO_ADDR
22726: LD_EXP 74
22730: PUSH
22731: FOR_TO
22732: IFFALSE 22832
// if Side_Positions [ side ] then
22734: LD_EXP 74
22738: PUSH
22739: LD_VAR 0 2
22743: ARRAY
22744: IFFALSE 22830
// begin vypis := vypis ^ [ #KingoftheHill-Public , side , side , ( GetTag ( side + 10 ) div 3 ) , final_count ] ;
22746: LD_ADDR_VAR 0 3
22750: PUSH
22751: LD_VAR 0 3
22755: PUSH
22756: LD_STRING #KingoftheHill-Public
22758: PUSH
22759: LD_VAR 0 2
22763: PUSH
22764: LD_VAR 0 2
22768: PUSH
22769: LD_VAR 0 2
22773: PUSH
22774: LD_INT 10
22776: PLUS
22777: PPUSH
22778: CALL_OW 110
22782: PUSH
22783: LD_INT 3
22785: DIV
22786: PUSH
22787: LD_EXP 57
22791: PUSH
22792: EMPTY
22793: LIST
22794: LIST
22795: LIST
22796: LIST
22797: LIST
22798: ADD
22799: ST_TO_ADDR
// LScore_Update_Points ( 2 , side , ( GetTag ( side + 10 ) div 3 ) ) ;
22800: LD_INT 2
22802: PPUSH
22803: LD_VAR 0 2
22807: PPUSH
22808: LD_VAR 0 2
22812: PUSH
22813: LD_INT 10
22815: PLUS
22816: PPUSH
22817: CALL_OW 110
22821: PUSH
22822: LD_INT 3
22824: DIV
22825: PPUSH
22826: CALL 36768 0 3
// end ;
22830: GO 22731
22832: POP
22833: POP
// end else
22834: GO 23302
// begin if Teams [ 1 ] then
22836: LD_EXP 72
22840: PUSH
22841: LD_INT 1
22843: ARRAY
22844: IFFALSE 22896
// for i in Teams [ 1 ] do
22846: LD_ADDR_VAR 0 4
22850: PUSH
22851: LD_EXP 72
22855: PUSH
22856: LD_INT 1
22858: ARRAY
22859: PUSH
22860: FOR_IN
22861: IFFALSE 22894
// red = red + ( GetTag ( i + 10 ) div 3 ) ;
22863: LD_ADDR_VAR 0 5
22867: PUSH
22868: LD_VAR 0 5
22872: PUSH
22873: LD_VAR 0 4
22877: PUSH
22878: LD_INT 10
22880: PLUS
22881: PPUSH
22882: CALL_OW 110
22886: PUSH
22887: LD_INT 3
22889: DIV
22890: PLUS
22891: ST_TO_ADDR
22892: GO 22860
22894: POP
22895: POP
// if Teams [ 2 ] then
22896: LD_EXP 72
22900: PUSH
22901: LD_INT 2
22903: ARRAY
22904: IFFALSE 22956
// for i in Teams [ 2 ] do
22906: LD_ADDR_VAR 0 4
22910: PUSH
22911: LD_EXP 72
22915: PUSH
22916: LD_INT 2
22918: ARRAY
22919: PUSH
22920: FOR_IN
22921: IFFALSE 22954
// blue = blue + ( GetTag ( i + 10 ) div 3 ) ;
22923: LD_ADDR_VAR 0 6
22927: PUSH
22928: LD_VAR 0 6
22932: PUSH
22933: LD_VAR 0 4
22937: PUSH
22938: LD_INT 10
22940: PLUS
22941: PPUSH
22942: CALL_OW 110
22946: PUSH
22947: LD_INT 3
22949: DIV
22950: PLUS
22951: ST_TO_ADDR
22952: GO 22920
22954: POP
22955: POP
// if Teams [ 3 ] then
22956: LD_EXP 72
22960: PUSH
22961: LD_INT 3
22963: ARRAY
22964: IFFALSE 23016
// for i in Teams [ 3 ] do
22966: LD_ADDR_VAR 0 4
22970: PUSH
22971: LD_EXP 72
22975: PUSH
22976: LD_INT 3
22978: ARRAY
22979: PUSH
22980: FOR_IN
22981: IFFALSE 23014
// yel = yel + ( GetTag ( i + 10 ) div 3 ) ;
22983: LD_ADDR_VAR 0 7
22987: PUSH
22988: LD_VAR 0 7
22992: PUSH
22993: LD_VAR 0 4
22997: PUSH
22998: LD_INT 10
23000: PLUS
23001: PPUSH
23002: CALL_OW 110
23006: PUSH
23007: LD_INT 3
23009: DIV
23010: PLUS
23011: ST_TO_ADDR
23012: GO 22980
23014: POP
23015: POP
// if Teams [ 4 ] then
23016: LD_EXP 72
23020: PUSH
23021: LD_INT 4
23023: ARRAY
23024: IFFALSE 23076
// for i in Teams [ 4 ] do
23026: LD_ADDR_VAR 0 4
23030: PUSH
23031: LD_EXP 72
23035: PUSH
23036: LD_INT 4
23038: ARRAY
23039: PUSH
23040: FOR_IN
23041: IFFALSE 23074
// green = green + ( GetTag ( i + 10 ) div 3 ) ;
23043: LD_ADDR_VAR 0 8
23047: PUSH
23048: LD_VAR 0 8
23052: PUSH
23053: LD_VAR 0 4
23057: PUSH
23058: LD_INT 10
23060: PLUS
23061: PPUSH
23062: CALL_OW 110
23066: PUSH
23067: LD_INT 3
23069: DIV
23070: PLUS
23071: ST_TO_ADDR
23072: GO 23040
23074: POP
23075: POP
// if Teams [ 1 ] then
23076: LD_EXP 72
23080: PUSH
23081: LD_INT 1
23083: ARRAY
23084: IFFALSE 23113
// vypis := [ #KingoftheHill-Public-red , 3 , Red , final_count ] ;
23086: LD_ADDR_VAR 0 3
23090: PUSH
23091: LD_STRING #KingoftheHill-Public-red
23093: PUSH
23094: LD_INT 3
23096: PUSH
23097: LD_VAR 0 5
23101: PUSH
23102: LD_EXP 57
23106: PUSH
23107: EMPTY
23108: LIST
23109: LIST
23110: LIST
23111: LIST
23112: ST_TO_ADDR
// if Teams [ 2 ] then
23113: LD_EXP 72
23117: PUSH
23118: LD_INT 2
23120: ARRAY
23121: IFFALSE 23156
// vypis := vypis ^ [ #KingoftheHill-Public-blue , 1 , Blue , final_count ] ;
23123: LD_ADDR_VAR 0 3
23127: PUSH
23128: LD_VAR 0 3
23132: PUSH
23133: LD_STRING #KingoftheHill-Public-blue
23135: PUSH
23136: LD_INT 1
23138: PUSH
23139: LD_VAR 0 6
23143: PUSH
23144: LD_EXP 57
23148: PUSH
23149: EMPTY
23150: LIST
23151: LIST
23152: LIST
23153: LIST
23154: ADD
23155: ST_TO_ADDR
// if Teams [ 3 ] then
23156: LD_EXP 72
23160: PUSH
23161: LD_INT 3
23163: ARRAY
23164: IFFALSE 23199
// vypis := vypis ^ [ #KingoftheHill-Public-yell , 2 , yel , final_count ] ;
23166: LD_ADDR_VAR 0 3
23170: PUSH
23171: LD_VAR 0 3
23175: PUSH
23176: LD_STRING #KingoftheHill-Public-yell
23178: PUSH
23179: LD_INT 2
23181: PUSH
23182: LD_VAR 0 7
23186: PUSH
23187: LD_EXP 57
23191: PUSH
23192: EMPTY
23193: LIST
23194: LIST
23195: LIST
23196: LIST
23197: ADD
23198: ST_TO_ADDR
// if Teams [ 4 ] then
23199: LD_EXP 72
23203: PUSH
23204: LD_INT 4
23206: ARRAY
23207: IFFALSE 23242
// vypis := vypis ^ [ #KingoftheHill-Public-green , 7 , green , final_count ] ;
23209: LD_ADDR_VAR 0 3
23213: PUSH
23214: LD_VAR 0 3
23218: PUSH
23219: LD_STRING #KingoftheHill-Public-green
23221: PUSH
23222: LD_INT 7
23224: PUSH
23225: LD_VAR 0 8
23229: PUSH
23230: LD_EXP 57
23234: PUSH
23235: EMPTY
23236: LIST
23237: LIST
23238: LIST
23239: LIST
23240: ADD
23241: ST_TO_ADDR
// LScore_Update_Points ( 2 , 3 , red ) ;
23242: LD_INT 2
23244: PPUSH
23245: LD_INT 3
23247: PPUSH
23248: LD_VAR 0 5
23252: PPUSH
23253: CALL 36768 0 3
// LScore_Update_Points ( 2 , 1 , blue ) ;
23257: LD_INT 2
23259: PPUSH
23260: LD_INT 1
23262: PPUSH
23263: LD_VAR 0 6
23267: PPUSH
23268: CALL 36768 0 3
// LScore_Update_Points ( 2 , 2 , yel ) ;
23272: LD_INT 2
23274: PPUSH
23275: LD_INT 2
23277: PPUSH
23278: LD_VAR 0 7
23282: PPUSH
23283: CALL 36768 0 3
// LScore_Update_Points ( 2 , 7 , green ) ;
23287: LD_INT 2
23289: PPUSH
23290: LD_INT 7
23292: PPUSH
23293: LD_VAR 0 8
23297: PPUSH
23298: CALL 36768 0 3
// end else
23302: GO 23739
// if not Team_Game then
23304: LD_EXP 79
23308: NOT
23309: IFFALSE 23367
// vypis := vypis ^ [ #KingoftheHill-Private , mp_player_side , mp_player_side , ( GetTag ( side + 10 ) div 3 ) , final_count ] else
23311: LD_ADDR_VAR 0 3
23315: PUSH
23316: LD_VAR 0 3
23320: PUSH
23321: LD_STRING #KingoftheHill-Private
23323: PUSH
23324: LD_OWVAR 7
23328: PUSH
23329: LD_OWVAR 7
23333: PUSH
23334: LD_VAR 0 2
23338: PUSH
23339: LD_INT 10
23341: PLUS
23342: PPUSH
23343: CALL_OW 110
23347: PUSH
23348: LD_INT 3
23350: DIV
23351: PUSH
23352: LD_EXP 57
23356: PUSH
23357: EMPTY
23358: LIST
23359: LIST
23360: LIST
23361: LIST
23362: LIST
23363: ADD
23364: ST_TO_ADDR
23365: GO 23739
// begin for i in Teams [ 1 ] do
23367: LD_ADDR_VAR 0 4
23371: PUSH
23372: LD_EXP 72
23376: PUSH
23377: LD_INT 1
23379: ARRAY
23380: PUSH
23381: FOR_IN
23382: IFFALSE 23415
// red = red + ( GetTag ( i + 10 ) div 3 ) ;
23384: LD_ADDR_VAR 0 5
23388: PUSH
23389: LD_VAR 0 5
23393: PUSH
23394: LD_VAR 0 4
23398: PUSH
23399: LD_INT 10
23401: PLUS
23402: PPUSH
23403: CALL_OW 110
23407: PUSH
23408: LD_INT 3
23410: DIV
23411: PLUS
23412: ST_TO_ADDR
23413: GO 23381
23415: POP
23416: POP
// for i in Teams [ 2 ] do
23417: LD_ADDR_VAR 0 4
23421: PUSH
23422: LD_EXP 72
23426: PUSH
23427: LD_INT 2
23429: ARRAY
23430: PUSH
23431: FOR_IN
23432: IFFALSE 23465
// blue = blue + ( GetTag ( i + 10 ) div 3 ) ;
23434: LD_ADDR_VAR 0 6
23438: PUSH
23439: LD_VAR 0 6
23443: PUSH
23444: LD_VAR 0 4
23448: PUSH
23449: LD_INT 10
23451: PLUS
23452: PPUSH
23453: CALL_OW 110
23457: PUSH
23458: LD_INT 3
23460: DIV
23461: PLUS
23462: ST_TO_ADDR
23463: GO 23431
23465: POP
23466: POP
// for i in Teams [ 3 ] do
23467: LD_ADDR_VAR 0 4
23471: PUSH
23472: LD_EXP 72
23476: PUSH
23477: LD_INT 3
23479: ARRAY
23480: PUSH
23481: FOR_IN
23482: IFFALSE 23515
// yel = yel + ( GetTag ( i + 10 ) div 3 ) ;
23484: LD_ADDR_VAR 0 7
23488: PUSH
23489: LD_VAR 0 7
23493: PUSH
23494: LD_VAR 0 4
23498: PUSH
23499: LD_INT 10
23501: PLUS
23502: PPUSH
23503: CALL_OW 110
23507: PUSH
23508: LD_INT 3
23510: DIV
23511: PLUS
23512: ST_TO_ADDR
23513: GO 23481
23515: POP
23516: POP
// for i in Teams [ 4 ] do
23517: LD_ADDR_VAR 0 4
23521: PUSH
23522: LD_EXP 72
23526: PUSH
23527: LD_INT 4
23529: ARRAY
23530: PUSH
23531: FOR_IN
23532: IFFALSE 23565
// green = green + ( GetTag ( i + 10 ) div 3 ) ;
23534: LD_ADDR_VAR 0 8
23538: PUSH
23539: LD_VAR 0 8
23543: PUSH
23544: LD_VAR 0 4
23548: PUSH
23549: LD_INT 10
23551: PLUS
23552: PPUSH
23553: CALL_OW 110
23557: PUSH
23558: LD_INT 3
23560: DIV
23561: PLUS
23562: ST_TO_ADDR
23563: GO 23531
23565: POP
23566: POP
// if mp_player_side in Teams [ 1 ] then
23567: LD_OWVAR 7
23571: PUSH
23572: LD_EXP 72
23576: PUSH
23577: LD_INT 1
23579: ARRAY
23580: IN
23581: IFFALSE 23610
// vypis := [ #KingoftheHill-Public-red , 3 , Red , final_count ] ;
23583: LD_ADDR_VAR 0 3
23587: PUSH
23588: LD_STRING #KingoftheHill-Public-red
23590: PUSH
23591: LD_INT 3
23593: PUSH
23594: LD_VAR 0 5
23598: PUSH
23599: LD_EXP 57
23603: PUSH
23604: EMPTY
23605: LIST
23606: LIST
23607: LIST
23608: LIST
23609: ST_TO_ADDR
// if mp_player_side in Teams [ 2 ] then
23610: LD_OWVAR 7
23614: PUSH
23615: LD_EXP 72
23619: PUSH
23620: LD_INT 2
23622: ARRAY
23623: IN
23624: IFFALSE 23653
// vypis := [ #KingoftheHill-Public-blue , 1 , Blue , final_count ] ;
23626: LD_ADDR_VAR 0 3
23630: PUSH
23631: LD_STRING #KingoftheHill-Public-blue
23633: PUSH
23634: LD_INT 1
23636: PUSH
23637: LD_VAR 0 6
23641: PUSH
23642: LD_EXP 57
23646: PUSH
23647: EMPTY
23648: LIST
23649: LIST
23650: LIST
23651: LIST
23652: ST_TO_ADDR
// if mp_player_side in Teams [ 3 ] then
23653: LD_OWVAR 7
23657: PUSH
23658: LD_EXP 72
23662: PUSH
23663: LD_INT 3
23665: ARRAY
23666: IN
23667: IFFALSE 23696
// vypis := [ #KingoftheHill-Public-yell , 2 , yel , final_count ] ;
23669: LD_ADDR_VAR 0 3
23673: PUSH
23674: LD_STRING #KingoftheHill-Public-yell
23676: PUSH
23677: LD_INT 2
23679: PUSH
23680: LD_VAR 0 7
23684: PUSH
23685: LD_EXP 57
23689: PUSH
23690: EMPTY
23691: LIST
23692: LIST
23693: LIST
23694: LIST
23695: ST_TO_ADDR
// if mp_player_side in Teams [ 4 ] then
23696: LD_OWVAR 7
23700: PUSH
23701: LD_EXP 72
23705: PUSH
23706: LD_INT 4
23708: ARRAY
23709: IN
23710: IFFALSE 23739
// vypis := [ #KingoftheHill-Public-green , 7 , green , final_count ] ;
23712: LD_ADDR_VAR 0 3
23716: PUSH
23717: LD_STRING #KingoftheHill-Public-green
23719: PUSH
23720: LD_INT 7
23722: PUSH
23723: LD_VAR 0 8
23727: PUSH
23728: LD_EXP 57
23732: PUSH
23733: EMPTY
23734: LIST
23735: LIST
23736: LIST
23737: LIST
23738: ST_TO_ADDR
// end ; Display_kings := vypis ;
23739: LD_ADDR_EXP 107
23743: PUSH
23744: LD_VAR 0 3
23748: ST_TO_ADDR
// end ;
23749: LD_VAR 0 1
23753: RET
// function count_king ; var side , list , un , red , blue , yel , green , i ; begin
23754: LD_INT 0
23756: PPUSH
23757: PPUSH
23758: PPUSH
23759: PPUSH
23760: PPUSH
23761: PPUSH
23762: PPUSH
23763: PPUSH
23764: PPUSH
// side := [ ] ;
23765: LD_ADDR_VAR 0 2
23769: PUSH
23770: EMPTY
23771: ST_TO_ADDR
// red = 0 ;
23772: LD_ADDR_VAR 0 5
23776: PUSH
23777: LD_INT 0
23779: ST_TO_ADDR
// blue = 0 ;
23780: LD_ADDR_VAR 0 6
23784: PUSH
23785: LD_INT 0
23787: ST_TO_ADDR
// yel = 0 ;
23788: LD_ADDR_VAR 0 7
23792: PUSH
23793: LD_INT 0
23795: ST_TO_ADDR
// green = 0 ;
23796: LD_ADDR_VAR 0 8
23800: PUSH
23801: LD_INT 0
23803: ST_TO_ADDR
// list := FilterUnitsInArea ( king_territory , [ [ f_type , unit_building ] , [ f_ready ] ] ) ;
23804: LD_ADDR_VAR 0 3
23808: PUSH
23809: LD_EXP 91
23813: PPUSH
23814: LD_INT 21
23816: PUSH
23817: LD_INT 3
23819: PUSH
23820: EMPTY
23821: LIST
23822: LIST
23823: PUSH
23824: LD_INT 53
23826: PUSH
23827: EMPTY
23828: LIST
23829: PUSH
23830: EMPTY
23831: LIST
23832: LIST
23833: PPUSH
23834: CALL_OW 70
23838: ST_TO_ADDR
// for un in list do
23839: LD_ADDR_VAR 0 4
23843: PUSH
23844: LD_VAR 0 3
23848: PUSH
23849: FOR_IN
23850: IFFALSE 23875
// side := side union GetSide ( un ) ;
23852: LD_ADDR_VAR 0 2
23856: PUSH
23857: LD_VAR 0 2
23861: PUSH
23862: LD_VAR 0 4
23866: PPUSH
23867: CALL_OW 255
23871: UNION
23872: ST_TO_ADDR
23873: GO 23849
23875: POP
23876: POP
// if side <> 1 then
23877: LD_VAR 0 2
23881: PUSH
23882: LD_INT 1
23884: NONEQUAL
23885: IFFALSE 23889
// exit ;
23887: GO 24252
// side := side [ 1 ] ;
23889: LD_ADDR_VAR 0 2
23893: PUSH
23894: LD_VAR 0 2
23898: PUSH
23899: LD_INT 1
23901: ARRAY
23902: ST_TO_ADDR
// SetTag ( side + 10 , GetTag ( side + 10 ) + 1 ) ;
23903: LD_VAR 0 2
23907: PUSH
23908: LD_INT 10
23910: PLUS
23911: PPUSH
23912: LD_VAR 0 2
23916: PUSH
23917: LD_INT 10
23919: PLUS
23920: PPUSH
23921: CALL_OW 110
23925: PUSH
23926: LD_INT 1
23928: PLUS
23929: PPUSH
23930: CALL_OW 109
// SetSharedMultiScore ( side , GetTag ( side + 10 ) div 3 , 2 ) ;
23934: LD_VAR 0 2
23938: PPUSH
23939: LD_VAR 0 2
23943: PUSH
23944: LD_INT 10
23946: PLUS
23947: PPUSH
23948: CALL_OW 110
23952: PUSH
23953: LD_INT 3
23955: DIV
23956: PPUSH
23957: LD_INT 2
23959: PPUSH
23960: CALL 35319 0 3
// if not Team_Game then
23964: LD_EXP 79
23968: NOT
23969: IFFALSE 24252
// if GetTag ( side + 10 ) >= final_count * 3 then
23971: LD_VAR 0 2
23975: PUSH
23976: LD_INT 10
23978: PLUS
23979: PPUSH
23980: CALL_OW 110
23984: PUSH
23985: LD_EXP 57
23989: PUSH
23990: LD_INT 3
23992: MUL
23993: GREATEREQUAL
23994: IFFALSE 24001
// enable ( 3 ) else
23996: LD_INT 3
23998: ENABLE_MARKED
23999: GO 24252
// begin for i in Teams [ 1 ] do
24001: LD_ADDR_VAR 0 9
24005: PUSH
24006: LD_EXP 72
24010: PUSH
24011: LD_INT 1
24013: ARRAY
24014: PUSH
24015: FOR_IN
24016: IFFALSE 24049
// red = red + ( GetTag ( i + 10 ) div 3 ) ;
24018: LD_ADDR_VAR 0 5
24022: PUSH
24023: LD_VAR 0 5
24027: PUSH
24028: LD_VAR 0 9
24032: PUSH
24033: LD_INT 10
24035: PLUS
24036: PPUSH
24037: CALL_OW 110
24041: PUSH
24042: LD_INT 3
24044: DIV
24045: PLUS
24046: ST_TO_ADDR
24047: GO 24015
24049: POP
24050: POP
// for i in Teams [ 2 ] do
24051: LD_ADDR_VAR 0 9
24055: PUSH
24056: LD_EXP 72
24060: PUSH
24061: LD_INT 2
24063: ARRAY
24064: PUSH
24065: FOR_IN
24066: IFFALSE 24099
// blue = blue + ( GetTag ( i + 10 ) div 3 ) ;
24068: LD_ADDR_VAR 0 6
24072: PUSH
24073: LD_VAR 0 6
24077: PUSH
24078: LD_VAR 0 9
24082: PUSH
24083: LD_INT 10
24085: PLUS
24086: PPUSH
24087: CALL_OW 110
24091: PUSH
24092: LD_INT 3
24094: DIV
24095: PLUS
24096: ST_TO_ADDR
24097: GO 24065
24099: POP
24100: POP
// for i in Teams [ 3 ] do
24101: LD_ADDR_VAR 0 9
24105: PUSH
24106: LD_EXP 72
24110: PUSH
24111: LD_INT 3
24113: ARRAY
24114: PUSH
24115: FOR_IN
24116: IFFALSE 24149
// yel = yel + ( GetTag ( i + 10 ) div 3 ) ;
24118: LD_ADDR_VAR 0 7
24122: PUSH
24123: LD_VAR 0 7
24127: PUSH
24128: LD_VAR 0 9
24132: PUSH
24133: LD_INT 10
24135: PLUS
24136: PPUSH
24137: CALL_OW 110
24141: PUSH
24142: LD_INT 3
24144: DIV
24145: PLUS
24146: ST_TO_ADDR
24147: GO 24115
24149: POP
24150: POP
// for i in Teams [ 4 ] do
24151: LD_ADDR_VAR 0 9
24155: PUSH
24156: LD_EXP 72
24160: PUSH
24161: LD_INT 4
24163: ARRAY
24164: PUSH
24165: FOR_IN
24166: IFFALSE 24199
// green = green + ( GetTag ( i + 10 ) div 3 ) ;
24168: LD_ADDR_VAR 0 8
24172: PUSH
24173: LD_VAR 0 8
24177: PUSH
24178: LD_VAR 0 9
24182: PUSH
24183: LD_INT 10
24185: PLUS
24186: PPUSH
24187: CALL_OW 110
24191: PUSH
24192: LD_INT 3
24194: DIV
24195: PLUS
24196: ST_TO_ADDR
24197: GO 24165
24199: POP
24200: POP
// if red >= final_count or blue >= final_count or yel >= final_count or green >= final_count then
24201: LD_VAR 0 5
24205: PUSH
24206: LD_EXP 57
24210: GREATEREQUAL
24211: PUSH
24212: LD_VAR 0 6
24216: PUSH
24217: LD_EXP 57
24221: GREATEREQUAL
24222: OR
24223: PUSH
24224: LD_VAR 0 7
24228: PUSH
24229: LD_EXP 57
24233: GREATEREQUAL
24234: OR
24235: PUSH
24236: LD_VAR 0 8
24240: PUSH
24241: LD_EXP 57
24245: GREATEREQUAL
24246: OR
24247: IFFALSE 24252
// enable ( 3 ) ;
24249: LD_INT 3
24251: ENABLE_MARKED
// end ; end ;
24252: LD_VAR 0 1
24256: RET
// every 0 0$1 marked 2 do
24257: GO 24259
24259: DISABLE
// begin count_king ;
24260: CALL 23754 0 0
// show_public_points ;
24264: CALL 22647 0 0
// enable ;
24268: ENABLE
// end ;
24269: END
// every 0 0$1 marked 3 do var side , red , blue , yel , green , i ;
24270: GO 24272
24272: DISABLE
24273: LD_INT 0
24275: PPUSH
24276: PPUSH
24277: PPUSH
24278: PPUSH
24279: PPUSH
24280: PPUSH
// begin win := [ ] ;
24281: LD_ADDR_LOC 20
24285: PUSH
24286: EMPTY
24287: ST_TO_ADDR
// red = 0 ;
24288: LD_ADDR_VAR 0 2
24292: PUSH
24293: LD_INT 0
24295: ST_TO_ADDR
// blue = 0 ;
24296: LD_ADDR_VAR 0 3
24300: PUSH
24301: LD_INT 0
24303: ST_TO_ADDR
// yel = 0 ;
24304: LD_ADDR_VAR 0 4
24308: PUSH
24309: LD_INT 0
24311: ST_TO_ADDR
// green = 0 ;
24312: LD_ADDR_VAR 0 5
24316: PUSH
24317: LD_INT 0
24319: ST_TO_ADDR
// if not Team_Game then
24320: LD_EXP 79
24324: NOT
24325: IFFALSE 24402
// begin for side = 1 to 8 do
24327: LD_ADDR_VAR 0 1
24331: PUSH
24332: DOUBLE
24333: LD_INT 1
24335: DEC
24336: ST_TO_ADDR
24337: LD_INT 8
24339: PUSH
24340: FOR_TO
24341: IFFALSE 24386
// if GetTag ( side + 10 ) >= final_count * 3 then
24343: LD_VAR 0 1
24347: PUSH
24348: LD_INT 10
24350: PLUS
24351: PPUSH
24352: CALL_OW 110
24356: PUSH
24357: LD_EXP 57
24361: PUSH
24362: LD_INT 3
24364: MUL
24365: GREATEREQUAL
24366: IFFALSE 24384
// win := win ^ side ;
24368: LD_ADDR_LOC 20
24372: PUSH
24373: LD_LOC 20
24377: PUSH
24378: LD_VAR 0 1
24382: ADD
24383: ST_TO_ADDR
24384: GO 24340
24386: POP
24387: POP
// if win then
24388: LD_LOC 20
24392: IFFALSE 24399
// enable ( 4 ) else
24394: LD_INT 4
24396: ENABLE_MARKED
24397: GO 24400
// enable ;
24399: ENABLE
// end else
24400: GO 24718
// begin for i in Teams [ 1 ] do
24402: LD_ADDR_VAR 0 6
24406: PUSH
24407: LD_EXP 72
24411: PUSH
24412: LD_INT 1
24414: ARRAY
24415: PUSH
24416: FOR_IN
24417: IFFALSE 24450
// red = red + ( GetTag ( i + 10 ) div 3 ) ;
24419: LD_ADDR_VAR 0 2
24423: PUSH
24424: LD_VAR 0 2
24428: PUSH
24429: LD_VAR 0 6
24433: PUSH
24434: LD_INT 10
24436: PLUS
24437: PPUSH
24438: CALL_OW 110
24442: PUSH
24443: LD_INT 3
24445: DIV
24446: PLUS
24447: ST_TO_ADDR
24448: GO 24416
24450: POP
24451: POP
// for i in Teams [ 2 ] do
24452: LD_ADDR_VAR 0 6
24456: PUSH
24457: LD_EXP 72
24461: PUSH
24462: LD_INT 2
24464: ARRAY
24465: PUSH
24466: FOR_IN
24467: IFFALSE 24500
// blue = blue + ( GetTag ( i + 10 ) div 3 ) ;
24469: LD_ADDR_VAR 0 3
24473: PUSH
24474: LD_VAR 0 3
24478: PUSH
24479: LD_VAR 0 6
24483: PUSH
24484: LD_INT 10
24486: PLUS
24487: PPUSH
24488: CALL_OW 110
24492: PUSH
24493: LD_INT 3
24495: DIV
24496: PLUS
24497: ST_TO_ADDR
24498: GO 24466
24500: POP
24501: POP
// for i in Teams [ 3 ] do
24502: LD_ADDR_VAR 0 6
24506: PUSH
24507: LD_EXP 72
24511: PUSH
24512: LD_INT 3
24514: ARRAY
24515: PUSH
24516: FOR_IN
24517: IFFALSE 24550
// yel = yel + ( GetTag ( i + 10 ) div 3 ) ;
24519: LD_ADDR_VAR 0 4
24523: PUSH
24524: LD_VAR 0 4
24528: PUSH
24529: LD_VAR 0 6
24533: PUSH
24534: LD_INT 10
24536: PLUS
24537: PPUSH
24538: CALL_OW 110
24542: PUSH
24543: LD_INT 3
24545: DIV
24546: PLUS
24547: ST_TO_ADDR
24548: GO 24516
24550: POP
24551: POP
// for i in Teams [ 4 ] do
24552: LD_ADDR_VAR 0 6
24556: PUSH
24557: LD_EXP 72
24561: PUSH
24562: LD_INT 4
24564: ARRAY
24565: PUSH
24566: FOR_IN
24567: IFFALSE 24600
// green = green + ( GetTag ( i + 10 ) div 3 ) ;
24569: LD_ADDR_VAR 0 5
24573: PUSH
24574: LD_VAR 0 5
24578: PUSH
24579: LD_VAR 0 6
24583: PUSH
24584: LD_INT 10
24586: PLUS
24587: PPUSH
24588: CALL_OW 110
24592: PUSH
24593: LD_INT 3
24595: DIV
24596: PLUS
24597: ST_TO_ADDR
24598: GO 24566
24600: POP
24601: POP
// if red >= final_count then
24602: LD_VAR 0 2
24606: PUSH
24607: LD_EXP 57
24611: GREATEREQUAL
24612: IFFALSE 24628
// win = teams [ 1 ] ;
24614: LD_ADDR_LOC 20
24618: PUSH
24619: LD_EXP 72
24623: PUSH
24624: LD_INT 1
24626: ARRAY
24627: ST_TO_ADDR
// if blue >= final_count then
24628: LD_VAR 0 3
24632: PUSH
24633: LD_EXP 57
24637: GREATEREQUAL
24638: IFFALSE 24654
// win = teams [ 2 ] ;
24640: LD_ADDR_LOC 20
24644: PUSH
24645: LD_EXP 72
24649: PUSH
24650: LD_INT 2
24652: ARRAY
24653: ST_TO_ADDR
// if yel >= final_count then
24654: LD_VAR 0 4
24658: PUSH
24659: LD_EXP 57
24663: GREATEREQUAL
24664: IFFALSE 24680
// win = teams [ 3 ] ;
24666: LD_ADDR_LOC 20
24670: PUSH
24671: LD_EXP 72
24675: PUSH
24676: LD_INT 3
24678: ARRAY
24679: ST_TO_ADDR
// if green >= final_count then
24680: LD_VAR 0 5
24684: PUSH
24685: LD_EXP 57
24689: GREATEREQUAL
24690: IFFALSE 24706
// win = teams [ 4 ] ;
24692: LD_ADDR_LOC 20
24696: PUSH
24697: LD_EXP 72
24701: PUSH
24702: LD_INT 4
24704: ARRAY
24705: ST_TO_ADDR
// if win then
24706: LD_LOC 20
24710: IFFALSE 24717
// enable ( 4 ) else
24712: LD_INT 4
24714: ENABLE_MARKED
24715: GO 24718
// enable ;
24717: ENABLE
// end ; end ;
24718: PPOPN 6
24720: END
// every 0 0$1 marked 4 do
24721: GO 24723
24723: DISABLE
// begin if Player_Side in win then
24724: LD_EXP 69
24728: PUSH
24729: LD_LOC 20
24733: IN
24734: IFFALSE 24750
// begin wait ( 0 0$2 ) ;
24736: LD_INT 70
24738: PPUSH
24739: CALL_OW 67
// enable ( 401 ) ;
24743: LD_INT 401
24745: ENABLE_MARKED
// exit ;
24746: GO 24766
// end else
24748: GO 24766
// begin wait ( 0 0$2 ) ;
24750: LD_INT 70
24752: PPUSH
24753: CALL_OW 67
// Multiplayer_Loose_Message ;
24757: CALL_OW 521
// enable ( 400 ) ;
24761: LD_INT 400
24763: ENABLE_MARKED
// exit ;
24764: GO 24766
// end ; end ; end_of_file
24766: END
// var Month ; export function init_Daily ; begin
24767: LD_INT 0
24769: PPUSH
// if not CurrentTime then
24770: LD_EXP 110
24774: NOT
24775: IFFALSE 24847
// begin CurrentTime = Rand ( daily_start [ 1 ] , daily_start [ 2 ] ) div 0 0$01 ;
24777: LD_ADDR_EXP 110
24781: PUSH
24782: LD_EXP 58
24786: PUSH
24787: LD_INT 1
24789: ARRAY
24790: PPUSH
24791: LD_EXP 58
24795: PUSH
24796: LD_INT 2
24798: ARRAY
24799: PPUSH
24800: CALL_OW 12
24804: PUSH
24805: LD_INT 35
24807: DIV
24808: ST_TO_ADDR
// CurrentTime = CurrentTime * 0 0$01 ;
24809: LD_ADDR_EXP 110
24813: PUSH
24814: LD_EXP 110
24818: PUSH
24819: LD_INT 35
24821: MUL
24822: ST_TO_ADDR
// if CurrentTime >= 24 24$00 then
24823: LD_EXP 110
24827: PUSH
24828: LD_INT 50400
24830: GREATEREQUAL
24831: IFFALSE 24847
// CurrentTime = CurrentTime - 24 24$00 ;
24833: LD_ADDR_EXP 110
24837: PUSH
24838: LD_EXP 110
24842: PUSH
24843: LD_INT 50400
24845: MINUS
24846: ST_TO_ADDR
// end ; case CurrentTime of 0 0$00 .. TimePhase [ 1 ] , TimePhase [ 10 ] + 1 .. 24 24$00 :
24847: LD_EXP 110
24851: PUSH
24852: LD_INT 0
24854: DOUBLE
24855: GREATEREQUAL
24856: IFFALSE 24870
24858: LD_EXP 60
24862: PUSH
24863: LD_INT 1
24865: ARRAY
24866: DOUBLE
24867: LESSEQUAL
24868: IFTRUE 24894
24870: LD_EXP 60
24874: PUSH
24875: LD_INT 10
24877: ARRAY
24878: PUSH
24879: LD_INT 1
24881: PLUS
24882: DOUBLE
24883: GREATEREQUAL
24884: IFFALSE 24892
24886: LD_INT 50400
24888: DOUBLE
24889: LESSEQUAL
24890: IFTRUE 24894
24892: GO 24913
24894: POP
// begin ChangePhase ( DailyPhase [ 6 ] , 35 ) ;
24895: LD_EXP 61
24899: PUSH
24900: LD_INT 6
24902: ARRAY
24903: PPUSH
24904: LD_INT 35
24906: PPUSH
24907: CALL 25550 0 2
// end ; TimePhase [ 1 ] + 1 .. TimePhase [ 2 ] , TimePhase [ 9 ] + 1 .. TimePhase [ 10 ] :
24911: GO 25238
24913: LD_EXP 60
24917: PUSH
24918: LD_INT 1
24920: ARRAY
24921: PUSH
24922: LD_INT 1
24924: PLUS
24925: DOUBLE
24926: GREATEREQUAL
24927: IFFALSE 24941
24929: LD_EXP 60
24933: PUSH
24934: LD_INT 2
24936: ARRAY
24937: DOUBLE
24938: LESSEQUAL
24939: IFTRUE 24971
24941: LD_EXP 60
24945: PUSH
24946: LD_INT 9
24948: ARRAY
24949: PUSH
24950: LD_INT 1
24952: PLUS
24953: DOUBLE
24954: GREATEREQUAL
24955: IFFALSE 24969
24957: LD_EXP 60
24961: PUSH
24962: LD_INT 10
24964: ARRAY
24965: DOUBLE
24966: LESSEQUAL
24967: IFTRUE 24971
24969: GO 24990
24971: POP
// begin ChangePhase ( DailyPhase [ 5 ] , 50 ) ;
24972: LD_EXP 61
24976: PUSH
24977: LD_INT 5
24979: ARRAY
24980: PPUSH
24981: LD_INT 50
24983: PPUSH
24984: CALL 25550 0 2
// end ; TimePhase [ 2 ] + 1 .. TimePhase [ 3 ] , TimePhase [ 8 ] + 1 .. TimePhase [ 9 ] :
24988: GO 25238
24990: LD_EXP 60
24994: PUSH
24995: LD_INT 2
24997: ARRAY
24998: PUSH
24999: LD_INT 1
25001: PLUS
25002: DOUBLE
25003: GREATEREQUAL
25004: IFFALSE 25018
25006: LD_EXP 60
25010: PUSH
25011: LD_INT 3
25013: ARRAY
25014: DOUBLE
25015: LESSEQUAL
25016: IFTRUE 25048
25018: LD_EXP 60
25022: PUSH
25023: LD_INT 8
25025: ARRAY
25026: PUSH
25027: LD_INT 1
25029: PLUS
25030: DOUBLE
25031: GREATEREQUAL
25032: IFFALSE 25046
25034: LD_EXP 60
25038: PUSH
25039: LD_INT 9
25041: ARRAY
25042: DOUBLE
25043: LESSEQUAL
25044: IFTRUE 25048
25046: GO 25067
25048: POP
// begin ChangePhase ( DailyPhase [ 4 ] , 60 ) ;
25049: LD_EXP 61
25053: PUSH
25054: LD_INT 4
25056: ARRAY
25057: PPUSH
25058: LD_INT 60
25060: PPUSH
25061: CALL 25550 0 2
// end ; TimePhase [ 3 ] + 1 .. TimePhase [ 4 ] , TimePhase [ 7 ] + 1 .. TimePhase [ 8 ] :
25065: GO 25238
25067: LD_EXP 60
25071: PUSH
25072: LD_INT 3
25074: ARRAY
25075: PUSH
25076: LD_INT 1
25078: PLUS
25079: DOUBLE
25080: GREATEREQUAL
25081: IFFALSE 25095
25083: LD_EXP 60
25087: PUSH
25088: LD_INT 4
25090: ARRAY
25091: DOUBLE
25092: LESSEQUAL
25093: IFTRUE 25125
25095: LD_EXP 60
25099: PUSH
25100: LD_INT 7
25102: ARRAY
25103: PUSH
25104: LD_INT 1
25106: PLUS
25107: DOUBLE
25108: GREATEREQUAL
25109: IFFALSE 25123
25111: LD_EXP 60
25115: PUSH
25116: LD_INT 8
25118: ARRAY
25119: DOUBLE
25120: LESSEQUAL
25121: IFTRUE 25125
25123: GO 25144
25125: POP
// begin ChangePhase ( DailyPhase [ 3 ] , 80 ) ;
25126: LD_EXP 61
25130: PUSH
25131: LD_INT 3
25133: ARRAY
25134: PPUSH
25135: LD_INT 80
25137: PPUSH
25138: CALL 25550 0 2
// end ; TimePhase [ 4 ] + 1 .. TimePhase [ 5 ] , TimePhase [ 6 ] + 1 .. TimePhase [ 7 ] :
25142: GO 25238
25144: LD_EXP 60
25148: PUSH
25149: LD_INT 4
25151: ARRAY
25152: PUSH
25153: LD_INT 1
25155: PLUS
25156: DOUBLE
25157: GREATEREQUAL
25158: IFFALSE 25172
25160: LD_EXP 60
25164: PUSH
25165: LD_INT 5
25167: ARRAY
25168: DOUBLE
25169: LESSEQUAL
25170: IFTRUE 25202
25172: LD_EXP 60
25176: PUSH
25177: LD_INT 6
25179: ARRAY
25180: PUSH
25181: LD_INT 1
25183: PLUS
25184: DOUBLE
25185: GREATEREQUAL
25186: IFFALSE 25200
25188: LD_EXP 60
25192: PUSH
25193: LD_INT 7
25195: ARRAY
25196: DOUBLE
25197: LESSEQUAL
25198: IFTRUE 25202
25200: GO 25221
25202: POP
// begin ChangePhase ( DailyPhase [ 2 ] , 95 ) ;
25203: LD_EXP 61
25207: PUSH
25208: LD_INT 2
25210: ARRAY
25211: PPUSH
25212: LD_INT 95
25214: PPUSH
25215: CALL 25550 0 2
// end ; else
25219: GO 25238
25221: POP
// begin ChangePhase ( DailyPhase [ 1 ] , 110 ) ;
25222: LD_EXP 61
25226: PUSH
25227: LD_INT 1
25229: ARRAY
25230: PPUSH
25231: LD_INT 110
25233: PPUSH
25234: CALL 25550 0 2
// end ; end ; enable ( 31 ) ;
25238: LD_INT 31
25240: ENABLE_MARKED
// end ;
25241: LD_VAR 0 1
25245: RET
// every 0 0$01 marked 31 do
25246: GO 25248
25248: DISABLE
// begin if daily_speed then
25249: LD_EXP 59
25253: IFFALSE 25264
// wait ( daily_speed ) ;
25255: LD_EXP 59
25259: PPUSH
25260: CALL_OW 67
// CurrentTime = CurrentTime + 0 0$01 ;
25264: LD_ADDR_EXP 110
25268: PUSH
25269: LD_EXP 110
25273: PUSH
25274: LD_INT 35
25276: PLUS
25277: ST_TO_ADDR
// case CurrentTIme of TimePhase [ 5 ] :
25278: LD_EXP 110
25282: PUSH
25283: LD_EXP 60
25287: PUSH
25288: LD_INT 5
25290: ARRAY
25291: DOUBLE
25292: EQUAL
25293: IFTRUE 25297
25295: GO 25316
25297: POP
// begin ChangePhase ( DailyPhase [ 1 ] , 110 ) ;
25298: LD_EXP 61
25302: PUSH
25303: LD_INT 1
25305: ARRAY
25306: PPUSH
25307: LD_INT 110
25309: PPUSH
25310: CALL 25550 0 2
// end ; TimePhase [ 4 ] , TimePhase [ 6 ] :
25314: GO 25530
25316: LD_EXP 60
25320: PUSH
25321: LD_INT 4
25323: ARRAY
25324: DOUBLE
25325: EQUAL
25326: IFTRUE 25342
25328: LD_EXP 60
25332: PUSH
25333: LD_INT 6
25335: ARRAY
25336: DOUBLE
25337: EQUAL
25338: IFTRUE 25342
25340: GO 25361
25342: POP
// begin ChangePhase ( DailyPhase [ 2 ] , 95 ) ;
25343: LD_EXP 61
25347: PUSH
25348: LD_INT 2
25350: ARRAY
25351: PPUSH
25352: LD_INT 95
25354: PPUSH
25355: CALL 25550 0 2
// end ; TimePhase [ 3 ] , TimePhase [ 7 ] :
25359: GO 25530
25361: LD_EXP 60
25365: PUSH
25366: LD_INT 3
25368: ARRAY
25369: DOUBLE
25370: EQUAL
25371: IFTRUE 25387
25373: LD_EXP 60
25377: PUSH
25378: LD_INT 7
25380: ARRAY
25381: DOUBLE
25382: EQUAL
25383: IFTRUE 25387
25385: GO 25406
25387: POP
// begin ChangePhase ( DailyPhase [ 3 ] , 80 ) ;
25388: LD_EXP 61
25392: PUSH
25393: LD_INT 3
25395: ARRAY
25396: PPUSH
25397: LD_INT 80
25399: PPUSH
25400: CALL 25550 0 2
// end ; TimePhase [ 2 ] , TimePhase [ 8 ] :
25404: GO 25530
25406: LD_EXP 60
25410: PUSH
25411: LD_INT 2
25413: ARRAY
25414: DOUBLE
25415: EQUAL
25416: IFTRUE 25432
25418: LD_EXP 60
25422: PUSH
25423: LD_INT 8
25425: ARRAY
25426: DOUBLE
25427: EQUAL
25428: IFTRUE 25432
25430: GO 25451
25432: POP
// begin ChangePhase ( DailyPhase [ 4 ] , 60 ) ;
25433: LD_EXP 61
25437: PUSH
25438: LD_INT 4
25440: ARRAY
25441: PPUSH
25442: LD_INT 60
25444: PPUSH
25445: CALL 25550 0 2
// end ; TimePhase [ 1 ] , TimePhase [ 9 ] :
25449: GO 25530
25451: LD_EXP 60
25455: PUSH
25456: LD_INT 1
25458: ARRAY
25459: DOUBLE
25460: EQUAL
25461: IFTRUE 25477
25463: LD_EXP 60
25467: PUSH
25468: LD_INT 9
25470: ARRAY
25471: DOUBLE
25472: EQUAL
25473: IFTRUE 25477
25475: GO 25496
25477: POP
// begin ChangePhase ( DailyPhase [ 5 ] , 50 ) ;
25478: LD_EXP 61
25482: PUSH
25483: LD_INT 5
25485: ARRAY
25486: PPUSH
25487: LD_INT 50
25489: PPUSH
25490: CALL 25550 0 2
// end ; TimePhase [ 10 ] :
25494: GO 25530
25496: LD_EXP 60
25500: PUSH
25501: LD_INT 10
25503: ARRAY
25504: DOUBLE
25505: EQUAL
25506: IFTRUE 25510
25508: GO 25529
25510: POP
// begin ChangePhase ( DailyPhase [ 6 ] , 35 ) ;
25511: LD_EXP 61
25515: PUSH
25516: LD_INT 6
25518: ARRAY
25519: PPUSH
25520: LD_INT 35
25522: PPUSH
25523: CALL 25550 0 2
// end ; end ;
25527: GO 25530
25529: POP
// if CurrentTime >= 24 24$00 then
25530: LD_EXP 110
25534: PUSH
25535: LD_INT 50400
25537: GREATEREQUAL
25538: IFFALSE 25548
// CurrentTime = 0 0$00 ;
25540: LD_ADDR_EXP 110
25544: PUSH
25545: LD_INT 0
25547: ST_TO_ADDR
// enable ;
25548: ENABLE
// end ;
25549: END
// function changePhase ( dp , srp ) ; begin
25550: LD_INT 0
25552: PPUSH
// solar_recharge_percent = srp ;
25553: LD_ADDR_OWVAR 79
25557: PUSH
25558: LD_VAR 0 2
25562: ST_TO_ADDR
// LoadColorsTXT ( dp ) ;
25563: LD_VAR 0 1
25567: PPUSH
25568: CALL_OW 544
// end ; end_of_file
25572: LD_VAR 0 3
25576: RET
// export BuildUpAreas ; export BuildUpTimeActive ; export BuildUpTime_Delay ; export function BeginBuildUp ; var i , j ; begin
25577: LD_INT 0
25579: PPUSH
25580: PPUSH
25581: PPUSH
// BuildUpTime_Delay = 0 ;
25582: LD_ADDR_EXP 117
25586: PUSH
25587: LD_INT 0
25589: ST_TO_ADDR
// if not def_builduptime then
25590: LD_EXP 30
25594: NOT
25595: IFFALSE 25599
// exit ;
25597: GO 25782
// BuildUpTime_Delay := 4 4$00 + 1 1$00 * def_builduptime ;
25599: LD_ADDR_EXP 117
25603: PUSH
25604: LD_INT 8400
25606: PUSH
25607: LD_INT 2100
25609: PUSH
25610: LD_EXP 30
25614: MUL
25615: PLUS
25616: ST_TO_ADDR
// BuildUpTimeActive := true ;
25617: LD_ADDR_EXP 116
25621: PUSH
25622: LD_INT 1
25624: ST_TO_ADDR
// for i := 1 to 8 do
25625: LD_ADDR_VAR 0 2
25629: PUSH
25630: DOUBLE
25631: LD_INT 1
25633: DEC
25634: ST_TO_ADDR
25635: LD_INT 8
25637: PUSH
25638: FOR_TO
25639: IFFALSE 25780
// if Side_Positions [ i ] then
25641: LD_EXP 74
25645: PUSH
25646: LD_VAR 0 2
25650: ARRAY
25651: IFFALSE 25778
// begin SetAreaMapShow ( BuildUpAreas [ Side_Positions [ i ] ] , 5 ) ;
25653: LD_EXP 115
25657: PUSH
25658: LD_EXP 74
25662: PUSH
25663: LD_VAR 0 2
25667: ARRAY
25668: ARRAY
25669: PPUSH
25670: LD_INT 5
25672: PPUSH
25673: CALL_OW 424
// for j := 1 to 8 do
25677: LD_ADDR_VAR 0 3
25681: PUSH
25682: DOUBLE
25683: LD_INT 1
25685: DEC
25686: ST_TO_ADDR
25687: LD_INT 8
25689: PUSH
25690: FOR_TO
25691: IFFALSE 25776
// if Side_Positions [ j ] and ( ( Side_Teams [ i ] <> Side_Teams [ j ] ) or ( not Team_Game ) and ( i <> j ) ) then
25693: LD_EXP 74
25697: PUSH
25698: LD_VAR 0 3
25702: ARRAY
25703: PUSH
25704: LD_EXP 71
25708: PUSH
25709: LD_VAR 0 2
25713: ARRAY
25714: PUSH
25715: LD_EXP 71
25719: PUSH
25720: LD_VAR 0 3
25724: ARRAY
25725: NONEQUAL
25726: PUSH
25727: LD_EXP 79
25731: NOT
25732: PUSH
25733: LD_VAR 0 2
25737: PUSH
25738: LD_VAR 0 3
25742: NONEQUAL
25743: AND
25744: OR
25745: AND
25746: IFFALSE 25774
// HideArea ( j , BuildUpAreas [ Side_Positions [ i ] ] ) ;
25748: LD_VAR 0 3
25752: PPUSH
25753: LD_EXP 115
25757: PUSH
25758: LD_EXP 74
25762: PUSH
25763: LD_VAR 0 2
25767: ARRAY
25768: ARRAY
25769: PPUSH
25770: CALL_OW 333
25774: GO 25690
25776: POP
25777: POP
// end ;
25778: GO 25638
25780: POP
25781: POP
// end ;
25782: LD_VAR 0 1
25786: RET
// export function EndBuildUp ; var i , j ; begin
25787: LD_INT 0
25789: PPUSH
25790: PPUSH
25791: PPUSH
// BuildUpTimeActive := false ;
25792: LD_ADDR_EXP 116
25796: PUSH
25797: LD_INT 0
25799: ST_TO_ADDR
// for i := 1 to 8 do
25800: LD_ADDR_VAR 0 2
25804: PUSH
25805: DOUBLE
25806: LD_INT 1
25808: DEC
25809: ST_TO_ADDR
25810: LD_INT 8
25812: PUSH
25813: FOR_TO
25814: IFFALSE 25955
// if Side_Positions [ i ] then
25816: LD_EXP 74
25820: PUSH
25821: LD_VAR 0 2
25825: ARRAY
25826: IFFALSE 25953
// begin SetAreaMapShow ( BuildUpAreas [ Side_Positions [ i ] ] , 0 ) ;
25828: LD_EXP 115
25832: PUSH
25833: LD_EXP 74
25837: PUSH
25838: LD_VAR 0 2
25842: ARRAY
25843: ARRAY
25844: PPUSH
25845: LD_INT 0
25847: PPUSH
25848: CALL_OW 424
// for j := 1 to 8 do
25852: LD_ADDR_VAR 0 3
25856: PUSH
25857: DOUBLE
25858: LD_INT 1
25860: DEC
25861: ST_TO_ADDR
25862: LD_INT 8
25864: PUSH
25865: FOR_TO
25866: IFFALSE 25951
// if Side_Positions [ j ] and ( ( Side_Teams [ i ] <> Side_Teams [ j ] ) or ( not Team_Game ) and ( i <> j ) ) then
25868: LD_EXP 74
25872: PUSH
25873: LD_VAR 0 3
25877: ARRAY
25878: PUSH
25879: LD_EXP 71
25883: PUSH
25884: LD_VAR 0 2
25888: ARRAY
25889: PUSH
25890: LD_EXP 71
25894: PUSH
25895: LD_VAR 0 3
25899: ARRAY
25900: NONEQUAL
25901: PUSH
25902: LD_EXP 79
25906: NOT
25907: PUSH
25908: LD_VAR 0 2
25912: PUSH
25913: LD_VAR 0 3
25917: NONEQUAL
25918: AND
25919: OR
25920: AND
25921: IFFALSE 25949
// ShowArea ( j , BuildUpAreas [ Side_Positions [ i ] ] ) ;
25923: LD_VAR 0 3
25927: PPUSH
25928: LD_EXP 115
25932: PUSH
25933: LD_EXP 74
25937: PUSH
25938: LD_VAR 0 2
25942: ARRAY
25943: ARRAY
25944: PPUSH
25945: CALL_OW 334
25949: GO 25865
25951: POP
25952: POP
// end ;
25953: GO 25813
25955: POP
25956: POP
// end ;
25957: LD_VAR 0 1
25961: RET
// every 5 trigger BuildUpTimeActive do var i , un ;
25962: LD_EXP 116
25966: IFFALSE 26141
25968: GO 25970
25970: DISABLE
25971: LD_INT 0
25973: PPUSH
25974: PPUSH
// begin for i := 1 to 8 do
25975: LD_ADDR_VAR 0 1
25979: PUSH
25980: DOUBLE
25981: LD_INT 1
25983: DEC
25984: ST_TO_ADDR
25985: LD_INT 8
25987: PUSH
25988: FOR_TO
25989: IFFALSE 26138
// if Side_Positions [ i ] then
25991: LD_EXP 74
25995: PUSH
25996: LD_VAR 0 1
26000: ARRAY
26001: IFFALSE 26136
// for un in FilterUnitsInArea ( BuildUpAreas [ Side_Positions [ i ] ] , [ [ f_or , [ f_type , unit_human ] , [ f_type , unit_vehicle ] ] , [ f_side , Your_Side ] ] ) do
26003: LD_ADDR_VAR 0 2
26007: PUSH
26008: LD_EXP 115
26012: PUSH
26013: LD_EXP 74
26017: PUSH
26018: LD_VAR 0 1
26022: ARRAY
26023: ARRAY
26024: PPUSH
26025: LD_INT 2
26027: PUSH
26028: LD_INT 21
26030: PUSH
26031: LD_INT 1
26033: PUSH
26034: EMPTY
26035: LIST
26036: LIST
26037: PUSH
26038: LD_INT 21
26040: PUSH
26041: LD_INT 2
26043: PUSH
26044: EMPTY
26045: LIST
26046: LIST
26047: PUSH
26048: EMPTY
26049: LIST
26050: LIST
26051: LIST
26052: PUSH
26053: LD_INT 22
26055: PUSH
26056: LD_OWVAR 2
26060: PUSH
26061: EMPTY
26062: LIST
26063: LIST
26064: PUSH
26065: EMPTY
26066: LIST
26067: LIST
26068: PPUSH
26069: CALL_OW 70
26073: PUSH
26074: FOR_IN
26075: IFFALSE 26134
// if ( ( Side_Teams [ i ] <> Side_Teams [ Your_Side ] ) or ( not Team_Game ) and ( i <> Your_Side ) ) then
26077: LD_EXP 71
26081: PUSH
26082: LD_VAR 0 1
26086: ARRAY
26087: PUSH
26088: LD_EXP 71
26092: PUSH
26093: LD_OWVAR 2
26097: ARRAY
26098: NONEQUAL
26099: PUSH
26100: LD_EXP 79
26104: NOT
26105: PUSH
26106: LD_VAR 0 1
26110: PUSH
26111: LD_OWVAR 2
26115: NONEQUAL
26116: AND
26117: OR
26118: IFFALSE 26132
// ComMoveToArea ( un , BuildUpEscape ) ;
26120: LD_VAR 0 2
26124: PPUSH
26125: LD_INT 33
26127: PPUSH
26128: CALL_OW 113
26132: GO 26074
26134: POP
26135: POP
26136: GO 25988
26138: POP
26139: POP
// enable ;
26140: ENABLE
// end ;
26141: PPOPN 2
26143: END
// every 0 0$1 trigger def_builduptime do
26144: LD_EXP 30
26148: IFFALSE 26174
26150: GO 26152
26152: DISABLE
// begin wait ( 4 4$00 + ( def_builduptime * 1 1$00 ) ) ;
26153: LD_INT 8400
26155: PUSH
26156: LD_EXP 30
26160: PUSH
26161: LD_INT 2100
26163: MUL
26164: PLUS
26165: PPUSH
26166: CALL_OW 67
// EndBuildUp ;
26170: CALL 25787 0 0
// end ; end_of_file
26174: END
// var Restricted_Builds , Restricted_Builds_Amount ; var Banned_Weapons , Banned_Chassis , Banned_Controls , Banned_Engines ; var Already_Built ; var Limits_Info , Cheaters ; every 0 0$1 do
26175: GO 26177
26177: DISABLE
// begin fLimitsStrings ;
26178: CALL 26184 0 0
// enable ;
26182: ENABLE
// end ;
26183: END
// export function fLimitsStrings ; var i ; begin
26184: LD_INT 0
26186: PPUSH
26187: PPUSH
// if ( not IAmSpec ) then
26188: CALL_OW 531
26192: NOT
26193: IFFALSE 26209
// LimitsStrings := Limits_Info ^  ;
26195: LD_ADDR_EXP 109
26199: PUSH
26200: LD_LOC 29
26204: PUSH
26205: LD_STRING 
26207: ADD
26208: ST_TO_ADDR
// for i := 1 to 8 do
26209: LD_ADDR_VAR 0 2
26213: PUSH
26214: DOUBLE
26215: LD_INT 1
26217: DEC
26218: ST_TO_ADDR
26219: LD_INT 8
26221: PUSH
26222: FOR_TO
26223: IFFALSE 26268
// if Cheaters [ i ] then
26225: LD_LOC 30
26229: PUSH
26230: LD_VAR 0 2
26234: ARRAY
26235: IFFALSE 26266
// LimitsStrings := LimitsStrings ^ [ #Cheater , i , i ] ;
26237: LD_ADDR_EXP 109
26241: PUSH
26242: LD_EXP 109
26246: PUSH
26247: LD_STRING #Cheater
26249: PUSH
26250: LD_VAR 0 2
26254: PUSH
26255: LD_VAR 0 2
26259: PUSH
26260: EMPTY
26261: LIST
26262: LIST
26263: LIST
26264: ADD
26265: ST_TO_ADDR
26266: GO 26222
26268: POP
26269: POP
// end ;
26270: LD_VAR 0 1
26274: RET
// export function InitGameRules ; var Unavailable_Techs , Unavailable_Builds ; var i , j ; begin
26275: LD_INT 0
26277: PPUSH
26278: PPUSH
26279: PPUSH
26280: PPUSH
26281: PPUSH
// Cheaters := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
26282: LD_ADDR_LOC 30
26286: PUSH
26287: LD_INT 0
26289: PUSH
26290: LD_INT 0
26292: PUSH
26293: LD_INT 0
26295: PUSH
26296: LD_INT 0
26298: PUSH
26299: LD_INT 0
26301: PUSH
26302: LD_INT 0
26304: PUSH
26305: LD_INT 0
26307: PUSH
26308: LD_INT 0
26310: PUSH
26311: EMPTY
26312: LIST
26313: LIST
26314: LIST
26315: LIST
26316: LIST
26317: LIST
26318: LIST
26319: LIST
26320: ST_TO_ADDR
// case def_game_rules of 0 :
26321: LD_EXP 9
26325: PUSH
26326: LD_INT 0
26328: DOUBLE
26329: EQUAL
26330: IFTRUE 26334
26332: GO 26339
26334: POP
// exit ; 1 :
26335: GO 28975
26337: GO 28875
26339: LD_INT 1
26341: DOUBLE
26342: EQUAL
26343: IFTRUE 26347
26345: GO 26650
26347: POP
// begin def_base_level := 2 ;
26348: LD_ADDR_EXP 10
26352: PUSH
26353: LD_INT 2
26355: ST_TO_ADDR
// def_amount_of_people := 10 ;
26356: LD_ADDR_EXP 11
26360: PUSH
26361: LD_INT 10
26363: ST_TO_ADDR
// def_initial_level := 1 ;
26364: LD_ADDR_EXP 13
26368: PUSH
26369: LD_INT 1
26371: ST_TO_ADDR
// def_starting_resources := 2 ;
26372: LD_ADDR_EXP 15
26376: PUSH
26377: LD_INT 2
26379: ST_TO_ADDR
// def_shipments_density := 1 ;
26380: LD_ADDR_EXP 16
26384: PUSH
26385: LD_INT 1
26387: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
26388: LD_ADDR_EXP 17
26392: PUSH
26393: LD_INT 0
26395: ST_TO_ADDR
// def_extra_sib_deposits := 1 ;
26396: LD_ADDR_EXP 18
26400: PUSH
26401: LD_INT 1
26403: ST_TO_ADDR
// def_shared_vision := 1 ;
26404: LD_ADDR_EXP 19
26408: PUSH
26409: LD_INT 1
26411: ST_TO_ADDR
// def_morale_flags := 3 ;
26412: LD_ADDR_EXP 20
26416: PUSH
26417: LD_INT 3
26419: ST_TO_ADDR
// def_siberite_detection := 1 ;
26420: LD_ADDR_EXP 28
26424: PUSH
26425: LD_INT 1
26427: ST_TO_ADDR
// def_people_respawning := 1 ;
26428: LD_ADDR_EXP 25
26432: PUSH
26433: LD_INT 1
26435: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
26436: LD_ADDR_EXP 22
26440: PUSH
26441: LD_INT 1
26443: ST_TO_ADDR
// def_siberite_bomb := 0 ;
26444: LD_ADDR_EXP 29
26448: PUSH
26449: LD_INT 0
26451: ST_TO_ADDR
// def_builduptime := 2 ;
26452: LD_ADDR_EXP 30
26456: PUSH
26457: LD_INT 2
26459: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
26460: LD_ADDR_EXP 12
26464: PUSH
26465: LD_INT 0
26467: ST_TO_ADDR
// def_amount_of_tiger := 0 ;
26468: LD_ADDR_EXP 23
26472: PUSH
26473: LD_INT 0
26475: ST_TO_ADDR
// def_respawining_type := 3 ;
26476: LD_ADDR_EXP 24
26480: PUSH
26481: LD_INT 3
26483: ST_TO_ADDR
// def_tech_level := 8 ;
26484: LD_ADDR_EXP 26
26488: PUSH
26489: LD_INT 8
26491: ST_TO_ADDR
// def_upgrade_tl := 0 ;
26492: LD_ADDR_EXP 27
26496: PUSH
26497: LD_INT 0
26499: ST_TO_ADDR
// def_desert_warior := 0 ;
26500: LD_ADDR_EXP 31
26504: PUSH
26505: LD_INT 0
26507: ST_TO_ADDR
// Unavailable_Techs := [ ] ;
26508: LD_ADDR_VAR 0 2
26512: PUSH
26513: EMPTY
26514: ST_TO_ADDR
// Unavailable_Builds := [ ] ;
26515: LD_ADDR_VAR 0 3
26519: PUSH
26520: EMPTY
26521: ST_TO_ADDR
// Banned_Weapons := [ ] ;
26522: LD_ADDR_LOC 24
26526: PUSH
26527: EMPTY
26528: ST_TO_ADDR
// Banned_Chassis := [ ] ;
26529: LD_ADDR_LOC 25
26533: PUSH
26534: EMPTY
26535: ST_TO_ADDR
// Banned_Controls := [ ] ;
26536: LD_ADDR_LOC 26
26540: PUSH
26541: EMPTY
26542: ST_TO_ADDR
// Banned_Engines := [ ] ;
26543: LD_ADDR_LOC 27
26547: PUSH
26548: EMPTY
26549: ST_TO_ADDR
// Restricted_Builds := [ [ b_Behemoth ] , [ b_Armoury , b_Barracks ] , [ b_Breastwork , b_Bunker , b_Turret ] ] ;
26550: LD_ADDR_LOC 22
26554: PUSH
26555: LD_INT 37
26557: PUSH
26558: EMPTY
26559: LIST
26560: PUSH
26561: LD_INT 4
26563: PUSH
26564: LD_INT 5
26566: PUSH
26567: EMPTY
26568: LIST
26569: LIST
26570: PUSH
26571: LD_INT 31
26573: PUSH
26574: LD_INT 32
26576: PUSH
26577: LD_INT 33
26579: PUSH
26580: EMPTY
26581: LIST
26582: LIST
26583: LIST
26584: PUSH
26585: EMPTY
26586: LIST
26587: LIST
26588: LIST
26589: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
26590: LD_EXP 1
26594: PUSH
26595: LD_EXP 3
26599: PUSH
26600: LD_EXP 4
26604: ADD
26605: IN
26606: IFFALSE 26629
// Restricted_Builds_Amount := [ 4 , 4 , 8 ] else
26608: LD_ADDR_LOC 23
26612: PUSH
26613: LD_INT 4
26615: PUSH
26616: LD_INT 4
26618: PUSH
26619: LD_INT 8
26621: PUSH
26622: EMPTY
26623: LIST
26624: LIST
26625: LIST
26626: ST_TO_ADDR
26627: GO 26648
// Restricted_Builds_Amount := [ 2 , 2 , 4 ] ;
26629: LD_ADDR_LOC 23
26633: PUSH
26634: LD_INT 2
26636: PUSH
26637: LD_INT 2
26639: PUSH
26640: LD_INT 4
26642: PUSH
26643: EMPTY
26644: LIST
26645: LIST
26646: LIST
26647: ST_TO_ADDR
// end ; 2 :
26648: GO 28875
26650: LD_INT 2
26652: DOUBLE
26653: EQUAL
26654: IFTRUE 26658
26656: GO 26950
26658: POP
// begin def_base_level := 1 ;
26659: LD_ADDR_EXP 10
26663: PUSH
26664: LD_INT 1
26666: ST_TO_ADDR
// def_amount_of_people := 2 ;
26667: LD_ADDR_EXP 11
26671: PUSH
26672: LD_INT 2
26674: ST_TO_ADDR
// def_initial_level := 3 ;
26675: LD_ADDR_EXP 13
26679: PUSH
26680: LD_INT 3
26682: ST_TO_ADDR
// def_starting_resources := 3 ;
26683: LD_ADDR_EXP 15
26687: PUSH
26688: LD_INT 3
26690: ST_TO_ADDR
// def_shipments_density := 2 ;
26691: LD_ADDR_EXP 16
26695: PUSH
26696: LD_INT 2
26698: ST_TO_ADDR
// def_extra_oil_deposits := 1 ;
26699: LD_ADDR_EXP 17
26703: PUSH
26704: LD_INT 1
26706: ST_TO_ADDR
// def_extra_sib_deposits := 2 ;
26707: LD_ADDR_EXP 18
26711: PUSH
26712: LD_INT 2
26714: ST_TO_ADDR
// def_shared_vision := 1 ;
26715: LD_ADDR_EXP 19
26719: PUSH
26720: LD_INT 1
26722: ST_TO_ADDR
// def_morale_flags := 0 ;
26723: LD_ADDR_EXP 20
26727: PUSH
26728: LD_INT 0
26730: ST_TO_ADDR
// def_siberite_detection := 1 ;
26731: LD_ADDR_EXP 28
26735: PUSH
26736: LD_INT 1
26738: ST_TO_ADDR
// def_people_respawning := 0 ;
26739: LD_ADDR_EXP 25
26743: PUSH
26744: LD_INT 0
26746: ST_TO_ADDR
// def_amount_of_apemen := 0 ;
26747: LD_ADDR_EXP 22
26751: PUSH
26752: LD_INT 0
26754: ST_TO_ADDR
// def_siberite_bomb := 0 ;
26755: LD_ADDR_EXP 29
26759: PUSH
26760: LD_INT 0
26762: ST_TO_ADDR
// def_builduptime := 2 ;
26763: LD_ADDR_EXP 30
26767: PUSH
26768: LD_INT 2
26770: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
26771: LD_ADDR_EXP 12
26775: PUSH
26776: LD_INT 0
26778: ST_TO_ADDR
// def_amount_of_tiger := 0 ;
26779: LD_ADDR_EXP 23
26783: PUSH
26784: LD_INT 0
26786: ST_TO_ADDR
// def_respawining_type := 3 ;
26787: LD_ADDR_EXP 24
26791: PUSH
26792: LD_INT 3
26794: ST_TO_ADDR
// def_tech_level := 8 ;
26795: LD_ADDR_EXP 26
26799: PUSH
26800: LD_INT 8
26802: ST_TO_ADDR
// def_upgrade_tl := 0 ;
26803: LD_ADDR_EXP 27
26807: PUSH
26808: LD_INT 0
26810: ST_TO_ADDR
// def_desert_warior := 0 ;
26811: LD_ADDR_EXP 31
26815: PUSH
26816: LD_INT 0
26818: ST_TO_ADDR
// Unavailable_Techs := [ tech_ApeLang ] ;
26819: LD_ADDR_VAR 0 2
26823: PUSH
26824: LD_INT 1
26826: PUSH
26827: EMPTY
26828: LIST
26829: ST_TO_ADDR
// Unavailable_Builds := [ ] ;
26830: LD_ADDR_VAR 0 3
26834: PUSH
26835: EMPTY
26836: ST_TO_ADDR
// Banned_Weapons := [ ] ;
26837: LD_ADDR_LOC 24
26841: PUSH
26842: EMPTY
26843: ST_TO_ADDR
// Banned_Chassis := [ ] ;
26844: LD_ADDR_LOC 25
26848: PUSH
26849: EMPTY
26850: ST_TO_ADDR
// Banned_Controls := [ ] ;
26851: LD_ADDR_LOC 26
26855: PUSH
26856: EMPTY
26857: ST_TO_ADDR
// Banned_Engines := [ ] ;
26858: LD_ADDR_LOC 27
26862: PUSH
26863: EMPTY
26864: ST_TO_ADDR
// Restricted_Builds := [ [ b_Armoury , b_Barracks ] , [ b_Breastwork , b_Bunker , b_Turret ] ] ;
26865: LD_ADDR_LOC 22
26869: PUSH
26870: LD_INT 4
26872: PUSH
26873: LD_INT 5
26875: PUSH
26876: EMPTY
26877: LIST
26878: LIST
26879: PUSH
26880: LD_INT 31
26882: PUSH
26883: LD_INT 32
26885: PUSH
26886: LD_INT 33
26888: PUSH
26889: EMPTY
26890: LIST
26891: LIST
26892: LIST
26893: PUSH
26894: EMPTY
26895: LIST
26896: LIST
26897: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
26898: LD_EXP 1
26902: PUSH
26903: LD_EXP 3
26907: PUSH
26908: LD_EXP 4
26912: ADD
26913: IN
26914: IFFALSE 26933
// Restricted_Builds_Amount := [ 2 , 4 ] else
26916: LD_ADDR_LOC 23
26920: PUSH
26921: LD_INT 2
26923: PUSH
26924: LD_INT 4
26926: PUSH
26927: EMPTY
26928: LIST
26929: LIST
26930: ST_TO_ADDR
26931: GO 26948
// Restricted_Builds_Amount := [ 1 , 2 ] ;
26933: LD_ADDR_LOC 23
26937: PUSH
26938: LD_INT 1
26940: PUSH
26941: LD_INT 2
26943: PUSH
26944: EMPTY
26945: LIST
26946: LIST
26947: ST_TO_ADDR
// end ; 3 :
26948: GO 28875
26950: LD_INT 3
26952: DOUBLE
26953: EQUAL
26954: IFTRUE 26958
26956: GO 27241
26958: POP
// begin def_base_level := 1 ;
26959: LD_ADDR_EXP 10
26963: PUSH
26964: LD_INT 1
26966: ST_TO_ADDR
// def_amount_of_people := 10 ;
26967: LD_ADDR_EXP 11
26971: PUSH
26972: LD_INT 10
26974: ST_TO_ADDR
// def_initial_level := 3 ;
26975: LD_ADDR_EXP 13
26979: PUSH
26980: LD_INT 3
26982: ST_TO_ADDR
// def_starting_resources := 3 ;
26983: LD_ADDR_EXP 15
26987: PUSH
26988: LD_INT 3
26990: ST_TO_ADDR
// def_shipments_density := 1 ;
26991: LD_ADDR_EXP 16
26995: PUSH
26996: LD_INT 1
26998: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
26999: LD_ADDR_EXP 17
27003: PUSH
27004: LD_INT 0
27006: ST_TO_ADDR
// def_extra_sib_deposits := 1 ;
27007: LD_ADDR_EXP 18
27011: PUSH
27012: LD_INT 1
27014: ST_TO_ADDR
// def_shared_vision := 1 ;
27015: LD_ADDR_EXP 19
27019: PUSH
27020: LD_INT 1
27022: ST_TO_ADDR
// def_morale_flags := 0 ;
27023: LD_ADDR_EXP 20
27027: PUSH
27028: LD_INT 0
27030: ST_TO_ADDR
// def_siberite_detection := 1 ;
27031: LD_ADDR_EXP 28
27035: PUSH
27036: LD_INT 1
27038: ST_TO_ADDR
// def_people_respawning := 0 ;
27039: LD_ADDR_EXP 25
27043: PUSH
27044: LD_INT 0
27046: ST_TO_ADDR
// def_amount_of_apemen := 2 ;
27047: LD_ADDR_EXP 22
27051: PUSH
27052: LD_INT 2
27054: ST_TO_ADDR
// def_siberite_bomb := 0 ;
27055: LD_ADDR_EXP 29
27059: PUSH
27060: LD_INT 0
27062: ST_TO_ADDR
// def_builduptime := 1 ;
27063: LD_ADDR_EXP 30
27067: PUSH
27068: LD_INT 1
27070: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
27071: LD_ADDR_EXP 12
27075: PUSH
27076: LD_INT 0
27078: ST_TO_ADDR
// def_amount_of_tiger := 1 ;
27079: LD_ADDR_EXP 23
27083: PUSH
27084: LD_INT 1
27086: ST_TO_ADDR
// def_respawining_type := 3 ;
27087: LD_ADDR_EXP 24
27091: PUSH
27092: LD_INT 3
27094: ST_TO_ADDR
// def_tech_level := 8 ;
27095: LD_ADDR_EXP 26
27099: PUSH
27100: LD_INT 8
27102: ST_TO_ADDR
// def_upgrade_tl := 0 ;
27103: LD_ADDR_EXP 27
27107: PUSH
27108: LD_INT 0
27110: ST_TO_ADDR
// def_desert_warior := 0 ;
27111: LD_ADDR_EXP 31
27115: PUSH
27116: LD_INT 0
27118: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth ] ;
27119: LD_ADDR_VAR 0 2
27123: PUSH
27124: LD_INT 23
27126: PUSH
27127: EMPTY
27128: LIST
27129: ST_TO_ADDR
// Unavailable_Builds := [ b_Workshop , b_Behemoth , b_Bunker , b_Turret , b_Control_Tower , b_ext_track , b_ext_stitch , b_ext_siberium , b_ext_rocket , b_ext_radio , b_ext_radar , b_ext_noncombat , b_ext_laser , b_ext_gun , b_ext_computer ] ;
27130: LD_ADDR_VAR 0 3
27134: PUSH
27135: LD_INT 2
27137: PUSH
27138: LD_INT 37
27140: PUSH
27141: LD_INT 32
27143: PUSH
27144: LD_INT 33
27146: PUSH
27147: LD_INT 36
27149: PUSH
27150: LD_INT 16
27152: PUSH
27153: LD_INT 23
27155: PUSH
27156: LD_INT 21
27158: PUSH
27159: LD_INT 18
27161: PUSH
27162: LD_INT 22
27164: PUSH
27165: LD_INT 20
27167: PUSH
27168: LD_INT 19
27170: PUSH
27171: LD_INT 25
27173: PUSH
27174: LD_INT 17
27176: PUSH
27177: LD_INT 24
27179: PUSH
27180: EMPTY
27181: LIST
27182: LIST
27183: LIST
27184: LIST
27185: LIST
27186: LIST
27187: LIST
27188: LIST
27189: LIST
27190: LIST
27191: LIST
27192: LIST
27193: LIST
27194: LIST
27195: LIST
27196: ST_TO_ADDR
// Banned_Weapons := [ ] ;
27197: LD_ADDR_LOC 24
27201: PUSH
27202: EMPTY
27203: ST_TO_ADDR
// Banned_Chassis := [ ] ;
27204: LD_ADDR_LOC 25
27208: PUSH
27209: EMPTY
27210: ST_TO_ADDR
// Banned_Controls := [ ] ;
27211: LD_ADDR_LOC 26
27215: PUSH
27216: EMPTY
27217: ST_TO_ADDR
// Banned_Engines := [ ] ;
27218: LD_ADDR_LOC 27
27222: PUSH
27223: EMPTY
27224: ST_TO_ADDR
// Restricted_Builds := [ ] ;
27225: LD_ADDR_LOC 22
27229: PUSH
27230: EMPTY
27231: ST_TO_ADDR
// Restricted_Builds_Amount := [ ] ;
27232: LD_ADDR_LOC 23
27236: PUSH
27237: EMPTY
27238: ST_TO_ADDR
// end ; 4 :
27239: GO 28875
27241: LD_INT 4
27243: DOUBLE
27244: EQUAL
27245: IFTRUE 27249
27247: GO 27472
27249: POP
// begin def_base_level := 1 ;
27250: LD_ADDR_EXP 10
27254: PUSH
27255: LD_INT 1
27257: ST_TO_ADDR
// def_amount_of_people := 10 ;
27258: LD_ADDR_EXP 11
27262: PUSH
27263: LD_INT 10
27265: ST_TO_ADDR
// def_initial_level := 3 ;
27266: LD_ADDR_EXP 13
27270: PUSH
27271: LD_INT 3
27273: ST_TO_ADDR
// def_starting_resources := 3 ;
27274: LD_ADDR_EXP 15
27278: PUSH
27279: LD_INT 3
27281: ST_TO_ADDR
// def_shipments_density := 2 ;
27282: LD_ADDR_EXP 16
27286: PUSH
27287: LD_INT 2
27289: ST_TO_ADDR
// def_extra_oil_deposits := 1 ;
27290: LD_ADDR_EXP 17
27294: PUSH
27295: LD_INT 1
27297: ST_TO_ADDR
// def_extra_sib_deposits := 2 ;
27298: LD_ADDR_EXP 18
27302: PUSH
27303: LD_INT 2
27305: ST_TO_ADDR
// def_shared_vision := 1 ;
27306: LD_ADDR_EXP 19
27310: PUSH
27311: LD_INT 1
27313: ST_TO_ADDR
// def_morale_flags := 0 ;
27314: LD_ADDR_EXP 20
27318: PUSH
27319: LD_INT 0
27321: ST_TO_ADDR
// def_siberite_detection := 1 ;
27322: LD_ADDR_EXP 28
27326: PUSH
27327: LD_INT 1
27329: ST_TO_ADDR
// def_people_respawning := 0 ;
27330: LD_ADDR_EXP 25
27334: PUSH
27335: LD_INT 0
27337: ST_TO_ADDR
// def_amount_of_apemen := 0 ;
27338: LD_ADDR_EXP 22
27342: PUSH
27343: LD_INT 0
27345: ST_TO_ADDR
// def_siberite_bomb := 1 ;
27346: LD_ADDR_EXP 29
27350: PUSH
27351: LD_INT 1
27353: ST_TO_ADDR
// def_builduptime := 3 ;
27354: LD_ADDR_EXP 30
27358: PUSH
27359: LD_INT 3
27361: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
27362: LD_ADDR_EXP 12
27366: PUSH
27367: LD_INT 0
27369: ST_TO_ADDR
// def_amount_of_tiger := 0 ;
27370: LD_ADDR_EXP 23
27374: PUSH
27375: LD_INT 0
27377: ST_TO_ADDR
// def_respawining_type := 3 ;
27378: LD_ADDR_EXP 24
27382: PUSH
27383: LD_INT 3
27385: ST_TO_ADDR
// def_tech_level := 8 ;
27386: LD_ADDR_EXP 26
27390: PUSH
27391: LD_INT 8
27393: ST_TO_ADDR
// def_upgrade_tl := 0 ;
27394: LD_ADDR_EXP 27
27398: PUSH
27399: LD_INT 0
27401: ST_TO_ADDR
// def_desert_warior := 0 ;
27402: LD_ADDR_EXP 31
27406: PUSH
27407: LD_INT 0
27409: ST_TO_ADDR
// Unavailable_Techs := [ tech_ApeLang ] ;
27410: LD_ADDR_VAR 0 2
27414: PUSH
27415: LD_INT 1
27417: PUSH
27418: EMPTY
27419: LIST
27420: ST_TO_ADDR
// Unavailable_Builds := [ ] ;
27421: LD_ADDR_VAR 0 3
27425: PUSH
27426: EMPTY
27427: ST_TO_ADDR
// Banned_Weapons := [ ] ;
27428: LD_ADDR_LOC 24
27432: PUSH
27433: EMPTY
27434: ST_TO_ADDR
// Banned_Chassis := [ ] ;
27435: LD_ADDR_LOC 25
27439: PUSH
27440: EMPTY
27441: ST_TO_ADDR
// Banned_Controls := [ ] ;
27442: LD_ADDR_LOC 26
27446: PUSH
27447: EMPTY
27448: ST_TO_ADDR
// Banned_Engines := [ ] ;
27449: LD_ADDR_LOC 27
27453: PUSH
27454: EMPTY
27455: ST_TO_ADDR
// Restricted_Builds := [ ] ;
27456: LD_ADDR_LOC 22
27460: PUSH
27461: EMPTY
27462: ST_TO_ADDR
// Restricted_Builds_Amount := [ ] ;
27463: LD_ADDR_LOC 23
27467: PUSH
27468: EMPTY
27469: ST_TO_ADDR
// end ; 5 :
27470: GO 28875
27472: LD_INT 5
27474: DOUBLE
27475: EQUAL
27476: IFTRUE 27480
27478: GO 27812
27480: POP
// begin def_base_level := 0 ;
27481: LD_ADDR_EXP 10
27485: PUSH
27486: LD_INT 0
27488: ST_TO_ADDR
// def_amount_of_people := 3 ;
27489: LD_ADDR_EXP 11
27493: PUSH
27494: LD_INT 3
27496: ST_TO_ADDR
// def_initial_level := 0 ;
27497: LD_ADDR_EXP 13
27501: PUSH
27502: LD_INT 0
27504: ST_TO_ADDR
// def_starting_resources := 0 ;
27505: LD_ADDR_EXP 15
27509: PUSH
27510: LD_INT 0
27512: ST_TO_ADDR
// def_shipments_density := 0 ;
27513: LD_ADDR_EXP 16
27517: PUSH
27518: LD_INT 0
27520: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
27521: LD_ADDR_EXP 17
27525: PUSH
27526: LD_INT 0
27528: ST_TO_ADDR
// def_extra_sib_deposits := 0 ;
27529: LD_ADDR_EXP 18
27533: PUSH
27534: LD_INT 0
27536: ST_TO_ADDR
// def_shared_vision := 1 ;
27537: LD_ADDR_EXP 19
27541: PUSH
27542: LD_INT 1
27544: ST_TO_ADDR
// def_morale_flags := 0 ;
27545: LD_ADDR_EXP 20
27549: PUSH
27550: LD_INT 0
27552: ST_TO_ADDR
// def_siberite_detection := 0 ;
27553: LD_ADDR_EXP 28
27557: PUSH
27558: LD_INT 0
27560: ST_TO_ADDR
// def_people_respawning := 1 ;
27561: LD_ADDR_EXP 25
27565: PUSH
27566: LD_INT 1
27568: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
27569: LD_ADDR_EXP 22
27573: PUSH
27574: LD_INT 1
27576: ST_TO_ADDR
// def_siberite_bomb := 0 ;
27577: LD_ADDR_EXP 29
27581: PUSH
27582: LD_INT 0
27584: ST_TO_ADDR
// def_builduptime := 0 ;
27585: LD_ADDR_EXP 30
27589: PUSH
27590: LD_INT 0
27592: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
27593: LD_ADDR_EXP 12
27597: PUSH
27598: LD_INT 0
27600: ST_TO_ADDR
// def_amount_of_tiger := 2 ;
27601: LD_ADDR_EXP 23
27605: PUSH
27606: LD_INT 2
27608: ST_TO_ADDR
// def_respawining_type := 3 ;
27609: LD_ADDR_EXP 24
27613: PUSH
27614: LD_INT 3
27616: ST_TO_ADDR
// def_tech_level := 8 ;
27617: LD_ADDR_EXP 26
27621: PUSH
27622: LD_INT 8
27624: ST_TO_ADDR
// def_upgrade_tl := 0 ;
27625: LD_ADDR_EXP 27
27629: PUSH
27630: LD_INT 0
27632: ST_TO_ADDR
// def_desert_warior := 0 ;
27633: LD_ADDR_EXP 31
27637: PUSH
27638: LD_INT 0
27640: ST_TO_ADDR
// Unavailable_Techs := [ tech_Laser , tech_ApeNeural ] ;
27641: LD_ADDR_VAR 0 2
27645: PUSH
27646: LD_INT 10
27648: PUSH
27649: LD_INT 3
27651: PUSH
27652: EMPTY
27653: LIST
27654: LIST
27655: ST_TO_ADDR
// Unavailable_Builds := [ b_Lab_Computer , b_Lab_Siberium , b_Lab_Spacetime , b_Lab_Biological , b_Barracks , b_ext_Computer , b_ext_Siberium , b_Turret , b_Control_Tower ] ;
27656: LD_ADDR_VAR 0 3
27660: PUSH
27661: LD_INT 12
27663: PUSH
27664: LD_INT 11
27666: PUSH
27667: LD_INT 14
27669: PUSH
27670: LD_INT 13
27672: PUSH
27673: LD_INT 5
27675: PUSH
27676: LD_INT 24
27678: PUSH
27679: LD_INT 21
27681: PUSH
27682: LD_INT 33
27684: PUSH
27685: LD_INT 36
27687: PUSH
27688: EMPTY
27689: LIST
27690: LIST
27691: LIST
27692: LIST
27693: LIST
27694: LIST
27695: LIST
27696: LIST
27697: LIST
27698: ST_TO_ADDR
// Banned_Weapons := [ ar_Control_Tower ] ;
27699: LD_ADDR_LOC 24
27703: PUSH
27704: LD_INT 31
27706: PUSH
27707: EMPTY
27708: LIST
27709: ST_TO_ADDR
// Banned_Chassis := [ ] ;
27710: LD_ADDR_LOC 25
27714: PUSH
27715: EMPTY
27716: ST_TO_ADDR
// Banned_Controls := [ control_Remote ] ;
27717: LD_ADDR_LOC 26
27721: PUSH
27722: LD_INT 2
27724: PUSH
27725: EMPTY
27726: LIST
27727: ST_TO_ADDR
// Banned_Engines := [ ] ;
27728: LD_ADDR_LOC 27
27732: PUSH
27733: EMPTY
27734: ST_TO_ADDR
// Restricted_Builds := [ [ b_Armoury ] , [ b_Breastwork , b_Bunker ] ] ;
27735: LD_ADDR_LOC 22
27739: PUSH
27740: LD_INT 4
27742: PUSH
27743: EMPTY
27744: LIST
27745: PUSH
27746: LD_INT 31
27748: PUSH
27749: LD_INT 32
27751: PUSH
27752: EMPTY
27753: LIST
27754: LIST
27755: PUSH
27756: EMPTY
27757: LIST
27758: LIST
27759: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
27760: LD_EXP 1
27764: PUSH
27765: LD_EXP 3
27769: PUSH
27770: LD_EXP 4
27774: ADD
27775: IN
27776: IFFALSE 27795
// Restricted_Builds_Amount := [ 2 , 2 ] else
27778: LD_ADDR_LOC 23
27782: PUSH
27783: LD_INT 2
27785: PUSH
27786: LD_INT 2
27788: PUSH
27789: EMPTY
27790: LIST
27791: LIST
27792: ST_TO_ADDR
27793: GO 27810
// Restricted_Builds_Amount := [ 1 , 1 ] ;
27795: LD_ADDR_LOC 23
27799: PUSH
27800: LD_INT 1
27802: PUSH
27803: LD_INT 1
27805: PUSH
27806: EMPTY
27807: LIST
27808: LIST
27809: ST_TO_ADDR
// end ; 6 :
27810: GO 28875
27812: LD_INT 6
27814: DOUBLE
27815: EQUAL
27816: IFTRUE 27820
27818: GO 28098
27820: POP
// begin def_base_level := 1 ;
27821: LD_ADDR_EXP 10
27825: PUSH
27826: LD_INT 1
27828: ST_TO_ADDR
// def_amount_of_people := 10 ;
27829: LD_ADDR_EXP 11
27833: PUSH
27834: LD_INT 10
27836: ST_TO_ADDR
// def_initial_level := 3 ;
27837: LD_ADDR_EXP 13
27841: PUSH
27842: LD_INT 3
27844: ST_TO_ADDR
// def_starting_resources := 3 ;
27845: LD_ADDR_EXP 15
27849: PUSH
27850: LD_INT 3
27852: ST_TO_ADDR
// def_shipments_density := 1 ;
27853: LD_ADDR_EXP 16
27857: PUSH
27858: LD_INT 1
27860: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
27861: LD_ADDR_EXP 17
27865: PUSH
27866: LD_INT 0
27868: ST_TO_ADDR
// def_extra_sib_deposits := 1 ;
27869: LD_ADDR_EXP 18
27873: PUSH
27874: LD_INT 1
27876: ST_TO_ADDR
// def_shared_vision := 1 ;
27877: LD_ADDR_EXP 19
27881: PUSH
27882: LD_INT 1
27884: ST_TO_ADDR
// def_morale_flags := 0 ;
27885: LD_ADDR_EXP 20
27889: PUSH
27890: LD_INT 0
27892: ST_TO_ADDR
// def_siberite_detection := 1 ;
27893: LD_ADDR_EXP 28
27897: PUSH
27898: LD_INT 1
27900: ST_TO_ADDR
// def_people_respawning := 2 ;
27901: LD_ADDR_EXP 25
27905: PUSH
27906: LD_INT 2
27908: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
27909: LD_ADDR_EXP 22
27913: PUSH
27914: LD_INT 1
27916: ST_TO_ADDR
// def_siberite_bomb := 0 ;
27917: LD_ADDR_EXP 29
27921: PUSH
27922: LD_INT 0
27924: ST_TO_ADDR
// def_builduptime := 1 ;
27925: LD_ADDR_EXP 30
27929: PUSH
27930: LD_INT 1
27932: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
27933: LD_ADDR_EXP 12
27937: PUSH
27938: LD_INT 0
27940: ST_TO_ADDR
// def_amount_of_tiger := 1 ;
27941: LD_ADDR_EXP 23
27945: PUSH
27946: LD_INT 1
27948: ST_TO_ADDR
// def_respawining_type := 3 ;
27949: LD_ADDR_EXP 24
27953: PUSH
27954: LD_INT 3
27956: ST_TO_ADDR
// def_tech_level := 8 ;
27957: LD_ADDR_EXP 26
27961: PUSH
27962: LD_INT 8
27964: ST_TO_ADDR
// def_upgrade_tl := 0 ;
27965: LD_ADDR_EXP 27
27969: PUSH
27970: LD_INT 0
27972: ST_TO_ADDR
// def_desert_warior := 0 ;
27973: LD_ADDR_EXP 31
27977: PUSH
27978: LD_INT 0
27980: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth ] ;
27981: LD_ADDR_VAR 0 2
27985: PUSH
27986: LD_INT 23
27988: PUSH
27989: EMPTY
27990: LIST
27991: ST_TO_ADDR
// Unavailable_Builds := [ b_Workshop , b_Behemoth , b_Breastwork , b_Bunker , b_Turret ] ;
27992: LD_ADDR_VAR 0 3
27996: PUSH
27997: LD_INT 2
27999: PUSH
28000: LD_INT 37
28002: PUSH
28003: LD_INT 31
28005: PUSH
28006: LD_INT 32
28008: PUSH
28009: LD_INT 33
28011: PUSH
28012: EMPTY
28013: LIST
28014: LIST
28015: LIST
28016: LIST
28017: LIST
28018: ST_TO_ADDR
// Banned_Weapons := [ ] ;
28019: LD_ADDR_LOC 24
28023: PUSH
28024: EMPTY
28025: ST_TO_ADDR
// Banned_Chassis := [ ] ;
28026: LD_ADDR_LOC 25
28030: PUSH
28031: EMPTY
28032: ST_TO_ADDR
// Banned_Controls := [ ] ;
28033: LD_ADDR_LOC 26
28037: PUSH
28038: EMPTY
28039: ST_TO_ADDR
// Banned_Engines := [ ] ;
28040: LD_ADDR_LOC 27
28044: PUSH
28045: EMPTY
28046: ST_TO_ADDR
// Restricted_Builds := [ [ b_Armoury , b_barracks ] ] ;
28047: LD_ADDR_LOC 22
28051: PUSH
28052: LD_INT 4
28054: PUSH
28055: LD_INT 5
28057: PUSH
28058: EMPTY
28059: LIST
28060: LIST
28061: PUSH
28062: EMPTY
28063: LIST
28064: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
28065: LD_EXP 1
28069: PUSH
28070: LD_EXP 3
28074: PUSH
28075: LD_EXP 4
28079: ADD
28080: IN
28081: IFFALSE 28085
// else
28083: GO 28096
// Restricted_Builds_Amount := [ 1 ] ;
28085: LD_ADDR_LOC 23
28089: PUSH
28090: LD_INT 1
28092: PUSH
28093: EMPTY
28094: LIST
28095: ST_TO_ADDR
// end ; 7 :
28096: GO 28875
28098: LD_INT 7
28100: DOUBLE
28101: EQUAL
28102: IFTRUE 28106
28104: GO 28383
28106: POP
// begin def_base_level := 1 ;
28107: LD_ADDR_EXP 10
28111: PUSH
28112: LD_INT 1
28114: ST_TO_ADDR
// def_amount_of_people := 10 ;
28115: LD_ADDR_EXP 11
28119: PUSH
28120: LD_INT 10
28122: ST_TO_ADDR
// def_initial_level := 3 ;
28123: LD_ADDR_EXP 13
28127: PUSH
28128: LD_INT 3
28130: ST_TO_ADDR
// def_starting_resources := 3 ;
28131: LD_ADDR_EXP 15
28135: PUSH
28136: LD_INT 3
28138: ST_TO_ADDR
// def_shipments_density := 1 ;
28139: LD_ADDR_EXP 16
28143: PUSH
28144: LD_INT 1
28146: ST_TO_ADDR
// def_extra_oil_deposits := 1 ;
28147: LD_ADDR_EXP 17
28151: PUSH
28152: LD_INT 1
28154: ST_TO_ADDR
// def_extra_sib_deposits := 2 ;
28155: LD_ADDR_EXP 18
28159: PUSH
28160: LD_INT 2
28162: ST_TO_ADDR
// def_shared_vision := 1 ;
28163: LD_ADDR_EXP 19
28167: PUSH
28168: LD_INT 1
28170: ST_TO_ADDR
// def_morale_flags := 0 ;
28171: LD_ADDR_EXP 20
28175: PUSH
28176: LD_INT 0
28178: ST_TO_ADDR
// def_siberite_detection := 1 ;
28179: LD_ADDR_EXP 28
28183: PUSH
28184: LD_INT 1
28186: ST_TO_ADDR
// def_people_respawning := 0 ;
28187: LD_ADDR_EXP 25
28191: PUSH
28192: LD_INT 0
28194: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
28195: LD_ADDR_EXP 22
28199: PUSH
28200: LD_INT 1
28202: ST_TO_ADDR
// def_siberite_bomb := 0 ;
28203: LD_ADDR_EXP 29
28207: PUSH
28208: LD_INT 0
28210: ST_TO_ADDR
// def_builduptime := 3 ;
28211: LD_ADDR_EXP 30
28215: PUSH
28216: LD_INT 3
28218: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
28219: LD_ADDR_EXP 12
28223: PUSH
28224: LD_INT 0
28226: ST_TO_ADDR
// def_amount_of_tiger := 1 ;
28227: LD_ADDR_EXP 23
28231: PUSH
28232: LD_INT 1
28234: ST_TO_ADDR
// def_respawining_type := 3 ;
28235: LD_ADDR_EXP 24
28239: PUSH
28240: LD_INT 3
28242: ST_TO_ADDR
// def_tech_level := 8 ;
28243: LD_ADDR_EXP 26
28247: PUSH
28248: LD_INT 8
28250: ST_TO_ADDR
// def_upgrade_tl := 0 ;
28251: LD_ADDR_EXP 27
28255: PUSH
28256: LD_INT 0
28258: ST_TO_ADDR
// def_desert_warior := 0 ;
28259: LD_ADDR_EXP 31
28263: PUSH
28264: LD_INT 0
28266: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth ] ;
28267: LD_ADDR_VAR 0 2
28271: PUSH
28272: LD_INT 23
28274: PUSH
28275: EMPTY
28276: LIST
28277: ST_TO_ADDR
// Unavailable_Builds := [ b_Behemoth ] ;
28278: LD_ADDR_VAR 0 3
28282: PUSH
28283: LD_INT 37
28285: PUSH
28286: EMPTY
28287: LIST
28288: ST_TO_ADDR
// Banned_Weapons := [ ] ;
28289: LD_ADDR_LOC 24
28293: PUSH
28294: EMPTY
28295: ST_TO_ADDR
// Banned_Chassis := [ ] ;
28296: LD_ADDR_LOC 25
28300: PUSH
28301: EMPTY
28302: ST_TO_ADDR
// Banned_Controls := [ ] ;
28303: LD_ADDR_LOC 26
28307: PUSH
28308: EMPTY
28309: ST_TO_ADDR
// Banned_Engines := [ ] ;
28310: LD_ADDR_LOC 27
28314: PUSH
28315: EMPTY
28316: ST_TO_ADDR
// Restricted_Builds := [ [ b_Breastwork , b_Bunker , b_Turret ] ] ;
28317: LD_ADDR_LOC 22
28321: PUSH
28322: LD_INT 31
28324: PUSH
28325: LD_INT 32
28327: PUSH
28328: LD_INT 33
28330: PUSH
28331: EMPTY
28332: LIST
28333: LIST
28334: LIST
28335: PUSH
28336: EMPTY
28337: LIST
28338: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
28339: LD_EXP 1
28343: PUSH
28344: LD_EXP 3
28348: PUSH
28349: LD_EXP 4
28353: ADD
28354: IN
28355: IFFALSE 28370
// Restricted_Builds_Amount := [ 20 ] else
28357: LD_ADDR_LOC 23
28361: PUSH
28362: LD_INT 20
28364: PUSH
28365: EMPTY
28366: LIST
28367: ST_TO_ADDR
28368: GO 28381
// Restricted_Builds_Amount := [ 10 ] ;
28370: LD_ADDR_LOC 23
28374: PUSH
28375: LD_INT 10
28377: PUSH
28378: EMPTY
28379: LIST
28380: ST_TO_ADDR
// end ; 8 :
28381: GO 28875
28383: LD_INT 8
28385: DOUBLE
28386: EQUAL
28387: IFTRUE 28391
28389: GO 28874
28391: POP
// begin def_base_level := 0 ;
28392: LD_ADDR_EXP 10
28396: PUSH
28397: LD_INT 0
28399: ST_TO_ADDR
// def_amount_of_people := Rand ( 4 , 8 ) ;
28400: LD_ADDR_EXP 11
28404: PUSH
28405: LD_INT 4
28407: PPUSH
28408: LD_INT 8
28410: PPUSH
28411: CALL_OW 12
28415: ST_TO_ADDR
// def_initial_level := 0 ;
28416: LD_ADDR_EXP 13
28420: PUSH
28421: LD_INT 0
28423: ST_TO_ADDR
// def_starting_resources := 2 ;
28424: LD_ADDR_EXP 15
28428: PUSH
28429: LD_INT 2
28431: ST_TO_ADDR
// def_shipments_density := 1 ;
28432: LD_ADDR_EXP 16
28436: PUSH
28437: LD_INT 1
28439: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
28440: LD_ADDR_EXP 17
28444: PUSH
28445: LD_INT 0
28447: ST_TO_ADDR
// def_extra_sib_deposits := 0 ;
28448: LD_ADDR_EXP 18
28452: PUSH
28453: LD_INT 0
28455: ST_TO_ADDR
// def_shared_vision := 1 ;
28456: LD_ADDR_EXP 19
28460: PUSH
28461: LD_INT 1
28463: ST_TO_ADDR
// def_morale_flags := Rand ( 0 , 2 ) ;
28464: LD_ADDR_EXP 20
28468: PUSH
28469: LD_INT 0
28471: PPUSH
28472: LD_INT 2
28474: PPUSH
28475: CALL_OW 12
28479: ST_TO_ADDR
// def_siberite_detection := 0 ;
28480: LD_ADDR_EXP 28
28484: PUSH
28485: LD_INT 0
28487: ST_TO_ADDR
// def_people_respawning := 0 ;
28488: LD_ADDR_EXP 25
28492: PUSH
28493: LD_INT 0
28495: ST_TO_ADDR
// def_amount_of_apemen := 2 ;
28496: LD_ADDR_EXP 22
28500: PUSH
28501: LD_INT 2
28503: ST_TO_ADDR
// def_siberite_bomb := 0 ;
28504: LD_ADDR_EXP 29
28508: PUSH
28509: LD_INT 0
28511: ST_TO_ADDR
// def_builduptime := 0 ;
28512: LD_ADDR_EXP 30
28516: PUSH
28517: LD_INT 0
28519: ST_TO_ADDR
// def_amount_of_apemen_in_team := 0 ;
28520: LD_ADDR_EXP 12
28524: PUSH
28525: LD_INT 0
28527: ST_TO_ADDR
// def_amount_of_tiger := 2 ;
28528: LD_ADDR_EXP 23
28532: PUSH
28533: LD_INT 2
28535: ST_TO_ADDR
// def_respawining_type := 3 ;
28536: LD_ADDR_EXP 24
28540: PUSH
28541: LD_INT 3
28543: ST_TO_ADDR
// def_tech_level := 8 ;
28544: LD_ADDR_EXP 26
28548: PUSH
28549: LD_INT 8
28551: ST_TO_ADDR
// def_upgrade_tl := 0 ;
28552: LD_ADDR_EXP 27
28556: PUSH
28557: LD_INT 0
28559: ST_TO_ADDR
// def_desert_warior := 0 ;
28560: LD_ADDR_EXP 31
28564: PUSH
28565: LD_INT 0
28567: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth , tech_SibDet , tech_Rocket , tech_OilEng , tech_OilPow , tech_Gun , tech_AdvRocket , tech_AdvMet , tech_Mortar , tech_Bazooka , tech_HidCam , tech_PartInvis ] ;
28568: LD_ADDR_VAR 0 2
28572: PUSH
28573: LD_INT 23
28575: PUSH
28576: LD_INT 20
28578: PUSH
28579: LD_INT 40
28581: PUSH
28582: LD_INT 47
28584: PUSH
28585: LD_INT 46
28587: PUSH
28588: LD_INT 39
28590: PUSH
28591: LD_INT 71
28593: PUSH
28594: LD_INT 34
28596: PUSH
28597: LD_INT 41
28599: PUSH
28600: LD_INT 44
28602: PUSH
28603: LD_INT 17
28605: PUSH
28606: LD_INT 16
28608: PUSH
28609: EMPTY
28610: LIST
28611: LIST
28612: LIST
28613: LIST
28614: LIST
28615: LIST
28616: LIST
28617: LIST
28618: LIST
28619: LIST
28620: LIST
28621: LIST
28622: ST_TO_ADDR
// Unavailable_Builds := [ b_Behemoth , b_Barracks , b_Lab_Biological , b_Teleport , b_Lab_Computer , b_Lab_Opto , b_Lab_Siberium , b_Lab_Spacetime , b_Oil_Mine , b_Siberite_Mine , b_Siberite_Power , b_Ext_Computer , b_Ext_Laser , b_Ext_Radar , b_Ext_Siberium , b_Ext_Radio , b_Control_Tower ] ;
28623: LD_ADDR_VAR 0 3
28627: PUSH
28628: LD_INT 37
28630: PUSH
28631: LD_INT 5
28633: PUSH
28634: LD_INT 13
28636: PUSH
28637: LD_INT 34
28639: PUSH
28640: LD_INT 12
28642: PUSH
28643: LD_INT 15
28645: PUSH
28646: LD_INT 11
28648: PUSH
28649: LD_INT 14
28651: PUSH
28652: LD_INT 29
28654: PUSH
28655: LD_INT 30
28657: PUSH
28658: LD_INT 28
28660: PUSH
28661: LD_INT 24
28663: PUSH
28664: LD_INT 25
28666: PUSH
28667: LD_INT 20
28669: PUSH
28670: LD_INT 21
28672: PUSH
28673: LD_INT 22
28675: PUSH
28676: LD_INT 36
28678: PUSH
28679: EMPTY
28680: LIST
28681: LIST
28682: LIST
28683: LIST
28684: LIST
28685: LIST
28686: LIST
28687: LIST
28688: LIST
28689: LIST
28690: LIST
28691: LIST
28692: LIST
28693: LIST
28694: LIST
28695: LIST
28696: LIST
28697: ST_TO_ADDR
// Banned_Weapons := [ ] ;
28698: LD_ADDR_LOC 24
28702: PUSH
28703: EMPTY
28704: ST_TO_ADDR
// Banned_Chassis := [ ar_half_tracked ] ;
28705: LD_ADDR_LOC 25
28709: PUSH
28710: LD_INT 14
28712: PUSH
28713: EMPTY
28714: LIST
28715: ST_TO_ADDR
// Banned_Controls := [ ] ;
28716: LD_ADDR_LOC 26
28720: PUSH
28721: EMPTY
28722: ST_TO_ADDR
// Banned_Engines := [ ] ;
28723: LD_ADDR_LOC 27
28727: PUSH
28728: EMPTY
28729: ST_TO_ADDR
// Restricted_Builds := [ [ b_Breastwork , b_Bunker ] , [ b_Armoury ] ] ;
28730: LD_ADDR_LOC 22
28734: PUSH
28735: LD_INT 31
28737: PUSH
28738: LD_INT 32
28740: PUSH
28741: EMPTY
28742: LIST
28743: LIST
28744: PUSH
28745: LD_INT 4
28747: PUSH
28748: EMPTY
28749: LIST
28750: PUSH
28751: EMPTY
28752: LIST
28753: LIST
28754: ST_TO_ADDR
// if game_type in GT_DoubleNat ^ GT_DoublePeople then
28755: LD_EXP 1
28759: PUSH
28760: LD_EXP 3
28764: PUSH
28765: LD_EXP 4
28769: ADD
28770: IN
28771: IFFALSE 28790
// Restricted_Builds_Amount := [ 4 , 2 ] else
28773: LD_ADDR_LOC 23
28777: PUSH
28778: LD_INT 4
28780: PUSH
28781: LD_INT 2
28783: PUSH
28784: EMPTY
28785: LIST
28786: LIST
28787: ST_TO_ADDR
28788: GO 28805
// Restricted_Builds_Amount := [ 2 , 1 ] ;
28790: LD_ADDR_LOC 23
28794: PUSH
28795: LD_INT 2
28797: PUSH
28798: LD_INT 1
28800: PUSH
28801: EMPTY
28802: LIST
28803: LIST
28804: ST_TO_ADDR
// for i := 1 to 8 do
28805: LD_ADDR_VAR 0 4
28809: PUSH
28810: DOUBLE
28811: LD_INT 1
28813: DEC
28814: ST_TO_ADDR
28815: LD_INT 8
28817: PUSH
28818: FOR_TO
28819: IFFALSE 28870
// if ( Side_Nations [ i ] = 3 ) then
28821: LD_EXP 75
28825: PUSH
28826: LD_VAR 0 4
28830: ARRAY
28831: PUSH
28832: LD_INT 3
28834: EQUAL
28835: IFFALSE 28868
// Side_Nations := Replace ( Side_Nations , i , Rand ( 1 , 2 ) ) ;
28837: LD_ADDR_EXP 75
28841: PUSH
28842: LD_EXP 75
28846: PPUSH
28847: LD_VAR 0 4
28851: PPUSH
28852: LD_INT 1
28854: PPUSH
28855: LD_INT 2
28857: PPUSH
28858: CALL_OW 12
28862: PPUSH
28863: CALL_OW 1
28867: ST_TO_ADDR
28868: GO 28818
28870: POP
28871: POP
// end ; end ;
28872: GO 28875
28874: POP
// for i := 1 to 8 do
28875: LD_ADDR_VAR 0 4
28879: PUSH
28880: DOUBLE
28881: LD_INT 1
28883: DEC
28884: ST_TO_ADDR
28885: LD_INT 8
28887: PUSH
28888: FOR_TO
28889: IFFALSE 28973
// if Side_Positions [ i ] then
28891: LD_EXP 74
28895: PUSH
28896: LD_VAR 0 4
28900: ARRAY
28901: IFFALSE 28971
// begin for j in Unavailable_Techs do
28903: LD_ADDR_VAR 0 5
28907: PUSH
28908: LD_VAR 0 2
28912: PUSH
28913: FOR_IN
28914: IFFALSE 28935
// SetTech ( j , i , 0 ) ;
28916: LD_VAR 0 5
28920: PPUSH
28921: LD_VAR 0 4
28925: PPUSH
28926: LD_INT 0
28928: PPUSH
28929: CALL_OW 322
28933: GO 28913
28935: POP
28936: POP
// for j in Unavailable_Builds do
28937: LD_ADDR_VAR 0 5
28941: PUSH
28942: LD_VAR 0 3
28946: PUSH
28947: FOR_IN
28948: IFFALSE 28969
// SetRestrict ( j , i , 0 ) ;
28950: LD_VAR 0 5
28954: PPUSH
28955: LD_VAR 0 4
28959: PPUSH
28960: LD_INT 0
28962: PPUSH
28963: CALL_OW 324
28967: GO 28947
28969: POP
28970: POP
// end ;
28971: GO 28888
28973: POP
28974: POP
// end ;
28975: LD_VAR 0 1
28979: RET
// export function InitLimits ; var i , j , k , amount , btype , list ; begin
28980: LD_INT 0
28982: PPUSH
28983: PPUSH
28984: PPUSH
28985: PPUSH
28986: PPUSH
28987: PPUSH
28988: PPUSH
// for i := 1 to Restricted_Builds do
28989: LD_ADDR_VAR 0 2
28993: PUSH
28994: DOUBLE
28995: LD_INT 1
28997: DEC
28998: ST_TO_ADDR
28999: LD_LOC 22
29003: PUSH
29004: FOR_TO
29005: IFFALSE 29315
// begin case Restricted_Builds [ i ] [ 1 ] of b_Breastwork , b_Bunker , b_Turret :
29007: LD_LOC 22
29011: PUSH
29012: LD_VAR 0 2
29016: ARRAY
29017: PUSH
29018: LD_INT 1
29020: ARRAY
29021: PUSH
29022: LD_INT 31
29024: DOUBLE
29025: EQUAL
29026: IFTRUE 29042
29028: LD_INT 32
29030: DOUBLE
29031: EQUAL
29032: IFTRUE 29042
29034: LD_INT 33
29036: DOUBLE
29037: EQUAL
29038: IFTRUE 29042
29040: GO 29053
29042: POP
// btype := #Turrets ; b_Armoury , b_Barracks :
29043: LD_ADDR_VAR 0 6
29047: PUSH
29048: LD_STRING #Turrets
29050: ST_TO_ADDR
29051: GO 29098
29053: LD_INT 4
29055: DOUBLE
29056: EQUAL
29057: IFTRUE 29067
29059: LD_INT 5
29061: DOUBLE
29062: EQUAL
29063: IFTRUE 29067
29065: GO 29078
29067: POP
// btype := #Armouries ; b_Behemoth :
29068: LD_ADDR_VAR 0 6
29072: PUSH
29073: LD_STRING #Armouries
29075: ST_TO_ADDR
29076: GO 29098
29078: LD_INT 37
29080: DOUBLE
29081: EQUAL
29082: IFTRUE 29086
29084: GO 29097
29086: POP
// btype := #Behemoths ; end ;
29087: LD_ADDR_VAR 0 6
29091: PUSH
29092: LD_STRING #Behemoths
29094: ST_TO_ADDR
29095: GO 29098
29097: POP
// list := [ ] ;
29098: LD_ADDR_VAR 0 7
29102: PUSH
29103: EMPTY
29104: ST_TO_ADDR
// for j := 1 to 8 do
29105: LD_ADDR_VAR 0 3
29109: PUSH
29110: DOUBLE
29111: LD_INT 1
29113: DEC
29114: ST_TO_ADDR
29115: LD_INT 8
29117: PUSH
29118: FOR_TO
29119: IFFALSE 29212
// if Side_Positions [ j ] then
29121: LD_EXP 74
29125: PUSH
29126: LD_VAR 0 3
29130: ARRAY
29131: IFFALSE 29210
// begin amount := 0 ;
29133: LD_ADDR_VAR 0 5
29137: PUSH
29138: LD_INT 0
29140: ST_TO_ADDR
// for k in Restricted_Builds [ i ] do
29141: LD_ADDR_VAR 0 4
29145: PUSH
29146: LD_LOC 22
29150: PUSH
29151: LD_VAR 0 2
29155: ARRAY
29156: PUSH
29157: FOR_IN
29158: IFFALSE 29206
// amount := amount + FilterAllUnits ( [ [ f_side , j ] , [ f_btype , k ] ] ) ;
29160: LD_ADDR_VAR 0 5
29164: PUSH
29165: LD_VAR 0 5
29169: PUSH
29170: LD_INT 22
29172: PUSH
29173: LD_VAR 0 3
29177: PUSH
29178: EMPTY
29179: LIST
29180: LIST
29181: PUSH
29182: LD_INT 30
29184: PUSH
29185: LD_VAR 0 4
29189: PUSH
29190: EMPTY
29191: LIST
29192: LIST
29193: PUSH
29194: EMPTY
29195: LIST
29196: LIST
29197: PPUSH
29198: CALL_OW 69
29202: PLUS
29203: ST_TO_ADDR
29204: GO 29157
29206: POP
29207: POP
// continue ;
29208: GO 29118
// end ;
29210: GO 29118
29212: POP
29213: POP
// list := [ ] ;
29214: LD_ADDR_VAR 0 7
29218: PUSH
29219: EMPTY
29220: ST_TO_ADDR
// for j := 1 to 8 do
29221: LD_ADDR_VAR 0 3
29225: PUSH
29226: DOUBLE
29227: LD_INT 1
29229: DEC
29230: ST_TO_ADDR
29231: LD_INT 8
29233: PUSH
29234: FOR_TO
29235: IFFALSE 29255
// list := list ^ amount ;
29237: LD_ADDR_VAR 0 7
29241: PUSH
29242: LD_VAR 0 7
29246: PUSH
29247: LD_VAR 0 5
29251: ADD
29252: ST_TO_ADDR
29253: GO 29234
29255: POP
29256: POP
// Already_Built := Already_Built ^ [ list ] ;
29257: LD_ADDR_LOC 28
29261: PUSH
29262: LD_LOC 28
29266: PUSH
29267: LD_VAR 0 7
29271: PUSH
29272: EMPTY
29273: LIST
29274: ADD
29275: ST_TO_ADDR
// Limits_Info := Limits_Info ^ [ btype , amount , Restricted_Builds_Amount [ i ] ] ;
29276: LD_ADDR_LOC 29
29280: PUSH
29281: LD_LOC 29
29285: PUSH
29286: LD_VAR 0 6
29290: PUSH
29291: LD_VAR 0 5
29295: PUSH
29296: LD_LOC 23
29300: PUSH
29301: LD_VAR 0 2
29305: ARRAY
29306: PUSH
29307: EMPTY
29308: LIST
29309: LIST
29310: LIST
29311: ADD
29312: ST_TO_ADDR
// end ;
29313: GO 29004
29315: POP
29316: POP
// Cheaters := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
29317: LD_ADDR_LOC 30
29321: PUSH
29322: LD_INT 0
29324: PUSH
29325: LD_INT 0
29327: PUSH
29328: LD_INT 0
29330: PUSH
29331: LD_INT 0
29333: PUSH
29334: LD_INT 0
29336: PUSH
29337: LD_INT 0
29339: PUSH
29340: LD_INT 0
29342: PUSH
29343: LD_INT 0
29345: PUSH
29346: EMPTY
29347: LIST
29348: LIST
29349: LIST
29350: LIST
29351: LIST
29352: LIST
29353: LIST
29354: LIST
29355: ST_TO_ADDR
// if Limits_Info then
29356: LD_LOC 29
29360: IFFALSE 29376
// Limits_Info := #Limits ^ Limits_Info ;
29362: LD_ADDR_LOC 29
29366: PUSH
29367: LD_STRING #Limits
29369: PUSH
29370: LD_LOC 29
29374: ADD
29375: ST_TO_ADDR
// end ;
29376: LD_VAR 0 1
29380: RET
// export function ExecuteLimits ( un , BType , side , old_side , count ) ; var i , j , Is_Cheater ; begin
29381: LD_INT 0
29383: PPUSH
29384: PPUSH
29385: PPUSH
29386: PPUSH
// for i := 1 to Restricted_Builds do
29387: LD_ADDR_VAR 0 7
29391: PUSH
29392: DOUBLE
29393: LD_INT 1
29395: DEC
29396: ST_TO_ADDR
29397: LD_LOC 22
29401: PUSH
29402: FOR_TO
29403: IFFALSE 29826
// if BType in Restricted_Builds [ i ] then
29405: LD_VAR 0 2
29409: PUSH
29410: LD_LOC 22
29414: PUSH
29415: LD_VAR 0 7
29419: ARRAY
29420: IN
29421: IFFALSE 29824
// begin if old_side then
29423: LD_VAR 0 4
29427: IFFALSE 29553
// if Already_Built [ i ] [ side ] + count > Restricted_Builds_Amount [ i ] then
29429: LD_LOC 28
29433: PUSH
29434: LD_VAR 0 7
29438: ARRAY
29439: PUSH
29440: LD_VAR 0 3
29444: ARRAY
29445: PUSH
29446: LD_VAR 0 5
29450: PLUS
29451: PUSH
29452: LD_LOC 23
29456: PUSH
29457: LD_VAR 0 7
29461: ARRAY
29462: GREATER
29463: IFFALSE 29489
// begin SetSide ( un , old_side ) ;
29465: LD_VAR 0 1
29469: PPUSH
29470: LD_VAR 0 4
29474: PPUSH
29475: CALL_OW 235
// count := 0 ;
29479: LD_ADDR_VAR 0 5
29483: PUSH
29484: LD_INT 0
29486: ST_TO_ADDR
// end else
29487: GO 29553
// Already_Built := Replace ( Already_Built , i , Replace ( Already_Built [ i ] , old_side , Already_Built [ i ] [ old_side ] - count ) ) ;
29489: LD_ADDR_LOC 28
29493: PUSH
29494: LD_LOC 28
29498: PPUSH
29499: LD_VAR 0 7
29503: PPUSH
29504: LD_LOC 28
29508: PUSH
29509: LD_VAR 0 7
29513: ARRAY
29514: PPUSH
29515: LD_VAR 0 4
29519: PPUSH
29520: LD_LOC 28
29524: PUSH
29525: LD_VAR 0 7
29529: ARRAY
29530: PUSH
29531: LD_VAR 0 4
29535: ARRAY
29536: PUSH
29537: LD_VAR 0 5
29541: MINUS
29542: PPUSH
29543: CALL_OW 1
29547: PPUSH
29548: CALL_OW 1
29552: ST_TO_ADDR
// Already_Built := Replace ( Already_Built , i , Replace ( Already_Built [ i ] , side , Already_Built [ i ] [ side ] + count ) ) ;
29553: LD_ADDR_LOC 28
29557: PUSH
29558: LD_LOC 28
29562: PPUSH
29563: LD_VAR 0 7
29567: PPUSH
29568: LD_LOC 28
29572: PUSH
29573: LD_VAR 0 7
29577: ARRAY
29578: PPUSH
29579: LD_VAR 0 3
29583: PPUSH
29584: LD_LOC 28
29588: PUSH
29589: LD_VAR 0 7
29593: ARRAY
29594: PUSH
29595: LD_VAR 0 3
29599: ARRAY
29600: PUSH
29601: LD_VAR 0 5
29605: PLUS
29606: PPUSH
29607: CALL_OW 1
29611: PPUSH
29612: CALL_OW 1
29616: ST_TO_ADDR
// if count <> 0 and ( side = mp_player_side ) then
29617: LD_VAR 0 5
29621: PUSH
29622: LD_INT 0
29624: NONEQUAL
29625: PUSH
29626: LD_VAR 0 3
29630: PUSH
29631: LD_OWVAR 7
29635: EQUAL
29636: AND
29637: IFFALSE 29680
// Limits_Info := Replace ( Limits_Info , 3 * i , Already_Built [ i ] [ side ] ) ;
29639: LD_ADDR_LOC 29
29643: PUSH
29644: LD_LOC 29
29648: PPUSH
29649: LD_INT 3
29651: PUSH
29652: LD_VAR 0 7
29656: MUL
29657: PPUSH
29658: LD_LOC 28
29662: PUSH
29663: LD_VAR 0 7
29667: ARRAY
29668: PUSH
29669: LD_VAR 0 3
29673: ARRAY
29674: PPUSH
29675: CALL_OW 1
29679: ST_TO_ADDR
// if Already_Built [ i ] [ side ] > Restricted_Builds_Amount [ i ] then
29680: LD_LOC 28
29684: PUSH
29685: LD_VAR 0 7
29689: ARRAY
29690: PUSH
29691: LD_VAR 0 3
29695: ARRAY
29696: PUSH
29697: LD_LOC 23
29701: PUSH
29702: LD_VAR 0 7
29706: ARRAY
29707: GREATER
29708: IFFALSE 29735
// begin Cheaters := Replace ( Cheaters , side , 1 ) ;
29710: LD_ADDR_LOC 30
29714: PUSH
29715: LD_LOC 30
29719: PPUSH
29720: LD_VAR 0 3
29724: PPUSH
29725: LD_INT 1
29727: PPUSH
29728: CALL_OW 1
29732: ST_TO_ADDR
// end else
29733: GO 29822
// begin for j := 1 to Restricted_Builds do
29735: LD_ADDR_VAR 0 8
29739: PUSH
29740: DOUBLE
29741: LD_INT 1
29743: DEC
29744: ST_TO_ADDR
29745: LD_LOC 22
29749: PUSH
29750: FOR_TO
29751: IFFALSE 29795
// if Already_Built [ j ] [ side ] > Restricted_Builds_Amount [ j ] then
29753: LD_LOC 28
29757: PUSH
29758: LD_VAR 0 8
29762: ARRAY
29763: PUSH
29764: LD_VAR 0 3
29768: ARRAY
29769: PUSH
29770: LD_LOC 23
29774: PUSH
29775: LD_VAR 0 8
29779: ARRAY
29780: GREATER
29781: IFFALSE 29793
// begin Is_Cheater := true ;
29783: LD_ADDR_VAR 0 9
29787: PUSH
29788: LD_INT 1
29790: ST_TO_ADDR
// break ;
29791: GO 29795
// end ;
29793: GO 29750
29795: POP
29796: POP
// Cheaters := Replace ( Cheaters , side , Is_Cheater ) ;
29797: LD_ADDR_LOC 30
29801: PUSH
29802: LD_LOC 30
29806: PPUSH
29807: LD_VAR 0 3
29811: PPUSH
29812: LD_VAR 0 9
29816: PPUSH
29817: CALL_OW 1
29821: ST_TO_ADDR
// end ; break ;
29822: GO 29826
// end ;
29824: GO 29402
29826: POP
29827: POP
// end ;
29828: LD_VAR 0 6
29832: RET
// export function RestrictVehicleConstructionStarted ( factory , chassis , engine , control , weapon ) ; begin
29833: LD_INT 0
29835: PPUSH
// if ( weapon in Banned_Weapons ) or ( chassis in Banned_Chassis ) or ( control in Banned_Controls ) or ( engine in Banned_Engines ) then
29836: LD_VAR 0 5
29840: PUSH
29841: LD_LOC 24
29845: IN
29846: PUSH
29847: LD_VAR 0 2
29851: PUSH
29852: LD_LOC 25
29856: IN
29857: OR
29858: PUSH
29859: LD_VAR 0 4
29863: PUSH
29864: LD_LOC 26
29868: IN
29869: OR
29870: PUSH
29871: LD_VAR 0 3
29875: PUSH
29876: LD_LOC 27
29880: IN
29881: OR
29882: IFFALSE 29893
// ComCancel ( factory ) ;
29884: LD_VAR 0 1
29888: PPUSH
29889: CALL_OW 127
// end ;
29893: LD_VAR 0 6
29897: RET
// export function RestrictWeaponPlaced ( building , weapon ) ; begin
29898: LD_INT 0
29900: PPUSH
// if ( weapon in Banned_Weapons ) then
29901: LD_VAR 0 2
29905: PUSH
29906: LD_LOC 24
29910: IN
29911: IFFALSE 29922
// ComCancel ( building ) ;
29913: LD_VAR 0 1
29917: PPUSH
29918: CALL_OW 127
// end ;
29922: LD_VAR 0 3
29926: RET
// export function RestrictBuildingStarted ( building , builder ) ; var i , BType , b , side , count , k ; begin
29927: LD_INT 0
29929: PPUSH
29930: PPUSH
29931: PPUSH
29932: PPUSH
29933: PPUSH
29934: PPUSH
29935: PPUSH
// count = 0 ;
29936: LD_ADDR_VAR 0 8
29940: PUSH
29941: LD_INT 0
29943: ST_TO_ADDR
// BType = GetBType ( Building ) ;
29944: LD_ADDR_VAR 0 5
29948: PUSH
29949: LD_VAR 0 1
29953: PPUSH
29954: CALL_OW 266
29958: ST_TO_ADDR
// side = GetSide ( Building ) ;
29959: LD_ADDR_VAR 0 7
29963: PUSH
29964: LD_VAR 0 1
29968: PPUSH
29969: CALL_OW 255
29973: ST_TO_ADDR
// for i := 1 to Restricted_Builds do
29974: LD_ADDR_VAR 0 4
29978: PUSH
29979: DOUBLE
29980: LD_INT 1
29982: DEC
29983: ST_TO_ADDR
29984: LD_LOC 22
29988: PUSH
29989: FOR_TO
29990: IFFALSE 30133
// begin if BType in Restricted_Builds [ i ] then
29992: LD_VAR 0 5
29996: PUSH
29997: LD_LOC 22
30001: PUSH
30002: LD_VAR 0 4
30006: ARRAY
30007: IN
30008: IFFALSE 30100
// for k in Restricted_Builds [ i ] do
30010: LD_ADDR_VAR 0 9
30014: PUSH
30015: LD_LOC 22
30019: PUSH
30020: LD_VAR 0 4
30024: ARRAY
30025: PUSH
30026: FOR_IN
30027: IFFALSE 30098
// begin b = FilterAllunits ( [ [ f_side , side ] , [ f_type , building ] , [ f_btype , k ] ] ) ;
30029: LD_ADDR_VAR 0 6
30033: PUSH
30034: LD_INT 22
30036: PUSH
30037: LD_VAR 0 7
30041: PUSH
30042: EMPTY
30043: LIST
30044: LIST
30045: PUSH
30046: LD_INT 21
30048: PUSH
30049: LD_VAR 0 1
30053: PUSH
30054: EMPTY
30055: LIST
30056: LIST
30057: PUSH
30058: LD_INT 30
30060: PUSH
30061: LD_VAR 0 9
30065: PUSH
30066: EMPTY
30067: LIST
30068: LIST
30069: PUSH
30070: EMPTY
30071: LIST
30072: LIST
30073: LIST
30074: PPUSH
30075: CALL_OW 69
30079: ST_TO_ADDR
// count = count + b ;
30080: LD_ADDR_VAR 0 8
30084: PUSH
30085: LD_VAR 0 8
30089: PUSH
30090: LD_VAR 0 6
30094: PLUS
30095: ST_TO_ADDR
// end ;
30096: GO 30026
30098: POP
30099: POP
// if count + 0 > Restricted_Builds_Amount [ i ] then
30100: LD_VAR 0 8
30104: PUSH
30105: LD_INT 0
30107: PLUS
30108: PUSH
30109: LD_LOC 23
30113: PUSH
30114: LD_VAR 0 4
30118: ARRAY
30119: GREATER
30120: IFFALSE 30131
// DestroyUnit ( building ) ;
30122: LD_VAR 0 1
30126: PPUSH
30127: CALL_OW 65
// end ;
30131: GO 29989
30133: POP
30134: POP
// end ;
30135: LD_VAR 0 3
30139: RET
// export function CallExecuteLimits ( j ) ; begin
30140: LD_INT 0
30142: PPUSH
// if ( GetType ( j ) = 3 ) then
30143: LD_VAR 0 1
30147: PPUSH
30148: CALL_OW 247
30152: PUSH
30153: LD_INT 3
30155: EQUAL
30156: IFFALSE 30196
// ExecuteLimits ( j , GetBType ( j ) , GetSide ( j ) , 0 , - 1 ) else
30158: LD_VAR 0 1
30162: PPUSH
30163: LD_VAR 0 1
30167: PPUSH
30168: CALL_OW 266
30172: PPUSH
30173: LD_VAR 0 1
30177: PPUSH
30178: CALL_OW 255
30182: PPUSH
30183: LD_INT 0
30185: PPUSH
30186: LD_INT 1
30188: NEG
30189: PPUSH
30190: CALL 29381 0 5
30194: GO 30240
// if ( GetChassis ( j ) = 25 ) then
30196: LD_VAR 0 1
30200: PPUSH
30201: CALL_OW 265
30205: PUSH
30206: LD_INT 25
30208: EQUAL
30209: IFFALSE 30240
// ExecuteLimits ( j , b_behemoth , GetSide ( j ) , 0 , - 1 ) ;
30211: LD_VAR 0 1
30215: PPUSH
30216: LD_INT 37
30218: PPUSH
30219: LD_VAR 0 1
30223: PPUSH
30224: CALL_OW 255
30228: PPUSH
30229: LD_INT 0
30231: PPUSH
30232: LD_INT 1
30234: NEG
30235: PPUSH
30236: CALL 29381 0 5
// end ; end_of_file
30240: LD_VAR 0 2
30244: RET
// var FLAGY ; export FLAGY_AREA ; export FLAGY_XY ; export FLAGY_AREA1 ; var teams_p ; var WFT_Goal ; export WFT_Points_MP ; var WFT_FlagOnTop ; var WFT_FlagHeight ; export function Init_WarForTerritory ; var flag , i , p ; begin
30245: LD_INT 0
30247: PPUSH
30248: PPUSH
30249: PPUSH
30250: PPUSH
// if not def_WarForTerritory then
30251: LD_EXP 36
30255: NOT
30256: IFFALSE 30260
// exit ;
30258: GO 30600
// FLAGY = [ ] ;
30260: LD_ADDR_LOC 31
30264: PUSH
30265: EMPTY
30266: ST_TO_ADDR
// WFT_FlagOnTop = [ ] ;
30267: LD_ADDR_LOC 34
30271: PUSH
30272: EMPTY
30273: ST_TO_ADDR
// WFT_FlagHeight = [ ] ;
30274: LD_ADDR_LOC 35
30278: PUSH
30279: EMPTY
30280: ST_TO_ADDR
// teams_p = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
30281: LD_ADDR_LOC 32
30285: PUSH
30286: LD_INT 0
30288: PUSH
30289: LD_INT 0
30291: PUSH
30292: LD_INT 0
30294: PUSH
30295: LD_INT 0
30297: PUSH
30298: LD_INT 0
30300: PUSH
30301: LD_INT 0
30303: PUSH
30304: LD_INT 0
30306: PUSH
30307: LD_INT 0
30309: PUSH
30310: EMPTY
30311: LIST
30312: LIST
30313: LIST
30314: LIST
30315: LIST
30316: LIST
30317: LIST
30318: LIST
30319: ST_TO_ADDR
// for i = 1 to FLAGY_AREA do
30320: LD_ADDR_VAR 0 3
30324: PUSH
30325: DOUBLE
30326: LD_INT 1
30328: DEC
30329: ST_TO_ADDR
30330: LD_EXP 118
30334: PUSH
30335: FOR_TO
30336: IFFALSE 30429
// begin flag = SetBattleFlag ( 0 , FLAGY_XY [ i ] [ 1 ] , FLAGY_XY [ i ] [ 2 ] , [ ] ) ;
30338: LD_ADDR_VAR 0 2
30342: PUSH
30343: LD_INT 0
30345: PPUSH
30346: LD_EXP 119
30350: PUSH
30351: LD_VAR 0 3
30355: ARRAY
30356: PUSH
30357: LD_INT 1
30359: ARRAY
30360: PPUSH
30361: LD_EXP 119
30365: PUSH
30366: LD_VAR 0 3
30370: ARRAY
30371: PUSH
30372: LD_INT 2
30374: ARRAY
30375: PPUSH
30376: EMPTY
30377: PPUSH
30378: CALL_OW 418
30382: ST_TO_ADDR
// FLAGY = FLAGY ^ flag ;
30383: LD_ADDR_LOC 31
30387: PUSH
30388: LD_LOC 31
30392: PUSH
30393: LD_VAR 0 2
30397: ADD
30398: ST_TO_ADDR
// WFT_FlagOnTop = WFT_FlagOnTop ^ true ;
30399: LD_ADDR_LOC 34
30403: PUSH
30404: LD_LOC 34
30408: PUSH
30409: LD_INT 1
30411: ADD
30412: ST_TO_ADDR
// WFT_FlagHeight = WFT_FlagHeight ^ 100 ;
30413: LD_ADDR_LOC 35
30417: PUSH
30418: LD_LOC 35
30422: PUSH
30423: LD_INT 100
30425: ADD
30426: ST_TO_ADDR
// end ;
30427: GO 30335
30429: POP
30430: POP
// if WarForTerritory_Flags then
30431: LD_EXP 65
30435: IFFALSE 30449
// WFT_Goal = WarForTerritory_Flags else
30437: LD_ADDR_LOC 33
30441: PUSH
30442: LD_EXP 65
30446: ST_TO_ADDR
30447: GO 30459
// WFT_Goal = WarForTerritory_Points ;
30449: LD_ADDR_LOC 33
30453: PUSH
30454: LD_EXP 64
30458: ST_TO_ADDR
// for i = 1 to flagy_area do
30459: LD_ADDR_VAR 0 3
30463: PUSH
30464: DOUBLE
30465: LD_INT 1
30467: DEC
30468: ST_TO_ADDR
30469: LD_EXP 118
30473: PUSH
30474: FOR_TO
30475: IFFALSE 30577
// begin SetAreaMapShow ( flagy_area [ i ] , 1 ) ;
30477: LD_EXP 118
30481: PUSH
30482: LD_VAR 0 3
30486: ARRAY
30487: PPUSH
30488: LD_INT 1
30490: PPUSH
30491: CALL_OW 424
// SetAreaMapShow ( flagy_area1 [ i ] , 5 ) ;
30495: LD_EXP 120
30499: PUSH
30500: LD_VAR 0 3
30504: ARRAY
30505: PPUSH
30506: LD_INT 5
30508: PPUSH
30509: CALL_OW 424
// for p = 1 to 8 do
30513: LD_ADDR_VAR 0 4
30517: PUSH
30518: DOUBLE
30519: LD_INT 1
30521: DEC
30522: ST_TO_ADDR
30523: LD_INT 8
30525: PUSH
30526: FOR_TO
30527: IFFALSE 30573
// PlaceSeeing ( flagy_xy [ i ] [ 1 ] , flagy_xy [ i ] [ 2 ] , p , 1 ) ;
30529: LD_EXP 119
30533: PUSH
30534: LD_VAR 0 3
30538: ARRAY
30539: PUSH
30540: LD_INT 1
30542: ARRAY
30543: PPUSH
30544: LD_EXP 119
30548: PUSH
30549: LD_VAR 0 3
30553: ARRAY
30554: PUSH
30555: LD_INT 2
30557: ARRAY
30558: PPUSH
30559: LD_VAR 0 4
30563: PPUSH
30564: LD_INT 1
30566: PPUSH
30567: CALL_OW 330
30571: GO 30526
30573: POP
30574: POP
// end ;
30575: GO 30474
30577: POP
30578: POP
// if WFT_Points_MP < 1 then
30579: LD_EXP 121
30583: PUSH
30584: LD_INT 1
30586: LESS
30587: IFFALSE 30597
// WFT_Points_MP = 1 ;
30589: LD_ADDR_EXP 121
30593: PUSH
30594: LD_INT 1
30596: ST_TO_ADDR
// enable ( 60 ) ;
30597: LD_INT 60
30599: ENABLE_MARKED
// end ;
30600: LD_VAR 0 1
30604: RET
// every 0 0$1 marked 60 do var i , p , pom , pom1 ; var side , sideNumber , flagSide ;
30605: GO 30607
30607: DISABLE
30608: LD_INT 0
30610: PPUSH
30611: PPUSH
30612: PPUSH
30613: PPUSH
30614: PPUSH
30615: PPUSH
30616: PPUSH
// begin zkontroluj_body ;
30617: CALL 31916 0 0
// for i := 1 to flagy + 0 do
30621: LD_ADDR_VAR 0 1
30625: PUSH
30626: DOUBLE
30627: LD_INT 1
30629: DEC
30630: ST_TO_ADDR
30631: LD_LOC 31
30635: PUSH
30636: LD_INT 0
30638: PLUS
30639: PUSH
30640: FOR_TO
30641: IFFALSE 31393
// begin sideNumber = 0 ;
30643: LD_ADDR_VAR 0 6
30647: PUSH
30648: LD_INT 0
30650: ST_TO_ADDR
// for p = 1 to 8 do
30651: LD_ADDR_VAR 0 2
30655: PUSH
30656: DOUBLE
30657: LD_INT 1
30659: DEC
30660: ST_TO_ADDR
30661: LD_INT 8
30663: PUSH
30664: FOR_TO
30665: IFFALSE 30745
// begin pom = FilterUnitsInArea ( FLAGY_AREA1 [ i ] , [ f_side , p ] ) ;
30667: LD_ADDR_VAR 0 3
30671: PUSH
30672: LD_EXP 120
30676: PUSH
30677: LD_VAR 0 1
30681: ARRAY
30682: PPUSH
30683: LD_INT 22
30685: PUSH
30686: LD_VAR 0 2
30690: PUSH
30691: EMPTY
30692: LIST
30693: LIST
30694: PPUSH
30695: CALL_OW 70
30699: ST_TO_ADDR
// if pom > 0 then
30700: LD_VAR 0 3
30704: PUSH
30705: LD_INT 0
30707: GREATER
30708: IFFALSE 30743
// begin side = getSide ( pom [ 1 ] ) ;
30710: LD_ADDR_VAR 0 5
30714: PUSH
30715: LD_VAR 0 3
30719: PUSH
30720: LD_INT 1
30722: ARRAY
30723: PPUSH
30724: CALL_OW 255
30728: ST_TO_ADDR
// sideNumber = sideNumber + 1 ;
30729: LD_ADDR_VAR 0 6
30733: PUSH
30734: LD_VAR 0 6
30738: PUSH
30739: LD_INT 1
30741: PLUS
30742: ST_TO_ADDR
// end ; end ;
30743: GO 30664
30745: POP
30746: POP
// if sideNumber = 1 then
30747: LD_VAR 0 6
30751: PUSH
30752: LD_INT 1
30754: EQUAL
30755: IFFALSE 31032
// begin flagSide = getBattleFlagSide ( FLAGY [ i ] ) ;
30757: LD_ADDR_VAR 0 7
30761: PUSH
30762: LD_LOC 31
30766: PUSH
30767: LD_VAR 0 1
30771: ARRAY
30772: PPUSH
30773: CALL_OW 421
30777: ST_TO_ADDR
// if flagSide = side then
30778: LD_VAR 0 7
30782: PUSH
30783: LD_VAR 0 5
30787: EQUAL
30788: IFFALSE 30904
// begin if WFT_FlagHeight [ i ] < 100 then
30790: LD_LOC 35
30794: PUSH
30795: LD_VAR 0 1
30799: ARRAY
30800: PUSH
30801: LD_INT 100
30803: LESS
30804: IFFALSE 30879
// begin WFT_FlagHeight = replace ( WFT_FlagHeight , i , WFT_FlagHeight [ i ] + 10 ) ;
30806: LD_ADDR_LOC 35
30810: PUSH
30811: LD_LOC 35
30815: PPUSH
30816: LD_VAR 0 1
30820: PPUSH
30821: LD_LOC 35
30825: PUSH
30826: LD_VAR 0 1
30830: ARRAY
30831: PUSH
30832: LD_INT 10
30834: PLUS
30835: PPUSH
30836: CALL_OW 1
30840: ST_TO_ADDR
// ChangeBattleFlagOptions ( FLAGY [ i ] , [ [ bfo_height , WFT_FlagHeight [ i ] ] ] ) ;
30841: LD_LOC 31
30845: PUSH
30846: LD_VAR 0 1
30850: ARRAY
30851: PPUSH
30852: LD_INT 20
30854: PUSH
30855: LD_LOC 35
30859: PUSH
30860: LD_VAR 0 1
30864: ARRAY
30865: PUSH
30866: EMPTY
30867: LIST
30868: LIST
30869: PUSH
30870: EMPTY
30871: LIST
30872: PPUSH
30873: CALL_OW 423
// end else
30877: GO 30902
// WFT_FlagOnTop = replace ( WFT_FlagOnTop , i , true ) ;
30879: LD_ADDR_LOC 34
30883: PUSH
30884: LD_LOC 34
30888: PPUSH
30889: LD_VAR 0 1
30893: PPUSH
30894: LD_INT 1
30896: PPUSH
30897: CALL_OW 1
30901: ST_TO_ADDR
// end else
30902: GO 31030
// begin if WFT_FlagHeight [ i ] > 0 then
30904: LD_LOC 35
30908: PUSH
30909: LD_VAR 0 1
30913: ARRAY
30914: PUSH
30915: LD_INT 0
30917: GREATER
30918: IFFALSE 30993
// begin WFT_FlagHeight = replace ( WFT_FlagHeight , i , WFT_FlagHeight [ i ] - 10 ) ;
30920: LD_ADDR_LOC 35
30924: PUSH
30925: LD_LOC 35
30929: PPUSH
30930: LD_VAR 0 1
30934: PPUSH
30935: LD_LOC 35
30939: PUSH
30940: LD_VAR 0 1
30944: ARRAY
30945: PUSH
30946: LD_INT 10
30948: MINUS
30949: PPUSH
30950: CALL_OW 1
30954: ST_TO_ADDR
// ChangeBattleFlagOptions ( FLAGY [ i ] , [ [ bfo_height , WFT_FlagHeight [ i ] ] ] ) ;
30955: LD_LOC 31
30959: PUSH
30960: LD_VAR 0 1
30964: ARRAY
30965: PPUSH
30966: LD_INT 20
30968: PUSH
30969: LD_LOC 35
30973: PUSH
30974: LD_VAR 0 1
30978: ARRAY
30979: PUSH
30980: EMPTY
30981: LIST
30982: LIST
30983: PUSH
30984: EMPTY
30985: LIST
30986: PPUSH
30987: CALL_OW 423
// end else
30991: GO 31030
// begin zmen_vlajku ( i , side ) ;
30993: LD_VAR 0 1
30997: PPUSH
30998: LD_VAR 0 5
31002: PPUSH
31003: CALL 31399 0 2
// WFT_FlagOnTop = replace ( WFT_FlagOnTop , i , false ) ;
31007: LD_ADDR_LOC 34
31011: PUSH
31012: LD_LOC 34
31016: PPUSH
31017: LD_VAR 0 1
31021: PPUSH
31022: LD_INT 0
31024: PPUSH
31025: CALL_OW 1
31029: ST_TO_ADDR
// end ; end ; end else
31030: GO 31391
// if sideNumber = 0 then
31032: LD_VAR 0 6
31036: PUSH
31037: LD_INT 0
31039: EQUAL
31040: IFFALSE 31391
// begin if getBattleFlagSide ( FLAGY [ i ] ) <> 0 then
31042: LD_LOC 31
31046: PUSH
31047: LD_VAR 0 1
31051: ARRAY
31052: PPUSH
31053: CALL_OW 421
31057: PUSH
31058: LD_INT 0
31060: NONEQUAL
31061: IFFALSE 31268
// begin if WFT_FlagHeight [ i ] > 0 and WFT_FlagHeight [ i ] < 100 then
31063: LD_LOC 35
31067: PUSH
31068: LD_VAR 0 1
31072: ARRAY
31073: PUSH
31074: LD_INT 0
31076: GREATER
31077: PUSH
31078: LD_LOC 35
31082: PUSH
31083: LD_VAR 0 1
31087: ARRAY
31088: PUSH
31089: LD_INT 100
31091: LESS
31092: AND
31093: IFFALSE 31217
// begin if WFT_FlagOnTop [ i ] then
31095: LD_LOC 34
31099: PUSH
31100: LD_VAR 0 1
31104: ARRAY
31105: IFFALSE 31144
// WFT_FlagHeight = replace ( WFT_FlagHeight , i , WFT_FlagHeight [ i ] + 10 ) else
31107: LD_ADDR_LOC 35
31111: PUSH
31112: LD_LOC 35
31116: PPUSH
31117: LD_VAR 0 1
31121: PPUSH
31122: LD_LOC 35
31126: PUSH
31127: LD_VAR 0 1
31131: ARRAY
31132: PUSH
31133: LD_INT 10
31135: PLUS
31136: PPUSH
31137: CALL_OW 1
31141: ST_TO_ADDR
31142: GO 31179
// WFT_FlagHeight = replace ( WFT_FlagHeight , i , WFT_FlagHeight [ i ] - 10 ) ;
31144: LD_ADDR_LOC 35
31148: PUSH
31149: LD_LOC 35
31153: PPUSH
31154: LD_VAR 0 1
31158: PPUSH
31159: LD_LOC 35
31163: PUSH
31164: LD_VAR 0 1
31168: ARRAY
31169: PUSH
31170: LD_INT 10
31172: MINUS
31173: PPUSH
31174: CALL_OW 1
31178: ST_TO_ADDR
// ChangeBattleFlagOptions ( FLAGY [ i ] , [ [ bfo_height , WFT_FlagHeight [ i ] ] ] ) ;
31179: LD_LOC 31
31183: PUSH
31184: LD_VAR 0 1
31188: ARRAY
31189: PPUSH
31190: LD_INT 20
31192: PUSH
31193: LD_LOC 35
31197: PUSH
31198: LD_VAR 0 1
31202: ARRAY
31203: PUSH
31204: EMPTY
31205: LIST
31206: LIST
31207: PUSH
31208: EMPTY
31209: LIST
31210: PPUSH
31211: CALL_OW 423
// end else
31215: GO 31266
// if WFT_FlagHeight [ i ] = 0 and getBattleFlagSide ( FLAGY [ i ] ) <> 0 then
31217: LD_LOC 35
31221: PUSH
31222: LD_VAR 0 1
31226: ARRAY
31227: PUSH
31228: LD_INT 0
31230: EQUAL
31231: PUSH
31232: LD_LOC 31
31236: PUSH
31237: LD_VAR 0 1
31241: ARRAY
31242: PPUSH
31243: CALL_OW 421
31247: PUSH
31248: LD_INT 0
31250: NONEQUAL
31251: AND
31252: IFFALSE 31266
// zmen_vlajku ( i , 0 ) ;
31254: LD_VAR 0 1
31258: PPUSH
31259: LD_INT 0
31261: PPUSH
31262: CALL 31399 0 2
// end else
31266: GO 31391
// if WFT_FlagHeight [ i ] < 100 then
31268: LD_LOC 35
31272: PUSH
31273: LD_VAR 0 1
31277: ARRAY
31278: PUSH
31279: LD_INT 100
31281: LESS
31282: IFFALSE 31391
// begin if not WFT_FlagOnTop [ i ] then
31284: LD_LOC 34
31288: PUSH
31289: LD_VAR 0 1
31293: ARRAY
31294: NOT
31295: IFFALSE 31320
// WFT_FlagOnTop = replace ( WFT_FlagOnTop , i , true ) ;
31297: LD_ADDR_LOC 34
31301: PUSH
31302: LD_LOC 34
31306: PPUSH
31307: LD_VAR 0 1
31311: PPUSH
31312: LD_INT 1
31314: PPUSH
31315: CALL_OW 1
31319: ST_TO_ADDR
// WFT_FlagHeight = replace ( WFT_FlagHeight , i , WFT_FlagHeight [ i ] + 10 ) ;
31320: LD_ADDR_LOC 35
31324: PUSH
31325: LD_LOC 35
31329: PPUSH
31330: LD_VAR 0 1
31334: PPUSH
31335: LD_LOC 35
31339: PUSH
31340: LD_VAR 0 1
31344: ARRAY
31345: PUSH
31346: LD_INT 10
31348: PLUS
31349: PPUSH
31350: CALL_OW 1
31354: ST_TO_ADDR
// ChangeBattleFlagOptions ( FLAGY [ i ] , [ [ bfo_height , WFT_FlagHeight [ i ] ] ] ) ;
31355: LD_LOC 31
31359: PUSH
31360: LD_VAR 0 1
31364: ARRAY
31365: PPUSH
31366: LD_INT 20
31368: PUSH
31369: LD_LOC 35
31373: PUSH
31374: LD_VAR 0 1
31378: ARRAY
31379: PUSH
31380: EMPTY
31381: LIST
31382: LIST
31383: PUSH
31384: EMPTY
31385: LIST
31386: PPUSH
31387: CALL_OW 423
// end ; end ; end ;
31391: GO 30640
31393: POP
31394: POP
// enable ;
31395: ENABLE
// end ;
31396: PPOPN 7
31398: END
// function zmen_vlajku ( pozice , side ) ; var i ; begin
31399: LD_INT 0
31401: PPUSH
31402: PPUSH
// if FLAGY [ pozice ] and side >= 0 and side <= 8 then
31403: LD_LOC 31
31407: PUSH
31408: LD_VAR 0 1
31412: ARRAY
31413: PUSH
31414: LD_VAR 0 2
31418: PUSH
31419: LD_INT 0
31421: GREATEREQUAL
31422: AND
31423: PUSH
31424: LD_VAR 0 2
31428: PUSH
31429: LD_INT 8
31431: LESSEQUAL
31432: AND
31433: IFFALSE 31455
// changeBattleFlagSide ( FLAGY [ pozice ] , side ) ;
31435: LD_LOC 31
31439: PUSH
31440: LD_VAR 0 1
31444: ARRAY
31445: PPUSH
31446: LD_VAR 0 2
31450: PPUSH
31451: CALL_OW 422
// end ;
31455: LD_VAR 0 3
31459: RET
// export function vloz_na_pozici ( co , cislo , pozice ) ; var ii ; var pom ; begin
31460: LD_INT 0
31462: PPUSH
31463: PPUSH
31464: PPUSH
// pom = [ ] ;
31465: LD_ADDR_VAR 0 6
31469: PUSH
31470: EMPTY
31471: ST_TO_ADDR
// for ii := 1 to pozice do
31472: LD_ADDR_VAR 0 5
31476: PUSH
31477: DOUBLE
31478: LD_INT 1
31480: DEC
31481: ST_TO_ADDR
31482: LD_VAR 0 3
31486: PUSH
31487: FOR_TO
31488: IFFALSE 31544
// if ii <> cislo then
31490: LD_VAR 0 5
31494: PUSH
31495: LD_VAR 0 2
31499: NONEQUAL
31500: IFFALSE 31526
// pom = pom ^ pozice [ ii ] else
31502: LD_ADDR_VAR 0 6
31506: PUSH
31507: LD_VAR 0 6
31511: PUSH
31512: LD_VAR 0 3
31516: PUSH
31517: LD_VAR 0 5
31521: ARRAY
31522: ADD
31523: ST_TO_ADDR
31524: GO 31542
// pom = pom ^ co ;
31526: LD_ADDR_VAR 0 6
31530: PUSH
31531: LD_VAR 0 6
31535: PUSH
31536: LD_VAR 0 1
31540: ADD
31541: ST_TO_ADDR
31542: GO 31487
31544: POP
31545: POP
// result := pom ;
31546: LD_ADDR_VAR 0 4
31550: PUSH
31551: LD_VAR 0 6
31555: ST_TO_ADDR
// end ;
31556: LD_VAR 0 4
31560: RET
// function budovy_ok ( bud ) ; var a ; var i ; begin
31561: LD_INT 0
31563: PPUSH
31564: PPUSH
31565: PPUSH
// a = false ;
31566: LD_ADDR_VAR 0 3
31570: PUSH
31571: LD_INT 0
31573: ST_TO_ADDR
// for i in bud do
31574: LD_ADDR_VAR 0 4
31578: PUSH
31579: LD_VAR 0 1
31583: PUSH
31584: FOR_IN
31585: IFFALSE 31608
// if IsOK ( i ) then
31587: LD_VAR 0 4
31591: PPUSH
31592: CALL_OW 302
31596: IFFALSE 31606
// a = true ;
31598: LD_ADDR_VAR 0 3
31602: PUSH
31603: LD_INT 1
31605: ST_TO_ADDR
31606: GO 31584
31608: POP
31609: POP
// result := a ;
31610: LD_ADDR_VAR 0 2
31614: PUSH
31615: LD_VAR 0 3
31619: ST_TO_ADDR
// end ;
31620: LD_VAR 0 2
31624: RET
// every 0 0$3 marked 60 do var i , j ; var pom , goal , p ;
31625: GO 31627
31627: DISABLE
31628: LD_INT 0
31630: PPUSH
31631: PPUSH
31632: PPUSH
31633: PPUSH
31634: PPUSH
// begin if WarForTerritory_points then
31635: LD_EXP 64
31639: IFFALSE 31663
// goal = WFT_Goal * ( 3 * WFT_Points_MP ) else
31641: LD_ADDR_VAR 0 4
31645: PUSH
31646: LD_LOC 33
31650: PUSH
31651: LD_INT 3
31653: PUSH
31654: LD_EXP 121
31658: MUL
31659: MUL
31660: ST_TO_ADDR
31661: GO 31673
// goal = WFT_goal ;
31663: LD_ADDR_VAR 0 4
31667: PUSH
31668: LD_LOC 33
31672: ST_TO_ADDR
// for i := 1 to teams_p do
31673: LD_ADDR_VAR 0 1
31677: PUSH
31678: DOUBLE
31679: LD_INT 1
31681: DEC
31682: ST_TO_ADDR
31683: LD_LOC 32
31687: PUSH
31688: FOR_TO
31689: IFFALSE 31910
// if teams_p [ i ] >= Goal then
31691: LD_LOC 32
31695: PUSH
31696: LD_VAR 0 1
31700: ARRAY
31701: PUSH
31702: LD_VAR 0 4
31706: GREATEREQUAL
31707: IFFALSE 31908
// begin if not Team_Game then
31709: LD_EXP 79
31713: NOT
31714: IFFALSE 31738
// begin if i = mp_player_side then
31716: LD_VAR 0 1
31720: PUSH
31721: LD_OWVAR 7
31725: EQUAL
31726: IFFALSE 31733
// enable ( 401 ) else
31728: LD_INT 401
31730: ENABLE_MARKED
31731: GO 31736
// enable ( 400 ) ;
31733: LD_INT 400
31735: ENABLE_MARKED
// end else
31736: GO 31758
// if i = Player_Team then
31738: LD_VAR 0 1
31742: PUSH
31743: LD_EXP 70
31747: EQUAL
31748: IFFALSE 31755
// enable ( 401 ) else
31750: LD_INT 401
31752: ENABLE_MARKED
31753: GO 31758
// enable ( 400 ) ;
31755: LD_INT 400
31757: ENABLE_MARKED
// if WarForTerritory_points then
31758: LD_EXP 64
31762: IFFALSE 31836
// begin for p = 1 to side_positions do
31764: LD_ADDR_VAR 0 5
31768: PUSH
31769: DOUBLE
31770: LD_INT 1
31772: DEC
31773: ST_TO_ADDR
31774: LD_EXP 74
31778: PUSH
31779: FOR_TO
31780: IFFALSE 31832
// if Side_Positions [ p ] then
31782: LD_EXP 74
31786: PUSH
31787: LD_VAR 0 5
31791: ARRAY
31792: IFFALSE 31830
// SetSharedMultiScore ( p , GetTag ( p + 20 ) div ( 3 * WFT_points_MP ) , 3 ) ;
31794: LD_VAR 0 5
31798: PPUSH
31799: LD_VAR 0 5
31803: PUSH
31804: LD_INT 20
31806: PLUS
31807: PPUSH
31808: CALL_OW 110
31812: PUSH
31813: LD_INT 3
31815: PUSH
31816: LD_EXP 121
31820: MUL
31821: DIV
31822: PPUSH
31823: LD_INT 3
31825: PPUSH
31826: CALL 35319 0 3
31830: GO 31779
31832: POP
31833: POP
// end else
31834: GO 31900
// for p = 1 to side_positions do
31836: LD_ADDR_VAR 0 5
31840: PUSH
31841: DOUBLE
31842: LD_INT 1
31844: DEC
31845: ST_TO_ADDR
31846: LD_EXP 74
31850: PUSH
31851: FOR_TO
31852: IFFALSE 31898
// if Side_Positions [ p ] then
31854: LD_EXP 74
31858: PUSH
31859: LD_VAR 0 5
31863: ARRAY
31864: IFFALSE 31896
// SetSharedMultiScore ( p , GetTag ( i + 20 ) * 1000 , 3 ) ;
31866: LD_VAR 0 5
31870: PPUSH
31871: LD_VAR 0 1
31875: PUSH
31876: LD_INT 20
31878: PLUS
31879: PPUSH
31880: CALL_OW 110
31884: PUSH
31885: LD_INT 1000
31887: MUL
31888: PPUSH
31889: LD_INT 3
31891: PPUSH
31892: CALL 35319 0 3
31896: GO 31851
31898: POP
31899: POP
// MakeGameEnd ;
31900: CALL 14266 0 0
// exit ;
31904: POP
31905: POP
31906: GO 31913
// end ;
31908: GO 31688
31910: POP
31911: POP
// enable ;
31912: ENABLE
// end ;
31913: PPOPN 5
31915: END
// function zkontroluj_body ; var side , list , un , red , blue , yel , green , i , pom ; begin
31916: LD_INT 0
31918: PPUSH
31919: PPUSH
31920: PPUSH
31921: PPUSH
31922: PPUSH
31923: PPUSH
31924: PPUSH
31925: PPUSH
31926: PPUSH
31927: PPUSH
// list = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
31928: LD_ADDR_VAR 0 3
31932: PUSH
31933: LD_INT 0
31935: PUSH
31936: LD_INT 0
31938: PUSH
31939: LD_INT 0
31941: PUSH
31942: LD_INT 0
31944: PUSH
31945: LD_INT 0
31947: PUSH
31948: LD_INT 0
31950: PUSH
31951: LD_INT 0
31953: PUSH
31954: LD_INT 0
31956: PUSH
31957: EMPTY
31958: LIST
31959: LIST
31960: LIST
31961: LIST
31962: LIST
31963: LIST
31964: LIST
31965: LIST
31966: ST_TO_ADDR
// red = 0 ;
31967: LD_ADDR_VAR 0 5
31971: PUSH
31972: LD_INT 0
31974: ST_TO_ADDR
// blue = 0 ;
31975: LD_ADDR_VAR 0 6
31979: PUSH
31980: LD_INT 0
31982: ST_TO_ADDR
// yel = 0 ;
31983: LD_ADDR_VAR 0 7
31987: PUSH
31988: LD_INT 0
31990: ST_TO_ADDR
// green = 0 ;
31991: LD_ADDR_VAR 0 8
31995: PUSH
31996: LD_INT 0
31998: ST_TO_ADDR
// if WarForTerritory_flags then
31999: LD_EXP 65
32003: IFFALSE 32369
// begin for i = 1 to FLAGY + 0 do
32005: LD_ADDR_VAR 0 9
32009: PUSH
32010: DOUBLE
32011: LD_INT 1
32013: DEC
32014: ST_TO_ADDR
32015: LD_LOC 31
32019: PUSH
32020: LD_INT 0
32022: PLUS
32023: PUSH
32024: FOR_TO
32025: IFFALSE 32097
// if WFT_FlagOnTop [ i ] then
32027: LD_LOC 34
32031: PUSH
32032: LD_VAR 0 9
32036: ARRAY
32037: IFFALSE 32095
// begin pom = GetBattleFlagSide ( FLAGY [ i ] ) ;
32039: LD_ADDR_VAR 0 10
32043: PUSH
32044: LD_LOC 31
32048: PUSH
32049: LD_VAR 0 9
32053: ARRAY
32054: PPUSH
32055: CALL_OW 421
32059: ST_TO_ADDR
// list = vloz_na_pozici ( list [ pom ] + 1 , pom , list ) ;
32060: LD_ADDR_VAR 0 3
32064: PUSH
32065: LD_VAR 0 3
32069: PUSH
32070: LD_VAR 0 10
32074: ARRAY
32075: PUSH
32076: LD_INT 1
32078: PLUS
32079: PPUSH
32080: LD_VAR 0 10
32084: PPUSH
32085: LD_VAR 0 3
32089: PPUSH
32090: CALL 31460 0 3
32094: ST_TO_ADDR
// end ;
32095: GO 32024
32097: POP
32098: POP
// if not Team_Game then
32099: LD_EXP 79
32103: NOT
32104: IFFALSE 32118
// teams_p = list else
32106: LD_ADDR_LOC 32
32110: PUSH
32111: LD_VAR 0 3
32115: ST_TO_ADDR
32116: GO 32321
// begin for i in Teams [ 1 ] do
32118: LD_ADDR_VAR 0 9
32122: PUSH
32123: LD_EXP 72
32127: PUSH
32128: LD_INT 1
32130: ARRAY
32131: PUSH
32132: FOR_IN
32133: IFFALSE 32159
// red = red + list [ i ] ;
32135: LD_ADDR_VAR 0 5
32139: PUSH
32140: LD_VAR 0 5
32144: PUSH
32145: LD_VAR 0 3
32149: PUSH
32150: LD_VAR 0 9
32154: ARRAY
32155: PLUS
32156: ST_TO_ADDR
32157: GO 32132
32159: POP
32160: POP
// for i in Teams [ 2 ] do
32161: LD_ADDR_VAR 0 9
32165: PUSH
32166: LD_EXP 72
32170: PUSH
32171: LD_INT 2
32173: ARRAY
32174: PUSH
32175: FOR_IN
32176: IFFALSE 32202
// blue = blue + list [ i ] ;
32178: LD_ADDR_VAR 0 6
32182: PUSH
32183: LD_VAR 0 6
32187: PUSH
32188: LD_VAR 0 3
32192: PUSH
32193: LD_VAR 0 9
32197: ARRAY
32198: PLUS
32199: ST_TO_ADDR
32200: GO 32175
32202: POP
32203: POP
// for i in Teams [ 3 ] do
32204: LD_ADDR_VAR 0 9
32208: PUSH
32209: LD_EXP 72
32213: PUSH
32214: LD_INT 3
32216: ARRAY
32217: PUSH
32218: FOR_IN
32219: IFFALSE 32245
// yel = yel + list [ i ] ;
32221: LD_ADDR_VAR 0 7
32225: PUSH
32226: LD_VAR 0 7
32230: PUSH
32231: LD_VAR 0 3
32235: PUSH
32236: LD_VAR 0 9
32240: ARRAY
32241: PLUS
32242: ST_TO_ADDR
32243: GO 32218
32245: POP
32246: POP
// for i in Teams [ 4 ] do
32247: LD_ADDR_VAR 0 9
32251: PUSH
32252: LD_EXP 72
32256: PUSH
32257: LD_INT 4
32259: ARRAY
32260: PUSH
32261: FOR_IN
32262: IFFALSE 32288
// green = green + list [ i ] ;
32264: LD_ADDR_VAR 0 8
32268: PUSH
32269: LD_VAR 0 8
32273: PUSH
32274: LD_VAR 0 3
32278: PUSH
32279: LD_VAR 0 9
32283: ARRAY
32284: PLUS
32285: ST_TO_ADDR
32286: GO 32261
32288: POP
32289: POP
// teams_p = [ red , blue , yel , green ] ;
32290: LD_ADDR_LOC 32
32294: PUSH
32295: LD_VAR 0 5
32299: PUSH
32300: LD_VAR 0 6
32304: PUSH
32305: LD_VAR 0 7
32309: PUSH
32310: LD_VAR 0 8
32314: PUSH
32315: EMPTY
32316: LIST
32317: LIST
32318: LIST
32319: LIST
32320: ST_TO_ADDR
// end ; for i = 1 to list do
32321: LD_ADDR_VAR 0 9
32325: PUSH
32326: DOUBLE
32327: LD_INT 1
32329: DEC
32330: ST_TO_ADDR
32331: LD_VAR 0 3
32335: PUSH
32336: FOR_TO
32337: IFFALSE 32365
// SetTag ( i + 20 , list [ i ] ) ;
32339: LD_VAR 0 9
32343: PUSH
32344: LD_INT 20
32346: PLUS
32347: PPUSH
32348: LD_VAR 0 3
32352: PUSH
32353: LD_VAR 0 9
32357: ARRAY
32358: PPUSH
32359: CALL_OW 109
32363: GO 32336
32365: POP
32366: POP
// end else
32367: GO 32847
// if WarForTerritory_points then
32369: LD_EXP 64
32373: IFFALSE 32847
// begin for i = 1 to FLAGY + 0 do
32375: LD_ADDR_VAR 0 9
32379: PUSH
32380: DOUBLE
32381: LD_INT 1
32383: DEC
32384: ST_TO_ADDR
32385: LD_LOC 31
32389: PUSH
32390: LD_INT 0
32392: PLUS
32393: PUSH
32394: FOR_TO
32395: IFFALSE 32467
// if WFT_FlagOnTop [ i ] then
32397: LD_LOC 34
32401: PUSH
32402: LD_VAR 0 9
32406: ARRAY
32407: IFFALSE 32465
// begin pom = GetBattleFlagSide ( FLAGY [ i ] ) ;
32409: LD_ADDR_VAR 0 10
32413: PUSH
32414: LD_LOC 31
32418: PUSH
32419: LD_VAR 0 9
32423: ARRAY
32424: PPUSH
32425: CALL_OW 421
32429: ST_TO_ADDR
// list = vloz_na_pozici ( list [ pom ] + 1 , pom , list ) ;
32430: LD_ADDR_VAR 0 3
32434: PUSH
32435: LD_VAR 0 3
32439: PUSH
32440: LD_VAR 0 10
32444: ARRAY
32445: PUSH
32446: LD_INT 1
32448: PLUS
32449: PPUSH
32450: LD_VAR 0 10
32454: PPUSH
32455: LD_VAR 0 3
32459: PPUSH
32460: CALL 31460 0 3
32464: ST_TO_ADDR
// end ;
32465: GO 32394
32467: POP
32468: POP
// if not Team_Game then
32469: LD_EXP 79
32473: NOT
32474: IFFALSE 32543
// for i = 1 to side_positions do
32476: LD_ADDR_VAR 0 9
32480: PUSH
32481: DOUBLE
32482: LD_INT 1
32484: DEC
32485: ST_TO_ADDR
32486: LD_EXP 74
32490: PUSH
32491: FOR_TO
32492: IFFALSE 32539
// teams_p = vloz_na_pozici ( teams_p [ i ] + ( list [ i ] ) , i , teams_p ) else
32494: LD_ADDR_LOC 32
32498: PUSH
32499: LD_LOC 32
32503: PUSH
32504: LD_VAR 0 9
32508: ARRAY
32509: PUSH
32510: LD_VAR 0 3
32514: PUSH
32515: LD_VAR 0 9
32519: ARRAY
32520: PLUS
32521: PPUSH
32522: LD_VAR 0 9
32526: PPUSH
32527: LD_LOC 32
32531: PPUSH
32532: CALL 31460 0 3
32536: ST_TO_ADDR
32537: GO 32491
32539: POP
32540: POP
32541: GO 32786
// begin for i in Teams [ 1 ] do
32543: LD_ADDR_VAR 0 9
32547: PUSH
32548: LD_EXP 72
32552: PUSH
32553: LD_INT 1
32555: ARRAY
32556: PUSH
32557: FOR_IN
32558: IFFALSE 32584
// red = red + list [ i ] ;
32560: LD_ADDR_VAR 0 5
32564: PUSH
32565: LD_VAR 0 5
32569: PUSH
32570: LD_VAR 0 3
32574: PUSH
32575: LD_VAR 0 9
32579: ARRAY
32580: PLUS
32581: ST_TO_ADDR
32582: GO 32557
32584: POP
32585: POP
// for i in Teams [ 2 ] do
32586: LD_ADDR_VAR 0 9
32590: PUSH
32591: LD_EXP 72
32595: PUSH
32596: LD_INT 2
32598: ARRAY
32599: PUSH
32600: FOR_IN
32601: IFFALSE 32627
// blue = blue + list [ i ] ;
32603: LD_ADDR_VAR 0 6
32607: PUSH
32608: LD_VAR 0 6
32612: PUSH
32613: LD_VAR 0 3
32617: PUSH
32618: LD_VAR 0 9
32622: ARRAY
32623: PLUS
32624: ST_TO_ADDR
32625: GO 32600
32627: POP
32628: POP
// for i in Teams [ 3 ] do
32629: LD_ADDR_VAR 0 9
32633: PUSH
32634: LD_EXP 72
32638: PUSH
32639: LD_INT 3
32641: ARRAY
32642: PUSH
32643: FOR_IN
32644: IFFALSE 32670
// yel = yel + list [ i ] ;
32646: LD_ADDR_VAR 0 7
32650: PUSH
32651: LD_VAR 0 7
32655: PUSH
32656: LD_VAR 0 3
32660: PUSH
32661: LD_VAR 0 9
32665: ARRAY
32666: PLUS
32667: ST_TO_ADDR
32668: GO 32643
32670: POP
32671: POP
// for i in Teams [ 4 ] do
32672: LD_ADDR_VAR 0 9
32676: PUSH
32677: LD_EXP 72
32681: PUSH
32682: LD_INT 4
32684: ARRAY
32685: PUSH
32686: FOR_IN
32687: IFFALSE 32713
// green = green + list [ i ] ;
32689: LD_ADDR_VAR 0 8
32693: PUSH
32694: LD_VAR 0 8
32698: PUSH
32699: LD_VAR 0 3
32703: PUSH
32704: LD_VAR 0 9
32708: ARRAY
32709: PLUS
32710: ST_TO_ADDR
32711: GO 32686
32713: POP
32714: POP
// teams_p = [ teams_p [ 1 ] + red , teams_p [ 2 ] + blue , teams_p [ 3 ] + yel , teams_p [ 4 ] + green ] ;
32715: LD_ADDR_LOC 32
32719: PUSH
32720: LD_LOC 32
32724: PUSH
32725: LD_INT 1
32727: ARRAY
32728: PUSH
32729: LD_VAR 0 5
32733: PLUS
32734: PUSH
32735: LD_LOC 32
32739: PUSH
32740: LD_INT 2
32742: ARRAY
32743: PUSH
32744: LD_VAR 0 6
32748: PLUS
32749: PUSH
32750: LD_LOC 32
32754: PUSH
32755: LD_INT 3
32757: ARRAY
32758: PUSH
32759: LD_VAR 0 7
32763: PLUS
32764: PUSH
32765: LD_LOC 32
32769: PUSH
32770: LD_INT 4
32772: ARRAY
32773: PUSH
32774: LD_VAR 0 8
32778: PLUS
32779: PUSH
32780: EMPTY
32781: LIST
32782: LIST
32783: LIST
32784: LIST
32785: ST_TO_ADDR
// end ; for i = 1 to list do
32786: LD_ADDR_VAR 0 9
32790: PUSH
32791: DOUBLE
32792: LD_INT 1
32794: DEC
32795: ST_TO_ADDR
32796: LD_VAR 0 3
32800: PUSH
32801: FOR_TO
32802: IFFALSE 32845
// SetTag ( i + 20 , getTag ( i + 20 ) + list [ i ] ) ;
32804: LD_VAR 0 9
32808: PUSH
32809: LD_INT 20
32811: PLUS
32812: PPUSH
32813: LD_VAR 0 9
32817: PUSH
32818: LD_INT 20
32820: PLUS
32821: PPUSH
32822: CALL_OW 110
32826: PUSH
32827: LD_VAR 0 3
32831: PUSH
32832: LD_VAR 0 9
32836: ARRAY
32837: PLUS
32838: PPUSH
32839: CALL_OW 109
32843: GO 32801
32845: POP
32846: POP
// end ; if WarForTerritory_points then
32847: LD_EXP 64
32851: IFFALSE 32925
// begin for i = 1 to side_positions do
32853: LD_ADDR_VAR 0 9
32857: PUSH
32858: DOUBLE
32859: LD_INT 1
32861: DEC
32862: ST_TO_ADDR
32863: LD_EXP 74
32867: PUSH
32868: FOR_TO
32869: IFFALSE 32921
// if Side_Positions [ i ] then
32871: LD_EXP 74
32875: PUSH
32876: LD_VAR 0 9
32880: ARRAY
32881: IFFALSE 32919
// SetSharedMultiScore ( i , GetTag ( i + 20 ) div ( 3 * WFT_points_MP ) , 3 ) ;
32883: LD_VAR 0 9
32887: PPUSH
32888: LD_VAR 0 9
32892: PUSH
32893: LD_INT 20
32895: PLUS
32896: PPUSH
32897: CALL_OW 110
32901: PUSH
32902: LD_INT 3
32904: PUSH
32905: LD_EXP 121
32909: MUL
32910: DIV
32911: PPUSH
32912: LD_INT 3
32914: PPUSH
32915: CALL 35319 0 3
32919: GO 32868
32921: POP
32922: POP
// end else
32923: GO 32989
// for i = 1 to side_positions do
32925: LD_ADDR_VAR 0 9
32929: PUSH
32930: DOUBLE
32931: LD_INT 1
32933: DEC
32934: ST_TO_ADDR
32935: LD_EXP 74
32939: PUSH
32940: FOR_TO
32941: IFFALSE 32987
// if Side_Positions [ i ] then
32943: LD_EXP 74
32947: PUSH
32948: LD_VAR 0 9
32952: ARRAY
32953: IFFALSE 32985
// SetSharedMultiScore ( i , GetTag ( i + 20 ) * 1000 , 3 ) ;
32955: LD_VAR 0 9
32959: PPUSH
32960: LD_VAR 0 9
32964: PUSH
32965: LD_INT 20
32967: PLUS
32968: PPUSH
32969: CALL_OW 110
32973: PUSH
32974: LD_INT 1000
32976: MUL
32977: PPUSH
32978: LD_INT 3
32980: PPUSH
32981: CALL 35319 0 3
32985: GO 32940
32987: POP
32988: POP
// show_points ;
32989: CALL 32998 0 0
// end ;
32993: LD_VAR 0 1
32997: RET
// function show_points ; var side , vypis , i , red , blue , yel , green , s ; begin
32998: LD_INT 0
33000: PPUSH
33001: PPUSH
33002: PPUSH
33003: PPUSH
33004: PPUSH
33005: PPUSH
33006: PPUSH
33007: PPUSH
33008: PPUSH
// vypis := [ ] ;
33009: LD_ADDR_VAR 0 3
33013: PUSH
33014: EMPTY
33015: ST_TO_ADDR
// red = 0 ;
33016: LD_ADDR_VAR 0 5
33020: PUSH
33021: LD_INT 0
33023: ST_TO_ADDR
// blue = 0 ;
33024: LD_ADDR_VAR 0 6
33028: PUSH
33029: LD_INT 0
33031: ST_TO_ADDR
// yel = 0 ;
33032: LD_ADDR_VAR 0 7
33036: PUSH
33037: LD_INT 0
33039: ST_TO_ADDR
// green = 0 ;
33040: LD_ADDR_VAR 0 8
33044: PUSH
33045: LD_INT 0
33047: ST_TO_ADDR
// if WarForTerritory_flags then
33048: LD_EXP 65
33052: IFFALSE 33714
// begin if def_public_score or isSGUI then
33054: LD_EXP 34
33058: PUSH
33059: LD_OWVAR 83
33063: OR
33064: IFFALSE 33468
// begin if not Team_Game then
33066: LD_EXP 79
33070: NOT
33071: IFFALSE 33213
// begin s = [ ] ;
33073: LD_ADDR_VAR 0 9
33077: PUSH
33078: EMPTY
33079: ST_TO_ADDR
// for side = 1 to Side_Positions do
33080: LD_ADDR_VAR 0 2
33084: PUSH
33085: DOUBLE
33086: LD_INT 1
33088: DEC
33089: ST_TO_ADDR
33090: LD_EXP 74
33094: PUSH
33095: FOR_TO
33096: IFFALSE 33197
// if Side_Positions [ side ] then
33098: LD_EXP 74
33102: PUSH
33103: LD_VAR 0 2
33107: ARRAY
33108: IFFALSE 33181
// begin vypis := vypis ^ [ #WarForTerritory-Flags-Public , side , side , teams_p [ side ] , WFT_Goal ] ;
33110: LD_ADDR_VAR 0 3
33114: PUSH
33115: LD_VAR 0 3
33119: PUSH
33120: LD_STRING #WarForTerritory-Flags-Public
33122: PUSH
33123: LD_VAR 0 2
33127: PUSH
33128: LD_VAR 0 2
33132: PUSH
33133: LD_LOC 32
33137: PUSH
33138: LD_VAR 0 2
33142: ARRAY
33143: PUSH
33144: LD_LOC 33
33148: PUSH
33149: EMPTY
33150: LIST
33151: LIST
33152: LIST
33153: LIST
33154: LIST
33155: ADD
33156: ST_TO_ADDR
// s = s ^ teams_p [ side ] ;
33157: LD_ADDR_VAR 0 9
33161: PUSH
33162: LD_VAR 0 9
33166: PUSH
33167: LD_LOC 32
33171: PUSH
33172: LD_VAR 0 2
33176: ARRAY
33177: ADD
33178: ST_TO_ADDR
// end else
33179: GO 33195
// s = s ^ 0 ;
33181: LD_ADDR_VAR 0 9
33185: PUSH
33186: LD_VAR 0 9
33190: PUSH
33191: LD_INT 0
33193: ADD
33194: ST_TO_ADDR
33195: GO 33095
33197: POP
33198: POP
// LScore_Update_Peices ( 3 , s ) ;
33199: LD_INT 3
33201: PPUSH
33202: LD_VAR 0 9
33206: PPUSH
33207: CALL 36940 0 2
// end else
33211: GO 33466
// begin if Teams [ 1 ] then
33213: LD_EXP 72
33217: PUSH
33218: LD_INT 1
33220: ARRAY
33221: IFFALSE 33260
// vypis := vypis ^ [ #WarForTerritory-Flags-Public-red , 3 , teams_p [ 1 ] , WFT_Goal ] ;
33223: LD_ADDR_VAR 0 3
33227: PUSH
33228: LD_VAR 0 3
33232: PUSH
33233: LD_STRING #WarForTerritory-Flags-Public-red
33235: PUSH
33236: LD_INT 3
33238: PUSH
33239: LD_LOC 32
33243: PUSH
33244: LD_INT 1
33246: ARRAY
33247: PUSH
33248: LD_LOC 33
33252: PUSH
33253: EMPTY
33254: LIST
33255: LIST
33256: LIST
33257: LIST
33258: ADD
33259: ST_TO_ADDR
// if Teams [ 2 ] then
33260: LD_EXP 72
33264: PUSH
33265: LD_INT 2
33267: ARRAY
33268: IFFALSE 33307
// vypis := vypis ^ [ #WarForTerritory-Flags-Public-blue , 1 , teams_p [ 2 ] , WFT_Goal ] ;
33270: LD_ADDR_VAR 0 3
33274: PUSH
33275: LD_VAR 0 3
33279: PUSH
33280: LD_STRING #WarForTerritory-Flags-Public-blue
33282: PUSH
33283: LD_INT 1
33285: PUSH
33286: LD_LOC 32
33290: PUSH
33291: LD_INT 2
33293: ARRAY
33294: PUSH
33295: LD_LOC 33
33299: PUSH
33300: EMPTY
33301: LIST
33302: LIST
33303: LIST
33304: LIST
33305: ADD
33306: ST_TO_ADDR
// if Teams [ 3 ] then
33307: LD_EXP 72
33311: PUSH
33312: LD_INT 3
33314: ARRAY
33315: IFFALSE 33354
// vypis := vypis ^ [ #WarForTerritory-Flags-Public-yell , 2 , teams_p [ 3 ] , WFT_Goal ] ;
33317: LD_ADDR_VAR 0 3
33321: PUSH
33322: LD_VAR 0 3
33326: PUSH
33327: LD_STRING #WarForTerritory-Flags-Public-yell
33329: PUSH
33330: LD_INT 2
33332: PUSH
33333: LD_LOC 32
33337: PUSH
33338: LD_INT 3
33340: ARRAY
33341: PUSH
33342: LD_LOC 33
33346: PUSH
33347: EMPTY
33348: LIST
33349: LIST
33350: LIST
33351: LIST
33352: ADD
33353: ST_TO_ADDR
// if Teams [ 4 ] then
33354: LD_EXP 72
33358: PUSH
33359: LD_INT 4
33361: ARRAY
33362: IFFALSE 33401
// vypis := vypis ^ [ #WarForTerritory-Flags-Public-green , 7 , teams_p [ 4 ] , WFT_Goal ] ;
33364: LD_ADDR_VAR 0 3
33368: PUSH
33369: LD_VAR 0 3
33373: PUSH
33374: LD_STRING #WarForTerritory-Flags-Public-green
33376: PUSH
33377: LD_INT 7
33379: PUSH
33380: LD_LOC 32
33384: PUSH
33385: LD_INT 4
33387: ARRAY
33388: PUSH
33389: LD_LOC 33
33393: PUSH
33394: EMPTY
33395: LIST
33396: LIST
33397: LIST
33398: LIST
33399: ADD
33400: ST_TO_ADDR
// LScore_Update_Peices ( 3 , [ teams_p [ 2 ] , teams_p [ 3 ] , teams_p [ 1 ] , 0 , 0 , 0 , teams_p [ 4 ] , 0 ] ) ;
33401: LD_INT 3
33403: PPUSH
33404: LD_LOC 32
33408: PUSH
33409: LD_INT 2
33411: ARRAY
33412: PUSH
33413: LD_LOC 32
33417: PUSH
33418: LD_INT 3
33420: ARRAY
33421: PUSH
33422: LD_LOC 32
33426: PUSH
33427: LD_INT 1
33429: ARRAY
33430: PUSH
33431: LD_INT 0
33433: PUSH
33434: LD_INT 0
33436: PUSH
33437: LD_INT 0
33439: PUSH
33440: LD_LOC 32
33444: PUSH
33445: LD_INT 4
33447: ARRAY
33448: PUSH
33449: LD_INT 0
33451: PUSH
33452: EMPTY
33453: LIST
33454: LIST
33455: LIST
33456: LIST
33457: LIST
33458: LIST
33459: LIST
33460: LIST
33461: PPUSH
33462: CALL 36940 0 2
// end ; end else
33466: GO 33712
// begin if not Team_Game then
33468: LD_EXP 79
33472: NOT
33473: IFFALSE 33524
// begin vypis := vypis ^ [ #WarForTerritory-Flags-Private , mp_player_side , mp_player_side , teams_p [ side ] , WFT_Goal ] ;
33475: LD_ADDR_VAR 0 3
33479: PUSH
33480: LD_VAR 0 3
33484: PUSH
33485: LD_STRING #WarForTerritory-Flags-Private
33487: PUSH
33488: LD_OWVAR 7
33492: PUSH
33493: LD_OWVAR 7
33497: PUSH
33498: LD_LOC 32
33502: PUSH
33503: LD_VAR 0 2
33507: ARRAY
33508: PUSH
33509: LD_LOC 33
33513: PUSH
33514: EMPTY
33515: LIST
33516: LIST
33517: LIST
33518: LIST
33519: LIST
33520: ADD
33521: ST_TO_ADDR
// end else
33522: GO 33712
// begin if mp_player_side in Teams [ 1 ] then
33524: LD_OWVAR 7
33528: PUSH
33529: LD_EXP 72
33533: PUSH
33534: LD_INT 1
33536: ARRAY
33537: IN
33538: IFFALSE 33571
// vypis := [ #WarForTerritory-points-Flags-red , 3 , teams_p [ 1 ] , WFT_Goal ] ;
33540: LD_ADDR_VAR 0 3
33544: PUSH
33545: LD_STRING #WarForTerritory-points-Flags-red
33547: PUSH
33548: LD_INT 3
33550: PUSH
33551: LD_LOC 32
33555: PUSH
33556: LD_INT 1
33558: ARRAY
33559: PUSH
33560: LD_LOC 33
33564: PUSH
33565: EMPTY
33566: LIST
33567: LIST
33568: LIST
33569: LIST
33570: ST_TO_ADDR
// if mp_player_side in Teams [ 2 ] then
33571: LD_OWVAR 7
33575: PUSH
33576: LD_EXP 72
33580: PUSH
33581: LD_INT 2
33583: ARRAY
33584: IN
33585: IFFALSE 33618
// vypis := [ #WarForTerritory-points-Flags-blue , 1 , teams_p [ 2 ] , WFT_Goal ] ;
33587: LD_ADDR_VAR 0 3
33591: PUSH
33592: LD_STRING #WarForTerritory-points-Flags-blue
33594: PUSH
33595: LD_INT 1
33597: PUSH
33598: LD_LOC 32
33602: PUSH
33603: LD_INT 2
33605: ARRAY
33606: PUSH
33607: LD_LOC 33
33611: PUSH
33612: EMPTY
33613: LIST
33614: LIST
33615: LIST
33616: LIST
33617: ST_TO_ADDR
// if mp_player_side in Teams [ 3 ] then
33618: LD_OWVAR 7
33622: PUSH
33623: LD_EXP 72
33627: PUSH
33628: LD_INT 3
33630: ARRAY
33631: IN
33632: IFFALSE 33665
// vypis := [ #WarForTerritory-points-Flags-yell , 2 , teams_p [ 3 ] , WFT_Goal ] ;
33634: LD_ADDR_VAR 0 3
33638: PUSH
33639: LD_STRING #WarForTerritory-points-Flags-yell
33641: PUSH
33642: LD_INT 2
33644: PUSH
33645: LD_LOC 32
33649: PUSH
33650: LD_INT 3
33652: ARRAY
33653: PUSH
33654: LD_LOC 33
33658: PUSH
33659: EMPTY
33660: LIST
33661: LIST
33662: LIST
33663: LIST
33664: ST_TO_ADDR
// if mp_player_side in Teams [ 4 ] then
33665: LD_OWVAR 7
33669: PUSH
33670: LD_EXP 72
33674: PUSH
33675: LD_INT 4
33677: ARRAY
33678: IN
33679: IFFALSE 33712
// vypis := [ #WarForTerritory-points-Flags-green , 7 , teams_p [ 4 ] , WFT_Goal ] ;
33681: LD_ADDR_VAR 0 3
33685: PUSH
33686: LD_STRING #WarForTerritory-points-Flags-green
33688: PUSH
33689: LD_INT 7
33691: PUSH
33692: LD_LOC 32
33696: PUSH
33697: LD_INT 4
33699: ARRAY
33700: PUSH
33701: LD_LOC 33
33705: PUSH
33706: EMPTY
33707: LIST
33708: LIST
33709: LIST
33710: LIST
33711: ST_TO_ADDR
// end ; end ; end else
33712: GO 34465
// if def_public_score or isSGUI then
33714: LD_EXP 34
33718: PUSH
33719: LD_OWVAR 83
33723: OR
33724: IFFALSE 34171
// begin if not Team_Game then
33726: LD_EXP 79
33730: NOT
33731: IFFALSE 33859
// begin for side = 1 to Side_Positions do
33733: LD_ADDR_VAR 0 2
33737: PUSH
33738: DOUBLE
33739: LD_INT 1
33741: DEC
33742: ST_TO_ADDR
33743: LD_EXP 74
33747: PUSH
33748: FOR_TO
33749: IFFALSE 33855
// if Side_Positions [ side ] then
33751: LD_EXP 74
33755: PUSH
33756: LD_VAR 0 2
33760: ARRAY
33761: IFFALSE 33853
// begin vypis := vypis ^ [ #WarForTerritory-points-Public , side , side , teams_p [ side ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
33763: LD_ADDR_VAR 0 3
33767: PUSH
33768: LD_VAR 0 3
33772: PUSH
33773: LD_STRING #WarForTerritory-points-Public
33775: PUSH
33776: LD_VAR 0 2
33780: PUSH
33781: LD_VAR 0 2
33785: PUSH
33786: LD_LOC 32
33790: PUSH
33791: LD_VAR 0 2
33795: ARRAY
33796: PUSH
33797: LD_INT 3
33799: PUSH
33800: LD_EXP 121
33804: MUL
33805: DIV
33806: PUSH
33807: LD_LOC 33
33811: PUSH
33812: EMPTY
33813: LIST
33814: LIST
33815: LIST
33816: LIST
33817: LIST
33818: ADD
33819: ST_TO_ADDR
// LScore_Update_Points ( 3 , side , ( teams_p [ side ] div ( 3 * WFT_Points_MP ) ) ) ;
33820: LD_INT 3
33822: PPUSH
33823: LD_VAR 0 2
33827: PPUSH
33828: LD_LOC 32
33832: PUSH
33833: LD_VAR 0 2
33837: ARRAY
33838: PUSH
33839: LD_INT 3
33841: PUSH
33842: LD_EXP 121
33846: MUL
33847: DIV
33848: PPUSH
33849: CALL 36768 0 3
// end ;
33853: GO 33748
33855: POP
33856: POP
// end else
33857: GO 34169
// begin if Teams [ 1 ] then
33859: LD_EXP 72
33863: PUSH
33864: LD_INT 1
33866: ARRAY
33867: IFFALSE 33916
// vypis := vypis ^ [ #WarForTerritory-points-Public-red , 3 , teams_p [ 1 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
33869: LD_ADDR_VAR 0 3
33873: PUSH
33874: LD_VAR 0 3
33878: PUSH
33879: LD_STRING #WarForTerritory-points-Public-red
33881: PUSH
33882: LD_INT 3
33884: PUSH
33885: LD_LOC 32
33889: PUSH
33890: LD_INT 1
33892: ARRAY
33893: PUSH
33894: LD_INT 3
33896: PUSH
33897: LD_EXP 121
33901: MUL
33902: DIV
33903: PUSH
33904: LD_LOC 33
33908: PUSH
33909: EMPTY
33910: LIST
33911: LIST
33912: LIST
33913: LIST
33914: ADD
33915: ST_TO_ADDR
// if Teams [ 2 ] then
33916: LD_EXP 72
33920: PUSH
33921: LD_INT 2
33923: ARRAY
33924: IFFALSE 33973
// vypis := vypis ^ [ #WarForTerritory-points-Public-blue , 1 , teams_p [ 2 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
33926: LD_ADDR_VAR 0 3
33930: PUSH
33931: LD_VAR 0 3
33935: PUSH
33936: LD_STRING #WarForTerritory-points-Public-blue
33938: PUSH
33939: LD_INT 1
33941: PUSH
33942: LD_LOC 32
33946: PUSH
33947: LD_INT 2
33949: ARRAY
33950: PUSH
33951: LD_INT 3
33953: PUSH
33954: LD_EXP 121
33958: MUL
33959: DIV
33960: PUSH
33961: LD_LOC 33
33965: PUSH
33966: EMPTY
33967: LIST
33968: LIST
33969: LIST
33970: LIST
33971: ADD
33972: ST_TO_ADDR
// if Teams [ 3 ] then
33973: LD_EXP 72
33977: PUSH
33978: LD_INT 3
33980: ARRAY
33981: IFFALSE 34030
// vypis := vypis ^ [ #WarForTerritory-points-Public-yell , 2 , teams_p [ 3 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
33983: LD_ADDR_VAR 0 3
33987: PUSH
33988: LD_VAR 0 3
33992: PUSH
33993: LD_STRING #WarForTerritory-points-Public-yell
33995: PUSH
33996: LD_INT 2
33998: PUSH
33999: LD_LOC 32
34003: PUSH
34004: LD_INT 3
34006: ARRAY
34007: PUSH
34008: LD_INT 3
34010: PUSH
34011: LD_EXP 121
34015: MUL
34016: DIV
34017: PUSH
34018: LD_LOC 33
34022: PUSH
34023: EMPTY
34024: LIST
34025: LIST
34026: LIST
34027: LIST
34028: ADD
34029: ST_TO_ADDR
// if Teams [ 4 ] then
34030: LD_EXP 72
34034: PUSH
34035: LD_INT 4
34037: ARRAY
34038: IFFALSE 34087
// vypis := vypis ^ [ #WarForTerritory-points-Public-green , 7 , teams_p [ 4 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
34040: LD_ADDR_VAR 0 3
34044: PUSH
34045: LD_VAR 0 3
34049: PUSH
34050: LD_STRING #WarForTerritory-points-Public-green
34052: PUSH
34053: LD_INT 7
34055: PUSH
34056: LD_LOC 32
34060: PUSH
34061: LD_INT 4
34063: ARRAY
34064: PUSH
34065: LD_INT 3
34067: PUSH
34068: LD_EXP 121
34072: MUL
34073: DIV
34074: PUSH
34075: LD_LOC 33
34079: PUSH
34080: EMPTY
34081: LIST
34082: LIST
34083: LIST
34084: LIST
34085: ADD
34086: ST_TO_ADDR
// s = [ 3 , 1 , 2 , 7 ] ;
34087: LD_ADDR_VAR 0 9
34091: PUSH
34092: LD_INT 3
34094: PUSH
34095: LD_INT 1
34097: PUSH
34098: LD_INT 2
34100: PUSH
34101: LD_INT 7
34103: PUSH
34104: EMPTY
34105: LIST
34106: LIST
34107: LIST
34108: LIST
34109: ST_TO_ADDR
// for i = 1 to 4 do
34110: LD_ADDR_VAR 0 4
34114: PUSH
34115: DOUBLE
34116: LD_INT 1
34118: DEC
34119: ST_TO_ADDR
34120: LD_INT 4
34122: PUSH
34123: FOR_TO
34124: IFFALSE 34167
// LScore_Update_Points ( 3 , s [ i ] , ( teams_p [ i ] div ( 3 * WFT_Points_MP ) ) ) ;
34126: LD_INT 3
34128: PPUSH
34129: LD_VAR 0 9
34133: PUSH
34134: LD_VAR 0 4
34138: ARRAY
34139: PPUSH
34140: LD_LOC 32
34144: PUSH
34145: LD_VAR 0 4
34149: ARRAY
34150: PUSH
34151: LD_INT 3
34153: PUSH
34154: LD_EXP 121
34158: MUL
34159: DIV
34160: PPUSH
34161: CALL 36768 0 3
34165: GO 34123
34167: POP
34168: POP
// end ; end else
34169: GO 34465
// if not Team_Game then
34171: LD_EXP 79
34175: NOT
34176: IFFALSE 34237
// begin vypis := vypis ^ [ #WarForTerritory-points-Private , mp_player_side , mp_player_side , teams_p [ side ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] end else
34178: LD_ADDR_VAR 0 3
34182: PUSH
34183: LD_VAR 0 3
34187: PUSH
34188: LD_STRING #WarForTerritory-points-Private
34190: PUSH
34191: LD_OWVAR 7
34195: PUSH
34196: LD_OWVAR 7
34200: PUSH
34201: LD_LOC 32
34205: PUSH
34206: LD_VAR 0 2
34210: ARRAY
34211: PUSH
34212: LD_INT 3
34214: PUSH
34215: LD_EXP 121
34219: MUL
34220: DIV
34221: PUSH
34222: LD_LOC 33
34226: PUSH
34227: EMPTY
34228: LIST
34229: LIST
34230: LIST
34231: LIST
34232: LIST
34233: ADD
34234: ST_TO_ADDR
34235: GO 34465
// begin if mp_player_side in Teams [ 1 ] then
34237: LD_OWVAR 7
34241: PUSH
34242: LD_EXP 72
34246: PUSH
34247: LD_INT 1
34249: ARRAY
34250: IN
34251: IFFALSE 34294
// vypis := [ #WarForTerritory-points-Public-red , 3 , teams_p [ 1 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
34253: LD_ADDR_VAR 0 3
34257: PUSH
34258: LD_STRING #WarForTerritory-points-Public-red
34260: PUSH
34261: LD_INT 3
34263: PUSH
34264: LD_LOC 32
34268: PUSH
34269: LD_INT 1
34271: ARRAY
34272: PUSH
34273: LD_INT 3
34275: PUSH
34276: LD_EXP 121
34280: MUL
34281: DIV
34282: PUSH
34283: LD_LOC 33
34287: PUSH
34288: EMPTY
34289: LIST
34290: LIST
34291: LIST
34292: LIST
34293: ST_TO_ADDR
// if mp_player_side in Teams [ 2 ] then
34294: LD_OWVAR 7
34298: PUSH
34299: LD_EXP 72
34303: PUSH
34304: LD_INT 2
34306: ARRAY
34307: IN
34308: IFFALSE 34351
// vypis := [ #WarForTerritory-points-Public-blue , 1 , teams_p [ 2 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
34310: LD_ADDR_VAR 0 3
34314: PUSH
34315: LD_STRING #WarForTerritory-points-Public-blue
34317: PUSH
34318: LD_INT 1
34320: PUSH
34321: LD_LOC 32
34325: PUSH
34326: LD_INT 2
34328: ARRAY
34329: PUSH
34330: LD_INT 3
34332: PUSH
34333: LD_EXP 121
34337: MUL
34338: DIV
34339: PUSH
34340: LD_LOC 33
34344: PUSH
34345: EMPTY
34346: LIST
34347: LIST
34348: LIST
34349: LIST
34350: ST_TO_ADDR
// if mp_player_side in Teams [ 3 ] then
34351: LD_OWVAR 7
34355: PUSH
34356: LD_EXP 72
34360: PUSH
34361: LD_INT 3
34363: ARRAY
34364: IN
34365: IFFALSE 34408
// vypis := [ #WarForTerritory-points-Public-yell , 2 , teams_p [ 3 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
34367: LD_ADDR_VAR 0 3
34371: PUSH
34372: LD_STRING #WarForTerritory-points-Public-yell
34374: PUSH
34375: LD_INT 2
34377: PUSH
34378: LD_LOC 32
34382: PUSH
34383: LD_INT 3
34385: ARRAY
34386: PUSH
34387: LD_INT 3
34389: PUSH
34390: LD_EXP 121
34394: MUL
34395: DIV
34396: PUSH
34397: LD_LOC 33
34401: PUSH
34402: EMPTY
34403: LIST
34404: LIST
34405: LIST
34406: LIST
34407: ST_TO_ADDR
// if mp_player_side in Teams [ 4 ] then
34408: LD_OWVAR 7
34412: PUSH
34413: LD_EXP 72
34417: PUSH
34418: LD_INT 4
34420: ARRAY
34421: IN
34422: IFFALSE 34465
// vypis := [ #WarForTerritory-points-Public-green , 7 , teams_p [ 4 ] div ( 3 * WFT_Points_MP ) , WFT_Goal ] ;
34424: LD_ADDR_VAR 0 3
34428: PUSH
34429: LD_STRING #WarForTerritory-points-Public-green
34431: PUSH
34432: LD_INT 7
34434: PUSH
34435: LD_LOC 32
34439: PUSH
34440: LD_INT 4
34442: ARRAY
34443: PUSH
34444: LD_INT 3
34446: PUSH
34447: LD_EXP 121
34451: MUL
34452: DIV
34453: PUSH
34454: LD_LOC 33
34458: PUSH
34459: EMPTY
34460: LIST
34461: LIST
34462: LIST
34463: LIST
34464: ST_TO_ADDR
// end ; Display_WFG := vypis ;
34465: LD_ADDR_EXP 112
34469: PUSH
34470: LD_VAR 0 3
34474: ST_TO_ADDR
// end ; end_of_file
34475: LD_VAR 0 1
34479: RET
// export function SA_OnSiberiteRocketExploded ( siberite_rocket_vehicle , target_x , target_y , requestSide ) ; begin
34480: LD_INT 0
34482: PPUSH
// if GetSide ( siberite_rocket_vehicle ) = requestSide then
34483: LD_VAR 0 1
34487: PPUSH
34488: CALL_OW 255
34492: PUSH
34493: LD_VAR 0 4
34497: EQUAL
34498: IFFALSE 34517
// begin SetAchievement ( ACH_RAD ) ;
34500: LD_STRING ACH_RAD
34502: PPUSH
34503: CALL_OW 543
// SetAchievementEx ( ACH_NL , 1 ) ;
34507: LD_STRING ACH_NL
34509: PPUSH
34510: LD_INT 1
34512: PPUSH
34513: CALL_OW 564
// end end ;
34517: LD_VAR 0 5
34521: RET
// export function SA_Win ( side ) ; begin
34522: LD_INT 0
34524: PPUSH
// case side of 1 :
34525: LD_VAR 0 1
34529: PUSH
34530: LD_INT 1
34532: DOUBLE
34533: EQUAL
34534: IFTRUE 34538
34536: GO 34551
34538: POP
// SetAchievementEx ( ACH_AH , 1 ) ; 2 :
34539: LD_STRING ACH_AH
34541: PPUSH
34542: LD_INT 1
34544: PPUSH
34545: CALL_OW 564
34549: GO 34714
34551: LD_INT 2
34553: DOUBLE
34554: EQUAL
34555: IFTRUE 34559
34557: GO 34572
34559: POP
// SetAchievementEx ( ACH_E , 1 ) ; 3 :
34560: LD_STRING ACH_E
34562: PPUSH
34563: LD_INT 1
34565: PPUSH
34566: CALL_OW 564
34570: GO 34714
34572: LD_INT 3
34574: DOUBLE
34575: EQUAL
34576: IFTRUE 34580
34578: GO 34593
34580: POP
// SetAchievementEx ( ACH_OOL , 1 ) ; [ 1 , 2 ] :
34581: LD_STRING ACH_OOL
34583: PPUSH
34584: LD_INT 1
34586: PPUSH
34587: CALL_OW 564
34591: GO 34714
34593: LD_INT 1
34595: PUSH
34596: LD_INT 2
34598: PUSH
34599: EMPTY
34600: LIST
34601: LIST
34602: DOUBLE
34603: EQUAL
34604: IFTRUE 34608
34606: GO 34633
34608: POP
// begin SetAchievementEx ( ACH_AH , 0.5 ) ;
34609: LD_STRING ACH_AH
34611: PPUSH
34612: LD_REAL  5.00000000000000E-0001
34615: PPUSH
34616: CALL_OW 564
// SetAchievementEx ( ACH_E , 0.5 ) ;
34620: LD_STRING ACH_E
34622: PPUSH
34623: LD_REAL  5.00000000000000E-0001
34626: PPUSH
34627: CALL_OW 564
// end ; [ 2 , 3 ] :
34631: GO 34714
34633: LD_INT 2
34635: PUSH
34636: LD_INT 3
34638: PUSH
34639: EMPTY
34640: LIST
34641: LIST
34642: DOUBLE
34643: EQUAL
34644: IFTRUE 34648
34646: GO 34673
34648: POP
// begin SetAchievementEx ( ACH_OOL , 0.5 ) ;
34649: LD_STRING ACH_OOL
34651: PPUSH
34652: LD_REAL  5.00000000000000E-0001
34655: PPUSH
34656: CALL_OW 564
// SetAchievementEx ( ACH_E , 0.5 ) ;
34660: LD_STRING ACH_E
34662: PPUSH
34663: LD_REAL  5.00000000000000E-0001
34666: PPUSH
34667: CALL_OW 564
// end ; [ 3 , 1 ] :
34671: GO 34714
34673: LD_INT 3
34675: PUSH
34676: LD_INT 1
34678: PUSH
34679: EMPTY
34680: LIST
34681: LIST
34682: DOUBLE
34683: EQUAL
34684: IFTRUE 34688
34686: GO 34713
34688: POP
// begin SetAchievementEx ( ACH_AH , 0.5 ) ;
34689: LD_STRING ACH_AH
34691: PPUSH
34692: LD_REAL  5.00000000000000E-0001
34695: PPUSH
34696: CALL_OW 564
// SetAchievementEx ( ACH_OOL , 0.5 ) ;
34700: LD_STRING ACH_OOL
34702: PPUSH
34703: LD_REAL  5.00000000000000E-0001
34706: PPUSH
34707: CALL_OW 564
// end ; end ;
34711: GO 34714
34713: POP
// end ; end_of_file
34714: LD_VAR 0 2
34718: RET
// var sharedPoints1 , sharedPoints2 , sharedPoints3 ; var pointGame ; export function InitPoints ( ) ; var i , d ; begin
34719: LD_INT 0
34721: PPUSH
34722: PPUSH
34723: PPUSH
// sharedPoints1 = [ ] ;
34724: LD_ADDR_LOC 36
34728: PUSH
34729: EMPTY
34730: ST_TO_ADDR
// sharedPoints2 = [ ] ;
34731: LD_ADDR_LOC 37
34735: PUSH
34736: EMPTY
34737: ST_TO_ADDR
// sharedPoints3 = [ ] ;
34738: LD_ADDR_LOC 38
34742: PUSH
34743: EMPTY
34744: ST_TO_ADDR
// for i = 1 to Side_Positions + 0 do
34745: LD_ADDR_VAR 0 2
34749: PUSH
34750: DOUBLE
34751: LD_INT 1
34753: DEC
34754: ST_TO_ADDR
34755: LD_EXP 74
34759: PUSH
34760: LD_INT 0
34762: PLUS
34763: PUSH
34764: FOR_TO
34765: IFFALSE 34867
// begin if not Side_Positions [ i ] = 0 then
34767: LD_EXP 74
34771: PUSH
34772: LD_VAR 0 2
34776: ARRAY
34777: PUSH
34778: LD_INT 0
34780: EQUAL
34781: NOT
34782: IFFALSE 34796
// SetMultiScore ( i , 0 ) ;
34784: LD_VAR 0 2
34788: PPUSH
34789: LD_INT 0
34791: PPUSH
34792: CALL_OW 506
// sharedPoints1 = Replace ( sharedPoints1 , i , 0 ) ;
34796: LD_ADDR_LOC 36
34800: PUSH
34801: LD_LOC 36
34805: PPUSH
34806: LD_VAR 0 2
34810: PPUSH
34811: LD_INT 0
34813: PPUSH
34814: CALL_OW 1
34818: ST_TO_ADDR
// sharedPoints2 = Replace ( sharedPoints2 , i , 0 ) ;
34819: LD_ADDR_LOC 37
34823: PUSH
34824: LD_LOC 37
34828: PPUSH
34829: LD_VAR 0 2
34833: PPUSH
34834: LD_INT 0
34836: PPUSH
34837: CALL_OW 1
34841: ST_TO_ADDR
// sharedPoints3 = Replace ( sharedPoints3 , i , 0 ) ;
34842: LD_ADDR_LOC 38
34846: PUSH
34847: LD_LOC 38
34851: PPUSH
34852: LD_VAR 0 2
34856: PPUSH
34857: LD_INT 0
34859: PPUSH
34860: CALL_OW 1
34864: ST_TO_ADDR
// end ;
34865: GO 34764
34867: POP
34868: POP
// pointGame = true ;
34869: LD_ADDR_LOC 39
34873: PUSH
34874: LD_INT 1
34876: ST_TO_ADDR
// end ;
34877: LD_VAR 0 1
34881: RET
// every 0 0$1 trigger pointGame do var i , red , blue , yel , green , redN , blueN , yelN , greenN , s , n , p , you ;
34882: LD_LOC 39
34886: IFFALSE 35316
34888: GO 34890
34890: DISABLE
34891: LD_INT 0
34893: PPUSH
34894: PPUSH
34895: PPUSH
34896: PPUSH
34897: PPUSH
34898: PPUSH
34899: PPUSH
34900: PPUSH
34901: PPUSH
34902: PPUSH
34903: PPUSH
34904: PPUSH
34905: PPUSH
// begin if isSGUI then
34906: LD_OWVAR 83
34910: IFFALSE 35316
// begin if Teams [ 1 ] then
34912: LD_EXP 72
34916: PUSH
34917: LD_INT 1
34919: ARRAY
34920: IFFALSE 34932
// red = true else
34922: LD_ADDR_VAR 0 2
34926: PUSH
34927: LD_INT 1
34929: ST_TO_ADDR
34930: GO 34940
// red = false ;
34932: LD_ADDR_VAR 0 2
34936: PUSH
34937: LD_INT 0
34939: ST_TO_ADDR
// if Teams [ 2 ] then
34940: LD_EXP 72
34944: PUSH
34945: LD_INT 2
34947: ARRAY
34948: IFFALSE 34960
// blue = true else
34950: LD_ADDR_VAR 0 3
34954: PUSH
34955: LD_INT 1
34957: ST_TO_ADDR
34958: GO 34968
// blue = false ;
34960: LD_ADDR_VAR 0 3
34964: PUSH
34965: LD_INT 0
34967: ST_TO_ADDR
// if Teams [ 3 ] then
34968: LD_EXP 72
34972: PUSH
34973: LD_INT 3
34975: ARRAY
34976: IFFALSE 34988
// yel = true else
34978: LD_ADDR_VAR 0 4
34982: PUSH
34983: LD_INT 1
34985: ST_TO_ADDR
34986: GO 34996
// yel = false ;
34988: LD_ADDR_VAR 0 4
34992: PUSH
34993: LD_INT 0
34995: ST_TO_ADDR
// if Teams [ 4 ] then
34996: LD_EXP 72
35000: PUSH
35001: LD_INT 4
35003: ARRAY
35004: IFFALSE 35016
// green = true else
35006: LD_ADDR_VAR 0 5
35010: PUSH
35011: LD_INT 1
35013: ST_TO_ADDR
35014: GO 35024
// green = false ;
35016: LD_ADDR_VAR 0 5
35020: PUSH
35021: LD_INT 0
35023: ST_TO_ADDR
// if def_public_score then
35024: LD_EXP 34
35028: IFFALSE 35040
// p = true else
35030: LD_ADDR_VAR 0 12
35034: PUSH
35035: LD_INT 1
35037: ST_TO_ADDR
35038: GO 35048
// p = false ;
35040: LD_ADDR_VAR 0 12
35044: PUSH
35045: LD_INT 0
35047: ST_TO_ADDR
// if team_game then
35048: LD_EXP 79
35052: IFFALSE 35132
// begin you = [ 3 , 1 , 2 , 7 ] [ player_team ] ;
35054: LD_ADDR_VAR 0 13
35058: PUSH
35059: LD_INT 3
35061: PUSH
35062: LD_INT 1
35064: PUSH
35065: LD_INT 2
35067: PUSH
35068: LD_INT 7
35070: PUSH
35071: EMPTY
35072: LIST
35073: LIST
35074: LIST
35075: LIST
35076: PUSH
35077: LD_EXP 70
35081: ARRAY
35082: ST_TO_ADDR
// s = [ blue , yel , red , false , false , false , green , false ] ;
35083: LD_ADDR_VAR 0 10
35087: PUSH
35088: LD_VAR 0 3
35092: PUSH
35093: LD_VAR 0 4
35097: PUSH
35098: LD_VAR 0 2
35102: PUSH
35103: LD_INT 0
35105: PUSH
35106: LD_INT 0
35108: PUSH
35109: LD_INT 0
35111: PUSH
35112: LD_VAR 0 5
35116: PUSH
35117: LD_INT 0
35119: PUSH
35120: EMPTY
35121: LIST
35122: LIST
35123: LIST
35124: LIST
35125: LIST
35126: LIST
35127: LIST
35128: LIST
35129: ST_TO_ADDR
// end else
35130: GO 35217
// begin you = your_side ;
35132: LD_ADDR_VAR 0 13
35136: PUSH
35137: LD_OWVAR 2
35141: ST_TO_ADDR
// s = [ ] ;
35142: LD_ADDR_VAR 0 10
35146: PUSH
35147: EMPTY
35148: ST_TO_ADDR
// for i = 1 to side_positions + 0 do
35149: LD_ADDR_VAR 0 1
35153: PUSH
35154: DOUBLE
35155: LD_INT 1
35157: DEC
35158: ST_TO_ADDR
35159: LD_EXP 74
35163: PUSH
35164: LD_INT 0
35166: PLUS
35167: PUSH
35168: FOR_TO
35169: IFFALSE 35215
// if side_positions [ i ] then
35171: LD_EXP 74
35175: PUSH
35176: LD_VAR 0 1
35180: ARRAY
35181: IFFALSE 35199
// s = s ^ true else
35183: LD_ADDR_VAR 0 10
35187: PUSH
35188: LD_VAR 0 10
35192: PUSH
35193: LD_INT 1
35195: ADD
35196: ST_TO_ADDR
35197: GO 35213
// s = s ^ false ;
35199: LD_ADDR_VAR 0 10
35203: PUSH
35204: LD_VAR 0 10
35208: PUSH
35209: LD_INT 0
35211: ADD
35212: ST_TO_ADDR
35213: GO 35168
35215: POP
35216: POP
// end ; LScore_Init ( s , p , you ) ;
35217: LD_VAR 0 10
35221: PPUSH
35222: LD_VAR 0 12
35226: PPUSH
35227: LD_VAR 0 13
35231: PPUSH
35232: CALL 35496 0 3
// if def_warForTerritory and WarForTerritory_flags then
35236: LD_EXP 36
35240: PUSH
35241: LD_EXP 65
35245: AND
35246: IFFALSE 35268
// LScore_Add_Pieces ( 3 , 3 , WarForTerritory_flags , MaxFlags ) ;
35248: LD_INT 3
35250: PPUSH
35251: LD_INT 3
35253: PPUSH
35254: LD_EXP 65
35258: PPUSH
35259: LD_EXP 113
35263: PPUSH
35264: CALL 36885 0 4
// if def_warForTerritory and WarForTerritory_Points then
35268: LD_EXP 36
35272: PUSH
35273: LD_EXP 64
35277: AND
35278: IFFALSE 35295
// LScore_Add_Points ( 3 , 3 , WarForTerritory_Points ) ;
35280: LD_INT 3
35282: PPUSH
35283: LD_INT 3
35285: PPUSH
35286: LD_EXP 64
35290: PPUSH
35291: CALL 36723 0 3
// if def_kings_age then
35295: LD_EXP 35
35299: IFFALSE 35316
// LScore_Add_Points ( 2 , 2 , final_count ) ;
35301: LD_INT 2
35303: PPUSH
35304: LD_INT 2
35306: PPUSH
35307: LD_EXP 57
35311: PPUSH
35312: CALL 36723 0 3
// end ; end ;
35316: PPOPN 13
35318: END
// export function SetSharedMultiScore ( side , points , typ ) ; var p ; begin
35319: LD_INT 0
35321: PPUSH
35322: PPUSH
// case typ of 1 :
35323: LD_VAR 0 3
35327: PUSH
35328: LD_INT 1
35330: DOUBLE
35331: EQUAL
35332: IFTRUE 35336
35334: GO 35364
35336: POP
// sharedPoints1 = Replace ( sharedPoints1 , side , points ) ; 2 :
35337: LD_ADDR_LOC 36
35341: PUSH
35342: LD_LOC 36
35346: PPUSH
35347: LD_VAR 0 1
35351: PPUSH
35352: LD_VAR 0 2
35356: PPUSH
35357: CALL_OW 1
35361: ST_TO_ADDR
35362: GO 35437
35364: LD_INT 2
35366: DOUBLE
35367: EQUAL
35368: IFTRUE 35372
35370: GO 35400
35372: POP
// sharedPoints2 = Replace ( sharedPoints2 , side , points ) ; 3 :
35373: LD_ADDR_LOC 37
35377: PUSH
35378: LD_LOC 37
35382: PPUSH
35383: LD_VAR 0 1
35387: PPUSH
35388: LD_VAR 0 2
35392: PPUSH
35393: CALL_OW 1
35397: ST_TO_ADDR
35398: GO 35437
35400: LD_INT 3
35402: DOUBLE
35403: EQUAL
35404: IFTRUE 35408
35406: GO 35436
35408: POP
// sharedPoints3 = Replace ( sharedPoints3 , side , points ) ; end ;
35409: LD_ADDR_LOC 38
35413: PUSH
35414: LD_LOC 38
35418: PPUSH
35419: LD_VAR 0 1
35423: PPUSH
35424: LD_VAR 0 2
35428: PPUSH
35429: CALL_OW 1
35433: ST_TO_ADDR
35434: GO 35437
35436: POP
// p = sharedPoints1 [ side ] + sharedPoints2 [ side ] + sharedPoints3 [ side ] ;
35437: LD_ADDR_VAR 0 5
35441: PUSH
35442: LD_LOC 36
35446: PUSH
35447: LD_VAR 0 1
35451: ARRAY
35452: PUSH
35453: LD_LOC 37
35457: PUSH
35458: LD_VAR 0 1
35462: ARRAY
35463: PLUS
35464: PUSH
35465: LD_LOC 38
35469: PUSH
35470: LD_VAR 0 1
35474: ARRAY
35475: PLUS
35476: ST_TO_ADDR
// SetMultiScore ( side , p ) ;
35477: LD_VAR 0 1
35481: PPUSH
35482: LD_VAR 0 5
35486: PPUSH
35487: CALL_OW 506
// end ; end_of_file
35491: LD_VAR 0 4
35495: RET
// export function LScore_Init ( sides , ifPScore , yourSide ) ; begin
35496: LD_INT 0
35498: PPUSH
// LScore_Init2 ( sides , ifPScore , yourSide , false ) ;
35499: LD_VAR 0 1
35503: PPUSH
35504: LD_VAR 0 2
35508: PPUSH
35509: LD_VAR 0 3
35513: PPUSH
35514: LD_INT 0
35516: PPUSH
35517: CALL 35526 0 4
// end ;
35521: LD_VAR 0 4
35525: RET
// export function LScore_Init2 ( sides , ifPScore , yourSide , lockTeam ) ; begin
35526: LD_INT 0
35528: PPUSH
// ToLua ( initScore({ & sides [ 1 ] & , & sides [ 2 ] & , & sides [ 3 ] & , & sides [ 4 ] & , & sides [ 5 ] & , & sides [ 6 ] & , & sides [ 7 ] & , & sides [ 8 ] & }, & ifPScore & , & yourSide & , & lockTeam & ); ) ;
35529: LD_STRING initScore({
35531: PUSH
35532: LD_VAR 0 1
35536: PUSH
35537: LD_INT 1
35539: ARRAY
35540: STR
35541: PUSH
35542: LD_STRING ,
35544: STR
35545: PUSH
35546: LD_VAR 0 1
35550: PUSH
35551: LD_INT 2
35553: ARRAY
35554: STR
35555: PUSH
35556: LD_STRING ,
35558: STR
35559: PUSH
35560: LD_VAR 0 1
35564: PUSH
35565: LD_INT 3
35567: ARRAY
35568: STR
35569: PUSH
35570: LD_STRING ,
35572: STR
35573: PUSH
35574: LD_VAR 0 1
35578: PUSH
35579: LD_INT 4
35581: ARRAY
35582: STR
35583: PUSH
35584: LD_STRING ,
35586: STR
35587: PUSH
35588: LD_VAR 0 1
35592: PUSH
35593: LD_INT 5
35595: ARRAY
35596: STR
35597: PUSH
35598: LD_STRING ,
35600: STR
35601: PUSH
35602: LD_VAR 0 1
35606: PUSH
35607: LD_INT 6
35609: ARRAY
35610: STR
35611: PUSH
35612: LD_STRING ,
35614: STR
35615: PUSH
35616: LD_VAR 0 1
35620: PUSH
35621: LD_INT 7
35623: ARRAY
35624: STR
35625: PUSH
35626: LD_STRING ,
35628: STR
35629: PUSH
35630: LD_VAR 0 1
35634: PUSH
35635: LD_INT 8
35637: ARRAY
35638: STR
35639: PUSH
35640: LD_STRING },
35642: STR
35643: PUSH
35644: LD_VAR 0 2
35648: STR
35649: PUSH
35650: LD_STRING ,
35652: STR
35653: PUSH
35654: LD_VAR 0 3
35658: STR
35659: PUSH
35660: LD_STRING ,
35662: STR
35663: PUSH
35664: LD_VAR 0 4
35668: STR
35669: PUSH
35670: LD_STRING );
35672: STR
35673: PPUSH
35674: CALL_OW 559
// end ;
35678: LD_VAR 0 5
35682: RET
// export function LScore_Reset ( ) ; begin
35683: LD_INT 0
35685: PPUSH
// ToLua ( ResetScorebar(); ) ;
35686: LD_STRING ResetScorebar();
35688: PPUSH
35689: CALL_OW 559
// end ;
35693: LD_VAR 0 1
35697: RET
// export function LScore_Delete ( ID ) ; begin
35698: LD_INT 0
35700: PPUSH
// ToLua ( deleteScore( & ID & ); ) ;
35701: LD_STRING deleteScore(
35703: PUSH
35704: LD_VAR 0 1
35708: STR
35709: PUSH
35710: LD_STRING );
35712: STR
35713: PPUSH
35714: CALL_OW 559
// end ;
35718: LD_VAR 0 2
35722: RET
// export function LScore_Add_Timer ( ID , typ , totalTime ) ; begin
35723: LD_INT 0
35725: PPUSH
// ToLua ( AST( & ID & , & typ & , & totalTime & ,); ) ;
35726: LD_STRING AST(
35728: PUSH
35729: LD_VAR 0 1
35733: STR
35734: PUSH
35735: LD_STRING ,
35737: STR
35738: PUSH
35739: LD_VAR 0 2
35743: STR
35744: PUSH
35745: LD_STRING ,
35747: STR
35748: PUSH
35749: LD_VAR 0 3
35753: STR
35754: PUSH
35755: LD_STRING ,);
35757: STR
35758: PPUSH
35759: CALL_OW 559
// end ;
35763: LD_VAR 0 4
35767: RET
// export function LScore_Add_Timer2 ( ID , typ , totalTime , show_total ) ; begin
35768: LD_INT 0
35770: PPUSH
// ToLua ( AST( & ID & , & typ & , & totalTime & , & show_total & ); ) ;
35771: LD_STRING AST(
35773: PUSH
35774: LD_VAR 0 1
35778: STR
35779: PUSH
35780: LD_STRING ,
35782: STR
35783: PUSH
35784: LD_VAR 0 2
35788: STR
35789: PUSH
35790: LD_STRING ,
35792: STR
35793: PUSH
35794: LD_VAR 0 3
35798: STR
35799: PUSH
35800: LD_STRING ,
35802: STR
35803: PUSH
35804: LD_VAR 0 4
35808: STR
35809: PUSH
35810: LD_STRING );
35812: STR
35813: PPUSH
35814: CALL_OW 559
// end ;
35818: LD_VAR 0 5
35822: RET
// export function LScore_Add_Timer3 ( ID , typ , totalTime , show_total , currentTime ) ; begin
35823: LD_INT 0
35825: PPUSH
// ToLua ( AST( & ID & , & typ & , & totalTime & , & show_total & , & currentTime & ); ) ;
35826: LD_STRING AST(
35828: PUSH
35829: LD_VAR 0 1
35833: STR
35834: PUSH
35835: LD_STRING ,
35837: STR
35838: PUSH
35839: LD_VAR 0 2
35843: STR
35844: PUSH
35845: LD_STRING ,
35847: STR
35848: PUSH
35849: LD_VAR 0 3
35853: STR
35854: PUSH
35855: LD_STRING ,
35857: STR
35858: PUSH
35859: LD_VAR 0 4
35863: STR
35864: PUSH
35865: LD_STRING ,
35867: STR
35868: PUSH
35869: LD_VAR 0 5
35873: STR
35874: PUSH
35875: LD_STRING );
35877: STR
35878: PPUSH
35879: CALL_OW 559
// end ;
35883: LD_VAR 0 6
35887: RET
// export function LScore_Add_ReverseTimer ( ID , typ , totalTime ) ; begin
35888: LD_INT 0
35890: PPUSH
// ToLua ( ASRT( & ID & , & typ & , & totalTime & ,); ) ;
35891: LD_STRING ASRT(
35893: PUSH
35894: LD_VAR 0 1
35898: STR
35899: PUSH
35900: LD_STRING ,
35902: STR
35903: PUSH
35904: LD_VAR 0 2
35908: STR
35909: PUSH
35910: LD_STRING ,
35912: STR
35913: PUSH
35914: LD_VAR 0 3
35918: STR
35919: PUSH
35920: LD_STRING ,);
35922: STR
35923: PPUSH
35924: CALL_OW 559
// end ;
35928: LD_VAR 0 4
35932: RET
// export function LScore_Add_ReverseTimer2 ( ID , typ , totalTime , show_total ) ; begin
35933: LD_INT 0
35935: PPUSH
// ToLua ( ASRT( & ID & , & typ & , & totalTime & , & show_total & ); ) ;
35936: LD_STRING ASRT(
35938: PUSH
35939: LD_VAR 0 1
35943: STR
35944: PUSH
35945: LD_STRING ,
35947: STR
35948: PUSH
35949: LD_VAR 0 2
35953: STR
35954: PUSH
35955: LD_STRING ,
35957: STR
35958: PUSH
35959: LD_VAR 0 3
35963: STR
35964: PUSH
35965: LD_STRING ,
35967: STR
35968: PUSH
35969: LD_VAR 0 4
35973: STR
35974: PUSH
35975: LD_STRING );
35977: STR
35978: PPUSH
35979: CALL_OW 559
// end ;
35983: LD_VAR 0 5
35987: RET
// export function LScore_Add_ReverseTimer3 ( ID , typ , totalTime , show_total , currentTime ) ; begin
35988: LD_INT 0
35990: PPUSH
// ToLua ( ASRT( & ID & , & typ & , & totalTime & , & show_total & , & currentTime & ); ) ;
35991: LD_STRING ASRT(
35993: PUSH
35994: LD_VAR 0 1
35998: STR
35999: PUSH
36000: LD_STRING ,
36002: STR
36003: PUSH
36004: LD_VAR 0 2
36008: STR
36009: PUSH
36010: LD_STRING ,
36012: STR
36013: PUSH
36014: LD_VAR 0 3
36018: STR
36019: PUSH
36020: LD_STRING ,
36022: STR
36023: PUSH
36024: LD_VAR 0 4
36028: STR
36029: PUSH
36030: LD_STRING ,
36032: STR
36033: PUSH
36034: LD_VAR 0 5
36038: STR
36039: PUSH
36040: LD_STRING );
36042: STR
36043: PPUSH
36044: CALL_OW 559
// end ;
36048: LD_VAR 0 6
36052: RET
// export function LScore_update_Timer ( ID , currentTime ) ; begin
36053: LD_INT 0
36055: PPUSH
// ToLua ( UST( & id & , & currentTime & ); ) ;
36056: LD_STRING UST(
36058: PUSH
36059: LD_VAR 0 1
36063: STR
36064: PUSH
36065: LD_STRING ,
36067: STR
36068: PUSH
36069: LD_VAR 0 2
36073: STR
36074: PUSH
36075: LD_STRING );
36077: STR
36078: PPUSH
36079: CALL_OW 559
// end ;
36083: LD_VAR 0 3
36087: RET
// export function LScore_update_Timer2 ( ID , currentTime , totalTime ) ; begin
36088: LD_INT 0
36090: PPUSH
// ToLua ( UST( & id & , & currentTime & , & totalTime & ); ) ;
36091: LD_STRING UST(
36093: PUSH
36094: LD_VAR 0 1
36098: STR
36099: PUSH
36100: LD_STRING ,
36102: STR
36103: PUSH
36104: LD_VAR 0 2
36108: STR
36109: PUSH
36110: LD_STRING ,
36112: STR
36113: PUSH
36114: LD_VAR 0 3
36118: STR
36119: PUSH
36120: LD_STRING );
36122: STR
36123: PPUSH
36124: CALL_OW 559
// end ;
36128: LD_VAR 0 4
36132: RET
// export function LScore_Change_TimerColourRGB ( id , red , green , blue ) ; begin
36133: LD_INT 0
36135: PPUSH
// ToLua ( CCST( & id & ,{ & red & , & green & , & blue & }); ) ;
36136: LD_STRING CCST(
36138: PUSH
36139: LD_VAR 0 1
36143: STR
36144: PUSH
36145: LD_STRING ,{
36147: STR
36148: PUSH
36149: LD_VAR 0 2
36153: STR
36154: PUSH
36155: LD_STRING ,
36157: STR
36158: PUSH
36159: LD_VAR 0 3
36163: STR
36164: PUSH
36165: LD_STRING ,
36167: STR
36168: PUSH
36169: LD_VAR 0 4
36173: STR
36174: PUSH
36175: LD_STRING });
36177: STR
36178: PPUSH
36179: CALL_OW 559
// end ;
36183: LD_VAR 0 5
36187: RET
// export function LScore_Change_TimerColour ( id , side ) ; begin
36188: LD_INT 0
36190: PPUSH
// ToLua ( CCST( & id & , & side & ); ) ;
36191: LD_STRING CCST(
36193: PUSH
36194: LD_VAR 0 1
36198: STR
36199: PUSH
36200: LD_STRING ,
36202: STR
36203: PUSH
36204: LD_VAR 0 2
36208: STR
36209: PUSH
36210: LD_STRING );
36212: STR
36213: PPUSH
36214: CALL_OW 559
// end ;
36218: LD_VAR 0 3
36222: RET
// export function LScore_Add_SinglePoints ( ID , typ , totalPoints ) ; begin
36223: LD_INT 0
36225: PPUSH
// ToLua ( ASSP( & ID & , & typ & , & totalPoints & ,); ) ;
36226: LD_STRING ASSP(
36228: PUSH
36229: LD_VAR 0 1
36233: STR
36234: PUSH
36235: LD_STRING ,
36237: STR
36238: PUSH
36239: LD_VAR 0 2
36243: STR
36244: PUSH
36245: LD_STRING ,
36247: STR
36248: PUSH
36249: LD_VAR 0 3
36253: STR
36254: PUSH
36255: LD_STRING ,);
36257: STR
36258: PPUSH
36259: CALL_OW 559
// end ;
36263: LD_VAR 0 4
36267: RET
// export function LScore_Add_SinglePoints2 ( ID , typ , totalPoints , show_total ) ; begin
36268: LD_INT 0
36270: PPUSH
// ToLua ( ASSP( & ID & , & typ & , & totalPoints & , & show_total & ); ) ;
36271: LD_STRING ASSP(
36273: PUSH
36274: LD_VAR 0 1
36278: STR
36279: PUSH
36280: LD_STRING ,
36282: STR
36283: PUSH
36284: LD_VAR 0 2
36288: STR
36289: PUSH
36290: LD_STRING ,
36292: STR
36293: PUSH
36294: LD_VAR 0 3
36298: STR
36299: PUSH
36300: LD_STRING ,
36302: STR
36303: PUSH
36304: LD_VAR 0 4
36308: STR
36309: PUSH
36310: LD_STRING );
36312: STR
36313: PPUSH
36314: CALL_OW 559
// end ;
36318: LD_VAR 0 5
36322: RET
// export function LScore_Add_SinglePoints3 ( ID , typ , totalPoints , show_total , currentPoints ) ; begin
36323: LD_INT 0
36325: PPUSH
// ToLua ( ASSP( & ID & , & typ & , & totalPoints & , & show_total & , & currentPoints & ); ) ;
36326: LD_STRING ASSP(
36328: PUSH
36329: LD_VAR 0 1
36333: STR
36334: PUSH
36335: LD_STRING ,
36337: STR
36338: PUSH
36339: LD_VAR 0 2
36343: STR
36344: PUSH
36345: LD_STRING ,
36347: STR
36348: PUSH
36349: LD_VAR 0 3
36353: STR
36354: PUSH
36355: LD_STRING ,
36357: STR
36358: PUSH
36359: LD_VAR 0 4
36363: STR
36364: PUSH
36365: LD_STRING ,
36367: STR
36368: PUSH
36369: LD_VAR 0 5
36373: STR
36374: PUSH
36375: LD_STRING );
36377: STR
36378: PPUSH
36379: CALL_OW 559
// end ;
36383: LD_VAR 0 6
36387: RET
// export function LScore_Add_ReverseSinglePoints ( ID , typ , totalPoints ) ; begin
36388: LD_INT 0
36390: PPUSH
// ToLua ( ASRSP( & ID & , & typ & , & totalPoints & ,); ) ;
36391: LD_STRING ASRSP(
36393: PUSH
36394: LD_VAR 0 1
36398: STR
36399: PUSH
36400: LD_STRING ,
36402: STR
36403: PUSH
36404: LD_VAR 0 2
36408: STR
36409: PUSH
36410: LD_STRING ,
36412: STR
36413: PUSH
36414: LD_VAR 0 3
36418: STR
36419: PUSH
36420: LD_STRING ,);
36422: STR
36423: PPUSH
36424: CALL_OW 559
// end ;
36428: LD_VAR 0 4
36432: RET
// export function LScore_Add_ReverseSinglePoints2 ( ID , typ , totalPoints , show_total ) ; begin
36433: LD_INT 0
36435: PPUSH
// ToLua ( ASRSP( & ID & , & typ & , & totalPoints & , & show_total & ); ) ;
36436: LD_STRING ASRSP(
36438: PUSH
36439: LD_VAR 0 1
36443: STR
36444: PUSH
36445: LD_STRING ,
36447: STR
36448: PUSH
36449: LD_VAR 0 2
36453: STR
36454: PUSH
36455: LD_STRING ,
36457: STR
36458: PUSH
36459: LD_VAR 0 3
36463: STR
36464: PUSH
36465: LD_STRING ,
36467: STR
36468: PUSH
36469: LD_VAR 0 4
36473: STR
36474: PUSH
36475: LD_STRING );
36477: STR
36478: PPUSH
36479: CALL_OW 559
// end ;
36483: LD_VAR 0 5
36487: RET
// export function LScore_Add_ReverseSinglePoints3 ( ID , typ , totalPoints , show_total , currentPoints ) ; begin
36488: LD_INT 0
36490: PPUSH
// ToLua ( ASRSP( & ID & , & typ & , & totalPoints & , & show_total & , & currentPoints & ); ) ;
36491: LD_STRING ASRSP(
36493: PUSH
36494: LD_VAR 0 1
36498: STR
36499: PUSH
36500: LD_STRING ,
36502: STR
36503: PUSH
36504: LD_VAR 0 2
36508: STR
36509: PUSH
36510: LD_STRING ,
36512: STR
36513: PUSH
36514: LD_VAR 0 3
36518: STR
36519: PUSH
36520: LD_STRING ,
36522: STR
36523: PUSH
36524: LD_VAR 0 4
36528: STR
36529: PUSH
36530: LD_STRING ,
36532: STR
36533: PUSH
36534: LD_VAR 0 5
36538: STR
36539: PUSH
36540: LD_STRING );
36542: STR
36543: PPUSH
36544: CALL_OW 559
// end ;
36548: LD_VAR 0 6
36552: RET
// export function LScore_update_SinglePoints ( ID , currentPoints ) ; begin
36553: LD_INT 0
36555: PPUSH
// ToLua ( USSP( & id & , & currentPoints & ); ) ;
36556: LD_STRING USSP(
36558: PUSH
36559: LD_VAR 0 1
36563: STR
36564: PUSH
36565: LD_STRING ,
36567: STR
36568: PUSH
36569: LD_VAR 0 2
36573: STR
36574: PUSH
36575: LD_STRING );
36577: STR
36578: PPUSH
36579: CALL_OW 559
// end ;
36583: LD_VAR 0 3
36587: RET
// export function LScore_update_SinglePoints2 ( ID , currentPoints , totalPoints ) ; begin
36588: LD_INT 0
36590: PPUSH
// ToLua ( USSP( & id & , & currentPoints & , & totalPoints & ); ) ;
36591: LD_STRING USSP(
36593: PUSH
36594: LD_VAR 0 1
36598: STR
36599: PUSH
36600: LD_STRING ,
36602: STR
36603: PUSH
36604: LD_VAR 0 2
36608: STR
36609: PUSH
36610: LD_STRING ,
36612: STR
36613: PUSH
36614: LD_VAR 0 3
36618: STR
36619: PUSH
36620: LD_STRING );
36622: STR
36623: PPUSH
36624: CALL_OW 559
// end ;
36628: LD_VAR 0 4
36632: RET
// export function LScore_Change_SinglePointsRGB ( id , red , green , blue ) ; begin
36633: LD_INT 0
36635: PPUSH
// ToLua ( CCSSP( & id & ,{ & red & , & green & , & blue & }); ) ;
36636: LD_STRING CCSSP(
36638: PUSH
36639: LD_VAR 0 1
36643: STR
36644: PUSH
36645: LD_STRING ,{
36647: STR
36648: PUSH
36649: LD_VAR 0 2
36653: STR
36654: PUSH
36655: LD_STRING ,
36657: STR
36658: PUSH
36659: LD_VAR 0 3
36663: STR
36664: PUSH
36665: LD_STRING ,
36667: STR
36668: PUSH
36669: LD_VAR 0 4
36673: STR
36674: PUSH
36675: LD_STRING });
36677: STR
36678: PPUSH
36679: CALL_OW 559
// end ;
36683: LD_VAR 0 5
36687: RET
// export function LScore_Change_SinglePoints ( id , side ) ; begin
36688: LD_INT 0
36690: PPUSH
// ToLua ( CCSSP( & id & , & side & ); ) ;
36691: LD_STRING CCSSP(
36693: PUSH
36694: LD_VAR 0 1
36698: STR
36699: PUSH
36700: LD_STRING ,
36702: STR
36703: PUSH
36704: LD_VAR 0 2
36708: STR
36709: PUSH
36710: LD_STRING );
36712: STR
36713: PPUSH
36714: CALL_OW 559
// end ;
36718: LD_VAR 0 3
36722: RET
// export function LScore_Add_Points ( ID , typ , goal ) ; begin
36723: LD_INT 0
36725: PPUSH
// ToLua ( ASP( & id & , & typ & , & goal & ); ) ;
36726: LD_STRING ASP(
36728: PUSH
36729: LD_VAR 0 1
36733: STR
36734: PUSH
36735: LD_STRING ,
36737: STR
36738: PUSH
36739: LD_VAR 0 2
36743: STR
36744: PUSH
36745: LD_STRING ,
36747: STR
36748: PUSH
36749: LD_VAR 0 3
36753: STR
36754: PUSH
36755: LD_STRING );
36757: STR
36758: PPUSH
36759: CALL_OW 559
// end ;
36763: LD_VAR 0 4
36767: RET
// export function LScore_Update_Points ( ID , side , points ) ; begin
36768: LD_INT 0
36770: PPUSH
// ToLua ( USP( & id & , & side & , & points & ); ) ;
36771: LD_STRING USP(
36773: PUSH
36774: LD_VAR 0 1
36778: STR
36779: PUSH
36780: LD_STRING ,
36782: STR
36783: PUSH
36784: LD_VAR 0 2
36788: STR
36789: PUSH
36790: LD_STRING ,
36792: STR
36793: PUSH
36794: LD_VAR 0 3
36798: STR
36799: PUSH
36800: LD_STRING );
36802: STR
36803: PPUSH
36804: CALL_OW 559
// end ;
36808: LD_VAR 0 4
36812: RET
// export function LScore_Update_PointsAll ( ID , score ) ; var i ; begin
36813: LD_INT 0
36815: PPUSH
36816: PPUSH
// for i = 1 to 8 do
36817: LD_ADDR_VAR 0 4
36821: PUSH
36822: DOUBLE
36823: LD_INT 1
36825: DEC
36826: ST_TO_ADDR
36827: LD_INT 8
36829: PUSH
36830: FOR_TO
36831: IFFALSE 36878
// ToLua ( USP( & ID & , & i & , & score [ i ] & ); ) ;
36833: LD_STRING USP(
36835: PUSH
36836: LD_VAR 0 1
36840: STR
36841: PUSH
36842: LD_STRING ,
36844: STR
36845: PUSH
36846: LD_VAR 0 4
36850: STR
36851: PUSH
36852: LD_STRING ,
36854: STR
36855: PUSH
36856: LD_VAR 0 2
36860: PUSH
36861: LD_VAR 0 4
36865: ARRAY
36866: STR
36867: PUSH
36868: LD_STRING );
36870: STR
36871: PPUSH
36872: CALL_OW 559
36876: GO 36830
36878: POP
36879: POP
// end ;
36880: LD_VAR 0 3
36884: RET
// export function LScore_Add_Pieces ( id , typ , goal , total ) ; begin
36885: LD_INT 0
36887: PPUSH
// ToLua ( ASC( & id & , & typ & , & goal & , & total & ); ) ;
36888: LD_STRING ASC(
36890: PUSH
36891: LD_VAR 0 1
36895: STR
36896: PUSH
36897: LD_STRING ,
36899: STR
36900: PUSH
36901: LD_VAR 0 2
36905: STR
36906: PUSH
36907: LD_STRING ,
36909: STR
36910: PUSH
36911: LD_VAR 0 3
36915: STR
36916: PUSH
36917: LD_STRING ,
36919: STR
36920: PUSH
36921: LD_VAR 0 4
36925: STR
36926: PUSH
36927: LD_STRING );
36929: STR
36930: PPUSH
36931: CALL_OW 559
// end ;
36935: LD_VAR 0 5
36939: RET
// export function LScore_Update_Peices ( id , sidesChunks ) ; begin
36940: LD_INT 0
36942: PPUSH
// ToLua ( USC( & id & ,{ & sidesChunks [ 1 ] & , & sidesChunks [ 2 ] & , & sidesChunks [ 3 ] & , & sidesChunks [ 4 ] & , & sidesChunks [ 5 ] & , & sidesChunks [ 6 ] & , & sidesChunks [ 7 ] & , & sidesChunks [ 8 ] & }); ) ;
36943: LD_STRING USC(
36945: PUSH
36946: LD_VAR 0 1
36950: STR
36951: PUSH
36952: LD_STRING ,{
36954: STR
36955: PUSH
36956: LD_VAR 0 2
36960: PUSH
36961: LD_INT 1
36963: ARRAY
36964: STR
36965: PUSH
36966: LD_STRING ,
36968: STR
36969: PUSH
36970: LD_VAR 0 2
36974: PUSH
36975: LD_INT 2
36977: ARRAY
36978: STR
36979: PUSH
36980: LD_STRING ,
36982: STR
36983: PUSH
36984: LD_VAR 0 2
36988: PUSH
36989: LD_INT 3
36991: ARRAY
36992: STR
36993: PUSH
36994: LD_STRING ,
36996: STR
36997: PUSH
36998: LD_VAR 0 2
37002: PUSH
37003: LD_INT 4
37005: ARRAY
37006: STR
37007: PUSH
37008: LD_STRING ,
37010: STR
37011: PUSH
37012: LD_VAR 0 2
37016: PUSH
37017: LD_INT 5
37019: ARRAY
37020: STR
37021: PUSH
37022: LD_STRING ,
37024: STR
37025: PUSH
37026: LD_VAR 0 2
37030: PUSH
37031: LD_INT 6
37033: ARRAY
37034: STR
37035: PUSH
37036: LD_STRING ,
37038: STR
37039: PUSH
37040: LD_VAR 0 2
37044: PUSH
37045: LD_INT 7
37047: ARRAY
37048: STR
37049: PUSH
37050: LD_STRING ,
37052: STR
37053: PUSH
37054: LD_VAR 0 2
37058: PUSH
37059: LD_INT 8
37061: ARRAY
37062: STR
37063: PUSH
37064: LD_STRING });
37066: STR
37067: PPUSH
37068: CALL_OW 559
// end ; end_of_file
37072: LD_VAR 0 3
37076: RET
// export function UpdateSpectatorBar ; var i , j , crates , oil , sib , people , base , bases ; begin
37077: LD_INT 0
37079: PPUSH
37080: PPUSH
37081: PPUSH
37082: PPUSH
37083: PPUSH
37084: PPUSH
37085: PPUSH
37086: PPUSH
37087: PPUSH
// for i := 1 to 8 do
37088: LD_ADDR_VAR 0 2
37092: PUSH
37093: DOUBLE
37094: LD_INT 1
37096: DEC
37097: ST_TO_ADDR
37098: LD_INT 8
37100: PUSH
37101: FOR_TO
37102: IFFALSE 37486
// begin if Side_Positions [ i ] then
37104: LD_EXP 74
37108: PUSH
37109: LD_VAR 0 2
37113: ARRAY
37114: IFFALSE 37484
// begin people := FilterAllUnits ( [ [ f_side , i ] , [ f_type , unit_human ] ] ) + 0 ;
37116: LD_ADDR_VAR 0 7
37120: PUSH
37121: LD_INT 22
37123: PUSH
37124: LD_VAR 0 2
37128: PUSH
37129: EMPTY
37130: LIST
37131: LIST
37132: PUSH
37133: LD_INT 21
37135: PUSH
37136: LD_INT 1
37138: PUSH
37139: EMPTY
37140: LIST
37141: LIST
37142: PUSH
37143: EMPTY
37144: LIST
37145: LIST
37146: PPUSH
37147: CALL_OW 69
37151: PUSH
37152: LD_INT 0
37154: PLUS
37155: ST_TO_ADDR
// bases := FilterAllUnits ( [ [ f_side , i ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) ;
37156: LD_ADDR_VAR 0 9
37160: PUSH
37161: LD_INT 22
37163: PUSH
37164: LD_VAR 0 2
37168: PUSH
37169: EMPTY
37170: LIST
37171: LIST
37172: PUSH
37173: LD_INT 2
37175: PUSH
37176: LD_INT 30
37178: PUSH
37179: LD_INT 0
37181: PUSH
37182: EMPTY
37183: LIST
37184: LIST
37185: PUSH
37186: LD_INT 30
37188: PUSH
37189: LD_INT 1
37191: PUSH
37192: EMPTY
37193: LIST
37194: LIST
37195: PUSH
37196: EMPTY
37197: LIST
37198: LIST
37199: LIST
37200: PUSH
37201: EMPTY
37202: LIST
37203: LIST
37204: PPUSH
37205: CALL_OW 69
37209: ST_TO_ADDR
// crates := 0 ;
37210: LD_ADDR_VAR 0 4
37214: PUSH
37215: LD_INT 0
37217: ST_TO_ADDR
// oil := 0 ;
37218: LD_ADDR_VAR 0 5
37222: PUSH
37223: LD_INT 0
37225: ST_TO_ADDR
// sib := 0 ;
37226: LD_ADDR_VAR 0 6
37230: PUSH
37231: LD_INT 0
37233: ST_TO_ADDR
// if bases then
37234: LD_VAR 0 9
37238: IFFALSE 37344
// begin for j in bases do
37240: LD_ADDR_VAR 0 3
37244: PUSH
37245: LD_VAR 0 9
37249: PUSH
37250: FOR_IN
37251: IFFALSE 37342
// begin base := GetBase ( j ) ;
37253: LD_ADDR_VAR 0 8
37257: PUSH
37258: LD_VAR 0 3
37262: PPUSH
37263: CALL_OW 274
37267: ST_TO_ADDR
// crates := crates + GetResourceType ( base , mat_cans ) ;
37268: LD_ADDR_VAR 0 4
37272: PUSH
37273: LD_VAR 0 4
37277: PUSH
37278: LD_VAR 0 8
37282: PPUSH
37283: LD_INT 1
37285: PPUSH
37286: CALL_OW 275
37290: PLUS
37291: ST_TO_ADDR
// oil := oil + GetResourceType ( base , mat_oil ) ;
37292: LD_ADDR_VAR 0 5
37296: PUSH
37297: LD_VAR 0 5
37301: PUSH
37302: LD_VAR 0 8
37306: PPUSH
37307: LD_INT 2
37309: PPUSH
37310: CALL_OW 275
37314: PLUS
37315: ST_TO_ADDR
// sib := sib + GetResourceType ( base , mat_siberit ) ;
37316: LD_ADDR_VAR 0 6
37320: PUSH
37321: LD_VAR 0 6
37325: PUSH
37326: LD_VAR 0 8
37330: PPUSH
37331: LD_INT 3
37333: PPUSH
37334: CALL_OW 275
37338: PLUS
37339: ST_TO_ADDR
// end ;
37340: GO 37250
37342: POP
37343: POP
// end ; ToLua ( setSpecText( & i & , & 2 & , & crates & ) ) ;
37344: LD_STRING setSpecText(
37346: PUSH
37347: LD_VAR 0 2
37351: STR
37352: PUSH
37353: LD_STRING ,
37355: STR
37356: PUSH
37357: LD_INT 2
37359: STR
37360: PUSH
37361: LD_STRING ,
37363: STR
37364: PUSH
37365: LD_VAR 0 4
37369: STR
37370: PUSH
37371: LD_STRING )
37373: STR
37374: PPUSH
37375: CALL_OW 559
// ToLua ( setSpecText( & i & , & 3 & , & oil & ) ) ;
37379: LD_STRING setSpecText(
37381: PUSH
37382: LD_VAR 0 2
37386: STR
37387: PUSH
37388: LD_STRING ,
37390: STR
37391: PUSH
37392: LD_INT 3
37394: STR
37395: PUSH
37396: LD_STRING ,
37398: STR
37399: PUSH
37400: LD_VAR 0 5
37404: STR
37405: PUSH
37406: LD_STRING )
37408: STR
37409: PPUSH
37410: CALL_OW 559
// ToLua ( setSpecText( & i & , & 4 & , & sib & ) ) ;
37414: LD_STRING setSpecText(
37416: PUSH
37417: LD_VAR 0 2
37421: STR
37422: PUSH
37423: LD_STRING ,
37425: STR
37426: PUSH
37427: LD_INT 4
37429: STR
37430: PUSH
37431: LD_STRING ,
37433: STR
37434: PUSH
37435: LD_VAR 0 6
37439: STR
37440: PUSH
37441: LD_STRING )
37443: STR
37444: PPUSH
37445: CALL_OW 559
// ToLua ( setSpecText( & i & , & 5 & , & people & ) ) ;
37449: LD_STRING setSpecText(
37451: PUSH
37452: LD_VAR 0 2
37456: STR
37457: PUSH
37458: LD_STRING ,
37460: STR
37461: PUSH
37462: LD_INT 5
37464: STR
37465: PUSH
37466: LD_STRING ,
37468: STR
37469: PUSH
37470: LD_VAR 0 7
37474: STR
37475: PUSH
37476: LD_STRING )
37478: STR
37479: PPUSH
37480: CALL_OW 559
// end ; end ;
37484: GO 37101
37486: POP
37487: POP
// end ;
37488: LD_VAR 0 1
37492: RET
