// export gametype , def_base_level , def_amount_of_people , def_skill_level , def_starting_resources , def_shipments_density , def_oil_deposits , def_sib_deposits , def_shared_vision , def_morale_flags , def_siberite_detection , def_amount_of_apemen , def_people_respawning , def_siberite_bomb , def_cost , def_cost_decreasing ; export is_depot , number_of_breastworks , number_of_people , skill_level , starting_crates , starting_resources , shipments_density , morale_decreasing_time , respawning_time_min , respawning_time_max , cost , decr_cost_time , real_cost , oil_dep , sib_dep , amount_of_apemen , siberite_bomb_Delay ; export Side_Count , Team_Count , Player_Side , Player_Team , Side_Teams , Teams ; export Side_Positions , Side_Nations , Side_Names , Team_Names , Team_Game ; export depot_def , breastworks_def , start_def , deposits_def , battle_flags_id ; var commander ; var global_units , global_defined , soldiers_created ; function read_multiplayer_and_game_parameters ; var sides , s1 , s2 , s3 , tech_level ; begin
   0: LD_INT 0
   2: PPUSH
   3: PPUSH
   4: PPUSH
   5: PPUSH
   6: PPUSH
   7: PPUSH
// if MultiPlayer then
   8: LD_OWVAR 4
  12: IFFALSE 86
// begin gametype = mp_game_type ;
  14: LD_ADDR_EXP 1
  18: PUSH
  19: LD_OWVAR 6
  23: ST_TO_ADDR
// Player_Side = mp_player_side ;
  24: LD_ADDR_EXP 36
  28: PUSH
  29: LD_OWVAR 7
  33: ST_TO_ADDR
// Player_Team = mp_player_team ;
  34: LD_ADDR_EXP 37
  38: PUSH
  39: LD_OWVAR 8
  43: ST_TO_ADDR
// Side_Positions = mp_sides_positions ;
  44: LD_ADDR_EXP 40
  48: PUSH
  49: LD_OWVAR 17
  53: ST_TO_ADDR
// Side_Teams = mp_sides_teams ;
  54: LD_ADDR_EXP 38
  58: PUSH
  59: LD_OWVAR 15
  63: ST_TO_ADDR
// Side_Nations = mp_sides_nations ;
  64: LD_ADDR_EXP 41
  68: PUSH
  69: LD_OWVAR 16
  73: ST_TO_ADDR
// Teams = mp_teams ;
  74: LD_ADDR_EXP 39
  78: PUSH
  79: LD_OWVAR 12
  83: ST_TO_ADDR
// end else
  84: GO 256
// begin gametype = 11 ;
  86: LD_ADDR_EXP 1
  90: PUSH
  91: LD_INT 11
  93: ST_TO_ADDR
// Player_Side = 4 ;
  94: LD_ADDR_EXP 36
  98: PUSH
  99: LD_INT 4
 101: ST_TO_ADDR
// Player_Team = 2 ;
 102: LD_ADDR_EXP 37
 106: PUSH
 107: LD_INT 2
 109: ST_TO_ADDR
// Side_Positions = [ 0 , 3 , 0 , 1 , 0 , 2 , 4 , 0 ] ;
 110: LD_ADDR_EXP 40
 114: PUSH
 115: LD_INT 0
 117: PUSH
 118: LD_INT 3
 120: PUSH
 121: LD_INT 0
 123: PUSH
 124: LD_INT 1
 126: PUSH
 127: LD_INT 0
 129: PUSH
 130: LD_INT 2
 132: PUSH
 133: LD_INT 4
 135: PUSH
 136: LD_INT 0
 138: PUSH
 139: EMPTY
 140: LIST
 141: LIST
 142: LIST
 143: LIST
 144: LIST
 145: LIST
 146: LIST
 147: LIST
 148: ST_TO_ADDR
// Side_Teams = [ 0 , 1 , 0 , 2 , 0 , 1 , 2 , 0 ] ;
 149: LD_ADDR_EXP 38
 153: PUSH
 154: LD_INT 0
 156: PUSH
 157: LD_INT 1
 159: PUSH
 160: LD_INT 0
 162: PUSH
 163: LD_INT 2
 165: PUSH
 166: LD_INT 0
 168: PUSH
 169: LD_INT 1
 171: PUSH
 172: LD_INT 2
 174: PUSH
 175: LD_INT 0
 177: PUSH
 178: EMPTY
 179: LIST
 180: LIST
 181: LIST
 182: LIST
 183: LIST
 184: LIST
 185: LIST
 186: LIST
 187: ST_TO_ADDR
// Side_Nations = [ 0 , 3 , 0 , 1 , 0 , 1 , 3 , 0 ] ;
 188: LD_ADDR_EXP 41
 192: PUSH
 193: LD_INT 0
 195: PUSH
 196: LD_INT 3
 198: PUSH
 199: LD_INT 0
 201: PUSH
 202: LD_INT 1
 204: PUSH
 205: LD_INT 0
 207: PUSH
 208: LD_INT 1
 210: PUSH
 211: LD_INT 3
 213: PUSH
 214: LD_INT 0
 216: PUSH
 217: EMPTY
 218: LIST
 219: LIST
 220: LIST
 221: LIST
 222: LIST
 223: LIST
 224: LIST
 225: LIST
 226: ST_TO_ADDR
// Teams = [ [ 2 , 7 ] , [ 6 , 4 ] ] ;
 227: LD_ADDR_EXP 39
 231: PUSH
 232: LD_INT 2
 234: PUSH
 235: LD_INT 7
 237: PUSH
 238: EMPTY
 239: LIST
 240: LIST
 241: PUSH
 242: LD_INT 6
 244: PUSH
 245: LD_INT 4
 247: PUSH
 248: EMPTY
 249: LIST
 250: LIST
 251: PUSH
 252: EMPTY
 253: LIST
 254: LIST
 255: ST_TO_ADDR
// end ; Side_Count = ( Side_Positions diff [ 0 ] ) + 0 ;
 256: LD_ADDR_EXP 34
 260: PUSH
 261: LD_EXP 40
 265: PUSH
 266: LD_INT 0
 268: PUSH
 269: EMPTY
 270: LIST
 271: DIFF
 272: PUSH
 273: LD_INT 0
 275: PLUS
 276: ST_TO_ADDR
// Team_Count = ( Side_Teams diff [ 0 ] ) + 0 ;
 277: LD_ADDR_EXP 35
 281: PUSH
 282: LD_EXP 38
 286: PUSH
 287: LD_INT 0
 289: PUSH
 290: EMPTY
 291: LIST
 292: DIFF
 293: PUSH
 294: LD_INT 0
 296: PLUS
 297: ST_TO_ADDR
// if MultiPlayer then
 298: LD_OWVAR 4
 302: IFFALSE 534
// begin def_base_level = GetMultiplayerSetting ( 0 ) ;
 304: LD_ADDR_EXP 2
 308: PUSH
 309: LD_INT 0
 311: PPUSH
 312: CALL_OW 426
 316: ST_TO_ADDR
// def_amount_of_people = GetMultiplayerSetting ( 1 ) ;
 317: LD_ADDR_EXP 3
 321: PUSH
 322: LD_INT 1
 324: PPUSH
 325: CALL_OW 426
 329: ST_TO_ADDR
// def_skill_level = GetMultiplayerSetting ( 2 ) ;
 330: LD_ADDR_EXP 4
 334: PUSH
 335: LD_INT 2
 337: PPUSH
 338: CALL_OW 426
 342: ST_TO_ADDR
// def_starting_resources = GetMultiplayerSetting ( 3 ) ;
 343: LD_ADDR_EXP 5
 347: PUSH
 348: LD_INT 3
 350: PPUSH
 351: CALL_OW 426
 355: ST_TO_ADDR
// def_shipments_density = GetMultiplayerSetting ( 4 ) ;
 356: LD_ADDR_EXP 6
 360: PUSH
 361: LD_INT 4
 363: PPUSH
 364: CALL_OW 426
 368: ST_TO_ADDR
// def_oil_deposits = GetMultiplayerSetting ( 5 ) ;
 369: LD_ADDR_EXP 7
 373: PUSH
 374: LD_INT 5
 376: PPUSH
 377: CALL_OW 426
 381: ST_TO_ADDR
// def_sib_deposits = GetMultiplayerSetting ( 6 ) ;
 382: LD_ADDR_EXP 8
 386: PUSH
 387: LD_INT 6
 389: PPUSH
 390: CALL_OW 426
 394: ST_TO_ADDR
// if gametype = 11 then
 395: LD_EXP 1
 399: PUSH
 400: LD_INT 11
 402: EQUAL
 403: IFFALSE 415
// def_shared_vision = 0 else
 405: LD_ADDR_EXP 9
 409: PUSH
 410: LD_INT 0
 412: ST_TO_ADDR
 413: GO 428
// def_shared_vision = GetMultiplayerSetting ( 10 ) ;
 415: LD_ADDR_EXP 9
 419: PUSH
 420: LD_INT 10
 422: PPUSH
 423: CALL_OW 426
 427: ST_TO_ADDR
// def_morale_flags = GetMultiplayerSetting ( 11 ) ;
 428: LD_ADDR_EXP 10
 432: PUSH
 433: LD_INT 11
 435: PPUSH
 436: CALL_OW 426
 440: ST_TO_ADDR
// def_siberite_detection = GetMultiplayerSetting ( 12 ) ;
 441: LD_ADDR_EXP 11
 445: PUSH
 446: LD_INT 12
 448: PPUSH
 449: CALL_OW 426
 453: ST_TO_ADDR
// def_amount_of_apemen = GetMultiplayerSetting ( 13 ) ;
 454: LD_ADDR_EXP 12
 458: PUSH
 459: LD_INT 13
 461: PPUSH
 462: CALL_OW 426
 466: ST_TO_ADDR
// def_people_respawning = GetMultiplayerSetting ( 14 ) ;
 467: LD_ADDR_EXP 13
 471: PUSH
 472: LD_INT 14
 474: PPUSH
 475: CALL_OW 426
 479: ST_TO_ADDR
// def_siberite_bomb = GetMultiplayerSetting ( 15 ) ;
 480: LD_ADDR_EXP 14
 484: PUSH
 485: LD_INT 15
 487: PPUSH
 488: CALL_OW 426
 492: ST_TO_ADDR
// def_cost = GetMultiplayerSetting ( 16 ) ;
 493: LD_ADDR_EXP 15
 497: PUSH
 498: LD_INT 16
 500: PPUSH
 501: CALL_OW 426
 505: ST_TO_ADDR
// def_cost_decreasing = GetMultiplayerSetting ( 17 ) ;
 506: LD_ADDR_EXP 16
 510: PUSH
 511: LD_INT 17
 513: PPUSH
 514: CALL_OW 426
 518: ST_TO_ADDR
// tech_level = GetMultiplayerSetting ( 22 ) ;
 519: LD_ADDR_VAR 0 6
 523: PUSH
 524: LD_INT 22
 526: PPUSH
 527: CALL_OW 426
 531: ST_TO_ADDR
// end else
 532: GO 666
// begin randomize ;
 534: CALL_OW 10
// def_base_level = 0 ;
 538: LD_ADDR_EXP 2
 542: PUSH
 543: LD_INT 0
 545: ST_TO_ADDR
// def_amount_of_people = 11 ;
 546: LD_ADDR_EXP 3
 550: PUSH
 551: LD_INT 11
 553: ST_TO_ADDR
// def_skill_level = 3 ;
 554: LD_ADDR_EXP 4
 558: PUSH
 559: LD_INT 3
 561: ST_TO_ADDR
// def_starting_resources = 3 ;
 562: LD_ADDR_EXP 5
 566: PUSH
 567: LD_INT 3
 569: ST_TO_ADDR
// def_shipments_density = 50 ;
 570: LD_ADDR_EXP 6
 574: PUSH
 575: LD_INT 50
 577: ST_TO_ADDR
// def_oil_deposits = 2 ;
 578: LD_ADDR_EXP 7
 582: PUSH
 583: LD_INT 2
 585: ST_TO_ADDR
// def_sib_deposits = 2 ;
 586: LD_ADDR_EXP 8
 590: PUSH
 591: LD_INT 2
 593: ST_TO_ADDR
// def_shared_vision = 1 ;
 594: LD_ADDR_EXP 9
 598: PUSH
 599: LD_INT 1
 601: ST_TO_ADDR
// def_morale_flags = 4 ;
 602: LD_ADDR_EXP 10
 606: PUSH
 607: LD_INT 4
 609: ST_TO_ADDR
// def_siberite_detection = 1 ;
 610: LD_ADDR_EXP 11
 614: PUSH
 615: LD_INT 1
 617: ST_TO_ADDR
// def_amount_of_apemen = 3 ;
 618: LD_ADDR_EXP 12
 622: PUSH
 623: LD_INT 3
 625: ST_TO_ADDR
// def_people_respawning = 0 ;
 626: LD_ADDR_EXP 13
 630: PUSH
 631: LD_INT 0
 633: ST_TO_ADDR
// def_siberite_bomb = 0 ;
 634: LD_ADDR_EXP 14
 638: PUSH
 639: LD_INT 0
 641: ST_TO_ADDR
// def_cost = 4 ;
 642: LD_ADDR_EXP 15
 646: PUSH
 647: LD_INT 4
 649: ST_TO_ADDR
// def_cost_decreasing = 0 ;
 650: LD_ADDR_EXP 16
 654: PUSH
 655: LD_INT 0
 657: ST_TO_ADDR
// tech_level = 4 ;
 658: LD_ADDR_VAR 0 6
 662: PUSH
 663: LD_INT 4
 665: ST_TO_ADDR
// end ; if isSGUI then
 666: LD_OWVAR 83
 670: IFFALSE 678
// setMpTechs ( ) else
 672: CALL 9675 0 0
 676: GO 691
// begin SetMpTechLevel ( tech_level + 1 ) ;
 678: LD_VAR 0 6
 682: PUSH
 683: LD_INT 1
 685: PLUS
 686: PPUSH
 687: CALL 9822 0 1
// end ; if gametype = 11 then
 691: LD_EXP 1
 695: PUSH
 696: LD_INT 11
 698: EQUAL
 699: IFFALSE 1041
// begin sides = [ ] ;
 701: LD_ADDR_VAR 0 2
 705: PUSH
 706: EMPTY
 707: ST_TO_ADDR
// for s1 = 1 to Side_Positions do
 708: LD_ADDR_VAR 0 3
 712: PUSH
 713: DOUBLE
 714: LD_INT 1
 716: DEC
 717: ST_TO_ADDR
 718: LD_EXP 40
 722: PUSH
 723: FOR_TO
 724: IFFALSE 756
// if Side_Positions [ s1 ] then
 726: LD_EXP 40
 730: PUSH
 731: LD_VAR 0 3
 735: ARRAY
 736: IFFALSE 754
// sides = sides ^ s1 ;
 738: LD_ADDR_VAR 0 2
 742: PUSH
 743: LD_VAR 0 2
 747: PUSH
 748: LD_VAR 0 3
 752: ADD
 753: ST_TO_ADDR
 754: GO 723
 756: POP
 757: POP
// if sides < 4 then
 758: LD_VAR 0 2
 762: PUSH
 763: LD_INT 4
 765: LESS
 766: IFFALSE 781
// begin YouLostInMultiplayer ;
 768: CALL_OW 107
// wait ( 0 0$1 ) ;
 772: LD_INT 35
 774: PPUSH
 775: CALL_OW 67
// exit ;
 779: GO 1646
// end ; s1 = sides [ Rand ( 1 , 4 ) ] ;
 781: LD_ADDR_VAR 0 3
 785: PUSH
 786: LD_VAR 0 2
 790: PUSH
 791: LD_INT 1
 793: PPUSH
 794: LD_INT 4
 796: PPUSH
 797: CALL_OW 12
 801: ARRAY
 802: ST_TO_ADDR
// sides = sides diff s1 ;
 803: LD_ADDR_VAR 0 2
 807: PUSH
 808: LD_VAR 0 2
 812: PUSH
 813: LD_VAR 0 3
 817: DIFF
 818: ST_TO_ADDR
// s2 = sides [ Rand ( 1 , 3 ) ] ;
 819: LD_ADDR_VAR 0 4
 823: PUSH
 824: LD_VAR 0 2
 828: PUSH
 829: LD_INT 1
 831: PPUSH
 832: LD_INT 3
 834: PPUSH
 835: CALL_OW 12
 839: ARRAY
 840: ST_TO_ADDR
// sides = sides diff s2 ;
 841: LD_ADDR_VAR 0 2
 845: PUSH
 846: LD_VAR 0 2
 850: PUSH
 851: LD_VAR 0 4
 855: DIFF
 856: ST_TO_ADDR
// s3 = sides [ Rand ( 1 , 2 ) ] ;
 857: LD_ADDR_VAR 0 5
 861: PUSH
 862: LD_VAR 0 2
 866: PUSH
 867: LD_INT 1
 869: PPUSH
 870: LD_INT 2
 872: PPUSH
 873: CALL_OW 12
 877: ARRAY
 878: ST_TO_ADDR
// sides = sides diff s3 ;
 879: LD_ADDR_VAR 0 2
 883: PUSH
 884: LD_VAR 0 2
 888: PUSH
 889: LD_VAR 0 5
 893: DIFF
 894: ST_TO_ADDR
// Teams = [ [ s1 , s2 ] , [ s3 , sides [ 1 ] ] ] ;
 895: LD_ADDR_EXP 39
 899: PUSH
 900: LD_VAR 0 3
 904: PUSH
 905: LD_VAR 0 4
 909: PUSH
 910: EMPTY
 911: LIST
 912: LIST
 913: PUSH
 914: LD_VAR 0 5
 918: PUSH
 919: LD_VAR 0 2
 923: PUSH
 924: LD_INT 1
 926: ARRAY
 927: PUSH
 928: EMPTY
 929: LIST
 930: LIST
 931: PUSH
 932: EMPTY
 933: LIST
 934: LIST
 935: ST_TO_ADDR
// Side_Teams = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
 936: LD_ADDR_EXP 38
 940: PUSH
 941: LD_INT 0
 943: PUSH
 944: LD_INT 0
 946: PUSH
 947: LD_INT 0
 949: PUSH
 950: LD_INT 0
 952: PUSH
 953: LD_INT 0
 955: PUSH
 956: LD_INT 0
 958: PUSH
 959: LD_INT 0
 961: PUSH
 962: LD_INT 0
 964: PUSH
 965: EMPTY
 966: LIST
 967: LIST
 968: LIST
 969: LIST
 970: LIST
 971: LIST
 972: LIST
 973: LIST
 974: ST_TO_ADDR
// Side_Teams = Replace ( Replace ( Replace ( Replace ( Side_Teams , s1 , 1 ) , s2 , 1 ) , s3 , 2 ) , sides [ 1 ] , 2 ) ;
 975: LD_ADDR_EXP 38
 979: PUSH
 980: LD_EXP 38
 984: PPUSH
 985: LD_VAR 0 3
 989: PPUSH
 990: LD_INT 1
 992: PPUSH
 993: CALL_OW 1
 997: PPUSH
 998: LD_VAR 0 4
1002: PPUSH
1003: LD_INT 1
1005: PPUSH
1006: CALL_OW 1
1010: PPUSH
1011: LD_VAR 0 5
1015: PPUSH
1016: LD_INT 2
1018: PPUSH
1019: CALL_OW 1
1023: PPUSH
1024: LD_VAR 0 2
1028: PUSH
1029: LD_INT 1
1031: ARRAY
1032: PPUSH
1033: LD_INT 2
1035: PPUSH
1036: CALL_OW 1
1040: ST_TO_ADDR
// end ; is_depot = [ 0 , 1 , 1 , 1 ] [ def_base_level + 1 ] ;
1041: LD_ADDR_EXP 17
1045: PUSH
1046: LD_INT 0
1048: PUSH
1049: LD_INT 1
1051: PUSH
1052: LD_INT 1
1054: PUSH
1055: LD_INT 1
1057: PUSH
1058: EMPTY
1059: LIST
1060: LIST
1061: LIST
1062: LIST
1063: PUSH
1064: LD_EXP 2
1068: PUSH
1069: LD_INT 1
1071: PLUS
1072: ARRAY
1073: ST_TO_ADDR
// number_of_breastworks = [ 0 , 0 , 2 , 4 ] [ def_base_level + 1 ] ;
1074: LD_ADDR_EXP 18
1078: PUSH
1079: LD_INT 0
1081: PUSH
1082: LD_INT 0
1084: PUSH
1085: LD_INT 2
1087: PUSH
1088: LD_INT 4
1090: PUSH
1091: EMPTY
1092: LIST
1093: LIST
1094: LIST
1095: LIST
1096: PUSH
1097: LD_EXP 2
1101: PUSH
1102: LD_INT 1
1104: PLUS
1105: ARRAY
1106: ST_TO_ADDR
// skill_level = [ 2 , 3 , 4 , 5 ] [ def_skill_level + 1 ] ;
1107: LD_ADDR_EXP 20
1111: PUSH
1112: LD_INT 2
1114: PUSH
1115: LD_INT 3
1117: PUSH
1118: LD_INT 4
1120: PUSH
1121: LD_INT 5
1123: PUSH
1124: EMPTY
1125: LIST
1126: LIST
1127: LIST
1128: LIST
1129: PUSH
1130: LD_EXP 4
1134: PUSH
1135: LD_INT 1
1137: PLUS
1138: ARRAY
1139: ST_TO_ADDR
// starting_resources = [ [ 0 , 0 , 0 ] , [ 30 , 0 , 0 ] , [ 50 , 20 , 0 ] , [ 80 , 40 , 20 ] ] [ def_starting_resources + 1 ] ;
1140: LD_ADDR_EXP 22
1144: PUSH
1145: LD_INT 0
1147: PUSH
1148: LD_INT 0
1150: PUSH
1151: LD_INT 0
1153: PUSH
1154: EMPTY
1155: LIST
1156: LIST
1157: LIST
1158: PUSH
1159: LD_INT 30
1161: PUSH
1162: LD_INT 0
1164: PUSH
1165: LD_INT 0
1167: PUSH
1168: EMPTY
1169: LIST
1170: LIST
1171: LIST
1172: PUSH
1173: LD_INT 50
1175: PUSH
1176: LD_INT 20
1178: PUSH
1179: LD_INT 0
1181: PUSH
1182: EMPTY
1183: LIST
1184: LIST
1185: LIST
1186: PUSH
1187: LD_INT 80
1189: PUSH
1190: LD_INT 40
1192: PUSH
1193: LD_INT 20
1195: PUSH
1196: EMPTY
1197: LIST
1198: LIST
1199: LIST
1200: PUSH
1201: EMPTY
1202: LIST
1203: LIST
1204: LIST
1205: LIST
1206: PUSH
1207: LD_EXP 5
1211: PUSH
1212: LD_INT 1
1214: PLUS
1215: ARRAY
1216: ST_TO_ADDR
// starting_crates = [ [ 10 ] , [ 7 , 14 ] , [ 6 , 12 , 18 ] , [ 5 , 10 , 15 , 20 ] ] [ def_starting_resources + 1 ] ;
1217: LD_ADDR_EXP 21
1221: PUSH
1222: LD_INT 10
1224: PUSH
1225: EMPTY
1226: LIST
1227: PUSH
1228: LD_INT 7
1230: PUSH
1231: LD_INT 14
1233: PUSH
1234: EMPTY
1235: LIST
1236: LIST
1237: PUSH
1238: LD_INT 6
1240: PUSH
1241: LD_INT 12
1243: PUSH
1244: LD_INT 18
1246: PUSH
1247: EMPTY
1248: LIST
1249: LIST
1250: LIST
1251: PUSH
1252: LD_INT 5
1254: PUSH
1255: LD_INT 10
1257: PUSH
1258: LD_INT 15
1260: PUSH
1261: LD_INT 20
1263: PUSH
1264: EMPTY
1265: LIST
1266: LIST
1267: LIST
1268: LIST
1269: PUSH
1270: EMPTY
1271: LIST
1272: LIST
1273: LIST
1274: LIST
1275: PUSH
1276: LD_EXP 5
1280: PUSH
1281: LD_INT 1
1283: PLUS
1284: ARRAY
1285: ST_TO_ADDR
// number_of_people := def_amount_of_people + 4 ;
1286: LD_ADDR_EXP 19
1290: PUSH
1291: LD_EXP 3
1295: PUSH
1296: LD_INT 4
1298: PLUS
1299: ST_TO_ADDR
// shipments_density := 150 - def_shipments_density ;
1300: LD_ADDR_EXP 23
1304: PUSH
1305: LD_INT 150
1307: PUSH
1308: LD_EXP 6
1312: MINUS
1313: ST_TO_ADDR
// amount_of_apemen := [ 0 , 3 , 6 , 9 ] [ def_amount_of_apemen + 1 ] ;
1314: LD_ADDR_EXP 32
1318: PUSH
1319: LD_INT 0
1321: PUSH
1322: LD_INT 3
1324: PUSH
1325: LD_INT 6
1327: PUSH
1328: LD_INT 9
1330: PUSH
1331: EMPTY
1332: LIST
1333: LIST
1334: LIST
1335: LIST
1336: PUSH
1337: LD_EXP 12
1341: PUSH
1342: LD_INT 1
1344: PLUS
1345: ARRAY
1346: ST_TO_ADDR
// respawning_time_min = [ 0 0$0 , 4 4$00 , 0 0$50 ] [ def_people_respawning + 1 ] ;
1347: LD_ADDR_EXP 25
1351: PUSH
1352: LD_INT 0
1354: PUSH
1355: LD_INT 8400
1357: PUSH
1358: LD_INT 1750
1360: PUSH
1361: EMPTY
1362: LIST
1363: LIST
1364: LIST
1365: PUSH
1366: LD_EXP 13
1370: PUSH
1371: LD_INT 1
1373: PLUS
1374: ARRAY
1375: ST_TO_ADDR
// respawning_time_max = [ 0 0$0 , 10 10$00 , 2 2$00 ] [ def_people_respawning + 1 ] ;
1376: LD_ADDR_EXP 26
1380: PUSH
1381: LD_INT 0
1383: PUSH
1384: LD_INT 21000
1386: PUSH
1387: LD_INT 4200
1389: PUSH
1390: EMPTY
1391: LIST
1392: LIST
1393: LIST
1394: PUSH
1395: LD_EXP 13
1399: PUSH
1400: LD_INT 1
1402: PLUS
1403: ARRAY
1404: ST_TO_ADDR
// morale_decreasing_time = [ - 1 , 0 0$10 , 0 0$20 , 0 0$40 , 0 0$0 ] [ def_morale_flags + 1 ] ;
1405: LD_ADDR_EXP 24
1409: PUSH
1410: LD_INT 1
1412: NEG
1413: PUSH
1414: LD_INT 350
1416: PUSH
1417: LD_INT 700
1419: PUSH
1420: LD_INT 1400
1422: PUSH
1423: LD_INT 0
1425: PUSH
1426: EMPTY
1427: LIST
1428: LIST
1429: LIST
1430: LIST
1431: LIST
1432: PUSH
1433: LD_EXP 10
1437: PUSH
1438: LD_INT 1
1440: PLUS
1441: ARRAY
1442: ST_TO_ADDR
// battle_flags_id = [ ] ;
1443: LD_ADDR_EXP 49
1447: PUSH
1448: EMPTY
1449: ST_TO_ADDR
// cost = [ 200 , 300 , 400 , 600 , 800 ] [ def_cost + 1 ] ;
1450: LD_ADDR_EXP 27
1454: PUSH
1455: LD_INT 200
1457: PUSH
1458: LD_INT 300
1460: PUSH
1461: LD_INT 400
1463: PUSH
1464: LD_INT 600
1466: PUSH
1467: LD_INT 800
1469: PUSH
1470: EMPTY
1471: LIST
1472: LIST
1473: LIST
1474: LIST
1475: LIST
1476: PUSH
1477: LD_EXP 15
1481: PUSH
1482: LD_INT 1
1484: PLUS
1485: ARRAY
1486: ST_TO_ADDR
// decr_cost_time = [ 0 , 20 20$0 , 10 10$0 , 5 5$0 ] [ def_cost_decreasing + 1 ] ;
1487: LD_ADDR_EXP 28
1491: PUSH
1492: LD_INT 0
1494: PUSH
1495: LD_INT 42000
1497: PUSH
1498: LD_INT 21000
1500: PUSH
1501: LD_INT 10500
1503: PUSH
1504: EMPTY
1505: LIST
1506: LIST
1507: LIST
1508: LIST
1509: PUSH
1510: LD_EXP 16
1514: PUSH
1515: LD_INT 1
1517: PLUS
1518: ARRAY
1519: ST_TO_ADDR
// oil_dep = [ [ 1 ] , [ 4 ] , [ 1 , 4 ] ] [ def_oil_deposits + 1 ] ;
1520: LD_ADDR_EXP 30
1524: PUSH
1525: LD_INT 1
1527: PUSH
1528: EMPTY
1529: LIST
1530: PUSH
1531: LD_INT 4
1533: PUSH
1534: EMPTY
1535: LIST
1536: PUSH
1537: LD_INT 1
1539: PUSH
1540: LD_INT 4
1542: PUSH
1543: EMPTY
1544: LIST
1545: LIST
1546: PUSH
1547: EMPTY
1548: LIST
1549: LIST
1550: LIST
1551: PUSH
1552: LD_EXP 7
1556: PUSH
1557: LD_INT 1
1559: PLUS
1560: ARRAY
1561: ST_TO_ADDR
// sib_dep = [ [ 2 ] , [ 3 ] , [ 2 , 3 ] ] [ def_sib_deposits + 1 ] ;
1562: LD_ADDR_EXP 31
1566: PUSH
1567: LD_INT 2
1569: PUSH
1570: EMPTY
1571: LIST
1572: PUSH
1573: LD_INT 3
1575: PUSH
1576: EMPTY
1577: LIST
1578: PUSH
1579: LD_INT 2
1581: PUSH
1582: LD_INT 3
1584: PUSH
1585: EMPTY
1586: LIST
1587: LIST
1588: PUSH
1589: EMPTY
1590: LIST
1591: LIST
1592: LIST
1593: PUSH
1594: LD_EXP 8
1598: PUSH
1599: LD_INT 1
1601: PLUS
1602: ARRAY
1603: ST_TO_ADDR
// if def_siberite_bomb = 0 then
1604: LD_EXP 14
1608: PUSH
1609: LD_INT 0
1611: EQUAL
1612: IFFALSE 1624
// siberite_bomb_Delay = 0 else
1614: LD_ADDR_EXP 33
1618: PUSH
1619: LD_INT 0
1621: ST_TO_ADDR
1622: GO 1646
// siberite_bomb_Delay = ( def_siberite_bomb - 1 ) * 10 10$0 + 1 ;
1624: LD_ADDR_EXP 33
1628: PUSH
1629: LD_EXP 14
1633: PUSH
1634: LD_INT 1
1636: MINUS
1637: PUSH
1638: LD_INT 21000
1640: MUL
1641: PUSH
1642: LD_INT 1
1644: PLUS
1645: ST_TO_ADDR
// end ;
1646: LD_VAR 0 1
1650: RET
// function prepare_map_coordinates ; var side , dep , br1 , br2 , br3 , br4 , un , i , coord ; begin
1651: LD_INT 0
1653: PPUSH
1654: PPUSH
1655: PPUSH
1656: PPUSH
1657: PPUSH
1658: PPUSH
1659: PPUSH
1660: PPUSH
1661: PPUSH
1662: PPUSH
// depot_def = [ ] ;
1663: LD_ADDR_EXP 45
1667: PUSH
1668: EMPTY
1669: ST_TO_ADDR
// breastworks_def = [ ] ;
1670: LD_ADDR_EXP 46
1674: PUSH
1675: EMPTY
1676: ST_TO_ADDR
// for side := 1 to 4 do
1677: LD_ADDR_VAR 0 2
1681: PUSH
1682: DOUBLE
1683: LD_INT 1
1685: DEC
1686: ST_TO_ADDR
1687: LD_INT 4
1689: PUSH
1690: FOR_TO
1691: IFFALSE 2117
// begin dep := side * 5 - 4 ;
1693: LD_ADDR_VAR 0 3
1697: PUSH
1698: LD_VAR 0 2
1702: PUSH
1703: LD_INT 5
1705: MUL
1706: PUSH
1707: LD_INT 4
1709: MINUS
1710: ST_TO_ADDR
// br1 := side * 5 - 3 ;
1711: LD_ADDR_VAR 0 4
1715: PUSH
1716: LD_VAR 0 2
1720: PUSH
1721: LD_INT 5
1723: MUL
1724: PUSH
1725: LD_INT 3
1727: MINUS
1728: ST_TO_ADDR
// br2 := side * 5 - 2 ;
1729: LD_ADDR_VAR 0 5
1733: PUSH
1734: LD_VAR 0 2
1738: PUSH
1739: LD_INT 5
1741: MUL
1742: PUSH
1743: LD_INT 2
1745: MINUS
1746: ST_TO_ADDR
// br3 := side * 5 - 1 ;
1747: LD_ADDR_VAR 0 6
1751: PUSH
1752: LD_VAR 0 2
1756: PUSH
1757: LD_INT 5
1759: MUL
1760: PUSH
1761: LD_INT 1
1763: MINUS
1764: ST_TO_ADDR
// br4 := side * 5 ;
1765: LD_ADDR_VAR 0 7
1769: PUSH
1770: LD_VAR 0 2
1774: PUSH
1775: LD_INT 5
1777: MUL
1778: ST_TO_ADDR
// depot_def := depot_def ^ [ [ GetX ( dep ) , GetY ( dep ) , GetDir ( dep ) ] ] ;
1779: LD_ADDR_EXP 45
1783: PUSH
1784: LD_EXP 45
1788: PUSH
1789: LD_VAR 0 3
1793: PPUSH
1794: CALL_OW 250
1798: PUSH
1799: LD_VAR 0 3
1803: PPUSH
1804: CALL_OW 251
1808: PUSH
1809: LD_VAR 0 3
1813: PPUSH
1814: CALL_OW 254
1818: PUSH
1819: EMPTY
1820: LIST
1821: LIST
1822: LIST
1823: PUSH
1824: EMPTY
1825: LIST
1826: ADD
1827: ST_TO_ADDR
// start_def := start_def ^ [ [ ShiftX ( GetX ( Dep ) , GetDir ( Dep ) mod 6 , 6 ) , ShiftY ( GetY ( Dep ) , GetDir ( Dep ) mod 6 , 6 ) ] ] ;
1828: LD_ADDR_EXP 47
1832: PUSH
1833: LD_EXP 47
1837: PUSH
1838: LD_VAR 0 3
1842: PPUSH
1843: CALL_OW 250
1847: PPUSH
1848: LD_VAR 0 3
1852: PPUSH
1853: CALL_OW 254
1857: PUSH
1858: LD_INT 6
1860: MOD
1861: PPUSH
1862: LD_INT 6
1864: PPUSH
1865: CALL_OW 272
1869: PUSH
1870: LD_VAR 0 3
1874: PPUSH
1875: CALL_OW 251
1879: PPUSH
1880: LD_VAR 0 3
1884: PPUSH
1885: CALL_OW 254
1889: PUSH
1890: LD_INT 6
1892: MOD
1893: PPUSH
1894: LD_INT 6
1896: PPUSH
1897: CALL_OW 273
1901: PUSH
1902: EMPTY
1903: LIST
1904: LIST
1905: PUSH
1906: EMPTY
1907: LIST
1908: ADD
1909: ST_TO_ADDR
// breastworks_def := breastworks_def ^ [ [ [ GetX ( br1 ) , GetY ( br1 ) , GetDir ( br1 ) ] , [ GetX ( br2 ) , GetY ( br2 ) , GetDir ( br2 ) ] , [ GetX ( br3 ) , GetY ( br3 ) , GetDir ( br3 ) ] , [ GetX ( br4 ) , GetY ( br4 ) , GetDir ( br4 ) ] ] ] ;
1910: LD_ADDR_EXP 46
1914: PUSH
1915: LD_EXP 46
1919: PUSH
1920: LD_VAR 0 4
1924: PPUSH
1925: CALL_OW 250
1929: PUSH
1930: LD_VAR 0 4
1934: PPUSH
1935: CALL_OW 251
1939: PUSH
1940: LD_VAR 0 4
1944: PPUSH
1945: CALL_OW 254
1949: PUSH
1950: EMPTY
1951: LIST
1952: LIST
1953: LIST
1954: PUSH
1955: LD_VAR 0 5
1959: PPUSH
1960: CALL_OW 250
1964: PUSH
1965: LD_VAR 0 5
1969: PPUSH
1970: CALL_OW 251
1974: PUSH
1975: LD_VAR 0 5
1979: PPUSH
1980: CALL_OW 254
1984: PUSH
1985: EMPTY
1986: LIST
1987: LIST
1988: LIST
1989: PUSH
1990: LD_VAR 0 6
1994: PPUSH
1995: CALL_OW 250
1999: PUSH
2000: LD_VAR 0 6
2004: PPUSH
2005: CALL_OW 251
2009: PUSH
2010: LD_VAR 0 6
2014: PPUSH
2015: CALL_OW 254
2019: PUSH
2020: EMPTY
2021: LIST
2022: LIST
2023: LIST
2024: PUSH
2025: LD_VAR 0 7
2029: PPUSH
2030: CALL_OW 250
2034: PUSH
2035: LD_VAR 0 7
2039: PPUSH
2040: CALL_OW 251
2044: PUSH
2045: LD_VAR 0 7
2049: PPUSH
2050: CALL_OW 254
2054: PUSH
2055: EMPTY
2056: LIST
2057: LIST
2058: LIST
2059: PUSH
2060: EMPTY
2061: LIST
2062: LIST
2063: LIST
2064: LIST
2065: PUSH
2066: EMPTY
2067: LIST
2068: ADD
2069: ST_TO_ADDR
// DestroyUnit ( dep ) ;
2070: LD_VAR 0 3
2074: PPUSH
2075: CALL_OW 65
// DestroyUnit ( br1 ) ;
2079: LD_VAR 0 4
2083: PPUSH
2084: CALL_OW 65
// DestroyUnit ( br2 ) ;
2088: LD_VAR 0 5
2092: PPUSH
2093: CALL_OW 65
// DestroyUnit ( br3 ) ;
2097: LD_VAR 0 6
2101: PPUSH
2102: CALL_OW 65
// DestroyUnit ( br4 ) ;
2106: LD_VAR 0 7
2110: PPUSH
2111: CALL_OW 65
// end ;
2115: GO 1690
2117: POP
2118: POP
// deposits_def = [ [ [ 30 , 22 ] , [ 60 , 42 ] , [ 29 , 2 ] , [ 73 , 57 ] ] , [ [ 148 , 24 ] , [ 119 , 20 ] , [ 172 , 36 ] , [ 133 , 50 ] ] , [ [ 84 , 122 ] , [ 101 , 111 ] , [ 74 , 126 ] , [ 109 , 102 ] ] , [ [ 196 , 117 ] , [ 166 , 94 ] , [ 197 , 133 ] , [ 156 , 83 ] ] ] ;
2119: LD_ADDR_EXP 48
2123: PUSH
2124: LD_INT 30
2126: PUSH
2127: LD_INT 22
2129: PUSH
2130: EMPTY
2131: LIST
2132: LIST
2133: PUSH
2134: LD_INT 60
2136: PUSH
2137: LD_INT 42
2139: PUSH
2140: EMPTY
2141: LIST
2142: LIST
2143: PUSH
2144: LD_INT 29
2146: PUSH
2147: LD_INT 2
2149: PUSH
2150: EMPTY
2151: LIST
2152: LIST
2153: PUSH
2154: LD_INT 73
2156: PUSH
2157: LD_INT 57
2159: PUSH
2160: EMPTY
2161: LIST
2162: LIST
2163: PUSH
2164: EMPTY
2165: LIST
2166: LIST
2167: LIST
2168: LIST
2169: PUSH
2170: LD_INT 148
2172: PUSH
2173: LD_INT 24
2175: PUSH
2176: EMPTY
2177: LIST
2178: LIST
2179: PUSH
2180: LD_INT 119
2182: PUSH
2183: LD_INT 20
2185: PUSH
2186: EMPTY
2187: LIST
2188: LIST
2189: PUSH
2190: LD_INT 172
2192: PUSH
2193: LD_INT 36
2195: PUSH
2196: EMPTY
2197: LIST
2198: LIST
2199: PUSH
2200: LD_INT 133
2202: PUSH
2203: LD_INT 50
2205: PUSH
2206: EMPTY
2207: LIST
2208: LIST
2209: PUSH
2210: EMPTY
2211: LIST
2212: LIST
2213: LIST
2214: LIST
2215: PUSH
2216: LD_INT 84
2218: PUSH
2219: LD_INT 122
2221: PUSH
2222: EMPTY
2223: LIST
2224: LIST
2225: PUSH
2226: LD_INT 101
2228: PUSH
2229: LD_INT 111
2231: PUSH
2232: EMPTY
2233: LIST
2234: LIST
2235: PUSH
2236: LD_INT 74
2238: PUSH
2239: LD_INT 126
2241: PUSH
2242: EMPTY
2243: LIST
2244: LIST
2245: PUSH
2246: LD_INT 109
2248: PUSH
2249: LD_INT 102
2251: PUSH
2252: EMPTY
2253: LIST
2254: LIST
2255: PUSH
2256: EMPTY
2257: LIST
2258: LIST
2259: LIST
2260: LIST
2261: PUSH
2262: LD_INT 196
2264: PUSH
2265: LD_INT 117
2267: PUSH
2268: EMPTY
2269: LIST
2270: LIST
2271: PUSH
2272: LD_INT 166
2274: PUSH
2275: LD_INT 94
2277: PUSH
2278: EMPTY
2279: LIST
2280: LIST
2281: PUSH
2282: LD_INT 197
2284: PUSH
2285: LD_INT 133
2287: PUSH
2288: EMPTY
2289: LIST
2290: LIST
2291: PUSH
2292: LD_INT 156
2294: PUSH
2295: LD_INT 83
2297: PUSH
2298: EMPTY
2299: LIST
2300: LIST
2301: PUSH
2302: EMPTY
2303: LIST
2304: LIST
2305: LIST
2306: LIST
2307: PUSH
2308: EMPTY
2309: LIST
2310: LIST
2311: LIST
2312: LIST
2313: ST_TO_ADDR
// for i := 1 to 4 do
2314: LD_ADDR_VAR 0 9
2318: PUSH
2319: DOUBLE
2320: LD_INT 1
2322: DEC
2323: ST_TO_ADDR
2324: LD_INT 4
2326: PUSH
2327: FOR_TO
2328: IFFALSE 2398
// for coord in oil_dep do
2330: LD_ADDR_VAR 0 10
2334: PUSH
2335: LD_EXP 30
2339: PUSH
2340: FOR_IN
2341: IFFALSE 2394
// begin CreateDepositXY ( deposits_def [ i ] [ coord ] [ 1 ] , deposits_def [ i ] [ coord ] [ 2 ] , mat_oil ) ;
2343: LD_EXP 48
2347: PUSH
2348: LD_VAR 0 9
2352: ARRAY
2353: PUSH
2354: LD_VAR 0 10
2358: ARRAY
2359: PUSH
2360: LD_INT 1
2362: ARRAY
2363: PPUSH
2364: LD_EXP 48
2368: PUSH
2369: LD_VAR 0 9
2373: ARRAY
2374: PUSH
2375: LD_VAR 0 10
2379: ARRAY
2380: PUSH
2381: LD_INT 2
2383: ARRAY
2384: PPUSH
2385: LD_INT 2
2387: PPUSH
2388: CALL_OW 62
// end ;
2392: GO 2340
2394: POP
2395: POP
2396: GO 2327
2398: POP
2399: POP
// for i := 1 to 4 do
2400: LD_ADDR_VAR 0 9
2404: PUSH
2405: DOUBLE
2406: LD_INT 1
2408: DEC
2409: ST_TO_ADDR
2410: LD_INT 4
2412: PUSH
2413: FOR_TO
2414: IFFALSE 2484
// for coord in sib_dep do
2416: LD_ADDR_VAR 0 10
2420: PUSH
2421: LD_EXP 31
2425: PUSH
2426: FOR_IN
2427: IFFALSE 2480
// begin CreateDepositXY ( deposits_def [ i ] [ coord ] [ 1 ] , deposits_def [ i ] [ coord ] [ 2 ] , mat_siberit ) ;
2429: LD_EXP 48
2433: PUSH
2434: LD_VAR 0 9
2438: ARRAY
2439: PUSH
2440: LD_VAR 0 10
2444: ARRAY
2445: PUSH
2446: LD_INT 1
2448: ARRAY
2449: PPUSH
2450: LD_EXP 48
2454: PUSH
2455: LD_VAR 0 9
2459: ARRAY
2460: PUSH
2461: LD_VAR 0 10
2465: ARRAY
2466: PUSH
2467: LD_INT 2
2469: ARRAY
2470: PPUSH
2471: LD_INT 3
2473: PPUSH
2474: CALL_OW 62
// end ;
2478: GO 2426
2480: POP
2481: POP
2482: GO 2413
2484: POP
2485: POP
// end ;
2486: LD_VAR 0 1
2490: RET
// function set_shared_visions_and_alliances ; var i , j ; begin
2491: LD_INT 0
2493: PPUSH
2494: PPUSH
2495: PPUSH
// Team_Game := 0 ;
2496: LD_ADDR_EXP 44
2500: PUSH
2501: LD_INT 0
2503: ST_TO_ADDR
// for i = 1 to 8 do
2504: LD_ADDR_VAR 0 2
2508: PUSH
2509: DOUBLE
2510: LD_INT 1
2512: DEC
2513: ST_TO_ADDR
2514: LD_INT 8
2516: PUSH
2517: FOR_TO
2518: IFFALSE 2544
// Team_Game := Team_Game + Side_Teams [ i ] ;
2520: LD_ADDR_EXP 44
2524: PUSH
2525: LD_EXP 44
2529: PUSH
2530: LD_EXP 38
2534: PUSH
2535: LD_VAR 0 2
2539: ARRAY
2540: PLUS
2541: ST_TO_ADDR
2542: GO 2517
2544: POP
2545: POP
// if not Team_Game then
2546: LD_EXP 44
2550: NOT
2551: IFFALSE 2563
// Team_Game := false else
2553: LD_ADDR_EXP 44
2557: PUSH
2558: LD_INT 0
2560: ST_TO_ADDR
2561: GO 2571
// Team_Game := true ;
2563: LD_ADDR_EXP 44
2567: PUSH
2568: LD_INT 1
2570: ST_TO_ADDR
// if not Team_Game then
2571: LD_EXP 44
2575: NOT
2576: IFFALSE 2674
// begin for i = 1 to 8 do
2578: LD_ADDR_VAR 0 2
2582: PUSH
2583: DOUBLE
2584: LD_INT 1
2586: DEC
2587: ST_TO_ADDR
2588: LD_INT 8
2590: PUSH
2591: FOR_TO
2592: IFFALSE 2670
// for j = 1 to 8 do
2594: LD_ADDR_VAR 0 3
2598: PUSH
2599: DOUBLE
2600: LD_INT 1
2602: DEC
2603: ST_TO_ADDR
2604: LD_INT 8
2606: PUSH
2607: FOR_TO
2608: IFFALSE 2666
// if i <> j then
2610: LD_VAR 0 2
2614: PUSH
2615: LD_VAR 0 3
2619: NONEQUAL
2620: IFFALSE 2644
// SetAttitude ( i , j , att_neutral , true ) else
2622: LD_VAR 0 2
2626: PPUSH
2627: LD_VAR 0 3
2631: PPUSH
2632: LD_INT 0
2634: PPUSH
2635: LD_INT 1
2637: PPUSH
2638: CALL_OW 80
2642: GO 2664
// SetAttitude ( i , j , att_friend , true ) ;
2644: LD_VAR 0 2
2648: PPUSH
2649: LD_VAR 0 3
2653: PPUSH
2654: LD_INT 1
2656: PPUSH
2657: LD_INT 1
2659: PPUSH
2660: CALL_OW 80
2664: GO 2607
2666: POP
2667: POP
2668: GO 2591
2670: POP
2671: POP
// end else
2672: GO 2903
// begin if def_shared_vision and ( gametype <> 11 ) then
2674: LD_EXP 9
2678: PUSH
2679: LD_EXP 1
2683: PUSH
2684: LD_INT 11
2686: NONEQUAL
2687: AND
2688: IFFALSE 2753
// begin for i in Teams do
2690: LD_ADDR_VAR 0 2
2694: PUSH
2695: LD_EXP 39
2699: PUSH
2700: FOR_IN
2701: IFFALSE 2751
// for j = 2 to i do
2703: LD_ADDR_VAR 0 3
2707: PUSH
2708: DOUBLE
2709: LD_INT 2
2711: DEC
2712: ST_TO_ADDR
2713: LD_VAR 0 2
2717: PUSH
2718: FOR_TO
2719: IFFALSE 2747
// ChangeSideFog ( i [ j ] , i [ 1 ] ) ;
2721: LD_VAR 0 2
2725: PUSH
2726: LD_VAR 0 3
2730: ARRAY
2731: PPUSH
2732: LD_VAR 0 2
2736: PUSH
2737: LD_INT 1
2739: ARRAY
2740: PPUSH
2741: CALL_OW 343
2745: GO 2718
2747: POP
2748: POP
2749: GO 2700
2751: POP
2752: POP
// end ; for i := 1 to 8 do
2753: LD_ADDR_VAR 0 2
2757: PUSH
2758: DOUBLE
2759: LD_INT 1
2761: DEC
2762: ST_TO_ADDR
2763: LD_INT 8
2765: PUSH
2766: FOR_TO
2767: IFFALSE 2901
// for j := 1 to 8 do
2769: LD_ADDR_VAR 0 3
2773: PUSH
2774: DOUBLE
2775: LD_INT 1
2777: DEC
2778: ST_TO_ADDR
2779: LD_INT 8
2781: PUSH
2782: FOR_TO
2783: IFFALSE 2897
// if i <> j then
2785: LD_VAR 0 2
2789: PUSH
2790: LD_VAR 0 3
2794: NONEQUAL
2795: IFFALSE 2895
// if gametype = 11 then
2797: LD_EXP 1
2801: PUSH
2802: LD_INT 11
2804: EQUAL
2805: IFFALSE 2829
// SetAttitude ( i , j , att_neutral , true ) else
2807: LD_VAR 0 2
2811: PPUSH
2812: LD_VAR 0 3
2816: PPUSH
2817: LD_INT 0
2819: PPUSH
2820: LD_INT 1
2822: PPUSH
2823: CALL_OW 80
2827: GO 2895
// if Side_Teams [ i ] = Side_Teams [ j ] then
2829: LD_EXP 38
2833: PUSH
2834: LD_VAR 0 2
2838: ARRAY
2839: PUSH
2840: LD_EXP 38
2844: PUSH
2845: LD_VAR 0 3
2849: ARRAY
2850: EQUAL
2851: IFFALSE 2875
// SetAttitude ( i , j , att_friend , true ) else
2853: LD_VAR 0 2
2857: PPUSH
2858: LD_VAR 0 3
2862: PPUSH
2863: LD_INT 1
2865: PPUSH
2866: LD_INT 1
2868: PPUSH
2869: CALL_OW 80
2873: GO 2895
// SetAttitude ( i , j , att_enemy , true ) ;
2875: LD_VAR 0 2
2879: PPUSH
2880: LD_VAR 0 3
2884: PPUSH
2885: LD_INT 2
2887: PPUSH
2888: LD_INT 1
2890: PPUSH
2891: CALL_OW 80
2895: GO 2782
2897: POP
2898: POP
2899: GO 2766
2901: POP
2902: POP
// end ; end ;
2903: LD_VAR 0 1
2907: RET
// function prepare_people ( count , cl , x , y , r ) ; var i , j , un ; begin
2908: LD_INT 0
2910: PPUSH
2911: PPUSH
2912: PPUSH
2913: PPUSH
// result := [ ] ;
2914: LD_ADDR_VAR 0 6
2918: PUSH
2919: EMPTY
2920: ST_TO_ADDR
// for i := 1 to count do
2921: LD_ADDR_VAR 0 7
2925: PUSH
2926: DOUBLE
2927: LD_INT 1
2929: DEC
2930: ST_TO_ADDR
2931: LD_VAR 0 1
2935: PUSH
2936: FOR_TO
2937: IFFALSE 3331
// begin uc_direction := Rand ( 0 , 5 ) ;
2939: LD_ADDR_OWVAR 24
2943: PUSH
2944: LD_INT 0
2946: PPUSH
2947: LD_INT 5
2949: PPUSH
2950: CALL_OW 12
2954: ST_TO_ADDR
// if commander then
2955: LD_LOC 1
2959: IFFALSE 3068
// begin hc_name := mp_sides_players_names [ uc_side ] ;
2961: LD_ADDR_OWVAR 26
2965: PUSH
2966: LD_OWVAR 19
2970: PUSH
2971: LD_OWVAR 20
2975: ARRAY
2976: ST_TO_ADDR
// PrepareHuman ( Rand ( 1 , 2 ) , cl , skill_level + 2 ) ;
2977: LD_INT 1
2979: PPUSH
2980: LD_INT 2
2982: PPUSH
2983: CALL_OW 12
2987: PPUSH
2988: LD_VAR 0 2
2992: PPUSH
2993: LD_EXP 20
2997: PUSH
2998: LD_INT 2
3000: PLUS
3001: PPUSH
3002: CALL_OW 380
// hc_importance := 105 ;
3006: LD_ADDR_OWVAR 32
3010: PUSH
3011: LD_INT 105
3013: ST_TO_ADDR
// commander := false ;
3014: LD_ADDR_LOC 1
3018: PUSH
3019: LD_INT 0
3021: ST_TO_ADDR
// if Multiplayer then
3022: LD_OWVAR 4
3026: IFFALSE 3066
// begin hc_gallery := MULTIAVATARS ;
3028: LD_ADDR_OWVAR 33
3032: PUSH
3033: LD_STRING MULTIAVATARS
3035: ST_TO_ADDR
// hc_face_number := Multiplayer_GetPlayerSideNum ( uc_side ) ;
3036: LD_ADDR_OWVAR 34
3040: PUSH
3041: LD_OWVAR 20
3045: PPUSH
3046: CALL_OW 525
3050: ST_TO_ADDR
// hc_sex := Multiplayer_GetPlayerSex ( uc_side ) ;
3051: LD_ADDR_OWVAR 27
3055: PUSH
3056: LD_OWVAR 20
3060: PPUSH
3061: CALL_OW 526
3065: ST_TO_ADDR
// end ; end else
3066: GO 3131
// begin hc_name :=  ;
3068: LD_ADDR_OWVAR 26
3072: PUSH
3073: LD_STRING 
3075: ST_TO_ADDR
// PrepareHuman ( rand ( 1 , 2 ) , cl , skill_level ) ;
3076: LD_INT 1
3078: PPUSH
3079: LD_INT 2
3081: PPUSH
3082: CALL_OW 12
3086: PPUSH
3087: LD_VAR 0 2
3091: PPUSH
3092: LD_EXP 20
3096: PPUSH
3097: CALL_OW 380
// hc_importance := 0 ;
3101: LD_ADDR_OWVAR 32
3105: PUSH
3106: LD_INT 0
3108: ST_TO_ADDR
// if Multiplayer then
3109: LD_OWVAR 4
3113: IFFALSE 3131
// begin hc_gallery :=  ;
3115: LD_ADDR_OWVAR 33
3119: PUSH
3120: LD_STRING 
3122: ST_TO_ADDR
// hc_face_number := 0 ;
3123: LD_ADDR_OWVAR 34
3127: PUSH
3128: LD_INT 0
3130: ST_TO_ADDR
// end ; end ; un := CreateHuman ;
3131: LD_ADDR_VAR 0 9
3135: PUSH
3136: CALL_OW 44
3140: ST_TO_ADDR
// if global_defined then
3141: LD_LOC 3
3145: IFFALSE 3283
// begin j := i ;
3147: LD_ADDR_VAR 0 8
3151: PUSH
3152: LD_VAR 0 7
3156: ST_TO_ADDR
// if cl = class_soldier then
3157: LD_VAR 0 2
3161: PUSH
3162: LD_INT 1
3164: EQUAL
3165: IFFALSE 3183
// j := i + soldiers_created ;
3167: LD_ADDR_VAR 0 8
3171: PUSH
3172: LD_VAR 0 7
3176: PUSH
3177: LD_LOC 4
3181: PLUS
3182: ST_TO_ADDR
// CopySkills ( global_units [ cl ] [ j ] , un ) ;
3183: LD_LOC 2
3187: PUSH
3188: LD_VAR 0 2
3192: ARRAY
3193: PUSH
3194: LD_VAR 0 8
3198: ARRAY
3199: PPUSH
3200: LD_VAR 0 9
3204: PPUSH
3205: CALL_OW 510
// SetAttr ( un , attr_speed , GetAttr ( global_units [ cl ] [ j ] , attr_speed ) ) ;
3209: LD_VAR 0 9
3213: PPUSH
3214: LD_INT 2
3216: PPUSH
3217: LD_LOC 2
3221: PUSH
3222: LD_VAR 0 2
3226: ARRAY
3227: PUSH
3228: LD_VAR 0 8
3232: ARRAY
3233: PPUSH
3234: LD_INT 2
3236: PPUSH
3237: CALL_OW 260
3241: PPUSH
3242: CALL_OW 239
// SetAttr ( un , attr_stamina , GetAttr ( global_units [ cl ] [ j ] , attr_stamina ) ) ;
3246: LD_VAR 0 9
3250: PPUSH
3251: LD_INT 1
3253: PPUSH
3254: LD_LOC 2
3258: PUSH
3259: LD_VAR 0 2
3263: ARRAY
3264: PUSH
3265: LD_VAR 0 8
3269: ARRAY
3270: PPUSH
3271: LD_INT 1
3273: PPUSH
3274: CALL_OW 260
3278: PPUSH
3279: CALL_OW 239
// end ; PlaceUnitXYR ( un , x , y , r , false ) ;
3283: LD_VAR 0 9
3287: PPUSH
3288: LD_VAR 0 3
3292: PPUSH
3293: LD_VAR 0 4
3297: PPUSH
3298: LD_VAR 0 5
3302: PPUSH
3303: LD_INT 0
3305: PPUSH
3306: CALL_OW 50
// result := result ^ [ un ] ;
3310: LD_ADDR_VAR 0 6
3314: PUSH
3315: LD_VAR 0 6
3319: PUSH
3320: LD_VAR 0 9
3324: PUSH
3325: EMPTY
3326: LIST
3327: ADD
3328: ST_TO_ADDR
// end ;
3329: GO 2936
3331: POP
3332: POP
// if not global_defined then
3333: LD_LOC 3
3337: NOT
3338: IFFALSE 3400
// if cl = class_soldier and global_units then
3340: LD_VAR 0 2
3344: PUSH
3345: LD_INT 1
3347: EQUAL
3348: PUSH
3349: LD_LOC 2
3353: AND
3354: IFFALSE 3381
// global_units := [ global_units [ 1 ] ^ result ] else
3356: LD_ADDR_LOC 2
3360: PUSH
3361: LD_LOC 2
3365: PUSH
3366: LD_INT 1
3368: ARRAY
3369: PUSH
3370: LD_VAR 0 6
3374: ADD
3375: PUSH
3376: EMPTY
3377: LIST
3378: ST_TO_ADDR
3379: GO 3400
// global_units := global_units ^ [ result ] ;
3381: LD_ADDR_LOC 2
3385: PUSH
3386: LD_LOC 2
3390: PUSH
3391: LD_VAR 0 6
3395: PUSH
3396: EMPTY
3397: LIST
3398: ADD
3399: ST_TO_ADDR
// end ;
3400: LD_VAR 0 6
3404: RET
// function prepare_side ( side ) ; var pos , x , y , i , r , sol , br , dep , neng , nsci , nmech , nsol ; begin
3405: LD_INT 0
3407: PPUSH
3408: PPUSH
3409: PPUSH
3410: PPUSH
3411: PPUSH
3412: PPUSH
3413: PPUSH
3414: PPUSH
3415: PPUSH
3416: PPUSH
3417: PPUSH
3418: PPUSH
3419: PPUSH
// pos := Side_Positions [ side ] ;
3420: LD_ADDR_VAR 0 3
3424: PUSH
3425: LD_EXP 40
3429: PUSH
3430: LD_VAR 0 1
3434: ARRAY
3435: ST_TO_ADDR
// uc_nation := Side_Nations [ side ] ;
3436: LD_ADDR_OWVAR 21
3440: PUSH
3441: LD_EXP 41
3445: PUSH
3446: LD_VAR 0 1
3450: ARRAY
3451: ST_TO_ADDR
// uc_side := side ;
3452: LD_ADDR_OWVAR 20
3456: PUSH
3457: LD_VAR 0 1
3461: ST_TO_ADDR
// x := depot_def [ pos ] [ 1 ] ;
3462: LD_ADDR_VAR 0 4
3466: PUSH
3467: LD_EXP 45
3471: PUSH
3472: LD_VAR 0 3
3476: ARRAY
3477: PUSH
3478: LD_INT 1
3480: ARRAY
3481: ST_TO_ADDR
// y := depot_def [ pos ] [ 2 ] ;
3482: LD_ADDR_VAR 0 5
3486: PUSH
3487: LD_EXP 45
3491: PUSH
3492: LD_VAR 0 3
3496: ARRAY
3497: PUSH
3498: LD_INT 2
3500: ARRAY
3501: ST_TO_ADDR
// if is_depot then
3502: LD_EXP 17
3506: IFFALSE 3649
// begin bc_type = b_depot ;
3508: LD_ADDR_OWVAR 42
3512: PUSH
3513: LD_INT 0
3515: ST_TO_ADDR
// dep := CreateAndPlaceBuildingXYD ( x , y , Depot_Def [ pos ] [ 3 ] ) ;
3516: LD_ADDR_VAR 0 10
3520: PUSH
3521: LD_VAR 0 4
3525: PPUSH
3526: LD_VAR 0 5
3530: PPUSH
3531: LD_EXP 45
3535: PUSH
3536: LD_VAR 0 3
3540: ARRAY
3541: PUSH
3542: LD_INT 3
3544: ARRAY
3545: PPUSH
3546: CALL_OW 47
3550: ST_TO_ADDR
// SetBName ( dep , @ & side ) ;
3551: LD_VAR 0 10
3555: PPUSH
3556: LD_STRING @
3558: PUSH
3559: LD_VAR 0 1
3563: STR
3564: PPUSH
3565: CALL_OW 500
// SetResourceType ( GetBase ( dep ) , mat_cans , starting_resources [ mat_cans ] ) ;
3569: LD_VAR 0 10
3573: PPUSH
3574: CALL_OW 274
3578: PPUSH
3579: LD_INT 1
3581: PPUSH
3582: LD_EXP 22
3586: PUSH
3587: LD_INT 1
3589: ARRAY
3590: PPUSH
3591: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_oil , starting_resources [ mat_oil ] ) ;
3595: LD_VAR 0 10
3599: PPUSH
3600: CALL_OW 274
3604: PPUSH
3605: LD_INT 2
3607: PPUSH
3608: LD_EXP 22
3612: PUSH
3613: LD_INT 2
3615: ARRAY
3616: PPUSH
3617: CALL_OW 277
// SetResourceType ( GetBase ( result ) , mat_siberit , starting_resources [ mat_siberit ] ) ;
3621: LD_VAR 0 2
3625: PPUSH
3626: CALL_OW 274
3630: PPUSH
3631: LD_INT 3
3633: PPUSH
3634: LD_EXP 22
3638: PUSH
3639: LD_INT 3
3641: ARRAY
3642: PPUSH
3643: CALL_OW 277
// end else
3647: GO 3793
// begin for i := 1 to 3 do
3649: LD_ADDR_VAR 0 6
3653: PUSH
3654: DOUBLE
3655: LD_INT 1
3657: DEC
3658: ST_TO_ADDR
3659: LD_INT 3
3661: PUSH
3662: FOR_TO
3663: IFFALSE 3791
// begin r := starting_resources [ i ] ;
3665: LD_ADDR_VAR 0 7
3669: PUSH
3670: LD_EXP 22
3674: PUSH
3675: LD_VAR 0 6
3679: ARRAY
3680: ST_TO_ADDR
// while r >= 10 do
3681: LD_VAR 0 7
3685: PUSH
3686: LD_INT 10
3688: GREATEREQUAL
3689: IFFALSE 3789
// if r > 50 then
3691: LD_VAR 0 7
3695: PUSH
3696: LD_INT 50
3698: GREATER
3699: IFFALSE 3745
// begin CreateResourcesXYR ( i , 5 , x , y , 4 , false ) ;
3701: LD_VAR 0 6
3705: PPUSH
3706: LD_INT 5
3708: PPUSH
3709: LD_VAR 0 4
3713: PPUSH
3714: LD_VAR 0 5
3718: PPUSH
3719: LD_INT 4
3721: PPUSH
3722: LD_INT 0
3724: PPUSH
3725: CALL_OW 60
// r := r - 50 ;
3729: LD_ADDR_VAR 0 7
3733: PUSH
3734: LD_VAR 0 7
3738: PUSH
3739: LD_INT 50
3741: MINUS
3742: ST_TO_ADDR
// end else
3743: GO 3787
// begin CreateResourcesXYR ( i , r div 10 , x , y , 4 , false ) ;
3745: LD_VAR 0 6
3749: PPUSH
3750: LD_VAR 0 7
3754: PUSH
3755: LD_INT 10
3757: DIV
3758: PPUSH
3759: LD_VAR 0 4
3763: PPUSH
3764: LD_VAR 0 5
3768: PPUSH
3769: LD_INT 4
3771: PPUSH
3772: LD_INT 0
3774: PPUSH
3775: CALL_OW 60
// r := 0 ;
3779: LD_ADDR_VAR 0 7
3783: PUSH
3784: LD_INT 0
3786: ST_TO_ADDR
// end ;
3787: GO 3681
// end ;
3789: GO 3662
3791: POP
3792: POP
// end ; x := start_def [ pos ] [ 1 ] ;
3793: LD_ADDR_VAR 0 4
3797: PUSH
3798: LD_EXP 47
3802: PUSH
3803: LD_VAR 0 3
3807: ARRAY
3808: PUSH
3809: LD_INT 1
3811: ARRAY
3812: ST_TO_ADDR
// y := start_def [ pos ] [ 2 ] ;
3813: LD_ADDR_VAR 0 5
3817: PUSH
3818: LD_EXP 47
3822: PUSH
3823: LD_VAR 0 3
3827: ARRAY
3828: PUSH
3829: LD_INT 2
3831: ARRAY
3832: ST_TO_ADDR
// for r in starting_crates do
3833: LD_ADDR_VAR 0 7
3837: PUSH
3838: LD_EXP 21
3842: PUSH
3843: FOR_IN
3844: IFFALSE 3876
// CreateResourcesXYR ( mat_cans , 5 , x , y , r , false ) ;
3846: LD_INT 1
3848: PPUSH
3849: LD_INT 5
3851: PPUSH
3852: LD_VAR 0 4
3856: PPUSH
3857: LD_VAR 0 5
3861: PPUSH
3862: LD_VAR 0 7
3866: PPUSH
3867: LD_INT 0
3869: PPUSH
3870: CALL_OW 60
3874: GO 3843
3876: POP
3877: POP
// if def_morale_flags then
3878: LD_EXP 10
3882: IFFALSE 3961
// battle_flags_id := battle_flags_id ^ SetBattleFlag ( side , x , y , [ [ bfo_defend_bonus_human , 100 ] , [ bfo_defend_bonus_vehicle , 50 ] , [ bfo_defend_bonus_building , 20 ] , [ bfo_height , 100 ] ] ) ;
3884: LD_ADDR_EXP 49
3888: PUSH
3889: LD_EXP 49
3893: PUSH
3894: LD_VAR 0 1
3898: PPUSH
3899: LD_VAR 0 4
3903: PPUSH
3904: LD_VAR 0 5
3908: PPUSH
3909: LD_INT 1
3911: PUSH
3912: LD_INT 100
3914: PUSH
3915: EMPTY
3916: LIST
3917: LIST
3918: PUSH
3919: LD_INT 2
3921: PUSH
3922: LD_INT 50
3924: PUSH
3925: EMPTY
3926: LIST
3927: LIST
3928: PUSH
3929: LD_INT 3
3931: PUSH
3932: LD_INT 20
3934: PUSH
3935: EMPTY
3936: LIST
3937: LIST
3938: PUSH
3939: LD_INT 20
3941: PUSH
3942: LD_INT 100
3944: PUSH
3945: EMPTY
3946: LIST
3947: LIST
3948: PUSH
3949: EMPTY
3950: LIST
3951: LIST
3952: LIST
3953: LIST
3954: PPUSH
3955: CALL_OW 418
3959: ADD
3960: ST_TO_ADDR
// neng := number_of_people ;
3961: LD_ADDR_VAR 0 11
3965: PUSH
3966: LD_EXP 19
3970: ST_TO_ADDR
// nsol := number_of_breastworks ;
3971: LD_ADDR_VAR 0 14
3975: PUSH
3976: LD_EXP 18
3980: ST_TO_ADDR
// if nsol < neng div 4 then
3981: LD_VAR 0 14
3985: PUSH
3986: LD_VAR 0 11
3990: PUSH
3991: LD_INT 4
3993: DIV
3994: LESS
3995: IFFALSE 4011
// nsol := neng div 4 ;
3997: LD_ADDR_VAR 0 14
4001: PUSH
4002: LD_VAR 0 11
4006: PUSH
4007: LD_INT 4
4009: DIV
4010: ST_TO_ADDR
// neng := neng - nsol ;
4011: LD_ADDR_VAR 0 11
4015: PUSH
4016: LD_VAR 0 11
4020: PUSH
4021: LD_VAR 0 14
4025: MINUS
4026: ST_TO_ADDR
// nsci := neng div 3 ;
4027: LD_ADDR_VAR 0 12
4031: PUSH
4032: LD_VAR 0 11
4036: PUSH
4037: LD_INT 3
4039: DIV
4040: ST_TO_ADDR
// if nsci < 1 then
4041: LD_VAR 0 12
4045: PUSH
4046: LD_INT 1
4048: LESS
4049: IFFALSE 4059
// nsci := 1 ;
4051: LD_ADDR_VAR 0 12
4055: PUSH
4056: LD_INT 1
4058: ST_TO_ADDR
// neng := neng - nsci ;
4059: LD_ADDR_VAR 0 11
4063: PUSH
4064: LD_VAR 0 11
4068: PUSH
4069: LD_VAR 0 12
4073: MINUS
4074: ST_TO_ADDR
// nmech := neng div 2 ;
4075: LD_ADDR_VAR 0 13
4079: PUSH
4080: LD_VAR 0 11
4084: PUSH
4085: LD_INT 2
4087: DIV
4088: ST_TO_ADDR
// neng := neng - nmech ;
4089: LD_ADDR_VAR 0 11
4093: PUSH
4094: LD_VAR 0 11
4098: PUSH
4099: LD_VAR 0 13
4103: MINUS
4104: ST_TO_ADDR
// if neng < 1 then
4105: LD_VAR 0 11
4109: PUSH
4110: LD_INT 1
4112: LESS
4113: IFFALSE 4123
// neng := 1 ;
4115: LD_ADDR_VAR 0 11
4119: PUSH
4120: LD_INT 1
4122: ST_TO_ADDR
// commander := true ;
4123: LD_ADDR_LOC 1
4127: PUSH
4128: LD_INT 1
4130: ST_TO_ADDR
// soldiers_created := 0 ;
4131: LD_ADDR_LOC 4
4135: PUSH
4136: LD_INT 0
4138: ST_TO_ADDR
// for i := 1 to number_of_breastworks do
4139: LD_ADDR_VAR 0 6
4143: PUSH
4144: DOUBLE
4145: LD_INT 1
4147: DEC
4148: ST_TO_ADDR
4149: LD_EXP 18
4153: PUSH
4154: FOR_TO
4155: IFFALSE 4399
// begin x := breastworks_def [ pos ] [ i ] [ 1 ] ;
4157: LD_ADDR_VAR 0 4
4161: PUSH
4162: LD_EXP 46
4166: PUSH
4167: LD_VAR 0 3
4171: ARRAY
4172: PUSH
4173: LD_VAR 0 6
4177: ARRAY
4178: PUSH
4179: LD_INT 1
4181: ARRAY
4182: ST_TO_ADDR
// y := breastworks_def [ pos ] [ i ] [ 2 ] ;
4183: LD_ADDR_VAR 0 5
4187: PUSH
4188: LD_EXP 46
4192: PUSH
4193: LD_VAR 0 3
4197: ARRAY
4198: PUSH
4199: LD_VAR 0 6
4203: ARRAY
4204: PUSH
4205: LD_INT 2
4207: ARRAY
4208: ST_TO_ADDR
// bc_type := b_breastwork ;
4209: LD_ADDR_OWVAR 42
4213: PUSH
4214: LD_INT 31
4216: ST_TO_ADDR
// br := CreateAndPlaceBuildingXYD ( x , y , breastworks_def [ pos ] [ i ] [ 3 ] ) ;
4217: LD_ADDR_VAR 0 9
4221: PUSH
4222: LD_VAR 0 4
4226: PPUSH
4227: LD_VAR 0 5
4231: PPUSH
4232: LD_EXP 46
4236: PUSH
4237: LD_VAR 0 3
4241: ARRAY
4242: PUSH
4243: LD_VAR 0 6
4247: ARRAY
4248: PUSH
4249: LD_INT 3
4251: ARRAY
4252: PPUSH
4253: CALL_OW 47
4257: ST_TO_ADDR
// x := ShiftX ( x , breastworks_def [ pos ] [ i ] [ 3 ] , 2 ) ;
4258: LD_ADDR_VAR 0 4
4262: PUSH
4263: LD_VAR 0 4
4267: PPUSH
4268: LD_EXP 46
4272: PUSH
4273: LD_VAR 0 3
4277: ARRAY
4278: PUSH
4279: LD_VAR 0 6
4283: ARRAY
4284: PUSH
4285: LD_INT 3
4287: ARRAY
4288: PPUSH
4289: LD_INT 2
4291: PPUSH
4292: CALL_OW 272
4296: ST_TO_ADDR
// y := ShiftY ( y , breastworks_def [ pos ] [ i ] [ 3 ] , 2 ) ;
4297: LD_ADDR_VAR 0 5
4301: PUSH
4302: LD_VAR 0 5
4306: PPUSH
4307: LD_EXP 46
4311: PUSH
4312: LD_VAR 0 3
4316: ARRAY
4317: PUSH
4318: LD_VAR 0 6
4322: ARRAY
4323: PUSH
4324: LD_INT 3
4326: ARRAY
4327: PPUSH
4328: LD_INT 2
4330: PPUSH
4331: CALL_OW 273
4335: ST_TO_ADDR
// sol := prepare_people ( 1 , class_soldier , x , y , 0 ) [ 1 ] ;
4336: LD_ADDR_VAR 0 8
4340: PUSH
4341: LD_INT 1
4343: PPUSH
4344: LD_INT 1
4346: PPUSH
4347: LD_VAR 0 4
4351: PPUSH
4352: LD_VAR 0 5
4356: PPUSH
4357: LD_INT 0
4359: PPUSH
4360: CALL 2908 0 5
4364: PUSH
4365: LD_INT 1
4367: ARRAY
4368: ST_TO_ADDR
// soldiers_created := soldiers_created + 1 ;
4369: LD_ADDR_LOC 4
4373: PUSH
4374: LD_LOC 4
4378: PUSH
4379: LD_INT 1
4381: PLUS
4382: ST_TO_ADDR
// ComEnterUnit ( sol , br ) ;
4383: LD_VAR 0 8
4387: PPUSH
4388: LD_VAR 0 9
4392: PPUSH
4393: CALL_OW 120
// end ;
4397: GO 4154
4399: POP
4400: POP
// x := start_def [ pos ] [ 1 ] ;
4401: LD_ADDR_VAR 0 4
4405: PUSH
4406: LD_EXP 47
4410: PUSH
4411: LD_VAR 0 3
4415: ARRAY
4416: PUSH
4417: LD_INT 1
4419: ARRAY
4420: ST_TO_ADDR
// y := start_def [ pos ] [ 2 ] ;
4421: LD_ADDR_VAR 0 5
4425: PUSH
4426: LD_EXP 47
4430: PUSH
4431: LD_VAR 0 3
4435: ARRAY
4436: PUSH
4437: LD_INT 2
4439: ARRAY
4440: ST_TO_ADDR
// prepare_people ( nsol - number_of_breastworks , class_soldier , x , y , 5 ) ;
4441: LD_VAR 0 14
4445: PUSH
4446: LD_EXP 18
4450: MINUS
4451: PPUSH
4452: LD_INT 1
4454: PPUSH
4455: LD_VAR 0 4
4459: PPUSH
4460: LD_VAR 0 5
4464: PPUSH
4465: LD_INT 5
4467: PPUSH
4468: CALL 2908 0 5
// prepare_people ( neng , class_engineer , x , y , 5 ) ;
4472: LD_VAR 0 11
4476: PPUSH
4477: LD_INT 2
4479: PPUSH
4480: LD_VAR 0 4
4484: PPUSH
4485: LD_VAR 0 5
4489: PPUSH
4490: LD_INT 5
4492: PPUSH
4493: CALL 2908 0 5
// prepare_people ( nmech , class_mechanic , x , y , 5 ) ;
4497: LD_VAR 0 13
4501: PPUSH
4502: LD_INT 3
4504: PPUSH
4505: LD_VAR 0 4
4509: PPUSH
4510: LD_VAR 0 5
4514: PPUSH
4515: LD_INT 5
4517: PPUSH
4518: CALL 2908 0 5
// prepare_people ( nsci , class_scientistic , x , y , 5 ) ;
4522: LD_VAR 0 12
4526: PPUSH
4527: LD_INT 4
4529: PPUSH
4530: LD_VAR 0 4
4534: PPUSH
4535: LD_VAR 0 5
4539: PPUSH
4540: LD_INT 5
4542: PPUSH
4543: CALL 2908 0 5
// if not global_defined then
4547: LD_LOC 3
4551: NOT
4552: IFFALSE 4562
// global_defined := true ;
4554: LD_ADDR_LOC 3
4558: PUSH
4559: LD_INT 1
4561: ST_TO_ADDR
// if def_siberite_detection and GetTech ( tech_sibdet , side ) = state_enabled then
4562: LD_EXP 11
4566: PUSH
4567: LD_INT 20
4569: PPUSH
4570: LD_VAR 0 1
4574: PPUSH
4575: CALL_OW 321
4579: PUSH
4580: LD_INT 1
4582: EQUAL
4583: AND
4584: IFFALSE 4601
// SetTech ( tech_SibDet , side , state_researched ) ;
4586: LD_INT 20
4588: PPUSH
4589: LD_VAR 0 1
4593: PPUSH
4594: LD_INT 2
4596: PPUSH
4597: CALL_OW 322
// if def_siberite_bomb = 1 then
4601: LD_EXP 14
4605: PUSH
4606: LD_INT 1
4608: EQUAL
4609: IFFALSE 4643
// begin SetTech ( tech_SibFiss , side , state_enabled ) ;
4611: LD_INT 25
4613: PPUSH
4614: LD_VAR 0 1
4618: PPUSH
4619: LD_INT 1
4621: PPUSH
4622: CALL_OW 322
// SetTech ( 73 , side , state_enabled ) ;
4626: LD_INT 73
4628: PPUSH
4629: LD_VAR 0 1
4633: PPUSH
4634: LD_INT 1
4636: PPUSH
4637: CALL_OW 322
// end else
4641: GO 4673
// begin SetTech ( tech_SibFiss , side , state_disabled ) ;
4643: LD_INT 25
4645: PPUSH
4646: LD_VAR 0 1
4650: PPUSH
4651: LD_INT 0
4653: PPUSH
4654: CALL_OW 322
// SetTech ( 73 , side , state_disabled ) ;
4658: LD_INT 73
4660: PPUSH
4661: LD_VAR 0 1
4665: PPUSH
4666: LD_INT 0
4668: PPUSH
4669: CALL_OW 322
// end ; SetTech ( tech_artifact , side , state_disabled ) ;
4673: LD_INT 24
4675: PPUSH
4676: LD_VAR 0 1
4680: PPUSH
4681: LD_INT 0
4683: PPUSH
4684: CALL_OW 322
// end ;
4688: LD_VAR 0 2
4692: RET
// every 0 0$1 do
4693: GO 4695
4695: DISABLE
// if ( def_siberite_bomb > 1 ) then
4696: LD_EXP 14
4700: PUSH
4701: LD_INT 1
4703: GREATER
4704: IFFALSE 4719
// begin wait ( siberite_bomb_Delay ) ;
4706: LD_EXP 33
4710: PPUSH
4711: CALL_OW 67
// EnableSibFiss ;
4715: CALL 4720 0 0
// end ;
4719: END
// function EnableSibFiss ; var i ; begin
4720: LD_INT 0
4722: PPUSH
4723: PPUSH
// for i := 1 to 8 do
4724: LD_ADDR_VAR 0 2
4728: PUSH
4729: DOUBLE
4730: LD_INT 1
4732: DEC
4733: ST_TO_ADDR
4734: LD_INT 8
4736: PUSH
4737: FOR_TO
4738: IFFALSE 4784
// if Side_Positions [ i ] then
4740: LD_EXP 40
4744: PUSH
4745: LD_VAR 0 2
4749: ARRAY
4750: IFFALSE 4782
// begin SetTech ( tech_SibFiss , i , state_enabled ) ;
4752: LD_INT 25
4754: PPUSH
4755: LD_VAR 0 2
4759: PPUSH
4760: LD_INT 1
4762: PPUSH
4763: CALL_OW 322
// SetTech ( 73 , i , state_enabled ) ;
4767: LD_INT 73
4769: PPUSH
4770: LD_VAR 0 2
4774: PPUSH
4775: LD_INT 1
4777: PPUSH
4778: CALL_OW 322
// end ;
4782: GO 4737
4784: POP
4785: POP
// end ;
4786: LD_VAR 0 1
4790: RET
// function prepare_sides ; var i ; begin
4791: LD_INT 0
4793: PPUSH
4794: PPUSH
// global_units := [ ] ;
4795: LD_ADDR_LOC 2
4799: PUSH
4800: EMPTY
4801: ST_TO_ADDR
// global_defined := false ;
4802: LD_ADDR_LOC 3
4806: PUSH
4807: LD_INT 0
4809: ST_TO_ADDR
// for i := 1 to 8 do
4810: LD_ADDR_VAR 0 2
4814: PUSH
4815: DOUBLE
4816: LD_INT 1
4818: DEC
4819: ST_TO_ADDR
4820: LD_INT 8
4822: PUSH
4823: FOR_TO
4824: IFFALSE 4849
// if Side_Positions [ i ] then
4826: LD_EXP 40
4830: PUSH
4831: LD_VAR 0 2
4835: ARRAY
4836: IFFALSE 4847
// prepare_side ( i ) ;
4838: LD_VAR 0 2
4842: PPUSH
4843: CALL 3405 0 1
4847: GO 4823
4849: POP
4850: POP
// end ;
4851: LD_VAR 0 1
4855: RET
// starting begin disable ( 400 ) ;
4856: LD_INT 400
4858: DISABLE_MARKED
// disable ( 401 ) ;
4859: LD_INT 401
4861: DISABLE_MARKED
// disable ( 10 ) ;
4862: LD_INT 10
4864: DISABLE_MARKED
// disable ( 11 ) ;
4865: LD_INT 11
4867: DISABLE_MARKED
// mp_selectmsg := true ;
4868: LD_ADDR_OWVAR 13
4872: PUSH
4873: LD_INT 1
4875: ST_TO_ADDR
// read_multiplayer_and_game_parameters ;
4876: CALL 0 0 0
// prepare_map_coordinates ;
4880: CALL 1651 0 0
// set_shared_visions_and_alliances ;
4884: CALL 2491 0 0
// prepare_sides ;
4888: CALL 4791 0 0
// Init_Win_Condition ;
4892: CALL 6260 0 0
// init_respawning ;
4896: CALL 14399 0 0
// AnimateTrees ( true ) ;
4900: LD_INT 1
4902: PPUSH
4903: CALL_OW 573
// InitApeman ;
4907: CALL 8611 0 0
// init_infos ;
4911: CALL 6957 0 0
// your_side := Player_Side ;
4915: LD_ADDR_OWVAR 2
4919: PUSH
4920: LD_EXP 36
4924: ST_TO_ADDR
// music_nat := Side_Nations [ your_side ] ;
4925: LD_ADDR_OWVAR 71
4929: PUSH
4930: LD_EXP 41
4934: PUSH
4935: LD_OWVAR 2
4939: ARRAY
4940: ST_TO_ADDR
// ResetFog ;
4941: CALL_OW 335
// CenterNowOnXY ( start_def [ Side_Positions [ your_side ] ] [ 1 ] , start_def [ Side_Positions [ your_side ] ] [ 2 ] ) ;
4945: LD_EXP 47
4949: PUSH
4950: LD_EXP 40
4954: PUSH
4955: LD_OWVAR 2
4959: ARRAY
4960: ARRAY
4961: PUSH
4962: LD_INT 1
4964: ARRAY
4965: PPUSH
4966: LD_EXP 47
4970: PUSH
4971: LD_EXP 40
4975: PUSH
4976: LD_OWVAR 2
4980: ARRAY
4981: ARRAY
4982: PUSH
4983: LD_INT 2
4985: ARRAY
4986: PPUSH
4987: CALL_OW 86
// end ; end_of_file
4991: END
// every 0 0$1 + 0 0$0.6 do var i , Amount ;
4992: GO 4994
4994: DISABLE
4995: LD_INT 0
4997: PPUSH
4998: PPUSH
// begin case tick of 1 .. 1 1$0 :
4999: LD_OWVAR 1
5003: PUSH
5004: LD_INT 1
5006: DOUBLE
5007: GREATEREQUAL
5008: IFFALSE 5016
5010: LD_INT 2100
5012: DOUBLE
5013: LESSEQUAL
5014: IFTRUE 5018
5016: GO 5046
5018: POP
// Wait ( shipments_density / 100 * Rand ( 0 0$15 , 0 0$30 ) ) ; 1 1$0 + 1 .. 5 5$0 :
5019: LD_EXP 23
5023: PUSH
5024: LD_INT 100
5026: DIVREAL
5027: PUSH
5028: LD_INT 525
5030: PPUSH
5031: LD_INT 1050
5033: PPUSH
5034: CALL_OW 12
5038: MUL
5039: PPUSH
5040: CALL_OW 67
5044: GO 5348
5046: LD_INT 2100
5048: PUSH
5049: LD_INT 1
5051: PLUS
5052: DOUBLE
5053: GREATEREQUAL
5054: IFFALSE 5062
5056: LD_INT 10500
5058: DOUBLE
5059: LESSEQUAL
5060: IFTRUE 5064
5062: GO 5092
5064: POP
// Wait ( shipments_density / 100 * Rand ( 0 0$30 , 0 0$50 ) ) ; 5 5$0 + 1 .. 10 10$0 :
5065: LD_EXP 23
5069: PUSH
5070: LD_INT 100
5072: DIVREAL
5073: PUSH
5074: LD_INT 1050
5076: PPUSH
5077: LD_INT 1750
5079: PPUSH
5080: CALL_OW 12
5084: MUL
5085: PPUSH
5086: CALL_OW 67
5090: GO 5348
5092: LD_INT 10500
5094: PUSH
5095: LD_INT 1
5097: PLUS
5098: DOUBLE
5099: GREATEREQUAL
5100: IFFALSE 5108
5102: LD_INT 21000
5104: DOUBLE
5105: LESSEQUAL
5106: IFTRUE 5110
5108: GO 5138
5110: POP
// Wait ( shipments_density / 100 * Rand ( 0 0$50 , 1 1$00 ) ) ; 10 10$0 + 1 .. 20 20$0 :
5111: LD_EXP 23
5115: PUSH
5116: LD_INT 100
5118: DIVREAL
5119: PUSH
5120: LD_INT 1750
5122: PPUSH
5123: LD_INT 2100
5125: PPUSH
5126: CALL_OW 12
5130: MUL
5131: PPUSH
5132: CALL_OW 67
5136: GO 5348
5138: LD_INT 21000
5140: PUSH
5141: LD_INT 1
5143: PLUS
5144: DOUBLE
5145: GREATEREQUAL
5146: IFFALSE 5154
5148: LD_INT 42000
5150: DOUBLE
5151: LESSEQUAL
5152: IFTRUE 5156
5154: GO 5184
5156: POP
// Wait ( shipments_density / 100 * Rand ( 1 1$00 , 1 1$05 ) ) ; 20 20$0 + 1 .. 30 30$0 :
5157: LD_EXP 23
5161: PUSH
5162: LD_INT 100
5164: DIVREAL
5165: PUSH
5166: LD_INT 2100
5168: PPUSH
5169: LD_INT 2275
5171: PPUSH
5172: CALL_OW 12
5176: MUL
5177: PPUSH
5178: CALL_OW 67
5182: GO 5348
5184: LD_INT 42000
5186: PUSH
5187: LD_INT 1
5189: PLUS
5190: DOUBLE
5191: GREATEREQUAL
5192: IFFALSE 5200
5194: LD_INT 63000
5196: DOUBLE
5197: LESSEQUAL
5198: IFTRUE 5202
5200: GO 5230
5202: POP
// Wait ( shipments_density / 100 * Rand ( 1 1$05 , 1 1$10 ) ) ; 30 30$0 + 1 .. 50 50$0 :
5203: LD_EXP 23
5207: PUSH
5208: LD_INT 100
5210: DIVREAL
5211: PUSH
5212: LD_INT 2275
5214: PPUSH
5215: LD_INT 2450
5217: PPUSH
5218: CALL_OW 12
5222: MUL
5223: PPUSH
5224: CALL_OW 67
5228: GO 5348
5230: LD_INT 63000
5232: PUSH
5233: LD_INT 1
5235: PLUS
5236: DOUBLE
5237: GREATEREQUAL
5238: IFFALSE 5246
5240: LD_INT 105000
5242: DOUBLE
5243: LESSEQUAL
5244: IFTRUE 5248
5246: GO 5276
5248: POP
// Wait ( shipments_density / 100 * Rand ( 1 1$10 , 1 1$20 ) ) ; 50 50$0 + 1 .. 300 300$0 :
5249: LD_EXP 23
5253: PUSH
5254: LD_INT 100
5256: DIVREAL
5257: PUSH
5258: LD_INT 2450
5260: PPUSH
5261: LD_INT 2800
5263: PPUSH
5264: CALL_OW 12
5268: MUL
5269: PPUSH
5270: CALL_OW 67
5274: GO 5348
5276: LD_INT 105000
5278: PUSH
5279: LD_INT 1
5281: PLUS
5282: DOUBLE
5283: GREATEREQUAL
5284: IFFALSE 5292
5286: LD_INT 630000
5288: DOUBLE
5289: LESSEQUAL
5290: IFTRUE 5294
5292: GO 5322
5294: POP
// Wait ( shipments_density / 100 * Rand ( 1 1$20 , 1 1$40 ) ) ; else
5295: LD_EXP 23
5299: PUSH
5300: LD_INT 100
5302: DIVREAL
5303: PUSH
5304: LD_INT 2800
5306: PPUSH
5307: LD_INT 3500
5309: PPUSH
5310: CALL_OW 12
5314: MUL
5315: PPUSH
5316: CALL_OW 67
5320: GO 5348
5322: POP
// Wait ( shipments_density / 100 * Rand ( 1 1$40 , 1 1$50 ) ) ; end ;
5323: LD_EXP 23
5327: PUSH
5328: LD_INT 100
5330: DIVREAL
5331: PUSH
5332: LD_INT 3500
5334: PPUSH
5335: LD_INT 3850
5337: PPUSH
5338: CALL_OW 12
5342: MUL
5343: PPUSH
5344: CALL_OW 67
// Amount := Rand ( 3 , 5 ) ;
5348: LD_ADDR_VAR 0 2
5352: PUSH
5353: LD_INT 3
5355: PPUSH
5356: LD_INT 5
5358: PPUSH
5359: CALL_OW 12
5363: ST_TO_ADDR
// if Rand ( 0 , 1 ) = 1 then
5364: LD_INT 0
5366: PPUSH
5367: LD_INT 1
5369: PPUSH
5370: CALL_OW 12
5374: PUSH
5375: LD_INT 1
5377: EQUAL
5378: IFFALSE 5442
// for i in ( Side_Positions diff [ 0 ] ) do
5380: LD_ADDR_VAR 0 1
5384: PUSH
5385: LD_EXP 40
5389: PUSH
5390: LD_INT 0
5392: PUSH
5393: EMPTY
5394: LIST
5395: DIFF
5396: PUSH
5397: FOR_IN
5398: IFFALSE 5438
// CreateCratesArea ( Amount , [ Base1 , Base2 , Base3 , Base4 ] [ i ] , true ) else
5400: LD_VAR 0 2
5404: PPUSH
5405: LD_INT 18
5407: PUSH
5408: LD_INT 19
5410: PUSH
5411: LD_INT 20
5413: PUSH
5414: LD_INT 21
5416: PUSH
5417: EMPTY
5418: LIST
5419: LIST
5420: LIST
5421: LIST
5422: PUSH
5423: LD_VAR 0 1
5427: ARRAY
5428: PPUSH
5429: LD_INT 1
5431: PPUSH
5432: CALL_OW 55
5436: GO 5397
5438: POP
5439: POP
5440: GO 5502
// for i in ( Side_Positions diff [ 0 ] ) do
5442: LD_ADDR_VAR 0 1
5446: PUSH
5447: LD_EXP 40
5451: PUSH
5452: LD_INT 0
5454: PUSH
5455: EMPTY
5456: LIST
5457: DIFF
5458: PUSH
5459: FOR_IN
5460: IFFALSE 5500
// CreateCratesArea ( Amount , [ Safe1 , Safe2 , Safe3 , Safe4 ] [ i ] , true ) ;
5462: LD_VAR 0 2
5466: PPUSH
5467: LD_INT 26
5469: PUSH
5470: LD_INT 27
5472: PUSH
5473: LD_INT 28
5475: PUSH
5476: LD_INT 29
5478: PUSH
5479: EMPTY
5480: LIST
5481: LIST
5482: LIST
5483: LIST
5484: PUSH
5485: LD_VAR 0 1
5489: ARRAY
5490: PPUSH
5491: LD_INT 1
5493: PPUSH
5494: CALL_OW 55
5498: GO 5459
5500: POP
5501: POP
// enable ;
5502: ENABLE
// end ;
5503: PPOPN 2
5505: END
// every 0 0$25 + 0 0$1.0 do
5506: GO 5508
5508: DISABLE
// begin if GetResourceArea ( Between1 , mat_cans ) < ( ( 200 - shipments_density ) / 25 * 5 ) then
5509: LD_INT 30
5511: PPUSH
5512: LD_INT 1
5514: PPUSH
5515: CALL_OW 287
5519: PUSH
5520: LD_INT 200
5522: PUSH
5523: LD_EXP 23
5527: MINUS
5528: PUSH
5529: LD_INT 25
5531: DIVREAL
5532: PUSH
5533: LD_INT 5
5535: MUL
5536: LESS
5537: IFFALSE 5560
// CreateCratesArea ( Rand ( 2 , 4 ) , Between1 , true ) ;
5539: LD_INT 2
5541: PPUSH
5542: LD_INT 4
5544: PPUSH
5545: CALL_OW 12
5549: PPUSH
5550: LD_INT 30
5552: PPUSH
5553: LD_INT 1
5555: PPUSH
5556: CALL_OW 55
// if GetResourceArea ( Between2 , mat_cans ) < ( ( 200 - shipments_density ) / 25 * 5 ) then
5560: LD_INT 31
5562: PPUSH
5563: LD_INT 1
5565: PPUSH
5566: CALL_OW 287
5570: PUSH
5571: LD_INT 200
5573: PUSH
5574: LD_EXP 23
5578: MINUS
5579: PUSH
5580: LD_INT 25
5582: DIVREAL
5583: PUSH
5584: LD_INT 5
5586: MUL
5587: LESS
5588: IFFALSE 5611
// CreateCratesArea ( Rand ( 2 , 4 ) , Between2 , true ) ;
5590: LD_INT 2
5592: PPUSH
5593: LD_INT 4
5595: PPUSH
5596: CALL_OW 12
5600: PPUSH
5601: LD_INT 31
5603: PPUSH
5604: LD_INT 1
5606: PPUSH
5607: CALL_OW 55
// if GetResourceArea ( Between3 , mat_cans ) < ( ( 200 - shipments_density ) / 25 * 5 ) then
5611: LD_INT 32
5613: PPUSH
5614: LD_INT 1
5616: PPUSH
5617: CALL_OW 287
5621: PUSH
5622: LD_INT 200
5624: PUSH
5625: LD_EXP 23
5629: MINUS
5630: PUSH
5631: LD_INT 25
5633: DIVREAL
5634: PUSH
5635: LD_INT 5
5637: MUL
5638: LESS
5639: IFFALSE 5662
// CreateCratesArea ( Rand ( 2 , 4 ) , Between3 , true ) ;
5641: LD_INT 2
5643: PPUSH
5644: LD_INT 4
5646: PPUSH
5647: CALL_OW 12
5651: PPUSH
5652: LD_INT 32
5654: PPUSH
5655: LD_INT 1
5657: PPUSH
5658: CALL_OW 55
// if GetResourceArea ( Between4 , mat_cans ) < ( ( 200 - shipments_density ) / 25 * 5 ) then
5662: LD_INT 33
5664: PPUSH
5665: LD_INT 1
5667: PPUSH
5668: CALL_OW 287
5672: PUSH
5673: LD_INT 200
5675: PUSH
5676: LD_EXP 23
5680: MINUS
5681: PUSH
5682: LD_INT 25
5684: DIVREAL
5685: PUSH
5686: LD_INT 5
5688: MUL
5689: LESS
5690: IFFALSE 5713
// CreateCratesArea ( Rand ( 2 , 4 ) , Between4 , true ) ;
5692: LD_INT 2
5694: PPUSH
5695: LD_INT 4
5697: PPUSH
5698: CALL_OW 12
5702: PPUSH
5703: LD_INT 33
5705: PPUSH
5706: LD_INT 1
5708: PPUSH
5709: CALL_OW 55
// if GetResourceArea ( Ring1 , mat_cans ) < ( ( 200 - shipments_density ) / 50 * 5 ) then
5713: LD_INT 34
5715: PPUSH
5716: LD_INT 1
5718: PPUSH
5719: CALL_OW 287
5723: PUSH
5724: LD_INT 200
5726: PUSH
5727: LD_EXP 23
5731: MINUS
5732: PUSH
5733: LD_INT 50
5735: DIVREAL
5736: PUSH
5737: LD_INT 5
5739: MUL
5740: LESS
5741: IFFALSE 5764
// CreateCratesArea ( Rand ( 3 , 4 ) , Ring1 , true ) ;
5743: LD_INT 3
5745: PPUSH
5746: LD_INT 4
5748: PPUSH
5749: CALL_OW 12
5753: PPUSH
5754: LD_INT 34
5756: PPUSH
5757: LD_INT 1
5759: PPUSH
5760: CALL_OW 55
// if GetResourceArea ( Ring2 , mat_cans ) < ( ( 200 - shipments_density ) / 50 * 5 ) then
5764: LD_INT 35
5766: PPUSH
5767: LD_INT 1
5769: PPUSH
5770: CALL_OW 287
5774: PUSH
5775: LD_INT 200
5777: PUSH
5778: LD_EXP 23
5782: MINUS
5783: PUSH
5784: LD_INT 50
5786: DIVREAL
5787: PUSH
5788: LD_INT 5
5790: MUL
5791: LESS
5792: IFFALSE 5815
// CreateCratesArea ( Rand ( 3 , 4 ) , Ring2 , true ) ;
5794: LD_INT 3
5796: PPUSH
5797: LD_INT 4
5799: PPUSH
5800: CALL_OW 12
5804: PPUSH
5805: LD_INT 35
5807: PPUSH
5808: LD_INT 1
5810: PPUSH
5811: CALL_OW 55
// if GetResourceArea ( Ring3 , mat_cans ) < ( ( 200 - shipments_density ) / 50 * 5 ) then
5815: LD_INT 36
5817: PPUSH
5818: LD_INT 1
5820: PPUSH
5821: CALL_OW 287
5825: PUSH
5826: LD_INT 200
5828: PUSH
5829: LD_EXP 23
5833: MINUS
5834: PUSH
5835: LD_INT 50
5837: DIVREAL
5838: PUSH
5839: LD_INT 5
5841: MUL
5842: LESS
5843: IFFALSE 5866
// CreateCratesArea ( Rand ( 3 , 4 ) , Ring3 , true ) ;
5845: LD_INT 3
5847: PPUSH
5848: LD_INT 4
5850: PPUSH
5851: CALL_OW 12
5855: PPUSH
5856: LD_INT 36
5858: PPUSH
5859: LD_INT 1
5861: PPUSH
5862: CALL_OW 55
// if GetResourceArea ( Ring4 , mat_cans ) < ( ( 200 - shipments_density ) / 50 * 5 ) then
5866: LD_INT 37
5868: PPUSH
5869: LD_INT 1
5871: PPUSH
5872: CALL_OW 287
5876: PUSH
5877: LD_INT 200
5879: PUSH
5880: LD_EXP 23
5884: MINUS
5885: PUSH
5886: LD_INT 50
5888: DIVREAL
5889: PUSH
5890: LD_INT 5
5892: MUL
5893: LESS
5894: IFFALSE 5917
// CreateCratesArea ( Rand ( 3 , 4 ) , Ring4 , true ) ;
5896: LD_INT 3
5898: PPUSH
5899: LD_INT 4
5901: PPUSH
5902: CALL_OW 12
5906: PPUSH
5907: LD_INT 37
5909: PPUSH
5910: LD_INT 1
5912: PPUSH
5913: CALL_OW 55
// if GetResourceArea ( Center , mat_cans ) < ( ( 200 - shipments_density ) / 25 * 5 ) then
5917: LD_INT 38
5919: PPUSH
5920: LD_INT 1
5922: PPUSH
5923: CALL_OW 287
5927: PUSH
5928: LD_INT 200
5930: PUSH
5931: LD_EXP 23
5935: MINUS
5936: PUSH
5937: LD_INT 25
5939: DIVREAL
5940: PUSH
5941: LD_INT 5
5943: MUL
5944: LESS
5945: IFFALSE 5960
// CreateCratesArea ( 5 , Center , true ) ;
5947: LD_INT 5
5949: PPUSH
5950: LD_INT 38
5952: PPUSH
5953: LD_INT 1
5955: PPUSH
5956: CALL_OW 55
// enable ;
5960: ENABLE
// end ; end_of_file
5961: END
// function prepare_treasure ( x , y ) ; var sm , i ; begin
5962: LD_INT 0
5964: PPUSH
5965: PPUSH
5966: PPUSH
// sm := rand ( 0 , 6 ) ;
5967: LD_ADDR_VAR 0 4
5971: PUSH
5972: LD_INT 0
5974: PPUSH
5975: LD_INT 6
5977: PPUSH
5978: CALL_OW 12
5982: ST_TO_ADDR
// for i := 0 to 15 do
5983: LD_ADDR_VAR 0 5
5987: PUSH
5988: DOUBLE
5989: LD_INT 0
5991: DEC
5992: ST_TO_ADDR
5993: LD_INT 15
5995: PUSH
5996: FOR_TO
5997: IFFALSE 6103
// begin MoveAreaXY ( p1 + i , x , y ) ;
5999: LD_INT 1
6001: PUSH
6002: LD_VAR 0 5
6006: PLUS
6007: PPUSH
6008: LD_VAR 0 1
6012: PPUSH
6013: LD_VAR 0 2
6017: PPUSH
6018: CALL_OW 425
// if prob ( 30 ) then
6022: LD_INT 30
6024: PPUSH
6025: CALL_OW 13
6029: IFFALSE 6047
// sm := rand ( 0 , 6 ) ;
6031: LD_ADDR_VAR 0 4
6035: PUSH
6036: LD_INT 0
6038: PPUSH
6039: LD_INT 6
6041: PPUSH
6042: CALL_OW 12
6046: ST_TO_ADDR
// x := ShiftX ( x - 1 , sm , 1 ) ;
6047: LD_ADDR_VAR 0 1
6051: PUSH
6052: LD_VAR 0 1
6056: PUSH
6057: LD_INT 1
6059: MINUS
6060: PPUSH
6061: LD_VAR 0 4
6065: PPUSH
6066: LD_INT 1
6068: PPUSH
6069: CALL_OW 272
6073: ST_TO_ADDR
// y := ShiftY ( y - 1 , sm , 1 ) ;
6074: LD_ADDR_VAR 0 2
6078: PUSH
6079: LD_VAR 0 2
6083: PUSH
6084: LD_INT 1
6086: MINUS
6087: PPUSH
6088: LD_VAR 0 4
6092: PPUSH
6093: LD_INT 1
6095: PPUSH
6096: CALL_OW 273
6100: ST_TO_ADDR
// end ;
6101: GO 5996
6103: POP
6104: POP
// end ;
6105: LD_VAR 0 3
6109: RET
// function show_treasure ; var i ; begin
6110: LD_INT 0
6112: PPUSH
6113: PPUSH
// SetAreaMapShow ( p16 , 1 ) ;
6114: LD_INT 16
6116: PPUSH
6117: LD_INT 1
6119: PPUSH
6120: CALL_OW 424
// for i := 1 to 15 do
6124: LD_ADDR_VAR 0 2
6128: PUSH
6129: DOUBLE
6130: LD_INT 1
6132: DEC
6133: ST_TO_ADDR
6134: LD_INT 15
6136: PUSH
6137: FOR_TO
6138: IFFALSE 6185
// begin wait ( 0 0$10 ) ;
6140: LD_INT 350
6142: PPUSH
6143: CALL_OW 67
// SetAreaMapShow ( p16 - i + 1 , 0 ) ;
6147: LD_INT 16
6149: PUSH
6150: LD_VAR 0 2
6154: MINUS
6155: PUSH
6156: LD_INT 1
6158: PLUS
6159: PPUSH
6160: LD_INT 0
6162: PPUSH
6163: CALL_OW 424
// SetAreaMapShow ( p16 - i , 1 ) ;
6167: LD_INT 16
6169: PUSH
6170: LD_VAR 0 2
6174: MINUS
6175: PPUSH
6176: LD_INT 1
6178: PPUSH
6179: CALL_OW 424
// end ;
6183: GO 6137
6185: POP
6186: POP
// wait ( 0 0$30 ) ;
6187: LD_INT 1050
6189: PPUSH
6190: CALL_OW 67
// SetAreaMapShow ( p1 , 0 ) ;
6194: LD_INT 1
6196: PPUSH
6197: LD_INT 0
6199: PPUSH
6200: CALL_OW 424
// end ;
6204: LD_VAR 0 1
6208: RET
// export function new_treasure ; var xy ; begin
6209: LD_INT 0
6211: PPUSH
6212: PPUSH
// xy := RandHexArea ( All , false ) ;
6213: LD_ADDR_VAR 0 2
6217: PUSH
6218: LD_INT 17
6220: PPUSH
6221: LD_INT 0
6223: PPUSH
6224: CALL_OW 16
6228: ST_TO_ADDR
// prepare_treasure ( xy [ 1 ] , xy [ 2 ] ) ;
6229: LD_VAR 0 2
6233: PUSH
6234: LD_INT 1
6236: ARRAY
6237: PPUSH
6238: LD_VAR 0 2
6242: PUSH
6243: LD_INT 2
6245: ARRAY
6246: PPUSH
6247: CALL 5962 0 2
// show_treasure ;
6251: CALL 6110 0 0
// end ; end_of_file
6255: LD_VAR 0 1
6259: RET
// export function Init_Win_Condition ; begin
6260: LD_INT 0
6262: PPUSH
// disable ( 98 ) ;
6263: LD_INT 98
6265: DISABLE_MARKED
// disable ( 99 ) ;
6266: LD_INT 99
6268: DISABLE_MARKED
// if Team_Game then
6269: LD_EXP 44
6273: IFFALSE 6280
// enable ( 98 ) else
6275: LD_INT 98
6277: ENABLE_MARKED
6278: GO 6283
// enable ( 99 ) ;
6280: LD_INT 99
6282: ENABLE_MARKED
// end ;
6283: LD_VAR 0 1
6287: RET
// function CanWinLoose ; begin
6288: LD_INT 0
6290: PPUSH
// Result := true ;
6291: LD_ADDR_VAR 0 1
6295: PUSH
6296: LD_INT 1
6298: ST_TO_ADDR
// if IAmServer and PlayerCount > 0 then
6299: CALL_OW 518
6303: PUSH
6304: CALL_OW 519
6308: PUSH
6309: LD_INT 0
6311: GREATER
6312: AND
6313: IFFALSE 6323
// Result := false ;
6315: LD_ADDR_VAR 0 1
6319: PUSH
6320: LD_INT 0
6322: ST_TO_ADDR
// if IAmSpec and PlayerCount > 1 then
6323: CALL_OW 531
6327: PUSH
6328: CALL_OW 519
6332: PUSH
6333: LD_INT 1
6335: GREATER
6336: AND
6337: IFFALSE 6347
// Result := false ;
6339: LD_ADDR_VAR 0 1
6343: PUSH
6344: LD_INT 0
6346: ST_TO_ADDR
// end ;
6347: LD_VAR 0 1
6351: RET
// function HasPower ( i ) ; begin
6352: LD_INT 0
6354: PPUSH
// if def_people_respawning then
6355: LD_EXP 13
6359: IFFALSE 6450
// Result := FilterAllUnits ( [ [ f_side , i ] , [ f_or , [ f_type , unit_human ] , [ f_control , control_computer ] , [ f_control , control_apeman ] , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) else
6361: LD_ADDR_VAR 0 2
6365: PUSH
6366: LD_INT 22
6368: PUSH
6369: LD_VAR 0 1
6373: PUSH
6374: EMPTY
6375: LIST
6376: LIST
6377: PUSH
6378: LD_INT 2
6380: PUSH
6381: LD_INT 21
6383: PUSH
6384: LD_INT 1
6386: PUSH
6387: EMPTY
6388: LIST
6389: LIST
6390: PUSH
6391: LD_INT 33
6393: PUSH
6394: LD_INT 3
6396: PUSH
6397: EMPTY
6398: LIST
6399: LIST
6400: PUSH
6401: LD_INT 33
6403: PUSH
6404: LD_INT 5
6406: PUSH
6407: EMPTY
6408: LIST
6409: LIST
6410: PUSH
6411: LD_INT 30
6413: PUSH
6414: LD_INT 0
6416: PUSH
6417: EMPTY
6418: LIST
6419: LIST
6420: PUSH
6421: LD_INT 30
6423: PUSH
6424: LD_INT 1
6426: PUSH
6427: EMPTY
6428: LIST
6429: LIST
6430: PUSH
6431: EMPTY
6432: LIST
6433: LIST
6434: LIST
6435: LIST
6436: LIST
6437: LIST
6438: PUSH
6439: EMPTY
6440: LIST
6441: LIST
6442: PPUSH
6443: CALL_OW 69
6447: ST_TO_ADDR
6448: GO 6515
// Result := FilterAllUnits ( [ [ f_side , i ] , [ f_or , [ f_type , unit_human ] , [ f_control , control_computer ] , [ f_control , control_apeman ] ] ] ) ;
6450: LD_ADDR_VAR 0 2
6454: PUSH
6455: LD_INT 22
6457: PUSH
6458: LD_VAR 0 1
6462: PUSH
6463: EMPTY
6464: LIST
6465: LIST
6466: PUSH
6467: LD_INT 2
6469: PUSH
6470: LD_INT 21
6472: PUSH
6473: LD_INT 1
6475: PUSH
6476: EMPTY
6477: LIST
6478: LIST
6479: PUSH
6480: LD_INT 33
6482: PUSH
6483: LD_INT 3
6485: PUSH
6486: EMPTY
6487: LIST
6488: LIST
6489: PUSH
6490: LD_INT 33
6492: PUSH
6493: LD_INT 5
6495: PUSH
6496: EMPTY
6497: LIST
6498: LIST
6499: PUSH
6500: EMPTY
6501: LIST
6502: LIST
6503: LIST
6504: LIST
6505: PUSH
6506: EMPTY
6507: LIST
6508: LIST
6509: PPUSH
6510: CALL_OW 69
6514: ST_TO_ADDR
// end ;
6515: LD_VAR 0 2
6519: RET
// function AlliedSides ( i , j ) ; begin
6520: LD_INT 0
6522: PPUSH
// Result := false ;
6523: LD_ADDR_VAR 0 3
6527: PUSH
6528: LD_INT 0
6530: ST_TO_ADDR
// if ( GetAttitude ( i , j ) = att_friend ) and ( GetAttitude ( j , i ) = att_friend ) and GetAlliedVictory ( i ) and GetAlliedVictory ( j ) then
6531: LD_VAR 0 1
6535: PPUSH
6536: LD_VAR 0 2
6540: PPUSH
6541: CALL_OW 81
6545: PUSH
6546: LD_INT 1
6548: EQUAL
6549: PUSH
6550: LD_VAR 0 2
6554: PPUSH
6555: LD_VAR 0 1
6559: PPUSH
6560: CALL_OW 81
6564: PUSH
6565: LD_INT 1
6567: EQUAL
6568: AND
6569: PUSH
6570: LD_VAR 0 1
6574: PPUSH
6575: CALL_OW 83
6579: AND
6580: PUSH
6581: LD_VAR 0 2
6585: PPUSH
6586: CALL_OW 83
6590: AND
6591: IFFALSE 6601
// Result := true ;
6593: LD_ADDR_VAR 0 3
6597: PUSH
6598: LD_INT 1
6600: ST_TO_ADDR
// end ;
6601: LD_VAR 0 3
6605: RET
// every 0 0$3 trigger CanWinLoose marked 400 do
6606: CALL 6288 0 0
6610: IFFALSE 6619
6612: GO 6614
6614: DISABLE
// YouLostInMultiplayer ;
6615: CALL_OW 107
6619: END
// every 0 0$3 trigger CanWinLoose marked 401 do
6620: CALL 6288 0 0
6624: IFFALSE 6648
6626: GO 6628
6628: DISABLE
// begin SA_Win ( Side_Nations [ Your_side ] ) ;
6629: LD_EXP 41
6633: PUSH
6634: LD_OWVAR 2
6638: ARRAY
6639: PPUSH
6640: CALL 9478 0 1
// YouWinInMultiplayer ;
6644: CALL_OW 106
// end ;
6648: END
// every 0 0$3 marked 98 do var i , CanWin ;
6649: GO 6651
6651: DISABLE
6652: LD_INT 0
6654: PPUSH
6655: PPUSH
// begin if not HasPower ( your_side ) then
6656: LD_OWVAR 2
6660: PPUSH
6661: CALL 6352 0 1
6665: NOT
6666: IFFALSE 6677
// begin Multiplayer_Loose_Message ;
6668: CALL_OW 521
// enable ( 400 ) ;
6672: LD_INT 400
6674: ENABLE_MARKED
// end else
6675: GO 6810
// begin CanWin := true ;
6677: LD_ADDR_VAR 0 2
6681: PUSH
6682: LD_INT 1
6684: ST_TO_ADDR
// for i := 1 to 8 do
6685: LD_ADDR_VAR 0 1
6689: PUSH
6690: DOUBLE
6691: LD_INT 1
6693: DEC
6694: ST_TO_ADDR
6695: LD_INT 8
6697: PUSH
6698: FOR_TO
6699: IFFALSE 6796
// if Side_Positions [ i ] and MultiplayerSideAlive ( i ) and ( i <> your_side ) then
6701: LD_EXP 40
6705: PUSH
6706: LD_VAR 0 1
6710: ARRAY
6711: PUSH
6712: LD_VAR 0 1
6716: PPUSH
6717: CALL_OW 108
6721: AND
6722: PUSH
6723: LD_VAR 0 1
6727: PUSH
6728: LD_OWVAR 2
6732: NONEQUAL
6733: AND
6734: IFFALSE 6794
// if not Side_Teams [ i ] or ( Side_Teams [ i ] <> Side_Teams [ your_side ] ) then
6736: LD_EXP 38
6740: PUSH
6741: LD_VAR 0 1
6745: ARRAY
6746: NOT
6747: PUSH
6748: LD_EXP 38
6752: PUSH
6753: LD_VAR 0 1
6757: ARRAY
6758: PUSH
6759: LD_EXP 38
6763: PUSH
6764: LD_OWVAR 2
6768: ARRAY
6769: NONEQUAL
6770: OR
6771: IFFALSE 6794
// if HasPower ( i ) then
6773: LD_VAR 0 1
6777: PPUSH
6778: CALL 6352 0 1
6782: IFFALSE 6794
// begin CanWin := false ;
6784: LD_ADDR_VAR 0 2
6788: PUSH
6789: LD_INT 0
6791: ST_TO_ADDR
// break ;
6792: GO 6796
// end ;
6794: GO 6698
6796: POP
6797: POP
// if CanWin then
6798: LD_VAR 0 2
6802: IFFALSE 6809
// enable ( 401 ) else
6804: LD_INT 401
6806: ENABLE_MARKED
6807: GO 6810
// enable ;
6809: ENABLE
// end ; end ;
6810: PPOPN 2
6812: END
// every 0 0$3 marked 99 do var i , CanWin ;
6813: GO 6815
6815: DISABLE
6816: LD_INT 0
6818: PPUSH
6819: PPUSH
// begin if not HasPower ( your_side ) then
6820: LD_OWVAR 2
6824: PPUSH
6825: CALL 6352 0 1
6829: NOT
6830: IFFALSE 6841
// begin Multiplayer_Loose_Message ;
6832: CALL_OW 521
// enable ( 400 ) ;
6836: LD_INT 400
6838: ENABLE_MARKED
// end else
6839: GO 6954
// begin CanWin := true ;
6841: LD_ADDR_VAR 0 2
6845: PUSH
6846: LD_INT 1
6848: ST_TO_ADDR
// for i := 1 to 8 do
6849: LD_ADDR_VAR 0 1
6853: PUSH
6854: DOUBLE
6855: LD_INT 1
6857: DEC
6858: ST_TO_ADDR
6859: LD_INT 8
6861: PUSH
6862: FOR_TO
6863: IFFALSE 6940
// if Side_Positions [ i ] and MultiplayerSideAlive ( i ) and ( i <> your_side ) then
6865: LD_EXP 40
6869: PUSH
6870: LD_VAR 0 1
6874: ARRAY
6875: PUSH
6876: LD_VAR 0 1
6880: PPUSH
6881: CALL_OW 108
6885: AND
6886: PUSH
6887: LD_VAR 0 1
6891: PUSH
6892: LD_OWVAR 2
6896: NONEQUAL
6897: AND
6898: IFFALSE 6938
// if not AlliedSides ( i , your_side ) then
6900: LD_VAR 0 1
6904: PPUSH
6905: LD_OWVAR 2
6909: PPUSH
6910: CALL 6520 0 2
6914: NOT
6915: IFFALSE 6938
// if HasPower ( i ) then
6917: LD_VAR 0 1
6921: PPUSH
6922: CALL 6352 0 1
6926: IFFALSE 6938
// begin CanWin := false ;
6928: LD_ADDR_VAR 0 2
6932: PUSH
6933: LD_INT 0
6935: ST_TO_ADDR
// break ;
6936: GO 6940
// end ;
6938: GO 6862
6940: POP
6941: POP
// if CanWin then
6942: LD_VAR 0 2
6946: IFFALSE 6953
// enable ( 401 ) else
6948: LD_INT 401
6950: ENABLE_MARKED
6951: GO 6954
// enable ;
6953: ENABLE
// end ; end ; end_of_file
6954: PPOPN 2
6956: END
// var infos ; export function init_infos ; begin
6957: LD_INT 0
6959: PPUSH
// infos = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
6960: LD_ADDR_LOC 5
6964: PUSH
6965: LD_INT 0
6967: PUSH
6968: LD_INT 0
6970: PUSH
6971: LD_INT 0
6973: PUSH
6974: LD_INT 0
6976: PUSH
6977: LD_INT 0
6979: PUSH
6980: LD_INT 0
6982: PUSH
6983: LD_INT 0
6985: PUSH
6986: LD_INT 0
6988: PUSH
6989: EMPTY
6990: LIST
6991: LIST
6992: LIST
6993: LIST
6994: LIST
6995: LIST
6996: LIST
6997: LIST
6998: ST_TO_ADDR
// real_cost = cost ;
6999: LD_ADDR_EXP 29
7003: PUSH
7004: LD_EXP 27
7008: ST_TO_ADDR
// cost = cost * 10 ;
7009: LD_ADDR_EXP 27
7013: PUSH
7014: LD_EXP 27
7018: PUSH
7019: LD_INT 10
7021: MUL
7022: ST_TO_ADDR
// enable ;
7023: ENABLE
// end ;
7024: LD_VAR 0 1
7028: RET
// every 0 0$1 do
7029: GO 7031
7031: DISABLE
// begin if gametype <> 11 then
7032: LD_EXP 1
7036: PUSH
7037: LD_INT 11
7039: NONEQUAL
7040: IFFALSE 7044
// exit ;
7042: GO 7133
// if decr_cost_time = 0 then
7044: LD_EXP 28
7048: PUSH
7049: LD_INT 0
7051: EQUAL
7052: IFFALSE 7074
// real_cost = ( cost div 100 ) * 10 else
7054: LD_ADDR_EXP 29
7058: PUSH
7059: LD_EXP 27
7063: PUSH
7064: LD_INT 100
7066: DIV
7067: PUSH
7068: LD_INT 10
7070: MUL
7071: ST_TO_ADDR
7072: GO 7133
// repeat wait ( decr_cost_time div 5 ) ;
7074: LD_EXP 28
7078: PUSH
7079: LD_INT 5
7081: DIV
7082: PPUSH
7083: CALL_OW 67
// cost = cost * 1000 div 1149 ;
7087: LD_ADDR_EXP 27
7091: PUSH
7092: LD_EXP 27
7096: PUSH
7097: LD_INT 1000
7099: MUL
7100: PUSH
7101: LD_INT 1149
7103: DIV
7104: ST_TO_ADDR
// real_cost = ( cost div 100 ) * 10 ;
7105: LD_ADDR_EXP 29
7109: PUSH
7110: LD_EXP 27
7114: PUSH
7115: LD_INT 100
7117: DIV
7118: PUSH
7119: LD_INT 10
7121: MUL
7122: ST_TO_ADDR
// until real_cost = 10 ;
7123: LD_EXP 29
7127: PUSH
7128: LD_INT 10
7130: EQUAL
7131: IFFALSE 7074
// end ;
7133: END
// every 0 0$1 do
7134: GO 7136
7136: DISABLE
// begin if gametype <> 11 then
7137: LD_EXP 1
7141: PUSH
7142: LD_INT 11
7144: NONEQUAL
7145: IFFALSE 7153
// ShowTimer else
7147: CALL 7571 0 0
7151: GO 7157
// ShowInfos ;
7153: CALL 7159 0 0
// enable ;
7157: ENABLE
// end ;
7158: END
// function ShowInfos ; var inf , en1 , en2 , AllStrings ; begin
7159: LD_INT 0
7161: PPUSH
7162: PPUSH
7163: PPUSH
7164: PPUSH
7165: PPUSH
// if gametype <> 11 then
7166: LD_EXP 1
7170: PUSH
7171: LD_INT 11
7173: NONEQUAL
7174: IFFALSE 7178
// exit ;
7176: GO 7566
// if not your_side then
7178: LD_OWVAR 2
7182: NOT
7183: IFFALSE 7188
// begin enable ;
7185: ENABLE
// exit ;
7186: GO 7566
// end ; if Teams [ Side_Teams [ your_side ] ] [ 1 ] = your_side then
7188: LD_EXP 39
7192: PUSH
7193: LD_EXP 38
7197: PUSH
7198: LD_OWVAR 2
7202: ARRAY
7203: ARRAY
7204: PUSH
7205: LD_INT 1
7207: ARRAY
7208: PUSH
7209: LD_OWVAR 2
7213: EQUAL
7214: IFFALSE 7278
// begin en1 = Teams [ 3 - Side_Teams [ your_side ] ] [ 2 ] ;
7216: LD_ADDR_VAR 0 3
7220: PUSH
7221: LD_EXP 39
7225: PUSH
7226: LD_INT 3
7228: PUSH
7229: LD_EXP 38
7233: PUSH
7234: LD_OWVAR 2
7238: ARRAY
7239: MINUS
7240: ARRAY
7241: PUSH
7242: LD_INT 2
7244: ARRAY
7245: ST_TO_ADDR
// en2 = Teams [ 3 - Side_Teams [ your_side ] ] [ 1 ] ;
7246: LD_ADDR_VAR 0 4
7250: PUSH
7251: LD_EXP 39
7255: PUSH
7256: LD_INT 3
7258: PUSH
7259: LD_EXP 38
7263: PUSH
7264: LD_OWVAR 2
7268: ARRAY
7269: MINUS
7270: ARRAY
7271: PUSH
7272: LD_INT 1
7274: ARRAY
7275: ST_TO_ADDR
// end else
7276: GO 7338
// begin en1 = Teams [ 3 - Side_Teams [ your_side ] ] [ 1 ] ;
7278: LD_ADDR_VAR 0 3
7282: PUSH
7283: LD_EXP 39
7287: PUSH
7288: LD_INT 3
7290: PUSH
7291: LD_EXP 38
7295: PUSH
7296: LD_OWVAR 2
7300: ARRAY
7301: MINUS
7302: ARRAY
7303: PUSH
7304: LD_INT 1
7306: ARRAY
7307: ST_TO_ADDR
// en2 = Teams [ 3 - Side_Teams [ your_side ] ] [ 2 ] ;
7308: LD_ADDR_VAR 0 4
7312: PUSH
7313: LD_EXP 39
7317: PUSH
7318: LD_INT 3
7320: PUSH
7321: LD_EXP 38
7325: PUSH
7326: LD_OWVAR 2
7330: ARRAY
7331: MINUS
7332: ARRAY
7333: PUSH
7334: LD_INT 2
7336: ARRAY
7337: ST_TO_ADDR
// end ; AllStrings := [ #Multi1x1-Time , tick ] ;
7338: LD_ADDR_VAR 0 5
7342: PUSH
7343: LD_STRING #Multi1x1-Time
7345: PUSH
7346: LD_OWVAR 1
7350: PUSH
7351: EMPTY
7352: LIST
7353: LIST
7354: ST_TO_ADDR
// if 0 <= siberite_bomb_Delay - tick then
7355: LD_INT 0
7357: PUSH
7358: LD_EXP 33
7362: PUSH
7363: LD_OWVAR 1
7367: MINUS
7368: LESSEQUAL
7369: IFFALSE 7400
// AllStrings := AllStrings ^ [ #allowedsibbomb , siberite_bomb_Delay - tick ] ;
7371: LD_ADDR_VAR 0 5
7375: PUSH
7376: LD_VAR 0 5
7380: PUSH
7381: LD_STRING #allowedsibbomb
7383: PUSH
7384: LD_EXP 33
7388: PUSH
7389: LD_OWVAR 1
7393: MINUS
7394: PUSH
7395: EMPTY
7396: LIST
7397: LIST
7398: ADD
7399: ST_TO_ADDR
// case infos [ your_side ] of 0 :
7400: LD_LOC 5
7404: PUSH
7405: LD_OWVAR 2
7409: ARRAY
7410: PUSH
7411: LD_INT 0
7413: DOUBLE
7414: EQUAL
7415: IFTRUE 7419
7417: GO 7446
7419: POP
// begin display_strings = AllStrings ^ [ #MultiParty-Bid1 , real_cost ] ;
7420: LD_ADDR_OWVAR 47
7424: PUSH
7425: LD_VAR 0 5
7429: PUSH
7430: LD_STRING #MultiParty-Bid1
7432: PUSH
7433: LD_EXP 29
7437: PUSH
7438: EMPTY
7439: LIST
7440: LIST
7441: ADD
7442: ST_TO_ADDR
// enable ;
7443: ENABLE
// end ; 1 :
7444: GO 7566
7446: LD_INT 1
7448: DOUBLE
7449: EQUAL
7450: IFTRUE 7454
7452: GO 7502
7454: POP
// begin display_strings = AllStrings ^ [ #MultiParty-Info1 , en1 , en1 , - 1 , #MultiParty-Bid2 , real_cost ] ;
7455: LD_ADDR_OWVAR 47
7459: PUSH
7460: LD_VAR 0 5
7464: PUSH
7465: LD_STRING #MultiParty-Info1
7467: PUSH
7468: LD_VAR 0 3
7472: PUSH
7473: LD_VAR 0 3
7477: PUSH
7478: LD_INT 1
7480: NEG
7481: PUSH
7482: LD_STRING #MultiParty-Bid2
7484: PUSH
7485: LD_EXP 29
7489: PUSH
7490: EMPTY
7491: LIST
7492: LIST
7493: LIST
7494: LIST
7495: LIST
7496: LIST
7497: ADD
7498: ST_TO_ADDR
// enable ;
7499: ENABLE
// end ; 2 :
7500: GO 7566
7502: LD_INT 2
7504: DOUBLE
7505: EQUAL
7506: IFTRUE 7510
7508: GO 7565
7510: POP
// begin display_strings = AllStrings ^ [ #MultiParty-Info2 , en1 , en1 , - 1 , en2 , en2 , - 1 ] ;
7511: LD_ADDR_OWVAR 47
7515: PUSH
7516: LD_VAR 0 5
7520: PUSH
7521: LD_STRING #MultiParty-Info2
7523: PUSH
7524: LD_VAR 0 3
7528: PUSH
7529: LD_VAR 0 3
7533: PUSH
7534: LD_INT 1
7536: NEG
7537: PUSH
7538: LD_VAR 0 4
7542: PUSH
7543: LD_VAR 0 4
7547: PUSH
7548: LD_INT 1
7550: NEG
7551: PUSH
7552: EMPTY
7553: LIST
7554: LIST
7555: LIST
7556: LIST
7557: LIST
7558: LIST
7559: LIST
7560: ADD
7561: ST_TO_ADDR
// enable ;
7562: ENABLE
// end ; end ;
7563: GO 7566
7565: POP
// end ;
7566: LD_VAR 0 1
7570: RET
// function ShowTimer ; var AllStrings ; begin
7571: LD_INT 0
7573: PPUSH
7574: PPUSH
// AllStrings := [ #Multi1x1-Time , tick ] ;
7575: LD_ADDR_VAR 0 2
7579: PUSH
7580: LD_STRING #Multi1x1-Time
7582: PUSH
7583: LD_OWVAR 1
7587: PUSH
7588: EMPTY
7589: LIST
7590: LIST
7591: ST_TO_ADDR
// if 0 <= siberite_bomb_Delay - tick then
7592: LD_INT 0
7594: PUSH
7595: LD_EXP 33
7599: PUSH
7600: LD_OWVAR 1
7604: MINUS
7605: LESSEQUAL
7606: IFFALSE 7637
// AllStrings := AllStrings ^ [ #allowedsibbomb , siberite_bomb_Delay - tick ] ;
7608: LD_ADDR_VAR 0 2
7612: PUSH
7613: LD_VAR 0 2
7617: PUSH
7618: LD_STRING #allowedsibbomb
7620: PUSH
7621: LD_EXP 33
7625: PUSH
7626: LD_OWVAR 1
7630: MINUS
7631: PUSH
7632: EMPTY
7633: LIST
7634: LIST
7635: ADD
7636: ST_TO_ADDR
// Display_Strings := AllStrings ;
7637: LD_ADDR_OWVAR 47
7641: PUSH
7642: LD_VAR 0 2
7646: ST_TO_ADDR
// end ;
7647: LD_VAR 0 1
7651: RET
// function check_area ( side , area ) ; begin
7652: LD_INT 0
7654: PPUSH
// if infos [ side ] = 2 then
7655: LD_LOC 5
7659: PUSH
7660: LD_VAR 0 1
7664: ARRAY
7665: PUSH
7666: LD_INT 2
7668: EQUAL
7669: IFFALSE 7673
// exit ;
7671: GO 7744
// if GetResourceArea ( area , mat_cans ) * 10 >= real_cost then
7673: LD_VAR 0 2
7677: PPUSH
7678: LD_INT 1
7680: PPUSH
7681: CALL_OW 287
7685: PUSH
7686: LD_INT 10
7688: MUL
7689: PUSH
7690: LD_EXP 29
7694: GREATEREQUAL
7695: IFFALSE 7744
// begin EraseResourceArea ( area , mat_cans ) ;
7697: LD_VAR 0 2
7701: PPUSH
7702: LD_INT 1
7704: PPUSH
7705: CALL_OW 286
// infos = Replace ( infos , side , infos [ side ] + 1 ) ;
7709: LD_ADDR_LOC 5
7713: PUSH
7714: LD_LOC 5
7718: PPUSH
7719: LD_VAR 0 1
7723: PPUSH
7724: LD_LOC 5
7728: PUSH
7729: LD_VAR 0 1
7733: ARRAY
7734: PUSH
7735: LD_INT 1
7737: PLUS
7738: PPUSH
7739: CALL_OW 1
7743: ST_TO_ADDR
// end ; end ;
7744: LD_VAR 0 3
7748: RET
// every 0 0$5 do var i ;
7749: GO 7751
7751: DISABLE
7752: LD_INT 0
7754: PPUSH
// begin for i := 1 to Side_Positions do
7755: LD_ADDR_VAR 0 1
7759: PUSH
7760: DOUBLE
7761: LD_INT 1
7763: DEC
7764: ST_TO_ADDR
7765: LD_EXP 40
7769: PUSH
7770: FOR_TO
7771: IFFALSE 7879
// case Side_Positions [ i ] of 1 :
7773: LD_EXP 40
7777: PUSH
7778: LD_VAR 0 1
7782: ARRAY
7783: PUSH
7784: LD_INT 1
7786: DOUBLE
7787: EQUAL
7788: IFTRUE 7792
7790: GO 7807
7792: POP
// check_area ( i , exit1 ) ; 2 :
7793: LD_VAR 0 1
7797: PPUSH
7798: LD_INT 22
7800: PPUSH
7801: CALL 7652 0 2
7805: GO 7877
7807: LD_INT 2
7809: DOUBLE
7810: EQUAL
7811: IFTRUE 7815
7813: GO 7830
7815: POP
// check_area ( i , exit2 ) ; 3 :
7816: LD_VAR 0 1
7820: PPUSH
7821: LD_INT 23
7823: PPUSH
7824: CALL 7652 0 2
7828: GO 7877
7830: LD_INT 3
7832: DOUBLE
7833: EQUAL
7834: IFTRUE 7838
7836: GO 7853
7838: POP
// check_area ( i , exit3 ) ; 4 :
7839: LD_VAR 0 1
7843: PPUSH
7844: LD_INT 24
7846: PPUSH
7847: CALL 7652 0 2
7851: GO 7877
7853: LD_INT 4
7855: DOUBLE
7856: EQUAL
7857: IFTRUE 7861
7859: GO 7876
7861: POP
// check_area ( i , exit4 ) ; end ;
7862: LD_VAR 0 1
7866: PPUSH
7867: LD_INT 25
7869: PPUSH
7870: CALL 7652 0 2
7874: GO 7877
7876: POP
7877: GO 7770
7879: POP
7880: POP
// enable ;
7881: ENABLE
// exit ;
7882: GO 7884
// end ; end_of_file
7884: PPOPN 1
7886: END
// var strength , lastxwin , lastywin , lastxlost , lastylost ; function Update_Flags ; var un ; begin
7887: LD_INT 0
7889: PPUSH
7890: PPUSH
// for un in battle_flags_id do
7891: LD_ADDR_VAR 0 2
7895: PUSH
7896: LD_EXP 49
7900: PUSH
7901: FOR_IN
7902: IFFALSE 7977
// ChangeBattleFlagOptions ( un , [ [ bfo_defend_bonus_human , strength ] , [ bfo_defend_bonus_vehicle , strength div 2 ] , [ bfo_defend_bonus_building , strength div 5 ] , [ bfo_height , strength ] ] ) ;
7904: LD_VAR 0 2
7908: PPUSH
7909: LD_INT 1
7911: PUSH
7912: LD_LOC 6
7916: PUSH
7917: EMPTY
7918: LIST
7919: LIST
7920: PUSH
7921: LD_INT 2
7923: PUSH
7924: LD_LOC 6
7928: PUSH
7929: LD_INT 2
7931: DIV
7932: PUSH
7933: EMPTY
7934: LIST
7935: LIST
7936: PUSH
7937: LD_INT 3
7939: PUSH
7940: LD_LOC 6
7944: PUSH
7945: LD_INT 5
7947: DIV
7948: PUSH
7949: EMPTY
7950: LIST
7951: LIST
7952: PUSH
7953: LD_INT 20
7955: PUSH
7956: LD_LOC 6
7960: PUSH
7961: EMPTY
7962: LIST
7963: LIST
7964: PUSH
7965: EMPTY
7966: LIST
7967: LIST
7968: LIST
7969: LIST
7970: PPUSH
7971: CALL_OW 423
7975: GO 7901
7977: POP
7978: POP
// end ;
7979: LD_VAR 0 1
7983: RET
// every 0 0$0.1 do var un ;
7984: GO 7986
7986: DISABLE
7987: LD_INT 0
7989: PPUSH
// begin if not def_morale_flags then
7990: LD_EXP 10
7994: NOT
7995: IFFALSE 7999
// exit ;
7997: GO 8076
// if not morale_decreasing_time then
7999: LD_EXP 24
8003: NOT
8004: IFFALSE 8008
// exit ;
8006: GO 8076
// strength = 100 ;
8008: LD_ADDR_LOC 6
8012: PUSH
8013: LD_INT 100
8015: ST_TO_ADDR
// repeat wait ( morale_decreasing_time ) ;
8016: LD_EXP 24
8020: PPUSH
8021: CALL_OW 67
// strength := strength - 1 ;
8025: LD_ADDR_LOC 6
8029: PUSH
8030: LD_LOC 6
8034: PUSH
8035: LD_INT 1
8037: MINUS
8038: ST_TO_ADDR
// Update_Flags ;
8039: CALL 7887 0 0
// until not strength ;
8043: LD_LOC 6
8047: NOT
8048: IFFALSE 8016
// for un in battle_flags_id do
8050: LD_ADDR_VAR 0 1
8054: PUSH
8055: LD_EXP 49
8059: PUSH
8060: FOR_IN
8061: IFFALSE 8074
// KillBattleFlag ( un ) ;
8063: LD_VAR 0 1
8067: PPUSH
8068: CALL_OW 419
8072: GO 8060
8074: POP
8075: POP
// end ; end_of_file
8076: PPOPN 1
8078: END
// on BuildingStarted ( b , u ) do begin if GetBType ( b ) in [ b_depot , b_warehouse ] then
8079: LD_VAR 0 1
8083: PPUSH
8084: CALL_OW 266
8088: PUSH
8089: LD_INT 0
8091: PUSH
8092: LD_INT 1
8094: PUSH
8095: EMPTY
8096: LIST
8097: LIST
8098: IN
8099: IFFALSE 8124
// SetBName ( b , @ & GetSide ( b ) ) ;
8101: LD_VAR 0 1
8105: PPUSH
8106: LD_STRING @
8108: PUSH
8109: LD_VAR 0 1
8113: PPUSH
8114: CALL_OW 255
8118: STR
8119: PPUSH
8120: CALL_OW 500
// end ;
8124: PPOPN 2
8126: END
// on BuildingCaptured ( b , o , e ) do begin if GetBType ( b ) in [ b_depot , b_warehouse ] then
8127: LD_VAR 0 1
8131: PPUSH
8132: CALL_OW 266
8136: PUSH
8137: LD_INT 0
8139: PUSH
8140: LD_INT 1
8142: PUSH
8143: EMPTY
8144: LIST
8145: LIST
8146: IN
8147: IFFALSE 8172
// SetBName ( b , @ & GetSide ( b ) ) ;
8149: LD_VAR 0 1
8153: PPUSH
8154: LD_STRING @
8156: PUSH
8157: LD_VAR 0 1
8161: PPUSH
8162: CALL_OW 255
8166: STR
8167: PPUSH
8168: CALL_OW 500
// end ;
8172: PPOPN 3
8174: END
// on VehicleConstructed ( veh , fac ) do var side ;
8175: LD_INT 0
8177: PPUSH
// begin if GetControl ( veh ) = control_apeman then
8178: LD_VAR 0 1
8182: PPUSH
8183: CALL_OW 263
8187: PUSH
8188: LD_INT 5
8190: EQUAL
8191: IFFALSE 8333
// begin side := GetSide ( veh ) ;
8193: LD_ADDR_VAR 0 3
8197: PUSH
8198: LD_VAR 0 1
8202: PPUSH
8203: CALL_OW 255
8207: ST_TO_ADDR
// apemanPos := Replace ( apemanPos , side , UnitFilter ( apemanPos [ side ] , [ f_placed ] ) union FilterAllUnits ( [ [ f_side , side ] , [ f_or , [ f_control , control_apeman ] , [ f_class , class_apeman ] , [ f_class , class_apeman_soldier ] , [ f_class , class_apeman_engineer ] , [ f_class , class_apeman_kamikaze ] ] ] ) ) ;
8208: LD_ADDR_EXP 53
8212: PUSH
8213: LD_EXP 53
8217: PPUSH
8218: LD_VAR 0 3
8222: PPUSH
8223: LD_EXP 53
8227: PUSH
8228: LD_VAR 0 3
8232: ARRAY
8233: PPUSH
8234: LD_INT 52
8236: PUSH
8237: EMPTY
8238: LIST
8239: PPUSH
8240: CALL_OW 72
8244: PUSH
8245: LD_INT 22
8247: PUSH
8248: LD_VAR 0 3
8252: PUSH
8253: EMPTY
8254: LIST
8255: LIST
8256: PUSH
8257: LD_INT 2
8259: PUSH
8260: LD_INT 33
8262: PUSH
8263: LD_INT 5
8265: PUSH
8266: EMPTY
8267: LIST
8268: LIST
8269: PUSH
8270: LD_INT 25
8272: PUSH
8273: LD_INT 12
8275: PUSH
8276: EMPTY
8277: LIST
8278: LIST
8279: PUSH
8280: LD_INT 25
8282: PUSH
8283: LD_INT 15
8285: PUSH
8286: EMPTY
8287: LIST
8288: LIST
8289: PUSH
8290: LD_INT 25
8292: PUSH
8293: LD_INT 16
8295: PUSH
8296: EMPTY
8297: LIST
8298: LIST
8299: PUSH
8300: LD_INT 25
8302: PUSH
8303: LD_INT 17
8305: PUSH
8306: EMPTY
8307: LIST
8308: LIST
8309: PUSH
8310: EMPTY
8311: LIST
8312: LIST
8313: LIST
8314: LIST
8315: LIST
8316: LIST
8317: PUSH
8318: EMPTY
8319: LIST
8320: LIST
8321: PPUSH
8322: CALL_OW 69
8326: UNION
8327: PPUSH
8328: CALL_OW 1
8332: ST_TO_ADDR
// end ; end ;
8333: PPOPN 3
8335: END
// on UnitDestroyed ( j ) do begin if GetClass ( j ) in [ class_apeman , class_apeman_soldier , class_apeman_kamikaze , class_apeman_engineer ] or GetControl ( j ) = control_apeman then
8336: LD_VAR 0 1
8340: PPUSH
8341: CALL_OW 257
8345: PUSH
8346: LD_INT 12
8348: PUSH
8349: LD_INT 15
8351: PUSH
8352: LD_INT 17
8354: PUSH
8355: LD_INT 16
8357: PUSH
8358: EMPTY
8359: LIST
8360: LIST
8361: LIST
8362: LIST
8363: IN
8364: PUSH
8365: LD_VAR 0 1
8369: PPUSH
8370: CALL_OW 263
8374: PUSH
8375: LD_INT 5
8377: EQUAL
8378: OR
8379: IFFALSE 8390
// ApeKilled ( j ) ;
8381: LD_VAR 0 1
8385: PPUSH
8386: CALL 9292 0 1
// end ;
8390: PPOPN 1
8392: END
// on siberiterocketexploded ( un , x , y ) do SA_OnSiberiteRocketExploded ( un , x , y , Your_Side ) ; end_of_file
8393: LD_VAR 0 1
8397: PPUSH
8398: LD_VAR 0 2
8402: PPUSH
8403: LD_VAR 0 3
8407: PPUSH
8408: LD_OWVAR 2
8412: PPUSH
8413: CALL 9436 0 4
8417: PPOPN 3
8419: END
// every 20 20$00 trigger apemanNumber do
8420: LD_EXP 50
8424: IFFALSE 8457
8426: GO 8428
8428: DISABLE
// begin enable ;
8429: ENABLE
// if apeLevel >= 8 then
8430: LD_EXP 55
8434: PUSH
8435: LD_INT 8
8437: GREATEREQUAL
8438: IFFALSE 8443
// disable else
8440: DISABLE
8441: GO 8457
// apeLevel := apeLevel + 1 ;
8443: LD_ADDR_EXP 55
8447: PUSH
8448: LD_EXP 55
8452: PUSH
8453: LD_INT 1
8455: PLUS
8456: ST_TO_ADDR
// end ;
8457: END
// every 2 2$30 trigger apemanNumber < apemanLimit do var i , ape , pos , j ;
8458: LD_EXP 50
8462: PUSH
8463: LD_EXP 51
8467: LESS
8468: IFFALSE 8608
8470: GO 8472
8472: DISABLE
8473: LD_INT 0
8475: PPUSH
8476: PPUSH
8477: PPUSH
8478: PPUSH
// begin enable ;
8479: ENABLE
// for i := 1 to apemanPos do
8480: LD_ADDR_VAR 0 1
8484: PUSH
8485: DOUBLE
8486: LD_INT 1
8488: DEC
8489: ST_TO_ADDR
8490: LD_EXP 53
8494: PUSH
8495: FOR_TO
8496: IFFALSE 8606
// begin if apemanPlayerCount [ i ] then
8498: LD_EXP 54
8502: PUSH
8503: LD_VAR 0 1
8507: ARRAY
8508: IFFALSE 8604
// begin if apemanPlayerCount [ i ] > apemanPos [ i ] then
8510: LD_EXP 54
8514: PUSH
8515: LD_VAR 0 1
8519: ARRAY
8520: PUSH
8521: LD_EXP 53
8525: PUSH
8526: LD_VAR 0 1
8530: ARRAY
8531: GREATER
8532: IFFALSE 8604
// begin ape := PrepareApeman ;
8534: LD_ADDR_VAR 0 2
8538: PUSH
8539: CALL 9111 0 0
8543: ST_TO_ADDR
// PlaceUnitArea ( ape , apeAreas [ i ] , false ) ;
8544: LD_VAR 0 2
8548: PPUSH
8549: LD_EXP 56
8553: PUSH
8554: LD_VAR 0 1
8558: ARRAY
8559: PPUSH
8560: LD_INT 0
8562: PPUSH
8563: CALL_OW 49
// apemanPos := Replace ( apemanPos , i , apemanPos [ i ] union ape ) ;
8567: LD_ADDR_EXP 53
8571: PUSH
8572: LD_EXP 53
8576: PPUSH
8577: LD_VAR 0 1
8581: PPUSH
8582: LD_EXP 53
8586: PUSH
8587: LD_VAR 0 1
8591: ARRAY
8592: PUSH
8593: LD_VAR 0 2
8597: UNION
8598: PPUSH
8599: CALL_OW 1
8603: ST_TO_ADDR
// end ; end ; end ;
8604: GO 8495
8606: POP
8607: POP
// end ;
8608: PPOPN 4
8610: END
// export apemanNumber , apemanLimit , apemanPerPlayer , apemanPos , apemanPlayerCount , apeLevel , apeAreas ; export function InitApeman ; var i , playersAmount , j , ape , pos , _apeAreas ; begin
8611: LD_INT 0
8613: PPUSH
8614: PPUSH
8615: PPUSH
8616: PPUSH
8617: PPUSH
8618: PPUSH
8619: PPUSH
// playersAmount := 0 ;
8620: LD_ADDR_VAR 0 3
8624: PUSH
8625: LD_INT 0
8627: ST_TO_ADDR
// _apeAreas := [ Ape1 , Ape2 , Ape3 , Ape4 ] ;
8628: LD_ADDR_VAR 0 7
8632: PUSH
8633: LD_INT 39
8635: PUSH
8636: LD_INT 40
8638: PUSH
8639: LD_INT 41
8641: PUSH
8642: LD_INT 42
8644: PUSH
8645: EMPTY
8646: LIST
8647: LIST
8648: LIST
8649: LIST
8650: ST_TO_ADDR
// apeAreas := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
8651: LD_ADDR_EXP 56
8655: PUSH
8656: LD_INT 0
8658: PUSH
8659: LD_INT 0
8661: PUSH
8662: LD_INT 0
8664: PUSH
8665: LD_INT 0
8667: PUSH
8668: LD_INT 0
8670: PUSH
8671: LD_INT 0
8673: PUSH
8674: LD_INT 0
8676: PUSH
8677: LD_INT 0
8679: PUSH
8680: EMPTY
8681: LIST
8682: LIST
8683: LIST
8684: LIST
8685: LIST
8686: LIST
8687: LIST
8688: LIST
8689: ST_TO_ADDR
// for j = 1 to Side_Positions do
8690: LD_ADDR_VAR 0 4
8694: PUSH
8695: DOUBLE
8696: LD_INT 1
8698: DEC
8699: ST_TO_ADDR
8700: LD_EXP 40
8704: PUSH
8705: FOR_TO
8706: IFFALSE 8773
// if Side_Positions [ j ] then
8708: LD_EXP 40
8712: PUSH
8713: LD_VAR 0 4
8717: ARRAY
8718: IFFALSE 8771
// begin playersAmount := playersAmount + 1 ;
8720: LD_ADDR_VAR 0 3
8724: PUSH
8725: LD_VAR 0 3
8729: PUSH
8730: LD_INT 1
8732: PLUS
8733: ST_TO_ADDR
// apeAreas := Replace ( apeAreas , j , _apeAreas [ Side_Positions [ j ] ] ) ;
8734: LD_ADDR_EXP 56
8738: PUSH
8739: LD_EXP 56
8743: PPUSH
8744: LD_VAR 0 4
8748: PPUSH
8749: LD_VAR 0 7
8753: PUSH
8754: LD_EXP 40
8758: PUSH
8759: LD_VAR 0 4
8763: ARRAY
8764: ARRAY
8765: PPUSH
8766: CALL_OW 1
8770: ST_TO_ADDR
// end ;
8771: GO 8705
8773: POP
8774: POP
// apemanPerPlayer := 3 * amount_of_apemen ;
8775: LD_ADDR_EXP 52
8779: PUSH
8780: LD_INT 3
8782: PUSH
8783: LD_EXP 32
8787: MUL
8788: ST_TO_ADDR
// apemanNumber := playersAmount * apemanPerPlayer ;
8789: LD_ADDR_EXP 50
8793: PUSH
8794: LD_VAR 0 3
8798: PUSH
8799: LD_EXP 52
8803: MUL
8804: ST_TO_ADDR
// apemanLimit := apemanNumber ;
8805: LD_ADDR_EXP 51
8809: PUSH
8810: LD_EXP 50
8814: ST_TO_ADDR
// apemanPos := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
8815: LD_ADDR_EXP 53
8819: PUSH
8820: LD_INT 0
8822: PUSH
8823: LD_INT 0
8825: PUSH
8826: LD_INT 0
8828: PUSH
8829: LD_INT 0
8831: PUSH
8832: LD_INT 0
8834: PUSH
8835: LD_INT 0
8837: PUSH
8838: LD_INT 0
8840: PUSH
8841: LD_INT 0
8843: PUSH
8844: EMPTY
8845: LIST
8846: LIST
8847: LIST
8848: LIST
8849: LIST
8850: LIST
8851: LIST
8852: LIST
8853: ST_TO_ADDR
// apemanPlayerCount := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
8854: LD_ADDR_EXP 54
8858: PUSH
8859: LD_INT 0
8861: PUSH
8862: LD_INT 0
8864: PUSH
8865: LD_INT 0
8867: PUSH
8868: LD_INT 0
8870: PUSH
8871: LD_INT 0
8873: PUSH
8874: LD_INT 0
8876: PUSH
8877: LD_INT 0
8879: PUSH
8880: LD_INT 0
8882: PUSH
8883: EMPTY
8884: LIST
8885: LIST
8886: LIST
8887: LIST
8888: LIST
8889: LIST
8890: LIST
8891: LIST
8892: ST_TO_ADDR
// apeLevel := 1 ;
8893: LD_ADDR_EXP 55
8897: PUSH
8898: LD_INT 1
8900: ST_TO_ADDR
// if not apemanNumber then
8901: LD_EXP 50
8905: NOT
8906: IFFALSE 8910
// exit ;
8908: GO 9106
// for i := 1 to apemanPerPlayer do
8910: LD_ADDR_VAR 0 2
8914: PUSH
8915: DOUBLE
8916: LD_INT 1
8918: DEC
8919: ST_TO_ADDR
8920: LD_EXP 52
8924: PUSH
8925: FOR_TO
8926: IFFALSE 9104
// begin for j := 1 to Side_Positions do
8928: LD_ADDR_VAR 0 4
8932: PUSH
8933: DOUBLE
8934: LD_INT 1
8936: DEC
8937: ST_TO_ADDR
8938: LD_EXP 40
8942: PUSH
8943: FOR_TO
8944: IFFALSE 9100
// if Side_Positions [ j ] then
8946: LD_EXP 40
8950: PUSH
8951: LD_VAR 0 4
8955: ARRAY
8956: IFFALSE 9098
// begin pos := Side_Positions [ j ] ;
8958: LD_ADDR_VAR 0 6
8962: PUSH
8963: LD_EXP 40
8967: PUSH
8968: LD_VAR 0 4
8972: ARRAY
8973: ST_TO_ADDR
// apemanPlayerCount := Replace ( apemanPlayerCount , j , apemanPlayerCount [ j ] + 1 ) ;
8974: LD_ADDR_EXP 54
8978: PUSH
8979: LD_EXP 54
8983: PPUSH
8984: LD_VAR 0 4
8988: PPUSH
8989: LD_EXP 54
8993: PUSH
8994: LD_VAR 0 4
8998: ARRAY
8999: PUSH
9000: LD_INT 1
9002: PLUS
9003: PPUSH
9004: CALL_OW 1
9008: ST_TO_ADDR
// ape := PrepareApeman ;
9009: LD_ADDR_VAR 0 5
9013: PUSH
9014: CALL 9111 0 0
9018: ST_TO_ADDR
// apemanPos := Replace ( apemanPos , j , Replace ( apemanPos [ j ] , apemanPos [ j ] + 1 , ape ) ) ;
9019: LD_ADDR_EXP 53
9023: PUSH
9024: LD_EXP 53
9028: PPUSH
9029: LD_VAR 0 4
9033: PPUSH
9034: LD_EXP 53
9038: PUSH
9039: LD_VAR 0 4
9043: ARRAY
9044: PPUSH
9045: LD_EXP 53
9049: PUSH
9050: LD_VAR 0 4
9054: ARRAY
9055: PUSH
9056: LD_INT 1
9058: PLUS
9059: PPUSH
9060: LD_VAR 0 5
9064: PPUSH
9065: CALL_OW 1
9069: PPUSH
9070: CALL_OW 1
9074: ST_TO_ADDR
// PlaceUnitArea ( ape , apeAreas [ j ] , false ) ;
9075: LD_VAR 0 5
9079: PPUSH
9080: LD_EXP 56
9084: PUSH
9085: LD_VAR 0 4
9089: ARRAY
9090: PPUSH
9091: LD_INT 0
9093: PPUSH
9094: CALL_OW 49
// end ;
9098: GO 8943
9100: POP
9101: POP
// end ;
9102: GO 8925
9104: POP
9105: POP
// end ;
9106: LD_VAR 0 1
9110: RET
// export function PrepareApeman ; var bonus ; begin
9111: LD_INT 0
9113: PPUSH
9114: PPUSH
// uc_side := 0 ;
9115: LD_ADDR_OWVAR 20
9119: PUSH
9120: LD_INT 0
9122: ST_TO_ADDR
// uc_nation := 0 ;
9123: LD_ADDR_OWVAR 21
9127: PUSH
9128: LD_INT 0
9130: ST_TO_ADDR
// InitHc ;
9131: CALL_OW 19
// bonus := [ - 1 , 0 , 1 ] [ tick mod 3 + 1 ] ;
9135: LD_ADDR_VAR 0 2
9139: PUSH
9140: LD_INT 1
9142: NEG
9143: PUSH
9144: LD_INT 0
9146: PUSH
9147: LD_INT 1
9149: PUSH
9150: EMPTY
9151: LIST
9152: LIST
9153: LIST
9154: PUSH
9155: LD_OWVAR 1
9159: PUSH
9160: LD_INT 3
9162: MOD
9163: PUSH
9164: LD_INT 1
9166: PLUS
9167: ARRAY
9168: ST_TO_ADDR
// hc_class := class_apeman ;
9169: LD_ADDR_OWVAR 28
9173: PUSH
9174: LD_INT 12
9176: ST_TO_ADDR
// hc_gallery :=  ;
9177: LD_ADDR_OWVAR 33
9181: PUSH
9182: LD_STRING 
9184: ST_TO_ADDR
// hc_name :=  ;
9185: LD_ADDR_OWVAR 26
9189: PUSH
9190: LD_STRING 
9192: ST_TO_ADDR
// hc_skills := [ apeLevel + bonus , apeLevel + bonus , apeLevel + bonus , apeLevel + bonus ] ;
9193: LD_ADDR_OWVAR 31
9197: PUSH
9198: LD_EXP 55
9202: PUSH
9203: LD_VAR 0 2
9207: PLUS
9208: PUSH
9209: LD_EXP 55
9213: PUSH
9214: LD_VAR 0 2
9218: PLUS
9219: PUSH
9220: LD_EXP 55
9224: PUSH
9225: LD_VAR 0 2
9229: PLUS
9230: PUSH
9231: LD_EXP 55
9235: PUSH
9236: LD_VAR 0 2
9240: PLUS
9241: PUSH
9242: EMPTY
9243: LIST
9244: LIST
9245: LIST
9246: LIST
9247: ST_TO_ADDR
// hc_agressivity := 10 * bonus ;
9248: LD_ADDR_OWVAR 35
9252: PUSH
9253: LD_INT 10
9255: PUSH
9256: LD_VAR 0 2
9260: MUL
9261: ST_TO_ADDR
// hc_attr := [ 12 , 10 ] ;
9262: LD_ADDR_OWVAR 29
9266: PUSH
9267: LD_INT 12
9269: PUSH
9270: LD_INT 10
9272: PUSH
9273: EMPTY
9274: LIST
9275: LIST
9276: ST_TO_ADDR
// result := CreateHuman ;
9277: LD_ADDR_VAR 0 1
9281: PUSH
9282: CALL_OW 44
9286: ST_TO_ADDR
// end ;
9287: LD_VAR 0 1
9291: RET
// export function ApeKilled ( ape ) ; var side , i ; begin
9292: LD_INT 0
9294: PPUSH
9295: PPUSH
9296: PPUSH
// if not ape then
9297: LD_VAR 0 1
9301: NOT
9302: IFFALSE 9306
// exit ;
9304: GO 9431
// side := GetSide ( ape ) ;
9306: LD_ADDR_VAR 0 3
9310: PUSH
9311: LD_VAR 0 1
9315: PPUSH
9316: CALL_OW 255
9320: ST_TO_ADDR
// if not side then
9321: LD_VAR 0 3
9325: NOT
9326: IFFALSE 9380
// begin for i = 1 to apemanPos do
9328: LD_ADDR_VAR 0 4
9332: PUSH
9333: DOUBLE
9334: LD_INT 1
9336: DEC
9337: ST_TO_ADDR
9338: LD_EXP 53
9342: PUSH
9343: FOR_TO
9344: IFFALSE 9378
// if ape in apemanPos [ i ] then
9346: LD_VAR 0 1
9350: PUSH
9351: LD_EXP 53
9355: PUSH
9356: LD_VAR 0 4
9360: ARRAY
9361: IN
9362: IFFALSE 9376
// begin side := i ;
9364: LD_ADDR_VAR 0 3
9368: PUSH
9369: LD_VAR 0 4
9373: ST_TO_ADDR
// break ;
9374: GO 9378
// end ;
9376: GO 9343
9378: POP
9379: POP
// end ; apemanPos := Replace ( apemanPos , side , apemanPos [ side ] diff ape ) ;
9380: LD_ADDR_EXP 53
9384: PUSH
9385: LD_EXP 53
9389: PPUSH
9390: LD_VAR 0 3
9394: PPUSH
9395: LD_EXP 53
9399: PUSH
9400: LD_VAR 0 3
9404: ARRAY
9405: PUSH
9406: LD_VAR 0 1
9410: DIFF
9411: PPUSH
9412: CALL_OW 1
9416: ST_TO_ADDR
// apemanNumber := apemanNumber - 1 ;
9417: LD_ADDR_EXP 50
9421: PUSH
9422: LD_EXP 50
9426: PUSH
9427: LD_INT 1
9429: MINUS
9430: ST_TO_ADDR
// end ; end_of_file
9431: LD_VAR 0 2
9435: RET
// export function SA_OnSiberiteRocketExploded ( siberite_rocket_vehicle , target_x , target_y , requestSide ) ; begin
9436: LD_INT 0
9438: PPUSH
// if GetSide ( siberite_rocket_vehicle ) = requestSide then
9439: LD_VAR 0 1
9443: PPUSH
9444: CALL_OW 255
9448: PUSH
9449: LD_VAR 0 4
9453: EQUAL
9454: IFFALSE 9473
// begin SetAchievement ( ACH_RAD ) ;
9456: LD_STRING ACH_RAD
9458: PPUSH
9459: CALL_OW 543
// SetAchievementEx ( ACH_NL , 1 ) ;
9463: LD_STRING ACH_NL
9465: PPUSH
9466: LD_INT 1
9468: PPUSH
9469: CALL_OW 564
// end end ;
9473: LD_VAR 0 5
9477: RET
// export function SA_Win ( side ) ; begin
9478: LD_INT 0
9480: PPUSH
// case side of 1 :
9481: LD_VAR 0 1
9485: PUSH
9486: LD_INT 1
9488: DOUBLE
9489: EQUAL
9490: IFTRUE 9494
9492: GO 9507
9494: POP
// SetAchievementEx ( ACH_AH , 1 ) ; 2 :
9495: LD_STRING ACH_AH
9497: PPUSH
9498: LD_INT 1
9500: PPUSH
9501: CALL_OW 564
9505: GO 9670
9507: LD_INT 2
9509: DOUBLE
9510: EQUAL
9511: IFTRUE 9515
9513: GO 9528
9515: POP
// SetAchievementEx ( ACH_E , 1 ) ; 3 :
9516: LD_STRING ACH_E
9518: PPUSH
9519: LD_INT 1
9521: PPUSH
9522: CALL_OW 564
9526: GO 9670
9528: LD_INT 3
9530: DOUBLE
9531: EQUAL
9532: IFTRUE 9536
9534: GO 9549
9536: POP
// SetAchievementEx ( ACH_OOL , 1 ) ; [ 1 , 2 ] :
9537: LD_STRING ACH_OOL
9539: PPUSH
9540: LD_INT 1
9542: PPUSH
9543: CALL_OW 564
9547: GO 9670
9549: LD_INT 1
9551: PUSH
9552: LD_INT 2
9554: PUSH
9555: EMPTY
9556: LIST
9557: LIST
9558: DOUBLE
9559: EQUAL
9560: IFTRUE 9564
9562: GO 9589
9564: POP
// begin SetAchievementEx ( ACH_AH , 0.5 ) ;
9565: LD_STRING ACH_AH
9567: PPUSH
9568: LD_REAL  5.00000000000000E-0001
9571: PPUSH
9572: CALL_OW 564
// SetAchievementEx ( ACH_E , 0.5 ) ;
9576: LD_STRING ACH_E
9578: PPUSH
9579: LD_REAL  5.00000000000000E-0001
9582: PPUSH
9583: CALL_OW 564
// end ; [ 2 , 3 ] :
9587: GO 9670
9589: LD_INT 2
9591: PUSH
9592: LD_INT 3
9594: PUSH
9595: EMPTY
9596: LIST
9597: LIST
9598: DOUBLE
9599: EQUAL
9600: IFTRUE 9604
9602: GO 9629
9604: POP
// begin SetAchievementEx ( ACH_OOL , 0.5 ) ;
9605: LD_STRING ACH_OOL
9607: PPUSH
9608: LD_REAL  5.00000000000000E-0001
9611: PPUSH
9612: CALL_OW 564
// SetAchievementEx ( ACH_E , 0.5 ) ;
9616: LD_STRING ACH_E
9618: PPUSH
9619: LD_REAL  5.00000000000000E-0001
9622: PPUSH
9623: CALL_OW 564
// end ; [ 3 , 1 ] :
9627: GO 9670
9629: LD_INT 3
9631: PUSH
9632: LD_INT 1
9634: PUSH
9635: EMPTY
9636: LIST
9637: LIST
9638: DOUBLE
9639: EQUAL
9640: IFTRUE 9644
9642: GO 9669
9644: POP
// begin SetAchievementEx ( ACH_AH , 0.5 ) ;
9645: LD_STRING ACH_AH
9647: PPUSH
9648: LD_REAL  5.00000000000000E-0001
9651: PPUSH
9652: CALL_OW 564
// SetAchievementEx ( ACH_OOL , 0.5 ) ;
9656: LD_STRING ACH_OOL
9658: PPUSH
9659: LD_REAL  5.00000000000000E-0001
9662: PPUSH
9663: CALL_OW 564
// end ; end ;
9667: GO 9670
9669: POP
// end ; end_of_file
9670: LD_VAR 0 2
9674: RET
// export function SetMpTechs ( ) ; var side , i ; begin
9675: LD_INT 0
9677: PPUSH
9678: PPUSH
9679: PPUSH
// for side = 1 to 8 do
9680: LD_ADDR_VAR 0 2
9684: PUSH
9685: DOUBLE
9686: LD_INT 1
9688: DEC
9689: ST_TO_ADDR
9690: LD_INT 8
9692: PUSH
9693: FOR_TO
9694: IFFALSE 9815
// begin for i = 1 to 72 do
9696: LD_ADDR_VAR 0 3
9700: PUSH
9701: DOUBLE
9702: LD_INT 1
9704: DEC
9705: ST_TO_ADDR
9706: LD_INT 72
9708: PUSH
9709: FOR_TO
9710: IFFALSE 9741
// SetTech ( i , side , GetRestrictions ( false , i ) ) ;
9712: LD_VAR 0 3
9716: PPUSH
9717: LD_VAR 0 2
9721: PPUSH
9722: LD_INT 0
9724: PPUSH
9725: LD_VAR 0 3
9729: PPUSH
9730: CALL_OW 565
9734: PPUSH
9735: CALL_OW 322
9739: GO 9709
9741: POP
9742: POP
// SetTech ( 73 , side , GetRestrictions ( false , 25 ) ) ;
9743: LD_INT 73
9745: PPUSH
9746: LD_VAR 0 2
9750: PPUSH
9751: LD_INT 0
9753: PPUSH
9754: LD_INT 25
9756: PPUSH
9757: CALL_OW 565
9761: PPUSH
9762: CALL_OW 322
// for i = 0 to 40 do
9766: LD_ADDR_VAR 0 3
9770: PUSH
9771: DOUBLE
9772: LD_INT 0
9774: DEC
9775: ST_TO_ADDR
9776: LD_INT 40
9778: PUSH
9779: FOR_TO
9780: IFFALSE 9811
// SetRestrict ( i , side , GetRestrictions ( true , i ) ) ;
9782: LD_VAR 0 3
9786: PPUSH
9787: LD_VAR 0 2
9791: PPUSH
9792: LD_INT 1
9794: PPUSH
9795: LD_VAR 0 3
9799: PPUSH
9800: CALL_OW 565
9804: PPUSH
9805: CALL_OW 324
9809: GO 9779
9811: POP
9812: POP
// end ;
9813: GO 9693
9815: POP
9816: POP
// end ;
9817: LD_VAR 0 1
9821: RET
// export function SetMpTechLevel ( level ) ; var side , i ; begin
9822: LD_INT 0
9824: PPUSH
9825: PPUSH
9826: PPUSH
// for side = 1 to 8 do
9827: LD_ADDR_VAR 0 3
9831: PUSH
9832: DOUBLE
9833: LD_INT 1
9835: DEC
9836: ST_TO_ADDR
9837: LD_INT 8
9839: PUSH
9840: FOR_TO
9841: IFFALSE 13837
// begin for i = 1 to 73 do
9843: LD_ADDR_VAR 0 4
9847: PUSH
9848: DOUBLE
9849: LD_INT 1
9851: DEC
9852: ST_TO_ADDR
9853: LD_INT 73
9855: PUSH
9856: FOR_TO
9857: IFFALSE 9878
// SetTech ( i , side , state_disabled ) ;
9859: LD_VAR 0 4
9863: PPUSH
9864: LD_VAR 0 3
9868: PPUSH
9869: LD_INT 0
9871: PPUSH
9872: CALL_OW 322
9876: GO 9856
9878: POP
9879: POP
// for i = 0 to 40 do
9880: LD_ADDR_VAR 0 4
9884: PUSH
9885: DOUBLE
9886: LD_INT 0
9888: DEC
9889: ST_TO_ADDR
9890: LD_INT 40
9892: PUSH
9893: FOR_TO
9894: IFFALSE 9915
// SetRestrict ( i , side , false ) ;
9896: LD_VAR 0 4
9900: PPUSH
9901: LD_VAR 0 3
9905: PPUSH
9906: LD_INT 0
9908: PPUSH
9909: CALL_OW 324
9913: GO 9893
9915: POP
9916: POP
// case level of 1 :
9917: LD_VAR 0 1
9921: PUSH
9922: LD_INT 1
9924: DOUBLE
9925: EQUAL
9926: IFTRUE 9930
9928: GO 10083
9930: POP
// begin SetTech ( tech_solpow , side , state_enabled ) ;
9931: LD_INT 35
9933: PPUSH
9934: LD_VAR 0 3
9938: PPUSH
9939: LD_INT 1
9941: PPUSH
9942: CALL_OW 322
// SetTech ( tech_soleng , side , state_enabled ) ;
9946: LD_INT 45
9948: PPUSH
9949: LD_VAR 0 3
9953: PPUSH
9954: LD_INT 1
9956: PPUSH
9957: CALL_OW 322
// SetTech ( tech_oilpow , side , state_enabled ) ;
9961: LD_INT 46
9963: PPUSH
9964: LD_VAR 0 3
9968: PPUSH
9969: LD_INT 1
9971: PPUSH
9972: CALL_OW 322
// SetTech ( tech_oileng , side , state_enabled ) ;
9976: LD_INT 47
9978: PPUSH
9979: LD_VAR 0 3
9983: PPUSH
9984: LD_INT 1
9986: PPUSH
9987: CALL_OW 322
// SetRestrict ( b_depot , side , true ) ;
9991: LD_INT 0
9993: PPUSH
9994: LD_VAR 0 3
9998: PPUSH
9999: LD_INT 1
10001: PPUSH
10002: CALL_OW 324
// SetRestrict ( b_workshop , side , true ) ;
10006: LD_INT 2
10008: PPUSH
10009: LD_VAR 0 3
10013: PPUSH
10014: LD_INT 1
10016: PPUSH
10017: CALL_OW 324
// SetRestrict ( b_armoury , side , true ) ;
10021: LD_INT 4
10023: PPUSH
10024: LD_VAR 0 3
10028: PPUSH
10029: LD_INT 1
10031: PPUSH
10032: CALL_OW 324
// SetRestrict ( b_lab , side , true ) ;
10036: LD_INT 6
10038: PPUSH
10039: LD_VAR 0 3
10043: PPUSH
10044: LD_INT 1
10046: PPUSH
10047: CALL_OW 324
// SetRestrict ( b_oil_mine , side , true ) ;
10051: LD_INT 29
10053: PPUSH
10054: LD_VAR 0 3
10058: PPUSH
10059: LD_INT 1
10061: PPUSH
10062: CALL_OW 324
// SetRestrict ( b_breastwork , side , true ) ;
10066: LD_INT 31
10068: PPUSH
10069: LD_VAR 0 3
10073: PPUSH
10074: LD_INT 1
10076: PPUSH
10077: CALL_OW 324
// end ; 2 :
10081: GO 13835
10083: LD_INT 2
10085: DOUBLE
10086: EQUAL
10087: IFTRUE 10091
10089: GO 10289
10091: POP
// begin SetTech ( tech_solpow , side , state_enabled ) ;
10092: LD_INT 35
10094: PPUSH
10095: LD_VAR 0 3
10099: PPUSH
10100: LD_INT 1
10102: PPUSH
10103: CALL_OW 322
// SetTech ( tech_soleng , side , state_enabled ) ;
10107: LD_INT 45
10109: PPUSH
10110: LD_VAR 0 3
10114: PPUSH
10115: LD_INT 1
10117: PPUSH
10118: CALL_OW 322
// SetTech ( tech_oilpow , side , state_enabled ) ;
10122: LD_INT 46
10124: PPUSH
10125: LD_VAR 0 3
10129: PPUSH
10130: LD_INT 1
10132: PPUSH
10133: CALL_OW 322
// SetTech ( tech_oileng , side , state_enabled ) ;
10137: LD_INT 47
10139: PPUSH
10140: LD_VAR 0 3
10144: PPUSH
10145: LD_INT 1
10147: PPUSH
10148: CALL_OW 322
// SetTech ( tech_apelang , side , state_enabled ) ;
10152: LD_INT 1
10154: PPUSH
10155: LD_VAR 0 3
10159: PPUSH
10160: LD_INT 1
10162: PPUSH
10163: CALL_OW 322
// SetTech ( tech_apepsych , side , state_enabled ) ;
10167: LD_INT 2
10169: PPUSH
10170: LD_VAR 0 3
10174: PPUSH
10175: LD_INT 1
10177: PPUSH
10178: CALL_OW 322
// SetTech ( tech_apeagres , side , state_enabled ) ;
10182: LD_INT 11
10184: PPUSH
10185: LD_VAR 0 3
10189: PPUSH
10190: LD_INT 1
10192: PPUSH
10193: CALL_OW 322
// SetRestrict ( b_depot , side , true ) ;
10197: LD_INT 0
10199: PPUSH
10200: LD_VAR 0 3
10204: PPUSH
10205: LD_INT 1
10207: PPUSH
10208: CALL_OW 324
// SetRestrict ( b_workshop , side , true ) ;
10212: LD_INT 2
10214: PPUSH
10215: LD_VAR 0 3
10219: PPUSH
10220: LD_INT 1
10222: PPUSH
10223: CALL_OW 324
// SetRestrict ( b_armoury , side , true ) ;
10227: LD_INT 4
10229: PPUSH
10230: LD_VAR 0 3
10234: PPUSH
10235: LD_INT 1
10237: PPUSH
10238: CALL_OW 324
// SetRestrict ( b_lab , side , true ) ;
10242: LD_INT 6
10244: PPUSH
10245: LD_VAR 0 3
10249: PPUSH
10250: LD_INT 1
10252: PPUSH
10253: CALL_OW 324
// SetRestrict ( b_oil_mine , side , true ) ;
10257: LD_INT 29
10259: PPUSH
10260: LD_VAR 0 3
10264: PPUSH
10265: LD_INT 1
10267: PPUSH
10268: CALL_OW 324
// SetRestrict ( b_breastwork , side , true ) ;
10272: LD_INT 31
10274: PPUSH
10275: LD_VAR 0 3
10279: PPUSH
10280: LD_INT 1
10282: PPUSH
10283: CALL_OW 324
// end ; 3 :
10287: GO 13835
10289: LD_INT 3
10291: DOUBLE
10292: EQUAL
10293: IFTRUE 10297
10295: GO 10750
10297: POP
// begin SetTech ( tech_solpow , side , state_enabled ) ;
10298: LD_INT 35
10300: PPUSH
10301: LD_VAR 0 3
10305: PPUSH
10306: LD_INT 1
10308: PPUSH
10309: CALL_OW 322
// SetTech ( tech_soleng , side , state_enabled ) ;
10313: LD_INT 45
10315: PPUSH
10316: LD_VAR 0 3
10320: PPUSH
10321: LD_INT 1
10323: PPUSH
10324: CALL_OW 322
// SetTech ( tech_oilpow , side , state_enabled ) ;
10328: LD_INT 46
10330: PPUSH
10331: LD_VAR 0 3
10335: PPUSH
10336: LD_INT 1
10338: PPUSH
10339: CALL_OW 322
// SetTech ( tech_oileng , side , state_enabled ) ;
10343: LD_INT 47
10345: PPUSH
10346: LD_VAR 0 3
10350: PPUSH
10351: LD_INT 1
10353: PPUSH
10354: CALL_OW 322
// SetTech ( tech_apelang , side , state_enabled ) ;
10358: LD_INT 1
10360: PPUSH
10361: LD_VAR 0 3
10365: PPUSH
10366: LD_INT 1
10368: PPUSH
10369: CALL_OW 322
// SetTech ( tech_apepsych , side , state_enabled ) ;
10373: LD_INT 2
10375: PPUSH
10376: LD_VAR 0 3
10380: PPUSH
10381: LD_INT 1
10383: PPUSH
10384: CALL_OW 322
// SetTech ( tech_apeagres , side , state_enabled ) ;
10388: LD_INT 11
10390: PPUSH
10391: LD_VAR 0 3
10395: PPUSH
10396: LD_INT 1
10398: PPUSH
10399: CALL_OW 322
// SetTech ( tech_tech1 , side , state_enabled ) ;
10403: LD_INT 48
10405: PPUSH
10406: LD_VAR 0 3
10410: PPUSH
10411: LD_INT 1
10413: PPUSH
10414: CALL_OW 322
// SetTech ( tech_gatling , side , state_enabled ) ;
10418: LD_INT 69
10420: PPUSH
10421: LD_VAR 0 3
10425: PPUSH
10426: LD_INT 1
10428: PPUSH
10429: CALL_OW 322
// SetTech ( tech_gun , side , state_enabled ) ;
10433: LD_INT 39
10435: PPUSH
10436: LD_VAR 0 3
10440: PPUSH
10441: LD_INT 1
10443: PPUSH
10444: CALL_OW 322
// SetTech ( tech_selfdest , side , state_enabled ) ;
10448: LD_INT 43
10450: PPUSH
10451: LD_VAR 0 3
10455: PPUSH
10456: LD_INT 1
10458: PPUSH
10459: CALL_OW 322
// SetTech ( tech_weap1 , side , state_enabled ) ;
10463: LD_INT 51
10465: PPUSH
10466: LD_VAR 0 3
10470: PPUSH
10471: LD_INT 1
10473: PPUSH
10474: CALL_OW 322
// SetTech ( tech_radar , side , state_enabled ) ;
10478: LD_INT 6
10480: PPUSH
10481: LD_VAR 0 3
10485: PPUSH
10486: LD_INT 1
10488: PPUSH
10489: CALL_OW 322
// SetRestrict ( b_depot , side , true ) ;
10493: LD_INT 0
10495: PPUSH
10496: LD_VAR 0 3
10500: PPUSH
10501: LD_INT 1
10503: PPUSH
10504: CALL_OW 324
// SetRestrict ( b_workshop , side , true ) ;
10508: LD_INT 2
10510: PPUSH
10511: LD_VAR 0 3
10515: PPUSH
10516: LD_INT 1
10518: PPUSH
10519: CALL_OW 324
// SetRestrict ( b_factory , side , true ) ;
10523: LD_INT 3
10525: PPUSH
10526: LD_VAR 0 3
10530: PPUSH
10531: LD_INT 1
10533: PPUSH
10534: CALL_OW 324
// SetRestrict ( b_armoury , side , true ) ;
10538: LD_INT 4
10540: PPUSH
10541: LD_VAR 0 3
10545: PPUSH
10546: LD_INT 1
10548: PPUSH
10549: CALL_OW 324
// SetRestrict ( b_lab , side , true ) ;
10553: LD_INT 6
10555: PPUSH
10556: LD_VAR 0 3
10560: PPUSH
10561: LD_INT 1
10563: PPUSH
10564: CALL_OW 324
// SetRestrict ( b_lab_half , side , true ) ;
10568: LD_INT 7
10570: PPUSH
10571: LD_VAR 0 3
10575: PPUSH
10576: LD_INT 1
10578: PPUSH
10579: CALL_OW 324
// SetRestrict ( b_lab_full , side , true ) ;
10583: LD_INT 8
10585: PPUSH
10586: LD_VAR 0 3
10590: PPUSH
10591: LD_INT 1
10593: PPUSH
10594: CALL_OW 324
// SetRestrict ( b_lab_weapon , side , true ) ;
10598: LD_INT 10
10600: PPUSH
10601: LD_VAR 0 3
10605: PPUSH
10606: LD_INT 1
10608: PPUSH
10609: CALL_OW 324
// SetRestrict ( b_lab_opto , side , true ) ;
10613: LD_INT 15
10615: PPUSH
10616: LD_VAR 0 3
10620: PPUSH
10621: LD_INT 1
10623: PPUSH
10624: CALL_OW 324
// SetRestrict ( b_ext_track , side , true ) ;
10628: LD_INT 16
10630: PPUSH
10631: LD_VAR 0 3
10635: PPUSH
10636: LD_INT 1
10638: PPUSH
10639: CALL_OW 324
// SetRestrict ( b_ext_gun , side , true ) ;
10643: LD_INT 17
10645: PPUSH
10646: LD_VAR 0 3
10650: PPUSH
10651: LD_INT 1
10653: PPUSH
10654: CALL_OW 324
// SetRestrict ( b_ext_radar , side , true ) ;
10658: LD_INT 20
10660: PPUSH
10661: LD_VAR 0 3
10665: PPUSH
10666: LD_INT 1
10668: PPUSH
10669: CALL_OW 324
// SetRestrict ( b_oil_power , side , true ) ;
10673: LD_INT 26
10675: PPUSH
10676: LD_VAR 0 3
10680: PPUSH
10681: LD_INT 1
10683: PPUSH
10684: CALL_OW 324
// SetRestrict ( b_solar_power , side , true ) ;
10688: LD_INT 27
10690: PPUSH
10691: LD_VAR 0 3
10695: PPUSH
10696: LD_INT 1
10698: PPUSH
10699: CALL_OW 324
// SetRestrict ( b_oil_mine , side , true ) ;
10703: LD_INT 29
10705: PPUSH
10706: LD_VAR 0 3
10710: PPUSH
10711: LD_INT 1
10713: PPUSH
10714: CALL_OW 324
// SetRestrict ( b_breastwork , side , true ) ;
10718: LD_INT 31
10720: PPUSH
10721: LD_VAR 0 3
10725: PPUSH
10726: LD_INT 1
10728: PPUSH
10729: CALL_OW 324
// SetRestrict ( b_bunker , side , true ) ;
10733: LD_INT 32
10735: PPUSH
10736: LD_VAR 0 3
10740: PPUSH
10741: LD_INT 1
10743: PPUSH
10744: CALL_OW 324
// end ; 4 :
10748: GO 13835
10750: LD_INT 4
10752: DOUBLE
10753: EQUAL
10754: IFTRUE 10758
10756: GO 11706
10758: POP
// begin SetTech ( tech_solpow , side , state_enabled ) ;
10759: LD_INT 35
10761: PPUSH
10762: LD_VAR 0 3
10766: PPUSH
10767: LD_INT 1
10769: PPUSH
10770: CALL_OW 322
// SetTech ( tech_soleng , side , state_enabled ) ;
10774: LD_INT 45
10776: PPUSH
10777: LD_VAR 0 3
10781: PPUSH
10782: LD_INT 1
10784: PPUSH
10785: CALL_OW 322
// SetTech ( tech_oilpow , side , state_enabled ) ;
10789: LD_INT 46
10791: PPUSH
10792: LD_VAR 0 3
10796: PPUSH
10797: LD_INT 1
10799: PPUSH
10800: CALL_OW 322
// SetTech ( tech_oileng , side , state_enabled ) ;
10804: LD_INT 47
10806: PPUSH
10807: LD_VAR 0 3
10811: PPUSH
10812: LD_INT 1
10814: PPUSH
10815: CALL_OW 322
// SetTech ( tech_apelang , side , state_enabled ) ;
10819: LD_INT 1
10821: PPUSH
10822: LD_VAR 0 3
10826: PPUSH
10827: LD_INT 1
10829: PPUSH
10830: CALL_OW 322
// SetTech ( tech_apepsych , side , state_enabled ) ;
10834: LD_INT 2
10836: PPUSH
10837: LD_VAR 0 3
10841: PPUSH
10842: LD_INT 1
10844: PPUSH
10845: CALL_OW 322
// SetTech ( tech_apeagres , side , state_enabled ) ;
10849: LD_INT 11
10851: PPUSH
10852: LD_VAR 0 3
10856: PPUSH
10857: LD_INT 1
10859: PPUSH
10860: CALL_OW 322
// SetTech ( tech_sibdet , side , state_enabled ) ;
10864: LD_INT 20
10866: PPUSH
10867: LD_VAR 0 3
10871: PPUSH
10872: LD_INT 1
10874: PPUSH
10875: CALL_OW 322
// SetTech ( tech_tech1 , side , state_enabled ) ;
10879: LD_INT 48
10881: PPUSH
10882: LD_VAR 0 3
10886: PPUSH
10887: LD_INT 1
10889: PPUSH
10890: CALL_OW 322
// SetTech ( tech_tech2 , side , state_enabled ) ;
10894: LD_INT 49
10896: PPUSH
10897: LD_VAR 0 3
10901: PPUSH
10902: LD_INT 1
10904: PPUSH
10905: CALL_OW 322
// SetTech ( tech_gatling , side , state_enabled ) ;
10909: LD_INT 69
10911: PPUSH
10912: LD_VAR 0 3
10916: PPUSH
10917: LD_INT 1
10919: PPUSH
10920: CALL_OW 322
// SetTech ( tech_gun , side , state_enabled ) ;
10924: LD_INT 39
10926: PPUSH
10927: LD_VAR 0 3
10931: PPUSH
10932: LD_INT 1
10934: PPUSH
10935: CALL_OW 322
// SetTech ( tech_advmet , side , state_enabled ) ;
10939: LD_INT 34
10941: PPUSH
10942: LD_VAR 0 3
10946: PPUSH
10947: LD_INT 1
10949: PPUSH
10950: CALL_OW 322
// SetTech ( tech_explos , side , state_enabled ) ;
10954: LD_INT 42
10956: PPUSH
10957: LD_VAR 0 3
10961: PPUSH
10962: LD_INT 1
10964: PPUSH
10965: CALL_OW 322
// SetTech ( tech_bazooka , side , state_enabled ) ;
10969: LD_INT 44
10971: PPUSH
10972: LD_VAR 0 3
10976: PPUSH
10977: LD_INT 1
10979: PPUSH
10980: CALL_OW 322
// SetTech ( tech_mortar , side , state_enabled ) ;
10984: LD_INT 41
10986: PPUSH
10987: LD_VAR 0 3
10991: PPUSH
10992: LD_INT 1
10994: PPUSH
10995: CALL_OW 322
// SetTech ( tech_selfdest , side , state_enabled ) ;
10999: LD_INT 43
11001: PPUSH
11002: LD_VAR 0 3
11006: PPUSH
11007: LD_INT 1
11009: PPUSH
11010: CALL_OW 322
// SetTech ( tech_flame , side , state_enabled ) ;
11014: LD_INT 70
11016: PPUSH
11017: LD_VAR 0 3
11021: PPUSH
11022: LD_INT 1
11024: PPUSH
11025: CALL_OW 322
// SetTech ( tech_weap1 , side , state_enabled ) ;
11029: LD_INT 51
11031: PPUSH
11032: LD_VAR 0 3
11036: PPUSH
11037: LD_INT 1
11039: PPUSH
11040: CALL_OW 322
// SetTech ( tech_weap2 , side , state_enabled ) ;
11044: LD_INT 52
11046: PPUSH
11047: LD_VAR 0 3
11051: PPUSH
11052: LD_INT 1
11054: PPUSH
11055: CALL_OW 322
// SetTech ( tech_radar , side , state_enabled ) ;
11059: LD_INT 6
11061: PPUSH
11062: LD_VAR 0 3
11066: PPUSH
11067: LD_INT 1
11069: PPUSH
11070: CALL_OW 322
// SetTech ( tech_remcont , side , state_enabled ) ;
11074: LD_INT 15
11076: PPUSH
11077: LD_VAR 0 3
11081: PPUSH
11082: LD_INT 1
11084: PPUSH
11085: CALL_OW 322
// SetTech ( tech_matdet , side , state_enabled ) ;
11089: LD_INT 7
11091: PPUSH
11092: LD_VAR 0 3
11096: PPUSH
11097: LD_INT 1
11099: PPUSH
11100: CALL_OW 322
// SetTech ( tech_lassight , side , state_enabled ) ;
11104: LD_INT 12
11106: PPUSH
11107: LD_VAR 0 3
11111: PPUSH
11112: LD_INT 1
11114: PPUSH
11115: CALL_OW 322
// SetTech ( tech_remcharge , side , state_enabled ) ;
11119: LD_INT 18
11121: PPUSH
11122: LD_VAR 0 3
11126: PPUSH
11127: LD_INT 1
11129: PPUSH
11130: CALL_OW 322
// SetTech ( tech_opto1 , side , state_enabled ) ;
11134: LD_INT 60
11136: PPUSH
11137: LD_VAR 0 3
11141: PPUSH
11142: LD_INT 1
11144: PPUSH
11145: CALL_OW 322
// SetTech ( tech_matpred , side , state_enabled ) ;
11149: LD_INT 9
11151: PPUSH
11152: LD_VAR 0 3
11156: PPUSH
11157: LD_INT 1
11159: PPUSH
11160: CALL_OW 322
// SetTech ( tech_taufield , side , state_enabled ) ;
11164: LD_INT 30
11166: PPUSH
11167: LD_VAR 0 3
11171: PPUSH
11172: LD_INT 1
11174: PPUSH
11175: CALL_OW 322
// SetTech ( tech_limteleport , side , state_enabled ) ;
11179: LD_INT 37
11181: PPUSH
11182: LD_VAR 0 3
11186: PPUSH
11187: LD_INT 1
11189: PPUSH
11190: CALL_OW 322
// SetTech ( tech_stimdrugs , side , state_enabled ) ;
11194: LD_INT 5
11196: PPUSH
11197: LD_VAR 0 3
11201: PPUSH
11202: LD_INT 1
11204: PPUSH
11205: CALL_OW 322
// SetTech ( tech_bio1 , side , state_enabled ) ;
11209: LD_INT 66
11211: PPUSH
11212: LD_VAR 0 3
11216: PPUSH
11217: LD_INT 1
11219: PPUSH
11220: CALL_OW 322
// SetTech ( tech_sibpow , side , state_enabled ) ;
11224: LD_INT 21
11226: PPUSH
11227: LD_VAR 0 3
11231: PPUSH
11232: LD_INT 1
11234: PPUSH
11235: CALL_OW 322
// SetTech ( tech_sibeng , side , state_enabled ) ;
11239: LD_INT 22
11241: PPUSH
11242: LD_VAR 0 3
11246: PPUSH
11247: LD_INT 1
11249: PPUSH
11250: CALL_OW 322
// SetTech ( tech_sib1 , side , state_enabled ) ;
11254: LD_INT 54
11256: PPUSH
11257: LD_VAR 0 3
11261: PPUSH
11262: LD_INT 1
11264: PPUSH
11265: CALL_OW 322
// SetRestrict ( b_depot , side , true ) ;
11269: LD_INT 0
11271: PPUSH
11272: LD_VAR 0 3
11276: PPUSH
11277: LD_INT 1
11279: PPUSH
11280: CALL_OW 324
// SetRestrict ( b_warehouse , side , true ) ;
11284: LD_INT 1
11286: PPUSH
11287: LD_VAR 0 3
11291: PPUSH
11292: LD_INT 1
11294: PPUSH
11295: CALL_OW 324
// SetRestrict ( b_workshop , side , true ) ;
11299: LD_INT 2
11301: PPUSH
11302: LD_VAR 0 3
11306: PPUSH
11307: LD_INT 1
11309: PPUSH
11310: CALL_OW 324
// SetRestrict ( b_factory , side , true ) ;
11314: LD_INT 3
11316: PPUSH
11317: LD_VAR 0 3
11321: PPUSH
11322: LD_INT 1
11324: PPUSH
11325: CALL_OW 324
// SetRestrict ( b_armoury , side , true ) ;
11329: LD_INT 4
11331: PPUSH
11332: LD_VAR 0 3
11336: PPUSH
11337: LD_INT 1
11339: PPUSH
11340: CALL_OW 324
// SetRestrict ( b_barracks , side , true ) ;
11344: LD_INT 5
11346: PPUSH
11347: LD_VAR 0 3
11351: PPUSH
11352: LD_INT 1
11354: PPUSH
11355: CALL_OW 324
// SetRestrict ( b_lab , side , true ) ;
11359: LD_INT 6
11361: PPUSH
11362: LD_VAR 0 3
11366: PPUSH
11367: LD_INT 1
11369: PPUSH
11370: CALL_OW 324
// SetRestrict ( b_lab_half , side , true ) ;
11374: LD_INT 7
11376: PPUSH
11377: LD_VAR 0 3
11381: PPUSH
11382: LD_INT 1
11384: PPUSH
11385: CALL_OW 324
// SetRestrict ( b_lab_full , side , true ) ;
11389: LD_INT 8
11391: PPUSH
11392: LD_VAR 0 3
11396: PPUSH
11397: LD_INT 1
11399: PPUSH
11400: CALL_OW 324
// SetRestrict ( b_lab_weapon , side , true ) ;
11404: LD_INT 10
11406: PPUSH
11407: LD_VAR 0 3
11411: PPUSH
11412: LD_INT 1
11414: PPUSH
11415: CALL_OW 324
// SetRestrict ( b_lab_siberium , side , true ) ;
11419: LD_INT 11
11421: PPUSH
11422: LD_VAR 0 3
11426: PPUSH
11427: LD_INT 1
11429: PPUSH
11430: CALL_OW 324
// SetRestrict ( b_lab_computer , side , true ) ;
11434: LD_INT 12
11436: PPUSH
11437: LD_VAR 0 3
11441: PPUSH
11442: LD_INT 1
11444: PPUSH
11445: CALL_OW 324
// SetRestrict ( b_lab_biological , side , true ) ;
11449: LD_INT 13
11451: PPUSH
11452: LD_VAR 0 3
11456: PPUSH
11457: LD_INT 1
11459: PPUSH
11460: CALL_OW 324
// SetRestrict ( b_lab_spacetime , side , true ) ;
11464: LD_INT 14
11466: PPUSH
11467: LD_VAR 0 3
11471: PPUSH
11472: LD_INT 1
11474: PPUSH
11475: CALL_OW 324
// SetRestrict ( b_lab_opto , side , true ) ;
11479: LD_INT 15
11481: PPUSH
11482: LD_VAR 0 3
11486: PPUSH
11487: LD_INT 1
11489: PPUSH
11490: CALL_OW 324
// SetRestrict ( b_ext_track , side , true ) ;
11494: LD_INT 16
11496: PPUSH
11497: LD_VAR 0 3
11501: PPUSH
11502: LD_INT 1
11504: PPUSH
11505: CALL_OW 324
// SetRestrict ( b_ext_gun , side , true ) ;
11509: LD_INT 17
11511: PPUSH
11512: LD_VAR 0 3
11516: PPUSH
11517: LD_INT 1
11519: PPUSH
11520: CALL_OW 324
// SetRestrict ( b_ext_noncombat , side , true ) ;
11524: LD_INT 19
11526: PPUSH
11527: LD_VAR 0 3
11531: PPUSH
11532: LD_INT 1
11534: PPUSH
11535: CALL_OW 324
// SetRestrict ( b_ext_radar , side , true ) ;
11539: LD_INT 20
11541: PPUSH
11542: LD_VAR 0 3
11546: PPUSH
11547: LD_INT 1
11549: PPUSH
11550: CALL_OW 324
// SetRestrict ( b_ext_siberium , side , true ) ;
11554: LD_INT 21
11556: PPUSH
11557: LD_VAR 0 3
11561: PPUSH
11562: LD_INT 1
11564: PPUSH
11565: CALL_OW 324
// SetRestrict ( b_ext_stitch , side , true ) ;
11569: LD_INT 23
11571: PPUSH
11572: LD_VAR 0 3
11576: PPUSH
11577: LD_INT 1
11579: PPUSH
11580: CALL_OW 324
// SetRestrict ( b_oil_power , side , true ) ;
11584: LD_INT 26
11586: PPUSH
11587: LD_VAR 0 3
11591: PPUSH
11592: LD_INT 1
11594: PPUSH
11595: CALL_OW 324
// SetRestrict ( b_solar_power , side , true ) ;
11599: LD_INT 27
11601: PPUSH
11602: LD_VAR 0 3
11606: PPUSH
11607: LD_INT 1
11609: PPUSH
11610: CALL_OW 324
// SetRestrict ( b_siberite_power , side , true ) ;
11614: LD_INT 28
11616: PPUSH
11617: LD_VAR 0 3
11621: PPUSH
11622: LD_INT 1
11624: PPUSH
11625: CALL_OW 324
// SetRestrict ( b_oil_mine , side , true ) ;
11629: LD_INT 29
11631: PPUSH
11632: LD_VAR 0 3
11636: PPUSH
11637: LD_INT 1
11639: PPUSH
11640: CALL_OW 324
// SetRestrict ( b_siberite_mine , side , true ) ;
11644: LD_INT 30
11646: PPUSH
11647: LD_VAR 0 3
11651: PPUSH
11652: LD_INT 1
11654: PPUSH
11655: CALL_OW 324
// SetRestrict ( b_breastwork , side , true ) ;
11659: LD_INT 31
11661: PPUSH
11662: LD_VAR 0 3
11666: PPUSH
11667: LD_INT 1
11669: PPUSH
11670: CALL_OW 324
// SetRestrict ( b_bunker , side , true ) ;
11674: LD_INT 32
11676: PPUSH
11677: LD_VAR 0 3
11681: PPUSH
11682: LD_INT 1
11684: PPUSH
11685: CALL_OW 324
// SetRestrict ( b_control_tower , side , true ) ;
11689: LD_INT 36
11691: PPUSH
11692: LD_VAR 0 3
11696: PPUSH
11697: LD_INT 1
11699: PPUSH
11700: CALL_OW 324
// end ; 5 :
11704: GO 13835
11706: LD_INT 5
11708: DOUBLE
11709: EQUAL
11710: IFTRUE 11714
11712: GO 12827
11714: POP
// begin SetTech ( tech_solpow , side , state_enabled ) ;
11715: LD_INT 35
11717: PPUSH
11718: LD_VAR 0 3
11722: PPUSH
11723: LD_INT 1
11725: PPUSH
11726: CALL_OW 322
// SetTech ( tech_soleng , side , state_enabled ) ;
11730: LD_INT 45
11732: PPUSH
11733: LD_VAR 0 3
11737: PPUSH
11738: LD_INT 1
11740: PPUSH
11741: CALL_OW 322
// SetTech ( tech_oilpow , side , state_enabled ) ;
11745: LD_INT 46
11747: PPUSH
11748: LD_VAR 0 3
11752: PPUSH
11753: LD_INT 1
11755: PPUSH
11756: CALL_OW 322
// SetTech ( tech_oileng , side , state_enabled ) ;
11760: LD_INT 47
11762: PPUSH
11763: LD_VAR 0 3
11767: PPUSH
11768: LD_INT 1
11770: PPUSH
11771: CALL_OW 322
// SetTech ( tech_apelang , side , state_enabled ) ;
11775: LD_INT 1
11777: PPUSH
11778: LD_VAR 0 3
11782: PPUSH
11783: LD_INT 1
11785: PPUSH
11786: CALL_OW 322
// SetTech ( tech_apepsych , side , state_enabled ) ;
11790: LD_INT 2
11792: PPUSH
11793: LD_VAR 0 3
11797: PPUSH
11798: LD_INT 1
11800: PPUSH
11801: CALL_OW 322
// SetTech ( tech_apeagres , side , state_enabled ) ;
11805: LD_INT 11
11807: PPUSH
11808: LD_VAR 0 3
11812: PPUSH
11813: LD_INT 1
11815: PPUSH
11816: CALL_OW 322
// SetTech ( tech_sibdet , side , state_enabled ) ;
11820: LD_INT 20
11822: PPUSH
11823: LD_VAR 0 3
11827: PPUSH
11828: LD_INT 1
11830: PPUSH
11831: CALL_OW 322
// SetTech ( tech_tech1 , side , state_enabled ) ;
11835: LD_INT 48
11837: PPUSH
11838: LD_VAR 0 3
11842: PPUSH
11843: LD_INT 1
11845: PPUSH
11846: CALL_OW 322
// SetTech ( tech_tech2 , side , state_enabled ) ;
11850: LD_INT 49
11852: PPUSH
11853: LD_VAR 0 3
11857: PPUSH
11858: LD_INT 1
11860: PPUSH
11861: CALL_OW 322
// SetTech ( tech_gatling , side , state_enabled ) ;
11865: LD_INT 69
11867: PPUSH
11868: LD_VAR 0 3
11872: PPUSH
11873: LD_INT 1
11875: PPUSH
11876: CALL_OW 322
// SetTech ( tech_gun , side , state_enabled ) ;
11880: LD_INT 39
11882: PPUSH
11883: LD_VAR 0 3
11887: PPUSH
11888: LD_INT 1
11890: PPUSH
11891: CALL_OW 322
// SetTech ( tech_advmet , side , state_enabled ) ;
11895: LD_INT 34
11897: PPUSH
11898: LD_VAR 0 3
11902: PPUSH
11903: LD_INT 1
11905: PPUSH
11906: CALL_OW 322
// SetTech ( tech_explos , side , state_enabled ) ;
11910: LD_INT 42
11912: PPUSH
11913: LD_VAR 0 3
11917: PPUSH
11918: LD_INT 1
11920: PPUSH
11921: CALL_OW 322
// SetTech ( tech_bazooka , side , state_enabled ) ;
11925: LD_INT 44
11927: PPUSH
11928: LD_VAR 0 3
11932: PPUSH
11933: LD_INT 1
11935: PPUSH
11936: CALL_OW 322
// SetTech ( tech_mortar , side , state_enabled ) ;
11940: LD_INT 41
11942: PPUSH
11943: LD_VAR 0 3
11947: PPUSH
11948: LD_INT 1
11950: PPUSH
11951: CALL_OW 322
// SetTech ( tech_rocket , side , state_enabled ) ;
11955: LD_INT 40
11957: PPUSH
11958: LD_VAR 0 3
11962: PPUSH
11963: LD_INT 1
11965: PPUSH
11966: CALL_OW 322
// SetTech ( tech_selfdest , side , state_enabled ) ;
11970: LD_INT 43
11972: PPUSH
11973: LD_VAR 0 3
11977: PPUSH
11978: LD_INT 1
11980: PPUSH
11981: CALL_OW 322
// SetTech ( tech_flame , side , state_enabled ) ;
11985: LD_INT 70
11987: PPUSH
11988: LD_VAR 0 3
11992: PPUSH
11993: LD_INT 1
11995: PPUSH
11996: CALL_OW 322
// SetTech ( tech_weap1 , side , state_enabled ) ;
12000: LD_INT 51
12002: PPUSH
12003: LD_VAR 0 3
12007: PPUSH
12008: LD_INT 1
12010: PPUSH
12011: CALL_OW 322
// SetTech ( tech_weap2 , side , state_enabled ) ;
12015: LD_INT 52
12017: PPUSH
12018: LD_VAR 0 3
12022: PPUSH
12023: LD_INT 1
12025: PPUSH
12026: CALL_OW 322
// SetTech ( tech_radar , side , state_enabled ) ;
12030: LD_INT 6
12032: PPUSH
12033: LD_VAR 0 3
12037: PPUSH
12038: LD_INT 1
12040: PPUSH
12041: CALL_OW 322
// SetTech ( tech_remcont , side , state_enabled ) ;
12045: LD_INT 15
12047: PPUSH
12048: LD_VAR 0 3
12052: PPUSH
12053: LD_INT 1
12055: PPUSH
12056: CALL_OW 322
// SetTech ( tech_matdet , side , state_enabled ) ;
12060: LD_INT 7
12062: PPUSH
12063: LD_VAR 0 3
12067: PPUSH
12068: LD_INT 1
12070: PPUSH
12071: CALL_OW 322
// SetTech ( tech_lassight , side , state_enabled ) ;
12075: LD_INT 12
12077: PPUSH
12078: LD_VAR 0 3
12082: PPUSH
12083: LD_INT 1
12085: PPUSH
12086: CALL_OW 322
// SetTech ( tech_hidcam , side , state_enabled ) ;
12090: LD_INT 17
12092: PPUSH
12093: LD_VAR 0 3
12097: PPUSH
12098: LD_INT 1
12100: PPUSH
12101: CALL_OW 322
// SetTech ( tech_remcharge , side , state_enabled ) ;
12105: LD_INT 18
12107: PPUSH
12108: LD_VAR 0 3
12112: PPUSH
12113: LD_INT 1
12115: PPUSH
12116: CALL_OW 322
// SetTech ( tech_opto1 , side , state_enabled ) ;
12120: LD_INT 60
12122: PPUSH
12123: LD_VAR 0 3
12127: PPUSH
12128: LD_INT 1
12130: PPUSH
12131: CALL_OW 322
// SetTech ( tech_ai , side , state_enabled ) ;
12135: LD_INT 32
12137: PPUSH
12138: LD_VAR 0 3
12142: PPUSH
12143: LD_INT 1
12145: PPUSH
12146: CALL_OW 322
// SetTech ( tech_matpred , side , state_enabled ) ;
12150: LD_INT 9
12152: PPUSH
12153: LD_VAR 0 3
12157: PPUSH
12158: LD_INT 1
12160: PPUSH
12161: CALL_OW 322
// SetTech ( tech_comp1 , side , state_enabled ) ;
12165: LD_INT 57
12167: PPUSH
12168: LD_VAR 0 3
12172: PPUSH
12173: LD_INT 1
12175: PPUSH
12176: CALL_OW 322
// SetTech ( tech_taufield , side , state_enabled ) ;
12180: LD_INT 30
12182: PPUSH
12183: LD_VAR 0 3
12187: PPUSH
12188: LD_INT 1
12190: PPUSH
12191: CALL_OW 322
// SetTech ( tech_limteleport , side , state_enabled ) ;
12195: LD_INT 37
12197: PPUSH
12198: LD_VAR 0 3
12202: PPUSH
12203: LD_INT 1
12205: PPUSH
12206: CALL_OW 322
// SetTech ( tech_st1 , side , state_enabled ) ;
12210: LD_INT 63
12212: PPUSH
12213: LD_VAR 0 3
12217: PPUSH
12218: LD_INT 1
12220: PPUSH
12221: CALL_OW 322
// SetTech ( tech_apeneural , side , state_enabled ) ;
12225: LD_INT 3
12227: PPUSH
12228: LD_VAR 0 3
12232: PPUSH
12233: LD_INT 1
12235: PPUSH
12236: CALL_OW 322
// SetTech ( tech_apebrain , side , state_enabled ) ;
12240: LD_INT 4
12242: PPUSH
12243: LD_VAR 0 3
12247: PPUSH
12248: LD_INT 1
12250: PPUSH
12251: CALL_OW 322
// SetTech ( tech_stimdrugs , side , state_enabled ) ;
12255: LD_INT 5
12257: PPUSH
12258: LD_VAR 0 3
12262: PPUSH
12263: LD_INT 1
12265: PPUSH
12266: CALL_OW 322
// SetTech ( tech_bio1 , side , state_enabled ) ;
12270: LD_INT 66
12272: PPUSH
12273: LD_VAR 0 3
12277: PPUSH
12278: LD_INT 1
12280: PPUSH
12281: CALL_OW 322
// SetTech ( tech_sibpow , side , state_enabled ) ;
12285: LD_INT 21
12287: PPUSH
12288: LD_VAR 0 3
12292: PPUSH
12293: LD_INT 1
12295: PPUSH
12296: CALL_OW 322
// SetTech ( tech_sibeng , side , state_enabled ) ;
12300: LD_INT 22
12302: PPUSH
12303: LD_VAR 0 3
12307: PPUSH
12308: LD_INT 1
12310: PPUSH
12311: CALL_OW 322
// SetTech ( tech_sibloc , side , state_enabled ) ;
12315: LD_INT 19
12317: PPUSH
12318: LD_VAR 0 3
12322: PPUSH
12323: LD_INT 1
12325: PPUSH
12326: CALL_OW 322
// SetTech ( tech_sib1 , side , state_enabled ) ;
12330: LD_INT 54
12332: PPUSH
12333: LD_VAR 0 3
12337: PPUSH
12338: LD_INT 1
12340: PPUSH
12341: CALL_OW 322
// SetTech ( tech_sib2 , side , state_enabled ) ;
12345: LD_INT 55
12347: PPUSH
12348: LD_VAR 0 3
12352: PPUSH
12353: LD_INT 1
12355: PPUSH
12356: CALL_OW 322
// SetRestrict ( b_depot , side , true ) ;
12360: LD_INT 0
12362: PPUSH
12363: LD_VAR 0 3
12367: PPUSH
12368: LD_INT 1
12370: PPUSH
12371: CALL_OW 324
// SetRestrict ( b_warehouse , side , true ) ;
12375: LD_INT 1
12377: PPUSH
12378: LD_VAR 0 3
12382: PPUSH
12383: LD_INT 1
12385: PPUSH
12386: CALL_OW 324
// SetRestrict ( b_workshop , side , true ) ;
12390: LD_INT 2
12392: PPUSH
12393: LD_VAR 0 3
12397: PPUSH
12398: LD_INT 1
12400: PPUSH
12401: CALL_OW 324
// SetRestrict ( b_factory , side , true ) ;
12405: LD_INT 3
12407: PPUSH
12408: LD_VAR 0 3
12412: PPUSH
12413: LD_INT 1
12415: PPUSH
12416: CALL_OW 324
// SetRestrict ( b_armoury , side , true ) ;
12420: LD_INT 4
12422: PPUSH
12423: LD_VAR 0 3
12427: PPUSH
12428: LD_INT 1
12430: PPUSH
12431: CALL_OW 324
// SetRestrict ( b_barracks , side , true ) ;
12435: LD_INT 5
12437: PPUSH
12438: LD_VAR 0 3
12442: PPUSH
12443: LD_INT 1
12445: PPUSH
12446: CALL_OW 324
// SetRestrict ( b_lab , side , true ) ;
12450: LD_INT 6
12452: PPUSH
12453: LD_VAR 0 3
12457: PPUSH
12458: LD_INT 1
12460: PPUSH
12461: CALL_OW 324
// SetRestrict ( b_lab_half , side , true ) ;
12465: LD_INT 7
12467: PPUSH
12468: LD_VAR 0 3
12472: PPUSH
12473: LD_INT 1
12475: PPUSH
12476: CALL_OW 324
// SetRestrict ( b_lab_full , side , true ) ;
12480: LD_INT 8
12482: PPUSH
12483: LD_VAR 0 3
12487: PPUSH
12488: LD_INT 1
12490: PPUSH
12491: CALL_OW 324
// SetRestrict ( b_lab_weapon , side , true ) ;
12495: LD_INT 10
12497: PPUSH
12498: LD_VAR 0 3
12502: PPUSH
12503: LD_INT 1
12505: PPUSH
12506: CALL_OW 324
// SetRestrict ( b_lab_siberium , side , true ) ;
12510: LD_INT 11
12512: PPUSH
12513: LD_VAR 0 3
12517: PPUSH
12518: LD_INT 1
12520: PPUSH
12521: CALL_OW 324
// SetRestrict ( b_lab_computer , side , true ) ;
12525: LD_INT 12
12527: PPUSH
12528: LD_VAR 0 3
12532: PPUSH
12533: LD_INT 1
12535: PPUSH
12536: CALL_OW 324
// SetRestrict ( b_lab_biological , side , true ) ;
12540: LD_INT 13
12542: PPUSH
12543: LD_VAR 0 3
12547: PPUSH
12548: LD_INT 1
12550: PPUSH
12551: CALL_OW 324
// SetRestrict ( b_lab_spacetime , side , true ) ;
12555: LD_INT 14
12557: PPUSH
12558: LD_VAR 0 3
12562: PPUSH
12563: LD_INT 1
12565: PPUSH
12566: CALL_OW 324
// SetRestrict ( b_lab_opto , side , true ) ;
12570: LD_INT 15
12572: PPUSH
12573: LD_VAR 0 3
12577: PPUSH
12578: LD_INT 1
12580: PPUSH
12581: CALL_OW 324
// SetRestrict ( b_ext_track , side , true ) ;
12585: LD_INT 16
12587: PPUSH
12588: LD_VAR 0 3
12592: PPUSH
12593: LD_INT 1
12595: PPUSH
12596: CALL_OW 324
// SetRestrict ( b_ext_gun , side , true ) ;
12600: LD_INT 17
12602: PPUSH
12603: LD_VAR 0 3
12607: PPUSH
12608: LD_INT 1
12610: PPUSH
12611: CALL_OW 324
// SetRestrict ( b_ext_rocket , side , true ) ;
12615: LD_INT 18
12617: PPUSH
12618: LD_VAR 0 3
12622: PPUSH
12623: LD_INT 1
12625: PPUSH
12626: CALL_OW 324
// SetRestrict ( b_ext_noncombat , side , true ) ;
12630: LD_INT 19
12632: PPUSH
12633: LD_VAR 0 3
12637: PPUSH
12638: LD_INT 1
12640: PPUSH
12641: CALL_OW 324
// SetRestrict ( b_ext_radar , side , true ) ;
12645: LD_INT 20
12647: PPUSH
12648: LD_VAR 0 3
12652: PPUSH
12653: LD_INT 1
12655: PPUSH
12656: CALL_OW 324
// SetRestrict ( b_ext_siberium , side , true ) ;
12660: LD_INT 21
12662: PPUSH
12663: LD_VAR 0 3
12667: PPUSH
12668: LD_INT 1
12670: PPUSH
12671: CALL_OW 324
// SetRestrict ( b_ext_stitch , side , true ) ;
12675: LD_INT 23
12677: PPUSH
12678: LD_VAR 0 3
12682: PPUSH
12683: LD_INT 1
12685: PPUSH
12686: CALL_OW 324
// SetRestrict ( b_oil_power , side , true ) ;
12690: LD_INT 26
12692: PPUSH
12693: LD_VAR 0 3
12697: PPUSH
12698: LD_INT 1
12700: PPUSH
12701: CALL_OW 324
// SetRestrict ( b_solar_power , side , true ) ;
12705: LD_INT 27
12707: PPUSH
12708: LD_VAR 0 3
12712: PPUSH
12713: LD_INT 1
12715: PPUSH
12716: CALL_OW 324
// SetRestrict ( b_siberite_power , side , true ) ;
12720: LD_INT 28
12722: PPUSH
12723: LD_VAR 0 3
12727: PPUSH
12728: LD_INT 1
12730: PPUSH
12731: CALL_OW 324
// SetRestrict ( b_oil_mine , side , true ) ;
12735: LD_INT 29
12737: PPUSH
12738: LD_VAR 0 3
12742: PPUSH
12743: LD_INT 1
12745: PPUSH
12746: CALL_OW 324
// SetRestrict ( b_siberite_mine , side , true ) ;
12750: LD_INT 30
12752: PPUSH
12753: LD_VAR 0 3
12757: PPUSH
12758: LD_INT 1
12760: PPUSH
12761: CALL_OW 324
// SetRestrict ( b_breastwork , side , true ) ;
12765: LD_INT 31
12767: PPUSH
12768: LD_VAR 0 3
12772: PPUSH
12773: LD_INT 1
12775: PPUSH
12776: CALL_OW 324
// SetRestrict ( b_bunker , side , true ) ;
12780: LD_INT 32
12782: PPUSH
12783: LD_VAR 0 3
12787: PPUSH
12788: LD_INT 1
12790: PPUSH
12791: CALL_OW 324
// SetRestrict ( b_turret , side , true ) ;
12795: LD_INT 33
12797: PPUSH
12798: LD_VAR 0 3
12802: PPUSH
12803: LD_INT 1
12805: PPUSH
12806: CALL_OW 324
// SetRestrict ( b_control_tower , side , true ) ;
12810: LD_INT 36
12812: PPUSH
12813: LD_VAR 0 3
12817: PPUSH
12818: LD_INT 1
12820: PPUSH
12821: CALL_OW 324
// end ; 6 :
12825: GO 13835
12827: LD_INT 6
12829: DOUBLE
12830: EQUAL
12831: IFTRUE 12835
12833: GO 13760
12835: POP
// begin SetTech ( tech_solpow , side , state_enabled ) ;
12836: LD_INT 35
12838: PPUSH
12839: LD_VAR 0 3
12843: PPUSH
12844: LD_INT 1
12846: PPUSH
12847: CALL_OW 322
// SetTech ( tech_soleng , side , state_enabled ) ;
12851: LD_INT 45
12853: PPUSH
12854: LD_VAR 0 3
12858: PPUSH
12859: LD_INT 1
12861: PPUSH
12862: CALL_OW 322
// SetTech ( tech_oilpow , side , state_enabled ) ;
12866: LD_INT 46
12868: PPUSH
12869: LD_VAR 0 3
12873: PPUSH
12874: LD_INT 1
12876: PPUSH
12877: CALL_OW 322
// SetTech ( tech_oileng , side , state_enabled ) ;
12881: LD_INT 47
12883: PPUSH
12884: LD_VAR 0 3
12888: PPUSH
12889: LD_INT 1
12891: PPUSH
12892: CALL_OW 322
// SetTech ( tech_apelang , side , state_enabled ) ;
12896: LD_INT 1
12898: PPUSH
12899: LD_VAR 0 3
12903: PPUSH
12904: LD_INT 1
12906: PPUSH
12907: CALL_OW 322
// SetTech ( tech_apepsych , side , state_enabled ) ;
12911: LD_INT 2
12913: PPUSH
12914: LD_VAR 0 3
12918: PPUSH
12919: LD_INT 1
12921: PPUSH
12922: CALL_OW 322
// SetTech ( tech_apeagres , side , state_enabled ) ;
12926: LD_INT 11
12928: PPUSH
12929: LD_VAR 0 3
12933: PPUSH
12934: LD_INT 1
12936: PPUSH
12937: CALL_OW 322
// SetTech ( tech_sibdet , side , state_enabled ) ;
12941: LD_INT 20
12943: PPUSH
12944: LD_VAR 0 3
12948: PPUSH
12949: LD_INT 1
12951: PPUSH
12952: CALL_OW 322
// SetTech ( tech_tech1 , side , state_enabled ) ;
12956: LD_INT 48
12958: PPUSH
12959: LD_VAR 0 3
12963: PPUSH
12964: LD_INT 1
12966: PPUSH
12967: CALL_OW 322
// SetTech ( tech_tech2 , side , state_enabled ) ;
12971: LD_INT 49
12973: PPUSH
12974: LD_VAR 0 3
12978: PPUSH
12979: LD_INT 1
12981: PPUSH
12982: CALL_OW 322
// SetTech ( tech_tech3 , side , state_enabled ) ;
12986: LD_INT 50
12988: PPUSH
12989: LD_VAR 0 3
12993: PPUSH
12994: LD_INT 1
12996: PPUSH
12997: CALL_OW 322
// SetTech ( tech_gatling , side , state_enabled ) ;
13001: LD_INT 69
13003: PPUSH
13004: LD_VAR 0 3
13008: PPUSH
13009: LD_INT 1
13011: PPUSH
13012: CALL_OW 322
// SetTech ( tech_gun , side , state_enabled ) ;
13016: LD_INT 39
13018: PPUSH
13019: LD_VAR 0 3
13023: PPUSH
13024: LD_INT 1
13026: PPUSH
13027: CALL_OW 322
// SetTech ( tech_advmet , side , state_enabled ) ;
13031: LD_INT 34
13033: PPUSH
13034: LD_VAR 0 3
13038: PPUSH
13039: LD_INT 1
13041: PPUSH
13042: CALL_OW 322
// SetTech ( tech_explos , side , state_enabled ) ;
13046: LD_INT 42
13048: PPUSH
13049: LD_VAR 0 3
13053: PPUSH
13054: LD_INT 1
13056: PPUSH
13057: CALL_OW 322
// SetTech ( tech_bazooka , side , state_enabled ) ;
13061: LD_INT 44
13063: PPUSH
13064: LD_VAR 0 3
13068: PPUSH
13069: LD_INT 1
13071: PPUSH
13072: CALL_OW 322
// SetTech ( tech_mortar , side , state_enabled ) ;
13076: LD_INT 41
13078: PPUSH
13079: LD_VAR 0 3
13083: PPUSH
13084: LD_INT 1
13086: PPUSH
13087: CALL_OW 322
// SetTech ( tech_soporific , side , state_enabled ) ;
13091: LD_INT 13
13093: PPUSH
13094: LD_VAR 0 3
13098: PPUSH
13099: LD_INT 1
13101: PPUSH
13102: CALL_OW 322
// SetTech ( tech_rocket , side , state_enabled ) ;
13106: LD_INT 40
13108: PPUSH
13109: LD_VAR 0 3
13113: PPUSH
13114: LD_INT 1
13116: PPUSH
13117: CALL_OW 322
// SetTech ( tech_selfdest , side , state_enabled ) ;
13121: LD_INT 43
13123: PPUSH
13124: LD_VAR 0 3
13128: PPUSH
13129: LD_INT 1
13131: PPUSH
13132: CALL_OW 322
// SetTech ( tech_flame , side , state_enabled ) ;
13136: LD_INT 70
13138: PPUSH
13139: LD_VAR 0 3
13143: PPUSH
13144: LD_INT 1
13146: PPUSH
13147: CALL_OW 322
// SetTech ( tech_behemoth , side , state_enabled ) ;
13151: LD_INT 23
13153: PPUSH
13154: LD_VAR 0 3
13158: PPUSH
13159: LD_INT 1
13161: PPUSH
13162: CALL_OW 322
// SetTech ( tech_weap1 , side , state_enabled ) ;
13166: LD_INT 51
13168: PPUSH
13169: LD_VAR 0 3
13173: PPUSH
13174: LD_INT 1
13176: PPUSH
13177: CALL_OW 322
// SetTech ( tech_weap2 , side , state_enabled ) ;
13181: LD_INT 52
13183: PPUSH
13184: LD_VAR 0 3
13188: PPUSH
13189: LD_INT 1
13191: PPUSH
13192: CALL_OW 322
// SetTech ( tech_radar , side , state_enabled ) ;
13196: LD_INT 6
13198: PPUSH
13199: LD_VAR 0 3
13203: PPUSH
13204: LD_INT 1
13206: PPUSH
13207: CALL_OW 322
// SetTech ( tech_remcont , side , state_enabled ) ;
13211: LD_INT 15
13213: PPUSH
13214: LD_VAR 0 3
13218: PPUSH
13219: LD_INT 1
13221: PPUSH
13222: CALL_OW 322
// SetTech ( tech_matdet , side , state_enabled ) ;
13226: LD_INT 7
13228: PPUSH
13229: LD_VAR 0 3
13233: PPUSH
13234: LD_INT 1
13236: PPUSH
13237: CALL_OW 322
// SetTech ( tech_lassight , side , state_enabled ) ;
13241: LD_INT 12
13243: PPUSH
13244: LD_VAR 0 3
13248: PPUSH
13249: LD_INT 1
13251: PPUSH
13252: CALL_OW 322
// SetTech ( tech_laser , side , state_enabled ) ;
13256: LD_INT 10
13258: PPUSH
13259: LD_VAR 0 3
13263: PPUSH
13264: LD_INT 1
13266: PPUSH
13267: CALL_OW 322
// SetTech ( tech_hidcam , side , state_enabled ) ;
13271: LD_INT 17
13273: PPUSH
13274: LD_VAR 0 3
13278: PPUSH
13279: LD_INT 1
13281: PPUSH
13282: CALL_OW 322
// SetTech ( tech_remcharge , side , state_enabled ) ;
13286: LD_INT 18
13288: PPUSH
13289: LD_VAR 0 3
13293: PPUSH
13294: LD_INT 1
13296: PPUSH
13297: CALL_OW 322
// SetTech ( tech_opto1 , side , state_enabled ) ;
13301: LD_INT 60
13303: PPUSH
13304: LD_VAR 0 3
13308: PPUSH
13309: LD_INT 1
13311: PPUSH
13312: CALL_OW 322
// SetTech ( tech_opto2 , side , state_enabled ) ;
13316: LD_INT 61
13318: PPUSH
13319: LD_VAR 0 3
13323: PPUSH
13324: LD_INT 1
13326: PPUSH
13327: CALL_OW 322
// SetTech ( tech_ai , side , state_enabled ) ;
13331: LD_INT 32
13333: PPUSH
13334: LD_VAR 0 3
13338: PPUSH
13339: LD_INT 1
13341: PPUSH
13342: CALL_OW 322
// SetTech ( tech_advai , side , state_enabled ) ;
13346: LD_INT 27
13348: PPUSH
13349: LD_VAR 0 3
13353: PPUSH
13354: LD_INT 1
13356: PPUSH
13357: CALL_OW 322
// SetTech ( tech_advchassis , side , state_enabled ) ;
13361: LD_INT 36
13363: PPUSH
13364: LD_VAR 0 3
13368: PPUSH
13369: LD_INT 1
13371: PPUSH
13372: CALL_OW 322
// SetTech ( tech_virus , side , state_enabled ) ;
13376: LD_INT 33
13378: PPUSH
13379: LD_VAR 0 3
13383: PPUSH
13384: LD_INT 1
13386: PPUSH
13387: CALL_OW 322
// SetTech ( tech_matpred , side , state_enabled ) ;
13391: LD_INT 9
13393: PPUSH
13394: LD_VAR 0 3
13398: PPUSH
13399: LD_INT 1
13401: PPUSH
13402: CALL_OW 322
// SetTech ( tech_targteleport , side , state_enabled ) ;
13406: LD_INT 38
13408: PPUSH
13409: LD_VAR 0 3
13413: PPUSH
13414: LD_INT 1
13416: PPUSH
13417: CALL_OW 322
// SetTech ( tech_comp1 , side , state_enabled ) ;
13421: LD_INT 57
13423: PPUSH
13424: LD_VAR 0 3
13428: PPUSH
13429: LD_INT 1
13431: PPUSH
13432: CALL_OW 322
// SetTech ( tech_comp2 , side , state_enabled ) ;
13436: LD_INT 58
13438: PPUSH
13439: LD_VAR 0 3
13443: PPUSH
13444: LD_INT 1
13446: PPUSH
13447: CALL_OW 322
// SetTech ( tech_taurad , side , state_enabled ) ;
13451: LD_INT 28
13453: PPUSH
13454: LD_VAR 0 3
13458: PPUSH
13459: LD_INT 1
13461: PPUSH
13462: CALL_OW 322
// SetTech ( tech_spacanom , side , state_enabled ) ;
13466: LD_INT 29
13468: PPUSH
13469: LD_VAR 0 3
13473: PPUSH
13474: LD_INT 1
13476: PPUSH
13477: CALL_OW 322
// SetTech ( tech_taufield , side , state_enabled ) ;
13481: LD_INT 30
13483: PPUSH
13484: LD_VAR 0 3
13488: PPUSH
13489: LD_INT 1
13491: PPUSH
13492: CALL_OW 322
// SetTech ( tech_limteleport , side , state_enabled ) ;
13496: LD_INT 37
13498: PPUSH
13499: LD_VAR 0 3
13503: PPUSH
13504: LD_INT 1
13506: PPUSH
13507: CALL_OW 322
// SetTech ( tech_st1 , side , state_enabled ) ;
13511: LD_INT 63
13513: PPUSH
13514: LD_VAR 0 3
13518: PPUSH
13519: LD_INT 1
13521: PPUSH
13522: CALL_OW 322
// SetTech ( tech_st2 , side , state_enabled ) ;
13526: LD_INT 64
13528: PPUSH
13529: LD_VAR 0 3
13533: PPUSH
13534: LD_INT 1
13536: PPUSH
13537: CALL_OW 322
// SetTech ( tech_apeneural , side , state_enabled ) ;
13541: LD_INT 3
13543: PPUSH
13544: LD_VAR 0 3
13548: PPUSH
13549: LD_INT 1
13551: PPUSH
13552: CALL_OW 322
// SetTech ( tech_apebrain , side , state_enabled ) ;
13556: LD_INT 4
13558: PPUSH
13559: LD_VAR 0 3
13563: PPUSH
13564: LD_INT 1
13566: PPUSH
13567: CALL_OW 322
// SetTech ( tech_stimdrugs , side , state_enabled ) ;
13571: LD_INT 5
13573: PPUSH
13574: LD_VAR 0 3
13578: PPUSH
13579: LD_INT 1
13581: PPUSH
13582: CALL_OW 322
// SetTech ( tech_biodet , side , state_enabled ) ;
13586: LD_INT 8
13588: PPUSH
13589: LD_VAR 0 3
13593: PPUSH
13594: LD_INT 1
13596: PPUSH
13597: CALL_OW 322
// SetTech ( tech_bio1 , side , state_enabled ) ;
13601: LD_INT 66
13603: PPUSH
13604: LD_VAR 0 3
13608: PPUSH
13609: LD_INT 1
13611: PPUSH
13612: CALL_OW 322
// SetTech ( tech_bio2 , side , state_enabled ) ;
13616: LD_INT 67
13618: PPUSH
13619: LD_VAR 0 3
13623: PPUSH
13624: LD_INT 1
13626: PPUSH
13627: CALL_OW 322
// SetTech ( tech_sibpow , side , state_enabled ) ;
13631: LD_INT 21
13633: PPUSH
13634: LD_VAR 0 3
13638: PPUSH
13639: LD_INT 1
13641: PPUSH
13642: CALL_OW 322
// SetTech ( tech_sibeng , side , state_enabled ) ;
13646: LD_INT 22
13648: PPUSH
13649: LD_VAR 0 3
13653: PPUSH
13654: LD_INT 1
13656: PPUSH
13657: CALL_OW 322
// SetTech ( tech_sibloc , side , state_enabled ) ;
13661: LD_INT 19
13663: PPUSH
13664: LD_VAR 0 3
13668: PPUSH
13669: LD_INT 1
13671: PPUSH
13672: CALL_OW 322
// SetTech ( tech_sibcontam , side , state_enabled ) ;
13676: LD_INT 26
13678: PPUSH
13679: LD_VAR 0 3
13683: PPUSH
13684: LD_INT 1
13686: PPUSH
13687: CALL_OW 322
// SetTech ( tech_sib1 , side , state_enabled ) ;
13691: LD_INT 54
13693: PPUSH
13694: LD_VAR 0 3
13698: PPUSH
13699: LD_INT 1
13701: PPUSH
13702: CALL_OW 322
// SetTech ( tech_sib2 , side , state_enabled ) ;
13706: LD_INT 55
13708: PPUSH
13709: LD_VAR 0 3
13713: PPUSH
13714: LD_INT 1
13716: PPUSH
13717: CALL_OW 322
// for i = 0 to 39 do
13721: LD_ADDR_VAR 0 4
13725: PUSH
13726: DOUBLE
13727: LD_INT 0
13729: DEC
13730: ST_TO_ADDR
13731: LD_INT 39
13733: PUSH
13734: FOR_TO
13735: IFFALSE 13756
// SetRestrict ( i , side , true ) ;
13737: LD_VAR 0 4
13741: PPUSH
13742: LD_VAR 0 3
13746: PPUSH
13747: LD_INT 1
13749: PPUSH
13750: CALL_OW 324
13754: GO 13734
13756: POP
13757: POP
// end ; else
13758: GO 13835
13760: POP
// begin for i = 1 to 73 do
13761: LD_ADDR_VAR 0 4
13765: PUSH
13766: DOUBLE
13767: LD_INT 1
13769: DEC
13770: ST_TO_ADDR
13771: LD_INT 73
13773: PUSH
13774: FOR_TO
13775: IFFALSE 13796
// SetTech ( i , side , state_enabled ) ;
13777: LD_VAR 0 4
13781: PPUSH
13782: LD_VAR 0 3
13786: PPUSH
13787: LD_INT 1
13789: PPUSH
13790: CALL_OW 322
13794: GO 13774
13796: POP
13797: POP
// for i = 0 to 39 do
13798: LD_ADDR_VAR 0 4
13802: PUSH
13803: DOUBLE
13804: LD_INT 0
13806: DEC
13807: ST_TO_ADDR
13808: LD_INT 39
13810: PUSH
13811: FOR_TO
13812: IFFALSE 13833
// SetRestrict ( i , side , true ) ;
13814: LD_VAR 0 4
13818: PPUSH
13819: LD_VAR 0 3
13823: PPUSH
13824: LD_INT 1
13826: PPUSH
13827: CALL_OW 324
13831: GO 13811
13833: POP
13834: POP
// end ; end ; end ;
13835: GO 9840
13837: POP
13838: POP
// end ; end_of_file
13839: LD_VAR 0 2
13843: RET
// export function UpdateSpectatorBar ; var i , j , crates , oil , sib , people , base , bases ; begin
13844: LD_INT 0
13846: PPUSH
13847: PPUSH
13848: PPUSH
13849: PPUSH
13850: PPUSH
13851: PPUSH
13852: PPUSH
13853: PPUSH
13854: PPUSH
// for i := 1 to 8 do
13855: LD_ADDR_VAR 0 2
13859: PUSH
13860: DOUBLE
13861: LD_INT 1
13863: DEC
13864: ST_TO_ADDR
13865: LD_INT 8
13867: PUSH
13868: FOR_TO
13869: IFFALSE 14253
// begin if Side_Positions [ i ] then
13871: LD_EXP 40
13875: PUSH
13876: LD_VAR 0 2
13880: ARRAY
13881: IFFALSE 14251
// begin people := FilterAllUnits ( [ [ f_side , i ] , [ f_type , unit_human ] ] ) + 0 ;
13883: LD_ADDR_VAR 0 7
13887: PUSH
13888: LD_INT 22
13890: PUSH
13891: LD_VAR 0 2
13895: PUSH
13896: EMPTY
13897: LIST
13898: LIST
13899: PUSH
13900: LD_INT 21
13902: PUSH
13903: LD_INT 1
13905: PUSH
13906: EMPTY
13907: LIST
13908: LIST
13909: PUSH
13910: EMPTY
13911: LIST
13912: LIST
13913: PPUSH
13914: CALL_OW 69
13918: PUSH
13919: LD_INT 0
13921: PLUS
13922: ST_TO_ADDR
// bases := FilterAllUnits ( [ [ f_side , i ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) ;
13923: LD_ADDR_VAR 0 9
13927: PUSH
13928: LD_INT 22
13930: PUSH
13931: LD_VAR 0 2
13935: PUSH
13936: EMPTY
13937: LIST
13938: LIST
13939: PUSH
13940: LD_INT 2
13942: PUSH
13943: LD_INT 30
13945: PUSH
13946: LD_INT 0
13948: PUSH
13949: EMPTY
13950: LIST
13951: LIST
13952: PUSH
13953: LD_INT 30
13955: PUSH
13956: LD_INT 1
13958: PUSH
13959: EMPTY
13960: LIST
13961: LIST
13962: PUSH
13963: EMPTY
13964: LIST
13965: LIST
13966: LIST
13967: PUSH
13968: EMPTY
13969: LIST
13970: LIST
13971: PPUSH
13972: CALL_OW 69
13976: ST_TO_ADDR
// crates := 0 ;
13977: LD_ADDR_VAR 0 4
13981: PUSH
13982: LD_INT 0
13984: ST_TO_ADDR
// oil := 0 ;
13985: LD_ADDR_VAR 0 5
13989: PUSH
13990: LD_INT 0
13992: ST_TO_ADDR
// sib := 0 ;
13993: LD_ADDR_VAR 0 6
13997: PUSH
13998: LD_INT 0
14000: ST_TO_ADDR
// if bases then
14001: LD_VAR 0 9
14005: IFFALSE 14111
// begin for j in bases do
14007: LD_ADDR_VAR 0 3
14011: PUSH
14012: LD_VAR 0 9
14016: PUSH
14017: FOR_IN
14018: IFFALSE 14109
// begin base := GetBase ( j ) ;
14020: LD_ADDR_VAR 0 8
14024: PUSH
14025: LD_VAR 0 3
14029: PPUSH
14030: CALL_OW 274
14034: ST_TO_ADDR
// crates := crates + GetResourceType ( base , mat_cans ) ;
14035: LD_ADDR_VAR 0 4
14039: PUSH
14040: LD_VAR 0 4
14044: PUSH
14045: LD_VAR 0 8
14049: PPUSH
14050: LD_INT 1
14052: PPUSH
14053: CALL_OW 275
14057: PLUS
14058: ST_TO_ADDR
// oil := oil + GetResourceType ( base , mat_oil ) ;
14059: LD_ADDR_VAR 0 5
14063: PUSH
14064: LD_VAR 0 5
14068: PUSH
14069: LD_VAR 0 8
14073: PPUSH
14074: LD_INT 2
14076: PPUSH
14077: CALL_OW 275
14081: PLUS
14082: ST_TO_ADDR
// sib := sib + GetResourceType ( base , mat_siberit ) ;
14083: LD_ADDR_VAR 0 6
14087: PUSH
14088: LD_VAR 0 6
14092: PUSH
14093: LD_VAR 0 8
14097: PPUSH
14098: LD_INT 3
14100: PPUSH
14101: CALL_OW 275
14105: PLUS
14106: ST_TO_ADDR
// end ;
14107: GO 14017
14109: POP
14110: POP
// end ; ToLua ( setSpecText( & i & , & 2 & , & crates & ) ) ;
14111: LD_STRING setSpecText(
14113: PUSH
14114: LD_VAR 0 2
14118: STR
14119: PUSH
14120: LD_STRING ,
14122: STR
14123: PUSH
14124: LD_INT 2
14126: STR
14127: PUSH
14128: LD_STRING ,
14130: STR
14131: PUSH
14132: LD_VAR 0 4
14136: STR
14137: PUSH
14138: LD_STRING )
14140: STR
14141: PPUSH
14142: CALL_OW 559
// ToLua ( setSpecText( & i & , & 3 & , & oil & ) ) ;
14146: LD_STRING setSpecText(
14148: PUSH
14149: LD_VAR 0 2
14153: STR
14154: PUSH
14155: LD_STRING ,
14157: STR
14158: PUSH
14159: LD_INT 3
14161: STR
14162: PUSH
14163: LD_STRING ,
14165: STR
14166: PUSH
14167: LD_VAR 0 5
14171: STR
14172: PUSH
14173: LD_STRING )
14175: STR
14176: PPUSH
14177: CALL_OW 559
// ToLua ( setSpecText( & i & , & 4 & , & sib & ) ) ;
14181: LD_STRING setSpecText(
14183: PUSH
14184: LD_VAR 0 2
14188: STR
14189: PUSH
14190: LD_STRING ,
14192: STR
14193: PUSH
14194: LD_INT 4
14196: STR
14197: PUSH
14198: LD_STRING ,
14200: STR
14201: PUSH
14202: LD_VAR 0 6
14206: STR
14207: PUSH
14208: LD_STRING )
14210: STR
14211: PPUSH
14212: CALL_OW 559
// ToLua ( setSpecText( & i & , & 5 & , & people & ) ) ;
14216: LD_STRING setSpecText(
14218: PUSH
14219: LD_VAR 0 2
14223: STR
14224: PUSH
14225: LD_STRING ,
14227: STR
14228: PUSH
14229: LD_INT 5
14231: STR
14232: PUSH
14233: LD_STRING ,
14235: STR
14236: PUSH
14237: LD_VAR 0 7
14241: STR
14242: PUSH
14243: LD_STRING )
14245: STR
14246: PPUSH
14247: CALL_OW 559
// end ; end ;
14251: GO 13868
14253: POP
14254: POP
// end ;
14255: LD_VAR 0 1
14259: RET
// every 0 0$1 do
14260: GO 14262
14262: DISABLE
// begin ToLua ( setSpecLogoNumber( & 2 & , & 1 & ) ) ;
14263: LD_STRING setSpecLogoNumber(
14265: PUSH
14266: LD_INT 2
14268: STR
14269: PUSH
14270: LD_STRING ,
14272: STR
14273: PUSH
14274: LD_INT 1
14276: STR
14277: PUSH
14278: LD_STRING )
14280: STR
14281: PPUSH
14282: CALL_OW 559
// ToLua ( setSpecLogoNumber( & 3 & , & 2 & ) ) ;
14286: LD_STRING setSpecLogoNumber(
14288: PUSH
14289: LD_INT 3
14291: STR
14292: PUSH
14293: LD_STRING ,
14295: STR
14296: PUSH
14297: LD_INT 2
14299: STR
14300: PUSH
14301: LD_STRING )
14303: STR
14304: PPUSH
14305: CALL_OW 559
// ToLua ( setSpecLogoNumber( & 4 & , & 3 & ) ) ;
14309: LD_STRING setSpecLogoNumber(
14311: PUSH
14312: LD_INT 4
14314: STR
14315: PUSH
14316: LD_STRING ,
14318: STR
14319: PUSH
14320: LD_INT 3
14322: STR
14323: PUSH
14324: LD_STRING )
14326: STR
14327: PPUSH
14328: CALL_OW 559
// ToLua ( setSpecLogoNumber( & 5 & , & 4 & ) ) ;
14332: LD_STRING setSpecLogoNumber(
14334: PUSH
14335: LD_INT 5
14337: STR
14338: PUSH
14339: LD_STRING ,
14341: STR
14342: PUSH
14343: LD_INT 4
14345: STR
14346: PUSH
14347: LD_STRING )
14349: STR
14350: PPUSH
14351: CALL_OW 559
// end ;
14355: END
// every 20 + 0 0$5 trigger FilterAllUnits ( [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ) do
14356: LD_INT 2
14358: PUSH
14359: LD_INT 30
14361: PUSH
14362: LD_INT 0
14364: PUSH
14365: EMPTY
14366: LIST
14367: LIST
14368: PUSH
14369: LD_INT 30
14371: PUSH
14372: LD_INT 1
14374: PUSH
14375: EMPTY
14376: LIST
14377: LIST
14378: PUSH
14379: EMPTY
14380: LIST
14381: LIST
14382: LIST
14383: PPUSH
14384: CALL_OW 69
14388: IFFALSE 14398
14390: GO 14392
14392: DISABLE
// begin enable ;
14393: ENABLE
// UpdateSpectatorBar ;
14394: CALL 13844 0 0
// end ; end_of_file
14398: END
// var respawn , inqueue ; export function init_respawning ; begin
14399: LD_INT 0
14401: PPUSH
// respawn := Rand ( 1 , 8 ) ;
14402: LD_ADDR_LOC 11
14406: PUSH
14407: LD_INT 1
14409: PPUSH
14410: LD_INT 8
14412: PPUSH
14413: CALL_OW 12
14417: ST_TO_ADDR
// inqueue := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
14418: LD_ADDR_LOC 12
14422: PUSH
14423: LD_INT 0
14425: PUSH
14426: LD_INT 0
14428: PUSH
14429: LD_INT 0
14431: PUSH
14432: LD_INT 0
14434: PUSH
14435: LD_INT 0
14437: PUSH
14438: LD_INT 0
14440: PUSH
14441: LD_INT 0
14443: PUSH
14444: LD_INT 0
14446: PUSH
14447: EMPTY
14448: LIST
14449: LIST
14450: LIST
14451: LIST
14452: LIST
14453: LIST
14454: LIST
14455: LIST
14456: ST_TO_ADDR
// end ;
14457: LD_VAR 0 1
14461: RET
// every 0 0$1 + 0 0$0.5 do var n , dep , aktresp ;
14462: GO 14464
14464: DISABLE
14465: LD_INT 0
14467: PPUSH
14468: PPUSH
14469: PPUSH
// begin if respawning_time_max = 0 then
14470: LD_EXP 26
14474: PUSH
14475: LD_INT 0
14477: EQUAL
14478: IFFALSE 14482
// exit ;
14480: GO 14890
// if respawn = 8 then
14482: LD_LOC 11
14486: PUSH
14487: LD_INT 8
14489: EQUAL
14490: IFFALSE 14502
// respawn := 1 else
14492: LD_ADDR_LOC 11
14496: PUSH
14497: LD_INT 1
14499: ST_TO_ADDR
14500: GO 14516
// respawn := respawn + 1 ;
14502: LD_ADDR_LOC 11
14506: PUSH
14507: LD_LOC 11
14511: PUSH
14512: LD_INT 1
14514: PLUS
14515: ST_TO_ADDR
// if Side_Positions [ respawn ] and not inqueue [ respawn ] then
14516: LD_EXP 40
14520: PUSH
14521: LD_LOC 11
14525: ARRAY
14526: PUSH
14527: LD_LOC 12
14531: PUSH
14532: LD_LOC 11
14536: ARRAY
14537: NOT
14538: AND
14539: IFFALSE 14889
// begin n := FilterAllUnits ( [ [ f_type , unit_human ] , [ f_side , respawn ] , f_not , [ f_nation , nation_nature ] ] ) ;
14541: LD_ADDR_VAR 0 1
14545: PUSH
14546: LD_INT 21
14548: PUSH
14549: LD_INT 1
14551: PUSH
14552: EMPTY
14553: LIST
14554: LIST
14555: PUSH
14556: LD_INT 22
14558: PUSH
14559: LD_LOC 11
14563: PUSH
14564: EMPTY
14565: LIST
14566: LIST
14567: PUSH
14568: LD_INT 3
14570: PUSH
14571: LD_INT 23
14573: PUSH
14574: LD_INT 0
14576: PUSH
14577: EMPTY
14578: LIST
14579: LIST
14580: PUSH
14581: EMPTY
14582: LIST
14583: LIST
14584: LIST
14585: LIST
14586: PPUSH
14587: CALL_OW 69
14591: ST_TO_ADDR
// if n < number_of_people then
14592: LD_VAR 0 1
14596: PUSH
14597: LD_EXP 19
14601: LESS
14602: IFFALSE 14886
// begin aktresp := respawn ;
14604: LD_ADDR_VAR 0 3
14608: PUSH
14609: LD_LOC 11
14613: ST_TO_ADDR
// inqueue := Replace ( inqueue , aktresp , true ) ;
14614: LD_ADDR_LOC 12
14618: PUSH
14619: LD_LOC 12
14623: PPUSH
14624: LD_VAR 0 3
14628: PPUSH
14629: LD_INT 1
14631: PPUSH
14632: CALL_OW 1
14636: ST_TO_ADDR
// enable ;
14637: ENABLE
// wait ( rand ( respawning_time_min , respawning_time_max ) ) ;
14638: LD_EXP 25
14642: PPUSH
14643: LD_EXP 26
14647: PPUSH
14648: CALL_OW 12
14652: PPUSH
14653: CALL_OW 67
// inqueue := Replace ( inqueue , aktresp , false ) ;
14657: LD_ADDR_LOC 12
14661: PUSH
14662: LD_LOC 12
14666: PPUSH
14667: LD_VAR 0 3
14671: PPUSH
14672: LD_INT 0
14674: PPUSH
14675: CALL_OW 1
14679: ST_TO_ADDR
// dep = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_ok ] , [ f_side , aktresp ] ] ) ;
14680: LD_ADDR_VAR 0 2
14684: PUSH
14685: LD_INT 21
14687: PUSH
14688: LD_INT 3
14690: PUSH
14691: EMPTY
14692: LIST
14693: LIST
14694: PUSH
14695: LD_INT 2
14697: PUSH
14698: LD_INT 30
14700: PUSH
14701: LD_INT 0
14703: PUSH
14704: EMPTY
14705: LIST
14706: LIST
14707: PUSH
14708: LD_INT 30
14710: PUSH
14711: LD_INT 1
14713: PUSH
14714: EMPTY
14715: LIST
14716: LIST
14717: PUSH
14718: EMPTY
14719: LIST
14720: LIST
14721: LIST
14722: PUSH
14723: LD_INT 50
14725: PUSH
14726: EMPTY
14727: LIST
14728: PUSH
14729: LD_INT 22
14731: PUSH
14732: LD_VAR 0 3
14736: PUSH
14737: EMPTY
14738: LIST
14739: LIST
14740: PUSH
14741: EMPTY
14742: LIST
14743: LIST
14744: LIST
14745: LIST
14746: PPUSH
14747: CALL_OW 69
14751: ST_TO_ADDR
// if dep = 0 then
14752: LD_VAR 0 2
14756: PUSH
14757: LD_INT 0
14759: EQUAL
14760: IFFALSE 14764
// exit ;
14762: GO 14890
// hc_name :=  ;
14764: LD_ADDR_OWVAR 26
14768: PUSH
14769: LD_STRING 
14771: ST_TO_ADDR
// hc_importance := 0 ;
14772: LD_ADDR_OWVAR 32
14776: PUSH
14777: LD_INT 0
14779: ST_TO_ADDR
// PrepareHuman ( 0 , 0 , skill_level div 2 ) ;
14780: LD_INT 0
14782: PPUSH
14783: LD_INT 0
14785: PPUSH
14786: LD_EXP 20
14790: PUSH
14791: LD_INT 2
14793: DIV
14794: PPUSH
14795: CALL_OW 380
// uc_nation := Side_Nations [ aktresp ] ;
14799: LD_ADDR_OWVAR 21
14803: PUSH
14804: LD_EXP 41
14808: PUSH
14809: LD_VAR 0 3
14813: ARRAY
14814: ST_TO_ADDR
// uc_side := aktresp ;
14815: LD_ADDR_OWVAR 20
14819: PUSH
14820: LD_VAR 0 3
14824: ST_TO_ADDR
// dep := dep [ Rand ( 1 , dep ) ] ;
14825: LD_ADDR_VAR 0 2
14829: PUSH
14830: LD_VAR 0 2
14834: PUSH
14835: LD_INT 1
14837: PPUSH
14838: LD_VAR 0 2
14842: PPUSH
14843: CALL_OW 12
14847: ARRAY
14848: ST_TO_ADDR
// PlaceUnitXYR ( CreateHuman , GetX ( dep ) , GetY ( dep ) , 7 , true ) ;
14849: CALL_OW 44
14853: PPUSH
14854: LD_VAR 0 2
14858: PPUSH
14859: CALL_OW 250
14863: PPUSH
14864: LD_VAR 0 2
14868: PPUSH
14869: CALL_OW 251
14873: PPUSH
14874: LD_INT 7
14876: PPUSH
14877: LD_INT 1
14879: PPUSH
14880: CALL_OW 50
// end else
14884: GO 14887
// enable ;
14886: ENABLE
// end else
14887: GO 14890
// enable ;
14889: ENABLE
// end ;
14890: PPOPN 3
14892: END
