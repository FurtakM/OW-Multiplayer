// export def_base_level , def_amount_of_people , def_skill_level , def_starting_resources , def_shipments_density , def_extra_oil_deposits , def_extra_sib_deposits , def_shared_vision , def_morale_flags , def_siberite_detection , def_people_respawning , def_amount_of_apemen , def_amount_of_siberit , def_public_score , def_siberite_bomb , def_builduptime , def_sheik , def_mastodont ; export No_Mechs , Game_Type ; export is_depot , number_of_breastworks , number_of_people , skill_level , starting_crates , starting_resources , shipments_density , morale_decreasing_time , amount_of_apemen , amount_of_siberit , respawning_time_min , respawning_time_max , siberite_bomb_Delay ; export Side_Teams , Teams ; export Side_Positions , Side_Nations , Team_Game ; export depot_def , breastworks_def , start_def , normal_oil_deposits_locations , extra_oil_deposits_locations , normal_sib_deposits_locations , extra_sib_deposits_locations , battle_flags_id , sheik , mastodont ; var commander ; var global_units , global_defined , soldiers_created ; var neng , nsci , nmech , nsol ; function read_multiplayer_and_game_parameters ; var i ; begin
   0: LD_INT 0
   2: PPUSH
   3: PPUSH
// if Multiplayer then
   4: LD_OWVAR 4
   8: IFFALSE 72
// begin Game_Type := mp_game_type ;
  10: LD_ADDR_EXP 20
  14: PUSH
  15: LD_OWVAR 6
  19: ST_TO_ADDR
// Your_Side := mp_player_side ;
  20: LD_ADDR_OWVAR 2
  24: PUSH
  25: LD_OWVAR 7
  29: ST_TO_ADDR
// Side_Positions := mp_sides_positions ;
  30: LD_ADDR_EXP 36
  34: PUSH
  35: LD_OWVAR 17
  39: ST_TO_ADDR
// Side_Teams := mp_sides_teams ;
  40: LD_ADDR_EXP 34
  44: PUSH
  45: LD_OWVAR 15
  49: ST_TO_ADDR
// Side_Nations := mp_sides_nations ;
  50: LD_ADDR_EXP 37
  54: PUSH
  55: LD_OWVAR 16
  59: ST_TO_ADDR
// Teams := mp_teams ;
  60: LD_ADDR_EXP 35
  64: PUSH
  65: LD_OWVAR 12
  69: ST_TO_ADDR
// end else
  70: GO 254
// begin Game_Type := 1 ;
  72: LD_ADDR_EXP 20
  76: PUSH
  77: LD_INT 1
  79: ST_TO_ADDR
// Your_Side := 3 ;
  80: LD_ADDR_OWVAR 2
  84: PUSH
  85: LD_INT 3
  87: ST_TO_ADDR
// Side_Positions := [ 1 , 2 , 3 , 4 , 5 , 6 , 0 , 0 ] ;
  88: LD_ADDR_EXP 36
  92: PUSH
  93: LD_INT 1
  95: PUSH
  96: LD_INT 2
  98: PUSH
  99: LD_INT 3
 101: PUSH
 102: LD_INT 4
 104: PUSH
 105: LD_INT 5
 107: PUSH
 108: LD_INT 6
 110: PUSH
 111: LD_INT 0
 113: PUSH
 114: LD_INT 0
 116: PUSH
 117: EMPTY
 118: LIST
 119: LIST
 120: LIST
 121: LIST
 122: LIST
 123: LIST
 124: LIST
 125: LIST
 126: ST_TO_ADDR
// Side_Teams := [ 1 , 2 , 3 , 4 , 5 , 6 , 0 , 0 ] ;
 127: LD_ADDR_EXP 34
 131: PUSH
 132: LD_INT 1
 134: PUSH
 135: LD_INT 2
 137: PUSH
 138: LD_INT 3
 140: PUSH
 141: LD_INT 4
 143: PUSH
 144: LD_INT 5
 146: PUSH
 147: LD_INT 6
 149: PUSH
 150: LD_INT 0
 152: PUSH
 153: LD_INT 0
 155: PUSH
 156: EMPTY
 157: LIST
 158: LIST
 159: LIST
 160: LIST
 161: LIST
 162: LIST
 163: LIST
 164: LIST
 165: ST_TO_ADDR
// Side_Nations := [ 1 , 2 , 3 , 1 , 2 , 3 , 0 , 0 ] ;
 166: LD_ADDR_EXP 37
 170: PUSH
 171: LD_INT 1
 173: PUSH
 174: LD_INT 2
 176: PUSH
 177: LD_INT 3
 179: PUSH
 180: LD_INT 1
 182: PUSH
 183: LD_INT 2
 185: PUSH
 186: LD_INT 3
 188: PUSH
 189: LD_INT 0
 191: PUSH
 192: LD_INT 0
 194: PUSH
 195: EMPTY
 196: LIST
 197: LIST
 198: LIST
 199: LIST
 200: LIST
 201: LIST
 202: LIST
 203: LIST
 204: ST_TO_ADDR
// Teams := [ [ 1 ] , [ 2 ] , [ 3 ] , [ 4 ] , [ 5 ] , [ 6 ] ] ;
 205: LD_ADDR_EXP 35
 209: PUSH
 210: LD_INT 1
 212: PUSH
 213: EMPTY
 214: LIST
 215: PUSH
 216: LD_INT 2
 218: PUSH
 219: EMPTY
 220: LIST
 221: PUSH
 222: LD_INT 3
 224: PUSH
 225: EMPTY
 226: LIST
 227: PUSH
 228: LD_INT 4
 230: PUSH
 231: EMPTY
 232: LIST
 233: PUSH
 234: LD_INT 5
 236: PUSH
 237: EMPTY
 238: LIST
 239: PUSH
 240: LD_INT 6
 242: PUSH
 243: EMPTY
 244: LIST
 245: PUSH
 246: EMPTY
 247: LIST
 248: LIST
 249: LIST
 250: LIST
 251: LIST
 252: LIST
 253: ST_TO_ADDR
// end ; Team_Game := ( Side_Teams diff [ 0 ] ) > 1 ;
 254: LD_ADDR_EXP 38
 258: PUSH
 259: LD_EXP 34
 263: PUSH
 264: LD_INT 0
 266: PUSH
 267: EMPTY
 268: LIST
 269: DIFF
 270: PUSH
 271: LD_INT 1
 273: GREATER
 274: ST_TO_ADDR
// if Multiplayer then
 275: LD_OWVAR 4
 279: IFFALSE 517
// begin def_base_level := GetMultiplayerSetting ( 0 ) ;
 281: LD_ADDR_EXP 1
 285: PUSH
 286: LD_INT 0
 288: PPUSH
 289: CALL_OW 426
 293: ST_TO_ADDR
// def_amount_of_people := GetMultiplayerSetting ( 1 ) ;
 294: LD_ADDR_EXP 2
 298: PUSH
 299: LD_INT 1
 301: PPUSH
 302: CALL_OW 426
 306: ST_TO_ADDR
// def_skill_level := GetMultiplayerSetting ( 2 ) ;
 307: LD_ADDR_EXP 3
 311: PUSH
 312: LD_INT 2
 314: PPUSH
 315: CALL_OW 426
 319: ST_TO_ADDR
// def_starting_resources := GetMultiplayerSetting ( 3 ) ;
 320: LD_ADDR_EXP 4
 324: PUSH
 325: LD_INT 3
 327: PPUSH
 328: CALL_OW 426
 332: ST_TO_ADDR
// def_shipments_density := GetMultiplayerSetting ( 4 ) ;
 333: LD_ADDR_EXP 5
 337: PUSH
 338: LD_INT 4
 340: PPUSH
 341: CALL_OW 426
 345: ST_TO_ADDR
// def_extra_oil_deposits := GetMultiplayerSetting ( 5 ) ;
 346: LD_ADDR_EXP 6
 350: PUSH
 351: LD_INT 5
 353: PPUSH
 354: CALL_OW 426
 358: ST_TO_ADDR
// def_extra_sib_deposits := GetMultiplayerSetting ( 6 ) ;
 359: LD_ADDR_EXP 7
 363: PUSH
 364: LD_INT 6
 366: PPUSH
 367: CALL_OW 426
 371: ST_TO_ADDR
// def_shared_vision := GetMultiplayerSetting ( 10 ) ;
 372: LD_ADDR_EXP 8
 376: PUSH
 377: LD_INT 10
 379: PPUSH
 380: CALL_OW 426
 384: ST_TO_ADDR
// def_morale_flags := GetMultiplayerSetting ( 11 ) ;
 385: LD_ADDR_EXP 9
 389: PUSH
 390: LD_INT 11
 392: PPUSH
 393: CALL_OW 426
 397: ST_TO_ADDR
// def_siberite_detection := GetMultiplayerSetting ( 12 ) ;
 398: LD_ADDR_EXP 10
 402: PUSH
 403: LD_INT 12
 405: PPUSH
 406: CALL_OW 426
 410: ST_TO_ADDR
// def_people_respawning := GetMultiplayerSetting ( 13 ) ;
 411: LD_ADDR_EXP 11
 415: PUSH
 416: LD_INT 13
 418: PPUSH
 419: CALL_OW 426
 423: ST_TO_ADDR
// def_amount_of_apemen := GetMultiplayerSetting ( 14 ) ;
 424: LD_ADDR_EXP 12
 428: PUSH
 429: LD_INT 14
 431: PPUSH
 432: CALL_OW 426
 436: ST_TO_ADDR
// def_amount_of_siberit := GetMultiplayerSetting ( 15 ) ;
 437: LD_ADDR_EXP 13
 441: PUSH
 442: LD_INT 15
 444: PPUSH
 445: CALL_OW 426
 449: ST_TO_ADDR
// def_public_score := GetMultiplayerSetting ( 16 ) ;
 450: LD_ADDR_EXP 14
 454: PUSH
 455: LD_INT 16
 457: PPUSH
 458: CALL_OW 426
 462: ST_TO_ADDR
// def_siberite_bomb := GetMultiplayerSetting ( 17 ) ;
 463: LD_ADDR_EXP 15
 467: PUSH
 468: LD_INT 17
 470: PPUSH
 471: CALL_OW 426
 475: ST_TO_ADDR
// def_builduptime := GetMultiplayerSetting ( 20 ) ;
 476: LD_ADDR_EXP 16
 480: PUSH
 481: LD_INT 20
 483: PPUSH
 484: CALL_OW 426
 488: ST_TO_ADDR
// def_sheik := GetMultiplayerSetting ( 22 ) ;
 489: LD_ADDR_EXP 17
 493: PUSH
 494: LD_INT 22
 496: PPUSH
 497: CALL_OW 426
 501: ST_TO_ADDR
// def_mastodont := GetMultiplayerSetting ( 23 ) ;
 502: LD_ADDR_EXP 18
 506: PUSH
 507: LD_INT 23
 509: PPUSH
 510: CALL_OW 426
 514: ST_TO_ADDR
// end else
 515: GO 665
// begin Randomize ;
 517: CALL_OW 10
// def_base_level := 2 ;
 521: LD_ADDR_EXP 1
 525: PUSH
 526: LD_INT 2
 528: ST_TO_ADDR
// def_amount_of_people := 0 ;
 529: LD_ADDR_EXP 2
 533: PUSH
 534: LD_INT 0
 536: ST_TO_ADDR
// def_skill_level := 1 ;
 537: LD_ADDR_EXP 3
 541: PUSH
 542: LD_INT 1
 544: ST_TO_ADDR
// def_starting_resources := 2 ;
 545: LD_ADDR_EXP 4
 549: PUSH
 550: LD_INT 2
 552: ST_TO_ADDR
// def_shipments_density := 1 ;
 553: LD_ADDR_EXP 5
 557: PUSH
 558: LD_INT 1
 560: ST_TO_ADDR
// def_extra_oil_deposits := 1 ;
 561: LD_ADDR_EXP 6
 565: PUSH
 566: LD_INT 1
 568: ST_TO_ADDR
// def_extra_sib_deposits := 2 ;
 569: LD_ADDR_EXP 7
 573: PUSH
 574: LD_INT 2
 576: ST_TO_ADDR
// def_shared_vision := 1 ;
 577: LD_ADDR_EXP 8
 581: PUSH
 582: LD_INT 1
 584: ST_TO_ADDR
// def_morale_flags := 1 ;
 585: LD_ADDR_EXP 9
 589: PUSH
 590: LD_INT 1
 592: ST_TO_ADDR
// def_siberite_detection := 1 ;
 593: LD_ADDR_EXP 10
 597: PUSH
 598: LD_INT 1
 600: ST_TO_ADDR
// def_people_respawning := 2 ;
 601: LD_ADDR_EXP 11
 605: PUSH
 606: LD_INT 2
 608: ST_TO_ADDR
// def_amount_of_apemen := 3 ;
 609: LD_ADDR_EXP 12
 613: PUSH
 614: LD_INT 3
 616: ST_TO_ADDR
// def_amount_of_siberit := 0 ;
 617: LD_ADDR_EXP 13
 621: PUSH
 622: LD_INT 0
 624: ST_TO_ADDR
// def_public_score := 0 ;
 625: LD_ADDR_EXP 14
 629: PUSH
 630: LD_INT 0
 632: ST_TO_ADDR
// def_siberite_bomb := 0 ;
 633: LD_ADDR_EXP 15
 637: PUSH
 638: LD_INT 0
 640: ST_TO_ADDR
// def_builduptime := 1 ;
 641: LD_ADDR_EXP 16
 645: PUSH
 646: LD_INT 1
 648: ST_TO_ADDR
// def_sheik := 0 ;
 649: LD_ADDR_EXP 17
 653: PUSH
 654: LD_INT 0
 656: ST_TO_ADDR
// def_mastodont := 0 ;
 657: LD_ADDR_EXP 18
 661: PUSH
 662: LD_INT 0
 664: ST_TO_ADDR
// end ; if isSGUI then
 665: LD_OWVAR 83
 669: IFFALSE 675
// setMpTechs ( ) ;
 671: CALL 9908 0 0
// if ( Game_Type = 5 ) then
 675: LD_EXP 20
 679: PUSH
 680: LD_INT 5
 682: EQUAL
 683: IFFALSE 712
// begin def_base_level := 1 ;
 685: LD_ADDR_EXP 1
 689: PUSH
 690: LD_INT 1
 692: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
 693: LD_ADDR_EXP 6
 697: PUSH
 698: LD_INT 0
 700: ST_TO_ADDR
// def_extra_sib_deposits := 0 ;
 701: LD_ADDR_EXP 7
 705: PUSH
 706: LD_INT 0
 708: ST_TO_ADDR
// disable ( 10 ) ;
 709: LD_INT 10
 711: DISABLE_MARKED
// end ; is_depot := [ 0 , 1 , 1 ] [ def_base_level + 1 ] ;
 712: LD_ADDR_EXP 21
 716: PUSH
 717: LD_INT 0
 719: PUSH
 720: LD_INT 1
 722: PUSH
 723: LD_INT 1
 725: PUSH
 726: EMPTY
 727: LIST
 728: LIST
 729: LIST
 730: PUSH
 731: LD_EXP 1
 735: PUSH
 736: LD_INT 1
 738: PLUS
 739: ARRAY
 740: ST_TO_ADDR
// number_of_breastworks := [ 0 , 0 , 2 ] [ def_base_level + 1 ] ;
 741: LD_ADDR_EXP 22
 745: PUSH
 746: LD_INT 0
 748: PUSH
 749: LD_INT 0
 751: PUSH
 752: LD_INT 2
 754: PUSH
 755: EMPTY
 756: LIST
 757: LIST
 758: LIST
 759: PUSH
 760: LD_EXP 1
 764: PUSH
 765: LD_INT 1
 767: PLUS
 768: ARRAY
 769: ST_TO_ADDR
// number_of_people := [ 9 , 12 , 15 , 24 ] [ def_amount_of_people + 1 ] ;
 770: LD_ADDR_EXP 23
 774: PUSH
 775: LD_INT 9
 777: PUSH
 778: LD_INT 12
 780: PUSH
 781: LD_INT 15
 783: PUSH
 784: LD_INT 24
 786: PUSH
 787: EMPTY
 788: LIST
 789: LIST
 790: LIST
 791: LIST
 792: PUSH
 793: LD_EXP 2
 797: PUSH
 798: LD_INT 1
 800: PLUS
 801: ARRAY
 802: ST_TO_ADDR
// skill_level := [ 2 , 3 , 4 , 5 , 8 ] [ def_skill_level + 1 ] ;
 803: LD_ADDR_EXP 24
 807: PUSH
 808: LD_INT 2
 810: PUSH
 811: LD_INT 3
 813: PUSH
 814: LD_INT 4
 816: PUSH
 817: LD_INT 5
 819: PUSH
 820: LD_INT 8
 822: PUSH
 823: EMPTY
 824: LIST
 825: LIST
 826: LIST
 827: LIST
 828: LIST
 829: PUSH
 830: LD_EXP 3
 834: PUSH
 835: LD_INT 1
 837: PLUS
 838: ARRAY
 839: ST_TO_ADDR
// if ( Game_Type = 5 ) then
 840: LD_EXP 20
 844: PUSH
 845: LD_INT 5
 847: EQUAL
 848: IFFALSE 966
// begin starting_resources := [ [ 1000 , 100 , 100 ] , [ 2000 , 200 , 200 ] , [ 5000 , 500 , 500 ] , [ 10000 , 1000 , 1000 ] , [ 25000 , 2500 , 2500 ] , [ 50000 , 5000 , 5000 ] ] [ def_starting_resources + 1 ] ;
 850: LD_ADDR_EXP 26
 854: PUSH
 855: LD_INT 1000
 857: PUSH
 858: LD_INT 100
 860: PUSH
 861: LD_INT 100
 863: PUSH
 864: EMPTY
 865: LIST
 866: LIST
 867: LIST
 868: PUSH
 869: LD_INT 2000
 871: PUSH
 872: LD_INT 200
 874: PUSH
 875: LD_INT 200
 877: PUSH
 878: EMPTY
 879: LIST
 880: LIST
 881: LIST
 882: PUSH
 883: LD_INT 5000
 885: PUSH
 886: LD_INT 500
 888: PUSH
 889: LD_INT 500
 891: PUSH
 892: EMPTY
 893: LIST
 894: LIST
 895: LIST
 896: PUSH
 897: LD_INT 10000
 899: PUSH
 900: LD_INT 1000
 902: PUSH
 903: LD_INT 1000
 905: PUSH
 906: EMPTY
 907: LIST
 908: LIST
 909: LIST
 910: PUSH
 911: LD_INT 25000
 913: PUSH
 914: LD_INT 2500
 916: PUSH
 917: LD_INT 2500
 919: PUSH
 920: EMPTY
 921: LIST
 922: LIST
 923: LIST
 924: PUSH
 925: LD_INT 50000
 927: PUSH
 928: LD_INT 5000
 930: PUSH
 931: LD_INT 5000
 933: PUSH
 934: EMPTY
 935: LIST
 936: LIST
 937: LIST
 938: PUSH
 939: EMPTY
 940: LIST
 941: LIST
 942: LIST
 943: LIST
 944: LIST
 945: LIST
 946: PUSH
 947: LD_EXP 4
 951: PUSH
 952: LD_INT 1
 954: PLUS
 955: ARRAY
 956: ST_TO_ADDR
// starting_crates := [ ] ;
 957: LD_ADDR_EXP 25
 961: PUSH
 962: EMPTY
 963: ST_TO_ADDR
// end else
 964: GO 1112
// begin starting_resources := [ [ 0 , 0 , 0 ] , [ 30 , 0 , 0 ] , [ 50 , 20 , 0 ] , [ 80 , 40 , 20 ] ] [ def_starting_resources + 1 ] ;
 966: LD_ADDR_EXP 26
 970: PUSH
 971: LD_INT 0
 973: PUSH
 974: LD_INT 0
 976: PUSH
 977: LD_INT 0
 979: PUSH
 980: EMPTY
 981: LIST
 982: LIST
 983: LIST
 984: PUSH
 985: LD_INT 30
 987: PUSH
 988: LD_INT 0
 990: PUSH
 991: LD_INT 0
 993: PUSH
 994: EMPTY
 995: LIST
 996: LIST
 997: LIST
 998: PUSH
 999: LD_INT 50
1001: PUSH
1002: LD_INT 20
1004: PUSH
1005: LD_INT 0
1007: PUSH
1008: EMPTY
1009: LIST
1010: LIST
1011: LIST
1012: PUSH
1013: LD_INT 80
1015: PUSH
1016: LD_INT 40
1018: PUSH
1019: LD_INT 20
1021: PUSH
1022: EMPTY
1023: LIST
1024: LIST
1025: LIST
1026: PUSH
1027: EMPTY
1028: LIST
1029: LIST
1030: LIST
1031: LIST
1032: PUSH
1033: LD_EXP 4
1037: PUSH
1038: LD_INT 1
1040: PLUS
1041: ARRAY
1042: ST_TO_ADDR
// starting_crates := [ [ 10 ] , [ 7 , 14 ] , [ 6 , 12 , 18 ] , [ 5 , 10 , 15 , 20 ] ] [ def_starting_resources + 1 ] ;
1043: LD_ADDR_EXP 25
1047: PUSH
1048: LD_INT 10
1050: PUSH
1051: EMPTY
1052: LIST
1053: PUSH
1054: LD_INT 7
1056: PUSH
1057: LD_INT 14
1059: PUSH
1060: EMPTY
1061: LIST
1062: LIST
1063: PUSH
1064: LD_INT 6
1066: PUSH
1067: LD_INT 12
1069: PUSH
1070: LD_INT 18
1072: PUSH
1073: EMPTY
1074: LIST
1075: LIST
1076: LIST
1077: PUSH
1078: LD_INT 5
1080: PUSH
1081: LD_INT 10
1083: PUSH
1084: LD_INT 15
1086: PUSH
1087: LD_INT 20
1089: PUSH
1090: EMPTY
1091: LIST
1092: LIST
1093: LIST
1094: LIST
1095: PUSH
1096: EMPTY
1097: LIST
1098: LIST
1099: LIST
1100: LIST
1101: PUSH
1102: LD_EXP 4
1106: PUSH
1107: LD_INT 1
1109: PLUS
1110: ARRAY
1111: ST_TO_ADDR
// end ; shipments_density := [ 150 , 125 , 100 , 50 ] [ def_shipments_density + 1 ] ;
1112: LD_ADDR_EXP 27
1116: PUSH
1117: LD_INT 150
1119: PUSH
1120: LD_INT 125
1122: PUSH
1123: LD_INT 100
1125: PUSH
1126: LD_INT 50
1128: PUSH
1129: EMPTY
1130: LIST
1131: LIST
1132: LIST
1133: LIST
1134: PUSH
1135: LD_EXP 5
1139: PUSH
1140: LD_INT 1
1142: PLUS
1143: ARRAY
1144: ST_TO_ADDR
// respawning_time_min := [ 0 0$0 , 5 5$00 , 3 3$0 ] [ def_people_respawning + 1 ] ;
1145: LD_ADDR_EXP 31
1149: PUSH
1150: LD_INT 0
1152: PUSH
1153: LD_INT 10500
1155: PUSH
1156: LD_INT 6300
1158: PUSH
1159: EMPTY
1160: LIST
1161: LIST
1162: LIST
1163: PUSH
1164: LD_EXP 11
1168: PUSH
1169: LD_INT 1
1171: PLUS
1172: ARRAY
1173: ST_TO_ADDR
// respawning_time_max := [ 0 0$0 , 15 15$00 , 5 5$0 ] [ def_people_respawning + 1 ] ;
1174: LD_ADDR_EXP 32
1178: PUSH
1179: LD_INT 0
1181: PUSH
1182: LD_INT 31500
1184: PUSH
1185: LD_INT 10500
1187: PUSH
1188: EMPTY
1189: LIST
1190: LIST
1191: LIST
1192: PUSH
1193: LD_EXP 11
1197: PUSH
1198: LD_INT 1
1200: PLUS
1201: ARRAY
1202: ST_TO_ADDR
// amount_of_apemen := [ 0 , 1 , 2 , 3 ] [ def_amount_of_apemen + 1 ] ;
1203: LD_ADDR_EXP 29
1207: PUSH
1208: LD_INT 0
1210: PUSH
1211: LD_INT 1
1213: PUSH
1214: LD_INT 2
1216: PUSH
1217: LD_INT 3
1219: PUSH
1220: EMPTY
1221: LIST
1222: LIST
1223: LIST
1224: LIST
1225: PUSH
1226: LD_EXP 12
1230: PUSH
1231: LD_INT 1
1233: PLUS
1234: ARRAY
1235: ST_TO_ADDR
// amount_of_siberit := [ 30 , 50 , 80 , 100 , 130 , 150 , 200 ] [ def_amount_of_siberit + 1 ] ;
1236: LD_ADDR_EXP 30
1240: PUSH
1241: LD_INT 30
1243: PUSH
1244: LD_INT 50
1246: PUSH
1247: LD_INT 80
1249: PUSH
1250: LD_INT 100
1252: PUSH
1253: LD_INT 130
1255: PUSH
1256: LD_INT 150
1258: PUSH
1259: LD_INT 200
1261: PUSH
1262: EMPTY
1263: LIST
1264: LIST
1265: LIST
1266: LIST
1267: LIST
1268: LIST
1269: LIST
1270: PUSH
1271: LD_EXP 13
1275: PUSH
1276: LD_INT 1
1278: PLUS
1279: ARRAY
1280: ST_TO_ADDR
// morale_decreasing_time := [ - 1 , 0 0$10 , 0 0$20 , 0 0$40 , 0 0$0 ] [ def_morale_flags + 1 ] ;
1281: LD_ADDR_EXP 28
1285: PUSH
1286: LD_INT 1
1288: NEG
1289: PUSH
1290: LD_INT 350
1292: PUSH
1293: LD_INT 700
1295: PUSH
1296: LD_INT 1400
1298: PUSH
1299: LD_INT 0
1301: PUSH
1302: EMPTY
1303: LIST
1304: LIST
1305: LIST
1306: LIST
1307: LIST
1308: PUSH
1309: LD_EXP 9
1313: PUSH
1314: LD_INT 1
1316: PLUS
1317: ARRAY
1318: ST_TO_ADDR
// battle_flags_id := [ ] ;
1319: LD_ADDR_EXP 46
1323: PUSH
1324: EMPTY
1325: ST_TO_ADDR
// siberite_bomb_Delay := [ 0 , 1 , 30 30$00 , 60 60$00 , 90 90$00 , 120 120$00 ] [ def_siberite_bomb + 1 ] ;
1326: LD_ADDR_EXP 33
1330: PUSH
1331: LD_INT 0
1333: PUSH
1334: LD_INT 1
1336: PUSH
1337: LD_INT 63000
1339: PUSH
1340: LD_INT 126000
1342: PUSH
1343: LD_INT 189000
1345: PUSH
1346: LD_INT 252000
1348: PUSH
1349: EMPTY
1350: LIST
1351: LIST
1352: LIST
1353: LIST
1354: LIST
1355: LIST
1356: PUSH
1357: LD_EXP 15
1361: PUSH
1362: LD_INT 1
1364: PLUS
1365: ARRAY
1366: ST_TO_ADDR
// if ( Game_Type = 12 ) then
1367: LD_EXP 20
1371: PUSH
1372: LD_INT 12
1374: EQUAL
1375: IFFALSE 1433
// begin sheik := [ 0 , 1 ] [ def_sheik + 1 ] ;
1377: LD_ADDR_EXP 47
1381: PUSH
1382: LD_INT 0
1384: PUSH
1385: LD_INT 1
1387: PUSH
1388: EMPTY
1389: LIST
1390: LIST
1391: PUSH
1392: LD_EXP 17
1396: PUSH
1397: LD_INT 1
1399: PLUS
1400: ARRAY
1401: ST_TO_ADDR
// mastodont := [ 0 , 1 , 2 ] [ def_mastodont + 1 ] end else
1402: LD_ADDR_EXP 48
1406: PUSH
1407: LD_INT 0
1409: PUSH
1410: LD_INT 1
1412: PUSH
1413: LD_INT 2
1415: PUSH
1416: EMPTY
1417: LIST
1418: LIST
1419: LIST
1420: PUSH
1421: LD_EXP 18
1425: PUSH
1426: LD_INT 1
1428: PLUS
1429: ARRAY
1430: ST_TO_ADDR
1431: GO 1449
// begin sheik := 0 ;
1433: LD_ADDR_EXP 47
1437: PUSH
1438: LD_INT 0
1440: ST_TO_ADDR
// mastodont := 0 ;
1441: LD_ADDR_EXP 48
1445: PUSH
1446: LD_INT 0
1448: ST_TO_ADDR
// end ; end ;
1449: LD_VAR 0 1
1453: RET
// function init_map ; var i , j ; begin
1454: LD_INT 0
1456: PPUSH
1457: PPUSH
1458: PPUSH
// normal_oil_deposits_locations := [ [ 101 , 187 ] , [ 18 , 26 ] , [ 50 , 89 ] , [ 123 , 3 ] , [ 182 , 69 ] , [ 231 , 174 ] ] ;
1459: LD_ADDR_EXP 42
1463: PUSH
1464: LD_INT 101
1466: PUSH
1467: LD_INT 187
1469: PUSH
1470: EMPTY
1471: LIST
1472: LIST
1473: PUSH
1474: LD_INT 18
1476: PUSH
1477: LD_INT 26
1479: PUSH
1480: EMPTY
1481: LIST
1482: LIST
1483: PUSH
1484: LD_INT 50
1486: PUSH
1487: LD_INT 89
1489: PUSH
1490: EMPTY
1491: LIST
1492: LIST
1493: PUSH
1494: LD_INT 123
1496: PUSH
1497: LD_INT 3
1499: PUSH
1500: EMPTY
1501: LIST
1502: LIST
1503: PUSH
1504: LD_INT 182
1506: PUSH
1507: LD_INT 69
1509: PUSH
1510: EMPTY
1511: LIST
1512: LIST
1513: PUSH
1514: LD_INT 231
1516: PUSH
1517: LD_INT 174
1519: PUSH
1520: EMPTY
1521: LIST
1522: LIST
1523: PUSH
1524: EMPTY
1525: LIST
1526: LIST
1527: LIST
1528: LIST
1529: LIST
1530: LIST
1531: ST_TO_ADDR
// extra_oil_deposits_locations := [ [ [ 101 , 187 ] , [ 108 , 183 ] ] , [ [ 18 , 26 ] , [ 7 , 8 ] ] , [ [ 50 , 89 ] , [ 62 , 99 ] ] , [ [ 123 , 3 ] , [ 149 , 18 ] ] , [ [ 182 , 69 ] , [ 202 , 90 ] ] , [ [ 231 , 174 ] , [ 239 , 164 ] ] ] ;
1532: LD_ADDR_EXP 43
1536: PUSH
1537: LD_INT 101
1539: PUSH
1540: LD_INT 187
1542: PUSH
1543: EMPTY
1544: LIST
1545: LIST
1546: PUSH
1547: LD_INT 108
1549: PUSH
1550: LD_INT 183
1552: PUSH
1553: EMPTY
1554: LIST
1555: LIST
1556: PUSH
1557: EMPTY
1558: LIST
1559: LIST
1560: PUSH
1561: LD_INT 18
1563: PUSH
1564: LD_INT 26
1566: PUSH
1567: EMPTY
1568: LIST
1569: LIST
1570: PUSH
1571: LD_INT 7
1573: PUSH
1574: LD_INT 8
1576: PUSH
1577: EMPTY
1578: LIST
1579: LIST
1580: PUSH
1581: EMPTY
1582: LIST
1583: LIST
1584: PUSH
1585: LD_INT 50
1587: PUSH
1588: LD_INT 89
1590: PUSH
1591: EMPTY
1592: LIST
1593: LIST
1594: PUSH
1595: LD_INT 62
1597: PUSH
1598: LD_INT 99
1600: PUSH
1601: EMPTY
1602: LIST
1603: LIST
1604: PUSH
1605: EMPTY
1606: LIST
1607: LIST
1608: PUSH
1609: LD_INT 123
1611: PUSH
1612: LD_INT 3
1614: PUSH
1615: EMPTY
1616: LIST
1617: LIST
1618: PUSH
1619: LD_INT 149
1621: PUSH
1622: LD_INT 18
1624: PUSH
1625: EMPTY
1626: LIST
1627: LIST
1628: PUSH
1629: EMPTY
1630: LIST
1631: LIST
1632: PUSH
1633: LD_INT 182
1635: PUSH
1636: LD_INT 69
1638: PUSH
1639: EMPTY
1640: LIST
1641: LIST
1642: PUSH
1643: LD_INT 202
1645: PUSH
1646: LD_INT 90
1648: PUSH
1649: EMPTY
1650: LIST
1651: LIST
1652: PUSH
1653: EMPTY
1654: LIST
1655: LIST
1656: PUSH
1657: LD_INT 231
1659: PUSH
1660: LD_INT 174
1662: PUSH
1663: EMPTY
1664: LIST
1665: LIST
1666: PUSH
1667: LD_INT 239
1669: PUSH
1670: LD_INT 164
1672: PUSH
1673: EMPTY
1674: LIST
1675: LIST
1676: PUSH
1677: EMPTY
1678: LIST
1679: LIST
1680: PUSH
1681: EMPTY
1682: LIST
1683: LIST
1684: LIST
1685: LIST
1686: LIST
1687: LIST
1688: ST_TO_ADDR
// normal_sib_deposits_locations := [ [ 96 , 185 ] , [ 21 , 29 ] , [ 50 , 85 ] , [ 128 , 2 ] , [ 186 , 72 ] , [ 234 , 174 ] ] ;
1689: LD_ADDR_EXP 44
1693: PUSH
1694: LD_INT 96
1696: PUSH
1697: LD_INT 185
1699: PUSH
1700: EMPTY
1701: LIST
1702: LIST
1703: PUSH
1704: LD_INT 21
1706: PUSH
1707: LD_INT 29
1709: PUSH
1710: EMPTY
1711: LIST
1712: LIST
1713: PUSH
1714: LD_INT 50
1716: PUSH
1717: LD_INT 85
1719: PUSH
1720: EMPTY
1721: LIST
1722: LIST
1723: PUSH
1724: LD_INT 128
1726: PUSH
1727: LD_INT 2
1729: PUSH
1730: EMPTY
1731: LIST
1732: LIST
1733: PUSH
1734: LD_INT 186
1736: PUSH
1737: LD_INT 72
1739: PUSH
1740: EMPTY
1741: LIST
1742: LIST
1743: PUSH
1744: LD_INT 234
1746: PUSH
1747: LD_INT 174
1749: PUSH
1750: EMPTY
1751: LIST
1752: LIST
1753: PUSH
1754: EMPTY
1755: LIST
1756: LIST
1757: LIST
1758: LIST
1759: LIST
1760: LIST
1761: ST_TO_ADDR
// extra_sib_deposits_locations := [ [ [ 96 , 185 ] , [ 109 , 179 ] ] , [ [ 21 , 29 ] , [ 9 , 5 ] ] , [ [ 50 , 85 ] , [ 66 , 102 ] ] , [ [ 128 , 2 ] , [ 152 , 15 ] ] , [ [ 186 , 72 ] , [ 200 , 86 ] ] , [ [ 234 , 174 ] , [ 237 , 160 ] ] ] ;
1762: LD_ADDR_EXP 45
1766: PUSH
1767: LD_INT 96
1769: PUSH
1770: LD_INT 185
1772: PUSH
1773: EMPTY
1774: LIST
1775: LIST
1776: PUSH
1777: LD_INT 109
1779: PUSH
1780: LD_INT 179
1782: PUSH
1783: EMPTY
1784: LIST
1785: LIST
1786: PUSH
1787: EMPTY
1788: LIST
1789: LIST
1790: PUSH
1791: LD_INT 21
1793: PUSH
1794: LD_INT 29
1796: PUSH
1797: EMPTY
1798: LIST
1799: LIST
1800: PUSH
1801: LD_INT 9
1803: PUSH
1804: LD_INT 5
1806: PUSH
1807: EMPTY
1808: LIST
1809: LIST
1810: PUSH
1811: EMPTY
1812: LIST
1813: LIST
1814: PUSH
1815: LD_INT 50
1817: PUSH
1818: LD_INT 85
1820: PUSH
1821: EMPTY
1822: LIST
1823: LIST
1824: PUSH
1825: LD_INT 66
1827: PUSH
1828: LD_INT 102
1830: PUSH
1831: EMPTY
1832: LIST
1833: LIST
1834: PUSH
1835: EMPTY
1836: LIST
1837: LIST
1838: PUSH
1839: LD_INT 128
1841: PUSH
1842: LD_INT 2
1844: PUSH
1845: EMPTY
1846: LIST
1847: LIST
1848: PUSH
1849: LD_INT 152
1851: PUSH
1852: LD_INT 15
1854: PUSH
1855: EMPTY
1856: LIST
1857: LIST
1858: PUSH
1859: EMPTY
1860: LIST
1861: LIST
1862: PUSH
1863: LD_INT 186
1865: PUSH
1866: LD_INT 72
1868: PUSH
1869: EMPTY
1870: LIST
1871: LIST
1872: PUSH
1873: LD_INT 200
1875: PUSH
1876: LD_INT 86
1878: PUSH
1879: EMPTY
1880: LIST
1881: LIST
1882: PUSH
1883: EMPTY
1884: LIST
1885: LIST
1886: PUSH
1887: LD_INT 234
1889: PUSH
1890: LD_INT 174
1892: PUSH
1893: EMPTY
1894: LIST
1895: LIST
1896: PUSH
1897: LD_INT 237
1899: PUSH
1900: LD_INT 160
1902: PUSH
1903: EMPTY
1904: LIST
1905: LIST
1906: PUSH
1907: EMPTY
1908: LIST
1909: LIST
1910: PUSH
1911: EMPTY
1912: LIST
1913: LIST
1914: LIST
1915: LIST
1916: LIST
1917: LIST
1918: ST_TO_ADDR
// depot_def := [ [ 100 , 179 , 0 ] , [ 21 , 18 , 2 ] , [ 65 , 90 , 2 ] , [ 132 , 11 , 1 ] , [ 190 , 82 , 4 ] , [ 230 , 164 , 4 ] ] ;
1919: LD_ADDR_EXP 39
1923: PUSH
1924: LD_INT 100
1926: PUSH
1927: LD_INT 179
1929: PUSH
1930: LD_INT 0
1932: PUSH
1933: EMPTY
1934: LIST
1935: LIST
1936: LIST
1937: PUSH
1938: LD_INT 21
1940: PUSH
1941: LD_INT 18
1943: PUSH
1944: LD_INT 2
1946: PUSH
1947: EMPTY
1948: LIST
1949: LIST
1950: LIST
1951: PUSH
1952: LD_INT 65
1954: PUSH
1955: LD_INT 90
1957: PUSH
1958: LD_INT 2
1960: PUSH
1961: EMPTY
1962: LIST
1963: LIST
1964: LIST
1965: PUSH
1966: LD_INT 132
1968: PUSH
1969: LD_INT 11
1971: PUSH
1972: LD_INT 1
1974: PUSH
1975: EMPTY
1976: LIST
1977: LIST
1978: LIST
1979: PUSH
1980: LD_INT 190
1982: PUSH
1983: LD_INT 82
1985: PUSH
1986: LD_INT 4
1988: PUSH
1989: EMPTY
1990: LIST
1991: LIST
1992: LIST
1993: PUSH
1994: LD_INT 230
1996: PUSH
1997: LD_INT 164
1999: PUSH
2000: LD_INT 4
2002: PUSH
2003: EMPTY
2004: LIST
2005: LIST
2006: LIST
2007: PUSH
2008: EMPTY
2009: LIST
2010: LIST
2011: LIST
2012: LIST
2013: LIST
2014: LIST
2015: ST_TO_ADDR
// for i in depot_def do
2016: LD_ADDR_VAR 0 2
2020: PUSH
2021: LD_EXP 39
2025: PUSH
2026: FOR_IN
2027: IFFALSE 2101
// start_def := start_def ^ [ [ ShiftX ( i [ 1 ] , i [ 3 ] , 10 ) , ShiftY ( i [ 2 ] , i [ 3 ] , 10 ) ] ] ;
2029: LD_ADDR_EXP 41
2033: PUSH
2034: LD_EXP 41
2038: PUSH
2039: LD_VAR 0 2
2043: PUSH
2044: LD_INT 1
2046: ARRAY
2047: PPUSH
2048: LD_VAR 0 2
2052: PUSH
2053: LD_INT 3
2055: ARRAY
2056: PPUSH
2057: LD_INT 10
2059: PPUSH
2060: CALL_OW 272
2064: PUSH
2065: LD_VAR 0 2
2069: PUSH
2070: LD_INT 2
2072: ARRAY
2073: PPUSH
2074: LD_VAR 0 2
2078: PUSH
2079: LD_INT 3
2081: ARRAY
2082: PPUSH
2083: LD_INT 10
2085: PPUSH
2086: CALL_OW 273
2090: PUSH
2091: EMPTY
2092: LIST
2093: LIST
2094: PUSH
2095: EMPTY
2096: LIST
2097: ADD
2098: ST_TO_ADDR
2099: GO 2026
2101: POP
2102: POP
// breastworks_def := [ [ [ 88 , 154 , 3 ] , [ 105 , 167 , 4 ] ] , [ [ 27 , 32 , 5 ] , [ 40 , 24 , 4 ] ] , [ [ 78 , 102 , 5 ] , [ 74 , 84 , 3 ] ] , [ [ 128 , 20 , 0 ] , [ 122 , 6 , 1 ] ] , [ [ 185 , 92 , 0 ] , [ 175 , 73 , 1 ] ] , [ [ 219 , 171 , 1 ] , [ 219 , 151 , 2 ] ] ] ;
2103: LD_ADDR_EXP 40
2107: PUSH
2108: LD_INT 88
2110: PUSH
2111: LD_INT 154
2113: PUSH
2114: LD_INT 3
2116: PUSH
2117: EMPTY
2118: LIST
2119: LIST
2120: LIST
2121: PUSH
2122: LD_INT 105
2124: PUSH
2125: LD_INT 167
2127: PUSH
2128: LD_INT 4
2130: PUSH
2131: EMPTY
2132: LIST
2133: LIST
2134: LIST
2135: PUSH
2136: EMPTY
2137: LIST
2138: LIST
2139: PUSH
2140: LD_INT 27
2142: PUSH
2143: LD_INT 32
2145: PUSH
2146: LD_INT 5
2148: PUSH
2149: EMPTY
2150: LIST
2151: LIST
2152: LIST
2153: PUSH
2154: LD_INT 40
2156: PUSH
2157: LD_INT 24
2159: PUSH
2160: LD_INT 4
2162: PUSH
2163: EMPTY
2164: LIST
2165: LIST
2166: LIST
2167: PUSH
2168: EMPTY
2169: LIST
2170: LIST
2171: PUSH
2172: LD_INT 78
2174: PUSH
2175: LD_INT 102
2177: PUSH
2178: LD_INT 5
2180: PUSH
2181: EMPTY
2182: LIST
2183: LIST
2184: LIST
2185: PUSH
2186: LD_INT 74
2188: PUSH
2189: LD_INT 84
2191: PUSH
2192: LD_INT 3
2194: PUSH
2195: EMPTY
2196: LIST
2197: LIST
2198: LIST
2199: PUSH
2200: EMPTY
2201: LIST
2202: LIST
2203: PUSH
2204: LD_INT 128
2206: PUSH
2207: LD_INT 20
2209: PUSH
2210: LD_INT 0
2212: PUSH
2213: EMPTY
2214: LIST
2215: LIST
2216: LIST
2217: PUSH
2218: LD_INT 122
2220: PUSH
2221: LD_INT 6
2223: PUSH
2224: LD_INT 1
2226: PUSH
2227: EMPTY
2228: LIST
2229: LIST
2230: LIST
2231: PUSH
2232: EMPTY
2233: LIST
2234: LIST
2235: PUSH
2236: LD_INT 185
2238: PUSH
2239: LD_INT 92
2241: PUSH
2242: LD_INT 0
2244: PUSH
2245: EMPTY
2246: LIST
2247: LIST
2248: LIST
2249: PUSH
2250: LD_INT 175
2252: PUSH
2253: LD_INT 73
2255: PUSH
2256: LD_INT 1
2258: PUSH
2259: EMPTY
2260: LIST
2261: LIST
2262: LIST
2263: PUSH
2264: EMPTY
2265: LIST
2266: LIST
2267: PUSH
2268: LD_INT 219
2270: PUSH
2271: LD_INT 171
2273: PUSH
2274: LD_INT 1
2276: PUSH
2277: EMPTY
2278: LIST
2279: LIST
2280: LIST
2281: PUSH
2282: LD_INT 219
2284: PUSH
2285: LD_INT 151
2287: PUSH
2288: LD_INT 2
2290: PUSH
2291: EMPTY
2292: LIST
2293: LIST
2294: LIST
2295: PUSH
2296: EMPTY
2297: LIST
2298: LIST
2299: PUSH
2300: EMPTY
2301: LIST
2302: LIST
2303: LIST
2304: LIST
2305: LIST
2306: LIST
2307: ST_TO_ADDR
// for i = 1 to Side_Positions do
2308: LD_ADDR_VAR 0 2
2312: PUSH
2313: DOUBLE
2314: LD_INT 1
2316: DEC
2317: ST_TO_ADDR
2318: LD_EXP 36
2322: PUSH
2323: FOR_TO
2324: IFFALSE 2454
// begin if not Side_Positions [ i ] then
2326: LD_EXP 36
2330: PUSH
2331: LD_VAR 0 2
2335: ARRAY
2336: NOT
2337: IFFALSE 2341
// continue ;
2339: GO 2323
// if def_extra_oil_deposits then
2341: LD_EXP 6
2345: IFFALSE 2403
// for j in extra_oil_deposits_locations [ Side_Positions [ i ] ] do
2347: LD_ADDR_VAR 0 3
2351: PUSH
2352: LD_EXP 43
2356: PUSH
2357: LD_EXP 36
2361: PUSH
2362: LD_VAR 0 2
2366: ARRAY
2367: ARRAY
2368: PUSH
2369: FOR_IN
2370: IFFALSE 2399
// CreateDepositXY ( j [ 1 ] , j [ 2 ] , mat_oil ) else
2372: LD_VAR 0 3
2376: PUSH
2377: LD_INT 1
2379: ARRAY
2380: PPUSH
2381: LD_VAR 0 3
2385: PUSH
2386: LD_INT 2
2388: ARRAY
2389: PPUSH
2390: LD_INT 2
2392: PPUSH
2393: CALL_OW 62
2397: GO 2369
2399: POP
2400: POP
2401: GO 2452
// CreateDepositXY ( normal_oil_deposits_locations [ Side_Positions [ i ] ] [ 1 ] , normal_oil_deposits_locations [ Side_Positions [ i ] ] [ 2 ] , mat_oil ) ;
2403: LD_EXP 42
2407: PUSH
2408: LD_EXP 36
2412: PUSH
2413: LD_VAR 0 2
2417: ARRAY
2418: ARRAY
2419: PUSH
2420: LD_INT 1
2422: ARRAY
2423: PPUSH
2424: LD_EXP 42
2428: PUSH
2429: LD_EXP 36
2433: PUSH
2434: LD_VAR 0 2
2438: ARRAY
2439: ARRAY
2440: PUSH
2441: LD_INT 2
2443: ARRAY
2444: PPUSH
2445: LD_INT 2
2447: PPUSH
2448: CALL_OW 62
// end ;
2452: GO 2323
2454: POP
2455: POP
// if def_extra_sib_deposits then
2456: LD_EXP 7
2460: IFFALSE 2614
// for i = 1 to Side_Positions do
2462: LD_ADDR_VAR 0 2
2466: PUSH
2467: DOUBLE
2468: LD_INT 1
2470: DEC
2471: ST_TO_ADDR
2472: LD_EXP 36
2476: PUSH
2477: FOR_TO
2478: IFFALSE 2612
// begin if not Side_Positions [ i ] then
2480: LD_EXP 36
2484: PUSH
2485: LD_VAR 0 2
2489: ARRAY
2490: NOT
2491: IFFALSE 2495
// continue ;
2493: GO 2477
// if def_extra_sib_deposits = 2 then
2495: LD_EXP 7
2499: PUSH
2500: LD_INT 2
2502: EQUAL
2503: IFFALSE 2561
// for j in extra_sib_deposits_locations [ Side_Positions [ i ] ] do
2505: LD_ADDR_VAR 0 3
2509: PUSH
2510: LD_EXP 45
2514: PUSH
2515: LD_EXP 36
2519: PUSH
2520: LD_VAR 0 2
2524: ARRAY
2525: ARRAY
2526: PUSH
2527: FOR_IN
2528: IFFALSE 2557
// CreateDepositXY ( j [ 1 ] , j [ 2 ] , mat_siberit ) else
2530: LD_VAR 0 3
2534: PUSH
2535: LD_INT 1
2537: ARRAY
2538: PPUSH
2539: LD_VAR 0 3
2543: PUSH
2544: LD_INT 2
2546: ARRAY
2547: PPUSH
2548: LD_INT 3
2550: PPUSH
2551: CALL_OW 62
2555: GO 2527
2557: POP
2558: POP
2559: GO 2610
// CreateDepositXY ( normal_sib_deposits_locations [ Side_Positions [ i ] ] [ 1 ] , normal_sib_deposits_locations [ Side_Positions [ i ] ] [ 2 ] , mat_siberit ) ;
2561: LD_EXP 44
2565: PUSH
2566: LD_EXP 36
2570: PUSH
2571: LD_VAR 0 2
2575: ARRAY
2576: ARRAY
2577: PUSH
2578: LD_INT 1
2580: ARRAY
2581: PPUSH
2582: LD_EXP 44
2586: PUSH
2587: LD_EXP 36
2591: PUSH
2592: LD_VAR 0 2
2596: ARRAY
2597: ARRAY
2598: PUSH
2599: LD_INT 2
2601: ARRAY
2602: PPUSH
2603: LD_INT 3
2605: PPUSH
2606: CALL_OW 62
// end ;
2610: GO 2477
2612: POP
2613: POP
// end ;
2614: LD_VAR 0 1
2618: RET
// function set_shared_visions_and_alliances ; var i , j ; begin
2619: LD_INT 0
2621: PPUSH
2622: PPUSH
2623: PPUSH
// if not Team_Game then
2624: LD_EXP 38
2628: NOT
2629: IFFALSE 2727
// begin for i = 1 to 8 do
2631: LD_ADDR_VAR 0 2
2635: PUSH
2636: DOUBLE
2637: LD_INT 1
2639: DEC
2640: ST_TO_ADDR
2641: LD_INT 8
2643: PUSH
2644: FOR_TO
2645: IFFALSE 2723
// for j = 1 to 8 do
2647: LD_ADDR_VAR 0 3
2651: PUSH
2652: DOUBLE
2653: LD_INT 1
2655: DEC
2656: ST_TO_ADDR
2657: LD_INT 8
2659: PUSH
2660: FOR_TO
2661: IFFALSE 2719
// if i <> j then
2663: LD_VAR 0 2
2667: PUSH
2668: LD_VAR 0 3
2672: NONEQUAL
2673: IFFALSE 2697
// SetAttitude ( i , j , att_neutral , true ) else
2675: LD_VAR 0 2
2679: PPUSH
2680: LD_VAR 0 3
2684: PPUSH
2685: LD_INT 0
2687: PPUSH
2688: LD_INT 1
2690: PPUSH
2691: CALL_OW 80
2695: GO 2717
// SetAttitude ( i , j , att_friend , true ) ;
2697: LD_VAR 0 2
2701: PPUSH
2702: LD_VAR 0 3
2706: PPUSH
2707: LD_INT 1
2709: PPUSH
2710: LD_INT 1
2712: PPUSH
2713: CALL_OW 80
2717: GO 2660
2719: POP
2720: POP
2721: GO 2644
2723: POP
2724: POP
// end else
2725: GO 2902
// begin if def_shared_vision then
2727: LD_EXP 8
2731: IFFALSE 2796
// begin for i in Teams do
2733: LD_ADDR_VAR 0 2
2737: PUSH
2738: LD_EXP 35
2742: PUSH
2743: FOR_IN
2744: IFFALSE 2794
// for j = 2 to i do
2746: LD_ADDR_VAR 0 3
2750: PUSH
2751: DOUBLE
2752: LD_INT 2
2754: DEC
2755: ST_TO_ADDR
2756: LD_VAR 0 2
2760: PUSH
2761: FOR_TO
2762: IFFALSE 2790
// ChangeSideFog ( i [ j ] , i [ 1 ] ) ;
2764: LD_VAR 0 2
2768: PUSH
2769: LD_VAR 0 3
2773: ARRAY
2774: PPUSH
2775: LD_VAR 0 2
2779: PUSH
2780: LD_INT 1
2782: ARRAY
2783: PPUSH
2784: CALL_OW 343
2788: GO 2761
2790: POP
2791: POP
2792: GO 2743
2794: POP
2795: POP
// end ; for i = 1 to 8 do
2796: LD_ADDR_VAR 0 2
2800: PUSH
2801: DOUBLE
2802: LD_INT 1
2804: DEC
2805: ST_TO_ADDR
2806: LD_INT 8
2808: PUSH
2809: FOR_TO
2810: IFFALSE 2900
// for j = 1 to 8 do
2812: LD_ADDR_VAR 0 3
2816: PUSH
2817: DOUBLE
2818: LD_INT 1
2820: DEC
2821: ST_TO_ADDR
2822: LD_INT 8
2824: PUSH
2825: FOR_TO
2826: IFFALSE 2896
// if Side_Teams [ i ] = Side_Teams [ j ] then
2828: LD_EXP 34
2832: PUSH
2833: LD_VAR 0 2
2837: ARRAY
2838: PUSH
2839: LD_EXP 34
2843: PUSH
2844: LD_VAR 0 3
2848: ARRAY
2849: EQUAL
2850: IFFALSE 2874
// SetAttitude ( i , j , att_friend , true ) else
2852: LD_VAR 0 2
2856: PPUSH
2857: LD_VAR 0 3
2861: PPUSH
2862: LD_INT 1
2864: PPUSH
2865: LD_INT 1
2867: PPUSH
2868: CALL_OW 80
2872: GO 2894
// SetAttitude ( i , j , att_enemy , true ) ;
2874: LD_VAR 0 2
2878: PPUSH
2879: LD_VAR 0 3
2883: PPUSH
2884: LD_INT 2
2886: PPUSH
2887: LD_INT 1
2889: PPUSH
2890: CALL_OW 80
2894: GO 2825
2896: POP
2897: POP
2898: GO 2809
2900: POP
2901: POP
// end ; end ;
2902: LD_VAR 0 1
2906: RET
// function prepare_people ( count , cl , x , y , r , building ) ; var i , j , un ; begin
2907: LD_INT 0
2909: PPUSH
2910: PPUSH
2911: PPUSH
2912: PPUSH
// result := [ ] ;
2913: LD_ADDR_VAR 0 7
2917: PUSH
2918: EMPTY
2919: ST_TO_ADDR
// for i := 1 to count do
2920: LD_ADDR_VAR 0 8
2924: PUSH
2925: DOUBLE
2926: LD_INT 1
2928: DEC
2929: ST_TO_ADDR
2930: LD_VAR 0 1
2934: PUSH
2935: FOR_TO
2936: IFFALSE 3386
// begin uc_direction := Rand ( 0 , 5 ) ;
2938: LD_ADDR_OWVAR 24
2942: PUSH
2943: LD_INT 0
2945: PPUSH
2946: LD_INT 5
2948: PPUSH
2949: CALL_OW 12
2953: ST_TO_ADDR
// if commander then
2954: LD_LOC 1
2958: IFFALSE 3099
// begin hc_name := mp_sides_players_names [ uc_side ] ;
2960: LD_ADDR_OWVAR 26
2964: PUSH
2965: LD_OWVAR 19
2969: PUSH
2970: LD_OWVAR 20
2974: ARRAY
2975: ST_TO_ADDR
// PrepareHuman ( Rand ( 1 , 2 ) , cl , skill_level + 2 ) ;
2976: LD_INT 1
2978: PPUSH
2979: LD_INT 2
2981: PPUSH
2982: CALL_OW 12
2986: PPUSH
2987: LD_VAR 0 2
2991: PPUSH
2992: LD_EXP 24
2996: PUSH
2997: LD_INT 2
2999: PLUS
3000: PPUSH
3001: CALL_OW 380
// hc_importance := 105 ;
3005: LD_ADDR_OWVAR 32
3009: PUSH
3010: LD_INT 105
3012: ST_TO_ADDR
// commander := false ;
3013: LD_ADDR_LOC 1
3017: PUSH
3018: LD_INT 0
3020: ST_TO_ADDR
// if Multiplayer then
3021: LD_OWVAR 4
3025: IFFALSE 3097
// begin if sheik then
3027: LD_EXP 47
3031: IFFALSE 3059
// begin hc_gallery :=  ;
3033: LD_ADDR_OWVAR 33
3037: PUSH
3038: LD_STRING 
3040: ST_TO_ADDR
// hc_class := class_desert_warior ;
3041: LD_ADDR_OWVAR 28
3045: PUSH
3046: LD_INT 11
3048: ST_TO_ADDR
// hc_sex := sex_male ;
3049: LD_ADDR_OWVAR 27
3053: PUSH
3054: LD_INT 1
3056: ST_TO_ADDR
// end else
3057: GO 3097
// begin hc_gallery := MULTIAVATARS ;
3059: LD_ADDR_OWVAR 33
3063: PUSH
3064: LD_STRING MULTIAVATARS
3066: ST_TO_ADDR
// hc_face_number := Multiplayer_GetPlayerSideNum ( uc_side ) ;
3067: LD_ADDR_OWVAR 34
3071: PUSH
3072: LD_OWVAR 20
3076: PPUSH
3077: CALL_OW 525
3081: ST_TO_ADDR
// hc_sex := Multiplayer_GetPlayerSex ( uc_side ) ;
3082: LD_ADDR_OWVAR 27
3086: PUSH
3087: LD_OWVAR 20
3091: PPUSH
3092: CALL_OW 526
3096: ST_TO_ADDR
// end ; end ; end else
3097: GO 3162
// begin hc_name :=  ;
3099: LD_ADDR_OWVAR 26
3103: PUSH
3104: LD_STRING 
3106: ST_TO_ADDR
// PrepareHuman ( rand ( 1 , 2 ) , cl , skill_level ) ;
3107: LD_INT 1
3109: PPUSH
3110: LD_INT 2
3112: PPUSH
3113: CALL_OW 12
3117: PPUSH
3118: LD_VAR 0 2
3122: PPUSH
3123: LD_EXP 24
3127: PPUSH
3128: CALL_OW 380
// hc_importance := 0 ;
3132: LD_ADDR_OWVAR 32
3136: PUSH
3137: LD_INT 0
3139: ST_TO_ADDR
// if Multiplayer then
3140: LD_OWVAR 4
3144: IFFALSE 3162
// begin hc_gallery :=  ;
3146: LD_ADDR_OWVAR 33
3150: PUSH
3151: LD_STRING 
3153: ST_TO_ADDR
// hc_face_number := 0 ;
3154: LD_ADDR_OWVAR 34
3158: PUSH
3159: LD_INT 0
3161: ST_TO_ADDR
// end ; end ; un := CreateHuman ;
3162: LD_ADDR_VAR 0 10
3166: PUSH
3167: CALL_OW 44
3171: ST_TO_ADDR
// if global_defined then
3172: LD_LOC 3
3176: IFFALSE 3316
// begin if ( cl = class_soldier ) then
3178: LD_VAR 0 2
3182: PUSH
3183: LD_INT 1
3185: EQUAL
3186: IFFALSE 3206
// j := i + soldiers_created else
3188: LD_ADDR_VAR 0 9
3192: PUSH
3193: LD_VAR 0 8
3197: PUSH
3198: LD_LOC 4
3202: PLUS
3203: ST_TO_ADDR
3204: GO 3216
// j := i ;
3206: LD_ADDR_VAR 0 9
3210: PUSH
3211: LD_VAR 0 8
3215: ST_TO_ADDR
// CopySkills ( global_units [ cl ] [ j ] , un ) ;
3216: LD_LOC 2
3220: PUSH
3221: LD_VAR 0 2
3225: ARRAY
3226: PUSH
3227: LD_VAR 0 9
3231: ARRAY
3232: PPUSH
3233: LD_VAR 0 10
3237: PPUSH
3238: CALL_OW 510
// SetAttr ( un , attr_speed , GetAttr ( global_units [ cl ] [ j ] , attr_speed ) ) ;
3242: LD_VAR 0 10
3246: PPUSH
3247: LD_INT 2
3249: PPUSH
3250: LD_LOC 2
3254: PUSH
3255: LD_VAR 0 2
3259: ARRAY
3260: PUSH
3261: LD_VAR 0 9
3265: ARRAY
3266: PPUSH
3267: LD_INT 2
3269: PPUSH
3270: CALL_OW 260
3274: PPUSH
3275: CALL_OW 239
// SetAttr ( un , attr_stamina , GetAttr ( global_units [ cl ] [ j ] , attr_stamina ) ) ;
3279: LD_VAR 0 10
3283: PPUSH
3284: LD_INT 1
3286: PPUSH
3287: LD_LOC 2
3291: PUSH
3292: LD_VAR 0 2
3296: ARRAY
3297: PUSH
3298: LD_VAR 0 9
3302: ARRAY
3303: PPUSH
3304: LD_INT 1
3306: PPUSH
3307: CALL_OW 260
3311: PPUSH
3312: CALL_OW 239
// end ; if building then
3316: LD_VAR 0 6
3320: IFFALSE 3338
// PlaceHumanInUnit ( un , building ) else
3322: LD_VAR 0 10
3326: PPUSH
3327: LD_VAR 0 6
3331: PPUSH
3332: CALL_OW 52
3336: GO 3365
// PlaceUnitXYR ( un , x , y , r , false ) ;
3338: LD_VAR 0 10
3342: PPUSH
3343: LD_VAR 0 3
3347: PPUSH
3348: LD_VAR 0 4
3352: PPUSH
3353: LD_VAR 0 5
3357: PPUSH
3358: LD_INT 0
3360: PPUSH
3361: CALL_OW 50
// result := result ^ [ un ] ;
3365: LD_ADDR_VAR 0 7
3369: PUSH
3370: LD_VAR 0 7
3374: PUSH
3375: LD_VAR 0 10
3379: PUSH
3380: EMPTY
3381: LIST
3382: ADD
3383: ST_TO_ADDR
// end ;
3384: GO 2935
3386: POP
3387: POP
// if not global_defined then
3388: LD_LOC 3
3392: NOT
3393: IFFALSE 3471
// if ( global_units >= cl ) then
3395: LD_LOC 2
3399: PUSH
3400: LD_VAR 0 2
3404: GREATEREQUAL
3405: IFFALSE 3446
// global_units := Replace ( global_units , cl , global_units [ cl ] ^ result ) else
3407: LD_ADDR_LOC 2
3411: PUSH
3412: LD_LOC 2
3416: PPUSH
3417: LD_VAR 0 2
3421: PPUSH
3422: LD_LOC 2
3426: PUSH
3427: LD_VAR 0 2
3431: ARRAY
3432: PUSH
3433: LD_VAR 0 7
3437: ADD
3438: PPUSH
3439: CALL_OW 1
3443: ST_TO_ADDR
3444: GO 3471
// global_units := Replace ( global_units , cl , result ) ;
3446: LD_ADDR_LOC 2
3450: PUSH
3451: LD_LOC 2
3455: PPUSH
3456: LD_VAR 0 2
3460: PPUSH
3461: LD_VAR 0 7
3465: PPUSH
3466: CALL_OW 1
3470: ST_TO_ADDR
// end ;
3471: LD_VAR 0 7
3475: RET
// function prepare_mastodonts ( n ) ; var i ; begin
3476: LD_INT 0
3478: PPUSH
3479: PPUSH
// uc_side := 0 ;
3480: LD_ADDR_OWVAR 20
3484: PUSH
3485: LD_INT 0
3487: ST_TO_ADDR
// uc_nation := 0 ;
3488: LD_ADDR_OWVAR 21
3492: PUSH
3493: LD_INT 0
3495: ST_TO_ADDR
// vc_chassis := 31 ;
3496: LD_ADDR_OWVAR 37
3500: PUSH
3501: LD_INT 31
3503: ST_TO_ADDR
// vc_control := control_rider ;
3504: LD_ADDR_OWVAR 38
3508: PUSH
3509: LD_INT 4
3511: ST_TO_ADDR
// for i = 1 to n do
3512: LD_ADDR_VAR 0 3
3516: PUSH
3517: DOUBLE
3518: LD_INT 1
3520: DEC
3521: ST_TO_ADDR
3522: LD_VAR 0 1
3526: PUSH
3527: FOR_TO
3528: IFFALSE 3547
// PlaceUnitArea ( CreateVehicle , MastodontSpawn , false ) ;
3530: CALL_OW 45
3534: PPUSH
3535: LD_INT 15
3537: PPUSH
3538: LD_INT 0
3540: PPUSH
3541: CALL_OW 49
3545: GO 3527
3547: POP
3548: POP
// end ;
3549: LD_VAR 0 2
3553: RET
// function prepare_side ( side ) ; var pos , x , y , dir , i , r , br , dep ; begin
3554: LD_INT 0
3556: PPUSH
3557: PPUSH
3558: PPUSH
3559: PPUSH
3560: PPUSH
3561: PPUSH
3562: PPUSH
3563: PPUSH
3564: PPUSH
// if side in [ 0 , 9 ] then
3565: LD_VAR 0 1
3569: PUSH
3570: LD_INT 0
3572: PUSH
3573: LD_INT 9
3575: PUSH
3576: EMPTY
3577: LIST
3578: LIST
3579: IN
3580: IFFALSE 3584
// exit ;
3582: GO 4601
// pos := Side_Positions [ side ] ;
3584: LD_ADDR_VAR 0 3
3588: PUSH
3589: LD_EXP 36
3593: PUSH
3594: LD_VAR 0 1
3598: ARRAY
3599: ST_TO_ADDR
// uc_nation := Side_Nations [ side ] ;
3600: LD_ADDR_OWVAR 21
3604: PUSH
3605: LD_EXP 37
3609: PUSH
3610: LD_VAR 0 1
3614: ARRAY
3615: ST_TO_ADDR
// uc_side := side ;
3616: LD_ADDR_OWVAR 20
3620: PUSH
3621: LD_VAR 0 1
3625: ST_TO_ADDR
// x := depot_def [ pos ] [ 1 ] ;
3626: LD_ADDR_VAR 0 4
3630: PUSH
3631: LD_EXP 39
3635: PUSH
3636: LD_VAR 0 3
3640: ARRAY
3641: PUSH
3642: LD_INT 1
3644: ARRAY
3645: ST_TO_ADDR
// y := depot_def [ pos ] [ 2 ] ;
3646: LD_ADDR_VAR 0 5
3650: PUSH
3651: LD_EXP 39
3655: PUSH
3656: LD_VAR 0 3
3660: ARRAY
3661: PUSH
3662: LD_INT 2
3664: ARRAY
3665: ST_TO_ADDR
// dir := depot_def [ pos ] [ 3 ] ;
3666: LD_ADDR_VAR 0 6
3670: PUSH
3671: LD_EXP 39
3675: PUSH
3676: LD_VAR 0 3
3680: ARRAY
3681: PUSH
3682: LD_INT 3
3684: ARRAY
3685: ST_TO_ADDR
// if is_depot then
3686: LD_EXP 21
3690: IFFALSE 3823
// begin bc_type = b_depot ;
3692: LD_ADDR_OWVAR 42
3696: PUSH
3697: LD_INT 0
3699: ST_TO_ADDR
// dep := CreateAndPlaceBuildingXYD ( x , y , dir ) ;
3700: LD_ADDR_VAR 0 10
3704: PUSH
3705: LD_VAR 0 4
3709: PPUSH
3710: LD_VAR 0 5
3714: PPUSH
3715: LD_VAR 0 6
3719: PPUSH
3720: CALL_OW 47
3724: ST_TO_ADDR
// SetBName ( dep , @ & side ) ;
3725: LD_VAR 0 10
3729: PPUSH
3730: LD_STRING @
3732: PUSH
3733: LD_VAR 0 1
3737: STR
3738: PPUSH
3739: CALL_OW 500
// SetResourceType ( GetBase ( dep ) , mat_cans , starting_resources [ mat_cans ] ) ;
3743: LD_VAR 0 10
3747: PPUSH
3748: CALL_OW 274
3752: PPUSH
3753: LD_INT 1
3755: PPUSH
3756: LD_EXP 26
3760: PUSH
3761: LD_INT 1
3763: ARRAY
3764: PPUSH
3765: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_oil , starting_resources [ mat_oil ] ) ;
3769: LD_VAR 0 10
3773: PPUSH
3774: CALL_OW 274
3778: PPUSH
3779: LD_INT 2
3781: PPUSH
3782: LD_EXP 26
3786: PUSH
3787: LD_INT 2
3789: ARRAY
3790: PPUSH
3791: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_siberit , starting_resources [ mat_siberit ] ) ;
3795: LD_VAR 0 10
3799: PPUSH
3800: CALL_OW 274
3804: PPUSH
3805: LD_INT 3
3807: PPUSH
3808: LD_EXP 26
3812: PUSH
3813: LD_INT 3
3815: ARRAY
3816: PPUSH
3817: CALL_OW 277
// end else
3821: GO 3967
// begin for i := 1 to 3 do
3823: LD_ADDR_VAR 0 7
3827: PUSH
3828: DOUBLE
3829: LD_INT 1
3831: DEC
3832: ST_TO_ADDR
3833: LD_INT 3
3835: PUSH
3836: FOR_TO
3837: IFFALSE 3965
// begin r := starting_resources [ i ] ;
3839: LD_ADDR_VAR 0 8
3843: PUSH
3844: LD_EXP 26
3848: PUSH
3849: LD_VAR 0 7
3853: ARRAY
3854: ST_TO_ADDR
// while r >= 10 do
3855: LD_VAR 0 8
3859: PUSH
3860: LD_INT 10
3862: GREATEREQUAL
3863: IFFALSE 3963
// if r > 50 then
3865: LD_VAR 0 8
3869: PUSH
3870: LD_INT 50
3872: GREATER
3873: IFFALSE 3919
// begin CreateResourcesXYR ( i , 5 , x , y , 4 , false ) ;
3875: LD_VAR 0 7
3879: PPUSH
3880: LD_INT 5
3882: PPUSH
3883: LD_VAR 0 4
3887: PPUSH
3888: LD_VAR 0 5
3892: PPUSH
3893: LD_INT 4
3895: PPUSH
3896: LD_INT 0
3898: PPUSH
3899: CALL_OW 60
// r := r - 50 ;
3903: LD_ADDR_VAR 0 8
3907: PUSH
3908: LD_VAR 0 8
3912: PUSH
3913: LD_INT 50
3915: MINUS
3916: ST_TO_ADDR
// end else
3917: GO 3961
// begin CreateResourcesXYR ( i , r div 10 , x , y , 4 , false ) ;
3919: LD_VAR 0 7
3923: PPUSH
3924: LD_VAR 0 8
3928: PUSH
3929: LD_INT 10
3931: DIV
3932: PPUSH
3933: LD_VAR 0 4
3937: PPUSH
3938: LD_VAR 0 5
3942: PPUSH
3943: LD_INT 4
3945: PPUSH
3946: LD_INT 0
3948: PPUSH
3949: CALL_OW 60
// r := 0 ;
3953: LD_ADDR_VAR 0 8
3957: PUSH
3958: LD_INT 0
3960: ST_TO_ADDR
// end ;
3961: GO 3855
// end ;
3963: GO 3836
3965: POP
3966: POP
// end ; for r in starting_crates do
3967: LD_ADDR_VAR 0 8
3971: PUSH
3972: LD_EXP 25
3976: PUSH
3977: FOR_IN
3978: IFFALSE 4010
// CreateResourcesXYR ( mat_cans , 5 , x , y , r , false ) ;
3980: LD_INT 1
3982: PPUSH
3983: LD_INT 5
3985: PPUSH
3986: LD_VAR 0 4
3990: PPUSH
3991: LD_VAR 0 5
3995: PPUSH
3996: LD_VAR 0 8
4000: PPUSH
4001: LD_INT 0
4003: PPUSH
4004: CALL_OW 60
4008: GO 3977
4010: POP
4011: POP
// if def_morale_flags then
4012: LD_EXP 9
4016: IFFALSE 4155
// begin x := start_def [ pos ] [ 1 ] ;
4018: LD_ADDR_VAR 0 4
4022: PUSH
4023: LD_EXP 41
4027: PUSH
4028: LD_VAR 0 3
4032: ARRAY
4033: PUSH
4034: LD_INT 1
4036: ARRAY
4037: ST_TO_ADDR
// y := start_def [ pos ] [ 2 ] ;
4038: LD_ADDR_VAR 0 5
4042: PUSH
4043: LD_EXP 41
4047: PUSH
4048: LD_VAR 0 3
4052: ARRAY
4053: PUSH
4054: LD_INT 2
4056: ARRAY
4057: ST_TO_ADDR
// PlaceEnvironment ( x , y , 12 , 2 ) ;
4058: LD_VAR 0 4
4062: PPUSH
4063: LD_VAR 0 5
4067: PPUSH
4068: LD_INT 12
4070: PPUSH
4071: LD_INT 2
4073: PPUSH
4074: CALL_OW 349
// battle_flags_id := battle_flags_id ^ SetBattleFlag ( side , x , y , [ [ bfo_defend_bonus_human , 100 ] , [ bfo_defend_bonus_vehicle , 50 ] , [ bfo_defend_bonus_building , 20 ] , [ bfo_height , 100 ] ] ) ;
4078: LD_ADDR_EXP 46
4082: PUSH
4083: LD_EXP 46
4087: PUSH
4088: LD_VAR 0 1
4092: PPUSH
4093: LD_VAR 0 4
4097: PPUSH
4098: LD_VAR 0 5
4102: PPUSH
4103: LD_INT 1
4105: PUSH
4106: LD_INT 100
4108: PUSH
4109: EMPTY
4110: LIST
4111: LIST
4112: PUSH
4113: LD_INT 2
4115: PUSH
4116: LD_INT 50
4118: PUSH
4119: EMPTY
4120: LIST
4121: LIST
4122: PUSH
4123: LD_INT 3
4125: PUSH
4126: LD_INT 20
4128: PUSH
4129: EMPTY
4130: LIST
4131: LIST
4132: PUSH
4133: LD_INT 20
4135: PUSH
4136: LD_INT 100
4138: PUSH
4139: EMPTY
4140: LIST
4141: LIST
4142: PUSH
4143: EMPTY
4144: LIST
4145: LIST
4146: LIST
4147: LIST
4148: PPUSH
4149: CALL_OW 418
4153: ADD
4154: ST_TO_ADDR
// end ; commander := true ;
4155: LD_ADDR_LOC 1
4159: PUSH
4160: LD_INT 1
4162: ST_TO_ADDR
// soldiers_created := 0 ;
4163: LD_ADDR_LOC 4
4167: PUSH
4168: LD_INT 0
4170: ST_TO_ADDR
// for i := 1 to number_of_breastworks do
4171: LD_ADDR_VAR 0 7
4175: PUSH
4176: DOUBLE
4177: LD_INT 1
4179: DEC
4180: ST_TO_ADDR
4181: LD_EXP 22
4185: PUSH
4186: FOR_TO
4187: IFFALSE 4340
// begin x := breastworks_def [ pos ] [ i ] [ 1 ] ;
4189: LD_ADDR_VAR 0 4
4193: PUSH
4194: LD_EXP 40
4198: PUSH
4199: LD_VAR 0 3
4203: ARRAY
4204: PUSH
4205: LD_VAR 0 7
4209: ARRAY
4210: PUSH
4211: LD_INT 1
4213: ARRAY
4214: ST_TO_ADDR
// y := breastworks_def [ pos ] [ i ] [ 2 ] ;
4215: LD_ADDR_VAR 0 5
4219: PUSH
4220: LD_EXP 40
4224: PUSH
4225: LD_VAR 0 3
4229: ARRAY
4230: PUSH
4231: LD_VAR 0 7
4235: ARRAY
4236: PUSH
4237: LD_INT 2
4239: ARRAY
4240: ST_TO_ADDR
// dir := breastworks_def [ pos ] [ i ] [ 3 ] ;
4241: LD_ADDR_VAR 0 6
4245: PUSH
4246: LD_EXP 40
4250: PUSH
4251: LD_VAR 0 3
4255: ARRAY
4256: PUSH
4257: LD_VAR 0 7
4261: ARRAY
4262: PUSH
4263: LD_INT 3
4265: ARRAY
4266: ST_TO_ADDR
// bc_type := b_breastwork ;
4267: LD_ADDR_OWVAR 42
4271: PUSH
4272: LD_INT 31
4274: ST_TO_ADDR
// br := CreateAndPlaceBuildingXYD ( x , y , dir ) ;
4275: LD_ADDR_VAR 0 9
4279: PUSH
4280: LD_VAR 0 4
4284: PPUSH
4285: LD_VAR 0 5
4289: PPUSH
4290: LD_VAR 0 6
4294: PPUSH
4295: CALL_OW 47
4299: ST_TO_ADDR
// prepare_people ( 1 , class_soldier , 0 , 0 , 0 , br ) ;
4300: LD_INT 1
4302: PPUSH
4303: LD_INT 1
4305: PPUSH
4306: LD_INT 0
4308: PPUSH
4309: LD_INT 0
4311: PPUSH
4312: LD_INT 0
4314: PPUSH
4315: LD_VAR 0 9
4319: PPUSH
4320: CALL 2907 0 6
// soldiers_created := soldiers_created + 1 ;
4324: LD_ADDR_LOC 4
4328: PUSH
4329: LD_LOC 4
4333: PUSH
4334: LD_INT 1
4336: PLUS
4337: ST_TO_ADDR
// end ;
4338: GO 4186
4340: POP
4341: POP
// x := start_def [ pos ] [ 1 ] ;
4342: LD_ADDR_VAR 0 4
4346: PUSH
4347: LD_EXP 41
4351: PUSH
4352: LD_VAR 0 3
4356: ARRAY
4357: PUSH
4358: LD_INT 1
4360: ARRAY
4361: ST_TO_ADDR
// y := start_def [ pos ] [ 2 ] ;
4362: LD_ADDR_VAR 0 5
4366: PUSH
4367: LD_EXP 41
4371: PUSH
4372: LD_VAR 0 3
4376: ARRAY
4377: PUSH
4378: LD_INT 2
4380: ARRAY
4381: ST_TO_ADDR
// prepare_people ( nsol - number_of_breastworks , class_soldier , x , y , 5 , 0 ) ;
4382: LD_LOC 8
4386: PUSH
4387: LD_EXP 22
4391: MINUS
4392: PPUSH
4393: LD_INT 1
4395: PPUSH
4396: LD_VAR 0 4
4400: PPUSH
4401: LD_VAR 0 5
4405: PPUSH
4406: LD_INT 5
4408: PPUSH
4409: LD_INT 0
4411: PPUSH
4412: CALL 2907 0 6
// prepare_people ( neng , class_engineer , x , y , 5 , 0 ) ;
4416: LD_LOC 5
4420: PPUSH
4421: LD_INT 2
4423: PPUSH
4424: LD_VAR 0 4
4428: PPUSH
4429: LD_VAR 0 5
4433: PPUSH
4434: LD_INT 5
4436: PPUSH
4437: LD_INT 0
4439: PPUSH
4440: CALL 2907 0 6
// prepare_people ( nmech , class_mechanic , x , y , 5 , 0 ) ;
4444: LD_LOC 7
4448: PPUSH
4449: LD_INT 3
4451: PPUSH
4452: LD_VAR 0 4
4456: PPUSH
4457: LD_VAR 0 5
4461: PPUSH
4462: LD_INT 5
4464: PPUSH
4465: LD_INT 0
4467: PPUSH
4468: CALL 2907 0 6
// prepare_people ( nsci , class_scientistic , x , y , 5 , 0 ) ;
4472: LD_LOC 6
4476: PPUSH
4477: LD_INT 4
4479: PPUSH
4480: LD_VAR 0 4
4484: PPUSH
4485: LD_VAR 0 5
4489: PPUSH
4490: LD_INT 5
4492: PPUSH
4493: LD_INT 0
4495: PPUSH
4496: CALL 2907 0 6
// if def_siberite_detection then
4500: LD_EXP 10
4504: IFFALSE 4521
// SetTech ( tech_SibDet , side , state_researched ) ;
4506: LD_INT 20
4508: PPUSH
4509: LD_VAR 0 1
4513: PPUSH
4514: LD_INT 2
4516: PPUSH
4517: CALL_OW 322
// if def_siberite_bomb = 1 then
4521: LD_EXP 15
4525: PUSH
4526: LD_INT 1
4528: EQUAL
4529: IFFALSE 4563
// begin SetTech ( tech_SibFiss , side , state_enabled ) ;
4531: LD_INT 25
4533: PPUSH
4534: LD_VAR 0 1
4538: PPUSH
4539: LD_INT 1
4541: PPUSH
4542: CALL_OW 322
// SetTech ( 73 , side , state_enabled ) ;
4546: LD_INT 73
4548: PPUSH
4549: LD_VAR 0 1
4553: PPUSH
4554: LD_INT 1
4556: PPUSH
4557: CALL_OW 322
// end else
4561: GO 4593
// begin SetTech ( tech_SibFiss , side , state_disabled ) ;
4563: LD_INT 25
4565: PPUSH
4566: LD_VAR 0 1
4570: PPUSH
4571: LD_INT 0
4573: PPUSH
4574: CALL_OW 322
// SetTech ( 73 , side , state_disabled ) ;
4578: LD_INT 73
4580: PPUSH
4581: LD_VAR 0 1
4585: PPUSH
4586: LD_INT 0
4588: PPUSH
4589: CALL_OW 322
// end ; global_defined := true ;
4593: LD_ADDR_LOC 3
4597: PUSH
4598: LD_INT 1
4600: ST_TO_ADDR
// end ;
4601: LD_VAR 0 2
4605: RET
// every 0 0$1 do
4606: GO 4608
4608: DISABLE
// if ( def_siberite_bomb > 1 ) then
4609: LD_EXP 15
4613: PUSH
4614: LD_INT 1
4616: GREATER
4617: IFFALSE 4632
// begin wait ( siberite_bomb_Delay ) ;
4619: LD_EXP 33
4623: PPUSH
4624: CALL_OW 67
// EnableSibFiss ;
4628: CALL 4633 0 0
// end ;
4632: END
// function EnableSibFiss ; var i ; begin
4633: LD_INT 0
4635: PPUSH
4636: PPUSH
// for i := 1 to 8 do
4637: LD_ADDR_VAR 0 2
4641: PUSH
4642: DOUBLE
4643: LD_INT 1
4645: DEC
4646: ST_TO_ADDR
4647: LD_INT 8
4649: PUSH
4650: FOR_TO
4651: IFFALSE 4697
// if Side_Positions [ i ] then
4653: LD_EXP 36
4657: PUSH
4658: LD_VAR 0 2
4662: ARRAY
4663: IFFALSE 4695
// begin SetTech ( tech_SibFiss , i , state_enabled ) ;
4665: LD_INT 25
4667: PPUSH
4668: LD_VAR 0 2
4672: PPUSH
4673: LD_INT 1
4675: PPUSH
4676: CALL_OW 322
// SetTech ( 73 , i , state_enabled ) ;
4680: LD_INT 73
4682: PPUSH
4683: LD_VAR 0 2
4687: PPUSH
4688: LD_INT 1
4690: PPUSH
4691: CALL_OW 322
// end ;
4695: GO 4650
4697: POP
4698: POP
// end ;
4699: LD_VAR 0 1
4703: RET
// function prepare_sides ; var i ; begin
4704: LD_INT 0
4706: PPUSH
4707: PPUSH
// global_units := [ ] ;
4708: LD_ADDR_LOC 2
4712: PUSH
4713: EMPTY
4714: ST_TO_ADDR
// global_defined := false ;
4715: LD_ADDR_LOC 3
4719: PUSH
4720: LD_INT 0
4722: ST_TO_ADDR
// CountClassMembers ;
4723: CALL 4802 0 0
// for i := 1 to 8 do
4727: LD_ADDR_VAR 0 2
4731: PUSH
4732: DOUBLE
4733: LD_INT 1
4735: DEC
4736: ST_TO_ADDR
4737: LD_INT 8
4739: PUSH
4740: FOR_TO
4741: IFFALSE 4795
// if Side_Positions [ i ] then
4743: LD_EXP 36
4747: PUSH
4748: LD_VAR 0 2
4752: ARRAY
4753: IFFALSE 4793
// begin prepare_side ( i ) ;
4755: LD_VAR 0 2
4759: PPUSH
4760: CALL 3554 0 1
// if ( Game_Type = 12 ) and mastodont > 0 then
4764: LD_EXP 20
4768: PUSH
4769: LD_INT 12
4771: EQUAL
4772: PUSH
4773: LD_EXP 48
4777: PUSH
4778: LD_INT 0
4780: GREATER
4781: AND
4782: IFFALSE 4793
// prepare_mastodonts ( mastodont ) ;
4784: LD_EXP 48
4788: PPUSH
4789: CALL 3476 0 1
// end ;
4793: GO 4740
4795: POP
4796: POP
// end ;
4797: LD_VAR 0 1
4801: RET
// function CountClassMembers ; var Mode ; begin
4802: LD_INT 0
4804: PPUSH
4805: PPUSH
// if No_Mechs then
4806: LD_EXP 19
4810: IFFALSE 4822
// Mode := 2 else
4812: LD_ADDR_VAR 0 2
4816: PUSH
4817: LD_INT 2
4819: ST_TO_ADDR
4820: GO 4830
// Mode := 1 ;
4822: LD_ADDR_VAR 0 2
4826: PUSH
4827: LD_INT 1
4829: ST_TO_ADDR
// neng := number_of_people ;
4830: LD_ADDR_LOC 5
4834: PUSH
4835: LD_EXP 23
4839: ST_TO_ADDR
// nsol := neng div [ 4 , 3 ] [ Mode ] ;
4840: LD_ADDR_LOC 8
4844: PUSH
4845: LD_LOC 5
4849: PUSH
4850: LD_INT 4
4852: PUSH
4853: LD_INT 3
4855: PUSH
4856: EMPTY
4857: LIST
4858: LIST
4859: PUSH
4860: LD_VAR 0 2
4864: ARRAY
4865: DIV
4866: ST_TO_ADDR
// if ( nsol < number_of_breastworks ) then
4867: LD_LOC 8
4871: PUSH
4872: LD_EXP 22
4876: LESS
4877: IFFALSE 4889
// nsol := number_of_breastworks ;
4879: LD_ADDR_LOC 8
4883: PUSH
4884: LD_EXP 22
4888: ST_TO_ADDR
// neng := neng - nsol ;
4889: LD_ADDR_LOC 5
4893: PUSH
4894: LD_LOC 5
4898: PUSH
4899: LD_LOC 8
4903: MINUS
4904: ST_TO_ADDR
// nsci := neng div [ 3 , 2 ] [ Mode ] ;
4905: LD_ADDR_LOC 6
4909: PUSH
4910: LD_LOC 5
4914: PUSH
4915: LD_INT 3
4917: PUSH
4918: LD_INT 2
4920: PUSH
4921: EMPTY
4922: LIST
4923: LIST
4924: PUSH
4925: LD_VAR 0 2
4929: ARRAY
4930: DIV
4931: ST_TO_ADDR
// if ( nsci < 1 ) then
4932: LD_LOC 6
4936: PUSH
4937: LD_INT 1
4939: LESS
4940: IFFALSE 4950
// nsci := 1 ;
4942: LD_ADDR_LOC 6
4946: PUSH
4947: LD_INT 1
4949: ST_TO_ADDR
// neng := neng - nsci ;
4950: LD_ADDR_LOC 5
4954: PUSH
4955: LD_LOC 5
4959: PUSH
4960: LD_LOC 6
4964: MINUS
4965: ST_TO_ADDR
// nmech := [ neng div 2 , 0 ] [ Mode ] ;
4966: LD_ADDR_LOC 7
4970: PUSH
4971: LD_LOC 5
4975: PUSH
4976: LD_INT 2
4978: DIV
4979: PUSH
4980: LD_INT 0
4982: PUSH
4983: EMPTY
4984: LIST
4985: LIST
4986: PUSH
4987: LD_VAR 0 2
4991: ARRAY
4992: ST_TO_ADDR
// neng := neng - nmech ;
4993: LD_ADDR_LOC 5
4997: PUSH
4998: LD_LOC 5
5002: PUSH
5003: LD_LOC 7
5007: MINUS
5008: ST_TO_ADDR
// if ( neng < 1 ) then
5009: LD_LOC 5
5013: PUSH
5014: LD_INT 1
5016: LESS
5017: IFFALSE 5027
// neng := 1 ;
5019: LD_ADDR_LOC 5
5023: PUSH
5024: LD_INT 1
5026: ST_TO_ADDR
// end ;
5027: LD_VAR 0 1
5031: RET
// function Init_Win_Condition ; begin
5032: LD_INT 0
5034: PPUSH
// if Team_Game then
5035: LD_EXP 38
5039: IFFALSE 5046
// enable ( 98 ) else
5041: LD_INT 98
5043: ENABLE_MARKED
5044: GO 5049
// enable ( 99 ) ;
5046: LD_INT 99
5048: ENABLE_MARKED
// case Game_Type of 3 :
5049: LD_EXP 20
5053: PUSH
5054: LD_INT 3
5056: DOUBLE
5057: EQUAL
5058: IFTRUE 5062
5060: GO 5068
5062: POP
// enable ( 100 ) ; end ;
5063: LD_INT 100
5065: ENABLE_MARKED
5066: GO 5069
5068: POP
// end ;
5069: LD_VAR 0 1
5073: RET
// starting begin disable ( 98 ) ;
5074: LD_INT 98
5076: DISABLE_MARKED
// disable ( 99 ) ;
5077: LD_INT 99
5079: DISABLE_MARKED
// disable ( 100 ) ;
5080: LD_INT 100
5082: DISABLE_MARKED
// disable ( 200 ) ;
5083: LD_INT 200
5085: DISABLE_MARKED
// disable ( 400 ) ;
5086: LD_INT 400
5088: DISABLE_MARKED
// disable ( 401 ) ;
5089: LD_INT 401
5091: DISABLE_MARKED
// mp_selectmsg := true ;
5092: LD_ADDR_OWVAR 13
5096: PUSH
5097: LD_INT 1
5099: ST_TO_ADDR
// read_multiplayer_and_game_parameters ;
5100: CALL 0 0 0
// init_map ;
5104: CALL 1454 0 0
// init_respawning ;
5108: CALL 14632 0 0
// set_shared_visions_and_alliances ;
5112: CALL 2619 0 0
// prepare_sides ;
5116: CALL 4704 0 0
// ShowTimer ;
5120: CALL 9508 0 0
// if ( Game_Type = 4 ) then
5124: LD_EXP 20
5128: PUSH
5129: LD_INT 4
5131: EQUAL
5132: IFFALSE 5138
// InitBloodGods ;
5134: CALL 9273 0 0
// music_nat := Side_Nations [ your_side ] ;
5138: LD_ADDR_OWVAR 71
5142: PUSH
5143: LD_EXP 37
5147: PUSH
5148: LD_OWVAR 2
5152: ARRAY
5153: ST_TO_ADDR
// if IAmSpec then
5154: CALL_OW 531
5158: IFFALSE 5194
// begin PlaceSeeing ( 0 , 0 , Your_Side , - 32767 ) ;
5160: LD_INT 0
5162: PPUSH
5163: LD_INT 0
5165: PPUSH
5166: LD_OWVAR 2
5170: PPUSH
5171: LD_INT 32767
5173: NEG
5174: PPUSH
5175: CALL_OW 330
// CenterNowOnXY ( 104 , 69 ) ;
5179: LD_INT 104
5181: PPUSH
5182: LD_INT 69
5184: PPUSH
5185: CALL_OW 86
// enable ( 400 ) ;
5189: LD_INT 400
5191: ENABLE_MARKED
// end else
5192: GO 5248
// begin ResetFog ;
5194: CALL_OW 335
// CenterNowOnXY ( start_def [ Side_Positions [ your_side ] ] [ 1 ] , start_def [ Side_Positions [ your_side ] ] [ 2 ] ) ;
5198: LD_EXP 41
5202: PUSH
5203: LD_EXP 36
5207: PUSH
5208: LD_OWVAR 2
5212: ARRAY
5213: ARRAY
5214: PUSH
5215: LD_INT 1
5217: ARRAY
5218: PPUSH
5219: LD_EXP 41
5223: PUSH
5224: LD_EXP 36
5228: PUSH
5229: LD_OWVAR 2
5233: ARRAY
5234: ARRAY
5235: PUSH
5236: LD_INT 2
5238: ARRAY
5239: PPUSH
5240: CALL_OW 86
// Init_Win_Condition ;
5244: CALL 5032 0 0
// end ; AnimateTrees ( true ) ;
5248: LD_INT 1
5250: PPUSH
5251: CALL_OW 573
// InitApeman ;
5255: CALL 5954 0 0
// BuildUpAreas := [ BuildUp1 , BuildUp2 , BuildUp3 , BuildUp4 , BuildUp5 , BuildUp6 ] ;
5259: LD_ADDR_EXP 57
5263: PUSH
5264: LD_INT 9
5266: PUSH
5267: LD_INT 10
5269: PUSH
5270: LD_INT 11
5272: PUSH
5273: LD_INT 12
5275: PUSH
5276: LD_INT 13
5278: PUSH
5279: LD_INT 14
5281: PUSH
5282: EMPTY
5283: LIST
5284: LIST
5285: LIST
5286: LIST
5287: LIST
5288: LIST
5289: ST_TO_ADDR
// BeginBuildUp ;
5290: CALL 15126 0 0
// end ; end_of_file
5294: END
// every 1 1$0 + 0 0$0.3 marked 10 do
5295: GO 5297
5297: DISABLE
// begin CreateCratesAnywhere ( Rand ( 4 , 5 ) , true ) ;
5298: LD_INT 4
5300: PPUSH
5301: LD_INT 5
5303: PPUSH
5304: CALL_OW 12
5308: PPUSH
5309: LD_INT 1
5311: PPUSH
5312: CALL_OW 57
// enable ;
5316: ENABLE
// end ;
5317: END
// every 0 0$1 + 0 0$0.6 marked 10 do var i , amount ;
5318: GO 5320
5320: DISABLE
5321: LD_INT 0
5323: PPUSH
5324: PPUSH
// begin case tick of 1 .. 1 1$0 :
5325: LD_OWVAR 1
5329: PUSH
5330: LD_INT 1
5332: DOUBLE
5333: GREATEREQUAL
5334: IFFALSE 5342
5336: LD_INT 2100
5338: DOUBLE
5339: LESSEQUAL
5340: IFTRUE 5344
5342: GO 5372
5344: POP
// Wait ( shipments_density / 100 * Rand ( 0 0$10 , 0 0$30 ) ) ; 1 1$0 + 1 .. 5 5$0 :
5345: LD_EXP 27
5349: PUSH
5350: LD_INT 100
5352: DIVREAL
5353: PUSH
5354: LD_INT 350
5356: PPUSH
5357: LD_INT 1050
5359: PPUSH
5360: CALL_OW 12
5364: MUL
5365: PPUSH
5366: CALL_OW 67
5370: GO 5674
5372: LD_INT 2100
5374: PUSH
5375: LD_INT 1
5377: PLUS
5378: DOUBLE
5379: GREATEREQUAL
5380: IFFALSE 5388
5382: LD_INT 10500
5384: DOUBLE
5385: LESSEQUAL
5386: IFTRUE 5390
5388: GO 5418
5390: POP
// Wait ( shipments_density / 100 * Rand ( 0 0$30 , 0 0$45 ) ) ; 5 5$0 + 1 .. 10 10$0 :
5391: LD_EXP 27
5395: PUSH
5396: LD_INT 100
5398: DIVREAL
5399: PUSH
5400: LD_INT 1050
5402: PPUSH
5403: LD_INT 1575
5405: PPUSH
5406: CALL_OW 12
5410: MUL
5411: PPUSH
5412: CALL_OW 67
5416: GO 5674
5418: LD_INT 10500
5420: PUSH
5421: LD_INT 1
5423: PLUS
5424: DOUBLE
5425: GREATEREQUAL
5426: IFFALSE 5434
5428: LD_INT 21000
5430: DOUBLE
5431: LESSEQUAL
5432: IFTRUE 5436
5434: GO 5464
5436: POP
// Wait ( shipments_density / 100 * Rand ( 0 0$45 , 1 1$0 ) ) ; 10 10$0 + 1 .. 20 20$0 :
5437: LD_EXP 27
5441: PUSH
5442: LD_INT 100
5444: DIVREAL
5445: PUSH
5446: LD_INT 1575
5448: PPUSH
5449: LD_INT 2100
5451: PPUSH
5452: CALL_OW 12
5456: MUL
5457: PPUSH
5458: CALL_OW 67
5462: GO 5674
5464: LD_INT 21000
5466: PUSH
5467: LD_INT 1
5469: PLUS
5470: DOUBLE
5471: GREATEREQUAL
5472: IFFALSE 5480
5474: LD_INT 42000
5476: DOUBLE
5477: LESSEQUAL
5478: IFTRUE 5482
5480: GO 5510
5482: POP
// Wait ( shipments_density / 100 * Rand ( 1 1$0 , 1 1$15 ) ) ; 20 20$0 + 1 .. 30 30$0 :
5483: LD_EXP 27
5487: PUSH
5488: LD_INT 100
5490: DIVREAL
5491: PUSH
5492: LD_INT 2100
5494: PPUSH
5495: LD_INT 2625
5497: PPUSH
5498: CALL_OW 12
5502: MUL
5503: PPUSH
5504: CALL_OW 67
5508: GO 5674
5510: LD_INT 42000
5512: PUSH
5513: LD_INT 1
5515: PLUS
5516: DOUBLE
5517: GREATEREQUAL
5518: IFFALSE 5526
5520: LD_INT 63000
5522: DOUBLE
5523: LESSEQUAL
5524: IFTRUE 5528
5526: GO 5556
5528: POP
// Wait ( shipments_density / 100 * Rand ( 1 1$15 , 1 1$30 ) ) ; 30 30$0 + 1 .. 50 50$0 :
5529: LD_EXP 27
5533: PUSH
5534: LD_INT 100
5536: DIVREAL
5537: PUSH
5538: LD_INT 2625
5540: PPUSH
5541: LD_INT 3150
5543: PPUSH
5544: CALL_OW 12
5548: MUL
5549: PPUSH
5550: CALL_OW 67
5554: GO 5674
5556: LD_INT 63000
5558: PUSH
5559: LD_INT 1
5561: PLUS
5562: DOUBLE
5563: GREATEREQUAL
5564: IFFALSE 5572
5566: LD_INT 105000
5568: DOUBLE
5569: LESSEQUAL
5570: IFTRUE 5574
5572: GO 5602
5574: POP
// Wait ( shipments_density / 100 * Rand ( 1 1$30 , 1 1$45 ) ) ; 50 50$0 + 1 .. 300 300$0 :
5575: LD_EXP 27
5579: PUSH
5580: LD_INT 100
5582: DIVREAL
5583: PUSH
5584: LD_INT 3150
5586: PPUSH
5587: LD_INT 3675
5589: PPUSH
5590: CALL_OW 12
5594: MUL
5595: PPUSH
5596: CALL_OW 67
5600: GO 5674
5602: LD_INT 105000
5604: PUSH
5605: LD_INT 1
5607: PLUS
5608: DOUBLE
5609: GREATEREQUAL
5610: IFFALSE 5618
5612: LD_INT 630000
5614: DOUBLE
5615: LESSEQUAL
5616: IFTRUE 5620
5618: GO 5648
5620: POP
// Wait ( shipments_density / 100 * Rand ( 1 1$45 , 2 2$0 ) ) ; else
5621: LD_EXP 27
5625: PUSH
5626: LD_INT 100
5628: DIVREAL
5629: PUSH
5630: LD_INT 3675
5632: PPUSH
5633: LD_INT 4200
5635: PPUSH
5636: CALL_OW 12
5640: MUL
5641: PPUSH
5642: CALL_OW 67
5646: GO 5674
5648: POP
// Wait ( shipments_density / 100 * Rand ( 2 2$0 , 2 2$30 ) ) ; end ;
5649: LD_EXP 27
5653: PUSH
5654: LD_INT 100
5656: DIVREAL
5657: PUSH
5658: LD_INT 4200
5660: PPUSH
5661: LD_INT 5250
5663: PPUSH
5664: CALL_OW 12
5668: MUL
5669: PPUSH
5670: CALL_OW 67
// amount := Rand ( 3 , 5 ) ;
5674: LD_ADDR_VAR 0 2
5678: PUSH
5679: LD_INT 3
5681: PPUSH
5682: LD_INT 5
5684: PPUSH
5685: CALL_OW 12
5689: ST_TO_ADDR
// for i in ( Side_Positions diff [ 0 ] ) do
5690: LD_ADDR_VAR 0 1
5694: PUSH
5695: LD_EXP 36
5699: PUSH
5700: LD_INT 0
5702: PUSH
5703: EMPTY
5704: LIST
5705: DIFF
5706: PUSH
5707: FOR_IN
5708: IFFALSE 5757
// CreateCratesXYR ( amount , start_def [ i ] [ 1 ] , start_def [ i ] [ 2 ] , 20 , true ) ;
5710: LD_VAR 0 2
5714: PPUSH
5715: LD_EXP 41
5719: PUSH
5720: LD_VAR 0 1
5724: ARRAY
5725: PUSH
5726: LD_INT 1
5728: ARRAY
5729: PPUSH
5730: LD_EXP 41
5734: PUSH
5735: LD_VAR 0 1
5739: ARRAY
5740: PUSH
5741: LD_INT 2
5743: ARRAY
5744: PPUSH
5745: LD_INT 20
5747: PPUSH
5748: LD_INT 1
5750: PPUSH
5751: CALL_OW 56
5755: GO 5707
5757: POP
5758: POP
// enable ;
5759: ENABLE
// end ; end_of_file
5760: PPOPN 2
5762: END
// every 20 20$00 trigger apemanNumber do
5763: LD_EXP 49
5767: IFFALSE 5800
5769: GO 5771
5771: DISABLE
// begin enable ;
5772: ENABLE
// if apeLevel >= 8 then
5773: LD_EXP 54
5777: PUSH
5778: LD_INT 8
5780: GREATEREQUAL
5781: IFFALSE 5786
// disable else
5783: DISABLE
5784: GO 5800
// apeLevel := apeLevel + 1 ;
5786: LD_ADDR_EXP 54
5790: PUSH
5791: LD_EXP 54
5795: PUSH
5796: LD_INT 1
5798: PLUS
5799: ST_TO_ADDR
// end ;
5800: END
// every 2 2$30 trigger apemanNumber < apemanLimit do var i , ape , pos , j ;
5801: LD_EXP 49
5805: PUSH
5806: LD_EXP 50
5810: LESS
5811: IFFALSE 5951
5813: GO 5815
5815: DISABLE
5816: LD_INT 0
5818: PPUSH
5819: PPUSH
5820: PPUSH
5821: PPUSH
// begin enable ;
5822: ENABLE
// for i := 1 to apemanPos do
5823: LD_ADDR_VAR 0 1
5827: PUSH
5828: DOUBLE
5829: LD_INT 1
5831: DEC
5832: ST_TO_ADDR
5833: LD_EXP 52
5837: PUSH
5838: FOR_TO
5839: IFFALSE 5949
// begin if apemanPlayerCount [ i ] then
5841: LD_EXP 53
5845: PUSH
5846: LD_VAR 0 1
5850: ARRAY
5851: IFFALSE 5947
// begin if apemanPlayerCount [ i ] > apemanPos [ i ] then
5853: LD_EXP 53
5857: PUSH
5858: LD_VAR 0 1
5862: ARRAY
5863: PUSH
5864: LD_EXP 52
5868: PUSH
5869: LD_VAR 0 1
5873: ARRAY
5874: GREATER
5875: IFFALSE 5947
// begin ape := PrepareApeman ;
5877: LD_ADDR_VAR 0 2
5881: PUSH
5882: CALL 6462 0 0
5886: ST_TO_ADDR
// PlaceUnitArea ( ape , apeAreas [ i ] , false ) ;
5887: LD_VAR 0 2
5891: PPUSH
5892: LD_EXP 55
5896: PUSH
5897: LD_VAR 0 1
5901: ARRAY
5902: PPUSH
5903: LD_INT 0
5905: PPUSH
5906: CALL_OW 49
// apemanPos := Replace ( apemanPos , i , apemanPos [ i ] union ape ) ;
5910: LD_ADDR_EXP 52
5914: PUSH
5915: LD_EXP 52
5919: PPUSH
5920: LD_VAR 0 1
5924: PPUSH
5925: LD_EXP 52
5929: PUSH
5930: LD_VAR 0 1
5934: ARRAY
5935: PUSH
5936: LD_VAR 0 2
5940: UNION
5941: PPUSH
5942: CALL_OW 1
5946: ST_TO_ADDR
// end ; end ; end ;
5947: GO 5838
5949: POP
5950: POP
// end ;
5951: PPOPN 4
5953: END
// export apemanNumber , apemanLimit , apemanPerPlayer , apemanPos , apemanPlayerCount , apeLevel , apeAreas ; export function InitApeman ; var i , playersAmount , j , ape , pos , _apeAreas ; begin
5954: LD_INT 0
5956: PPUSH
5957: PPUSH
5958: PPUSH
5959: PPUSH
5960: PPUSH
5961: PPUSH
5962: PPUSH
// playersAmount := 0 ;
5963: LD_ADDR_VAR 0 3
5967: PUSH
5968: LD_INT 0
5970: ST_TO_ADDR
// _apeAreas := [ Base1ApeArea , Base2ApeArea , Base3ApeArea , Base4ApeArea , Base5ApeArea , Base6ApeArea , ] ;
5971: LD_ADDR_VAR 0 7
5975: PUSH
5976: LD_INT 1
5978: PUSH
5979: LD_INT 2
5981: PUSH
5982: LD_INT 3
5984: PUSH
5985: LD_INT 4
5987: PUSH
5988: LD_INT 5
5990: PUSH
5991: LD_INT 6
5993: PUSH
5994: EMPTY
5995: LIST
5996: LIST
5997: LIST
5998: LIST
5999: LIST
6000: LIST
6001: ST_TO_ADDR
// apeAreas := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
6002: LD_ADDR_EXP 55
6006: PUSH
6007: LD_INT 0
6009: PUSH
6010: LD_INT 0
6012: PUSH
6013: LD_INT 0
6015: PUSH
6016: LD_INT 0
6018: PUSH
6019: LD_INT 0
6021: PUSH
6022: LD_INT 0
6024: PUSH
6025: LD_INT 0
6027: PUSH
6028: LD_INT 0
6030: PUSH
6031: EMPTY
6032: LIST
6033: LIST
6034: LIST
6035: LIST
6036: LIST
6037: LIST
6038: LIST
6039: LIST
6040: ST_TO_ADDR
// for j = 1 to Side_Positions do
6041: LD_ADDR_VAR 0 4
6045: PUSH
6046: DOUBLE
6047: LD_INT 1
6049: DEC
6050: ST_TO_ADDR
6051: LD_EXP 36
6055: PUSH
6056: FOR_TO
6057: IFFALSE 6124
// if Side_Positions [ j ] then
6059: LD_EXP 36
6063: PUSH
6064: LD_VAR 0 4
6068: ARRAY
6069: IFFALSE 6122
// begin playersAmount := playersAmount + 1 ;
6071: LD_ADDR_VAR 0 3
6075: PUSH
6076: LD_VAR 0 3
6080: PUSH
6081: LD_INT 1
6083: PLUS
6084: ST_TO_ADDR
// apeAreas := Replace ( apeAreas , j , _apeAreas [ Side_Positions [ j ] ] ) ;
6085: LD_ADDR_EXP 55
6089: PUSH
6090: LD_EXP 55
6094: PPUSH
6095: LD_VAR 0 4
6099: PPUSH
6100: LD_VAR 0 7
6104: PUSH
6105: LD_EXP 36
6109: PUSH
6110: LD_VAR 0 4
6114: ARRAY
6115: ARRAY
6116: PPUSH
6117: CALL_OW 1
6121: ST_TO_ADDR
// end ;
6122: GO 6056
6124: POP
6125: POP
// apemanPerPlayer := 3 * amount_of_apemen ;
6126: LD_ADDR_EXP 51
6130: PUSH
6131: LD_INT 3
6133: PUSH
6134: LD_EXP 29
6138: MUL
6139: ST_TO_ADDR
// apemanNumber := playersAmount * apemanPerPlayer ;
6140: LD_ADDR_EXP 49
6144: PUSH
6145: LD_VAR 0 3
6149: PUSH
6150: LD_EXP 51
6154: MUL
6155: ST_TO_ADDR
// apemanLimit := apemanNumber ;
6156: LD_ADDR_EXP 50
6160: PUSH
6161: LD_EXP 49
6165: ST_TO_ADDR
// apemanPos := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
6166: LD_ADDR_EXP 52
6170: PUSH
6171: LD_INT 0
6173: PUSH
6174: LD_INT 0
6176: PUSH
6177: LD_INT 0
6179: PUSH
6180: LD_INT 0
6182: PUSH
6183: LD_INT 0
6185: PUSH
6186: LD_INT 0
6188: PUSH
6189: LD_INT 0
6191: PUSH
6192: LD_INT 0
6194: PUSH
6195: EMPTY
6196: LIST
6197: LIST
6198: LIST
6199: LIST
6200: LIST
6201: LIST
6202: LIST
6203: LIST
6204: ST_TO_ADDR
// apemanPlayerCount := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
6205: LD_ADDR_EXP 53
6209: PUSH
6210: LD_INT 0
6212: PUSH
6213: LD_INT 0
6215: PUSH
6216: LD_INT 0
6218: PUSH
6219: LD_INT 0
6221: PUSH
6222: LD_INT 0
6224: PUSH
6225: LD_INT 0
6227: PUSH
6228: LD_INT 0
6230: PUSH
6231: LD_INT 0
6233: PUSH
6234: EMPTY
6235: LIST
6236: LIST
6237: LIST
6238: LIST
6239: LIST
6240: LIST
6241: LIST
6242: LIST
6243: ST_TO_ADDR
// apeLevel := 1 ;
6244: LD_ADDR_EXP 54
6248: PUSH
6249: LD_INT 1
6251: ST_TO_ADDR
// if not apemanNumber then
6252: LD_EXP 49
6256: NOT
6257: IFFALSE 6261
// exit ;
6259: GO 6457
// for i := 1 to apemanPerPlayer do
6261: LD_ADDR_VAR 0 2
6265: PUSH
6266: DOUBLE
6267: LD_INT 1
6269: DEC
6270: ST_TO_ADDR
6271: LD_EXP 51
6275: PUSH
6276: FOR_TO
6277: IFFALSE 6455
// begin for j := 1 to Side_Positions do
6279: LD_ADDR_VAR 0 4
6283: PUSH
6284: DOUBLE
6285: LD_INT 1
6287: DEC
6288: ST_TO_ADDR
6289: LD_EXP 36
6293: PUSH
6294: FOR_TO
6295: IFFALSE 6451
// if Side_Positions [ j ] then
6297: LD_EXP 36
6301: PUSH
6302: LD_VAR 0 4
6306: ARRAY
6307: IFFALSE 6449
// begin pos := Side_Positions [ j ] ;
6309: LD_ADDR_VAR 0 6
6313: PUSH
6314: LD_EXP 36
6318: PUSH
6319: LD_VAR 0 4
6323: ARRAY
6324: ST_TO_ADDR
// apemanPlayerCount := Replace ( apemanPlayerCount , j , apemanPlayerCount [ j ] + 1 ) ;
6325: LD_ADDR_EXP 53
6329: PUSH
6330: LD_EXP 53
6334: PPUSH
6335: LD_VAR 0 4
6339: PPUSH
6340: LD_EXP 53
6344: PUSH
6345: LD_VAR 0 4
6349: ARRAY
6350: PUSH
6351: LD_INT 1
6353: PLUS
6354: PPUSH
6355: CALL_OW 1
6359: ST_TO_ADDR
// ape := PrepareApeman ;
6360: LD_ADDR_VAR 0 5
6364: PUSH
6365: CALL 6462 0 0
6369: ST_TO_ADDR
// apemanPos := Replace ( apemanPos , j , Replace ( apemanPos [ j ] , apemanPos [ j ] + 1 , ape ) ) ;
6370: LD_ADDR_EXP 52
6374: PUSH
6375: LD_EXP 52
6379: PPUSH
6380: LD_VAR 0 4
6384: PPUSH
6385: LD_EXP 52
6389: PUSH
6390: LD_VAR 0 4
6394: ARRAY
6395: PPUSH
6396: LD_EXP 52
6400: PUSH
6401: LD_VAR 0 4
6405: ARRAY
6406: PUSH
6407: LD_INT 1
6409: PLUS
6410: PPUSH
6411: LD_VAR 0 5
6415: PPUSH
6416: CALL_OW 1
6420: PPUSH
6421: CALL_OW 1
6425: ST_TO_ADDR
// PlaceUnitArea ( ape , apeAreas [ j ] , false ) ;
6426: LD_VAR 0 5
6430: PPUSH
6431: LD_EXP 55
6435: PUSH
6436: LD_VAR 0 4
6440: ARRAY
6441: PPUSH
6442: LD_INT 0
6444: PPUSH
6445: CALL_OW 49
// end ;
6449: GO 6294
6451: POP
6452: POP
// end ;
6453: GO 6276
6455: POP
6456: POP
// end ;
6457: LD_VAR 0 1
6461: RET
// export function PrepareApeman ; var bonus ; begin
6462: LD_INT 0
6464: PPUSH
6465: PPUSH
// uc_side := 0 ;
6466: LD_ADDR_OWVAR 20
6470: PUSH
6471: LD_INT 0
6473: ST_TO_ADDR
// uc_nation := 0 ;
6474: LD_ADDR_OWVAR 21
6478: PUSH
6479: LD_INT 0
6481: ST_TO_ADDR
// InitHc ;
6482: CALL_OW 19
// bonus := [ - 1 , 0 , 1 ] [ tick mod 3 + 1 ] ;
6486: LD_ADDR_VAR 0 2
6490: PUSH
6491: LD_INT 1
6493: NEG
6494: PUSH
6495: LD_INT 0
6497: PUSH
6498: LD_INT 1
6500: PUSH
6501: EMPTY
6502: LIST
6503: LIST
6504: LIST
6505: PUSH
6506: LD_OWVAR 1
6510: PUSH
6511: LD_INT 3
6513: MOD
6514: PUSH
6515: LD_INT 1
6517: PLUS
6518: ARRAY
6519: ST_TO_ADDR
// hc_class := class_apeman ;
6520: LD_ADDR_OWVAR 28
6524: PUSH
6525: LD_INT 12
6527: ST_TO_ADDR
// hc_gallery :=  ;
6528: LD_ADDR_OWVAR 33
6532: PUSH
6533: LD_STRING 
6535: ST_TO_ADDR
// hc_name :=  ;
6536: LD_ADDR_OWVAR 26
6540: PUSH
6541: LD_STRING 
6543: ST_TO_ADDR
// hc_skills := [ apeLevel + bonus , apeLevel + bonus , apeLevel + bonus , apeLevel + bonus ] ;
6544: LD_ADDR_OWVAR 31
6548: PUSH
6549: LD_EXP 54
6553: PUSH
6554: LD_VAR 0 2
6558: PLUS
6559: PUSH
6560: LD_EXP 54
6564: PUSH
6565: LD_VAR 0 2
6569: PLUS
6570: PUSH
6571: LD_EXP 54
6575: PUSH
6576: LD_VAR 0 2
6580: PLUS
6581: PUSH
6582: LD_EXP 54
6586: PUSH
6587: LD_VAR 0 2
6591: PLUS
6592: PUSH
6593: EMPTY
6594: LIST
6595: LIST
6596: LIST
6597: LIST
6598: ST_TO_ADDR
// hc_agressivity := 10 * bonus ;
6599: LD_ADDR_OWVAR 35
6603: PUSH
6604: LD_INT 10
6606: PUSH
6607: LD_VAR 0 2
6611: MUL
6612: ST_TO_ADDR
// hc_attr := [ 12 , 10 ] ;
6613: LD_ADDR_OWVAR 29
6617: PUSH
6618: LD_INT 12
6620: PUSH
6621: LD_INT 10
6623: PUSH
6624: EMPTY
6625: LIST
6626: LIST
6627: ST_TO_ADDR
// result := CreateHuman ;
6628: LD_ADDR_VAR 0 1
6632: PUSH
6633: CALL_OW 44
6637: ST_TO_ADDR
// end ;
6638: LD_VAR 0 1
6642: RET
// export function ApeKilled ( ape ) ; var side , i ; begin
6643: LD_INT 0
6645: PPUSH
6646: PPUSH
6647: PPUSH
// if not ape then
6648: LD_VAR 0 1
6652: NOT
6653: IFFALSE 6657
// exit ;
6655: GO 6782
// side := GetSide ( ape ) ;
6657: LD_ADDR_VAR 0 3
6661: PUSH
6662: LD_VAR 0 1
6666: PPUSH
6667: CALL_OW 255
6671: ST_TO_ADDR
// if not side then
6672: LD_VAR 0 3
6676: NOT
6677: IFFALSE 6731
// begin for i = 1 to apemanPos do
6679: LD_ADDR_VAR 0 4
6683: PUSH
6684: DOUBLE
6685: LD_INT 1
6687: DEC
6688: ST_TO_ADDR
6689: LD_EXP 52
6693: PUSH
6694: FOR_TO
6695: IFFALSE 6729
// if ape in apemanPos [ i ] then
6697: LD_VAR 0 1
6701: PUSH
6702: LD_EXP 52
6706: PUSH
6707: LD_VAR 0 4
6711: ARRAY
6712: IN
6713: IFFALSE 6727
// begin side := i ;
6715: LD_ADDR_VAR 0 3
6719: PUSH
6720: LD_VAR 0 4
6724: ST_TO_ADDR
// break ;
6725: GO 6729
// end ;
6727: GO 6694
6729: POP
6730: POP
// end ; apemanPos := Replace ( apemanPos , side , apemanPos [ side ] diff ape ) ;
6731: LD_ADDR_EXP 52
6735: PUSH
6736: LD_EXP 52
6740: PPUSH
6741: LD_VAR 0 3
6745: PPUSH
6746: LD_EXP 52
6750: PUSH
6751: LD_VAR 0 3
6755: ARRAY
6756: PUSH
6757: LD_VAR 0 1
6761: DIFF
6762: PPUSH
6763: CALL_OW 1
6767: ST_TO_ADDR
// apemanNumber := apemanNumber - 1 ;
6768: LD_ADDR_EXP 49
6772: PUSH
6773: LD_EXP 49
6777: PUSH
6778: LD_INT 1
6780: MINUS
6781: ST_TO_ADDR
// end ; end_of_file
6782: LD_VAR 0 2
6786: RET
// on BuildingStarted ( b , u ) do begin if GetBType ( b ) in [ b_depot , b_warehouse ] then
6787: LD_VAR 0 1
6791: PPUSH
6792: CALL_OW 266
6796: PUSH
6797: LD_INT 0
6799: PUSH
6800: LD_INT 1
6802: PUSH
6803: EMPTY
6804: LIST
6805: LIST
6806: IN
6807: IFFALSE 6832
// SetBName ( b , @ & GetSide ( b ) ) ;
6809: LD_VAR 0 1
6813: PPUSH
6814: LD_STRING @
6816: PUSH
6817: LD_VAR 0 1
6821: PPUSH
6822: CALL_OW 255
6826: STR
6827: PPUSH
6828: CALL_OW 500
// end ;
6832: PPOPN 2
6834: END
// on BuildingCaptured ( b , o , e ) do begin if GetBType ( b ) in [ b_depot , b_warehouse ] then
6835: LD_VAR 0 1
6839: PPUSH
6840: CALL_OW 266
6844: PUSH
6845: LD_INT 0
6847: PUSH
6848: LD_INT 1
6850: PUSH
6851: EMPTY
6852: LIST
6853: LIST
6854: IN
6855: IFFALSE 6880
// SetBName ( b , @ & GetSide ( b ) ) ;
6857: LD_VAR 0 1
6861: PPUSH
6862: LD_STRING @
6864: PUSH
6865: LD_VAR 0 1
6869: PPUSH
6870: CALL_OW 255
6874: STR
6875: PPUSH
6876: CALL_OW 500
// end ;
6880: PPOPN 3
6882: END
// on VehicleConstructed ( veh , fac ) do var side ;
6883: LD_INT 0
6885: PPUSH
// begin if GetControl ( veh ) = control_apeman then
6886: LD_VAR 0 1
6890: PPUSH
6891: CALL_OW 263
6895: PUSH
6896: LD_INT 5
6898: EQUAL
6899: IFFALSE 7041
// begin side := GetSide ( veh ) ;
6901: LD_ADDR_VAR 0 3
6905: PUSH
6906: LD_VAR 0 1
6910: PPUSH
6911: CALL_OW 255
6915: ST_TO_ADDR
// apemanPos := Replace ( apemanPos , side , UnitFilter ( apemanPos [ side ] , [ f_placed ] ) union FilterAllUnits ( [ [ f_side , side ] , [ f_or , [ f_control , control_apeman ] , [ f_class , class_apeman ] , [ f_class , class_apeman_soldier ] , [ f_class , class_apeman_engineer ] , [ f_class , class_apeman_kamikaze ] ] ] ) ) ;
6916: LD_ADDR_EXP 52
6920: PUSH
6921: LD_EXP 52
6925: PPUSH
6926: LD_VAR 0 3
6930: PPUSH
6931: LD_EXP 52
6935: PUSH
6936: LD_VAR 0 3
6940: ARRAY
6941: PPUSH
6942: LD_INT 52
6944: PUSH
6945: EMPTY
6946: LIST
6947: PPUSH
6948: CALL_OW 72
6952: PUSH
6953: LD_INT 22
6955: PUSH
6956: LD_VAR 0 3
6960: PUSH
6961: EMPTY
6962: LIST
6963: LIST
6964: PUSH
6965: LD_INT 2
6967: PUSH
6968: LD_INT 33
6970: PUSH
6971: LD_INT 5
6973: PUSH
6974: EMPTY
6975: LIST
6976: LIST
6977: PUSH
6978: LD_INT 25
6980: PUSH
6981: LD_INT 12
6983: PUSH
6984: EMPTY
6985: LIST
6986: LIST
6987: PUSH
6988: LD_INT 25
6990: PUSH
6991: LD_INT 15
6993: PUSH
6994: EMPTY
6995: LIST
6996: LIST
6997: PUSH
6998: LD_INT 25
7000: PUSH
7001: LD_INT 16
7003: PUSH
7004: EMPTY
7005: LIST
7006: LIST
7007: PUSH
7008: LD_INT 25
7010: PUSH
7011: LD_INT 17
7013: PUSH
7014: EMPTY
7015: LIST
7016: LIST
7017: PUSH
7018: EMPTY
7019: LIST
7020: LIST
7021: LIST
7022: LIST
7023: LIST
7024: LIST
7025: PUSH
7026: EMPTY
7027: LIST
7028: LIST
7029: PPUSH
7030: CALL_OW 69
7034: UNION
7035: PPUSH
7036: CALL_OW 1
7040: ST_TO_ADDR
// end ; end ;
7041: PPOPN 3
7043: END
// on UnitDestroyed ( j ) do var x , y , pos , dir ;
7044: LD_INT 0
7046: PPUSH
7047: PPUSH
7048: PPUSH
7049: PPUSH
// begin if GetClass ( j ) in [ class_apeman , class_apeman_soldier , class_apeman_kamikaze , class_apeman_engineer ] or GetControl ( j ) = control_apeman then
7050: LD_VAR 0 1
7054: PPUSH
7055: CALL_OW 257
7059: PUSH
7060: LD_INT 12
7062: PUSH
7063: LD_INT 15
7065: PUSH
7066: LD_INT 17
7068: PUSH
7069: LD_INT 16
7071: PUSH
7072: EMPTY
7073: LIST
7074: LIST
7075: LIST
7076: LIST
7077: IN
7078: PUSH
7079: LD_VAR 0 1
7083: PPUSH
7084: CALL_OW 263
7088: PUSH
7089: LD_INT 5
7091: EQUAL
7092: OR
7093: IFFALSE 7104
// ApeKilled ( j ) ;
7095: LD_VAR 0 1
7099: PPUSH
7100: CALL 6643 0 1
// if GetBType ( j ) in [ b_depot , b_warehouse ] then
7104: LD_VAR 0 1
7108: PPUSH
7109: CALL_OW 266
7113: PUSH
7114: LD_INT 0
7116: PUSH
7117: LD_INT 1
7119: PUSH
7120: EMPTY
7121: LIST
7122: LIST
7123: IN
7124: IFFALSE 7206
// begin pos := Side_Positions [ GetSide ( j ) ] ;
7126: LD_ADDR_VAR 0 4
7130: PUSH
7131: LD_EXP 36
7135: PUSH
7136: LD_VAR 0 1
7140: PPUSH
7141: CALL_OW 255
7145: ARRAY
7146: ST_TO_ADDR
// x := start_def [ pos ] [ 1 ] ;
7147: LD_ADDR_VAR 0 2
7151: PUSH
7152: LD_EXP 41
7156: PUSH
7157: LD_VAR 0 4
7161: ARRAY
7162: PUSH
7163: LD_INT 1
7165: ARRAY
7166: ST_TO_ADDR
// y := start_def [ pos ] [ 2 ] ;
7167: LD_ADDR_VAR 0 3
7171: PUSH
7172: LD_EXP 41
7176: PUSH
7177: LD_VAR 0 4
7181: ARRAY
7182: PUSH
7183: LD_INT 2
7185: ARRAY
7186: ST_TO_ADDR
// KillBattleFlag ( FindBattleFlag ( x , y ) ) ;
7187: LD_VAR 0 2
7191: PPUSH
7192: LD_VAR 0 3
7196: PPUSH
7197: CALL_OW 420
7201: PPUSH
7202: CALL_OW 419
// end ; end ;
7206: PPOPN 5
7208: END
// on siberiterocketexploded ( un , x , y ) do SA_OnSiberiteRocketExploded ( un , x , y , Your_Side ) ; end_of_file
7209: LD_VAR 0 1
7213: PPUSH
7214: LD_VAR 0 2
7218: PPUSH
7219: LD_VAR 0 3
7223: PPUSH
7224: LD_OWVAR 2
7228: PPUSH
7229: CALL 9669 0 4
7233: PPOPN 3
7235: END
// function CanWinLoose ; begin
7236: LD_INT 0
7238: PPUSH
// Result := true ;
7239: LD_ADDR_VAR 0 1
7243: PUSH
7244: LD_INT 1
7246: ST_TO_ADDR
// if IAmServer and PlayerCount > 0 then
7247: CALL_OW 518
7251: PUSH
7252: CALL_OW 519
7256: PUSH
7257: LD_INT 0
7259: GREATER
7260: AND
7261: IFFALSE 7271
// Result := false ;
7263: LD_ADDR_VAR 0 1
7267: PUSH
7268: LD_INT 0
7270: ST_TO_ADDR
// if IAmSpec and PlayerCount > 1 then
7271: CALL_OW 531
7275: PUSH
7276: CALL_OW 519
7280: PUSH
7281: LD_INT 1
7283: GREATER
7284: AND
7285: IFFALSE 7295
// Result := false ;
7287: LD_ADDR_VAR 0 1
7291: PUSH
7292: LD_INT 0
7294: ST_TO_ADDR
// end ;
7295: LD_VAR 0 1
7299: RET
// function HasPower ( i ) ; begin
7300: LD_INT 0
7302: PPUSH
// if def_people_respawning then
7303: LD_EXP 11
7307: IFFALSE 7398
// Result := FilterAllUnits ( [ [ f_side , i ] , [ f_or , [ f_type , unit_human ] , [ f_control , control_computer ] , [ f_control , control_apeman ] , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) else
7309: LD_ADDR_VAR 0 2
7313: PUSH
7314: LD_INT 22
7316: PUSH
7317: LD_VAR 0 1
7321: PUSH
7322: EMPTY
7323: LIST
7324: LIST
7325: PUSH
7326: LD_INT 2
7328: PUSH
7329: LD_INT 21
7331: PUSH
7332: LD_INT 1
7334: PUSH
7335: EMPTY
7336: LIST
7337: LIST
7338: PUSH
7339: LD_INT 33
7341: PUSH
7342: LD_INT 3
7344: PUSH
7345: EMPTY
7346: LIST
7347: LIST
7348: PUSH
7349: LD_INT 33
7351: PUSH
7352: LD_INT 5
7354: PUSH
7355: EMPTY
7356: LIST
7357: LIST
7358: PUSH
7359: LD_INT 30
7361: PUSH
7362: LD_INT 0
7364: PUSH
7365: EMPTY
7366: LIST
7367: LIST
7368: PUSH
7369: LD_INT 30
7371: PUSH
7372: LD_INT 1
7374: PUSH
7375: EMPTY
7376: LIST
7377: LIST
7378: PUSH
7379: EMPTY
7380: LIST
7381: LIST
7382: LIST
7383: LIST
7384: LIST
7385: LIST
7386: PUSH
7387: EMPTY
7388: LIST
7389: LIST
7390: PPUSH
7391: CALL_OW 69
7395: ST_TO_ADDR
7396: GO 7463
// Result := FilterAllUnits ( [ [ f_side , i ] , [ f_or , [ f_type , unit_human ] , [ f_control , control_computer ] , [ f_control , control_apeman ] ] ] ) ;
7398: LD_ADDR_VAR 0 2
7402: PUSH
7403: LD_INT 22
7405: PUSH
7406: LD_VAR 0 1
7410: PUSH
7411: EMPTY
7412: LIST
7413: LIST
7414: PUSH
7415: LD_INT 2
7417: PUSH
7418: LD_INT 21
7420: PUSH
7421: LD_INT 1
7423: PUSH
7424: EMPTY
7425: LIST
7426: LIST
7427: PUSH
7428: LD_INT 33
7430: PUSH
7431: LD_INT 3
7433: PUSH
7434: EMPTY
7435: LIST
7436: LIST
7437: PUSH
7438: LD_INT 33
7440: PUSH
7441: LD_INT 5
7443: PUSH
7444: EMPTY
7445: LIST
7446: LIST
7447: PUSH
7448: EMPTY
7449: LIST
7450: LIST
7451: LIST
7452: LIST
7453: PUSH
7454: EMPTY
7455: LIST
7456: LIST
7457: PPUSH
7458: CALL_OW 69
7462: ST_TO_ADDR
// end ;
7463: LD_VAR 0 2
7467: RET
// function AlliedSides ( i , j ) ; begin
7468: LD_INT 0
7470: PPUSH
// Result := false ;
7471: LD_ADDR_VAR 0 3
7475: PUSH
7476: LD_INT 0
7478: ST_TO_ADDR
// if ( GetAttitude ( i , j ) = att_friend ) and ( GetAttitude ( j , i ) = att_friend ) and GetAlliedVictory ( i ) and GetAlliedVictory ( j ) then
7479: LD_VAR 0 1
7483: PPUSH
7484: LD_VAR 0 2
7488: PPUSH
7489: CALL_OW 81
7493: PUSH
7494: LD_INT 1
7496: EQUAL
7497: PUSH
7498: LD_VAR 0 2
7502: PPUSH
7503: LD_VAR 0 1
7507: PPUSH
7508: CALL_OW 81
7512: PUSH
7513: LD_INT 1
7515: EQUAL
7516: AND
7517: PUSH
7518: LD_VAR 0 1
7522: PPUSH
7523: CALL_OW 83
7527: AND
7528: PUSH
7529: LD_VAR 0 2
7533: PPUSH
7534: CALL_OW 83
7538: AND
7539: IFFALSE 7549
// Result := true ;
7541: LD_ADDR_VAR 0 3
7545: PUSH
7546: LD_INT 1
7548: ST_TO_ADDR
// end ;
7549: LD_VAR 0 3
7553: RET
// every 0 0$3 trigger CanWinLoose marked 400 do
7554: CALL 7236 0 0
7558: IFFALSE 7567
7560: GO 7562
7562: DISABLE
// YouLostInMultiplayer ;
7563: CALL_OW 107
7567: END
// every 0 0$3 trigger CanWinLoose marked 401 do
7568: CALL 7236 0 0
7572: IFFALSE 7596
7574: GO 7576
7576: DISABLE
// begin SA_Win ( Side_Nations [ Your_side ] ) ;
7577: LD_EXP 37
7581: PUSH
7582: LD_OWVAR 2
7586: ARRAY
7587: PPUSH
7588: CALL 9711 0 1
// YouWinInMultiplayer ;
7592: CALL_OW 106
// end ;
7596: END
// every 0 0$3 marked 98 do var i , CanWin ;
7597: GO 7599
7599: DISABLE
7600: LD_INT 0
7602: PPUSH
7603: PPUSH
// begin if not HasPower ( your_side ) then
7604: LD_OWVAR 2
7608: PPUSH
7609: CALL 7300 0 1
7613: NOT
7614: IFFALSE 7625
// begin Multiplayer_Loose_Message ;
7616: CALL_OW 521
// enable ( 400 ) ;
7620: LD_INT 400
7622: ENABLE_MARKED
// end else
7623: GO 7758
// begin CanWin := true ;
7625: LD_ADDR_VAR 0 2
7629: PUSH
7630: LD_INT 1
7632: ST_TO_ADDR
// for i := 1 to 8 do
7633: LD_ADDR_VAR 0 1
7637: PUSH
7638: DOUBLE
7639: LD_INT 1
7641: DEC
7642: ST_TO_ADDR
7643: LD_INT 8
7645: PUSH
7646: FOR_TO
7647: IFFALSE 7744
// if Side_Positions [ i ] and MultiplayerSideAlive ( i ) and ( i <> your_side ) then
7649: LD_EXP 36
7653: PUSH
7654: LD_VAR 0 1
7658: ARRAY
7659: PUSH
7660: LD_VAR 0 1
7664: PPUSH
7665: CALL_OW 108
7669: AND
7670: PUSH
7671: LD_VAR 0 1
7675: PUSH
7676: LD_OWVAR 2
7680: NONEQUAL
7681: AND
7682: IFFALSE 7742
// if not Side_Teams [ i ] or ( Side_Teams [ i ] <> Side_Teams [ your_side ] ) then
7684: LD_EXP 34
7688: PUSH
7689: LD_VAR 0 1
7693: ARRAY
7694: NOT
7695: PUSH
7696: LD_EXP 34
7700: PUSH
7701: LD_VAR 0 1
7705: ARRAY
7706: PUSH
7707: LD_EXP 34
7711: PUSH
7712: LD_OWVAR 2
7716: ARRAY
7717: NONEQUAL
7718: OR
7719: IFFALSE 7742
// if HasPower ( i ) then
7721: LD_VAR 0 1
7725: PPUSH
7726: CALL 7300 0 1
7730: IFFALSE 7742
// begin CanWin := false ;
7732: LD_ADDR_VAR 0 2
7736: PUSH
7737: LD_INT 0
7739: ST_TO_ADDR
// break ;
7740: GO 7744
// end ;
7742: GO 7646
7744: POP
7745: POP
// if CanWin then
7746: LD_VAR 0 2
7750: IFFALSE 7757
// enable ( 401 ) else
7752: LD_INT 401
7754: ENABLE_MARKED
7755: GO 7758
// enable ;
7757: ENABLE
// end ; end ;
7758: PPOPN 2
7760: END
// every 0 0$3 marked 99 do var i , CanWin ;
7761: GO 7763
7763: DISABLE
7764: LD_INT 0
7766: PPUSH
7767: PPUSH
// begin if not HasPower ( your_side ) then
7768: LD_OWVAR 2
7772: PPUSH
7773: CALL 7300 0 1
7777: NOT
7778: IFFALSE 7789
// begin Multiplayer_Loose_Message ;
7780: CALL_OW 521
// enable ( 400 ) ;
7784: LD_INT 400
7786: ENABLE_MARKED
// end else
7787: GO 7902
// begin CanWin := true ;
7789: LD_ADDR_VAR 0 2
7793: PUSH
7794: LD_INT 1
7796: ST_TO_ADDR
// for i := 1 to 8 do
7797: LD_ADDR_VAR 0 1
7801: PUSH
7802: DOUBLE
7803: LD_INT 1
7805: DEC
7806: ST_TO_ADDR
7807: LD_INT 8
7809: PUSH
7810: FOR_TO
7811: IFFALSE 7888
// if Side_Positions [ i ] and MultiplayerSideAlive ( i ) and ( i <> your_side ) then
7813: LD_EXP 36
7817: PUSH
7818: LD_VAR 0 1
7822: ARRAY
7823: PUSH
7824: LD_VAR 0 1
7828: PPUSH
7829: CALL_OW 108
7833: AND
7834: PUSH
7835: LD_VAR 0 1
7839: PUSH
7840: LD_OWVAR 2
7844: NONEQUAL
7845: AND
7846: IFFALSE 7886
// if not AlliedSides ( i , your_side ) then
7848: LD_VAR 0 1
7852: PPUSH
7853: LD_OWVAR 2
7857: PPUSH
7858: CALL 7468 0 2
7862: NOT
7863: IFFALSE 7886
// if HasPower ( i ) then
7865: LD_VAR 0 1
7869: PPUSH
7870: CALL 7300 0 1
7874: IFFALSE 7886
// begin CanWin := false ;
7876: LD_ADDR_VAR 0 2
7880: PUSH
7881: LD_INT 0
7883: ST_TO_ADDR
// break ;
7884: GO 7888
// end ;
7886: GO 7810
7888: POP
7889: POP
// if CanWin then
7890: LD_VAR 0 2
7894: IFFALSE 7901
// enable ( 401 ) else
7896: LD_INT 401
7898: ENABLE_MARKED
7899: GO 7902
// enable ;
7901: ENABLE
// end ; end ; end_of_file
7902: PPOPN 2
7904: END
// every 0 0$1 marked 100 do var i , base , pom , filter , sib_mined ;
7905: GO 7907
7907: DISABLE
7908: LD_INT 0
7910: PPUSH
7911: PPUSH
7912: PPUSH
7913: PPUSH
7914: PPUSH
// begin sib_mined := [ ] ;
7915: LD_ADDR_VAR 0 5
7919: PUSH
7920: EMPTY
7921: ST_TO_ADDR
// for i := 1 to 8 do
7922: LD_ADDR_VAR 0 1
7926: PUSH
7927: DOUBLE
7928: LD_INT 1
7930: DEC
7931: ST_TO_ADDR
7932: LD_INT 8
7934: PUSH
7935: FOR_TO
7936: IFFALSE 8092
// if Side_Positions [ i ] then
7938: LD_EXP 36
7942: PUSH
7943: LD_VAR 0 1
7947: ARRAY
7948: IFFALSE 8076
// begin filter := FilterAllUnits ( [ [ f_side , i ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) ;
7950: LD_ADDR_VAR 0 4
7954: PUSH
7955: LD_INT 22
7957: PUSH
7958: LD_VAR 0 1
7962: PUSH
7963: EMPTY
7964: LIST
7965: LIST
7966: PUSH
7967: LD_INT 2
7969: PUSH
7970: LD_INT 30
7972: PUSH
7973: LD_INT 0
7975: PUSH
7976: EMPTY
7977: LIST
7978: LIST
7979: PUSH
7980: LD_INT 30
7982: PUSH
7983: LD_INT 1
7985: PUSH
7986: EMPTY
7987: LIST
7988: LIST
7989: PUSH
7990: EMPTY
7991: LIST
7992: LIST
7993: LIST
7994: PUSH
7995: EMPTY
7996: LIST
7997: LIST
7998: PPUSH
7999: CALL_OW 69
8003: ST_TO_ADDR
// pom := 0 ;
8004: LD_ADDR_VAR 0 3
8008: PUSH
8009: LD_INT 0
8011: ST_TO_ADDR
// for base in filter do
8012: LD_ADDR_VAR 0 2
8016: PUSH
8017: LD_VAR 0 4
8021: PUSH
8022: FOR_IN
8023: IFFALSE 8056
// pom := pom + GetResourceType ( GetBase ( base ) , mat_siberit ) ;
8025: LD_ADDR_VAR 0 3
8029: PUSH
8030: LD_VAR 0 3
8034: PUSH
8035: LD_VAR 0 2
8039: PPUSH
8040: CALL_OW 274
8044: PPUSH
8045: LD_INT 3
8047: PPUSH
8048: CALL_OW 275
8052: PLUS
8053: ST_TO_ADDR
8054: GO 8022
8056: POP
8057: POP
// sib_mined := sib_mined ^ pom ;
8058: LD_ADDR_VAR 0 5
8062: PUSH
8063: LD_VAR 0 5
8067: PUSH
8068: LD_VAR 0 3
8072: ADD
8073: ST_TO_ADDR
// end else
8074: GO 8090
// sib_mined := sib_mined ^ 0 ;
8076: LD_ADDR_VAR 0 5
8080: PUSH
8081: LD_VAR 0 5
8085: PUSH
8086: LD_INT 0
8088: ADD
8089: ST_TO_ADDR
8090: GO 7935
8092: POP
8093: POP
// if not def_public_score then
8094: LD_EXP 14
8098: NOT
8099: IFFALSE 8189
// begin ExtraStrings := [ ] ;
8101: LD_ADDR_EXP 56
8105: PUSH
8106: EMPTY
8107: ST_TO_ADDR
// for i := 1 to 8 do
8108: LD_ADDR_VAR 0 1
8112: PUSH
8113: DOUBLE
8114: LD_INT 1
8116: DEC
8117: ST_TO_ADDR
8118: LD_INT 8
8120: PUSH
8121: FOR_TO
8122: IFFALSE 8185
// if Side_Positions [ i ] then
8124: LD_EXP 36
8128: PUSH
8129: LD_VAR 0 1
8133: ARRAY
8134: IFFALSE 8183
// ExtraStrings := ExtraStrings ^ [ #AlienBase-MinedPublic , i , i , sib_mined [ i ] , amount_of_siberit ] ;
8136: LD_ADDR_EXP 56
8140: PUSH
8141: LD_EXP 56
8145: PUSH
8146: LD_STRING #AlienBase-MinedPublic
8148: PUSH
8149: LD_VAR 0 1
8153: PUSH
8154: LD_VAR 0 1
8158: PUSH
8159: LD_VAR 0 5
8163: PUSH
8164: LD_VAR 0 1
8168: ARRAY
8169: PUSH
8170: LD_EXP 30
8174: PUSH
8175: EMPTY
8176: LIST
8177: LIST
8178: LIST
8179: LIST
8180: LIST
8181: ADD
8182: ST_TO_ADDR
8183: GO 8121
8185: POP
8186: POP
// end else
8187: GO 8218
// ExtraStrings := [ #AlienBase-Mined , sib_mined [ Your_Side ] , amount_of_siberit ] ;
8189: LD_ADDR_EXP 56
8193: PUSH
8194: LD_STRING #AlienBase-Mined
8196: PUSH
8197: LD_VAR 0 5
8201: PUSH
8202: LD_OWVAR 2
8206: ARRAY
8207: PUSH
8208: LD_EXP 30
8212: PUSH
8213: EMPTY
8214: LIST
8215: LIST
8216: LIST
8217: ST_TO_ADDR
// for i := 1 to 8 do
8218: LD_ADDR_VAR 0 1
8222: PUSH
8223: DOUBLE
8224: LD_INT 1
8226: DEC
8227: ST_TO_ADDR
8228: LD_INT 8
8230: PUSH
8231: FOR_TO
8232: IFFALSE 8289
// if sib_mined [ i ] >= amount_of_siberit then
8234: LD_VAR 0 5
8238: PUSH
8239: LD_VAR 0 1
8243: ARRAY
8244: PUSH
8245: LD_EXP 30
8249: GREATEREQUAL
8250: IFFALSE 8287
// begin wait ( 0 0$1 ) ;
8252: LD_INT 35
8254: PPUSH
8255: CALL_OW 67
// if sib_mined [ your_side ] >= amount_of_siberit then
8259: LD_VAR 0 5
8263: PUSH
8264: LD_OWVAR 2
8268: ARRAY
8269: PUSH
8270: LD_EXP 30
8274: GREATEREQUAL
8275: IFFALSE 8283
// YouWinInMultiplayer else
8277: CALL_OW 106
8281: GO 8287
// YouLostInMultiplayer ;
8283: CALL_OW 107
// end ;
8287: GO 8231
8289: POP
8290: POP
// enable ;
8291: ENABLE
// end ; end_of_file
8292: PPOPN 5
8294: END
// var strength , lastxwin , lastywin , lastxlost , lastylost ; function Update_Flags ; var un ; begin
8295: LD_INT 0
8297: PPUSH
8298: PPUSH
// for un in battle_flags_id do
8299: LD_ADDR_VAR 0 2
8303: PUSH
8304: LD_EXP 46
8308: PUSH
8309: FOR_IN
8310: IFFALSE 8385
// ChangeBattleFlagOptions ( un , [ [ bfo_defend_bonus_human , strength ] , [ bfo_defend_bonus_vehicle , strength div 2 ] , [ bfo_defend_bonus_building , strength div 5 ] , [ bfo_height , strength ] ] ) ;
8312: LD_VAR 0 2
8316: PPUSH
8317: LD_INT 1
8319: PUSH
8320: LD_LOC 9
8324: PUSH
8325: EMPTY
8326: LIST
8327: LIST
8328: PUSH
8329: LD_INT 2
8331: PUSH
8332: LD_LOC 9
8336: PUSH
8337: LD_INT 2
8339: DIV
8340: PUSH
8341: EMPTY
8342: LIST
8343: LIST
8344: PUSH
8345: LD_INT 3
8347: PUSH
8348: LD_LOC 9
8352: PUSH
8353: LD_INT 5
8355: DIV
8356: PUSH
8357: EMPTY
8358: LIST
8359: LIST
8360: PUSH
8361: LD_INT 20
8363: PUSH
8364: LD_LOC 9
8368: PUSH
8369: EMPTY
8370: LIST
8371: LIST
8372: PUSH
8373: EMPTY
8374: LIST
8375: LIST
8376: LIST
8377: LIST
8378: PPUSH
8379: CALL_OW 423
8383: GO 8309
8385: POP
8386: POP
// end ;
8387: LD_VAR 0 1
8391: RET
// every 1 do var un ;
8392: GO 8394
8394: DISABLE
8395: LD_INT 0
8397: PPUSH
// begin if not def_morale_flags then
8398: LD_EXP 9
8402: NOT
8403: IFFALSE 8407
// exit ;
8405: GO 8484
// if not morale_decreasing_time then
8407: LD_EXP 28
8411: NOT
8412: IFFALSE 8416
// exit ;
8414: GO 8484
// strength = 100 ;
8416: LD_ADDR_LOC 9
8420: PUSH
8421: LD_INT 100
8423: ST_TO_ADDR
// repeat wait ( morale_decreasing_time ) ;
8424: LD_EXP 28
8428: PPUSH
8429: CALL_OW 67
// strength := strength - 1 ;
8433: LD_ADDR_LOC 9
8437: PUSH
8438: LD_LOC 9
8442: PUSH
8443: LD_INT 1
8445: MINUS
8446: ST_TO_ADDR
// Update_Flags ;
8447: CALL 8295 0 0
// until not strength ;
8451: LD_LOC 9
8455: NOT
8456: IFFALSE 8424
// for un in battle_flags_id do
8458: LD_ADDR_VAR 0 1
8462: PUSH
8463: LD_EXP 46
8467: PUSH
8468: FOR_IN
8469: IFFALSE 8482
// KillBattleFlag ( un ) ;
8471: LD_VAR 0 1
8475: PPUSH
8476: CALL_OW 419
8480: GO 8468
8482: POP
8483: POP
// end ; end_of_file
8484: PPOPN 1
8486: END
// var BloodGods , BloodGods_LastKills , BloodGods_CurrentKills , BloodGods_Positions ; every 0 0$3 marked 200 do var x ;
8487: GO 8489
8489: DISABLE
8490: LD_INT 0
8492: PPUSH
// begin enable ;
8493: ENABLE
// for x := 1 to 8 do
8494: LD_ADDR_VAR 0 1
8498: PUSH
8499: DOUBLE
8500: LD_INT 1
8502: DEC
8503: ST_TO_ADDR
8504: LD_INT 8
8506: PUSH
8507: FOR_TO
8508: IFFALSE 8592
// if ( BloodGods_CurrentKills [ x ] > 5 ) and ( BloodGods [ x ] = - 1 ) then
8510: LD_LOC 16
8514: PUSH
8515: LD_VAR 0 1
8519: ARRAY
8520: PUSH
8521: LD_INT 5
8523: GREATER
8524: PUSH
8525: LD_LOC 14
8529: PUSH
8530: LD_VAR 0 1
8534: ARRAY
8535: PUSH
8536: LD_INT 1
8538: NEG
8539: EQUAL
8540: AND
8541: IFFALSE 8590
// begin BloodGods_LastKills := Replace ( BloodGods_LastKills , x , BloodGods_LastKills [ x ] + 6 ) ;
8543: LD_ADDR_LOC 15
8547: PUSH
8548: LD_LOC 15
8552: PPUSH
8553: LD_VAR 0 1
8557: PPUSH
8558: LD_LOC 15
8562: PUSH
8563: LD_VAR 0 1
8567: ARRAY
8568: PUSH
8569: LD_INT 6
8571: PLUS
8572: PPUSH
8573: CALL_OW 1
8577: ST_TO_ADDR
// AwakenBloodGod ( x , false ) ;
8578: LD_VAR 0 1
8582: PPUSH
8583: LD_INT 0
8585: PPUSH
8586: CALL 8764 0 2
// end ;
8590: GO 8507
8592: POP
8593: POP
// end ;
8594: PPOPN 1
8596: END
// every 0 0$1 marked 200 do var BGL , x ;
8597: GO 8599
8599: DISABLE
8600: LD_INT 0
8602: PPUSH
8603: PPUSH
// begin enable ;
8604: ENABLE
// for x := 1 to 8 do
8605: LD_ADDR_VAR 0 2
8609: PUSH
8610: DOUBLE
8611: LD_INT 1
8613: DEC
8614: ST_TO_ADDR
8615: LD_INT 8
8617: PUSH
8618: FOR_TO
8619: IFFALSE 8750
// if ( BloodGods [ x ] > - 1 ) and IsLive ( BloodGods [ x ] ) then
8621: LD_LOC 14
8625: PUSH
8626: LD_VAR 0 2
8630: ARRAY
8631: PUSH
8632: LD_INT 1
8634: NEG
8635: GREATER
8636: PUSH
8637: LD_LOC 14
8641: PUSH
8642: LD_VAR 0 2
8646: ARRAY
8647: PPUSH
8648: CALL_OW 300
8652: AND
8653: IFFALSE 8748
// begin BGL := GetLives ( BloodGods [ x ] ) ;
8655: LD_ADDR_VAR 0 1
8659: PUSH
8660: LD_LOC 14
8664: PUSH
8665: LD_VAR 0 2
8669: ARRAY
8670: PPUSH
8671: CALL_OW 256
8675: ST_TO_ADDR
// if ( BGL < 1000 ) and ( BGL > 100 ) then
8676: LD_VAR 0 1
8680: PUSH
8681: LD_INT 1000
8683: LESS
8684: PUSH
8685: LD_VAR 0 1
8689: PUSH
8690: LD_INT 100
8692: GREATER
8693: AND
8694: IFFALSE 8748
// begin BGL := BGL + 10 ;
8696: LD_ADDR_VAR 0 1
8700: PUSH
8701: LD_VAR 0 1
8705: PUSH
8706: LD_INT 10
8708: PLUS
8709: ST_TO_ADDR
// if BGL > 1000 then
8710: LD_VAR 0 1
8714: PUSH
8715: LD_INT 1000
8717: GREATER
8718: IFFALSE 8728
// BGL := 1000 ;
8720: LD_ADDR_VAR 0 1
8724: PUSH
8725: LD_INT 1000
8727: ST_TO_ADDR
// SetLives ( BloodGods [ x ] , BGL ) ;
8728: LD_LOC 14
8732: PUSH
8733: LD_VAR 0 2
8737: ARRAY
8738: PPUSH
8739: LD_VAR 0 1
8743: PPUSH
8744: CALL_OW 234
// end ; end ;
8748: GO 8618
8750: POP
8751: POP
// end ;
8752: PPOPN 2
8754: END
// every 0 0$1 marked 200 do
8755: GO 8757
8757: DISABLE
// begin DisplayTimeWithKills ;
8758: CALL 9005 0 0
// enable ;
8762: ENABLE
// end ;
8763: END
// function AwakenBloodGod ( side , NoDialog ) ; begin
8764: LD_INT 0
8766: PPUSH
// uc_direction := Rand ( 0 , 5 ) ;
8767: LD_ADDR_OWVAR 24
8771: PUSH
8772: LD_INT 0
8774: PPUSH
8775: LD_INT 5
8777: PPUSH
8778: CALL_OW 12
8782: ST_TO_ADDR
// PrepareHuman ( 1 , class_soldier , 15 ) ;
8783: LD_INT 1
8785: PPUSH
8786: LD_INT 1
8788: PPUSH
8789: LD_INT 15
8791: PPUSH
8792: CALL_OW 380
// hc_importance := 106 ;
8796: LD_ADDR_OWVAR 32
8800: PUSH
8801: LD_INT 106
8803: ST_TO_ADDR
// hc_name := Blood God of  & mp_sides_players_names [ side ] ;
8804: LD_ADDR_OWVAR 26
8808: PUSH
8809: LD_STRING Blood God of 
8811: PUSH
8812: LD_OWVAR 19
8816: PUSH
8817: LD_VAR 0 1
8821: ARRAY
8822: STR
8823: ST_TO_ADDR
// uc_nation := Side_Nations [ side ] ;
8824: LD_ADDR_OWVAR 21
8828: PUSH
8829: LD_EXP 37
8833: PUSH
8834: LD_VAR 0 1
8838: ARRAY
8839: ST_TO_ADDR
// uc_side := side ;
8840: LD_ADDR_OWVAR 20
8844: PUSH
8845: LD_VAR 0 1
8849: ST_TO_ADDR
// hc_noskilllimit := true ;
8850: LD_ADDR_OWVAR 76
8854: PUSH
8855: LD_INT 1
8857: ST_TO_ADDR
// hc_agressivity := 50 ;
8858: LD_ADDR_OWVAR 35
8862: PUSH
8863: LD_INT 50
8865: ST_TO_ADDR
// BloodGods := Replace ( BloodGods , Side , CreateHuman ) ;
8866: LD_ADDR_LOC 14
8870: PUSH
8871: LD_LOC 14
8875: PPUSH
8876: LD_VAR 0 1
8880: PPUSH
8881: CALL_OW 44
8885: PPUSH
8886: CALL_OW 1
8890: ST_TO_ADDR
// PlaceUnitXYR ( BloodGods [ side ] , BloodGods_Positions [ Side_Positions [ side ] ] [ 1 ] , BloodGods_Positions [ Side_Positions [ side ] ] [ 2 ] , 10 , false ) ;
8891: LD_LOC 14
8895: PUSH
8896: LD_VAR 0 1
8900: ARRAY
8901: PPUSH
8902: LD_LOC 17
8906: PUSH
8907: LD_EXP 36
8911: PUSH
8912: LD_VAR 0 1
8916: ARRAY
8917: ARRAY
8918: PUSH
8919: LD_INT 1
8921: ARRAY
8922: PPUSH
8923: LD_LOC 17
8927: PUSH
8928: LD_EXP 36
8932: PUSH
8933: LD_VAR 0 1
8937: ARRAY
8938: ARRAY
8939: PUSH
8940: LD_INT 2
8942: ARRAY
8943: PPUSH
8944: LD_INT 10
8946: PPUSH
8947: LD_INT 0
8949: PPUSH
8950: CALL_OW 50
// SetAttr ( BloodGods [ side ] , attr_stamina , 300 ) ;
8954: LD_LOC 14
8958: PUSH
8959: LD_VAR 0 1
8963: ARRAY
8964: PPUSH
8965: LD_INT 1
8967: PPUSH
8968: LD_INT 300
8970: PPUSH
8971: CALL_OW 239
// if not NoDialog then
8975: LD_VAR 0 2
8979: NOT
8980: IFFALSE 9000
// SayRadio ( BloodGods [ side ] , DLAwaken ) ;
8982: LD_LOC 14
8986: PUSH
8987: LD_VAR 0 1
8991: ARRAY
8992: PPUSH
8993: LD_STRING DLAwaken
8995: PPUSH
8996: CALL_OW 94
// end ;
9000: LD_VAR 0 3
9004: RET
// function DisplayTimeWithKills ; var x ; begin
9005: LD_INT 0
9007: PPUSH
9008: PPUSH
// ExtraStrings :=  ;
9009: LD_ADDR_EXP 56
9013: PUSH
9014: LD_STRING 
9016: ST_TO_ADDR
// for x = 1 to Side_Positions do
9017: LD_ADDR_VAR 0 2
9021: PUSH
9022: DOUBLE
9023: LD_INT 1
9025: DEC
9026: ST_TO_ADDR
9027: LD_EXP 36
9031: PUSH
9032: FOR_TO
9033: IFFALSE 9266
// if Side_Positions [ x ] then
9035: LD_EXP 36
9039: PUSH
9040: LD_VAR 0 2
9044: ARRAY
9045: IFFALSE 9264
// begin BloodGods_CurrentKills := Replace ( BloodGods_CurrentKills , x , GetHumansKilled ( x ) - BloodGods_LastKills [ x ] ) ;
9047: LD_ADDR_LOC 16
9051: PUSH
9052: LD_LOC 16
9056: PPUSH
9057: LD_VAR 0 2
9061: PPUSH
9062: LD_VAR 0 2
9066: PPUSH
9067: CALL_OW 515
9071: PUSH
9072: LD_LOC 15
9076: PUSH
9077: LD_VAR 0 2
9081: ARRAY
9082: MINUS
9083: PPUSH
9084: CALL_OW 1
9088: ST_TO_ADDR
// if ( BloodGods [ x ] > - 1 ) and ( IsLive ( BloodGods [ x ] ) ) then
9089: LD_LOC 14
9093: PUSH
9094: LD_VAR 0 2
9098: ARRAY
9099: PUSH
9100: LD_INT 1
9102: NEG
9103: GREATER
9104: PUSH
9105: LD_LOC 14
9109: PUSH
9110: LD_VAR 0 2
9114: ARRAY
9115: PPUSH
9116: CALL_OW 300
9120: AND
9121: IFFALSE 9154
// ExtraStrings = ExtraStrings ^ [ #godawoken , x , x ] else
9123: LD_ADDR_EXP 56
9127: PUSH
9128: LD_EXP 56
9132: PUSH
9133: LD_STRING #godawoken
9135: PUSH
9136: LD_VAR 0 2
9140: PUSH
9141: LD_VAR 0 2
9145: PUSH
9146: EMPTY
9147: LIST
9148: LIST
9149: LIST
9150: ADD
9151: ST_TO_ADDR
9152: GO 9264
// if ( BloodGods [ x ] > - 1 ) and ( IsDead ( BloodGods [ x ] ) ) then
9154: LD_LOC 14
9158: PUSH
9159: LD_VAR 0 2
9163: ARRAY
9164: PUSH
9165: LD_INT 1
9167: NEG
9168: GREATER
9169: PUSH
9170: LD_LOC 14
9174: PUSH
9175: LD_VAR 0 2
9179: ARRAY
9180: PPUSH
9181: CALL_OW 301
9185: AND
9186: IFFALSE 9219
// ExtraStrings = ExtraStrings ^ [ #goddied , x , x ] else
9188: LD_ADDR_EXP 56
9192: PUSH
9193: LD_EXP 56
9197: PUSH
9198: LD_STRING #goddied
9200: PUSH
9201: LD_VAR 0 2
9205: PUSH
9206: LD_VAR 0 2
9210: PUSH
9211: EMPTY
9212: LIST
9213: LIST
9214: LIST
9215: ADD
9216: ST_TO_ADDR
9217: GO 9264
// ExtraStrings = ExtraStrings ^ [ #godssacrifise , x , x , BloodGods_CurrentKills [ x ] , 6 ] end ;
9219: LD_ADDR_EXP 56
9223: PUSH
9224: LD_EXP 56
9228: PUSH
9229: LD_STRING #godssacrifise
9231: PUSH
9232: LD_VAR 0 2
9236: PUSH
9237: LD_VAR 0 2
9241: PUSH
9242: LD_LOC 16
9246: PUSH
9247: LD_VAR 0 2
9251: ARRAY
9252: PUSH
9253: LD_INT 6
9255: PUSH
9256: EMPTY
9257: LIST
9258: LIST
9259: LIST
9260: LIST
9261: LIST
9262: ADD
9263: ST_TO_ADDR
9264: GO 9032
9266: POP
9267: POP
// end ;
9268: LD_VAR 0 1
9272: RET
// export function InitBloodGods ; begin
9273: LD_INT 0
9275: PPUSH
// BloodGods = [ - 1 , - 1 , - 1 , - 1 , - 1 , - 1 , - 1 , - 1 ] ;
9276: LD_ADDR_LOC 14
9280: PUSH
9281: LD_INT 1
9283: NEG
9284: PUSH
9285: LD_INT 1
9287: NEG
9288: PUSH
9289: LD_INT 1
9291: NEG
9292: PUSH
9293: LD_INT 1
9295: NEG
9296: PUSH
9297: LD_INT 1
9299: NEG
9300: PUSH
9301: LD_INT 1
9303: NEG
9304: PUSH
9305: LD_INT 1
9307: NEG
9308: PUSH
9309: LD_INT 1
9311: NEG
9312: PUSH
9313: EMPTY
9314: LIST
9315: LIST
9316: LIST
9317: LIST
9318: LIST
9319: LIST
9320: LIST
9321: LIST
9322: ST_TO_ADDR
// BloodGods_LastKills = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
9323: LD_ADDR_LOC 15
9327: PUSH
9328: LD_INT 0
9330: PUSH
9331: LD_INT 0
9333: PUSH
9334: LD_INT 0
9336: PUSH
9337: LD_INT 0
9339: PUSH
9340: LD_INT 0
9342: PUSH
9343: LD_INT 0
9345: PUSH
9346: LD_INT 0
9348: PUSH
9349: LD_INT 0
9351: PUSH
9352: EMPTY
9353: LIST
9354: LIST
9355: LIST
9356: LIST
9357: LIST
9358: LIST
9359: LIST
9360: LIST
9361: ST_TO_ADDR
// BloodGods_CurrentKills = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
9362: LD_ADDR_LOC 16
9366: PUSH
9367: LD_INT 0
9369: PUSH
9370: LD_INT 0
9372: PUSH
9373: LD_INT 0
9375: PUSH
9376: LD_INT 0
9378: PUSH
9379: LD_INT 0
9381: PUSH
9382: LD_INT 0
9384: PUSH
9385: LD_INT 0
9387: PUSH
9388: LD_INT 0
9390: PUSH
9391: EMPTY
9392: LIST
9393: LIST
9394: LIST
9395: LIST
9396: LIST
9397: LIST
9398: LIST
9399: LIST
9400: ST_TO_ADDR
// BloodGods_Positions = [ [ 60 , 47 ] , [ 82 , 26 ] , [ 124 , 45 ] , [ 147 , 90 ] , [ 126 , 112 ] , [ 84 , 92 ] , [ 106 , 73 ] , [ 106 , 73 ] ] ;
9401: LD_ADDR_LOC 17
9405: PUSH
9406: LD_INT 60
9408: PUSH
9409: LD_INT 47
9411: PUSH
9412: EMPTY
9413: LIST
9414: LIST
9415: PUSH
9416: LD_INT 82
9418: PUSH
9419: LD_INT 26
9421: PUSH
9422: EMPTY
9423: LIST
9424: LIST
9425: PUSH
9426: LD_INT 124
9428: PUSH
9429: LD_INT 45
9431: PUSH
9432: EMPTY
9433: LIST
9434: LIST
9435: PUSH
9436: LD_INT 147
9438: PUSH
9439: LD_INT 90
9441: PUSH
9442: EMPTY
9443: LIST
9444: LIST
9445: PUSH
9446: LD_INT 126
9448: PUSH
9449: LD_INT 112
9451: PUSH
9452: EMPTY
9453: LIST
9454: LIST
9455: PUSH
9456: LD_INT 84
9458: PUSH
9459: LD_INT 92
9461: PUSH
9462: EMPTY
9463: LIST
9464: LIST
9465: PUSH
9466: LD_INT 106
9468: PUSH
9469: LD_INT 73
9471: PUSH
9472: EMPTY
9473: LIST
9474: LIST
9475: PUSH
9476: LD_INT 106
9478: PUSH
9479: LD_INT 73
9481: PUSH
9482: EMPTY
9483: LIST
9484: LIST
9485: PUSH
9486: EMPTY
9487: LIST
9488: LIST
9489: LIST
9490: LIST
9491: LIST
9492: LIST
9493: LIST
9494: LIST
9495: ST_TO_ADDR
// ClearHumansKilled ;
9496: CALL_OW 516
// enable ( 200 ) ;
9500: LD_INT 200
9502: ENABLE_MARKED
// end ; end_of_file
9503: LD_VAR 0 1
9507: RET
// export ExtraStrings ; export function ShowTimer ; var AllStrings ; begin
9508: LD_INT 0
9510: PPUSH
9511: PPUSH
// AllStrings := [ #Multi1x1-Time , tick ] ;
9512: LD_ADDR_VAR 0 2
9516: PUSH
9517: LD_STRING #Multi1x1-Time
9519: PUSH
9520: LD_OWVAR 1
9524: PUSH
9525: EMPTY
9526: LIST
9527: LIST
9528: ST_TO_ADDR
// if 0 <= siberite_bomb_Delay - tick then
9529: LD_INT 0
9531: PUSH
9532: LD_EXP 33
9536: PUSH
9537: LD_OWVAR 1
9541: MINUS
9542: LESSEQUAL
9543: IFFALSE 9574
// AllStrings := AllStrings ^ [ #allowedsibbomb , siberite_bomb_Delay - tick ] ;
9545: LD_ADDR_VAR 0 2
9549: PUSH
9550: LD_VAR 0 2
9554: PUSH
9555: LD_STRING #allowedsibbomb
9557: PUSH
9558: LD_EXP 33
9562: PUSH
9563: LD_OWVAR 1
9567: MINUS
9568: PUSH
9569: EMPTY
9570: LIST
9571: LIST
9572: ADD
9573: ST_TO_ADDR
// if 0 <= buildUpTime_Delay - tick then
9574: LD_INT 0
9576: PUSH
9577: LD_EXP 59
9581: PUSH
9582: LD_OWVAR 1
9586: MINUS
9587: LESSEQUAL
9588: IFFALSE 9619
// AllStrings := AllStrings ^ [ #builduptime , buildUpTime_Delay - tick ] ;
9590: LD_ADDR_VAR 0 2
9594: PUSH
9595: LD_VAR 0 2
9599: PUSH
9600: LD_STRING #builduptime
9602: PUSH
9603: LD_EXP 59
9607: PUSH
9608: LD_OWVAR 1
9612: MINUS
9613: PUSH
9614: EMPTY
9615: LIST
9616: LIST
9617: ADD
9618: ST_TO_ADDR
// if ( ExtraStrings ) then
9619: LD_EXP 56
9623: IFFALSE 9645
// AllStrings := AllStrings ^  ^ ExtraStrings ;
9625: LD_ADDR_VAR 0 2
9629: PUSH
9630: LD_VAR 0 2
9634: PUSH
9635: LD_STRING 
9637: ADD
9638: PUSH
9639: LD_EXP 56
9643: ADD
9644: ST_TO_ADDR
// Display_Strings := AllStrings ;
9645: LD_ADDR_OWVAR 47
9649: PUSH
9650: LD_VAR 0 2
9654: ST_TO_ADDR
// end ;
9655: LD_VAR 0 1
9659: RET
// every 0 0$1 do
9660: GO 9662
9662: DISABLE
// begin ShowTimer ;
9663: CALL 9508 0 0
// enable ;
9667: ENABLE
// end ; end_of_file
9668: END
// export function SA_OnSiberiteRocketExploded ( siberite_rocket_vehicle , target_x , target_y , requestSide ) ; begin
9669: LD_INT 0
9671: PPUSH
// if GetSide ( siberite_rocket_vehicle ) = requestSide then
9672: LD_VAR 0 1
9676: PPUSH
9677: CALL_OW 255
9681: PUSH
9682: LD_VAR 0 4
9686: EQUAL
9687: IFFALSE 9706
// begin SetAchievement ( ACH_RAD ) ;
9689: LD_STRING ACH_RAD
9691: PPUSH
9692: CALL_OW 543
// SetAchievementEx ( ACH_NL , 1 ) ;
9696: LD_STRING ACH_NL
9698: PPUSH
9699: LD_INT 1
9701: PPUSH
9702: CALL_OW 564
// end end ;
9706: LD_VAR 0 5
9710: RET
// export function SA_Win ( side ) ; begin
9711: LD_INT 0
9713: PPUSH
// case side of 1 :
9714: LD_VAR 0 1
9718: PUSH
9719: LD_INT 1
9721: DOUBLE
9722: EQUAL
9723: IFTRUE 9727
9725: GO 9740
9727: POP
// SetAchievementEx ( ACH_AH , 1 ) ; 2 :
9728: LD_STRING ACH_AH
9730: PPUSH
9731: LD_INT 1
9733: PPUSH
9734: CALL_OW 564
9738: GO 9903
9740: LD_INT 2
9742: DOUBLE
9743: EQUAL
9744: IFTRUE 9748
9746: GO 9761
9748: POP
// SetAchievementEx ( ACH_E , 1 ) ; 3 :
9749: LD_STRING ACH_E
9751: PPUSH
9752: LD_INT 1
9754: PPUSH
9755: CALL_OW 564
9759: GO 9903
9761: LD_INT 3
9763: DOUBLE
9764: EQUAL
9765: IFTRUE 9769
9767: GO 9782
9769: POP
// SetAchievementEx ( ACH_OOL , 1 ) ; [ 1 , 2 ] :
9770: LD_STRING ACH_OOL
9772: PPUSH
9773: LD_INT 1
9775: PPUSH
9776: CALL_OW 564
9780: GO 9903
9782: LD_INT 1
9784: PUSH
9785: LD_INT 2
9787: PUSH
9788: EMPTY
9789: LIST
9790: LIST
9791: DOUBLE
9792: EQUAL
9793: IFTRUE 9797
9795: GO 9822
9797: POP
// begin SetAchievementEx ( ACH_AH , 0.5 ) ;
9798: LD_STRING ACH_AH
9800: PPUSH
9801: LD_REAL  5.00000000000000E-0001
9804: PPUSH
9805: CALL_OW 564
// SetAchievementEx ( ACH_E , 0.5 ) ;
9809: LD_STRING ACH_E
9811: PPUSH
9812: LD_REAL  5.00000000000000E-0001
9815: PPUSH
9816: CALL_OW 564
// end ; [ 2 , 3 ] :
9820: GO 9903
9822: LD_INT 2
9824: PUSH
9825: LD_INT 3
9827: PUSH
9828: EMPTY
9829: LIST
9830: LIST
9831: DOUBLE
9832: EQUAL
9833: IFTRUE 9837
9835: GO 9862
9837: POP
// begin SetAchievementEx ( ACH_OOL , 0.5 ) ;
9838: LD_STRING ACH_OOL
9840: PPUSH
9841: LD_REAL  5.00000000000000E-0001
9844: PPUSH
9845: CALL_OW 564
// SetAchievementEx ( ACH_E , 0.5 ) ;
9849: LD_STRING ACH_E
9851: PPUSH
9852: LD_REAL  5.00000000000000E-0001
9855: PPUSH
9856: CALL_OW 564
// end ; [ 3 , 1 ] :
9860: GO 9903
9862: LD_INT 3
9864: PUSH
9865: LD_INT 1
9867: PUSH
9868: EMPTY
9869: LIST
9870: LIST
9871: DOUBLE
9872: EQUAL
9873: IFTRUE 9877
9875: GO 9902
9877: POP
// begin SetAchievementEx ( ACH_AH , 0.5 ) ;
9878: LD_STRING ACH_AH
9880: PPUSH
9881: LD_REAL  5.00000000000000E-0001
9884: PPUSH
9885: CALL_OW 564
// SetAchievementEx ( ACH_OOL , 0.5 ) ;
9889: LD_STRING ACH_OOL
9891: PPUSH
9892: LD_REAL  5.00000000000000E-0001
9895: PPUSH
9896: CALL_OW 564
// end ; end ;
9900: GO 9903
9902: POP
// end ; end_of_file
9903: LD_VAR 0 2
9907: RET
// export function SetMpTechs ( ) ; var side , i ; begin
9908: LD_INT 0
9910: PPUSH
9911: PPUSH
9912: PPUSH
// for side = 1 to 8 do
9913: LD_ADDR_VAR 0 2
9917: PUSH
9918: DOUBLE
9919: LD_INT 1
9921: DEC
9922: ST_TO_ADDR
9923: LD_INT 8
9925: PUSH
9926: FOR_TO
9927: IFFALSE 10048
// begin for i = 1 to 72 do
9929: LD_ADDR_VAR 0 3
9933: PUSH
9934: DOUBLE
9935: LD_INT 1
9937: DEC
9938: ST_TO_ADDR
9939: LD_INT 72
9941: PUSH
9942: FOR_TO
9943: IFFALSE 9974
// SetTech ( i , side , GetRestrictions ( false , i ) ) ;
9945: LD_VAR 0 3
9949: PPUSH
9950: LD_VAR 0 2
9954: PPUSH
9955: LD_INT 0
9957: PPUSH
9958: LD_VAR 0 3
9962: PPUSH
9963: CALL_OW 565
9967: PPUSH
9968: CALL_OW 322
9972: GO 9942
9974: POP
9975: POP
// SetTech ( 73 , side , GetRestrictions ( false , 25 ) ) ;
9976: LD_INT 73
9978: PPUSH
9979: LD_VAR 0 2
9983: PPUSH
9984: LD_INT 0
9986: PPUSH
9987: LD_INT 25
9989: PPUSH
9990: CALL_OW 565
9994: PPUSH
9995: CALL_OW 322
// for i = 0 to 40 do
9999: LD_ADDR_VAR 0 3
10003: PUSH
10004: DOUBLE
10005: LD_INT 0
10007: DEC
10008: ST_TO_ADDR
10009: LD_INT 40
10011: PUSH
10012: FOR_TO
10013: IFFALSE 10044
// SetRestrict ( i , side , GetRestrictions ( true , i ) ) ;
10015: LD_VAR 0 3
10019: PPUSH
10020: LD_VAR 0 2
10024: PPUSH
10025: LD_INT 1
10027: PPUSH
10028: LD_VAR 0 3
10032: PPUSH
10033: CALL_OW 565
10037: PPUSH
10038: CALL_OW 324
10042: GO 10012
10044: POP
10045: POP
// end ;
10046: GO 9926
10048: POP
10049: POP
// end ;
10050: LD_VAR 0 1
10054: RET
// export function SetMpTechLevel ( level ) ; var side , i ; begin
10055: LD_INT 0
10057: PPUSH
10058: PPUSH
10059: PPUSH
// for side = 1 to 8 do
10060: LD_ADDR_VAR 0 3
10064: PUSH
10065: DOUBLE
10066: LD_INT 1
10068: DEC
10069: ST_TO_ADDR
10070: LD_INT 8
10072: PUSH
10073: FOR_TO
10074: IFFALSE 14070
// begin for i = 1 to 73 do
10076: LD_ADDR_VAR 0 4
10080: PUSH
10081: DOUBLE
10082: LD_INT 1
10084: DEC
10085: ST_TO_ADDR
10086: LD_INT 73
10088: PUSH
10089: FOR_TO
10090: IFFALSE 10111
// SetTech ( i , side , state_disabled ) ;
10092: LD_VAR 0 4
10096: PPUSH
10097: LD_VAR 0 3
10101: PPUSH
10102: LD_INT 0
10104: PPUSH
10105: CALL_OW 322
10109: GO 10089
10111: POP
10112: POP
// for i = 0 to 40 do
10113: LD_ADDR_VAR 0 4
10117: PUSH
10118: DOUBLE
10119: LD_INT 0
10121: DEC
10122: ST_TO_ADDR
10123: LD_INT 40
10125: PUSH
10126: FOR_TO
10127: IFFALSE 10148
// SetRestrict ( i , side , false ) ;
10129: LD_VAR 0 4
10133: PPUSH
10134: LD_VAR 0 3
10138: PPUSH
10139: LD_INT 0
10141: PPUSH
10142: CALL_OW 324
10146: GO 10126
10148: POP
10149: POP
// case level of 1 :
10150: LD_VAR 0 1
10154: PUSH
10155: LD_INT 1
10157: DOUBLE
10158: EQUAL
10159: IFTRUE 10163
10161: GO 10316
10163: POP
// begin SetTech ( tech_solpow , side , state_enabled ) ;
10164: LD_INT 35
10166: PPUSH
10167: LD_VAR 0 3
10171: PPUSH
10172: LD_INT 1
10174: PPUSH
10175: CALL_OW 322
// SetTech ( tech_soleng , side , state_enabled ) ;
10179: LD_INT 45
10181: PPUSH
10182: LD_VAR 0 3
10186: PPUSH
10187: LD_INT 1
10189: PPUSH
10190: CALL_OW 322
// SetTech ( tech_oilpow , side , state_enabled ) ;
10194: LD_INT 46
10196: PPUSH
10197: LD_VAR 0 3
10201: PPUSH
10202: LD_INT 1
10204: PPUSH
10205: CALL_OW 322
// SetTech ( tech_oileng , side , state_enabled ) ;
10209: LD_INT 47
10211: PPUSH
10212: LD_VAR 0 3
10216: PPUSH
10217: LD_INT 1
10219: PPUSH
10220: CALL_OW 322
// SetRestrict ( b_depot , side , true ) ;
10224: LD_INT 0
10226: PPUSH
10227: LD_VAR 0 3
10231: PPUSH
10232: LD_INT 1
10234: PPUSH
10235: CALL_OW 324
// SetRestrict ( b_workshop , side , true ) ;
10239: LD_INT 2
10241: PPUSH
10242: LD_VAR 0 3
10246: PPUSH
10247: LD_INT 1
10249: PPUSH
10250: CALL_OW 324
// SetRestrict ( b_armoury , side , true ) ;
10254: LD_INT 4
10256: PPUSH
10257: LD_VAR 0 3
10261: PPUSH
10262: LD_INT 1
10264: PPUSH
10265: CALL_OW 324
// SetRestrict ( b_lab , side , true ) ;
10269: LD_INT 6
10271: PPUSH
10272: LD_VAR 0 3
10276: PPUSH
10277: LD_INT 1
10279: PPUSH
10280: CALL_OW 324
// SetRestrict ( b_oil_mine , side , true ) ;
10284: LD_INT 29
10286: PPUSH
10287: LD_VAR 0 3
10291: PPUSH
10292: LD_INT 1
10294: PPUSH
10295: CALL_OW 324
// SetRestrict ( b_breastwork , side , true ) ;
10299: LD_INT 31
10301: PPUSH
10302: LD_VAR 0 3
10306: PPUSH
10307: LD_INT 1
10309: PPUSH
10310: CALL_OW 324
// end ; 2 :
10314: GO 14068
10316: LD_INT 2
10318: DOUBLE
10319: EQUAL
10320: IFTRUE 10324
10322: GO 10522
10324: POP
// begin SetTech ( tech_solpow , side , state_enabled ) ;
10325: LD_INT 35
10327: PPUSH
10328: LD_VAR 0 3
10332: PPUSH
10333: LD_INT 1
10335: PPUSH
10336: CALL_OW 322
// SetTech ( tech_soleng , side , state_enabled ) ;
10340: LD_INT 45
10342: PPUSH
10343: LD_VAR 0 3
10347: PPUSH
10348: LD_INT 1
10350: PPUSH
10351: CALL_OW 322
// SetTech ( tech_oilpow , side , state_enabled ) ;
10355: LD_INT 46
10357: PPUSH
10358: LD_VAR 0 3
10362: PPUSH
10363: LD_INT 1
10365: PPUSH
10366: CALL_OW 322
// SetTech ( tech_oileng , side , state_enabled ) ;
10370: LD_INT 47
10372: PPUSH
10373: LD_VAR 0 3
10377: PPUSH
10378: LD_INT 1
10380: PPUSH
10381: CALL_OW 322
// SetTech ( tech_apelang , side , state_enabled ) ;
10385: LD_INT 1
10387: PPUSH
10388: LD_VAR 0 3
10392: PPUSH
10393: LD_INT 1
10395: PPUSH
10396: CALL_OW 322
// SetTech ( tech_apepsych , side , state_enabled ) ;
10400: LD_INT 2
10402: PPUSH
10403: LD_VAR 0 3
10407: PPUSH
10408: LD_INT 1
10410: PPUSH
10411: CALL_OW 322
// SetTech ( tech_apeagres , side , state_enabled ) ;
10415: LD_INT 11
10417: PPUSH
10418: LD_VAR 0 3
10422: PPUSH
10423: LD_INT 1
10425: PPUSH
10426: CALL_OW 322
// SetRestrict ( b_depot , side , true ) ;
10430: LD_INT 0
10432: PPUSH
10433: LD_VAR 0 3
10437: PPUSH
10438: LD_INT 1
10440: PPUSH
10441: CALL_OW 324
// SetRestrict ( b_workshop , side , true ) ;
10445: LD_INT 2
10447: PPUSH
10448: LD_VAR 0 3
10452: PPUSH
10453: LD_INT 1
10455: PPUSH
10456: CALL_OW 324
// SetRestrict ( b_armoury , side , true ) ;
10460: LD_INT 4
10462: PPUSH
10463: LD_VAR 0 3
10467: PPUSH
10468: LD_INT 1
10470: PPUSH
10471: CALL_OW 324
// SetRestrict ( b_lab , side , true ) ;
10475: LD_INT 6
10477: PPUSH
10478: LD_VAR 0 3
10482: PPUSH
10483: LD_INT 1
10485: PPUSH
10486: CALL_OW 324
// SetRestrict ( b_oil_mine , side , true ) ;
10490: LD_INT 29
10492: PPUSH
10493: LD_VAR 0 3
10497: PPUSH
10498: LD_INT 1
10500: PPUSH
10501: CALL_OW 324
// SetRestrict ( b_breastwork , side , true ) ;
10505: LD_INT 31
10507: PPUSH
10508: LD_VAR 0 3
10512: PPUSH
10513: LD_INT 1
10515: PPUSH
10516: CALL_OW 324
// end ; 3 :
10520: GO 14068
10522: LD_INT 3
10524: DOUBLE
10525: EQUAL
10526: IFTRUE 10530
10528: GO 10983
10530: POP
// begin SetTech ( tech_solpow , side , state_enabled ) ;
10531: LD_INT 35
10533: PPUSH
10534: LD_VAR 0 3
10538: PPUSH
10539: LD_INT 1
10541: PPUSH
10542: CALL_OW 322
// SetTech ( tech_soleng , side , state_enabled ) ;
10546: LD_INT 45
10548: PPUSH
10549: LD_VAR 0 3
10553: PPUSH
10554: LD_INT 1
10556: PPUSH
10557: CALL_OW 322
// SetTech ( tech_oilpow , side , state_enabled ) ;
10561: LD_INT 46
10563: PPUSH
10564: LD_VAR 0 3
10568: PPUSH
10569: LD_INT 1
10571: PPUSH
10572: CALL_OW 322
// SetTech ( tech_oileng , side , state_enabled ) ;
10576: LD_INT 47
10578: PPUSH
10579: LD_VAR 0 3
10583: PPUSH
10584: LD_INT 1
10586: PPUSH
10587: CALL_OW 322
// SetTech ( tech_apelang , side , state_enabled ) ;
10591: LD_INT 1
10593: PPUSH
10594: LD_VAR 0 3
10598: PPUSH
10599: LD_INT 1
10601: PPUSH
10602: CALL_OW 322
// SetTech ( tech_apepsych , side , state_enabled ) ;
10606: LD_INT 2
10608: PPUSH
10609: LD_VAR 0 3
10613: PPUSH
10614: LD_INT 1
10616: PPUSH
10617: CALL_OW 322
// SetTech ( tech_apeagres , side , state_enabled ) ;
10621: LD_INT 11
10623: PPUSH
10624: LD_VAR 0 3
10628: PPUSH
10629: LD_INT 1
10631: PPUSH
10632: CALL_OW 322
// SetTech ( tech_tech1 , side , state_enabled ) ;
10636: LD_INT 48
10638: PPUSH
10639: LD_VAR 0 3
10643: PPUSH
10644: LD_INT 1
10646: PPUSH
10647: CALL_OW 322
// SetTech ( tech_gatling , side , state_enabled ) ;
10651: LD_INT 69
10653: PPUSH
10654: LD_VAR 0 3
10658: PPUSH
10659: LD_INT 1
10661: PPUSH
10662: CALL_OW 322
// SetTech ( tech_gun , side , state_enabled ) ;
10666: LD_INT 39
10668: PPUSH
10669: LD_VAR 0 3
10673: PPUSH
10674: LD_INT 1
10676: PPUSH
10677: CALL_OW 322
// SetTech ( tech_selfdest , side , state_enabled ) ;
10681: LD_INT 43
10683: PPUSH
10684: LD_VAR 0 3
10688: PPUSH
10689: LD_INT 1
10691: PPUSH
10692: CALL_OW 322
// SetTech ( tech_weap1 , side , state_enabled ) ;
10696: LD_INT 51
10698: PPUSH
10699: LD_VAR 0 3
10703: PPUSH
10704: LD_INT 1
10706: PPUSH
10707: CALL_OW 322
// SetTech ( tech_radar , side , state_enabled ) ;
10711: LD_INT 6
10713: PPUSH
10714: LD_VAR 0 3
10718: PPUSH
10719: LD_INT 1
10721: PPUSH
10722: CALL_OW 322
// SetRestrict ( b_depot , side , true ) ;
10726: LD_INT 0
10728: PPUSH
10729: LD_VAR 0 3
10733: PPUSH
10734: LD_INT 1
10736: PPUSH
10737: CALL_OW 324
// SetRestrict ( b_workshop , side , true ) ;
10741: LD_INT 2
10743: PPUSH
10744: LD_VAR 0 3
10748: PPUSH
10749: LD_INT 1
10751: PPUSH
10752: CALL_OW 324
// SetRestrict ( b_factory , side , true ) ;
10756: LD_INT 3
10758: PPUSH
10759: LD_VAR 0 3
10763: PPUSH
10764: LD_INT 1
10766: PPUSH
10767: CALL_OW 324
// SetRestrict ( b_armoury , side , true ) ;
10771: LD_INT 4
10773: PPUSH
10774: LD_VAR 0 3
10778: PPUSH
10779: LD_INT 1
10781: PPUSH
10782: CALL_OW 324
// SetRestrict ( b_lab , side , true ) ;
10786: LD_INT 6
10788: PPUSH
10789: LD_VAR 0 3
10793: PPUSH
10794: LD_INT 1
10796: PPUSH
10797: CALL_OW 324
// SetRestrict ( b_lab_half , side , true ) ;
10801: LD_INT 7
10803: PPUSH
10804: LD_VAR 0 3
10808: PPUSH
10809: LD_INT 1
10811: PPUSH
10812: CALL_OW 324
// SetRestrict ( b_lab_full , side , true ) ;
10816: LD_INT 8
10818: PPUSH
10819: LD_VAR 0 3
10823: PPUSH
10824: LD_INT 1
10826: PPUSH
10827: CALL_OW 324
// SetRestrict ( b_lab_weapon , side , true ) ;
10831: LD_INT 10
10833: PPUSH
10834: LD_VAR 0 3
10838: PPUSH
10839: LD_INT 1
10841: PPUSH
10842: CALL_OW 324
// SetRestrict ( b_lab_opto , side , true ) ;
10846: LD_INT 15
10848: PPUSH
10849: LD_VAR 0 3
10853: PPUSH
10854: LD_INT 1
10856: PPUSH
10857: CALL_OW 324
// SetRestrict ( b_ext_track , side , true ) ;
10861: LD_INT 16
10863: PPUSH
10864: LD_VAR 0 3
10868: PPUSH
10869: LD_INT 1
10871: PPUSH
10872: CALL_OW 324
// SetRestrict ( b_ext_gun , side , true ) ;
10876: LD_INT 17
10878: PPUSH
10879: LD_VAR 0 3
10883: PPUSH
10884: LD_INT 1
10886: PPUSH
10887: CALL_OW 324
// SetRestrict ( b_ext_radar , side , true ) ;
10891: LD_INT 20
10893: PPUSH
10894: LD_VAR 0 3
10898: PPUSH
10899: LD_INT 1
10901: PPUSH
10902: CALL_OW 324
// SetRestrict ( b_oil_power , side , true ) ;
10906: LD_INT 26
10908: PPUSH
10909: LD_VAR 0 3
10913: PPUSH
10914: LD_INT 1
10916: PPUSH
10917: CALL_OW 324
// SetRestrict ( b_solar_power , side , true ) ;
10921: LD_INT 27
10923: PPUSH
10924: LD_VAR 0 3
10928: PPUSH
10929: LD_INT 1
10931: PPUSH
10932: CALL_OW 324
// SetRestrict ( b_oil_mine , side , true ) ;
10936: LD_INT 29
10938: PPUSH
10939: LD_VAR 0 3
10943: PPUSH
10944: LD_INT 1
10946: PPUSH
10947: CALL_OW 324
// SetRestrict ( b_breastwork , side , true ) ;
10951: LD_INT 31
10953: PPUSH
10954: LD_VAR 0 3
10958: PPUSH
10959: LD_INT 1
10961: PPUSH
10962: CALL_OW 324
// SetRestrict ( b_bunker , side , true ) ;
10966: LD_INT 32
10968: PPUSH
10969: LD_VAR 0 3
10973: PPUSH
10974: LD_INT 1
10976: PPUSH
10977: CALL_OW 324
// end ; 4 :
10981: GO 14068
10983: LD_INT 4
10985: DOUBLE
10986: EQUAL
10987: IFTRUE 10991
10989: GO 11939
10991: POP
// begin SetTech ( tech_solpow , side , state_enabled ) ;
10992: LD_INT 35
10994: PPUSH
10995: LD_VAR 0 3
10999: PPUSH
11000: LD_INT 1
11002: PPUSH
11003: CALL_OW 322
// SetTech ( tech_soleng , side , state_enabled ) ;
11007: LD_INT 45
11009: PPUSH
11010: LD_VAR 0 3
11014: PPUSH
11015: LD_INT 1
11017: PPUSH
11018: CALL_OW 322
// SetTech ( tech_oilpow , side , state_enabled ) ;
11022: LD_INT 46
11024: PPUSH
11025: LD_VAR 0 3
11029: PPUSH
11030: LD_INT 1
11032: PPUSH
11033: CALL_OW 322
// SetTech ( tech_oileng , side , state_enabled ) ;
11037: LD_INT 47
11039: PPUSH
11040: LD_VAR 0 3
11044: PPUSH
11045: LD_INT 1
11047: PPUSH
11048: CALL_OW 322
// SetTech ( tech_apelang , side , state_enabled ) ;
11052: LD_INT 1
11054: PPUSH
11055: LD_VAR 0 3
11059: PPUSH
11060: LD_INT 1
11062: PPUSH
11063: CALL_OW 322
// SetTech ( tech_apepsych , side , state_enabled ) ;
11067: LD_INT 2
11069: PPUSH
11070: LD_VAR 0 3
11074: PPUSH
11075: LD_INT 1
11077: PPUSH
11078: CALL_OW 322
// SetTech ( tech_apeagres , side , state_enabled ) ;
11082: LD_INT 11
11084: PPUSH
11085: LD_VAR 0 3
11089: PPUSH
11090: LD_INT 1
11092: PPUSH
11093: CALL_OW 322
// SetTech ( tech_sibdet , side , state_enabled ) ;
11097: LD_INT 20
11099: PPUSH
11100: LD_VAR 0 3
11104: PPUSH
11105: LD_INT 1
11107: PPUSH
11108: CALL_OW 322
// SetTech ( tech_tech1 , side , state_enabled ) ;
11112: LD_INT 48
11114: PPUSH
11115: LD_VAR 0 3
11119: PPUSH
11120: LD_INT 1
11122: PPUSH
11123: CALL_OW 322
// SetTech ( tech_tech2 , side , state_enabled ) ;
11127: LD_INT 49
11129: PPUSH
11130: LD_VAR 0 3
11134: PPUSH
11135: LD_INT 1
11137: PPUSH
11138: CALL_OW 322
// SetTech ( tech_gatling , side , state_enabled ) ;
11142: LD_INT 69
11144: PPUSH
11145: LD_VAR 0 3
11149: PPUSH
11150: LD_INT 1
11152: PPUSH
11153: CALL_OW 322
// SetTech ( tech_gun , side , state_enabled ) ;
11157: LD_INT 39
11159: PPUSH
11160: LD_VAR 0 3
11164: PPUSH
11165: LD_INT 1
11167: PPUSH
11168: CALL_OW 322
// SetTech ( tech_advmet , side , state_enabled ) ;
11172: LD_INT 34
11174: PPUSH
11175: LD_VAR 0 3
11179: PPUSH
11180: LD_INT 1
11182: PPUSH
11183: CALL_OW 322
// SetTech ( tech_explos , side , state_enabled ) ;
11187: LD_INT 42
11189: PPUSH
11190: LD_VAR 0 3
11194: PPUSH
11195: LD_INT 1
11197: PPUSH
11198: CALL_OW 322
// SetTech ( tech_bazooka , side , state_enabled ) ;
11202: LD_INT 44
11204: PPUSH
11205: LD_VAR 0 3
11209: PPUSH
11210: LD_INT 1
11212: PPUSH
11213: CALL_OW 322
// SetTech ( tech_mortar , side , state_enabled ) ;
11217: LD_INT 41
11219: PPUSH
11220: LD_VAR 0 3
11224: PPUSH
11225: LD_INT 1
11227: PPUSH
11228: CALL_OW 322
// SetTech ( tech_selfdest , side , state_enabled ) ;
11232: LD_INT 43
11234: PPUSH
11235: LD_VAR 0 3
11239: PPUSH
11240: LD_INT 1
11242: PPUSH
11243: CALL_OW 322
// SetTech ( tech_flame , side , state_enabled ) ;
11247: LD_INT 70
11249: PPUSH
11250: LD_VAR 0 3
11254: PPUSH
11255: LD_INT 1
11257: PPUSH
11258: CALL_OW 322
// SetTech ( tech_weap1 , side , state_enabled ) ;
11262: LD_INT 51
11264: PPUSH
11265: LD_VAR 0 3
11269: PPUSH
11270: LD_INT 1
11272: PPUSH
11273: CALL_OW 322
// SetTech ( tech_weap2 , side , state_enabled ) ;
11277: LD_INT 52
11279: PPUSH
11280: LD_VAR 0 3
11284: PPUSH
11285: LD_INT 1
11287: PPUSH
11288: CALL_OW 322
// SetTech ( tech_radar , side , state_enabled ) ;
11292: LD_INT 6
11294: PPUSH
11295: LD_VAR 0 3
11299: PPUSH
11300: LD_INT 1
11302: PPUSH
11303: CALL_OW 322
// SetTech ( tech_remcont , side , state_enabled ) ;
11307: LD_INT 15
11309: PPUSH
11310: LD_VAR 0 3
11314: PPUSH
11315: LD_INT 1
11317: PPUSH
11318: CALL_OW 322
// SetTech ( tech_matdet , side , state_enabled ) ;
11322: LD_INT 7
11324: PPUSH
11325: LD_VAR 0 3
11329: PPUSH
11330: LD_INT 1
11332: PPUSH
11333: CALL_OW 322
// SetTech ( tech_lassight , side , state_enabled ) ;
11337: LD_INT 12
11339: PPUSH
11340: LD_VAR 0 3
11344: PPUSH
11345: LD_INT 1
11347: PPUSH
11348: CALL_OW 322
// SetTech ( tech_remcharge , side , state_enabled ) ;
11352: LD_INT 18
11354: PPUSH
11355: LD_VAR 0 3
11359: PPUSH
11360: LD_INT 1
11362: PPUSH
11363: CALL_OW 322
// SetTech ( tech_opto1 , side , state_enabled ) ;
11367: LD_INT 60
11369: PPUSH
11370: LD_VAR 0 3
11374: PPUSH
11375: LD_INT 1
11377: PPUSH
11378: CALL_OW 322
// SetTech ( tech_matpred , side , state_enabled ) ;
11382: LD_INT 9
11384: PPUSH
11385: LD_VAR 0 3
11389: PPUSH
11390: LD_INT 1
11392: PPUSH
11393: CALL_OW 322
// SetTech ( tech_taufield , side , state_enabled ) ;
11397: LD_INT 30
11399: PPUSH
11400: LD_VAR 0 3
11404: PPUSH
11405: LD_INT 1
11407: PPUSH
11408: CALL_OW 322
// SetTech ( tech_limteleport , side , state_enabled ) ;
11412: LD_INT 37
11414: PPUSH
11415: LD_VAR 0 3
11419: PPUSH
11420: LD_INT 1
11422: PPUSH
11423: CALL_OW 322
// SetTech ( tech_stimdrugs , side , state_enabled ) ;
11427: LD_INT 5
11429: PPUSH
11430: LD_VAR 0 3
11434: PPUSH
11435: LD_INT 1
11437: PPUSH
11438: CALL_OW 322
// SetTech ( tech_bio1 , side , state_enabled ) ;
11442: LD_INT 66
11444: PPUSH
11445: LD_VAR 0 3
11449: PPUSH
11450: LD_INT 1
11452: PPUSH
11453: CALL_OW 322
// SetTech ( tech_sibpow , side , state_enabled ) ;
11457: LD_INT 21
11459: PPUSH
11460: LD_VAR 0 3
11464: PPUSH
11465: LD_INT 1
11467: PPUSH
11468: CALL_OW 322
// SetTech ( tech_sibeng , side , state_enabled ) ;
11472: LD_INT 22
11474: PPUSH
11475: LD_VAR 0 3
11479: PPUSH
11480: LD_INT 1
11482: PPUSH
11483: CALL_OW 322
// SetTech ( tech_sib1 , side , state_enabled ) ;
11487: LD_INT 54
11489: PPUSH
11490: LD_VAR 0 3
11494: PPUSH
11495: LD_INT 1
11497: PPUSH
11498: CALL_OW 322
// SetRestrict ( b_depot , side , true ) ;
11502: LD_INT 0
11504: PPUSH
11505: LD_VAR 0 3
11509: PPUSH
11510: LD_INT 1
11512: PPUSH
11513: CALL_OW 324
// SetRestrict ( b_warehouse , side , true ) ;
11517: LD_INT 1
11519: PPUSH
11520: LD_VAR 0 3
11524: PPUSH
11525: LD_INT 1
11527: PPUSH
11528: CALL_OW 324
// SetRestrict ( b_workshop , side , true ) ;
11532: LD_INT 2
11534: PPUSH
11535: LD_VAR 0 3
11539: PPUSH
11540: LD_INT 1
11542: PPUSH
11543: CALL_OW 324
// SetRestrict ( b_factory , side , true ) ;
11547: LD_INT 3
11549: PPUSH
11550: LD_VAR 0 3
11554: PPUSH
11555: LD_INT 1
11557: PPUSH
11558: CALL_OW 324
// SetRestrict ( b_armoury , side , true ) ;
11562: LD_INT 4
11564: PPUSH
11565: LD_VAR 0 3
11569: PPUSH
11570: LD_INT 1
11572: PPUSH
11573: CALL_OW 324
// SetRestrict ( b_barracks , side , true ) ;
11577: LD_INT 5
11579: PPUSH
11580: LD_VAR 0 3
11584: PPUSH
11585: LD_INT 1
11587: PPUSH
11588: CALL_OW 324
// SetRestrict ( b_lab , side , true ) ;
11592: LD_INT 6
11594: PPUSH
11595: LD_VAR 0 3
11599: PPUSH
11600: LD_INT 1
11602: PPUSH
11603: CALL_OW 324
// SetRestrict ( b_lab_half , side , true ) ;
11607: LD_INT 7
11609: PPUSH
11610: LD_VAR 0 3
11614: PPUSH
11615: LD_INT 1
11617: PPUSH
11618: CALL_OW 324
// SetRestrict ( b_lab_full , side , true ) ;
11622: LD_INT 8
11624: PPUSH
11625: LD_VAR 0 3
11629: PPUSH
11630: LD_INT 1
11632: PPUSH
11633: CALL_OW 324
// SetRestrict ( b_lab_weapon , side , true ) ;
11637: LD_INT 10
11639: PPUSH
11640: LD_VAR 0 3
11644: PPUSH
11645: LD_INT 1
11647: PPUSH
11648: CALL_OW 324
// SetRestrict ( b_lab_siberium , side , true ) ;
11652: LD_INT 11
11654: PPUSH
11655: LD_VAR 0 3
11659: PPUSH
11660: LD_INT 1
11662: PPUSH
11663: CALL_OW 324
// SetRestrict ( b_lab_computer , side , true ) ;
11667: LD_INT 12
11669: PPUSH
11670: LD_VAR 0 3
11674: PPUSH
11675: LD_INT 1
11677: PPUSH
11678: CALL_OW 324
// SetRestrict ( b_lab_biological , side , true ) ;
11682: LD_INT 13
11684: PPUSH
11685: LD_VAR 0 3
11689: PPUSH
11690: LD_INT 1
11692: PPUSH
11693: CALL_OW 324
// SetRestrict ( b_lab_spacetime , side , true ) ;
11697: LD_INT 14
11699: PPUSH
11700: LD_VAR 0 3
11704: PPUSH
11705: LD_INT 1
11707: PPUSH
11708: CALL_OW 324
// SetRestrict ( b_lab_opto , side , true ) ;
11712: LD_INT 15
11714: PPUSH
11715: LD_VAR 0 3
11719: PPUSH
11720: LD_INT 1
11722: PPUSH
11723: CALL_OW 324
// SetRestrict ( b_ext_track , side , true ) ;
11727: LD_INT 16
11729: PPUSH
11730: LD_VAR 0 3
11734: PPUSH
11735: LD_INT 1
11737: PPUSH
11738: CALL_OW 324
// SetRestrict ( b_ext_gun , side , true ) ;
11742: LD_INT 17
11744: PPUSH
11745: LD_VAR 0 3
11749: PPUSH
11750: LD_INT 1
11752: PPUSH
11753: CALL_OW 324
// SetRestrict ( b_ext_noncombat , side , true ) ;
11757: LD_INT 19
11759: PPUSH
11760: LD_VAR 0 3
11764: PPUSH
11765: LD_INT 1
11767: PPUSH
11768: CALL_OW 324
// SetRestrict ( b_ext_radar , side , true ) ;
11772: LD_INT 20
11774: PPUSH
11775: LD_VAR 0 3
11779: PPUSH
11780: LD_INT 1
11782: PPUSH
11783: CALL_OW 324
// SetRestrict ( b_ext_siberium , side , true ) ;
11787: LD_INT 21
11789: PPUSH
11790: LD_VAR 0 3
11794: PPUSH
11795: LD_INT 1
11797: PPUSH
11798: CALL_OW 324
// SetRestrict ( b_ext_stitch , side , true ) ;
11802: LD_INT 23
11804: PPUSH
11805: LD_VAR 0 3
11809: PPUSH
11810: LD_INT 1
11812: PPUSH
11813: CALL_OW 324
// SetRestrict ( b_oil_power , side , true ) ;
11817: LD_INT 26
11819: PPUSH
11820: LD_VAR 0 3
11824: PPUSH
11825: LD_INT 1
11827: PPUSH
11828: CALL_OW 324
// SetRestrict ( b_solar_power , side , true ) ;
11832: LD_INT 27
11834: PPUSH
11835: LD_VAR 0 3
11839: PPUSH
11840: LD_INT 1
11842: PPUSH
11843: CALL_OW 324
// SetRestrict ( b_siberite_power , side , true ) ;
11847: LD_INT 28
11849: PPUSH
11850: LD_VAR 0 3
11854: PPUSH
11855: LD_INT 1
11857: PPUSH
11858: CALL_OW 324
// SetRestrict ( b_oil_mine , side , true ) ;
11862: LD_INT 29
11864: PPUSH
11865: LD_VAR 0 3
11869: PPUSH
11870: LD_INT 1
11872: PPUSH
11873: CALL_OW 324
// SetRestrict ( b_siberite_mine , side , true ) ;
11877: LD_INT 30
11879: PPUSH
11880: LD_VAR 0 3
11884: PPUSH
11885: LD_INT 1
11887: PPUSH
11888: CALL_OW 324
// SetRestrict ( b_breastwork , side , true ) ;
11892: LD_INT 31
11894: PPUSH
11895: LD_VAR 0 3
11899: PPUSH
11900: LD_INT 1
11902: PPUSH
11903: CALL_OW 324
// SetRestrict ( b_bunker , side , true ) ;
11907: LD_INT 32
11909: PPUSH
11910: LD_VAR 0 3
11914: PPUSH
11915: LD_INT 1
11917: PPUSH
11918: CALL_OW 324
// SetRestrict ( b_control_tower , side , true ) ;
11922: LD_INT 36
11924: PPUSH
11925: LD_VAR 0 3
11929: PPUSH
11930: LD_INT 1
11932: PPUSH
11933: CALL_OW 324
// end ; 5 :
11937: GO 14068
11939: LD_INT 5
11941: DOUBLE
11942: EQUAL
11943: IFTRUE 11947
11945: GO 13060
11947: POP
// begin SetTech ( tech_solpow , side , state_enabled ) ;
11948: LD_INT 35
11950: PPUSH
11951: LD_VAR 0 3
11955: PPUSH
11956: LD_INT 1
11958: PPUSH
11959: CALL_OW 322
// SetTech ( tech_soleng , side , state_enabled ) ;
11963: LD_INT 45
11965: PPUSH
11966: LD_VAR 0 3
11970: PPUSH
11971: LD_INT 1
11973: PPUSH
11974: CALL_OW 322
// SetTech ( tech_oilpow , side , state_enabled ) ;
11978: LD_INT 46
11980: PPUSH
11981: LD_VAR 0 3
11985: PPUSH
11986: LD_INT 1
11988: PPUSH
11989: CALL_OW 322
// SetTech ( tech_oileng , side , state_enabled ) ;
11993: LD_INT 47
11995: PPUSH
11996: LD_VAR 0 3
12000: PPUSH
12001: LD_INT 1
12003: PPUSH
12004: CALL_OW 322
// SetTech ( tech_apelang , side , state_enabled ) ;
12008: LD_INT 1
12010: PPUSH
12011: LD_VAR 0 3
12015: PPUSH
12016: LD_INT 1
12018: PPUSH
12019: CALL_OW 322
// SetTech ( tech_apepsych , side , state_enabled ) ;
12023: LD_INT 2
12025: PPUSH
12026: LD_VAR 0 3
12030: PPUSH
12031: LD_INT 1
12033: PPUSH
12034: CALL_OW 322
// SetTech ( tech_apeagres , side , state_enabled ) ;
12038: LD_INT 11
12040: PPUSH
12041: LD_VAR 0 3
12045: PPUSH
12046: LD_INT 1
12048: PPUSH
12049: CALL_OW 322
// SetTech ( tech_sibdet , side , state_enabled ) ;
12053: LD_INT 20
12055: PPUSH
12056: LD_VAR 0 3
12060: PPUSH
12061: LD_INT 1
12063: PPUSH
12064: CALL_OW 322
// SetTech ( tech_tech1 , side , state_enabled ) ;
12068: LD_INT 48
12070: PPUSH
12071: LD_VAR 0 3
12075: PPUSH
12076: LD_INT 1
12078: PPUSH
12079: CALL_OW 322
// SetTech ( tech_tech2 , side , state_enabled ) ;
12083: LD_INT 49
12085: PPUSH
12086: LD_VAR 0 3
12090: PPUSH
12091: LD_INT 1
12093: PPUSH
12094: CALL_OW 322
// SetTech ( tech_gatling , side , state_enabled ) ;
12098: LD_INT 69
12100: PPUSH
12101: LD_VAR 0 3
12105: PPUSH
12106: LD_INT 1
12108: PPUSH
12109: CALL_OW 322
// SetTech ( tech_gun , side , state_enabled ) ;
12113: LD_INT 39
12115: PPUSH
12116: LD_VAR 0 3
12120: PPUSH
12121: LD_INT 1
12123: PPUSH
12124: CALL_OW 322
// SetTech ( tech_advmet , side , state_enabled ) ;
12128: LD_INT 34
12130: PPUSH
12131: LD_VAR 0 3
12135: PPUSH
12136: LD_INT 1
12138: PPUSH
12139: CALL_OW 322
// SetTech ( tech_explos , side , state_enabled ) ;
12143: LD_INT 42
12145: PPUSH
12146: LD_VAR 0 3
12150: PPUSH
12151: LD_INT 1
12153: PPUSH
12154: CALL_OW 322
// SetTech ( tech_bazooka , side , state_enabled ) ;
12158: LD_INT 44
12160: PPUSH
12161: LD_VAR 0 3
12165: PPUSH
12166: LD_INT 1
12168: PPUSH
12169: CALL_OW 322
// SetTech ( tech_mortar , side , state_enabled ) ;
12173: LD_INT 41
12175: PPUSH
12176: LD_VAR 0 3
12180: PPUSH
12181: LD_INT 1
12183: PPUSH
12184: CALL_OW 322
// SetTech ( tech_rocket , side , state_enabled ) ;
12188: LD_INT 40
12190: PPUSH
12191: LD_VAR 0 3
12195: PPUSH
12196: LD_INT 1
12198: PPUSH
12199: CALL_OW 322
// SetTech ( tech_selfdest , side , state_enabled ) ;
12203: LD_INT 43
12205: PPUSH
12206: LD_VAR 0 3
12210: PPUSH
12211: LD_INT 1
12213: PPUSH
12214: CALL_OW 322
// SetTech ( tech_flame , side , state_enabled ) ;
12218: LD_INT 70
12220: PPUSH
12221: LD_VAR 0 3
12225: PPUSH
12226: LD_INT 1
12228: PPUSH
12229: CALL_OW 322
// SetTech ( tech_weap1 , side , state_enabled ) ;
12233: LD_INT 51
12235: PPUSH
12236: LD_VAR 0 3
12240: PPUSH
12241: LD_INT 1
12243: PPUSH
12244: CALL_OW 322
// SetTech ( tech_weap2 , side , state_enabled ) ;
12248: LD_INT 52
12250: PPUSH
12251: LD_VAR 0 3
12255: PPUSH
12256: LD_INT 1
12258: PPUSH
12259: CALL_OW 322
// SetTech ( tech_radar , side , state_enabled ) ;
12263: LD_INT 6
12265: PPUSH
12266: LD_VAR 0 3
12270: PPUSH
12271: LD_INT 1
12273: PPUSH
12274: CALL_OW 322
// SetTech ( tech_remcont , side , state_enabled ) ;
12278: LD_INT 15
12280: PPUSH
12281: LD_VAR 0 3
12285: PPUSH
12286: LD_INT 1
12288: PPUSH
12289: CALL_OW 322
// SetTech ( tech_matdet , side , state_enabled ) ;
12293: LD_INT 7
12295: PPUSH
12296: LD_VAR 0 3
12300: PPUSH
12301: LD_INT 1
12303: PPUSH
12304: CALL_OW 322
// SetTech ( tech_lassight , side , state_enabled ) ;
12308: LD_INT 12
12310: PPUSH
12311: LD_VAR 0 3
12315: PPUSH
12316: LD_INT 1
12318: PPUSH
12319: CALL_OW 322
// SetTech ( tech_hidcam , side , state_enabled ) ;
12323: LD_INT 17
12325: PPUSH
12326: LD_VAR 0 3
12330: PPUSH
12331: LD_INT 1
12333: PPUSH
12334: CALL_OW 322
// SetTech ( tech_remcharge , side , state_enabled ) ;
12338: LD_INT 18
12340: PPUSH
12341: LD_VAR 0 3
12345: PPUSH
12346: LD_INT 1
12348: PPUSH
12349: CALL_OW 322
// SetTech ( tech_opto1 , side , state_enabled ) ;
12353: LD_INT 60
12355: PPUSH
12356: LD_VAR 0 3
12360: PPUSH
12361: LD_INT 1
12363: PPUSH
12364: CALL_OW 322
// SetTech ( tech_ai , side , state_enabled ) ;
12368: LD_INT 32
12370: PPUSH
12371: LD_VAR 0 3
12375: PPUSH
12376: LD_INT 1
12378: PPUSH
12379: CALL_OW 322
// SetTech ( tech_matpred , side , state_enabled ) ;
12383: LD_INT 9
12385: PPUSH
12386: LD_VAR 0 3
12390: PPUSH
12391: LD_INT 1
12393: PPUSH
12394: CALL_OW 322
// SetTech ( tech_comp1 , side , state_enabled ) ;
12398: LD_INT 57
12400: PPUSH
12401: LD_VAR 0 3
12405: PPUSH
12406: LD_INT 1
12408: PPUSH
12409: CALL_OW 322
// SetTech ( tech_taufield , side , state_enabled ) ;
12413: LD_INT 30
12415: PPUSH
12416: LD_VAR 0 3
12420: PPUSH
12421: LD_INT 1
12423: PPUSH
12424: CALL_OW 322
// SetTech ( tech_limteleport , side , state_enabled ) ;
12428: LD_INT 37
12430: PPUSH
12431: LD_VAR 0 3
12435: PPUSH
12436: LD_INT 1
12438: PPUSH
12439: CALL_OW 322
// SetTech ( tech_st1 , side , state_enabled ) ;
12443: LD_INT 63
12445: PPUSH
12446: LD_VAR 0 3
12450: PPUSH
12451: LD_INT 1
12453: PPUSH
12454: CALL_OW 322
// SetTech ( tech_apeneural , side , state_enabled ) ;
12458: LD_INT 3
12460: PPUSH
12461: LD_VAR 0 3
12465: PPUSH
12466: LD_INT 1
12468: PPUSH
12469: CALL_OW 322
// SetTech ( tech_apebrain , side , state_enabled ) ;
12473: LD_INT 4
12475: PPUSH
12476: LD_VAR 0 3
12480: PPUSH
12481: LD_INT 1
12483: PPUSH
12484: CALL_OW 322
// SetTech ( tech_stimdrugs , side , state_enabled ) ;
12488: LD_INT 5
12490: PPUSH
12491: LD_VAR 0 3
12495: PPUSH
12496: LD_INT 1
12498: PPUSH
12499: CALL_OW 322
// SetTech ( tech_bio1 , side , state_enabled ) ;
12503: LD_INT 66
12505: PPUSH
12506: LD_VAR 0 3
12510: PPUSH
12511: LD_INT 1
12513: PPUSH
12514: CALL_OW 322
// SetTech ( tech_sibpow , side , state_enabled ) ;
12518: LD_INT 21
12520: PPUSH
12521: LD_VAR 0 3
12525: PPUSH
12526: LD_INT 1
12528: PPUSH
12529: CALL_OW 322
// SetTech ( tech_sibeng , side , state_enabled ) ;
12533: LD_INT 22
12535: PPUSH
12536: LD_VAR 0 3
12540: PPUSH
12541: LD_INT 1
12543: PPUSH
12544: CALL_OW 322
// SetTech ( tech_sibloc , side , state_enabled ) ;
12548: LD_INT 19
12550: PPUSH
12551: LD_VAR 0 3
12555: PPUSH
12556: LD_INT 1
12558: PPUSH
12559: CALL_OW 322
// SetTech ( tech_sib1 , side , state_enabled ) ;
12563: LD_INT 54
12565: PPUSH
12566: LD_VAR 0 3
12570: PPUSH
12571: LD_INT 1
12573: PPUSH
12574: CALL_OW 322
// SetTech ( tech_sib2 , side , state_enabled ) ;
12578: LD_INT 55
12580: PPUSH
12581: LD_VAR 0 3
12585: PPUSH
12586: LD_INT 1
12588: PPUSH
12589: CALL_OW 322
// SetRestrict ( b_depot , side , true ) ;
12593: LD_INT 0
12595: PPUSH
12596: LD_VAR 0 3
12600: PPUSH
12601: LD_INT 1
12603: PPUSH
12604: CALL_OW 324
// SetRestrict ( b_warehouse , side , true ) ;
12608: LD_INT 1
12610: PPUSH
12611: LD_VAR 0 3
12615: PPUSH
12616: LD_INT 1
12618: PPUSH
12619: CALL_OW 324
// SetRestrict ( b_workshop , side , true ) ;
12623: LD_INT 2
12625: PPUSH
12626: LD_VAR 0 3
12630: PPUSH
12631: LD_INT 1
12633: PPUSH
12634: CALL_OW 324
// SetRestrict ( b_factory , side , true ) ;
12638: LD_INT 3
12640: PPUSH
12641: LD_VAR 0 3
12645: PPUSH
12646: LD_INT 1
12648: PPUSH
12649: CALL_OW 324
// SetRestrict ( b_armoury , side , true ) ;
12653: LD_INT 4
12655: PPUSH
12656: LD_VAR 0 3
12660: PPUSH
12661: LD_INT 1
12663: PPUSH
12664: CALL_OW 324
// SetRestrict ( b_barracks , side , true ) ;
12668: LD_INT 5
12670: PPUSH
12671: LD_VAR 0 3
12675: PPUSH
12676: LD_INT 1
12678: PPUSH
12679: CALL_OW 324
// SetRestrict ( b_lab , side , true ) ;
12683: LD_INT 6
12685: PPUSH
12686: LD_VAR 0 3
12690: PPUSH
12691: LD_INT 1
12693: PPUSH
12694: CALL_OW 324
// SetRestrict ( b_lab_half , side , true ) ;
12698: LD_INT 7
12700: PPUSH
12701: LD_VAR 0 3
12705: PPUSH
12706: LD_INT 1
12708: PPUSH
12709: CALL_OW 324
// SetRestrict ( b_lab_full , side , true ) ;
12713: LD_INT 8
12715: PPUSH
12716: LD_VAR 0 3
12720: PPUSH
12721: LD_INT 1
12723: PPUSH
12724: CALL_OW 324
// SetRestrict ( b_lab_weapon , side , true ) ;
12728: LD_INT 10
12730: PPUSH
12731: LD_VAR 0 3
12735: PPUSH
12736: LD_INT 1
12738: PPUSH
12739: CALL_OW 324
// SetRestrict ( b_lab_siberium , side , true ) ;
12743: LD_INT 11
12745: PPUSH
12746: LD_VAR 0 3
12750: PPUSH
12751: LD_INT 1
12753: PPUSH
12754: CALL_OW 324
// SetRestrict ( b_lab_computer , side , true ) ;
12758: LD_INT 12
12760: PPUSH
12761: LD_VAR 0 3
12765: PPUSH
12766: LD_INT 1
12768: PPUSH
12769: CALL_OW 324
// SetRestrict ( b_lab_biological , side , true ) ;
12773: LD_INT 13
12775: PPUSH
12776: LD_VAR 0 3
12780: PPUSH
12781: LD_INT 1
12783: PPUSH
12784: CALL_OW 324
// SetRestrict ( b_lab_spacetime , side , true ) ;
12788: LD_INT 14
12790: PPUSH
12791: LD_VAR 0 3
12795: PPUSH
12796: LD_INT 1
12798: PPUSH
12799: CALL_OW 324
// SetRestrict ( b_lab_opto , side , true ) ;
12803: LD_INT 15
12805: PPUSH
12806: LD_VAR 0 3
12810: PPUSH
12811: LD_INT 1
12813: PPUSH
12814: CALL_OW 324
// SetRestrict ( b_ext_track , side , true ) ;
12818: LD_INT 16
12820: PPUSH
12821: LD_VAR 0 3
12825: PPUSH
12826: LD_INT 1
12828: PPUSH
12829: CALL_OW 324
// SetRestrict ( b_ext_gun , side , true ) ;
12833: LD_INT 17
12835: PPUSH
12836: LD_VAR 0 3
12840: PPUSH
12841: LD_INT 1
12843: PPUSH
12844: CALL_OW 324
// SetRestrict ( b_ext_rocket , side , true ) ;
12848: LD_INT 18
12850: PPUSH
12851: LD_VAR 0 3
12855: PPUSH
12856: LD_INT 1
12858: PPUSH
12859: CALL_OW 324
// SetRestrict ( b_ext_noncombat , side , true ) ;
12863: LD_INT 19
12865: PPUSH
12866: LD_VAR 0 3
12870: PPUSH
12871: LD_INT 1
12873: PPUSH
12874: CALL_OW 324
// SetRestrict ( b_ext_radar , side , true ) ;
12878: LD_INT 20
12880: PPUSH
12881: LD_VAR 0 3
12885: PPUSH
12886: LD_INT 1
12888: PPUSH
12889: CALL_OW 324
// SetRestrict ( b_ext_siberium , side , true ) ;
12893: LD_INT 21
12895: PPUSH
12896: LD_VAR 0 3
12900: PPUSH
12901: LD_INT 1
12903: PPUSH
12904: CALL_OW 324
// SetRestrict ( b_ext_stitch , side , true ) ;
12908: LD_INT 23
12910: PPUSH
12911: LD_VAR 0 3
12915: PPUSH
12916: LD_INT 1
12918: PPUSH
12919: CALL_OW 324
// SetRestrict ( b_oil_power , side , true ) ;
12923: LD_INT 26
12925: PPUSH
12926: LD_VAR 0 3
12930: PPUSH
12931: LD_INT 1
12933: PPUSH
12934: CALL_OW 324
// SetRestrict ( b_solar_power , side , true ) ;
12938: LD_INT 27
12940: PPUSH
12941: LD_VAR 0 3
12945: PPUSH
12946: LD_INT 1
12948: PPUSH
12949: CALL_OW 324
// SetRestrict ( b_siberite_power , side , true ) ;
12953: LD_INT 28
12955: PPUSH
12956: LD_VAR 0 3
12960: PPUSH
12961: LD_INT 1
12963: PPUSH
12964: CALL_OW 324
// SetRestrict ( b_oil_mine , side , true ) ;
12968: LD_INT 29
12970: PPUSH
12971: LD_VAR 0 3
12975: PPUSH
12976: LD_INT 1
12978: PPUSH
12979: CALL_OW 324
// SetRestrict ( b_siberite_mine , side , true ) ;
12983: LD_INT 30
12985: PPUSH
12986: LD_VAR 0 3
12990: PPUSH
12991: LD_INT 1
12993: PPUSH
12994: CALL_OW 324
// SetRestrict ( b_breastwork , side , true ) ;
12998: LD_INT 31
13000: PPUSH
13001: LD_VAR 0 3
13005: PPUSH
13006: LD_INT 1
13008: PPUSH
13009: CALL_OW 324
// SetRestrict ( b_bunker , side , true ) ;
13013: LD_INT 32
13015: PPUSH
13016: LD_VAR 0 3
13020: PPUSH
13021: LD_INT 1
13023: PPUSH
13024: CALL_OW 324
// SetRestrict ( b_turret , side , true ) ;
13028: LD_INT 33
13030: PPUSH
13031: LD_VAR 0 3
13035: PPUSH
13036: LD_INT 1
13038: PPUSH
13039: CALL_OW 324
// SetRestrict ( b_control_tower , side , true ) ;
13043: LD_INT 36
13045: PPUSH
13046: LD_VAR 0 3
13050: PPUSH
13051: LD_INT 1
13053: PPUSH
13054: CALL_OW 324
// end ; 6 :
13058: GO 14068
13060: LD_INT 6
13062: DOUBLE
13063: EQUAL
13064: IFTRUE 13068
13066: GO 13993
13068: POP
// begin SetTech ( tech_solpow , side , state_enabled ) ;
13069: LD_INT 35
13071: PPUSH
13072: LD_VAR 0 3
13076: PPUSH
13077: LD_INT 1
13079: PPUSH
13080: CALL_OW 322
// SetTech ( tech_soleng , side , state_enabled ) ;
13084: LD_INT 45
13086: PPUSH
13087: LD_VAR 0 3
13091: PPUSH
13092: LD_INT 1
13094: PPUSH
13095: CALL_OW 322
// SetTech ( tech_oilpow , side , state_enabled ) ;
13099: LD_INT 46
13101: PPUSH
13102: LD_VAR 0 3
13106: PPUSH
13107: LD_INT 1
13109: PPUSH
13110: CALL_OW 322
// SetTech ( tech_oileng , side , state_enabled ) ;
13114: LD_INT 47
13116: PPUSH
13117: LD_VAR 0 3
13121: PPUSH
13122: LD_INT 1
13124: PPUSH
13125: CALL_OW 322
// SetTech ( tech_apelang , side , state_enabled ) ;
13129: LD_INT 1
13131: PPUSH
13132: LD_VAR 0 3
13136: PPUSH
13137: LD_INT 1
13139: PPUSH
13140: CALL_OW 322
// SetTech ( tech_apepsych , side , state_enabled ) ;
13144: LD_INT 2
13146: PPUSH
13147: LD_VAR 0 3
13151: PPUSH
13152: LD_INT 1
13154: PPUSH
13155: CALL_OW 322
// SetTech ( tech_apeagres , side , state_enabled ) ;
13159: LD_INT 11
13161: PPUSH
13162: LD_VAR 0 3
13166: PPUSH
13167: LD_INT 1
13169: PPUSH
13170: CALL_OW 322
// SetTech ( tech_sibdet , side , state_enabled ) ;
13174: LD_INT 20
13176: PPUSH
13177: LD_VAR 0 3
13181: PPUSH
13182: LD_INT 1
13184: PPUSH
13185: CALL_OW 322
// SetTech ( tech_tech1 , side , state_enabled ) ;
13189: LD_INT 48
13191: PPUSH
13192: LD_VAR 0 3
13196: PPUSH
13197: LD_INT 1
13199: PPUSH
13200: CALL_OW 322
// SetTech ( tech_tech2 , side , state_enabled ) ;
13204: LD_INT 49
13206: PPUSH
13207: LD_VAR 0 3
13211: PPUSH
13212: LD_INT 1
13214: PPUSH
13215: CALL_OW 322
// SetTech ( tech_tech3 , side , state_enabled ) ;
13219: LD_INT 50
13221: PPUSH
13222: LD_VAR 0 3
13226: PPUSH
13227: LD_INT 1
13229: PPUSH
13230: CALL_OW 322
// SetTech ( tech_gatling , side , state_enabled ) ;
13234: LD_INT 69
13236: PPUSH
13237: LD_VAR 0 3
13241: PPUSH
13242: LD_INT 1
13244: PPUSH
13245: CALL_OW 322
// SetTech ( tech_gun , side , state_enabled ) ;
13249: LD_INT 39
13251: PPUSH
13252: LD_VAR 0 3
13256: PPUSH
13257: LD_INT 1
13259: PPUSH
13260: CALL_OW 322
// SetTech ( tech_advmet , side , state_enabled ) ;
13264: LD_INT 34
13266: PPUSH
13267: LD_VAR 0 3
13271: PPUSH
13272: LD_INT 1
13274: PPUSH
13275: CALL_OW 322
// SetTech ( tech_explos , side , state_enabled ) ;
13279: LD_INT 42
13281: PPUSH
13282: LD_VAR 0 3
13286: PPUSH
13287: LD_INT 1
13289: PPUSH
13290: CALL_OW 322
// SetTech ( tech_bazooka , side , state_enabled ) ;
13294: LD_INT 44
13296: PPUSH
13297: LD_VAR 0 3
13301: PPUSH
13302: LD_INT 1
13304: PPUSH
13305: CALL_OW 322
// SetTech ( tech_mortar , side , state_enabled ) ;
13309: LD_INT 41
13311: PPUSH
13312: LD_VAR 0 3
13316: PPUSH
13317: LD_INT 1
13319: PPUSH
13320: CALL_OW 322
// SetTech ( tech_soporific , side , state_enabled ) ;
13324: LD_INT 13
13326: PPUSH
13327: LD_VAR 0 3
13331: PPUSH
13332: LD_INT 1
13334: PPUSH
13335: CALL_OW 322
// SetTech ( tech_rocket , side , state_enabled ) ;
13339: LD_INT 40
13341: PPUSH
13342: LD_VAR 0 3
13346: PPUSH
13347: LD_INT 1
13349: PPUSH
13350: CALL_OW 322
// SetTech ( tech_selfdest , side , state_enabled ) ;
13354: LD_INT 43
13356: PPUSH
13357: LD_VAR 0 3
13361: PPUSH
13362: LD_INT 1
13364: PPUSH
13365: CALL_OW 322
// SetTech ( tech_flame , side , state_enabled ) ;
13369: LD_INT 70
13371: PPUSH
13372: LD_VAR 0 3
13376: PPUSH
13377: LD_INT 1
13379: PPUSH
13380: CALL_OW 322
// SetTech ( tech_behemoth , side , state_enabled ) ;
13384: LD_INT 23
13386: PPUSH
13387: LD_VAR 0 3
13391: PPUSH
13392: LD_INT 1
13394: PPUSH
13395: CALL_OW 322
// SetTech ( tech_weap1 , side , state_enabled ) ;
13399: LD_INT 51
13401: PPUSH
13402: LD_VAR 0 3
13406: PPUSH
13407: LD_INT 1
13409: PPUSH
13410: CALL_OW 322
// SetTech ( tech_weap2 , side , state_enabled ) ;
13414: LD_INT 52
13416: PPUSH
13417: LD_VAR 0 3
13421: PPUSH
13422: LD_INT 1
13424: PPUSH
13425: CALL_OW 322
// SetTech ( tech_radar , side , state_enabled ) ;
13429: LD_INT 6
13431: PPUSH
13432: LD_VAR 0 3
13436: PPUSH
13437: LD_INT 1
13439: PPUSH
13440: CALL_OW 322
// SetTech ( tech_remcont , side , state_enabled ) ;
13444: LD_INT 15
13446: PPUSH
13447: LD_VAR 0 3
13451: PPUSH
13452: LD_INT 1
13454: PPUSH
13455: CALL_OW 322
// SetTech ( tech_matdet , side , state_enabled ) ;
13459: LD_INT 7
13461: PPUSH
13462: LD_VAR 0 3
13466: PPUSH
13467: LD_INT 1
13469: PPUSH
13470: CALL_OW 322
// SetTech ( tech_lassight , side , state_enabled ) ;
13474: LD_INT 12
13476: PPUSH
13477: LD_VAR 0 3
13481: PPUSH
13482: LD_INT 1
13484: PPUSH
13485: CALL_OW 322
// SetTech ( tech_laser , side , state_enabled ) ;
13489: LD_INT 10
13491: PPUSH
13492: LD_VAR 0 3
13496: PPUSH
13497: LD_INT 1
13499: PPUSH
13500: CALL_OW 322
// SetTech ( tech_hidcam , side , state_enabled ) ;
13504: LD_INT 17
13506: PPUSH
13507: LD_VAR 0 3
13511: PPUSH
13512: LD_INT 1
13514: PPUSH
13515: CALL_OW 322
// SetTech ( tech_remcharge , side , state_enabled ) ;
13519: LD_INT 18
13521: PPUSH
13522: LD_VAR 0 3
13526: PPUSH
13527: LD_INT 1
13529: PPUSH
13530: CALL_OW 322
// SetTech ( tech_opto1 , side , state_enabled ) ;
13534: LD_INT 60
13536: PPUSH
13537: LD_VAR 0 3
13541: PPUSH
13542: LD_INT 1
13544: PPUSH
13545: CALL_OW 322
// SetTech ( tech_opto2 , side , state_enabled ) ;
13549: LD_INT 61
13551: PPUSH
13552: LD_VAR 0 3
13556: PPUSH
13557: LD_INT 1
13559: PPUSH
13560: CALL_OW 322
// SetTech ( tech_ai , side , state_enabled ) ;
13564: LD_INT 32
13566: PPUSH
13567: LD_VAR 0 3
13571: PPUSH
13572: LD_INT 1
13574: PPUSH
13575: CALL_OW 322
// SetTech ( tech_advai , side , state_enabled ) ;
13579: LD_INT 27
13581: PPUSH
13582: LD_VAR 0 3
13586: PPUSH
13587: LD_INT 1
13589: PPUSH
13590: CALL_OW 322
// SetTech ( tech_advchassis , side , state_enabled ) ;
13594: LD_INT 36
13596: PPUSH
13597: LD_VAR 0 3
13601: PPUSH
13602: LD_INT 1
13604: PPUSH
13605: CALL_OW 322
// SetTech ( tech_virus , side , state_enabled ) ;
13609: LD_INT 33
13611: PPUSH
13612: LD_VAR 0 3
13616: PPUSH
13617: LD_INT 1
13619: PPUSH
13620: CALL_OW 322
// SetTech ( tech_matpred , side , state_enabled ) ;
13624: LD_INT 9
13626: PPUSH
13627: LD_VAR 0 3
13631: PPUSH
13632: LD_INT 1
13634: PPUSH
13635: CALL_OW 322
// SetTech ( tech_targteleport , side , state_enabled ) ;
13639: LD_INT 38
13641: PPUSH
13642: LD_VAR 0 3
13646: PPUSH
13647: LD_INT 1
13649: PPUSH
13650: CALL_OW 322
// SetTech ( tech_comp1 , side , state_enabled ) ;
13654: LD_INT 57
13656: PPUSH
13657: LD_VAR 0 3
13661: PPUSH
13662: LD_INT 1
13664: PPUSH
13665: CALL_OW 322
// SetTech ( tech_comp2 , side , state_enabled ) ;
13669: LD_INT 58
13671: PPUSH
13672: LD_VAR 0 3
13676: PPUSH
13677: LD_INT 1
13679: PPUSH
13680: CALL_OW 322
// SetTech ( tech_taurad , side , state_enabled ) ;
13684: LD_INT 28
13686: PPUSH
13687: LD_VAR 0 3
13691: PPUSH
13692: LD_INT 1
13694: PPUSH
13695: CALL_OW 322
// SetTech ( tech_spacanom , side , state_enabled ) ;
13699: LD_INT 29
13701: PPUSH
13702: LD_VAR 0 3
13706: PPUSH
13707: LD_INT 1
13709: PPUSH
13710: CALL_OW 322
// SetTech ( tech_taufield , side , state_enabled ) ;
13714: LD_INT 30
13716: PPUSH
13717: LD_VAR 0 3
13721: PPUSH
13722: LD_INT 1
13724: PPUSH
13725: CALL_OW 322
// SetTech ( tech_limteleport , side , state_enabled ) ;
13729: LD_INT 37
13731: PPUSH
13732: LD_VAR 0 3
13736: PPUSH
13737: LD_INT 1
13739: PPUSH
13740: CALL_OW 322
// SetTech ( tech_st1 , side , state_enabled ) ;
13744: LD_INT 63
13746: PPUSH
13747: LD_VAR 0 3
13751: PPUSH
13752: LD_INT 1
13754: PPUSH
13755: CALL_OW 322
// SetTech ( tech_st2 , side , state_enabled ) ;
13759: LD_INT 64
13761: PPUSH
13762: LD_VAR 0 3
13766: PPUSH
13767: LD_INT 1
13769: PPUSH
13770: CALL_OW 322
// SetTech ( tech_apeneural , side , state_enabled ) ;
13774: LD_INT 3
13776: PPUSH
13777: LD_VAR 0 3
13781: PPUSH
13782: LD_INT 1
13784: PPUSH
13785: CALL_OW 322
// SetTech ( tech_apebrain , side , state_enabled ) ;
13789: LD_INT 4
13791: PPUSH
13792: LD_VAR 0 3
13796: PPUSH
13797: LD_INT 1
13799: PPUSH
13800: CALL_OW 322
// SetTech ( tech_stimdrugs , side , state_enabled ) ;
13804: LD_INT 5
13806: PPUSH
13807: LD_VAR 0 3
13811: PPUSH
13812: LD_INT 1
13814: PPUSH
13815: CALL_OW 322
// SetTech ( tech_biodet , side , state_enabled ) ;
13819: LD_INT 8
13821: PPUSH
13822: LD_VAR 0 3
13826: PPUSH
13827: LD_INT 1
13829: PPUSH
13830: CALL_OW 322
// SetTech ( tech_bio1 , side , state_enabled ) ;
13834: LD_INT 66
13836: PPUSH
13837: LD_VAR 0 3
13841: PPUSH
13842: LD_INT 1
13844: PPUSH
13845: CALL_OW 322
// SetTech ( tech_bio2 , side , state_enabled ) ;
13849: LD_INT 67
13851: PPUSH
13852: LD_VAR 0 3
13856: PPUSH
13857: LD_INT 1
13859: PPUSH
13860: CALL_OW 322
// SetTech ( tech_sibpow , side , state_enabled ) ;
13864: LD_INT 21
13866: PPUSH
13867: LD_VAR 0 3
13871: PPUSH
13872: LD_INT 1
13874: PPUSH
13875: CALL_OW 322
// SetTech ( tech_sibeng , side , state_enabled ) ;
13879: LD_INT 22
13881: PPUSH
13882: LD_VAR 0 3
13886: PPUSH
13887: LD_INT 1
13889: PPUSH
13890: CALL_OW 322
// SetTech ( tech_sibloc , side , state_enabled ) ;
13894: LD_INT 19
13896: PPUSH
13897: LD_VAR 0 3
13901: PPUSH
13902: LD_INT 1
13904: PPUSH
13905: CALL_OW 322
// SetTech ( tech_sibcontam , side , state_enabled ) ;
13909: LD_INT 26
13911: PPUSH
13912: LD_VAR 0 3
13916: PPUSH
13917: LD_INT 1
13919: PPUSH
13920: CALL_OW 322
// SetTech ( tech_sib1 , side , state_enabled ) ;
13924: LD_INT 54
13926: PPUSH
13927: LD_VAR 0 3
13931: PPUSH
13932: LD_INT 1
13934: PPUSH
13935: CALL_OW 322
// SetTech ( tech_sib2 , side , state_enabled ) ;
13939: LD_INT 55
13941: PPUSH
13942: LD_VAR 0 3
13946: PPUSH
13947: LD_INT 1
13949: PPUSH
13950: CALL_OW 322
// for i = 0 to 39 do
13954: LD_ADDR_VAR 0 4
13958: PUSH
13959: DOUBLE
13960: LD_INT 0
13962: DEC
13963: ST_TO_ADDR
13964: LD_INT 39
13966: PUSH
13967: FOR_TO
13968: IFFALSE 13989
// SetRestrict ( i , side , true ) ;
13970: LD_VAR 0 4
13974: PPUSH
13975: LD_VAR 0 3
13979: PPUSH
13980: LD_INT 1
13982: PPUSH
13983: CALL_OW 324
13987: GO 13967
13989: POP
13990: POP
// end ; else
13991: GO 14068
13993: POP
// begin for i = 1 to 73 do
13994: LD_ADDR_VAR 0 4
13998: PUSH
13999: DOUBLE
14000: LD_INT 1
14002: DEC
14003: ST_TO_ADDR
14004: LD_INT 73
14006: PUSH
14007: FOR_TO
14008: IFFALSE 14029
// SetTech ( i , side , state_enabled ) ;
14010: LD_VAR 0 4
14014: PPUSH
14015: LD_VAR 0 3
14019: PPUSH
14020: LD_INT 1
14022: PPUSH
14023: CALL_OW 322
14027: GO 14007
14029: POP
14030: POP
// for i = 0 to 39 do
14031: LD_ADDR_VAR 0 4
14035: PUSH
14036: DOUBLE
14037: LD_INT 0
14039: DEC
14040: ST_TO_ADDR
14041: LD_INT 39
14043: PUSH
14044: FOR_TO
14045: IFFALSE 14066
// SetRestrict ( i , side , true ) ;
14047: LD_VAR 0 4
14051: PPUSH
14052: LD_VAR 0 3
14056: PPUSH
14057: LD_INT 1
14059: PPUSH
14060: CALL_OW 324
14064: GO 14044
14066: POP
14067: POP
// end ; end ; end ;
14068: GO 10073
14070: POP
14071: POP
// end ; end_of_file
14072: LD_VAR 0 2
14076: RET
// export function UpdateSpectatorBar ; var i , j , crates , oil , sib , people , base , bases ; begin
14077: LD_INT 0
14079: PPUSH
14080: PPUSH
14081: PPUSH
14082: PPUSH
14083: PPUSH
14084: PPUSH
14085: PPUSH
14086: PPUSH
14087: PPUSH
// for i := 1 to 8 do
14088: LD_ADDR_VAR 0 2
14092: PUSH
14093: DOUBLE
14094: LD_INT 1
14096: DEC
14097: ST_TO_ADDR
14098: LD_INT 8
14100: PUSH
14101: FOR_TO
14102: IFFALSE 14486
// begin if Side_Positions [ i ] then
14104: LD_EXP 36
14108: PUSH
14109: LD_VAR 0 2
14113: ARRAY
14114: IFFALSE 14484
// begin people := FilterAllUnits ( [ [ f_side , i ] , [ f_type , unit_human ] ] ) + 0 ;
14116: LD_ADDR_VAR 0 7
14120: PUSH
14121: LD_INT 22
14123: PUSH
14124: LD_VAR 0 2
14128: PUSH
14129: EMPTY
14130: LIST
14131: LIST
14132: PUSH
14133: LD_INT 21
14135: PUSH
14136: LD_INT 1
14138: PUSH
14139: EMPTY
14140: LIST
14141: LIST
14142: PUSH
14143: EMPTY
14144: LIST
14145: LIST
14146: PPUSH
14147: CALL_OW 69
14151: PUSH
14152: LD_INT 0
14154: PLUS
14155: ST_TO_ADDR
// bases := FilterAllUnits ( [ [ f_side , i ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) ;
14156: LD_ADDR_VAR 0 9
14160: PUSH
14161: LD_INT 22
14163: PUSH
14164: LD_VAR 0 2
14168: PUSH
14169: EMPTY
14170: LIST
14171: LIST
14172: PUSH
14173: LD_INT 2
14175: PUSH
14176: LD_INT 30
14178: PUSH
14179: LD_INT 0
14181: PUSH
14182: EMPTY
14183: LIST
14184: LIST
14185: PUSH
14186: LD_INT 30
14188: PUSH
14189: LD_INT 1
14191: PUSH
14192: EMPTY
14193: LIST
14194: LIST
14195: PUSH
14196: EMPTY
14197: LIST
14198: LIST
14199: LIST
14200: PUSH
14201: EMPTY
14202: LIST
14203: LIST
14204: PPUSH
14205: CALL_OW 69
14209: ST_TO_ADDR
// crates := 0 ;
14210: LD_ADDR_VAR 0 4
14214: PUSH
14215: LD_INT 0
14217: ST_TO_ADDR
// oil := 0 ;
14218: LD_ADDR_VAR 0 5
14222: PUSH
14223: LD_INT 0
14225: ST_TO_ADDR
// sib := 0 ;
14226: LD_ADDR_VAR 0 6
14230: PUSH
14231: LD_INT 0
14233: ST_TO_ADDR
// if bases then
14234: LD_VAR 0 9
14238: IFFALSE 14344
// begin for j in bases do
14240: LD_ADDR_VAR 0 3
14244: PUSH
14245: LD_VAR 0 9
14249: PUSH
14250: FOR_IN
14251: IFFALSE 14342
// begin base := GetBase ( j ) ;
14253: LD_ADDR_VAR 0 8
14257: PUSH
14258: LD_VAR 0 3
14262: PPUSH
14263: CALL_OW 274
14267: ST_TO_ADDR
// crates := crates + GetResourceType ( base , mat_cans ) ;
14268: LD_ADDR_VAR 0 4
14272: PUSH
14273: LD_VAR 0 4
14277: PUSH
14278: LD_VAR 0 8
14282: PPUSH
14283: LD_INT 1
14285: PPUSH
14286: CALL_OW 275
14290: PLUS
14291: ST_TO_ADDR
// oil := oil + GetResourceType ( base , mat_oil ) ;
14292: LD_ADDR_VAR 0 5
14296: PUSH
14297: LD_VAR 0 5
14301: PUSH
14302: LD_VAR 0 8
14306: PPUSH
14307: LD_INT 2
14309: PPUSH
14310: CALL_OW 275
14314: PLUS
14315: ST_TO_ADDR
// sib := sib + GetResourceType ( base , mat_siberit ) ;
14316: LD_ADDR_VAR 0 6
14320: PUSH
14321: LD_VAR 0 6
14325: PUSH
14326: LD_VAR 0 8
14330: PPUSH
14331: LD_INT 3
14333: PPUSH
14334: CALL_OW 275
14338: PLUS
14339: ST_TO_ADDR
// end ;
14340: GO 14250
14342: POP
14343: POP
// end ; ToLua ( setSpecText( & i & , & 2 & , & crates & ) ) ;
14344: LD_STRING setSpecText(
14346: PUSH
14347: LD_VAR 0 2
14351: STR
14352: PUSH
14353: LD_STRING ,
14355: STR
14356: PUSH
14357: LD_INT 2
14359: STR
14360: PUSH
14361: LD_STRING ,
14363: STR
14364: PUSH
14365: LD_VAR 0 4
14369: STR
14370: PUSH
14371: LD_STRING )
14373: STR
14374: PPUSH
14375: CALL_OW 559
// ToLua ( setSpecText( & i & , & 3 & , & oil & ) ) ;
14379: LD_STRING setSpecText(
14381: PUSH
14382: LD_VAR 0 2
14386: STR
14387: PUSH
14388: LD_STRING ,
14390: STR
14391: PUSH
14392: LD_INT 3
14394: STR
14395: PUSH
14396: LD_STRING ,
14398: STR
14399: PUSH
14400: LD_VAR 0 5
14404: STR
14405: PUSH
14406: LD_STRING )
14408: STR
14409: PPUSH
14410: CALL_OW 559
// ToLua ( setSpecText( & i & , & 4 & , & sib & ) ) ;
14414: LD_STRING setSpecText(
14416: PUSH
14417: LD_VAR 0 2
14421: STR
14422: PUSH
14423: LD_STRING ,
14425: STR
14426: PUSH
14427: LD_INT 4
14429: STR
14430: PUSH
14431: LD_STRING ,
14433: STR
14434: PUSH
14435: LD_VAR 0 6
14439: STR
14440: PUSH
14441: LD_STRING )
14443: STR
14444: PPUSH
14445: CALL_OW 559
// ToLua ( setSpecText( & i & , & 5 & , & people & ) ) ;
14449: LD_STRING setSpecText(
14451: PUSH
14452: LD_VAR 0 2
14456: STR
14457: PUSH
14458: LD_STRING ,
14460: STR
14461: PUSH
14462: LD_INT 5
14464: STR
14465: PUSH
14466: LD_STRING ,
14468: STR
14469: PUSH
14470: LD_VAR 0 7
14474: STR
14475: PUSH
14476: LD_STRING )
14478: STR
14479: PPUSH
14480: CALL_OW 559
// end ; end ;
14484: GO 14101
14486: POP
14487: POP
// end ;
14488: LD_VAR 0 1
14492: RET
// every 0 0$1 do
14493: GO 14495
14495: DISABLE
// begin ToLua ( setSpecLogoNumber( & 2 & , & 1 & ) ) ;
14496: LD_STRING setSpecLogoNumber(
14498: PUSH
14499: LD_INT 2
14501: STR
14502: PUSH
14503: LD_STRING ,
14505: STR
14506: PUSH
14507: LD_INT 1
14509: STR
14510: PUSH
14511: LD_STRING )
14513: STR
14514: PPUSH
14515: CALL_OW 559
// ToLua ( setSpecLogoNumber( & 3 & , & 2 & ) ) ;
14519: LD_STRING setSpecLogoNumber(
14521: PUSH
14522: LD_INT 3
14524: STR
14525: PUSH
14526: LD_STRING ,
14528: STR
14529: PUSH
14530: LD_INT 2
14532: STR
14533: PUSH
14534: LD_STRING )
14536: STR
14537: PPUSH
14538: CALL_OW 559
// ToLua ( setSpecLogoNumber( & 4 & , & 3 & ) ) ;
14542: LD_STRING setSpecLogoNumber(
14544: PUSH
14545: LD_INT 4
14547: STR
14548: PUSH
14549: LD_STRING ,
14551: STR
14552: PUSH
14553: LD_INT 3
14555: STR
14556: PUSH
14557: LD_STRING )
14559: STR
14560: PPUSH
14561: CALL_OW 559
// ToLua ( setSpecLogoNumber( & 5 & , & 4 & ) ) ;
14565: LD_STRING setSpecLogoNumber(
14567: PUSH
14568: LD_INT 5
14570: STR
14571: PUSH
14572: LD_STRING ,
14574: STR
14575: PUSH
14576: LD_INT 4
14578: STR
14579: PUSH
14580: LD_STRING )
14582: STR
14583: PPUSH
14584: CALL_OW 559
// end ;
14588: END
// every 20 + 0 0$5 trigger FilterAllUnits ( [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ) do
14589: LD_INT 2
14591: PUSH
14592: LD_INT 30
14594: PUSH
14595: LD_INT 0
14597: PUSH
14598: EMPTY
14599: LIST
14600: LIST
14601: PUSH
14602: LD_INT 30
14604: PUSH
14605: LD_INT 1
14607: PUSH
14608: EMPTY
14609: LIST
14610: LIST
14611: PUSH
14612: EMPTY
14613: LIST
14614: LIST
14615: LIST
14616: PPUSH
14617: CALL_OW 69
14621: IFFALSE 14631
14623: GO 14625
14625: DISABLE
// begin enable ;
14626: ENABLE
// UpdateSpectatorBar ;
14627: CALL 14077 0 0
// end ; end_of_file
14631: END
// var respawn , inqueue ; export function init_respawning ; begin
14632: LD_INT 0
14634: PPUSH
// respawn := Rand ( 1 , 8 ) ;
14635: LD_ADDR_LOC 18
14639: PUSH
14640: LD_INT 1
14642: PPUSH
14643: LD_INT 8
14645: PPUSH
14646: CALL_OW 12
14650: ST_TO_ADDR
// inqueue := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
14651: LD_ADDR_LOC 19
14655: PUSH
14656: LD_INT 0
14658: PUSH
14659: LD_INT 0
14661: PUSH
14662: LD_INT 0
14664: PUSH
14665: LD_INT 0
14667: PUSH
14668: LD_INT 0
14670: PUSH
14671: LD_INT 0
14673: PUSH
14674: LD_INT 0
14676: PUSH
14677: LD_INT 0
14679: PUSH
14680: EMPTY
14681: LIST
14682: LIST
14683: LIST
14684: LIST
14685: LIST
14686: LIST
14687: LIST
14688: LIST
14689: ST_TO_ADDR
// end ;
14690: LD_VAR 0 1
14694: RET
// every 0 0$1 + 0 0$0.5 do var n , dep , aktresp ;
14695: GO 14697
14697: DISABLE
14698: LD_INT 0
14700: PPUSH
14701: PPUSH
14702: PPUSH
// begin if respawning_time_max = 0 then
14703: LD_EXP 32
14707: PUSH
14708: LD_INT 0
14710: EQUAL
14711: IFFALSE 14715
// exit ;
14713: GO 15123
// if respawn = 8 then
14715: LD_LOC 18
14719: PUSH
14720: LD_INT 8
14722: EQUAL
14723: IFFALSE 14735
// respawn := 1 else
14725: LD_ADDR_LOC 18
14729: PUSH
14730: LD_INT 1
14732: ST_TO_ADDR
14733: GO 14749
// respawn := respawn + 1 ;
14735: LD_ADDR_LOC 18
14739: PUSH
14740: LD_LOC 18
14744: PUSH
14745: LD_INT 1
14747: PLUS
14748: ST_TO_ADDR
// if Side_Positions [ respawn ] and not inqueue [ respawn ] then
14749: LD_EXP 36
14753: PUSH
14754: LD_LOC 18
14758: ARRAY
14759: PUSH
14760: LD_LOC 19
14764: PUSH
14765: LD_LOC 18
14769: ARRAY
14770: NOT
14771: AND
14772: IFFALSE 15122
// begin n := FilterAllUnits ( [ [ f_type , unit_human ] , [ f_side , respawn ] , f_not , [ f_nation , nation_nature ] ] ) ;
14774: LD_ADDR_VAR 0 1
14778: PUSH
14779: LD_INT 21
14781: PUSH
14782: LD_INT 1
14784: PUSH
14785: EMPTY
14786: LIST
14787: LIST
14788: PUSH
14789: LD_INT 22
14791: PUSH
14792: LD_LOC 18
14796: PUSH
14797: EMPTY
14798: LIST
14799: LIST
14800: PUSH
14801: LD_INT 3
14803: PUSH
14804: LD_INT 23
14806: PUSH
14807: LD_INT 0
14809: PUSH
14810: EMPTY
14811: LIST
14812: LIST
14813: PUSH
14814: EMPTY
14815: LIST
14816: LIST
14817: LIST
14818: LIST
14819: PPUSH
14820: CALL_OW 69
14824: ST_TO_ADDR
// if n < number_of_people then
14825: LD_VAR 0 1
14829: PUSH
14830: LD_EXP 23
14834: LESS
14835: IFFALSE 15119
// begin aktresp := respawn ;
14837: LD_ADDR_VAR 0 3
14841: PUSH
14842: LD_LOC 18
14846: ST_TO_ADDR
// inqueue := Replace ( inqueue , aktresp , true ) ;
14847: LD_ADDR_LOC 19
14851: PUSH
14852: LD_LOC 19
14856: PPUSH
14857: LD_VAR 0 3
14861: PPUSH
14862: LD_INT 1
14864: PPUSH
14865: CALL_OW 1
14869: ST_TO_ADDR
// enable ;
14870: ENABLE
// wait ( rand ( respawning_time_min , respawning_time_max ) ) ;
14871: LD_EXP 31
14875: PPUSH
14876: LD_EXP 32
14880: PPUSH
14881: CALL_OW 12
14885: PPUSH
14886: CALL_OW 67
// inqueue := Replace ( inqueue , aktresp , false ) ;
14890: LD_ADDR_LOC 19
14894: PUSH
14895: LD_LOC 19
14899: PPUSH
14900: LD_VAR 0 3
14904: PPUSH
14905: LD_INT 0
14907: PPUSH
14908: CALL_OW 1
14912: ST_TO_ADDR
// dep = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_ok ] , [ f_side , aktresp ] ] ) ;
14913: LD_ADDR_VAR 0 2
14917: PUSH
14918: LD_INT 21
14920: PUSH
14921: LD_INT 3
14923: PUSH
14924: EMPTY
14925: LIST
14926: LIST
14927: PUSH
14928: LD_INT 2
14930: PUSH
14931: LD_INT 30
14933: PUSH
14934: LD_INT 0
14936: PUSH
14937: EMPTY
14938: LIST
14939: LIST
14940: PUSH
14941: LD_INT 30
14943: PUSH
14944: LD_INT 1
14946: PUSH
14947: EMPTY
14948: LIST
14949: LIST
14950: PUSH
14951: EMPTY
14952: LIST
14953: LIST
14954: LIST
14955: PUSH
14956: LD_INT 50
14958: PUSH
14959: EMPTY
14960: LIST
14961: PUSH
14962: LD_INT 22
14964: PUSH
14965: LD_VAR 0 3
14969: PUSH
14970: EMPTY
14971: LIST
14972: LIST
14973: PUSH
14974: EMPTY
14975: LIST
14976: LIST
14977: LIST
14978: LIST
14979: PPUSH
14980: CALL_OW 69
14984: ST_TO_ADDR
// if dep = 0 then
14985: LD_VAR 0 2
14989: PUSH
14990: LD_INT 0
14992: EQUAL
14993: IFFALSE 14997
// exit ;
14995: GO 15123
// hc_name :=  ;
14997: LD_ADDR_OWVAR 26
15001: PUSH
15002: LD_STRING 
15004: ST_TO_ADDR
// hc_importance := 0 ;
15005: LD_ADDR_OWVAR 32
15009: PUSH
15010: LD_INT 0
15012: ST_TO_ADDR
// PrepareHuman ( 0 , 0 , skill_level div 2 ) ;
15013: LD_INT 0
15015: PPUSH
15016: LD_INT 0
15018: PPUSH
15019: LD_EXP 24
15023: PUSH
15024: LD_INT 2
15026: DIV
15027: PPUSH
15028: CALL_OW 380
// uc_nation := Side_Nations [ aktresp ] ;
15032: LD_ADDR_OWVAR 21
15036: PUSH
15037: LD_EXP 37
15041: PUSH
15042: LD_VAR 0 3
15046: ARRAY
15047: ST_TO_ADDR
// uc_side := aktresp ;
15048: LD_ADDR_OWVAR 20
15052: PUSH
15053: LD_VAR 0 3
15057: ST_TO_ADDR
// dep := dep [ Rand ( 1 , dep ) ] ;
15058: LD_ADDR_VAR 0 2
15062: PUSH
15063: LD_VAR 0 2
15067: PUSH
15068: LD_INT 1
15070: PPUSH
15071: LD_VAR 0 2
15075: PPUSH
15076: CALL_OW 12
15080: ARRAY
15081: ST_TO_ADDR
// PlaceUnitXYR ( CreateHuman , GetX ( dep ) , GetY ( dep ) , 7 , true ) ;
15082: CALL_OW 44
15086: PPUSH
15087: LD_VAR 0 2
15091: PPUSH
15092: CALL_OW 250
15096: PPUSH
15097: LD_VAR 0 2
15101: PPUSH
15102: CALL_OW 251
15106: PPUSH
15107: LD_INT 7
15109: PPUSH
15110: LD_INT 1
15112: PPUSH
15113: CALL_OW 50
// end else
15117: GO 15120
// enable ;
15119: ENABLE
// end else
15120: GO 15123
// enable ;
15122: ENABLE
// end ; end_of_file
15123: PPOPN 3
15125: END
// export BuildUpAreas ; export BuildUpTimeActive ; export BuildUpTime_Delay ; export function BeginBuildUp ; var i , j ; begin
15126: LD_INT 0
15128: PPUSH
15129: PPUSH
15130: PPUSH
// BuildUpTime_Delay = 0 ;
15131: LD_ADDR_EXP 59
15135: PUSH
15136: LD_INT 0
15138: ST_TO_ADDR
// if not def_builduptime then
15139: LD_EXP 16
15143: NOT
15144: IFFALSE 15148
// exit ;
15146: GO 15331
// BuildUpTime_Delay := 4 4$00 + 1 1$00 * def_builduptime ;
15148: LD_ADDR_EXP 59
15152: PUSH
15153: LD_INT 8400
15155: PUSH
15156: LD_INT 2100
15158: PUSH
15159: LD_EXP 16
15163: MUL
15164: PLUS
15165: ST_TO_ADDR
// BuildUpTimeActive := true ;
15166: LD_ADDR_EXP 58
15170: PUSH
15171: LD_INT 1
15173: ST_TO_ADDR
// for i := 1 to 8 do
15174: LD_ADDR_VAR 0 2
15178: PUSH
15179: DOUBLE
15180: LD_INT 1
15182: DEC
15183: ST_TO_ADDR
15184: LD_INT 8
15186: PUSH
15187: FOR_TO
15188: IFFALSE 15329
// if Side_Positions [ i ] then
15190: LD_EXP 36
15194: PUSH
15195: LD_VAR 0 2
15199: ARRAY
15200: IFFALSE 15327
// begin SetAreaMapShow ( BuildUpAreas [ Side_Positions [ i ] ] , 5 ) ;
15202: LD_EXP 57
15206: PUSH
15207: LD_EXP 36
15211: PUSH
15212: LD_VAR 0 2
15216: ARRAY
15217: ARRAY
15218: PPUSH
15219: LD_INT 5
15221: PPUSH
15222: CALL_OW 424
// for j := 1 to 8 do
15226: LD_ADDR_VAR 0 3
15230: PUSH
15231: DOUBLE
15232: LD_INT 1
15234: DEC
15235: ST_TO_ADDR
15236: LD_INT 8
15238: PUSH
15239: FOR_TO
15240: IFFALSE 15325
// if Side_Positions [ j ] and ( ( Side_Teams [ i ] <> Side_Teams [ j ] ) or ( not Team_Game ) and ( i <> j ) ) then
15242: LD_EXP 36
15246: PUSH
15247: LD_VAR 0 3
15251: ARRAY
15252: PUSH
15253: LD_EXP 34
15257: PUSH
15258: LD_VAR 0 2
15262: ARRAY
15263: PUSH
15264: LD_EXP 34
15268: PUSH
15269: LD_VAR 0 3
15273: ARRAY
15274: NONEQUAL
15275: PUSH
15276: LD_EXP 38
15280: NOT
15281: PUSH
15282: LD_VAR 0 2
15286: PUSH
15287: LD_VAR 0 3
15291: NONEQUAL
15292: AND
15293: OR
15294: AND
15295: IFFALSE 15323
// HideArea ( j , BuildUpAreas [ Side_Positions [ i ] ] ) ;
15297: LD_VAR 0 3
15301: PPUSH
15302: LD_EXP 57
15306: PUSH
15307: LD_EXP 36
15311: PUSH
15312: LD_VAR 0 2
15316: ARRAY
15317: ARRAY
15318: PPUSH
15319: CALL_OW 333
15323: GO 15239
15325: POP
15326: POP
// end ;
15327: GO 15187
15329: POP
15330: POP
// end ;
15331: LD_VAR 0 1
15335: RET
// export function EndBuildUp ; var i , j ; begin
15336: LD_INT 0
15338: PPUSH
15339: PPUSH
15340: PPUSH
// BuildUpTimeActive := false ;
15341: LD_ADDR_EXP 58
15345: PUSH
15346: LD_INT 0
15348: ST_TO_ADDR
// for i := 1 to 8 do
15349: LD_ADDR_VAR 0 2
15353: PUSH
15354: DOUBLE
15355: LD_INT 1
15357: DEC
15358: ST_TO_ADDR
15359: LD_INT 8
15361: PUSH
15362: FOR_TO
15363: IFFALSE 15504
// if Side_Positions [ i ] then
15365: LD_EXP 36
15369: PUSH
15370: LD_VAR 0 2
15374: ARRAY
15375: IFFALSE 15502
// begin SetAreaMapShow ( BuildUpAreas [ Side_Positions [ i ] ] , 0 ) ;
15377: LD_EXP 57
15381: PUSH
15382: LD_EXP 36
15386: PUSH
15387: LD_VAR 0 2
15391: ARRAY
15392: ARRAY
15393: PPUSH
15394: LD_INT 0
15396: PPUSH
15397: CALL_OW 424
// for j := 1 to 8 do
15401: LD_ADDR_VAR 0 3
15405: PUSH
15406: DOUBLE
15407: LD_INT 1
15409: DEC
15410: ST_TO_ADDR
15411: LD_INT 8
15413: PUSH
15414: FOR_TO
15415: IFFALSE 15500
// if Side_Positions [ j ] and ( ( Side_Teams [ i ] <> Side_Teams [ j ] ) or ( not Team_Game ) and ( i <> j ) ) then
15417: LD_EXP 36
15421: PUSH
15422: LD_VAR 0 3
15426: ARRAY
15427: PUSH
15428: LD_EXP 34
15432: PUSH
15433: LD_VAR 0 2
15437: ARRAY
15438: PUSH
15439: LD_EXP 34
15443: PUSH
15444: LD_VAR 0 3
15448: ARRAY
15449: NONEQUAL
15450: PUSH
15451: LD_EXP 38
15455: NOT
15456: PUSH
15457: LD_VAR 0 2
15461: PUSH
15462: LD_VAR 0 3
15466: NONEQUAL
15467: AND
15468: OR
15469: AND
15470: IFFALSE 15498
// ShowArea ( j , BuildUpAreas [ Side_Positions [ i ] ] ) ;
15472: LD_VAR 0 3
15476: PPUSH
15477: LD_EXP 57
15481: PUSH
15482: LD_EXP 36
15486: PUSH
15487: LD_VAR 0 2
15491: ARRAY
15492: ARRAY
15493: PPUSH
15494: CALL_OW 334
15498: GO 15414
15500: POP
15501: POP
// end ;
15502: GO 15362
15504: POP
15505: POP
// end ;
15506: LD_VAR 0 1
15510: RET
// every 5 trigger BuildUpTimeActive do var i , un ;
15511: LD_EXP 58
15515: IFFALSE 15690
15517: GO 15519
15519: DISABLE
15520: LD_INT 0
15522: PPUSH
15523: PPUSH
// begin for i := 1 to 8 do
15524: LD_ADDR_VAR 0 1
15528: PUSH
15529: DOUBLE
15530: LD_INT 1
15532: DEC
15533: ST_TO_ADDR
15534: LD_INT 8
15536: PUSH
15537: FOR_TO
15538: IFFALSE 15687
// if Side_Positions [ i ] then
15540: LD_EXP 36
15544: PUSH
15545: LD_VAR 0 1
15549: ARRAY
15550: IFFALSE 15685
// for un in FilterUnitsInArea ( BuildUpAreas [ Side_Positions [ i ] ] , [ [ f_or , [ f_type , unit_human ] , [ f_type , unit_vehicle ] ] , [ f_side , Your_Side ] ] ) do
15552: LD_ADDR_VAR 0 2
15556: PUSH
15557: LD_EXP 57
15561: PUSH
15562: LD_EXP 36
15566: PUSH
15567: LD_VAR 0 1
15571: ARRAY
15572: ARRAY
15573: PPUSH
15574: LD_INT 2
15576: PUSH
15577: LD_INT 21
15579: PUSH
15580: LD_INT 1
15582: PUSH
15583: EMPTY
15584: LIST
15585: LIST
15586: PUSH
15587: LD_INT 21
15589: PUSH
15590: LD_INT 2
15592: PUSH
15593: EMPTY
15594: LIST
15595: LIST
15596: PUSH
15597: EMPTY
15598: LIST
15599: LIST
15600: LIST
15601: PUSH
15602: LD_INT 22
15604: PUSH
15605: LD_OWVAR 2
15609: PUSH
15610: EMPTY
15611: LIST
15612: LIST
15613: PUSH
15614: EMPTY
15615: LIST
15616: LIST
15617: PPUSH
15618: CALL_OW 70
15622: PUSH
15623: FOR_IN
15624: IFFALSE 15683
// if ( ( Side_Teams [ i ] <> Side_Teams [ Your_Side ] ) or ( not Team_Game ) and ( i <> Your_Side ) ) then
15626: LD_EXP 34
15630: PUSH
15631: LD_VAR 0 1
15635: ARRAY
15636: PUSH
15637: LD_EXP 34
15641: PUSH
15642: LD_OWVAR 2
15646: ARRAY
15647: NONEQUAL
15648: PUSH
15649: LD_EXP 38
15653: NOT
15654: PUSH
15655: LD_VAR 0 1
15659: PUSH
15660: LD_OWVAR 2
15664: NONEQUAL
15665: AND
15666: OR
15667: IFFALSE 15681
// ComMoveToArea ( un , BuildUpEscape ) ;
15669: LD_VAR 0 2
15673: PPUSH
15674: LD_INT 16
15676: PPUSH
15677: CALL_OW 113
15681: GO 15623
15683: POP
15684: POP
15685: GO 15537
15687: POP
15688: POP
// enable ;
15689: ENABLE
// end ;
15690: PPOPN 2
15692: END
// every 0 0$1 trigger def_builduptime do
15693: LD_EXP 16
15697: IFFALSE 15723
15699: GO 15701
15701: DISABLE
// begin wait ( 4 4$00 + ( def_builduptime * 1 1$00 ) ) ;
15702: LD_INT 8400
15704: PUSH
15705: LD_EXP 16
15709: PUSH
15710: LD_INT 2100
15712: MUL
15713: PLUS
15714: PPUSH
15715: CALL_OW 67
// EndBuildUp ;
15719: CALL 15336 0 0
// end ;
15723: END
