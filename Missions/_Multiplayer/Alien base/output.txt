// export def_amount_of_siberit , def_public_score ; export is_depot , number_of_breastworks , number_of_people , skill_level , starting_crates , starting_resources , shipments_density , morale_decreasing_time , amount_of_siberit , respawning_time_min , respawning_time_max , buildUpTime_Delay , amount_of_apemen , siberite_bomb_Delay ; export Side_Teams , Teams ; export Side_Positions , Side_Nations , Team_Game , Side_Comps ; export Position_Sides ; export depot_def , breastworks_def , start_def , normal_oil_deposits_locations , extra_oil_deposits_locations , normal_sib_deposits_locations , extra_sib_deposits_locations , battle_flags_id , def_win_rules ; export heroes ; var commander ; var global_units , global_defined , soldiers_created ; var neng , nsci , nmech , nsol ; function mp_sides_comps ; var c , i ; begin
   0: LD_INT 0
   2: PPUSH
   3: PPUSH
   4: PPUSH
// c = [ ] ;
   5: LD_ADDR_VAR 0 2
   9: PUSH
  10: EMPTY
  11: ST_TO_ADDR
// for i = 1 to 8 do
  12: LD_ADDR_VAR 0 3
  16: PUSH
  17: DOUBLE
  18: LD_INT 1
  20: DEC
  21: ST_TO_ADDR
  22: LD_INT 8
  24: PUSH
  25: FOR_TO
  26: IFFALSE 51
// c = c ^ Multiplayer_GetPlayerIsComp ( i ) ;
  28: LD_ADDR_VAR 0 2
  32: PUSH
  33: LD_VAR 0 2
  37: PUSH
  38: LD_VAR 0 3
  42: PPUSH
  43: CALL_OW 532
  47: ADD
  48: ST_TO_ADDR
  49: GO 25
  51: POP
  52: POP
// result = c ;
  53: LD_ADDR_VAR 0 1
  57: PUSH
  58: LD_VAR 0 2
  62: ST_TO_ADDR
// end ;
  63: LD_VAR 0 1
  67: RET
// function read_multiplayer_and_game_parameters ; var i , tech_level ; begin
  68: LD_INT 0
  70: PPUSH
  71: PPUSH
  72: PPUSH
// if Multiplayer then
  73: LD_OWVAR 4
  77: IFFALSE 151
// begin Game_Type := mp_game_type ;
  79: LD_ADDR_EXP 42
  83: PUSH
  84: LD_OWVAR 6
  88: ST_TO_ADDR
// Your_Side := mp_player_side ;
  89: LD_ADDR_OWVAR 2
  93: PUSH
  94: LD_OWVAR 7
  98: ST_TO_ADDR
// Side_Positions := mp_sides_positions ;
  99: LD_ADDR_EXP 19
 103: PUSH
 104: LD_OWVAR 17
 108: ST_TO_ADDR
// Side_Teams := mp_sides_teams ;
 109: LD_ADDR_EXP 17
 113: PUSH
 114: LD_OWVAR 15
 118: ST_TO_ADDR
// Side_Nations := mp_sides_nations ;
 119: LD_ADDR_EXP 20
 123: PUSH
 124: LD_OWVAR 16
 128: ST_TO_ADDR
// Side_Comps = mp_sides_comps ;
 129: LD_ADDR_EXP 22
 133: PUSH
 134: CALL 0 0 0
 138: ST_TO_ADDR
// Teams := mp_teams ;
 139: LD_ADDR_EXP 18
 143: PUSH
 144: LD_OWVAR 12
 148: ST_TO_ADDR
// end else
 149: GO 372
// begin Game_Type := 1 ;
 151: LD_ADDR_EXP 42
 155: PUSH
 156: LD_INT 1
 158: ST_TO_ADDR
// Your_Side := 3 ;
 159: LD_ADDR_OWVAR 2
 163: PUSH
 164: LD_INT 3
 166: ST_TO_ADDR
// Side_Positions := [ 1 , 2 , 3 , 4 , 5 , 0 , 0 , 6 ] ;
 167: LD_ADDR_EXP 19
 171: PUSH
 172: LD_INT 1
 174: PUSH
 175: LD_INT 2
 177: PUSH
 178: LD_INT 3
 180: PUSH
 181: LD_INT 4
 183: PUSH
 184: LD_INT 5
 186: PUSH
 187: LD_INT 0
 189: PUSH
 190: LD_INT 0
 192: PUSH
 193: LD_INT 6
 195: PUSH
 196: EMPTY
 197: LIST
 198: LIST
 199: LIST
 200: LIST
 201: LIST
 202: LIST
 203: LIST
 204: LIST
 205: ST_TO_ADDR
// Side_Teams := [ 1 , 2 , 3 , 4 , 5 , 0 , 0 , 6 ] ;
 206: LD_ADDR_EXP 17
 210: PUSH
 211: LD_INT 1
 213: PUSH
 214: LD_INT 2
 216: PUSH
 217: LD_INT 3
 219: PUSH
 220: LD_INT 4
 222: PUSH
 223: LD_INT 5
 225: PUSH
 226: LD_INT 0
 228: PUSH
 229: LD_INT 0
 231: PUSH
 232: LD_INT 6
 234: PUSH
 235: EMPTY
 236: LIST
 237: LIST
 238: LIST
 239: LIST
 240: LIST
 241: LIST
 242: LIST
 243: LIST
 244: ST_TO_ADDR
// Side_Nations := [ 1 , 2 , 3 , 1 , 2 , 0 , 0 , 3 ] ;
 245: LD_ADDR_EXP 20
 249: PUSH
 250: LD_INT 1
 252: PUSH
 253: LD_INT 2
 255: PUSH
 256: LD_INT 3
 258: PUSH
 259: LD_INT 1
 261: PUSH
 262: LD_INT 2
 264: PUSH
 265: LD_INT 0
 267: PUSH
 268: LD_INT 0
 270: PUSH
 271: LD_INT 3
 273: PUSH
 274: EMPTY
 275: LIST
 276: LIST
 277: LIST
 278: LIST
 279: LIST
 280: LIST
 281: LIST
 282: LIST
 283: ST_TO_ADDR
// Side_Comps = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
 284: LD_ADDR_EXP 22
 288: PUSH
 289: LD_INT 0
 291: PUSH
 292: LD_INT 0
 294: PUSH
 295: LD_INT 0
 297: PUSH
 298: LD_INT 0
 300: PUSH
 301: LD_INT 0
 303: PUSH
 304: LD_INT 0
 306: PUSH
 307: LD_INT 0
 309: PUSH
 310: LD_INT 0
 312: PUSH
 313: EMPTY
 314: LIST
 315: LIST
 316: LIST
 317: LIST
 318: LIST
 319: LIST
 320: LIST
 321: LIST
 322: ST_TO_ADDR
// Teams := [ [ 1 ] , [ 2 ] , [ 3 ] , [ 4 ] , [ 5 ] , [ 6 ] ] ;
 323: LD_ADDR_EXP 18
 327: PUSH
 328: LD_INT 1
 330: PUSH
 331: EMPTY
 332: LIST
 333: PUSH
 334: LD_INT 2
 336: PUSH
 337: EMPTY
 338: LIST
 339: PUSH
 340: LD_INT 3
 342: PUSH
 343: EMPTY
 344: LIST
 345: PUSH
 346: LD_INT 4
 348: PUSH
 349: EMPTY
 350: LIST
 351: PUSH
 352: LD_INT 5
 354: PUSH
 355: EMPTY
 356: LIST
 357: PUSH
 358: LD_INT 6
 360: PUSH
 361: EMPTY
 362: LIST
 363: PUSH
 364: EMPTY
 365: LIST
 366: LIST
 367: LIST
 368: LIST
 369: LIST
 370: LIST
 371: ST_TO_ADDR
// end ; for i := 1 to 8 do
 372: LD_ADDR_VAR 0 2
 376: PUSH
 377: DOUBLE
 378: LD_INT 1
 380: DEC
 381: ST_TO_ADDR
 382: LD_INT 8
 384: PUSH
 385: FOR_TO
 386: IFFALSE 473
// if Multiplayer_GetPlayerIsSpec ( i ) then
 388: LD_VAR 0 2
 392: PPUSH
 393: CALL_OW 530
 397: IFFALSE 471
// begin Side_Positions := Replace ( Side_Positions , i , 0 ) ;
 399: LD_ADDR_EXP 19
 403: PUSH
 404: LD_EXP 19
 408: PPUSH
 409: LD_VAR 0 2
 413: PPUSH
 414: LD_INT 0
 416: PPUSH
 417: CALL_OW 1
 421: ST_TO_ADDR
// Teams := Replace ( Teams , Side_Teams [ i ] , Teams [ Side_Teams [ i ] ] diff i ) ;
 422: LD_ADDR_EXP 18
 426: PUSH
 427: LD_EXP 18
 431: PPUSH
 432: LD_EXP 17
 436: PUSH
 437: LD_VAR 0 2
 441: ARRAY
 442: PPUSH
 443: LD_EXP 18
 447: PUSH
 448: LD_EXP 17
 452: PUSH
 453: LD_VAR 0 2
 457: ARRAY
 458: ARRAY
 459: PUSH
 460: LD_VAR 0 2
 464: DIFF
 465: PPUSH
 466: CALL_OW 1
 470: ST_TO_ADDR
// end ;
 471: GO 385
 473: POP
 474: POP
// Position_Sides := [ 0 , 0 , 0 , 0 , 0 , 0 ] ;
 475: LD_ADDR_EXP 23
 479: PUSH
 480: LD_INT 0
 482: PUSH
 483: LD_INT 0
 485: PUSH
 486: LD_INT 0
 488: PUSH
 489: LD_INT 0
 491: PUSH
 492: LD_INT 0
 494: PUSH
 495: LD_INT 0
 497: PUSH
 498: EMPTY
 499: LIST
 500: LIST
 501: LIST
 502: LIST
 503: LIST
 504: LIST
 505: ST_TO_ADDR
// for i := 1 to 8 do
 506: LD_ADDR_VAR 0 2
 510: PUSH
 511: DOUBLE
 512: LD_INT 1
 514: DEC
 515: ST_TO_ADDR
 516: LD_INT 8
 518: PUSH
 519: FOR_TO
 520: IFFALSE 567
// if Side_Positions [ i ] then
 522: LD_EXP 19
 526: PUSH
 527: LD_VAR 0 2
 531: ARRAY
 532: IFFALSE 565
// Position_Sides := Replace ( Position_Sides , Side_Positions [ i ] , i ) ;
 534: LD_ADDR_EXP 23
 538: PUSH
 539: LD_EXP 23
 543: PPUSH
 544: LD_EXP 19
 548: PUSH
 549: LD_VAR 0 2
 553: ARRAY
 554: PPUSH
 555: LD_VAR 0 2
 559: PPUSH
 560: CALL_OW 1
 564: ST_TO_ADDR
 565: GO 519
 567: POP
 568: POP
// Team_Game := ( Side_Teams diff [ 0 ] ) > 1 ;
 569: LD_ADDR_EXP 21
 573: PUSH
 574: LD_EXP 17
 578: PUSH
 579: LD_INT 0
 581: PUSH
 582: EMPTY
 583: LIST
 584: DIFF
 585: PUSH
 586: LD_INT 1
 588: GREATER
 589: ST_TO_ADDR
// if Multiplayer then
 590: LD_OWVAR 4
 594: IFFALSE 840
// begin def_base_level := GetMultiplayerSetting ( 0 ) ;
 596: LD_ADDR_EXP 44
 600: PUSH
 601: LD_INT 0
 603: PPUSH
 604: CALL_OW 426
 608: ST_TO_ADDR
// def_amount_of_people := GetMultiplayerSetting ( 1 ) ;
 609: LD_ADDR_EXP 45
 613: PUSH
 614: LD_INT 1
 616: PPUSH
 617: CALL_OW 426
 621: ST_TO_ADDR
// def_skill_level := GetMultiplayerSetting ( 2 ) ;
 622: LD_ADDR_EXP 46
 626: PUSH
 627: LD_INT 2
 629: PPUSH
 630: CALL_OW 426
 634: ST_TO_ADDR
// def_starting_resources := GetMultiplayerSetting ( 3 ) ;
 635: LD_ADDR_EXP 47
 639: PUSH
 640: LD_INT 3
 642: PPUSH
 643: CALL_OW 426
 647: ST_TO_ADDR
// def_shipments_density := GetMultiplayerSetting ( 4 ) ;
 648: LD_ADDR_EXP 48
 652: PUSH
 653: LD_INT 4
 655: PPUSH
 656: CALL_OW 426
 660: ST_TO_ADDR
// def_extra_oil_deposits := GetMultiplayerSetting ( 5 ) ;
 661: LD_ADDR_EXP 49
 665: PUSH
 666: LD_INT 5
 668: PPUSH
 669: CALL_OW 426
 673: ST_TO_ADDR
// def_extra_sib_deposits := GetMultiplayerSetting ( 6 ) ;
 674: LD_ADDR_EXP 50
 678: PUSH
 679: LD_INT 6
 681: PPUSH
 682: CALL_OW 426
 686: ST_TO_ADDR
// def_shared_vision := GetMultiplayerSetting ( 10 ) ;
 687: LD_ADDR_EXP 51
 691: PUSH
 692: LD_INT 10
 694: PPUSH
 695: CALL_OW 426
 699: ST_TO_ADDR
// def_morale_flags := GetMultiplayerSetting ( 11 ) ;
 700: LD_ADDR_EXP 52
 704: PUSH
 705: LD_INT 11
 707: PPUSH
 708: CALL_OW 426
 712: ST_TO_ADDR
// def_siberite_detection := GetMultiplayerSetting ( 12 ) ;
 713: LD_ADDR_EXP 53
 717: PUSH
 718: LD_INT 12
 720: PPUSH
 721: CALL_OW 426
 725: ST_TO_ADDR
// def_people_respawning := GetMultiplayerSetting ( 13 ) ;
 726: LD_ADDR_EXP 54
 730: PUSH
 731: LD_INT 13
 733: PPUSH
 734: CALL_OW 426
 738: ST_TO_ADDR
// def_amount_of_apemen := GetMultiplayerSetting ( 14 ) ;
 739: LD_ADDR_EXP 55
 743: PUSH
 744: LD_INT 14
 746: PPUSH
 747: CALL_OW 426
 751: ST_TO_ADDR
// def_amount_of_siberit := GetMultiplayerSetting ( 15 ) ;
 752: LD_ADDR_EXP 1
 756: PUSH
 757: LD_INT 15
 759: PPUSH
 760: CALL_OW 426
 764: ST_TO_ADDR
// def_public_score := GetMultiplayerSetting ( 16 ) ;
 765: LD_ADDR_EXP 2
 769: PUSH
 770: LD_INT 16
 772: PPUSH
 773: CALL_OW 426
 777: ST_TO_ADDR
// def_siberite_bomb := GetMultiplayerSetting ( 17 ) ;
 778: LD_ADDR_EXP 56
 782: PUSH
 783: LD_INT 17
 785: PPUSH
 786: CALL_OW 426
 790: ST_TO_ADDR
// def_builduptime := GetMultiplayerSetting ( 20 ) ;
 791: LD_ADDR_EXP 57
 795: PUSH
 796: LD_INT 20
 798: PPUSH
 799: CALL_OW 426
 803: ST_TO_ADDR
// def_game_rules := GetMultiplayerSetting ( 21 ) ;
 804: LD_ADDR_EXP 43
 808: PUSH
 809: LD_INT 21
 811: PPUSH
 812: CALL_OW 426
 816: ST_TO_ADDR
// tech_level = GetMultiplayerSetting ( 22 ) ;
 817: LD_ADDR_VAR 0 3
 821: PUSH
 822: LD_INT 22
 824: PPUSH
 825: CALL_OW 426
 829: ST_TO_ADDR
// def_win_rules = 0 ;
 830: LD_ADDR_EXP 32
 834: PUSH
 835: LD_INT 0
 837: ST_TO_ADDR
// end else
 838: GO 996
// begin Randomize ;
 840: CALL_OW 10
// def_base_level := 2 ;
 844: LD_ADDR_EXP 44
 848: PUSH
 849: LD_INT 2
 851: ST_TO_ADDR
// def_amount_of_people := 0 ;
 852: LD_ADDR_EXP 45
 856: PUSH
 857: LD_INT 0
 859: ST_TO_ADDR
// def_skill_level := 1 ;
 860: LD_ADDR_EXP 46
 864: PUSH
 865: LD_INT 1
 867: ST_TO_ADDR
// def_starting_resources := 2 ;
 868: LD_ADDR_EXP 47
 872: PUSH
 873: LD_INT 2
 875: ST_TO_ADDR
// def_shipments_density := 1 ;
 876: LD_ADDR_EXP 48
 880: PUSH
 881: LD_INT 1
 883: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
 884: LD_ADDR_EXP 49
 888: PUSH
 889: LD_INT 0
 891: ST_TO_ADDR
// def_extra_sib_deposits := 1 ;
 892: LD_ADDR_EXP 50
 896: PUSH
 897: LD_INT 1
 899: ST_TO_ADDR
// def_shared_vision := 1 ;
 900: LD_ADDR_EXP 51
 904: PUSH
 905: LD_INT 1
 907: ST_TO_ADDR
// def_morale_flags := 1 ;
 908: LD_ADDR_EXP 52
 912: PUSH
 913: LD_INT 1
 915: ST_TO_ADDR
// def_siberite_detection := 1 ;
 916: LD_ADDR_EXP 53
 920: PUSH
 921: LD_INT 1
 923: ST_TO_ADDR
// def_people_respawning := 2 ;
 924: LD_ADDR_EXP 54
 928: PUSH
 929: LD_INT 2
 931: ST_TO_ADDR
// def_amount_of_apemen := 3 ;
 932: LD_ADDR_EXP 55
 936: PUSH
 937: LD_INT 3
 939: ST_TO_ADDR
// def_amount_of_siberit := 0 ;
 940: LD_ADDR_EXP 1
 944: PUSH
 945: LD_INT 0
 947: ST_TO_ADDR
// def_public_score := 0 ;
 948: LD_ADDR_EXP 2
 952: PUSH
 953: LD_INT 0
 955: ST_TO_ADDR
// def_siberite_bomb := 4 ;
 956: LD_ADDR_EXP 56
 960: PUSH
 961: LD_INT 4
 963: ST_TO_ADDR
// def_builduptime := 0 ;
 964: LD_ADDR_EXP 57
 968: PUSH
 969: LD_INT 0
 971: ST_TO_ADDR
// def_game_rules := 0 ;
 972: LD_ADDR_EXP 43
 976: PUSH
 977: LD_INT 0
 979: ST_TO_ADDR
// tech_level = 4 ;
 980: LD_ADDR_VAR 0 3
 984: PUSH
 985: LD_INT 4
 987: ST_TO_ADDR
// def_win_rules = 0 ;
 988: LD_ADDR_EXP 32
 992: PUSH
 993: LD_INT 0
 995: ST_TO_ADDR
// end ; InitGameRules ;
 996: CALL 10807 0 0
// if def_game_rules = 0 then
1000: LD_EXP 43
1004: PUSH
1005: LD_INT 0
1007: EQUAL
1008: IFFALSE 1059
// begin if isSGUI then
1010: LD_OWVAR 83
1014: IFFALSE 1022
// setMpTechs ( ) else
1016: CALL 15624 0 0
1020: GO 1059
// begin if Game_Type = 3 then
1022: LD_EXP 42
1026: PUSH
1027: LD_INT 3
1029: EQUAL
1030: IFFALSE 1046
// tech_level = tech_level + 3 ;
1032: LD_ADDR_VAR 0 3
1036: PUSH
1037: LD_VAR 0 3
1041: PUSH
1042: LD_INT 3
1044: PLUS
1045: ST_TO_ADDR
// SetMpTechLevel ( tech_level + 1 ) ;
1046: LD_VAR 0 3
1050: PUSH
1051: LD_INT 1
1053: PLUS
1054: PPUSH
1055: CALL 15771 0 1
// end ; end ; if ( Game_Type = 5 ) then
1059: LD_EXP 42
1063: PUSH
1064: LD_INT 5
1066: EQUAL
1067: IFFALSE 1096
// begin def_base_level := 1 ;
1069: LD_ADDR_EXP 44
1073: PUSH
1074: LD_INT 1
1076: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
1077: LD_ADDR_EXP 49
1081: PUSH
1082: LD_INT 0
1084: ST_TO_ADDR
// def_extra_sib_deposits := 0 ;
1085: LD_ADDR_EXP 50
1089: PUSH
1090: LD_INT 0
1092: ST_TO_ADDR
// disable ( 10 ) ;
1093: LD_INT 10
1095: DISABLE_MARKED
// end ; is_depot := [ 0 , 1 , 1 ] [ def_base_level + 1 ] ;
1096: LD_ADDR_EXP 3
1100: PUSH
1101: LD_INT 0
1103: PUSH
1104: LD_INT 1
1106: PUSH
1107: LD_INT 1
1109: PUSH
1110: EMPTY
1111: LIST
1112: LIST
1113: LIST
1114: PUSH
1115: LD_EXP 44
1119: PUSH
1120: LD_INT 1
1122: PLUS
1123: ARRAY
1124: ST_TO_ADDR
// number_of_breastworks := [ 0 , 0 , 2 ] [ def_base_level + 1 ] ;
1125: LD_ADDR_EXP 4
1129: PUSH
1130: LD_INT 0
1132: PUSH
1133: LD_INT 0
1135: PUSH
1136: LD_INT 2
1138: PUSH
1139: EMPTY
1140: LIST
1141: LIST
1142: LIST
1143: PUSH
1144: LD_EXP 44
1148: PUSH
1149: LD_INT 1
1151: PLUS
1152: ARRAY
1153: ST_TO_ADDR
// number_of_people := def_amount_of_people + 4 ;
1154: LD_ADDR_EXP 5
1158: PUSH
1159: LD_EXP 45
1163: PUSH
1164: LD_INT 4
1166: PLUS
1167: ST_TO_ADDR
// shipments_density := 150 - ( def_shipments_density + 1 ) ;
1168: LD_ADDR_EXP 9
1172: PUSH
1173: LD_INT 150
1175: PUSH
1176: LD_EXP 48
1180: PUSH
1181: LD_INT 1
1183: PLUS
1184: MINUS
1185: ST_TO_ADDR
// if def_people_respawning = 0 then
1186: LD_EXP 54
1190: PUSH
1191: LD_INT 0
1193: EQUAL
1194: IFFALSE 1214
// begin respawning_time_min = 0 ;
1196: LD_ADDR_EXP 12
1200: PUSH
1201: LD_INT 0
1203: ST_TO_ADDR
// respawning_time_max = 0 ;
1204: LD_ADDR_EXP 13
1208: PUSH
1209: LD_INT 0
1211: ST_TO_ADDR
// end else
1212: GO 1258
// begin respawning_time_min := ( 5 5$00 / 5 ) * ( 6 - def_people_respawning ) ;
1214: LD_ADDR_EXP 12
1218: PUSH
1219: LD_INT 10500
1221: PUSH
1222: LD_INT 5
1224: DIVREAL
1225: PUSH
1226: LD_INT 6
1228: PUSH
1229: LD_EXP 54
1233: MINUS
1234: MUL
1235: ST_TO_ADDR
// respawning_time_max := ( 15 15$00 / 5 ) * ( 6 - def_people_respawning ) ;
1236: LD_ADDR_EXP 13
1240: PUSH
1241: LD_INT 31500
1243: PUSH
1244: LD_INT 5
1246: DIVREAL
1247: PUSH
1248: LD_INT 6
1250: PUSH
1251: LD_EXP 54
1255: MINUS
1256: MUL
1257: ST_TO_ADDR
// end ; if not def_amount_of_apemen then
1258: LD_EXP 55
1262: NOT
1263: IFFALSE 1275
// amount_of_apemen := 0 else
1265: LD_ADDR_EXP 15
1269: PUSH
1270: LD_INT 0
1272: ST_TO_ADDR
1273: GO 1285
// amount_of_apemen := def_amount_of_apemen ;
1275: LD_ADDR_EXP 15
1279: PUSH
1280: LD_EXP 55
1284: ST_TO_ADDR
// if def_siberite_bomb = 0 then
1285: LD_EXP 56
1289: PUSH
1290: LD_INT 0
1292: EQUAL
1293: IFFALSE 1305
// siberite_bomb_Delay = 0 else
1295: LD_ADDR_EXP 16
1299: PUSH
1300: LD_INT 0
1302: ST_TO_ADDR
1303: GO 1327
// siberite_bomb_Delay = ( def_siberite_bomb - 1 ) * 10 10$0 + 1 ;
1305: LD_ADDR_EXP 16
1309: PUSH
1310: LD_EXP 56
1314: PUSH
1315: LD_INT 1
1317: MINUS
1318: PUSH
1319: LD_INT 21000
1321: MUL
1322: PUSH
1323: LD_INT 1
1325: PLUS
1326: ST_TO_ADDR
// if def_builduptime = 0 then
1327: LD_EXP 57
1331: PUSH
1332: LD_INT 0
1334: EQUAL
1335: IFFALSE 1347
// buildUpTime_Delay = 0 else
1337: LD_ADDR_EXP 14
1341: PUSH
1342: LD_INT 0
1344: ST_TO_ADDR
1345: GO 1365
// buildUpTime_Delay := 4 4$00 + 1 1$00 * def_builduptime ;
1347: LD_ADDR_EXP 14
1351: PUSH
1352: LD_INT 8400
1354: PUSH
1355: LD_INT 2100
1357: PUSH
1358: LD_EXP 57
1362: MUL
1363: PLUS
1364: ST_TO_ADDR
// amount_of_siberit := [ 30 , 60 , 90 , 120 , 150 , 180 , 210 , 240 , 270 , 300 , 400 , 500 , 600 , 700 , 800 , 900 , 1000 , 1250 , 1500 , 1750 , 2000 , 2250 , 2500 , 2750 , 3000 , 3500 , 4000 , 4500 , 5000 , 6000 , 7000 , 8000 , 9000 , 10000 ] [ def_amount_of_siberit + 1 ] ;
1365: LD_ADDR_EXP 11
1369: PUSH
1370: LD_INT 30
1372: PUSH
1373: LD_INT 60
1375: PUSH
1376: LD_INT 90
1378: PUSH
1379: LD_INT 120
1381: PUSH
1382: LD_INT 150
1384: PUSH
1385: LD_INT 180
1387: PUSH
1388: LD_INT 210
1390: PUSH
1391: LD_INT 240
1393: PUSH
1394: LD_INT 270
1396: PUSH
1397: LD_INT 300
1399: PUSH
1400: LD_INT 400
1402: PUSH
1403: LD_INT 500
1405: PUSH
1406: LD_INT 600
1408: PUSH
1409: LD_INT 700
1411: PUSH
1412: LD_INT 800
1414: PUSH
1415: LD_INT 900
1417: PUSH
1418: LD_INT 1000
1420: PUSH
1421: LD_INT 1250
1423: PUSH
1424: LD_INT 1500
1426: PUSH
1427: LD_INT 1750
1429: PUSH
1430: LD_INT 2000
1432: PUSH
1433: LD_INT 2250
1435: PUSH
1436: LD_INT 2500
1438: PUSH
1439: LD_INT 2750
1441: PUSH
1442: LD_INT 3000
1444: PUSH
1445: LD_INT 3500
1447: PUSH
1448: LD_INT 4000
1450: PUSH
1451: LD_INT 4500
1453: PUSH
1454: LD_INT 5000
1456: PUSH
1457: LD_INT 6000
1459: PUSH
1460: LD_INT 7000
1462: PUSH
1463: LD_INT 8000
1465: PUSH
1466: LD_INT 9000
1468: PUSH
1469: LD_INT 10000
1471: PUSH
1472: EMPTY
1473: LIST
1474: LIST
1475: LIST
1476: LIST
1477: LIST
1478: LIST
1479: LIST
1480: LIST
1481: LIST
1482: LIST
1483: LIST
1484: LIST
1485: LIST
1486: LIST
1487: LIST
1488: LIST
1489: LIST
1490: LIST
1491: LIST
1492: LIST
1493: LIST
1494: LIST
1495: LIST
1496: LIST
1497: LIST
1498: LIST
1499: LIST
1500: LIST
1501: LIST
1502: LIST
1503: LIST
1504: LIST
1505: LIST
1506: LIST
1507: PUSH
1508: LD_EXP 1
1512: PUSH
1513: LD_INT 1
1515: PLUS
1516: ARRAY
1517: ST_TO_ADDR
// skill_level := [ 2 , 3 , 4 , 5 ] [ def_skill_level + 1 ] ;
1518: LD_ADDR_EXP 6
1522: PUSH
1523: LD_INT 2
1525: PUSH
1526: LD_INT 3
1528: PUSH
1529: LD_INT 4
1531: PUSH
1532: LD_INT 5
1534: PUSH
1535: EMPTY
1536: LIST
1537: LIST
1538: LIST
1539: LIST
1540: PUSH
1541: LD_EXP 46
1545: PUSH
1546: LD_INT 1
1548: PLUS
1549: ARRAY
1550: ST_TO_ADDR
// if ( def_game_rules = 4 ) then
1551: LD_EXP 43
1555: PUSH
1556: LD_INT 4
1558: EQUAL
1559: IFFALSE 1582
// begin starting_resources := [ 10000 , 5000 , 1000 ] ;
1561: LD_ADDR_EXP 8
1565: PUSH
1566: LD_INT 10000
1568: PUSH
1569: LD_INT 5000
1571: PUSH
1572: LD_INT 1000
1574: PUSH
1575: EMPTY
1576: LIST
1577: LIST
1578: LIST
1579: ST_TO_ADDR
// end else
1580: GO 1854
// if ( Game_Type = 5 ) then
1582: LD_EXP 42
1586: PUSH
1587: LD_INT 5
1589: EQUAL
1590: IFFALSE 1708
// begin starting_resources := [ [ 1000 , 100 , 100 ] , [ 2000 , 200 , 200 ] , [ 5000 , 500 , 500 ] , [ 10000 , 1000 , 1000 ] , [ 25000 , 2500 , 2500 ] , [ 50000 , 5000 , 5000 ] ] [ def_starting_resources + 1 ] ;
1592: LD_ADDR_EXP 8
1596: PUSH
1597: LD_INT 1000
1599: PUSH
1600: LD_INT 100
1602: PUSH
1603: LD_INT 100
1605: PUSH
1606: EMPTY
1607: LIST
1608: LIST
1609: LIST
1610: PUSH
1611: LD_INT 2000
1613: PUSH
1614: LD_INT 200
1616: PUSH
1617: LD_INT 200
1619: PUSH
1620: EMPTY
1621: LIST
1622: LIST
1623: LIST
1624: PUSH
1625: LD_INT 5000
1627: PUSH
1628: LD_INT 500
1630: PUSH
1631: LD_INT 500
1633: PUSH
1634: EMPTY
1635: LIST
1636: LIST
1637: LIST
1638: PUSH
1639: LD_INT 10000
1641: PUSH
1642: LD_INT 1000
1644: PUSH
1645: LD_INT 1000
1647: PUSH
1648: EMPTY
1649: LIST
1650: LIST
1651: LIST
1652: PUSH
1653: LD_INT 25000
1655: PUSH
1656: LD_INT 2500
1658: PUSH
1659: LD_INT 2500
1661: PUSH
1662: EMPTY
1663: LIST
1664: LIST
1665: LIST
1666: PUSH
1667: LD_INT 50000
1669: PUSH
1670: LD_INT 5000
1672: PUSH
1673: LD_INT 5000
1675: PUSH
1676: EMPTY
1677: LIST
1678: LIST
1679: LIST
1680: PUSH
1681: EMPTY
1682: LIST
1683: LIST
1684: LIST
1685: LIST
1686: LIST
1687: LIST
1688: PUSH
1689: LD_EXP 47
1693: PUSH
1694: LD_INT 1
1696: PLUS
1697: ARRAY
1698: ST_TO_ADDR
// starting_crates := [ ] ;
1699: LD_ADDR_EXP 7
1703: PUSH
1704: EMPTY
1705: ST_TO_ADDR
// end else
1706: GO 1854
// begin starting_resources := [ [ 0 , 0 , 0 ] , [ 30 , 0 , 0 ] , [ 50 , 20 , 0 ] , [ 80 , 40 , 20 ] ] [ def_starting_resources + 1 ] ;
1708: LD_ADDR_EXP 8
1712: PUSH
1713: LD_INT 0
1715: PUSH
1716: LD_INT 0
1718: PUSH
1719: LD_INT 0
1721: PUSH
1722: EMPTY
1723: LIST
1724: LIST
1725: LIST
1726: PUSH
1727: LD_INT 30
1729: PUSH
1730: LD_INT 0
1732: PUSH
1733: LD_INT 0
1735: PUSH
1736: EMPTY
1737: LIST
1738: LIST
1739: LIST
1740: PUSH
1741: LD_INT 50
1743: PUSH
1744: LD_INT 20
1746: PUSH
1747: LD_INT 0
1749: PUSH
1750: EMPTY
1751: LIST
1752: LIST
1753: LIST
1754: PUSH
1755: LD_INT 80
1757: PUSH
1758: LD_INT 40
1760: PUSH
1761: LD_INT 20
1763: PUSH
1764: EMPTY
1765: LIST
1766: LIST
1767: LIST
1768: PUSH
1769: EMPTY
1770: LIST
1771: LIST
1772: LIST
1773: LIST
1774: PUSH
1775: LD_EXP 47
1779: PUSH
1780: LD_INT 1
1782: PLUS
1783: ARRAY
1784: ST_TO_ADDR
// starting_crates := [ [ 10 ] , [ 7 , 14 ] , [ 6 , 12 , 18 ] , [ 5 , 10 , 15 , 20 ] ] [ def_starting_resources + 1 ] ;
1785: LD_ADDR_EXP 7
1789: PUSH
1790: LD_INT 10
1792: PUSH
1793: EMPTY
1794: LIST
1795: PUSH
1796: LD_INT 7
1798: PUSH
1799: LD_INT 14
1801: PUSH
1802: EMPTY
1803: LIST
1804: LIST
1805: PUSH
1806: LD_INT 6
1808: PUSH
1809: LD_INT 12
1811: PUSH
1812: LD_INT 18
1814: PUSH
1815: EMPTY
1816: LIST
1817: LIST
1818: LIST
1819: PUSH
1820: LD_INT 5
1822: PUSH
1823: LD_INT 10
1825: PUSH
1826: LD_INT 15
1828: PUSH
1829: LD_INT 20
1831: PUSH
1832: EMPTY
1833: LIST
1834: LIST
1835: LIST
1836: LIST
1837: PUSH
1838: EMPTY
1839: LIST
1840: LIST
1841: LIST
1842: LIST
1843: PUSH
1844: LD_EXP 47
1848: PUSH
1849: LD_INT 1
1851: PLUS
1852: ARRAY
1853: ST_TO_ADDR
// end ; morale_decreasing_time := [ - 1 , 0 0$10 , 0 0$20 , 0 0$40 , 0 0$0 ] [ def_morale_flags + 1 ] ;
1854: LD_ADDR_EXP 10
1858: PUSH
1859: LD_INT 1
1861: NEG
1862: PUSH
1863: LD_INT 350
1865: PUSH
1866: LD_INT 700
1868: PUSH
1869: LD_INT 1400
1871: PUSH
1872: LD_INT 0
1874: PUSH
1875: EMPTY
1876: LIST
1877: LIST
1878: LIST
1879: LIST
1880: LIST
1881: PUSH
1882: LD_EXP 52
1886: PUSH
1887: LD_INT 1
1889: PLUS
1890: ARRAY
1891: ST_TO_ADDR
// battle_flags_id := [ ] ;
1892: LD_ADDR_EXP 31
1896: PUSH
1897: EMPTY
1898: ST_TO_ADDR
// BuildUpAreas := [ BuildUp1 , BuildUp2 , BuildUp3 , BuildUp4 , BuildUp5 , BuildUp6 ] ;
1899: LD_ADDR_EXP 41
1903: PUSH
1904: LD_INT 8
1906: PUSH
1907: LD_INT 9
1909: PUSH
1910: LD_INT 10
1912: PUSH
1913: LD_INT 11
1915: PUSH
1916: LD_INT 12
1918: PUSH
1919: LD_INT 13
1921: PUSH
1922: EMPTY
1923: LIST
1924: LIST
1925: LIST
1926: LIST
1927: LIST
1928: LIST
1929: ST_TO_ADDR
// end ;
1930: LD_VAR 0 1
1934: RET
// function init_map ; var i , j ; begin
1935: LD_INT 0
1937: PPUSH
1938: PPUSH
1939: PPUSH
// normal_oil_deposits_locations := [ [ 28 , 22 ] , [ 69 , 3 ] , [ 138 , 27 ] , [ 180 , 104 ] , [ 138 , 137 ] , [ 76 , 115 ] ] ;
1940: LD_ADDR_EXP 27
1944: PUSH
1945: LD_INT 28
1947: PUSH
1948: LD_INT 22
1950: PUSH
1951: EMPTY
1952: LIST
1953: LIST
1954: PUSH
1955: LD_INT 69
1957: PUSH
1958: LD_INT 3
1960: PUSH
1961: EMPTY
1962: LIST
1963: LIST
1964: PUSH
1965: LD_INT 138
1967: PUSH
1968: LD_INT 27
1970: PUSH
1971: EMPTY
1972: LIST
1973: LIST
1974: PUSH
1975: LD_INT 180
1977: PUSH
1978: LD_INT 104
1980: PUSH
1981: EMPTY
1982: LIST
1983: LIST
1984: PUSH
1985: LD_INT 138
1987: PUSH
1988: LD_INT 137
1990: PUSH
1991: EMPTY
1992: LIST
1993: LIST
1994: PUSH
1995: LD_INT 76
1997: PUSH
1998: LD_INT 115
2000: PUSH
2001: EMPTY
2002: LIST
2003: LIST
2004: PUSH
2005: EMPTY
2006: LIST
2007: LIST
2008: LIST
2009: LIST
2010: LIST
2011: LIST
2012: ST_TO_ADDR
// extra_oil_deposits_locations := [ [ [ 31 , 38 ] , [ 34 , 21 ] ] , [ [ 58 , 4 ] , [ 82 , 4 ] ] , [ [ 122 , 18 ] , [ 152 , 43 ] ] , [ [ 174 , 90 ] , [ 180 , 120 ] ] , [ [ 152 , 136 ] , [ 130 , 136 ] ] , [ [ 89 , 116 ] , [ 59 , 89 ] ] ] ;
2013: LD_ADDR_EXP 28
2017: PUSH
2018: LD_INT 31
2020: PUSH
2021: LD_INT 38
2023: PUSH
2024: EMPTY
2025: LIST
2026: LIST
2027: PUSH
2028: LD_INT 34
2030: PUSH
2031: LD_INT 21
2033: PUSH
2034: EMPTY
2035: LIST
2036: LIST
2037: PUSH
2038: EMPTY
2039: LIST
2040: LIST
2041: PUSH
2042: LD_INT 58
2044: PUSH
2045: LD_INT 4
2047: PUSH
2048: EMPTY
2049: LIST
2050: LIST
2051: PUSH
2052: LD_INT 82
2054: PUSH
2055: LD_INT 4
2057: PUSH
2058: EMPTY
2059: LIST
2060: LIST
2061: PUSH
2062: EMPTY
2063: LIST
2064: LIST
2065: PUSH
2066: LD_INT 122
2068: PUSH
2069: LD_INT 18
2071: PUSH
2072: EMPTY
2073: LIST
2074: LIST
2075: PUSH
2076: LD_INT 152
2078: PUSH
2079: LD_INT 43
2081: PUSH
2082: EMPTY
2083: LIST
2084: LIST
2085: PUSH
2086: EMPTY
2087: LIST
2088: LIST
2089: PUSH
2090: LD_INT 174
2092: PUSH
2093: LD_INT 90
2095: PUSH
2096: EMPTY
2097: LIST
2098: LIST
2099: PUSH
2100: LD_INT 180
2102: PUSH
2103: LD_INT 120
2105: PUSH
2106: EMPTY
2107: LIST
2108: LIST
2109: PUSH
2110: EMPTY
2111: LIST
2112: LIST
2113: PUSH
2114: LD_INT 152
2116: PUSH
2117: LD_INT 136
2119: PUSH
2120: EMPTY
2121: LIST
2122: LIST
2123: PUSH
2124: LD_INT 130
2126: PUSH
2127: LD_INT 136
2129: PUSH
2130: EMPTY
2131: LIST
2132: LIST
2133: PUSH
2134: EMPTY
2135: LIST
2136: LIST
2137: PUSH
2138: LD_INT 89
2140: PUSH
2141: LD_INT 116
2143: PUSH
2144: EMPTY
2145: LIST
2146: LIST
2147: PUSH
2148: LD_INT 59
2150: PUSH
2151: LD_INT 89
2153: PUSH
2154: EMPTY
2155: LIST
2156: LIST
2157: PUSH
2158: EMPTY
2159: LIST
2160: LIST
2161: PUSH
2162: EMPTY
2163: LIST
2164: LIST
2165: LIST
2166: LIST
2167: LIST
2168: LIST
2169: ST_TO_ADDR
// normal_sib_deposits_locations := [ [ 28 , 26 ] , [ 73 , 3 ] , [ 133 , 22 ] , [ 180 , 110 ] , [ 142 , 137 ] , [ 72 , 112 ] ] ;
2170: LD_ADDR_EXP 29
2174: PUSH
2175: LD_INT 28
2177: PUSH
2178: LD_INT 26
2180: PUSH
2181: EMPTY
2182: LIST
2183: LIST
2184: PUSH
2185: LD_INT 73
2187: PUSH
2188: LD_INT 3
2190: PUSH
2191: EMPTY
2192: LIST
2193: LIST
2194: PUSH
2195: LD_INT 133
2197: PUSH
2198: LD_INT 22
2200: PUSH
2201: EMPTY
2202: LIST
2203: LIST
2204: PUSH
2205: LD_INT 180
2207: PUSH
2208: LD_INT 110
2210: PUSH
2211: EMPTY
2212: LIST
2213: LIST
2214: PUSH
2215: LD_INT 142
2217: PUSH
2218: LD_INT 137
2220: PUSH
2221: EMPTY
2222: LIST
2223: LIST
2224: PUSH
2225: LD_INT 72
2227: PUSH
2228: LD_INT 112
2230: PUSH
2231: EMPTY
2232: LIST
2233: LIST
2234: PUSH
2235: EMPTY
2236: LIST
2237: LIST
2238: LIST
2239: LIST
2240: LIST
2241: LIST
2242: ST_TO_ADDR
// extra_sib_deposits_locations := [ [ [ 27 , 39 ] , [ 30 , 16 ] ] , [ [ 57 , 8 ] , [ 87 , 8 ] ] , [ [ 128 , 19 ] , [ 146 , 36 ] ] , [ [ 176 , 121 ] , [ 179 , 96 ] ] , [ [ 153 , 132 ] , [ 124 , 133 ] ] , [ [ 85 , 117 ] , [ 62 , 96 ] ] ] ;
2243: LD_ADDR_EXP 30
2247: PUSH
2248: LD_INT 27
2250: PUSH
2251: LD_INT 39
2253: PUSH
2254: EMPTY
2255: LIST
2256: LIST
2257: PUSH
2258: LD_INT 30
2260: PUSH
2261: LD_INT 16
2263: PUSH
2264: EMPTY
2265: LIST
2266: LIST
2267: PUSH
2268: EMPTY
2269: LIST
2270: LIST
2271: PUSH
2272: LD_INT 57
2274: PUSH
2275: LD_INT 8
2277: PUSH
2278: EMPTY
2279: LIST
2280: LIST
2281: PUSH
2282: LD_INT 87
2284: PUSH
2285: LD_INT 8
2287: PUSH
2288: EMPTY
2289: LIST
2290: LIST
2291: PUSH
2292: EMPTY
2293: LIST
2294: LIST
2295: PUSH
2296: LD_INT 128
2298: PUSH
2299: LD_INT 19
2301: PUSH
2302: EMPTY
2303: LIST
2304: LIST
2305: PUSH
2306: LD_INT 146
2308: PUSH
2309: LD_INT 36
2311: PUSH
2312: EMPTY
2313: LIST
2314: LIST
2315: PUSH
2316: EMPTY
2317: LIST
2318: LIST
2319: PUSH
2320: LD_INT 176
2322: PUSH
2323: LD_INT 121
2325: PUSH
2326: EMPTY
2327: LIST
2328: LIST
2329: PUSH
2330: LD_INT 179
2332: PUSH
2333: LD_INT 96
2335: PUSH
2336: EMPTY
2337: LIST
2338: LIST
2339: PUSH
2340: EMPTY
2341: LIST
2342: LIST
2343: PUSH
2344: LD_INT 153
2346: PUSH
2347: LD_INT 132
2349: PUSH
2350: EMPTY
2351: LIST
2352: LIST
2353: PUSH
2354: LD_INT 124
2356: PUSH
2357: LD_INT 133
2359: PUSH
2360: EMPTY
2361: LIST
2362: LIST
2363: PUSH
2364: EMPTY
2365: LIST
2366: LIST
2367: PUSH
2368: LD_INT 85
2370: PUSH
2371: LD_INT 117
2373: PUSH
2374: EMPTY
2375: LIST
2376: LIST
2377: PUSH
2378: LD_INT 62
2380: PUSH
2381: LD_INT 96
2383: PUSH
2384: EMPTY
2385: LIST
2386: LIST
2387: PUSH
2388: EMPTY
2389: LIST
2390: LIST
2391: PUSH
2392: EMPTY
2393: LIST
2394: LIST
2395: LIST
2396: LIST
2397: LIST
2398: LIST
2399: ST_TO_ADDR
// depot_def := [ [ 53 , 42 , 5 ] , [ 78 , 18 , 0 ] , [ 129 , 43 , 1 ] , [ 155 , 96 , 2 ] , [ 130 , 120 , 3 ] , [ 82 , 98 , 3 ] ] ;
2400: LD_ADDR_EXP 24
2404: PUSH
2405: LD_INT 53
2407: PUSH
2408: LD_INT 42
2410: PUSH
2411: LD_INT 5
2413: PUSH
2414: EMPTY
2415: LIST
2416: LIST
2417: LIST
2418: PUSH
2419: LD_INT 78
2421: PUSH
2422: LD_INT 18
2424: PUSH
2425: LD_INT 0
2427: PUSH
2428: EMPTY
2429: LIST
2430: LIST
2431: LIST
2432: PUSH
2433: LD_INT 129
2435: PUSH
2436: LD_INT 43
2438: PUSH
2439: LD_INT 1
2441: PUSH
2442: EMPTY
2443: LIST
2444: LIST
2445: LIST
2446: PUSH
2447: LD_INT 155
2449: PUSH
2450: LD_INT 96
2452: PUSH
2453: LD_INT 2
2455: PUSH
2456: EMPTY
2457: LIST
2458: LIST
2459: LIST
2460: PUSH
2461: LD_INT 130
2463: PUSH
2464: LD_INT 120
2466: PUSH
2467: LD_INT 3
2469: PUSH
2470: EMPTY
2471: LIST
2472: LIST
2473: LIST
2474: PUSH
2475: LD_INT 82
2477: PUSH
2478: LD_INT 98
2480: PUSH
2481: LD_INT 3
2483: PUSH
2484: EMPTY
2485: LIST
2486: LIST
2487: LIST
2488: PUSH
2489: EMPTY
2490: LIST
2491: LIST
2492: LIST
2493: LIST
2494: LIST
2495: LIST
2496: ST_TO_ADDR
// for i in depot_def do
2497: LD_ADDR_VAR 0 2
2501: PUSH
2502: LD_EXP 24
2506: PUSH
2507: FOR_IN
2508: IFFALSE 2582
// start_def := start_def ^ [ [ ShiftX ( i [ 1 ] , i [ 3 ] , 10 ) , ShiftY ( i [ 2 ] , i [ 3 ] , 10 ) ] ] ;
2510: LD_ADDR_EXP 26
2514: PUSH
2515: LD_EXP 26
2519: PUSH
2520: LD_VAR 0 2
2524: PUSH
2525: LD_INT 1
2527: ARRAY
2528: PPUSH
2529: LD_VAR 0 2
2533: PUSH
2534: LD_INT 3
2536: ARRAY
2537: PPUSH
2538: LD_INT 10
2540: PPUSH
2541: CALL_OW 272
2545: PUSH
2546: LD_VAR 0 2
2550: PUSH
2551: LD_INT 2
2553: ARRAY
2554: PPUSH
2555: LD_VAR 0 2
2559: PUSH
2560: LD_INT 3
2562: ARRAY
2563: PPUSH
2564: LD_INT 10
2566: PPUSH
2567: CALL_OW 273
2571: PUSH
2572: EMPTY
2573: LIST
2574: LIST
2575: PUSH
2576: EMPTY
2577: LIST
2578: ADD
2579: ST_TO_ADDR
2580: GO 2507
2582: POP
2583: POP
// breastworks_def := [ [ [ 65 , 53 , 5 ] , [ 65 , 40 , 4 ] ] , [ [ 76 , 28 , 0 ] , [ 89 , 28 , 5 ] ] , [ [ 115 , 41 , 1 ] , [ 128 , 54 , 0 ] ] , [ [ 143 , 82 , 2 ] , [ 143 , 95 , 1 ] ] , [ [ 131 , 108 , 3 ] , [ 118 , 108 , 2 ] ] , [ [ 80 , 85 , 3 ] , [ 92 , 97 , 4 ] ] ] ;
2584: LD_ADDR_EXP 25
2588: PUSH
2589: LD_INT 65
2591: PUSH
2592: LD_INT 53
2594: PUSH
2595: LD_INT 5
2597: PUSH
2598: EMPTY
2599: LIST
2600: LIST
2601: LIST
2602: PUSH
2603: LD_INT 65
2605: PUSH
2606: LD_INT 40
2608: PUSH
2609: LD_INT 4
2611: PUSH
2612: EMPTY
2613: LIST
2614: LIST
2615: LIST
2616: PUSH
2617: EMPTY
2618: LIST
2619: LIST
2620: PUSH
2621: LD_INT 76
2623: PUSH
2624: LD_INT 28
2626: PUSH
2627: LD_INT 0
2629: PUSH
2630: EMPTY
2631: LIST
2632: LIST
2633: LIST
2634: PUSH
2635: LD_INT 89
2637: PUSH
2638: LD_INT 28
2640: PUSH
2641: LD_INT 5
2643: PUSH
2644: EMPTY
2645: LIST
2646: LIST
2647: LIST
2648: PUSH
2649: EMPTY
2650: LIST
2651: LIST
2652: PUSH
2653: LD_INT 115
2655: PUSH
2656: LD_INT 41
2658: PUSH
2659: LD_INT 1
2661: PUSH
2662: EMPTY
2663: LIST
2664: LIST
2665: LIST
2666: PUSH
2667: LD_INT 128
2669: PUSH
2670: LD_INT 54
2672: PUSH
2673: LD_INT 0
2675: PUSH
2676: EMPTY
2677: LIST
2678: LIST
2679: LIST
2680: PUSH
2681: EMPTY
2682: LIST
2683: LIST
2684: PUSH
2685: LD_INT 143
2687: PUSH
2688: LD_INT 82
2690: PUSH
2691: LD_INT 2
2693: PUSH
2694: EMPTY
2695: LIST
2696: LIST
2697: LIST
2698: PUSH
2699: LD_INT 143
2701: PUSH
2702: LD_INT 95
2704: PUSH
2705: LD_INT 1
2707: PUSH
2708: EMPTY
2709: LIST
2710: LIST
2711: LIST
2712: PUSH
2713: EMPTY
2714: LIST
2715: LIST
2716: PUSH
2717: LD_INT 131
2719: PUSH
2720: LD_INT 108
2722: PUSH
2723: LD_INT 3
2725: PUSH
2726: EMPTY
2727: LIST
2728: LIST
2729: LIST
2730: PUSH
2731: LD_INT 118
2733: PUSH
2734: LD_INT 108
2736: PUSH
2737: LD_INT 2
2739: PUSH
2740: EMPTY
2741: LIST
2742: LIST
2743: LIST
2744: PUSH
2745: EMPTY
2746: LIST
2747: LIST
2748: PUSH
2749: LD_INT 80
2751: PUSH
2752: LD_INT 85
2754: PUSH
2755: LD_INT 3
2757: PUSH
2758: EMPTY
2759: LIST
2760: LIST
2761: LIST
2762: PUSH
2763: LD_INT 92
2765: PUSH
2766: LD_INT 97
2768: PUSH
2769: LD_INT 4
2771: PUSH
2772: EMPTY
2773: LIST
2774: LIST
2775: LIST
2776: PUSH
2777: EMPTY
2778: LIST
2779: LIST
2780: PUSH
2781: EMPTY
2782: LIST
2783: LIST
2784: LIST
2785: LIST
2786: LIST
2787: LIST
2788: ST_TO_ADDR
// for i = 1 to Side_Positions do
2789: LD_ADDR_VAR 0 2
2793: PUSH
2794: DOUBLE
2795: LD_INT 1
2797: DEC
2798: ST_TO_ADDR
2799: LD_EXP 19
2803: PUSH
2804: FOR_TO
2805: IFFALSE 2935
// begin if not Side_Positions [ i ] then
2807: LD_EXP 19
2811: PUSH
2812: LD_VAR 0 2
2816: ARRAY
2817: NOT
2818: IFFALSE 2822
// continue ;
2820: GO 2804
// if def_extra_oil_deposits then
2822: LD_EXP 49
2826: IFFALSE 2884
// for j in extra_oil_deposits_locations [ Side_Positions [ i ] ] do
2828: LD_ADDR_VAR 0 3
2832: PUSH
2833: LD_EXP 28
2837: PUSH
2838: LD_EXP 19
2842: PUSH
2843: LD_VAR 0 2
2847: ARRAY
2848: ARRAY
2849: PUSH
2850: FOR_IN
2851: IFFALSE 2880
// CreateDepositXY ( j [ 1 ] , j [ 2 ] , mat_oil ) else
2853: LD_VAR 0 3
2857: PUSH
2858: LD_INT 1
2860: ARRAY
2861: PPUSH
2862: LD_VAR 0 3
2866: PUSH
2867: LD_INT 2
2869: ARRAY
2870: PPUSH
2871: LD_INT 2
2873: PPUSH
2874: CALL_OW 62
2878: GO 2850
2880: POP
2881: POP
2882: GO 2933
// CreateDepositXY ( normal_oil_deposits_locations [ Side_Positions [ i ] ] [ 1 ] , normal_oil_deposits_locations [ Side_Positions [ i ] ] [ 2 ] , mat_oil ) ;
2884: LD_EXP 27
2888: PUSH
2889: LD_EXP 19
2893: PUSH
2894: LD_VAR 0 2
2898: ARRAY
2899: ARRAY
2900: PUSH
2901: LD_INT 1
2903: ARRAY
2904: PPUSH
2905: LD_EXP 27
2909: PUSH
2910: LD_EXP 19
2914: PUSH
2915: LD_VAR 0 2
2919: ARRAY
2920: ARRAY
2921: PUSH
2922: LD_INT 2
2924: ARRAY
2925: PPUSH
2926: LD_INT 2
2928: PPUSH
2929: CALL_OW 62
// end ;
2933: GO 2804
2935: POP
2936: POP
// if def_extra_sib_deposits then
2937: LD_EXP 50
2941: IFFALSE 3095
// for i = 1 to Side_Positions do
2943: LD_ADDR_VAR 0 2
2947: PUSH
2948: DOUBLE
2949: LD_INT 1
2951: DEC
2952: ST_TO_ADDR
2953: LD_EXP 19
2957: PUSH
2958: FOR_TO
2959: IFFALSE 3093
// begin if not Side_Positions [ i ] then
2961: LD_EXP 19
2965: PUSH
2966: LD_VAR 0 2
2970: ARRAY
2971: NOT
2972: IFFALSE 2976
// continue ;
2974: GO 2958
// if def_extra_sib_deposits = 2 then
2976: LD_EXP 50
2980: PUSH
2981: LD_INT 2
2983: EQUAL
2984: IFFALSE 3042
// for j in extra_sib_deposits_locations [ Side_Positions [ i ] ] do
2986: LD_ADDR_VAR 0 3
2990: PUSH
2991: LD_EXP 30
2995: PUSH
2996: LD_EXP 19
3000: PUSH
3001: LD_VAR 0 2
3005: ARRAY
3006: ARRAY
3007: PUSH
3008: FOR_IN
3009: IFFALSE 3038
// CreateDepositXY ( j [ 1 ] , j [ 2 ] , mat_siberit ) else
3011: LD_VAR 0 3
3015: PUSH
3016: LD_INT 1
3018: ARRAY
3019: PPUSH
3020: LD_VAR 0 3
3024: PUSH
3025: LD_INT 2
3027: ARRAY
3028: PPUSH
3029: LD_INT 3
3031: PPUSH
3032: CALL_OW 62
3036: GO 3008
3038: POP
3039: POP
3040: GO 3091
// CreateDepositXY ( normal_sib_deposits_locations [ Side_Positions [ i ] ] [ 1 ] , normal_sib_deposits_locations [ Side_Positions [ i ] ] [ 2 ] , mat_siberit ) ;
3042: LD_EXP 29
3046: PUSH
3047: LD_EXP 19
3051: PUSH
3052: LD_VAR 0 2
3056: ARRAY
3057: ARRAY
3058: PUSH
3059: LD_INT 1
3061: ARRAY
3062: PPUSH
3063: LD_EXP 29
3067: PUSH
3068: LD_EXP 19
3072: PUSH
3073: LD_VAR 0 2
3077: ARRAY
3078: ARRAY
3079: PUSH
3080: LD_INT 2
3082: ARRAY
3083: PPUSH
3084: LD_INT 3
3086: PPUSH
3087: CALL_OW 62
// end ;
3091: GO 2958
3093: POP
3094: POP
// end ;
3095: LD_VAR 0 1
3099: RET
// function set_shared_visions_and_alliances ; var i , j ; begin
3100: LD_INT 0
3102: PPUSH
3103: PPUSH
3104: PPUSH
// if not Team_Game then
3105: LD_EXP 21
3109: NOT
3110: IFFALSE 3208
// begin for i = 1 to 8 do
3112: LD_ADDR_VAR 0 2
3116: PUSH
3117: DOUBLE
3118: LD_INT 1
3120: DEC
3121: ST_TO_ADDR
3122: LD_INT 8
3124: PUSH
3125: FOR_TO
3126: IFFALSE 3204
// for j = 1 to 8 do
3128: LD_ADDR_VAR 0 3
3132: PUSH
3133: DOUBLE
3134: LD_INT 1
3136: DEC
3137: ST_TO_ADDR
3138: LD_INT 8
3140: PUSH
3141: FOR_TO
3142: IFFALSE 3200
// if i <> j then
3144: LD_VAR 0 2
3148: PUSH
3149: LD_VAR 0 3
3153: NONEQUAL
3154: IFFALSE 3178
// SetAttitude ( i , j , att_neutral , true ) else
3156: LD_VAR 0 2
3160: PPUSH
3161: LD_VAR 0 3
3165: PPUSH
3166: LD_INT 0
3168: PPUSH
3169: LD_INT 1
3171: PPUSH
3172: CALL_OW 80
3176: GO 3198
// SetAttitude ( i , j , att_friend , true ) ;
3178: LD_VAR 0 2
3182: PPUSH
3183: LD_VAR 0 3
3187: PPUSH
3188: LD_INT 1
3190: PPUSH
3191: LD_INT 1
3193: PPUSH
3194: CALL_OW 80
3198: GO 3141
3200: POP
3201: POP
3202: GO 3125
3204: POP
3205: POP
// end else
3206: GO 3383
// begin if def_shared_vision then
3208: LD_EXP 51
3212: IFFALSE 3277
// begin for i in Teams do
3214: LD_ADDR_VAR 0 2
3218: PUSH
3219: LD_EXP 18
3223: PUSH
3224: FOR_IN
3225: IFFALSE 3275
// for j = 2 to i do
3227: LD_ADDR_VAR 0 3
3231: PUSH
3232: DOUBLE
3233: LD_INT 2
3235: DEC
3236: ST_TO_ADDR
3237: LD_VAR 0 2
3241: PUSH
3242: FOR_TO
3243: IFFALSE 3271
// ChangeSideFog ( i [ j ] , i [ 1 ] ) ;
3245: LD_VAR 0 2
3249: PUSH
3250: LD_VAR 0 3
3254: ARRAY
3255: PPUSH
3256: LD_VAR 0 2
3260: PUSH
3261: LD_INT 1
3263: ARRAY
3264: PPUSH
3265: CALL_OW 343
3269: GO 3242
3271: POP
3272: POP
3273: GO 3224
3275: POP
3276: POP
// end ; for i = 1 to 8 do
3277: LD_ADDR_VAR 0 2
3281: PUSH
3282: DOUBLE
3283: LD_INT 1
3285: DEC
3286: ST_TO_ADDR
3287: LD_INT 8
3289: PUSH
3290: FOR_TO
3291: IFFALSE 3381
// for j = 1 to 8 do
3293: LD_ADDR_VAR 0 3
3297: PUSH
3298: DOUBLE
3299: LD_INT 1
3301: DEC
3302: ST_TO_ADDR
3303: LD_INT 8
3305: PUSH
3306: FOR_TO
3307: IFFALSE 3377
// if Side_Teams [ i ] = Side_Teams [ j ] then
3309: LD_EXP 17
3313: PUSH
3314: LD_VAR 0 2
3318: ARRAY
3319: PUSH
3320: LD_EXP 17
3324: PUSH
3325: LD_VAR 0 3
3329: ARRAY
3330: EQUAL
3331: IFFALSE 3355
// SetAttitude ( i , j , att_friend , true ) else
3333: LD_VAR 0 2
3337: PPUSH
3338: LD_VAR 0 3
3342: PPUSH
3343: LD_INT 1
3345: PPUSH
3346: LD_INT 1
3348: PPUSH
3349: CALL_OW 80
3353: GO 3375
// SetAttitude ( i , j , att_enemy , true ) ;
3355: LD_VAR 0 2
3359: PPUSH
3360: LD_VAR 0 3
3364: PPUSH
3365: LD_INT 2
3367: PPUSH
3368: LD_INT 1
3370: PPUSH
3371: CALL_OW 80
3375: GO 3306
3377: POP
3378: POP
3379: GO 3290
3381: POP
3382: POP
// end ; end ;
3383: LD_VAR 0 1
3387: RET
// function prepare_people ( count , cl , x , y , r , building ) ; var i , j , un ; begin
3388: LD_INT 0
3390: PPUSH
3391: PPUSH
3392: PPUSH
3393: PPUSH
// result := [ ] ;
3394: LD_ADDR_VAR 0 7
3398: PUSH
3399: EMPTY
3400: ST_TO_ADDR
// for i := 1 to count do
3401: LD_ADDR_VAR 0 8
3405: PUSH
3406: DOUBLE
3407: LD_INT 1
3409: DEC
3410: ST_TO_ADDR
3411: LD_VAR 0 1
3415: PUSH
3416: FOR_TO
3417: IFFALSE 3835
// begin uc_direction := Rand ( 0 , 5 ) ;
3419: LD_ADDR_OWVAR 24
3423: PUSH
3424: LD_INT 0
3426: PPUSH
3427: LD_INT 5
3429: PPUSH
3430: CALL_OW 12
3434: ST_TO_ADDR
// if commander then
3435: LD_LOC 1
3439: IFFALSE 3548
// begin hc_name := mp_sides_players_names [ uc_side ] ;
3441: LD_ADDR_OWVAR 26
3445: PUSH
3446: LD_OWVAR 19
3450: PUSH
3451: LD_OWVAR 20
3455: ARRAY
3456: ST_TO_ADDR
// PrepareHuman ( Rand ( 1 , 2 ) , cl , skill_level + 2 ) ;
3457: LD_INT 1
3459: PPUSH
3460: LD_INT 2
3462: PPUSH
3463: CALL_OW 12
3467: PPUSH
3468: LD_VAR 0 2
3472: PPUSH
3473: LD_EXP 6
3477: PUSH
3478: LD_INT 2
3480: PLUS
3481: PPUSH
3482: CALL_OW 380
// hc_importance := 105 ;
3486: LD_ADDR_OWVAR 32
3490: PUSH
3491: LD_INT 105
3493: ST_TO_ADDR
// commander := false ;
3494: LD_ADDR_LOC 1
3498: PUSH
3499: LD_INT 0
3501: ST_TO_ADDR
// if Multiplayer then
3502: LD_OWVAR 4
3506: IFFALSE 3546
// begin hc_gallery := MULTIAVATARS ;
3508: LD_ADDR_OWVAR 33
3512: PUSH
3513: LD_STRING MULTIAVATARS
3515: ST_TO_ADDR
// hc_face_number := Multiplayer_GetPlayerSideNum ( uc_side ) ;
3516: LD_ADDR_OWVAR 34
3520: PUSH
3521: LD_OWVAR 20
3525: PPUSH
3526: CALL_OW 525
3530: ST_TO_ADDR
// hc_sex := Multiplayer_GetPlayerSex ( uc_side ) ;
3531: LD_ADDR_OWVAR 27
3535: PUSH
3536: LD_OWVAR 20
3540: PPUSH
3541: CALL_OW 526
3545: ST_TO_ADDR
// end ; end else
3546: GO 3611
// begin hc_name :=  ;
3548: LD_ADDR_OWVAR 26
3552: PUSH
3553: LD_STRING 
3555: ST_TO_ADDR
// PrepareHuman ( rand ( 1 , 2 ) , cl , skill_level ) ;
3556: LD_INT 1
3558: PPUSH
3559: LD_INT 2
3561: PPUSH
3562: CALL_OW 12
3566: PPUSH
3567: LD_VAR 0 2
3571: PPUSH
3572: LD_EXP 6
3576: PPUSH
3577: CALL_OW 380
// hc_importance := 0 ;
3581: LD_ADDR_OWVAR 32
3585: PUSH
3586: LD_INT 0
3588: ST_TO_ADDR
// if Multiplayer then
3589: LD_OWVAR 4
3593: IFFALSE 3611
// begin hc_gallery :=  ;
3595: LD_ADDR_OWVAR 33
3599: PUSH
3600: LD_STRING 
3602: ST_TO_ADDR
// hc_face_number := 0 ;
3603: LD_ADDR_OWVAR 34
3607: PUSH
3608: LD_INT 0
3610: ST_TO_ADDR
// end ; end ; un := CreateHuman ;
3611: LD_ADDR_VAR 0 10
3615: PUSH
3616: CALL_OW 44
3620: ST_TO_ADDR
// if global_defined then
3621: LD_LOC 3
3625: IFFALSE 3765
// begin if ( cl = class_soldier ) then
3627: LD_VAR 0 2
3631: PUSH
3632: LD_INT 1
3634: EQUAL
3635: IFFALSE 3655
// j := i + soldiers_created else
3637: LD_ADDR_VAR 0 9
3641: PUSH
3642: LD_VAR 0 8
3646: PUSH
3647: LD_LOC 4
3651: PLUS
3652: ST_TO_ADDR
3653: GO 3665
// j := i ;
3655: LD_ADDR_VAR 0 9
3659: PUSH
3660: LD_VAR 0 8
3664: ST_TO_ADDR
// CopySkills ( global_units [ cl ] [ j ] , un ) ;
3665: LD_LOC 2
3669: PUSH
3670: LD_VAR 0 2
3674: ARRAY
3675: PUSH
3676: LD_VAR 0 9
3680: ARRAY
3681: PPUSH
3682: LD_VAR 0 10
3686: PPUSH
3687: CALL_OW 510
// SetAttr ( un , attr_speed , GetAttr ( global_units [ cl ] [ j ] , attr_speed ) ) ;
3691: LD_VAR 0 10
3695: PPUSH
3696: LD_INT 2
3698: PPUSH
3699: LD_LOC 2
3703: PUSH
3704: LD_VAR 0 2
3708: ARRAY
3709: PUSH
3710: LD_VAR 0 9
3714: ARRAY
3715: PPUSH
3716: LD_INT 2
3718: PPUSH
3719: CALL_OW 260
3723: PPUSH
3724: CALL_OW 239
// SetAttr ( un , attr_stamina , GetAttr ( global_units [ cl ] [ j ] , attr_stamina ) ) ;
3728: LD_VAR 0 10
3732: PPUSH
3733: LD_INT 1
3735: PPUSH
3736: LD_LOC 2
3740: PUSH
3741: LD_VAR 0 2
3745: ARRAY
3746: PUSH
3747: LD_VAR 0 9
3751: ARRAY
3752: PPUSH
3753: LD_INT 1
3755: PPUSH
3756: CALL_OW 260
3760: PPUSH
3761: CALL_OW 239
// end ; if building then
3765: LD_VAR 0 6
3769: IFFALSE 3787
// PlaceHumanInUnit ( un , building ) else
3771: LD_VAR 0 10
3775: PPUSH
3776: LD_VAR 0 6
3780: PPUSH
3781: CALL_OW 52
3785: GO 3814
// PlaceUnitXYR ( un , x , y , r , false ) ;
3787: LD_VAR 0 10
3791: PPUSH
3792: LD_VAR 0 3
3796: PPUSH
3797: LD_VAR 0 4
3801: PPUSH
3802: LD_VAR 0 5
3806: PPUSH
3807: LD_INT 0
3809: PPUSH
3810: CALL_OW 50
// result := result ^ [ un ] ;
3814: LD_ADDR_VAR 0 7
3818: PUSH
3819: LD_VAR 0 7
3823: PUSH
3824: LD_VAR 0 10
3828: PUSH
3829: EMPTY
3830: LIST
3831: ADD
3832: ST_TO_ADDR
// end ;
3833: GO 3416
3835: POP
3836: POP
// if not global_defined then
3837: LD_LOC 3
3841: NOT
3842: IFFALSE 3920
// if ( global_units >= cl ) then
3844: LD_LOC 2
3848: PUSH
3849: LD_VAR 0 2
3853: GREATEREQUAL
3854: IFFALSE 3895
// global_units := Replace ( global_units , cl , global_units [ cl ] ^ result ) else
3856: LD_ADDR_LOC 2
3860: PUSH
3861: LD_LOC 2
3865: PPUSH
3866: LD_VAR 0 2
3870: PPUSH
3871: LD_LOC 2
3875: PUSH
3876: LD_VAR 0 2
3880: ARRAY
3881: PUSH
3882: LD_VAR 0 7
3886: ADD
3887: PPUSH
3888: CALL_OW 1
3892: ST_TO_ADDR
3893: GO 3920
// global_units := Replace ( global_units , cl , result ) ;
3895: LD_ADDR_LOC 2
3899: PUSH
3900: LD_LOC 2
3904: PPUSH
3905: LD_VAR 0 2
3909: PPUSH
3910: LD_VAR 0 7
3914: PPUSH
3915: CALL_OW 1
3919: ST_TO_ADDR
// if commander then
3920: LD_LOC 1
3924: IFFALSE 3971
// begin heroes = replace ( heroes , uc_side , heroes [ uc_side ] ^ un ) ;
3926: LD_ADDR_EXP 33
3930: PUSH
3931: LD_EXP 33
3935: PPUSH
3936: LD_OWVAR 20
3940: PPUSH
3941: LD_EXP 33
3945: PUSH
3946: LD_OWVAR 20
3950: ARRAY
3951: PUSH
3952: LD_VAR 0 10
3956: ADD
3957: PPUSH
3958: CALL_OW 1
3962: ST_TO_ADDR
// commander := false ;
3963: LD_ADDR_LOC 1
3967: PUSH
3968: LD_INT 0
3970: ST_TO_ADDR
// end ; end ;
3971: LD_VAR 0 7
3975: RET
// function prepare_side ( side ) ; var pos , x , y , dir , i , r , br , dep ; begin
3976: LD_INT 0
3978: PPUSH
3979: PPUSH
3980: PPUSH
3981: PPUSH
3982: PPUSH
3983: PPUSH
3984: PPUSH
3985: PPUSH
3986: PPUSH
// if side in [ 0 , 9 ] then
3987: LD_VAR 0 1
3991: PUSH
3992: LD_INT 0
3994: PUSH
3995: LD_INT 9
3997: PUSH
3998: EMPTY
3999: LIST
4000: LIST
4001: IN
4002: IFFALSE 4006
// exit ;
4004: GO 5056
// pos := Side_Positions [ side ] ;
4006: LD_ADDR_VAR 0 3
4010: PUSH
4011: LD_EXP 19
4015: PUSH
4016: LD_VAR 0 1
4020: ARRAY
4021: ST_TO_ADDR
// uc_nation := Side_Nations [ side ] ;
4022: LD_ADDR_OWVAR 21
4026: PUSH
4027: LD_EXP 20
4031: PUSH
4032: LD_VAR 0 1
4036: ARRAY
4037: ST_TO_ADDR
// uc_side := side ;
4038: LD_ADDR_OWVAR 20
4042: PUSH
4043: LD_VAR 0 1
4047: ST_TO_ADDR
// x := depot_def [ pos ] [ 1 ] ;
4048: LD_ADDR_VAR 0 4
4052: PUSH
4053: LD_EXP 24
4057: PUSH
4058: LD_VAR 0 3
4062: ARRAY
4063: PUSH
4064: LD_INT 1
4066: ARRAY
4067: ST_TO_ADDR
// y := depot_def [ pos ] [ 2 ] ;
4068: LD_ADDR_VAR 0 5
4072: PUSH
4073: LD_EXP 24
4077: PUSH
4078: LD_VAR 0 3
4082: ARRAY
4083: PUSH
4084: LD_INT 2
4086: ARRAY
4087: ST_TO_ADDR
// dir := depot_def [ pos ] [ 3 ] ;
4088: LD_ADDR_VAR 0 6
4092: PUSH
4093: LD_EXP 24
4097: PUSH
4098: LD_VAR 0 3
4102: ARRAY
4103: PUSH
4104: LD_INT 3
4106: ARRAY
4107: ST_TO_ADDR
// if is_depot then
4108: LD_EXP 3
4112: IFFALSE 4245
// begin bc_type = b_depot ;
4114: LD_ADDR_OWVAR 42
4118: PUSH
4119: LD_INT 0
4121: ST_TO_ADDR
// dep := CreateAndPlaceBuildingXYD ( x , y , dir ) ;
4122: LD_ADDR_VAR 0 10
4126: PUSH
4127: LD_VAR 0 4
4131: PPUSH
4132: LD_VAR 0 5
4136: PPUSH
4137: LD_VAR 0 6
4141: PPUSH
4142: CALL_OW 47
4146: ST_TO_ADDR
// SetBName ( dep , @ & side ) ;
4147: LD_VAR 0 10
4151: PPUSH
4152: LD_STRING @
4154: PUSH
4155: LD_VAR 0 1
4159: STR
4160: PPUSH
4161: CALL_OW 500
// SetResourceType ( GetBase ( dep ) , mat_cans , starting_resources [ mat_cans ] ) ;
4165: LD_VAR 0 10
4169: PPUSH
4170: CALL_OW 274
4174: PPUSH
4175: LD_INT 1
4177: PPUSH
4178: LD_EXP 8
4182: PUSH
4183: LD_INT 1
4185: ARRAY
4186: PPUSH
4187: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_oil , starting_resources [ mat_oil ] ) ;
4191: LD_VAR 0 10
4195: PPUSH
4196: CALL_OW 274
4200: PPUSH
4201: LD_INT 2
4203: PPUSH
4204: LD_EXP 8
4208: PUSH
4209: LD_INT 2
4211: ARRAY
4212: PPUSH
4213: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_siberit , starting_resources [ mat_siberit ] ) ;
4217: LD_VAR 0 10
4221: PPUSH
4222: CALL_OW 274
4226: PPUSH
4227: LD_INT 3
4229: PPUSH
4230: LD_EXP 8
4234: PUSH
4235: LD_INT 3
4237: ARRAY
4238: PPUSH
4239: CALL_OW 277
// end else
4243: GO 4389
// begin for i := 1 to 3 do
4245: LD_ADDR_VAR 0 7
4249: PUSH
4250: DOUBLE
4251: LD_INT 1
4253: DEC
4254: ST_TO_ADDR
4255: LD_INT 3
4257: PUSH
4258: FOR_TO
4259: IFFALSE 4387
// begin r := starting_resources [ i ] ;
4261: LD_ADDR_VAR 0 8
4265: PUSH
4266: LD_EXP 8
4270: PUSH
4271: LD_VAR 0 7
4275: ARRAY
4276: ST_TO_ADDR
// while r >= 10 do
4277: LD_VAR 0 8
4281: PUSH
4282: LD_INT 10
4284: GREATEREQUAL
4285: IFFALSE 4385
// if r > 50 then
4287: LD_VAR 0 8
4291: PUSH
4292: LD_INT 50
4294: GREATER
4295: IFFALSE 4341
// begin CreateResourcesXYR ( i , 5 , x , y , 4 , false ) ;
4297: LD_VAR 0 7
4301: PPUSH
4302: LD_INT 5
4304: PPUSH
4305: LD_VAR 0 4
4309: PPUSH
4310: LD_VAR 0 5
4314: PPUSH
4315: LD_INT 4
4317: PPUSH
4318: LD_INT 0
4320: PPUSH
4321: CALL_OW 60
// r := r - 50 ;
4325: LD_ADDR_VAR 0 8
4329: PUSH
4330: LD_VAR 0 8
4334: PUSH
4335: LD_INT 50
4337: MINUS
4338: ST_TO_ADDR
// end else
4339: GO 4383
// begin CreateResourcesXYR ( i , r div 10 , x , y , 4 , false ) ;
4341: LD_VAR 0 7
4345: PPUSH
4346: LD_VAR 0 8
4350: PUSH
4351: LD_INT 10
4353: DIV
4354: PPUSH
4355: LD_VAR 0 4
4359: PPUSH
4360: LD_VAR 0 5
4364: PPUSH
4365: LD_INT 4
4367: PPUSH
4368: LD_INT 0
4370: PPUSH
4371: CALL_OW 60
// r := 0 ;
4375: LD_ADDR_VAR 0 8
4379: PUSH
4380: LD_INT 0
4382: ST_TO_ADDR
// end ;
4383: GO 4277
// end ;
4385: GO 4258
4387: POP
4388: POP
// end ; for r in starting_crates do
4389: LD_ADDR_VAR 0 8
4393: PUSH
4394: LD_EXP 7
4398: PUSH
4399: FOR_IN
4400: IFFALSE 4432
// CreateResourcesXYR ( mat_cans , 5 , x , y , r , false ) ;
4402: LD_INT 1
4404: PPUSH
4405: LD_INT 5
4407: PPUSH
4408: LD_VAR 0 4
4412: PPUSH
4413: LD_VAR 0 5
4417: PPUSH
4418: LD_VAR 0 8
4422: PPUSH
4423: LD_INT 0
4425: PPUSH
4426: CALL_OW 60
4430: GO 4399
4432: POP
4433: POP
// if def_morale_flags then
4434: LD_EXP 52
4438: IFFALSE 4577
// begin x := start_def [ pos ] [ 1 ] ;
4440: LD_ADDR_VAR 0 4
4444: PUSH
4445: LD_EXP 26
4449: PUSH
4450: LD_VAR 0 3
4454: ARRAY
4455: PUSH
4456: LD_INT 1
4458: ARRAY
4459: ST_TO_ADDR
// y := start_def [ pos ] [ 2 ] ;
4460: LD_ADDR_VAR 0 5
4464: PUSH
4465: LD_EXP 26
4469: PUSH
4470: LD_VAR 0 3
4474: ARRAY
4475: PUSH
4476: LD_INT 2
4478: ARRAY
4479: ST_TO_ADDR
// PlaceEnvironment ( x , y , 12 , 2 ) ;
4480: LD_VAR 0 4
4484: PPUSH
4485: LD_VAR 0 5
4489: PPUSH
4490: LD_INT 12
4492: PPUSH
4493: LD_INT 2
4495: PPUSH
4496: CALL_OW 349
// battle_flags_id := battle_flags_id ^ SetBattleFlag ( side , x , y , [ [ bfo_defend_bonus_human , 100 ] , [ bfo_defend_bonus_vehicle , 50 ] , [ bfo_defend_bonus_building , 20 ] , [ bfo_height , 100 ] ] ) ;
4500: LD_ADDR_EXP 31
4504: PUSH
4505: LD_EXP 31
4509: PUSH
4510: LD_VAR 0 1
4514: PPUSH
4515: LD_VAR 0 4
4519: PPUSH
4520: LD_VAR 0 5
4524: PPUSH
4525: LD_INT 1
4527: PUSH
4528: LD_INT 100
4530: PUSH
4531: EMPTY
4532: LIST
4533: LIST
4534: PUSH
4535: LD_INT 2
4537: PUSH
4538: LD_INT 50
4540: PUSH
4541: EMPTY
4542: LIST
4543: LIST
4544: PUSH
4545: LD_INT 3
4547: PUSH
4548: LD_INT 20
4550: PUSH
4551: EMPTY
4552: LIST
4553: LIST
4554: PUSH
4555: LD_INT 20
4557: PUSH
4558: LD_INT 100
4560: PUSH
4561: EMPTY
4562: LIST
4563: LIST
4564: PUSH
4565: EMPTY
4566: LIST
4567: LIST
4568: LIST
4569: LIST
4570: PPUSH
4571: CALL_OW 418
4575: ADD
4576: ST_TO_ADDR
// end ; commander := true ;
4577: LD_ADDR_LOC 1
4581: PUSH
4582: LD_INT 1
4584: ST_TO_ADDR
// soldiers_created := 0 ;
4585: LD_ADDR_LOC 4
4589: PUSH
4590: LD_INT 0
4592: ST_TO_ADDR
// for i := 1 to number_of_breastworks do
4593: LD_ADDR_VAR 0 7
4597: PUSH
4598: DOUBLE
4599: LD_INT 1
4601: DEC
4602: ST_TO_ADDR
4603: LD_EXP 4
4607: PUSH
4608: FOR_TO
4609: IFFALSE 4762
// begin x := breastworks_def [ pos ] [ i ] [ 1 ] ;
4611: LD_ADDR_VAR 0 4
4615: PUSH
4616: LD_EXP 25
4620: PUSH
4621: LD_VAR 0 3
4625: ARRAY
4626: PUSH
4627: LD_VAR 0 7
4631: ARRAY
4632: PUSH
4633: LD_INT 1
4635: ARRAY
4636: ST_TO_ADDR
// y := breastworks_def [ pos ] [ i ] [ 2 ] ;
4637: LD_ADDR_VAR 0 5
4641: PUSH
4642: LD_EXP 25
4646: PUSH
4647: LD_VAR 0 3
4651: ARRAY
4652: PUSH
4653: LD_VAR 0 7
4657: ARRAY
4658: PUSH
4659: LD_INT 2
4661: ARRAY
4662: ST_TO_ADDR
// dir := breastworks_def [ pos ] [ i ] [ 3 ] ;
4663: LD_ADDR_VAR 0 6
4667: PUSH
4668: LD_EXP 25
4672: PUSH
4673: LD_VAR 0 3
4677: ARRAY
4678: PUSH
4679: LD_VAR 0 7
4683: ARRAY
4684: PUSH
4685: LD_INT 3
4687: ARRAY
4688: ST_TO_ADDR
// bc_type := b_breastwork ;
4689: LD_ADDR_OWVAR 42
4693: PUSH
4694: LD_INT 31
4696: ST_TO_ADDR
// br := CreateAndPlaceBuildingXYD ( x , y , dir ) ;
4697: LD_ADDR_VAR 0 9
4701: PUSH
4702: LD_VAR 0 4
4706: PPUSH
4707: LD_VAR 0 5
4711: PPUSH
4712: LD_VAR 0 6
4716: PPUSH
4717: CALL_OW 47
4721: ST_TO_ADDR
// prepare_people ( 1 , class_soldier , 0 , 0 , 0 , br ) ;
4722: LD_INT 1
4724: PPUSH
4725: LD_INT 1
4727: PPUSH
4728: LD_INT 0
4730: PPUSH
4731: LD_INT 0
4733: PPUSH
4734: LD_INT 0
4736: PPUSH
4737: LD_VAR 0 9
4741: PPUSH
4742: CALL 3388 0 6
// soldiers_created := soldiers_created + 1 ;
4746: LD_ADDR_LOC 4
4750: PUSH
4751: LD_LOC 4
4755: PUSH
4756: LD_INT 1
4758: PLUS
4759: ST_TO_ADDR
// end ;
4760: GO 4608
4762: POP
4763: POP
// x := start_def [ pos ] [ 1 ] ;
4764: LD_ADDR_VAR 0 4
4768: PUSH
4769: LD_EXP 26
4773: PUSH
4774: LD_VAR 0 3
4778: ARRAY
4779: PUSH
4780: LD_INT 1
4782: ARRAY
4783: ST_TO_ADDR
// y := start_def [ pos ] [ 2 ] ;
4784: LD_ADDR_VAR 0 5
4788: PUSH
4789: LD_EXP 26
4793: PUSH
4794: LD_VAR 0 3
4798: ARRAY
4799: PUSH
4800: LD_INT 2
4802: ARRAY
4803: ST_TO_ADDR
// prepare_people ( nsol - number_of_breastworks , class_soldier , x , y , 5 , 0 ) ;
4804: LD_LOC 8
4808: PUSH
4809: LD_EXP 4
4813: MINUS
4814: PPUSH
4815: LD_INT 1
4817: PPUSH
4818: LD_VAR 0 4
4822: PPUSH
4823: LD_VAR 0 5
4827: PPUSH
4828: LD_INT 5
4830: PPUSH
4831: LD_INT 0
4833: PPUSH
4834: CALL 3388 0 6
// prepare_people ( neng , class_engineer , x , y , 5 , 0 ) ;
4838: LD_LOC 5
4842: PPUSH
4843: LD_INT 2
4845: PPUSH
4846: LD_VAR 0 4
4850: PPUSH
4851: LD_VAR 0 5
4855: PPUSH
4856: LD_INT 5
4858: PPUSH
4859: LD_INT 0
4861: PPUSH
4862: CALL 3388 0 6
// prepare_people ( nmech , class_mechanic , x , y , 5 , 0 ) ;
4866: LD_LOC 7
4870: PPUSH
4871: LD_INT 3
4873: PPUSH
4874: LD_VAR 0 4
4878: PPUSH
4879: LD_VAR 0 5
4883: PPUSH
4884: LD_INT 5
4886: PPUSH
4887: LD_INT 0
4889: PPUSH
4890: CALL 3388 0 6
// prepare_people ( nsci , class_scientistic , x , y , 5 , 0 ) ;
4894: LD_LOC 6
4898: PPUSH
4899: LD_INT 4
4901: PPUSH
4902: LD_VAR 0 4
4906: PPUSH
4907: LD_VAR 0 5
4911: PPUSH
4912: LD_INT 5
4914: PPUSH
4915: LD_INT 0
4917: PPUSH
4918: CALL 3388 0 6
// if def_siberite_detection and GetTech ( tech_sibdet , side ) = state_enabled then
4922: LD_EXP 53
4926: PUSH
4927: LD_INT 20
4929: PPUSH
4930: LD_VAR 0 1
4934: PPUSH
4935: CALL_OW 321
4939: PUSH
4940: LD_INT 1
4942: EQUAL
4943: AND
4944: IFFALSE 4961
// SetTech ( tech_SibDet , side , state_researched ) ;
4946: LD_INT 20
4948: PPUSH
4949: LD_VAR 0 1
4953: PPUSH
4954: LD_INT 2
4956: PPUSH
4957: CALL_OW 322
// if def_siberite_bomb = 1 then
4961: LD_EXP 56
4965: PUSH
4966: LD_INT 1
4968: EQUAL
4969: IFFALSE 5003
// begin SetTech ( tech_SibFiss , side , state_enabled ) ;
4971: LD_INT 25
4973: PPUSH
4974: LD_VAR 0 1
4978: PPUSH
4979: LD_INT 1
4981: PPUSH
4982: CALL_OW 322
// SetTech ( 73 , side , state_enabled ) ;
4986: LD_INT 73
4988: PPUSH
4989: LD_VAR 0 1
4993: PPUSH
4994: LD_INT 1
4996: PPUSH
4997: CALL_OW 322
// end else
5001: GO 5033
// begin SetTech ( tech_SibFiss , side , state_disabled ) ;
5003: LD_INT 25
5005: PPUSH
5006: LD_VAR 0 1
5010: PPUSH
5011: LD_INT 0
5013: PPUSH
5014: CALL_OW 322
// SetTech ( 73 , side , state_disabled ) ;
5018: LD_INT 73
5020: PPUSH
5021: LD_VAR 0 1
5025: PPUSH
5026: LD_INT 0
5028: PPUSH
5029: CALL_OW 322
// end ; SetTech ( tech_artifact , side , state_disabled ) ;
5033: LD_INT 24
5035: PPUSH
5036: LD_VAR 0 1
5040: PPUSH
5041: LD_INT 0
5043: PPUSH
5044: CALL_OW 322
// global_defined := true ;
5048: LD_ADDR_LOC 3
5052: PUSH
5053: LD_INT 1
5055: ST_TO_ADDR
// end ;
5056: LD_VAR 0 2
5060: RET
// every 0 0$1 do
5061: GO 5063
5063: DISABLE
// if ( def_siberite_bomb > 1 ) then
5064: LD_EXP 56
5068: PUSH
5069: LD_INT 1
5071: GREATER
5072: IFFALSE 5087
// begin wait ( siberite_bomb_Delay ) ;
5074: LD_EXP 16
5078: PPUSH
5079: CALL_OW 67
// EnableSibFiss ;
5083: CALL 5088 0 0
// end ;
5087: END
// function EnableSibFiss ; var i ; begin
5088: LD_INT 0
5090: PPUSH
5091: PPUSH
// for i := 1 to 8 do
5092: LD_ADDR_VAR 0 2
5096: PUSH
5097: DOUBLE
5098: LD_INT 1
5100: DEC
5101: ST_TO_ADDR
5102: LD_INT 8
5104: PUSH
5105: FOR_TO
5106: IFFALSE 5152
// if Side_Positions [ i ] then
5108: LD_EXP 19
5112: PUSH
5113: LD_VAR 0 2
5117: ARRAY
5118: IFFALSE 5150
// begin SetTech ( tech_SibFiss , i , state_enabled ) ;
5120: LD_INT 25
5122: PPUSH
5123: LD_VAR 0 2
5127: PPUSH
5128: LD_INT 1
5130: PPUSH
5131: CALL_OW 322
// SetTech ( 73 , i , state_enabled ) ;
5135: LD_INT 73
5137: PPUSH
5138: LD_VAR 0 2
5142: PPUSH
5143: LD_INT 1
5145: PPUSH
5146: CALL_OW 322
// end ;
5150: GO 5105
5152: POP
5153: POP
// end ;
5154: LD_VAR 0 1
5158: RET
// function prepare_sides ; var i ; begin
5159: LD_INT 0
5161: PPUSH
5162: PPUSH
// global_units := [ ] ;
5163: LD_ADDR_LOC 2
5167: PUSH
5168: EMPTY
5169: ST_TO_ADDR
// global_defined := false ;
5170: LD_ADDR_LOC 3
5174: PUSH
5175: LD_INT 0
5177: ST_TO_ADDR
// CountClassMembers ;
5178: CALL 5228 0 0
// for i := 1 to 8 do
5182: LD_ADDR_VAR 0 2
5186: PUSH
5187: DOUBLE
5188: LD_INT 1
5190: DEC
5191: ST_TO_ADDR
5192: LD_INT 8
5194: PUSH
5195: FOR_TO
5196: IFFALSE 5221
// if Side_Positions [ i ] then
5198: LD_EXP 19
5202: PUSH
5203: LD_VAR 0 2
5207: ARRAY
5208: IFFALSE 5219
// prepare_side ( i ) ;
5210: LD_VAR 0 2
5214: PPUSH
5215: CALL 3976 0 1
5219: GO 5195
5221: POP
5222: POP
// end ;
5223: LD_VAR 0 1
5227: RET
// function CountClassMembers ; var Mode ; begin
5228: LD_INT 0
5230: PPUSH
5231: PPUSH
// if No_Mechs then
5232: LD_EXP 58
5236: IFFALSE 5248
// Mode := 2 else
5238: LD_ADDR_VAR 0 2
5242: PUSH
5243: LD_INT 2
5245: ST_TO_ADDR
5246: GO 5256
// Mode := 1 ;
5248: LD_ADDR_VAR 0 2
5252: PUSH
5253: LD_INT 1
5255: ST_TO_ADDR
// neng := number_of_people ;
5256: LD_ADDR_LOC 5
5260: PUSH
5261: LD_EXP 5
5265: ST_TO_ADDR
// nsol := neng div [ 4 , 3 ] [ Mode ] ;
5266: LD_ADDR_LOC 8
5270: PUSH
5271: LD_LOC 5
5275: PUSH
5276: LD_INT 4
5278: PUSH
5279: LD_INT 3
5281: PUSH
5282: EMPTY
5283: LIST
5284: LIST
5285: PUSH
5286: LD_VAR 0 2
5290: ARRAY
5291: DIV
5292: ST_TO_ADDR
// if ( nsol < number_of_breastworks ) then
5293: LD_LOC 8
5297: PUSH
5298: LD_EXP 4
5302: LESS
5303: IFFALSE 5315
// nsol := number_of_breastworks ;
5305: LD_ADDR_LOC 8
5309: PUSH
5310: LD_EXP 4
5314: ST_TO_ADDR
// neng := neng - nsol ;
5315: LD_ADDR_LOC 5
5319: PUSH
5320: LD_LOC 5
5324: PUSH
5325: LD_LOC 8
5329: MINUS
5330: ST_TO_ADDR
// nsci := neng div [ 3 , 2 ] [ Mode ] ;
5331: LD_ADDR_LOC 6
5335: PUSH
5336: LD_LOC 5
5340: PUSH
5341: LD_INT 3
5343: PUSH
5344: LD_INT 2
5346: PUSH
5347: EMPTY
5348: LIST
5349: LIST
5350: PUSH
5351: LD_VAR 0 2
5355: ARRAY
5356: DIV
5357: ST_TO_ADDR
// if ( nsci < 1 ) then
5358: LD_LOC 6
5362: PUSH
5363: LD_INT 1
5365: LESS
5366: IFFALSE 5376
// nsci := 1 ;
5368: LD_ADDR_LOC 6
5372: PUSH
5373: LD_INT 1
5375: ST_TO_ADDR
// neng := neng - nsci ;
5376: LD_ADDR_LOC 5
5380: PUSH
5381: LD_LOC 5
5385: PUSH
5386: LD_LOC 6
5390: MINUS
5391: ST_TO_ADDR
// nmech := [ neng div 2 , 0 ] [ Mode ] ;
5392: LD_ADDR_LOC 7
5396: PUSH
5397: LD_LOC 5
5401: PUSH
5402: LD_INT 2
5404: DIV
5405: PUSH
5406: LD_INT 0
5408: PUSH
5409: EMPTY
5410: LIST
5411: LIST
5412: PUSH
5413: LD_VAR 0 2
5417: ARRAY
5418: ST_TO_ADDR
// neng := neng - nmech ;
5419: LD_ADDR_LOC 5
5423: PUSH
5424: LD_LOC 5
5428: PUSH
5429: LD_LOC 7
5433: MINUS
5434: ST_TO_ADDR
// if ( neng < 1 ) then
5435: LD_LOC 5
5439: PUSH
5440: LD_INT 1
5442: LESS
5443: IFFALSE 5453
// neng := 1 ;
5445: LD_ADDR_LOC 5
5449: PUSH
5450: LD_INT 1
5452: ST_TO_ADDR
// end ;
5453: LD_VAR 0 1
5457: RET
// starting begin disable ( 98 ) ;
5458: LD_INT 98
5460: DISABLE_MARKED
// disable ( 99 ) ;
5461: LD_INT 99
5463: DISABLE_MARKED
// disable ( 100 ) ;
5464: LD_INT 100
5466: DISABLE_MARKED
// disable ( 200 ) ;
5467: LD_INT 200
5469: DISABLE_MARKED
// disable ( 400 ) ;
5470: LD_INT 400
5472: DISABLE_MARKED
// disable ( 401 ) ;
5473: LD_INT 401
5475: DISABLE_MARKED
// disable ( 600 ) ;
5476: LD_INT 600
5478: DISABLE_MARKED
// mp_selectmsg := true ;
5479: LD_ADDR_OWVAR 13
5483: PUSH
5484: LD_INT 1
5486: ST_TO_ADDR
// read_multiplayer_and_game_parameters ;
5487: CALL 68 0 0
// init_map ;
5491: CALL 1935 0 0
// set_shared_visions_and_alliances ;
5495: CALL 3100 0 0
// ResetFog ;
5499: CALL_OW 335
// ClearAllFogForSide ( your_side ) ;
5503: LD_OWVAR 2
5507: PPUSH
5508: CALL_OW 520
// AnimateTrees ( true ) ;
5512: LD_INT 1
5514: PPUSH
5515: CALL_OW 573
// prepare_sides ;
5519: CALL 5159 0 0
// init_respawning ;
5523: CALL 7233 0 0
// Init_Win_Condition ;
5527: CALL 14329 0 0
// InitLimits ;
5531: CALL 12918 0 0
// ShowTimer ;
5535: CALL 13855 0 0
// case Game_Type of 3 :
5539: LD_EXP 42
5543: PUSH
5544: LD_INT 3
5546: DOUBLE
5547: EQUAL
5548: IFTRUE 5552
5550: GO 5558
5552: POP
// enable ( 100 ) ; 4 :
5553: LD_INT 100
5555: ENABLE_MARKED
5556: GO 5574
5558: LD_INT 4
5560: DOUBLE
5561: EQUAL
5562: IFTRUE 5566
5564: GO 5573
5566: POP
// InitBloodGods ; end ;
5567: CALL 10481 0 0
5571: GO 5574
5573: POP
// music_nat := Side_Nations [ your_side ] ;
5574: LD_ADDR_OWVAR 71
5578: PUSH
5579: LD_EXP 20
5583: PUSH
5584: LD_OWVAR 2
5588: ARRAY
5589: ST_TO_ADDR
// if IAmSpec then
5590: CALL_OW 531
5594: IFFALSE 5618
// begin fogOff ( true ) ;
5596: LD_INT 1
5598: PPUSH
5599: CALL_OW 344
// CenterNowOnXY ( 104 , 69 ) ;
5603: LD_INT 104
5605: PPUSH
5606: LD_INT 69
5608: PPUSH
5609: CALL_OW 86
// enable ( 400 ) ;
5613: LD_INT 400
5615: ENABLE_MARKED
// end else
5616: GO 5664
// begin CenterNowOnXY ( start_def [ Side_Positions [ your_side ] ] [ 1 ] , start_def [ Side_Positions [ your_side ] ] [ 2 ] ) ;
5618: LD_EXP 26
5622: PUSH
5623: LD_EXP 19
5627: PUSH
5628: LD_OWVAR 2
5632: ARRAY
5633: ARRAY
5634: PUSH
5635: LD_INT 1
5637: ARRAY
5638: PPUSH
5639: LD_EXP 26
5643: PUSH
5644: LD_EXP 19
5648: PUSH
5649: LD_OWVAR 2
5653: ARRAY
5654: ARRAY
5655: PUSH
5656: LD_INT 2
5658: ARRAY
5659: PPUSH
5660: CALL_OW 86
// end ; InitApeman ;
5664: CALL 6400 0 0
// if def_builduptime then
5668: LD_EXP 57
5672: IFFALSE 5678
// BeginBuildUp ;
5674: CALL 9112 0 0
// end ; end_of_file
5678: END
// every 1 1$0 + 0 0$0.3 marked 10 do
5679: GO 5681
5681: DISABLE
// begin CreateCratesAnywhere ( Rand ( 4 , 5 ) , true ) ;
5682: LD_INT 4
5684: PPUSH
5685: LD_INT 5
5687: PPUSH
5688: CALL_OW 12
5692: PPUSH
5693: LD_INT 1
5695: PPUSH
5696: CALL_OW 57
// enable ;
5700: ENABLE
// end ;
5701: END
// every 0 0$1 + 0 0$0.6 marked 10 do var i , amount ;
5702: GO 5704
5704: DISABLE
5705: LD_INT 0
5707: PPUSH
5708: PPUSH
// begin case tick of 1 .. 1 1$0 :
5709: LD_OWVAR 1
5713: PUSH
5714: LD_INT 1
5716: DOUBLE
5717: GREATEREQUAL
5718: IFFALSE 5726
5720: LD_INT 2100
5722: DOUBLE
5723: LESSEQUAL
5724: IFTRUE 5728
5726: GO 5756
5728: POP
// Wait ( shipments_density / 100 * Rand ( 0 0$10 , 0 0$30 ) ) ; 1 1$0 + 1 .. 5 5$0 :
5729: LD_EXP 9
5733: PUSH
5734: LD_INT 100
5736: DIVREAL
5737: PUSH
5738: LD_INT 350
5740: PPUSH
5741: LD_INT 1050
5743: PPUSH
5744: CALL_OW 12
5748: MUL
5749: PPUSH
5750: CALL_OW 67
5754: GO 6058
5756: LD_INT 2100
5758: PUSH
5759: LD_INT 1
5761: PLUS
5762: DOUBLE
5763: GREATEREQUAL
5764: IFFALSE 5772
5766: LD_INT 10500
5768: DOUBLE
5769: LESSEQUAL
5770: IFTRUE 5774
5772: GO 5802
5774: POP
// Wait ( shipments_density / 100 * Rand ( 0 0$30 , 0 0$45 ) ) ; 5 5$0 + 1 .. 10 10$0 :
5775: LD_EXP 9
5779: PUSH
5780: LD_INT 100
5782: DIVREAL
5783: PUSH
5784: LD_INT 1050
5786: PPUSH
5787: LD_INT 1575
5789: PPUSH
5790: CALL_OW 12
5794: MUL
5795: PPUSH
5796: CALL_OW 67
5800: GO 6058
5802: LD_INT 10500
5804: PUSH
5805: LD_INT 1
5807: PLUS
5808: DOUBLE
5809: GREATEREQUAL
5810: IFFALSE 5818
5812: LD_INT 21000
5814: DOUBLE
5815: LESSEQUAL
5816: IFTRUE 5820
5818: GO 5848
5820: POP
// Wait ( shipments_density / 100 * Rand ( 0 0$45 , 1 1$0 ) ) ; 10 10$0 + 1 .. 20 20$0 :
5821: LD_EXP 9
5825: PUSH
5826: LD_INT 100
5828: DIVREAL
5829: PUSH
5830: LD_INT 1575
5832: PPUSH
5833: LD_INT 2100
5835: PPUSH
5836: CALL_OW 12
5840: MUL
5841: PPUSH
5842: CALL_OW 67
5846: GO 6058
5848: LD_INT 21000
5850: PUSH
5851: LD_INT 1
5853: PLUS
5854: DOUBLE
5855: GREATEREQUAL
5856: IFFALSE 5864
5858: LD_INT 42000
5860: DOUBLE
5861: LESSEQUAL
5862: IFTRUE 5866
5864: GO 5894
5866: POP
// Wait ( shipments_density / 100 * Rand ( 1 1$0 , 1 1$15 ) ) ; 20 20$0 + 1 .. 30 30$0 :
5867: LD_EXP 9
5871: PUSH
5872: LD_INT 100
5874: DIVREAL
5875: PUSH
5876: LD_INT 2100
5878: PPUSH
5879: LD_INT 2625
5881: PPUSH
5882: CALL_OW 12
5886: MUL
5887: PPUSH
5888: CALL_OW 67
5892: GO 6058
5894: LD_INT 42000
5896: PUSH
5897: LD_INT 1
5899: PLUS
5900: DOUBLE
5901: GREATEREQUAL
5902: IFFALSE 5910
5904: LD_INT 63000
5906: DOUBLE
5907: LESSEQUAL
5908: IFTRUE 5912
5910: GO 5940
5912: POP
// Wait ( shipments_density / 100 * Rand ( 1 1$15 , 1 1$30 ) ) ; 30 30$0 + 1 .. 50 50$0 :
5913: LD_EXP 9
5917: PUSH
5918: LD_INT 100
5920: DIVREAL
5921: PUSH
5922: LD_INT 2625
5924: PPUSH
5925: LD_INT 3150
5927: PPUSH
5928: CALL_OW 12
5932: MUL
5933: PPUSH
5934: CALL_OW 67
5938: GO 6058
5940: LD_INT 63000
5942: PUSH
5943: LD_INT 1
5945: PLUS
5946: DOUBLE
5947: GREATEREQUAL
5948: IFFALSE 5956
5950: LD_INT 105000
5952: DOUBLE
5953: LESSEQUAL
5954: IFTRUE 5958
5956: GO 5986
5958: POP
// Wait ( shipments_density / 100 * Rand ( 1 1$30 , 1 1$45 ) ) ; 50 50$0 + 1 .. 300 300$0 :
5959: LD_EXP 9
5963: PUSH
5964: LD_INT 100
5966: DIVREAL
5967: PUSH
5968: LD_INT 3150
5970: PPUSH
5971: LD_INT 3675
5973: PPUSH
5974: CALL_OW 12
5978: MUL
5979: PPUSH
5980: CALL_OW 67
5984: GO 6058
5986: LD_INT 105000
5988: PUSH
5989: LD_INT 1
5991: PLUS
5992: DOUBLE
5993: GREATEREQUAL
5994: IFFALSE 6002
5996: LD_INT 630000
5998: DOUBLE
5999: LESSEQUAL
6000: IFTRUE 6004
6002: GO 6032
6004: POP
// Wait ( shipments_density / 100 * Rand ( 1 1$45 , 2 2$0 ) ) ; else
6005: LD_EXP 9
6009: PUSH
6010: LD_INT 100
6012: DIVREAL
6013: PUSH
6014: LD_INT 3675
6016: PPUSH
6017: LD_INT 4200
6019: PPUSH
6020: CALL_OW 12
6024: MUL
6025: PPUSH
6026: CALL_OW 67
6030: GO 6058
6032: POP
// Wait ( shipments_density / 100 * Rand ( 2 2$0 , 2 2$30 ) ) ; end ;
6033: LD_EXP 9
6037: PUSH
6038: LD_INT 100
6040: DIVREAL
6041: PUSH
6042: LD_INT 4200
6044: PPUSH
6045: LD_INT 5250
6047: PPUSH
6048: CALL_OW 12
6052: MUL
6053: PPUSH
6054: CALL_OW 67
// amount := Rand ( 3 , 5 ) ;
6058: LD_ADDR_VAR 0 2
6062: PUSH
6063: LD_INT 3
6065: PPUSH
6066: LD_INT 5
6068: PPUSH
6069: CALL_OW 12
6073: ST_TO_ADDR
// for i in ( Side_Positions diff [ 0 ] ) do
6074: LD_ADDR_VAR 0 1
6078: PUSH
6079: LD_EXP 19
6083: PUSH
6084: LD_INT 0
6086: PUSH
6087: EMPTY
6088: LIST
6089: DIFF
6090: PUSH
6091: FOR_IN
6092: IFFALSE 6141
// CreateCratesXYR ( amount , start_def [ i ] [ 1 ] , start_def [ i ] [ 2 ] , 20 , true ) ;
6094: LD_VAR 0 2
6098: PPUSH
6099: LD_EXP 26
6103: PUSH
6104: LD_VAR 0 1
6108: ARRAY
6109: PUSH
6110: LD_INT 1
6112: ARRAY
6113: PPUSH
6114: LD_EXP 26
6118: PUSH
6119: LD_VAR 0 1
6123: ARRAY
6124: PUSH
6125: LD_INT 2
6127: ARRAY
6128: PPUSH
6129: LD_INT 20
6131: PPUSH
6132: LD_INT 1
6134: PPUSH
6135: CALL_OW 56
6139: GO 6091
6141: POP
6142: POP
// enable ;
6143: ENABLE
// end ;
6144: PPOPN 2
6146: END
// every 0 0$20 + 0 0$0.9 marked 10 do var i , filter ;
6147: GO 6149
6149: DISABLE
6150: LD_INT 0
6152: PPUSH
6153: PPUSH
// begin if GetResourceArea ( MZBaseArea , mat_cans ) < ( ( 200 - shipments_density ) / 100 * 5 ) then
6154: LD_INT 1
6156: PPUSH
6157: LD_INT 1
6159: PPUSH
6160: CALL_OW 287
6164: PUSH
6165: LD_INT 200
6167: PUSH
6168: LD_EXP 9
6172: MINUS
6173: PUSH
6174: LD_INT 100
6176: DIVREAL
6177: PUSH
6178: LD_INT 5
6180: MUL
6181: LESS
6182: IFFALSE 6205
// CreateCratesArea ( Rand ( 3 , 5 ) , MZBaseArea , true ) ;
6184: LD_INT 3
6186: PPUSH
6187: LD_INT 5
6189: PPUSH
6190: CALL_OW 12
6194: PPUSH
6195: LD_INT 1
6197: PPUSH
6198: LD_INT 1
6200: PPUSH
6201: CALL_OW 55
// enable ;
6205: ENABLE
// end ; end_of_file
6206: PPOPN 2
6208: END
// every 20 20$00 trigger apemanNumber do
6209: LD_EXP 34
6213: IFFALSE 6246
6215: GO 6217
6217: DISABLE
// begin enable ;
6218: ENABLE
// if apeLevel >= 8 then
6219: LD_EXP 39
6223: PUSH
6224: LD_INT 8
6226: GREATEREQUAL
6227: IFFALSE 6232
// disable else
6229: DISABLE
6230: GO 6246
// apeLevel := apeLevel + 1 ;
6232: LD_ADDR_EXP 39
6236: PUSH
6237: LD_EXP 39
6241: PUSH
6242: LD_INT 1
6244: PLUS
6245: ST_TO_ADDR
// end ;
6246: END
// every 2 2$30 trigger apemanNumber < apemanLimit do var i , ape , pos , j ;
6247: LD_EXP 34
6251: PUSH
6252: LD_EXP 35
6256: LESS
6257: IFFALSE 6397
6259: GO 6261
6261: DISABLE
6262: LD_INT 0
6264: PPUSH
6265: PPUSH
6266: PPUSH
6267: PPUSH
// begin enable ;
6268: ENABLE
// for i := 1 to apemanPos do
6269: LD_ADDR_VAR 0 1
6273: PUSH
6274: DOUBLE
6275: LD_INT 1
6277: DEC
6278: ST_TO_ADDR
6279: LD_EXP 37
6283: PUSH
6284: FOR_TO
6285: IFFALSE 6395
// begin if apemanPlayerCount [ i ] then
6287: LD_EXP 38
6291: PUSH
6292: LD_VAR 0 1
6296: ARRAY
6297: IFFALSE 6393
// begin if apemanPlayerCount [ i ] > apemanPos [ i ] then
6299: LD_EXP 38
6303: PUSH
6304: LD_VAR 0 1
6308: ARRAY
6309: PUSH
6310: LD_EXP 37
6314: PUSH
6315: LD_VAR 0 1
6319: ARRAY
6320: GREATER
6321: IFFALSE 6393
// begin ape := PrepareApeman ;
6323: LD_ADDR_VAR 0 2
6327: PUSH
6328: CALL 6908 0 0
6332: ST_TO_ADDR
// PlaceUnitArea ( ape , apeAreas [ i ] , false ) ;
6333: LD_VAR 0 2
6337: PPUSH
6338: LD_EXP 40
6342: PUSH
6343: LD_VAR 0 1
6347: ARRAY
6348: PPUSH
6349: LD_INT 0
6351: PPUSH
6352: CALL_OW 49
// apemanPos := Replace ( apemanPos , i , apemanPos [ i ] union ape ) ;
6356: LD_ADDR_EXP 37
6360: PUSH
6361: LD_EXP 37
6365: PPUSH
6366: LD_VAR 0 1
6370: PPUSH
6371: LD_EXP 37
6375: PUSH
6376: LD_VAR 0 1
6380: ARRAY
6381: PUSH
6382: LD_VAR 0 2
6386: UNION
6387: PPUSH
6388: CALL_OW 1
6392: ST_TO_ADDR
// end ; end ; end ;
6393: GO 6284
6395: POP
6396: POP
// end ;
6397: PPOPN 4
6399: END
// export apemanNumber , apemanLimit , apemanPerPlayer , apemanPos , apemanPlayerCount , apeLevel , apeAreas ; export function InitApeman ; var i , playersAmount , j , ape , pos , _apeAreas ; begin
6400: LD_INT 0
6402: PPUSH
6403: PPUSH
6404: PPUSH
6405: PPUSH
6406: PPUSH
6407: PPUSH
6408: PPUSH
// playersAmount := 0 ;
6409: LD_ADDR_VAR 0 3
6413: PUSH
6414: LD_INT 0
6416: ST_TO_ADDR
// _apeAreas := [ Base1ApeArea , Base2ApeArea , Base3ApeArea , Base4ApeArea , Base5ApeArea , Base6ApeArea , ] ;
6417: LD_ADDR_VAR 0 7
6421: PUSH
6422: LD_INT 2
6424: PUSH
6425: LD_INT 3
6427: PUSH
6428: LD_INT 4
6430: PUSH
6431: LD_INT 5
6433: PUSH
6434: LD_INT 6
6436: PUSH
6437: LD_INT 7
6439: PUSH
6440: EMPTY
6441: LIST
6442: LIST
6443: LIST
6444: LIST
6445: LIST
6446: LIST
6447: ST_TO_ADDR
// apeAreas := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
6448: LD_ADDR_EXP 40
6452: PUSH
6453: LD_INT 0
6455: PUSH
6456: LD_INT 0
6458: PUSH
6459: LD_INT 0
6461: PUSH
6462: LD_INT 0
6464: PUSH
6465: LD_INT 0
6467: PUSH
6468: LD_INT 0
6470: PUSH
6471: LD_INT 0
6473: PUSH
6474: LD_INT 0
6476: PUSH
6477: EMPTY
6478: LIST
6479: LIST
6480: LIST
6481: LIST
6482: LIST
6483: LIST
6484: LIST
6485: LIST
6486: ST_TO_ADDR
// for j = 1 to Side_Positions do
6487: LD_ADDR_VAR 0 4
6491: PUSH
6492: DOUBLE
6493: LD_INT 1
6495: DEC
6496: ST_TO_ADDR
6497: LD_EXP 19
6501: PUSH
6502: FOR_TO
6503: IFFALSE 6570
// if Side_Positions [ j ] then
6505: LD_EXP 19
6509: PUSH
6510: LD_VAR 0 4
6514: ARRAY
6515: IFFALSE 6568
// begin playersAmount := playersAmount + 1 ;
6517: LD_ADDR_VAR 0 3
6521: PUSH
6522: LD_VAR 0 3
6526: PUSH
6527: LD_INT 1
6529: PLUS
6530: ST_TO_ADDR
// apeAreas := Replace ( apeAreas , j , _apeAreas [ Side_Positions [ j ] ] ) ;
6531: LD_ADDR_EXP 40
6535: PUSH
6536: LD_EXP 40
6540: PPUSH
6541: LD_VAR 0 4
6545: PPUSH
6546: LD_VAR 0 7
6550: PUSH
6551: LD_EXP 19
6555: PUSH
6556: LD_VAR 0 4
6560: ARRAY
6561: ARRAY
6562: PPUSH
6563: CALL_OW 1
6567: ST_TO_ADDR
// end ;
6568: GO 6502
6570: POP
6571: POP
// apemanPerPlayer := 3 * amount_of_apemen ;
6572: LD_ADDR_EXP 36
6576: PUSH
6577: LD_INT 3
6579: PUSH
6580: LD_EXP 15
6584: MUL
6585: ST_TO_ADDR
// apemanNumber := playersAmount * apemanPerPlayer ;
6586: LD_ADDR_EXP 34
6590: PUSH
6591: LD_VAR 0 3
6595: PUSH
6596: LD_EXP 36
6600: MUL
6601: ST_TO_ADDR
// apemanLimit := apemanNumber ;
6602: LD_ADDR_EXP 35
6606: PUSH
6607: LD_EXP 34
6611: ST_TO_ADDR
// apemanPos := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
6612: LD_ADDR_EXP 37
6616: PUSH
6617: LD_INT 0
6619: PUSH
6620: LD_INT 0
6622: PUSH
6623: LD_INT 0
6625: PUSH
6626: LD_INT 0
6628: PUSH
6629: LD_INT 0
6631: PUSH
6632: LD_INT 0
6634: PUSH
6635: LD_INT 0
6637: PUSH
6638: LD_INT 0
6640: PUSH
6641: EMPTY
6642: LIST
6643: LIST
6644: LIST
6645: LIST
6646: LIST
6647: LIST
6648: LIST
6649: LIST
6650: ST_TO_ADDR
// apemanPlayerCount := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
6651: LD_ADDR_EXP 38
6655: PUSH
6656: LD_INT 0
6658: PUSH
6659: LD_INT 0
6661: PUSH
6662: LD_INT 0
6664: PUSH
6665: LD_INT 0
6667: PUSH
6668: LD_INT 0
6670: PUSH
6671: LD_INT 0
6673: PUSH
6674: LD_INT 0
6676: PUSH
6677: LD_INT 0
6679: PUSH
6680: EMPTY
6681: LIST
6682: LIST
6683: LIST
6684: LIST
6685: LIST
6686: LIST
6687: LIST
6688: LIST
6689: ST_TO_ADDR
// apeLevel := 1 ;
6690: LD_ADDR_EXP 39
6694: PUSH
6695: LD_INT 1
6697: ST_TO_ADDR
// if not apemanNumber then
6698: LD_EXP 34
6702: NOT
6703: IFFALSE 6707
// exit ;
6705: GO 6903
// for i := 1 to apemanPerPlayer do
6707: LD_ADDR_VAR 0 2
6711: PUSH
6712: DOUBLE
6713: LD_INT 1
6715: DEC
6716: ST_TO_ADDR
6717: LD_EXP 36
6721: PUSH
6722: FOR_TO
6723: IFFALSE 6901
// begin for j := 1 to Side_Positions do
6725: LD_ADDR_VAR 0 4
6729: PUSH
6730: DOUBLE
6731: LD_INT 1
6733: DEC
6734: ST_TO_ADDR
6735: LD_EXP 19
6739: PUSH
6740: FOR_TO
6741: IFFALSE 6897
// if Side_Positions [ j ] then
6743: LD_EXP 19
6747: PUSH
6748: LD_VAR 0 4
6752: ARRAY
6753: IFFALSE 6895
// begin pos := Side_Positions [ j ] ;
6755: LD_ADDR_VAR 0 6
6759: PUSH
6760: LD_EXP 19
6764: PUSH
6765: LD_VAR 0 4
6769: ARRAY
6770: ST_TO_ADDR
// apemanPlayerCount := Replace ( apemanPlayerCount , j , apemanPlayerCount [ j ] + 1 ) ;
6771: LD_ADDR_EXP 38
6775: PUSH
6776: LD_EXP 38
6780: PPUSH
6781: LD_VAR 0 4
6785: PPUSH
6786: LD_EXP 38
6790: PUSH
6791: LD_VAR 0 4
6795: ARRAY
6796: PUSH
6797: LD_INT 1
6799: PLUS
6800: PPUSH
6801: CALL_OW 1
6805: ST_TO_ADDR
// ape := PrepareApeman ;
6806: LD_ADDR_VAR 0 5
6810: PUSH
6811: CALL 6908 0 0
6815: ST_TO_ADDR
// apemanPos := Replace ( apemanPos , j , Replace ( apemanPos [ j ] , apemanPos [ j ] + 1 , ape ) ) ;
6816: LD_ADDR_EXP 37
6820: PUSH
6821: LD_EXP 37
6825: PPUSH
6826: LD_VAR 0 4
6830: PPUSH
6831: LD_EXP 37
6835: PUSH
6836: LD_VAR 0 4
6840: ARRAY
6841: PPUSH
6842: LD_EXP 37
6846: PUSH
6847: LD_VAR 0 4
6851: ARRAY
6852: PUSH
6853: LD_INT 1
6855: PLUS
6856: PPUSH
6857: LD_VAR 0 5
6861: PPUSH
6862: CALL_OW 1
6866: PPUSH
6867: CALL_OW 1
6871: ST_TO_ADDR
// PlaceUnitArea ( ape , apeAreas [ j ] , false ) ;
6872: LD_VAR 0 5
6876: PPUSH
6877: LD_EXP 40
6881: PUSH
6882: LD_VAR 0 4
6886: ARRAY
6887: PPUSH
6888: LD_INT 0
6890: PPUSH
6891: CALL_OW 49
// end ;
6895: GO 6740
6897: POP
6898: POP
// end ;
6899: GO 6722
6901: POP
6902: POP
// end ;
6903: LD_VAR 0 1
6907: RET
// export function PrepareApeman ; var bonus ; begin
6908: LD_INT 0
6910: PPUSH
6911: PPUSH
// uc_side := 0 ;
6912: LD_ADDR_OWVAR 20
6916: PUSH
6917: LD_INT 0
6919: ST_TO_ADDR
// uc_nation := 0 ;
6920: LD_ADDR_OWVAR 21
6924: PUSH
6925: LD_INT 0
6927: ST_TO_ADDR
// InitHc ;
6928: CALL_OW 19
// bonus := [ - 1 , 0 , 1 ] [ tick mod 3 + 1 ] ;
6932: LD_ADDR_VAR 0 2
6936: PUSH
6937: LD_INT 1
6939: NEG
6940: PUSH
6941: LD_INT 0
6943: PUSH
6944: LD_INT 1
6946: PUSH
6947: EMPTY
6948: LIST
6949: LIST
6950: LIST
6951: PUSH
6952: LD_OWVAR 1
6956: PUSH
6957: LD_INT 3
6959: MOD
6960: PUSH
6961: LD_INT 1
6963: PLUS
6964: ARRAY
6965: ST_TO_ADDR
// hc_class := class_apeman ;
6966: LD_ADDR_OWVAR 28
6970: PUSH
6971: LD_INT 12
6973: ST_TO_ADDR
// hc_gallery :=  ;
6974: LD_ADDR_OWVAR 33
6978: PUSH
6979: LD_STRING 
6981: ST_TO_ADDR
// hc_name :=  ;
6982: LD_ADDR_OWVAR 26
6986: PUSH
6987: LD_STRING 
6989: ST_TO_ADDR
// hc_skills := [ apeLevel + bonus , apeLevel + bonus , apeLevel + bonus , apeLevel + bonus ] ;
6990: LD_ADDR_OWVAR 31
6994: PUSH
6995: LD_EXP 39
6999: PUSH
7000: LD_VAR 0 2
7004: PLUS
7005: PUSH
7006: LD_EXP 39
7010: PUSH
7011: LD_VAR 0 2
7015: PLUS
7016: PUSH
7017: LD_EXP 39
7021: PUSH
7022: LD_VAR 0 2
7026: PLUS
7027: PUSH
7028: LD_EXP 39
7032: PUSH
7033: LD_VAR 0 2
7037: PLUS
7038: PUSH
7039: EMPTY
7040: LIST
7041: LIST
7042: LIST
7043: LIST
7044: ST_TO_ADDR
// hc_agressivity := 10 * bonus ;
7045: LD_ADDR_OWVAR 35
7049: PUSH
7050: LD_INT 10
7052: PUSH
7053: LD_VAR 0 2
7057: MUL
7058: ST_TO_ADDR
// hc_attr := [ 12 , 10 ] ;
7059: LD_ADDR_OWVAR 29
7063: PUSH
7064: LD_INT 12
7066: PUSH
7067: LD_INT 10
7069: PUSH
7070: EMPTY
7071: LIST
7072: LIST
7073: ST_TO_ADDR
// result := CreateHuman ;
7074: LD_ADDR_VAR 0 1
7078: PUSH
7079: CALL_OW 44
7083: ST_TO_ADDR
// end ;
7084: LD_VAR 0 1
7088: RET
// export function ApeKilled ( ape ) ; var side , i ; begin
7089: LD_INT 0
7091: PPUSH
7092: PPUSH
7093: PPUSH
// if not ape then
7094: LD_VAR 0 1
7098: NOT
7099: IFFALSE 7103
// exit ;
7101: GO 7228
// side := GetSide ( ape ) ;
7103: LD_ADDR_VAR 0 3
7107: PUSH
7108: LD_VAR 0 1
7112: PPUSH
7113: CALL_OW 255
7117: ST_TO_ADDR
// if not side then
7118: LD_VAR 0 3
7122: NOT
7123: IFFALSE 7177
// begin for i = 1 to apemanPos do
7125: LD_ADDR_VAR 0 4
7129: PUSH
7130: DOUBLE
7131: LD_INT 1
7133: DEC
7134: ST_TO_ADDR
7135: LD_EXP 37
7139: PUSH
7140: FOR_TO
7141: IFFALSE 7175
// if ape in apemanPos [ i ] then
7143: LD_VAR 0 1
7147: PUSH
7148: LD_EXP 37
7152: PUSH
7153: LD_VAR 0 4
7157: ARRAY
7158: IN
7159: IFFALSE 7173
// begin side := i ;
7161: LD_ADDR_VAR 0 3
7165: PUSH
7166: LD_VAR 0 4
7170: ST_TO_ADDR
// break ;
7171: GO 7175
// end ;
7173: GO 7140
7175: POP
7176: POP
// end ; apemanPos := Replace ( apemanPos , side , apemanPos [ side ] diff ape ) ;
7177: LD_ADDR_EXP 37
7181: PUSH
7182: LD_EXP 37
7186: PPUSH
7187: LD_VAR 0 3
7191: PPUSH
7192: LD_EXP 37
7196: PUSH
7197: LD_VAR 0 3
7201: ARRAY
7202: PUSH
7203: LD_VAR 0 1
7207: DIFF
7208: PPUSH
7209: CALL_OW 1
7213: ST_TO_ADDR
// apemanNumber := apemanNumber - 1 ;
7214: LD_ADDR_EXP 34
7218: PUSH
7219: LD_EXP 34
7223: PUSH
7224: LD_INT 1
7226: MINUS
7227: ST_TO_ADDR
// end ; end_of_file
7228: LD_VAR 0 2
7232: RET
// var respawn , inqueue ; export function init_respawning ; begin
7233: LD_INT 0
7235: PPUSH
// respawn := Rand ( 1 , 8 ) ;
7236: LD_ADDR_LOC 9
7240: PUSH
7241: LD_INT 1
7243: PPUSH
7244: LD_INT 8
7246: PPUSH
7247: CALL_OW 12
7251: ST_TO_ADDR
// inqueue := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
7252: LD_ADDR_LOC 10
7256: PUSH
7257: LD_INT 0
7259: PUSH
7260: LD_INT 0
7262: PUSH
7263: LD_INT 0
7265: PUSH
7266: LD_INT 0
7268: PUSH
7269: LD_INT 0
7271: PUSH
7272: LD_INT 0
7274: PUSH
7275: LD_INT 0
7277: PUSH
7278: LD_INT 0
7280: PUSH
7281: EMPTY
7282: LIST
7283: LIST
7284: LIST
7285: LIST
7286: LIST
7287: LIST
7288: LIST
7289: LIST
7290: ST_TO_ADDR
// end ;
7291: LD_VAR 0 1
7295: RET
// every 0 0$1 + 0 0$0.5 do var n , building_list , aktresp , b ;
7296: GO 7298
7298: DISABLE
7299: LD_INT 0
7301: PPUSH
7302: PPUSH
7303: PPUSH
7304: PPUSH
// begin if respawning_time_max = 0 then
7305: LD_EXP 13
7309: PUSH
7310: LD_INT 0
7312: EQUAL
7313: IFFALSE 7317
// exit ;
7315: GO 7824
// if respawn = 8 then
7317: LD_LOC 9
7321: PUSH
7322: LD_INT 8
7324: EQUAL
7325: IFFALSE 7337
// respawn := 1 else
7327: LD_ADDR_LOC 9
7331: PUSH
7332: LD_INT 1
7334: ST_TO_ADDR
7335: GO 7351
// respawn := respawn + 1 ;
7337: LD_ADDR_LOC 9
7341: PUSH
7342: LD_LOC 9
7346: PUSH
7347: LD_INT 1
7349: PLUS
7350: ST_TO_ADDR
// if Side_Positions [ respawn ] and not inqueue [ respawn ] then
7351: LD_EXP 19
7355: PUSH
7356: LD_LOC 9
7360: ARRAY
7361: PUSH
7362: LD_LOC 10
7366: PUSH
7367: LD_LOC 9
7371: ARRAY
7372: NOT
7373: AND
7374: IFFALSE 7823
// begin n := FilterAllUnits ( [ [ f_type , unit_human ] , [ f_side , respawn ] , f_not , [ f_nation , nation_nature ] ] ) ;
7376: LD_ADDR_VAR 0 1
7380: PUSH
7381: LD_INT 21
7383: PUSH
7384: LD_INT 1
7386: PUSH
7387: EMPTY
7388: LIST
7389: LIST
7390: PUSH
7391: LD_INT 22
7393: PUSH
7394: LD_LOC 9
7398: PUSH
7399: EMPTY
7400: LIST
7401: LIST
7402: PUSH
7403: LD_INT 3
7405: PUSH
7406: LD_INT 23
7408: PUSH
7409: LD_INT 0
7411: PUSH
7412: EMPTY
7413: LIST
7414: LIST
7415: PUSH
7416: EMPTY
7417: LIST
7418: LIST
7419: LIST
7420: LIST
7421: PPUSH
7422: CALL_OW 69
7426: ST_TO_ADDR
// if n < number_of_people then
7427: LD_VAR 0 1
7431: PUSH
7432: LD_EXP 5
7436: LESS
7437: IFFALSE 7820
// begin aktresp := respawn ;
7439: LD_ADDR_VAR 0 3
7443: PUSH
7444: LD_LOC 9
7448: ST_TO_ADDR
// inqueue := Replace ( inqueue , aktresp , true ) ;
7449: LD_ADDR_LOC 10
7453: PUSH
7454: LD_LOC 10
7458: PPUSH
7459: LD_VAR 0 3
7463: PPUSH
7464: LD_INT 1
7466: PPUSH
7467: CALL_OW 1
7471: ST_TO_ADDR
// enable ;
7472: ENABLE
// wait ( rand ( respawning_time_min , respawning_time_max ) ) ;
7473: LD_EXP 12
7477: PPUSH
7478: LD_EXP 13
7482: PPUSH
7483: CALL_OW 12
7487: PPUSH
7488: CALL_OW 67
// inqueue := Replace ( inqueue , aktresp , false ) ;
7492: LD_ADDR_LOC 10
7496: PUSH
7497: LD_LOC 10
7501: PPUSH
7502: LD_VAR 0 3
7506: PPUSH
7507: LD_INT 0
7509: PPUSH
7510: CALL_OW 1
7514: ST_TO_ADDR
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] , [ f_ok ] , [ f_side , aktresp ] ] ) ;
7515: LD_ADDR_VAR 0 2
7519: PUSH
7520: LD_INT 21
7522: PUSH
7523: LD_INT 3
7525: PUSH
7526: EMPTY
7527: LIST
7528: LIST
7529: PUSH
7530: LD_INT 2
7532: PUSH
7533: LD_INT 30
7535: PUSH
7536: LD_INT 0
7538: PUSH
7539: EMPTY
7540: LIST
7541: LIST
7542: PUSH
7543: LD_INT 30
7545: PUSH
7546: LD_INT 1
7548: PUSH
7549: EMPTY
7550: LIST
7551: LIST
7552: PUSH
7553: EMPTY
7554: LIST
7555: LIST
7556: LIST
7557: PUSH
7558: LD_INT 50
7560: PUSH
7561: EMPTY
7562: LIST
7563: PUSH
7564: LD_INT 22
7566: PUSH
7567: LD_VAR 0 3
7571: PUSH
7572: EMPTY
7573: LIST
7574: LIST
7575: PUSH
7576: EMPTY
7577: LIST
7578: LIST
7579: LIST
7580: LIST
7581: PPUSH
7582: CALL_OW 69
7586: ST_TO_ADDR
// if building_list = 0 then
7587: LD_VAR 0 2
7591: PUSH
7592: LD_INT 0
7594: EQUAL
7595: IFFALSE 7640
// building_list = FilterAllUnits ( [ [ f_type , unit_building ] , [ f_ok ] , [ f_side , aktresp ] ] ) ;
7597: LD_ADDR_VAR 0 2
7601: PUSH
7602: LD_INT 21
7604: PUSH
7605: LD_INT 3
7607: PUSH
7608: EMPTY
7609: LIST
7610: LIST
7611: PUSH
7612: LD_INT 50
7614: PUSH
7615: EMPTY
7616: LIST
7617: PUSH
7618: LD_INT 22
7620: PUSH
7621: LD_VAR 0 3
7625: PUSH
7626: EMPTY
7627: LIST
7628: LIST
7629: PUSH
7630: EMPTY
7631: LIST
7632: LIST
7633: LIST
7634: PPUSH
7635: CALL_OW 69
7639: ST_TO_ADDR
// if building_list = 0 then
7640: LD_VAR 0 2
7644: PUSH
7645: LD_INT 0
7647: EQUAL
7648: IFFALSE 7652
// exit ;
7650: GO 7824
// hc_name :=  ;
7652: LD_ADDR_OWVAR 26
7656: PUSH
7657: LD_STRING 
7659: ST_TO_ADDR
// hc_importance := 0 ;
7660: LD_ADDR_OWVAR 32
7664: PUSH
7665: LD_INT 0
7667: ST_TO_ADDR
// PrepareHuman ( 0 , 0 , skill_level div 2 ) ;
7668: LD_INT 0
7670: PPUSH
7671: LD_INT 0
7673: PPUSH
7674: LD_EXP 6
7678: PUSH
7679: LD_INT 2
7681: DIV
7682: PPUSH
7683: CALL_OW 380
// uc_nation := Side_Nations [ aktresp ] ;
7687: LD_ADDR_OWVAR 21
7691: PUSH
7692: LD_EXP 20
7696: PUSH
7697: LD_VAR 0 3
7701: ARRAY
7702: ST_TO_ADDR
// uc_side := aktresp ;
7703: LD_ADDR_OWVAR 20
7707: PUSH
7708: LD_VAR 0 3
7712: ST_TO_ADDR
// b := building_list [ Rand ( 1 , building_list + 0 ) ] ;
7713: LD_ADDR_VAR 0 4
7717: PUSH
7718: LD_VAR 0 2
7722: PUSH
7723: LD_INT 1
7725: PPUSH
7726: LD_VAR 0 2
7730: PUSH
7731: LD_INT 0
7733: PLUS
7734: PPUSH
7735: CALL_OW 12
7739: ARRAY
7740: ST_TO_ADDR
// if GetBType ( b ) in [ b_depot , b_warehouse ] then
7741: LD_VAR 0 4
7745: PPUSH
7746: CALL_OW 266
7750: PUSH
7751: LD_INT 0
7753: PUSH
7754: LD_INT 1
7756: PUSH
7757: EMPTY
7758: LIST
7759: LIST
7760: IN
7761: IFFALSE 7773
// n = 25 else
7763: LD_ADDR_VAR 0 1
7767: PUSH
7768: LD_INT 25
7770: ST_TO_ADDR
7771: GO 7781
// n = 10 ;
7773: LD_ADDR_VAR 0 1
7777: PUSH
7778: LD_INT 10
7780: ST_TO_ADDR
// PlaceUnitXYR ( CreateHuman , GetX ( b ) , GetY ( b ) , n , true ) ;
7781: CALL_OW 44
7785: PPUSH
7786: LD_VAR 0 4
7790: PPUSH
7791: CALL_OW 250
7795: PPUSH
7796: LD_VAR 0 4
7800: PPUSH
7801: CALL_OW 251
7805: PPUSH
7806: LD_VAR 0 1
7810: PPUSH
7811: LD_INT 1
7813: PPUSH
7814: CALL_OW 50
// end else
7818: GO 7821
// enable ;
7820: ENABLE
// end else
7821: GO 7824
// enable ;
7823: ENABLE
// end ; end_of_file
7824: PPOPN 4
7826: END
// on BuildingStarted ( b , u ) do begin if GetBType ( b ) in [ b_depot , b_warehouse ] then
7827: LD_VAR 0 1
7831: PPUSH
7832: CALL_OW 266
7836: PUSH
7837: LD_INT 0
7839: PUSH
7840: LD_INT 1
7842: PUSH
7843: EMPTY
7844: LIST
7845: LIST
7846: IN
7847: IFFALSE 7872
// SetBName ( b , @ & GetSide ( b ) ) ;
7849: LD_VAR 0 1
7853: PPUSH
7854: LD_STRING @
7856: PUSH
7857: LD_VAR 0 1
7861: PPUSH
7862: CALL_OW 255
7866: STR
7867: PPUSH
7868: CALL_OW 500
// if def_game_rules then
7872: LD_EXP 43
7876: IFFALSE 7913
// ExecuteLimits ( b , GetBType ( b ) , GetSide ( b ) , 0 , 1 ) ;
7878: LD_VAR 0 1
7882: PPUSH
7883: LD_VAR 0 1
7887: PPUSH
7888: CALL_OW 266
7892: PPUSH
7893: LD_VAR 0 1
7897: PPUSH
7898: CALL_OW 255
7902: PPUSH
7903: LD_INT 0
7905: PPUSH
7906: LD_INT 1
7908: PPUSH
7909: CALL 13319 0 5
// end ;
7913: PPOPN 2
7915: END
// on BuildingCaptured ( b , o , e ) do begin if GetBType ( b ) in [ b_depot , b_warehouse ] then
7916: LD_VAR 0 1
7920: PPUSH
7921: CALL_OW 266
7925: PUSH
7926: LD_INT 0
7928: PUSH
7929: LD_INT 1
7931: PUSH
7932: EMPTY
7933: LIST
7934: LIST
7935: IN
7936: IFFALSE 7961
// SetBName ( b , @ & GetSide ( b ) ) ;
7938: LD_VAR 0 1
7942: PPUSH
7943: LD_STRING @
7945: PUSH
7946: LD_VAR 0 1
7950: PPUSH
7951: CALL_OW 255
7955: STR
7956: PPUSH
7957: CALL_OW 500
// if def_game_rules then
7961: LD_EXP 43
7965: IFFALSE 8004
// ExecuteLimits ( b , GetBType ( b ) , GetSide ( b ) , o , 1 ) ;
7967: LD_VAR 0 1
7971: PPUSH
7972: LD_VAR 0 1
7976: PPUSH
7977: CALL_OW 266
7981: PPUSH
7982: LD_VAR 0 1
7986: PPUSH
7987: CALL_OW 255
7991: PPUSH
7992: LD_VAR 0 2
7996: PPUSH
7997: LD_INT 1
7999: PPUSH
8000: CALL 13319 0 5
// end ;
8004: PPOPN 3
8006: END
// on VehicleConstructed ( veh , fac ) do var side ;
8007: LD_INT 0
8009: PPUSH
// begin if GetControl ( veh ) = control_apeman then
8010: LD_VAR 0 1
8014: PPUSH
8015: CALL_OW 263
8019: PUSH
8020: LD_INT 5
8022: EQUAL
8023: IFFALSE 8165
// begin side := GetSide ( veh ) ;
8025: LD_ADDR_VAR 0 3
8029: PUSH
8030: LD_VAR 0 1
8034: PPUSH
8035: CALL_OW 255
8039: ST_TO_ADDR
// apemanPos := Replace ( apemanPos , side , UnitFilter ( apemanPos [ side ] , [ f_placed ] ) union FilterAllUnits ( [ [ f_side , side ] , [ f_or , [ f_control , control_apeman ] , [ f_class , class_apeman ] , [ f_class , class_apeman_soldier ] , [ f_class , class_apeman_engineer ] , [ f_class , class_apeman_kamikaze ] ] ] ) ) ;
8040: LD_ADDR_EXP 37
8044: PUSH
8045: LD_EXP 37
8049: PPUSH
8050: LD_VAR 0 3
8054: PPUSH
8055: LD_EXP 37
8059: PUSH
8060: LD_VAR 0 3
8064: ARRAY
8065: PPUSH
8066: LD_INT 52
8068: PUSH
8069: EMPTY
8070: LIST
8071: PPUSH
8072: CALL_OW 72
8076: PUSH
8077: LD_INT 22
8079: PUSH
8080: LD_VAR 0 3
8084: PUSH
8085: EMPTY
8086: LIST
8087: LIST
8088: PUSH
8089: LD_INT 2
8091: PUSH
8092: LD_INT 33
8094: PUSH
8095: LD_INT 5
8097: PUSH
8098: EMPTY
8099: LIST
8100: LIST
8101: PUSH
8102: LD_INT 25
8104: PUSH
8105: LD_INT 12
8107: PUSH
8108: EMPTY
8109: LIST
8110: LIST
8111: PUSH
8112: LD_INT 25
8114: PUSH
8115: LD_INT 15
8117: PUSH
8118: EMPTY
8119: LIST
8120: LIST
8121: PUSH
8122: LD_INT 25
8124: PUSH
8125: LD_INT 16
8127: PUSH
8128: EMPTY
8129: LIST
8130: LIST
8131: PUSH
8132: LD_INT 25
8134: PUSH
8135: LD_INT 17
8137: PUSH
8138: EMPTY
8139: LIST
8140: LIST
8141: PUSH
8142: EMPTY
8143: LIST
8144: LIST
8145: LIST
8146: LIST
8147: LIST
8148: LIST
8149: PUSH
8150: EMPTY
8151: LIST
8152: LIST
8153: PPUSH
8154: CALL_OW 69
8158: UNION
8159: PPUSH
8160: CALL_OW 1
8164: ST_TO_ADDR
// end ; end ;
8165: PPOPN 3
8167: END
// on UnitDestroyed ( j ) do var x , y , pos , dir ;
8168: LD_INT 0
8170: PPUSH
8171: PPUSH
8172: PPUSH
8173: PPUSH
// begin if GetClass ( j ) in [ class_apeman , class_apeman_soldier , class_apeman_kamikaze , class_apeman_engineer ] or GetControl ( j ) = control_apeman then
8174: LD_VAR 0 1
8178: PPUSH
8179: CALL_OW 257
8183: PUSH
8184: LD_INT 12
8186: PUSH
8187: LD_INT 15
8189: PUSH
8190: LD_INT 17
8192: PUSH
8193: LD_INT 16
8195: PUSH
8196: EMPTY
8197: LIST
8198: LIST
8199: LIST
8200: LIST
8201: IN
8202: PUSH
8203: LD_VAR 0 1
8207: PPUSH
8208: CALL_OW 263
8212: PUSH
8213: LD_INT 5
8215: EQUAL
8216: OR
8217: IFFALSE 8228
// ApeKilled ( j ) ;
8219: LD_VAR 0 1
8223: PPUSH
8224: CALL 7089 0 1
// if GetBType ( j ) in [ b_depot , b_warehouse ] then
8228: LD_VAR 0 1
8232: PPUSH
8233: CALL_OW 266
8237: PUSH
8238: LD_INT 0
8240: PUSH
8241: LD_INT 1
8243: PUSH
8244: EMPTY
8245: LIST
8246: LIST
8247: IN
8248: IFFALSE 8330
// begin pos := Side_Positions [ GetSide ( j ) ] ;
8250: LD_ADDR_VAR 0 4
8254: PUSH
8255: LD_EXP 19
8259: PUSH
8260: LD_VAR 0 1
8264: PPUSH
8265: CALL_OW 255
8269: ARRAY
8270: ST_TO_ADDR
// x := start_def [ pos ] [ 1 ] ;
8271: LD_ADDR_VAR 0 2
8275: PUSH
8276: LD_EXP 26
8280: PUSH
8281: LD_VAR 0 4
8285: ARRAY
8286: PUSH
8287: LD_INT 1
8289: ARRAY
8290: ST_TO_ADDR
// y := start_def [ pos ] [ 2 ] ;
8291: LD_ADDR_VAR 0 3
8295: PUSH
8296: LD_EXP 26
8300: PUSH
8301: LD_VAR 0 4
8305: ARRAY
8306: PUSH
8307: LD_INT 2
8309: ARRAY
8310: ST_TO_ADDR
// KillBattleFlag ( FindBattleFlag ( x , y ) ) ;
8311: LD_VAR 0 2
8315: PPUSH
8316: LD_VAR 0 3
8320: PPUSH
8321: CALL_OW 420
8325: PPUSH
8326: CALL_OW 419
// end ; if def_game_rules then
8330: LD_EXP 43
8334: IFFALSE 8433
// if ( GetType ( j ) = 3 ) then
8336: LD_VAR 0 1
8340: PPUSH
8341: CALL_OW 247
8345: PUSH
8346: LD_INT 3
8348: EQUAL
8349: IFFALSE 8389
// ExecuteLimits ( j , GetBType ( j ) , GetSide ( j ) , 0 , - 1 ) else
8351: LD_VAR 0 1
8355: PPUSH
8356: LD_VAR 0 1
8360: PPUSH
8361: CALL_OW 266
8365: PPUSH
8366: LD_VAR 0 1
8370: PPUSH
8371: CALL_OW 255
8375: PPUSH
8376: LD_INT 0
8378: PPUSH
8379: LD_INT 1
8381: NEG
8382: PPUSH
8383: CALL 13319 0 5
8387: GO 8433
// if ( GetChassis ( j ) = 25 ) then
8389: LD_VAR 0 1
8393: PPUSH
8394: CALL_OW 265
8398: PUSH
8399: LD_INT 25
8401: EQUAL
8402: IFFALSE 8433
// ExecuteLimits ( j , b_behemoth , GetSide ( j ) , 0 , - 1 ) ;
8404: LD_VAR 0 1
8408: PPUSH
8409: LD_INT 37
8411: PPUSH
8412: LD_VAR 0 1
8416: PPUSH
8417: CALL_OW 255
8421: PPUSH
8422: LD_INT 0
8424: PPUSH
8425: LD_INT 1
8427: NEG
8428: PPUSH
8429: CALL 13319 0 5
// end ;
8433: PPOPN 5
8435: END
// on VehicleCaptured ( j , i1 , o , i2 ) do begin if def_game_rules and ( GetChassis ( j ) = 25 ) then
8436: LD_EXP 43
8440: PUSH
8441: LD_VAR 0 1
8445: PPUSH
8446: CALL_OW 265
8450: PUSH
8451: LD_INT 25
8453: EQUAL
8454: AND
8455: IFFALSE 8487
// ExecuteLimits ( j , b_behemoth , GetSide ( j ) , o , 1 ) ;
8457: LD_VAR 0 1
8461: PPUSH
8462: LD_INT 37
8464: PPUSH
8465: LD_VAR 0 1
8469: PPUSH
8470: CALL_OW 255
8474: PPUSH
8475: LD_VAR 0 3
8479: PPUSH
8480: LD_INT 1
8482: PPUSH
8483: CALL 13319 0 5
// end ;
8487: PPOPN 4
8489: END
// on siberiterocketexploded ( un , x , y ) do SA_OnSiberiteRocketExploded ( un , x , y , Your_Side ) ; end_of_file
8490: LD_VAR 0 1
8494: PPUSH
8495: LD_VAR 0 2
8499: PPUSH
8500: LD_VAR 0 3
8504: PPUSH
8505: LD_OWVAR 2
8509: PPUSH
8510: CALL 14090 0 4
8514: PPOPN 3
8516: END
// every 0 0$1 marked 100 do var i , base , pom , filter , sib_mined ;
8517: GO 8519
8519: DISABLE
8520: LD_INT 0
8522: PPUSH
8523: PPUSH
8524: PPUSH
8525: PPUSH
8526: PPUSH
// begin sib_mined := [ ] ;
8527: LD_ADDR_VAR 0 5
8531: PUSH
8532: EMPTY
8533: ST_TO_ADDR
// for i := 1 to 8 do
8534: LD_ADDR_VAR 0 1
8538: PUSH
8539: DOUBLE
8540: LD_INT 1
8542: DEC
8543: ST_TO_ADDR
8544: LD_INT 8
8546: PUSH
8547: FOR_TO
8548: IFFALSE 8704
// if Side_Positions [ i ] then
8550: LD_EXP 19
8554: PUSH
8555: LD_VAR 0 1
8559: ARRAY
8560: IFFALSE 8688
// begin filter := FilterAllUnits ( [ [ f_side , i ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) ;
8562: LD_ADDR_VAR 0 4
8566: PUSH
8567: LD_INT 22
8569: PUSH
8570: LD_VAR 0 1
8574: PUSH
8575: EMPTY
8576: LIST
8577: LIST
8578: PUSH
8579: LD_INT 2
8581: PUSH
8582: LD_INT 30
8584: PUSH
8585: LD_INT 0
8587: PUSH
8588: EMPTY
8589: LIST
8590: LIST
8591: PUSH
8592: LD_INT 30
8594: PUSH
8595: LD_INT 1
8597: PUSH
8598: EMPTY
8599: LIST
8600: LIST
8601: PUSH
8602: EMPTY
8603: LIST
8604: LIST
8605: LIST
8606: PUSH
8607: EMPTY
8608: LIST
8609: LIST
8610: PPUSH
8611: CALL_OW 69
8615: ST_TO_ADDR
// pom := 0 ;
8616: LD_ADDR_VAR 0 3
8620: PUSH
8621: LD_INT 0
8623: ST_TO_ADDR
// for base in filter do
8624: LD_ADDR_VAR 0 2
8628: PUSH
8629: LD_VAR 0 4
8633: PUSH
8634: FOR_IN
8635: IFFALSE 8668
// pom := pom + GetResourceType ( GetBase ( base ) , mat_siberit ) ;
8637: LD_ADDR_VAR 0 3
8641: PUSH
8642: LD_VAR 0 3
8646: PUSH
8647: LD_VAR 0 2
8651: PPUSH
8652: CALL_OW 274
8656: PPUSH
8657: LD_INT 3
8659: PPUSH
8660: CALL_OW 275
8664: PLUS
8665: ST_TO_ADDR
8666: GO 8634
8668: POP
8669: POP
// sib_mined := sib_mined ^ pom ;
8670: LD_ADDR_VAR 0 5
8674: PUSH
8675: LD_VAR 0 5
8679: PUSH
8680: LD_VAR 0 3
8684: ADD
8685: ST_TO_ADDR
// end else
8686: GO 8702
// sib_mined := sib_mined ^ 0 ;
8688: LD_ADDR_VAR 0 5
8692: PUSH
8693: LD_VAR 0 5
8697: PUSH
8698: LD_INT 0
8700: ADD
8701: ST_TO_ADDR
8702: GO 8547
8704: POP
8705: POP
// if not def_public_score then
8706: LD_EXP 2
8710: NOT
8711: IFFALSE 8801
// begin ExtraStrings := [ ] ;
8713: LD_ADDR_EXP 59
8717: PUSH
8718: EMPTY
8719: ST_TO_ADDR
// for i := 1 to 8 do
8720: LD_ADDR_VAR 0 1
8724: PUSH
8725: DOUBLE
8726: LD_INT 1
8728: DEC
8729: ST_TO_ADDR
8730: LD_INT 8
8732: PUSH
8733: FOR_TO
8734: IFFALSE 8797
// if Side_Positions [ i ] then
8736: LD_EXP 19
8740: PUSH
8741: LD_VAR 0 1
8745: ARRAY
8746: IFFALSE 8795
// ExtraStrings := ExtraStrings ^ [ #AlienBase-MinedPublic , i , i , sib_mined [ i ] , amount_of_siberit ] ;
8748: LD_ADDR_EXP 59
8752: PUSH
8753: LD_EXP 59
8757: PUSH
8758: LD_STRING #AlienBase-MinedPublic
8760: PUSH
8761: LD_VAR 0 1
8765: PUSH
8766: LD_VAR 0 1
8770: PUSH
8771: LD_VAR 0 5
8775: PUSH
8776: LD_VAR 0 1
8780: ARRAY
8781: PUSH
8782: LD_EXP 11
8786: PUSH
8787: EMPTY
8788: LIST
8789: LIST
8790: LIST
8791: LIST
8792: LIST
8793: ADD
8794: ST_TO_ADDR
8795: GO 8733
8797: POP
8798: POP
// end else
8799: GO 8830
// ExtraStrings := [ #AlienBase-Mined , sib_mined [ Your_Side ] , amount_of_siberit ] ;
8801: LD_ADDR_EXP 59
8805: PUSH
8806: LD_STRING #AlienBase-Mined
8808: PUSH
8809: LD_VAR 0 5
8813: PUSH
8814: LD_OWVAR 2
8818: ARRAY
8819: PUSH
8820: LD_EXP 11
8824: PUSH
8825: EMPTY
8826: LIST
8827: LIST
8828: LIST
8829: ST_TO_ADDR
// for i := 1 to 8 do
8830: LD_ADDR_VAR 0 1
8834: PUSH
8835: DOUBLE
8836: LD_INT 1
8838: DEC
8839: ST_TO_ADDR
8840: LD_INT 8
8842: PUSH
8843: FOR_TO
8844: IFFALSE 8914
// if sib_mined [ i ] >= amount_of_siberit then
8846: LD_VAR 0 5
8850: PUSH
8851: LD_VAR 0 1
8855: ARRAY
8856: PUSH
8857: LD_EXP 11
8861: GREATEREQUAL
8862: IFFALSE 8912
// begin wait ( 0 0$1 ) ;
8864: LD_INT 35
8866: PPUSH
8867: CALL_OW 67
// if IAmServer then
8871: CALL_OW 518
8875: IFFALSE 8884
// wait ( 0 0$1 ) ;
8877: LD_INT 35
8879: PPUSH
8880: CALL_OW 67
// if sib_mined [ your_side ] >= amount_of_siberit then
8884: LD_VAR 0 5
8888: PUSH
8889: LD_OWVAR 2
8893: ARRAY
8894: PUSH
8895: LD_EXP 11
8899: GREATEREQUAL
8900: IFFALSE 8908
// YouWinInMultiplayer else
8902: CALL_OW 106
8906: GO 8912
// YouLostInMultiplayer ;
8908: CALL_OW 107
// end ;
8912: GO 8843
8914: POP
8915: POP
// enable ;
8916: ENABLE
// end ; end_of_file
8917: PPOPN 5
8919: END
// var strength , lastxwin , lastywin , lastxlost , lastylost ; function Update_Flags ; var un ; begin
8920: LD_INT 0
8922: PPUSH
8923: PPUSH
// for un in battle_flags_id do
8924: LD_ADDR_VAR 0 2
8928: PUSH
8929: LD_EXP 31
8933: PUSH
8934: FOR_IN
8935: IFFALSE 9010
// ChangeBattleFlagOptions ( un , [ [ bfo_defend_bonus_human , strength ] , [ bfo_defend_bonus_vehicle , strength div 2 ] , [ bfo_defend_bonus_building , strength div 5 ] , [ bfo_height , strength ] ] ) ;
8937: LD_VAR 0 2
8941: PPUSH
8942: LD_INT 1
8944: PUSH
8945: LD_LOC 11
8949: PUSH
8950: EMPTY
8951: LIST
8952: LIST
8953: PUSH
8954: LD_INT 2
8956: PUSH
8957: LD_LOC 11
8961: PUSH
8962: LD_INT 2
8964: DIV
8965: PUSH
8966: EMPTY
8967: LIST
8968: LIST
8969: PUSH
8970: LD_INT 3
8972: PUSH
8973: LD_LOC 11
8977: PUSH
8978: LD_INT 5
8980: DIV
8981: PUSH
8982: EMPTY
8983: LIST
8984: LIST
8985: PUSH
8986: LD_INT 20
8988: PUSH
8989: LD_LOC 11
8993: PUSH
8994: EMPTY
8995: LIST
8996: LIST
8997: PUSH
8998: EMPTY
8999: LIST
9000: LIST
9001: LIST
9002: LIST
9003: PPUSH
9004: CALL_OW 423
9008: GO 8934
9010: POP
9011: POP
// end ;
9012: LD_VAR 0 1
9016: RET
// every 1 do var un ;
9017: GO 9019
9019: DISABLE
9020: LD_INT 0
9022: PPUSH
// begin if not def_morale_flags then
9023: LD_EXP 52
9027: NOT
9028: IFFALSE 9032
// exit ;
9030: GO 9109
// if not morale_decreasing_time then
9032: LD_EXP 10
9036: NOT
9037: IFFALSE 9041
// exit ;
9039: GO 9109
// strength = 100 ;
9041: LD_ADDR_LOC 11
9045: PUSH
9046: LD_INT 100
9048: ST_TO_ADDR
// repeat wait ( morale_decreasing_time ) ;
9049: LD_EXP 10
9053: PPUSH
9054: CALL_OW 67
// strength := strength - 1 ;
9058: LD_ADDR_LOC 11
9062: PUSH
9063: LD_LOC 11
9067: PUSH
9068: LD_INT 1
9070: MINUS
9071: ST_TO_ADDR
// Update_Flags ;
9072: CALL 8920 0 0
// until not strength ;
9076: LD_LOC 11
9080: NOT
9081: IFFALSE 9049
// for un in battle_flags_id do
9083: LD_ADDR_VAR 0 1
9087: PUSH
9088: LD_EXP 31
9092: PUSH
9093: FOR_IN
9094: IFFALSE 9107
// KillBattleFlag ( un ) ;
9096: LD_VAR 0 1
9100: PPUSH
9101: CALL_OW 419
9105: GO 9093
9107: POP
9108: POP
// end ; end_of_file
9109: PPOPN 1
9111: END
// export BuildUpAreas ; export function BeginBuildUp ; var i , j ; begin
9112: LD_INT 0
9114: PPUSH
9115: PPUSH
9116: PPUSH
// enable ( 600 ) ;
9117: LD_INT 600
9119: ENABLE_MARKED
// for i := 1 to BuildUpAreas do
9120: LD_ADDR_VAR 0 2
9124: PUSH
9125: DOUBLE
9126: LD_INT 1
9128: DEC
9129: ST_TO_ADDR
9130: LD_EXP 41
9134: PUSH
9135: FOR_TO
9136: IFFALSE 9291
// if Position_Sides [ i ] then
9138: LD_EXP 23
9142: PUSH
9143: LD_VAR 0 2
9147: ARRAY
9148: IFFALSE 9289
// for j := 1 to 8 do
9150: LD_ADDR_VAR 0 3
9154: PUSH
9155: DOUBLE
9156: LD_INT 1
9158: DEC
9159: ST_TO_ADDR
9160: LD_INT 8
9162: PUSH
9163: FOR_TO
9164: IFFALSE 9287
// if Side_Positions [ j ] and ( ( Side_Teams [ Position_Sides [ i ] ] <> Side_Teams [ j ] ) or ( not Team_Game ) and ( Position_Sides [ i ] <> j ) ) then
9166: LD_EXP 19
9170: PUSH
9171: LD_VAR 0 3
9175: ARRAY
9176: PUSH
9177: LD_EXP 17
9181: PUSH
9182: LD_EXP 23
9186: PUSH
9187: LD_VAR 0 2
9191: ARRAY
9192: ARRAY
9193: PUSH
9194: LD_EXP 17
9198: PUSH
9199: LD_VAR 0 3
9203: ARRAY
9204: NONEQUAL
9205: PUSH
9206: LD_EXP 21
9210: NOT
9211: PUSH
9212: LD_EXP 23
9216: PUSH
9217: LD_VAR 0 2
9221: ARRAY
9222: PUSH
9223: LD_VAR 0 3
9227: NONEQUAL
9228: AND
9229: OR
9230: AND
9231: IFFALSE 9255
// HideArea ( j , BuildUpAreas [ i ] ) else
9233: LD_VAR 0 3
9237: PPUSH
9238: LD_EXP 41
9242: PUSH
9243: LD_VAR 0 2
9247: ARRAY
9248: PPUSH
9249: CALL_OW 333
9253: GO 9285
// if ( j = your_side ) then
9255: LD_VAR 0 3
9259: PUSH
9260: LD_OWVAR 2
9264: EQUAL
9265: IFFALSE 9285
// SetAreaMapShow ( BuildUpAreas [ i ] , 5 ) ;
9267: LD_EXP 41
9271: PUSH
9272: LD_VAR 0 2
9276: ARRAY
9277: PPUSH
9278: LD_INT 5
9280: PPUSH
9281: CALL_OW 424
9285: GO 9163
9287: POP
9288: POP
9289: GO 9135
9291: POP
9292: POP
// end ;
9293: LD_VAR 0 1
9297: RET
// export function EndBuildUp ; var i , j ; begin
9298: LD_INT 0
9300: PPUSH
9301: PPUSH
9302: PPUSH
// disable ( 600 ) ;
9303: LD_INT 600
9305: DISABLE_MARKED
// for i := 1 to BuildUpAreas do
9306: LD_ADDR_VAR 0 2
9310: PUSH
9311: DOUBLE
9312: LD_INT 1
9314: DEC
9315: ST_TO_ADDR
9316: LD_EXP 41
9320: PUSH
9321: FOR_TO
9322: IFFALSE 9477
// if Position_Sides [ i ] then
9324: LD_EXP 23
9328: PUSH
9329: LD_VAR 0 2
9333: ARRAY
9334: IFFALSE 9475
// for j := 1 to 8 do
9336: LD_ADDR_VAR 0 3
9340: PUSH
9341: DOUBLE
9342: LD_INT 1
9344: DEC
9345: ST_TO_ADDR
9346: LD_INT 8
9348: PUSH
9349: FOR_TO
9350: IFFALSE 9473
// if Side_Positions [ j ] and ( ( Side_Teams [ Position_Sides [ i ] ] <> Side_Teams [ j ] ) or ( not Team_Game ) and ( Position_Sides [ i ] <> j ) ) then
9352: LD_EXP 19
9356: PUSH
9357: LD_VAR 0 3
9361: ARRAY
9362: PUSH
9363: LD_EXP 17
9367: PUSH
9368: LD_EXP 23
9372: PUSH
9373: LD_VAR 0 2
9377: ARRAY
9378: ARRAY
9379: PUSH
9380: LD_EXP 17
9384: PUSH
9385: LD_VAR 0 3
9389: ARRAY
9390: NONEQUAL
9391: PUSH
9392: LD_EXP 21
9396: NOT
9397: PUSH
9398: LD_EXP 23
9402: PUSH
9403: LD_VAR 0 2
9407: ARRAY
9408: PUSH
9409: LD_VAR 0 3
9413: NONEQUAL
9414: AND
9415: OR
9416: AND
9417: IFFALSE 9441
// ShowArea ( j , BuildUpAreas [ i ] ) else
9419: LD_VAR 0 3
9423: PPUSH
9424: LD_EXP 41
9428: PUSH
9429: LD_VAR 0 2
9433: ARRAY
9434: PPUSH
9435: CALL_OW 334
9439: GO 9471
// if ( j = your_side ) then
9441: LD_VAR 0 3
9445: PUSH
9446: LD_OWVAR 2
9450: EQUAL
9451: IFFALSE 9471
// SetAreaMapShow ( BuildUpAreas [ i ] , 0 ) ;
9453: LD_EXP 41
9457: PUSH
9458: LD_VAR 0 2
9462: ARRAY
9463: PPUSH
9464: LD_INT 0
9466: PPUSH
9467: CALL_OW 424
9471: GO 9349
9473: POP
9474: POP
9475: GO 9321
9477: POP
9478: POP
// end ;
9479: LD_VAR 0 1
9483: RET
// every 5 marked 600 do var i , un ;
9484: GO 9486
9486: DISABLE
9487: LD_INT 0
9489: PPUSH
9490: PPUSH
// begin for i := 1 to BuildUpAreas do
9491: LD_ADDR_VAR 0 1
9495: PUSH
9496: DOUBLE
9497: LD_INT 1
9499: DEC
9500: ST_TO_ADDR
9501: LD_EXP 41
9505: PUSH
9506: FOR_TO
9507: IFFALSE 9662
// if Position_Sides [ i ] then
9509: LD_EXP 23
9513: PUSH
9514: LD_VAR 0 1
9518: ARRAY
9519: IFFALSE 9660
// for un in FilterUnitsInArea ( BuildUpAreas [ i ] , [ [ f_or , [ f_type , unit_human ] , [ f_type , unit_vehicle ] ] , [ f_side , Your_Side ] ] ) do
9521: LD_ADDR_VAR 0 2
9525: PUSH
9526: LD_EXP 41
9530: PUSH
9531: LD_VAR 0 1
9535: ARRAY
9536: PPUSH
9537: LD_INT 2
9539: PUSH
9540: LD_INT 21
9542: PUSH
9543: LD_INT 1
9545: PUSH
9546: EMPTY
9547: LIST
9548: LIST
9549: PUSH
9550: LD_INT 21
9552: PUSH
9553: LD_INT 2
9555: PUSH
9556: EMPTY
9557: LIST
9558: LIST
9559: PUSH
9560: EMPTY
9561: LIST
9562: LIST
9563: LIST
9564: PUSH
9565: LD_INT 22
9567: PUSH
9568: LD_OWVAR 2
9572: PUSH
9573: EMPTY
9574: LIST
9575: LIST
9576: PUSH
9577: EMPTY
9578: LIST
9579: LIST
9580: PPUSH
9581: CALL_OW 70
9585: PUSH
9586: FOR_IN
9587: IFFALSE 9658
// if ( ( Side_Teams [ Position_Sides [ i ] ] <> Side_Teams [ Your_Side ] ) or ( not Team_Game ) and ( Position_Sides [ i ] <> Your_Side ) ) then
9589: LD_EXP 17
9593: PUSH
9594: LD_EXP 23
9598: PUSH
9599: LD_VAR 0 1
9603: ARRAY
9604: ARRAY
9605: PUSH
9606: LD_EXP 17
9610: PUSH
9611: LD_OWVAR 2
9615: ARRAY
9616: NONEQUAL
9617: PUSH
9618: LD_EXP 21
9622: NOT
9623: PUSH
9624: LD_EXP 23
9628: PUSH
9629: LD_VAR 0 1
9633: ARRAY
9634: PUSH
9635: LD_OWVAR 2
9639: NONEQUAL
9640: AND
9641: OR
9642: IFFALSE 9656
// ComMoveToArea ( un , BuildUpEscape ) ;
9644: LD_VAR 0 2
9648: PPUSH
9649: LD_INT 14
9651: PPUSH
9652: CALL_OW 113
9656: GO 9586
9658: POP
9659: POP
9660: GO 9506
9662: POP
9663: POP
// enable ;
9664: ENABLE
// end ;
9665: PPOPN 2
9667: END
// every 1 do
9668: GO 9670
9670: DISABLE
// if ( def_builduptime > 0 ) then
9671: LD_EXP 57
9675: PUSH
9676: LD_INT 0
9678: GREATER
9679: IFFALSE 9694
// begin wait ( buildUpTime_Delay ) ;
9681: LD_EXP 14
9685: PPUSH
9686: CALL_OW 67
// EndBuildUp ;
9690: CALL 9298 0 0
// end ; end_of_file
9694: END
// var BloodGods , BloodGods_LastKills , BloodGods_CurrentKills , BloodGods_Positions ; every 0 0$3 marked 200 do var x ;
9695: GO 9697
9697: DISABLE
9698: LD_INT 0
9700: PPUSH
// begin enable ;
9701: ENABLE
// for x := 1 to 8 do
9702: LD_ADDR_VAR 0 1
9706: PUSH
9707: DOUBLE
9708: LD_INT 1
9710: DEC
9711: ST_TO_ADDR
9712: LD_INT 8
9714: PUSH
9715: FOR_TO
9716: IFFALSE 9800
// if ( BloodGods_CurrentKills [ x ] > 5 ) and ( BloodGods [ x ] = - 1 ) then
9718: LD_LOC 18
9722: PUSH
9723: LD_VAR 0 1
9727: ARRAY
9728: PUSH
9729: LD_INT 5
9731: GREATER
9732: PUSH
9733: LD_LOC 16
9737: PUSH
9738: LD_VAR 0 1
9742: ARRAY
9743: PUSH
9744: LD_INT 1
9746: NEG
9747: EQUAL
9748: AND
9749: IFFALSE 9798
// begin BloodGods_LastKills := Replace ( BloodGods_LastKills , x , BloodGods_LastKills [ x ] + 6 ) ;
9751: LD_ADDR_LOC 17
9755: PUSH
9756: LD_LOC 17
9760: PPUSH
9761: LD_VAR 0 1
9765: PPUSH
9766: LD_LOC 17
9770: PUSH
9771: LD_VAR 0 1
9775: ARRAY
9776: PUSH
9777: LD_INT 6
9779: PLUS
9780: PPUSH
9781: CALL_OW 1
9785: ST_TO_ADDR
// AwakenBloodGod ( x , false ) ;
9786: LD_VAR 0 1
9790: PPUSH
9791: LD_INT 0
9793: PPUSH
9794: CALL 9972 0 2
// end ;
9798: GO 9715
9800: POP
9801: POP
// end ;
9802: PPOPN 1
9804: END
// every 0 0$1 marked 200 do var BGL , x ;
9805: GO 9807
9807: DISABLE
9808: LD_INT 0
9810: PPUSH
9811: PPUSH
// begin enable ;
9812: ENABLE
// for x := 1 to 8 do
9813: LD_ADDR_VAR 0 2
9817: PUSH
9818: DOUBLE
9819: LD_INT 1
9821: DEC
9822: ST_TO_ADDR
9823: LD_INT 8
9825: PUSH
9826: FOR_TO
9827: IFFALSE 9958
// if ( BloodGods [ x ] > - 1 ) and IsLive ( BloodGods [ x ] ) then
9829: LD_LOC 16
9833: PUSH
9834: LD_VAR 0 2
9838: ARRAY
9839: PUSH
9840: LD_INT 1
9842: NEG
9843: GREATER
9844: PUSH
9845: LD_LOC 16
9849: PUSH
9850: LD_VAR 0 2
9854: ARRAY
9855: PPUSH
9856: CALL_OW 300
9860: AND
9861: IFFALSE 9956
// begin BGL := GetLives ( BloodGods [ x ] ) ;
9863: LD_ADDR_VAR 0 1
9867: PUSH
9868: LD_LOC 16
9872: PUSH
9873: LD_VAR 0 2
9877: ARRAY
9878: PPUSH
9879: CALL_OW 256
9883: ST_TO_ADDR
// if ( BGL < 1000 ) and ( BGL > 100 ) then
9884: LD_VAR 0 1
9888: PUSH
9889: LD_INT 1000
9891: LESS
9892: PUSH
9893: LD_VAR 0 1
9897: PUSH
9898: LD_INT 100
9900: GREATER
9901: AND
9902: IFFALSE 9956
// begin BGL := BGL + 10 ;
9904: LD_ADDR_VAR 0 1
9908: PUSH
9909: LD_VAR 0 1
9913: PUSH
9914: LD_INT 10
9916: PLUS
9917: ST_TO_ADDR
// if BGL > 1000 then
9918: LD_VAR 0 1
9922: PUSH
9923: LD_INT 1000
9925: GREATER
9926: IFFALSE 9936
// BGL := 1000 ;
9928: LD_ADDR_VAR 0 1
9932: PUSH
9933: LD_INT 1000
9935: ST_TO_ADDR
// SetLives ( BloodGods [ x ] , BGL ) ;
9936: LD_LOC 16
9940: PUSH
9941: LD_VAR 0 2
9945: ARRAY
9946: PPUSH
9947: LD_VAR 0 1
9951: PPUSH
9952: CALL_OW 234
// end ; end ;
9956: GO 9826
9958: POP
9959: POP
// end ;
9960: PPOPN 2
9962: END
// every 0 0$1 marked 200 do
9963: GO 9965
9965: DISABLE
// begin DisplayTimeWithKills ;
9966: CALL 10213 0 0
// enable ;
9970: ENABLE
// end ;
9971: END
// function AwakenBloodGod ( side , NoDialog ) ; begin
9972: LD_INT 0
9974: PPUSH
// uc_direction := Rand ( 0 , 5 ) ;
9975: LD_ADDR_OWVAR 24
9979: PUSH
9980: LD_INT 0
9982: PPUSH
9983: LD_INT 5
9985: PPUSH
9986: CALL_OW 12
9990: ST_TO_ADDR
// PrepareHuman ( 1 , class_soldier , 15 ) ;
9991: LD_INT 1
9993: PPUSH
9994: LD_INT 1
9996: PPUSH
9997: LD_INT 15
9999: PPUSH
10000: CALL_OW 380
// hc_importance := 106 ;
10004: LD_ADDR_OWVAR 32
10008: PUSH
10009: LD_INT 106
10011: ST_TO_ADDR
// hc_name := Blood God of  & mp_sides_players_names [ side ] ;
10012: LD_ADDR_OWVAR 26
10016: PUSH
10017: LD_STRING Blood God of 
10019: PUSH
10020: LD_OWVAR 19
10024: PUSH
10025: LD_VAR 0 1
10029: ARRAY
10030: STR
10031: ST_TO_ADDR
// uc_nation := Side_Nations [ side ] ;
10032: LD_ADDR_OWVAR 21
10036: PUSH
10037: LD_EXP 20
10041: PUSH
10042: LD_VAR 0 1
10046: ARRAY
10047: ST_TO_ADDR
// uc_side := side ;
10048: LD_ADDR_OWVAR 20
10052: PUSH
10053: LD_VAR 0 1
10057: ST_TO_ADDR
// hc_noskilllimit := true ;
10058: LD_ADDR_OWVAR 76
10062: PUSH
10063: LD_INT 1
10065: ST_TO_ADDR
// hc_agressivity := 50 ;
10066: LD_ADDR_OWVAR 35
10070: PUSH
10071: LD_INT 50
10073: ST_TO_ADDR
// BloodGods := Replace ( BloodGods , Side , CreateHuman ) ;
10074: LD_ADDR_LOC 16
10078: PUSH
10079: LD_LOC 16
10083: PPUSH
10084: LD_VAR 0 1
10088: PPUSH
10089: CALL_OW 44
10093: PPUSH
10094: CALL_OW 1
10098: ST_TO_ADDR
// PlaceUnitXYR ( BloodGods [ side ] , BloodGods_Positions [ Side_Positions [ side ] ] [ 1 ] , BloodGods_Positions [ Side_Positions [ side ] ] [ 2 ] , 10 , false ) ;
10099: LD_LOC 16
10103: PUSH
10104: LD_VAR 0 1
10108: ARRAY
10109: PPUSH
10110: LD_LOC 19
10114: PUSH
10115: LD_EXP 19
10119: PUSH
10120: LD_VAR 0 1
10124: ARRAY
10125: ARRAY
10126: PUSH
10127: LD_INT 1
10129: ARRAY
10130: PPUSH
10131: LD_LOC 19
10135: PUSH
10136: LD_EXP 19
10140: PUSH
10141: LD_VAR 0 1
10145: ARRAY
10146: ARRAY
10147: PUSH
10148: LD_INT 2
10150: ARRAY
10151: PPUSH
10152: LD_INT 10
10154: PPUSH
10155: LD_INT 0
10157: PPUSH
10158: CALL_OW 50
// SetAttr ( BloodGods [ side ] , attr_stamina , 300 ) ;
10162: LD_LOC 16
10166: PUSH
10167: LD_VAR 0 1
10171: ARRAY
10172: PPUSH
10173: LD_INT 1
10175: PPUSH
10176: LD_INT 300
10178: PPUSH
10179: CALL_OW 239
// if not NoDialog then
10183: LD_VAR 0 2
10187: NOT
10188: IFFALSE 10208
// SayRadio ( BloodGods [ side ] , DLAwaken ) ;
10190: LD_LOC 16
10194: PUSH
10195: LD_VAR 0 1
10199: ARRAY
10200: PPUSH
10201: LD_STRING DLAwaken
10203: PPUSH
10204: CALL_OW 94
// end ;
10208: LD_VAR 0 3
10212: RET
// function DisplayTimeWithKills ; var x ; begin
10213: LD_INT 0
10215: PPUSH
10216: PPUSH
// ExtraStrings :=  ;
10217: LD_ADDR_EXP 59
10221: PUSH
10222: LD_STRING 
10224: ST_TO_ADDR
// for x = 1 to Side_Positions do
10225: LD_ADDR_VAR 0 2
10229: PUSH
10230: DOUBLE
10231: LD_INT 1
10233: DEC
10234: ST_TO_ADDR
10235: LD_EXP 19
10239: PUSH
10240: FOR_TO
10241: IFFALSE 10474
// if Side_Positions [ x ] then
10243: LD_EXP 19
10247: PUSH
10248: LD_VAR 0 2
10252: ARRAY
10253: IFFALSE 10472
// begin BloodGods_CurrentKills := Replace ( BloodGods_CurrentKills , x , GetHumansKilled ( x ) - BloodGods_LastKills [ x ] ) ;
10255: LD_ADDR_LOC 18
10259: PUSH
10260: LD_LOC 18
10264: PPUSH
10265: LD_VAR 0 2
10269: PPUSH
10270: LD_VAR 0 2
10274: PPUSH
10275: CALL_OW 515
10279: PUSH
10280: LD_LOC 17
10284: PUSH
10285: LD_VAR 0 2
10289: ARRAY
10290: MINUS
10291: PPUSH
10292: CALL_OW 1
10296: ST_TO_ADDR
// if ( BloodGods [ x ] > - 1 ) and ( IsLive ( BloodGods [ x ] ) ) then
10297: LD_LOC 16
10301: PUSH
10302: LD_VAR 0 2
10306: ARRAY
10307: PUSH
10308: LD_INT 1
10310: NEG
10311: GREATER
10312: PUSH
10313: LD_LOC 16
10317: PUSH
10318: LD_VAR 0 2
10322: ARRAY
10323: PPUSH
10324: CALL_OW 300
10328: AND
10329: IFFALSE 10362
// ExtraStrings = ExtraStrings ^ [ #godawoken , x , x ] else
10331: LD_ADDR_EXP 59
10335: PUSH
10336: LD_EXP 59
10340: PUSH
10341: LD_STRING #godawoken
10343: PUSH
10344: LD_VAR 0 2
10348: PUSH
10349: LD_VAR 0 2
10353: PUSH
10354: EMPTY
10355: LIST
10356: LIST
10357: LIST
10358: ADD
10359: ST_TO_ADDR
10360: GO 10472
// if ( BloodGods [ x ] > - 1 ) and ( IsDead ( BloodGods [ x ] ) ) then
10362: LD_LOC 16
10366: PUSH
10367: LD_VAR 0 2
10371: ARRAY
10372: PUSH
10373: LD_INT 1
10375: NEG
10376: GREATER
10377: PUSH
10378: LD_LOC 16
10382: PUSH
10383: LD_VAR 0 2
10387: ARRAY
10388: PPUSH
10389: CALL_OW 301
10393: AND
10394: IFFALSE 10427
// ExtraStrings = ExtraStrings ^ [ #goddied , x , x ] else
10396: LD_ADDR_EXP 59
10400: PUSH
10401: LD_EXP 59
10405: PUSH
10406: LD_STRING #goddied
10408: PUSH
10409: LD_VAR 0 2
10413: PUSH
10414: LD_VAR 0 2
10418: PUSH
10419: EMPTY
10420: LIST
10421: LIST
10422: LIST
10423: ADD
10424: ST_TO_ADDR
10425: GO 10472
// ExtraStrings = ExtraStrings ^ [ #godssacrifise , x , x , BloodGods_CurrentKills [ x ] , 6 ] end ;
10427: LD_ADDR_EXP 59
10431: PUSH
10432: LD_EXP 59
10436: PUSH
10437: LD_STRING #godssacrifise
10439: PUSH
10440: LD_VAR 0 2
10444: PUSH
10445: LD_VAR 0 2
10449: PUSH
10450: LD_LOC 18
10454: PUSH
10455: LD_VAR 0 2
10459: ARRAY
10460: PUSH
10461: LD_INT 6
10463: PUSH
10464: EMPTY
10465: LIST
10466: LIST
10467: LIST
10468: LIST
10469: LIST
10470: ADD
10471: ST_TO_ADDR
10472: GO 10240
10474: POP
10475: POP
// end ;
10476: LD_VAR 0 1
10480: RET
// export function InitBloodGods ; begin
10481: LD_INT 0
10483: PPUSH
// BloodGods = [ - 1 , - 1 , - 1 , - 1 , - 1 , - 1 , - 1 , - 1 ] ;
10484: LD_ADDR_LOC 16
10488: PUSH
10489: LD_INT 1
10491: NEG
10492: PUSH
10493: LD_INT 1
10495: NEG
10496: PUSH
10497: LD_INT 1
10499: NEG
10500: PUSH
10501: LD_INT 1
10503: NEG
10504: PUSH
10505: LD_INT 1
10507: NEG
10508: PUSH
10509: LD_INT 1
10511: NEG
10512: PUSH
10513: LD_INT 1
10515: NEG
10516: PUSH
10517: LD_INT 1
10519: NEG
10520: PUSH
10521: EMPTY
10522: LIST
10523: LIST
10524: LIST
10525: LIST
10526: LIST
10527: LIST
10528: LIST
10529: LIST
10530: ST_TO_ADDR
// BloodGods_LastKills = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
10531: LD_ADDR_LOC 17
10535: PUSH
10536: LD_INT 0
10538: PUSH
10539: LD_INT 0
10541: PUSH
10542: LD_INT 0
10544: PUSH
10545: LD_INT 0
10547: PUSH
10548: LD_INT 0
10550: PUSH
10551: LD_INT 0
10553: PUSH
10554: LD_INT 0
10556: PUSH
10557: LD_INT 0
10559: PUSH
10560: EMPTY
10561: LIST
10562: LIST
10563: LIST
10564: LIST
10565: LIST
10566: LIST
10567: LIST
10568: LIST
10569: ST_TO_ADDR
// BloodGods_CurrentKills = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
10570: LD_ADDR_LOC 18
10574: PUSH
10575: LD_INT 0
10577: PUSH
10578: LD_INT 0
10580: PUSH
10581: LD_INT 0
10583: PUSH
10584: LD_INT 0
10586: PUSH
10587: LD_INT 0
10589: PUSH
10590: LD_INT 0
10592: PUSH
10593: LD_INT 0
10595: PUSH
10596: LD_INT 0
10598: PUSH
10599: EMPTY
10600: LIST
10601: LIST
10602: LIST
10603: LIST
10604: LIST
10605: LIST
10606: LIST
10607: LIST
10608: ST_TO_ADDR
// BloodGods_Positions = [ [ 60 , 47 ] , [ 82 , 26 ] , [ 124 , 45 ] , [ 147 , 90 ] , [ 126 , 112 ] , [ 84 , 92 ] , [ 106 , 73 ] , [ 106 , 73 ] ] ;
10609: LD_ADDR_LOC 19
10613: PUSH
10614: LD_INT 60
10616: PUSH
10617: LD_INT 47
10619: PUSH
10620: EMPTY
10621: LIST
10622: LIST
10623: PUSH
10624: LD_INT 82
10626: PUSH
10627: LD_INT 26
10629: PUSH
10630: EMPTY
10631: LIST
10632: LIST
10633: PUSH
10634: LD_INT 124
10636: PUSH
10637: LD_INT 45
10639: PUSH
10640: EMPTY
10641: LIST
10642: LIST
10643: PUSH
10644: LD_INT 147
10646: PUSH
10647: LD_INT 90
10649: PUSH
10650: EMPTY
10651: LIST
10652: LIST
10653: PUSH
10654: LD_INT 126
10656: PUSH
10657: LD_INT 112
10659: PUSH
10660: EMPTY
10661: LIST
10662: LIST
10663: PUSH
10664: LD_INT 84
10666: PUSH
10667: LD_INT 92
10669: PUSH
10670: EMPTY
10671: LIST
10672: LIST
10673: PUSH
10674: LD_INT 106
10676: PUSH
10677: LD_INT 73
10679: PUSH
10680: EMPTY
10681: LIST
10682: LIST
10683: PUSH
10684: LD_INT 106
10686: PUSH
10687: LD_INT 73
10689: PUSH
10690: EMPTY
10691: LIST
10692: LIST
10693: PUSH
10694: EMPTY
10695: LIST
10696: LIST
10697: LIST
10698: LIST
10699: LIST
10700: LIST
10701: LIST
10702: LIST
10703: ST_TO_ADDR
// ClearHumansKilled ;
10704: CALL_OW 516
// enable ( 200 ) ;
10708: LD_INT 200
10710: ENABLE_MARKED
// end ; end_of_file
10711: LD_VAR 0 1
10715: RET
// export Game_Type , def_game_rules ; export def_base_level , def_amount_of_people , def_skill_level , def_starting_resources , def_shipments_density , def_extra_oil_deposits , def_extra_sib_deposits , def_shared_vision , def_morale_flags , def_siberite_detection , def_people_respawning , def_amount_of_apemen , def_siberite_bomb , def_builduptime ; export No_Mechs ; var Restricted_Builds , Restricted_Builds_Amount ; var Banned_Weapons , Banned_Chassis , Banned_Controls , Banned_Engines ; var Already_Built ; var Limits_Info , Cheaters ; export function LimitsStrings ; var i ; begin
10716: LD_INT 0
10718: PPUSH
10719: PPUSH
// if ( not IAmSpec ) then
10720: CALL_OW 531
10724: NOT
10725: IFFALSE 10741
// Result := Limits_Info ^  ;
10727: LD_ADDR_VAR 0 1
10731: PUSH
10732: LD_LOC 27
10736: PUSH
10737: LD_STRING 
10739: ADD
10740: ST_TO_ADDR
// for i := 1 to 8 do
10741: LD_ADDR_VAR 0 2
10745: PUSH
10746: DOUBLE
10747: LD_INT 1
10749: DEC
10750: ST_TO_ADDR
10751: LD_INT 8
10753: PUSH
10754: FOR_TO
10755: IFFALSE 10800
// if Cheaters [ i ] then
10757: LD_LOC 28
10761: PUSH
10762: LD_VAR 0 2
10766: ARRAY
10767: IFFALSE 10798
// Result := Result ^ [ #Cheater , i , i ] ;
10769: LD_ADDR_VAR 0 1
10773: PUSH
10774: LD_VAR 0 1
10778: PUSH
10779: LD_STRING #Cheater
10781: PUSH
10782: LD_VAR 0 2
10786: PUSH
10787: LD_VAR 0 2
10791: PUSH
10792: EMPTY
10793: LIST
10794: LIST
10795: LIST
10796: ADD
10797: ST_TO_ADDR
10798: GO 10754
10800: POP
10801: POP
// end ;
10802: LD_VAR 0 1
10806: RET
// export function InitGameRules ; var Unavailable_Techs , Unavailable_Builds ; var i , j ; begin
10807: LD_INT 0
10809: PPUSH
10810: PPUSH
10811: PPUSH
10812: PPUSH
10813: PPUSH
// if game_type in [ 10 , 11 ] then
10814: LD_EXP 42
10818: PUSH
10819: LD_INT 10
10821: PUSH
10822: LD_INT 11
10824: PUSH
10825: EMPTY
10826: LIST
10827: LIST
10828: IN
10829: IFFALSE 10845
// def_game_rules = def_game_rules + 1 ;
10831: LD_ADDR_EXP 43
10835: PUSH
10836: LD_EXP 43
10840: PUSH
10841: LD_INT 1
10843: PLUS
10844: ST_TO_ADDR
// case def_game_rules of 0 :
10845: LD_EXP 43
10849: PUSH
10850: LD_INT 0
10852: DOUBLE
10853: EQUAL
10854: IFTRUE 10858
10856: GO 10863
10858: POP
// exit ; 1 :
10859: GO 12913
10861: GO 12813
10863: LD_INT 1
10865: DOUBLE
10866: EQUAL
10867: IFTRUE 10871
10869: GO 11087
10871: POP
// begin def_base_level := 2 ;
10872: LD_ADDR_EXP 44
10876: PUSH
10877: LD_INT 2
10879: ST_TO_ADDR
// def_amount_of_people := 11 ;
10880: LD_ADDR_EXP 45
10884: PUSH
10885: LD_INT 11
10887: ST_TO_ADDR
// def_skill_level := 1 ;
10888: LD_ADDR_EXP 46
10892: PUSH
10893: LD_INT 1
10895: ST_TO_ADDR
// def_starting_resources := 2 ;
10896: LD_ADDR_EXP 47
10900: PUSH
10901: LD_INT 2
10903: ST_TO_ADDR
// def_shipments_density := 26 ;
10904: LD_ADDR_EXP 48
10908: PUSH
10909: LD_INT 26
10911: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
10912: LD_ADDR_EXP 49
10916: PUSH
10917: LD_INT 0
10919: ST_TO_ADDR
// def_extra_sib_deposits := 1 ;
10920: LD_ADDR_EXP 50
10924: PUSH
10925: LD_INT 1
10927: ST_TO_ADDR
// def_shared_vision := 1 ;
10928: LD_ADDR_EXP 51
10932: PUSH
10933: LD_INT 1
10935: ST_TO_ADDR
// def_morale_flags := 3 ;
10936: LD_ADDR_EXP 52
10940: PUSH
10941: LD_INT 3
10943: ST_TO_ADDR
// def_siberite_detection := 1 ;
10944: LD_ADDR_EXP 53
10948: PUSH
10949: LD_INT 1
10951: ST_TO_ADDR
// def_people_respawning := 1 ;
10952: LD_ADDR_EXP 54
10956: PUSH
10957: LD_INT 1
10959: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
10960: LD_ADDR_EXP 55
10964: PUSH
10965: LD_INT 1
10967: ST_TO_ADDR
// def_siberite_bomb := 0 ;
10968: LD_ADDR_EXP 56
10972: PUSH
10973: LD_INT 0
10975: ST_TO_ADDR
// def_builduptime := 6 ;
10976: LD_ADDR_EXP 57
10980: PUSH
10981: LD_INT 6
10983: ST_TO_ADDR
// Unavailable_Techs := [ ] ;
10984: LD_ADDR_VAR 0 2
10988: PUSH
10989: EMPTY
10990: ST_TO_ADDR
// Unavailable_Builds := [ ] ;
10991: LD_ADDR_VAR 0 3
10995: PUSH
10996: EMPTY
10997: ST_TO_ADDR
// Banned_Weapons := [ ] ;
10998: LD_ADDR_LOC 22
11002: PUSH
11003: EMPTY
11004: ST_TO_ADDR
// Banned_Chassis := [ ] ;
11005: LD_ADDR_LOC 23
11009: PUSH
11010: EMPTY
11011: ST_TO_ADDR
// Banned_Controls := [ ] ;
11012: LD_ADDR_LOC 24
11016: PUSH
11017: EMPTY
11018: ST_TO_ADDR
// Banned_Engines := [ ] ;
11019: LD_ADDR_LOC 25
11023: PUSH
11024: EMPTY
11025: ST_TO_ADDR
// Restricted_Builds := [ [ b_Behemoth ] , [ b_Armoury , b_Barracks ] , [ b_Breastwork , b_Bunker , b_Turret ] ] ;
11026: LD_ADDR_LOC 20
11030: PUSH
11031: LD_INT 37
11033: PUSH
11034: EMPTY
11035: LIST
11036: PUSH
11037: LD_INT 4
11039: PUSH
11040: LD_INT 5
11042: PUSH
11043: EMPTY
11044: LIST
11045: LIST
11046: PUSH
11047: LD_INT 31
11049: PUSH
11050: LD_INT 32
11052: PUSH
11053: LD_INT 33
11055: PUSH
11056: EMPTY
11057: LIST
11058: LIST
11059: LIST
11060: PUSH
11061: EMPTY
11062: LIST
11063: LIST
11064: LIST
11065: ST_TO_ADDR
// Restricted_Builds_Amount := [ 2 , 2 , 4 ] ;
11066: LD_ADDR_LOC 21
11070: PUSH
11071: LD_INT 2
11073: PUSH
11074: LD_INT 2
11076: PUSH
11077: LD_INT 4
11079: PUSH
11080: EMPTY
11081: LIST
11082: LIST
11083: LIST
11084: ST_TO_ADDR
// end ; 2 :
11085: GO 12813
11087: LD_INT 2
11089: DOUBLE
11090: EQUAL
11091: IFTRUE 11095
11093: GO 11304
11095: POP
// begin def_base_level := 1 ;
11096: LD_ADDR_EXP 44
11100: PUSH
11101: LD_INT 1
11103: ST_TO_ADDR
// def_amount_of_people := 11 ;
11104: LD_ADDR_EXP 45
11108: PUSH
11109: LD_INT 11
11111: ST_TO_ADDR
// def_skill_level := 3 ;
11112: LD_ADDR_EXP 46
11116: PUSH
11117: LD_INT 3
11119: ST_TO_ADDR
// def_starting_resources := 3 ;
11120: LD_ADDR_EXP 47
11124: PUSH
11125: LD_INT 3
11127: ST_TO_ADDR
// def_shipments_density := 51 ;
11128: LD_ADDR_EXP 48
11132: PUSH
11133: LD_INT 51
11135: ST_TO_ADDR
// def_extra_oil_deposits := 1 ;
11136: LD_ADDR_EXP 49
11140: PUSH
11141: LD_INT 1
11143: ST_TO_ADDR
// def_extra_sib_deposits := 2 ;
11144: LD_ADDR_EXP 50
11148: PUSH
11149: LD_INT 2
11151: ST_TO_ADDR
// def_shared_vision := 1 ;
11152: LD_ADDR_EXP 51
11156: PUSH
11157: LD_INT 1
11159: ST_TO_ADDR
// def_morale_flags := 0 ;
11160: LD_ADDR_EXP 52
11164: PUSH
11165: LD_INT 0
11167: ST_TO_ADDR
// def_siberite_detection := 1 ;
11168: LD_ADDR_EXP 53
11172: PUSH
11173: LD_INT 1
11175: ST_TO_ADDR
// def_people_respawning := 0 ;
11176: LD_ADDR_EXP 54
11180: PUSH
11181: LD_INT 0
11183: ST_TO_ADDR
// def_amount_of_apemen := 0 ;
11184: LD_ADDR_EXP 55
11188: PUSH
11189: LD_INT 0
11191: ST_TO_ADDR
// def_siberite_bomb := 0 ;
11192: LD_ADDR_EXP 56
11196: PUSH
11197: LD_INT 0
11199: ST_TO_ADDR
// def_builduptime := 6 ;
11200: LD_ADDR_EXP 57
11204: PUSH
11205: LD_INT 6
11207: ST_TO_ADDR
// Unavailable_Techs := [ tech_ApeLang ] ;
11208: LD_ADDR_VAR 0 2
11212: PUSH
11213: LD_INT 1
11215: PUSH
11216: EMPTY
11217: LIST
11218: ST_TO_ADDR
// Unavailable_Builds := [ ] ;
11219: LD_ADDR_VAR 0 3
11223: PUSH
11224: EMPTY
11225: ST_TO_ADDR
// Banned_Weapons := [ ] ;
11226: LD_ADDR_LOC 22
11230: PUSH
11231: EMPTY
11232: ST_TO_ADDR
// Banned_Chassis := [ ] ;
11233: LD_ADDR_LOC 23
11237: PUSH
11238: EMPTY
11239: ST_TO_ADDR
// Banned_Controls := [ ] ;
11240: LD_ADDR_LOC 24
11244: PUSH
11245: EMPTY
11246: ST_TO_ADDR
// Banned_Engines := [ ] ;
11247: LD_ADDR_LOC 25
11251: PUSH
11252: EMPTY
11253: ST_TO_ADDR
// Restricted_Builds := [ [ b_Armoury , b_Barracks ] , [ b_Breastwork , b_Bunker , b_Turret ] ] ;
11254: LD_ADDR_LOC 20
11258: PUSH
11259: LD_INT 4
11261: PUSH
11262: LD_INT 5
11264: PUSH
11265: EMPTY
11266: LIST
11267: LIST
11268: PUSH
11269: LD_INT 31
11271: PUSH
11272: LD_INT 32
11274: PUSH
11275: LD_INT 33
11277: PUSH
11278: EMPTY
11279: LIST
11280: LIST
11281: LIST
11282: PUSH
11283: EMPTY
11284: LIST
11285: LIST
11286: ST_TO_ADDR
// Restricted_Builds_Amount := [ 1 , 2 ] ;
11287: LD_ADDR_LOC 21
11291: PUSH
11292: LD_INT 1
11294: PUSH
11295: LD_INT 2
11297: PUSH
11298: EMPTY
11299: LIST
11300: LIST
11301: ST_TO_ADDR
// end ; 3 :
11302: GO 12813
11304: LD_INT 3
11306: DOUBLE
11307: EQUAL
11308: IFTRUE 11312
11310: GO 11555
11312: POP
// begin def_base_level := 1 ;
11313: LD_ADDR_EXP 44
11317: PUSH
11318: LD_INT 1
11320: ST_TO_ADDR
// def_amount_of_people := 11 ;
11321: LD_ADDR_EXP 45
11325: PUSH
11326: LD_INT 11
11328: ST_TO_ADDR
// def_skill_level := 3 ;
11329: LD_ADDR_EXP 46
11333: PUSH
11334: LD_INT 3
11336: ST_TO_ADDR
// def_starting_resources := 3 ;
11337: LD_ADDR_EXP 47
11341: PUSH
11342: LD_INT 3
11344: ST_TO_ADDR
// def_shipments_density := 1 ;
11345: LD_ADDR_EXP 48
11349: PUSH
11350: LD_INT 1
11352: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
11353: LD_ADDR_EXP 49
11357: PUSH
11358: LD_INT 0
11360: ST_TO_ADDR
// def_extra_sib_deposits := 1 ;
11361: LD_ADDR_EXP 50
11365: PUSH
11366: LD_INT 1
11368: ST_TO_ADDR
// def_shared_vision := 1 ;
11369: LD_ADDR_EXP 51
11373: PUSH
11374: LD_INT 1
11376: ST_TO_ADDR
// def_morale_flags := 0 ;
11377: LD_ADDR_EXP 52
11381: PUSH
11382: LD_INT 0
11384: ST_TO_ADDR
// def_siberite_detection := 1 ;
11385: LD_ADDR_EXP 53
11389: PUSH
11390: LD_INT 1
11392: ST_TO_ADDR
// def_people_respawning := 0 ;
11393: LD_ADDR_EXP 54
11397: PUSH
11398: LD_INT 0
11400: ST_TO_ADDR
// def_amount_of_apemen := 2 ;
11401: LD_ADDR_EXP 55
11405: PUSH
11406: LD_INT 2
11408: ST_TO_ADDR
// def_siberite_bomb := 0 ;
11409: LD_ADDR_EXP 56
11413: PUSH
11414: LD_INT 0
11416: ST_TO_ADDR
// def_builduptime := 6 ;
11417: LD_ADDR_EXP 57
11421: PUSH
11422: LD_INT 6
11424: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth ] ;
11425: LD_ADDR_VAR 0 2
11429: PUSH
11430: LD_INT 23
11432: PUSH
11433: EMPTY
11434: LIST
11435: ST_TO_ADDR
// Unavailable_Builds := [ b_Workshop , b_Behemoth , b_Bunker , b_Turret , b_Control_Tower , b_ext_track , b_ext_stitch , b_ext_siberium , b_ext_rocket , b_ext_radio , b_ext_radar , b_ext_noncombat , b_ext_laser , b_ext_gun , b_ext_computer ] ;
11436: LD_ADDR_VAR 0 3
11440: PUSH
11441: LD_INT 2
11443: PUSH
11444: LD_INT 37
11446: PUSH
11447: LD_INT 32
11449: PUSH
11450: LD_INT 33
11452: PUSH
11453: LD_INT 36
11455: PUSH
11456: LD_INT 16
11458: PUSH
11459: LD_INT 23
11461: PUSH
11462: LD_INT 21
11464: PUSH
11465: LD_INT 18
11467: PUSH
11468: LD_INT 22
11470: PUSH
11471: LD_INT 20
11473: PUSH
11474: LD_INT 19
11476: PUSH
11477: LD_INT 25
11479: PUSH
11480: LD_INT 17
11482: PUSH
11483: LD_INT 24
11485: PUSH
11486: EMPTY
11487: LIST
11488: LIST
11489: LIST
11490: LIST
11491: LIST
11492: LIST
11493: LIST
11494: LIST
11495: LIST
11496: LIST
11497: LIST
11498: LIST
11499: LIST
11500: LIST
11501: LIST
11502: ST_TO_ADDR
// Banned_Weapons := [ ] ;
11503: LD_ADDR_LOC 22
11507: PUSH
11508: EMPTY
11509: ST_TO_ADDR
// Banned_Chassis := [ ] ;
11510: LD_ADDR_LOC 23
11514: PUSH
11515: EMPTY
11516: ST_TO_ADDR
// Banned_Controls := [ ] ;
11517: LD_ADDR_LOC 24
11521: PUSH
11522: EMPTY
11523: ST_TO_ADDR
// Banned_Engines := [ ] ;
11524: LD_ADDR_LOC 25
11528: PUSH
11529: EMPTY
11530: ST_TO_ADDR
// Restricted_Builds := [ ] ;
11531: LD_ADDR_LOC 20
11535: PUSH
11536: EMPTY
11537: ST_TO_ADDR
// Restricted_Builds_Amount := [ ] ;
11538: LD_ADDR_LOC 21
11542: PUSH
11543: EMPTY
11544: ST_TO_ADDR
// No_Mechs := true ;
11545: LD_ADDR_EXP 58
11549: PUSH
11550: LD_INT 1
11552: ST_TO_ADDR
// end ; 4 :
11553: GO 12813
11555: LD_INT 4
11557: DOUBLE
11558: EQUAL
11559: IFTRUE 11563
11561: GO 11738
11563: POP
// begin def_base_level := 1 ;
11564: LD_ADDR_EXP 44
11568: PUSH
11569: LD_INT 1
11571: ST_TO_ADDR
// def_amount_of_people := 11 ;
11572: LD_ADDR_EXP 45
11576: PUSH
11577: LD_INT 11
11579: ST_TO_ADDR
// def_skill_level := 3 ;
11580: LD_ADDR_EXP 46
11584: PUSH
11585: LD_INT 3
11587: ST_TO_ADDR
// def_starting_resources := 3 ;
11588: LD_ADDR_EXP 47
11592: PUSH
11593: LD_INT 3
11595: ST_TO_ADDR
// def_shipments_density := 2 ;
11596: LD_ADDR_EXP 48
11600: PUSH
11601: LD_INT 2
11603: ST_TO_ADDR
// def_extra_oil_deposits := 1 ;
11604: LD_ADDR_EXP 49
11608: PUSH
11609: LD_INT 1
11611: ST_TO_ADDR
// def_extra_sib_deposits := 2 ;
11612: LD_ADDR_EXP 50
11616: PUSH
11617: LD_INT 2
11619: ST_TO_ADDR
// def_shared_vision := 1 ;
11620: LD_ADDR_EXP 51
11624: PUSH
11625: LD_INT 1
11627: ST_TO_ADDR
// def_morale_flags := 0 ;
11628: LD_ADDR_EXP 52
11632: PUSH
11633: LD_INT 0
11635: ST_TO_ADDR
// def_siberite_detection := 1 ;
11636: LD_ADDR_EXP 53
11640: PUSH
11641: LD_INT 1
11643: ST_TO_ADDR
// def_people_respawning := 0 ;
11644: LD_ADDR_EXP 54
11648: PUSH
11649: LD_INT 0
11651: ST_TO_ADDR
// def_amount_of_apemen := 0 ;
11652: LD_ADDR_EXP 55
11656: PUSH
11657: LD_INT 0
11659: ST_TO_ADDR
// def_siberite_bomb := 1 ;
11660: LD_ADDR_EXP 56
11664: PUSH
11665: LD_INT 1
11667: ST_TO_ADDR
// def_builduptime := 11 ;
11668: LD_ADDR_EXP 57
11672: PUSH
11673: LD_INT 11
11675: ST_TO_ADDR
// Unavailable_Techs := [ tech_ApeLang ] ;
11676: LD_ADDR_VAR 0 2
11680: PUSH
11681: LD_INT 1
11683: PUSH
11684: EMPTY
11685: LIST
11686: ST_TO_ADDR
// Unavailable_Builds := [ ] ;
11687: LD_ADDR_VAR 0 3
11691: PUSH
11692: EMPTY
11693: ST_TO_ADDR
// Banned_Weapons := [ ] ;
11694: LD_ADDR_LOC 22
11698: PUSH
11699: EMPTY
11700: ST_TO_ADDR
// Banned_Chassis := [ ] ;
11701: LD_ADDR_LOC 23
11705: PUSH
11706: EMPTY
11707: ST_TO_ADDR
// Banned_Controls := [ ] ;
11708: LD_ADDR_LOC 24
11712: PUSH
11713: EMPTY
11714: ST_TO_ADDR
// Banned_Engines := [ ] ;
11715: LD_ADDR_LOC 25
11719: PUSH
11720: EMPTY
11721: ST_TO_ADDR
// Restricted_Builds := [ ] ;
11722: LD_ADDR_LOC 20
11726: PUSH
11727: EMPTY
11728: ST_TO_ADDR
// Restricted_Builds_Amount := [ ] ;
11729: LD_ADDR_LOC 21
11733: PUSH
11734: EMPTY
11735: ST_TO_ADDR
// end ; 5 :
11736: GO 12813
11738: LD_INT 5
11740: DOUBLE
11741: EQUAL
11742: IFTRUE 11746
11744: GO 11995
11746: POP
// begin def_base_level := 0 ;
11747: LD_ADDR_EXP 44
11751: PUSH
11752: LD_INT 0
11754: ST_TO_ADDR
// def_amount_of_people := 5 ;
11755: LD_ADDR_EXP 45
11759: PUSH
11760: LD_INT 5
11762: ST_TO_ADDR
// def_skill_level := 0 ;
11763: LD_ADDR_EXP 46
11767: PUSH
11768: LD_INT 0
11770: ST_TO_ADDR
// def_starting_resources := 0 ;
11771: LD_ADDR_EXP 47
11775: PUSH
11776: LD_INT 0
11778: ST_TO_ADDR
// def_shipments_density := 0 ;
11779: LD_ADDR_EXP 48
11783: PUSH
11784: LD_INT 0
11786: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
11787: LD_ADDR_EXP 49
11791: PUSH
11792: LD_INT 0
11794: ST_TO_ADDR
// def_extra_sib_deposits := 0 ;
11795: LD_ADDR_EXP 50
11799: PUSH
11800: LD_INT 0
11802: ST_TO_ADDR
// def_shared_vision := 1 ;
11803: LD_ADDR_EXP 51
11807: PUSH
11808: LD_INT 1
11810: ST_TO_ADDR
// def_morale_flags := 0 ;
11811: LD_ADDR_EXP 52
11815: PUSH
11816: LD_INT 0
11818: ST_TO_ADDR
// def_siberite_detection := 0 ;
11819: LD_ADDR_EXP 53
11823: PUSH
11824: LD_INT 0
11826: ST_TO_ADDR
// def_people_respawning := 1 ;
11827: LD_ADDR_EXP 54
11831: PUSH
11832: LD_INT 1
11834: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
11835: LD_ADDR_EXP 55
11839: PUSH
11840: LD_INT 1
11842: ST_TO_ADDR
// def_siberite_bomb := 0 ;
11843: LD_ADDR_EXP 56
11847: PUSH
11848: LD_INT 0
11850: ST_TO_ADDR
// def_builduptime := 0 ;
11851: LD_ADDR_EXP 57
11855: PUSH
11856: LD_INT 0
11858: ST_TO_ADDR
// Unavailable_Techs := [ tech_Laser , tech_ApeNeural ] ;
11859: LD_ADDR_VAR 0 2
11863: PUSH
11864: LD_INT 10
11866: PUSH
11867: LD_INT 3
11869: PUSH
11870: EMPTY
11871: LIST
11872: LIST
11873: ST_TO_ADDR
// Unavailable_Builds := [ b_Lab_Computer , b_Lab_Siberium , b_Lab_Spacetime , b_Lab_Biological , b_Barracks , b_ext_Computer , b_ext_Siberium , b_Turret , b_Control_Tower ] ;
11874: LD_ADDR_VAR 0 3
11878: PUSH
11879: LD_INT 12
11881: PUSH
11882: LD_INT 11
11884: PUSH
11885: LD_INT 14
11887: PUSH
11888: LD_INT 13
11890: PUSH
11891: LD_INT 5
11893: PUSH
11894: LD_INT 24
11896: PUSH
11897: LD_INT 21
11899: PUSH
11900: LD_INT 33
11902: PUSH
11903: LD_INT 36
11905: PUSH
11906: EMPTY
11907: LIST
11908: LIST
11909: LIST
11910: LIST
11911: LIST
11912: LIST
11913: LIST
11914: LIST
11915: LIST
11916: ST_TO_ADDR
// Banned_Weapons := [ ar_Control_Tower ] ;
11917: LD_ADDR_LOC 22
11921: PUSH
11922: LD_INT 31
11924: PUSH
11925: EMPTY
11926: LIST
11927: ST_TO_ADDR
// Banned_Chassis := [ ] ;
11928: LD_ADDR_LOC 23
11932: PUSH
11933: EMPTY
11934: ST_TO_ADDR
// Banned_Controls := [ control_Remote ] ;
11935: LD_ADDR_LOC 24
11939: PUSH
11940: LD_INT 2
11942: PUSH
11943: EMPTY
11944: LIST
11945: ST_TO_ADDR
// Banned_Engines := [ ] ;
11946: LD_ADDR_LOC 25
11950: PUSH
11951: EMPTY
11952: ST_TO_ADDR
// Restricted_Builds := [ [ b_Armoury ] , [ b_Breastwork , b_Bunker ] ] ;
11953: LD_ADDR_LOC 20
11957: PUSH
11958: LD_INT 4
11960: PUSH
11961: EMPTY
11962: LIST
11963: PUSH
11964: LD_INT 31
11966: PUSH
11967: LD_INT 32
11969: PUSH
11970: EMPTY
11971: LIST
11972: LIST
11973: PUSH
11974: EMPTY
11975: LIST
11976: LIST
11977: ST_TO_ADDR
// Restricted_Builds_Amount := [ 1 , 1 ] ;
11978: LD_ADDR_LOC 21
11982: PUSH
11983: LD_INT 1
11985: PUSH
11986: LD_INT 1
11988: PUSH
11989: EMPTY
11990: LIST
11991: LIST
11992: ST_TO_ADDR
// end ; 6 :
11993: GO 12813
11995: LD_INT 6
11997: DOUBLE
11998: EQUAL
11999: IFTRUE 12003
12001: GO 12206
12003: POP
// begin def_base_level := 1 ;
12004: LD_ADDR_EXP 44
12008: PUSH
12009: LD_INT 1
12011: ST_TO_ADDR
// def_amount_of_people := 11 ;
12012: LD_ADDR_EXP 45
12016: PUSH
12017: LD_INT 11
12019: ST_TO_ADDR
// def_skill_level := 3 ;
12020: LD_ADDR_EXP 46
12024: PUSH
12025: LD_INT 3
12027: ST_TO_ADDR
// def_starting_resources := 3 ;
12028: LD_ADDR_EXP 47
12032: PUSH
12033: LD_INT 3
12035: ST_TO_ADDR
// def_shipments_density := 1 ;
12036: LD_ADDR_EXP 48
12040: PUSH
12041: LD_INT 1
12043: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
12044: LD_ADDR_EXP 49
12048: PUSH
12049: LD_INT 0
12051: ST_TO_ADDR
// def_extra_sib_deposits := 1 ;
12052: LD_ADDR_EXP 50
12056: PUSH
12057: LD_INT 1
12059: ST_TO_ADDR
// def_shared_vision := 1 ;
12060: LD_ADDR_EXP 51
12064: PUSH
12065: LD_INT 1
12067: ST_TO_ADDR
// def_morale_flags := 0 ;
12068: LD_ADDR_EXP 52
12072: PUSH
12073: LD_INT 0
12075: ST_TO_ADDR
// def_siberite_detection := 1 ;
12076: LD_ADDR_EXP 53
12080: PUSH
12081: LD_INT 1
12083: ST_TO_ADDR
// def_people_respawning := 2 ;
12084: LD_ADDR_EXP 54
12088: PUSH
12089: LD_INT 2
12091: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
12092: LD_ADDR_EXP 55
12096: PUSH
12097: LD_INT 1
12099: ST_TO_ADDR
// def_siberite_bomb := 0 ;
12100: LD_ADDR_EXP 56
12104: PUSH
12105: LD_INT 0
12107: ST_TO_ADDR
// def_builduptime := 6 ;
12108: LD_ADDR_EXP 57
12112: PUSH
12113: LD_INT 6
12115: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth ] ;
12116: LD_ADDR_VAR 0 2
12120: PUSH
12121: LD_INT 23
12123: PUSH
12124: EMPTY
12125: LIST
12126: ST_TO_ADDR
// Unavailable_Builds := [ b_Workshop , b_Behemoth , b_Breastwork , b_Bunker , b_Turret ] ;
12127: LD_ADDR_VAR 0 3
12131: PUSH
12132: LD_INT 2
12134: PUSH
12135: LD_INT 37
12137: PUSH
12138: LD_INT 31
12140: PUSH
12141: LD_INT 32
12143: PUSH
12144: LD_INT 33
12146: PUSH
12147: EMPTY
12148: LIST
12149: LIST
12150: LIST
12151: LIST
12152: LIST
12153: ST_TO_ADDR
// Banned_Weapons := [ ] ;
12154: LD_ADDR_LOC 22
12158: PUSH
12159: EMPTY
12160: ST_TO_ADDR
// Banned_Chassis := [ ] ;
12161: LD_ADDR_LOC 23
12165: PUSH
12166: EMPTY
12167: ST_TO_ADDR
// Banned_Controls := [ ] ;
12168: LD_ADDR_LOC 24
12172: PUSH
12173: EMPTY
12174: ST_TO_ADDR
// Banned_Engines := [ ] ;
12175: LD_ADDR_LOC 25
12179: PUSH
12180: EMPTY
12181: ST_TO_ADDR
// Restricted_Builds := [ ] ;
12182: LD_ADDR_LOC 20
12186: PUSH
12187: EMPTY
12188: ST_TO_ADDR
// Restricted_Builds_Amount := [ ] ;
12189: LD_ADDR_LOC 21
12193: PUSH
12194: EMPTY
12195: ST_TO_ADDR
// No_Mechs := true ;
12196: LD_ADDR_EXP 58
12200: PUSH
12201: LD_INT 1
12203: ST_TO_ADDR
// end ; 7 :
12204: GO 12813
12206: LD_INT 7
12208: DOUBLE
12209: EQUAL
12210: IFTRUE 12214
12212: GO 12412
12214: POP
// begin def_base_level := 1 ;
12215: LD_ADDR_EXP 44
12219: PUSH
12220: LD_INT 1
12222: ST_TO_ADDR
// def_amount_of_people := 20 ;
12223: LD_ADDR_EXP 45
12227: PUSH
12228: LD_INT 20
12230: ST_TO_ADDR
// def_skill_level := 3 ;
12231: LD_ADDR_EXP 46
12235: PUSH
12236: LD_INT 3
12238: ST_TO_ADDR
// def_starting_resources := 3 ;
12239: LD_ADDR_EXP 47
12243: PUSH
12244: LD_INT 3
12246: ST_TO_ADDR
// def_shipments_density := 1 ;
12247: LD_ADDR_EXP 48
12251: PUSH
12252: LD_INT 1
12254: ST_TO_ADDR
// def_extra_oil_deposits := 1 ;
12255: LD_ADDR_EXP 49
12259: PUSH
12260: LD_INT 1
12262: ST_TO_ADDR
// def_extra_sib_deposits := 2 ;
12263: LD_ADDR_EXP 50
12267: PUSH
12268: LD_INT 2
12270: ST_TO_ADDR
// def_shared_vision := 1 ;
12271: LD_ADDR_EXP 51
12275: PUSH
12276: LD_INT 1
12278: ST_TO_ADDR
// def_morale_flags := 0 ;
12279: LD_ADDR_EXP 52
12283: PUSH
12284: LD_INT 0
12286: ST_TO_ADDR
// def_siberite_detection := 1 ;
12287: LD_ADDR_EXP 53
12291: PUSH
12292: LD_INT 1
12294: ST_TO_ADDR
// def_people_respawning := 0 ;
12295: LD_ADDR_EXP 54
12299: PUSH
12300: LD_INT 0
12302: ST_TO_ADDR
// def_amount_of_apemen := 1 ;
12303: LD_ADDR_EXP 55
12307: PUSH
12308: LD_INT 1
12310: ST_TO_ADDR
// def_siberite_bomb := 0 ;
12311: LD_ADDR_EXP 56
12315: PUSH
12316: LD_INT 0
12318: ST_TO_ADDR
// def_builduptime := 6 ;
12319: LD_ADDR_EXP 57
12323: PUSH
12324: LD_INT 6
12326: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth ] ;
12327: LD_ADDR_VAR 0 2
12331: PUSH
12332: LD_INT 23
12334: PUSH
12335: EMPTY
12336: LIST
12337: ST_TO_ADDR
// Unavailable_Builds := [ b_Behemoth ] ;
12338: LD_ADDR_VAR 0 3
12342: PUSH
12343: LD_INT 37
12345: PUSH
12346: EMPTY
12347: LIST
12348: ST_TO_ADDR
// Banned_Weapons := [ ] ;
12349: LD_ADDR_LOC 22
12353: PUSH
12354: EMPTY
12355: ST_TO_ADDR
// Banned_Chassis := [ ] ;
12356: LD_ADDR_LOC 23
12360: PUSH
12361: EMPTY
12362: ST_TO_ADDR
// Banned_Controls := [ ] ;
12363: LD_ADDR_LOC 24
12367: PUSH
12368: EMPTY
12369: ST_TO_ADDR
// Banned_Engines := [ ] ;
12370: LD_ADDR_LOC 25
12374: PUSH
12375: EMPTY
12376: ST_TO_ADDR
// Restricted_Builds := [ [ b_Breastwork , b_Bunker , b_Turret ] ] ;
12377: LD_ADDR_LOC 20
12381: PUSH
12382: LD_INT 31
12384: PUSH
12385: LD_INT 32
12387: PUSH
12388: LD_INT 33
12390: PUSH
12391: EMPTY
12392: LIST
12393: LIST
12394: LIST
12395: PUSH
12396: EMPTY
12397: LIST
12398: ST_TO_ADDR
// Restricted_Builds_Amount := [ 10 ] ;
12399: LD_ADDR_LOC 21
12403: PUSH
12404: LD_INT 10
12406: PUSH
12407: EMPTY
12408: LIST
12409: ST_TO_ADDR
// end ; 8 :
12410: GO 12813
12412: LD_INT 8
12414: DOUBLE
12415: EQUAL
12416: IFTRUE 12420
12418: GO 12812
12420: POP
// begin def_base_level := 0 ;
12421: LD_ADDR_EXP 44
12425: PUSH
12426: LD_INT 0
12428: ST_TO_ADDR
// def_amount_of_people := 8 ;
12429: LD_ADDR_EXP 45
12433: PUSH
12434: LD_INT 8
12436: ST_TO_ADDR
// def_skill_level := 0 ;
12437: LD_ADDR_EXP 46
12441: PUSH
12442: LD_INT 0
12444: ST_TO_ADDR
// def_starting_resources := 2 ;
12445: LD_ADDR_EXP 47
12449: PUSH
12450: LD_INT 2
12452: ST_TO_ADDR
// def_shipments_density := 1 ;
12453: LD_ADDR_EXP 48
12457: PUSH
12458: LD_INT 1
12460: ST_TO_ADDR
// def_extra_oil_deposits := 0 ;
12461: LD_ADDR_EXP 49
12465: PUSH
12466: LD_INT 0
12468: ST_TO_ADDR
// def_extra_sib_deposits := 0 ;
12469: LD_ADDR_EXP 50
12473: PUSH
12474: LD_INT 0
12476: ST_TO_ADDR
// def_shared_vision := 1 ;
12477: LD_ADDR_EXP 51
12481: PUSH
12482: LD_INT 1
12484: ST_TO_ADDR
// def_morale_flags := Rand ( 0 , 2 ) ;
12485: LD_ADDR_EXP 52
12489: PUSH
12490: LD_INT 0
12492: PPUSH
12493: LD_INT 2
12495: PPUSH
12496: CALL_OW 12
12500: ST_TO_ADDR
// def_siberite_detection := 0 ;
12501: LD_ADDR_EXP 53
12505: PUSH
12506: LD_INT 0
12508: ST_TO_ADDR
// def_people_respawning := 0 ;
12509: LD_ADDR_EXP 54
12513: PUSH
12514: LD_INT 0
12516: ST_TO_ADDR
// def_amount_of_apemen := 2 ;
12517: LD_ADDR_EXP 55
12521: PUSH
12522: LD_INT 2
12524: ST_TO_ADDR
// def_siberite_bomb := 0 ;
12525: LD_ADDR_EXP 56
12529: PUSH
12530: LD_INT 0
12532: ST_TO_ADDR
// def_builduptime := 0 ;
12533: LD_ADDR_EXP 57
12537: PUSH
12538: LD_INT 0
12540: ST_TO_ADDR
// Unavailable_Techs := [ tech_Behemoth , tech_SibDet , tech_Rocket , tech_OilEng , tech_OilPow , tech_Gun , tech_AdvRocket , tech_AdvMet , tech_Mortar , tech_Bazooka , tech_HidCam , tech_PartInvis ] ;
12541: LD_ADDR_VAR 0 2
12545: PUSH
12546: LD_INT 23
12548: PUSH
12549: LD_INT 20
12551: PUSH
12552: LD_INT 40
12554: PUSH
12555: LD_INT 47
12557: PUSH
12558: LD_INT 46
12560: PUSH
12561: LD_INT 39
12563: PUSH
12564: LD_INT 71
12566: PUSH
12567: LD_INT 34
12569: PUSH
12570: LD_INT 41
12572: PUSH
12573: LD_INT 44
12575: PUSH
12576: LD_INT 17
12578: PUSH
12579: LD_INT 16
12581: PUSH
12582: EMPTY
12583: LIST
12584: LIST
12585: LIST
12586: LIST
12587: LIST
12588: LIST
12589: LIST
12590: LIST
12591: LIST
12592: LIST
12593: LIST
12594: LIST
12595: ST_TO_ADDR
// Unavailable_Builds := [ b_Behemoth , b_Barracks , b_Lab_Biological , b_Teleport , b_Lab_Computer , b_Lab_Opto , b_Lab_Siberium , b_Lab_Spacetime , b_Oil_Mine , b_Siberite_Mine , b_Siberite_Power , b_Ext_Computer , b_Ext_Laser , b_Ext_Radar , b_Ext_Siberium , b_Ext_Radio , b_Control_Tower ] ;
12596: LD_ADDR_VAR 0 3
12600: PUSH
12601: LD_INT 37
12603: PUSH
12604: LD_INT 5
12606: PUSH
12607: LD_INT 13
12609: PUSH
12610: LD_INT 34
12612: PUSH
12613: LD_INT 12
12615: PUSH
12616: LD_INT 15
12618: PUSH
12619: LD_INT 11
12621: PUSH
12622: LD_INT 14
12624: PUSH
12625: LD_INT 29
12627: PUSH
12628: LD_INT 30
12630: PUSH
12631: LD_INT 28
12633: PUSH
12634: LD_INT 24
12636: PUSH
12637: LD_INT 25
12639: PUSH
12640: LD_INT 20
12642: PUSH
12643: LD_INT 21
12645: PUSH
12646: LD_INT 22
12648: PUSH
12649: LD_INT 36
12651: PUSH
12652: EMPTY
12653: LIST
12654: LIST
12655: LIST
12656: LIST
12657: LIST
12658: LIST
12659: LIST
12660: LIST
12661: LIST
12662: LIST
12663: LIST
12664: LIST
12665: LIST
12666: LIST
12667: LIST
12668: LIST
12669: LIST
12670: ST_TO_ADDR
// Banned_Weapons := [ ] ;
12671: LD_ADDR_LOC 22
12675: PUSH
12676: EMPTY
12677: ST_TO_ADDR
// Banned_Chassis := [ ar_half_tracked ] ;
12678: LD_ADDR_LOC 23
12682: PUSH
12683: LD_INT 14
12685: PUSH
12686: EMPTY
12687: LIST
12688: ST_TO_ADDR
// Banned_Controls := [ ] ;
12689: LD_ADDR_LOC 24
12693: PUSH
12694: EMPTY
12695: ST_TO_ADDR
// Banned_Engines := [ ] ;
12696: LD_ADDR_LOC 25
12700: PUSH
12701: EMPTY
12702: ST_TO_ADDR
// Restricted_Builds := [ [ b_Breastwork , b_Bunker ] , [ b_Armoury ] ] ;
12703: LD_ADDR_LOC 20
12707: PUSH
12708: LD_INT 31
12710: PUSH
12711: LD_INT 32
12713: PUSH
12714: EMPTY
12715: LIST
12716: LIST
12717: PUSH
12718: LD_INT 4
12720: PUSH
12721: EMPTY
12722: LIST
12723: PUSH
12724: EMPTY
12725: LIST
12726: LIST
12727: ST_TO_ADDR
// Restricted_Builds_Amount := [ 2 , 1 ] ;
12728: LD_ADDR_LOC 21
12732: PUSH
12733: LD_INT 2
12735: PUSH
12736: LD_INT 1
12738: PUSH
12739: EMPTY
12740: LIST
12741: LIST
12742: ST_TO_ADDR
// for i := 1 to 8 do
12743: LD_ADDR_VAR 0 4
12747: PUSH
12748: DOUBLE
12749: LD_INT 1
12751: DEC
12752: ST_TO_ADDR
12753: LD_INT 8
12755: PUSH
12756: FOR_TO
12757: IFFALSE 12808
// if ( Side_Nations [ i ] = 3 ) then
12759: LD_EXP 20
12763: PUSH
12764: LD_VAR 0 4
12768: ARRAY
12769: PUSH
12770: LD_INT 3
12772: EQUAL
12773: IFFALSE 12806
// Side_Nations := Replace ( Side_Nations , i , Rand ( 1 , 2 ) ) ;
12775: LD_ADDR_EXP 20
12779: PUSH
12780: LD_EXP 20
12784: PPUSH
12785: LD_VAR 0 4
12789: PPUSH
12790: LD_INT 1
12792: PPUSH
12793: LD_INT 2
12795: PPUSH
12796: CALL_OW 12
12800: PPUSH
12801: CALL_OW 1
12805: ST_TO_ADDR
12806: GO 12756
12808: POP
12809: POP
// end ; end ;
12810: GO 12813
12812: POP
// for i := 1 to 8 do
12813: LD_ADDR_VAR 0 4
12817: PUSH
12818: DOUBLE
12819: LD_INT 1
12821: DEC
12822: ST_TO_ADDR
12823: LD_INT 8
12825: PUSH
12826: FOR_TO
12827: IFFALSE 12911
// if Side_Positions [ i ] then
12829: LD_EXP 19
12833: PUSH
12834: LD_VAR 0 4
12838: ARRAY
12839: IFFALSE 12909
// begin for j in Unavailable_Techs do
12841: LD_ADDR_VAR 0 5
12845: PUSH
12846: LD_VAR 0 2
12850: PUSH
12851: FOR_IN
12852: IFFALSE 12873
// SetTech ( j , i , 0 ) ;
12854: LD_VAR 0 5
12858: PPUSH
12859: LD_VAR 0 4
12863: PPUSH
12864: LD_INT 0
12866: PPUSH
12867: CALL_OW 322
12871: GO 12851
12873: POP
12874: POP
// for j in Unavailable_Builds do
12875: LD_ADDR_VAR 0 5
12879: PUSH
12880: LD_VAR 0 3
12884: PUSH
12885: FOR_IN
12886: IFFALSE 12907
// SetRestrict ( j , i , 0 ) ;
12888: LD_VAR 0 5
12892: PPUSH
12893: LD_VAR 0 4
12897: PPUSH
12898: LD_INT 0
12900: PPUSH
12901: CALL_OW 324
12905: GO 12885
12907: POP
12908: POP
// end ;
12909: GO 12826
12911: POP
12912: POP
// end ;
12913: LD_VAR 0 1
12917: RET
// export function InitLimits ; var i , j , k , amount , btype , list ; begin
12918: LD_INT 0
12920: PPUSH
12921: PPUSH
12922: PPUSH
12923: PPUSH
12924: PPUSH
12925: PPUSH
12926: PPUSH
// for i := 1 to Restricted_Builds do
12927: LD_ADDR_VAR 0 2
12931: PUSH
12932: DOUBLE
12933: LD_INT 1
12935: DEC
12936: ST_TO_ADDR
12937: LD_LOC 20
12941: PUSH
12942: FOR_TO
12943: IFFALSE 13253
// begin case Restricted_Builds [ i ] [ 1 ] of b_Breastwork , b_Bunker , b_Turret :
12945: LD_LOC 20
12949: PUSH
12950: LD_VAR 0 2
12954: ARRAY
12955: PUSH
12956: LD_INT 1
12958: ARRAY
12959: PUSH
12960: LD_INT 31
12962: DOUBLE
12963: EQUAL
12964: IFTRUE 12980
12966: LD_INT 32
12968: DOUBLE
12969: EQUAL
12970: IFTRUE 12980
12972: LD_INT 33
12974: DOUBLE
12975: EQUAL
12976: IFTRUE 12980
12978: GO 12991
12980: POP
// btype := #Turrets ; b_Armoury , b_Barracks :
12981: LD_ADDR_VAR 0 6
12985: PUSH
12986: LD_STRING #Turrets
12988: ST_TO_ADDR
12989: GO 13036
12991: LD_INT 4
12993: DOUBLE
12994: EQUAL
12995: IFTRUE 13005
12997: LD_INT 5
12999: DOUBLE
13000: EQUAL
13001: IFTRUE 13005
13003: GO 13016
13005: POP
// btype := #Armouries ; b_Behemoth :
13006: LD_ADDR_VAR 0 6
13010: PUSH
13011: LD_STRING #Armouries
13013: ST_TO_ADDR
13014: GO 13036
13016: LD_INT 37
13018: DOUBLE
13019: EQUAL
13020: IFTRUE 13024
13022: GO 13035
13024: POP
// btype := #Behemoths ; end ;
13025: LD_ADDR_VAR 0 6
13029: PUSH
13030: LD_STRING #Behemoths
13032: ST_TO_ADDR
13033: GO 13036
13035: POP
// list := [ ] ;
13036: LD_ADDR_VAR 0 7
13040: PUSH
13041: EMPTY
13042: ST_TO_ADDR
// for j := 1 to 8 do
13043: LD_ADDR_VAR 0 3
13047: PUSH
13048: DOUBLE
13049: LD_INT 1
13051: DEC
13052: ST_TO_ADDR
13053: LD_INT 8
13055: PUSH
13056: FOR_TO
13057: IFFALSE 13150
// if Side_Positions [ j ] then
13059: LD_EXP 19
13063: PUSH
13064: LD_VAR 0 3
13068: ARRAY
13069: IFFALSE 13148
// begin amount := 0 ;
13071: LD_ADDR_VAR 0 5
13075: PUSH
13076: LD_INT 0
13078: ST_TO_ADDR
// for k in Restricted_Builds [ i ] do
13079: LD_ADDR_VAR 0 4
13083: PUSH
13084: LD_LOC 20
13088: PUSH
13089: LD_VAR 0 2
13093: ARRAY
13094: PUSH
13095: FOR_IN
13096: IFFALSE 13144
// amount := amount + FilterAllUnits ( [ [ f_side , j ] , [ f_btype , k ] ] ) ;
13098: LD_ADDR_VAR 0 5
13102: PUSH
13103: LD_VAR 0 5
13107: PUSH
13108: LD_INT 22
13110: PUSH
13111: LD_VAR 0 3
13115: PUSH
13116: EMPTY
13117: LIST
13118: LIST
13119: PUSH
13120: LD_INT 30
13122: PUSH
13123: LD_VAR 0 4
13127: PUSH
13128: EMPTY
13129: LIST
13130: LIST
13131: PUSH
13132: EMPTY
13133: LIST
13134: LIST
13135: PPUSH
13136: CALL_OW 69
13140: PLUS
13141: ST_TO_ADDR
13142: GO 13095
13144: POP
13145: POP
// break ;
13146: GO 13150
// end ;
13148: GO 13056
13150: POP
13151: POP
// list := [ ] ;
13152: LD_ADDR_VAR 0 7
13156: PUSH
13157: EMPTY
13158: ST_TO_ADDR
// for j := 1 to 8 do
13159: LD_ADDR_VAR 0 3
13163: PUSH
13164: DOUBLE
13165: LD_INT 1
13167: DEC
13168: ST_TO_ADDR
13169: LD_INT 8
13171: PUSH
13172: FOR_TO
13173: IFFALSE 13193
// list := list ^ amount ;
13175: LD_ADDR_VAR 0 7
13179: PUSH
13180: LD_VAR 0 7
13184: PUSH
13185: LD_VAR 0 5
13189: ADD
13190: ST_TO_ADDR
13191: GO 13172
13193: POP
13194: POP
// Already_Built := Already_Built ^ [ list ] ;
13195: LD_ADDR_LOC 26
13199: PUSH
13200: LD_LOC 26
13204: PUSH
13205: LD_VAR 0 7
13209: PUSH
13210: EMPTY
13211: LIST
13212: ADD
13213: ST_TO_ADDR
// Limits_Info := Limits_Info ^ [ btype , amount , Restricted_Builds_Amount [ i ] ] ;
13214: LD_ADDR_LOC 27
13218: PUSH
13219: LD_LOC 27
13223: PUSH
13224: LD_VAR 0 6
13228: PUSH
13229: LD_VAR 0 5
13233: PUSH
13234: LD_LOC 21
13238: PUSH
13239: LD_VAR 0 2
13243: ARRAY
13244: PUSH
13245: EMPTY
13246: LIST
13247: LIST
13248: LIST
13249: ADD
13250: ST_TO_ADDR
// end ;
13251: GO 12942
13253: POP
13254: POP
// Cheaters := [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
13255: LD_ADDR_LOC 28
13259: PUSH
13260: LD_INT 0
13262: PUSH
13263: LD_INT 0
13265: PUSH
13266: LD_INT 0
13268: PUSH
13269: LD_INT 0
13271: PUSH
13272: LD_INT 0
13274: PUSH
13275: LD_INT 0
13277: PUSH
13278: LD_INT 0
13280: PUSH
13281: LD_INT 0
13283: PUSH
13284: EMPTY
13285: LIST
13286: LIST
13287: LIST
13288: LIST
13289: LIST
13290: LIST
13291: LIST
13292: LIST
13293: ST_TO_ADDR
// if Limits_Info then
13294: LD_LOC 27
13298: IFFALSE 13314
// Limits_Info := #Limits ^ Limits_Info ;
13300: LD_ADDR_LOC 27
13304: PUSH
13305: LD_STRING #Limits
13307: PUSH
13308: LD_LOC 27
13312: ADD
13313: ST_TO_ADDR
// end ;
13314: LD_VAR 0 1
13318: RET
// export function ExecuteLimits ( un , BType , side , old_side , count ) ; var i , j , Is_Cheater ; begin
13319: LD_INT 0
13321: PPUSH
13322: PPUSH
13323: PPUSH
13324: PPUSH
// for i := 1 to Restricted_Builds do
13325: LD_ADDR_VAR 0 7
13329: PUSH
13330: DOUBLE
13331: LD_INT 1
13333: DEC
13334: ST_TO_ADDR
13335: LD_LOC 20
13339: PUSH
13340: FOR_TO
13341: IFFALSE 13764
// if BType in Restricted_Builds [ i ] then
13343: LD_VAR 0 2
13347: PUSH
13348: LD_LOC 20
13352: PUSH
13353: LD_VAR 0 7
13357: ARRAY
13358: IN
13359: IFFALSE 13762
// begin if old_side then
13361: LD_VAR 0 4
13365: IFFALSE 13491
// if Already_Built [ i ] [ side ] + count > Restricted_Builds_Amount [ i ] then
13367: LD_LOC 26
13371: PUSH
13372: LD_VAR 0 7
13376: ARRAY
13377: PUSH
13378: LD_VAR 0 3
13382: ARRAY
13383: PUSH
13384: LD_VAR 0 5
13388: PLUS
13389: PUSH
13390: LD_LOC 21
13394: PUSH
13395: LD_VAR 0 7
13399: ARRAY
13400: GREATER
13401: IFFALSE 13427
// begin SetSide ( un , old_side ) ;
13403: LD_VAR 0 1
13407: PPUSH
13408: LD_VAR 0 4
13412: PPUSH
13413: CALL_OW 235
// count := 0 ;
13417: LD_ADDR_VAR 0 5
13421: PUSH
13422: LD_INT 0
13424: ST_TO_ADDR
// end else
13425: GO 13491
// Already_Built := Replace ( Already_Built , i , Replace ( Already_Built [ i ] , old_side , Already_Built [ i ] [ old_side ] - count ) ) ;
13427: LD_ADDR_LOC 26
13431: PUSH
13432: LD_LOC 26
13436: PPUSH
13437: LD_VAR 0 7
13441: PPUSH
13442: LD_LOC 26
13446: PUSH
13447: LD_VAR 0 7
13451: ARRAY
13452: PPUSH
13453: LD_VAR 0 4
13457: PPUSH
13458: LD_LOC 26
13462: PUSH
13463: LD_VAR 0 7
13467: ARRAY
13468: PUSH
13469: LD_VAR 0 4
13473: ARRAY
13474: PUSH
13475: LD_VAR 0 5
13479: MINUS
13480: PPUSH
13481: CALL_OW 1
13485: PPUSH
13486: CALL_OW 1
13490: ST_TO_ADDR
// Already_Built := Replace ( Already_Built , i , Replace ( Already_Built [ i ] , side , Already_Built [ i ] [ side ] + count ) ) ;
13491: LD_ADDR_LOC 26
13495: PUSH
13496: LD_LOC 26
13500: PPUSH
13501: LD_VAR 0 7
13505: PPUSH
13506: LD_LOC 26
13510: PUSH
13511: LD_VAR 0 7
13515: ARRAY
13516: PPUSH
13517: LD_VAR 0 3
13521: PPUSH
13522: LD_LOC 26
13526: PUSH
13527: LD_VAR 0 7
13531: ARRAY
13532: PUSH
13533: LD_VAR 0 3
13537: ARRAY
13538: PUSH
13539: LD_VAR 0 5
13543: PLUS
13544: PPUSH
13545: CALL_OW 1
13549: PPUSH
13550: CALL_OW 1
13554: ST_TO_ADDR
// if count <> 0 and ( side = your_side ) then
13555: LD_VAR 0 5
13559: PUSH
13560: LD_INT 0
13562: NONEQUAL
13563: PUSH
13564: LD_VAR 0 3
13568: PUSH
13569: LD_OWVAR 2
13573: EQUAL
13574: AND
13575: IFFALSE 13618
// Limits_Info := Replace ( Limits_Info , 3 * i , Already_Built [ i ] [ side ] ) ;
13577: LD_ADDR_LOC 27
13581: PUSH
13582: LD_LOC 27
13586: PPUSH
13587: LD_INT 3
13589: PUSH
13590: LD_VAR 0 7
13594: MUL
13595: PPUSH
13596: LD_LOC 26
13600: PUSH
13601: LD_VAR 0 7
13605: ARRAY
13606: PUSH
13607: LD_VAR 0 3
13611: ARRAY
13612: PPUSH
13613: CALL_OW 1
13617: ST_TO_ADDR
// if Already_Built [ i ] [ side ] > Restricted_Builds_Amount [ i ] then
13618: LD_LOC 26
13622: PUSH
13623: LD_VAR 0 7
13627: ARRAY
13628: PUSH
13629: LD_VAR 0 3
13633: ARRAY
13634: PUSH
13635: LD_LOC 21
13639: PUSH
13640: LD_VAR 0 7
13644: ARRAY
13645: GREATER
13646: IFFALSE 13673
// begin Cheaters := Replace ( Cheaters , side , 1 ) ;
13648: LD_ADDR_LOC 28
13652: PUSH
13653: LD_LOC 28
13657: PPUSH
13658: LD_VAR 0 3
13662: PPUSH
13663: LD_INT 1
13665: PPUSH
13666: CALL_OW 1
13670: ST_TO_ADDR
// end else
13671: GO 13760
// begin for j := 1 to Restricted_Builds do
13673: LD_ADDR_VAR 0 8
13677: PUSH
13678: DOUBLE
13679: LD_INT 1
13681: DEC
13682: ST_TO_ADDR
13683: LD_LOC 20
13687: PUSH
13688: FOR_TO
13689: IFFALSE 13733
// if Already_Built [ j ] [ side ] > Restricted_Builds_Amount [ j ] then
13691: LD_LOC 26
13695: PUSH
13696: LD_VAR 0 8
13700: ARRAY
13701: PUSH
13702: LD_VAR 0 3
13706: ARRAY
13707: PUSH
13708: LD_LOC 21
13712: PUSH
13713: LD_VAR 0 8
13717: ARRAY
13718: GREATER
13719: IFFALSE 13731
// begin Is_Cheater := true ;
13721: LD_ADDR_VAR 0 9
13725: PUSH
13726: LD_INT 1
13728: ST_TO_ADDR
// break ;
13729: GO 13733
// end ;
13731: GO 13688
13733: POP
13734: POP
// Cheaters := Replace ( Cheaters , side , Is_Cheater ) ;
13735: LD_ADDR_LOC 28
13739: PUSH
13740: LD_LOC 28
13744: PPUSH
13745: LD_VAR 0 3
13749: PPUSH
13750: LD_VAR 0 9
13754: PPUSH
13755: CALL_OW 1
13759: ST_TO_ADDR
// end ; break ;
13760: GO 13764
// end ;
13762: GO 13340
13764: POP
13765: POP
// end ;
13766: LD_VAR 0 6
13770: RET
// on VehicleConstructionStarted ( factory , chassis , engine , control , weapon ) do begin if ( weapon in Banned_Weapons ) or ( chassis in Banned_Chassis ) or ( control in Banned_Controls ) or ( engine in Banned_Engines ) then
13771: LD_VAR 0 5
13775: PUSH
13776: LD_LOC 22
13780: IN
13781: PUSH
13782: LD_VAR 0 2
13786: PUSH
13787: LD_LOC 23
13791: IN
13792: OR
13793: PUSH
13794: LD_VAR 0 4
13798: PUSH
13799: LD_LOC 24
13803: IN
13804: OR
13805: PUSH
13806: LD_VAR 0 3
13810: PUSH
13811: LD_LOC 25
13815: IN
13816: OR
13817: IFFALSE 13828
// ComCancel ( factory ) ;
13819: LD_VAR 0 1
13823: PPUSH
13824: CALL_OW 127
// end ;
13828: PPOPN 5
13830: END
// on WeaponPlaced ( building , weapon ) do begin if ( weapon in Banned_Weapons ) then
13831: LD_VAR 0 2
13835: PUSH
13836: LD_LOC 22
13840: IN
13841: IFFALSE 13852
// ComCancel ( building ) ;
13843: LD_VAR 0 1
13847: PPUSH
13848: CALL_OW 127
// end ; end_of_file
13852: PPOPN 2
13854: END
// export ExtraStrings ; export WaitServerStrings ; export function ShowTimer ; var AllStrings ; begin
13855: LD_INT 0
13857: PPUSH
13858: PPUSH
// AllStrings := [ #Multi1x1-Time , tick ] ;
13859: LD_ADDR_VAR 0 2
13863: PUSH
13864: LD_STRING #Multi1x1-Time
13866: PUSH
13867: LD_OWVAR 1
13871: PUSH
13872: EMPTY
13873: LIST
13874: LIST
13875: ST_TO_ADDR
// if WaitServerStrings then
13876: LD_EXP 60
13880: IFFALSE 13898
// AllStrings = AllStrings ^ WaitServerStrings ;
13882: LD_ADDR_VAR 0 2
13886: PUSH
13887: LD_VAR 0 2
13891: PUSH
13892: LD_EXP 60
13896: ADD
13897: ST_TO_ADDR
// if 0 <= siberite_bomb_Delay - tick then
13898: LD_INT 0
13900: PUSH
13901: LD_EXP 16
13905: PUSH
13906: LD_OWVAR 1
13910: MINUS
13911: LESSEQUAL
13912: IFFALSE 13943
// AllStrings := AllStrings ^ [ #allowedsibbomb , siberite_bomb_Delay - tick ] ;
13914: LD_ADDR_VAR 0 2
13918: PUSH
13919: LD_VAR 0 2
13923: PUSH
13924: LD_STRING #allowedsibbomb
13926: PUSH
13927: LD_EXP 16
13931: PUSH
13932: LD_OWVAR 1
13936: MINUS
13937: PUSH
13938: EMPTY
13939: LIST
13940: LIST
13941: ADD
13942: ST_TO_ADDR
// if 0 <= buildUpTime_Delay - tick then
13943: LD_INT 0
13945: PUSH
13946: LD_EXP 14
13950: PUSH
13951: LD_OWVAR 1
13955: MINUS
13956: LESSEQUAL
13957: IFFALSE 13988
// AllStrings := AllStrings ^ [ #builduptime , buildUpTime_Delay - tick ] ;
13959: LD_ADDR_VAR 0 2
13963: PUSH
13964: LD_VAR 0 2
13968: PUSH
13969: LD_STRING #builduptime
13971: PUSH
13972: LD_EXP 14
13976: PUSH
13977: LD_OWVAR 1
13981: MINUS
13982: PUSH
13983: EMPTY
13984: LIST
13985: LIST
13986: ADD
13987: ST_TO_ADDR
// if ( ExtraStrings ) then
13988: LD_EXP 59
13992: IFFALSE 14014
// AllStrings := AllStrings ^  ^ ExtraStrings ;
13994: LD_ADDR_VAR 0 2
13998: PUSH
13999: LD_VAR 0 2
14003: PUSH
14004: LD_STRING 
14006: ADD
14007: PUSH
14008: LD_EXP 59
14012: ADD
14013: ST_TO_ADDR
// if ( LimitsStrings ) then
14014: CALL 10716 0 0
14018: IFFALSE 14040
// AllStrings := AllStrings ^  ^ LimitsStrings ;
14020: LD_ADDR_VAR 0 2
14024: PUSH
14025: LD_VAR 0 2
14029: PUSH
14030: LD_STRING 
14032: ADD
14033: PUSH
14034: CALL 10716 0 0
14038: ADD
14039: ST_TO_ADDR
// if debug_strings then
14040: LD_OWVAR 48
14044: IFFALSE 14066
// AllStrings := AllStrings ^  ^ debug_strings ;
14046: LD_ADDR_VAR 0 2
14050: PUSH
14051: LD_VAR 0 2
14055: PUSH
14056: LD_STRING 
14058: ADD
14059: PUSH
14060: LD_OWVAR 48
14064: ADD
14065: ST_TO_ADDR
// Display_Strings := AllStrings ;
14066: LD_ADDR_OWVAR 47
14070: PUSH
14071: LD_VAR 0 2
14075: ST_TO_ADDR
// end ;
14076: LD_VAR 0 1
14080: RET
// every 0 0$1 do
14081: GO 14083
14083: DISABLE
// begin ShowTimer ;
14084: CALL 13855 0 0
// enable ;
14088: ENABLE
// end ; end_of_file
14089: END
// export function SA_OnSiberiteRocketExploded ( siberite_rocket_vehicle , target_x , target_y , requestSide ) ; begin
14090: LD_INT 0
14092: PPUSH
// if GetSide ( siberite_rocket_vehicle ) = requestSide then
14093: LD_VAR 0 1
14097: PPUSH
14098: CALL_OW 255
14102: PUSH
14103: LD_VAR 0 4
14107: EQUAL
14108: IFFALSE 14127
// begin SetAchievement ( ACH_RAD ) ;
14110: LD_STRING ACH_RAD
14112: PPUSH
14113: CALL_OW 543
// SetAchievementEx ( ACH_NL , 1 ) ;
14117: LD_STRING ACH_NL
14119: PPUSH
14120: LD_INT 1
14122: PPUSH
14123: CALL_OW 564
// end end ;
14127: LD_VAR 0 5
14131: RET
// export function SA_Win ( side ) ; begin
14132: LD_INT 0
14134: PPUSH
// case side of 1 :
14135: LD_VAR 0 1
14139: PUSH
14140: LD_INT 1
14142: DOUBLE
14143: EQUAL
14144: IFTRUE 14148
14146: GO 14161
14148: POP
// SetAchievementEx ( ACH_AH , 1 ) ; 2 :
14149: LD_STRING ACH_AH
14151: PPUSH
14152: LD_INT 1
14154: PPUSH
14155: CALL_OW 564
14159: GO 14324
14161: LD_INT 2
14163: DOUBLE
14164: EQUAL
14165: IFTRUE 14169
14167: GO 14182
14169: POP
// SetAchievementEx ( ACH_E , 1 ) ; 3 :
14170: LD_STRING ACH_E
14172: PPUSH
14173: LD_INT 1
14175: PPUSH
14176: CALL_OW 564
14180: GO 14324
14182: LD_INT 3
14184: DOUBLE
14185: EQUAL
14186: IFTRUE 14190
14188: GO 14203
14190: POP
// SetAchievementEx ( ACH_OOL , 1 ) ; [ 1 , 2 ] :
14191: LD_STRING ACH_OOL
14193: PPUSH
14194: LD_INT 1
14196: PPUSH
14197: CALL_OW 564
14201: GO 14324
14203: LD_INT 1
14205: PUSH
14206: LD_INT 2
14208: PUSH
14209: EMPTY
14210: LIST
14211: LIST
14212: DOUBLE
14213: EQUAL
14214: IFTRUE 14218
14216: GO 14243
14218: POP
// begin SetAchievementEx ( ACH_AH , 0.5 ) ;
14219: LD_STRING ACH_AH
14221: PPUSH
14222: LD_REAL  5.00000000000000E-0001
14225: PPUSH
14226: CALL_OW 564
// SetAchievementEx ( ACH_E , 0.5 ) ;
14230: LD_STRING ACH_E
14232: PPUSH
14233: LD_REAL  5.00000000000000E-0001
14236: PPUSH
14237: CALL_OW 564
// end ; [ 2 , 3 ] :
14241: GO 14324
14243: LD_INT 2
14245: PUSH
14246: LD_INT 3
14248: PUSH
14249: EMPTY
14250: LIST
14251: LIST
14252: DOUBLE
14253: EQUAL
14254: IFTRUE 14258
14256: GO 14283
14258: POP
// begin SetAchievementEx ( ACH_OOL , 0.5 ) ;
14259: LD_STRING ACH_OOL
14261: PPUSH
14262: LD_REAL  5.00000000000000E-0001
14265: PPUSH
14266: CALL_OW 564
// SetAchievementEx ( ACH_E , 0.5 ) ;
14270: LD_STRING ACH_E
14272: PPUSH
14273: LD_REAL  5.00000000000000E-0001
14276: PPUSH
14277: CALL_OW 564
// end ; [ 3 , 1 ] :
14281: GO 14324
14283: LD_INT 3
14285: PUSH
14286: LD_INT 1
14288: PUSH
14289: EMPTY
14290: LIST
14291: LIST
14292: DOUBLE
14293: EQUAL
14294: IFTRUE 14298
14296: GO 14323
14298: POP
// begin SetAchievementEx ( ACH_AH , 0.5 ) ;
14299: LD_STRING ACH_AH
14301: PPUSH
14302: LD_REAL  5.00000000000000E-0001
14305: PPUSH
14306: CALL_OW 564
// SetAchievementEx ( ACH_OOL , 0.5 ) ;
14310: LD_STRING ACH_OOL
14312: PPUSH
14313: LD_REAL  5.00000000000000E-0001
14316: PPUSH
14317: CALL_OW 564
// end ; end ;
14321: GO 14324
14323: POP
// end ; end_of_file
14324: LD_VAR 0 2
14328: RET
// var defeated , GameEnded , unfoged , defeated_specs ; export function Init_Win_Condition ; var i ; begin
14329: LD_INT 0
14331: PPUSH
14332: PPUSH
// enable ( 98 ) ;
14333: LD_INT 98
14335: ENABLE_MARKED
// GameEnded = false ;
14336: LD_ADDR_LOC 30
14340: PUSH
14341: LD_INT 0
14343: ST_TO_ADDR
// defeated = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ] ;
14344: LD_ADDR_LOC 29
14348: PUSH
14349: LD_INT 0
14351: PUSH
14352: LD_INT 0
14354: PUSH
14355: LD_INT 0
14357: PUSH
14358: LD_INT 0
14360: PUSH
14361: LD_INT 0
14363: PUSH
14364: LD_INT 0
14366: PUSH
14367: LD_INT 0
14369: PUSH
14370: LD_INT 0
14372: PUSH
14373: EMPTY
14374: LIST
14375: LIST
14376: LIST
14377: LIST
14378: LIST
14379: LIST
14380: LIST
14381: LIST
14382: ST_TO_ADDR
// unfoged = false ;
14383: LD_ADDR_LOC 31
14387: PUSH
14388: LD_INT 0
14390: ST_TO_ADDR
// defeated_specs := [ ] ;
14391: LD_ADDR_LOC 32
14395: PUSH
14396: EMPTY
14397: ST_TO_ADDR
// for i = 1 to side_positions do
14398: LD_ADDR_VAR 0 2
14402: PUSH
14403: DOUBLE
14404: LD_INT 1
14406: DEC
14407: ST_TO_ADDR
14408: LD_EXP 19
14412: PUSH
14413: FOR_TO
14414: IFFALSE 14454
// if not side_positions [ i ] then
14416: LD_EXP 19
14420: PUSH
14421: LD_VAR 0 2
14425: ARRAY
14426: NOT
14427: IFFALSE 14452
// defeated = replace ( defeated , i , true ) ;
14429: LD_ADDR_LOC 29
14433: PUSH
14434: LD_LOC 29
14438: PPUSH
14439: LD_VAR 0 2
14443: PPUSH
14444: LD_INT 1
14446: PPUSH
14447: CALL_OW 1
14451: ST_TO_ADDR
14452: GO 14413
14454: POP
14455: POP
// end ;
14456: LD_VAR 0 1
14460: RET
// function CanWinLoose ; begin
14461: LD_INT 0
14463: PPUSH
// Result := true ;
14464: LD_ADDR_VAR 0 1
14468: PUSH
14469: LD_INT 1
14471: ST_TO_ADDR
// if IAmServer and PlayerCount > 0 then
14472: CALL_OW 518
14476: PUSH
14477: CALL_OW 519
14481: PUSH
14482: LD_INT 0
14484: GREATER
14485: AND
14486: IFFALSE 14496
// Result := false ;
14488: LD_ADDR_VAR 0 1
14492: PUSH
14493: LD_INT 0
14495: ST_TO_ADDR
// if IAmSpec and PlayerCount > 1 then
14496: CALL_OW 531
14500: PUSH
14501: CALL_OW 519
14505: PUSH
14506: LD_INT 1
14508: GREATER
14509: AND
14510: IFFALSE 14520
// Result := false ;
14512: LD_ADDR_VAR 0 1
14516: PUSH
14517: LD_INT 0
14519: ST_TO_ADDR
// end ;
14520: LD_VAR 0 1
14524: RET
// export function HasPower ( i ) ; var k , h ; begin
14525: LD_INT 0
14527: PPUSH
14528: PPUSH
14529: PPUSH
// if not MultiplayerSideAlive ( i ) and not Side_Comps [ i ] and MultiPlayer then
14530: LD_VAR 0 1
14534: PPUSH
14535: CALL_OW 108
14539: NOT
14540: PUSH
14541: LD_EXP 22
14545: PUSH
14546: LD_VAR 0 1
14550: ARRAY
14551: NOT
14552: AND
14553: PUSH
14554: LD_OWVAR 4
14558: AND
14559: IFFALSE 14571
// begin result = false ;
14561: LD_ADDR_VAR 0 2
14565: PUSH
14566: LD_INT 0
14568: ST_TO_ADDR
// end else
14569: GO 14866
// case def_win_rules of 0 :
14571: LD_EXP 32
14575: PUSH
14576: LD_INT 0
14578: DOUBLE
14579: EQUAL
14580: IFTRUE 14584
14582: GO 14747
14584: POP
// if def_people_respawning then
14585: LD_EXP 54
14589: IFFALSE 14680
// Result := FilterAllUnits ( [ [ f_side , i ] , [ f_or , [ f_type , unit_human ] , [ f_control , control_computer ] , [ f_control , control_apeman ] , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) else
14591: LD_ADDR_VAR 0 2
14595: PUSH
14596: LD_INT 22
14598: PUSH
14599: LD_VAR 0 1
14603: PUSH
14604: EMPTY
14605: LIST
14606: LIST
14607: PUSH
14608: LD_INT 2
14610: PUSH
14611: LD_INT 21
14613: PUSH
14614: LD_INT 1
14616: PUSH
14617: EMPTY
14618: LIST
14619: LIST
14620: PUSH
14621: LD_INT 33
14623: PUSH
14624: LD_INT 3
14626: PUSH
14627: EMPTY
14628: LIST
14629: LIST
14630: PUSH
14631: LD_INT 33
14633: PUSH
14634: LD_INT 5
14636: PUSH
14637: EMPTY
14638: LIST
14639: LIST
14640: PUSH
14641: LD_INT 30
14643: PUSH
14644: LD_INT 0
14646: PUSH
14647: EMPTY
14648: LIST
14649: LIST
14650: PUSH
14651: LD_INT 30
14653: PUSH
14654: LD_INT 1
14656: PUSH
14657: EMPTY
14658: LIST
14659: LIST
14660: PUSH
14661: EMPTY
14662: LIST
14663: LIST
14664: LIST
14665: LIST
14666: LIST
14667: LIST
14668: PUSH
14669: EMPTY
14670: LIST
14671: LIST
14672: PPUSH
14673: CALL_OW 69
14677: ST_TO_ADDR
14678: GO 14745
// Result := FilterAllUnits ( [ [ f_side , i ] , [ f_or , [ f_type , unit_human ] , [ f_control , control_computer ] , [ f_control , control_apeman ] ] ] ) ; 1 :
14680: LD_ADDR_VAR 0 2
14684: PUSH
14685: LD_INT 22
14687: PUSH
14688: LD_VAR 0 1
14692: PUSH
14693: EMPTY
14694: LIST
14695: LIST
14696: PUSH
14697: LD_INT 2
14699: PUSH
14700: LD_INT 21
14702: PUSH
14703: LD_INT 1
14705: PUSH
14706: EMPTY
14707: LIST
14708: LIST
14709: PUSH
14710: LD_INT 33
14712: PUSH
14713: LD_INT 3
14715: PUSH
14716: EMPTY
14717: LIST
14718: LIST
14719: PUSH
14720: LD_INT 33
14722: PUSH
14723: LD_INT 5
14725: PUSH
14726: EMPTY
14727: LIST
14728: LIST
14729: PUSH
14730: EMPTY
14731: LIST
14732: LIST
14733: LIST
14734: LIST
14735: PUSH
14736: EMPTY
14737: LIST
14738: LIST
14739: PPUSH
14740: CALL_OW 69
14744: ST_TO_ADDR
14745: GO 14866
14747: LD_INT 1
14749: DOUBLE
14750: EQUAL
14751: IFTRUE 14755
14753: GO 14794
14755: POP
// Result = FilterAllUnits ( [ [ f_side , i ] , [ f_type , unit_human ] ] ) ; 2 :
14756: LD_ADDR_VAR 0 2
14760: PUSH
14761: LD_INT 22
14763: PUSH
14764: LD_VAR 0 1
14768: PUSH
14769: EMPTY
14770: LIST
14771: LIST
14772: PUSH
14773: LD_INT 21
14775: PUSH
14776: LD_INT 1
14778: PUSH
14779: EMPTY
14780: LIST
14781: LIST
14782: PUSH
14783: EMPTY
14784: LIST
14785: LIST
14786: PPUSH
14787: CALL_OW 69
14791: ST_TO_ADDR
14792: GO 14866
14794: LD_INT 2
14796: DOUBLE
14797: EQUAL
14798: IFTRUE 14802
14800: GO 14865
14802: POP
// begin h = false ;
14803: LD_ADDR_VAR 0 4
14807: PUSH
14808: LD_INT 0
14810: ST_TO_ADDR
// for k in heroes [ i ] do
14811: LD_ADDR_VAR 0 3
14815: PUSH
14816: LD_EXP 33
14820: PUSH
14821: LD_VAR 0 1
14825: ARRAY
14826: PUSH
14827: FOR_IN
14828: IFFALSE 14851
// if IsLive ( k ) then
14830: LD_VAR 0 3
14834: PPUSH
14835: CALL_OW 300
14839: IFFALSE 14849
// h = true ;
14841: LD_ADDR_VAR 0 4
14845: PUSH
14846: LD_INT 1
14848: ST_TO_ADDR
14849: GO 14827
14851: POP
14852: POP
// Result := h ;
14853: LD_ADDR_VAR 0 2
14857: PUSH
14858: LD_VAR 0 4
14862: ST_TO_ADDR
// end ; end ;
14863: GO 14866
14865: POP
// end ;
14866: LD_VAR 0 2
14870: RET
// function AlliedSides ( i , j ) ; begin
14871: LD_INT 0
14873: PPUSH
// Result := false ;
14874: LD_ADDR_VAR 0 3
14878: PUSH
14879: LD_INT 0
14881: ST_TO_ADDR
// if ( GetAttitude ( i , j ) = att_friend ) and ( GetAttitude ( j , i ) = att_friend ) and GetAlliedVictory ( i ) and GetAlliedVictory ( j ) then
14882: LD_VAR 0 1
14886: PPUSH
14887: LD_VAR 0 2
14891: PPUSH
14892: CALL_OW 81
14896: PUSH
14897: LD_INT 1
14899: EQUAL
14900: PUSH
14901: LD_VAR 0 2
14905: PPUSH
14906: LD_VAR 0 1
14910: PPUSH
14911: CALL_OW 81
14915: PUSH
14916: LD_INT 1
14918: EQUAL
14919: AND
14920: PUSH
14921: LD_VAR 0 1
14925: PPUSH
14926: CALL_OW 83
14930: AND
14931: PUSH
14932: LD_VAR 0 2
14936: PPUSH
14937: CALL_OW 83
14941: AND
14942: IFFALSE 14952
// Result := true ;
14944: LD_ADDR_VAR 0 3
14948: PUSH
14949: LD_INT 1
14951: ST_TO_ADDR
// end ;
14952: LD_VAR 0 3
14956: RET
// every 100 trigger CanWinLoose and not GameEnded marked 400 do
14957: CALL 14461 0 0
14961: PUSH
14962: LD_LOC 30
14966: NOT
14967: AND
14968: IFFALSE 14984
14970: GO 14972
14972: DISABLE
// WaitServerStrings = [ #Player-Ended ] ;
14973: LD_ADDR_EXP 60
14977: PUSH
14978: LD_STRING #Player-Ended
14980: PUSH
14981: EMPTY
14982: LIST
14983: ST_TO_ADDR
14984: END
// every 100 trigger CanWinLoose and GameEnded marked 400 do
14985: CALL 14461 0 0
14989: PUSH
14990: LD_LOC 30
14994: AND
14995: IFFALSE 15004
14997: GO 14999
14999: DISABLE
// YouLostInMultiplayer ;
15000: CALL_OW 107
15004: END
// every 100 trigger not CanWinLoose and not IAmSpec marked 400 do
15005: CALL 14461 0 0
15009: NOT
15010: PUSH
15011: CALL_OW 531
15015: NOT
15016: AND
15017: IFFALSE 15033
15019: GO 15021
15021: DISABLE
// WaitServerStrings = [ #server-wait ] ;
15022: LD_ADDR_EXP 60
15026: PUSH
15027: LD_STRING #server-wait
15029: PUSH
15030: EMPTY
15031: LIST
15032: ST_TO_ADDR
15033: END
// every 100 trigger IAmSpec do
15034: CALL_OW 531
15038: IFFALSE 15054
15040: GO 15042
15042: DISABLE
// WaitServerStrings = [ #Player-IAmSpec ] ;
15043: LD_ADDR_EXP 60
15047: PUSH
15048: LD_STRING #Player-IAmSpec
15050: PUSH
15051: EMPTY
15052: LIST
15053: ST_TO_ADDR
15054: END
// every 100 trigger GameEnded and IAmSpec do
15055: LD_LOC 30
15059: PUSH
15060: CALL_OW 531
15064: AND
15065: IFFALSE 15074
15067: GO 15069
15069: DISABLE
// YouLostInMultiplayer ;
15070: CALL_OW 107
15074: END
// every 100 trigger CanWinLoose and not GameEnded marked 401 do
15075: CALL 14461 0 0
15079: PUSH
15080: LD_LOC 30
15084: NOT
15085: AND
15086: IFFALSE 15102
15088: GO 15090
15090: DISABLE
// WaitServerStrings = [ $player-win ] ;
15091: LD_ADDR_EXP 60
15095: PUSH
15096: LD_STRING $player-win
15098: PUSH
15099: EMPTY
15100: LIST
15101: ST_TO_ADDR
15102: END
// every 100 trigger CanWinLoose and GameEnded marked 401 do
15103: CALL 14461 0 0
15107: PUSH
15108: LD_LOC 30
15112: AND
15113: IFFALSE 15137
15115: GO 15117
15117: DISABLE
// begin SA_Win ( Side_Nations [ mp_player_side ] ) ;
15118: LD_EXP 20
15122: PUSH
15123: LD_OWVAR 7
15127: ARRAY
15128: PPUSH
15129: CALL 14132 0 1
// YouWinInMultiplayer ;
15133: CALL_OW 106
// end ;
15137: END
// every 100 trigger isEditor marked 401 do
15138: LD_OWVAR 84
15142: IFFALSE 15158
15144: GO 15146
15146: DISABLE
// Debug_Strings = [ You won ] ;
15147: LD_ADDR_OWVAR 48
15151: PUSH
15152: LD_STRING You won
15154: PUSH
15155: EMPTY
15156: LIST
15157: ST_TO_ADDR
15158: END
// every 100 trigger isEditor marked 400 do
15159: LD_OWVAR 84
15163: IFFALSE 15179
15165: GO 15167
15167: DISABLE
// Debug_Strings = [ You loss ] ;
15168: LD_ADDR_OWVAR 48
15172: PUSH
15173: LD_STRING You loss
15175: PUSH
15176: EMPTY
15177: LIST
15178: ST_TO_ADDR
15179: END
// every 100 marked 98 do var i , un ;
15180: GO 15182
15182: DISABLE
15183: LD_INT 0
15185: PPUSH
15186: PPUSH
// begin for i = 1 to side_positions do
15187: LD_ADDR_VAR 0 1
15191: PUSH
15192: DOUBLE
15193: LD_INT 1
15195: DEC
15196: ST_TO_ADDR
15197: LD_EXP 19
15201: PUSH
15202: FOR_TO
15203: IFFALSE 15290
// begin if side_positions [ i ] then
15205: LD_EXP 19
15209: PUSH
15210: LD_VAR 0 1
15214: ARRAY
15215: IFFALSE 15288
// if not HasPower ( i ) and not defeated [ i ] then
15217: LD_VAR 0 1
15221: PPUSH
15222: CALL 14525 0 1
15226: NOT
15227: PUSH
15228: LD_LOC 29
15232: PUSH
15233: LD_VAR 0 1
15237: ARRAY
15238: NOT
15239: AND
15240: IFFALSE 15288
// begin defeated = replace ( defeated , i , true ) ;
15242: LD_ADDR_LOC 29
15246: PUSH
15247: LD_LOC 29
15251: PPUSH
15252: LD_VAR 0 1
15256: PPUSH
15257: LD_INT 1
15259: PPUSH
15260: CALL_OW 1
15264: ST_TO_ADDR
// if i = mp_player_side then
15265: LD_VAR 0 1
15269: PUSH
15270: LD_OWVAR 7
15274: EQUAL
15275: IFFALSE 15288
// begin Multiplayer_Loose_Message ;
15277: CALL_OW 521
// SetPlayerSpectator ( ) ;
15281: CALL_OW 572
// enable ( 400 ) ;
15285: LD_INT 400
15287: ENABLE_MARKED
// end ; end ; end ;
15288: GO 15202
15290: POP
15291: POP
// DidGameEnd ;
15292: CALL 15307 0 0
// if not GameEnded then
15296: LD_LOC 30
15300: NOT
15301: IFFALSE 15304
// enable ;
15303: ENABLE
// end ;
15304: PPOPN 2
15306: END
// function DidGameEnd ; var i , k , enemy ; begin
15307: LD_INT 0
15309: PPUSH
15310: PPUSH
15311: PPUSH
15312: PPUSH
// enemy = [ ] ;
15313: LD_ADDR_VAR 0 4
15317: PUSH
15318: EMPTY
15319: ST_TO_ADDR
// for i = 1 to side_positions do
15320: LD_ADDR_VAR 0 2
15324: PUSH
15325: DOUBLE
15326: LD_INT 1
15328: DEC
15329: ST_TO_ADDR
15330: LD_EXP 19
15334: PUSH
15335: FOR_TO
15336: IFFALSE 15430
// if not defeated [ i ] then
15338: LD_LOC 29
15342: PUSH
15343: LD_VAR 0 2
15347: ARRAY
15348: NOT
15349: IFFALSE 15428
// for k = 1 to side_positions do
15351: LD_ADDR_VAR 0 3
15355: PUSH
15356: DOUBLE
15357: LD_INT 1
15359: DEC
15360: ST_TO_ADDR
15361: LD_EXP 19
15365: PUSH
15366: FOR_TO
15367: IFFALSE 15426
// if not defeated [ k ] then
15369: LD_LOC 29
15373: PUSH
15374: LD_VAR 0 3
15378: ARRAY
15379: NOT
15380: IFFALSE 15424
// if not AlliedSides ( i , k ) then
15382: LD_VAR 0 2
15386: PPUSH
15387: LD_VAR 0 3
15391: PPUSH
15392: CALL 14871 0 2
15396: NOT
15397: IFFALSE 15424
// enemy = enemy ^ [ i , k ] ;
15399: LD_ADDR_VAR 0 4
15403: PUSH
15404: LD_VAR 0 4
15408: PUSH
15409: LD_VAR 0 2
15413: PUSH
15414: LD_VAR 0 3
15418: PUSH
15419: EMPTY
15420: LIST
15421: LIST
15422: ADD
15423: ST_TO_ADDR
15424: GO 15366
15426: POP
15427: POP
15428: GO 15335
15430: POP
15431: POP
// if not enemy then
15432: LD_VAR 0 4
15436: NOT
15437: IFFALSE 15463
// begin GameEnded = true ;
15439: LD_ADDR_LOC 30
15443: PUSH
15444: LD_INT 1
15446: ST_TO_ADDR
// if not defeated [ mp_player_side ] then
15447: LD_LOC 29
15451: PUSH
15452: LD_OWVAR 7
15456: ARRAY
15457: NOT
15458: IFFALSE 15463
// enable ( 401 ) ;
15460: LD_INT 401
15462: ENABLE_MARKED
// end ; end ;
15463: LD_VAR 0 1
15467: RET
// function unfog ; var k , friends ; begin
15468: LD_INT 0
15470: PPUSH
15471: PPUSH
15472: PPUSH
// for k = 1 to side_positions do
15473: LD_ADDR_VAR 0 2
15477: PUSH
15478: DOUBLE
15479: LD_INT 1
15481: DEC
15482: ST_TO_ADDR
15483: LD_EXP 19
15487: PUSH
15488: FOR_TO
15489: IFFALSE 15545
// if not defeated [ k ] then
15491: LD_LOC 29
15495: PUSH
15496: LD_VAR 0 2
15500: ARRAY
15501: NOT
15502: IFFALSE 15543
// if GetAttitude ( mp_player_side , k ) in [ att_friend ] then
15504: LD_OWVAR 7
15508: PPUSH
15509: LD_VAR 0 2
15513: PPUSH
15514: CALL_OW 81
15518: PUSH
15519: LD_INT 1
15521: PUSH
15522: EMPTY
15523: LIST
15524: IN
15525: IFFALSE 15543
// friends = friends ^ k ;
15527: LD_ADDR_VAR 0 3
15531: PUSH
15532: LD_VAR 0 3
15536: PUSH
15537: LD_VAR 0 2
15541: ADD
15542: ST_TO_ADDR
15543: GO 15488
15545: POP
15546: POP
// if not friends then
15547: LD_VAR 0 3
15551: NOT
15552: IFFALSE 15566
// begin SetPlayerSpectator ( ) ;
15554: CALL_OW 572
// unfoged = true ;
15558: LD_ADDR_LOC 31
15562: PUSH
15563: LD_INT 1
15565: ST_TO_ADDR
// end ; end ;
15566: LD_VAR 0 1
15570: RET
// export function MakeGameEnd ; begin
15571: LD_INT 0
15573: PPUSH
// SetPlayerSpectator ( ) ;
15574: CALL_OW 572
// unfoged = true ;
15578: LD_ADDR_LOC 31
15582: PUSH
15583: LD_INT 1
15585: ST_TO_ADDR
// wait ( 0 0$5 ) ;
15586: LD_INT 175
15588: PPUSH
15589: CALL_OW 67
// GameEnded = true ;
15593: LD_ADDR_LOC 30
15597: PUSH
15598: LD_INT 1
15600: ST_TO_ADDR
// end ;
15601: LD_VAR 0 1
15605: RET
// export function GetGameEnded ; begin
15606: LD_INT 0
15608: PPUSH
// result = GameEnded ;
15609: LD_ADDR_VAR 0 1
15613: PUSH
15614: LD_LOC 30
15618: ST_TO_ADDR
// end ; end_of_file
15619: LD_VAR 0 1
15623: RET
// export function SetMpTechs ( ) ; var side , i ; begin
15624: LD_INT 0
15626: PPUSH
15627: PPUSH
15628: PPUSH
// for side = 1 to 8 do
15629: LD_ADDR_VAR 0 2
15633: PUSH
15634: DOUBLE
15635: LD_INT 1
15637: DEC
15638: ST_TO_ADDR
15639: LD_INT 8
15641: PUSH
15642: FOR_TO
15643: IFFALSE 15764
// begin for i = 1 to 72 do
15645: LD_ADDR_VAR 0 3
15649: PUSH
15650: DOUBLE
15651: LD_INT 1
15653: DEC
15654: ST_TO_ADDR
15655: LD_INT 72
15657: PUSH
15658: FOR_TO
15659: IFFALSE 15690
// SetTech ( i , side , GetRestrictions ( false , i ) ) ;
15661: LD_VAR 0 3
15665: PPUSH
15666: LD_VAR 0 2
15670: PPUSH
15671: LD_INT 0
15673: PPUSH
15674: LD_VAR 0 3
15678: PPUSH
15679: CALL_OW 565
15683: PPUSH
15684: CALL_OW 322
15688: GO 15658
15690: POP
15691: POP
// SetTech ( 73 , side , GetRestrictions ( false , 25 ) ) ;
15692: LD_INT 73
15694: PPUSH
15695: LD_VAR 0 2
15699: PPUSH
15700: LD_INT 0
15702: PPUSH
15703: LD_INT 25
15705: PPUSH
15706: CALL_OW 565
15710: PPUSH
15711: CALL_OW 322
// for i = 0 to 40 do
15715: LD_ADDR_VAR 0 3
15719: PUSH
15720: DOUBLE
15721: LD_INT 0
15723: DEC
15724: ST_TO_ADDR
15725: LD_INT 40
15727: PUSH
15728: FOR_TO
15729: IFFALSE 15760
// SetRestrict ( i , side , GetRestrictions ( true , i ) ) ;
15731: LD_VAR 0 3
15735: PPUSH
15736: LD_VAR 0 2
15740: PPUSH
15741: LD_INT 1
15743: PPUSH
15744: LD_VAR 0 3
15748: PPUSH
15749: CALL_OW 565
15753: PPUSH
15754: CALL_OW 324
15758: GO 15728
15760: POP
15761: POP
// end ;
15762: GO 15642
15764: POP
15765: POP
// end ;
15766: LD_VAR 0 1
15770: RET
// export function SetMpTechLevel ( level ) ; var side , i ; begin
15771: LD_INT 0
15773: PPUSH
15774: PPUSH
15775: PPUSH
// for side = 1 to 8 do
15776: LD_ADDR_VAR 0 3
15780: PUSH
15781: DOUBLE
15782: LD_INT 1
15784: DEC
15785: ST_TO_ADDR
15786: LD_INT 8
15788: PUSH
15789: FOR_TO
15790: IFFALSE 19786
// begin for i = 1 to 73 do
15792: LD_ADDR_VAR 0 4
15796: PUSH
15797: DOUBLE
15798: LD_INT 1
15800: DEC
15801: ST_TO_ADDR
15802: LD_INT 73
15804: PUSH
15805: FOR_TO
15806: IFFALSE 15827
// SetTech ( i , side , state_disabled ) ;
15808: LD_VAR 0 4
15812: PPUSH
15813: LD_VAR 0 3
15817: PPUSH
15818: LD_INT 0
15820: PPUSH
15821: CALL_OW 322
15825: GO 15805
15827: POP
15828: POP
// for i = 0 to 40 do
15829: LD_ADDR_VAR 0 4
15833: PUSH
15834: DOUBLE
15835: LD_INT 0
15837: DEC
15838: ST_TO_ADDR
15839: LD_INT 40
15841: PUSH
15842: FOR_TO
15843: IFFALSE 15864
// SetRestrict ( i , side , false ) ;
15845: LD_VAR 0 4
15849: PPUSH
15850: LD_VAR 0 3
15854: PPUSH
15855: LD_INT 0
15857: PPUSH
15858: CALL_OW 324
15862: GO 15842
15864: POP
15865: POP
// case level of 1 :
15866: LD_VAR 0 1
15870: PUSH
15871: LD_INT 1
15873: DOUBLE
15874: EQUAL
15875: IFTRUE 15879
15877: GO 16032
15879: POP
// begin SetTech ( tech_solpow , side , state_enabled ) ;
15880: LD_INT 35
15882: PPUSH
15883: LD_VAR 0 3
15887: PPUSH
15888: LD_INT 1
15890: PPUSH
15891: CALL_OW 322
// SetTech ( tech_soleng , side , state_enabled ) ;
15895: LD_INT 45
15897: PPUSH
15898: LD_VAR 0 3
15902: PPUSH
15903: LD_INT 1
15905: PPUSH
15906: CALL_OW 322
// SetTech ( tech_oilpow , side , state_enabled ) ;
15910: LD_INT 46
15912: PPUSH
15913: LD_VAR 0 3
15917: PPUSH
15918: LD_INT 1
15920: PPUSH
15921: CALL_OW 322
// SetTech ( tech_oileng , side , state_enabled ) ;
15925: LD_INT 47
15927: PPUSH
15928: LD_VAR 0 3
15932: PPUSH
15933: LD_INT 1
15935: PPUSH
15936: CALL_OW 322
// SetRestrict ( b_depot , side , true ) ;
15940: LD_INT 0
15942: PPUSH
15943: LD_VAR 0 3
15947: PPUSH
15948: LD_INT 1
15950: PPUSH
15951: CALL_OW 324
// SetRestrict ( b_workshop , side , true ) ;
15955: LD_INT 2
15957: PPUSH
15958: LD_VAR 0 3
15962: PPUSH
15963: LD_INT 1
15965: PPUSH
15966: CALL_OW 324
// SetRestrict ( b_armoury , side , true ) ;
15970: LD_INT 4
15972: PPUSH
15973: LD_VAR 0 3
15977: PPUSH
15978: LD_INT 1
15980: PPUSH
15981: CALL_OW 324
// SetRestrict ( b_lab , side , true ) ;
15985: LD_INT 6
15987: PPUSH
15988: LD_VAR 0 3
15992: PPUSH
15993: LD_INT 1
15995: PPUSH
15996: CALL_OW 324
// SetRestrict ( b_oil_mine , side , true ) ;
16000: LD_INT 29
16002: PPUSH
16003: LD_VAR 0 3
16007: PPUSH
16008: LD_INT 1
16010: PPUSH
16011: CALL_OW 324
// SetRestrict ( b_breastwork , side , true ) ;
16015: LD_INT 31
16017: PPUSH
16018: LD_VAR 0 3
16022: PPUSH
16023: LD_INT 1
16025: PPUSH
16026: CALL_OW 324
// end ; 2 :
16030: GO 19784
16032: LD_INT 2
16034: DOUBLE
16035: EQUAL
16036: IFTRUE 16040
16038: GO 16238
16040: POP
// begin SetTech ( tech_solpow , side , state_enabled ) ;
16041: LD_INT 35
16043: PPUSH
16044: LD_VAR 0 3
16048: PPUSH
16049: LD_INT 1
16051: PPUSH
16052: CALL_OW 322
// SetTech ( tech_soleng , side , state_enabled ) ;
16056: LD_INT 45
16058: PPUSH
16059: LD_VAR 0 3
16063: PPUSH
16064: LD_INT 1
16066: PPUSH
16067: CALL_OW 322
// SetTech ( tech_oilpow , side , state_enabled ) ;
16071: LD_INT 46
16073: PPUSH
16074: LD_VAR 0 3
16078: PPUSH
16079: LD_INT 1
16081: PPUSH
16082: CALL_OW 322
// SetTech ( tech_oileng , side , state_enabled ) ;
16086: LD_INT 47
16088: PPUSH
16089: LD_VAR 0 3
16093: PPUSH
16094: LD_INT 1
16096: PPUSH
16097: CALL_OW 322
// SetTech ( tech_apelang , side , state_enabled ) ;
16101: LD_INT 1
16103: PPUSH
16104: LD_VAR 0 3
16108: PPUSH
16109: LD_INT 1
16111: PPUSH
16112: CALL_OW 322
// SetTech ( tech_apepsych , side , state_enabled ) ;
16116: LD_INT 2
16118: PPUSH
16119: LD_VAR 0 3
16123: PPUSH
16124: LD_INT 1
16126: PPUSH
16127: CALL_OW 322
// SetTech ( tech_apeagres , side , state_enabled ) ;
16131: LD_INT 11
16133: PPUSH
16134: LD_VAR 0 3
16138: PPUSH
16139: LD_INT 1
16141: PPUSH
16142: CALL_OW 322
// SetRestrict ( b_depot , side , true ) ;
16146: LD_INT 0
16148: PPUSH
16149: LD_VAR 0 3
16153: PPUSH
16154: LD_INT 1
16156: PPUSH
16157: CALL_OW 324
// SetRestrict ( b_workshop , side , true ) ;
16161: LD_INT 2
16163: PPUSH
16164: LD_VAR 0 3
16168: PPUSH
16169: LD_INT 1
16171: PPUSH
16172: CALL_OW 324
// SetRestrict ( b_armoury , side , true ) ;
16176: LD_INT 4
16178: PPUSH
16179: LD_VAR 0 3
16183: PPUSH
16184: LD_INT 1
16186: PPUSH
16187: CALL_OW 324
// SetRestrict ( b_lab , side , true ) ;
16191: LD_INT 6
16193: PPUSH
16194: LD_VAR 0 3
16198: PPUSH
16199: LD_INT 1
16201: PPUSH
16202: CALL_OW 324
// SetRestrict ( b_oil_mine , side , true ) ;
16206: LD_INT 29
16208: PPUSH
16209: LD_VAR 0 3
16213: PPUSH
16214: LD_INT 1
16216: PPUSH
16217: CALL_OW 324
// SetRestrict ( b_breastwork , side , true ) ;
16221: LD_INT 31
16223: PPUSH
16224: LD_VAR 0 3
16228: PPUSH
16229: LD_INT 1
16231: PPUSH
16232: CALL_OW 324
// end ; 3 :
16236: GO 19784
16238: LD_INT 3
16240: DOUBLE
16241: EQUAL
16242: IFTRUE 16246
16244: GO 16699
16246: POP
// begin SetTech ( tech_solpow , side , state_enabled ) ;
16247: LD_INT 35
16249: PPUSH
16250: LD_VAR 0 3
16254: PPUSH
16255: LD_INT 1
16257: PPUSH
16258: CALL_OW 322
// SetTech ( tech_soleng , side , state_enabled ) ;
16262: LD_INT 45
16264: PPUSH
16265: LD_VAR 0 3
16269: PPUSH
16270: LD_INT 1
16272: PPUSH
16273: CALL_OW 322
// SetTech ( tech_oilpow , side , state_enabled ) ;
16277: LD_INT 46
16279: PPUSH
16280: LD_VAR 0 3
16284: PPUSH
16285: LD_INT 1
16287: PPUSH
16288: CALL_OW 322
// SetTech ( tech_oileng , side , state_enabled ) ;
16292: LD_INT 47
16294: PPUSH
16295: LD_VAR 0 3
16299: PPUSH
16300: LD_INT 1
16302: PPUSH
16303: CALL_OW 322
// SetTech ( tech_apelang , side , state_enabled ) ;
16307: LD_INT 1
16309: PPUSH
16310: LD_VAR 0 3
16314: PPUSH
16315: LD_INT 1
16317: PPUSH
16318: CALL_OW 322
// SetTech ( tech_apepsych , side , state_enabled ) ;
16322: LD_INT 2
16324: PPUSH
16325: LD_VAR 0 3
16329: PPUSH
16330: LD_INT 1
16332: PPUSH
16333: CALL_OW 322
// SetTech ( tech_apeagres , side , state_enabled ) ;
16337: LD_INT 11
16339: PPUSH
16340: LD_VAR 0 3
16344: PPUSH
16345: LD_INT 1
16347: PPUSH
16348: CALL_OW 322
// SetTech ( tech_tech1 , side , state_enabled ) ;
16352: LD_INT 48
16354: PPUSH
16355: LD_VAR 0 3
16359: PPUSH
16360: LD_INT 1
16362: PPUSH
16363: CALL_OW 322
// SetTech ( tech_gatling , side , state_enabled ) ;
16367: LD_INT 69
16369: PPUSH
16370: LD_VAR 0 3
16374: PPUSH
16375: LD_INT 1
16377: PPUSH
16378: CALL_OW 322
// SetTech ( tech_gun , side , state_enabled ) ;
16382: LD_INT 39
16384: PPUSH
16385: LD_VAR 0 3
16389: PPUSH
16390: LD_INT 1
16392: PPUSH
16393: CALL_OW 322
// SetTech ( tech_selfdest , side , state_enabled ) ;
16397: LD_INT 43
16399: PPUSH
16400: LD_VAR 0 3
16404: PPUSH
16405: LD_INT 1
16407: PPUSH
16408: CALL_OW 322
// SetTech ( tech_weap1 , side , state_enabled ) ;
16412: LD_INT 51
16414: PPUSH
16415: LD_VAR 0 3
16419: PPUSH
16420: LD_INT 1
16422: PPUSH
16423: CALL_OW 322
// SetTech ( tech_radar , side , state_enabled ) ;
16427: LD_INT 6
16429: PPUSH
16430: LD_VAR 0 3
16434: PPUSH
16435: LD_INT 1
16437: PPUSH
16438: CALL_OW 322
// SetRestrict ( b_depot , side , true ) ;
16442: LD_INT 0
16444: PPUSH
16445: LD_VAR 0 3
16449: PPUSH
16450: LD_INT 1
16452: PPUSH
16453: CALL_OW 324
// SetRestrict ( b_workshop , side , true ) ;
16457: LD_INT 2
16459: PPUSH
16460: LD_VAR 0 3
16464: PPUSH
16465: LD_INT 1
16467: PPUSH
16468: CALL_OW 324
// SetRestrict ( b_factory , side , true ) ;
16472: LD_INT 3
16474: PPUSH
16475: LD_VAR 0 3
16479: PPUSH
16480: LD_INT 1
16482: PPUSH
16483: CALL_OW 324
// SetRestrict ( b_armoury , side , true ) ;
16487: LD_INT 4
16489: PPUSH
16490: LD_VAR 0 3
16494: PPUSH
16495: LD_INT 1
16497: PPUSH
16498: CALL_OW 324
// SetRestrict ( b_lab , side , true ) ;
16502: LD_INT 6
16504: PPUSH
16505: LD_VAR 0 3
16509: PPUSH
16510: LD_INT 1
16512: PPUSH
16513: CALL_OW 324
// SetRestrict ( b_lab_half , side , true ) ;
16517: LD_INT 7
16519: PPUSH
16520: LD_VAR 0 3
16524: PPUSH
16525: LD_INT 1
16527: PPUSH
16528: CALL_OW 324
// SetRestrict ( b_lab_full , side , true ) ;
16532: LD_INT 8
16534: PPUSH
16535: LD_VAR 0 3
16539: PPUSH
16540: LD_INT 1
16542: PPUSH
16543: CALL_OW 324
// SetRestrict ( b_lab_weapon , side , true ) ;
16547: LD_INT 10
16549: PPUSH
16550: LD_VAR 0 3
16554: PPUSH
16555: LD_INT 1
16557: PPUSH
16558: CALL_OW 324
// SetRestrict ( b_lab_opto , side , true ) ;
16562: LD_INT 15
16564: PPUSH
16565: LD_VAR 0 3
16569: PPUSH
16570: LD_INT 1
16572: PPUSH
16573: CALL_OW 324
// SetRestrict ( b_ext_track , side , true ) ;
16577: LD_INT 16
16579: PPUSH
16580: LD_VAR 0 3
16584: PPUSH
16585: LD_INT 1
16587: PPUSH
16588: CALL_OW 324
// SetRestrict ( b_ext_gun , side , true ) ;
16592: LD_INT 17
16594: PPUSH
16595: LD_VAR 0 3
16599: PPUSH
16600: LD_INT 1
16602: PPUSH
16603: CALL_OW 324
// SetRestrict ( b_ext_radar , side , true ) ;
16607: LD_INT 20
16609: PPUSH
16610: LD_VAR 0 3
16614: PPUSH
16615: LD_INT 1
16617: PPUSH
16618: CALL_OW 324
// SetRestrict ( b_oil_power , side , true ) ;
16622: LD_INT 26
16624: PPUSH
16625: LD_VAR 0 3
16629: PPUSH
16630: LD_INT 1
16632: PPUSH
16633: CALL_OW 324
// SetRestrict ( b_solar_power , side , true ) ;
16637: LD_INT 27
16639: PPUSH
16640: LD_VAR 0 3
16644: PPUSH
16645: LD_INT 1
16647: PPUSH
16648: CALL_OW 324
// SetRestrict ( b_oil_mine , side , true ) ;
16652: LD_INT 29
16654: PPUSH
16655: LD_VAR 0 3
16659: PPUSH
16660: LD_INT 1
16662: PPUSH
16663: CALL_OW 324
// SetRestrict ( b_breastwork , side , true ) ;
16667: LD_INT 31
16669: PPUSH
16670: LD_VAR 0 3
16674: PPUSH
16675: LD_INT 1
16677: PPUSH
16678: CALL_OW 324
// SetRestrict ( b_bunker , side , true ) ;
16682: LD_INT 32
16684: PPUSH
16685: LD_VAR 0 3
16689: PPUSH
16690: LD_INT 1
16692: PPUSH
16693: CALL_OW 324
// end ; 4 :
16697: GO 19784
16699: LD_INT 4
16701: DOUBLE
16702: EQUAL
16703: IFTRUE 16707
16705: GO 17655
16707: POP
// begin SetTech ( tech_solpow , side , state_enabled ) ;
16708: LD_INT 35
16710: PPUSH
16711: LD_VAR 0 3
16715: PPUSH
16716: LD_INT 1
16718: PPUSH
16719: CALL_OW 322
// SetTech ( tech_soleng , side , state_enabled ) ;
16723: LD_INT 45
16725: PPUSH
16726: LD_VAR 0 3
16730: PPUSH
16731: LD_INT 1
16733: PPUSH
16734: CALL_OW 322
// SetTech ( tech_oilpow , side , state_enabled ) ;
16738: LD_INT 46
16740: PPUSH
16741: LD_VAR 0 3
16745: PPUSH
16746: LD_INT 1
16748: PPUSH
16749: CALL_OW 322
// SetTech ( tech_oileng , side , state_enabled ) ;
16753: LD_INT 47
16755: PPUSH
16756: LD_VAR 0 3
16760: PPUSH
16761: LD_INT 1
16763: PPUSH
16764: CALL_OW 322
// SetTech ( tech_apelang , side , state_enabled ) ;
16768: LD_INT 1
16770: PPUSH
16771: LD_VAR 0 3
16775: PPUSH
16776: LD_INT 1
16778: PPUSH
16779: CALL_OW 322
// SetTech ( tech_apepsych , side , state_enabled ) ;
16783: LD_INT 2
16785: PPUSH
16786: LD_VAR 0 3
16790: PPUSH
16791: LD_INT 1
16793: PPUSH
16794: CALL_OW 322
// SetTech ( tech_apeagres , side , state_enabled ) ;
16798: LD_INT 11
16800: PPUSH
16801: LD_VAR 0 3
16805: PPUSH
16806: LD_INT 1
16808: PPUSH
16809: CALL_OW 322
// SetTech ( tech_sibdet , side , state_enabled ) ;
16813: LD_INT 20
16815: PPUSH
16816: LD_VAR 0 3
16820: PPUSH
16821: LD_INT 1
16823: PPUSH
16824: CALL_OW 322
// SetTech ( tech_tech1 , side , state_enabled ) ;
16828: LD_INT 48
16830: PPUSH
16831: LD_VAR 0 3
16835: PPUSH
16836: LD_INT 1
16838: PPUSH
16839: CALL_OW 322
// SetTech ( tech_tech2 , side , state_enabled ) ;
16843: LD_INT 49
16845: PPUSH
16846: LD_VAR 0 3
16850: PPUSH
16851: LD_INT 1
16853: PPUSH
16854: CALL_OW 322
// SetTech ( tech_gatling , side , state_enabled ) ;
16858: LD_INT 69
16860: PPUSH
16861: LD_VAR 0 3
16865: PPUSH
16866: LD_INT 1
16868: PPUSH
16869: CALL_OW 322
// SetTech ( tech_gun , side , state_enabled ) ;
16873: LD_INT 39
16875: PPUSH
16876: LD_VAR 0 3
16880: PPUSH
16881: LD_INT 1
16883: PPUSH
16884: CALL_OW 322
// SetTech ( tech_advmet , side , state_enabled ) ;
16888: LD_INT 34
16890: PPUSH
16891: LD_VAR 0 3
16895: PPUSH
16896: LD_INT 1
16898: PPUSH
16899: CALL_OW 322
// SetTech ( tech_explos , side , state_enabled ) ;
16903: LD_INT 42
16905: PPUSH
16906: LD_VAR 0 3
16910: PPUSH
16911: LD_INT 1
16913: PPUSH
16914: CALL_OW 322
// SetTech ( tech_bazooka , side , state_enabled ) ;
16918: LD_INT 44
16920: PPUSH
16921: LD_VAR 0 3
16925: PPUSH
16926: LD_INT 1
16928: PPUSH
16929: CALL_OW 322
// SetTech ( tech_mortar , side , state_enabled ) ;
16933: LD_INT 41
16935: PPUSH
16936: LD_VAR 0 3
16940: PPUSH
16941: LD_INT 1
16943: PPUSH
16944: CALL_OW 322
// SetTech ( tech_selfdest , side , state_enabled ) ;
16948: LD_INT 43
16950: PPUSH
16951: LD_VAR 0 3
16955: PPUSH
16956: LD_INT 1
16958: PPUSH
16959: CALL_OW 322
// SetTech ( tech_flame , side , state_enabled ) ;
16963: LD_INT 70
16965: PPUSH
16966: LD_VAR 0 3
16970: PPUSH
16971: LD_INT 1
16973: PPUSH
16974: CALL_OW 322
// SetTech ( tech_weap1 , side , state_enabled ) ;
16978: LD_INT 51
16980: PPUSH
16981: LD_VAR 0 3
16985: PPUSH
16986: LD_INT 1
16988: PPUSH
16989: CALL_OW 322
// SetTech ( tech_weap2 , side , state_enabled ) ;
16993: LD_INT 52
16995: PPUSH
16996: LD_VAR 0 3
17000: PPUSH
17001: LD_INT 1
17003: PPUSH
17004: CALL_OW 322
// SetTech ( tech_radar , side , state_enabled ) ;
17008: LD_INT 6
17010: PPUSH
17011: LD_VAR 0 3
17015: PPUSH
17016: LD_INT 1
17018: PPUSH
17019: CALL_OW 322
// SetTech ( tech_remcont , side , state_enabled ) ;
17023: LD_INT 15
17025: PPUSH
17026: LD_VAR 0 3
17030: PPUSH
17031: LD_INT 1
17033: PPUSH
17034: CALL_OW 322
// SetTech ( tech_matdet , side , state_enabled ) ;
17038: LD_INT 7
17040: PPUSH
17041: LD_VAR 0 3
17045: PPUSH
17046: LD_INT 1
17048: PPUSH
17049: CALL_OW 322
// SetTech ( tech_lassight , side , state_enabled ) ;
17053: LD_INT 12
17055: PPUSH
17056: LD_VAR 0 3
17060: PPUSH
17061: LD_INT 1
17063: PPUSH
17064: CALL_OW 322
// SetTech ( tech_remcharge , side , state_enabled ) ;
17068: LD_INT 18
17070: PPUSH
17071: LD_VAR 0 3
17075: PPUSH
17076: LD_INT 1
17078: PPUSH
17079: CALL_OW 322
// SetTech ( tech_opto1 , side , state_enabled ) ;
17083: LD_INT 60
17085: PPUSH
17086: LD_VAR 0 3
17090: PPUSH
17091: LD_INT 1
17093: PPUSH
17094: CALL_OW 322
// SetTech ( tech_matpred , side , state_enabled ) ;
17098: LD_INT 9
17100: PPUSH
17101: LD_VAR 0 3
17105: PPUSH
17106: LD_INT 1
17108: PPUSH
17109: CALL_OW 322
// SetTech ( tech_taufield , side , state_enabled ) ;
17113: LD_INT 30
17115: PPUSH
17116: LD_VAR 0 3
17120: PPUSH
17121: LD_INT 1
17123: PPUSH
17124: CALL_OW 322
// SetTech ( tech_limteleport , side , state_enabled ) ;
17128: LD_INT 37
17130: PPUSH
17131: LD_VAR 0 3
17135: PPUSH
17136: LD_INT 1
17138: PPUSH
17139: CALL_OW 322
// SetTech ( tech_stimdrugs , side , state_enabled ) ;
17143: LD_INT 5
17145: PPUSH
17146: LD_VAR 0 3
17150: PPUSH
17151: LD_INT 1
17153: PPUSH
17154: CALL_OW 322
// SetTech ( tech_bio1 , side , state_enabled ) ;
17158: LD_INT 66
17160: PPUSH
17161: LD_VAR 0 3
17165: PPUSH
17166: LD_INT 1
17168: PPUSH
17169: CALL_OW 322
// SetTech ( tech_sibpow , side , state_enabled ) ;
17173: LD_INT 21
17175: PPUSH
17176: LD_VAR 0 3
17180: PPUSH
17181: LD_INT 1
17183: PPUSH
17184: CALL_OW 322
// SetTech ( tech_sibeng , side , state_enabled ) ;
17188: LD_INT 22
17190: PPUSH
17191: LD_VAR 0 3
17195: PPUSH
17196: LD_INT 1
17198: PPUSH
17199: CALL_OW 322
// SetTech ( tech_sib1 , side , state_enabled ) ;
17203: LD_INT 54
17205: PPUSH
17206: LD_VAR 0 3
17210: PPUSH
17211: LD_INT 1
17213: PPUSH
17214: CALL_OW 322
// SetRestrict ( b_depot , side , true ) ;
17218: LD_INT 0
17220: PPUSH
17221: LD_VAR 0 3
17225: PPUSH
17226: LD_INT 1
17228: PPUSH
17229: CALL_OW 324
// SetRestrict ( b_warehouse , side , true ) ;
17233: LD_INT 1
17235: PPUSH
17236: LD_VAR 0 3
17240: PPUSH
17241: LD_INT 1
17243: PPUSH
17244: CALL_OW 324
// SetRestrict ( b_workshop , side , true ) ;
17248: LD_INT 2
17250: PPUSH
17251: LD_VAR 0 3
17255: PPUSH
17256: LD_INT 1
17258: PPUSH
17259: CALL_OW 324
// SetRestrict ( b_factory , side , true ) ;
17263: LD_INT 3
17265: PPUSH
17266: LD_VAR 0 3
17270: PPUSH
17271: LD_INT 1
17273: PPUSH
17274: CALL_OW 324
// SetRestrict ( b_armoury , side , true ) ;
17278: LD_INT 4
17280: PPUSH
17281: LD_VAR 0 3
17285: PPUSH
17286: LD_INT 1
17288: PPUSH
17289: CALL_OW 324
// SetRestrict ( b_barracks , side , true ) ;
17293: LD_INT 5
17295: PPUSH
17296: LD_VAR 0 3
17300: PPUSH
17301: LD_INT 1
17303: PPUSH
17304: CALL_OW 324
// SetRestrict ( b_lab , side , true ) ;
17308: LD_INT 6
17310: PPUSH
17311: LD_VAR 0 3
17315: PPUSH
17316: LD_INT 1
17318: PPUSH
17319: CALL_OW 324
// SetRestrict ( b_lab_half , side , true ) ;
17323: LD_INT 7
17325: PPUSH
17326: LD_VAR 0 3
17330: PPUSH
17331: LD_INT 1
17333: PPUSH
17334: CALL_OW 324
// SetRestrict ( b_lab_full , side , true ) ;
17338: LD_INT 8
17340: PPUSH
17341: LD_VAR 0 3
17345: PPUSH
17346: LD_INT 1
17348: PPUSH
17349: CALL_OW 324
// SetRestrict ( b_lab_weapon , side , true ) ;
17353: LD_INT 10
17355: PPUSH
17356: LD_VAR 0 3
17360: PPUSH
17361: LD_INT 1
17363: PPUSH
17364: CALL_OW 324
// SetRestrict ( b_lab_siberium , side , true ) ;
17368: LD_INT 11
17370: PPUSH
17371: LD_VAR 0 3
17375: PPUSH
17376: LD_INT 1
17378: PPUSH
17379: CALL_OW 324
// SetRestrict ( b_lab_computer , side , true ) ;
17383: LD_INT 12
17385: PPUSH
17386: LD_VAR 0 3
17390: PPUSH
17391: LD_INT 1
17393: PPUSH
17394: CALL_OW 324
// SetRestrict ( b_lab_biological , side , true ) ;
17398: LD_INT 13
17400: PPUSH
17401: LD_VAR 0 3
17405: PPUSH
17406: LD_INT 1
17408: PPUSH
17409: CALL_OW 324
// SetRestrict ( b_lab_spacetime , side , true ) ;
17413: LD_INT 14
17415: PPUSH
17416: LD_VAR 0 3
17420: PPUSH
17421: LD_INT 1
17423: PPUSH
17424: CALL_OW 324
// SetRestrict ( b_lab_opto , side , true ) ;
17428: LD_INT 15
17430: PPUSH
17431: LD_VAR 0 3
17435: PPUSH
17436: LD_INT 1
17438: PPUSH
17439: CALL_OW 324
// SetRestrict ( b_ext_track , side , true ) ;
17443: LD_INT 16
17445: PPUSH
17446: LD_VAR 0 3
17450: PPUSH
17451: LD_INT 1
17453: PPUSH
17454: CALL_OW 324
// SetRestrict ( b_ext_gun , side , true ) ;
17458: LD_INT 17
17460: PPUSH
17461: LD_VAR 0 3
17465: PPUSH
17466: LD_INT 1
17468: PPUSH
17469: CALL_OW 324
// SetRestrict ( b_ext_noncombat , side , true ) ;
17473: LD_INT 19
17475: PPUSH
17476: LD_VAR 0 3
17480: PPUSH
17481: LD_INT 1
17483: PPUSH
17484: CALL_OW 324
// SetRestrict ( b_ext_radar , side , true ) ;
17488: LD_INT 20
17490: PPUSH
17491: LD_VAR 0 3
17495: PPUSH
17496: LD_INT 1
17498: PPUSH
17499: CALL_OW 324
// SetRestrict ( b_ext_siberium , side , true ) ;
17503: LD_INT 21
17505: PPUSH
17506: LD_VAR 0 3
17510: PPUSH
17511: LD_INT 1
17513: PPUSH
17514: CALL_OW 324
// SetRestrict ( b_ext_stitch , side , true ) ;
17518: LD_INT 23
17520: PPUSH
17521: LD_VAR 0 3
17525: PPUSH
17526: LD_INT 1
17528: PPUSH
17529: CALL_OW 324
// SetRestrict ( b_oil_power , side , true ) ;
17533: LD_INT 26
17535: PPUSH
17536: LD_VAR 0 3
17540: PPUSH
17541: LD_INT 1
17543: PPUSH
17544: CALL_OW 324
// SetRestrict ( b_solar_power , side , true ) ;
17548: LD_INT 27
17550: PPUSH
17551: LD_VAR 0 3
17555: PPUSH
17556: LD_INT 1
17558: PPUSH
17559: CALL_OW 324
// SetRestrict ( b_siberite_power , side , true ) ;
17563: LD_INT 28
17565: PPUSH
17566: LD_VAR 0 3
17570: PPUSH
17571: LD_INT 1
17573: PPUSH
17574: CALL_OW 324
// SetRestrict ( b_oil_mine , side , true ) ;
17578: LD_INT 29
17580: PPUSH
17581: LD_VAR 0 3
17585: PPUSH
17586: LD_INT 1
17588: PPUSH
17589: CALL_OW 324
// SetRestrict ( b_siberite_mine , side , true ) ;
17593: LD_INT 30
17595: PPUSH
17596: LD_VAR 0 3
17600: PPUSH
17601: LD_INT 1
17603: PPUSH
17604: CALL_OW 324
// SetRestrict ( b_breastwork , side , true ) ;
17608: LD_INT 31
17610: PPUSH
17611: LD_VAR 0 3
17615: PPUSH
17616: LD_INT 1
17618: PPUSH
17619: CALL_OW 324
// SetRestrict ( b_bunker , side , true ) ;
17623: LD_INT 32
17625: PPUSH
17626: LD_VAR 0 3
17630: PPUSH
17631: LD_INT 1
17633: PPUSH
17634: CALL_OW 324
// SetRestrict ( b_control_tower , side , true ) ;
17638: LD_INT 36
17640: PPUSH
17641: LD_VAR 0 3
17645: PPUSH
17646: LD_INT 1
17648: PPUSH
17649: CALL_OW 324
// end ; 5 :
17653: GO 19784
17655: LD_INT 5
17657: DOUBLE
17658: EQUAL
17659: IFTRUE 17663
17661: GO 18776
17663: POP
// begin SetTech ( tech_solpow , side , state_enabled ) ;
17664: LD_INT 35
17666: PPUSH
17667: LD_VAR 0 3
17671: PPUSH
17672: LD_INT 1
17674: PPUSH
17675: CALL_OW 322
// SetTech ( tech_soleng , side , state_enabled ) ;
17679: LD_INT 45
17681: PPUSH
17682: LD_VAR 0 3
17686: PPUSH
17687: LD_INT 1
17689: PPUSH
17690: CALL_OW 322
// SetTech ( tech_oilpow , side , state_enabled ) ;
17694: LD_INT 46
17696: PPUSH
17697: LD_VAR 0 3
17701: PPUSH
17702: LD_INT 1
17704: PPUSH
17705: CALL_OW 322
// SetTech ( tech_oileng , side , state_enabled ) ;
17709: LD_INT 47
17711: PPUSH
17712: LD_VAR 0 3
17716: PPUSH
17717: LD_INT 1
17719: PPUSH
17720: CALL_OW 322
// SetTech ( tech_apelang , side , state_enabled ) ;
17724: LD_INT 1
17726: PPUSH
17727: LD_VAR 0 3
17731: PPUSH
17732: LD_INT 1
17734: PPUSH
17735: CALL_OW 322
// SetTech ( tech_apepsych , side , state_enabled ) ;
17739: LD_INT 2
17741: PPUSH
17742: LD_VAR 0 3
17746: PPUSH
17747: LD_INT 1
17749: PPUSH
17750: CALL_OW 322
// SetTech ( tech_apeagres , side , state_enabled ) ;
17754: LD_INT 11
17756: PPUSH
17757: LD_VAR 0 3
17761: PPUSH
17762: LD_INT 1
17764: PPUSH
17765: CALL_OW 322
// SetTech ( tech_sibdet , side , state_enabled ) ;
17769: LD_INT 20
17771: PPUSH
17772: LD_VAR 0 3
17776: PPUSH
17777: LD_INT 1
17779: PPUSH
17780: CALL_OW 322
// SetTech ( tech_tech1 , side , state_enabled ) ;
17784: LD_INT 48
17786: PPUSH
17787: LD_VAR 0 3
17791: PPUSH
17792: LD_INT 1
17794: PPUSH
17795: CALL_OW 322
// SetTech ( tech_tech2 , side , state_enabled ) ;
17799: LD_INT 49
17801: PPUSH
17802: LD_VAR 0 3
17806: PPUSH
17807: LD_INT 1
17809: PPUSH
17810: CALL_OW 322
// SetTech ( tech_gatling , side , state_enabled ) ;
17814: LD_INT 69
17816: PPUSH
17817: LD_VAR 0 3
17821: PPUSH
17822: LD_INT 1
17824: PPUSH
17825: CALL_OW 322
// SetTech ( tech_gun , side , state_enabled ) ;
17829: LD_INT 39
17831: PPUSH
17832: LD_VAR 0 3
17836: PPUSH
17837: LD_INT 1
17839: PPUSH
17840: CALL_OW 322
// SetTech ( tech_advmet , side , state_enabled ) ;
17844: LD_INT 34
17846: PPUSH
17847: LD_VAR 0 3
17851: PPUSH
17852: LD_INT 1
17854: PPUSH
17855: CALL_OW 322
// SetTech ( tech_explos , side , state_enabled ) ;
17859: LD_INT 42
17861: PPUSH
17862: LD_VAR 0 3
17866: PPUSH
17867: LD_INT 1
17869: PPUSH
17870: CALL_OW 322
// SetTech ( tech_bazooka , side , state_enabled ) ;
17874: LD_INT 44
17876: PPUSH
17877: LD_VAR 0 3
17881: PPUSH
17882: LD_INT 1
17884: PPUSH
17885: CALL_OW 322
// SetTech ( tech_mortar , side , state_enabled ) ;
17889: LD_INT 41
17891: PPUSH
17892: LD_VAR 0 3
17896: PPUSH
17897: LD_INT 1
17899: PPUSH
17900: CALL_OW 322
// SetTech ( tech_rocket , side , state_enabled ) ;
17904: LD_INT 40
17906: PPUSH
17907: LD_VAR 0 3
17911: PPUSH
17912: LD_INT 1
17914: PPUSH
17915: CALL_OW 322
// SetTech ( tech_selfdest , side , state_enabled ) ;
17919: LD_INT 43
17921: PPUSH
17922: LD_VAR 0 3
17926: PPUSH
17927: LD_INT 1
17929: PPUSH
17930: CALL_OW 322
// SetTech ( tech_flame , side , state_enabled ) ;
17934: LD_INT 70
17936: PPUSH
17937: LD_VAR 0 3
17941: PPUSH
17942: LD_INT 1
17944: PPUSH
17945: CALL_OW 322
// SetTech ( tech_weap1 , side , state_enabled ) ;
17949: LD_INT 51
17951: PPUSH
17952: LD_VAR 0 3
17956: PPUSH
17957: LD_INT 1
17959: PPUSH
17960: CALL_OW 322
// SetTech ( tech_weap2 , side , state_enabled ) ;
17964: LD_INT 52
17966: PPUSH
17967: LD_VAR 0 3
17971: PPUSH
17972: LD_INT 1
17974: PPUSH
17975: CALL_OW 322
// SetTech ( tech_radar , side , state_enabled ) ;
17979: LD_INT 6
17981: PPUSH
17982: LD_VAR 0 3
17986: PPUSH
17987: LD_INT 1
17989: PPUSH
17990: CALL_OW 322
// SetTech ( tech_remcont , side , state_enabled ) ;
17994: LD_INT 15
17996: PPUSH
17997: LD_VAR 0 3
18001: PPUSH
18002: LD_INT 1
18004: PPUSH
18005: CALL_OW 322
// SetTech ( tech_matdet , side , state_enabled ) ;
18009: LD_INT 7
18011: PPUSH
18012: LD_VAR 0 3
18016: PPUSH
18017: LD_INT 1
18019: PPUSH
18020: CALL_OW 322
// SetTech ( tech_lassight , side , state_enabled ) ;
18024: LD_INT 12
18026: PPUSH
18027: LD_VAR 0 3
18031: PPUSH
18032: LD_INT 1
18034: PPUSH
18035: CALL_OW 322
// SetTech ( tech_hidcam , side , state_enabled ) ;
18039: LD_INT 17
18041: PPUSH
18042: LD_VAR 0 3
18046: PPUSH
18047: LD_INT 1
18049: PPUSH
18050: CALL_OW 322
// SetTech ( tech_remcharge , side , state_enabled ) ;
18054: LD_INT 18
18056: PPUSH
18057: LD_VAR 0 3
18061: PPUSH
18062: LD_INT 1
18064: PPUSH
18065: CALL_OW 322
// SetTech ( tech_opto1 , side , state_enabled ) ;
18069: LD_INT 60
18071: PPUSH
18072: LD_VAR 0 3
18076: PPUSH
18077: LD_INT 1
18079: PPUSH
18080: CALL_OW 322
// SetTech ( tech_ai , side , state_enabled ) ;
18084: LD_INT 32
18086: PPUSH
18087: LD_VAR 0 3
18091: PPUSH
18092: LD_INT 1
18094: PPUSH
18095: CALL_OW 322
// SetTech ( tech_matpred , side , state_enabled ) ;
18099: LD_INT 9
18101: PPUSH
18102: LD_VAR 0 3
18106: PPUSH
18107: LD_INT 1
18109: PPUSH
18110: CALL_OW 322
// SetTech ( tech_comp1 , side , state_enabled ) ;
18114: LD_INT 57
18116: PPUSH
18117: LD_VAR 0 3
18121: PPUSH
18122: LD_INT 1
18124: PPUSH
18125: CALL_OW 322
// SetTech ( tech_taufield , side , state_enabled ) ;
18129: LD_INT 30
18131: PPUSH
18132: LD_VAR 0 3
18136: PPUSH
18137: LD_INT 1
18139: PPUSH
18140: CALL_OW 322
// SetTech ( tech_limteleport , side , state_enabled ) ;
18144: LD_INT 37
18146: PPUSH
18147: LD_VAR 0 3
18151: PPUSH
18152: LD_INT 1
18154: PPUSH
18155: CALL_OW 322
// SetTech ( tech_st1 , side , state_enabled ) ;
18159: LD_INT 63
18161: PPUSH
18162: LD_VAR 0 3
18166: PPUSH
18167: LD_INT 1
18169: PPUSH
18170: CALL_OW 322
// SetTech ( tech_apeneural , side , state_enabled ) ;
18174: LD_INT 3
18176: PPUSH
18177: LD_VAR 0 3
18181: PPUSH
18182: LD_INT 1
18184: PPUSH
18185: CALL_OW 322
// SetTech ( tech_apebrain , side , state_enabled ) ;
18189: LD_INT 4
18191: PPUSH
18192: LD_VAR 0 3
18196: PPUSH
18197: LD_INT 1
18199: PPUSH
18200: CALL_OW 322
// SetTech ( tech_stimdrugs , side , state_enabled ) ;
18204: LD_INT 5
18206: PPUSH
18207: LD_VAR 0 3
18211: PPUSH
18212: LD_INT 1
18214: PPUSH
18215: CALL_OW 322
// SetTech ( tech_bio1 , side , state_enabled ) ;
18219: LD_INT 66
18221: PPUSH
18222: LD_VAR 0 3
18226: PPUSH
18227: LD_INT 1
18229: PPUSH
18230: CALL_OW 322
// SetTech ( tech_sibpow , side , state_enabled ) ;
18234: LD_INT 21
18236: PPUSH
18237: LD_VAR 0 3
18241: PPUSH
18242: LD_INT 1
18244: PPUSH
18245: CALL_OW 322
// SetTech ( tech_sibeng , side , state_enabled ) ;
18249: LD_INT 22
18251: PPUSH
18252: LD_VAR 0 3
18256: PPUSH
18257: LD_INT 1
18259: PPUSH
18260: CALL_OW 322
// SetTech ( tech_sibloc , side , state_enabled ) ;
18264: LD_INT 19
18266: PPUSH
18267: LD_VAR 0 3
18271: PPUSH
18272: LD_INT 1
18274: PPUSH
18275: CALL_OW 322
// SetTech ( tech_sib1 , side , state_enabled ) ;
18279: LD_INT 54
18281: PPUSH
18282: LD_VAR 0 3
18286: PPUSH
18287: LD_INT 1
18289: PPUSH
18290: CALL_OW 322
// SetTech ( tech_sib2 , side , state_enabled ) ;
18294: LD_INT 55
18296: PPUSH
18297: LD_VAR 0 3
18301: PPUSH
18302: LD_INT 1
18304: PPUSH
18305: CALL_OW 322
// SetRestrict ( b_depot , side , true ) ;
18309: LD_INT 0
18311: PPUSH
18312: LD_VAR 0 3
18316: PPUSH
18317: LD_INT 1
18319: PPUSH
18320: CALL_OW 324
// SetRestrict ( b_warehouse , side , true ) ;
18324: LD_INT 1
18326: PPUSH
18327: LD_VAR 0 3
18331: PPUSH
18332: LD_INT 1
18334: PPUSH
18335: CALL_OW 324
// SetRestrict ( b_workshop , side , true ) ;
18339: LD_INT 2
18341: PPUSH
18342: LD_VAR 0 3
18346: PPUSH
18347: LD_INT 1
18349: PPUSH
18350: CALL_OW 324
// SetRestrict ( b_factory , side , true ) ;
18354: LD_INT 3
18356: PPUSH
18357: LD_VAR 0 3
18361: PPUSH
18362: LD_INT 1
18364: PPUSH
18365: CALL_OW 324
// SetRestrict ( b_armoury , side , true ) ;
18369: LD_INT 4
18371: PPUSH
18372: LD_VAR 0 3
18376: PPUSH
18377: LD_INT 1
18379: PPUSH
18380: CALL_OW 324
// SetRestrict ( b_barracks , side , true ) ;
18384: LD_INT 5
18386: PPUSH
18387: LD_VAR 0 3
18391: PPUSH
18392: LD_INT 1
18394: PPUSH
18395: CALL_OW 324
// SetRestrict ( b_lab , side , true ) ;
18399: LD_INT 6
18401: PPUSH
18402: LD_VAR 0 3
18406: PPUSH
18407: LD_INT 1
18409: PPUSH
18410: CALL_OW 324
// SetRestrict ( b_lab_half , side , true ) ;
18414: LD_INT 7
18416: PPUSH
18417: LD_VAR 0 3
18421: PPUSH
18422: LD_INT 1
18424: PPUSH
18425: CALL_OW 324
// SetRestrict ( b_lab_full , side , true ) ;
18429: LD_INT 8
18431: PPUSH
18432: LD_VAR 0 3
18436: PPUSH
18437: LD_INT 1
18439: PPUSH
18440: CALL_OW 324
// SetRestrict ( b_lab_weapon , side , true ) ;
18444: LD_INT 10
18446: PPUSH
18447: LD_VAR 0 3
18451: PPUSH
18452: LD_INT 1
18454: PPUSH
18455: CALL_OW 324
// SetRestrict ( b_lab_siberium , side , true ) ;
18459: LD_INT 11
18461: PPUSH
18462: LD_VAR 0 3
18466: PPUSH
18467: LD_INT 1
18469: PPUSH
18470: CALL_OW 324
// SetRestrict ( b_lab_computer , side , true ) ;
18474: LD_INT 12
18476: PPUSH
18477: LD_VAR 0 3
18481: PPUSH
18482: LD_INT 1
18484: PPUSH
18485: CALL_OW 324
// SetRestrict ( b_lab_biological , side , true ) ;
18489: LD_INT 13
18491: PPUSH
18492: LD_VAR 0 3
18496: PPUSH
18497: LD_INT 1
18499: PPUSH
18500: CALL_OW 324
// SetRestrict ( b_lab_spacetime , side , true ) ;
18504: LD_INT 14
18506: PPUSH
18507: LD_VAR 0 3
18511: PPUSH
18512: LD_INT 1
18514: PPUSH
18515: CALL_OW 324
// SetRestrict ( b_lab_opto , side , true ) ;
18519: LD_INT 15
18521: PPUSH
18522: LD_VAR 0 3
18526: PPUSH
18527: LD_INT 1
18529: PPUSH
18530: CALL_OW 324
// SetRestrict ( b_ext_track , side , true ) ;
18534: LD_INT 16
18536: PPUSH
18537: LD_VAR 0 3
18541: PPUSH
18542: LD_INT 1
18544: PPUSH
18545: CALL_OW 324
// SetRestrict ( b_ext_gun , side , true ) ;
18549: LD_INT 17
18551: PPUSH
18552: LD_VAR 0 3
18556: PPUSH
18557: LD_INT 1
18559: PPUSH
18560: CALL_OW 324
// SetRestrict ( b_ext_rocket , side , true ) ;
18564: LD_INT 18
18566: PPUSH
18567: LD_VAR 0 3
18571: PPUSH
18572: LD_INT 1
18574: PPUSH
18575: CALL_OW 324
// SetRestrict ( b_ext_noncombat , side , true ) ;
18579: LD_INT 19
18581: PPUSH
18582: LD_VAR 0 3
18586: PPUSH
18587: LD_INT 1
18589: PPUSH
18590: CALL_OW 324
// SetRestrict ( b_ext_radar , side , true ) ;
18594: LD_INT 20
18596: PPUSH
18597: LD_VAR 0 3
18601: PPUSH
18602: LD_INT 1
18604: PPUSH
18605: CALL_OW 324
// SetRestrict ( b_ext_siberium , side , true ) ;
18609: LD_INT 21
18611: PPUSH
18612: LD_VAR 0 3
18616: PPUSH
18617: LD_INT 1
18619: PPUSH
18620: CALL_OW 324
// SetRestrict ( b_ext_stitch , side , true ) ;
18624: LD_INT 23
18626: PPUSH
18627: LD_VAR 0 3
18631: PPUSH
18632: LD_INT 1
18634: PPUSH
18635: CALL_OW 324
// SetRestrict ( b_oil_power , side , true ) ;
18639: LD_INT 26
18641: PPUSH
18642: LD_VAR 0 3
18646: PPUSH
18647: LD_INT 1
18649: PPUSH
18650: CALL_OW 324
// SetRestrict ( b_solar_power , side , true ) ;
18654: LD_INT 27
18656: PPUSH
18657: LD_VAR 0 3
18661: PPUSH
18662: LD_INT 1
18664: PPUSH
18665: CALL_OW 324
// SetRestrict ( b_siberite_power , side , true ) ;
18669: LD_INT 28
18671: PPUSH
18672: LD_VAR 0 3
18676: PPUSH
18677: LD_INT 1
18679: PPUSH
18680: CALL_OW 324
// SetRestrict ( b_oil_mine , side , true ) ;
18684: LD_INT 29
18686: PPUSH
18687: LD_VAR 0 3
18691: PPUSH
18692: LD_INT 1
18694: PPUSH
18695: CALL_OW 324
// SetRestrict ( b_siberite_mine , side , true ) ;
18699: LD_INT 30
18701: PPUSH
18702: LD_VAR 0 3
18706: PPUSH
18707: LD_INT 1
18709: PPUSH
18710: CALL_OW 324
// SetRestrict ( b_breastwork , side , true ) ;
18714: LD_INT 31
18716: PPUSH
18717: LD_VAR 0 3
18721: PPUSH
18722: LD_INT 1
18724: PPUSH
18725: CALL_OW 324
// SetRestrict ( b_bunker , side , true ) ;
18729: LD_INT 32
18731: PPUSH
18732: LD_VAR 0 3
18736: PPUSH
18737: LD_INT 1
18739: PPUSH
18740: CALL_OW 324
// SetRestrict ( b_turret , side , true ) ;
18744: LD_INT 33
18746: PPUSH
18747: LD_VAR 0 3
18751: PPUSH
18752: LD_INT 1
18754: PPUSH
18755: CALL_OW 324
// SetRestrict ( b_control_tower , side , true ) ;
18759: LD_INT 36
18761: PPUSH
18762: LD_VAR 0 3
18766: PPUSH
18767: LD_INT 1
18769: PPUSH
18770: CALL_OW 324
// end ; 6 :
18774: GO 19784
18776: LD_INT 6
18778: DOUBLE
18779: EQUAL
18780: IFTRUE 18784
18782: GO 19709
18784: POP
// begin SetTech ( tech_solpow , side , state_enabled ) ;
18785: LD_INT 35
18787: PPUSH
18788: LD_VAR 0 3
18792: PPUSH
18793: LD_INT 1
18795: PPUSH
18796: CALL_OW 322
// SetTech ( tech_soleng , side , state_enabled ) ;
18800: LD_INT 45
18802: PPUSH
18803: LD_VAR 0 3
18807: PPUSH
18808: LD_INT 1
18810: PPUSH
18811: CALL_OW 322
// SetTech ( tech_oilpow , side , state_enabled ) ;
18815: LD_INT 46
18817: PPUSH
18818: LD_VAR 0 3
18822: PPUSH
18823: LD_INT 1
18825: PPUSH
18826: CALL_OW 322
// SetTech ( tech_oileng , side , state_enabled ) ;
18830: LD_INT 47
18832: PPUSH
18833: LD_VAR 0 3
18837: PPUSH
18838: LD_INT 1
18840: PPUSH
18841: CALL_OW 322
// SetTech ( tech_apelang , side , state_enabled ) ;
18845: LD_INT 1
18847: PPUSH
18848: LD_VAR 0 3
18852: PPUSH
18853: LD_INT 1
18855: PPUSH
18856: CALL_OW 322
// SetTech ( tech_apepsych , side , state_enabled ) ;
18860: LD_INT 2
18862: PPUSH
18863: LD_VAR 0 3
18867: PPUSH
18868: LD_INT 1
18870: PPUSH
18871: CALL_OW 322
// SetTech ( tech_apeagres , side , state_enabled ) ;
18875: LD_INT 11
18877: PPUSH
18878: LD_VAR 0 3
18882: PPUSH
18883: LD_INT 1
18885: PPUSH
18886: CALL_OW 322
// SetTech ( tech_sibdet , side , state_enabled ) ;
18890: LD_INT 20
18892: PPUSH
18893: LD_VAR 0 3
18897: PPUSH
18898: LD_INT 1
18900: PPUSH
18901: CALL_OW 322
// SetTech ( tech_tech1 , side , state_enabled ) ;
18905: LD_INT 48
18907: PPUSH
18908: LD_VAR 0 3
18912: PPUSH
18913: LD_INT 1
18915: PPUSH
18916: CALL_OW 322
// SetTech ( tech_tech2 , side , state_enabled ) ;
18920: LD_INT 49
18922: PPUSH
18923: LD_VAR 0 3
18927: PPUSH
18928: LD_INT 1
18930: PPUSH
18931: CALL_OW 322
// SetTech ( tech_tech3 , side , state_enabled ) ;
18935: LD_INT 50
18937: PPUSH
18938: LD_VAR 0 3
18942: PPUSH
18943: LD_INT 1
18945: PPUSH
18946: CALL_OW 322
// SetTech ( tech_gatling , side , state_enabled ) ;
18950: LD_INT 69
18952: PPUSH
18953: LD_VAR 0 3
18957: PPUSH
18958: LD_INT 1
18960: PPUSH
18961: CALL_OW 322
// SetTech ( tech_gun , side , state_enabled ) ;
18965: LD_INT 39
18967: PPUSH
18968: LD_VAR 0 3
18972: PPUSH
18973: LD_INT 1
18975: PPUSH
18976: CALL_OW 322
// SetTech ( tech_advmet , side , state_enabled ) ;
18980: LD_INT 34
18982: PPUSH
18983: LD_VAR 0 3
18987: PPUSH
18988: LD_INT 1
18990: PPUSH
18991: CALL_OW 322
// SetTech ( tech_explos , side , state_enabled ) ;
18995: LD_INT 42
18997: PPUSH
18998: LD_VAR 0 3
19002: PPUSH
19003: LD_INT 1
19005: PPUSH
19006: CALL_OW 322
// SetTech ( tech_bazooka , side , state_enabled ) ;
19010: LD_INT 44
19012: PPUSH
19013: LD_VAR 0 3
19017: PPUSH
19018: LD_INT 1
19020: PPUSH
19021: CALL_OW 322
// SetTech ( tech_mortar , side , state_enabled ) ;
19025: LD_INT 41
19027: PPUSH
19028: LD_VAR 0 3
19032: PPUSH
19033: LD_INT 1
19035: PPUSH
19036: CALL_OW 322
// SetTech ( tech_soporific , side , state_enabled ) ;
19040: LD_INT 13
19042: PPUSH
19043: LD_VAR 0 3
19047: PPUSH
19048: LD_INT 1
19050: PPUSH
19051: CALL_OW 322
// SetTech ( tech_rocket , side , state_enabled ) ;
19055: LD_INT 40
19057: PPUSH
19058: LD_VAR 0 3
19062: PPUSH
19063: LD_INT 1
19065: PPUSH
19066: CALL_OW 322
// SetTech ( tech_selfdest , side , state_enabled ) ;
19070: LD_INT 43
19072: PPUSH
19073: LD_VAR 0 3
19077: PPUSH
19078: LD_INT 1
19080: PPUSH
19081: CALL_OW 322
// SetTech ( tech_flame , side , state_enabled ) ;
19085: LD_INT 70
19087: PPUSH
19088: LD_VAR 0 3
19092: PPUSH
19093: LD_INT 1
19095: PPUSH
19096: CALL_OW 322
// SetTech ( tech_behemoth , side , state_enabled ) ;
19100: LD_INT 23
19102: PPUSH
19103: LD_VAR 0 3
19107: PPUSH
19108: LD_INT 1
19110: PPUSH
19111: CALL_OW 322
// SetTech ( tech_weap1 , side , state_enabled ) ;
19115: LD_INT 51
19117: PPUSH
19118: LD_VAR 0 3
19122: PPUSH
19123: LD_INT 1
19125: PPUSH
19126: CALL_OW 322
// SetTech ( tech_weap2 , side , state_enabled ) ;
19130: LD_INT 52
19132: PPUSH
19133: LD_VAR 0 3
19137: PPUSH
19138: LD_INT 1
19140: PPUSH
19141: CALL_OW 322
// SetTech ( tech_radar , side , state_enabled ) ;
19145: LD_INT 6
19147: PPUSH
19148: LD_VAR 0 3
19152: PPUSH
19153: LD_INT 1
19155: PPUSH
19156: CALL_OW 322
// SetTech ( tech_remcont , side , state_enabled ) ;
19160: LD_INT 15
19162: PPUSH
19163: LD_VAR 0 3
19167: PPUSH
19168: LD_INT 1
19170: PPUSH
19171: CALL_OW 322
// SetTech ( tech_matdet , side , state_enabled ) ;
19175: LD_INT 7
19177: PPUSH
19178: LD_VAR 0 3
19182: PPUSH
19183: LD_INT 1
19185: PPUSH
19186: CALL_OW 322
// SetTech ( tech_lassight , side , state_enabled ) ;
19190: LD_INT 12
19192: PPUSH
19193: LD_VAR 0 3
19197: PPUSH
19198: LD_INT 1
19200: PPUSH
19201: CALL_OW 322
// SetTech ( tech_laser , side , state_enabled ) ;
19205: LD_INT 10
19207: PPUSH
19208: LD_VAR 0 3
19212: PPUSH
19213: LD_INT 1
19215: PPUSH
19216: CALL_OW 322
// SetTech ( tech_hidcam , side , state_enabled ) ;
19220: LD_INT 17
19222: PPUSH
19223: LD_VAR 0 3
19227: PPUSH
19228: LD_INT 1
19230: PPUSH
19231: CALL_OW 322
// SetTech ( tech_remcharge , side , state_enabled ) ;
19235: LD_INT 18
19237: PPUSH
19238: LD_VAR 0 3
19242: PPUSH
19243: LD_INT 1
19245: PPUSH
19246: CALL_OW 322
// SetTech ( tech_opto1 , side , state_enabled ) ;
19250: LD_INT 60
19252: PPUSH
19253: LD_VAR 0 3
19257: PPUSH
19258: LD_INT 1
19260: PPUSH
19261: CALL_OW 322
// SetTech ( tech_opto2 , side , state_enabled ) ;
19265: LD_INT 61
19267: PPUSH
19268: LD_VAR 0 3
19272: PPUSH
19273: LD_INT 1
19275: PPUSH
19276: CALL_OW 322
// SetTech ( tech_ai , side , state_enabled ) ;
19280: LD_INT 32
19282: PPUSH
19283: LD_VAR 0 3
19287: PPUSH
19288: LD_INT 1
19290: PPUSH
19291: CALL_OW 322
// SetTech ( tech_advai , side , state_enabled ) ;
19295: LD_INT 27
19297: PPUSH
19298: LD_VAR 0 3
19302: PPUSH
19303: LD_INT 1
19305: PPUSH
19306: CALL_OW 322
// SetTech ( tech_advchassis , side , state_enabled ) ;
19310: LD_INT 36
19312: PPUSH
19313: LD_VAR 0 3
19317: PPUSH
19318: LD_INT 1
19320: PPUSH
19321: CALL_OW 322
// SetTech ( tech_virus , side , state_enabled ) ;
19325: LD_INT 33
19327: PPUSH
19328: LD_VAR 0 3
19332: PPUSH
19333: LD_INT 1
19335: PPUSH
19336: CALL_OW 322
// SetTech ( tech_matpred , side , state_enabled ) ;
19340: LD_INT 9
19342: PPUSH
19343: LD_VAR 0 3
19347: PPUSH
19348: LD_INT 1
19350: PPUSH
19351: CALL_OW 322
// SetTech ( tech_targteleport , side , state_enabled ) ;
19355: LD_INT 38
19357: PPUSH
19358: LD_VAR 0 3
19362: PPUSH
19363: LD_INT 1
19365: PPUSH
19366: CALL_OW 322
// SetTech ( tech_comp1 , side , state_enabled ) ;
19370: LD_INT 57
19372: PPUSH
19373: LD_VAR 0 3
19377: PPUSH
19378: LD_INT 1
19380: PPUSH
19381: CALL_OW 322
// SetTech ( tech_comp2 , side , state_enabled ) ;
19385: LD_INT 58
19387: PPUSH
19388: LD_VAR 0 3
19392: PPUSH
19393: LD_INT 1
19395: PPUSH
19396: CALL_OW 322
// SetTech ( tech_taurad , side , state_enabled ) ;
19400: LD_INT 28
19402: PPUSH
19403: LD_VAR 0 3
19407: PPUSH
19408: LD_INT 1
19410: PPUSH
19411: CALL_OW 322
// SetTech ( tech_spacanom , side , state_enabled ) ;
19415: LD_INT 29
19417: PPUSH
19418: LD_VAR 0 3
19422: PPUSH
19423: LD_INT 1
19425: PPUSH
19426: CALL_OW 322
// SetTech ( tech_taufield , side , state_enabled ) ;
19430: LD_INT 30
19432: PPUSH
19433: LD_VAR 0 3
19437: PPUSH
19438: LD_INT 1
19440: PPUSH
19441: CALL_OW 322
// SetTech ( tech_limteleport , side , state_enabled ) ;
19445: LD_INT 37
19447: PPUSH
19448: LD_VAR 0 3
19452: PPUSH
19453: LD_INT 1
19455: PPUSH
19456: CALL_OW 322
// SetTech ( tech_st1 , side , state_enabled ) ;
19460: LD_INT 63
19462: PPUSH
19463: LD_VAR 0 3
19467: PPUSH
19468: LD_INT 1
19470: PPUSH
19471: CALL_OW 322
// SetTech ( tech_st2 , side , state_enabled ) ;
19475: LD_INT 64
19477: PPUSH
19478: LD_VAR 0 3
19482: PPUSH
19483: LD_INT 1
19485: PPUSH
19486: CALL_OW 322
// SetTech ( tech_apeneural , side , state_enabled ) ;
19490: LD_INT 3
19492: PPUSH
19493: LD_VAR 0 3
19497: PPUSH
19498: LD_INT 1
19500: PPUSH
19501: CALL_OW 322
// SetTech ( tech_apebrain , side , state_enabled ) ;
19505: LD_INT 4
19507: PPUSH
19508: LD_VAR 0 3
19512: PPUSH
19513: LD_INT 1
19515: PPUSH
19516: CALL_OW 322
// SetTech ( tech_stimdrugs , side , state_enabled ) ;
19520: LD_INT 5
19522: PPUSH
19523: LD_VAR 0 3
19527: PPUSH
19528: LD_INT 1
19530: PPUSH
19531: CALL_OW 322
// SetTech ( tech_biodet , side , state_enabled ) ;
19535: LD_INT 8
19537: PPUSH
19538: LD_VAR 0 3
19542: PPUSH
19543: LD_INT 1
19545: PPUSH
19546: CALL_OW 322
// SetTech ( tech_bio1 , side , state_enabled ) ;
19550: LD_INT 66
19552: PPUSH
19553: LD_VAR 0 3
19557: PPUSH
19558: LD_INT 1
19560: PPUSH
19561: CALL_OW 322
// SetTech ( tech_bio2 , side , state_enabled ) ;
19565: LD_INT 67
19567: PPUSH
19568: LD_VAR 0 3
19572: PPUSH
19573: LD_INT 1
19575: PPUSH
19576: CALL_OW 322
// SetTech ( tech_sibpow , side , state_enabled ) ;
19580: LD_INT 21
19582: PPUSH
19583: LD_VAR 0 3
19587: PPUSH
19588: LD_INT 1
19590: PPUSH
19591: CALL_OW 322
// SetTech ( tech_sibeng , side , state_enabled ) ;
19595: LD_INT 22
19597: PPUSH
19598: LD_VAR 0 3
19602: PPUSH
19603: LD_INT 1
19605: PPUSH
19606: CALL_OW 322
// SetTech ( tech_sibloc , side , state_enabled ) ;
19610: LD_INT 19
19612: PPUSH
19613: LD_VAR 0 3
19617: PPUSH
19618: LD_INT 1
19620: PPUSH
19621: CALL_OW 322
// SetTech ( tech_sibcontam , side , state_enabled ) ;
19625: LD_INT 26
19627: PPUSH
19628: LD_VAR 0 3
19632: PPUSH
19633: LD_INT 1
19635: PPUSH
19636: CALL_OW 322
// SetTech ( tech_sib1 , side , state_enabled ) ;
19640: LD_INT 54
19642: PPUSH
19643: LD_VAR 0 3
19647: PPUSH
19648: LD_INT 1
19650: PPUSH
19651: CALL_OW 322
// SetTech ( tech_sib2 , side , state_enabled ) ;
19655: LD_INT 55
19657: PPUSH
19658: LD_VAR 0 3
19662: PPUSH
19663: LD_INT 1
19665: PPUSH
19666: CALL_OW 322
// for i = 0 to 39 do
19670: LD_ADDR_VAR 0 4
19674: PUSH
19675: DOUBLE
19676: LD_INT 0
19678: DEC
19679: ST_TO_ADDR
19680: LD_INT 39
19682: PUSH
19683: FOR_TO
19684: IFFALSE 19705
// SetRestrict ( i , side , true ) ;
19686: LD_VAR 0 4
19690: PPUSH
19691: LD_VAR 0 3
19695: PPUSH
19696: LD_INT 1
19698: PPUSH
19699: CALL_OW 324
19703: GO 19683
19705: POP
19706: POP
// end ; else
19707: GO 19784
19709: POP
// begin for i = 1 to 73 do
19710: LD_ADDR_VAR 0 4
19714: PUSH
19715: DOUBLE
19716: LD_INT 1
19718: DEC
19719: ST_TO_ADDR
19720: LD_INT 73
19722: PUSH
19723: FOR_TO
19724: IFFALSE 19745
// SetTech ( i , side , state_enabled ) ;
19726: LD_VAR 0 4
19730: PPUSH
19731: LD_VAR 0 3
19735: PPUSH
19736: LD_INT 1
19738: PPUSH
19739: CALL_OW 322
19743: GO 19723
19745: POP
19746: POP
// for i = 0 to 39 do
19747: LD_ADDR_VAR 0 4
19751: PUSH
19752: DOUBLE
19753: LD_INT 0
19755: DEC
19756: ST_TO_ADDR
19757: LD_INT 39
19759: PUSH
19760: FOR_TO
19761: IFFALSE 19782
// SetRestrict ( i , side , true ) ;
19763: LD_VAR 0 4
19767: PPUSH
19768: LD_VAR 0 3
19772: PPUSH
19773: LD_INT 1
19775: PPUSH
19776: CALL_OW 324
19780: GO 19760
19782: POP
19783: POP
// end ; end ; end ;
19784: GO 15789
19786: POP
19787: POP
// end ; end_of_file
19788: LD_VAR 0 2
19792: RET
// export function UpdateSpectatorBar ; var i , j , crates , oil , sib , people , base , bases ; begin
19793: LD_INT 0
19795: PPUSH
19796: PPUSH
19797: PPUSH
19798: PPUSH
19799: PPUSH
19800: PPUSH
19801: PPUSH
19802: PPUSH
19803: PPUSH
// for i := 1 to 8 do
19804: LD_ADDR_VAR 0 2
19808: PUSH
19809: DOUBLE
19810: LD_INT 1
19812: DEC
19813: ST_TO_ADDR
19814: LD_INT 8
19816: PUSH
19817: FOR_TO
19818: IFFALSE 20202
// begin if Side_Positions [ i ] then
19820: LD_EXP 19
19824: PUSH
19825: LD_VAR 0 2
19829: ARRAY
19830: IFFALSE 20200
// begin people := FilterAllUnits ( [ [ f_side , i ] , [ f_type , unit_human ] ] ) + 0 ;
19832: LD_ADDR_VAR 0 7
19836: PUSH
19837: LD_INT 22
19839: PUSH
19840: LD_VAR 0 2
19844: PUSH
19845: EMPTY
19846: LIST
19847: LIST
19848: PUSH
19849: LD_INT 21
19851: PUSH
19852: LD_INT 1
19854: PUSH
19855: EMPTY
19856: LIST
19857: LIST
19858: PUSH
19859: EMPTY
19860: LIST
19861: LIST
19862: PPUSH
19863: CALL_OW 69
19867: PUSH
19868: LD_INT 0
19870: PLUS
19871: ST_TO_ADDR
// bases := FilterAllUnits ( [ [ f_side , i ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) ;
19872: LD_ADDR_VAR 0 9
19876: PUSH
19877: LD_INT 22
19879: PUSH
19880: LD_VAR 0 2
19884: PUSH
19885: EMPTY
19886: LIST
19887: LIST
19888: PUSH
19889: LD_INT 2
19891: PUSH
19892: LD_INT 30
19894: PUSH
19895: LD_INT 0
19897: PUSH
19898: EMPTY
19899: LIST
19900: LIST
19901: PUSH
19902: LD_INT 30
19904: PUSH
19905: LD_INT 1
19907: PUSH
19908: EMPTY
19909: LIST
19910: LIST
19911: PUSH
19912: EMPTY
19913: LIST
19914: LIST
19915: LIST
19916: PUSH
19917: EMPTY
19918: LIST
19919: LIST
19920: PPUSH
19921: CALL_OW 69
19925: ST_TO_ADDR
// crates := 0 ;
19926: LD_ADDR_VAR 0 4
19930: PUSH
19931: LD_INT 0
19933: ST_TO_ADDR
// oil := 0 ;
19934: LD_ADDR_VAR 0 5
19938: PUSH
19939: LD_INT 0
19941: ST_TO_ADDR
// sib := 0 ;
19942: LD_ADDR_VAR 0 6
19946: PUSH
19947: LD_INT 0
19949: ST_TO_ADDR
// if bases then
19950: LD_VAR 0 9
19954: IFFALSE 20060
// begin for j in bases do
19956: LD_ADDR_VAR 0 3
19960: PUSH
19961: LD_VAR 0 9
19965: PUSH
19966: FOR_IN
19967: IFFALSE 20058
// begin base := GetBase ( j ) ;
19969: LD_ADDR_VAR 0 8
19973: PUSH
19974: LD_VAR 0 3
19978: PPUSH
19979: CALL_OW 274
19983: ST_TO_ADDR
// crates := crates + GetResourceType ( base , mat_cans ) ;
19984: LD_ADDR_VAR 0 4
19988: PUSH
19989: LD_VAR 0 4
19993: PUSH
19994: LD_VAR 0 8
19998: PPUSH
19999: LD_INT 1
20001: PPUSH
20002: CALL_OW 275
20006: PLUS
20007: ST_TO_ADDR
// oil := oil + GetResourceType ( base , mat_oil ) ;
20008: LD_ADDR_VAR 0 5
20012: PUSH
20013: LD_VAR 0 5
20017: PUSH
20018: LD_VAR 0 8
20022: PPUSH
20023: LD_INT 2
20025: PPUSH
20026: CALL_OW 275
20030: PLUS
20031: ST_TO_ADDR
// sib := sib + GetResourceType ( base , mat_siberit ) ;
20032: LD_ADDR_VAR 0 6
20036: PUSH
20037: LD_VAR 0 6
20041: PUSH
20042: LD_VAR 0 8
20046: PPUSH
20047: LD_INT 3
20049: PPUSH
20050: CALL_OW 275
20054: PLUS
20055: ST_TO_ADDR
// end ;
20056: GO 19966
20058: POP
20059: POP
// end ; ToLua ( setSpecText( & i & , & 2 & , & crates & ) ) ;
20060: LD_STRING setSpecText(
20062: PUSH
20063: LD_VAR 0 2
20067: STR
20068: PUSH
20069: LD_STRING ,
20071: STR
20072: PUSH
20073: LD_INT 2
20075: STR
20076: PUSH
20077: LD_STRING ,
20079: STR
20080: PUSH
20081: LD_VAR 0 4
20085: STR
20086: PUSH
20087: LD_STRING )
20089: STR
20090: PPUSH
20091: CALL_OW 559
// ToLua ( setSpecText( & i & , & 3 & , & oil & ) ) ;
20095: LD_STRING setSpecText(
20097: PUSH
20098: LD_VAR 0 2
20102: STR
20103: PUSH
20104: LD_STRING ,
20106: STR
20107: PUSH
20108: LD_INT 3
20110: STR
20111: PUSH
20112: LD_STRING ,
20114: STR
20115: PUSH
20116: LD_VAR 0 5
20120: STR
20121: PUSH
20122: LD_STRING )
20124: STR
20125: PPUSH
20126: CALL_OW 559
// ToLua ( setSpecText( & i & , & 4 & , & sib & ) ) ;
20130: LD_STRING setSpecText(
20132: PUSH
20133: LD_VAR 0 2
20137: STR
20138: PUSH
20139: LD_STRING ,
20141: STR
20142: PUSH
20143: LD_INT 4
20145: STR
20146: PUSH
20147: LD_STRING ,
20149: STR
20150: PUSH
20151: LD_VAR 0 6
20155: STR
20156: PUSH
20157: LD_STRING )
20159: STR
20160: PPUSH
20161: CALL_OW 559
// ToLua ( setSpecText( & i & , & 5 & , & people & ) ) ;
20165: LD_STRING setSpecText(
20167: PUSH
20168: LD_VAR 0 2
20172: STR
20173: PUSH
20174: LD_STRING ,
20176: STR
20177: PUSH
20178: LD_INT 5
20180: STR
20181: PUSH
20182: LD_STRING ,
20184: STR
20185: PUSH
20186: LD_VAR 0 7
20190: STR
20191: PUSH
20192: LD_STRING )
20194: STR
20195: PPUSH
20196: CALL_OW 559
// end ; end ;
20200: GO 19817
20202: POP
20203: POP
// end ;
20204: LD_VAR 0 1
20208: RET
// every 0 0$1 do
20209: GO 20211
20211: DISABLE
// begin ToLua ( setSpecLogoNumber( & 2 & , & 1 & ) ) ;
20212: LD_STRING setSpecLogoNumber(
20214: PUSH
20215: LD_INT 2
20217: STR
20218: PUSH
20219: LD_STRING ,
20221: STR
20222: PUSH
20223: LD_INT 1
20225: STR
20226: PUSH
20227: LD_STRING )
20229: STR
20230: PPUSH
20231: CALL_OW 559
// ToLua ( setSpecLogoNumber( & 3 & , & 2 & ) ) ;
20235: LD_STRING setSpecLogoNumber(
20237: PUSH
20238: LD_INT 3
20240: STR
20241: PUSH
20242: LD_STRING ,
20244: STR
20245: PUSH
20246: LD_INT 2
20248: STR
20249: PUSH
20250: LD_STRING )
20252: STR
20253: PPUSH
20254: CALL_OW 559
// ToLua ( setSpecLogoNumber( & 4 & , & 3 & ) ) ;
20258: LD_STRING setSpecLogoNumber(
20260: PUSH
20261: LD_INT 4
20263: STR
20264: PUSH
20265: LD_STRING ,
20267: STR
20268: PUSH
20269: LD_INT 3
20271: STR
20272: PUSH
20273: LD_STRING )
20275: STR
20276: PPUSH
20277: CALL_OW 559
// ToLua ( setSpecLogoNumber( & 5 & , & 4 & ) ) ;
20281: LD_STRING setSpecLogoNumber(
20283: PUSH
20284: LD_INT 5
20286: STR
20287: PUSH
20288: LD_STRING ,
20290: STR
20291: PUSH
20292: LD_INT 4
20294: STR
20295: PUSH
20296: LD_STRING )
20298: STR
20299: PPUSH
20300: CALL_OW 559
// end ;
20304: END
// every 20 + 0 0$5 trigger FilterAllUnits ( [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ) do
20305: LD_INT 2
20307: PUSH
20308: LD_INT 30
20310: PUSH
20311: LD_INT 0
20313: PUSH
20314: EMPTY
20315: LIST
20316: LIST
20317: PUSH
20318: LD_INT 30
20320: PUSH
20321: LD_INT 1
20323: PUSH
20324: EMPTY
20325: LIST
20326: LIST
20327: PUSH
20328: EMPTY
20329: LIST
20330: LIST
20331: LIST
20332: PPUSH
20333: CALL_OW 69
20337: IFFALSE 20347
20339: GO 20341
20341: DISABLE
// begin enable ;
20342: ENABLE
// UpdateSpectatorBar ;
20343: CALL 19793 0 0
// end ;
20347: END
